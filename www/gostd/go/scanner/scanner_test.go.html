<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html" class="current">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7109600">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7109655">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7109709">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7109760">package</span>&nbsp;<span class="ident" id="7109768">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109777">import</span>&nbsp;<span class="op" id="7109784">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7109787">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7109799">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7109812">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7109818">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7109835">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7109846">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7109856">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7109859">var</span>&nbsp;<span class="ident" id="7109863">fset</span>&nbsp;<span class="op" id="7109868">=</span>&nbsp;<span class="ident" id="7109870">token</span><span class="op" id="7109875">.</span><span class="ident" id="7109876">NewFileSet</span><span class="op" id="7109886">(</span><span class="op" id="7109887">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7109890">const</span>&nbsp;<span class="comment" id="7109896">/*&nbsp;class&nbsp;*/</span>&nbsp;<span class="op" id="7109908">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109911">special</span>&nbsp;<span class="op" id="7109919">=</span>&nbsp;<span class="ident" id="7109921">iota</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109927">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109936">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7109946">keyword</span><br>
<span class="lineno"></span><span class="op" id="7109954">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7109957">func</span>&nbsp;<span class="ident" id="7109962">tokenclass</span><span class="op" id="7109972">(</span><span class="ident" id="7109973">tok</span>&nbsp;<span class="ident" id="7109977">token</span><span class="op" id="7109982">.</span><span class="ident" id="7109983">Token</span><span class="op" id="7109988">)</span>&nbsp;<span class="builtintype" id="7109990">int</span>&nbsp;<span class="op" id="7109994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7109997">switch</span>&nbsp;<span class="op" id="7110004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110007">case</span>&nbsp;<span class="ident" id="7110012">tok</span><span class="op" id="7110015">.</span><span class="ident" id="7110016">IsLiteral</span><span class="op" id="7110025">(</span><span class="op" id="7110026">)</span><span class="op" id="7110027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110031">return</span>&nbsp;<span class="ident" id="7110038">literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110047">case</span>&nbsp;<span class="ident" id="7110052">tok</span><span class="op" id="7110055">.</span><span class="ident" id="7110056">IsOperator</span><span class="op" id="7110066">(</span><span class="op" id="7110067">)</span><span class="op" id="7110068">:</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110072">return</span>&nbsp;<span class="ident" id="7110079">operator</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110089">case</span>&nbsp;<span class="ident" id="7110094">tok</span><span class="op" id="7110097">.</span><span class="ident" id="7110098">IsKeyword</span><span class="op" id="7110107">(</span><span class="op" id="7110108">)</span><span class="op" id="7110109">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110113">return</span>&nbsp;<span class="ident" id="7110120">keyword</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7110132">return</span>&nbsp;<span class="ident" id="7110139">special</span><br>
<span class="lineno">35</span><span class="op" id="7110147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7110150">type</span>&nbsp;<span class="ident" id="7110155">elt</span>&nbsp;<span class="keyword" id="7110159">struct</span>&nbsp;<span class="op" id="7110166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110169">tok</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7110175">token</span><span class="op" id="7110180">.</span><span class="ident" id="7110181">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110188">lit</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7110194">string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7110202">class</span>&nbsp;<span class="builtintype" id="7110208">int</span><br>
<span class="lineno"></span><span class="op" id="7110212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7110215">var</span>&nbsp;<span class="ident" id="7110219">tokens</span>&nbsp;<span class="op" id="7110226">=</span>&nbsp;<span class="op" id="7110228">[</span><span class="op" id="7110229">...</span><span class="op" id="7110232">]</span><span class="ident" id="7110233">elt</span><span class="op" id="7110236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7110239">//&nbsp;Special&nbsp;tokens</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110258">{</span><span class="ident" id="7110259">token</span><span class="op" id="7110264">.</span><span class="ident" id="7110265">COMMENT</span><span class="op" id="7110272">,</span>&nbsp;<span class="string" id="7110274">&#34;/*&nbsp;a&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="7110291">,</span>&nbsp;<span class="ident" id="7110293">special</span><span class="op" id="7110300">}</span><span class="op" id="7110301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110304">{</span><span class="ident" id="7110305">token</span><span class="op" id="7110310">.</span><span class="ident" id="7110311">COMMENT</span><span class="op" id="7110318">,</span>&nbsp;<span class="string" id="7110320">&#34;//&nbsp;a&nbsp;comment&nbsp;\n&#34;</span><span class="op" id="7110337">,</span>&nbsp;<span class="ident" id="7110339">special</span><span class="op" id="7110346">}</span><span class="op" id="7110347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110350">{</span><span class="ident" id="7110351">token</span><span class="op" id="7110356">.</span><span class="ident" id="7110357">COMMENT</span><span class="op" id="7110364">,</span>&nbsp;<span class="string" id="7110366">&#34;/*\r*/&#34;</span><span class="op" id="7110374">,</span>&nbsp;<span class="ident" id="7110376">special</span><span class="op" id="7110383">}</span><span class="op" id="7110384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110387">{</span><span class="ident" id="7110388">token</span><span class="op" id="7110393">.</span><span class="ident" id="7110394">COMMENT</span><span class="op" id="7110401">,</span>&nbsp;<span class="string" id="7110403">&#34;//\r\n&#34;</span><span class="op" id="7110411">,</span>&nbsp;<span class="ident" id="7110413">special</span><span class="op" id="7110420">}</span><span class="op" id="7110421">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7110425">//&nbsp;Identifiers&nbsp;and&nbsp;basic&nbsp;type&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110465">{</span><span class="ident" id="7110466">token</span><span class="op" id="7110471">.</span><span class="ident" id="7110472">IDENT</span><span class="op" id="7110477">,</span>&nbsp;<span class="string" id="7110479">&#34;foobar&#34;</span><span class="op" id="7110487">,</span>&nbsp;<span class="ident" id="7110489">literal</span><span class="op" id="7110496">}</span><span class="op" id="7110497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110500">{</span><span class="ident" id="7110501">token</span><span class="op" id="7110506">.</span><span class="ident" id="7110507">IDENT</span><span class="op" id="7110512">,</span>&nbsp;<span class="string" id="7110514">&#34;a۰۱۸&#34;</span><span class="op" id="7110523">,</span>&nbsp;<span class="ident" id="7110525">literal</span><span class="op" id="7110532">}</span><span class="op" id="7110533">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110536">{</span><span class="ident" id="7110537">token</span><span class="op" id="7110542">.</span><span class="ident" id="7110543">IDENT</span><span class="op" id="7110548">,</span>&nbsp;<span class="string" id="7110550">&#34;foo६४&#34;</span><span class="op" id="7110561">,</span>&nbsp;<span class="ident" id="7110563">literal</span><span class="op" id="7110570">}</span><span class="op" id="7110571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110574">{</span><span class="ident" id="7110575">token</span><span class="op" id="7110580">.</span><span class="ident" id="7110581">IDENT</span><span class="op" id="7110586">,</span>&nbsp;<span class="string" id="7110588">&#34;bar９８７６&#34;</span><span class="op" id="7110605">,</span>&nbsp;<span class="ident" id="7110607">literal</span><span class="op" id="7110614">}</span><span class="op" id="7110615">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110618">{</span><span class="ident" id="7110619">token</span><span class="op" id="7110624">.</span><span class="ident" id="7110625">IDENT</span><span class="op" id="7110630">,</span>&nbsp;<span class="string" id="7110632">&#34;ŝ&#34;</span><span class="op" id="7110636">,</span>&nbsp;<span class="ident" id="7110638">literal</span><span class="op" id="7110645">}</span><span class="op" id="7110646">,</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7110651">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110676">{</span><span class="ident" id="7110677">token</span><span class="op" id="7110682">.</span><span class="ident" id="7110683">IDENT</span><span class="op" id="7110688">,</span>&nbsp;<span class="string" id="7110690">&#34;ŝfoo&#34;</span><span class="op" id="7110697">,</span>&nbsp;<span class="ident" id="7110699">literal</span><span class="op" id="7110706">}</span><span class="op" id="7110707">,</span>&nbsp;<span class="comment" id="7110709">//&nbsp;was&nbsp;bug&nbsp;(issue&nbsp;4000)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110734">{</span><span class="ident" id="7110735">token</span><span class="op" id="7110740">.</span><span class="ident" id="7110741">INT</span><span class="op" id="7110744">,</span>&nbsp;<span class="string" id="7110746">&#34;0&#34;</span><span class="op" id="7110749">,</span>&nbsp;<span class="ident" id="7110751">literal</span><span class="op" id="7110758">}</span><span class="op" id="7110759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110762">{</span><span class="ident" id="7110763">token</span><span class="op" id="7110768">.</span><span class="ident" id="7110769">INT</span><span class="op" id="7110772">,</span>&nbsp;<span class="string" id="7110774">&#34;1&#34;</span><span class="op" id="7110777">,</span>&nbsp;<span class="ident" id="7110779">literal</span><span class="op" id="7110786">}</span><span class="op" id="7110787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110790">{</span><span class="ident" id="7110791">token</span><span class="op" id="7110796">.</span><span class="ident" id="7110797">INT</span><span class="op" id="7110800">,</span>&nbsp;<span class="string" id="7110802">&#34;123456789012345678890&#34;</span><span class="op" id="7110825">,</span>&nbsp;<span class="ident" id="7110827">literal</span><span class="op" id="7110834">}</span><span class="op" id="7110835">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110838">{</span><span class="ident" id="7110839">token</span><span class="op" id="7110844">.</span><span class="ident" id="7110845">INT</span><span class="op" id="7110848">,</span>&nbsp;<span class="string" id="7110850">&#34;01234567&#34;</span><span class="op" id="7110860">,</span>&nbsp;<span class="ident" id="7110862">literal</span><span class="op" id="7110869">}</span><span class="op" id="7110870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110873">{</span><span class="ident" id="7110874">token</span><span class="op" id="7110879">.</span><span class="ident" id="7110880">INT</span><span class="op" id="7110883">,</span>&nbsp;<span class="string" id="7110885">&#34;0xcafebabe&#34;</span><span class="op" id="7110897">,</span>&nbsp;<span class="ident" id="7110899">literal</span><span class="op" id="7110906">}</span><span class="op" id="7110907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110910">{</span><span class="ident" id="7110911">token</span><span class="op" id="7110916">.</span><span class="ident" id="7110917">FLOAT</span><span class="op" id="7110922">,</span>&nbsp;<span class="string" id="7110924">&#34;0.&#34;</span><span class="op" id="7110928">,</span>&nbsp;<span class="ident" id="7110930">literal</span><span class="op" id="7110937">}</span><span class="op" id="7110938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110941">{</span><span class="ident" id="7110942">token</span><span class="op" id="7110947">.</span><span class="ident" id="7110948">FLOAT</span><span class="op" id="7110953">,</span>&nbsp;<span class="string" id="7110955">&#34;.0&#34;</span><span class="op" id="7110959">,</span>&nbsp;<span class="ident" id="7110961">literal</span><span class="op" id="7110968">}</span><span class="op" id="7110969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7110972">{</span><span class="ident" id="7110973">token</span><span class="op" id="7110978">.</span><span class="ident" id="7110979">FLOAT</span><span class="op" id="7110984">,</span>&nbsp;<span class="string" id="7110986">&#34;3.14159265&#34;</span><span class="op" id="7110998">,</span>&nbsp;<span class="ident" id="7111000">literal</span><span class="op" id="7111007">}</span><span class="op" id="7111008">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111011">{</span><span class="ident" id="7111012">token</span><span class="op" id="7111017">.</span><span class="ident" id="7111018">FLOAT</span><span class="op" id="7111023">,</span>&nbsp;<span class="string" id="7111025">&#34;1e0&#34;</span><span class="op" id="7111030">,</span>&nbsp;<span class="ident" id="7111032">literal</span><span class="op" id="7111039">}</span><span class="op" id="7111040">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111043">{</span><span class="ident" id="7111044">token</span><span class="op" id="7111049">.</span><span class="ident" id="7111050">FLOAT</span><span class="op" id="7111055">,</span>&nbsp;<span class="string" id="7111057">&#34;1e+100&#34;</span><span class="op" id="7111065">,</span>&nbsp;<span class="ident" id="7111067">literal</span><span class="op" id="7111074">}</span><span class="op" id="7111075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111078">{</span><span class="ident" id="7111079">token</span><span class="op" id="7111084">.</span><span class="ident" id="7111085">FLOAT</span><span class="op" id="7111090">,</span>&nbsp;<span class="string" id="7111092">&#34;1e-100&#34;</span><span class="op" id="7111100">,</span>&nbsp;<span class="ident" id="7111102">literal</span><span class="op" id="7111109">}</span><span class="op" id="7111110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111113">{</span><span class="ident" id="7111114">token</span><span class="op" id="7111119">.</span><span class="ident" id="7111120">FLOAT</span><span class="op" id="7111125">,</span>&nbsp;<span class="string" id="7111127">&#34;2.71828e-1000&#34;</span><span class="op" id="7111142">,</span>&nbsp;<span class="ident" id="7111144">literal</span><span class="op" id="7111151">}</span><span class="op" id="7111152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111155">{</span><span class="ident" id="7111156">token</span><span class="op" id="7111161">.</span><span class="ident" id="7111162">IMAG</span><span class="op" id="7111166">,</span>&nbsp;<span class="string" id="7111168">&#34;0i&#34;</span><span class="op" id="7111172">,</span>&nbsp;<span class="ident" id="7111174">literal</span><span class="op" id="7111181">}</span><span class="op" id="7111182">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111185">{</span><span class="ident" id="7111186">token</span><span class="op" id="7111191">.</span><span class="ident" id="7111192">IMAG</span><span class="op" id="7111196">,</span>&nbsp;<span class="string" id="7111198">&#34;1i&#34;</span><span class="op" id="7111202">,</span>&nbsp;<span class="ident" id="7111204">literal</span><span class="op" id="7111211">}</span><span class="op" id="7111212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111215">{</span><span class="ident" id="7111216">token</span><span class="op" id="7111221">.</span><span class="ident" id="7111222">IMAG</span><span class="op" id="7111226">,</span>&nbsp;<span class="string" id="7111228">&#34;012345678901234567889i&#34;</span><span class="op" id="7111252">,</span>&nbsp;<span class="ident" id="7111254">literal</span><span class="op" id="7111261">}</span><span class="op" id="7111262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111265">{</span><span class="ident" id="7111266">token</span><span class="op" id="7111271">.</span><span class="ident" id="7111272">IMAG</span><span class="op" id="7111276">,</span>&nbsp;<span class="string" id="7111278">&#34;123456789012345678890i&#34;</span><span class="op" id="7111302">,</span>&nbsp;<span class="ident" id="7111304">literal</span><span class="op" id="7111311">}</span><span class="op" id="7111312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111315">{</span><span class="ident" id="7111316">token</span><span class="op" id="7111321">.</span><span class="ident" id="7111322">IMAG</span><span class="op" id="7111326">,</span>&nbsp;<span class="string" id="7111328">&#34;0.i&#34;</span><span class="op" id="7111333">,</span>&nbsp;<span class="ident" id="7111335">literal</span><span class="op" id="7111342">}</span><span class="op" id="7111343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111346">{</span><span class="ident" id="7111347">token</span><span class="op" id="7111352">.</span><span class="ident" id="7111353">IMAG</span><span class="op" id="7111357">,</span>&nbsp;<span class="string" id="7111359">&#34;.0i&#34;</span><span class="op" id="7111364">,</span>&nbsp;<span class="ident" id="7111366">literal</span><span class="op" id="7111373">}</span><span class="op" id="7111374">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111377">{</span><span class="ident" id="7111378">token</span><span class="op" id="7111383">.</span><span class="ident" id="7111384">IMAG</span><span class="op" id="7111388">,</span>&nbsp;<span class="string" id="7111390">&#34;3.14159265i&#34;</span><span class="op" id="7111403">,</span>&nbsp;<span class="ident" id="7111405">literal</span><span class="op" id="7111412">}</span><span class="op" id="7111413">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111416">{</span><span class="ident" id="7111417">token</span><span class="op" id="7111422">.</span><span class="ident" id="7111423">IMAG</span><span class="op" id="7111427">,</span>&nbsp;<span class="string" id="7111429">&#34;1e0i&#34;</span><span class="op" id="7111435">,</span>&nbsp;<span class="ident" id="7111437">literal</span><span class="op" id="7111444">}</span><span class="op" id="7111445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111448">{</span><span class="ident" id="7111449">token</span><span class="op" id="7111454">.</span><span class="ident" id="7111455">IMAG</span><span class="op" id="7111459">,</span>&nbsp;<span class="string" id="7111461">&#34;1e+100i&#34;</span><span class="op" id="7111470">,</span>&nbsp;<span class="ident" id="7111472">literal</span><span class="op" id="7111479">}</span><span class="op" id="7111480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111483">{</span><span class="ident" id="7111484">token</span><span class="op" id="7111489">.</span><span class="ident" id="7111490">IMAG</span><span class="op" id="7111494">,</span>&nbsp;<span class="string" id="7111496">&#34;1e-100i&#34;</span><span class="op" id="7111505">,</span>&nbsp;<span class="ident" id="7111507">literal</span><span class="op" id="7111514">}</span><span class="op" id="7111515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111518">{</span><span class="ident" id="7111519">token</span><span class="op" id="7111524">.</span><span class="ident" id="7111525">IMAG</span><span class="op" id="7111529">,</span>&nbsp;<span class="string" id="7111531">&#34;2.71828e-1000i&#34;</span><span class="op" id="7111547">,</span>&nbsp;<span class="ident" id="7111549">literal</span><span class="op" id="7111556">}</span><span class="op" id="7111557">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111560">{</span><span class="ident" id="7111561">token</span><span class="op" id="7111566">.</span><span class="ident" id="7111567">CHAR</span><span class="op" id="7111571">,</span>&nbsp;<span class="string" id="7111573">&#34;&#39;a&#39;&#34;</span><span class="op" id="7111578">,</span>&nbsp;<span class="ident" id="7111580">literal</span><span class="op" id="7111587">}</span><span class="op" id="7111588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111591">{</span><span class="ident" id="7111592">token</span><span class="op" id="7111597">.</span><span class="ident" id="7111598">CHAR</span><span class="op" id="7111602">,</span>&nbsp;<span class="string" id="7111604">&#34;&#39;\\000&#39;&#34;</span><span class="op" id="7111613">,</span>&nbsp;<span class="ident" id="7111615">literal</span><span class="op" id="7111622">}</span><span class="op" id="7111623">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111626">{</span><span class="ident" id="7111627">token</span><span class="op" id="7111632">.</span><span class="ident" id="7111633">CHAR</span><span class="op" id="7111637">,</span>&nbsp;<span class="string" id="7111639">&#34;&#39;\\xFF&#39;&#34;</span><span class="op" id="7111648">,</span>&nbsp;<span class="ident" id="7111650">literal</span><span class="op" id="7111657">}</span><span class="op" id="7111658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111661">{</span><span class="ident" id="7111662">token</span><span class="op" id="7111667">.</span><span class="ident" id="7111668">CHAR</span><span class="op" id="7111672">,</span>&nbsp;<span class="string" id="7111674">&#34;&#39;\\uff16&#39;&#34;</span><span class="op" id="7111685">,</span>&nbsp;<span class="ident" id="7111687">literal</span><span class="op" id="7111694">}</span><span class="op" id="7111695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111698">{</span><span class="ident" id="7111699">token</span><span class="op" id="7111704">.</span><span class="ident" id="7111705">CHAR</span><span class="op" id="7111709">,</span>&nbsp;<span class="string" id="7111711">&#34;&#39;\\U0000ff16&#39;&#34;</span><span class="op" id="7111726">,</span>&nbsp;<span class="ident" id="7111728">literal</span><span class="op" id="7111735">}</span><span class="op" id="7111736">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111739">{</span><span class="ident" id="7111740">token</span><span class="op" id="7111745">.</span><span class="ident" id="7111746">STRING</span><span class="op" id="7111752">,</span>&nbsp;<span class="string" id="7111754">&#34;`foobar`&#34;</span><span class="op" id="7111764">,</span>&nbsp;<span class="ident" id="7111766">literal</span><span class="op" id="7111773">}</span><span class="op" id="7111774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111777">{</span><span class="ident" id="7111778">token</span><span class="op" id="7111783">.</span><span class="ident" id="7111784">STRING</span><span class="op" id="7111790">,</span>&nbsp;<span class="string" id="7111792">&#34;`&#34;</span>&nbsp;<span class="op" id="7111796">+</span>&nbsp;<span class="string" id="7111798">`foo<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bar`</span>&nbsp;<span class="op" id="7111833">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7111837">&#34;`&#34;</span><span class="op" id="7111840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7111844">literal</span><span class="op" id="7111851">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111854">}</span><span class="op" id="7111855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111858">{</span><span class="ident" id="7111859">token</span><span class="op" id="7111864">.</span><span class="ident" id="7111865">STRING</span><span class="op" id="7111871">,</span>&nbsp;<span class="string" id="7111873">&#34;`\r`&#34;</span><span class="op" id="7111879">,</span>&nbsp;<span class="ident" id="7111881">literal</span><span class="op" id="7111888">}</span><span class="op" id="7111889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111892">{</span><span class="ident" id="7111893">token</span><span class="op" id="7111898">.</span><span class="ident" id="7111899">STRING</span><span class="op" id="7111905">,</span>&nbsp;<span class="string" id="7111907">&#34;`foo\r\nbar`&#34;</span><span class="op" id="7111921">,</span>&nbsp;<span class="ident" id="7111923">literal</span><span class="op" id="7111930">}</span><span class="op" id="7111931">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7111935">//&nbsp;Operators&nbsp;and&nbsp;delimiters</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111964">{</span><span class="ident" id="7111965">token</span><span class="op" id="7111970">.</span><span class="ident" id="7111971">ADD</span><span class="op" id="7111974">,</span>&nbsp;<span class="string" id="7111976">&#34;+&#34;</span><span class="op" id="7111979">,</span>&nbsp;<span class="ident" id="7111981">operator</span><span class="op" id="7111989">}</span><span class="op" id="7111990">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7111993">{</span><span class="ident" id="7111994">token</span><span class="op" id="7111999">.</span><span class="ident" id="7112000">SUB</span><span class="op" id="7112003">,</span>&nbsp;<span class="string" id="7112005">&#34;-&#34;</span><span class="op" id="7112008">,</span>&nbsp;<span class="ident" id="7112010">operator</span><span class="op" id="7112018">}</span><span class="op" id="7112019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112022">{</span><span class="ident" id="7112023">token</span><span class="op" id="7112028">.</span><span class="ident" id="7112029">MUL</span><span class="op" id="7112032">,</span>&nbsp;<span class="string" id="7112034">&#34;*&#34;</span><span class="op" id="7112037">,</span>&nbsp;<span class="ident" id="7112039">operator</span><span class="op" id="7112047">}</span><span class="op" id="7112048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112051">{</span><span class="ident" id="7112052">token</span><span class="op" id="7112057">.</span><span class="ident" id="7112058">QUO</span><span class="op" id="7112061">,</span>&nbsp;<span class="string" id="7112063">&#34;/&#34;</span><span class="op" id="7112066">,</span>&nbsp;<span class="ident" id="7112068">operator</span><span class="op" id="7112076">}</span><span class="op" id="7112077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112080">{</span><span class="ident" id="7112081">token</span><span class="op" id="7112086">.</span><span class="ident" id="7112087">REM</span><span class="op" id="7112090">,</span>&nbsp;<span class="string" id="7112092">&#34;%&#34;</span><span class="op" id="7112095">,</span>&nbsp;<span class="ident" id="7112097">operator</span><span class="op" id="7112105">}</span><span class="op" id="7112106">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112110">{</span><span class="ident" id="7112111">token</span><span class="op" id="7112116">.</span><span class="ident" id="7112117">AND</span><span class="op" id="7112120">,</span>&nbsp;<span class="string" id="7112122">&#34;&amp;&#34;</span><span class="op" id="7112125">,</span>&nbsp;<span class="ident" id="7112127">operator</span><span class="op" id="7112135">}</span><span class="op" id="7112136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112139">{</span><span class="ident" id="7112140">token</span><span class="op" id="7112145">.</span><span class="ident" id="7112146">OR</span><span class="op" id="7112148">,</span>&nbsp;<span class="string" id="7112150">&#34;|&#34;</span><span class="op" id="7112153">,</span>&nbsp;<span class="ident" id="7112155">operator</span><span class="op" id="7112163">}</span><span class="op" id="7112164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112167">{</span><span class="ident" id="7112168">token</span><span class="op" id="7112173">.</span><span class="ident" id="7112174">XOR</span><span class="op" id="7112177">,</span>&nbsp;<span class="string" id="7112179">&#34;^&#34;</span><span class="op" id="7112182">,</span>&nbsp;<span class="ident" id="7112184">operator</span><span class="op" id="7112192">}</span><span class="op" id="7112193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112196">{</span><span class="ident" id="7112197">token</span><span class="op" id="7112202">.</span><span class="ident" id="7112203">SHL</span><span class="op" id="7112206">,</span>&nbsp;<span class="string" id="7112208">&#34;&lt;&lt;&#34;</span><span class="op" id="7112212">,</span>&nbsp;<span class="ident" id="7112214">operator</span><span class="op" id="7112222">}</span><span class="op" id="7112223">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112226">{</span><span class="ident" id="7112227">token</span><span class="op" id="7112232">.</span><span class="ident" id="7112233">SHR</span><span class="op" id="7112236">,</span>&nbsp;<span class="string" id="7112238">&#34;&gt;&gt;&#34;</span><span class="op" id="7112242">,</span>&nbsp;<span class="ident" id="7112244">operator</span><span class="op" id="7112252">}</span><span class="op" id="7112253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112256">{</span><span class="ident" id="7112257">token</span><span class="op" id="7112262">.</span><span class="ident" id="7112263">AND_NOT</span><span class="op" id="7112270">,</span>&nbsp;<span class="string" id="7112272">&#34;&amp;^&#34;</span><span class="op" id="7112276">,</span>&nbsp;<span class="ident" id="7112278">operator</span><span class="op" id="7112286">}</span><span class="op" id="7112287">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112291">{</span><span class="ident" id="7112292">token</span><span class="op" id="7112297">.</span><span class="ident" id="7112298">ADD_ASSIGN</span><span class="op" id="7112308">,</span>&nbsp;<span class="string" id="7112310">&#34;+=&#34;</span><span class="op" id="7112314">,</span>&nbsp;<span class="ident" id="7112316">operator</span><span class="op" id="7112324">}</span><span class="op" id="7112325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112328">{</span><span class="ident" id="7112329">token</span><span class="op" id="7112334">.</span><span class="ident" id="7112335">SUB_ASSIGN</span><span class="op" id="7112345">,</span>&nbsp;<span class="string" id="7112347">&#34;-=&#34;</span><span class="op" id="7112351">,</span>&nbsp;<span class="ident" id="7112353">operator</span><span class="op" id="7112361">}</span><span class="op" id="7112362">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112365">{</span><span class="ident" id="7112366">token</span><span class="op" id="7112371">.</span><span class="ident" id="7112372">MUL_ASSIGN</span><span class="op" id="7112382">,</span>&nbsp;<span class="string" id="7112384">&#34;*=&#34;</span><span class="op" id="7112388">,</span>&nbsp;<span class="ident" id="7112390">operator</span><span class="op" id="7112398">}</span><span class="op" id="7112399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112402">{</span><span class="ident" id="7112403">token</span><span class="op" id="7112408">.</span><span class="ident" id="7112409">QUO_ASSIGN</span><span class="op" id="7112419">,</span>&nbsp;<span class="string" id="7112421">&#34;/=&#34;</span><span class="op" id="7112425">,</span>&nbsp;<span class="ident" id="7112427">operator</span><span class="op" id="7112435">}</span><span class="op" id="7112436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112439">{</span><span class="ident" id="7112440">token</span><span class="op" id="7112445">.</span><span class="ident" id="7112446">REM_ASSIGN</span><span class="op" id="7112456">,</span>&nbsp;<span class="string" id="7112458">&#34;%=&#34;</span><span class="op" id="7112462">,</span>&nbsp;<span class="ident" id="7112464">operator</span><span class="op" id="7112472">}</span><span class="op" id="7112473">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112477">{</span><span class="ident" id="7112478">token</span><span class="op" id="7112483">.</span><span class="ident" id="7112484">AND_ASSIGN</span><span class="op" id="7112494">,</span>&nbsp;<span class="string" id="7112496">&#34;&amp;=&#34;</span><span class="op" id="7112500">,</span>&nbsp;<span class="ident" id="7112502">operator</span><span class="op" id="7112510">}</span><span class="op" id="7112511">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112514">{</span><span class="ident" id="7112515">token</span><span class="op" id="7112520">.</span><span class="ident" id="7112521">OR_ASSIGN</span><span class="op" id="7112530">,</span>&nbsp;<span class="string" id="7112532">&#34;|=&#34;</span><span class="op" id="7112536">,</span>&nbsp;<span class="ident" id="7112538">operator</span><span class="op" id="7112546">}</span><span class="op" id="7112547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112550">{</span><span class="ident" id="7112551">token</span><span class="op" id="7112556">.</span><span class="ident" id="7112557">XOR_ASSIGN</span><span class="op" id="7112567">,</span>&nbsp;<span class="string" id="7112569">&#34;^=&#34;</span><span class="op" id="7112573">,</span>&nbsp;<span class="ident" id="7112575">operator</span><span class="op" id="7112583">}</span><span class="op" id="7112584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112587">{</span><span class="ident" id="7112588">token</span><span class="op" id="7112593">.</span><span class="ident" id="7112594">SHL_ASSIGN</span><span class="op" id="7112604">,</span>&nbsp;<span class="string" id="7112606">&#34;&lt;&lt;=&#34;</span><span class="op" id="7112611">,</span>&nbsp;<span class="ident" id="7112613">operator</span><span class="op" id="7112621">}</span><span class="op" id="7112622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112625">{</span><span class="ident" id="7112626">token</span><span class="op" id="7112631">.</span><span class="ident" id="7112632">SHR_ASSIGN</span><span class="op" id="7112642">,</span>&nbsp;<span class="string" id="7112644">&#34;&gt;&gt;=&#34;</span><span class="op" id="7112649">,</span>&nbsp;<span class="ident" id="7112651">operator</span><span class="op" id="7112659">}</span><span class="op" id="7112660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112663">{</span><span class="ident" id="7112664">token</span><span class="op" id="7112669">.</span><span class="ident" id="7112670">AND_NOT_ASSIGN</span><span class="op" id="7112684">,</span>&nbsp;<span class="string" id="7112686">&#34;&amp;^=&#34;</span><span class="op" id="7112691">,</span>&nbsp;<span class="ident" id="7112693">operator</span><span class="op" id="7112701">}</span><span class="op" id="7112702">,</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112706">{</span><span class="ident" id="7112707">token</span><span class="op" id="7112712">.</span><span class="ident" id="7112713">LAND</span><span class="op" id="7112717">,</span>&nbsp;<span class="string" id="7112719">&#34;&amp;&amp;&#34;</span><span class="op" id="7112723">,</span>&nbsp;<span class="ident" id="7112725">operator</span><span class="op" id="7112733">}</span><span class="op" id="7112734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112737">{</span><span class="ident" id="7112738">token</span><span class="op" id="7112743">.</span><span class="ident" id="7112744">LOR</span><span class="op" id="7112747">,</span>&nbsp;<span class="string" id="7112749">&#34;||&#34;</span><span class="op" id="7112753">,</span>&nbsp;<span class="ident" id="7112755">operator</span><span class="op" id="7112763">}</span><span class="op" id="7112764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112767">{</span><span class="ident" id="7112768">token</span><span class="op" id="7112773">.</span><span class="ident" id="7112774">ARROW</span><span class="op" id="7112779">,</span>&nbsp;<span class="string" id="7112781">&#34;&lt;-&#34;</span><span class="op" id="7112785">,</span>&nbsp;<span class="ident" id="7112787">operator</span><span class="op" id="7112795">}</span><span class="op" id="7112796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112799">{</span><span class="ident" id="7112800">token</span><span class="op" id="7112805">.</span><span class="ident" id="7112806">INC</span><span class="op" id="7112809">,</span>&nbsp;<span class="string" id="7112811">&#34;++&#34;</span><span class="op" id="7112815">,</span>&nbsp;<span class="ident" id="7112817">operator</span><span class="op" id="7112825">}</span><span class="op" id="7112826">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112829">{</span><span class="ident" id="7112830">token</span><span class="op" id="7112835">.</span><span class="ident" id="7112836">DEC</span><span class="op" id="7112839">,</span>&nbsp;<span class="string" id="7112841">&#34;--&#34;</span><span class="op" id="7112845">,</span>&nbsp;<span class="ident" id="7112847">operator</span><span class="op" id="7112855">}</span><span class="op" id="7112856">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112860">{</span><span class="ident" id="7112861">token</span><span class="op" id="7112866">.</span><span class="ident" id="7112867">EQL</span><span class="op" id="7112870">,</span>&nbsp;<span class="string" id="7112872">&#34;==&#34;</span><span class="op" id="7112876">,</span>&nbsp;<span class="ident" id="7112878">operator</span><span class="op" id="7112886">}</span><span class="op" id="7112887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112890">{</span><span class="ident" id="7112891">token</span><span class="op" id="7112896">.</span><span class="ident" id="7112897">LSS</span><span class="op" id="7112900">,</span>&nbsp;<span class="string" id="7112902">&#34;&lt;&#34;</span><span class="op" id="7112905">,</span>&nbsp;<span class="ident" id="7112907">operator</span><span class="op" id="7112915">}</span><span class="op" id="7112916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112919">{</span><span class="ident" id="7112920">token</span><span class="op" id="7112925">.</span><span class="ident" id="7112926">GTR</span><span class="op" id="7112929">,</span>&nbsp;<span class="string" id="7112931">&#34;&gt;&#34;</span><span class="op" id="7112934">,</span>&nbsp;<span class="ident" id="7112936">operator</span><span class="op" id="7112944">}</span><span class="op" id="7112945">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112948">{</span><span class="ident" id="7112949">token</span><span class="op" id="7112954">.</span><span class="ident" id="7112955">ASSIGN</span><span class="op" id="7112961">,</span>&nbsp;<span class="string" id="7112963">&#34;=&#34;</span><span class="op" id="7112966">,</span>&nbsp;<span class="ident" id="7112968">operator</span><span class="op" id="7112976">}</span><span class="op" id="7112977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7112980">{</span><span class="ident" id="7112981">token</span><span class="op" id="7112986">.</span><span class="ident" id="7112987">NOT</span><span class="op" id="7112990">,</span>&nbsp;<span class="string" id="7112992">&#34;!&#34;</span><span class="op" id="7112995">,</span>&nbsp;<span class="ident" id="7112997">operator</span><span class="op" id="7113005">}</span><span class="op" id="7113006">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113010">{</span><span class="ident" id="7113011">token</span><span class="op" id="7113016">.</span><span class="ident" id="7113017">NEQ</span><span class="op" id="7113020">,</span>&nbsp;<span class="string" id="7113022">&#34;!=&#34;</span><span class="op" id="7113026">,</span>&nbsp;<span class="ident" id="7113028">operator</span><span class="op" id="7113036">}</span><span class="op" id="7113037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113040">{</span><span class="ident" id="7113041">token</span><span class="op" id="7113046">.</span><span class="ident" id="7113047">LEQ</span><span class="op" id="7113050">,</span>&nbsp;<span class="string" id="7113052">&#34;&lt;=&#34;</span><span class="op" id="7113056">,</span>&nbsp;<span class="ident" id="7113058">operator</span><span class="op" id="7113066">}</span><span class="op" id="7113067">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113070">{</span><span class="ident" id="7113071">token</span><span class="op" id="7113076">.</span><span class="ident" id="7113077">GEQ</span><span class="op" id="7113080">,</span>&nbsp;<span class="string" id="7113082">&#34;&gt;=&#34;</span><span class="op" id="7113086">,</span>&nbsp;<span class="ident" id="7113088">operator</span><span class="op" id="7113096">}</span><span class="op" id="7113097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113100">{</span><span class="ident" id="7113101">token</span><span class="op" id="7113106">.</span><span class="ident" id="7113107">DEFINE</span><span class="op" id="7113113">,</span>&nbsp;<span class="string" id="7113115">&#34;:=&#34;</span><span class="op" id="7113119">,</span>&nbsp;<span class="ident" id="7113121">operator</span><span class="op" id="7113129">}</span><span class="op" id="7113130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113133">{</span><span class="ident" id="7113134">token</span><span class="op" id="7113139">.</span><span class="ident" id="7113140">ELLIPSIS</span><span class="op" id="7113148">,</span>&nbsp;<span class="string" id="7113150">&#34;...&#34;</span><span class="op" id="7113155">,</span>&nbsp;<span class="ident" id="7113157">operator</span><span class="op" id="7113165">}</span><span class="op" id="7113166">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113170">{</span><span class="ident" id="7113171">token</span><span class="op" id="7113176">.</span><span class="ident" id="7113177">LPAREN</span><span class="op" id="7113183">,</span>&nbsp;<span class="string" id="7113185">&#34;(&#34;</span><span class="op" id="7113188">,</span>&nbsp;<span class="ident" id="7113190">operator</span><span class="op" id="7113198">}</span><span class="op" id="7113199">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113202">{</span><span class="ident" id="7113203">token</span><span class="op" id="7113208">.</span><span class="ident" id="7113209">LBRACK</span><span class="op" id="7113215">,</span>&nbsp;<span class="string" id="7113217">&#34;[&#34;</span><span class="op" id="7113220">,</span>&nbsp;<span class="ident" id="7113222">operator</span><span class="op" id="7113230">}</span><span class="op" id="7113231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113234">{</span><span class="ident" id="7113235">token</span><span class="op" id="7113240">.</span><span class="ident" id="7113241">LBRACE</span><span class="op" id="7113247">,</span>&nbsp;<span class="string" id="7113249">&#34;{&#34;</span><span class="op" id="7113252">,</span>&nbsp;<span class="ident" id="7113254">operator</span><span class="op" id="7113262">}</span><span class="op" id="7113263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113266">{</span><span class="ident" id="7113267">token</span><span class="op" id="7113272">.</span><span class="ident" id="7113273">COMMA</span><span class="op" id="7113278">,</span>&nbsp;<span class="string" id="7113280">&#34;,&#34;</span><span class="op" id="7113283">,</span>&nbsp;<span class="ident" id="7113285">operator</span><span class="op" id="7113293">}</span><span class="op" id="7113294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113297">{</span><span class="ident" id="7113298">token</span><span class="op" id="7113303">.</span><span class="ident" id="7113304">PERIOD</span><span class="op" id="7113310">,</span>&nbsp;<span class="string" id="7113312">&#34;.&#34;</span><span class="op" id="7113315">,</span>&nbsp;<span class="ident" id="7113317">operator</span><span class="op" id="7113325">}</span><span class="op" id="7113326">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113330">{</span><span class="ident" id="7113331">token</span><span class="op" id="7113336">.</span><span class="ident" id="7113337">RPAREN</span><span class="op" id="7113343">,</span>&nbsp;<span class="string" id="7113345">&#34;)&#34;</span><span class="op" id="7113348">,</span>&nbsp;<span class="ident" id="7113350">operator</span><span class="op" id="7113358">}</span><span class="op" id="7113359">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113362">{</span><span class="ident" id="7113363">token</span><span class="op" id="7113368">.</span><span class="ident" id="7113369">RBRACK</span><span class="op" id="7113375">,</span>&nbsp;<span class="string" id="7113377">&#34;]&#34;</span><span class="op" id="7113380">,</span>&nbsp;<span class="ident" id="7113382">operator</span><span class="op" id="7113390">}</span><span class="op" id="7113391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113394">{</span><span class="ident" id="7113395">token</span><span class="op" id="7113400">.</span><span class="ident" id="7113401">RBRACE</span><span class="op" id="7113407">,</span>&nbsp;<span class="string" id="7113409">&#34;}&#34;</span><span class="op" id="7113412">,</span>&nbsp;<span class="ident" id="7113414">operator</span><span class="op" id="7113422">}</span><span class="op" id="7113423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113426">{</span><span class="ident" id="7113427">token</span><span class="op" id="7113432">.</span><span class="ident" id="7113433">SEMICOLON</span><span class="op" id="7113442">,</span>&nbsp;<span class="string" id="7113444">&#34;;&#34;</span><span class="op" id="7113447">,</span>&nbsp;<span class="ident" id="7113449">operator</span><span class="op" id="7113457">}</span><span class="op" id="7113458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113461">{</span><span class="ident" id="7113462">token</span><span class="op" id="7113467">.</span><span class="ident" id="7113468">COLON</span><span class="op" id="7113473">,</span>&nbsp;<span class="string" id="7113475">&#34;:&#34;</span><span class="op" id="7113478">,</span>&nbsp;<span class="ident" id="7113480">operator</span><span class="op" id="7113488">}</span><span class="op" id="7113489">,</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7113493">//&nbsp;Keywords</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113506">{</span><span class="ident" id="7113507">token</span><span class="op" id="7113512">.</span><span class="ident" id="7113513">BREAK</span><span class="op" id="7113518">,</span>&nbsp;<span class="string" id="7113520">&#34;break&#34;</span><span class="op" id="7113527">,</span>&nbsp;<span class="ident" id="7113529">keyword</span><span class="op" id="7113536">}</span><span class="op" id="7113537">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113540">{</span><span class="ident" id="7113541">token</span><span class="op" id="7113546">.</span><span class="ident" id="7113547">CASE</span><span class="op" id="7113551">,</span>&nbsp;<span class="string" id="7113553">&#34;case&#34;</span><span class="op" id="7113559">,</span>&nbsp;<span class="ident" id="7113561">keyword</span><span class="op" id="7113568">}</span><span class="op" id="7113569">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113572">{</span><span class="ident" id="7113573">token</span><span class="op" id="7113578">.</span><span class="ident" id="7113579">CHAN</span><span class="op" id="7113583">,</span>&nbsp;<span class="string" id="7113585">&#34;chan&#34;</span><span class="op" id="7113591">,</span>&nbsp;<span class="ident" id="7113593">keyword</span><span class="op" id="7113600">}</span><span class="op" id="7113601">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113604">{</span><span class="ident" id="7113605">token</span><span class="op" id="7113610">.</span><span class="ident" id="7113611">CONST</span><span class="op" id="7113616">,</span>&nbsp;<span class="string" id="7113618">&#34;const&#34;</span><span class="op" id="7113625">,</span>&nbsp;<span class="ident" id="7113627">keyword</span><span class="op" id="7113634">}</span><span class="op" id="7113635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113638">{</span><span class="ident" id="7113639">token</span><span class="op" id="7113644">.</span><span class="ident" id="7113645">CONTINUE</span><span class="op" id="7113653">,</span>&nbsp;<span class="string" id="7113655">&#34;continue&#34;</span><span class="op" id="7113665">,</span>&nbsp;<span class="ident" id="7113667">keyword</span><span class="op" id="7113674">}</span><span class="op" id="7113675">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113679">{</span><span class="ident" id="7113680">token</span><span class="op" id="7113685">.</span><span class="ident" id="7113686">DEFAULT</span><span class="op" id="7113693">,</span>&nbsp;<span class="string" id="7113695">&#34;default&#34;</span><span class="op" id="7113704">,</span>&nbsp;<span class="ident" id="7113706">keyword</span><span class="op" id="7113713">}</span><span class="op" id="7113714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113717">{</span><span class="ident" id="7113718">token</span><span class="op" id="7113723">.</span><span class="ident" id="7113724">DEFER</span><span class="op" id="7113729">,</span>&nbsp;<span class="string" id="7113731">&#34;defer&#34;</span><span class="op" id="7113738">,</span>&nbsp;<span class="ident" id="7113740">keyword</span><span class="op" id="7113747">}</span><span class="op" id="7113748">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113751">{</span><span class="ident" id="7113752">token</span><span class="op" id="7113757">.</span><span class="ident" id="7113758">ELSE</span><span class="op" id="7113762">,</span>&nbsp;<span class="string" id="7113764">&#34;else&#34;</span><span class="op" id="7113770">,</span>&nbsp;<span class="ident" id="7113772">keyword</span><span class="op" id="7113779">}</span><span class="op" id="7113780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113783">{</span><span class="ident" id="7113784">token</span><span class="op" id="7113789">.</span><span class="ident" id="7113790">FALLTHROUGH</span><span class="op" id="7113801">,</span>&nbsp;<span class="string" id="7113803">&#34;fallthrough&#34;</span><span class="op" id="7113816">,</span>&nbsp;<span class="ident" id="7113818">keyword</span><span class="op" id="7113825">}</span><span class="op" id="7113826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113829">{</span><span class="ident" id="7113830">token</span><span class="op" id="7113835">.</span><span class="ident" id="7113836">FOR</span><span class="op" id="7113839">,</span>&nbsp;<span class="string" id="7113841">&#34;for&#34;</span><span class="op" id="7113846">,</span>&nbsp;<span class="ident" id="7113848">keyword</span><span class="op" id="7113855">}</span><span class="op" id="7113856">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113860">{</span><span class="ident" id="7113861">token</span><span class="op" id="7113866">.</span><span class="ident" id="7113867">FUNC</span><span class="op" id="7113871">,</span>&nbsp;<span class="string" id="7113873">&#34;func&#34;</span><span class="op" id="7113879">,</span>&nbsp;<span class="ident" id="7113881">keyword</span><span class="op" id="7113888">}</span><span class="op" id="7113889">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113892">{</span><span class="ident" id="7113893">token</span><span class="op" id="7113898">.</span><span class="ident" id="7113899">GO</span><span class="op" id="7113901">,</span>&nbsp;<span class="string" id="7113903">&#34;go&#34;</span><span class="op" id="7113907">,</span>&nbsp;<span class="ident" id="7113909">keyword</span><span class="op" id="7113916">}</span><span class="op" id="7113917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113920">{</span><span class="ident" id="7113921">token</span><span class="op" id="7113926">.</span><span class="ident" id="7113927">GOTO</span><span class="op" id="7113931">,</span>&nbsp;<span class="string" id="7113933">&#34;goto&#34;</span><span class="op" id="7113939">,</span>&nbsp;<span class="ident" id="7113941">keyword</span><span class="op" id="7113948">}</span><span class="op" id="7113949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113952">{</span><span class="ident" id="7113953">token</span><span class="op" id="7113958">.</span><span class="ident" id="7113959">IF</span><span class="op" id="7113961">,</span>&nbsp;<span class="string" id="7113963">&#34;if&#34;</span><span class="op" id="7113967">,</span>&nbsp;<span class="ident" id="7113969">keyword</span><span class="op" id="7113976">}</span><span class="op" id="7113977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7113980">{</span><span class="ident" id="7113981">token</span><span class="op" id="7113986">.</span><span class="ident" id="7113987">IMPORT</span><span class="op" id="7113993">,</span>&nbsp;<span class="string" id="7113995">&#34;import&#34;</span><span class="op" id="7114003">,</span>&nbsp;<span class="ident" id="7114005">keyword</span><span class="op" id="7114012">}</span><span class="op" id="7114013">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114017">{</span><span class="ident" id="7114018">token</span><span class="op" id="7114023">.</span><span class="ident" id="7114024">INTERFACE</span><span class="op" id="7114033">,</span>&nbsp;<span class="string" id="7114035">&#34;interface&#34;</span><span class="op" id="7114046">,</span>&nbsp;<span class="ident" id="7114048">keyword</span><span class="op" id="7114055">}</span><span class="op" id="7114056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114059">{</span><span class="ident" id="7114060">token</span><span class="op" id="7114065">.</span><span class="ident" id="7114066">MAP</span><span class="op" id="7114069">,</span>&nbsp;<span class="string" id="7114071">&#34;map&#34;</span><span class="op" id="7114076">,</span>&nbsp;<span class="ident" id="7114078">keyword</span><span class="op" id="7114085">}</span><span class="op" id="7114086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114089">{</span><span class="ident" id="7114090">token</span><span class="op" id="7114095">.</span><span class="ident" id="7114096">PACKAGE</span><span class="op" id="7114103">,</span>&nbsp;<span class="string" id="7114105">&#34;package&#34;</span><span class="op" id="7114114">,</span>&nbsp;<span class="ident" id="7114116">keyword</span><span class="op" id="7114123">}</span><span class="op" id="7114124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114127">{</span><span class="ident" id="7114128">token</span><span class="op" id="7114133">.</span><span class="ident" id="7114134">RANGE</span><span class="op" id="7114139">,</span>&nbsp;<span class="string" id="7114141">&#34;range&#34;</span><span class="op" id="7114148">,</span>&nbsp;<span class="ident" id="7114150">keyword</span><span class="op" id="7114157">}</span><span class="op" id="7114158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114161">{</span><span class="ident" id="7114162">token</span><span class="op" id="7114167">.</span><span class="ident" id="7114168">RETURN</span><span class="op" id="7114174">,</span>&nbsp;<span class="string" id="7114176">&#34;return&#34;</span><span class="op" id="7114184">,</span>&nbsp;<span class="ident" id="7114186">keyword</span><span class="op" id="7114193">}</span><span class="op" id="7114194">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114198">{</span><span class="ident" id="7114199">token</span><span class="op" id="7114204">.</span><span class="ident" id="7114205">SELECT</span><span class="op" id="7114211">,</span>&nbsp;<span class="string" id="7114213">&#34;select&#34;</span><span class="op" id="7114221">,</span>&nbsp;<span class="ident" id="7114223">keyword</span><span class="op" id="7114230">}</span><span class="op" id="7114231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114234">{</span><span class="ident" id="7114235">token</span><span class="op" id="7114240">.</span><span class="ident" id="7114241">STRUCT</span><span class="op" id="7114247">,</span>&nbsp;<span class="string" id="7114249">&#34;struct&#34;</span><span class="op" id="7114257">,</span>&nbsp;<span class="ident" id="7114259">keyword</span><span class="op" id="7114266">}</span><span class="op" id="7114267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114270">{</span><span class="ident" id="7114271">token</span><span class="op" id="7114276">.</span><span class="ident" id="7114277">SWITCH</span><span class="op" id="7114283">,</span>&nbsp;<span class="string" id="7114285">&#34;switch&#34;</span><span class="op" id="7114293">,</span>&nbsp;<span class="ident" id="7114295">keyword</span><span class="op" id="7114302">}</span><span class="op" id="7114303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114306">{</span><span class="ident" id="7114307">token</span><span class="op" id="7114312">.</span><span class="ident" id="7114313">TYPE</span><span class="op" id="7114317">,</span>&nbsp;<span class="string" id="7114319">&#34;type&#34;</span><span class="op" id="7114325">,</span>&nbsp;<span class="ident" id="7114327">keyword</span><span class="op" id="7114334">}</span><span class="op" id="7114335">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114338">{</span><span class="ident" id="7114339">token</span><span class="op" id="7114344">.</span><span class="ident" id="7114345">VAR</span><span class="op" id="7114348">,</span>&nbsp;<span class="string" id="7114350">&#34;var&#34;</span><span class="op" id="7114355">,</span>&nbsp;<span class="ident" id="7114357">keyword</span><span class="op" id="7114364">}</span><span class="op" id="7114365">,</span><br>
<span class="lineno"></span><span class="op" id="7114367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114370">const</span>&nbsp;<span class="ident" id="7114376">whitespace</span>&nbsp;<span class="op" id="7114387">=</span>&nbsp;<span class="string" id="7114389">&#34;&nbsp;&nbsp;\t&nbsp;&nbsp;\n\n\n&#34;</span>&nbsp;<span class="comment" id="7114404">//&nbsp;to&nbsp;separate&nbsp;tokens</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span><span class="keyword" id="7114427">var</span>&nbsp;<span class="ident" id="7114431">source</span>&nbsp;<span class="op" id="7114438">=</span>&nbsp;<span class="keyword" id="7114440">func</span><span class="op" id="7114444">(</span><span class="op" id="7114445">)</span>&nbsp;<span class="op" id="7114447">[</span><span class="op" id="7114448">]</span><span class="builtintype" id="7114449">byte</span>&nbsp;<span class="op" id="7114454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114457">var</span>&nbsp;<span class="ident" id="7114461">src</span>&nbsp;<span class="op" id="7114465">[</span><span class="op" id="7114466">]</span><span class="builtintype" id="7114467">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114473">for</span>&nbsp;<span class="ident" id="7114477">_</span><span class="op" id="7114478">,</span>&nbsp;<span class="ident" id="7114480">t</span>&nbsp;<span class="op" id="7114482">:=</span>&nbsp;<span class="keyword" id="7114485">range</span>&nbsp;<span class="ident" id="7114491">tokens</span>&nbsp;<span class="op" id="7114498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114502">src</span>&nbsp;<span class="op" id="7114506">=</span>&nbsp;<span class="builtinfunc" id="7114508">append</span><span class="op" id="7114514">(</span><span class="ident" id="7114515">src</span><span class="op" id="7114518">,</span>&nbsp;<span class="ident" id="7114520">t</span><span class="op" id="7114521">.</span><span class="ident" id="7114522">lit</span><span class="op" id="7114525">...</span><span class="op" id="7114528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114532">src</span>&nbsp;<span class="op" id="7114536">=</span>&nbsp;<span class="builtinfunc" id="7114538">append</span><span class="op" id="7114544">(</span><span class="ident" id="7114545">src</span><span class="op" id="7114548">,</span>&nbsp;<span class="ident" id="7114550">whitespace</span><span class="op" id="7114560">...</span><span class="op" id="7114563">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114569">return</span>&nbsp;<span class="ident" id="7114576">src</span><br>
<span class="lineno"></span><span class="op" id="7114580">}</span><span class="op" id="7114581">(</span><span class="op" id="7114582">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114585">func</span>&nbsp;<span class="ident" id="7114590">newlineCount</span><span class="op" id="7114602">(</span><span class="ident" id="7114603">s</span>&nbsp;<span class="builtintype" id="7114605">string</span><span class="op" id="7114611">)</span>&nbsp;<span class="builtintype" id="7114613">int</span>&nbsp;<span class="op" id="7114617">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114620">n</span>&nbsp;<span class="op" id="7114622">:=</span>&nbsp;<span class="num" id="7114625">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114628">for</span>&nbsp;<span class="ident" id="7114632">i</span>&nbsp;<span class="op" id="7114634">:=</span>&nbsp;<span class="num" id="7114637">0</span><span class="op" id="7114638">;</span>&nbsp;<span class="ident" id="7114640">i</span>&nbsp;<span class="op" id="7114642">&lt;</span>&nbsp;<span class="builtinfunc" id="7114644">len</span><span class="op" id="7114647">(</span><span class="ident" id="7114648">s</span><span class="op" id="7114649">)</span><span class="op" id="7114650">;</span>&nbsp;<span class="ident" id="7114652">i</span><span class="op" id="7114653">++</span>&nbsp;<span class="op" id="7114656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114660">if</span>&nbsp;<span class="ident" id="7114663">s</span><span class="op" id="7114664">[</span><span class="ident" id="7114665">i</span><span class="op" id="7114666">]</span>&nbsp;<span class="op" id="7114668">==</span>&nbsp;<span class="string" id="7114671">&#39;\n&#39;</span>&nbsp;<span class="op" id="7114676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114681">n</span><span class="op" id="7114682">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114687">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114693">return</span>&nbsp;<span class="ident" id="7114700">n</span><br>
<span class="lineno"></span><span class="op" id="7114702">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7114705">func</span>&nbsp;<span class="ident" id="7114710">checkPos</span><span class="op" id="7114718">(</span><span class="ident" id="7114719">t</span>&nbsp;<span class="op" id="7114721">*</span><span class="ident" id="7114722">testing</span><span class="op" id="7114729">.</span><span class="ident" id="7114730">T</span><span class="op" id="7114731">,</span>&nbsp;<span class="ident" id="7114733">lit</span>&nbsp;<span class="builtintype" id="7114737">string</span><span class="op" id="7114743">,</span>&nbsp;<span class="ident" id="7114745">p</span>&nbsp;<span class="ident" id="7114747">token</span><span class="op" id="7114752">.</span><span class="ident" id="7114753">Pos</span><span class="op" id="7114756">,</span>&nbsp;<span class="ident" id="7114758">expected</span>&nbsp;<span class="ident" id="7114767">token</span><span class="op" id="7114772">.</span><span class="ident" id="7114773">Position</span><span class="op" id="7114781">)</span>&nbsp;<span class="op" id="7114783">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114786">pos</span>&nbsp;<span class="op" id="7114790">:=</span>&nbsp;<span class="ident" id="7114793">fset</span><span class="op" id="7114797">.</span><span class="ident" id="7114798">Position</span><span class="op" id="7114806">(</span><span class="ident" id="7114807">p</span><span class="op" id="7114808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114811">if</span>&nbsp;<span class="ident" id="7114814">pos</span><span class="op" id="7114817">.</span><span class="ident" id="7114818">Filename</span>&nbsp;<span class="op" id="7114827">!=</span>&nbsp;<span class="ident" id="7114830">expected</span><span class="op" id="7114838">.</span><span class="ident" id="7114839">Filename</span>&nbsp;<span class="op" id="7114848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114852">t</span><span class="op" id="7114853">.</span><span class="ident" id="7114854">Errorf</span><span class="op" id="7114860">(</span><span class="string" id="7114861">&#34;bad&nbsp;filename&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7114903">,</span>&nbsp;<span class="ident" id="7114905">lit</span><span class="op" id="7114908">,</span>&nbsp;<span class="ident" id="7114910">pos</span><span class="op" id="7114913">.</span><span class="ident" id="7114914">Filename</span><span class="op" id="7114922">,</span>&nbsp;<span class="ident" id="7114924">expected</span><span class="op" id="7114932">.</span><span class="ident" id="7114933">Filename</span><span class="op" id="7114941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7114944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7114947">if</span>&nbsp;<span class="ident" id="7114950">pos</span><span class="op" id="7114953">.</span><span class="ident" id="7114954">Offset</span>&nbsp;<span class="op" id="7114961">!=</span>&nbsp;<span class="ident" id="7114964">expected</span><span class="op" id="7114972">.</span><span class="ident" id="7114973">Offset</span>&nbsp;<span class="op" id="7114980">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7114984">t</span><span class="op" id="7114985">.</span><span class="ident" id="7114986">Errorf</span><span class="op" id="7114992">(</span><span class="string" id="7114993">&#34;bad&nbsp;position&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7115035">,</span>&nbsp;<span class="ident" id="7115037">lit</span><span class="op" id="7115040">,</span>&nbsp;<span class="ident" id="7115042">pos</span><span class="op" id="7115045">.</span><span class="ident" id="7115046">Offset</span><span class="op" id="7115052">,</span>&nbsp;<span class="ident" id="7115054">expected</span><span class="op" id="7115062">.</span><span class="ident" id="7115063">Offset</span><span class="op" id="7115069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115075">if</span>&nbsp;<span class="ident" id="7115078">pos</span><span class="op" id="7115081">.</span><span class="ident" id="7115082">Line</span>&nbsp;<span class="op" id="7115087">!=</span>&nbsp;<span class="ident" id="7115090">expected</span><span class="op" id="7115098">.</span><span class="ident" id="7115099">Line</span>&nbsp;<span class="op" id="7115104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115108">t</span><span class="op" id="7115109">.</span><span class="ident" id="7115110">Errorf</span><span class="op" id="7115116">(</span><span class="string" id="7115117">&#34;bad&nbsp;line&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7115155">,</span>&nbsp;<span class="ident" id="7115157">lit</span><span class="op" id="7115160">,</span>&nbsp;<span class="ident" id="7115162">pos</span><span class="op" id="7115165">.</span><span class="ident" id="7115166">Line</span><span class="op" id="7115170">,</span>&nbsp;<span class="ident" id="7115172">expected</span><span class="op" id="7115180">.</span><span class="ident" id="7115181">Line</span><span class="op" id="7115185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115188">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115191">if</span>&nbsp;<span class="ident" id="7115194">pos</span><span class="op" id="7115197">.</span><span class="ident" id="7115198">Column</span>&nbsp;<span class="op" id="7115205">!=</span>&nbsp;<span class="ident" id="7115208">expected</span><span class="op" id="7115216">.</span><span class="ident" id="7115217">Column</span>&nbsp;<span class="op" id="7115224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115228">t</span><span class="op" id="7115229">.</span><span class="ident" id="7115230">Errorf</span><span class="op" id="7115236">(</span><span class="string" id="7115237">&#34;bad&nbsp;column&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7115277">,</span>&nbsp;<span class="ident" id="7115279">lit</span><span class="op" id="7115282">,</span>&nbsp;<span class="ident" id="7115284">pos</span><span class="op" id="7115287">.</span><span class="ident" id="7115288">Column</span><span class="op" id="7115294">,</span>&nbsp;<span class="ident" id="7115296">expected</span><span class="op" id="7115304">.</span><span class="ident" id="7115305">Column</span><span class="op" id="7115311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115314">}</span><br>
<span class="lineno"></span><span class="op" id="7115316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="7115319">//&nbsp;Verify&nbsp;that&nbsp;calling&nbsp;Scan()&nbsp;provides&nbsp;the&nbsp;correct&nbsp;results.</span><br>
<span class="lineno"></span><span class="keyword" id="7115379">func</span>&nbsp;<span class="ident" id="7115384">TestScan</span><span class="op" id="7115392">(</span><span class="ident" id="7115393">t</span>&nbsp;<span class="op" id="7115395">*</span><span class="ident" id="7115396">testing</span><span class="op" id="7115403">.</span><span class="ident" id="7115404">T</span><span class="op" id="7115405">)</span>&nbsp;<span class="op" id="7115407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115410">whitespace_linecount</span>&nbsp;<span class="op" id="7115431">:=</span>&nbsp;<span class="ident" id="7115434">newlineCount</span><span class="op" id="7115446">(</span><span class="ident" id="7115447">whitespace</span><span class="op" id="7115457">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7115461">//&nbsp;error&nbsp;handler</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115479">eh</span>&nbsp;<span class="op" id="7115482">:=</span>&nbsp;<span class="keyword" id="7115485">func</span><span class="op" id="7115489">(</span><span class="ident" id="7115490">_</span>&nbsp;<span class="ident" id="7115492">token</span><span class="op" id="7115497">.</span><span class="ident" id="7115498">Position</span><span class="op" id="7115506">,</span>&nbsp;<span class="ident" id="7115508">msg</span>&nbsp;<span class="builtintype" id="7115512">string</span><span class="op" id="7115518">)</span>&nbsp;<span class="op" id="7115520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115524">t</span><span class="op" id="7115525">.</span><span class="ident" id="7115526">Errorf</span><span class="op" id="7115532">(</span><span class="string" id="7115533">&#34;error&nbsp;handler&nbsp;called&nbsp;(msg&nbsp;=&nbsp;%s)&#34;</span><span class="op" id="7115566">,</span>&nbsp;<span class="ident" id="7115568">msg</span><span class="op" id="7115571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7115578">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115594">var</span>&nbsp;<span class="ident" id="7115598">s</span>&nbsp;<span class="ident" id="7115600">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115609">s</span><span class="op" id="7115610">.</span><span class="ident" id="7115611">Init</span><span class="op" id="7115615">(</span><span class="ident" id="7115616">fset</span><span class="op" id="7115620">.</span><span class="ident" id="7115621">AddFile</span><span class="op" id="7115628">(</span><span class="string" id="7115629">&#34;&#34;</span><span class="op" id="7115631">,</span>&nbsp;<span class="ident" id="7115633">fset</span><span class="op" id="7115637">.</span><span class="ident" id="7115638">Base</span><span class="op" id="7115642">(</span><span class="op" id="7115643">)</span><span class="op" id="7115644">,</span>&nbsp;<span class="builtinfunc" id="7115646">len</span><span class="op" id="7115649">(</span><span class="ident" id="7115650">source</span><span class="op" id="7115656">)</span><span class="op" id="7115657">)</span><span class="op" id="7115658">,</span>&nbsp;<span class="ident" id="7115660">source</span><span class="op" id="7115666">,</span>&nbsp;<span class="ident" id="7115668">eh</span><span class="op" id="7115670">,</span>&nbsp;<span class="ident" id="7115672">ScanComments</span><span class="op" id="7115684">|</span><span class="ident" id="7115685">dontInsertSemis</span><span class="op" id="7115700">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7115704">//&nbsp;set&nbsp;up&nbsp;expected&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115733">epos</span>&nbsp;<span class="op" id="7115738">:=</span>&nbsp;<span class="ident" id="7115741">token</span><span class="op" id="7115746">.</span><span class="ident" id="7115747">Position</span><span class="op" id="7115755">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115759">Filename</span><span class="op" id="7115767">:</span>&nbsp;<span class="string" id="7115769">&#34;&#34;</span><span class="op" id="7115771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115775">Offset</span><span class="op" id="7115781">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7115785">0</span><span class="op" id="7115786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115790">Line</span><span class="op" id="7115794">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7115800">1</span><span class="op" id="7115801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115805">Column</span><span class="op" id="7115811">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7115815">1</span><span class="op" id="7115816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7115819">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115823">index</span>&nbsp;<span class="op" id="7115829">:=</span>&nbsp;<span class="num" id="7115832">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115835">for</span>&nbsp;<span class="op" id="7115839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115843">pos</span><span class="op" id="7115846">,</span>&nbsp;<span class="ident" id="7115848">tok</span><span class="op" id="7115851">,</span>&nbsp;<span class="ident" id="7115853">lit</span>&nbsp;<span class="op" id="7115857">:=</span>&nbsp;<span class="ident" id="7115860">s</span><span class="op" id="7115861">.</span><span class="ident" id="7115862">Scan</span><span class="op" id="7115866">(</span><span class="op" id="7115867">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7115872">//&nbsp;check&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7115892">if</span>&nbsp;<span class="ident" id="7115895">tok</span>&nbsp;<span class="op" id="7115899">==</span>&nbsp;<span class="ident" id="7115902">token</span><span class="op" id="7115907">.</span><span class="ident" id="7115908">EOF</span>&nbsp;<span class="op" id="7115912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7115917">//&nbsp;correction&nbsp;for&nbsp;EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115942">epos</span><span class="op" id="7115946">.</span><span class="ident" id="7115947">Line</span>&nbsp;<span class="op" id="7115952">=</span>&nbsp;<span class="ident" id="7115954">newlineCount</span><span class="op" id="7115966">(</span><span class="builtintype" id="7115967">string</span><span class="op" id="7115973">(</span><span class="ident" id="7115974">source</span><span class="op" id="7115980">)</span><span class="op" id="7115981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7115986">epos</span><span class="op" id="7115990">.</span><span class="ident" id="7115991">Column</span>&nbsp;<span class="op" id="7115998">=</span>&nbsp;<span class="num" id="7116000">2</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116008">checkPos</span><span class="op" id="7116016">(</span><span class="ident" id="7116017">t</span><span class="op" id="7116018">,</span>&nbsp;<span class="ident" id="7116020">lit</span><span class="op" id="7116023">,</span>&nbsp;<span class="ident" id="7116025">pos</span><span class="op" id="7116028">,</span>&nbsp;<span class="ident" id="7116030">epos</span><span class="op" id="7116034">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7116039">//&nbsp;check&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116056">e</span>&nbsp;<span class="op" id="7116058">:=</span>&nbsp;<span class="ident" id="7116061">elt</span><span class="op" id="7116064">{</span><span class="ident" id="7116065">token</span><span class="op" id="7116070">.</span><span class="ident" id="7116071">EOF</span><span class="op" id="7116074">,</span>&nbsp;<span class="string" id="7116076">&#34;&#34;</span><span class="op" id="7116078">,</span>&nbsp;<span class="ident" id="7116080">special</span><span class="op" id="7116087">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116091">if</span>&nbsp;<span class="ident" id="7116094">index</span>&nbsp;<span class="op" id="7116100">&lt;</span>&nbsp;<span class="builtinfunc" id="7116102">len</span><span class="op" id="7116105">(</span><span class="ident" id="7116106">tokens</span><span class="op" id="7116112">)</span>&nbsp;<span class="op" id="7116114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116119">e</span>&nbsp;<span class="op" id="7116121">=</span>&nbsp;<span class="ident" id="7116123">tokens</span><span class="op" id="7116129">[</span><span class="ident" id="7116130">index</span><span class="op" id="7116135">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116140">index</span><span class="op" id="7116145">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116150">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116154">if</span>&nbsp;<span class="ident" id="7116157">tok</span>&nbsp;<span class="op" id="7116161">!=</span>&nbsp;<span class="ident" id="7116164">e</span><span class="op" id="7116165">.</span><span class="ident" id="7116166">tok</span>&nbsp;<span class="op" id="7116170">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116175">t</span><span class="op" id="7116176">.</span><span class="ident" id="7116177">Errorf</span><span class="op" id="7116183">(</span><span class="string" id="7116184">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7116223">,</span>&nbsp;<span class="ident" id="7116225">lit</span><span class="op" id="7116228">,</span>&nbsp;<span class="ident" id="7116230">tok</span><span class="op" id="7116233">,</span>&nbsp;<span class="ident" id="7116235">e</span><span class="op" id="7116236">.</span><span class="ident" id="7116237">tok</span><span class="op" id="7116240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7116249">//&nbsp;check&nbsp;token&nbsp;class</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116272">if</span>&nbsp;<span class="ident" id="7116275">tokenclass</span><span class="op" id="7116285">(</span><span class="ident" id="7116286">tok</span><span class="op" id="7116289">)</span>&nbsp;<span class="op" id="7116291">!=</span>&nbsp;<span class="ident" id="7116294">e</span><span class="op" id="7116295">.</span><span class="ident" id="7116296">class</span>&nbsp;<span class="op" id="7116302">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116307">t</span><span class="op" id="7116308">.</span><span class="ident" id="7116309">Errorf</span><span class="op" id="7116315">(</span><span class="string" id="7116316">&#34;bad&nbsp;class&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7116355">,</span>&nbsp;<span class="ident" id="7116357">lit</span><span class="op" id="7116360">,</span>&nbsp;<span class="ident" id="7116362">tokenclass</span><span class="op" id="7116372">(</span><span class="ident" id="7116373">tok</span><span class="op" id="7116376">)</span><span class="op" id="7116377">,</span>&nbsp;<span class="ident" id="7116379">e</span><span class="op" id="7116380">.</span><span class="ident" id="7116381">class</span><span class="op" id="7116386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7116395">//&nbsp;check&nbsp;literal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116414">elit</span>&nbsp;<span class="op" id="7116419">:=</span>&nbsp;<span class="string" id="7116422">&#34;&#34;</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116427">switch</span>&nbsp;<span class="ident" id="7116434">e</span><span class="op" id="7116435">.</span><span class="ident" id="7116436">tok</span>&nbsp;<span class="op" id="7116440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116444">case</span>&nbsp;<span class="ident" id="7116449">token</span><span class="op" id="7116454">.</span><span class="ident" id="7116455">COMMENT</span><span class="op" id="7116462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7116467">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116492">elit</span>&nbsp;<span class="op" id="7116497">=</span>&nbsp;<span class="builtintype" id="7116499">string</span><span class="op" id="7116505">(</span><span class="ident" id="7116506">stripCR</span><span class="op" id="7116513">(</span><span class="op" id="7116514">[</span><span class="op" id="7116515">]</span><span class="builtintype" id="7116516">byte</span><span class="op" id="7116520">(</span><span class="ident" id="7116521">e</span><span class="op" id="7116522">.</span><span class="ident" id="7116523">lit</span><span class="op" id="7116526">)</span><span class="op" id="7116527">)</span><span class="op" id="7116528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7116533">//-style&nbsp;comment&nbsp;literal&nbsp;doesn&#39;t&nbsp;contain&nbsp;newline</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116585">if</span>&nbsp;<span class="ident" id="7116588">elit</span><span class="op" id="7116592">[</span><span class="num" id="7116593">1</span><span class="op" id="7116594">]</span>&nbsp;<span class="op" id="7116596">==</span>&nbsp;<span class="string" id="7116599">&#39;/&#39;</span>&nbsp;<span class="op" id="7116603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116609">elit</span>&nbsp;<span class="op" id="7116614">=</span>&nbsp;<span class="ident" id="7116616">elit</span><span class="op" id="7116620">[</span><span class="num" id="7116621">0</span>&nbsp;<span class="op" id="7116623">:</span>&nbsp;<span class="builtinfunc" id="7116625">len</span><span class="op" id="7116628">(</span><span class="ident" id="7116629">elit</span><span class="op" id="7116633">)</span><span class="op" id="7116634">-</span><span class="num" id="7116635">1</span><span class="op" id="7116636">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116645">case</span>&nbsp;<span class="ident" id="7116650">token</span><span class="op" id="7116655">.</span><span class="ident" id="7116656">IDENT</span><span class="op" id="7116661">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116666">elit</span>&nbsp;<span class="op" id="7116671">=</span>&nbsp;<span class="ident" id="7116673">e</span><span class="op" id="7116674">.</span><span class="ident" id="7116675">lit</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116681">case</span>&nbsp;<span class="ident" id="7116686">token</span><span class="op" id="7116691">.</span><span class="ident" id="7116692">SEMICOLON</span><span class="op" id="7116701">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116706">elit</span>&nbsp;<span class="op" id="7116711">=</span>&nbsp;<span class="string" id="7116713">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116719">default</span><span class="op" id="7116726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116731">if</span>&nbsp;<span class="ident" id="7116734">e</span><span class="op" id="7116735">.</span><span class="ident" id="7116736">tok</span><span class="op" id="7116739">.</span><span class="ident" id="7116740">IsLiteral</span><span class="op" id="7116749">(</span><span class="op" id="7116750">)</span>&nbsp;<span class="op" id="7116752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7116758">//&nbsp;no&nbsp;CRs&nbsp;in&nbsp;raw&nbsp;string&nbsp;literals</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116795">elit</span>&nbsp;<span class="op" id="7116800">=</span>&nbsp;<span class="ident" id="7116802">e</span><span class="op" id="7116803">.</span><span class="ident" id="7116804">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116812">if</span>&nbsp;<span class="ident" id="7116815">elit</span><span class="op" id="7116819">[</span><span class="num" id="7116820">0</span><span class="op" id="7116821">]</span>&nbsp;<span class="op" id="7116823">==</span>&nbsp;<span class="string" id="7116826">&#39;`&#39;</span>&nbsp;<span class="op" id="7116830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116837">elit</span>&nbsp;<span class="op" id="7116842">=</span>&nbsp;<span class="builtintype" id="7116844">string</span><span class="op" id="7116850">(</span><span class="ident" id="7116851">stripCR</span><span class="op" id="7116858">(</span><span class="op" id="7116859">[</span><span class="op" id="7116860">]</span><span class="builtintype" id="7116861">byte</span><span class="op" id="7116865">(</span><span class="ident" id="7116866">elit</span><span class="op" id="7116870">)</span><span class="op" id="7116871">)</span><span class="op" id="7116872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116878">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116883">}</span>&nbsp;<span class="keyword" id="7116885">else</span>&nbsp;<span class="keyword" id="7116890">if</span>&nbsp;<span class="ident" id="7116893">e</span><span class="op" id="7116894">.</span><span class="ident" id="7116895">tok</span><span class="op" id="7116898">.</span><span class="ident" id="7116899">IsKeyword</span><span class="op" id="7116908">(</span><span class="op" id="7116909">)</span>&nbsp;<span class="op" id="7116911">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116917">elit</span>&nbsp;<span class="op" id="7116922">=</span>&nbsp;<span class="ident" id="7116924">e</span><span class="op" id="7116925">.</span><span class="ident" id="7116926">lit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7116937">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7116941">if</span>&nbsp;<span class="ident" id="7116944">lit</span>&nbsp;<span class="op" id="7116948">!=</span>&nbsp;<span class="ident" id="7116951">elit</span>&nbsp;<span class="op" id="7116956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7116961">t</span><span class="op" id="7116962">.</span><span class="ident" id="7116963">Errorf</span><span class="op" id="7116969">(</span><span class="string" id="7116970">&#34;bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7117011">,</span>&nbsp;<span class="ident" id="7117013">lit</span><span class="op" id="7117016">,</span>&nbsp;<span class="ident" id="7117018">lit</span><span class="op" id="7117021">,</span>&nbsp;<span class="ident" id="7117023">elit</span><span class="op" id="7117027">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117036">if</span>&nbsp;<span class="ident" id="7117039">tok</span>&nbsp;<span class="op" id="7117043">==</span>&nbsp;<span class="ident" id="7117046">token</span><span class="op" id="7117051">.</span><span class="ident" id="7117052">EOF</span>&nbsp;<span class="op" id="7117056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117061">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117069">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7117074">//&nbsp;update&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117095">epos</span><span class="op" id="7117099">.</span><span class="ident" id="7117100">Offset</span>&nbsp;<span class="op" id="7117107">+=</span>&nbsp;<span class="builtinfunc" id="7117110">len</span><span class="op" id="7117113">(</span><span class="ident" id="7117114">e</span><span class="op" id="7117115">.</span><span class="ident" id="7117116">lit</span><span class="op" id="7117119">)</span>&nbsp;<span class="op" id="7117121">+</span>&nbsp;<span class="builtinfunc" id="7117123">len</span><span class="op" id="7117126">(</span><span class="ident" id="7117127">whitespace</span><span class="op" id="7117137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117141">epos</span><span class="op" id="7117145">.</span><span class="ident" id="7117146">Line</span>&nbsp;<span class="op" id="7117151">+=</span>&nbsp;<span class="ident" id="7117154">newlineCount</span><span class="op" id="7117166">(</span><span class="ident" id="7117167">e</span><span class="op" id="7117168">.</span><span class="ident" id="7117169">lit</span><span class="op" id="7117172">)</span>&nbsp;<span class="op" id="7117174">+</span>&nbsp;<span class="ident" id="7117176">whitespace_linecount</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117199">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117203">if</span>&nbsp;<span class="ident" id="7117206">s</span><span class="op" id="7117207">.</span><span class="ident" id="7117208">ErrorCount</span>&nbsp;<span class="op" id="7117219">!=</span>&nbsp;<span class="num" id="7117222">0</span>&nbsp;<span class="op" id="7117224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117228">t</span><span class="op" id="7117229">.</span><span class="ident" id="7117230">Errorf</span><span class="op" id="7117236">(</span><span class="string" id="7117237">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7117254">,</span>&nbsp;<span class="ident" id="7117256">s</span><span class="op" id="7117257">.</span><span class="ident" id="7117258">ErrorCount</span><span class="op" id="7117268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117271">}</span><br>
<span class="lineno">310</span><span class="op" id="7117273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7117276">func</span>&nbsp;<span class="ident" id="7117281">checkSemi</span><span class="op" id="7117290">(</span><span class="ident" id="7117291">t</span>&nbsp;<span class="op" id="7117293">*</span><span class="ident" id="7117294">testing</span><span class="op" id="7117301">.</span><span class="ident" id="7117302">T</span><span class="op" id="7117303">,</span>&nbsp;<span class="ident" id="7117305">line</span>&nbsp;<span class="builtintype" id="7117310">string</span><span class="op" id="7117316">,</span>&nbsp;<span class="ident" id="7117318">mode</span>&nbsp;<span class="ident" id="7117323">Mode</span><span class="op" id="7117327">)</span>&nbsp;<span class="op" id="7117329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117332">var</span>&nbsp;<span class="ident" id="7117336">S</span>&nbsp;<span class="ident" id="7117338">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117347">file</span>&nbsp;<span class="op" id="7117352">:=</span>&nbsp;<span class="ident" id="7117355">fset</span><span class="op" id="7117359">.</span><span class="ident" id="7117360">AddFile</span><span class="op" id="7117367">(</span><span class="string" id="7117368">&#34;TestSemis&#34;</span><span class="op" id="7117379">,</span>&nbsp;<span class="ident" id="7117381">fset</span><span class="op" id="7117385">.</span><span class="ident" id="7117386">Base</span><span class="op" id="7117390">(</span><span class="op" id="7117391">)</span><span class="op" id="7117392">,</span>&nbsp;<span class="builtinfunc" id="7117394">len</span><span class="op" id="7117397">(</span><span class="ident" id="7117398">line</span><span class="op" id="7117402">)</span><span class="op" id="7117403">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117406">S</span><span class="op" id="7117407">.</span><span class="ident" id="7117408">Init</span><span class="op" id="7117412">(</span><span class="ident" id="7117413">file</span><span class="op" id="7117417">,</span>&nbsp;<span class="op" id="7117419">[</span><span class="op" id="7117420">]</span><span class="builtintype" id="7117421">byte</span><span class="op" id="7117425">(</span><span class="ident" id="7117426">line</span><span class="op" id="7117430">)</span><span class="op" id="7117431">,</span>&nbsp;<span class="ident" id="7117433">nil</span><span class="op" id="7117436">,</span>&nbsp;<span class="ident" id="7117438">mode</span><span class="op" id="7117442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117445">pos</span><span class="op" id="7117448">,</span>&nbsp;<span class="ident" id="7117450">tok</span><span class="op" id="7117453">,</span>&nbsp;<span class="ident" id="7117455">lit</span>&nbsp;<span class="op" id="7117459">:=</span>&nbsp;<span class="ident" id="7117462">S</span><span class="op" id="7117463">.</span><span class="ident" id="7117464">Scan</span><span class="op" id="7117468">(</span><span class="op" id="7117469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117472">for</span>&nbsp;<span class="ident" id="7117476">tok</span>&nbsp;<span class="op" id="7117480">!=</span>&nbsp;<span class="ident" id="7117483">token</span><span class="op" id="7117488">.</span><span class="ident" id="7117489">EOF</span>&nbsp;<span class="op" id="7117493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117497">if</span>&nbsp;<span class="ident" id="7117500">tok</span>&nbsp;<span class="op" id="7117504">==</span>&nbsp;<span class="ident" id="7117507">token</span><span class="op" id="7117512">.</span><span class="ident" id="7117513">ILLEGAL</span>&nbsp;<span class="op" id="7117521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7117526">//&nbsp;the&nbsp;illegal&nbsp;token&nbsp;literal&nbsp;indicates&nbsp;what</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7117573">//&nbsp;kind&nbsp;of&nbsp;semicolon&nbsp;literal&nbsp;to&nbsp;expect</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117615">semiLit</span>&nbsp;<span class="op" id="7117623">:=</span>&nbsp;<span class="string" id="7117626">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117634">if</span>&nbsp;<span class="ident" id="7117637">lit</span><span class="op" id="7117640">[</span><span class="num" id="7117641">0</span><span class="op" id="7117642">]</span>&nbsp;<span class="op" id="7117644">==</span>&nbsp;<span class="string" id="7117647">&#39;#&#39;</span>&nbsp;<span class="op" id="7117651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117657">semiLit</span>&nbsp;<span class="op" id="7117665">=</span>&nbsp;<span class="string" id="7117667">&#34;;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117674">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7117679">//&nbsp;next&nbsp;token&nbsp;must&nbsp;be&nbsp;a&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117716">semiPos</span>&nbsp;<span class="op" id="7117724">:=</span>&nbsp;<span class="ident" id="7117727">file</span><span class="op" id="7117731">.</span><span class="ident" id="7117732">Position</span><span class="op" id="7117740">(</span><span class="ident" id="7117741">pos</span><span class="op" id="7117744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117749">semiPos</span><span class="op" id="7117756">.</span><span class="ident" id="7117757">Offset</span><span class="op" id="7117763">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117769">semiPos</span><span class="op" id="7117776">.</span><span class="ident" id="7117777">Column</span><span class="op" id="7117783">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117789">pos</span><span class="op" id="7117792">,</span>&nbsp;<span class="ident" id="7117794">tok</span><span class="op" id="7117797">,</span>&nbsp;<span class="ident" id="7117799">lit</span>&nbsp;<span class="op" id="7117803">=</span>&nbsp;<span class="ident" id="7117805">S</span><span class="op" id="7117806">.</span><span class="ident" id="7117807">Scan</span><span class="op" id="7117811">(</span><span class="op" id="7117812">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117817">if</span>&nbsp;<span class="ident" id="7117820">tok</span>&nbsp;<span class="op" id="7117824">==</span>&nbsp;<span class="ident" id="7117827">token</span><span class="op" id="7117832">.</span><span class="ident" id="7117833">SEMICOLON</span>&nbsp;<span class="op" id="7117843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7117849">if</span>&nbsp;<span class="ident" id="7117852">lit</span>&nbsp;<span class="op" id="7117856">!=</span>&nbsp;<span class="ident" id="7117859">semiLit</span>&nbsp;<span class="op" id="7117867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117874">t</span><span class="op" id="7117875">.</span><span class="ident" id="7117876">Errorf</span><span class="op" id="7117882">(</span><span class="string" id="7117883">`bad&nbsp;literal&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%q,&nbsp;expected&nbsp;%q`</span><span class="op" id="7117924">,</span>&nbsp;<span class="ident" id="7117926">line</span><span class="op" id="7117930">,</span>&nbsp;<span class="ident" id="7117932">lit</span><span class="op" id="7117935">,</span>&nbsp;<span class="ident" id="7117937">semiLit</span><span class="op" id="7117944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7117956">checkPos</span><span class="op" id="7117964">(</span><span class="ident" id="7117965">t</span><span class="op" id="7117966">,</span>&nbsp;<span class="ident" id="7117968">line</span><span class="op" id="7117972">,</span>&nbsp;<span class="ident" id="7117974">pos</span><span class="op" id="7117977">,</span>&nbsp;<span class="ident" id="7117979">semiPos</span><span class="op" id="7117986">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7117991">}</span>&nbsp;<span class="keyword" id="7117993">else</span>&nbsp;<span class="op" id="7117998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118004">t</span><span class="op" id="7118005">.</span><span class="ident" id="7118006">Errorf</span><span class="op" id="7118012">(</span><span class="string" id="7118013">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;;&#34;</span><span class="op" id="7118051">,</span>&nbsp;<span class="ident" id="7118053">line</span><span class="op" id="7118057">,</span>&nbsp;<span class="ident" id="7118059">tok</span><span class="op" id="7118062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118071">}</span>&nbsp;<span class="keyword" id="7118073">else</span>&nbsp;<span class="keyword" id="7118078">if</span>&nbsp;<span class="ident" id="7118081">tok</span>&nbsp;<span class="op" id="7118085">==</span>&nbsp;<span class="ident" id="7118088">token</span><span class="op" id="7118093">.</span><span class="ident" id="7118094">SEMICOLON</span>&nbsp;<span class="op" id="7118104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118109">t</span><span class="op" id="7118110">.</span><span class="ident" id="7118111">Errorf</span><span class="op" id="7118117">(</span><span class="string" id="7118118">&#34;bad&nbsp;token&nbsp;for&nbsp;%q:&nbsp;got&nbsp;;,&nbsp;expected&nbsp;no&nbsp;;&#34;</span><span class="op" id="7118158">,</span>&nbsp;<span class="ident" id="7118160">line</span><span class="op" id="7118164">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7118172">pos</span><span class="op" id="7118175">,</span>&nbsp;<span class="ident" id="7118177">tok</span><span class="op" id="7118180">,</span>&nbsp;<span class="ident" id="7118182">lit</span>&nbsp;<span class="op" id="7118186">=</span>&nbsp;<span class="ident" id="7118188">S</span><span class="op" id="7118189">.</span><span class="ident" id="7118190">Scan</span><span class="op" id="7118194">(</span><span class="op" id="7118195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7118198">}</span><br>
<span class="lineno"></span><span class="op" id="7118200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="7118203">var</span>&nbsp;<span class="ident" id="7118207">lines</span>&nbsp;<span class="op" id="7118213">=</span>&nbsp;<span class="op" id="7118215">[</span><span class="op" id="7118216">]</span><span class="builtintype" id="7118217">string</span><span class="op" id="7118223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7118226">//&nbsp;#&nbsp;indicates&nbsp;a&nbsp;semicolon&nbsp;present&nbsp;in&nbsp;the&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7118276">//&nbsp;$&nbsp;indicates&nbsp;an&nbsp;automatically&nbsp;inserted&nbsp;semicolon</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118328">&#34;&#34;</span><span class="op" id="7118330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118333">&#34;\ufeff#;&#34;</span><span class="op" id="7118343">,</span>&nbsp;<span class="comment" id="7118345">//&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118370">&#34;#;&#34;</span><span class="op" id="7118374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118377">&#34;foo$\n&#34;</span><span class="op" id="7118385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118388">&#34;123$\n&#34;</span><span class="op" id="7118396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118399">&#34;1.2$\n&#34;</span><span class="op" id="7118407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118410">&#34;&#39;x&#39;$\n&#34;</span><span class="op" id="7118418">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118421">`&#34;x&#34;`</span>&nbsp;<span class="op" id="7118427">+</span>&nbsp;<span class="string" id="7118429">&#34;$\n&#34;</span><span class="op" id="7118434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118437">&#34;`x`$\n&#34;</span><span class="op" id="7118445">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118449">&#34;+\n&#34;</span><span class="op" id="7118454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118457">&#34;-\n&#34;</span><span class="op" id="7118462">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118465">&#34;*\n&#34;</span><span class="op" id="7118470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118473">&#34;/\n&#34;</span><span class="op" id="7118478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118481">&#34;%\n&#34;</span><span class="op" id="7118486">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118490">&#34;&amp;\n&#34;</span><span class="op" id="7118495">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118498">&#34;|\n&#34;</span><span class="op" id="7118503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118506">&#34;^\n&#34;</span><span class="op" id="7118511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118514">&#34;&lt;&lt;\n&#34;</span><span class="op" id="7118520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118523">&#34;&gt;&gt;\n&#34;</span><span class="op" id="7118529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118532">&#34;&amp;^\n&#34;</span><span class="op" id="7118538">,</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118542">&#34;+=\n&#34;</span><span class="op" id="7118548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118551">&#34;-=\n&#34;</span><span class="op" id="7118557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118560">&#34;*=\n&#34;</span><span class="op" id="7118566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118569">&#34;/=\n&#34;</span><span class="op" id="7118575">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118578">&#34;%=\n&#34;</span><span class="op" id="7118584">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118588">&#34;&amp;=\n&#34;</span><span class="op" id="7118594">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118597">&#34;|=\n&#34;</span><span class="op" id="7118603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118606">&#34;^=\n&#34;</span><span class="op" id="7118612">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118615">&#34;&lt;&lt;=\n&#34;</span><span class="op" id="7118622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118625">&#34;&gt;&gt;=\n&#34;</span><span class="op" id="7118632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118635">&#34;&amp;^=\n&#34;</span><span class="op" id="7118642">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118646">&#34;&amp;&amp;\n&#34;</span><span class="op" id="7118652">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118655">&#34;||\n&#34;</span><span class="op" id="7118661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118664">&#34;&lt;-\n&#34;</span><span class="op" id="7118670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118673">&#34;++$\n&#34;</span><span class="op" id="7118680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118683">&#34;--$\n&#34;</span><span class="op" id="7118690">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118694">&#34;==\n&#34;</span><span class="op" id="7118700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118703">&#34;&lt;\n&#34;</span><span class="op" id="7118708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118711">&#34;&gt;\n&#34;</span><span class="op" id="7118716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118719">&#34;=\n&#34;</span><span class="op" id="7118724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118727">&#34;!\n&#34;</span><span class="op" id="7118732">,</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118736">&#34;!=\n&#34;</span><span class="op" id="7118742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118745">&#34;&lt;=\n&#34;</span><span class="op" id="7118751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118754">&#34;&gt;=\n&#34;</span><span class="op" id="7118760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118763">&#34;:=\n&#34;</span><span class="op" id="7118769">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118772">&#34;...\n&#34;</span><span class="op" id="7118779">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118783">&#34;(\n&#34;</span><span class="op" id="7118788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118791">&#34;[\n&#34;</span><span class="op" id="7118796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118799">&#34;{\n&#34;</span><span class="op" id="7118804">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118807">&#34;,\n&#34;</span><span class="op" id="7118812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118815">&#34;.\n&#34;</span><span class="op" id="7118820">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118824">&#34;)$\n&#34;</span><span class="op" id="7118830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118833">&#34;]$\n&#34;</span><span class="op" id="7118839">,</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118842">&#34;}$\n&#34;</span><span class="op" id="7118848">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118851">&#34;#;\n&#34;</span><span class="op" id="7118857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118860">&#34;:\n&#34;</span><span class="op" id="7118865">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118869">&#34;break$\n&#34;</span><span class="op" id="7118879">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118882">&#34;case\n&#34;</span><span class="op" id="7118890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118893">&#34;chan\n&#34;</span><span class="op" id="7118901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118904">&#34;const\n&#34;</span><span class="op" id="7118913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118916">&#34;continue$\n&#34;</span><span class="op" id="7118929">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118933">&#34;default\n&#34;</span><span class="op" id="7118944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118947">&#34;defer\n&#34;</span><span class="op" id="7118956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118959">&#34;else\n&#34;</span><span class="op" id="7118967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118970">&#34;fallthrough$\n&#34;</span><span class="op" id="7118986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7118989">&#34;for\n&#34;</span><span class="op" id="7118996">,</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119000">&#34;func\n&#34;</span><span class="op" id="7119008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119011">&#34;go\n&#34;</span><span class="op" id="7119017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119020">&#34;goto\n&#34;</span><span class="op" id="7119028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119031">&#34;if\n&#34;</span><span class="op" id="7119037">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119040">&#34;import\n&#34;</span><span class="op" id="7119050">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119054">&#34;interface\n&#34;</span><span class="op" id="7119067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119070">&#34;map\n&#34;</span><span class="op" id="7119077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119080">&#34;package\n&#34;</span><span class="op" id="7119091">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119094">&#34;range\n&#34;</span><span class="op" id="7119103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119106">&#34;return$\n&#34;</span><span class="op" id="7119117">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119121">&#34;select\n&#34;</span><span class="op" id="7119131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119134">&#34;struct\n&#34;</span><span class="op" id="7119144">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119147">&#34;switch\n&#34;</span><span class="op" id="7119157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119160">&#34;type\n&#34;</span><span class="op" id="7119168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119171">&#34;var\n&#34;</span><span class="op" id="7119178">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119182">&#34;foo$//comment\n&#34;</span><span class="op" id="7119199">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119202">&#34;foo$//comment&#34;</span><span class="op" id="7119217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119220">&#34;foo$/*comment*/\n&#34;</span><span class="op" id="7119239">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119242">&#34;foo$/*\n*/&#34;</span><span class="op" id="7119254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119257">&#34;foo$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7119280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119283">&#34;foo$/*\n*/&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7119299">,</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119303">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment\n&#34;</span><span class="op" id="7119325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119328">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$//&nbsp;comment&#34;</span><span class="op" id="7119348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119351">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/\n&#34;</span><span class="op" id="7119374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119377">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*\n*/&#34;</span><span class="op" id="7119393">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119396">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;*/&nbsp;/*&nbsp;\n&nbsp;*/&nbsp;bar$/**/\n&#34;</span><span class="op" id="7119432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119435">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/\n&#34;</span><span class="op" id="7119464">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119468">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*comment*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7119495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119498">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*0*/&nbsp;/*1*/&nbsp;/*2*/&nbsp;&nbsp;&nbsp;&nbsp;\n&#34;</span><span class="op" id="7119531">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119534">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp$/**/&nbsp;/*-------------*/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/*----\n*/bar&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;&nbsp;\n*/baa$\n&#34;</span><span class="op" id="7119605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119608">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&#34;</span><span class="op" id="7119648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119651">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;/*&#34;</span><span class="op" id="7119694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119697">&#34;foo&nbsp;&nbsp;&nbsp;&nbsp;$/*&nbsp;an&nbsp;EOF&nbsp;terminates&nbsp;a&nbsp;line&nbsp;*/&nbsp;//&#34;</span><span class="op" id="7119740">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119744">&#34;package&nbsp;main$\n\nfunc&nbsp;main()&nbsp;{\n\tif&nbsp;{\n\t\treturn&nbsp;/*&nbsp;*/&nbsp;}$\n}$\n&#34;</span><span class="op" id="7119811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7119814">&#34;package&nbsp;main$&#34;</span><span class="op" id="7119829">,</span><br>
<span class="lineno"></span><span class="op" id="7119831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7119834">func</span>&nbsp;<span class="ident" id="7119839">TestSemis</span><span class="op" id="7119848">(</span><span class="ident" id="7119849">t</span>&nbsp;<span class="op" id="7119851">*</span><span class="ident" id="7119852">testing</span><span class="op" id="7119859">.</span><span class="ident" id="7119860">T</span><span class="op" id="7119861">)</span>&nbsp;<span class="op" id="7119863">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7119866">for</span>&nbsp;<span class="ident" id="7119870">_</span><span class="op" id="7119871">,</span>&nbsp;<span class="ident" id="7119873">line</span>&nbsp;<span class="op" id="7119878">:=</span>&nbsp;<span class="keyword" id="7119881">range</span>&nbsp;<span class="ident" id="7119887">lines</span>&nbsp;<span class="op" id="7119893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119897">checkSemi</span><span class="op" id="7119906">(</span><span class="ident" id="7119907">t</span><span class="op" id="7119908">,</span>&nbsp;<span class="ident" id="7119910">line</span><span class="op" id="7119914">,</span>&nbsp;<span class="num" id="7119916">0</span><span class="op" id="7119917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7119921">checkSemi</span><span class="op" id="7119930">(</span><span class="ident" id="7119931">t</span><span class="op" id="7119932">,</span>&nbsp;<span class="ident" id="7119934">line</span><span class="op" id="7119938">,</span>&nbsp;<span class="ident" id="7119940">ScanComments</span><span class="op" id="7119952">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7119957">//&nbsp;if&nbsp;the&nbsp;input&nbsp;ended&nbsp;in&nbsp;newlines,&nbsp;the&nbsp;input&nbsp;must&nbsp;tokenize&nbsp;the</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7120022">//&nbsp;same&nbsp;with&nbsp;or&nbsp;without&nbsp;those&nbsp;newlines</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7120063">for</span>&nbsp;<span class="ident" id="7120067">i</span>&nbsp;<span class="op" id="7120069">:=</span>&nbsp;<span class="builtinfunc" id="7120072">len</span><span class="op" id="7120075">(</span><span class="ident" id="7120076">line</span><span class="op" id="7120080">)</span>&nbsp;<span class="op" id="7120082">-</span>&nbsp;<span class="num" id="7120084">1</span><span class="op" id="7120085">;</span>&nbsp;<span class="ident" id="7120087">i</span>&nbsp;<span class="op" id="7120089">&gt;=</span>&nbsp;<span class="num" id="7120092">0</span>&nbsp;<span class="op" id="7120094">&amp;&amp;</span>&nbsp;<span class="ident" id="7120097">line</span><span class="op" id="7120101">[</span><span class="ident" id="7120102">i</span><span class="op" id="7120103">]</span>&nbsp;<span class="op" id="7120105">==</span>&nbsp;<span class="string" id="7120108">&#39;\n&#39;</span><span class="op" id="7120112">;</span>&nbsp;<span class="ident" id="7120114">i</span><span class="op" id="7120115">--</span>&nbsp;<span class="op" id="7120118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120123">checkSemi</span><span class="op" id="7120132">(</span><span class="ident" id="7120133">t</span><span class="op" id="7120134">,</span>&nbsp;<span class="ident" id="7120136">line</span><span class="op" id="7120140">[</span><span class="num" id="7120141">0</span><span class="op" id="7120142">:</span><span class="ident" id="7120143">i</span><span class="op" id="7120144">]</span><span class="op" id="7120145">,</span>&nbsp;<span class="num" id="7120147">0</span><span class="op" id="7120148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120153">checkSemi</span><span class="op" id="7120162">(</span><span class="ident" id="7120163">t</span><span class="op" id="7120164">,</span>&nbsp;<span class="ident" id="7120166">line</span><span class="op" id="7120170">[</span><span class="num" id="7120171">0</span><span class="op" id="7120172">:</span><span class="ident" id="7120173">i</span><span class="op" id="7120174">]</span><span class="op" id="7120175">,</span>&nbsp;<span class="ident" id="7120177">ScanComments</span><span class="op" id="7120189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120193">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120196">}</span><br>
<span class="lineno"></span><span class="op" id="7120198">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120201">type</span>&nbsp;<span class="ident" id="7120206">segment</span>&nbsp;<span class="keyword" id="7120214">struct</span>&nbsp;<span class="op" id="7120221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120224">srcline</span>&nbsp;&nbsp;<span class="builtintype" id="7120233">string</span>&nbsp;<span class="comment" id="7120240">//&nbsp;a&nbsp;line&nbsp;of&nbsp;source&nbsp;text</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120266">filename</span>&nbsp;<span class="builtintype" id="7120275">string</span>&nbsp;<span class="comment" id="7120282">//&nbsp;filename&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7120313">line</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7120322">int</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7120329">//&nbsp;line&nbsp;number&nbsp;for&nbsp;current&nbsp;token</span><br>
<span class="lineno"></span><span class="op" id="7120362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120365">var</span>&nbsp;<span class="ident" id="7120369">segments</span>&nbsp;<span class="op" id="7120378">=</span>&nbsp;<span class="op" id="7120380">[</span><span class="op" id="7120381">]</span><span class="ident" id="7120382">segment</span><span class="op" id="7120389">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7120392">//&nbsp;exactly&nbsp;one&nbsp;token&nbsp;per&nbsp;line&nbsp;since&nbsp;the&nbsp;test&nbsp;consumes&nbsp;one&nbsp;token&nbsp;per&nbsp;segment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120469">{</span><span class="string" id="7120470">&#34;&nbsp;&nbsp;line1&#34;</span><span class="op" id="7120479">,</span>&nbsp;<span class="ident" id="7120481">filepath</span><span class="op" id="7120489">.</span><span class="ident" id="7120490">Join</span><span class="op" id="7120494">(</span><span class="string" id="7120495">&#34;dir&#34;</span><span class="op" id="7120500">,</span>&nbsp;<span class="string" id="7120502">&#34;TestLineComments&#34;</span><span class="op" id="7120520">)</span><span class="op" id="7120521">,</span>&nbsp;<span class="num" id="7120523">1</span><span class="op" id="7120524">}</span><span class="op" id="7120525">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120528">{</span><span class="string" id="7120529">&#34;\nline2&#34;</span><span class="op" id="7120538">,</span>&nbsp;<span class="ident" id="7120540">filepath</span><span class="op" id="7120548">.</span><span class="ident" id="7120549">Join</span><span class="op" id="7120553">(</span><span class="string" id="7120554">&#34;dir&#34;</span><span class="op" id="7120559">,</span>&nbsp;<span class="string" id="7120561">&#34;TestLineComments&#34;</span><span class="op" id="7120579">)</span><span class="op" id="7120580">,</span>&nbsp;<span class="num" id="7120582">2</span><span class="op" id="7120583">}</span><span class="op" id="7120584">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120587">{</span><span class="string" id="7120588">&#34;\nline3&nbsp;&nbsp;//line&nbsp;File1.go:100&#34;</span><span class="op" id="7120618">,</span>&nbsp;<span class="ident" id="7120620">filepath</span><span class="op" id="7120628">.</span><span class="ident" id="7120629">Join</span><span class="op" id="7120633">(</span><span class="string" id="7120634">&#34;dir&#34;</span><span class="op" id="7120639">,</span>&nbsp;<span class="string" id="7120641">&#34;TestLineComments&#34;</span><span class="op" id="7120659">)</span><span class="op" id="7120660">,</span>&nbsp;<span class="num" id="7120662">3</span><span class="op" id="7120663">}</span><span class="op" id="7120664">,</span>&nbsp;<span class="comment" id="7120666">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120696">{</span><span class="string" id="7120697">&#34;\nline4&#34;</span><span class="op" id="7120706">,</span>&nbsp;<span class="ident" id="7120708">filepath</span><span class="op" id="7120716">.</span><span class="ident" id="7120717">Join</span><span class="op" id="7120721">(</span><span class="string" id="7120722">&#34;dir&#34;</span><span class="op" id="7120727">,</span>&nbsp;<span class="string" id="7120729">&#34;TestLineComments&#34;</span><span class="op" id="7120747">)</span><span class="op" id="7120748">,</span>&nbsp;<span class="num" id="7120750">4</span><span class="op" id="7120751">}</span><span class="op" id="7120752">,</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120755">{</span><span class="string" id="7120756">&#34;\n//line&nbsp;File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7120790">,</span>&nbsp;<span class="ident" id="7120792">filepath</span><span class="op" id="7120800">.</span><span class="ident" id="7120801">Join</span><span class="op" id="7120805">(</span><span class="string" id="7120806">&#34;dir&#34;</span><span class="op" id="7120811">,</span>&nbsp;<span class="string" id="7120813">&#34;File1.go&#34;</span><span class="op" id="7120823">)</span><span class="op" id="7120824">,</span>&nbsp;<span class="num" id="7120826">100</span><span class="op" id="7120829">}</span><span class="op" id="7120830">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120833">{</span><span class="string" id="7120834">&#34;\n//line&nbsp;&nbsp;\t&nbsp;:42\n&nbsp;&nbsp;line1&#34;</span><span class="op" id="7120861">,</span>&nbsp;<span class="string" id="7120863">&#34;&#34;</span><span class="op" id="7120865">,</span>&nbsp;<span class="num" id="7120867">42</span><span class="op" id="7120869">}</span><span class="op" id="7120870">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120873">{</span><span class="string" id="7120874">&#34;\n//line&nbsp;File2.go:200\n&nbsp;&nbsp;line200&#34;</span><span class="op" id="7120908">,</span>&nbsp;<span class="ident" id="7120910">filepath</span><span class="op" id="7120918">.</span><span class="ident" id="7120919">Join</span><span class="op" id="7120923">(</span><span class="string" id="7120924">&#34;dir&#34;</span><span class="op" id="7120929">,</span>&nbsp;<span class="string" id="7120931">&#34;File2.go&#34;</span><span class="op" id="7120941">)</span><span class="op" id="7120942">,</span>&nbsp;<span class="num" id="7120944">200</span><span class="op" id="7120947">}</span><span class="op" id="7120948">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7120951">{</span><span class="string" id="7120952">&#34;\n//line&nbsp;foo\t:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7120981">,</span>&nbsp;<span class="ident" id="7120983">filepath</span><span class="op" id="7120991">.</span><span class="ident" id="7120992">Join</span><span class="op" id="7120996">(</span><span class="string" id="7120997">&#34;dir&#34;</span><span class="op" id="7121002">,</span>&nbsp;<span class="string" id="7121004">&#34;foo&#34;</span><span class="op" id="7121009">)</span><span class="op" id="7121010">,</span>&nbsp;<span class="num" id="7121012">42</span><span class="op" id="7121014">}</span><span class="op" id="7121015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121018">{</span><span class="string" id="7121019">&#34;\n&nbsp;//line&nbsp;foo:42\n&nbsp;&nbsp;line44&#34;</span><span class="op" id="7121047">,</span>&nbsp;<span class="ident" id="7121049">filepath</span><span class="op" id="7121057">.</span><span class="ident" id="7121058">Join</span><span class="op" id="7121062">(</span><span class="string" id="7121063">&#34;dir&#34;</span><span class="op" id="7121068">,</span>&nbsp;<span class="string" id="7121070">&#34;foo&#34;</span><span class="op" id="7121075">)</span><span class="op" id="7121076">,</span>&nbsp;<span class="num" id="7121078">44</span><span class="op" id="7121080">}</span><span class="op" id="7121081">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7121093">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121123">{</span><span class="string" id="7121124">&#34;\n//line&nbsp;foo&nbsp;42\n&nbsp;&nbsp;line46&#34;</span><span class="op" id="7121151">,</span>&nbsp;<span class="ident" id="7121153">filepath</span><span class="op" id="7121161">.</span><span class="ident" id="7121162">Join</span><span class="op" id="7121166">(</span><span class="string" id="7121167">&#34;dir&#34;</span><span class="op" id="7121172">,</span>&nbsp;<span class="string" id="7121174">&#34;foo&#34;</span><span class="op" id="7121179">)</span><span class="op" id="7121180">,</span>&nbsp;<span class="num" id="7121182">46</span><span class="op" id="7121184">}</span><span class="op" id="7121185">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7121198">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121228">{</span><span class="string" id="7121229">&#34;\n//line&nbsp;foo:42&nbsp;extra&nbsp;text\n&nbsp;&nbsp;line48&#34;</span><span class="op" id="7121267">,</span>&nbsp;<span class="ident" id="7121269">filepath</span><span class="op" id="7121277">.</span><span class="ident" id="7121278">Join</span><span class="op" id="7121282">(</span><span class="string" id="7121283">&#34;dir&#34;</span><span class="op" id="7121288">,</span>&nbsp;<span class="string" id="7121290">&#34;foo&#34;</span><span class="op" id="7121295">)</span><span class="op" id="7121296">,</span>&nbsp;<span class="num" id="7121298">48</span><span class="op" id="7121300">}</span><span class="op" id="7121301">,</span>&nbsp;<span class="comment" id="7121303">//&nbsp;bad&nbsp;line&nbsp;comment,&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121333">{</span><span class="string" id="7121334">&#34;\n//line&nbsp;./foo:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7121363">,</span>&nbsp;<span class="ident" id="7121365">filepath</span><span class="op" id="7121373">.</span><span class="ident" id="7121374">Join</span><span class="op" id="7121378">(</span><span class="string" id="7121379">&#34;dir&#34;</span><span class="op" id="7121384">,</span>&nbsp;<span class="string" id="7121386">&#34;foo&#34;</span><span class="op" id="7121391">)</span><span class="op" id="7121392">,</span>&nbsp;<span class="num" id="7121394">42</span><span class="op" id="7121396">}</span><span class="op" id="7121397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121400">{</span><span class="string" id="7121401">&#34;\n//line&nbsp;a/b/c/File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7121441">,</span>&nbsp;<span class="ident" id="7121443">filepath</span><span class="op" id="7121451">.</span><span class="ident" id="7121452">Join</span><span class="op" id="7121456">(</span><span class="string" id="7121457">&#34;dir&#34;</span><span class="op" id="7121462">,</span>&nbsp;<span class="string" id="7121464">&#34;a&#34;</span><span class="op" id="7121467">,</span>&nbsp;<span class="string" id="7121469">&#34;b&#34;</span><span class="op" id="7121472">,</span>&nbsp;<span class="string" id="7121474">&#34;c&#34;</span><span class="op" id="7121477">,</span>&nbsp;<span class="string" id="7121479">&#34;File1.go&#34;</span><span class="op" id="7121489">)</span><span class="op" id="7121490">,</span>&nbsp;<span class="num" id="7121492">100</span><span class="op" id="7121495">}</span><span class="op" id="7121496">,</span><br>
<span class="lineno"></span><span class="op" id="7121498">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="7121501">var</span>&nbsp;<span class="ident" id="7121505">unixsegments</span>&nbsp;<span class="op" id="7121518">=</span>&nbsp;<span class="op" id="7121520">[</span><span class="op" id="7121521">]</span><span class="ident" id="7121522">segment</span><span class="op" id="7121529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121532">{</span><span class="string" id="7121533">&#34;\n//line&nbsp;/bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7121561">,</span>&nbsp;<span class="string" id="7121563">&#34;/bar&#34;</span><span class="op" id="7121569">,</span>&nbsp;<span class="num" id="7121571">42</span><span class="op" id="7121573">}</span><span class="op" id="7121574">,</span><br>
<span class="lineno"></span><span class="op" id="7121576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span><span class="keyword" id="7121579">var</span>&nbsp;<span class="ident" id="7121583">winsegments</span>&nbsp;<span class="op" id="7121595">=</span>&nbsp;<span class="op" id="7121597">[</span><span class="op" id="7121598">]</span><span class="ident" id="7121599">segment</span><span class="op" id="7121606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121609">{</span><span class="string" id="7121610">&#34;\n//line&nbsp;c:\\bar:42\n&nbsp;&nbsp;line42&#34;</span><span class="op" id="7121641">,</span>&nbsp;<span class="string" id="7121643">&#34;c:\\bar&#34;</span><span class="op" id="7121652">,</span>&nbsp;<span class="num" id="7121654">42</span><span class="op" id="7121656">}</span><span class="op" id="7121657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121660">{</span><span class="string" id="7121661">&#34;\n//line&nbsp;c:\\dir\\File1.go:100\n&nbsp;&nbsp;line100&#34;</span><span class="op" id="7121704">,</span>&nbsp;<span class="string" id="7121706">&#34;c:\\dir\\File1.go&#34;</span><span class="op" id="7121725">,</span>&nbsp;<span class="num" id="7121727">100</span><span class="op" id="7121730">}</span><span class="op" id="7121731">,</span><br>
<span class="lineno"></span><span class="op" id="7121733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">515</span><span class="comment" id="7121736">//&nbsp;Verify&nbsp;that&nbsp;comments&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;//line&nbsp;filename:line&#34;&nbsp;are&nbsp;interpreted&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7121822">func</span>&nbsp;<span class="ident" id="7121827">TestLineComments</span><span class="op" id="7121843">(</span><span class="ident" id="7121844">t</span>&nbsp;<span class="op" id="7121846">*</span><span class="ident" id="7121847">testing</span><span class="op" id="7121854">.</span><span class="ident" id="7121855">T</span><span class="op" id="7121856">)</span>&nbsp;<span class="op" id="7121858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121861">segs</span>&nbsp;<span class="op" id="7121866">:=</span>&nbsp;<span class="ident" id="7121869">segments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7121879">if</span>&nbsp;<span class="ident" id="7121882">runtime</span><span class="op" id="7121889">.</span><span class="ident" id="7121890">GOOS</span>&nbsp;<span class="op" id="7121895">==</span>&nbsp;<span class="string" id="7121898">&#34;windows&#34;</span>&nbsp;<span class="op" id="7121908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121912">segs</span>&nbsp;<span class="op" id="7121917">=</span>&nbsp;<span class="builtinfunc" id="7121919">append</span><span class="op" id="7121925">(</span><span class="ident" id="7121926">segs</span><span class="op" id="7121930">,</span>&nbsp;<span class="ident" id="7121932">winsegments</span><span class="op" id="7121943">...</span><span class="op" id="7121946">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121949">}</span>&nbsp;<span class="keyword" id="7121951">else</span>&nbsp;<span class="op" id="7121956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7121960">segs</span>&nbsp;<span class="op" id="7121965">=</span>&nbsp;<span class="builtinfunc" id="7121967">append</span><span class="op" id="7121973">(</span><span class="ident" id="7121974">segs</span><span class="op" id="7121978">,</span>&nbsp;<span class="ident" id="7121980">unixsegments</span><span class="op" id="7121992">...</span><span class="op" id="7121995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7121998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7122002">//&nbsp;make&nbsp;source</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122018">var</span>&nbsp;<span class="ident" id="7122022">src</span>&nbsp;<span class="builtintype" id="7122026">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122034">for</span>&nbsp;<span class="ident" id="7122038">_</span><span class="op" id="7122039">,</span>&nbsp;<span class="ident" id="7122041">e</span>&nbsp;<span class="op" id="7122043">:=</span>&nbsp;<span class="keyword" id="7122046">range</span>&nbsp;<span class="ident" id="7122052">segs</span>&nbsp;<span class="op" id="7122057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122061">src</span>&nbsp;<span class="op" id="7122065">+=</span>&nbsp;<span class="ident" id="7122068">e</span><span class="op" id="7122069">.</span><span class="ident" id="7122070">srcline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7122083">//&nbsp;verify&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122099">var</span>&nbsp;<span class="ident" id="7122103">S</span>&nbsp;<span class="ident" id="7122105">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122114">file</span>&nbsp;<span class="op" id="7122119">:=</span>&nbsp;<span class="ident" id="7122122">fset</span><span class="op" id="7122126">.</span><span class="ident" id="7122127">AddFile</span><span class="op" id="7122134">(</span><span class="ident" id="7122135">filepath</span><span class="op" id="7122143">.</span><span class="ident" id="7122144">Join</span><span class="op" id="7122148">(</span><span class="string" id="7122149">&#34;dir&#34;</span><span class="op" id="7122154">,</span>&nbsp;<span class="string" id="7122156">&#34;TestLineComments&#34;</span><span class="op" id="7122174">)</span><span class="op" id="7122175">,</span>&nbsp;<span class="ident" id="7122177">fset</span><span class="op" id="7122181">.</span><span class="ident" id="7122182">Base</span><span class="op" id="7122186">(</span><span class="op" id="7122187">)</span><span class="op" id="7122188">,</span>&nbsp;<span class="builtinfunc" id="7122190">len</span><span class="op" id="7122193">(</span><span class="ident" id="7122194">src</span><span class="op" id="7122197">)</span><span class="op" id="7122198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122201">S</span><span class="op" id="7122202">.</span><span class="ident" id="7122203">Init</span><span class="op" id="7122207">(</span><span class="ident" id="7122208">file</span><span class="op" id="7122212">,</span>&nbsp;<span class="op" id="7122214">[</span><span class="op" id="7122215">]</span><span class="builtintype" id="7122216">byte</span><span class="op" id="7122220">(</span><span class="ident" id="7122221">src</span><span class="op" id="7122224">)</span><span class="op" id="7122225">,</span>&nbsp;<span class="ident" id="7122227">nil</span><span class="op" id="7122230">,</span>&nbsp;<span class="ident" id="7122232">dontInsertSemis</span><span class="op" id="7122247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122250">for</span>&nbsp;<span class="ident" id="7122254">_</span><span class="op" id="7122255">,</span>&nbsp;<span class="ident" id="7122257">s</span>&nbsp;<span class="op" id="7122259">:=</span>&nbsp;<span class="keyword" id="7122262">range</span>&nbsp;<span class="ident" id="7122268">segs</span>&nbsp;<span class="op" id="7122273">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122277">p</span><span class="op" id="7122278">,</span>&nbsp;<span class="ident" id="7122280">_</span><span class="op" id="7122281">,</span>&nbsp;<span class="ident" id="7122283">lit</span>&nbsp;<span class="op" id="7122287">:=</span>&nbsp;<span class="ident" id="7122290">S</span><span class="op" id="7122291">.</span><span class="ident" id="7122292">Scan</span><span class="op" id="7122296">(</span><span class="op" id="7122297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122301">pos</span>&nbsp;<span class="op" id="7122305">:=</span>&nbsp;<span class="ident" id="7122308">file</span><span class="op" id="7122312">.</span><span class="ident" id="7122313">Position</span><span class="op" id="7122321">(</span><span class="ident" id="7122322">p</span><span class="op" id="7122323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122327">checkPos</span><span class="op" id="7122335">(</span><span class="ident" id="7122336">t</span><span class="op" id="7122337">,</span>&nbsp;<span class="ident" id="7122339">lit</span><span class="op" id="7122342">,</span>&nbsp;<span class="ident" id="7122344">p</span><span class="op" id="7122345">,</span>&nbsp;<span class="ident" id="7122347">token</span><span class="op" id="7122352">.</span><span class="ident" id="7122353">Position</span><span class="op" id="7122361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122366">Filename</span><span class="op" id="7122374">:</span>&nbsp;<span class="ident" id="7122376">s</span><span class="op" id="7122377">.</span><span class="ident" id="7122378">filename</span><span class="op" id="7122386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122391">Offset</span><span class="op" id="7122397">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7122401">pos</span><span class="op" id="7122404">.</span><span class="ident" id="7122405">Offset</span><span class="op" id="7122411">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122416">Line</span><span class="op" id="7122420">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7122426">s</span><span class="op" id="7122427">.</span><span class="ident" id="7122428">line</span><span class="op" id="7122432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122437">Column</span><span class="op" id="7122443">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7122447">pos</span><span class="op" id="7122450">.</span><span class="ident" id="7122451">Column</span><span class="op" id="7122457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122461">}</span><span class="op" id="7122462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122465">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122469">if</span>&nbsp;<span class="ident" id="7122472">S</span><span class="op" id="7122473">.</span><span class="ident" id="7122474">ErrorCount</span>&nbsp;<span class="op" id="7122485">!=</span>&nbsp;<span class="num" id="7122488">0</span>&nbsp;<span class="op" id="7122490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122494">t</span><span class="op" id="7122495">.</span><span class="ident" id="7122496">Errorf</span><span class="op" id="7122502">(</span><span class="string" id="7122503">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7122520">,</span>&nbsp;<span class="ident" id="7122522">S</span><span class="op" id="7122523">.</span><span class="ident" id="7122524">ErrorCount</span><span class="op" id="7122534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122537">}</span><br>
<span class="lineno"></span><span class="op" id="7122539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">550</span><span class="comment" id="7122542">//&nbsp;Verify&nbsp;that&nbsp;initializing&nbsp;the&nbsp;same&nbsp;scanner&nbsp;more&nbsp;than&nbsp;once&nbsp;works&nbsp;correctly.</span><br>
<span class="lineno"></span><span class="keyword" id="7122619">func</span>&nbsp;<span class="ident" id="7122624">TestInit</span><span class="op" id="7122632">(</span><span class="ident" id="7122633">t</span>&nbsp;<span class="op" id="7122635">*</span><span class="ident" id="7122636">testing</span><span class="op" id="7122643">.</span><span class="ident" id="7122644">T</span><span class="op" id="7122645">)</span>&nbsp;<span class="op" id="7122647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122650">var</span>&nbsp;<span class="ident" id="7122654">s</span>&nbsp;<span class="ident" id="7122656">Scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7122666">//&nbsp;1st&nbsp;init</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122679">src1</span>&nbsp;<span class="op" id="7122684">:=</span>&nbsp;<span class="string" id="7122687">&#34;if&nbsp;true&nbsp;{&nbsp;}&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122702">f1</span>&nbsp;<span class="op" id="7122705">:=</span>&nbsp;<span class="ident" id="7122708">fset</span><span class="op" id="7122712">.</span><span class="ident" id="7122713">AddFile</span><span class="op" id="7122720">(</span><span class="string" id="7122721">&#34;src1&#34;</span><span class="op" id="7122727">,</span>&nbsp;<span class="ident" id="7122729">fset</span><span class="op" id="7122733">.</span><span class="ident" id="7122734">Base</span><span class="op" id="7122738">(</span><span class="op" id="7122739">)</span><span class="op" id="7122740">,</span>&nbsp;<span class="builtinfunc" id="7122742">len</span><span class="op" id="7122745">(</span><span class="ident" id="7122746">src1</span><span class="op" id="7122750">)</span><span class="op" id="7122751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122754">s</span><span class="op" id="7122755">.</span><span class="ident" id="7122756">Init</span><span class="op" id="7122760">(</span><span class="ident" id="7122761">f1</span><span class="op" id="7122763">,</span>&nbsp;<span class="op" id="7122765">[</span><span class="op" id="7122766">]</span><span class="builtintype" id="7122767">byte</span><span class="op" id="7122771">(</span><span class="ident" id="7122772">src1</span><span class="op" id="7122776">)</span><span class="op" id="7122777">,</span>&nbsp;<span class="ident" id="7122779">nil</span><span class="op" id="7122782">,</span>&nbsp;<span class="ident" id="7122784">dontInsertSemis</span><span class="op" id="7122799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122802">if</span>&nbsp;<span class="ident" id="7122805">f1</span><span class="op" id="7122807">.</span><span class="ident" id="7122808">Size</span><span class="op" id="7122812">(</span><span class="op" id="7122813">)</span>&nbsp;<span class="op" id="7122815">!=</span>&nbsp;<span class="builtinfunc" id="7122818">len</span><span class="op" id="7122821">(</span><span class="ident" id="7122822">src1</span><span class="op" id="7122826">)</span>&nbsp;<span class="op" id="7122828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122832">t</span><span class="op" id="7122833">.</span><span class="ident" id="7122834">Errorf</span><span class="op" id="7122840">(</span><span class="string" id="7122841">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7122877">,</span>&nbsp;<span class="ident" id="7122879">f1</span><span class="op" id="7122881">.</span><span class="ident" id="7122882">Size</span><span class="op" id="7122886">(</span><span class="op" id="7122887">)</span><span class="op" id="7122888">,</span>&nbsp;<span class="builtinfunc" id="7122890">len</span><span class="op" id="7122893">(</span><span class="ident" id="7122894">src1</span><span class="op" id="7122898">)</span><span class="op" id="7122899">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7122902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122905">s</span><span class="op" id="7122906">.</span><span class="ident" id="7122907">Scan</span><span class="op" id="7122911">(</span><span class="op" id="7122912">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7122927">//&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122934">s</span><span class="op" id="7122935">.</span><span class="ident" id="7122936">Scan</span><span class="op" id="7122940">(</span><span class="op" id="7122941">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7122956">//&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7122965">_</span><span class="op" id="7122966">,</span>&nbsp;<span class="ident" id="7122968">tok</span><span class="op" id="7122971">,</span>&nbsp;<span class="ident" id="7122973">_</span>&nbsp;<span class="op" id="7122975">:=</span>&nbsp;<span class="ident" id="7122978">s</span><span class="op" id="7122979">.</span><span class="ident" id="7122980">Scan</span><span class="op" id="7122984">(</span><span class="op" id="7122985">)</span>&nbsp;<span class="comment" id="7122987">//&nbsp;{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7122993">if</span>&nbsp;<span class="ident" id="7122996">tok</span>&nbsp;<span class="op" id="7123000">!=</span>&nbsp;<span class="ident" id="7123003">token</span><span class="op" id="7123008">.</span><span class="ident" id="7123009">LBRACE</span>&nbsp;<span class="op" id="7123016">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123020">t</span><span class="op" id="7123021">.</span><span class="ident" id="7123022">Errorf</span><span class="op" id="7123028">(</span><span class="string" id="7123029">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7123061">,</span>&nbsp;<span class="ident" id="7123063">tok</span><span class="op" id="7123066">,</span>&nbsp;<span class="ident" id="7123068">token</span><span class="op" id="7123073">.</span><span class="ident" id="7123074">LBRACE</span><span class="op" id="7123080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7123083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7123087">//&nbsp;2nd&nbsp;init</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123100">src2</span>&nbsp;<span class="op" id="7123105">:=</span>&nbsp;<span class="string" id="7123108">&#34;go&nbsp;true&nbsp;{&nbsp;]&#34;</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123123">f2</span>&nbsp;<span class="op" id="7123126">:=</span>&nbsp;<span class="ident" id="7123129">fset</span><span class="op" id="7123133">.</span><span class="ident" id="7123134">AddFile</span><span class="op" id="7123141">(</span><span class="string" id="7123142">&#34;src2&#34;</span><span class="op" id="7123148">,</span>&nbsp;<span class="ident" id="7123150">fset</span><span class="op" id="7123154">.</span><span class="ident" id="7123155">Base</span><span class="op" id="7123159">(</span><span class="op" id="7123160">)</span><span class="op" id="7123161">,</span>&nbsp;<span class="builtinfunc" id="7123163">len</span><span class="op" id="7123166">(</span><span class="ident" id="7123167">src2</span><span class="op" id="7123171">)</span><span class="op" id="7123172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123175">s</span><span class="op" id="7123176">.</span><span class="ident" id="7123177">Init</span><span class="op" id="7123181">(</span><span class="ident" id="7123182">f2</span><span class="op" id="7123184">,</span>&nbsp;<span class="op" id="7123186">[</span><span class="op" id="7123187">]</span><span class="builtintype" id="7123188">byte</span><span class="op" id="7123192">(</span><span class="ident" id="7123193">src2</span><span class="op" id="7123197">)</span><span class="op" id="7123198">,</span>&nbsp;<span class="ident" id="7123200">nil</span><span class="op" id="7123203">,</span>&nbsp;<span class="ident" id="7123205">dontInsertSemis</span><span class="op" id="7123220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7123223">if</span>&nbsp;<span class="ident" id="7123226">f2</span><span class="op" id="7123228">.</span><span class="ident" id="7123229">Size</span><span class="op" id="7123233">(</span><span class="op" id="7123234">)</span>&nbsp;<span class="op" id="7123236">!=</span>&nbsp;<span class="builtinfunc" id="7123239">len</span><span class="op" id="7123242">(</span><span class="ident" id="7123243">src2</span><span class="op" id="7123247">)</span>&nbsp;<span class="op" id="7123249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123253">t</span><span class="op" id="7123254">.</span><span class="ident" id="7123255">Errorf</span><span class="op" id="7123261">(</span><span class="string" id="7123262">&#34;bad&nbsp;file&nbsp;size:&nbsp;got&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7123298">,</span>&nbsp;<span class="ident" id="7123300">f2</span><span class="op" id="7123302">.</span><span class="ident" id="7123303">Size</span><span class="op" id="7123307">(</span><span class="op" id="7123308">)</span><span class="op" id="7123309">,</span>&nbsp;<span class="builtinfunc" id="7123311">len</span><span class="op" id="7123314">(</span><span class="ident" id="7123315">src2</span><span class="op" id="7123319">)</span><span class="op" id="7123320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7123323">}</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123326">_</span><span class="op" id="7123327">,</span>&nbsp;<span class="ident" id="7123329">tok</span><span class="op" id="7123332">,</span>&nbsp;<span class="ident" id="7123334">_</span>&nbsp;<span class="op" id="7123336">=</span>&nbsp;<span class="ident" id="7123338">s</span><span class="op" id="7123339">.</span><span class="ident" id="7123340">Scan</span><span class="op" id="7123344">(</span><span class="op" id="7123345">)</span>&nbsp;<span class="comment" id="7123347">//&nbsp;go</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7123354">if</span>&nbsp;<span class="ident" id="7123357">tok</span>&nbsp;<span class="op" id="7123361">!=</span>&nbsp;<span class="ident" id="7123364">token</span><span class="op" id="7123369">.</span><span class="ident" id="7123370">GO</span>&nbsp;<span class="op" id="7123373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123377">t</span><span class="op" id="7123378">.</span><span class="ident" id="7123379">Errorf</span><span class="op" id="7123385">(</span><span class="string" id="7123386">&#34;bad&nbsp;token:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7123418">,</span>&nbsp;<span class="ident" id="7123420">tok</span><span class="op" id="7123423">,</span>&nbsp;<span class="ident" id="7123425">token</span><span class="op" id="7123430">.</span><span class="ident" id="7123431">GO</span><span class="op" id="7123433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7123436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7123440">if</span>&nbsp;<span class="ident" id="7123443">s</span><span class="op" id="7123444">.</span><span class="ident" id="7123445">ErrorCount</span>&nbsp;<span class="op" id="7123456">!=</span>&nbsp;<span class="num" id="7123459">0</span>&nbsp;<span class="op" id="7123461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123465">t</span><span class="op" id="7123466">.</span><span class="ident" id="7123467">Errorf</span><span class="op" id="7123473">(</span><span class="string" id="7123474">&#34;found&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="7123491">,</span>&nbsp;<span class="ident" id="7123493">s</span><span class="op" id="7123494">.</span><span class="ident" id="7123495">ErrorCount</span><span class="op" id="7123505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7123508">}</span><br>
<span class="lineno"></span><span class="op" id="7123510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">585</span><span class="keyword" id="7123513">func</span>&nbsp;<span class="ident" id="7123518">TestStdErrorHander</span><span class="op" id="7123536">(</span><span class="ident" id="7123537">t</span>&nbsp;<span class="op" id="7123539">*</span><span class="ident" id="7123540">testing</span><span class="op" id="7123547">.</span><span class="ident" id="7123548">T</span><span class="op" id="7123549">)</span>&nbsp;<span class="op" id="7123551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7123554">const</span>&nbsp;<span class="ident" id="7123560">src</span>&nbsp;<span class="op" id="7123564">=</span>&nbsp;<span class="string" id="7123566">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7123572">+</span>&nbsp;<span class="comment" id="7123574">//&nbsp;illegal&nbsp;character,&nbsp;cause&nbsp;an&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123613">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7123621">+</span>&nbsp;<span class="comment" id="7123623">//&nbsp;two&nbsp;errors&nbsp;on&nbsp;the&nbsp;same&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123656">&#34;//line&nbsp;File2:20\n&#34;</span>&nbsp;<span class="op" id="7123676">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123680">&#34;@\n&#34;</span>&nbsp;<span class="op" id="7123686">+</span>&nbsp;<span class="comment" id="7123688">//&nbsp;different&nbsp;file,&nbsp;but&nbsp;same&nbsp;line</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123723">&#34;//line&nbsp;File2:1\n&#34;</span>&nbsp;<span class="op" id="7123742">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123746">&#34;@&nbsp;@\n&#34;</span>&nbsp;<span class="op" id="7123754">+</span>&nbsp;<span class="comment" id="7123756">//&nbsp;same&nbsp;file,&nbsp;decreasing&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123795">&#34;//line&nbsp;File1:1\n&#34;</span>&nbsp;<span class="op" id="7123814">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7123818">&#34;@&nbsp;@&nbsp;@&#34;</span>&nbsp;<span class="comment" id="7123826">//&nbsp;original&nbsp;file,&nbsp;line&nbsp;1&nbsp;again</span><br>
<span class="lineno"></span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7123859">var</span>&nbsp;<span class="ident" id="7123863">list</span>&nbsp;<span class="ident" id="7123868">ErrorList</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123879">eh</span>&nbsp;<span class="op" id="7123882">:=</span>&nbsp;<span class="keyword" id="7123885">func</span><span class="op" id="7123889">(</span><span class="ident" id="7123890">pos</span>&nbsp;<span class="ident" id="7123894">token</span><span class="op" id="7123899">.</span><span class="ident" id="7123900">Position</span><span class="op" id="7123908">,</span>&nbsp;<span class="ident" id="7123910">msg</span>&nbsp;<span class="builtintype" id="7123914">string</span><span class="op" id="7123920">)</span>&nbsp;<span class="op" id="7123922">{</span>&nbsp;<span class="ident" id="7123924">list</span><span class="op" id="7123928">.</span><span class="ident" id="7123929">Add</span><span class="op" id="7123932">(</span><span class="ident" id="7123933">pos</span><span class="op" id="7123936">,</span>&nbsp;<span class="ident" id="7123938">msg</span><span class="op" id="7123941">)</span>&nbsp;<span class="op" id="7123943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7123947">var</span>&nbsp;<span class="ident" id="7123951">s</span>&nbsp;<span class="ident" id="7123953">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7123962">s</span><span class="op" id="7123963">.</span><span class="ident" id="7123964">Init</span><span class="op" id="7123968">(</span><span class="ident" id="7123969">fset</span><span class="op" id="7123973">.</span><span class="ident" id="7123974">AddFile</span><span class="op" id="7123981">(</span><span class="string" id="7123982">&#34;File1&#34;</span><span class="op" id="7123989">,</span>&nbsp;<span class="ident" id="7123991">fset</span><span class="op" id="7123995">.</span><span class="ident" id="7123996">Base</span><span class="op" id="7124000">(</span><span class="op" id="7124001">)</span><span class="op" id="7124002">,</span>&nbsp;<span class="builtinfunc" id="7124004">len</span><span class="op" id="7124007">(</span><span class="ident" id="7124008">src</span><span class="op" id="7124011">)</span><span class="op" id="7124012">)</span><span class="op" id="7124013">,</span>&nbsp;<span class="op" id="7124015">[</span><span class="op" id="7124016">]</span><span class="builtintype" id="7124017">byte</span><span class="op" id="7124021">(</span><span class="ident" id="7124022">src</span><span class="op" id="7124025">)</span><span class="op" id="7124026">,</span>&nbsp;<span class="ident" id="7124028">eh</span><span class="op" id="7124030">,</span>&nbsp;<span class="ident" id="7124032">dontInsertSemis</span><span class="op" id="7124047">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124050">for</span>&nbsp;<span class="op" id="7124054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124058">if</span>&nbsp;<span class="ident" id="7124061">_</span><span class="op" id="7124062">,</span>&nbsp;<span class="ident" id="7124064">tok</span><span class="op" id="7124067">,</span>&nbsp;<span class="ident" id="7124069">_</span>&nbsp;<span class="op" id="7124071">:=</span>&nbsp;<span class="ident" id="7124074">s</span><span class="op" id="7124075">.</span><span class="ident" id="7124076">Scan</span><span class="op" id="7124080">(</span><span class="op" id="7124081">)</span><span class="op" id="7124082">;</span>&nbsp;<span class="ident" id="7124084">tok</span>&nbsp;<span class="op" id="7124088">==</span>&nbsp;<span class="ident" id="7124091">token</span><span class="op" id="7124096">.</span><span class="ident" id="7124097">EOF</span>&nbsp;<span class="op" id="7124101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124106">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7124114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7124117">}</span><br>
<span class="lineno">605</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124121">if</span>&nbsp;<span class="builtinfunc" id="7124124">len</span><span class="op" id="7124127">(</span><span class="ident" id="7124128">list</span><span class="op" id="7124132">)</span>&nbsp;<span class="op" id="7124134">!=</span>&nbsp;<span class="ident" id="7124137">s</span><span class="op" id="7124138">.</span><span class="ident" id="7124139">ErrorCount</span>&nbsp;<span class="op" id="7124150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124154">t</span><span class="op" id="7124155">.</span><span class="ident" id="7124156">Errorf</span><span class="op" id="7124162">(</span><span class="string" id="7124163">&#34;found&nbsp;%d&nbsp;errors,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7124193">,</span>&nbsp;<span class="builtinfunc" id="7124195">len</span><span class="op" id="7124198">(</span><span class="ident" id="7124199">list</span><span class="op" id="7124203">)</span><span class="op" id="7124204">,</span>&nbsp;<span class="ident" id="7124206">s</span><span class="op" id="7124207">.</span><span class="ident" id="7124208">ErrorCount</span><span class="op" id="7124218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7124221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124225">if</span>&nbsp;<span class="builtinfunc" id="7124228">len</span><span class="op" id="7124231">(</span><span class="ident" id="7124232">list</span><span class="op" id="7124236">)</span>&nbsp;<span class="op" id="7124238">!=</span>&nbsp;<span class="num" id="7124241">9</span>&nbsp;<span class="op" id="7124243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124247">t</span><span class="op" id="7124248">.</span><span class="ident" id="7124249">Errorf</span><span class="op" id="7124255">(</span><span class="string" id="7124256">&#34;found&nbsp;%d&nbsp;raw&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7124289">,</span>&nbsp;<span class="builtinfunc" id="7124291">len</span><span class="op" id="7124294">(</span><span class="ident" id="7124295">list</span><span class="op" id="7124299">)</span><span class="op" id="7124300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124304">PrintError</span><span class="op" id="7124314">(</span><span class="ident" id="7124315">os</span><span class="op" id="7124317">.</span><span class="ident" id="7124318">Stderr</span><span class="op" id="7124324">,</span>&nbsp;<span class="ident" id="7124326">list</span><span class="op" id="7124330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7124333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124337">list</span><span class="op" id="7124341">.</span><span class="ident" id="7124342">Sort</span><span class="op" id="7124346">(</span><span class="op" id="7124347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124350">if</span>&nbsp;<span class="builtinfunc" id="7124353">len</span><span class="op" id="7124356">(</span><span class="ident" id="7124357">list</span><span class="op" id="7124361">)</span>&nbsp;<span class="op" id="7124363">!=</span>&nbsp;<span class="num" id="7124366">9</span>&nbsp;<span class="op" id="7124368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124372">t</span><span class="op" id="7124373">.</span><span class="ident" id="7124374">Errorf</span><span class="op" id="7124380">(</span><span class="string" id="7124381">&#34;found&nbsp;%d&nbsp;sorted&nbsp;errors,&nbsp;expected&nbsp;9&#34;</span><span class="op" id="7124417">,</span>&nbsp;<span class="builtinfunc" id="7124419">len</span><span class="op" id="7124422">(</span><span class="ident" id="7124423">list</span><span class="op" id="7124427">)</span><span class="op" id="7124428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124432">PrintError</span><span class="op" id="7124442">(</span><span class="ident" id="7124443">os</span><span class="op" id="7124445">.</span><span class="ident" id="7124446">Stderr</span><span class="op" id="7124452">,</span>&nbsp;<span class="ident" id="7124454">list</span><span class="op" id="7124458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7124461">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124465">list</span><span class="op" id="7124469">.</span><span class="ident" id="7124470">RemoveMultiples</span><span class="op" id="7124485">(</span><span class="op" id="7124486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124489">if</span>&nbsp;<span class="builtinfunc" id="7124492">len</span><span class="op" id="7124495">(</span><span class="ident" id="7124496">list</span><span class="op" id="7124500">)</span>&nbsp;<span class="op" id="7124502">!=</span>&nbsp;<span class="num" id="7124505">4</span>&nbsp;<span class="op" id="7124507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124511">t</span><span class="op" id="7124512">.</span><span class="ident" id="7124513">Errorf</span><span class="op" id="7124519">(</span><span class="string" id="7124520">&#34;found&nbsp;%d&nbsp;one-per-line&nbsp;errors,&nbsp;expected&nbsp;4&#34;</span><span class="op" id="7124562">,</span>&nbsp;<span class="builtinfunc" id="7124564">len</span><span class="op" id="7124567">(</span><span class="ident" id="7124568">list</span><span class="op" id="7124572">)</span><span class="op" id="7124573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124577">PrintError</span><span class="op" id="7124587">(</span><span class="ident" id="7124588">os</span><span class="op" id="7124590">.</span><span class="ident" id="7124591">Stderr</span><span class="op" id="7124597">,</span>&nbsp;<span class="ident" id="7124599">list</span><span class="op" id="7124603">)</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7124606">}</span><br>
<span class="lineno"></span><span class="op" id="7124608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7124611">type</span>&nbsp;<span class="ident" id="7124616">errorCollector</span>&nbsp;<span class="keyword" id="7124631">struct</span>&nbsp;<span class="op" id="7124638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124641">cnt</span>&nbsp;<span class="builtintype" id="7124645">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7124660">//&nbsp;number&nbsp;of&nbsp;errors&nbsp;encountered</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124693">msg</span>&nbsp;<span class="builtintype" id="7124697">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7124712">//&nbsp;last&nbsp;error&nbsp;message&nbsp;encountered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124747">pos</span>&nbsp;<span class="ident" id="7124751">token</span><span class="op" id="7124756">.</span><span class="ident" id="7124757">Position</span>&nbsp;<span class="comment" id="7124766">//&nbsp;last&nbsp;error&nbsp;position&nbsp;encountered</span><br>
<span class="lineno"></span><span class="op" id="7124801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7124804">func</span>&nbsp;<span class="ident" id="7124809">checkError</span><span class="op" id="7124819">(</span><span class="ident" id="7124820">t</span>&nbsp;<span class="op" id="7124822">*</span><span class="ident" id="7124823">testing</span><span class="op" id="7124830">.</span><span class="ident" id="7124831">T</span><span class="op" id="7124832">,</span>&nbsp;<span class="ident" id="7124834">src</span>&nbsp;<span class="builtintype" id="7124838">string</span><span class="op" id="7124844">,</span>&nbsp;<span class="ident" id="7124846">tok</span>&nbsp;<span class="ident" id="7124850">token</span><span class="op" id="7124855">.</span><span class="ident" id="7124856">Token</span><span class="op" id="7124861">,</span>&nbsp;<span class="ident" id="7124863">pos</span>&nbsp;<span class="builtintype" id="7124867">int</span><span class="op" id="7124870">,</span>&nbsp;<span class="ident" id="7124872">lit</span><span class="op" id="7124875">,</span>&nbsp;<span class="ident" id="7124877">err</span>&nbsp;<span class="builtintype" id="7124881">string</span><span class="op" id="7124887">)</span>&nbsp;<span class="op" id="7124889">{</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124892">var</span>&nbsp;<span class="ident" id="7124896">s</span>&nbsp;<span class="ident" id="7124898">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7124907">var</span>&nbsp;<span class="ident" id="7124911">h</span>&nbsp;<span class="ident" id="7124913">errorCollector</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124929">eh</span>&nbsp;<span class="op" id="7124932">:=</span>&nbsp;<span class="keyword" id="7124935">func</span><span class="op" id="7124939">(</span><span class="ident" id="7124940">pos</span>&nbsp;<span class="ident" id="7124944">token</span><span class="op" id="7124949">.</span><span class="ident" id="7124950">Position</span><span class="op" id="7124958">,</span>&nbsp;<span class="ident" id="7124960">msg</span>&nbsp;<span class="builtintype" id="7124964">string</span><span class="op" id="7124970">)</span>&nbsp;<span class="op" id="7124972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124976">h</span><span class="op" id="7124977">.</span><span class="ident" id="7124978">cnt</span><span class="op" id="7124981">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7124986">h</span><span class="op" id="7124987">.</span><span class="ident" id="7124988">msg</span>&nbsp;<span class="op" id="7124992">=</span>&nbsp;<span class="ident" id="7124994">msg</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125000">h</span><span class="op" id="7125001">.</span><span class="ident" id="7125002">pos</span>&nbsp;<span class="op" id="7125006">=</span>&nbsp;<span class="ident" id="7125008">pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125016">s</span><span class="op" id="7125017">.</span><span class="ident" id="7125018">Init</span><span class="op" id="7125022">(</span><span class="ident" id="7125023">fset</span><span class="op" id="7125027">.</span><span class="ident" id="7125028">AddFile</span><span class="op" id="7125035">(</span><span class="string" id="7125036">&#34;&#34;</span><span class="op" id="7125038">,</span>&nbsp;<span class="ident" id="7125040">fset</span><span class="op" id="7125044">.</span><span class="ident" id="7125045">Base</span><span class="op" id="7125049">(</span><span class="op" id="7125050">)</span><span class="op" id="7125051">,</span>&nbsp;<span class="builtinfunc" id="7125053">len</span><span class="op" id="7125056">(</span><span class="ident" id="7125057">src</span><span class="op" id="7125060">)</span><span class="op" id="7125061">)</span><span class="op" id="7125062">,</span>&nbsp;<span class="op" id="7125064">[</span><span class="op" id="7125065">]</span><span class="builtintype" id="7125066">byte</span><span class="op" id="7125070">(</span><span class="ident" id="7125071">src</span><span class="op" id="7125074">)</span><span class="op" id="7125075">,</span>&nbsp;<span class="ident" id="7125077">eh</span><span class="op" id="7125079">,</span>&nbsp;<span class="ident" id="7125081">ScanComments</span><span class="op" id="7125093">|</span><span class="ident" id="7125094">dontInsertSemis</span><span class="op" id="7125109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125112">_</span><span class="op" id="7125113">,</span>&nbsp;<span class="ident" id="7125115">tok0</span><span class="op" id="7125119">,</span>&nbsp;<span class="ident" id="7125121">lit0</span>&nbsp;<span class="op" id="7125126">:=</span>&nbsp;<span class="ident" id="7125129">s</span><span class="op" id="7125130">.</span><span class="ident" id="7125131">Scan</span><span class="op" id="7125135">(</span><span class="op" id="7125136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7125139">if</span>&nbsp;<span class="ident" id="7125142">tok0</span>&nbsp;<span class="op" id="7125147">!=</span>&nbsp;<span class="ident" id="7125150">tok</span>&nbsp;<span class="op" id="7125154">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125158">t</span><span class="op" id="7125159">.</span><span class="ident" id="7125160">Errorf</span><span class="op" id="7125166">(</span><span class="string" id="7125167">&#34;%q:&nbsp;got&nbsp;%s,&nbsp;expected&nbsp;%s&#34;</span><span class="op" id="7125192">,</span>&nbsp;<span class="ident" id="7125194">src</span><span class="op" id="7125197">,</span>&nbsp;<span class="ident" id="7125199">tok0</span><span class="op" id="7125203">,</span>&nbsp;<span class="ident" id="7125205">tok</span><span class="op" id="7125208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7125214">if</span>&nbsp;<span class="ident" id="7125217">tok0</span>&nbsp;<span class="op" id="7125222">!=</span>&nbsp;<span class="ident" id="7125225">token</span><span class="op" id="7125230">.</span><span class="ident" id="7125231">ILLEGAL</span>&nbsp;<span class="op" id="7125239">&amp;&amp;</span>&nbsp;<span class="ident" id="7125242">lit0</span>&nbsp;<span class="op" id="7125247">!=</span>&nbsp;<span class="ident" id="7125250">lit</span>&nbsp;<span class="op" id="7125254">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125258">t</span><span class="op" id="7125259">.</span><span class="ident" id="7125260">Errorf</span><span class="op" id="7125266">(</span><span class="string" id="7125267">&#34;%q:&nbsp;got&nbsp;literal&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7125300">,</span>&nbsp;<span class="ident" id="7125302">src</span><span class="op" id="7125305">,</span>&nbsp;<span class="ident" id="7125307">lit0</span><span class="op" id="7125311">,</span>&nbsp;<span class="ident" id="7125313">lit</span><span class="op" id="7125316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125319">}</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125322">cnt</span>&nbsp;<span class="op" id="7125326">:=</span>&nbsp;<span class="num" id="7125329">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7125332">if</span>&nbsp;<span class="ident" id="7125335">err</span>&nbsp;<span class="op" id="7125339">!=</span>&nbsp;<span class="string" id="7125342">&#34;&#34;</span>&nbsp;<span class="op" id="7125345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125349">cnt</span>&nbsp;<span class="op" id="7125353">=</span>&nbsp;<span class="num" id="7125355">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7125361">if</span>&nbsp;<span class="ident" id="7125364">h</span><span class="op" id="7125365">.</span><span class="ident" id="7125366">cnt</span>&nbsp;<span class="op" id="7125370">!=</span>&nbsp;<span class="ident" id="7125373">cnt</span>&nbsp;<span class="op" id="7125377">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125381">t</span><span class="op" id="7125382">.</span><span class="ident" id="7125383">Errorf</span><span class="op" id="7125389">(</span><span class="string" id="7125390">&#34;%q:&nbsp;got&nbsp;cnt&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7125419">,</span>&nbsp;<span class="ident" id="7125421">src</span><span class="op" id="7125424">,</span>&nbsp;<span class="ident" id="7125426">h</span><span class="op" id="7125427">.</span><span class="ident" id="7125428">cnt</span><span class="op" id="7125431">,</span>&nbsp;<span class="ident" id="7125433">cnt</span><span class="op" id="7125436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7125442">if</span>&nbsp;<span class="ident" id="7125445">h</span><span class="op" id="7125446">.</span><span class="ident" id="7125447">msg</span>&nbsp;<span class="op" id="7125451">!=</span>&nbsp;<span class="ident" id="7125454">err</span>&nbsp;<span class="op" id="7125458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125462">t</span><span class="op" id="7125463">.</span><span class="ident" id="7125464">Errorf</span><span class="op" id="7125470">(</span><span class="string" id="7125471">&#34;%q:&nbsp;got&nbsp;msg&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="7125500">,</span>&nbsp;<span class="ident" id="7125502">src</span><span class="op" id="7125505">,</span>&nbsp;<span class="ident" id="7125507">h</span><span class="op" id="7125508">.</span><span class="ident" id="7125509">msg</span><span class="op" id="7125512">,</span>&nbsp;<span class="ident" id="7125514">err</span><span class="op" id="7125517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125520">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7125523">if</span>&nbsp;<span class="ident" id="7125526">h</span><span class="op" id="7125527">.</span><span class="ident" id="7125528">pos</span><span class="op" id="7125531">.</span><span class="ident" id="7125532">Offset</span>&nbsp;<span class="op" id="7125539">!=</span>&nbsp;<span class="ident" id="7125542">pos</span>&nbsp;<span class="op" id="7125546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125550">t</span><span class="op" id="7125551">.</span><span class="ident" id="7125552">Errorf</span><span class="op" id="7125558">(</span><span class="string" id="7125559">&#34;%q:&nbsp;got&nbsp;offset&nbsp;%d,&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="7125591">,</span>&nbsp;<span class="ident" id="7125593">src</span><span class="op" id="7125596">,</span>&nbsp;<span class="ident" id="7125598">h</span><span class="op" id="7125599">.</span><span class="ident" id="7125600">pos</span><span class="op" id="7125603">.</span><span class="ident" id="7125604">Offset</span><span class="op" id="7125610">,</span>&nbsp;<span class="ident" id="7125612">pos</span><span class="op" id="7125615">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125618">}</span><br>
<span class="lineno"></span><span class="op" id="7125620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">665</span><span class="keyword" id="7125623">var</span>&nbsp;<span class="ident" id="7125627">errors</span>&nbsp;<span class="op" id="7125634">=</span>&nbsp;<span class="op" id="7125636">[</span><span class="op" id="7125637">]</span><span class="keyword" id="7125638">struct</span>&nbsp;<span class="op" id="7125645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125648">src</span>&nbsp;<span class="builtintype" id="7125652">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125660">tok</span>&nbsp;<span class="ident" id="7125664">token</span><span class="op" id="7125669">.</span><span class="ident" id="7125670">Token</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125677">pos</span>&nbsp;<span class="builtintype" id="7125681">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125686">lit</span>&nbsp;<span class="builtintype" id="7125690">string</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7125698">err</span>&nbsp;<span class="builtintype" id="7125702">string</span><br>
<span class="lineno"></span><span class="op" id="7125709">}</span><span class="op" id="7125710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125713">{</span><span class="string" id="7125714">&#34;\a&#34;</span><span class="op" id="7125718">,</span>&nbsp;<span class="ident" id="7125720">token</span><span class="op" id="7125725">.</span><span class="ident" id="7125726">ILLEGAL</span><span class="op" id="7125733">,</span>&nbsp;<span class="num" id="7125735">0</span><span class="op" id="7125736">,</span>&nbsp;<span class="string" id="7125738">&#34;&#34;</span><span class="op" id="7125740">,</span>&nbsp;<span class="string" id="7125742">&#34;illegal&nbsp;character&nbsp;U+0007&#34;</span><span class="op" id="7125768">}</span><span class="op" id="7125769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125772">{</span><span class="string" id="7125773">`#`</span><span class="op" id="7125776">,</span>&nbsp;<span class="ident" id="7125778">token</span><span class="op" id="7125783">.</span><span class="ident" id="7125784">ILLEGAL</span><span class="op" id="7125791">,</span>&nbsp;<span class="num" id="7125793">0</span><span class="op" id="7125794">,</span>&nbsp;<span class="string" id="7125796">&#34;&#34;</span><span class="op" id="7125798">,</span>&nbsp;<span class="string" id="7125800">&#34;illegal&nbsp;character&nbsp;U+0023&nbsp;&#39;#&#39;&#34;</span><span class="op" id="7125830">}</span><span class="op" id="7125831">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125834">{</span><span class="string" id="7125835">`…`</span><span class="op" id="7125840">,</span>&nbsp;<span class="ident" id="7125842">token</span><span class="op" id="7125847">.</span><span class="ident" id="7125848">ILLEGAL</span><span class="op" id="7125855">,</span>&nbsp;<span class="num" id="7125857">0</span><span class="op" id="7125858">,</span>&nbsp;<span class="string" id="7125860">&#34;&#34;</span><span class="op" id="7125862">,</span>&nbsp;<span class="string" id="7125864">&#34;illegal&nbsp;character&nbsp;U+2026&nbsp;&#39;…&#39;&#34;</span><span class="op" id="7125896">}</span><span class="op" id="7125897">,</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125900">{</span><span class="string" id="7125901">`&#39;&nbsp;&#39;`</span><span class="op" id="7125906">,</span>&nbsp;<span class="ident" id="7125908">token</span><span class="op" id="7125913">.</span><span class="ident" id="7125914">CHAR</span><span class="op" id="7125918">,</span>&nbsp;<span class="num" id="7125920">0</span><span class="op" id="7125921">,</span>&nbsp;<span class="string" id="7125923">`&#39;&nbsp;&#39;`</span><span class="op" id="7125928">,</span>&nbsp;<span class="string" id="7125930">&#34;&#34;</span><span class="op" id="7125932">}</span><span class="op" id="7125933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125936">{</span><span class="string" id="7125937">`&#39;&#39;`</span><span class="op" id="7125941">,</span>&nbsp;<span class="ident" id="7125943">token</span><span class="op" id="7125948">.</span><span class="ident" id="7125949">CHAR</span><span class="op" id="7125953">,</span>&nbsp;<span class="num" id="7125955">0</span><span class="op" id="7125956">,</span>&nbsp;<span class="string" id="7125958">`&#39;&#39;`</span><span class="op" id="7125962">,</span>&nbsp;<span class="string" id="7125964">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7125986">}</span><span class="op" id="7125987">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7125990">{</span><span class="string" id="7125991">`&#39;12&#39;`</span><span class="op" id="7125997">,</span>&nbsp;<span class="ident" id="7125999">token</span><span class="op" id="7126004">.</span><span class="ident" id="7126005">CHAR</span><span class="op" id="7126009">,</span>&nbsp;<span class="num" id="7126011">0</span><span class="op" id="7126012">,</span>&nbsp;<span class="string" id="7126014">`&#39;12&#39;`</span><span class="op" id="7126020">,</span>&nbsp;<span class="string" id="7126022">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7126044">}</span><span class="op" id="7126045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126048">{</span><span class="string" id="7126049">`&#39;123&#39;`</span><span class="op" id="7126056">,</span>&nbsp;<span class="ident" id="7126058">token</span><span class="op" id="7126063">.</span><span class="ident" id="7126064">CHAR</span><span class="op" id="7126068">,</span>&nbsp;<span class="num" id="7126070">0</span><span class="op" id="7126071">,</span>&nbsp;<span class="string" id="7126073">`&#39;123&#39;`</span><span class="op" id="7126080">,</span>&nbsp;<span class="string" id="7126082">&#34;illegal&nbsp;rune&nbsp;literal&#34;</span><span class="op" id="7126104">}</span><span class="op" id="7126105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126108">{</span><span class="string" id="7126109">`&#39;\0&#39;`</span><span class="op" id="7126115">,</span>&nbsp;<span class="ident" id="7126117">token</span><span class="op" id="7126122">.</span><span class="ident" id="7126123">CHAR</span><span class="op" id="7126127">,</span>&nbsp;<span class="num" id="7126129">3</span><span class="op" id="7126130">,</span>&nbsp;<span class="string" id="7126132">`&#39;\0&#39;`</span><span class="op" id="7126138">,</span>&nbsp;<span class="string" id="7126140">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126189">}</span><span class="op" id="7126190">,</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126193">{</span><span class="string" id="7126194">`&#39;\07&#39;`</span><span class="op" id="7126201">,</span>&nbsp;<span class="ident" id="7126203">token</span><span class="op" id="7126208">.</span><span class="ident" id="7126209">CHAR</span><span class="op" id="7126213">,</span>&nbsp;<span class="num" id="7126215">4</span><span class="op" id="7126216">,</span>&nbsp;<span class="string" id="7126218">`&#39;\07&#39;`</span><span class="op" id="7126225">,</span>&nbsp;<span class="string" id="7126227">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126276">}</span><span class="op" id="7126277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126280">{</span><span class="string" id="7126281">`&#39;\8&#39;`</span><span class="op" id="7126287">,</span>&nbsp;<span class="ident" id="7126289">token</span><span class="op" id="7126294">.</span><span class="ident" id="7126295">CHAR</span><span class="op" id="7126299">,</span>&nbsp;<span class="num" id="7126301">2</span><span class="op" id="7126302">,</span>&nbsp;<span class="string" id="7126304">`&#39;\8&#39;`</span><span class="op" id="7126310">,</span>&nbsp;<span class="string" id="7126312">&#34;unknown&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126337">}</span><span class="op" id="7126338">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126341">{</span><span class="string" id="7126342">`&#39;\08&#39;`</span><span class="op" id="7126349">,</span>&nbsp;<span class="ident" id="7126351">token</span><span class="op" id="7126356">.</span><span class="ident" id="7126357">CHAR</span><span class="op" id="7126361">,</span>&nbsp;<span class="num" id="7126363">3</span><span class="op" id="7126364">,</span>&nbsp;<span class="string" id="7126366">`&#39;\08&#39;`</span><span class="op" id="7126373">,</span>&nbsp;<span class="string" id="7126375">&#34;illegal&nbsp;character&nbsp;U+0038&nbsp;&#39;8&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126424">}</span><span class="op" id="7126425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126428">{</span><span class="string" id="7126429">`&#39;\x&#39;`</span><span class="op" id="7126435">,</span>&nbsp;<span class="ident" id="7126437">token</span><span class="op" id="7126442">.</span><span class="ident" id="7126443">CHAR</span><span class="op" id="7126447">,</span>&nbsp;<span class="num" id="7126449">3</span><span class="op" id="7126450">,</span>&nbsp;<span class="string" id="7126452">`&#39;\x&#39;`</span><span class="op" id="7126458">,</span>&nbsp;<span class="string" id="7126460">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126509">}</span><span class="op" id="7126510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126513">{</span><span class="string" id="7126514">`&#39;\x0&#39;`</span><span class="op" id="7126521">,</span>&nbsp;<span class="ident" id="7126523">token</span><span class="op" id="7126528">.</span><span class="ident" id="7126529">CHAR</span><span class="op" id="7126533">,</span>&nbsp;<span class="num" id="7126535">4</span><span class="op" id="7126536">,</span>&nbsp;<span class="string" id="7126538">`&#39;\x0&#39;`</span><span class="op" id="7126545">,</span>&nbsp;<span class="string" id="7126547">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126596">}</span><span class="op" id="7126597">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126600">{</span><span class="string" id="7126601">`&#39;\x0g&#39;`</span><span class="op" id="7126609">,</span>&nbsp;<span class="ident" id="7126611">token</span><span class="op" id="7126616">.</span><span class="ident" id="7126617">CHAR</span><span class="op" id="7126621">,</span>&nbsp;<span class="num" id="7126623">4</span><span class="op" id="7126624">,</span>&nbsp;<span class="string" id="7126626">`&#39;\x0g&#39;`</span><span class="op" id="7126634">,</span>&nbsp;<span class="string" id="7126636">&#34;illegal&nbsp;character&nbsp;U+0067&nbsp;&#39;g&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126685">}</span><span class="op" id="7126686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126689">{</span><span class="string" id="7126690">`&#39;\u&#39;`</span><span class="op" id="7126696">,</span>&nbsp;<span class="ident" id="7126698">token</span><span class="op" id="7126703">.</span><span class="ident" id="7126704">CHAR</span><span class="op" id="7126708">,</span>&nbsp;<span class="num" id="7126710">3</span><span class="op" id="7126711">,</span>&nbsp;<span class="string" id="7126713">`&#39;\u&#39;`</span><span class="op" id="7126719">,</span>&nbsp;<span class="string" id="7126721">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126770">}</span><span class="op" id="7126771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126774">{</span><span class="string" id="7126775">`&#39;\u0&#39;`</span><span class="op" id="7126782">,</span>&nbsp;<span class="ident" id="7126784">token</span><span class="op" id="7126789">.</span><span class="ident" id="7126790">CHAR</span><span class="op" id="7126794">,</span>&nbsp;<span class="num" id="7126796">4</span><span class="op" id="7126797">,</span>&nbsp;<span class="string" id="7126799">`&#39;\u0&#39;`</span><span class="op" id="7126806">,</span>&nbsp;<span class="string" id="7126808">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126857">}</span><span class="op" id="7126858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126861">{</span><span class="string" id="7126862">`&#39;\u00&#39;`</span><span class="op" id="7126870">,</span>&nbsp;<span class="ident" id="7126872">token</span><span class="op" id="7126877">.</span><span class="ident" id="7126878">CHAR</span><span class="op" id="7126882">,</span>&nbsp;<span class="num" id="7126884">5</span><span class="op" id="7126885">,</span>&nbsp;<span class="string" id="7126887">`&#39;\u00&#39;`</span><span class="op" id="7126895">,</span>&nbsp;<span class="string" id="7126897">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7126946">}</span><span class="op" id="7126947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7126950">{</span><span class="string" id="7126951">`&#39;\u000&#39;`</span><span class="op" id="7126960">,</span>&nbsp;<span class="ident" id="7126962">token</span><span class="op" id="7126967">.</span><span class="ident" id="7126968">CHAR</span><span class="op" id="7126972">,</span>&nbsp;<span class="num" id="7126974">6</span><span class="op" id="7126975">,</span>&nbsp;<span class="string" id="7126977">`&#39;\u000&#39;`</span><span class="op" id="7126986">,</span>&nbsp;<span class="string" id="7126988">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127037">}</span><span class="op" id="7127038">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127041">{</span><span class="string" id="7127042">`&#39;\u000`</span><span class="op" id="7127050">,</span>&nbsp;<span class="ident" id="7127052">token</span><span class="op" id="7127057">.</span><span class="ident" id="7127058">CHAR</span><span class="op" id="7127062">,</span>&nbsp;<span class="num" id="7127064">6</span><span class="op" id="7127065">,</span>&nbsp;<span class="string" id="7127067">`&#39;\u000`</span><span class="op" id="7127075">,</span>&nbsp;<span class="string" id="7127077">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7127109">}</span><span class="op" id="7127110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127113">{</span><span class="string" id="7127114">`&#39;\u0000&#39;`</span><span class="op" id="7127124">,</span>&nbsp;<span class="ident" id="7127126">token</span><span class="op" id="7127131">.</span><span class="ident" id="7127132">CHAR</span><span class="op" id="7127136">,</span>&nbsp;<span class="num" id="7127138">0</span><span class="op" id="7127139">,</span>&nbsp;<span class="string" id="7127141">`&#39;\u0000&#39;`</span><span class="op" id="7127151">,</span>&nbsp;<span class="string" id="7127153">&#34;&#34;</span><span class="op" id="7127155">}</span><span class="op" id="7127156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127159">{</span><span class="string" id="7127160">`&#39;\U&#39;`</span><span class="op" id="7127166">,</span>&nbsp;<span class="ident" id="7127168">token</span><span class="op" id="7127173">.</span><span class="ident" id="7127174">CHAR</span><span class="op" id="7127178">,</span>&nbsp;<span class="num" id="7127180">3</span><span class="op" id="7127181">,</span>&nbsp;<span class="string" id="7127183">`&#39;\U&#39;`</span><span class="op" id="7127189">,</span>&nbsp;<span class="string" id="7127191">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127240">}</span><span class="op" id="7127241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127244">{</span><span class="string" id="7127245">`&#39;\U0&#39;`</span><span class="op" id="7127252">,</span>&nbsp;<span class="ident" id="7127254">token</span><span class="op" id="7127259">.</span><span class="ident" id="7127260">CHAR</span><span class="op" id="7127264">,</span>&nbsp;<span class="num" id="7127266">4</span><span class="op" id="7127267">,</span>&nbsp;<span class="string" id="7127269">`&#39;\U0&#39;`</span><span class="op" id="7127276">,</span>&nbsp;<span class="string" id="7127278">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127327">}</span><span class="op" id="7127328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127331">{</span><span class="string" id="7127332">`&#39;\U00&#39;`</span><span class="op" id="7127340">,</span>&nbsp;<span class="ident" id="7127342">token</span><span class="op" id="7127347">.</span><span class="ident" id="7127348">CHAR</span><span class="op" id="7127352">,</span>&nbsp;<span class="num" id="7127354">5</span><span class="op" id="7127355">,</span>&nbsp;<span class="string" id="7127357">`&#39;\U00&#39;`</span><span class="op" id="7127365">,</span>&nbsp;<span class="string" id="7127367">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127416">}</span><span class="op" id="7127417">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127420">{</span><span class="string" id="7127421">`&#39;\U000&#39;`</span><span class="op" id="7127430">,</span>&nbsp;<span class="ident" id="7127432">token</span><span class="op" id="7127437">.</span><span class="ident" id="7127438">CHAR</span><span class="op" id="7127442">,</span>&nbsp;<span class="num" id="7127444">6</span><span class="op" id="7127445">,</span>&nbsp;<span class="string" id="7127447">`&#39;\U000&#39;`</span><span class="op" id="7127456">,</span>&nbsp;<span class="string" id="7127458">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127507">}</span><span class="op" id="7127508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127511">{</span><span class="string" id="7127512">`&#39;\U0000&#39;`</span><span class="op" id="7127522">,</span>&nbsp;<span class="ident" id="7127524">token</span><span class="op" id="7127529">.</span><span class="ident" id="7127530">CHAR</span><span class="op" id="7127534">,</span>&nbsp;<span class="num" id="7127536">7</span><span class="op" id="7127537">,</span>&nbsp;<span class="string" id="7127539">`&#39;\U0000&#39;`</span><span class="op" id="7127549">,</span>&nbsp;<span class="string" id="7127551">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127600">}</span><span class="op" id="7127601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127604">{</span><span class="string" id="7127605">`&#39;\U00000&#39;`</span><span class="op" id="7127616">,</span>&nbsp;<span class="ident" id="7127618">token</span><span class="op" id="7127623">.</span><span class="ident" id="7127624">CHAR</span><span class="op" id="7127628">,</span>&nbsp;<span class="num" id="7127630">8</span><span class="op" id="7127631">,</span>&nbsp;<span class="string" id="7127633">`&#39;\U00000&#39;`</span><span class="op" id="7127644">,</span>&nbsp;<span class="string" id="7127646">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127695">}</span><span class="op" id="7127696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127699">{</span><span class="string" id="7127700">`&#39;\U000000&#39;`</span><span class="op" id="7127712">,</span>&nbsp;<span class="ident" id="7127714">token</span><span class="op" id="7127719">.</span><span class="ident" id="7127720">CHAR</span><span class="op" id="7127724">,</span>&nbsp;<span class="num" id="7127726">9</span><span class="op" id="7127727">,</span>&nbsp;<span class="string" id="7127729">`&#39;\U000000&#39;`</span><span class="op" id="7127741">,</span>&nbsp;<span class="string" id="7127743">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127792">}</span><span class="op" id="7127793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127796">{</span><span class="string" id="7127797">`&#39;\U0000000&#39;`</span><span class="op" id="7127810">,</span>&nbsp;<span class="ident" id="7127812">token</span><span class="op" id="7127817">.</span><span class="ident" id="7127818">CHAR</span><span class="op" id="7127822">,</span>&nbsp;<span class="num" id="7127824">10</span><span class="op" id="7127826">,</span>&nbsp;<span class="string" id="7127828">`&#39;\U0000000&#39;`</span><span class="op" id="7127841">,</span>&nbsp;<span class="string" id="7127843">&#34;illegal&nbsp;character&nbsp;U+0027&nbsp;&#39;&#39;&#39;&nbsp;in&nbsp;escape&nbsp;sequence&#34;</span><span class="op" id="7127892">}</span><span class="op" id="7127893">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127896">{</span><span class="string" id="7127897">`&#39;\U0000000`</span><span class="op" id="7127909">,</span>&nbsp;<span class="ident" id="7127911">token</span><span class="op" id="7127916">.</span><span class="ident" id="7127917">CHAR</span><span class="op" id="7127921">,</span>&nbsp;<span class="num" id="7127923">10</span><span class="op" id="7127925">,</span>&nbsp;<span class="string" id="7127927">`&#39;\U0000000`</span><span class="op" id="7127939">,</span>&nbsp;<span class="string" id="7127941">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7127973">}</span><span class="op" id="7127974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7127977">{</span><span class="string" id="7127978">`&#39;\U00000000&#39;`</span><span class="op" id="7127992">,</span>&nbsp;<span class="ident" id="7127994">token</span><span class="op" id="7127999">.</span><span class="ident" id="7128000">CHAR</span><span class="op" id="7128004">,</span>&nbsp;<span class="num" id="7128006">0</span><span class="op" id="7128007">,</span>&nbsp;<span class="string" id="7128009">`&#39;\U00000000&#39;`</span><span class="op" id="7128023">,</span>&nbsp;<span class="string" id="7128025">&#34;&#34;</span><span class="op" id="7128027">}</span><span class="op" id="7128028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128031">{</span><span class="string" id="7128032">`&#39;\Uffffffff&#39;`</span><span class="op" id="7128046">,</span>&nbsp;<span class="ident" id="7128048">token</span><span class="op" id="7128053">.</span><span class="ident" id="7128054">CHAR</span><span class="op" id="7128058">,</span>&nbsp;<span class="num" id="7128060">2</span><span class="op" id="7128061">,</span>&nbsp;<span class="string" id="7128063">`&#39;\Uffffffff&#39;`</span><span class="op" id="7128077">,</span>&nbsp;<span class="string" id="7128079">&#34;escape&nbsp;sequence&nbsp;is&nbsp;invalid&nbsp;Unicode&nbsp;code&nbsp;point&#34;</span><span class="op" id="7128126">}</span><span class="op" id="7128127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128130">{</span><span class="string" id="7128131">`&#39;`</span><span class="op" id="7128134">,</span>&nbsp;<span class="ident" id="7128136">token</span><span class="op" id="7128141">.</span><span class="ident" id="7128142">CHAR</span><span class="op" id="7128146">,</span>&nbsp;<span class="num" id="7128148">0</span><span class="op" id="7128149">,</span>&nbsp;<span class="string" id="7128151">`&#39;`</span><span class="op" id="7128154">,</span>&nbsp;<span class="string" id="7128156">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128185">}</span><span class="op" id="7128186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128189">{</span><span class="string" id="7128190">`&#39;\`</span><span class="op" id="7128194">,</span>&nbsp;<span class="ident" id="7128196">token</span><span class="op" id="7128201">.</span><span class="ident" id="7128202">CHAR</span><span class="op" id="7128206">,</span>&nbsp;<span class="num" id="7128208">2</span><span class="op" id="7128209">,</span>&nbsp;<span class="string" id="7128211">`&#39;\`</span><span class="op" id="7128215">,</span>&nbsp;<span class="string" id="7128217">&#34;escape&nbsp;sequence&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128249">}</span><span class="op" id="7128250">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128253">{</span><span class="string" id="7128254">&#34;&#39;\n&#34;</span><span class="op" id="7128259">,</span>&nbsp;<span class="ident" id="7128261">token</span><span class="op" id="7128266">.</span><span class="ident" id="7128267">CHAR</span><span class="op" id="7128271">,</span>&nbsp;<span class="num" id="7128273">0</span><span class="op" id="7128274">,</span>&nbsp;<span class="string" id="7128276">&#34;&#39;&#34;</span><span class="op" id="7128279">,</span>&nbsp;<span class="string" id="7128281">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128310">}</span><span class="op" id="7128311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128314">{</span><span class="string" id="7128315">&#34;&#39;\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7128323">,</span>&nbsp;<span class="ident" id="7128325">token</span><span class="op" id="7128330">.</span><span class="ident" id="7128331">CHAR</span><span class="op" id="7128335">,</span>&nbsp;<span class="num" id="7128337">0</span><span class="op" id="7128338">,</span>&nbsp;<span class="string" id="7128340">&#34;&#39;&#34;</span><span class="op" id="7128343">,</span>&nbsp;<span class="string" id="7128345">&#34;rune&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128374">}</span><span class="op" id="7128375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128378">{</span><span class="string" id="7128379">`&#34;&#34;`</span><span class="op" id="7128383">,</span>&nbsp;<span class="ident" id="7128385">token</span><span class="op" id="7128390">.</span><span class="ident" id="7128391">STRING</span><span class="op" id="7128397">,</span>&nbsp;<span class="num" id="7128399">0</span><span class="op" id="7128400">,</span>&nbsp;<span class="string" id="7128402">`&#34;&#34;`</span><span class="op" id="7128406">,</span>&nbsp;<span class="string" id="7128408">&#34;&#34;</span><span class="op" id="7128410">}</span><span class="op" id="7128411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128414">{</span><span class="string" id="7128415">`&#34;abc`</span><span class="op" id="7128421">,</span>&nbsp;<span class="ident" id="7128423">token</span><span class="op" id="7128428">.</span><span class="ident" id="7128429">STRING</span><span class="op" id="7128435">,</span>&nbsp;<span class="num" id="7128437">0</span><span class="op" id="7128438">,</span>&nbsp;<span class="string" id="7128440">`&#34;abc`</span><span class="op" id="7128446">,</span>&nbsp;<span class="string" id="7128448">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128479">}</span><span class="op" id="7128480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128483">{</span><span class="string" id="7128484">&#34;\&#34;abc\n&#34;</span><span class="op" id="7128493">,</span>&nbsp;<span class="ident" id="7128495">token</span><span class="op" id="7128500">.</span><span class="ident" id="7128501">STRING</span><span class="op" id="7128507">,</span>&nbsp;<span class="num" id="7128509">0</span><span class="op" id="7128510">,</span>&nbsp;<span class="string" id="7128512">`&#34;abc`</span><span class="op" id="7128518">,</span>&nbsp;<span class="string" id="7128520">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128551">}</span><span class="op" id="7128552">,</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128555">{</span><span class="string" id="7128556">&#34;\&#34;abc\n&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7128568">,</span>&nbsp;<span class="ident" id="7128570">token</span><span class="op" id="7128575">.</span><span class="ident" id="7128576">STRING</span><span class="op" id="7128582">,</span>&nbsp;<span class="num" id="7128584">0</span><span class="op" id="7128585">,</span>&nbsp;<span class="string" id="7128587">`&#34;abc`</span><span class="op" id="7128593">,</span>&nbsp;<span class="string" id="7128595">&#34;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128626">}</span><span class="op" id="7128627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128630">{</span><span class="string" id="7128631">&#34;``&#34;</span><span class="op" id="7128635">,</span>&nbsp;<span class="ident" id="7128637">token</span><span class="op" id="7128642">.</span><span class="ident" id="7128643">STRING</span><span class="op" id="7128649">,</span>&nbsp;<span class="num" id="7128651">0</span><span class="op" id="7128652">,</span>&nbsp;<span class="string" id="7128654">&#34;``&#34;</span><span class="op" id="7128658">,</span>&nbsp;<span class="string" id="7128660">&#34;&#34;</span><span class="op" id="7128662">}</span><span class="op" id="7128663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128666">{</span><span class="string" id="7128667">&#34;`&#34;</span><span class="op" id="7128670">,</span>&nbsp;<span class="ident" id="7128672">token</span><span class="op" id="7128677">.</span><span class="ident" id="7128678">STRING</span><span class="op" id="7128684">,</span>&nbsp;<span class="num" id="7128686">0</span><span class="op" id="7128687">,</span>&nbsp;<span class="string" id="7128689">&#34;`&#34;</span><span class="op" id="7128692">,</span>&nbsp;<span class="string" id="7128694">&#34;raw&nbsp;string&nbsp;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128729">}</span><span class="op" id="7128730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128733">{</span><span class="string" id="7128734">&#34;/**/&#34;</span><span class="op" id="7128740">,</span>&nbsp;<span class="ident" id="7128742">token</span><span class="op" id="7128747">.</span><span class="ident" id="7128748">COMMENT</span><span class="op" id="7128755">,</span>&nbsp;<span class="num" id="7128757">0</span><span class="op" id="7128758">,</span>&nbsp;<span class="string" id="7128760">&#34;/**/&#34;</span><span class="op" id="7128766">,</span>&nbsp;<span class="string" id="7128768">&#34;&#34;</span><span class="op" id="7128770">}</span><span class="op" id="7128771">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128774">{</span><span class="string" id="7128775">&#34;/*&#34;</span><span class="op" id="7128779">,</span>&nbsp;<span class="ident" id="7128781">token</span><span class="op" id="7128786">.</span><span class="ident" id="7128787">COMMENT</span><span class="op" id="7128794">,</span>&nbsp;<span class="num" id="7128796">0</span><span class="op" id="7128797">,</span>&nbsp;<span class="string" id="7128799">&#34;/*&#34;</span><span class="op" id="7128803">,</span>&nbsp;<span class="string" id="7128805">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="7128829">}</span><span class="op" id="7128830">,</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128833">{</span><span class="string" id="7128834">&#34;077&#34;</span><span class="op" id="7128839">,</span>&nbsp;<span class="ident" id="7128841">token</span><span class="op" id="7128846">.</span><span class="ident" id="7128847">INT</span><span class="op" id="7128850">,</span>&nbsp;<span class="num" id="7128852">0</span><span class="op" id="7128853">,</span>&nbsp;<span class="string" id="7128855">&#34;077&#34;</span><span class="op" id="7128860">,</span>&nbsp;<span class="string" id="7128862">&#34;&#34;</span><span class="op" id="7128864">}</span><span class="op" id="7128865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128868">{</span><span class="string" id="7128869">&#34;078.&#34;</span><span class="op" id="7128875">,</span>&nbsp;<span class="ident" id="7128877">token</span><span class="op" id="7128882">.</span><span class="ident" id="7128883">FLOAT</span><span class="op" id="7128888">,</span>&nbsp;<span class="num" id="7128890">0</span><span class="op" id="7128891">,</span>&nbsp;<span class="string" id="7128893">&#34;078.&#34;</span><span class="op" id="7128899">,</span>&nbsp;<span class="string" id="7128901">&#34;&#34;</span><span class="op" id="7128903">}</span><span class="op" id="7128904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128907">{</span><span class="string" id="7128908">&#34;07801234567.&#34;</span><span class="op" id="7128922">,</span>&nbsp;<span class="ident" id="7128924">token</span><span class="op" id="7128929">.</span><span class="ident" id="7128930">FLOAT</span><span class="op" id="7128935">,</span>&nbsp;<span class="num" id="7128937">0</span><span class="op" id="7128938">,</span>&nbsp;<span class="string" id="7128940">&#34;07801234567.&#34;</span><span class="op" id="7128954">,</span>&nbsp;<span class="string" id="7128956">&#34;&#34;</span><span class="op" id="7128958">}</span><span class="op" id="7128959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7128962">{</span><span class="string" id="7128963">&#34;078e0&#34;</span><span class="op" id="7128970">,</span>&nbsp;<span class="ident" id="7128972">token</span><span class="op" id="7128977">.</span><span class="ident" id="7128978">FLOAT</span><span class="op" id="7128983">,</span>&nbsp;<span class="num" id="7128985">0</span><span class="op" id="7128986">,</span>&nbsp;<span class="string" id="7128988">&#34;078e0&#34;</span><span class="op" id="7128995">,</span>&nbsp;<span class="string" id="7128997">&#34;&#34;</span><span class="op" id="7128999">}</span><span class="op" id="7129000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129003">{</span><span class="string" id="7129004">&#34;078&#34;</span><span class="op" id="7129009">,</span>&nbsp;<span class="ident" id="7129011">token</span><span class="op" id="7129016">.</span><span class="ident" id="7129017">INT</span><span class="op" id="7129020">,</span>&nbsp;<span class="num" id="7129022">0</span><span class="op" id="7129023">,</span>&nbsp;<span class="string" id="7129025">&#34;078&#34;</span><span class="op" id="7129030">,</span>&nbsp;<span class="string" id="7129032">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7129054">}</span><span class="op" id="7129055">,</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129058">{</span><span class="string" id="7129059">&#34;07800000009&#34;</span><span class="op" id="7129072">,</span>&nbsp;<span class="ident" id="7129074">token</span><span class="op" id="7129079">.</span><span class="ident" id="7129080">INT</span><span class="op" id="7129083">,</span>&nbsp;<span class="num" id="7129085">0</span><span class="op" id="7129086">,</span>&nbsp;<span class="string" id="7129088">&#34;07800000009&#34;</span><span class="op" id="7129101">,</span>&nbsp;<span class="string" id="7129103">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="7129125">}</span><span class="op" id="7129126">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129129">{</span><span class="string" id="7129130">&#34;0x&#34;</span><span class="op" id="7129134">,</span>&nbsp;<span class="ident" id="7129136">token</span><span class="op" id="7129141">.</span><span class="ident" id="7129142">INT</span><span class="op" id="7129145">,</span>&nbsp;<span class="num" id="7129147">0</span><span class="op" id="7129148">,</span>&nbsp;<span class="string" id="7129150">&#34;0x&#34;</span><span class="op" id="7129154">,</span>&nbsp;<span class="string" id="7129156">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7129184">}</span><span class="op" id="7129185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129188">{</span><span class="string" id="7129189">&#34;0X&#34;</span><span class="op" id="7129193">,</span>&nbsp;<span class="ident" id="7129195">token</span><span class="op" id="7129200">.</span><span class="ident" id="7129201">INT</span><span class="op" id="7129204">,</span>&nbsp;<span class="num" id="7129206">0</span><span class="op" id="7129207">,</span>&nbsp;<span class="string" id="7129209">&#34;0X&#34;</span><span class="op" id="7129213">,</span>&nbsp;<span class="string" id="7129215">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="7129243">}</span><span class="op" id="7129244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129247">{</span><span class="string" id="7129248">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7129264">,</span>&nbsp;<span class="ident" id="7129266">token</span><span class="op" id="7129271">.</span><span class="ident" id="7129272">STRING</span><span class="op" id="7129278">,</span>&nbsp;<span class="num" id="7129280">4</span><span class="op" id="7129281">,</span>&nbsp;<span class="string" id="7129283">&#34;\&#34;abc\x00def\&#34;&#34;</span><span class="op" id="7129299">,</span>&nbsp;<span class="string" id="7129301">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="7129324">}</span><span class="op" id="7129325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129328">{</span><span class="string" id="7129329">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7129345">,</span>&nbsp;<span class="ident" id="7129347">token</span><span class="op" id="7129352">.</span><span class="ident" id="7129353">STRING</span><span class="op" id="7129359">,</span>&nbsp;<span class="num" id="7129361">4</span><span class="op" id="7129362">,</span>&nbsp;<span class="string" id="7129364">&#34;\&#34;abc\x80def\&#34;&#34;</span><span class="op" id="7129380">,</span>&nbsp;<span class="string" id="7129382">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="7129406">}</span><span class="op" id="7129407">,</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129410">{</span><span class="string" id="7129411">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7129425">,</span>&nbsp;<span class="ident" id="7129427">token</span><span class="op" id="7129432">.</span><span class="ident" id="7129433">ILLEGAL</span><span class="op" id="7129440">,</span>&nbsp;<span class="num" id="7129442">3</span><span class="op" id="7129443">,</span>&nbsp;<span class="string" id="7129445">&#34;\ufeff\ufeff&#34;</span><span class="op" id="7129459">,</span>&nbsp;<span class="string" id="7129461">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7129486">}</span><span class="op" id="7129487">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129512">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129542">{</span><span class="string" id="7129543">&#34;//\ufeff&#34;</span><span class="op" id="7129553">,</span>&nbsp;<span class="ident" id="7129555">token</span><span class="op" id="7129560">.</span><span class="ident" id="7129561">COMMENT</span><span class="op" id="7129568">,</span>&nbsp;<span class="num" id="7129570">2</span><span class="op" id="7129571">,</span>&nbsp;<span class="string" id="7129573">&#34;//\ufeff&#34;</span><span class="op" id="7129583">,</span>&nbsp;<span class="string" id="7129585">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7129610">}</span><span class="op" id="7129611">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129644">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129674">{</span><span class="string" id="7129675">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7129685">+</span>&nbsp;<span class="string" id="7129687">`&#39;`</span><span class="op" id="7129690">,</span>&nbsp;<span class="ident" id="7129692">token</span><span class="op" id="7129697">.</span><span class="ident" id="7129698">CHAR</span><span class="op" id="7129702">,</span>&nbsp;<span class="num" id="7129704">1</span><span class="op" id="7129705">,</span>&nbsp;<span class="string" id="7129707">&#34;&#39;\ufeff&#34;</span>&nbsp;<span class="op" id="7129717">+</span>&nbsp;<span class="string" id="7129719">`&#39;`</span><span class="op" id="7129722">,</span>&nbsp;<span class="string" id="7129724">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7129749">}</span><span class="op" id="7129750">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7129776">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7129806">{</span><span class="string" id="7129807">`&#34;`</span>&nbsp;<span class="op" id="7129811">+</span>&nbsp;<span class="string" id="7129813">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7129828">+</span>&nbsp;<span class="string" id="7129830">`&#34;`</span><span class="op" id="7129833">,</span>&nbsp;<span class="ident" id="7129835">token</span><span class="op" id="7129840">.</span><span class="ident" id="7129841">STRING</span><span class="op" id="7129847">,</span>&nbsp;<span class="num" id="7129849">4</span><span class="op" id="7129850">,</span>&nbsp;<span class="string" id="7129852">`&#34;`</span>&nbsp;<span class="op" id="7129856">+</span>&nbsp;<span class="string" id="7129858">&#34;abc\ufeffdef&#34;</span>&nbsp;<span class="op" id="7129873">+</span>&nbsp;<span class="string" id="7129875">`&#34;`</span><span class="op" id="7129878">,</span>&nbsp;<span class="string" id="7129880">&#34;illegal&nbsp;byte&nbsp;order&nbsp;mark&#34;</span><span class="op" id="7129905">}</span><span class="op" id="7129906">,</span>&nbsp;<span class="comment" id="7129908">//&nbsp;only&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span><span class="op" id="7129937">}</span><br>
<span class="lineno">730</span><br>
<span class="lineno"></span><span class="keyword" id="7129940">func</span>&nbsp;<span class="ident" id="7129945">TestScanErrors</span><span class="op" id="7129959">(</span><span class="ident" id="7129960">t</span>&nbsp;<span class="op" id="7129962">*</span><span class="ident" id="7129963">testing</span><span class="op" id="7129970">.</span><span class="ident" id="7129971">T</span><span class="op" id="7129972">)</span>&nbsp;<span class="op" id="7129974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7129977">for</span>&nbsp;<span class="ident" id="7129981">_</span><span class="op" id="7129982">,</span>&nbsp;<span class="ident" id="7129984">e</span>&nbsp;<span class="op" id="7129986">:=</span>&nbsp;<span class="keyword" id="7129989">range</span>&nbsp;<span class="ident" id="7129995">errors</span>&nbsp;<span class="op" id="7130002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130006">checkError</span><span class="op" id="7130016">(</span><span class="ident" id="7130017">t</span><span class="op" id="7130018">,</span>&nbsp;<span class="ident" id="7130020">e</span><span class="op" id="7130021">.</span><span class="ident" id="7130022">src</span><span class="op" id="7130025">,</span>&nbsp;<span class="ident" id="7130027">e</span><span class="op" id="7130028">.</span><span class="ident" id="7130029">tok</span><span class="op" id="7130032">,</span>&nbsp;<span class="ident" id="7130034">e</span><span class="op" id="7130035">.</span><span class="ident" id="7130036">pos</span><span class="op" id="7130039">,</span>&nbsp;<span class="ident" id="7130041">e</span><span class="op" id="7130042">.</span><span class="ident" id="7130043">lit</span><span class="op" id="7130046">,</span>&nbsp;<span class="ident" id="7130048">e</span><span class="op" id="7130049">.</span><span class="ident" id="7130050">err</span><span class="op" id="7130053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130056">}</span><br>
<span class="lineno">735</span><span class="op" id="7130058">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7130061">func</span>&nbsp;<span class="ident" id="7130066">BenchmarkScan</span><span class="op" id="7130079">(</span><span class="ident" id="7130080">b</span>&nbsp;<span class="op" id="7130082">*</span><span class="ident" id="7130083">testing</span><span class="op" id="7130090">.</span><span class="ident" id="7130091">B</span><span class="op" id="7130092">)</span>&nbsp;<span class="op" id="7130094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130097">b</span><span class="op" id="7130098">.</span><span class="ident" id="7130099">StopTimer</span><span class="op" id="7130108">(</span><span class="op" id="7130109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130112">fset</span>&nbsp;<span class="op" id="7130117">:=</span>&nbsp;<span class="ident" id="7130120">token</span><span class="op" id="7130125">.</span><span class="ident" id="7130126">NewFileSet</span><span class="op" id="7130136">(</span><span class="op" id="7130137">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130140">file</span>&nbsp;<span class="op" id="7130145">:=</span>&nbsp;<span class="ident" id="7130148">fset</span><span class="op" id="7130152">.</span><span class="ident" id="7130153">AddFile</span><span class="op" id="7130160">(</span><span class="string" id="7130161">&#34;&#34;</span><span class="op" id="7130163">,</span>&nbsp;<span class="ident" id="7130165">fset</span><span class="op" id="7130169">.</span><span class="ident" id="7130170">Base</span><span class="op" id="7130174">(</span><span class="op" id="7130175">)</span><span class="op" id="7130176">,</span>&nbsp;<span class="builtinfunc" id="7130178">len</span><span class="op" id="7130181">(</span><span class="ident" id="7130182">source</span><span class="op" id="7130188">)</span><span class="op" id="7130189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130192">var</span>&nbsp;<span class="ident" id="7130196">s</span>&nbsp;<span class="ident" id="7130198">Scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130207">b</span><span class="op" id="7130208">.</span><span class="ident" id="7130209">StartTimer</span><span class="op" id="7130219">(</span><span class="op" id="7130220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130223">for</span>&nbsp;<span class="ident" id="7130227">i</span>&nbsp;<span class="op" id="7130229">:=</span>&nbsp;<span class="num" id="7130232">0</span><span class="op" id="7130233">;</span>&nbsp;<span class="ident" id="7130235">i</span>&nbsp;<span class="op" id="7130237">&lt;</span>&nbsp;<span class="ident" id="7130239">b</span><span class="op" id="7130240">.</span><span class="ident" id="7130241">N</span><span class="op" id="7130242">;</span>&nbsp;<span class="ident" id="7130244">i</span><span class="op" id="7130245">++</span>&nbsp;<span class="op" id="7130248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130252">s</span><span class="op" id="7130253">.</span><span class="ident" id="7130254">Init</span><span class="op" id="7130258">(</span><span class="ident" id="7130259">file</span><span class="op" id="7130263">,</span>&nbsp;<span class="ident" id="7130265">source</span><span class="op" id="7130271">,</span>&nbsp;<span class="ident" id="7130273">nil</span><span class="op" id="7130276">,</span>&nbsp;<span class="ident" id="7130278">ScanComments</span><span class="op" id="7130290">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130294">for</span>&nbsp;<span class="op" id="7130298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130303">_</span><span class="op" id="7130304">,</span>&nbsp;<span class="ident" id="7130306">tok</span><span class="op" id="7130309">,</span>&nbsp;<span class="ident" id="7130311">_</span>&nbsp;<span class="op" id="7130313">:=</span>&nbsp;<span class="ident" id="7130316">s</span><span class="op" id="7130317">.</span><span class="ident" id="7130318">Scan</span><span class="op" id="7130322">(</span><span class="op" id="7130323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130328">if</span>&nbsp;<span class="ident" id="7130331">tok</span>&nbsp;<span class="op" id="7130335">==</span>&nbsp;<span class="ident" id="7130338">token</span><span class="op" id="7130343">.</span><span class="ident" id="7130344">EOF</span>&nbsp;<span class="op" id="7130348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130354">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130363">}</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130370">}</span><br>
<span class="lineno"></span><span class="op" id="7130372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7130375">func</span>&nbsp;<span class="ident" id="7130380">BenchmarkScanFile</span><span class="op" id="7130397">(</span><span class="ident" id="7130398">b</span>&nbsp;<span class="op" id="7130400">*</span><span class="ident" id="7130401">testing</span><span class="op" id="7130408">.</span><span class="ident" id="7130409">B</span><span class="op" id="7130410">)</span>&nbsp;<span class="op" id="7130412">{</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130415">b</span><span class="op" id="7130416">.</span><span class="ident" id="7130417">StopTimer</span><span class="op" id="7130426">(</span><span class="op" id="7130427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130430">const</span>&nbsp;<span class="ident" id="7130436">filename</span>&nbsp;<span class="op" id="7130445">=</span>&nbsp;<span class="string" id="7130447">&#34;scanner.go&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130461">src</span><span class="op" id="7130464">,</span>&nbsp;<span class="ident" id="7130466">err</span>&nbsp;<span class="op" id="7130470">:=</span>&nbsp;<span class="ident" id="7130473">ioutil</span><span class="op" id="7130479">.</span><span class="ident" id="7130480">ReadFile</span><span class="op" id="7130488">(</span><span class="ident" id="7130489">filename</span><span class="op" id="7130497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130500">if</span>&nbsp;<span class="ident" id="7130503">err</span>&nbsp;<span class="op" id="7130507">!=</span>&nbsp;<span class="ident" id="7130510">nil</span>&nbsp;<span class="op" id="7130514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7130518">panic</span><span class="op" id="7130523">(</span><span class="ident" id="7130524">err</span><span class="op" id="7130527">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130533">fset</span>&nbsp;<span class="op" id="7130538">:=</span>&nbsp;<span class="ident" id="7130541">token</span><span class="op" id="7130546">.</span><span class="ident" id="7130547">NewFileSet</span><span class="op" id="7130557">(</span><span class="op" id="7130558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130561">file</span>&nbsp;<span class="op" id="7130566">:=</span>&nbsp;<span class="ident" id="7130569">fset</span><span class="op" id="7130573">.</span><span class="ident" id="7130574">AddFile</span><span class="op" id="7130581">(</span><span class="ident" id="7130582">filename</span><span class="op" id="7130590">,</span>&nbsp;<span class="ident" id="7130592">fset</span><span class="op" id="7130596">.</span><span class="ident" id="7130597">Base</span><span class="op" id="7130601">(</span><span class="op" id="7130602">)</span><span class="op" id="7130603">,</span>&nbsp;<span class="builtinfunc" id="7130605">len</span><span class="op" id="7130608">(</span><span class="ident" id="7130609">src</span><span class="op" id="7130612">)</span><span class="op" id="7130613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130616">b</span><span class="op" id="7130617">.</span><span class="ident" id="7130618">SetBytes</span><span class="op" id="7130626">(</span><span class="ident" id="7130627">int64</span><span class="op" id="7130632">(</span><span class="builtinfunc" id="7130633">len</span><span class="op" id="7130636">(</span><span class="ident" id="7130637">src</span><span class="op" id="7130640">)</span><span class="op" id="7130641">)</span><span class="op" id="7130642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130645">var</span>&nbsp;<span class="ident" id="7130649">s</span>&nbsp;<span class="ident" id="7130651">Scanner</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130660">b</span><span class="op" id="7130661">.</span><span class="ident" id="7130662">StartTimer</span><span class="op" id="7130672">(</span><span class="op" id="7130673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130676">for</span>&nbsp;<span class="ident" id="7130680">i</span>&nbsp;<span class="op" id="7130682">:=</span>&nbsp;<span class="num" id="7130685">0</span><span class="op" id="7130686">;</span>&nbsp;<span class="ident" id="7130688">i</span>&nbsp;<span class="op" id="7130690">&lt;</span>&nbsp;<span class="ident" id="7130692">b</span><span class="op" id="7130693">.</span><span class="ident" id="7130694">N</span><span class="op" id="7130695">;</span>&nbsp;<span class="ident" id="7130697">i</span><span class="op" id="7130698">++</span>&nbsp;<span class="op" id="7130701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130705">s</span><span class="op" id="7130706">.</span><span class="ident" id="7130707">Init</span><span class="op" id="7130711">(</span><span class="ident" id="7130712">file</span><span class="op" id="7130716">,</span>&nbsp;<span class="ident" id="7130718">src</span><span class="op" id="7130721">,</span>&nbsp;<span class="ident" id="7130723">nil</span><span class="op" id="7130726">,</span>&nbsp;<span class="ident" id="7130728">ScanComments</span><span class="op" id="7130740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130744">for</span>&nbsp;<span class="op" id="7130748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7130753">_</span><span class="op" id="7130754">,</span>&nbsp;<span class="ident" id="7130756">tok</span><span class="op" id="7130759">,</span>&nbsp;<span class="ident" id="7130761">_</span>&nbsp;<span class="op" id="7130763">:=</span>&nbsp;<span class="ident" id="7130766">s</span><span class="op" id="7130767">.</span><span class="ident" id="7130768">Scan</span><span class="op" id="7130772">(</span><span class="op" id="7130773">)</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130778">if</span>&nbsp;<span class="ident" id="7130781">tok</span>&nbsp;<span class="op" id="7130785">==</span>&nbsp;<span class="ident" id="7130788">token</span><span class="op" id="7130793">.</span><span class="ident" id="7130794">EOF</span>&nbsp;<span class="op" id="7130798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7130804">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130817">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7130820">}</span><br>
<span class="lineno">775</span><span class="op" id="7130822">}</span>
</div>
</body>
</html>
