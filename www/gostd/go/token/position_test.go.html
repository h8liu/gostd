<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/token</h2>
<ul>
<li><a href="/gostd/go/token/position.go.html">position.go</a></li>
<li><a href="/gostd/go/token/position_test.go.html" class="current">position_test.go</a></li>
<li><a href="/gostd/go/token/serialize.go.html">serialize.go</a></li>
<li><a href="/gostd/go/token/serialize_test.go.html">serialize_test.go</a></li>
<li><a href="/gostd/go/token/token.go.html">token.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8213355">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8213410">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8213464">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8213515">package</span>&nbsp;<span class="ident" id="8213523">token</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8213530">import</span>&nbsp;<span class="op" id="8213537">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8213540">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8213547">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8213560">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8213568">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8213578">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8213581">func</span>&nbsp;<span class="ident" id="8213586">checkPos</span><span class="op" id="8213594">(</span><span class="ident" id="8213595">t</span>&nbsp;<span class="op" id="8213597">*</span><span class="ident" id="8213598"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8213605">.</span><span class="ident" id="8213606"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8213607">,</span>&nbsp;<span class="ident" id="8213609">msg</span>&nbsp;<span class="builtintype" id="8213613">string</span><span class="op" id="8213619">,</span>&nbsp;<span class="ident" id="8213621">got</span><span class="op" id="8213624">,</span>&nbsp;<span class="ident" id="8213626">want</span>&nbsp;<span class="ident" id="8213631"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8213639">)</span>&nbsp;<span class="op" id="8213641">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213644">if</span>&nbsp;<span class="ident" id="8213647"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213650">.</span><span class="ident" id="8213651"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="8213660">!=</span>&nbsp;<span class="ident" id="8213663"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213667">.</span><span class="ident" id="8213668"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="8213677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213681"><a href="/gostd/go/token/position_test.go.html#8213595">t</a></span><span class="op" id="8213682">.</span><span class="ident" id="8213683"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8213689">(</span><span class="string" id="8213690">&#34;%s:&nbsp;got&nbsp;filename&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8213722">,</span>&nbsp;<span class="ident" id="8213724"><a href="/gostd/go/token/position_test.go.html#8213609">msg</a></span><span class="op" id="8213727">,</span>&nbsp;<span class="ident" id="8213729"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213732">.</span><span class="ident" id="8213733"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span><span class="op" id="8213741">,</span>&nbsp;<span class="ident" id="8213743"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213747">.</span><span class="ident" id="8213748"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span><span class="op" id="8213756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213762">if</span>&nbsp;<span class="ident" id="8213765"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213768">.</span><span class="ident" id="8213769"><a href="/gostd/go/token/position.go.html#3874020">Offset</a></span>&nbsp;<span class="op" id="8213776">!=</span>&nbsp;<span class="ident" id="8213779"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213783">.</span><span class="ident" id="8213784"><a href="/gostd/go/token/position.go.html#3874020">Offset</a></span>&nbsp;<span class="op" id="8213791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213795"><a href="/gostd/go/token/position_test.go.html#8213595">t</a></span><span class="op" id="8213796">.</span><span class="ident" id="8213797"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8213803">(</span><span class="string" id="8213804">&#34;%s:&nbsp;got&nbsp;offset&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8213834">,</span>&nbsp;<span class="ident" id="8213836"><a href="/gostd/go/token/position_test.go.html#8213609">msg</a></span><span class="op" id="8213839">,</span>&nbsp;<span class="ident" id="8213841"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213844">.</span><span class="ident" id="8213845"><a href="/gostd/go/token/position.go.html#3874020">Offset</a></span><span class="op" id="8213851">,</span>&nbsp;<span class="ident" id="8213853"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213857">.</span><span class="ident" id="8213858"><a href="/gostd/go/token/position.go.html#3874020">Offset</a></span><span class="op" id="8213864">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213870">if</span>&nbsp;<span class="ident" id="8213873"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213876">.</span><span class="ident" id="8213877"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="8213882">!=</span>&nbsp;<span class="ident" id="8213885"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213889">.</span><span class="ident" id="8213890"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="8213895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8213899"><a href="/gostd/go/token/position_test.go.html#8213595">t</a></span><span class="op" id="8213900">.</span><span class="ident" id="8213901"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8213907">(</span><span class="string" id="8213908">&#34;%s:&nbsp;got&nbsp;line&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8213936">,</span>&nbsp;<span class="ident" id="8213938"><a href="/gostd/go/token/position_test.go.html#8213609">msg</a></span><span class="op" id="8213941">,</span>&nbsp;<span class="ident" id="8213943"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213946">.</span><span class="ident" id="8213947"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span><span class="op" id="8213951">,</span>&nbsp;<span class="ident" id="8213953"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213957">.</span><span class="ident" id="8213958"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span><span class="op" id="8213962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8213965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8213968">if</span>&nbsp;<span class="ident" id="8213971"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8213974">.</span><span class="ident" id="8213975"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span>&nbsp;<span class="op" id="8213982">!=</span>&nbsp;<span class="ident" id="8213985"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8213989">.</span><span class="ident" id="8213990"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span>&nbsp;<span class="op" id="8213997">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214001"><a href="/gostd/go/token/position_test.go.html#8213595">t</a></span><span class="op" id="8214002">.</span><span class="ident" id="8214003"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8214009">(</span><span class="string" id="8214010">&#34;%s:&nbsp;got&nbsp;column&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8214040">,</span>&nbsp;<span class="ident" id="8214042"><a href="/gostd/go/token/position_test.go.html#8213609">msg</a></span><span class="op" id="8214045">,</span>&nbsp;<span class="ident" id="8214047"><a href="/gostd/go/token/position_test.go.html#8213621">got</a></span><span class="op" id="8214050">.</span><span class="ident" id="8214051"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span><span class="op" id="8214057">,</span>&nbsp;<span class="ident" id="8214059"><a href="/gostd/go/token/position_test.go.html#8213626">want</a></span><span class="op" id="8214063">.</span><span class="ident" id="8214064"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span><span class="op" id="8214070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214073">}</span><br>
<span class="lineno"></span><span class="op" id="8214075">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8214078">func</span>&nbsp;<span class="ident" id="8214083">TestNoPos</span><span class="op" id="8214092">(</span><span class="ident" id="8214093">t</span>&nbsp;<span class="op" id="8214095">*</span><span class="ident" id="8214096"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8214103">.</span><span class="ident" id="8214104"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8214105">)</span>&nbsp;<span class="op" id="8214107">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214110">if</span>&nbsp;<span class="ident" id="8214113"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="8214118">.</span><span class="ident" id="8214119"><a href="/gostd/go/token/position.go.html#3876151">IsValid</a></span><span class="op" id="8214126">(</span><span class="op" id="8214127">)</span>&nbsp;<span class="op" id="8214129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214133"><a href="/gostd/go/token/position_test.go.html#8214093">t</a></span><span class="op" id="8214134">.</span><span class="ident" id="8214135"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8214141">(</span><span class="string" id="8214142">&#34;NoPos&nbsp;should&nbsp;not&nbsp;be&nbsp;valid&#34;</span><span class="op" id="8214169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214175">var</span>&nbsp;<span class="ident" id="8214179">fset</span>&nbsp;<span class="op" id="8214184">*</span><span class="ident" id="8214185"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214194"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8214202">(</span><span class="ident" id="8214203"><a href="/gostd/go/token/position_test.go.html#8214093">t</a></span><span class="op" id="8214204">,</span>&nbsp;<span class="string" id="8214206">&#34;nil&nbsp;NoPos&#34;</span><span class="op" id="8214217">,</span>&nbsp;<span class="ident" id="8214219"><a href="/gostd/go/token/position_test.go.html#8214179">fset</a></span><span class="op" id="8214223">.</span><span class="ident" id="8214224"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="8214232">(</span><span class="ident" id="8214233"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="8214238">)</span><span class="op" id="8214239">,</span>&nbsp;<span class="ident" id="8214241"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8214249">{</span><span class="op" id="8214250">}</span><span class="op" id="8214251">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214254"><a href="/gostd/go/token/position_test.go.html#8214179">fset</a></span>&nbsp;<span class="op" id="8214259">=</span>&nbsp;<span class="ident" id="8214261"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8214271">(</span><span class="op" id="8214272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214275"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8214283">(</span><span class="ident" id="8214284"><a href="/gostd/go/token/position_test.go.html#8214093">t</a></span><span class="op" id="8214285">,</span>&nbsp;<span class="string" id="8214287">&#34;fset&nbsp;NoPos&#34;</span><span class="op" id="8214299">,</span>&nbsp;<span class="ident" id="8214301"><a href="/gostd/go/token/position_test.go.html#8214179">fset</a></span><span class="op" id="8214305">.</span><span class="ident" id="8214306"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="8214314">(</span><span class="ident" id="8214315"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="8214320">)</span><span class="op" id="8214321">,</span>&nbsp;<span class="ident" id="8214323"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8214331">{</span><span class="op" id="8214332">}</span><span class="op" id="8214333">)</span><br>
<span class="lineno"></span><span class="op" id="8214335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8214338">var</span>&nbsp;<span class="ident" id="8214342">tests</span>&nbsp;<span class="op" id="8214348">=</span>&nbsp;<span class="op" id="8214350">[</span><span class="op" id="8214351">]</span><span class="keyword" id="8214352">struct</span>&nbsp;<span class="op" id="8214359">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214362">filename</span>&nbsp;<span class="builtintype" id="8214371">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214379">source</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8214388">[</span><span class="op" id="8214389">]</span><span class="builtintype" id="8214390">byte</span>&nbsp;<span class="comment" id="8214395">//&nbsp;may&nbsp;be&nbsp;nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214410">size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8214419">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214424">lines</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214433">[</span><span class="op" id="8214434">]</span><span class="builtintype" id="8214435">int</span><br>
<span class="lineno"></span><span class="op" id="8214439">}</span><span class="op" id="8214440">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214443">{</span><span class="string" id="8214444">&#34;a&#34;</span><span class="op" id="8214447">,</span>&nbsp;<span class="op" id="8214449">[</span><span class="op" id="8214450">]</span><span class="builtintype" id="8214451">byte</span><span class="op" id="8214455">{</span><span class="op" id="8214456">}</span><span class="op" id="8214457">,</span>&nbsp;<span class="num" id="8214459">0</span><span class="op" id="8214460">,</span>&nbsp;<span class="op" id="8214462">[</span><span class="op" id="8214463">]</span><span class="builtintype" id="8214464">int</span><span class="op" id="8214467">{</span><span class="op" id="8214468">}</span><span class="op" id="8214469">}</span><span class="op" id="8214470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214473">{</span><span class="string" id="8214474">&#34;b&#34;</span><span class="op" id="8214477">,</span>&nbsp;<span class="op" id="8214479">[</span><span class="op" id="8214480">]</span><span class="builtintype" id="8214481">byte</span><span class="op" id="8214485">(</span><span class="string" id="8214486">&#34;01234&#34;</span><span class="op" id="8214493">)</span><span class="op" id="8214494">,</span>&nbsp;<span class="num" id="8214496">5</span><span class="op" id="8214497">,</span>&nbsp;<span class="op" id="8214499">[</span><span class="op" id="8214500">]</span><span class="builtintype" id="8214501">int</span><span class="op" id="8214504">{</span><span class="num" id="8214505">0</span><span class="op" id="8214506">}</span><span class="op" id="8214507">}</span><span class="op" id="8214508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214511">{</span><span class="string" id="8214512">&#34;c&#34;</span><span class="op" id="8214515">,</span>&nbsp;<span class="op" id="8214517">[</span><span class="op" id="8214518">]</span><span class="builtintype" id="8214519">byte</span><span class="op" id="8214523">(</span><span class="string" id="8214524">&#34;\n\n\n\n\n\n\n\n\n&#34;</span><span class="op" id="8214544">)</span><span class="op" id="8214545">,</span>&nbsp;<span class="num" id="8214547">9</span><span class="op" id="8214548">,</span>&nbsp;<span class="op" id="8214550">[</span><span class="op" id="8214551">]</span><span class="builtintype" id="8214552">int</span><span class="op" id="8214555">{</span><span class="num" id="8214556">0</span><span class="op" id="8214557">,</span>&nbsp;<span class="num" id="8214559">1</span><span class="op" id="8214560">,</span>&nbsp;<span class="num" id="8214562">2</span><span class="op" id="8214563">,</span>&nbsp;<span class="num" id="8214565">3</span><span class="op" id="8214566">,</span>&nbsp;<span class="num" id="8214568">4</span><span class="op" id="8214569">,</span>&nbsp;<span class="num" id="8214571">5</span><span class="op" id="8214572">,</span>&nbsp;<span class="num" id="8214574">6</span><span class="op" id="8214575">,</span>&nbsp;<span class="num" id="8214577">7</span><span class="op" id="8214578">,</span>&nbsp;<span class="num" id="8214580">8</span><span class="op" id="8214581">}</span><span class="op" id="8214582">}</span><span class="op" id="8214583">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214586">{</span><span class="string" id="8214587">&#34;d&#34;</span><span class="op" id="8214590">,</span>&nbsp;<span class="builtintype" id="8214592">nil</span><span class="op" id="8214595">,</span>&nbsp;<span class="num" id="8214597">100</span><span class="op" id="8214600">,</span>&nbsp;<span class="op" id="8214602">[</span><span class="op" id="8214603">]</span><span class="builtintype" id="8214604">int</span><span class="op" id="8214607">{</span><span class="num" id="8214608">0</span><span class="op" id="8214609">,</span>&nbsp;<span class="num" id="8214611">5</span><span class="op" id="8214612">,</span>&nbsp;<span class="num" id="8214614">10</span><span class="op" id="8214616">,</span>&nbsp;<span class="num" id="8214618">20</span><span class="op" id="8214620">,</span>&nbsp;<span class="num" id="8214622">30</span><span class="op" id="8214624">,</span>&nbsp;<span class="num" id="8214626">70</span><span class="op" id="8214628">,</span>&nbsp;<span class="num" id="8214630">71</span><span class="op" id="8214632">,</span>&nbsp;<span class="num" id="8214634">72</span><span class="op" id="8214636">,</span>&nbsp;<span class="num" id="8214638">80</span><span class="op" id="8214640">,</span>&nbsp;<span class="num" id="8214642">85</span><span class="op" id="8214644">,</span>&nbsp;<span class="num" id="8214646">90</span><span class="op" id="8214648">,</span>&nbsp;<span class="num" id="8214650">99</span><span class="op" id="8214652">}</span><span class="op" id="8214653">}</span><span class="op" id="8214654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214657">{</span><span class="string" id="8214658">&#34;e&#34;</span><span class="op" id="8214661">,</span>&nbsp;<span class="builtintype" id="8214663">nil</span><span class="op" id="8214666">,</span>&nbsp;<span class="num" id="8214668">777</span><span class="op" id="8214671">,</span>&nbsp;<span class="op" id="8214673">[</span><span class="op" id="8214674">]</span><span class="builtintype" id="8214675">int</span><span class="op" id="8214678">{</span><span class="num" id="8214679">0</span><span class="op" id="8214680">,</span>&nbsp;<span class="num" id="8214682">80</span><span class="op" id="8214684">,</span>&nbsp;<span class="num" id="8214686">100</span><span class="op" id="8214689">,</span>&nbsp;<span class="num" id="8214691">120</span><span class="op" id="8214694">,</span>&nbsp;<span class="num" id="8214696">130</span><span class="op" id="8214699">,</span>&nbsp;<span class="num" id="8214701">180</span><span class="op" id="8214704">,</span>&nbsp;<span class="num" id="8214706">267</span><span class="op" id="8214709">,</span>&nbsp;<span class="num" id="8214711">455</span><span class="op" id="8214714">,</span>&nbsp;<span class="num" id="8214716">500</span><span class="op" id="8214719">,</span>&nbsp;<span class="num" id="8214721">567</span><span class="op" id="8214724">,</span>&nbsp;<span class="num" id="8214726">620</span><span class="op" id="8214729">}</span><span class="op" id="8214730">}</span><span class="op" id="8214731">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214734">{</span><span class="string" id="8214735">&#34;f&#34;</span><span class="op" id="8214738">,</span>&nbsp;<span class="op" id="8214740">[</span><span class="op" id="8214741">]</span><span class="builtintype" id="8214742">byte</span><span class="op" id="8214746">(</span><span class="string" id="8214747">&#34;package&nbsp;p\n\nimport&nbsp;\&#34;fmt\&#34;&#34;</span><span class="op" id="8214776">)</span><span class="op" id="8214777">,</span>&nbsp;<span class="num" id="8214779">23</span><span class="op" id="8214781">,</span>&nbsp;<span class="op" id="8214783">[</span><span class="op" id="8214784">]</span><span class="builtintype" id="8214785">int</span><span class="op" id="8214788">{</span><span class="num" id="8214789">0</span><span class="op" id="8214790">,</span>&nbsp;<span class="num" id="8214792">10</span><span class="op" id="8214794">,</span>&nbsp;<span class="num" id="8214796">11</span><span class="op" id="8214798">}</span><span class="op" id="8214799">}</span><span class="op" id="8214800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214803">{</span><span class="string" id="8214804">&#34;g&#34;</span><span class="op" id="8214807">,</span>&nbsp;<span class="op" id="8214809">[</span><span class="op" id="8214810">]</span><span class="builtintype" id="8214811">byte</span><span class="op" id="8214815">(</span><span class="string" id="8214816">&#34;package&nbsp;p\n\nimport&nbsp;\&#34;fmt\&#34;\n&#34;</span><span class="op" id="8214847">)</span><span class="op" id="8214848">,</span>&nbsp;<span class="num" id="8214850">24</span><span class="op" id="8214852">,</span>&nbsp;<span class="op" id="8214854">[</span><span class="op" id="8214855">]</span><span class="builtintype" id="8214856">int</span><span class="op" id="8214859">{</span><span class="num" id="8214860">0</span><span class="op" id="8214861">,</span>&nbsp;<span class="num" id="8214863">10</span><span class="op" id="8214865">,</span>&nbsp;<span class="num" id="8214867">11</span><span class="op" id="8214869">}</span><span class="op" id="8214870">}</span><span class="op" id="8214871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214874">{</span><span class="string" id="8214875">&#34;h&#34;</span><span class="op" id="8214878">,</span>&nbsp;<span class="op" id="8214880">[</span><span class="op" id="8214881">]</span><span class="builtintype" id="8214882">byte</span><span class="op" id="8214886">(</span><span class="string" id="8214887">&#34;package&nbsp;p\n\nimport&nbsp;\&#34;fmt\&#34;\n&nbsp;&#34;</span><span class="op" id="8214919">)</span><span class="op" id="8214920">,</span>&nbsp;<span class="num" id="8214922">25</span><span class="op" id="8214924">,</span>&nbsp;<span class="op" id="8214926">[</span><span class="op" id="8214927">]</span><span class="builtintype" id="8214928">int</span><span class="op" id="8214931">{</span><span class="num" id="8214932">0</span><span class="op" id="8214933">,</span>&nbsp;<span class="num" id="8214935">10</span><span class="op" id="8214937">,</span>&nbsp;<span class="num" id="8214939">11</span><span class="op" id="8214941">,</span>&nbsp;<span class="num" id="8214943">24</span><span class="op" id="8214945">}</span><span class="op" id="8214946">}</span><span class="op" id="8214947">,</span><br>
<span class="lineno"></span><span class="op" id="8214949">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="8214952">func</span>&nbsp;<span class="ident" id="8214957">linecol</span><span class="op" id="8214964">(</span><span class="ident" id="8214965">lines</span>&nbsp;<span class="op" id="8214971">[</span><span class="op" id="8214972">]</span><span class="builtintype" id="8214973">int</span><span class="op" id="8214976">,</span>&nbsp;<span class="ident" id="8214978">offs</span>&nbsp;<span class="builtintype" id="8214983">int</span><span class="op" id="8214986">)</span>&nbsp;<span class="op" id="8214988">(</span><span class="builtintype" id="8214989">int</span><span class="op" id="8214992">,</span>&nbsp;<span class="builtintype" id="8214994">int</span><span class="op" id="8214997">)</span>&nbsp;<span class="op" id="8214999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215002">prevLineOffs</span>&nbsp;<span class="op" id="8215015">:=</span>&nbsp;<span class="num" id="8215018">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215021">for</span>&nbsp;<span class="ident" id="8215025">line</span><span class="op" id="8215029">,</span>&nbsp;<span class="ident" id="8215031">lineOffs</span>&nbsp;<span class="op" id="8215040">:=</span>&nbsp;<span class="keyword" id="8215043">range</span>&nbsp;<span class="ident" id="8215049"><a href="/gostd/go/token/position_test.go.html#8214965">lines</a></span>&nbsp;<span class="op" id="8215055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215059">if</span>&nbsp;<span class="ident" id="8215062"><a href="/gostd/go/token/position_test.go.html#8214978">offs</a></span>&nbsp;<span class="op" id="8215067">&lt;</span>&nbsp;<span class="ident" id="8215069"><a href="/gostd/go/token/position_test.go.html#8215031">lineOffs</a></span>&nbsp;<span class="op" id="8215078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215083">return</span>&nbsp;<span class="ident" id="8215090"><a href="/gostd/go/token/position_test.go.html#8215025">line</a></span><span class="op" id="8215094">,</span>&nbsp;<span class="ident" id="8215096"><a href="/gostd/go/token/position_test.go.html#8214978">offs</a></span>&nbsp;<span class="op" id="8215101">-</span>&nbsp;<span class="ident" id="8215103"><a href="/gostd/go/token/position_test.go.html#8215002">prevLineOffs</a></span>&nbsp;<span class="op" id="8215116">+</span>&nbsp;<span class="num" id="8215118">1</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215126"><a href="/gostd/go/token/position_test.go.html#8215002">prevLineOffs</a></span>&nbsp;<span class="op" id="8215139">=</span>&nbsp;<span class="ident" id="8215141"><a href="/gostd/go/token/position_test.go.html#8215031">lineOffs</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215151">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215154">return</span>&nbsp;<span class="builtinfunc" id="8215161">len</span><span class="op" id="8215164">(</span><span class="ident" id="8215165"><a href="/gostd/go/token/position_test.go.html#8214965">lines</a></span><span class="op" id="8215170">)</span><span class="op" id="8215171">,</span>&nbsp;<span class="ident" id="8215173"><a href="/gostd/go/token/position_test.go.html#8214978">offs</a></span>&nbsp;<span class="op" id="8215178">-</span>&nbsp;<span class="ident" id="8215180"><a href="/gostd/go/token/position_test.go.html#8215002">prevLineOffs</a></span>&nbsp;<span class="op" id="8215193">+</span>&nbsp;<span class="num" id="8215195">1</span><br>
<span class="lineno"></span><span class="op" id="8215197">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8215200">func</span>&nbsp;<span class="ident" id="8215205">verifyPositions</span><span class="op" id="8215220">(</span><span class="ident" id="8215221">t</span>&nbsp;<span class="op" id="8215223">*</span><span class="ident" id="8215224"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8215231">.</span><span class="ident" id="8215232"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8215233">,</span>&nbsp;<span class="ident" id="8215235">fset</span>&nbsp;<span class="op" id="8215240">*</span><span class="ident" id="8215241"><a href="/gostd/go/token/position.go.html#3883366">FileSet</a></span><span class="op" id="8215248">,</span>&nbsp;<span class="ident" id="8215250">f</span>&nbsp;<span class="op" id="8215252">*</span><span class="ident" id="8215253"><a href="/gostd/go/token/position.go.html#3876396">File</a></span><span class="op" id="8215257">,</span>&nbsp;<span class="ident" id="8215259">lines</span>&nbsp;<span class="op" id="8215265">[</span><span class="op" id="8215266">]</span><span class="builtintype" id="8215267">int</span><span class="op" id="8215270">)</span>&nbsp;<span class="op" id="8215272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215275">for</span>&nbsp;<span class="ident" id="8215279">offs</span>&nbsp;<span class="op" id="8215284">:=</span>&nbsp;<span class="num" id="8215287">0</span><span class="op" id="8215288">;</span>&nbsp;<span class="ident" id="8215290"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span>&nbsp;<span class="op" id="8215295">&lt;</span>&nbsp;<span class="ident" id="8215297"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215298">.</span><span class="ident" id="8215299"><a href="/gostd/go/token/position.go.html#3877080">Size</a></span><span class="op" id="8215303">(</span><span class="op" id="8215304">)</span><span class="op" id="8215305">;</span>&nbsp;<span class="ident" id="8215307"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215311">++</span>&nbsp;<span class="op" id="8215314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215318">p</span>&nbsp;<span class="op" id="8215320">:=</span>&nbsp;<span class="ident" id="8215323"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215324">.</span><span class="ident" id="8215325"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8215328">(</span><span class="ident" id="8215329"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215337">offs2</span>&nbsp;<span class="op" id="8215343">:=</span>&nbsp;<span class="ident" id="8215346"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215347">.</span><span class="ident" id="8215348"><a href="/gostd/go/token/position.go.html#3881098">Offset</a></span><span class="op" id="8215354">(</span><span class="ident" id="8215355"><a href="/gostd/go/token/position_test.go.html#8215318">p</a></span><span class="op" id="8215356">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215360">if</span>&nbsp;<span class="ident" id="8215363"><a href="/gostd/go/token/position_test.go.html#8215337">offs2</a></span>&nbsp;<span class="op" id="8215369">!=</span>&nbsp;<span class="ident" id="8215372"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span>&nbsp;<span class="op" id="8215377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215382"><a href="/gostd/go/token/position_test.go.html#8215221">t</a></span><span class="op" id="8215383">.</span><span class="ident" id="8215384"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8215390">(</span><span class="string" id="8215391">&#34;%s,&nbsp;Offset:&nbsp;got&nbsp;offset&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8215427">,</span>&nbsp;<span class="ident" id="8215429"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215430">.</span><span class="ident" id="8215431"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8215435">(</span><span class="op" id="8215436">)</span><span class="op" id="8215437">,</span>&nbsp;<span class="ident" id="8215439"><a href="/gostd/go/token/position_test.go.html#8215337">offs2</a></span><span class="op" id="8215444">,</span>&nbsp;<span class="ident" id="8215446"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215458">line</span><span class="op" id="8215462">,</span>&nbsp;<span class="ident" id="8215464">col</span>&nbsp;<span class="op" id="8215468">:=</span>&nbsp;<span class="ident" id="8215471"><a href="/gostd/go/token/position_test.go.html#8214957">linecol</a></span><span class="op" id="8215478">(</span><span class="ident" id="8215479"><a href="/gostd/go/token/position_test.go.html#8215259">lines</a></span><span class="op" id="8215484">,</span>&nbsp;<span class="ident" id="8215486"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215494">msg</span>&nbsp;<span class="op" id="8215498">:=</span>&nbsp;<span class="ident" id="8215501"><a href="/gostd/go/token/position_test.go.html#8213540">fmt</a></span><span class="op" id="8215504">.</span><span class="ident" id="8215505"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8215512">(</span><span class="string" id="8215513">&#34;%s&nbsp;(offs&nbsp;=&nbsp;%d,&nbsp;p&nbsp;=&nbsp;%d)&#34;</span><span class="op" id="8215537">,</span>&nbsp;<span class="ident" id="8215539"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215540">.</span><span class="ident" id="8215541"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8215545">(</span><span class="op" id="8215546">)</span><span class="op" id="8215547">,</span>&nbsp;<span class="ident" id="8215549"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215553">,</span>&nbsp;<span class="ident" id="8215555"><a href="/gostd/go/token/position_test.go.html#8215318">p</a></span><span class="op" id="8215556">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215560"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8215568">(</span><span class="ident" id="8215569"><a href="/gostd/go/token/position_test.go.html#8215221">t</a></span><span class="op" id="8215570">,</span>&nbsp;<span class="ident" id="8215572"><a href="/gostd/go/token/position_test.go.html#8215494">msg</a></span><span class="op" id="8215575">,</span>&nbsp;<span class="ident" id="8215577"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215578">.</span><span class="ident" id="8215579"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="8215587">(</span><span class="ident" id="8215588"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215589">.</span><span class="ident" id="8215590"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8215593">(</span><span class="ident" id="8215594"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215598">)</span><span class="op" id="8215599">)</span><span class="op" id="8215600">,</span>&nbsp;<span class="ident" id="8215602"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8215610">{</span><span class="ident" id="8215611"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215612">.</span><span class="ident" id="8215613"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8215617">(</span><span class="op" id="8215618">)</span><span class="op" id="8215619">,</span>&nbsp;<span class="ident" id="8215621"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215625">,</span>&nbsp;<span class="ident" id="8215627"><a href="/gostd/go/token/position_test.go.html#8215458">line</a></span><span class="op" id="8215631">,</span>&nbsp;<span class="ident" id="8215633"><a href="/gostd/go/token/position_test.go.html#8215464">col</a></span><span class="op" id="8215636">}</span><span class="op" id="8215637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215641"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8215649">(</span><span class="ident" id="8215650"><a href="/gostd/go/token/position_test.go.html#8215221">t</a></span><span class="op" id="8215651">,</span>&nbsp;<span class="ident" id="8215653"><a href="/gostd/go/token/position_test.go.html#8215494">msg</a></span><span class="op" id="8215656">,</span>&nbsp;<span class="ident" id="8215658"><a href="/gostd/go/token/position_test.go.html#8215235">fset</a></span><span class="op" id="8215662">.</span><span class="ident" id="8215663"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="8215671">(</span><span class="ident" id="8215672"><a href="/gostd/go/token/position_test.go.html#8215318">p</a></span><span class="op" id="8215673">)</span><span class="op" id="8215674">,</span>&nbsp;<span class="ident" id="8215676"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8215684">{</span><span class="ident" id="8215685"><a href="/gostd/go/token/position_test.go.html#8215250">f</a></span><span class="op" id="8215686">.</span><span class="ident" id="8215687"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8215691">(</span><span class="op" id="8215692">)</span><span class="op" id="8215693">,</span>&nbsp;<span class="ident" id="8215695"><a href="/gostd/go/token/position_test.go.html#8215279">offs</a></span><span class="op" id="8215699">,</span>&nbsp;<span class="ident" id="8215701"><a href="/gostd/go/token/position_test.go.html#8215458">line</a></span><span class="op" id="8215705">,</span>&nbsp;<span class="ident" id="8215707"><a href="/gostd/go/token/position_test.go.html#8215464">col</a></span><span class="op" id="8215710">}</span><span class="op" id="8215711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215714">}</span><br>
<span class="lineno"></span><span class="op" id="8215716">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8215719">func</span>&nbsp;<span class="ident" id="8215724">makeTestSource</span><span class="op" id="8215738">(</span><span class="ident" id="8215739">size</span>&nbsp;<span class="builtintype" id="8215744">int</span><span class="op" id="8215747">,</span>&nbsp;<span class="ident" id="8215749">lines</span>&nbsp;<span class="op" id="8215755">[</span><span class="op" id="8215756">]</span><span class="builtintype" id="8215757">int</span><span class="op" id="8215760">)</span>&nbsp;<span class="op" id="8215762">[</span><span class="op" id="8215763">]</span><span class="builtintype" id="8215764">byte</span>&nbsp;<span class="op" id="8215769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215772">src</span>&nbsp;<span class="op" id="8215776">:=</span>&nbsp;<span class="builtinfunc" id="8215779">make</span><span class="op" id="8215783">(</span><span class="op" id="8215784">[</span><span class="op" id="8215785">]</span><span class="builtintype" id="8215786">byte</span><span class="op" id="8215790">,</span>&nbsp;<span class="ident" id="8215792"><a href="/gostd/go/token/position_test.go.html#8215739">size</a></span><span class="op" id="8215796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215799">for</span>&nbsp;<span class="ident" id="8215803">_</span><span class="op" id="8215804">,</span>&nbsp;<span class="ident" id="8215806">offs</span>&nbsp;<span class="op" id="8215811">:=</span>&nbsp;<span class="keyword" id="8215814">range</span>&nbsp;<span class="ident" id="8215820"><a href="/gostd/go/token/position_test.go.html#8215749">lines</a></span>&nbsp;<span class="op" id="8215826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215830">if</span>&nbsp;<span class="ident" id="8215833"><a href="/gostd/go/token/position_test.go.html#8215806">offs</a></span>&nbsp;<span class="op" id="8215838">&gt;</span>&nbsp;<span class="num" id="8215840">0</span>&nbsp;<span class="op" id="8215842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215847"><a href="/gostd/go/token/position_test.go.html#8215772">src</a></span><span class="op" id="8215850">[</span><span class="ident" id="8215851"><a href="/gostd/go/token/position_test.go.html#8215806">offs</a></span><span class="op" id="8215855">-</span><span class="num" id="8215856">1</span><span class="op" id="8215857">]</span>&nbsp;<span class="op" id="8215859">=</span>&nbsp;<span class="string" id="8215861">&#39;\n&#39;</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215868">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8215871">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215874">return</span>&nbsp;<span class="ident" id="8215881"><a href="/gostd/go/token/position_test.go.html#8215772">src</a></span><br>
<span class="lineno"></span><span class="op" id="8215885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="8215888">func</span>&nbsp;<span class="ident" id="8215893">TestPositions</span><span class="op" id="8215906">(</span><span class="ident" id="8215907">t</span>&nbsp;<span class="op" id="8215909">*</span><span class="ident" id="8215910"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8215917">.</span><span class="ident" id="8215918"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8215919">)</span>&nbsp;<span class="op" id="8215921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215924">const</span>&nbsp;<span class="ident" id="8215930">delta</span>&nbsp;<span class="op" id="8215936">=</span>&nbsp;<span class="num" id="8215938">7</span>&nbsp;<span class="comment" id="8215940">//&nbsp;a&nbsp;non-zero&nbsp;base&nbsp;offset&nbsp;increment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8215977">fset</span>&nbsp;<span class="op" id="8215982">:=</span>&nbsp;<span class="ident" id="8215985"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8215995">(</span><span class="op" id="8215996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8215999">for</span>&nbsp;<span class="ident" id="8216003">_</span><span class="op" id="8216004">,</span>&nbsp;<span class="ident" id="8216006">test</span>&nbsp;<span class="op" id="8216011">:=</span>&nbsp;<span class="keyword" id="8216014">range</span>&nbsp;<span class="ident" id="8216020"><a href="/gostd/go/token/position_test.go.html#8214342">tests</a></span>&nbsp;<span class="op" id="8216026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8216030">//&nbsp;verify&nbsp;consistency&nbsp;of&nbsp;test&nbsp;case</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216067">if</span>&nbsp;<span class="ident" id="8216070"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216074">.</span><span class="ident" id="8216075"><a href="/gostd/go/token/position_test.go.html#8214379">source</a></span>&nbsp;<span class="op" id="8216082">!=</span>&nbsp;<span class="builtintype" id="8216085">nil</span>&nbsp;<span class="op" id="8216089">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8216092">len</span><span class="op" id="8216095">(</span><span class="ident" id="8216096"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216100">.</span><span class="ident" id="8216101"><a href="/gostd/go/token/position_test.go.html#8214379">source</a></span><span class="op" id="8216107">)</span>&nbsp;<span class="op" id="8216109">!=</span>&nbsp;<span class="ident" id="8216112"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216116">.</span><span class="ident" id="8216117"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span>&nbsp;<span class="op" id="8216122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216127"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8216128">.</span><span class="ident" id="8216129"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8216135">(</span><span class="string" id="8216136">&#34;%s:&nbsp;inconsistent&nbsp;test&nbsp;case:&nbsp;got&nbsp;file&nbsp;size&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8216191">,</span>&nbsp;<span class="ident" id="8216193"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216197">.</span><span class="ident" id="8216198"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8216206">,</span>&nbsp;<span class="builtinfunc" id="8216208">len</span><span class="op" id="8216211">(</span><span class="ident" id="8216212"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216216">.</span><span class="ident" id="8216217"><a href="/gostd/go/token/position_test.go.html#8214379">source</a></span><span class="op" id="8216223">)</span><span class="op" id="8216224">,</span>&nbsp;<span class="ident" id="8216226"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216230">.</span><span class="ident" id="8216231"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8216235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8216239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8216244">//&nbsp;add&nbsp;file&nbsp;and&nbsp;verify&nbsp;name&nbsp;and&nbsp;size</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216283">f</span>&nbsp;<span class="op" id="8216285">:=</span>&nbsp;<span class="ident" id="8216288"><a href="/gostd/go/token/position_test.go.html#8215977">fset</a></span><span class="op" id="8216292">.</span><span class="ident" id="8216293"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8216300">(</span><span class="ident" id="8216301"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216305">.</span><span class="ident" id="8216306"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8216314">,</span>&nbsp;<span class="ident" id="8216316"><a href="/gostd/go/token/position_test.go.html#8215977">fset</a></span><span class="op" id="8216320">.</span><span class="ident" id="8216321"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8216325">(</span><span class="op" id="8216326">)</span><span class="op" id="8216327">+</span><span class="ident" id="8216328"><a href="/gostd/go/token/position_test.go.html#8215930">delta</a></span><span class="op" id="8216333">,</span>&nbsp;<span class="ident" id="8216335"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216339">.</span><span class="ident" id="8216340"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8216344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216348">if</span>&nbsp;<span class="ident" id="8216351"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216352">.</span><span class="ident" id="8216353"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8216357">(</span><span class="op" id="8216358">)</span>&nbsp;<span class="op" id="8216360">!=</span>&nbsp;<span class="ident" id="8216363"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216367">.</span><span class="ident" id="8216368"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span>&nbsp;<span class="op" id="8216377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216382"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8216383">.</span><span class="ident" id="8216384"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8216390">(</span><span class="string" id="8216391">&#34;got&nbsp;filename&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8216417">,</span>&nbsp;<span class="ident" id="8216419"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216420">.</span><span class="ident" id="8216421"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8216425">(</span><span class="op" id="8216426">)</span><span class="op" id="8216427">,</span>&nbsp;<span class="ident" id="8216429"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216433">.</span><span class="ident" id="8216434"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8216442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8216446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216450">if</span>&nbsp;<span class="ident" id="8216453"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216454">.</span><span class="ident" id="8216455"><a href="/gostd/go/token/position.go.html#3877080">Size</a></span><span class="op" id="8216459">(</span><span class="op" id="8216460">)</span>&nbsp;<span class="op" id="8216462">!=</span>&nbsp;<span class="ident" id="8216465"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216469">.</span><span class="ident" id="8216470"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span>&nbsp;<span class="op" id="8216475">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216480"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8216481">.</span><span class="ident" id="8216482"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8216488">(</span><span class="string" id="8216489">&#34;%s:&nbsp;got&nbsp;file&nbsp;size&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8216520">,</span>&nbsp;<span class="ident" id="8216522"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216523">.</span><span class="ident" id="8216524"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8216528">(</span><span class="op" id="8216529">)</span><span class="op" id="8216530">,</span>&nbsp;<span class="ident" id="8216532"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216533">.</span><span class="ident" id="8216534"><a href="/gostd/go/token/position.go.html#3877080">Size</a></span><span class="op" id="8216538">(</span><span class="op" id="8216539">)</span><span class="op" id="8216540">,</span>&nbsp;<span class="ident" id="8216542"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216546">.</span><span class="ident" id="8216547"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8216551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8216555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216559">if</span>&nbsp;<span class="ident" id="8216562"><a href="/gostd/go/token/position_test.go.html#8215977">fset</a></span><span class="op" id="8216566">.</span><span class="ident" id="8216567"><a href="/gostd/go/token/position.go.html#3886425">File</a></span><span class="op" id="8216571">(</span><span class="ident" id="8216572"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216573">.</span><span class="ident" id="8216574"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8216577">(</span><span class="num" id="8216578">0</span><span class="op" id="8216579">)</span><span class="op" id="8216580">)</span>&nbsp;<span class="op" id="8216582">!=</span>&nbsp;<span class="ident" id="8216585"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span>&nbsp;<span class="op" id="8216587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216592"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8216593">.</span><span class="ident" id="8216594"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8216600">(</span><span class="string" id="8216601">&#34;%s:&nbsp;f.Pos(0)&nbsp;was&nbsp;not&nbsp;found&nbsp;in&nbsp;f&#34;</span><span class="op" id="8216634">,</span>&nbsp;<span class="ident" id="8216636"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216637">.</span><span class="ident" id="8216638"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8216642">(</span><span class="op" id="8216643">)</span><span class="op" id="8216644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8216648">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8216653">//&nbsp;add&nbsp;lines&nbsp;individually&nbsp;and&nbsp;verify&nbsp;all&nbsp;positions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216706">for</span>&nbsp;<span class="ident" id="8216710">i</span><span class="op" id="8216711">,</span>&nbsp;<span class="ident" id="8216713">offset</span>&nbsp;<span class="op" id="8216720">:=</span>&nbsp;<span class="keyword" id="8216723">range</span>&nbsp;<span class="ident" id="8216729"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8216733">.</span><span class="ident" id="8216734"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span>&nbsp;<span class="op" id="8216740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216745"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216746">.</span><span class="ident" id="8216747"><a href="/gostd/go/token/position.go.html#3877483">AddLine</a></span><span class="op" id="8216754">(</span><span class="ident" id="8216755"><a href="/gostd/go/token/position_test.go.html#8216713">offset</a></span><span class="op" id="8216761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216766">if</span>&nbsp;<span class="ident" id="8216769"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216770">.</span><span class="ident" id="8216771"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8216780">(</span><span class="op" id="8216781">)</span>&nbsp;<span class="op" id="8216783">!=</span>&nbsp;<span class="ident" id="8216786"><a href="/gostd/go/token/position_test.go.html#8216710">i</a></span><span class="op" id="8216787">+</span><span class="num" id="8216788">1</span>&nbsp;<span class="op" id="8216790">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216796"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8216797">.</span><span class="ident" id="8216798"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8216804">(</span><span class="string" id="8216805">&#34;%s,&nbsp;AddLine:&nbsp;got&nbsp;line&nbsp;count&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8216846">,</span>&nbsp;<span class="ident" id="8216848"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216849">.</span><span class="ident" id="8216850"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8216854">(</span><span class="op" id="8216855">)</span><span class="op" id="8216856">,</span>&nbsp;<span class="ident" id="8216858"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216859">.</span><span class="ident" id="8216860"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8216869">(</span><span class="op" id="8216870">)</span><span class="op" id="8216871">,</span>&nbsp;<span class="ident" id="8216873"><a href="/gostd/go/token/position_test.go.html#8216710">i</a></span><span class="op" id="8216874">+</span><span class="num" id="8216875">1</span><span class="op" id="8216876">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8216881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8216886">//&nbsp;adding&nbsp;the&nbsp;same&nbsp;offset&nbsp;again&nbsp;should&nbsp;be&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216939"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216940">.</span><span class="ident" id="8216941"><a href="/gostd/go/token/position.go.html#3877483">AddLine</a></span><span class="op" id="8216948">(</span><span class="ident" id="8216949"><a href="/gostd/go/token/position_test.go.html#8216713">offset</a></span><span class="op" id="8216955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8216960">if</span>&nbsp;<span class="ident" id="8216963"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8216964">.</span><span class="ident" id="8216965"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8216974">(</span><span class="op" id="8216975">)</span>&nbsp;<span class="op" id="8216977">!=</span>&nbsp;<span class="ident" id="8216980"><a href="/gostd/go/token/position_test.go.html#8216710">i</a></span><span class="op" id="8216981">+</span><span class="num" id="8216982">1</span>&nbsp;<span class="op" id="8216984">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8216990"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8216991">.</span><span class="ident" id="8216992"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8216998">(</span><span class="string" id="8216999">&#34;%s,&nbsp;AddLine:&nbsp;got&nbsp;unchanged&nbsp;line&nbsp;count&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8217050">,</span>&nbsp;<span class="ident" id="8217052"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217053">.</span><span class="ident" id="8217054"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8217058">(</span><span class="op" id="8217059">)</span><span class="op" id="8217060">,</span>&nbsp;<span class="ident" id="8217062"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217063">.</span><span class="ident" id="8217064"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8217073">(</span><span class="op" id="8217074">)</span><span class="op" id="8217075">,</span>&nbsp;<span class="ident" id="8217077"><a href="/gostd/go/token/position_test.go.html#8216710">i</a></span><span class="op" id="8217078">+</span><span class="num" id="8217079">1</span><span class="op" id="8217080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217090"><a href="/gostd/go/token/position_test.go.html#8215205">verifyPositions</a></span><span class="op" id="8217105">(</span><span class="ident" id="8217106"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8217107">,</span>&nbsp;<span class="ident" id="8217109"><a href="/gostd/go/token/position_test.go.html#8215977">fset</a></span><span class="op" id="8217113">,</span>&nbsp;<span class="ident" id="8217115"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217116">,</span>&nbsp;<span class="ident" id="8217118"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217122">.</span><span class="ident" id="8217123"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217128">[</span><span class="num" id="8217129">0</span><span class="op" id="8217130">:</span><span class="ident" id="8217131"><a href="/gostd/go/token/position_test.go.html#8216710">i</a></span><span class="op" id="8217132">+</span><span class="num" id="8217133">1</span><span class="op" id="8217134">]</span><span class="op" id="8217135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8217144">//&nbsp;add&nbsp;lines&nbsp;with&nbsp;SetLines&nbsp;and&nbsp;verify&nbsp;all&nbsp;positions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217198">if</span>&nbsp;<span class="ident" id="8217201">ok</span>&nbsp;<span class="op" id="8217204">:=</span>&nbsp;<span class="ident" id="8217207"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217208">.</span><span class="ident" id="8217209"><a href="/gostd/go/token/position.go.html#3879033">SetLines</a></span><span class="op" id="8217217">(</span><span class="ident" id="8217218"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217222">.</span><span class="ident" id="8217223"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217228">)</span><span class="op" id="8217229">;</span>&nbsp;<span class="op" id="8217231">!</span><span class="ident" id="8217232"><a href="/gostd/go/token/position_test.go.html#8217201">ok</a></span>&nbsp;<span class="op" id="8217235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217240"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8217241">.</span><span class="ident" id="8217242"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8217248">(</span><span class="string" id="8217249">&#34;%s:&nbsp;SetLines&nbsp;failed&#34;</span><span class="op" id="8217270">,</span>&nbsp;<span class="ident" id="8217272"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217273">.</span><span class="ident" id="8217274"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8217278">(</span><span class="op" id="8217279">)</span><span class="op" id="8217280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217288">if</span>&nbsp;<span class="ident" id="8217291"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217292">.</span><span class="ident" id="8217293"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8217302">(</span><span class="op" id="8217303">)</span>&nbsp;<span class="op" id="8217305">!=</span>&nbsp;<span class="builtinfunc" id="8217308">len</span><span class="op" id="8217311">(</span><span class="ident" id="8217312"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217316">.</span><span class="ident" id="8217317"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217322">)</span>&nbsp;<span class="op" id="8217324">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217329"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8217330">.</span><span class="ident" id="8217331"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8217337">(</span><span class="string" id="8217338">&#34;%s,&nbsp;SetLines:&nbsp;got&nbsp;line&nbsp;count&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8217380">,</span>&nbsp;<span class="ident" id="8217382"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217383">.</span><span class="ident" id="8217384"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8217388">(</span><span class="op" id="8217389">)</span><span class="op" id="8217390">,</span>&nbsp;<span class="ident" id="8217392"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217393">.</span><span class="ident" id="8217394"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8217403">(</span><span class="op" id="8217404">)</span><span class="op" id="8217405">,</span>&nbsp;<span class="builtinfunc" id="8217407">len</span><span class="op" id="8217410">(</span><span class="ident" id="8217411"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217415">.</span><span class="ident" id="8217416"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217421">)</span><span class="op" id="8217422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217430"><a href="/gostd/go/token/position_test.go.html#8215205">verifyPositions</a></span><span class="op" id="8217445">(</span><span class="ident" id="8217446"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8217447">,</span>&nbsp;<span class="ident" id="8217449"><a href="/gostd/go/token/position_test.go.html#8215977">fset</a></span><span class="op" id="8217453">,</span>&nbsp;<span class="ident" id="8217455"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217456">,</span>&nbsp;<span class="ident" id="8217458"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217462">.</span><span class="ident" id="8217463"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217468">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8217473">//&nbsp;add&nbsp;lines&nbsp;with&nbsp;SetLinesForContent&nbsp;and&nbsp;verify&nbsp;all&nbsp;positions</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217537">src</span>&nbsp;<span class="op" id="8217541">:=</span>&nbsp;<span class="ident" id="8217544"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217548">.</span><span class="ident" id="8217549"><a href="/gostd/go/token/position_test.go.html#8214379">source</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217558">if</span>&nbsp;<span class="ident" id="8217561"><a href="/gostd/go/token/position_test.go.html#8217537">src</a></span>&nbsp;<span class="op" id="8217565">==</span>&nbsp;<span class="builtintype" id="8217568">nil</span>&nbsp;<span class="op" id="8217572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8217577">//&nbsp;no&nbsp;test&nbsp;source&nbsp;available&nbsp;-&nbsp;create&nbsp;one&nbsp;from&nbsp;scratch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217634"><a href="/gostd/go/token/position_test.go.html#8217537">src</a></span>&nbsp;<span class="op" id="8217638">=</span>&nbsp;<span class="ident" id="8217640"><a href="/gostd/go/token/position_test.go.html#8215724">makeTestSource</a></span><span class="op" id="8217654">(</span><span class="ident" id="8217655"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217659">.</span><span class="ident" id="8217660"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8217664">,</span>&nbsp;<span class="ident" id="8217666"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217670">.</span><span class="ident" id="8217671"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217680">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217684"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217685">.</span><span class="ident" id="8217686"><a href="/gostd/go/token/position.go.html#3879455">SetLinesForContent</a></span><span class="op" id="8217704">(</span><span class="ident" id="8217705"><a href="/gostd/go/token/position_test.go.html#8217537">src</a></span><span class="op" id="8217708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8217712">if</span>&nbsp;<span class="ident" id="8217715"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217716">.</span><span class="ident" id="8217717"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8217726">(</span><span class="op" id="8217727">)</span>&nbsp;<span class="op" id="8217729">!=</span>&nbsp;<span class="builtinfunc" id="8217732">len</span><span class="op" id="8217735">(</span><span class="ident" id="8217736"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217740">.</span><span class="ident" id="8217741"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217746">)</span>&nbsp;<span class="op" id="8217748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217753"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8217754">.</span><span class="ident" id="8217755"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8217761">(</span><span class="string" id="8217762">&#34;%s,&nbsp;SetLinesForContent:&nbsp;got&nbsp;line&nbsp;count&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8217814">,</span>&nbsp;<span class="ident" id="8217816"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217817">.</span><span class="ident" id="8217818"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8217822">(</span><span class="op" id="8217823">)</span><span class="op" id="8217824">,</span>&nbsp;<span class="ident" id="8217826"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217827">.</span><span class="ident" id="8217828"><a href="/gostd/go/token/position.go.html#3877178">LineCount</a></span><span class="op" id="8217837">(</span><span class="op" id="8217838">)</span><span class="op" id="8217839">,</span>&nbsp;<span class="builtinfunc" id="8217841">len</span><span class="op" id="8217844">(</span><span class="ident" id="8217845"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217849">.</span><span class="ident" id="8217850"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217855">)</span><span class="op" id="8217856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217864"><a href="/gostd/go/token/position_test.go.html#8215205">verifyPositions</a></span><span class="op" id="8217879">(</span><span class="ident" id="8217880"><a href="/gostd/go/token/position_test.go.html#8215907">t</a></span><span class="op" id="8217881">,</span>&nbsp;<span class="ident" id="8217883"><a href="/gostd/go/token/position_test.go.html#8215977">fset</a></span><span class="op" id="8217887">,</span>&nbsp;<span class="ident" id="8217889"><a href="/gostd/go/token/position_test.go.html#8216283">f</a></span><span class="op" id="8217890">,</span>&nbsp;<span class="ident" id="8217892"><a href="/gostd/go/token/position_test.go.html#8216006">test</a></span><span class="op" id="8217896">.</span><span class="ident" id="8217897"><a href="/gostd/go/token/position_test.go.html#8214424">lines</a></span><span class="op" id="8217902">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8217905">}</span><br>
<span class="lineno"></span><span class="op" id="8217907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8217910">func</span>&nbsp;<span class="ident" id="8217915">TestLineInfo</span><span class="op" id="8217927">(</span><span class="ident" id="8217928">t</span>&nbsp;<span class="op" id="8217930">*</span><span class="ident" id="8217931"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8217938">.</span><span class="ident" id="8217939"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8217940">)</span>&nbsp;<span class="op" id="8217942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217945">fset</span>&nbsp;<span class="op" id="8217950">:=</span>&nbsp;<span class="ident" id="8217953"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8217963">(</span><span class="op" id="8217964">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8217967">f</span>&nbsp;<span class="op" id="8217969">:=</span>&nbsp;<span class="ident" id="8217972"><a href="/gostd/go/token/position_test.go.html#8217945">fset</a></span><span class="op" id="8217976">.</span><span class="ident" id="8217977"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8217984">(</span><span class="string" id="8217985">&#34;foo&#34;</span><span class="op" id="8217990">,</span>&nbsp;<span class="ident" id="8217992"><a href="/gostd/go/token/position_test.go.html#8217945">fset</a></span><span class="op" id="8217996">.</span><span class="ident" id="8217997"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8218001">(</span><span class="op" id="8218002">)</span><span class="op" id="8218003">,</span>&nbsp;<span class="num" id="8218005">500</span><span class="op" id="8218008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218011">lines</span>&nbsp;<span class="op" id="8218017">:=</span>&nbsp;<span class="op" id="8218020">[</span><span class="op" id="8218021">]</span><span class="builtintype" id="8218022">int</span><span class="op" id="8218025">{</span><span class="num" id="8218026">0</span><span class="op" id="8218027">,</span>&nbsp;<span class="num" id="8218029">42</span><span class="op" id="8218031">,</span>&nbsp;<span class="num" id="8218033">77</span><span class="op" id="8218035">,</span>&nbsp;<span class="num" id="8218037">100</span><span class="op" id="8218040">,</span>&nbsp;<span class="num" id="8218042">210</span><span class="op" id="8218045">,</span>&nbsp;<span class="num" id="8218047">220</span><span class="op" id="8218050">,</span>&nbsp;<span class="num" id="8218052">277</span><span class="op" id="8218055">,</span>&nbsp;<span class="num" id="8218057">300</span><span class="op" id="8218060">,</span>&nbsp;<span class="num" id="8218062">333</span><span class="op" id="8218065">,</span>&nbsp;<span class="num" id="8218067">401</span><span class="op" id="8218070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8218073">//&nbsp;add&nbsp;lines&nbsp;individually&nbsp;and&nbsp;provide&nbsp;alternative&nbsp;line&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8218141">for</span>&nbsp;<span class="ident" id="8218145">_</span><span class="op" id="8218146">,</span>&nbsp;<span class="ident" id="8218148">offs</span>&nbsp;<span class="op" id="8218153">:=</span>&nbsp;<span class="keyword" id="8218156">range</span>&nbsp;<span class="ident" id="8218162"><a href="/gostd/go/token/position_test.go.html#8218011">lines</a></span>&nbsp;<span class="op" id="8218168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218172"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218173">.</span><span class="ident" id="8218174"><a href="/gostd/go/token/position.go.html#3877483">AddLine</a></span><span class="op" id="8218181">(</span><span class="ident" id="8218182"><a href="/gostd/go/token/position_test.go.html#8218148">offs</a></span><span class="op" id="8218186">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218190"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218191">.</span><span class="ident" id="8218192"><a href="/gostd/go/token/position.go.html#3880444">AddLineInfo</a></span><span class="op" id="8218203">(</span><span class="ident" id="8218204"><a href="/gostd/go/token/position_test.go.html#8218148">offs</a></span><span class="op" id="8218208">,</span>&nbsp;<span class="string" id="8218210">&#34;bar&#34;</span><span class="op" id="8218215">,</span>&nbsp;<span class="num" id="8218217">42</span><span class="op" id="8218219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8218222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8218225">//&nbsp;verify&nbsp;positions&nbsp;for&nbsp;all&nbsp;offsets</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8218262">for</span>&nbsp;<span class="ident" id="8218266">offs</span>&nbsp;<span class="op" id="8218271">:=</span>&nbsp;<span class="num" id="8218274">0</span><span class="op" id="8218275">;</span>&nbsp;<span class="ident" id="8218277"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span>&nbsp;<span class="op" id="8218282">&lt;=</span>&nbsp;<span class="ident" id="8218285"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218286">.</span><span class="ident" id="8218287"><a href="/gostd/go/token/position.go.html#3877080">Size</a></span><span class="op" id="8218291">(</span><span class="op" id="8218292">)</span><span class="op" id="8218293">;</span>&nbsp;<span class="ident" id="8218295"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218299">++</span>&nbsp;<span class="op" id="8218302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218306">p</span>&nbsp;<span class="op" id="8218308">:=</span>&nbsp;<span class="ident" id="8218311"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218312">.</span><span class="ident" id="8218313"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8218316">(</span><span class="ident" id="8218317"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218321">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218325">_</span><span class="op" id="8218326">,</span>&nbsp;<span class="ident" id="8218328">col</span>&nbsp;<span class="op" id="8218332">:=</span>&nbsp;<span class="ident" id="8218335"><a href="/gostd/go/token/position_test.go.html#8214957">linecol</a></span><span class="op" id="8218342">(</span><span class="ident" id="8218343"><a href="/gostd/go/token/position_test.go.html#8218011">lines</a></span><span class="op" id="8218348">,</span>&nbsp;<span class="ident" id="8218350"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218358">msg</span>&nbsp;<span class="op" id="8218362">:=</span>&nbsp;<span class="ident" id="8218365"><a href="/gostd/go/token/position_test.go.html#8213540">fmt</a></span><span class="op" id="8218368">.</span><span class="ident" id="8218369"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8218376">(</span><span class="string" id="8218377">&#34;%s&nbsp;(offs&nbsp;=&nbsp;%d,&nbsp;p&nbsp;=&nbsp;%d)&#34;</span><span class="op" id="8218401">,</span>&nbsp;<span class="ident" id="8218403"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218404">.</span><span class="ident" id="8218405"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8218409">(</span><span class="op" id="8218410">)</span><span class="op" id="8218411">,</span>&nbsp;<span class="ident" id="8218413"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218417">,</span>&nbsp;<span class="ident" id="8218419"><a href="/gostd/go/token/position_test.go.html#8218306">p</a></span><span class="op" id="8218420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218424"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8218432">(</span><span class="ident" id="8218433"><a href="/gostd/go/token/position_test.go.html#8217928">t</a></span><span class="op" id="8218434">,</span>&nbsp;<span class="ident" id="8218436"><a href="/gostd/go/token/position_test.go.html#8218358">msg</a></span><span class="op" id="8218439">,</span>&nbsp;<span class="ident" id="8218441"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218442">.</span><span class="ident" id="8218443"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="8218451">(</span><span class="ident" id="8218452"><a href="/gostd/go/token/position_test.go.html#8217967">f</a></span><span class="op" id="8218453">.</span><span class="ident" id="8218454"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8218457">(</span><span class="ident" id="8218458"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218462">)</span><span class="op" id="8218463">)</span><span class="op" id="8218464">,</span>&nbsp;<span class="ident" id="8218466"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8218474">{</span><span class="string" id="8218475">&#34;bar&#34;</span><span class="op" id="8218480">,</span>&nbsp;<span class="ident" id="8218482"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218486">,</span>&nbsp;<span class="num" id="8218488">42</span><span class="op" id="8218490">,</span>&nbsp;<span class="ident" id="8218492"><a href="/gostd/go/token/position_test.go.html#8218328">col</a></span><span class="op" id="8218495">}</span><span class="op" id="8218496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218500"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8218508">(</span><span class="ident" id="8218509"><a href="/gostd/go/token/position_test.go.html#8217928">t</a></span><span class="op" id="8218510">,</span>&nbsp;<span class="ident" id="8218512"><a href="/gostd/go/token/position_test.go.html#8218358">msg</a></span><span class="op" id="8218515">,</span>&nbsp;<span class="ident" id="8218517"><a href="/gostd/go/token/position_test.go.html#8217945">fset</a></span><span class="op" id="8218521">.</span><span class="ident" id="8218522"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="8218530">(</span><span class="ident" id="8218531"><a href="/gostd/go/token/position_test.go.html#8218306">p</a></span><span class="op" id="8218532">)</span><span class="op" id="8218533">,</span>&nbsp;<span class="ident" id="8218535"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8218543">{</span><span class="string" id="8218544">&#34;bar&#34;</span><span class="op" id="8218549">,</span>&nbsp;<span class="ident" id="8218551"><a href="/gostd/go/token/position_test.go.html#8218266">offs</a></span><span class="op" id="8218555">,</span>&nbsp;<span class="num" id="8218557">42</span><span class="op" id="8218559">,</span>&nbsp;<span class="ident" id="8218561"><a href="/gostd/go/token/position_test.go.html#8218328">col</a></span><span class="op" id="8218564">}</span><span class="op" id="8218565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8218568">}</span><br>
<span class="lineno">165</span><span class="op" id="8218570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8218573">func</span>&nbsp;<span class="ident" id="8218578">TestFiles</span><span class="op" id="8218587">(</span><span class="ident" id="8218588">t</span>&nbsp;<span class="op" id="8218590">*</span><span class="ident" id="8218591"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8218598">.</span><span class="ident" id="8218599"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8218600">)</span>&nbsp;<span class="op" id="8218602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218605">fset</span>&nbsp;<span class="op" id="8218610">:=</span>&nbsp;<span class="ident" id="8218613"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8218623">(</span><span class="op" id="8218624">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8218627">for</span>&nbsp;<span class="ident" id="8218631">i</span><span class="op" id="8218632">,</span>&nbsp;<span class="ident" id="8218634">test</span>&nbsp;<span class="op" id="8218639">:=</span>&nbsp;<span class="keyword" id="8218642">range</span>&nbsp;<span class="ident" id="8218648"><a href="/gostd/go/token/position_test.go.html#8214342">tests</a></span>&nbsp;<span class="op" id="8218654">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218658">base</span>&nbsp;<span class="op" id="8218663">:=</span>&nbsp;<span class="ident" id="8218666"><a href="/gostd/go/token/position_test.go.html#8218605">fset</a></span><span class="op" id="8218670">.</span><span class="ident" id="8218671"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8218675">(</span><span class="op" id="8218676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8218680">if</span>&nbsp;<span class="ident" id="8218683"><a href="/gostd/go/token/position_test.go.html#8218631">i</a></span><span class="op" id="8218684">%</span><span class="num" id="8218685">2</span>&nbsp;<span class="op" id="8218687">==</span>&nbsp;<span class="num" id="8218690">1</span>&nbsp;<span class="op" id="8218692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8218697">//&nbsp;Setting&nbsp;a&nbsp;negative&nbsp;base&nbsp;is&nbsp;equivalent&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8218744">//&nbsp;fset.Base(),&nbsp;so&nbsp;test&nbsp;some&nbsp;of&nbsp;each.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218785"><a href="/gostd/go/token/position_test.go.html#8218658">base</a></span>&nbsp;<span class="op" id="8218790">=</span>&nbsp;<span class="op" id="8218792">-</span><span class="num" id="8218793">1</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8218797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218801"><a href="/gostd/go/token/position_test.go.html#8218605">fset</a></span><span class="op" id="8218805">.</span><span class="ident" id="8218806"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8218813">(</span><span class="ident" id="8218814"><a href="/gostd/go/token/position_test.go.html#8218634">test</a></span><span class="op" id="8218818">.</span><span class="ident" id="8218819"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8218827">,</span>&nbsp;<span class="ident" id="8218829"><a href="/gostd/go/token/position_test.go.html#8218658">base</a></span><span class="op" id="8218833">,</span>&nbsp;<span class="ident" id="8218835"><a href="/gostd/go/token/position_test.go.html#8218634">test</a></span><span class="op" id="8218839">.</span><span class="ident" id="8218840"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8218844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218848">j</span>&nbsp;<span class="op" id="8218850">:=</span>&nbsp;<span class="num" id="8218853">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218857"><a href="/gostd/go/token/position_test.go.html#8218605">fset</a></span><span class="op" id="8218861">.</span><span class="ident" id="8218862"><a href="/gostd/go/token/position.go.html#3885387">Iterate</a></span><span class="op" id="8218869">(</span><span class="keyword" id="8218870">func</span><span class="op" id="8218874">(</span><span class="ident" id="8218875">f</span>&nbsp;<span class="op" id="8218877">*</span><span class="ident" id="8218878"><a href="/gostd/go/token/position.go.html#3876396">File</a></span><span class="op" id="8218882">)</span>&nbsp;<span class="builtintype" id="8218884">bool</span>&nbsp;<span class="op" id="8218889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8218894">if</span>&nbsp;<span class="ident" id="8218897"><a href="/gostd/go/token/position_test.go.html#8218875">f</a></span><span class="op" id="8218898">.</span><span class="ident" id="8218899"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8218903">(</span><span class="op" id="8218904">)</span>&nbsp;<span class="op" id="8218906">!=</span>&nbsp;<span class="ident" id="8218909"><a href="/gostd/go/token/position_test.go.html#8214342">tests</a></span><span class="op" id="8218914">[</span><span class="ident" id="8218915"><a href="/gostd/go/token/position_test.go.html#8218848">j</a></span><span class="op" id="8218916">]</span><span class="op" id="8218917">.</span><span class="ident" id="8218918"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span>&nbsp;<span class="op" id="8218927">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8218933"><a href="/gostd/go/token/position_test.go.html#8218588">t</a></span><span class="op" id="8218934">.</span><span class="ident" id="8218935"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8218941">(</span><span class="string" id="8218942">&#34;got&nbsp;filename&nbsp;=&nbsp;%s;&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8218970">,</span>&nbsp;<span class="ident" id="8218972"><a href="/gostd/go/token/position_test.go.html#8218875">f</a></span><span class="op" id="8218973">.</span><span class="ident" id="8218974"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8218978">(</span><span class="op" id="8218979">)</span><span class="op" id="8218980">,</span>&nbsp;<span class="ident" id="8218982"><a href="/gostd/go/token/position_test.go.html#8214342">tests</a></span><span class="op" id="8218987">[</span><span class="ident" id="8218988"><a href="/gostd/go/token/position_test.go.html#8218848">j</a></span><span class="op" id="8218989">]</span><span class="op" id="8218990">.</span><span class="ident" id="8218991"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8218999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219009"><a href="/gostd/go/token/position_test.go.html#8218848">j</a></span><span class="op" id="8219010">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219016">return</span>&nbsp;<span class="builtintype" id="8219023">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219030">}</span><span class="op" id="8219031">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219035">if</span>&nbsp;<span class="ident" id="8219038"><a href="/gostd/go/token/position_test.go.html#8218848">j</a></span>&nbsp;<span class="op" id="8219040">!=</span>&nbsp;<span class="ident" id="8219043"><a href="/gostd/go/token/position_test.go.html#8218631">i</a></span><span class="op" id="8219044">+</span><span class="num" id="8219045">1</span>&nbsp;<span class="op" id="8219047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219052"><a href="/gostd/go/token/position_test.go.html#8218588">t</a></span><span class="op" id="8219053">.</span><span class="ident" id="8219054"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8219060">(</span><span class="string" id="8219061">&#34;got&nbsp;%d&nbsp;files;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8219084">,</span>&nbsp;<span class="ident" id="8219086"><a href="/gostd/go/token/position_test.go.html#8218848">j</a></span><span class="op" id="8219087">,</span>&nbsp;<span class="ident" id="8219089"><a href="/gostd/go/token/position_test.go.html#8218631">i</a></span><span class="op" id="8219090">+</span><span class="num" id="8219091">1</span><span class="op" id="8219092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219099">}</span><br>
<span class="lineno"></span><span class="op" id="8219101">}</span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span><span class="comment" id="8219104">//&nbsp;FileSet.File&nbsp;should&nbsp;return&nbsp;nil&nbsp;if&nbsp;Pos&nbsp;is&nbsp;past&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;FileSet.</span><br>
<span class="lineno"></span><span class="keyword" id="8219177">func</span>&nbsp;<span class="ident" id="8219182">TestFileSetPastEnd</span><span class="op" id="8219200">(</span><span class="ident" id="8219201">t</span>&nbsp;<span class="op" id="8219203">*</span><span class="ident" id="8219204"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8219211">.</span><span class="ident" id="8219212"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8219213">)</span>&nbsp;<span class="op" id="8219215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219218">fset</span>&nbsp;<span class="op" id="8219223">:=</span>&nbsp;<span class="ident" id="8219226"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8219236">(</span><span class="op" id="8219237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219240">for</span>&nbsp;<span class="ident" id="8219244">_</span><span class="op" id="8219245">,</span>&nbsp;<span class="ident" id="8219247">test</span>&nbsp;<span class="op" id="8219252">:=</span>&nbsp;<span class="keyword" id="8219255">range</span>&nbsp;<span class="ident" id="8219261"><a href="/gostd/go/token/position_test.go.html#8214342">tests</a></span>&nbsp;<span class="op" id="8219267">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219271"><a href="/gostd/go/token/position_test.go.html#8219218">fset</a></span><span class="op" id="8219275">.</span><span class="ident" id="8219276"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8219283">(</span><span class="ident" id="8219284"><a href="/gostd/go/token/position_test.go.html#8219247">test</a></span><span class="op" id="8219288">.</span><span class="ident" id="8219289"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8219297">,</span>&nbsp;<span class="ident" id="8219299"><a href="/gostd/go/token/position_test.go.html#8219218">fset</a></span><span class="op" id="8219303">.</span><span class="ident" id="8219304"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8219308">(</span><span class="op" id="8219309">)</span><span class="op" id="8219310">,</span>&nbsp;<span class="ident" id="8219312"><a href="/gostd/go/token/position_test.go.html#8219247">test</a></span><span class="op" id="8219316">.</span><span class="ident" id="8219317"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8219321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219327">if</span>&nbsp;<span class="ident" id="8219330">f</span>&nbsp;<span class="op" id="8219332">:=</span>&nbsp;<span class="ident" id="8219335"><a href="/gostd/go/token/position_test.go.html#8219218">fset</a></span><span class="op" id="8219339">.</span><span class="ident" id="8219340"><a href="/gostd/go/token/position.go.html#3886425">File</a></span><span class="op" id="8219344">(</span><span class="ident" id="8219345"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8219348">(</span><span class="ident" id="8219349"><a href="/gostd/go/token/position_test.go.html#8219218">fset</a></span><span class="op" id="8219353">.</span><span class="ident" id="8219354"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8219358">(</span><span class="op" id="8219359">)</span><span class="op" id="8219360">)</span><span class="op" id="8219361">)</span><span class="op" id="8219362">;</span>&nbsp;<span class="ident" id="8219364"><a href="/gostd/go/token/position_test.go.html#8219330">f</a></span>&nbsp;<span class="op" id="8219366">!=</span>&nbsp;<span class="builtintype" id="8219369">nil</span>&nbsp;<span class="op" id="8219373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219377"><a href="/gostd/go/token/position_test.go.html#8219201">t</a></span><span class="op" id="8219378">.</span><span class="ident" id="8219379"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8219385">(</span><span class="string" id="8219386">&#34;got&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="8219404">,</span>&nbsp;<span class="ident" id="8219406"><a href="/gostd/go/token/position_test.go.html#8219330">f</a></span><span class="op" id="8219407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219410">}</span><br>
<span class="lineno">200</span><span class="op" id="8219412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8219415">func</span>&nbsp;<span class="ident" id="8219420">TestFileSetCacheUnlikely</span><span class="op" id="8219444">(</span><span class="ident" id="8219445">t</span>&nbsp;<span class="op" id="8219447">*</span><span class="ident" id="8219448"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8219455">.</span><span class="ident" id="8219456"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8219457">)</span>&nbsp;<span class="op" id="8219459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219462">fset</span>&nbsp;<span class="op" id="8219467">:=</span>&nbsp;<span class="ident" id="8219470"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8219480">(</span><span class="op" id="8219481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219484">offsets</span>&nbsp;<span class="op" id="8219492">:=</span>&nbsp;<span class="builtinfunc" id="8219495">make</span><span class="op" id="8219499">(</span><span class="keyword" id="8219500">map</span><span class="op" id="8219503">[</span><span class="builtintype" id="8219504">string</span><span class="op" id="8219510">]</span><span class="builtintype" id="8219511">int</span><span class="op" id="8219514">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219517">for</span>&nbsp;<span class="ident" id="8219521">_</span><span class="op" id="8219522">,</span>&nbsp;<span class="ident" id="8219524">test</span>&nbsp;<span class="op" id="8219529">:=</span>&nbsp;<span class="keyword" id="8219532">range</span>&nbsp;<span class="ident" id="8219538"><a href="/gostd/go/token/position_test.go.html#8214342">tests</a></span>&nbsp;<span class="op" id="8219544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219548"><a href="/gostd/go/token/position_test.go.html#8219484">offsets</a></span><span class="op" id="8219555">[</span><span class="ident" id="8219556"><a href="/gostd/go/token/position_test.go.html#8219524">test</a></span><span class="op" id="8219560">.</span><span class="ident" id="8219561"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8219569">]</span>&nbsp;<span class="op" id="8219571">=</span>&nbsp;<span class="ident" id="8219573"><a href="/gostd/go/token/position_test.go.html#8219462">fset</a></span><span class="op" id="8219577">.</span><span class="ident" id="8219578"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8219582">(</span><span class="op" id="8219583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219587"><a href="/gostd/go/token/position_test.go.html#8219462">fset</a></span><span class="op" id="8219591">.</span><span class="ident" id="8219592"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8219599">(</span><span class="ident" id="8219600"><a href="/gostd/go/token/position_test.go.html#8219524">test</a></span><span class="op" id="8219604">.</span><span class="ident" id="8219605"><a href="/gostd/go/token/position_test.go.html#8214362">filename</a></span><span class="op" id="8219613">,</span>&nbsp;<span class="ident" id="8219615"><a href="/gostd/go/token/position_test.go.html#8219462">fset</a></span><span class="op" id="8219619">.</span><span class="ident" id="8219620"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8219624">(</span><span class="op" id="8219625">)</span><span class="op" id="8219626">,</span>&nbsp;<span class="ident" id="8219628"><a href="/gostd/go/token/position_test.go.html#8219524">test</a></span><span class="op" id="8219632">.</span><span class="ident" id="8219633"><a href="/gostd/go/token/position_test.go.html#8214410">size</a></span><span class="op" id="8219637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219640">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219643">for</span>&nbsp;<span class="ident" id="8219647">file</span><span class="op" id="8219651">,</span>&nbsp;<span class="ident" id="8219653">pos</span>&nbsp;<span class="op" id="8219657">:=</span>&nbsp;<span class="keyword" id="8219660">range</span>&nbsp;<span class="ident" id="8219666"><a href="/gostd/go/token/position_test.go.html#8219484">offsets</a></span>&nbsp;<span class="op" id="8219674">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219678">f</span>&nbsp;<span class="op" id="8219680">:=</span>&nbsp;<span class="ident" id="8219683"><a href="/gostd/go/token/position_test.go.html#8219462">fset</a></span><span class="op" id="8219687">.</span><span class="ident" id="8219688"><a href="/gostd/go/token/position.go.html#3886425">File</a></span><span class="op" id="8219692">(</span><span class="ident" id="8219693"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8219696">(</span><span class="ident" id="8219697"><a href="/gostd/go/token/position_test.go.html#8219653">pos</a></span><span class="op" id="8219700">)</span><span class="op" id="8219701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219705">if</span>&nbsp;<span class="ident" id="8219708"><a href="/gostd/go/token/position_test.go.html#8219678">f</a></span><span class="op" id="8219709">.</span><span class="ident" id="8219710"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8219714">(</span><span class="op" id="8219715">)</span>&nbsp;<span class="op" id="8219717">!=</span>&nbsp;<span class="ident" id="8219720"><a href="/gostd/go/token/position_test.go.html#8219647">file</a></span>&nbsp;<span class="op" id="8219725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219730"><a href="/gostd/go/token/position_test.go.html#8219445">t</a></span><span class="op" id="8219731">.</span><span class="ident" id="8219732"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="8219738">(</span><span class="string" id="8219739">&#34;got&nbsp;%q&nbsp;at&nbsp;position&nbsp;%d,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8219771">,</span>&nbsp;<span class="ident" id="8219773"><a href="/gostd/go/token/position_test.go.html#8219678">f</a></span><span class="op" id="8219774">.</span><span class="ident" id="8219775"><a href="/gostd/go/token/position.go.html#3876852">Name</a></span><span class="op" id="8219779">(</span><span class="op" id="8219780">)</span><span class="op" id="8219781">,</span>&nbsp;<span class="ident" id="8219783"><a href="/gostd/go/token/position_test.go.html#8219653">pos</a></span><span class="op" id="8219786">,</span>&nbsp;<span class="ident" id="8219788"><a href="/gostd/go/token/position_test.go.html#8219647">file</a></span><span class="op" id="8219792">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8219799">}</span><br>
<span class="lineno">215</span><span class="op" id="8219801">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8219804">//&nbsp;issue&nbsp;4345.&nbsp;Test&nbsp;concurrent&nbsp;use&nbsp;of&nbsp;FileSet.Pos&nbsp;does&nbsp;not&nbsp;trigger&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8219873">//&nbsp;race&nbsp;in&nbsp;the&nbsp;FileSet&nbsp;position&nbsp;cache.</span><br>
<span class="lineno"></span><span class="keyword" id="8219912">func</span>&nbsp;<span class="ident" id="8219917">TestFileSetRace</span><span class="op" id="8219932">(</span><span class="ident" id="8219933">t</span>&nbsp;<span class="op" id="8219935">*</span><span class="ident" id="8219936"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8219943">.</span><span class="ident" id="8219944"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8219945">)</span>&nbsp;<span class="op" id="8219947">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8219950">fset</span>&nbsp;<span class="op" id="8219955">:=</span>&nbsp;<span class="ident" id="8219958"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8219968">(</span><span class="op" id="8219969">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8219972">for</span>&nbsp;<span class="ident" id="8219976">i</span>&nbsp;<span class="op" id="8219978">:=</span>&nbsp;<span class="num" id="8219981">0</span><span class="op" id="8219982">;</span>&nbsp;<span class="ident" id="8219984"><a href="/gostd/go/token/position_test.go.html#8219976">i</a></span>&nbsp;<span class="op" id="8219986">&lt;</span>&nbsp;<span class="num" id="8219988">100</span><span class="op" id="8219991">;</span>&nbsp;<span class="ident" id="8219993"><a href="/gostd/go/token/position_test.go.html#8219976">i</a></span><span class="op" id="8219994">++</span>&nbsp;<span class="op" id="8219997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220001"><a href="/gostd/go/token/position_test.go.html#8219950">fset</a></span><span class="op" id="8220005">.</span><span class="ident" id="8220006"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8220013">(</span><span class="ident" id="8220014"><a href="/gostd/go/token/position_test.go.html#8213540">fmt</a></span><span class="op" id="8220017">.</span><span class="ident" id="8220018"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="8220025">(</span><span class="string" id="8220026">&#34;file-%d&#34;</span><span class="op" id="8220035">,</span>&nbsp;<span class="ident" id="8220037"><a href="/gostd/go/token/position_test.go.html#8219976">i</a></span><span class="op" id="8220038">)</span><span class="op" id="8220039">,</span>&nbsp;<span class="ident" id="8220041"><a href="/gostd/go/token/position_test.go.html#8219950">fset</a></span><span class="op" id="8220045">.</span><span class="ident" id="8220046"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8220050">(</span><span class="op" id="8220051">)</span><span class="op" id="8220052">,</span>&nbsp;<span class="num" id="8220054">1031</span><span class="op" id="8220058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8220061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220064">max</span>&nbsp;<span class="op" id="8220068">:=</span>&nbsp;<span class="builtintype" id="8220071">int32</span><span class="op" id="8220076">(</span><span class="ident" id="8220077"><a href="/gostd/go/token/position_test.go.html#8219950">fset</a></span><span class="op" id="8220081">.</span><span class="ident" id="8220082"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8220086">(</span><span class="op" id="8220087">)</span><span class="op" id="8220088">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8220091">var</span>&nbsp;<span class="ident" id="8220095">stop</span>&nbsp;<span class="ident" id="8220100"><a href="/gostd/go/token/position_test.go.html#8213560">sync</a></span><span class="op" id="8220104">.</span><span class="ident" id="8220105"><a href="/gostd/sync/waitgroup.go.html#1459933">WaitGroup</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220116">r</span>&nbsp;<span class="op" id="8220118">:=</span>&nbsp;<span class="ident" id="8220121"><a href="/gostd/go/token/position_test.go.html#8213547">rand</a></span><span class="op" id="8220125">.</span><span class="ident" id="8220126"><a href="/gostd/math/rand/rand.go.html#2922124">New</a></span><span class="op" id="8220129">(</span><span class="ident" id="8220130"><a href="/gostd/go/token/position_test.go.html#8213547">rand</a></span><span class="op" id="8220134">.</span><span class="ident" id="8220135"><a href="/gostd/math/rand/rand.go.html#2921867">NewSource</a></span><span class="op" id="8220144">(</span><span class="num" id="8220145">7</span><span class="op" id="8220146">)</span><span class="op" id="8220147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8220150">for</span>&nbsp;<span class="ident" id="8220154">i</span>&nbsp;<span class="op" id="8220156">:=</span>&nbsp;<span class="num" id="8220159">0</span><span class="op" id="8220160">;</span>&nbsp;<span class="ident" id="8220162"><a href="/gostd/go/token/position_test.go.html#8220154">i</a></span>&nbsp;<span class="op" id="8220164">&lt;</span>&nbsp;<span class="num" id="8220166">2</span><span class="op" id="8220167">;</span>&nbsp;<span class="ident" id="8220169"><a href="/gostd/go/token/position_test.go.html#8220154">i</a></span><span class="op" id="8220170">++</span>&nbsp;<span class="op" id="8220173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220177">r</span>&nbsp;<span class="op" id="8220179">:=</span>&nbsp;<span class="ident" id="8220182"><a href="/gostd/go/token/position_test.go.html#8213547">rand</a></span><span class="op" id="8220186">.</span><span class="ident" id="8220187"><a href="/gostd/math/rand/rand.go.html#2922124">New</a></span><span class="op" id="8220190">(</span><span class="ident" id="8220191"><a href="/gostd/go/token/position_test.go.html#8213547">rand</a></span><span class="op" id="8220195">.</span><span class="ident" id="8220196"><a href="/gostd/math/rand/rand.go.html#2921867">NewSource</a></span><span class="op" id="8220205">(</span><span class="ident" id="8220206"><a href="/gostd/go/token/position_test.go.html#8220116">r</a></span><span class="op" id="8220207">.</span><span class="ident" id="8220208"><a href="/gostd/math/rand/rand.go.html#2922403">Int63</a></span><span class="op" id="8220213">(</span><span class="op" id="8220214">)</span><span class="op" id="8220215">)</span><span class="op" id="8220216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220220"><a href="/gostd/go/token/position_test.go.html#8220095">stop</a></span><span class="op" id="8220224">.</span><span class="ident" id="8220225"><a href="/gostd/sync/waitgroup.go.html#1461154">Add</a></span><span class="op" id="8220228">(</span><span class="num" id="8220229">1</span><span class="op" id="8220230">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8220234">go</span>&nbsp;<span class="keyword" id="8220237">func</span><span class="op" id="8220241">(</span><span class="op" id="8220242">)</span>&nbsp;<span class="op" id="8220244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8220249">for</span>&nbsp;<span class="ident" id="8220253">i</span>&nbsp;<span class="op" id="8220255">:=</span>&nbsp;<span class="num" id="8220258">0</span><span class="op" id="8220259">;</span>&nbsp;<span class="ident" id="8220261"><a href="/gostd/go/token/position_test.go.html#8220253">i</a></span>&nbsp;<span class="op" id="8220263">&lt;</span>&nbsp;<span class="num" id="8220265">1000</span><span class="op" id="8220269">;</span>&nbsp;<span class="ident" id="8220271"><a href="/gostd/go/token/position_test.go.html#8220253">i</a></span><span class="op" id="8220272">++</span>&nbsp;<span class="op" id="8220275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220281"><a href="/gostd/go/token/position_test.go.html#8219950">fset</a></span><span class="op" id="8220285">.</span><span class="ident" id="8220286"><a href="/gostd/go/token/position.go.html#3887071">Position</a></span><span class="op" id="8220294">(</span><span class="ident" id="8220295"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><span class="op" id="8220298">(</span><span class="ident" id="8220299"><a href="/gostd/go/token/position_test.go.html#8220177">r</a></span><span class="op" id="8220300">.</span><span class="ident" id="8220301"><a href="/gostd/math/rand/rand.go.html#2923378">Int31n</a></span><span class="op" id="8220307">(</span><span class="ident" id="8220308"><a href="/gostd/go/token/position_test.go.html#8220064">max</a></span><span class="op" id="8220311">)</span><span class="op" id="8220312">)</span><span class="op" id="8220313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8220318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220323"><a href="/gostd/go/token/position_test.go.html#8220095">stop</a></span><span class="op" id="8220327">.</span><span class="ident" id="8220328"><a href="/gostd/sync/waitgroup.go.html#1462065">Done</a></span><span class="op" id="8220332">(</span><span class="op" id="8220333">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8220337">}</span><span class="op" id="8220338">(</span><span class="op" id="8220339">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8220342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220345"><a href="/gostd/go/token/position_test.go.html#8220095">stop</a></span><span class="op" id="8220349">.</span><span class="ident" id="8220350"><a href="/gostd/sync/waitgroup.go.html#1462162">Wait</a></span><span class="op" id="8220354">(</span><span class="op" id="8220355">)</span><br>
<span class="lineno"></span><span class="op" id="8220357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">240</span><span class="keyword" id="8220360">func</span>&nbsp;<span class="ident" id="8220365">TestPositionFor</span><span class="op" id="8220380">(</span><span class="ident" id="8220381">t</span>&nbsp;<span class="op" id="8220383">*</span><span class="ident" id="8220384"><a href="/gostd/go/token/position_test.go.html#8213568">testing</a></span><span class="op" id="8220391">.</span><span class="ident" id="8220392"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="8220393">)</span>&nbsp;<span class="op" id="8220395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220398">src</span>&nbsp;<span class="op" id="8220402">:=</span>&nbsp;<span class="op" id="8220405">[</span><span class="op" id="8220406">]</span><span class="builtintype" id="8220407">byte</span><span class="op" id="8220411">(</span><span class="string" id="8220412">`<br>
<span class="lineno"></span>foo<br>
<span class="lineno"></span>b<br>
<span class="lineno"></span>ar<br>
<span class="lineno">245</span>//line&nbsp;:100<br>
<span class="lineno"></span>foobar<br>
<span class="lineno"></span>//line&nbsp;bar:3<br>
<span class="lineno"></span>done<br>
<span class="lineno"></span>`</span><span class="op" id="8220461">)</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8220465">const</span>&nbsp;<span class="ident" id="8220471">filename</span>&nbsp;<span class="op" id="8220480">=</span>&nbsp;<span class="string" id="8220482">&#34;foo&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220489">fset</span>&nbsp;<span class="op" id="8220494">:=</span>&nbsp;<span class="ident" id="8220497"><a href="/gostd/go/token/position.go.html#3883646">NewFileSet</a></span><span class="op" id="8220507">(</span><span class="op" id="8220508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220511">f</span>&nbsp;<span class="op" id="8220513">:=</span>&nbsp;<span class="ident" id="8220516"><a href="/gostd/go/token/position_test.go.html#8220489">fset</a></span><span class="op" id="8220520">.</span><span class="ident" id="8220521"><a href="/gostd/go/token/position.go.html#3884740">AddFile</a></span><span class="op" id="8220528">(</span><span class="ident" id="8220529"><a href="/gostd/go/token/position_test.go.html#8220471">filename</a></span><span class="op" id="8220537">,</span>&nbsp;<span class="ident" id="8220539"><a href="/gostd/go/token/position_test.go.html#8220489">fset</a></span><span class="op" id="8220543">.</span><span class="ident" id="8220544"><a href="/gostd/go/token/position.go.html#3883843">Base</a></span><span class="op" id="8220548">(</span><span class="op" id="8220549">)</span><span class="op" id="8220550">,</span>&nbsp;<span class="builtinfunc" id="8220552">len</span><span class="op" id="8220555">(</span><span class="ident" id="8220556"><a href="/gostd/go/token/position_test.go.html#8220398">src</a></span><span class="op" id="8220559">)</span><span class="op" id="8220560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220563"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220564">.</span><span class="ident" id="8220565"><a href="/gostd/go/token/position.go.html#3879455">SetLinesForContent</a></span><span class="op" id="8220583">(</span><span class="ident" id="8220584"><a href="/gostd/go/token/position_test.go.html#8220398">src</a></span><span class="op" id="8220587">)</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8220591">//&nbsp;verify&nbsp;position&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8220616">for</span>&nbsp;<span class="ident" id="8220620">i</span><span class="op" id="8220621">,</span>&nbsp;<span class="ident" id="8220623">offs</span>&nbsp;<span class="op" id="8220628">:=</span>&nbsp;<span class="keyword" id="8220631">range</span>&nbsp;<span class="ident" id="8220637"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220638">.</span><span class="ident" id="8220639"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span>&nbsp;<span class="op" id="8220645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220649">got1</span>&nbsp;<span class="op" id="8220654">:=</span>&nbsp;<span class="ident" id="8220657"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220658">.</span><span class="ident" id="8220659"><a href="/gostd/go/token/position.go.html#3882697">PositionFor</a></span><span class="op" id="8220670">(</span><span class="ident" id="8220671"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220672">.</span><span class="ident" id="8220673"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8220676">(</span><span class="ident" id="8220677"><a href="/gostd/go/token/position_test.go.html#8220623">offs</a></span><span class="op" id="8220681">)</span><span class="op" id="8220682">,</span>&nbsp;<span class="builtintype" id="8220684">false</span><span class="op" id="8220689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220693">got2</span>&nbsp;<span class="op" id="8220698">:=</span>&nbsp;<span class="ident" id="8220701"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220702">.</span><span class="ident" id="8220703"><a href="/gostd/go/token/position.go.html#3882697">PositionFor</a></span><span class="op" id="8220714">(</span><span class="ident" id="8220715"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220716">.</span><span class="ident" id="8220717"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8220720">(</span><span class="ident" id="8220721"><a href="/gostd/go/token/position_test.go.html#8220623">offs</a></span><span class="op" id="8220725">)</span><span class="op" id="8220726">,</span>&nbsp;<span class="builtintype" id="8220728">true</span><span class="op" id="8220732">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220736">got3</span>&nbsp;<span class="op" id="8220741">:=</span>&nbsp;<span class="ident" id="8220744"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220745">.</span><span class="ident" id="8220746"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="8220754">(</span><span class="ident" id="8220755"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8220756">.</span><span class="ident" id="8220757"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8220760">(</span><span class="ident" id="8220761"><a href="/gostd/go/token/position_test.go.html#8220623">offs</a></span><span class="op" id="8220765">)</span><span class="op" id="8220766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220770">want</span>&nbsp;<span class="op" id="8220775">:=</span>&nbsp;<span class="ident" id="8220778"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8220786">{</span><span class="ident" id="8220787"><a href="/gostd/go/token/position_test.go.html#8220471">filename</a></span><span class="op" id="8220795">,</span>&nbsp;<span class="ident" id="8220797"><a href="/gostd/go/token/position_test.go.html#8220623">offs</a></span><span class="op" id="8220801">,</span>&nbsp;<span class="ident" id="8220803"><a href="/gostd/go/token/position_test.go.html#8220620">i</a></span>&nbsp;<span class="op" id="8220805">+</span>&nbsp;<span class="num" id="8220807">1</span><span class="op" id="8220808">,</span>&nbsp;<span class="num" id="8220810">1</span><span class="op" id="8220811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220815"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8220823">(</span><span class="ident" id="8220824"><a href="/gostd/go/token/position_test.go.html#8220381">t</a></span><span class="op" id="8220825">,</span>&nbsp;<span class="string" id="8220827">&#34;1.&nbsp;PositionFor&nbsp;unadjusted&#34;</span><span class="op" id="8220854">,</span>&nbsp;<span class="ident" id="8220856"><a href="/gostd/go/token/position_test.go.html#8220649">got1</a></span><span class="op" id="8220860">,</span>&nbsp;<span class="ident" id="8220862"><a href="/gostd/go/token/position_test.go.html#8220770">want</a></span><span class="op" id="8220866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220870"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8220878">(</span><span class="ident" id="8220879"><a href="/gostd/go/token/position_test.go.html#8220381">t</a></span><span class="op" id="8220880">,</span>&nbsp;<span class="string" id="8220882">&#34;1.&nbsp;PositionFor&nbsp;adjusted&#34;</span><span class="op" id="8220907">,</span>&nbsp;<span class="ident" id="8220909"><a href="/gostd/go/token/position_test.go.html#8220693">got2</a></span><span class="op" id="8220913">,</span>&nbsp;<span class="ident" id="8220915"><a href="/gostd/go/token/position_test.go.html#8220770">want</a></span><span class="op" id="8220919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8220923"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8220931">(</span><span class="ident" id="8220932"><a href="/gostd/go/token/position_test.go.html#8220381">t</a></span><span class="op" id="8220933">,</span>&nbsp;<span class="string" id="8220935">&#34;1.&nbsp;Position&#34;</span><span class="op" id="8220948">,</span>&nbsp;<span class="ident" id="8220950"><a href="/gostd/go/token/position_test.go.html#8220736">got3</a></span><span class="op" id="8220954">,</span>&nbsp;<span class="ident" id="8220956"><a href="/gostd/go/token/position_test.go.html#8220770">want</a></span><span class="op" id="8220960">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8220963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8220967">//&nbsp;manually&nbsp;add&nbsp;//line&nbsp;info&nbsp;on&nbsp;lines&nbsp;l1,&nbsp;l2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8221012">const</span>&nbsp;<span class="ident" id="8221018">l1</span><span class="op" id="8221020">,</span>&nbsp;<span class="ident" id="8221022">l2</span>&nbsp;<span class="op" id="8221025">=</span>&nbsp;<span class="num" id="8221027">5</span><span class="op" id="8221028">,</span>&nbsp;<span class="num" id="8221030">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221033"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221034">.</span><span class="ident" id="8221035"><a href="/gostd/go/token/position.go.html#3880444">AddLineInfo</a></span><span class="op" id="8221046">(</span><span class="ident" id="8221047"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221048">.</span><span class="ident" id="8221049"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span><span class="op" id="8221054">[</span><span class="ident" id="8221055"><a href="/gostd/go/token/position_test.go.html#8221018">l1</a></span><span class="op" id="8221057">-</span><span class="num" id="8221058">1</span><span class="op" id="8221059">]</span><span class="op" id="8221060">,</span>&nbsp;<span class="string" id="8221062">&#34;&#34;</span><span class="op" id="8221064">,</span>&nbsp;<span class="num" id="8221066">100</span><span class="op" id="8221069">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221072"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221073">.</span><span class="ident" id="8221074"><a href="/gostd/go/token/position.go.html#3880444">AddLineInfo</a></span><span class="op" id="8221085">(</span><span class="ident" id="8221086"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221087">.</span><span class="ident" id="8221088"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span><span class="op" id="8221093">[</span><span class="ident" id="8221094"><a href="/gostd/go/token/position_test.go.html#8221022">l2</a></span><span class="op" id="8221096">-</span><span class="num" id="8221097">1</span><span class="op" id="8221098">]</span><span class="op" id="8221099">,</span>&nbsp;<span class="string" id="8221101">&#34;bar&#34;</span><span class="op" id="8221106">,</span>&nbsp;<span class="num" id="8221108">3</span><span class="op" id="8221109">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8221113">//&nbsp;unadjusted&nbsp;position&nbsp;info&nbsp;must&nbsp;remain&nbsp;unchanged</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8221164">for</span>&nbsp;<span class="ident" id="8221168">i</span><span class="op" id="8221169">,</span>&nbsp;<span class="ident" id="8221171">offs</span>&nbsp;<span class="op" id="8221176">:=</span>&nbsp;<span class="keyword" id="8221179">range</span>&nbsp;<span class="ident" id="8221185"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221186">.</span><span class="ident" id="8221187"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span>&nbsp;<span class="op" id="8221193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221197">got1</span>&nbsp;<span class="op" id="8221202">:=</span>&nbsp;<span class="ident" id="8221205"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221206">.</span><span class="ident" id="8221207"><a href="/gostd/go/token/position.go.html#3882697">PositionFor</a></span><span class="op" id="8221218">(</span><span class="ident" id="8221219"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221220">.</span><span class="ident" id="8221221"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8221224">(</span><span class="ident" id="8221225"><a href="/gostd/go/token/position_test.go.html#8221171">offs</a></span><span class="op" id="8221229">)</span><span class="op" id="8221230">,</span>&nbsp;<span class="builtintype" id="8221232">false</span><span class="op" id="8221237">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221241">want</span>&nbsp;<span class="op" id="8221246">:=</span>&nbsp;<span class="ident" id="8221249"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8221257">{</span><span class="ident" id="8221258"><a href="/gostd/go/token/position_test.go.html#8220471">filename</a></span><span class="op" id="8221266">,</span>&nbsp;<span class="ident" id="8221268"><a href="/gostd/go/token/position_test.go.html#8221171">offs</a></span><span class="op" id="8221272">,</span>&nbsp;<span class="ident" id="8221274"><a href="/gostd/go/token/position_test.go.html#8221168">i</a></span>&nbsp;<span class="op" id="8221276">+</span>&nbsp;<span class="num" id="8221278">1</span><span class="op" id="8221279">,</span>&nbsp;<span class="num" id="8221281">1</span><span class="op" id="8221282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221286"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8221294">(</span><span class="ident" id="8221295"><a href="/gostd/go/token/position_test.go.html#8220381">t</a></span><span class="op" id="8221296">,</span>&nbsp;<span class="string" id="8221298">&#34;2.&nbsp;PositionFor&nbsp;unadjusted&#34;</span><span class="op" id="8221325">,</span>&nbsp;<span class="ident" id="8221327"><a href="/gostd/go/token/position_test.go.html#8221197">got1</a></span><span class="op" id="8221331">,</span>&nbsp;<span class="ident" id="8221333"><a href="/gostd/go/token/position_test.go.html#8221241">want</a></span><span class="op" id="8221337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8221340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8221344">//&nbsp;adjusted&nbsp;position&nbsp;info&nbsp;should&nbsp;have&nbsp;changed</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8221391">for</span>&nbsp;<span class="ident" id="8221395">i</span><span class="op" id="8221396">,</span>&nbsp;<span class="ident" id="8221398">offs</span>&nbsp;<span class="op" id="8221403">:=</span>&nbsp;<span class="keyword" id="8221406">range</span>&nbsp;<span class="ident" id="8221412"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221413">.</span><span class="ident" id="8221414"><a href="/gostd/go/token/position.go.html#3876640">lines</a></span>&nbsp;<span class="op" id="8221420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221424">got2</span>&nbsp;<span class="op" id="8221429">:=</span>&nbsp;<span class="ident" id="8221432"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221433">.</span><span class="ident" id="8221434"><a href="/gostd/go/token/position.go.html#3882697">PositionFor</a></span><span class="op" id="8221445">(</span><span class="ident" id="8221446"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221447">.</span><span class="ident" id="8221448"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8221451">(</span><span class="ident" id="8221452"><a href="/gostd/go/token/position_test.go.html#8221398">offs</a></span><span class="op" id="8221456">)</span><span class="op" id="8221457">,</span>&nbsp;<span class="builtintype" id="8221459">true</span><span class="op" id="8221463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221467">got3</span>&nbsp;<span class="op" id="8221472">:=</span>&nbsp;<span class="ident" id="8221475"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221476">.</span><span class="ident" id="8221477"><a href="/gostd/go/token/position.go.html#3883056">Position</a></span><span class="op" id="8221485">(</span><span class="ident" id="8221486"><a href="/gostd/go/token/position_test.go.html#8220511">f</a></span><span class="op" id="8221487">.</span><span class="ident" id="8221488"><a href="/gostd/go/token/position.go.html#3880827">Pos</a></span><span class="op" id="8221491">(</span><span class="ident" id="8221492"><a href="/gostd/go/token/position_test.go.html#8221398">offs</a></span><span class="op" id="8221496">)</span><span class="op" id="8221497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221501">want</span>&nbsp;<span class="op" id="8221506">:=</span>&nbsp;<span class="ident" id="8221509"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="8221517">{</span><span class="ident" id="8221518"><a href="/gostd/go/token/position_test.go.html#8220471">filename</a></span><span class="op" id="8221526">,</span>&nbsp;<span class="ident" id="8221528"><a href="/gostd/go/token/position_test.go.html#8221398">offs</a></span><span class="op" id="8221532">,</span>&nbsp;<span class="ident" id="8221534"><a href="/gostd/go/token/position_test.go.html#8221395">i</a></span>&nbsp;<span class="op" id="8221536">+</span>&nbsp;<span class="num" id="8221538">1</span><span class="op" id="8221539">,</span>&nbsp;<span class="num" id="8221541">1</span><span class="op" id="8221542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8221546">//&nbsp;manually&nbsp;compute&nbsp;wanted&nbsp;filename&nbsp;and&nbsp;line</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221593">line</span>&nbsp;<span class="op" id="8221598">:=</span>&nbsp;<span class="ident" id="8221601"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221605">.</span><span class="ident" id="8221606"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8221613">if</span>&nbsp;<span class="ident" id="8221616"><a href="/gostd/go/token/position_test.go.html#8221395">i</a></span><span class="op" id="8221617">+</span><span class="num" id="8221618">1</span>&nbsp;<span class="op" id="8221620">&gt;=</span>&nbsp;<span class="ident" id="8221623"><a href="/gostd/go/token/position_test.go.html#8221018">l1</a></span>&nbsp;<span class="op" id="8221626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221631"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221635">.</span><span class="ident" id="8221636"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="8221645">=</span>&nbsp;<span class="string" id="8221647">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221653"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221657">.</span><span class="ident" id="8221658"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="8221663">=</span>&nbsp;<span class="ident" id="8221665"><a href="/gostd/go/token/position_test.go.html#8221593">line</a></span>&nbsp;<span class="op" id="8221670">-</span>&nbsp;<span class="ident" id="8221672"><a href="/gostd/go/token/position_test.go.html#8221018">l1</a></span>&nbsp;<span class="op" id="8221675">+</span>&nbsp;<span class="num" id="8221677">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8221683">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8221687">if</span>&nbsp;<span class="ident" id="8221690"><a href="/gostd/go/token/position_test.go.html#8221395">i</a></span><span class="op" id="8221691">+</span><span class="num" id="8221692">1</span>&nbsp;<span class="op" id="8221694">&gt;=</span>&nbsp;<span class="ident" id="8221697"><a href="/gostd/go/token/position_test.go.html#8221022">l2</a></span>&nbsp;<span class="op" id="8221700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221705"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221709">.</span><span class="ident" id="8221710"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="8221719">=</span>&nbsp;<span class="string" id="8221721">&#34;bar&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221730"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221734">.</span><span class="ident" id="8221735"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="8221740">=</span>&nbsp;<span class="ident" id="8221742"><a href="/gostd/go/token/position_test.go.html#8221593">line</a></span>&nbsp;<span class="op" id="8221747">-</span>&nbsp;<span class="ident" id="8221749"><a href="/gostd/go/token/position_test.go.html#8221022">l2</a></span>&nbsp;<span class="op" id="8221752">+</span>&nbsp;<span class="num" id="8221754">3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8221758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221762"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8221770">(</span><span class="ident" id="8221771"><a href="/gostd/go/token/position_test.go.html#8220381">t</a></span><span class="op" id="8221772">,</span>&nbsp;<span class="string" id="8221774">&#34;3.&nbsp;PositionFor&nbsp;adjusted&#34;</span><span class="op" id="8221799">,</span>&nbsp;<span class="ident" id="8221801"><a href="/gostd/go/token/position_test.go.html#8221424">got2</a></span><span class="op" id="8221805">,</span>&nbsp;<span class="ident" id="8221807"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221811">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8221815"><a href="/gostd/go/token/position_test.go.html#8213586">checkPos</a></span><span class="op" id="8221823">(</span><span class="ident" id="8221824"><a href="/gostd/go/token/position_test.go.html#8220381">t</a></span><span class="op" id="8221825">,</span>&nbsp;<span class="string" id="8221827">&#34;3.&nbsp;Position&#34;</span><span class="op" id="8221840">,</span>&nbsp;<span class="ident" id="8221842"><a href="/gostd/go/token/position_test.go.html#8221467">got3</a></span><span class="op" id="8221846">,</span>&nbsp;<span class="ident" id="8221848"><a href="/gostd/go/token/position_test.go.html#8221501">want</a></span><span class="op" id="8221852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8221855">}</span><br>
<span class="lineno"></span><span class="op" id="8221857">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
