<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html" class="current">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7631148">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7631203">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7631257">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7631308">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7631373">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7631432">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7631490">package</span>&nbsp;<span class="ident" id="7631498">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7631503">import</span>&nbsp;<span class="op" id="7631510">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631513">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7631520">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7631530">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7631533">type</span>&nbsp;<span class="ident" id="7631538">matrix</span>&nbsp;<span class="keyword" id="7631545">struct</span>&nbsp;<span class="op" id="7631552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631555">n</span><span class="op" id="7631556">,</span>&nbsp;<span class="ident" id="7631558">m</span>&nbsp;<span class="builtintype" id="7631560">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631565">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7631570">[</span><span class="op" id="7631571">]</span><span class="op" id="7631572">*</span><span class="ident" id="7631573">Rat</span><br>
<span class="lineno"></span><span class="op" id="7631577">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7631580">func</span>&nbsp;<span class="op" id="7631585">(</span><span class="ident" id="7631586">a</span>&nbsp;<span class="op" id="7631588">*</span><span class="ident" id="7631589">matrix</span><span class="op" id="7631595">)</span>&nbsp;<span class="ident" id="7631597">at</span><span class="op" id="7631599">(</span><span class="ident" id="7631600">i</span><span class="op" id="7631601">,</span>&nbsp;<span class="ident" id="7631603">j</span>&nbsp;<span class="builtintype" id="7631605">int</span><span class="op" id="7631608">)</span>&nbsp;<span class="op" id="7631610">*</span><span class="ident" id="7631611">Rat</span>&nbsp;<span class="op" id="7631615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7631618">if</span>&nbsp;<span class="op" id="7631621">!</span><span class="op" id="7631622">(</span><span class="num" id="7631623">0</span>&nbsp;<span class="op" id="7631625">&lt;=</span>&nbsp;<span class="ident" id="7631628">i</span>&nbsp;<span class="op" id="7631630">&amp;&amp;</span>&nbsp;<span class="ident" id="7631633">i</span>&nbsp;<span class="op" id="7631635">&lt;</span>&nbsp;<span class="ident" id="7631637">a</span><span class="op" id="7631638">.</span><span class="ident" id="7631639">n</span>&nbsp;<span class="op" id="7631641">&amp;&amp;</span>&nbsp;<span class="num" id="7631644">0</span>&nbsp;<span class="op" id="7631646">&lt;=</span>&nbsp;<span class="ident" id="7631649">j</span>&nbsp;<span class="op" id="7631651">&amp;&amp;</span>&nbsp;<span class="ident" id="7631654">j</span>&nbsp;<span class="op" id="7631656">&lt;</span>&nbsp;<span class="ident" id="7631658">a</span><span class="op" id="7631659">.</span><span class="ident" id="7631660">m</span><span class="op" id="7631661">)</span>&nbsp;<span class="op" id="7631663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7631667">panic</span><span class="op" id="7631672">(</span><span class="string" id="7631673">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7631693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7631696">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7631699">return</span>&nbsp;<span class="ident" id="7631706">a</span><span class="op" id="7631707">.</span><span class="ident" id="7631708">a</span><span class="op" id="7631709">[</span><span class="ident" id="7631710">i</span><span class="op" id="7631711">*</span><span class="ident" id="7631712">a</span><span class="op" id="7631713">.</span><span class="ident" id="7631714">m</span><span class="op" id="7631715">+</span><span class="ident" id="7631716">j</span><span class="op" id="7631717">]</span><br>
<span class="lineno"></span><span class="op" id="7631719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7631722">func</span>&nbsp;<span class="op" id="7631727">(</span><span class="ident" id="7631728">a</span>&nbsp;<span class="op" id="7631730">*</span><span class="ident" id="7631731">matrix</span><span class="op" id="7631737">)</span>&nbsp;<span class="ident" id="7631739">set</span><span class="op" id="7631742">(</span><span class="ident" id="7631743">i</span><span class="op" id="7631744">,</span>&nbsp;<span class="ident" id="7631746">j</span>&nbsp;<span class="builtintype" id="7631748">int</span><span class="op" id="7631751">,</span>&nbsp;<span class="ident" id="7631753">x</span>&nbsp;<span class="op" id="7631755">*</span><span class="ident" id="7631756">Rat</span><span class="op" id="7631759">)</span>&nbsp;<span class="op" id="7631761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7631764">if</span>&nbsp;<span class="op" id="7631767">!</span><span class="op" id="7631768">(</span><span class="num" id="7631769">0</span>&nbsp;<span class="op" id="7631771">&lt;=</span>&nbsp;<span class="ident" id="7631774">i</span>&nbsp;<span class="op" id="7631776">&amp;&amp;</span>&nbsp;<span class="ident" id="7631779">i</span>&nbsp;<span class="op" id="7631781">&lt;</span>&nbsp;<span class="ident" id="7631783">a</span><span class="op" id="7631784">.</span><span class="ident" id="7631785">n</span>&nbsp;<span class="op" id="7631787">&amp;&amp;</span>&nbsp;<span class="num" id="7631790">0</span>&nbsp;<span class="op" id="7631792">&lt;=</span>&nbsp;<span class="ident" id="7631795">j</span>&nbsp;<span class="op" id="7631797">&amp;&amp;</span>&nbsp;<span class="ident" id="7631800">j</span>&nbsp;<span class="op" id="7631802">&lt;</span>&nbsp;<span class="ident" id="7631804">a</span><span class="op" id="7631805">.</span><span class="ident" id="7631806">m</span><span class="op" id="7631807">)</span>&nbsp;<span class="op" id="7631809">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7631813">panic</span><span class="op" id="7631818">(</span><span class="string" id="7631819">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7631839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7631842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631845">a</span><span class="op" id="7631846">.</span><span class="ident" id="7631847">a</span><span class="op" id="7631848">[</span><span class="ident" id="7631849">i</span><span class="op" id="7631850">*</span><span class="ident" id="7631851">a</span><span class="op" id="7631852">.</span><span class="ident" id="7631853">m</span><span class="op" id="7631854">+</span><span class="ident" id="7631855">j</span><span class="op" id="7631856">]</span>&nbsp;<span class="op" id="7631858">=</span>&nbsp;<span class="ident" id="7631860">x</span><br>
<span class="lineno"></span><span class="op" id="7631862">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7631865">func</span>&nbsp;<span class="ident" id="7631870">newMatrix</span><span class="op" id="7631879">(</span><span class="ident" id="7631880">n</span><span class="op" id="7631881">,</span>&nbsp;<span class="ident" id="7631883">m</span>&nbsp;<span class="builtintype" id="7631885">int</span><span class="op" id="7631888">)</span>&nbsp;<span class="op" id="7631890">*</span><span class="ident" id="7631891">matrix</span>&nbsp;<span class="op" id="7631898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7631901">if</span>&nbsp;<span class="op" id="7631904">!</span><span class="op" id="7631905">(</span><span class="num" id="7631906">0</span>&nbsp;<span class="op" id="7631908">&lt;=</span>&nbsp;<span class="ident" id="7631911">n</span>&nbsp;<span class="op" id="7631913">&amp;&amp;</span>&nbsp;<span class="num" id="7631916">0</span>&nbsp;<span class="op" id="7631918">&lt;=</span>&nbsp;<span class="ident" id="7631921">m</span><span class="op" id="7631922">)</span>&nbsp;<span class="op" id="7631924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7631928">panic</span><span class="op" id="7631933">(</span><span class="string" id="7631934">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7631950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7631953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631956">a</span>&nbsp;<span class="op" id="7631958">:=</span>&nbsp;<span class="builtinfunc" id="7631961">new</span><span class="op" id="7631964">(</span><span class="ident" id="7631965">matrix</span><span class="op" id="7631971">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631974">a</span><span class="op" id="7631975">.</span><span class="ident" id="7631976">n</span>&nbsp;<span class="op" id="7631978">=</span>&nbsp;<span class="ident" id="7631980">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631983">a</span><span class="op" id="7631984">.</span><span class="ident" id="7631985">m</span>&nbsp;<span class="op" id="7631987">=</span>&nbsp;<span class="ident" id="7631989">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7631992">a</span><span class="op" id="7631993">.</span><span class="ident" id="7631994">a</span>&nbsp;<span class="op" id="7631996">=</span>&nbsp;<span class="builtinfunc" id="7631998">make</span><span class="op" id="7632002">(</span><span class="op" id="7632003">[</span><span class="op" id="7632004">]</span><span class="op" id="7632005">*</span><span class="ident" id="7632006">Rat</span><span class="op" id="7632009">,</span>&nbsp;<span class="ident" id="7632011">n</span><span class="op" id="7632012">*</span><span class="ident" id="7632013">m</span><span class="op" id="7632014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632017">return</span>&nbsp;<span class="ident" id="7632024">a</span><br>
<span class="lineno"></span><span class="op" id="7632026">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7632029">func</span>&nbsp;<span class="ident" id="7632034">newUnit</span><span class="op" id="7632041">(</span><span class="ident" id="7632042">n</span>&nbsp;<span class="builtintype" id="7632044">int</span><span class="op" id="7632047">)</span>&nbsp;<span class="op" id="7632049">*</span><span class="ident" id="7632050">matrix</span>&nbsp;<span class="op" id="7632057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632060">a</span>&nbsp;<span class="op" id="7632062">:=</span>&nbsp;<span class="ident" id="7632065">newMatrix</span><span class="op" id="7632074">(</span><span class="ident" id="7632075">n</span><span class="op" id="7632076">,</span>&nbsp;<span class="ident" id="7632078">n</span><span class="op" id="7632079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632082">for</span>&nbsp;<span class="ident" id="7632086">i</span>&nbsp;<span class="op" id="7632088">:=</span>&nbsp;<span class="num" id="7632091">0</span><span class="op" id="7632092">;</span>&nbsp;<span class="ident" id="7632094">i</span>&nbsp;<span class="op" id="7632096">&lt;</span>&nbsp;<span class="ident" id="7632098">n</span><span class="op" id="7632099">;</span>&nbsp;<span class="ident" id="7632101">i</span><span class="op" id="7632102">++</span>&nbsp;<span class="op" id="7632105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632109">for</span>&nbsp;<span class="ident" id="7632113">j</span>&nbsp;<span class="op" id="7632115">:=</span>&nbsp;<span class="num" id="7632118">0</span><span class="op" id="7632119">;</span>&nbsp;<span class="ident" id="7632121">j</span>&nbsp;<span class="op" id="7632123">&lt;</span>&nbsp;<span class="ident" id="7632125">n</span><span class="op" id="7632126">;</span>&nbsp;<span class="ident" id="7632128">j</span><span class="op" id="7632129">++</span>&nbsp;<span class="op" id="7632132">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632137">x</span>&nbsp;<span class="op" id="7632139">:=</span>&nbsp;<span class="ident" id="7632142">NewRat</span><span class="op" id="7632148">(</span><span class="num" id="7632149">0</span><span class="op" id="7632150">,</span>&nbsp;<span class="num" id="7632152">1</span><span class="op" id="7632153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632158">if</span>&nbsp;<span class="ident" id="7632161">i</span>&nbsp;<span class="op" id="7632163">==</span>&nbsp;<span class="ident" id="7632166">j</span>&nbsp;<span class="op" id="7632168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632174">x</span><span class="op" id="7632175">.</span><span class="ident" id="7632176">SetInt64</span><span class="op" id="7632184">(</span><span class="num" id="7632185">1</span><span class="op" id="7632186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632196">a</span><span class="op" id="7632197">.</span><span class="ident" id="7632198">set</span><span class="op" id="7632201">(</span><span class="ident" id="7632202">i</span><span class="op" id="7632203">,</span>&nbsp;<span class="ident" id="7632205">j</span><span class="op" id="7632206">,</span>&nbsp;<span class="ident" id="7632208">x</span><span class="op" id="7632209">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632213">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632219">return</span>&nbsp;<span class="ident" id="7632226">a</span><br>
<span class="lineno"></span><span class="op" id="7632228">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7632231">func</span>&nbsp;<span class="ident" id="7632236">newHilbert</span><span class="op" id="7632246">(</span><span class="ident" id="7632247">n</span>&nbsp;<span class="builtintype" id="7632249">int</span><span class="op" id="7632252">)</span>&nbsp;<span class="op" id="7632254">*</span><span class="ident" id="7632255">matrix</span>&nbsp;<span class="op" id="7632262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632265">a</span>&nbsp;<span class="op" id="7632267">:=</span>&nbsp;<span class="ident" id="7632270">newMatrix</span><span class="op" id="7632279">(</span><span class="ident" id="7632280">n</span><span class="op" id="7632281">,</span>&nbsp;<span class="ident" id="7632283">n</span><span class="op" id="7632284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632287">for</span>&nbsp;<span class="ident" id="7632291">i</span>&nbsp;<span class="op" id="7632293">:=</span>&nbsp;<span class="num" id="7632296">0</span><span class="op" id="7632297">;</span>&nbsp;<span class="ident" id="7632299">i</span>&nbsp;<span class="op" id="7632301">&lt;</span>&nbsp;<span class="ident" id="7632303">n</span><span class="op" id="7632304">;</span>&nbsp;<span class="ident" id="7632306">i</span><span class="op" id="7632307">++</span>&nbsp;<span class="op" id="7632310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632314">for</span>&nbsp;<span class="ident" id="7632318">j</span>&nbsp;<span class="op" id="7632320">:=</span>&nbsp;<span class="num" id="7632323">0</span><span class="op" id="7632324">;</span>&nbsp;<span class="ident" id="7632326">j</span>&nbsp;<span class="op" id="7632328">&lt;</span>&nbsp;<span class="ident" id="7632330">n</span><span class="op" id="7632331">;</span>&nbsp;<span class="ident" id="7632333">j</span><span class="op" id="7632334">++</span>&nbsp;<span class="op" id="7632337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632342">a</span><span class="op" id="7632343">.</span><span class="ident" id="7632344">set</span><span class="op" id="7632347">(</span><span class="ident" id="7632348">i</span><span class="op" id="7632349">,</span>&nbsp;<span class="ident" id="7632351">j</span><span class="op" id="7632352">,</span>&nbsp;<span class="ident" id="7632354">NewRat</span><span class="op" id="7632360">(</span><span class="num" id="7632361">1</span><span class="op" id="7632362">,</span>&nbsp;<span class="ident" id="7632364">int64</span><span class="op" id="7632369">(</span><span class="ident" id="7632370">i</span><span class="op" id="7632371">+</span><span class="ident" id="7632372">j</span><span class="op" id="7632373">+</span><span class="num" id="7632374">1</span><span class="op" id="7632375">)</span><span class="op" id="7632376">)</span><span class="op" id="7632377">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632381">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632384">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632387">return</span>&nbsp;<span class="ident" id="7632394">a</span><br>
<span class="lineno"></span><span class="op" id="7632396">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7632399">func</span>&nbsp;<span class="ident" id="7632404">newInverseHilbert</span><span class="op" id="7632421">(</span><span class="ident" id="7632422">n</span>&nbsp;<span class="builtintype" id="7632424">int</span><span class="op" id="7632427">)</span>&nbsp;<span class="op" id="7632429">*</span><span class="ident" id="7632430">matrix</span>&nbsp;<span class="op" id="7632437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632440">a</span>&nbsp;<span class="op" id="7632442">:=</span>&nbsp;<span class="ident" id="7632445">newMatrix</span><span class="op" id="7632454">(</span><span class="ident" id="7632455">n</span><span class="op" id="7632456">,</span>&nbsp;<span class="ident" id="7632458">n</span><span class="op" id="7632459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632462">for</span>&nbsp;<span class="ident" id="7632466">i</span>&nbsp;<span class="op" id="7632468">:=</span>&nbsp;<span class="num" id="7632471">0</span><span class="op" id="7632472">;</span>&nbsp;<span class="ident" id="7632474">i</span>&nbsp;<span class="op" id="7632476">&lt;</span>&nbsp;<span class="ident" id="7632478">n</span><span class="op" id="7632479">;</span>&nbsp;<span class="ident" id="7632481">i</span><span class="op" id="7632482">++</span>&nbsp;<span class="op" id="7632485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632489">for</span>&nbsp;<span class="ident" id="7632493">j</span>&nbsp;<span class="op" id="7632495">:=</span>&nbsp;<span class="num" id="7632498">0</span><span class="op" id="7632499">;</span>&nbsp;<span class="ident" id="7632501">j</span>&nbsp;<span class="op" id="7632503">&lt;</span>&nbsp;<span class="ident" id="7632505">n</span><span class="op" id="7632506">;</span>&nbsp;<span class="ident" id="7632508">j</span><span class="op" id="7632509">++</span>&nbsp;<span class="op" id="7632512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632517">x1</span>&nbsp;<span class="op" id="7632520">:=</span>&nbsp;<span class="builtinfunc" id="7632523">new</span><span class="op" id="7632526">(</span><span class="ident" id="7632527">Rat</span><span class="op" id="7632530">)</span><span class="op" id="7632531">.</span><span class="ident" id="7632532">SetInt64</span><span class="op" id="7632540">(</span><span class="ident" id="7632541">int64</span><span class="op" id="7632546">(</span><span class="ident" id="7632547">i</span>&nbsp;<span class="op" id="7632549">+</span>&nbsp;<span class="ident" id="7632551">j</span>&nbsp;<span class="op" id="7632553">+</span>&nbsp;<span class="num" id="7632555">1</span><span class="op" id="7632556">)</span><span class="op" id="7632557">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632562">x2</span>&nbsp;<span class="op" id="7632565">:=</span>&nbsp;<span class="builtinfunc" id="7632568">new</span><span class="op" id="7632571">(</span><span class="ident" id="7632572">Rat</span><span class="op" id="7632575">)</span><span class="op" id="7632576">.</span><span class="ident" id="7632577">SetInt</span><span class="op" id="7632583">(</span><span class="builtinfunc" id="7632584">new</span><span class="op" id="7632587">(</span><span class="ident" id="7632588">Int</span><span class="op" id="7632591">)</span><span class="op" id="7632592">.</span><span class="ident" id="7632593">Binomial</span><span class="op" id="7632601">(</span><span class="ident" id="7632602">int64</span><span class="op" id="7632607">(</span><span class="ident" id="7632608">n</span><span class="op" id="7632609">+</span><span class="ident" id="7632610">i</span><span class="op" id="7632611">)</span><span class="op" id="7632612">,</span>&nbsp;<span class="ident" id="7632614">int64</span><span class="op" id="7632619">(</span><span class="ident" id="7632620">n</span><span class="op" id="7632621">-</span><span class="ident" id="7632622">j</span><span class="op" id="7632623">-</span><span class="num" id="7632624">1</span><span class="op" id="7632625">)</span><span class="op" id="7632626">)</span><span class="op" id="7632627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632632">x3</span>&nbsp;<span class="op" id="7632635">:=</span>&nbsp;<span class="builtinfunc" id="7632638">new</span><span class="op" id="7632641">(</span><span class="ident" id="7632642">Rat</span><span class="op" id="7632645">)</span><span class="op" id="7632646">.</span><span class="ident" id="7632647">SetInt</span><span class="op" id="7632653">(</span><span class="builtinfunc" id="7632654">new</span><span class="op" id="7632657">(</span><span class="ident" id="7632658">Int</span><span class="op" id="7632661">)</span><span class="op" id="7632662">.</span><span class="ident" id="7632663">Binomial</span><span class="op" id="7632671">(</span><span class="ident" id="7632672">int64</span><span class="op" id="7632677">(</span><span class="ident" id="7632678">n</span><span class="op" id="7632679">+</span><span class="ident" id="7632680">j</span><span class="op" id="7632681">)</span><span class="op" id="7632682">,</span>&nbsp;<span class="ident" id="7632684">int64</span><span class="op" id="7632689">(</span><span class="ident" id="7632690">n</span><span class="op" id="7632691">-</span><span class="ident" id="7632692">i</span><span class="op" id="7632693">-</span><span class="num" id="7632694">1</span><span class="op" id="7632695">)</span><span class="op" id="7632696">)</span><span class="op" id="7632697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632702">x4</span>&nbsp;<span class="op" id="7632705">:=</span>&nbsp;<span class="builtinfunc" id="7632708">new</span><span class="op" id="7632711">(</span><span class="ident" id="7632712">Rat</span><span class="op" id="7632715">)</span><span class="op" id="7632716">.</span><span class="ident" id="7632717">SetInt</span><span class="op" id="7632723">(</span><span class="builtinfunc" id="7632724">new</span><span class="op" id="7632727">(</span><span class="ident" id="7632728">Int</span><span class="op" id="7632731">)</span><span class="op" id="7632732">.</span><span class="ident" id="7632733">Binomial</span><span class="op" id="7632741">(</span><span class="ident" id="7632742">int64</span><span class="op" id="7632747">(</span><span class="ident" id="7632748">i</span><span class="op" id="7632749">+</span><span class="ident" id="7632750">j</span><span class="op" id="7632751">)</span><span class="op" id="7632752">,</span>&nbsp;<span class="ident" id="7632754">int64</span><span class="op" id="7632759">(</span><span class="ident" id="7632760">i</span><span class="op" id="7632761">)</span><span class="op" id="7632762">)</span><span class="op" id="7632763">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632769">x1</span><span class="op" id="7632771">.</span><span class="ident" id="7632772">Mul</span><span class="op" id="7632775">(</span><span class="ident" id="7632776">x1</span><span class="op" id="7632778">,</span>&nbsp;<span class="ident" id="7632780">x2</span><span class="op" id="7632782">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632787">x1</span><span class="op" id="7632789">.</span><span class="ident" id="7632790">Mul</span><span class="op" id="7632793">(</span><span class="ident" id="7632794">x1</span><span class="op" id="7632796">,</span>&nbsp;<span class="ident" id="7632798">x3</span><span class="op" id="7632800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632805">x1</span><span class="op" id="7632807">.</span><span class="ident" id="7632808">Mul</span><span class="op" id="7632811">(</span><span class="ident" id="7632812">x1</span><span class="op" id="7632814">,</span>&nbsp;<span class="ident" id="7632816">x4</span><span class="op" id="7632818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632823">x1</span><span class="op" id="7632825">.</span><span class="ident" id="7632826">Mul</span><span class="op" id="7632829">(</span><span class="ident" id="7632830">x1</span><span class="op" id="7632832">,</span>&nbsp;<span class="ident" id="7632834">x4</span><span class="op" id="7632836">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632842">if</span>&nbsp;<span class="op" id="7632845">(</span><span class="ident" id="7632846">i</span><span class="op" id="7632847">+</span><span class="ident" id="7632848">j</span><span class="op" id="7632849">)</span><span class="op" id="7632850">&amp;</span><span class="num" id="7632851">1</span>&nbsp;<span class="op" id="7632853">!=</span>&nbsp;<span class="num" id="7632856">0</span>&nbsp;<span class="op" id="7632858">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632864">x1</span><span class="op" id="7632866">.</span><span class="ident" id="7632867">Neg</span><span class="op" id="7632870">(</span><span class="ident" id="7632871">x1</span><span class="op" id="7632873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632878">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7632884">a</span><span class="op" id="7632885">.</span><span class="ident" id="7632886">set</span><span class="op" id="7632889">(</span><span class="ident" id="7632890">i</span><span class="op" id="7632891">,</span>&nbsp;<span class="ident" id="7632893">j</span><span class="op" id="7632894">,</span>&nbsp;<span class="ident" id="7632896">x1</span><span class="op" id="7632898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632902">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7632905">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632908">return</span>&nbsp;<span class="ident" id="7632915">a</span><br>
<span class="lineno"></span><span class="op" id="7632917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7632920">func</span>&nbsp;<span class="op" id="7632925">(</span><span class="ident" id="7632926">a</span>&nbsp;<span class="op" id="7632928">*</span><span class="ident" id="7632929">matrix</span><span class="op" id="7632935">)</span>&nbsp;<span class="ident" id="7632937">mul</span><span class="op" id="7632940">(</span><span class="ident" id="7632941">b</span>&nbsp;<span class="op" id="7632943">*</span><span class="ident" id="7632944">matrix</span><span class="op" id="7632950">)</span>&nbsp;<span class="op" id="7632952">*</span><span class="ident" id="7632953">matrix</span>&nbsp;<span class="op" id="7632960">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7632963">if</span>&nbsp;<span class="ident" id="7632966">a</span><span class="op" id="7632967">.</span><span class="ident" id="7632968">m</span>&nbsp;<span class="op" id="7632970">!=</span>&nbsp;<span class="ident" id="7632973">b</span><span class="op" id="7632974">.</span><span class="ident" id="7632975">n</span>&nbsp;<span class="op" id="7632977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7632981">panic</span><span class="op" id="7632986">(</span><span class="string" id="7632987">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7633012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633018">c</span>&nbsp;<span class="op" id="7633020">:=</span>&nbsp;<span class="ident" id="7633023">newMatrix</span><span class="op" id="7633032">(</span><span class="ident" id="7633033">a</span><span class="op" id="7633034">.</span><span class="ident" id="7633035">n</span><span class="op" id="7633036">,</span>&nbsp;<span class="ident" id="7633038">b</span><span class="op" id="7633039">.</span><span class="ident" id="7633040">m</span><span class="op" id="7633041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633044">for</span>&nbsp;<span class="ident" id="7633048">i</span>&nbsp;<span class="op" id="7633050">:=</span>&nbsp;<span class="num" id="7633053">0</span><span class="op" id="7633054">;</span>&nbsp;<span class="ident" id="7633056">i</span>&nbsp;<span class="op" id="7633058">&lt;</span>&nbsp;<span class="ident" id="7633060">c</span><span class="op" id="7633061">.</span><span class="ident" id="7633062">n</span><span class="op" id="7633063">;</span>&nbsp;<span class="ident" id="7633065">i</span><span class="op" id="7633066">++</span>&nbsp;<span class="op" id="7633069">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633073">for</span>&nbsp;<span class="ident" id="7633077">j</span>&nbsp;<span class="op" id="7633079">:=</span>&nbsp;<span class="num" id="7633082">0</span><span class="op" id="7633083">;</span>&nbsp;<span class="ident" id="7633085">j</span>&nbsp;<span class="op" id="7633087">&lt;</span>&nbsp;<span class="ident" id="7633089">c</span><span class="op" id="7633090">.</span><span class="ident" id="7633091">m</span><span class="op" id="7633092">;</span>&nbsp;<span class="ident" id="7633094">j</span><span class="op" id="7633095">++</span>&nbsp;<span class="op" id="7633098">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633103">x</span>&nbsp;<span class="op" id="7633105">:=</span>&nbsp;<span class="ident" id="7633108">NewRat</span><span class="op" id="7633114">(</span><span class="num" id="7633115">0</span><span class="op" id="7633116">,</span>&nbsp;<span class="num" id="7633118">1</span><span class="op" id="7633119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633124">for</span>&nbsp;<span class="ident" id="7633128">k</span>&nbsp;<span class="op" id="7633130">:=</span>&nbsp;<span class="num" id="7633133">0</span><span class="op" id="7633134">;</span>&nbsp;<span class="ident" id="7633136">k</span>&nbsp;<span class="op" id="7633138">&lt;</span>&nbsp;<span class="ident" id="7633140">a</span><span class="op" id="7633141">.</span><span class="ident" id="7633142">m</span><span class="op" id="7633143">;</span>&nbsp;<span class="ident" id="7633145">k</span><span class="op" id="7633146">++</span>&nbsp;<span class="op" id="7633149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633155">x</span><span class="op" id="7633156">.</span><span class="ident" id="7633157">Add</span><span class="op" id="7633160">(</span><span class="ident" id="7633161">x</span><span class="op" id="7633162">,</span>&nbsp;<span class="builtinfunc" id="7633164">new</span><span class="op" id="7633167">(</span><span class="ident" id="7633168">Rat</span><span class="op" id="7633171">)</span><span class="op" id="7633172">.</span><span class="ident" id="7633173">Mul</span><span class="op" id="7633176">(</span><span class="ident" id="7633177">a</span><span class="op" id="7633178">.</span><span class="ident" id="7633179">at</span><span class="op" id="7633181">(</span><span class="ident" id="7633182">i</span><span class="op" id="7633183">,</span>&nbsp;<span class="ident" id="7633185">k</span><span class="op" id="7633186">)</span><span class="op" id="7633187">,</span>&nbsp;<span class="ident" id="7633189">b</span><span class="op" id="7633190">.</span><span class="ident" id="7633191">at</span><span class="op" id="7633193">(</span><span class="ident" id="7633194">k</span><span class="op" id="7633195">,</span>&nbsp;<span class="ident" id="7633197">j</span><span class="op" id="7633198">)</span><span class="op" id="7633199">)</span><span class="op" id="7633200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633205">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633210">c</span><span class="op" id="7633211">.</span><span class="ident" id="7633212">set</span><span class="op" id="7633215">(</span><span class="ident" id="7633216">i</span><span class="op" id="7633217">,</span>&nbsp;<span class="ident" id="7633219">j</span><span class="op" id="7633220">,</span>&nbsp;<span class="ident" id="7633222">x</span><span class="op" id="7633223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633233">return</span>&nbsp;<span class="ident" id="7633240">c</span><br>
<span class="lineno"></span><span class="op" id="7633242">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7633245">func</span>&nbsp;<span class="op" id="7633250">(</span><span class="ident" id="7633251">a</span>&nbsp;<span class="op" id="7633253">*</span><span class="ident" id="7633254">matrix</span><span class="op" id="7633260">)</span>&nbsp;<span class="ident" id="7633262">eql</span><span class="op" id="7633265">(</span><span class="ident" id="7633266">b</span>&nbsp;<span class="op" id="7633268">*</span><span class="ident" id="7633269">matrix</span><span class="op" id="7633275">)</span>&nbsp;<span class="builtintype" id="7633277">bool</span>&nbsp;<span class="op" id="7633282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633285">if</span>&nbsp;<span class="ident" id="7633288">a</span><span class="op" id="7633289">.</span><span class="ident" id="7633290">n</span>&nbsp;<span class="op" id="7633292">!=</span>&nbsp;<span class="ident" id="7633295">b</span><span class="op" id="7633296">.</span><span class="ident" id="7633297">n</span>&nbsp;<span class="op" id="7633299">||</span>&nbsp;<span class="ident" id="7633302">a</span><span class="op" id="7633303">.</span><span class="ident" id="7633304">m</span>&nbsp;<span class="op" id="7633306">!=</span>&nbsp;<span class="ident" id="7633309">b</span><span class="op" id="7633310">.</span><span class="ident" id="7633311">m</span>&nbsp;<span class="op" id="7633313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633317">return</span>&nbsp;<span class="builtintype" id="7633324">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633331">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633334">for</span>&nbsp;<span class="ident" id="7633338">i</span>&nbsp;<span class="op" id="7633340">:=</span>&nbsp;<span class="num" id="7633343">0</span><span class="op" id="7633344">;</span>&nbsp;<span class="ident" id="7633346">i</span>&nbsp;<span class="op" id="7633348">&lt;</span>&nbsp;<span class="ident" id="7633350">a</span><span class="op" id="7633351">.</span><span class="ident" id="7633352">n</span><span class="op" id="7633353">;</span>&nbsp;<span class="ident" id="7633355">i</span><span class="op" id="7633356">++</span>&nbsp;<span class="op" id="7633359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633363">for</span>&nbsp;<span class="ident" id="7633367">j</span>&nbsp;<span class="op" id="7633369">:=</span>&nbsp;<span class="num" id="7633372">0</span><span class="op" id="7633373">;</span>&nbsp;<span class="ident" id="7633375">j</span>&nbsp;<span class="op" id="7633377">&lt;</span>&nbsp;<span class="ident" id="7633379">a</span><span class="op" id="7633380">.</span><span class="ident" id="7633381">m</span><span class="op" id="7633382">;</span>&nbsp;<span class="ident" id="7633384">j</span><span class="op" id="7633385">++</span>&nbsp;<span class="op" id="7633388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633393">if</span>&nbsp;<span class="ident" id="7633396">a</span><span class="op" id="7633397">.</span><span class="ident" id="7633398">at</span><span class="op" id="7633400">(</span><span class="ident" id="7633401">i</span><span class="op" id="7633402">,</span>&nbsp;<span class="ident" id="7633404">j</span><span class="op" id="7633405">)</span><span class="op" id="7633406">.</span><span class="ident" id="7633407">Cmp</span><span class="op" id="7633410">(</span><span class="ident" id="7633411">b</span><span class="op" id="7633412">.</span><span class="ident" id="7633413">at</span><span class="op" id="7633415">(</span><span class="ident" id="7633416">i</span><span class="op" id="7633417">,</span>&nbsp;<span class="ident" id="7633419">j</span><span class="op" id="7633420">)</span><span class="op" id="7633421">)</span>&nbsp;<span class="op" id="7633423">!=</span>&nbsp;<span class="num" id="7633426">0</span>&nbsp;<span class="op" id="7633428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633434">return</span>&nbsp;<span class="builtintype" id="7633441">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633450">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633454">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633457">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633460">return</span>&nbsp;<span class="builtintype" id="7633467">true</span><br>
<span class="lineno"></span><span class="op" id="7633472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7633475">func</span>&nbsp;<span class="op" id="7633480">(</span><span class="ident" id="7633481">a</span>&nbsp;<span class="op" id="7633483">*</span><span class="ident" id="7633484">matrix</span><span class="op" id="7633490">)</span>&nbsp;<span class="ident" id="7633492">String</span><span class="op" id="7633498">(</span><span class="op" id="7633499">)</span>&nbsp;<span class="builtintype" id="7633501">string</span>&nbsp;<span class="op" id="7633508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633511">s</span>&nbsp;<span class="op" id="7633513">:=</span>&nbsp;<span class="string" id="7633516">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633520">for</span>&nbsp;<span class="ident" id="7633524">i</span>&nbsp;<span class="op" id="7633526">:=</span>&nbsp;<span class="num" id="7633529">0</span><span class="op" id="7633530">;</span>&nbsp;<span class="ident" id="7633532">i</span>&nbsp;<span class="op" id="7633534">&lt;</span>&nbsp;<span class="ident" id="7633536">a</span><span class="op" id="7633537">.</span><span class="ident" id="7633538">n</span><span class="op" id="7633539">;</span>&nbsp;<span class="ident" id="7633541">i</span><span class="op" id="7633542">++</span>&nbsp;<span class="op" id="7633545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633549">for</span>&nbsp;<span class="ident" id="7633553">j</span>&nbsp;<span class="op" id="7633555">:=</span>&nbsp;<span class="num" id="7633558">0</span><span class="op" id="7633559">;</span>&nbsp;<span class="ident" id="7633561">j</span>&nbsp;<span class="op" id="7633563">&lt;</span>&nbsp;<span class="ident" id="7633565">a</span><span class="op" id="7633566">.</span><span class="ident" id="7633567">m</span><span class="op" id="7633568">;</span>&nbsp;<span class="ident" id="7633570">j</span><span class="op" id="7633571">++</span>&nbsp;<span class="op" id="7633574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633579">s</span>&nbsp;<span class="op" id="7633581">+=</span>&nbsp;<span class="ident" id="7633584">fmt</span><span class="op" id="7633587">.</span><span class="ident" id="7633588">Sprintf</span><span class="op" id="7633595">(</span><span class="string" id="7633596">&#34;\t%s&#34;</span><span class="op" id="7633602">,</span>&nbsp;<span class="ident" id="7633604">a</span><span class="op" id="7633605">.</span><span class="ident" id="7633606">at</span><span class="op" id="7633608">(</span><span class="ident" id="7633609">i</span><span class="op" id="7633610">,</span>&nbsp;<span class="ident" id="7633612">j</span><span class="op" id="7633613">)</span><span class="op" id="7633614">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633622">s</span>&nbsp;<span class="op" id="7633624">+=</span>&nbsp;<span class="string" id="7633627">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633636">return</span>&nbsp;<span class="ident" id="7633643">s</span><br>
<span class="lineno"></span><span class="op" id="7633645">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7633648">func</span>&nbsp;<span class="ident" id="7633653">doHilbert</span><span class="op" id="7633662">(</span><span class="ident" id="7633663">t</span>&nbsp;<span class="op" id="7633665">*</span><span class="ident" id="7633666">testing</span><span class="op" id="7633673">.</span><span class="ident" id="7633674">T</span><span class="op" id="7633675">,</span>&nbsp;<span class="ident" id="7633677">n</span>&nbsp;<span class="builtintype" id="7633679">int</span><span class="op" id="7633682">)</span>&nbsp;<span class="op" id="7633684">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633687">a</span>&nbsp;<span class="op" id="7633689">:=</span>&nbsp;<span class="ident" id="7633692">newHilbert</span><span class="op" id="7633702">(</span><span class="ident" id="7633703">n</span><span class="op" id="7633704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633707">b</span>&nbsp;<span class="op" id="7633709">:=</span>&nbsp;<span class="ident" id="7633712">newInverseHilbert</span><span class="op" id="7633729">(</span><span class="ident" id="7633730">n</span><span class="op" id="7633731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633734">I</span>&nbsp;<span class="op" id="7633736">:=</span>&nbsp;<span class="ident" id="7633739">newUnit</span><span class="op" id="7633746">(</span><span class="ident" id="7633747">n</span><span class="op" id="7633748">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633751">ab</span>&nbsp;<span class="op" id="7633754">:=</span>&nbsp;<span class="ident" id="7633757">a</span><span class="op" id="7633758">.</span><span class="ident" id="7633759">mul</span><span class="op" id="7633762">(</span><span class="ident" id="7633763">b</span><span class="op" id="7633764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633767">if</span>&nbsp;<span class="op" id="7633770">!</span><span class="ident" id="7633771">ab</span><span class="op" id="7633773">.</span><span class="ident" id="7633774">eql</span><span class="op" id="7633777">(</span><span class="ident" id="7633778">I</span><span class="op" id="7633779">)</span>&nbsp;<span class="op" id="7633781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7633785">if</span>&nbsp;<span class="ident" id="7633788">t</span>&nbsp;<span class="op" id="7633790">==</span>&nbsp;<span class="ident" id="7633793">nil</span>&nbsp;<span class="op" id="7633797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7633802">panic</span><span class="op" id="7633807">(</span><span class="string" id="7633808">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7633824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633828">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633832">t</span><span class="op" id="7633833">.</span><span class="ident" id="7633834">Errorf</span><span class="op" id="7633840">(</span><span class="string" id="7633841">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7633853">,</span>&nbsp;<span class="ident" id="7633855">a</span><span class="op" id="7633856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633860">t</span><span class="op" id="7633861">.</span><span class="ident" id="7633862">Errorf</span><span class="op" id="7633868">(</span><span class="string" id="7633869">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7633881">,</span>&nbsp;<span class="ident" id="7633883">b</span><span class="op" id="7633884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633888">t</span><span class="op" id="7633889">.</span><span class="ident" id="7633890">Errorf</span><span class="op" id="7633896">(</span><span class="string" id="7633897">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7633909">,</span>&nbsp;<span class="ident" id="7633911">ab</span><span class="op" id="7633913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633917">t</span><span class="op" id="7633918">.</span><span class="ident" id="7633919">Errorf</span><span class="op" id="7633925">(</span><span class="string" id="7633926">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7633938">,</span>&nbsp;<span class="ident" id="7633940">I</span><span class="op" id="7633941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7633944">}</span><br>
<span class="lineno">150</span><span class="op" id="7633946">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7633949">func</span>&nbsp;<span class="ident" id="7633954">TestHilbert</span><span class="op" id="7633965">(</span><span class="ident" id="7633966">t</span>&nbsp;<span class="op" id="7633968">*</span><span class="ident" id="7633969">testing</span><span class="op" id="7633976">.</span><span class="ident" id="7633977">T</span><span class="op" id="7633978">)</span>&nbsp;<span class="op" id="7633980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7633983">doHilbert</span><span class="op" id="7633992">(</span><span class="ident" id="7633993">t</span><span class="op" id="7633994">,</span>&nbsp;<span class="num" id="7633996">10</span><span class="op" id="7633998">)</span><br>
<span class="lineno"></span><span class="op" id="7634000">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7634003">func</span>&nbsp;<span class="ident" id="7634008">BenchmarkHilbert</span><span class="op" id="7634024">(</span><span class="ident" id="7634025">b</span>&nbsp;<span class="op" id="7634027">*</span><span class="ident" id="7634028">testing</span><span class="op" id="7634035">.</span><span class="ident" id="7634036">B</span><span class="op" id="7634037">)</span>&nbsp;<span class="op" id="7634039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7634042">for</span>&nbsp;<span class="ident" id="7634046">i</span>&nbsp;<span class="op" id="7634048">:=</span>&nbsp;<span class="num" id="7634051">0</span><span class="op" id="7634052">;</span>&nbsp;<span class="ident" id="7634054">i</span>&nbsp;<span class="op" id="7634056">&lt;</span>&nbsp;<span class="ident" id="7634058">b</span><span class="op" id="7634059">.</span><span class="ident" id="7634060">N</span><span class="op" id="7634061">;</span>&nbsp;<span class="ident" id="7634063">i</span><span class="op" id="7634064">++</span>&nbsp;<span class="op" id="7634067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7634071">doHilbert</span><span class="op" id="7634080">(</span><span class="ident" id="7634081">nil</span><span class="op" id="7634084">,</span>&nbsp;<span class="num" id="7634086">10</span><span class="op" id="7634088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7634091">}</span><br>
<span class="lineno">160</span><span class="op" id="7634093">}</span>
</div>
</body>
</html>
