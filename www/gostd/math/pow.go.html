<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math</h2>
<ul>
<li><a href="/gostd/math/abs.go.html">abs.go</a></li>
<li><a href="/gostd/math/acosh.go.html">acosh.go</a></li>
<li><a href="/gostd/math/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/math/asin.go.html">asin.go</a></li>
<li><a href="/gostd/math/asinh.go.html">asinh.go</a></li>
<li><a href="/gostd/math/atan.go.html">atan.go</a></li>
<li><a href="/gostd/math/atan2.go.html">atan2.go</a></li>
<li><a href="/gostd/math/atanh.go.html">atanh.go</a></li>
<li><a href="/gostd/math/bits.go.html">bits.go</a></li>
<li><a href="/gostd/math/cbrt.go.html">cbrt.go</a></li>
<li><a href="/gostd/math/const.go.html">const.go</a></li>
<li><a href="/gostd/math/copysign.go.html">copysign.go</a></li>
<li><a href="/gostd/math/dim.go.html">dim.go</a></li>
<li><a href="/gostd/math/erf.go.html">erf.go</a></li>
<li><a href="/gostd/math/exp.go.html">exp.go</a></li>
<li><a href="/gostd/math/expm1.go.html">expm1.go</a></li>
<li><a href="/gostd/math/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/math/floor.go.html">floor.go</a></li>
<li><a href="/gostd/math/frexp.go.html">frexp.go</a></li>
<li><a href="/gostd/math/gamma.go.html">gamma.go</a></li>
<li><a href="/gostd/math/hypot.go.html">hypot.go</a></li>
<li><a href="/gostd/math/j0.go.html">j0.go</a></li>
<li><a href="/gostd/math/j1.go.html">j1.go</a></li>
<li><a href="/gostd/math/jn.go.html">jn.go</a></li>
<li><a href="/gostd/math/ldexp.go.html">ldexp.go</a></li>
<li><a href="/gostd/math/lgamma.go.html">lgamma.go</a></li>
<li><a href="/gostd/math/log.go.html">log.go</a></li>
<li><a href="/gostd/math/log10.go.html">log10.go</a></li>
<li><a href="/gostd/math/log1p.go.html">log1p.go</a></li>
<li><a href="/gostd/math/logb.go.html">logb.go</a></li>
<li><a href="/gostd/math/mod.go.html">mod.go</a></li>
<li><a href="/gostd/math/modf.go.html">modf.go</a></li>
<li><a href="/gostd/math/nextafter.go.html">nextafter.go</a></li>
<li><a href="/gostd/math/pow.go.html" class="current">pow.go</a></li>
<li><a href="/gostd/math/pow10.go.html">pow10.go</a></li>
<li><a href="/gostd/math/remainder.go.html">remainder.go</a></li>
<li><a href="/gostd/math/signbit.go.html">signbit.go</a></li>
<li><a href="/gostd/math/sin.go.html">sin.go</a></li>
<li><a href="/gostd/math/sincos.go.html">sincos.go</a></li>
<li><a href="/gostd/math/sinh.go.html">sinh.go</a></li>
<li><a href="/gostd/math/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/math/tan.go.html">tan.go</a></li>
<li><a href="/gostd/math/tanh.go.html">tanh.go</a></li>
<li><a href="/gostd/math/unsafe.go.html">unsafe.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2206426">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2206481">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2206535">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2206586">package</span>&nbsp;<span class="ident" id="2206594">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2206600">func</span>&nbsp;<span class="ident" id="2206605">isOddInt</span><span class="op" id="2206613">(</span><span class="ident" id="2206614">x</span>&nbsp;<span class="builtintype" id="2206616">float64</span><span class="op" id="2206623">)</span>&nbsp;<span class="builtintype" id="2206625">bool</span>&nbsp;<span class="op" id="2206630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2206633">xi</span><span class="op" id="2206635">,</span>&nbsp;<span class="ident" id="2206637">xf</span>&nbsp;<span class="op" id="2206640">:=</span>&nbsp;<span class="ident" id="2206643">Modf</span><span class="op" id="2206647">(</span><span class="ident" id="2206648">x</span><span class="op" id="2206649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2206652">return</span>&nbsp;<span class="ident" id="2206659">xf</span>&nbsp;<span class="op" id="2206662">==</span>&nbsp;<span class="num" id="2206665">0</span>&nbsp;<span class="op" id="2206667">&amp;&amp;</span>&nbsp;<span class="ident" id="2206670">int64</span><span class="op" id="2206675">(</span><span class="ident" id="2206676">xi</span><span class="op" id="2206678">)</span><span class="op" id="2206679">&amp;</span><span class="num" id="2206680">1</span>&nbsp;<span class="op" id="2206682">==</span>&nbsp;<span class="num" id="2206685">1</span><br>
<span class="lineno">10</span><span class="op" id="2206687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2206690">//&nbsp;Special&nbsp;cases&nbsp;taken&nbsp;from&nbsp;FreeBSD&#39;s&nbsp;/usr/src/lib/msun/src/e_pow.c</span><br>
<span class="lineno"></span><span class="comment" id="2206758">//&nbsp;updated&nbsp;by&nbsp;IEEE&nbsp;Std.&nbsp;754-2008&nbsp;&#34;Section&nbsp;9.2.1&nbsp;Special&nbsp;values&#34;.</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="2206824">//&nbsp;Pow&nbsp;returns&nbsp;x**y,&nbsp;the&nbsp;base-x&nbsp;exponential&nbsp;of&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="2206874">//</span><br>
<span class="lineno"></span><span class="comment" id="2206877">//&nbsp;Special&nbsp;cases&nbsp;are&nbsp;(in&nbsp;order):</span><br>
<span class="lineno"></span><span class="comment" id="2206910">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;±0)&nbsp;=&nbsp;1&nbsp;for&nbsp;any&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="2206939">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(1,&nbsp;y)&nbsp;=&nbsp;1&nbsp;for&nbsp;any&nbsp;y</span><br>
<span class="lineno">20</span><span class="comment" id="2206966">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;1)&nbsp;=&nbsp;x&nbsp;for&nbsp;any&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="2206993">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2207014">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2207035">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;±Inf&nbsp;for&nbsp;y&nbsp;an&nbsp;odd&nbsp;integer&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2207083">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;-Inf)&nbsp;=&nbsp;+Inf</span><br>
<span class="lineno">25</span><span class="comment" id="2207108">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;+Inf)&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span><span class="comment" id="2207131">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;finite&nbsp;y&nbsp;&lt;&nbsp;0&nbsp;and&nbsp;not&nbsp;an&nbsp;odd&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="2207193">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;±0&nbsp;for&nbsp;y&nbsp;an&nbsp;odd&nbsp;integer&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2207239">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(±0,&nbsp;y)&nbsp;=&nbsp;+0&nbsp;for&nbsp;finite&nbsp;y&nbsp;&gt;&nbsp;0&nbsp;and&nbsp;not&nbsp;an&nbsp;odd&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="2207299">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(-1,&nbsp;±Inf)&nbsp;=&nbsp;1</span><br>
<span class="lineno">30</span><span class="comment" id="2207321">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;+Inf)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;|x|&nbsp;&gt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2207356">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;-Inf)&nbsp;=&nbsp;+0&nbsp;for&nbsp;|x|&nbsp;&gt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2207389">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;+Inf)&nbsp;=&nbsp;+0&nbsp;for&nbsp;|x|&nbsp;&lt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2207422">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;-Inf)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;|x|&nbsp;&lt;&nbsp;1</span><br>
<span class="lineno"></span><span class="comment" id="2207457">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(+Inf,&nbsp;y)&nbsp;=&nbsp;+Inf&nbsp;for&nbsp;y&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">35</span><span class="comment" id="2207490">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(+Inf,&nbsp;y)&nbsp;=&nbsp;+0&nbsp;for&nbsp;y&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span><span class="comment" id="2207521">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(-Inf,&nbsp;y)&nbsp;=&nbsp;Pow(-0,&nbsp;-y)</span><br>
<span class="lineno"></span><span class="comment" id="2207551">//&nbsp;&nbsp;&nbsp;&nbsp;Pow(x,&nbsp;y)&nbsp;=&nbsp;NaN&nbsp;for&nbsp;finite&nbsp;x&nbsp;&lt;&nbsp;0&nbsp;and&nbsp;finite&nbsp;non-integer&nbsp;y</span><br>
<span class="lineno"></span><span class="keyword" id="2207612">func</span>&nbsp;<span class="ident" id="2207617">Pow</span><span class="op" id="2207620">(</span><span class="ident" id="2207621">x</span><span class="op" id="2207622">,</span>&nbsp;<span class="ident" id="2207624">y</span>&nbsp;<span class="builtintype" id="2207626">float64</span><span class="op" id="2207633">)</span>&nbsp;<span class="builtintype" id="2207635">float64</span>&nbsp;<span class="op" id="2207643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207646">switch</span>&nbsp;<span class="op" id="2207653">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207656">case</span>&nbsp;<span class="ident" id="2207661">y</span>&nbsp;<span class="op" id="2207663">==</span>&nbsp;<span class="num" id="2207666">0</span>&nbsp;<span class="op" id="2207668">||</span>&nbsp;<span class="ident" id="2207671">x</span>&nbsp;<span class="op" id="2207673">==</span>&nbsp;<span class="num" id="2207676">1</span><span class="op" id="2207677">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207681">return</span>&nbsp;<span class="num" id="2207688">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207691">case</span>&nbsp;<span class="ident" id="2207696">y</span>&nbsp;<span class="op" id="2207698">==</span>&nbsp;<span class="num" id="2207701">1</span><span class="op" id="2207702">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207706">return</span>&nbsp;<span class="ident" id="2207713">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207716">case</span>&nbsp;<span class="ident" id="2207721">y</span>&nbsp;<span class="op" id="2207723">==</span>&nbsp;<span class="num" id="2207726">0.5</span><span class="op" id="2207729">:</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207733">return</span>&nbsp;<span class="ident" id="2207740">Sqrt</span><span class="op" id="2207744">(</span><span class="ident" id="2207745">x</span><span class="op" id="2207746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207749">case</span>&nbsp;<span class="ident" id="2207754">y</span>&nbsp;<span class="op" id="2207756">==</span>&nbsp;<span class="op" id="2207759">-</span><span class="num" id="2207760">0.5</span><span class="op" id="2207763">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207767">return</span>&nbsp;<span class="num" id="2207774">1</span>&nbsp;<span class="op" id="2207776">/</span>&nbsp;<span class="ident" id="2207778">Sqrt</span><span class="op" id="2207782">(</span><span class="ident" id="2207783">x</span><span class="op" id="2207784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207787">case</span>&nbsp;<span class="ident" id="2207792">IsNaN</span><span class="op" id="2207797">(</span><span class="ident" id="2207798">x</span><span class="op" id="2207799">)</span>&nbsp;<span class="op" id="2207801">||</span>&nbsp;<span class="ident" id="2207804">IsNaN</span><span class="op" id="2207809">(</span><span class="ident" id="2207810">y</span><span class="op" id="2207811">)</span><span class="op" id="2207812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207816">return</span>&nbsp;<span class="ident" id="2207823">NaN</span><span class="op" id="2207826">(</span><span class="op" id="2207827">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207830">case</span>&nbsp;<span class="ident" id="2207835">x</span>&nbsp;<span class="op" id="2207837">==</span>&nbsp;<span class="num" id="2207840">0</span><span class="op" id="2207841">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207845">switch</span>&nbsp;<span class="op" id="2207852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207856">case</span>&nbsp;<span class="ident" id="2207861">y</span>&nbsp;<span class="op" id="2207863">&lt;</span>&nbsp;<span class="num" id="2207865">0</span><span class="op" id="2207866">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207871">if</span>&nbsp;<span class="ident" id="2207874">isOddInt</span><span class="op" id="2207882">(</span><span class="ident" id="2207883">y</span><span class="op" id="2207884">)</span>&nbsp;<span class="op" id="2207886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207892">return</span>&nbsp;<span class="ident" id="2207899">Copysign</span><span class="op" id="2207907">(</span><span class="ident" id="2207908">Inf</span><span class="op" id="2207911">(</span><span class="num" id="2207912">1</span><span class="op" id="2207913">)</span><span class="op" id="2207914">,</span>&nbsp;<span class="ident" id="2207916">x</span><span class="op" id="2207917">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2207922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207927">return</span>&nbsp;<span class="ident" id="2207934">Inf</span><span class="op" id="2207937">(</span><span class="num" id="2207938">1</span><span class="op" id="2207939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207943">case</span>&nbsp;<span class="ident" id="2207948">y</span>&nbsp;<span class="op" id="2207950">&gt;</span>&nbsp;<span class="num" id="2207952">0</span><span class="op" id="2207953">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207958">if</span>&nbsp;<span class="ident" id="2207961">isOddInt</span><span class="op" id="2207969">(</span><span class="ident" id="2207970">y</span><span class="op" id="2207971">)</span>&nbsp;<span class="op" id="2207973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207979">return</span>&nbsp;<span class="ident" id="2207986">x</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2207991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2207996">return</span>&nbsp;<span class="num" id="2208003">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208007">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208010">case</span>&nbsp;<span class="ident" id="2208015">IsInf</span><span class="op" id="2208020">(</span><span class="ident" id="2208021">y</span><span class="op" id="2208022">,</span>&nbsp;<span class="num" id="2208024">0</span><span class="op" id="2208025">)</span><span class="op" id="2208026">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208030">switch</span>&nbsp;<span class="op" id="2208037">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208041">case</span>&nbsp;<span class="ident" id="2208046">x</span>&nbsp;<span class="op" id="2208048">==</span>&nbsp;<span class="op" id="2208051">-</span><span class="num" id="2208052">1</span><span class="op" id="2208053">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208058">return</span>&nbsp;<span class="num" id="2208065">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208069">case</span>&nbsp;<span class="op" id="2208074">(</span><span class="ident" id="2208075">Abs</span><span class="op" id="2208078">(</span><span class="ident" id="2208079">x</span><span class="op" id="2208080">)</span>&nbsp;<span class="op" id="2208082">&lt;</span>&nbsp;<span class="num" id="2208084">1</span><span class="op" id="2208085">)</span>&nbsp;<span class="op" id="2208087">==</span>&nbsp;<span class="ident" id="2208090">IsInf</span><span class="op" id="2208095">(</span><span class="ident" id="2208096">y</span><span class="op" id="2208097">,</span>&nbsp;<span class="num" id="2208099">1</span><span class="op" id="2208100">)</span><span class="op" id="2208101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208106">return</span>&nbsp;<span class="num" id="2208113">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208117">default</span><span class="op" id="2208124">:</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208129">return</span>&nbsp;<span class="ident" id="2208136">Inf</span><span class="op" id="2208139">(</span><span class="num" id="2208140">1</span><span class="op" id="2208141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208148">case</span>&nbsp;<span class="ident" id="2208153">IsInf</span><span class="op" id="2208158">(</span><span class="ident" id="2208159">x</span><span class="op" id="2208160">,</span>&nbsp;<span class="num" id="2208162">0</span><span class="op" id="2208163">)</span><span class="op" id="2208164">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208168">if</span>&nbsp;<span class="ident" id="2208171">IsInf</span><span class="op" id="2208176">(</span><span class="ident" id="2208177">x</span><span class="op" id="2208178">,</span>&nbsp;<span class="op" id="2208180">-</span><span class="num" id="2208181">1</span><span class="op" id="2208182">)</span>&nbsp;<span class="op" id="2208184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208189">return</span>&nbsp;<span class="ident" id="2208196">Pow</span><span class="op" id="2208199">(</span><span class="num" id="2208200">1</span><span class="op" id="2208201">/</span><span class="ident" id="2208202">x</span><span class="op" id="2208203">,</span>&nbsp;<span class="op" id="2208205">-</span><span class="ident" id="2208206">y</span><span class="op" id="2208207">)</span>&nbsp;<span class="comment" id="2208209">//&nbsp;Pow(-0,&nbsp;-y)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208230">switch</span>&nbsp;<span class="op" id="2208237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208241">case</span>&nbsp;<span class="ident" id="2208246">y</span>&nbsp;<span class="op" id="2208248">&lt;</span>&nbsp;<span class="num" id="2208250">0</span><span class="op" id="2208251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208256">return</span>&nbsp;<span class="num" id="2208263">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208267">case</span>&nbsp;<span class="ident" id="2208272">y</span>&nbsp;<span class="op" id="2208274">&gt;</span>&nbsp;<span class="num" id="2208276">0</span><span class="op" id="2208277">:</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208282">return</span>&nbsp;<span class="ident" id="2208289">Inf</span><span class="op" id="2208292">(</span><span class="num" id="2208293">1</span><span class="op" id="2208294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208298">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208305">absy</span>&nbsp;<span class="op" id="2208310">:=</span>&nbsp;<span class="ident" id="2208313">y</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208316">flip</span>&nbsp;<span class="op" id="2208321">:=</span>&nbsp;<span class="builtintype" id="2208324">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208331">if</span>&nbsp;<span class="ident" id="2208334">absy</span>&nbsp;<span class="op" id="2208339">&lt;</span>&nbsp;<span class="num" id="2208341">0</span>&nbsp;<span class="op" id="2208343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208347">absy</span>&nbsp;<span class="op" id="2208352">=</span>&nbsp;<span class="op" id="2208354">-</span><span class="ident" id="2208355">absy</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208362">flip</span>&nbsp;<span class="op" id="2208367">=</span>&nbsp;<span class="builtintype" id="2208369">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208375">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208378">yi</span><span class="op" id="2208380">,</span>&nbsp;<span class="ident" id="2208382">yf</span>&nbsp;<span class="op" id="2208385">:=</span>&nbsp;<span class="ident" id="2208388">Modf</span><span class="op" id="2208392">(</span><span class="ident" id="2208393">absy</span><span class="op" id="2208397">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208400">if</span>&nbsp;<span class="ident" id="2208403">yf</span>&nbsp;<span class="op" id="2208406">!=</span>&nbsp;<span class="num" id="2208409">0</span>&nbsp;<span class="op" id="2208411">&amp;&amp;</span>&nbsp;<span class="ident" id="2208414">x</span>&nbsp;<span class="op" id="2208416">&lt;</span>&nbsp;<span class="num" id="2208418">0</span>&nbsp;<span class="op" id="2208420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208424">return</span>&nbsp;<span class="ident" id="2208431">NaN</span><span class="op" id="2208434">(</span><span class="op" id="2208435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208441">if</span>&nbsp;<span class="ident" id="2208444">yi</span>&nbsp;<span class="op" id="2208447">&gt;=</span>&nbsp;<span class="num" id="2208450">1</span><span class="op" id="2208451">&lt;&lt;</span><span class="num" id="2208453">63</span>&nbsp;<span class="op" id="2208456">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208460">return</span>&nbsp;<span class="ident" id="2208467">Exp</span><span class="op" id="2208470">(</span><span class="ident" id="2208471">y</span>&nbsp;<span class="op" id="2208473">*</span>&nbsp;<span class="ident" id="2208475">Log</span><span class="op" id="2208478">(</span><span class="ident" id="2208479">x</span><span class="op" id="2208480">)</span><span class="op" id="2208481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208488">//&nbsp;ans&nbsp;=&nbsp;a1&nbsp;*&nbsp;2**ae&nbsp;(=&nbsp;1&nbsp;for&nbsp;now).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208524">a1</span>&nbsp;<span class="op" id="2208527">:=</span>&nbsp;<span class="num" id="2208530">1.0</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208535">ae</span>&nbsp;<span class="op" id="2208538">:=</span>&nbsp;<span class="num" id="2208541">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208545">//&nbsp;ans&nbsp;*=&nbsp;x**yf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208562">if</span>&nbsp;<span class="ident" id="2208565">yf</span>&nbsp;<span class="op" id="2208568">!=</span>&nbsp;<span class="num" id="2208571">0</span>&nbsp;<span class="op" id="2208573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208577">if</span>&nbsp;<span class="ident" id="2208580">yf</span>&nbsp;<span class="op" id="2208583">&gt;</span>&nbsp;<span class="num" id="2208585">0.5</span>&nbsp;<span class="op" id="2208589">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208594">yf</span><span class="op" id="2208596">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208602">yi</span><span class="op" id="2208604">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208613">a1</span>&nbsp;<span class="op" id="2208616">=</span>&nbsp;<span class="ident" id="2208618">Exp</span><span class="op" id="2208621">(</span><span class="ident" id="2208622">yf</span>&nbsp;<span class="op" id="2208625">*</span>&nbsp;<span class="ident" id="2208627">Log</span><span class="op" id="2208630">(</span><span class="ident" id="2208631">x</span><span class="op" id="2208632">)</span><span class="op" id="2208633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208636">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208640">//&nbsp;ans&nbsp;*=&nbsp;x**yi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208657">//&nbsp;by&nbsp;multiplying&nbsp;in&nbsp;successive&nbsp;squarings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208700">//&nbsp;of&nbsp;x&nbsp;according&nbsp;to&nbsp;bits&nbsp;of&nbsp;yi.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208734">//&nbsp;accumulate&nbsp;powers&nbsp;of&nbsp;two&nbsp;into&nbsp;exp.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208773">x1</span><span class="op" id="2208775">,</span>&nbsp;<span class="ident" id="2208777">xe</span>&nbsp;<span class="op" id="2208780">:=</span>&nbsp;<span class="ident" id="2208783">Frexp</span><span class="op" id="2208788">(</span><span class="ident" id="2208789">x</span><span class="op" id="2208790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208793">for</span>&nbsp;<span class="ident" id="2208797">i</span>&nbsp;<span class="op" id="2208799">:=</span>&nbsp;<span class="ident" id="2208802">int64</span><span class="op" id="2208807">(</span><span class="ident" id="2208808">yi</span><span class="op" id="2208810">)</span><span class="op" id="2208811">;</span>&nbsp;<span class="ident" id="2208813">i</span>&nbsp;<span class="op" id="2208815">!=</span>&nbsp;<span class="num" id="2208818">0</span><span class="op" id="2208819">;</span>&nbsp;<span class="ident" id="2208821">i</span>&nbsp;<span class="op" id="2208823">&gt;&gt;=</span>&nbsp;<span class="num" id="2208827">1</span>&nbsp;<span class="op" id="2208829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208833">if</span>&nbsp;<span class="ident" id="2208836">i</span><span class="op" id="2208837">&amp;</span><span class="num" id="2208838">1</span>&nbsp;<span class="op" id="2208840">==</span>&nbsp;<span class="num" id="2208843">1</span>&nbsp;<span class="op" id="2208845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208850">a1</span>&nbsp;<span class="op" id="2208853">*=</span>&nbsp;<span class="ident" id="2208856">x1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208862">ae</span>&nbsp;<span class="op" id="2208865">+=</span>&nbsp;<span class="ident" id="2208868">xe</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208877">x1</span>&nbsp;<span class="op" id="2208880">*=</span>&nbsp;<span class="ident" id="2208883">x1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208888">xe</span>&nbsp;<span class="op" id="2208891">&lt;&lt;=</span>&nbsp;<span class="num" id="2208895">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2208899">if</span>&nbsp;<span class="ident" id="2208902">x1</span>&nbsp;<span class="op" id="2208905">&lt;</span>&nbsp;<span class="num" id="2208907">.5</span>&nbsp;<span class="op" id="2208910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208915">x1</span>&nbsp;<span class="op" id="2208918">+=</span>&nbsp;<span class="ident" id="2208921">x1</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2208927">xe</span><span class="op" id="2208929">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2208937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208941">//&nbsp;ans&nbsp;=&nbsp;a1*2**ae</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208960">//&nbsp;if&nbsp;flip&nbsp;{&nbsp;ans&nbsp;=&nbsp;1&nbsp;/&nbsp;ans&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2208990">//&nbsp;but&nbsp;in&nbsp;the&nbsp;opposite&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2209020">if</span>&nbsp;<span class="ident" id="2209023">flip</span>&nbsp;<span class="op" id="2209028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2209032">a1</span>&nbsp;<span class="op" id="2209035">=</span>&nbsp;<span class="num" id="2209037">1</span>&nbsp;<span class="op" id="2209039">/</span>&nbsp;<span class="ident" id="2209041">a1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2209046">ae</span>&nbsp;<span class="op" id="2209049">=</span>&nbsp;<span class="op" id="2209051">-</span><span class="ident" id="2209052">ae</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2209056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2209059">return</span>&nbsp;<span class="ident" id="2209066">Ldexp</span><span class="op" id="2209071">(</span><span class="ident" id="2209072">a1</span><span class="op" id="2209074">,</span>&nbsp;<span class="ident" id="2209076">ae</span><span class="op" id="2209078">)</span><br>
<span class="lineno"></span><span class="op" id="2209080">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
