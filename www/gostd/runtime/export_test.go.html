<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8312861">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8312917">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8312971">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8313022">//&nbsp;Export&nbsp;guts&nbsp;for&nbsp;testing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313051">package</span>&nbsp;<span class="ident" id="8313059">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313068">import</span>&nbsp;<span class="string" id="8313075">&#34;unsafe&#34;</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8313085">var</span>&nbsp;<span class="ident" id="8313089">Fadd64</span>&nbsp;<span class="op" id="8313096">=</span>&nbsp;<span class="ident" id="8313098">fadd64</span><br>
<span class="lineno"></span><span class="keyword" id="8313105">var</span>&nbsp;<span class="ident" id="8313109">Fsub64</span>&nbsp;<span class="op" id="8313116">=</span>&nbsp;<span class="ident" id="8313118">fsub64</span><br>
<span class="lineno"></span><span class="keyword" id="8313125">var</span>&nbsp;<span class="ident" id="8313129">Fmul64</span>&nbsp;<span class="op" id="8313136">=</span>&nbsp;<span class="ident" id="8313138">fmul64</span><br>
<span class="lineno"></span><span class="keyword" id="8313145">var</span>&nbsp;<span class="ident" id="8313149">Fdiv64</span>&nbsp;<span class="op" id="8313156">=</span>&nbsp;<span class="ident" id="8313158">fdiv64</span><br>
<span class="lineno">15</span><span class="keyword" id="8313165">var</span>&nbsp;<span class="ident" id="8313169">F64to32</span>&nbsp;<span class="op" id="8313177">=</span>&nbsp;<span class="ident" id="8313179">f64to32</span><br>
<span class="lineno"></span><span class="keyword" id="8313187">var</span>&nbsp;<span class="ident" id="8313191">F32to64</span>&nbsp;<span class="op" id="8313199">=</span>&nbsp;<span class="ident" id="8313201">f32to64</span><br>
<span class="lineno"></span><span class="keyword" id="8313209">var</span>&nbsp;<span class="ident" id="8313213">Fcmp64</span>&nbsp;<span class="op" id="8313220">=</span>&nbsp;<span class="ident" id="8313222">fcmp64</span><br>
<span class="lineno"></span><span class="keyword" id="8313229">var</span>&nbsp;<span class="ident" id="8313233">Fintto64</span>&nbsp;<span class="op" id="8313242">=</span>&nbsp;<span class="ident" id="8313244">fintto64</span><br>
<span class="lineno"></span><span class="keyword" id="8313253">var</span>&nbsp;<span class="ident" id="8313257">F64toint</span>&nbsp;<span class="op" id="8313266">=</span>&nbsp;<span class="ident" id="8313268">f64toint</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8313278">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="8313292">func</span>&nbsp;<span class="ident" id="8313297">stackguard</span><span class="op" id="8313307">(</span><span class="op" id="8313308">)</span>&nbsp;<span class="op" id="8313310">(</span><span class="ident" id="8313311">sp</span><span class="op" id="8313313">,</span>&nbsp;<span class="ident" id="8313315">limit</span>&nbsp;<span class="builtintype" id="8313321">uintptr</span><span class="op" id="8313328">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313331">var</span>&nbsp;<span class="ident" id="8313335">Entersyscall</span>&nbsp;<span class="op" id="8313348">=</span>&nbsp;<span class="ident" id="8313350">entersyscall</span><br>
<span class="lineno">25</span><span class="keyword" id="8313363">var</span>&nbsp;<span class="ident" id="8313367">Exitsyscall</span>&nbsp;<span class="op" id="8313379">=</span>&nbsp;<span class="ident" id="8313381">exitsyscall</span><br>
<span class="lineno"></span><span class="keyword" id="8313393">var</span>&nbsp;<span class="ident" id="8313397">LockedOSThread</span>&nbsp;<span class="op" id="8313412">=</span>&nbsp;<span class="ident" id="8313414">lockedOSThread</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313430">type</span>&nbsp;<span class="ident" id="8313435">LFNode</span>&nbsp;<span class="keyword" id="8313442">struct</span>&nbsp;<span class="op" id="8313449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313452">Next</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313460">*</span><span class="ident" id="8313461">LFNode</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313469">Pushcnt</span>&nbsp;<span class="builtintype" id="8313477">uintptr</span><br>
<span class="lineno"></span><span class="op" id="8313485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313488">func</span>&nbsp;<span class="ident" id="8313493">lfstackpush_m</span><span class="op" id="8313506">(</span><span class="op" id="8313507">)</span><br>
<span class="lineno"></span><span class="keyword" id="8313509">func</span>&nbsp;<span class="ident" id="8313514">lfstackpop_m</span><span class="op" id="8313526">(</span><span class="op" id="8313527">)</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="8313530">func</span>&nbsp;<span class="ident" id="8313535">LFStackPush</span><span class="op" id="8313546">(</span><span class="ident" id="8313547">head</span>&nbsp;<span class="op" id="8313552">*</span><span class="ident" id="8313553">uint64</span><span class="op" id="8313559">,</span>&nbsp;<span class="ident" id="8313561">node</span>&nbsp;<span class="op" id="8313566">*</span><span class="ident" id="8313567">LFNode</span><span class="op" id="8313573">)</span>&nbsp;<span class="op" id="8313575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313578">mp</span>&nbsp;<span class="op" id="8313581">:=</span>&nbsp;<span class="ident" id="8313584">acquirem</span><span class="op" id="8313592">(</span><span class="op" id="8313593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313596">mp</span><span class="op" id="8313598">.</span><span class="ident" id="8313599">ptrarg</span><span class="op" id="8313605">[</span><span class="num" id="8313606">0</span><span class="op" id="8313607">]</span>&nbsp;<span class="op" id="8313609">=</span>&nbsp;<span class="ident" id="8313611">unsafe</span><span class="op" id="8313617">.</span><span class="ident" id="8313618">Pointer</span><span class="op" id="8313625">(</span><span class="ident" id="8313626">head</span><span class="op" id="8313630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313633">mp</span><span class="op" id="8313635">.</span><span class="ident" id="8313636">ptrarg</span><span class="op" id="8313642">[</span><span class="num" id="8313643">1</span><span class="op" id="8313644">]</span>&nbsp;<span class="op" id="8313646">=</span>&nbsp;<span class="ident" id="8313648">unsafe</span><span class="op" id="8313654">.</span><span class="ident" id="8313655">Pointer</span><span class="op" id="8313662">(</span><span class="ident" id="8313663">node</span><span class="op" id="8313667">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313670">onM</span><span class="op" id="8313673">(</span><span class="ident" id="8313674">lfstackpush_m</span><span class="op" id="8313687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313690">releasem</span><span class="op" id="8313698">(</span><span class="ident" id="8313699">mp</span><span class="op" id="8313701">)</span><br>
<span class="lineno"></span><span class="op" id="8313703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313706">func</span>&nbsp;<span class="ident" id="8313711">LFStackPop</span><span class="op" id="8313721">(</span><span class="ident" id="8313722">head</span>&nbsp;<span class="op" id="8313727">*</span><span class="ident" id="8313728">uint64</span><span class="op" id="8313734">)</span>&nbsp;<span class="op" id="8313736">*</span><span class="ident" id="8313737">LFNode</span>&nbsp;<span class="op" id="8313744">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313747">mp</span>&nbsp;<span class="op" id="8313750">:=</span>&nbsp;<span class="ident" id="8313753">acquirem</span><span class="op" id="8313761">(</span><span class="op" id="8313762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313765">mp</span><span class="op" id="8313767">.</span><span class="ident" id="8313768">ptrarg</span><span class="op" id="8313774">[</span><span class="num" id="8313775">0</span><span class="op" id="8313776">]</span>&nbsp;<span class="op" id="8313778">=</span>&nbsp;<span class="ident" id="8313780">unsafe</span><span class="op" id="8313786">.</span><span class="ident" id="8313787">Pointer</span><span class="op" id="8313794">(</span><span class="ident" id="8313795">head</span><span class="op" id="8313799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313802">onM</span><span class="op" id="8313805">(</span><span class="ident" id="8313806">lfstackpop_m</span><span class="op" id="8313818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313821">node</span>&nbsp;<span class="op" id="8313826">:=</span>&nbsp;<span class="op" id="8313829">(</span><span class="op" id="8313830">*</span><span class="ident" id="8313831">LFNode</span><span class="op" id="8313837">)</span><span class="op" id="8313838">(</span><span class="ident" id="8313839">unsafe</span><span class="op" id="8313845">.</span><span class="ident" id="8313846">Pointer</span><span class="op" id="8313853">(</span><span class="ident" id="8313854">mp</span><span class="op" id="8313856">.</span><span class="ident" id="8313857">ptrarg</span><span class="op" id="8313863">[</span><span class="num" id="8313864">0</span><span class="op" id="8313865">]</span><span class="op" id="8313866">)</span><span class="op" id="8313867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313870">mp</span><span class="op" id="8313872">.</span><span class="ident" id="8313873">ptrarg</span><span class="op" id="8313879">[</span><span class="num" id="8313880">0</span><span class="op" id="8313881">]</span>&nbsp;<span class="op" id="8313883">=</span>&nbsp;<span class="ident" id="8313885">nil</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313890">releasem</span><span class="op" id="8313898">(</span><span class="ident" id="8313899">mp</span><span class="op" id="8313901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8313904">return</span>&nbsp;<span class="ident" id="8313911">node</span><br>
<span class="lineno"></span><span class="op" id="8313916">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8313919">type</span>&nbsp;<span class="ident" id="8313924">ParFor</span>&nbsp;<span class="keyword" id="8313931">struct</span>&nbsp;<span class="op" id="8313938">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313941">body</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8313949">*</span><span class="builtintype" id="8313950">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313956">done</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8313964">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313972">Nthr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8313980">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8313988">nthrmax</span>&nbsp;<span class="builtintype" id="8313996">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314004">thrseq</span>&nbsp;&nbsp;<span class="builtintype" id="8314012">uint32</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314020">Cnt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8314028">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314036">Ctx</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8314044">*</span><span class="builtintype" id="8314045">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314051">wait</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8314059">bool</span><br>
<span class="lineno"></span><span class="op" id="8314064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="keyword" id="8314067">func</span>&nbsp;<span class="ident" id="8314072">newparfor_m</span><span class="op" id="8314083">(</span><span class="op" id="8314084">)</span><br>
<span class="lineno"></span><span class="keyword" id="8314086">func</span>&nbsp;<span class="ident" id="8314091">parforsetup_m</span><span class="op" id="8314104">(</span><span class="op" id="8314105">)</span><br>
<span class="lineno"></span><span class="keyword" id="8314107">func</span>&nbsp;<span class="ident" id="8314112">parfordo_m</span><span class="op" id="8314122">(</span><span class="op" id="8314123">)</span><br>
<span class="lineno"></span><span class="keyword" id="8314125">func</span>&nbsp;<span class="ident" id="8314130">parforiters_m</span><span class="op" id="8314143">(</span><span class="op" id="8314144">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="8314147">func</span>&nbsp;<span class="ident" id="8314152">NewParFor</span><span class="op" id="8314161">(</span><span class="ident" id="8314162">nthrmax</span>&nbsp;<span class="builtintype" id="8314170">uint32</span><span class="op" id="8314176">)</span>&nbsp;<span class="op" id="8314178">*</span><span class="ident" id="8314179">ParFor</span>&nbsp;<span class="op" id="8314186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314189">mp</span>&nbsp;<span class="op" id="8314192">:=</span>&nbsp;<span class="ident" id="8314195">acquirem</span><span class="op" id="8314203">(</span><span class="op" id="8314204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314207">mp</span><span class="op" id="8314209">.</span><span class="ident" id="8314210">scalararg</span><span class="op" id="8314219">[</span><span class="num" id="8314220">0</span><span class="op" id="8314221">]</span>&nbsp;<span class="op" id="8314223">=</span>&nbsp;<span class="builtintype" id="8314225">uintptr</span><span class="op" id="8314232">(</span><span class="ident" id="8314233">nthrmax</span><span class="op" id="8314240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314243">onM</span><span class="op" id="8314246">(</span><span class="ident" id="8314247">newparfor_m</span><span class="op" id="8314258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314261">desc</span>&nbsp;<span class="op" id="8314266">:=</span>&nbsp;<span class="op" id="8314269">(</span><span class="op" id="8314270">*</span><span class="ident" id="8314271">ParFor</span><span class="op" id="8314277">)</span><span class="op" id="8314278">(</span><span class="ident" id="8314279">mp</span><span class="op" id="8314281">.</span><span class="ident" id="8314282">ptrarg</span><span class="op" id="8314288">[</span><span class="num" id="8314289">0</span><span class="op" id="8314290">]</span><span class="op" id="8314291">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314294">mp</span><span class="op" id="8314296">.</span><span class="ident" id="8314297">ptrarg</span><span class="op" id="8314303">[</span><span class="num" id="8314304">0</span><span class="op" id="8314305">]</span>&nbsp;<span class="op" id="8314307">=</span>&nbsp;<span class="ident" id="8314309">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314314">releasem</span><span class="op" id="8314322">(</span><span class="ident" id="8314323">mp</span><span class="op" id="8314325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314328">return</span>&nbsp;<span class="ident" id="8314335">desc</span><br>
<span class="lineno"></span><span class="op" id="8314340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="8314343">func</span>&nbsp;<span class="ident" id="8314348">ParForSetup</span><span class="op" id="8314359">(</span><span class="ident" id="8314360">desc</span>&nbsp;<span class="op" id="8314365">*</span><span class="ident" id="8314366">ParFor</span><span class="op" id="8314372">,</span>&nbsp;<span class="ident" id="8314374">nthr</span><span class="op" id="8314378">,</span>&nbsp;<span class="ident" id="8314380">n</span>&nbsp;<span class="builtintype" id="8314382">uint32</span><span class="op" id="8314388">,</span>&nbsp;<span class="ident" id="8314390">ctx</span>&nbsp;<span class="op" id="8314394">*</span><span class="builtintype" id="8314395">byte</span><span class="op" id="8314399">,</span>&nbsp;<span class="ident" id="8314401">wait</span>&nbsp;<span class="builtintype" id="8314406">bool</span><span class="op" id="8314410">,</span>&nbsp;<span class="ident" id="8314412">body</span>&nbsp;<span class="keyword" id="8314417">func</span><span class="op" id="8314421">(</span><span class="op" id="8314422">*</span><span class="ident" id="8314423">ParFor</span><span class="op" id="8314429">,</span>&nbsp;<span class="builtintype" id="8314431">uint32</span><span class="op" id="8314437">)</span><span class="op" id="8314438">)</span>&nbsp;<span class="op" id="8314440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314443">mp</span>&nbsp;<span class="op" id="8314446">:=</span>&nbsp;<span class="ident" id="8314449">acquirem</span><span class="op" id="8314457">(</span><span class="op" id="8314458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314461">mp</span><span class="op" id="8314463">.</span><span class="ident" id="8314464">ptrarg</span><span class="op" id="8314470">[</span><span class="num" id="8314471">0</span><span class="op" id="8314472">]</span>&nbsp;<span class="op" id="8314474">=</span>&nbsp;<span class="ident" id="8314476">unsafe</span><span class="op" id="8314482">.</span><span class="ident" id="8314483">Pointer</span><span class="op" id="8314490">(</span><span class="ident" id="8314491">desc</span><span class="op" id="8314495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314498">mp</span><span class="op" id="8314500">.</span><span class="ident" id="8314501">ptrarg</span><span class="op" id="8314507">[</span><span class="num" id="8314508">1</span><span class="op" id="8314509">]</span>&nbsp;<span class="op" id="8314511">=</span>&nbsp;<span class="ident" id="8314513">unsafe</span><span class="op" id="8314519">.</span><span class="ident" id="8314520">Pointer</span><span class="op" id="8314527">(</span><span class="ident" id="8314528">ctx</span><span class="op" id="8314531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314534">mp</span><span class="op" id="8314536">.</span><span class="ident" id="8314537">ptrarg</span><span class="op" id="8314543">[</span><span class="num" id="8314544">2</span><span class="op" id="8314545">]</span>&nbsp;<span class="op" id="8314547">=</span>&nbsp;<span class="ident" id="8314549">unsafe</span><span class="op" id="8314555">.</span><span class="ident" id="8314556">Pointer</span><span class="op" id="8314563">(</span><span class="ident" id="8314564">funcPC</span><span class="op" id="8314570">(</span><span class="ident" id="8314571">body</span><span class="op" id="8314575">)</span><span class="op" id="8314576">)</span>&nbsp;<span class="comment" id="8314578">//&nbsp;TODO(rsc):&nbsp;Should&nbsp;be&nbsp;a&nbsp;scalar.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314613">mp</span><span class="op" id="8314615">.</span><span class="ident" id="8314616">scalararg</span><span class="op" id="8314625">[</span><span class="num" id="8314626">0</span><span class="op" id="8314627">]</span>&nbsp;<span class="op" id="8314629">=</span>&nbsp;<span class="builtintype" id="8314631">uintptr</span><span class="op" id="8314638">(</span><span class="ident" id="8314639">nthr</span><span class="op" id="8314643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314646">mp</span><span class="op" id="8314648">.</span><span class="ident" id="8314649">scalararg</span><span class="op" id="8314658">[</span><span class="num" id="8314659">1</span><span class="op" id="8314660">]</span>&nbsp;<span class="op" id="8314662">=</span>&nbsp;<span class="builtintype" id="8314664">uintptr</span><span class="op" id="8314671">(</span><span class="ident" id="8314672">n</span><span class="op" id="8314673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314676">mp</span><span class="op" id="8314678">.</span><span class="ident" id="8314679">scalararg</span><span class="op" id="8314688">[</span><span class="num" id="8314689">2</span><span class="op" id="8314690">]</span>&nbsp;<span class="op" id="8314692">=</span>&nbsp;<span class="num" id="8314694">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8314697">if</span>&nbsp;<span class="ident" id="8314700">wait</span>&nbsp;<span class="op" id="8314705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314709">mp</span><span class="op" id="8314711">.</span><span class="ident" id="8314712">scalararg</span><span class="op" id="8314721">[</span><span class="num" id="8314722">2</span><span class="op" id="8314723">]</span>&nbsp;<span class="op" id="8314725">=</span>&nbsp;<span class="num" id="8314727">1</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8314730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314733">onM</span><span class="op" id="8314736">(</span><span class="ident" id="8314737">parforsetup_m</span><span class="op" id="8314750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314753">releasem</span><span class="op" id="8314761">(</span><span class="ident" id="8314762">mp</span><span class="op" id="8314764">)</span><br>
<span class="lineno"></span><span class="op" id="8314766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="keyword" id="8314769">func</span>&nbsp;<span class="ident" id="8314774">ParForDo</span><span class="op" id="8314782">(</span><span class="ident" id="8314783">desc</span>&nbsp;<span class="op" id="8314788">*</span><span class="ident" id="8314789">ParFor</span><span class="op" id="8314795">)</span>&nbsp;<span class="op" id="8314797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314800">mp</span>&nbsp;<span class="op" id="8314803">:=</span>&nbsp;<span class="ident" id="8314806">acquirem</span><span class="op" id="8314814">(</span><span class="op" id="8314815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314818">mp</span><span class="op" id="8314820">.</span><span class="ident" id="8314821">ptrarg</span><span class="op" id="8314827">[</span><span class="num" id="8314828">0</span><span class="op" id="8314829">]</span>&nbsp;<span class="op" id="8314831">=</span>&nbsp;<span class="ident" id="8314833">unsafe</span><span class="op" id="8314839">.</span><span class="ident" id="8314840">Pointer</span><span class="op" id="8314847">(</span><span class="ident" id="8314848">desc</span><span class="op" id="8314852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314855">onM</span><span class="op" id="8314858">(</span><span class="ident" id="8314859">parfordo_m</span><span class="op" id="8314869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314872">releasem</span><span class="op" id="8314880">(</span><span class="ident" id="8314881">mp</span><span class="op" id="8314883">)</span><br>
<span class="lineno">100</span><span class="op" id="8314885">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8314888">func</span>&nbsp;<span class="ident" id="8314893">ParForIters</span><span class="op" id="8314904">(</span><span class="ident" id="8314905">desc</span>&nbsp;<span class="op" id="8314910">*</span><span class="ident" id="8314911">ParFor</span><span class="op" id="8314917">,</span>&nbsp;<span class="ident" id="8314919">tid</span>&nbsp;<span class="builtintype" id="8314923">uint32</span><span class="op" id="8314929">)</span>&nbsp;<span class="op" id="8314931">(</span><span class="builtintype" id="8314932">uint32</span><span class="op" id="8314938">,</span>&nbsp;<span class="builtintype" id="8314940">uint32</span><span class="op" id="8314946">)</span>&nbsp;<span class="op" id="8314948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314951">mp</span>&nbsp;<span class="op" id="8314954">:=</span>&nbsp;<span class="ident" id="8314957">acquirem</span><span class="op" id="8314965">(</span><span class="op" id="8314966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8314969">mp</span><span class="op" id="8314971">.</span><span class="ident" id="8314972">ptrarg</span><span class="op" id="8314978">[</span><span class="num" id="8314979">0</span><span class="op" id="8314980">]</span>&nbsp;<span class="op" id="8314982">=</span>&nbsp;<span class="ident" id="8314984">unsafe</span><span class="op" id="8314990">.</span><span class="ident" id="8314991">Pointer</span><span class="op" id="8314998">(</span><span class="ident" id="8314999">desc</span><span class="op" id="8315003">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315006">mp</span><span class="op" id="8315008">.</span><span class="ident" id="8315009">scalararg</span><span class="op" id="8315018">[</span><span class="num" id="8315019">0</span><span class="op" id="8315020">]</span>&nbsp;<span class="op" id="8315022">=</span>&nbsp;<span class="builtintype" id="8315024">uintptr</span><span class="op" id="8315031">(</span><span class="ident" id="8315032">tid</span><span class="op" id="8315035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315038">onM</span><span class="op" id="8315041">(</span><span class="ident" id="8315042">parforiters_m</span><span class="op" id="8315055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315058">begin</span>&nbsp;<span class="op" id="8315064">:=</span>&nbsp;<span class="builtintype" id="8315067">uint32</span><span class="op" id="8315073">(</span><span class="ident" id="8315074">mp</span><span class="op" id="8315076">.</span><span class="ident" id="8315077">scalararg</span><span class="op" id="8315086">[</span><span class="num" id="8315087">0</span><span class="op" id="8315088">]</span><span class="op" id="8315089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315092">end</span>&nbsp;<span class="op" id="8315096">:=</span>&nbsp;<span class="builtintype" id="8315099">uint32</span><span class="op" id="8315105">(</span><span class="ident" id="8315106">mp</span><span class="op" id="8315108">.</span><span class="ident" id="8315109">scalararg</span><span class="op" id="8315118">[</span><span class="num" id="8315119">1</span><span class="op" id="8315120">]</span><span class="op" id="8315121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315124">releasem</span><span class="op" id="8315132">(</span><span class="ident" id="8315133">mp</span><span class="op" id="8315135">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315138">return</span>&nbsp;<span class="ident" id="8315145">begin</span><span class="op" id="8315150">,</span>&nbsp;<span class="ident" id="8315152">end</span><br>
<span class="lineno"></span><span class="op" id="8315156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8315159">//&nbsp;in&nbsp;mgc0.c</span><br>
<span class="lineno"></span><span class="comment" id="8315172">//go:noescape</span><br>
<span class="lineno">115</span><span class="keyword" id="8315186">func</span>&nbsp;<span class="ident" id="8315191">getgcmask</span><span class="op" id="8315200">(</span><span class="ident" id="8315201">data</span>&nbsp;<span class="ident" id="8315206">unsafe</span><span class="op" id="8315212">.</span><span class="ident" id="8315213">Pointer</span><span class="op" id="8315220">,</span>&nbsp;<span class="ident" id="8315222">typ</span>&nbsp;<span class="op" id="8315226">*</span><span class="ident" id="8315227">_type</span><span class="op" id="8315232">,</span>&nbsp;<span class="ident" id="8315234">array</span>&nbsp;<span class="op" id="8315240">*</span><span class="op" id="8315241">*</span><span class="builtintype" id="8315242">byte</span><span class="op" id="8315246">,</span>&nbsp;<span class="builtinfunc" id="8315248">len</span>&nbsp;<span class="op" id="8315252">*</span><span class="builtintype" id="8315253">uint</span><span class="op" id="8315257">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8315260">func</span>&nbsp;<span class="ident" id="8315265">GCMask</span><span class="op" id="8315271">(</span><span class="ident" id="8315272">x</span>&nbsp;<span class="keyword" id="8315274">interface</span><span class="op" id="8315283">{</span><span class="op" id="8315284">}</span><span class="op" id="8315285">)</span>&nbsp;<span class="op" id="8315287">(</span><span class="ident" id="8315288">ret</span>&nbsp;<span class="op" id="8315292">[</span><span class="op" id="8315293">]</span><span class="builtintype" id="8315294">byte</span><span class="op" id="8315298">)</span>&nbsp;<span class="op" id="8315300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315303">e</span>&nbsp;<span class="op" id="8315305">:=</span>&nbsp;<span class="op" id="8315308">(</span><span class="op" id="8315309">*</span><span class="ident" id="8315310">eface</span><span class="op" id="8315315">)</span><span class="op" id="8315316">(</span><span class="ident" id="8315317">unsafe</span><span class="op" id="8315323">.</span><span class="ident" id="8315324">Pointer</span><span class="op" id="8315331">(</span><span class="op" id="8315332">&amp;</span><span class="ident" id="8315333">x</span><span class="op" id="8315334">)</span><span class="op" id="8315335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315338">s</span>&nbsp;<span class="op" id="8315340">:=</span>&nbsp;<span class="op" id="8315343">(</span><span class="op" id="8315344">*</span><span class="ident" id="8315345">slice</span><span class="op" id="8315350">)</span><span class="op" id="8315351">(</span><span class="ident" id="8315352">unsafe</span><span class="op" id="8315358">.</span><span class="ident" id="8315359">Pointer</span><span class="op" id="8315366">(</span><span class="op" id="8315367">&amp;</span><span class="ident" id="8315368">ret</span><span class="op" id="8315371">)</span><span class="op" id="8315372">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315375">onM</span><span class="op" id="8315378">(</span><span class="keyword" id="8315379">func</span><span class="op" id="8315383">(</span><span class="op" id="8315384">)</span>&nbsp;<span class="op" id="8315386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315390">getgcmask</span><span class="op" id="8315399">(</span><span class="ident" id="8315400">e</span><span class="op" id="8315401">.</span><span class="ident" id="8315402">data</span><span class="op" id="8315406">,</span>&nbsp;<span class="ident" id="8315408">e</span><span class="op" id="8315409">.</span><span class="ident" id="8315410">_type</span><span class="op" id="8315415">,</span>&nbsp;<span class="op" id="8315417">&amp;</span><span class="ident" id="8315418">s</span><span class="op" id="8315419">.</span><span class="ident" id="8315420">array</span><span class="op" id="8315425">,</span>&nbsp;<span class="op" id="8315427">&amp;</span><span class="ident" id="8315428">s</span><span class="op" id="8315429">.</span><span class="builtinfunc" id="8315430">len</span><span class="op" id="8315433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315437">s</span><span class="op" id="8315438">.</span><span class="builtinfunc" id="8315439">cap</span>&nbsp;<span class="op" id="8315443">=</span>&nbsp;<span class="ident" id="8315445">s</span><span class="op" id="8315446">.</span><span class="builtinfunc" id="8315447">len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8315452">}</span><span class="op" id="8315453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315456">return</span><br>
<span class="lineno">125</span><span class="op" id="8315463">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8315466">func</span>&nbsp;<span class="ident" id="8315471">testSchedLocalQueue</span><span class="op" id="8315490">(</span><span class="op" id="8315491">)</span><br>
<span class="lineno"></span><span class="keyword" id="8315493">func</span>&nbsp;<span class="ident" id="8315498">testSchedLocalQueueSteal</span><span class="op" id="8315522">(</span><span class="op" id="8315523">)</span><br>
<span class="lineno"></span><span class="keyword" id="8315525">func</span>&nbsp;<span class="ident" id="8315530">RunSchedLocalQueueTest</span><span class="op" id="8315552">(</span><span class="op" id="8315553">)</span>&nbsp;<span class="op" id="8315555">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315558">onM</span><span class="op" id="8315561">(</span><span class="ident" id="8315562">testSchedLocalQueue</span><span class="op" id="8315581">)</span><br>
<span class="lineno"></span><span class="op" id="8315583">}</span><br>
<span class="lineno"></span><span class="keyword" id="8315585">func</span>&nbsp;<span class="ident" id="8315590">RunSchedLocalQueueStealTest</span><span class="op" id="8315617">(</span><span class="op" id="8315618">)</span>&nbsp;<span class="op" id="8315620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8315623">onM</span><span class="op" id="8315626">(</span><span class="ident" id="8315627">testSchedLocalQueueSteal</span><span class="op" id="8315651">)</span><br>
<span class="lineno"></span><span class="op" id="8315653">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="8315656">var</span>&nbsp;<span class="ident" id="8315660">HaveGoodHash</span>&nbsp;<span class="op" id="8315673">=</span>&nbsp;<span class="ident" id="8315675">haveGoodHash</span><br>
<span class="lineno"></span><span class="keyword" id="8315688">var</span>&nbsp;<span class="ident" id="8315692">StringHash</span>&nbsp;<span class="op" id="8315703">=</span>&nbsp;<span class="ident" id="8315705">stringHash</span><br>
<span class="lineno"></span><span class="keyword" id="8315716">var</span>&nbsp;<span class="ident" id="8315720">BytesHash</span>&nbsp;<span class="op" id="8315730">=</span>&nbsp;<span class="ident" id="8315732">bytesHash</span><br>
<span class="lineno"></span><span class="keyword" id="8315742">var</span>&nbsp;<span class="ident" id="8315746">Int32Hash</span>&nbsp;<span class="op" id="8315756">=</span>&nbsp;<span class="ident" id="8315758">int32Hash</span><br>
<span class="lineno">140</span><span class="keyword" id="8315768">var</span>&nbsp;<span class="ident" id="8315772">Int64Hash</span>&nbsp;<span class="op" id="8315782">=</span>&nbsp;<span class="ident" id="8315784">int64Hash</span><br>
<span class="lineno"></span><span class="keyword" id="8315794">var</span>&nbsp;<span class="ident" id="8315798">EfaceHash</span>&nbsp;<span class="op" id="8315808">=</span>&nbsp;<span class="ident" id="8315810">efaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="8315820">var</span>&nbsp;<span class="ident" id="8315824">IfaceHash</span>&nbsp;<span class="op" id="8315834">=</span>&nbsp;<span class="ident" id="8315836">ifaceHash</span><br>
<span class="lineno"></span><span class="keyword" id="8315846">var</span>&nbsp;<span class="ident" id="8315850">MemclrBytes</span>&nbsp;<span class="op" id="8315862">=</span>&nbsp;<span class="ident" id="8315864">memclrBytes</span><br>
<span class="lineno"></span><br>
<span class="lineno">145</span><span class="keyword" id="8315877">var</span>&nbsp;<span class="ident" id="8315881">HashLoad</span>&nbsp;<span class="op" id="8315890">=</span>&nbsp;<span class="op" id="8315892">&amp;</span><span class="ident" id="8315893">hashLoad</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8315903">//&nbsp;For&nbsp;testing.</span><br>
<span class="lineno"></span><span class="keyword" id="8315919">func</span>&nbsp;<span class="ident" id="8315924">GogoBytes</span><span class="op" id="8315933">(</span><span class="op" id="8315934">)</span>&nbsp;<span class="builtintype" id="8315936">int32</span>&nbsp;<span class="op" id="8315942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8315945">return</span>&nbsp;<span class="ident" id="8315952">_RuntimeGogoBytes</span><br>
<span class="lineno">150</span><span class="op" id="8315970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8315973">//&nbsp;in&nbsp;string.c</span><br>
<span class="lineno"></span><span class="comment" id="8315988">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="8316002">func</span>&nbsp;<span class="ident" id="8316007">gostringw</span><span class="op" id="8316016">(</span><span class="ident" id="8316017">w</span>&nbsp;<span class="op" id="8316019">*</span><span class="builtintype" id="8316020">uint16</span><span class="op" id="8316026">)</span>&nbsp;<span class="builtintype" id="8316028">string</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="comment" id="8316036">//&nbsp;entry&nbsp;point&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="8316063">func</span>&nbsp;<span class="ident" id="8316068">GostringW</span><span class="op" id="8316077">(</span><span class="ident" id="8316078">w</span>&nbsp;<span class="op" id="8316080">[</span><span class="op" id="8316081">]</span><span class="builtintype" id="8316082">uint16</span><span class="op" id="8316088">)</span>&nbsp;<span class="op" id="8316090">(</span><span class="ident" id="8316091">s</span>&nbsp;<span class="builtintype" id="8316093">string</span><span class="op" id="8316099">)</span>&nbsp;<span class="op" id="8316101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316104">onM</span><span class="op" id="8316107">(</span><span class="keyword" id="8316108">func</span><span class="op" id="8316112">(</span><span class="op" id="8316113">)</span>&nbsp;<span class="op" id="8316115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8316119">s</span>&nbsp;<span class="op" id="8316121">=</span>&nbsp;<span class="ident" id="8316123">gostringw</span><span class="op" id="8316132">(</span><span class="op" id="8316133">&amp;</span><span class="ident" id="8316134">w</span><span class="op" id="8316135">[</span><span class="num" id="8316136">0</span><span class="op" id="8316137">]</span><span class="op" id="8316138">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8316141">}</span><span class="op" id="8316142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8316145">return</span><br>
<span class="lineno"></span><span class="op" id="8316152">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8316155">var</span>&nbsp;<span class="ident" id="8316159">Gostringnocopy</span>&nbsp;<span class="op" id="8316174">=</span>&nbsp;<span class="ident" id="8316176">gostringnocopy</span><br>
<span class="lineno">165</span><span class="keyword" id="8316191">var</span>&nbsp;<span class="ident" id="8316195">Maxstring</span>&nbsp;<span class="op" id="8316205">=</span>&nbsp;<span class="op" id="8316207">&amp;</span><span class="ident" id="8316208">maxstring</span>
</div>
</body>
</html>
