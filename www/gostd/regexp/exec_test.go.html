<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8234641">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8234696">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8234750">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8234801">package</span>&nbsp;<span class="ident" id="8234809">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8234817">import</span>&nbsp;<span class="op" id="8234824">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234827">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234836">&#34;compress/bzip2&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234854">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234861">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234867">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234873">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234890">&#34;regexp/syntax&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234907">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234918">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234929">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8234940">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8234955">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8234958">//&nbsp;TestRE2&nbsp;tests&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;test&nbsp;cases</span><br>
<span class="lineno"></span><span class="comment" id="8235020">//&nbsp;considered&nbsp;during&nbsp;RE2&#39;s&nbsp;exhaustive&nbsp;tests,&nbsp;which&nbsp;run&nbsp;all&nbsp;possible</span><br>
<span class="lineno"></span><span class="comment" id="8235088">//&nbsp;regexps&nbsp;over&nbsp;a&nbsp;given&nbsp;set&nbsp;of&nbsp;atoms&nbsp;and&nbsp;operators,&nbsp;up&nbsp;to&nbsp;a&nbsp;given</span><br>
<span class="lineno"></span><span class="comment" id="8235154">//&nbsp;complexity,&nbsp;over&nbsp;all&nbsp;possible&nbsp;strings&nbsp;over&nbsp;a&nbsp;given&nbsp;alphabet,</span><br>
<span class="lineno">25</span><span class="comment" id="8235218">//&nbsp;up&nbsp;to&nbsp;a&nbsp;given&nbsp;size.&nbsp;&nbsp;Rather&nbsp;than&nbsp;try&nbsp;to&nbsp;link&nbsp;with&nbsp;RE2,&nbsp;we&nbsp;read&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8235286">//&nbsp;log&nbsp;file&nbsp;containing&nbsp;the&nbsp;test&nbsp;cases&nbsp;and&nbsp;the&nbsp;expected&nbsp;matches.</span><br>
<span class="lineno"></span><span class="comment" id="8235350">//&nbsp;The&nbsp;log&nbsp;file,&nbsp;re2.txt,&nbsp;is&nbsp;generated&nbsp;by&nbsp;running&nbsp;&#39;make&nbsp;exhaustive-log&#39;</span><br>
<span class="lineno"></span><span class="comment" id="8235422">//&nbsp;in&nbsp;the&nbsp;open&nbsp;source&nbsp;RE2&nbsp;distribution.&nbsp;&nbsp;http://code.google.com/p/re2/</span><br>
<span class="lineno"></span><span class="comment" id="8235493">//</span><br>
<span class="lineno">30</span><span class="comment" id="8235496">//&nbsp;The&nbsp;test&nbsp;file&nbsp;format&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;stanzas&nbsp;like:</span><br>
<span class="lineno"></span><span class="comment" id="8235551">//</span><br>
<span class="lineno"></span><span class="comment" id="8235554">//&nbsp;&nbsp;&nbsp;&nbspstrings</span><br>
<span class="lineno"></span><span class="comment" id="8235565">//&nbsp;&nbsp;&nbsp;&nbsp&#34;abc&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8235574">//&nbsp;&nbsp;&nbsp;&nbsp&#34;123x&#34;</span><br>
<span class="lineno">35</span><span class="comment" id="8235584">//&nbsp;&nbsp;&nbsp;&nbspregexps</span><br>
<span class="lineno"></span><span class="comment" id="8235595">//&nbsp;&nbsp;&nbsp;&nbsp&#34;[a-z]+&#34;</span><br>
<span class="lineno"></span><span class="comment" id="8235607">//&nbsp;&nbsp;&nbsp;&nbsp0-3;0-3</span><br>
<span class="lineno"></span><span class="comment" id="8235618">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="8235625">//&nbsp;&nbsp;&nbsp;&nbsp&#34;([0-9])([0-9])([0-9])&#34;</span><br>
<span class="lineno">40</span><span class="comment" id="8235652">//&nbsp;&nbsp;&nbsp;&nbsp-;-</span><br>
<span class="lineno"></span><span class="comment" id="8235659">//&nbsp;&nbsp;&nbsp;&nbsp-;0-3&nbsp;0-1&nbsp;1-2&nbsp;2-3</span><br>
<span class="lineno"></span><span class="comment" id="8235680">//</span><br>
<span class="lineno"></span><span class="comment" id="8235683">//&nbsp;The&nbsp;stanza&nbsp;begins&nbsp;by&nbsp;defining&nbsp;a&nbsp;set&nbsp;of&nbsp;strings,&nbsp;quoted</span><br>
<span class="lineno"></span><span class="comment" id="8235741">//&nbsp;using&nbsp;Go&nbsp;double-quote&nbsp;syntax,&nbsp;one&nbsp;per&nbsp;line.&nbsp;&nbsp;Then&nbsp;the</span><br>
<span class="lineno">45</span><span class="comment" id="8235798">//&nbsp;regexps&nbsp;section&nbsp;gives&nbsp;a&nbsp;sequence&nbsp;of&nbsp;regexps&nbsp;to&nbsp;run&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="8235855">//&nbsp;the&nbsp;strings.&nbsp;&nbsp;In&nbsp;the&nbsp;block&nbsp;that&nbsp;follows&nbsp;a&nbsp;regexp,&nbsp;each&nbsp;line</span><br>
<span class="lineno"></span><span class="comment" id="8235918">//&nbsp;gives&nbsp;the&nbsp;semicolon-separated&nbsp;match&nbsp;results&nbsp;of&nbsp;running</span><br>
<span class="lineno"></span><span class="comment" id="8235976">//&nbsp;the&nbsp;regexp&nbsp;on&nbsp;the&nbsp;corresponding&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="8236019">//&nbsp;Each&nbsp;match&nbsp;result&nbsp;is&nbsp;either&nbsp;a&nbsp;single&nbsp;-,&nbsp;meaning&nbsp;no&nbsp;match,&nbsp;or&nbsp;a</span><br>
<span class="lineno">50</span><span class="comment" id="8236085">//&nbsp;space-separated&nbsp;sequence&nbsp;of&nbsp;pairs&nbsp;giving&nbsp;the&nbsp;match&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="8236143">//&nbsp;submatch&nbsp;indices.&nbsp;&nbsp;An&nbsp;unmatched&nbsp;subexpression&nbsp;formats</span><br>
<span class="lineno"></span><span class="comment" id="8236200">//&nbsp;its&nbsp;pair&nbsp;as&nbsp;a&nbsp;single&nbsp;-&nbsp;(not&nbsp;illustrated&nbsp;above).&nbsp;&nbsp;For&nbsp;now</span><br>
<span class="lineno"></span><span class="comment" id="8236260">//&nbsp;each&nbsp;regexp&nbsp;run&nbsp;produces&nbsp;two&nbsp;match&nbsp;results,&nbsp;one&nbsp;for&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="8236317">//&nbsp;``full&nbsp;match&#39;&#39;&nbsp;that&nbsp;restricts&nbsp;the&nbsp;regexp&nbsp;to&nbsp;matching&nbsp;the&nbsp;entire</span><br>
<span class="lineno">55</span><span class="comment" id="8236384">//&nbsp;string&nbsp;or&nbsp;nothing,&nbsp;and&nbsp;one&nbsp;for&nbsp;a&nbsp;``partial&nbsp;match&#39;&#39;&nbsp;that&nbsp;gives</span><br>
<span class="lineno"></span><span class="comment" id="8236449">//&nbsp;the&nbsp;leftmost&nbsp;first&nbsp;match&nbsp;found&nbsp;in&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="8236498">//</span><br>
<span class="lineno"></span><span class="comment" id="8236501">//&nbsp;Lines&nbsp;beginning&nbsp;with&nbsp;#&nbsp;are&nbsp;comments.&nbsp;&nbsp;Lines&nbsp;beginning&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="8236563">//&nbsp;a&nbsp;capital&nbsp;letter&nbsp;are&nbsp;test&nbsp;names&nbsp;printed&nbsp;during&nbsp;RE2&#39;s&nbsp;test&nbsp;suite</span><br>
<span class="lineno">60</span><span class="comment" id="8236630">//&nbsp;and&nbsp;are&nbsp;echoed&nbsp;into&nbsp;t&nbsp;but&nbsp;otherwise&nbsp;ignored.</span><br>
<span class="lineno"></span><span class="comment" id="8236678">//</span><br>
<span class="lineno"></span><span class="comment" id="8236681">//&nbsp;At&nbsp;time&nbsp;of&nbsp;writing,&nbsp;re2.txt&nbsp;is&nbsp;32&nbsp;MB&nbsp;but&nbsp;compresses&nbsp;to&nbsp;760&nbsp;kB,</span><br>
<span class="lineno"></span><span class="comment" id="8236747">//&nbsp;so&nbsp;we&nbsp;store&nbsp;re2.txt.gz&nbsp;in&nbsp;the&nbsp;repository&nbsp;and&nbsp;decompress&nbsp;it&nbsp;on&nbsp;the&nbsp;fly.</span><br>
<span class="lineno"></span><span class="comment" id="8236821">//</span><br>
<span class="lineno">65</span><span class="keyword" id="8236824">func</span>&nbsp;<span class="ident" id="8236829">TestRE2Search</span><span class="op" id="8236842">(</span><span class="ident" id="8236843">t</span>&nbsp;<span class="op" id="8236845">*</span><span class="ident" id="8236846">testing</span><span class="op" id="8236853">.</span><span class="ident" id="8236854">T</span><span class="op" id="8236855">)</span>&nbsp;<span class="op" id="8236857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236860">testRE2</span><span class="op" id="8236867">(</span><span class="ident" id="8236868">t</span><span class="op" id="8236869">,</span>&nbsp;<span class="string" id="8236871">&#34;testdata/re2-search.txt&#34;</span><span class="op" id="8236896">)</span><br>
<span class="lineno"></span><span class="op" id="8236898">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8236901">func</span>&nbsp;<span class="ident" id="8236906">testRE2</span><span class="op" id="8236913">(</span><span class="ident" id="8236914">t</span>&nbsp;<span class="op" id="8236916">*</span><span class="ident" id="8236917">testing</span><span class="op" id="8236924">.</span><span class="ident" id="8236925">T</span><span class="op" id="8236926">,</span>&nbsp;<span class="ident" id="8236928">file</span>&nbsp;<span class="builtintype" id="8236933">string</span><span class="op" id="8236939">)</span>&nbsp;<span class="op" id="8236941">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236944">f</span><span class="op" id="8236945">,</span>&nbsp;<span class="ident" id="8236947">err</span>&nbsp;<span class="op" id="8236951">:=</span>&nbsp;<span class="ident" id="8236954">os</span><span class="op" id="8236956">.</span><span class="ident" id="8236957">Open</span><span class="op" id="8236961">(</span><span class="ident" id="8236962">file</span><span class="op" id="8236966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236969">if</span>&nbsp;<span class="ident" id="8236972">err</span>&nbsp;<span class="op" id="8236976">!=</span>&nbsp;<span class="ident" id="8236979">nil</span>&nbsp;<span class="op" id="8236983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236987">t</span><span class="op" id="8236988">.</span><span class="ident" id="8236989">Fatal</span><span class="op" id="8236994">(</span><span class="ident" id="8236995">err</span><span class="op" id="8236998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237004">defer</span>&nbsp;<span class="ident" id="8237010">f</span><span class="op" id="8237011">.</span><span class="ident" id="8237012">Close</span><span class="op" id="8237017">(</span><span class="op" id="8237018">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237021">var</span>&nbsp;<span class="ident" id="8237025">txt</span>&nbsp;<span class="ident" id="8237029">io</span><span class="op" id="8237031">.</span><span class="ident" id="8237032">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237040">if</span>&nbsp;<span class="ident" id="8237043">strings</span><span class="op" id="8237050">.</span><span class="ident" id="8237051">HasSuffix</span><span class="op" id="8237060">(</span><span class="ident" id="8237061">file</span><span class="op" id="8237065">,</span>&nbsp;<span class="string" id="8237067">&#34;.bz2&#34;</span><span class="op" id="8237073">)</span>&nbsp;<span class="op" id="8237075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237079">z</span>&nbsp;<span class="op" id="8237081">:=</span>&nbsp;<span class="ident" id="8237084">bzip2</span><span class="op" id="8237089">.</span><span class="ident" id="8237090">NewReader</span><span class="op" id="8237099">(</span><span class="ident" id="8237100">f</span><span class="op" id="8237101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237105">txt</span>&nbsp;<span class="op" id="8237109">=</span>&nbsp;<span class="ident" id="8237111">z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237115">file</span>&nbsp;<span class="op" id="8237120">=</span>&nbsp;<span class="ident" id="8237122">file</span><span class="op" id="8237126">[</span><span class="op" id="8237127">:</span><span class="builtinfunc" id="8237128">len</span><span class="op" id="8237131">(</span><span class="ident" id="8237132">file</span><span class="op" id="8237136">)</span><span class="op" id="8237137">-</span><span class="builtinfunc" id="8237138">len</span><span class="op" id="8237141">(</span><span class="string" id="8237142">&#34;.bz2&#34;</span><span class="op" id="8237148">)</span><span class="op" id="8237149">]</span>&nbsp;<span class="comment" id="8237151">//&nbsp;for&nbsp;error&nbsp;messages</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237174">}</span>&nbsp;<span class="keyword" id="8237176">else</span>&nbsp;<span class="op" id="8237181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237185">txt</span>&nbsp;<span class="op" id="8237189">=</span>&nbsp;<span class="ident" id="8237191">f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237197">lineno</span>&nbsp;<span class="op" id="8237204">:=</span>&nbsp;<span class="num" id="8237207">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237210">scanner</span>&nbsp;<span class="op" id="8237218">:=</span>&nbsp;<span class="ident" id="8237221">bufio</span><span class="op" id="8237226">.</span><span class="ident" id="8237227">NewScanner</span><span class="op" id="8237237">(</span><span class="ident" id="8237238">txt</span><span class="op" id="8237241">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237244">var</span>&nbsp;<span class="op" id="8237248">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237252">str</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237262">[</span><span class="op" id="8237263">]</span><span class="builtintype" id="8237264">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237273">input</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237283">[</span><span class="op" id="8237284">]</span><span class="builtintype" id="8237285">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237294">inStrings</span>&nbsp;<span class="builtintype" id="8237304">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237311">re</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237321">*</span><span class="ident" id="8237322">Regexp</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237331">refull</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8237341">*</span><span class="ident" id="8237342">Regexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237351">nfail</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8237361">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237367">ncase</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8237377">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237385">for</span>&nbsp;<span class="ident" id="8237389">lineno</span>&nbsp;<span class="op" id="8237396">:=</span>&nbsp;<span class="num" id="8237399">1</span><span class="op" id="8237400">;</span>&nbsp;<span class="ident" id="8237402">scanner</span><span class="op" id="8237409">.</span><span class="ident" id="8237410">Scan</span><span class="op" id="8237414">(</span><span class="op" id="8237415">)</span><span class="op" id="8237416">;</span>&nbsp;<span class="ident" id="8237418">lineno</span><span class="op" id="8237424">++</span>&nbsp;<span class="op" id="8237427">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237431">line</span>&nbsp;<span class="op" id="8237436">:=</span>&nbsp;<span class="ident" id="8237439">scanner</span><span class="op" id="8237446">.</span><span class="ident" id="8237447">Text</span><span class="op" id="8237451">(</span><span class="op" id="8237452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237456">switch</span>&nbsp;<span class="op" id="8237463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237467">case</span>&nbsp;<span class="ident" id="8237472">line</span>&nbsp;<span class="op" id="8237477">==</span>&nbsp;<span class="string" id="8237480">&#34;&#34;</span><span class="op" id="8237482">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237487">t</span><span class="op" id="8237488">.</span><span class="ident" id="8237489">Fatalf</span><span class="op" id="8237495">(</span><span class="string" id="8237496">&#34;%s:%d:&nbsp;unexpected&nbsp;blank&nbsp;line&#34;</span><span class="op" id="8237526">,</span>&nbsp;<span class="ident" id="8237528">file</span><span class="op" id="8237532">,</span>&nbsp;<span class="ident" id="8237534">lineno</span><span class="op" id="8237540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237544">case</span>&nbsp;<span class="ident" id="8237549">line</span><span class="op" id="8237553">[</span><span class="num" id="8237554">0</span><span class="op" id="8237555">]</span>&nbsp;<span class="op" id="8237557">==</span>&nbsp;<span class="string" id="8237560">&#39;#&#39;</span><span class="op" id="8237563">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237568">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237579">case</span>&nbsp;<span class="string" id="8237584">&#39;A&#39;</span>&nbsp;<span class="op" id="8237588">&lt;=</span>&nbsp;<span class="ident" id="8237591">line</span><span class="op" id="8237595">[</span><span class="num" id="8237596">0</span><span class="op" id="8237597">]</span>&nbsp;<span class="op" id="8237599">&amp;&amp;</span>&nbsp;<span class="ident" id="8237602">line</span><span class="op" id="8237606">[</span><span class="num" id="8237607">0</span><span class="op" id="8237608">]</span>&nbsp;<span class="op" id="8237610">&lt;=</span>&nbsp;<span class="string" id="8237613">&#39;Z&#39;</span><span class="op" id="8237616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8237621">//&nbsp;Test&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237638">t</span><span class="op" id="8237639">.</span><span class="ident" id="8237640">Logf</span><span class="op" id="8237644">(</span><span class="string" id="8237645">&#34;%s\n&#34;</span><span class="op" id="8237651">,</span>&nbsp;<span class="ident" id="8237653">line</span><span class="op" id="8237657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237662">continue</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237673">case</span>&nbsp;<span class="ident" id="8237678">line</span>&nbsp;<span class="op" id="8237683">==</span>&nbsp;<span class="string" id="8237686">&#34;strings&#34;</span><span class="op" id="8237695">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237700">str</span>&nbsp;<span class="op" id="8237704">=</span>&nbsp;<span class="ident" id="8237706">str</span><span class="op" id="8237709">[</span><span class="op" id="8237710">:</span><span class="num" id="8237711">0</span><span class="op" id="8237712">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237717">inStrings</span>&nbsp;<span class="op" id="8237727">=</span>&nbsp;<span class="builtintype" id="8237729">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237736">case</span>&nbsp;<span class="ident" id="8237741">line</span>&nbsp;<span class="op" id="8237746">==</span>&nbsp;<span class="string" id="8237749">&#34;regexps&#34;</span><span class="op" id="8237758">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237763">inStrings</span>&nbsp;<span class="op" id="8237773">=</span>&nbsp;<span class="builtintype" id="8237775">false</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237783">case</span>&nbsp;<span class="ident" id="8237788">line</span><span class="op" id="8237792">[</span><span class="num" id="8237793">0</span><span class="op" id="8237794">]</span>&nbsp;<span class="op" id="8237796">==</span>&nbsp;<span class="string" id="8237799">&#39;&#34;&#39;</span><span class="op" id="8237802">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237807">q</span><span class="op" id="8237808">,</span>&nbsp;<span class="ident" id="8237810">err</span>&nbsp;<span class="op" id="8237814">:=</span>&nbsp;<span class="ident" id="8237817">strconv</span><span class="op" id="8237824">.</span><span class="ident" id="8237825">Unquote</span><span class="op" id="8237832">(</span><span class="ident" id="8237833">line</span><span class="op" id="8237837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237842">if</span>&nbsp;<span class="ident" id="8237845">err</span>&nbsp;<span class="op" id="8237849">!=</span>&nbsp;<span class="ident" id="8237852">nil</span>&nbsp;<span class="op" id="8237856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8237862">//&nbsp;Fatal&nbsp;because&nbsp;we&#39;ll&nbsp;get&nbsp;out&nbsp;of&nbsp;sync.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237906">t</span><span class="op" id="8237907">.</span><span class="ident" id="8237908">Fatalf</span><span class="op" id="8237914">(</span><span class="string" id="8237915">&#34;%s:%d:&nbsp;unquote&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="8237938">,</span>&nbsp;<span class="ident" id="8237940">file</span><span class="op" id="8237944">,</span>&nbsp;<span class="ident" id="8237946">lineno</span><span class="op" id="8237952">,</span>&nbsp;<span class="ident" id="8237954">line</span><span class="op" id="8237958">,</span>&nbsp;<span class="ident" id="8237960">err</span><span class="op" id="8237963">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237968">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237973">if</span>&nbsp;<span class="ident" id="8237976">inStrings</span>&nbsp;<span class="op" id="8237986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237992">str</span>&nbsp;<span class="op" id="8237996">=</span>&nbsp;<span class="builtinfunc" id="8237998">append</span><span class="op" id="8238004">(</span><span class="ident" id="8238005">str</span><span class="op" id="8238008">,</span>&nbsp;<span class="ident" id="8238010">q</span><span class="op" id="8238011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238017">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238029">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8238034">//&nbsp;Is&nbsp;a&nbsp;regexp.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238053">if</span>&nbsp;<span class="builtinfunc" id="8238056">len</span><span class="op" id="8238059">(</span><span class="ident" id="8238060">input</span><span class="op" id="8238065">)</span>&nbsp;<span class="op" id="8238067">!=</span>&nbsp;<span class="num" id="8238070">0</span>&nbsp;<span class="op" id="8238072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238078">t</span><span class="op" id="8238079">.</span><span class="ident" id="8238080">Fatalf</span><span class="op" id="8238086">(</span><span class="string" id="8238087">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;before&nbsp;%#q&#34;</span><span class="op" id="8238140">,</span>&nbsp;<span class="ident" id="8238142">file</span><span class="op" id="8238146">,</span>&nbsp;<span class="ident" id="8238148">lineno</span><span class="op" id="8238154">,</span>&nbsp;<span class="builtinfunc" id="8238156">len</span><span class="op" id="8238159">(</span><span class="ident" id="8238160">input</span><span class="op" id="8238165">)</span><span class="op" id="8238166">,</span>&nbsp;<span class="ident" id="8238168">q</span><span class="op" id="8238169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238179">re</span><span class="op" id="8238181">,</span>&nbsp;<span class="ident" id="8238183">err</span>&nbsp;<span class="op" id="8238187">=</span>&nbsp;<span class="ident" id="8238189">tryCompile</span><span class="op" id="8238199">(</span><span class="ident" id="8238200">q</span><span class="op" id="8238201">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238206">if</span>&nbsp;<span class="ident" id="8238209">err</span>&nbsp;<span class="op" id="8238213">!=</span>&nbsp;<span class="ident" id="8238216">nil</span>&nbsp;<span class="op" id="8238220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238226">if</span>&nbsp;<span class="ident" id="8238229">err</span><span class="op" id="8238232">.</span><span class="ident" id="8238233">Error</span><span class="op" id="8238238">(</span><span class="op" id="8238239">)</span>&nbsp;<span class="op" id="8238241">==</span>&nbsp;<span class="string" id="8238244">&#34;error&nbsp;parsing&nbsp;regexp:&nbsp;invalid&nbsp;escape&nbsp;sequence:&nbsp;`\\C`&#34;</span>&nbsp;<span class="op" id="8238299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8238306">//&nbsp;We&nbsp;don&#39;t&nbsp;and&nbsp;likely&nbsp;never&nbsp;will&nbsp;support&nbsp;\C;&nbsp;keep&nbsp;going.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238369">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238382">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238388">t</span><span class="op" id="8238389">.</span><span class="ident" id="8238390">Errorf</span><span class="op" id="8238396">(</span><span class="string" id="8238397">&#34;%s:%d:&nbsp;compile&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8238421">,</span>&nbsp;<span class="ident" id="8238423">file</span><span class="op" id="8238427">,</span>&nbsp;<span class="ident" id="8238429">lineno</span><span class="op" id="8238435">,</span>&nbsp;<span class="ident" id="8238437">q</span><span class="op" id="8238438">,</span>&nbsp;<span class="ident" id="8238440">err</span><span class="op" id="8238443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238449">if</span>&nbsp;<span class="ident" id="8238452">nfail</span><span class="op" id="8238457">++</span><span class="op" id="8238459">;</span>&nbsp;<span class="ident" id="8238461">nfail</span>&nbsp;<span class="op" id="8238467">&gt;=</span>&nbsp;<span class="num" id="8238470">100</span>&nbsp;<span class="op" id="8238474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238481">t</span><span class="op" id="8238482">.</span><span class="ident" id="8238483">Fatalf</span><span class="op" id="8238489">(</span><span class="string" id="8238490">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8238516">,</span>&nbsp;<span class="ident" id="8238518">nfail</span><span class="op" id="8238523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238535">continue</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238547">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238552">full</span>&nbsp;<span class="op" id="8238557">:=</span>&nbsp;<span class="string" id="8238560">`\A(?:`</span>&nbsp;<span class="op" id="8238568">+</span>&nbsp;<span class="ident" id="8238570">q</span>&nbsp;<span class="op" id="8238572">+</span>&nbsp;<span class="string" id="8238574">`)\z`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238583">refull</span><span class="op" id="8238589">,</span>&nbsp;<span class="ident" id="8238591">err</span>&nbsp;<span class="op" id="8238595">=</span>&nbsp;<span class="ident" id="8238597">tryCompile</span><span class="op" id="8238607">(</span><span class="ident" id="8238608">full</span><span class="op" id="8238612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238617">if</span>&nbsp;<span class="ident" id="8238620">err</span>&nbsp;<span class="op" id="8238624">!=</span>&nbsp;<span class="ident" id="8238627">nil</span>&nbsp;<span class="op" id="8238631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8238637">//&nbsp;Fatal&nbsp;because&nbsp;q&nbsp;worked,&nbsp;so&nbsp;this&nbsp;should&nbsp;always&nbsp;work.</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238696">t</span><span class="op" id="8238697">.</span><span class="ident" id="8238698">Fatalf</span><span class="op" id="8238704">(</span><span class="string" id="8238705">&#34;%s:%d:&nbsp;compile&nbsp;full&nbsp;%#q:&nbsp;%v&#34;</span><span class="op" id="8238734">,</span>&nbsp;<span class="ident" id="8238736">file</span><span class="op" id="8238740">,</span>&nbsp;<span class="ident" id="8238742">lineno</span><span class="op" id="8238748">,</span>&nbsp;<span class="ident" id="8238750">full</span><span class="op" id="8238754">,</span>&nbsp;<span class="ident" id="8238756">err</span><span class="op" id="8238759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238769">input</span>&nbsp;<span class="op" id="8238775">=</span>&nbsp;<span class="ident" id="8238777">str</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238783">case</span>&nbsp;<span class="ident" id="8238788">line</span><span class="op" id="8238792">[</span><span class="num" id="8238793">0</span><span class="op" id="8238794">]</span>&nbsp;<span class="op" id="8238796">==</span>&nbsp;<span class="string" id="8238799">&#39;-&#39;</span>&nbsp;<span class="op" id="8238803">||</span>&nbsp;<span class="string" id="8238806">&#39;0&#39;</span>&nbsp;<span class="op" id="8238810">&lt;=</span>&nbsp;<span class="ident" id="8238813">line</span><span class="op" id="8238817">[</span><span class="num" id="8238818">0</span><span class="op" id="8238819">]</span>&nbsp;<span class="op" id="8238821">&amp;&amp;</span>&nbsp;<span class="ident" id="8238824">line</span><span class="op" id="8238828">[</span><span class="num" id="8238829">0</span><span class="op" id="8238830">]</span>&nbsp;<span class="op" id="8238832">&lt;=</span>&nbsp;<span class="string" id="8238835">&#39;9&#39;</span><span class="op" id="8238838">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8238843">//&nbsp;A&nbsp;sequence&nbsp;of&nbsp;match&nbsp;results.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238878">ncase</span><span class="op" id="8238883">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238889">if</span>&nbsp;<span class="ident" id="8238892">re</span>&nbsp;<span class="op" id="8238895">==</span>&nbsp;<span class="ident" id="8238898">nil</span>&nbsp;<span class="op" id="8238902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8238908">//&nbsp;Failed&nbsp;to&nbsp;compile:&nbsp;skip&nbsp;results.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238948">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238960">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238965">if</span>&nbsp;<span class="builtinfunc" id="8238968">len</span><span class="op" id="8238971">(</span><span class="ident" id="8238972">input</span><span class="op" id="8238977">)</span>&nbsp;<span class="op" id="8238979">==</span>&nbsp;<span class="num" id="8238982">0</span>&nbsp;<span class="op" id="8238984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238990">t</span><span class="op" id="8238991">.</span><span class="ident" id="8238992">Fatalf</span><span class="op" id="8238998">(</span><span class="string" id="8238999">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;no&nbsp;input&nbsp;remaining&#34;</span><span class="op" id="8239039">,</span>&nbsp;<span class="ident" id="8239041">file</span><span class="op" id="8239045">,</span>&nbsp;<span class="ident" id="8239047">lineno</span><span class="op" id="8239053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239063">var</span>&nbsp;<span class="ident" id="8239067">text</span>&nbsp;<span class="builtintype" id="8239072">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239082">text</span><span class="op" id="8239086">,</span>&nbsp;<span class="ident" id="8239088">input</span>&nbsp;<span class="op" id="8239094">=</span>&nbsp;<span class="ident" id="8239096">input</span><span class="op" id="8239101">[</span><span class="num" id="8239102">0</span><span class="op" id="8239103">]</span><span class="op" id="8239104">,</span>&nbsp;<span class="ident" id="8239106">input</span><span class="op" id="8239111">[</span><span class="num" id="8239112">1</span><span class="op" id="8239113">:</span><span class="op" id="8239114">]</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239119">if</span>&nbsp;<span class="op" id="8239122">!</span><span class="ident" id="8239123">isSingleBytes</span><span class="op" id="8239136">(</span><span class="ident" id="8239137">text</span><span class="op" id="8239141">)</span>&nbsp;<span class="op" id="8239143">&amp;&amp;</span>&nbsp;<span class="ident" id="8239146">strings</span><span class="op" id="8239153">.</span><span class="ident" id="8239154">Contains</span><span class="op" id="8239162">(</span><span class="ident" id="8239163">re</span><span class="op" id="8239165">.</span><span class="ident" id="8239166">String</span><span class="op" id="8239172">(</span><span class="op" id="8239173">)</span><span class="op" id="8239174">,</span>&nbsp;<span class="string" id="8239176">`\B`</span><span class="op" id="8239180">)</span>&nbsp;<span class="op" id="8239182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8239188">//&nbsp;RE2&#39;s&nbsp;\B&nbsp;considers&nbsp;every&nbsp;byte&nbsp;position,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8239235">//&nbsp;so&nbsp;it&nbsp;sees&nbsp;&#39;not&nbsp;word&nbsp;boundary&#39;&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8239280">//&nbsp;middle&nbsp;of&nbsp;UTF-8&nbsp;sequences.&nbsp;&nbsp;This&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8239328">//&nbsp;only&nbsp;considers&nbsp;the&nbsp;positions&nbsp;between&nbsp;runes,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8239379">//&nbsp;so&nbsp;it&nbsp;disagrees.&nbsp;&nbsp;Skip&nbsp;those&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239422">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239439">res</span>&nbsp;<span class="op" id="8239443">:=</span>&nbsp;<span class="ident" id="8239446">strings</span><span class="op" id="8239453">.</span><span class="ident" id="8239454">Split</span><span class="op" id="8239459">(</span><span class="ident" id="8239460">line</span><span class="op" id="8239464">,</span>&nbsp;<span class="string" id="8239466">&#34;;&#34;</span><span class="op" id="8239469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239474">if</span>&nbsp;<span class="builtinfunc" id="8239477">len</span><span class="op" id="8239480">(</span><span class="ident" id="8239481">res</span><span class="op" id="8239484">)</span>&nbsp;<span class="op" id="8239486">!=</span>&nbsp;<span class="builtinfunc" id="8239489">len</span><span class="op" id="8239492">(</span><span class="ident" id="8239493">run</span><span class="op" id="8239496">)</span>&nbsp;<span class="op" id="8239498">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239504">t</span><span class="op" id="8239505">.</span><span class="ident" id="8239506">Fatalf</span><span class="op" id="8239512">(</span><span class="string" id="8239513">&#34;%s:%d:&nbsp;have&nbsp;%d&nbsp;test&nbsp;results,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="8239551">,</span>&nbsp;<span class="ident" id="8239553">file</span><span class="op" id="8239557">,</span>&nbsp;<span class="ident" id="8239559">lineno</span><span class="op" id="8239565">,</span>&nbsp;<span class="builtinfunc" id="8239567">len</span><span class="op" id="8239570">(</span><span class="ident" id="8239571">res</span><span class="op" id="8239574">)</span><span class="op" id="8239575">,</span>&nbsp;<span class="builtinfunc" id="8239577">len</span><span class="op" id="8239580">(</span><span class="ident" id="8239581">run</span><span class="op" id="8239584">)</span><span class="op" id="8239585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239595">for</span>&nbsp;<span class="ident" id="8239599">i</span>&nbsp;<span class="op" id="8239601">:=</span>&nbsp;<span class="keyword" id="8239604">range</span>&nbsp;<span class="ident" id="8239610">res</span>&nbsp;<span class="op" id="8239614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239620">have</span><span class="op" id="8239624">,</span>&nbsp;<span class="ident" id="8239626">suffix</span>&nbsp;<span class="op" id="8239633">:=</span>&nbsp;<span class="ident" id="8239636">run</span><span class="op" id="8239639">[</span><span class="ident" id="8239640">i</span><span class="op" id="8239641">]</span><span class="op" id="8239642">(</span><span class="ident" id="8239643">re</span><span class="op" id="8239645">,</span>&nbsp;<span class="ident" id="8239647">refull</span><span class="op" id="8239653">,</span>&nbsp;<span class="ident" id="8239655">text</span><span class="op" id="8239659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239665">want</span>&nbsp;<span class="op" id="8239670">:=</span>&nbsp;<span class="ident" id="8239673">parseResult</span><span class="op" id="8239684">(</span><span class="ident" id="8239685">t</span><span class="op" id="8239686">,</span>&nbsp;<span class="ident" id="8239688">file</span><span class="op" id="8239692">,</span>&nbsp;<span class="ident" id="8239694">lineno</span><span class="op" id="8239700">,</span>&nbsp;<span class="ident" id="8239702">res</span><span class="op" id="8239705">[</span><span class="ident" id="8239706">i</span><span class="op" id="8239707">]</span><span class="op" id="8239708">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239714">if</span>&nbsp;<span class="op" id="8239717">!</span><span class="ident" id="8239718">same</span><span class="op" id="8239722">(</span><span class="ident" id="8239723">have</span><span class="op" id="8239727">,</span>&nbsp;<span class="ident" id="8239729">want</span><span class="op" id="8239733">)</span>&nbsp;<span class="op" id="8239735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239742">t</span><span class="op" id="8239743">.</span><span class="ident" id="8239744">Errorf</span><span class="op" id="8239750">(</span><span class="string" id="8239751">&#34;%s:%d:&nbsp;%#q%s.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8239802">,</span>&nbsp;<span class="ident" id="8239804">file</span><span class="op" id="8239808">,</span>&nbsp;<span class="ident" id="8239810">lineno</span><span class="op" id="8239816">,</span>&nbsp;<span class="ident" id="8239818">re</span><span class="op" id="8239820">,</span>&nbsp;<span class="ident" id="8239822">suffix</span><span class="op" id="8239828">,</span>&nbsp;<span class="ident" id="8239830">text</span><span class="op" id="8239834">,</span>&nbsp;<span class="ident" id="8239836">have</span><span class="op" id="8239840">,</span>&nbsp;<span class="ident" id="8239842">want</span><span class="op" id="8239846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239853">if</span>&nbsp;<span class="ident" id="8239856">nfail</span><span class="op" id="8239861">++</span><span class="op" id="8239863">;</span>&nbsp;<span class="ident" id="8239865">nfail</span>&nbsp;<span class="op" id="8239871">&gt;=</span>&nbsp;<span class="num" id="8239874">100</span>&nbsp;<span class="op" id="8239878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239886">t</span><span class="op" id="8239887">.</span><span class="ident" id="8239888">Fatalf</span><span class="op" id="8239894">(</span><span class="string" id="8239895">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8239921">,</span>&nbsp;<span class="ident" id="8239923">nfail</span><span class="op" id="8239928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239935">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239942">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239961">b</span><span class="op" id="8239962">,</span>&nbsp;<span class="ident" id="8239964">suffix</span>&nbsp;<span class="op" id="8239971">:=</span>&nbsp;<span class="ident" id="8239974">match</span><span class="op" id="8239979">[</span><span class="ident" id="8239980">i</span><span class="op" id="8239981">]</span><span class="op" id="8239982">(</span><span class="ident" id="8239983">re</span><span class="op" id="8239985">,</span>&nbsp;<span class="ident" id="8239987">refull</span><span class="op" id="8239993">,</span>&nbsp;<span class="ident" id="8239995">text</span><span class="op" id="8239999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240005">if</span>&nbsp;<span class="ident" id="8240008">b</span>&nbsp;<span class="op" id="8240010">!=</span>&nbsp;<span class="op" id="8240013">(</span><span class="ident" id="8240014">want</span>&nbsp;<span class="op" id="8240019">!=</span>&nbsp;<span class="ident" id="8240022">nil</span><span class="op" id="8240025">)</span>&nbsp;<span class="op" id="8240027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240034">t</span><span class="op" id="8240035">.</span><span class="ident" id="8240036">Errorf</span><span class="op" id="8240042">(</span><span class="string" id="8240043">&#34;%s:%d:&nbsp;%#q%s.MatchString(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8240088">,</span>&nbsp;<span class="ident" id="8240090">file</span><span class="op" id="8240094">,</span>&nbsp;<span class="ident" id="8240096">lineno</span><span class="op" id="8240102">,</span>&nbsp;<span class="ident" id="8240104">re</span><span class="op" id="8240106">,</span>&nbsp;<span class="ident" id="8240108">suffix</span><span class="op" id="8240114">,</span>&nbsp;<span class="ident" id="8240116">text</span><span class="op" id="8240120">,</span>&nbsp;<span class="ident" id="8240122">b</span><span class="op" id="8240123">,</span>&nbsp;<span class="op" id="8240125">!</span><span class="ident" id="8240126">b</span><span class="op" id="8240127">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240134">if</span>&nbsp;<span class="ident" id="8240137">nfail</span><span class="op" id="8240142">++</span><span class="op" id="8240144">;</span>&nbsp;<span class="ident" id="8240146">nfail</span>&nbsp;<span class="op" id="8240152">&gt;=</span>&nbsp;<span class="num" id="8240155">100</span>&nbsp;<span class="op" id="8240159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240167">t</span><span class="op" id="8240168">.</span><span class="ident" id="8240169">Fatalf</span><span class="op" id="8240175">(</span><span class="string" id="8240176">&#34;stopping&nbsp;after&nbsp;%d&nbsp;errors&#34;</span><span class="op" id="8240202">,</span>&nbsp;<span class="ident" id="8240204">nfail</span><span class="op" id="8240209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240223">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240236">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240246">default</span><span class="op" id="8240253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240258">t</span><span class="op" id="8240259">.</span><span class="ident" id="8240260">Fatalf</span><span class="op" id="8240266">(</span><span class="string" id="8240267">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;%s\n&#34;</span><span class="op" id="8240293">,</span>&nbsp;<span class="ident" id="8240295">file</span><span class="op" id="8240299">,</span>&nbsp;<span class="ident" id="8240301">lineno</span><span class="op" id="8240307">,</span>&nbsp;<span class="ident" id="8240309">line</span><span class="op" id="8240313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240317">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240323">if</span>&nbsp;<span class="ident" id="8240326">err</span>&nbsp;<span class="op" id="8240330">:=</span>&nbsp;<span class="ident" id="8240333">scanner</span><span class="op" id="8240340">.</span><span class="ident" id="8240341">Err</span><span class="op" id="8240344">(</span><span class="op" id="8240345">)</span><span class="op" id="8240346">;</span>&nbsp;<span class="ident" id="8240348">err</span>&nbsp;<span class="op" id="8240352">!=</span>&nbsp;<span class="ident" id="8240355">nil</span>&nbsp;<span class="op" id="8240359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240363">t</span><span class="op" id="8240364">.</span><span class="ident" id="8240365">Fatalf</span><span class="op" id="8240371">(</span><span class="string" id="8240372">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="8240383">,</span>&nbsp;<span class="ident" id="8240385">file</span><span class="op" id="8240389">,</span>&nbsp;<span class="ident" id="8240391">lineno</span><span class="op" id="8240397">,</span>&nbsp;<span class="ident" id="8240399">err</span><span class="op" id="8240402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240408">if</span>&nbsp;<span class="builtinfunc" id="8240411">len</span><span class="op" id="8240414">(</span><span class="ident" id="8240415">input</span><span class="op" id="8240420">)</span>&nbsp;<span class="op" id="8240422">!=</span>&nbsp;<span class="num" id="8240425">0</span>&nbsp;<span class="op" id="8240427">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240431">t</span><span class="op" id="8240432">.</span><span class="ident" id="8240433">Fatalf</span><span class="op" id="8240439">(</span><span class="string" id="8240440">&#34;%s:%d:&nbsp;out&nbsp;of&nbsp;sync:&nbsp;have&nbsp;%d&nbsp;strings&nbsp;left&nbsp;at&nbsp;EOF&#34;</span><span class="op" id="8240489">,</span>&nbsp;<span class="ident" id="8240491">file</span><span class="op" id="8240495">,</span>&nbsp;<span class="ident" id="8240497">lineno</span><span class="op" id="8240503">,</span>&nbsp;<span class="builtinfunc" id="8240505">len</span><span class="op" id="8240508">(</span><span class="ident" id="8240509">input</span><span class="op" id="8240514">)</span><span class="op" id="8240515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240521">t</span><span class="op" id="8240522">.</span><span class="ident" id="8240523">Logf</span><span class="op" id="8240527">(</span><span class="string" id="8240528">&#34;%d&nbsp;cases&nbsp;tested&#34;</span><span class="op" id="8240545">,</span>&nbsp;<span class="ident" id="8240547">ncase</span><span class="op" id="8240552">)</span><br>
<span class="lineno"></span><span class="op" id="8240554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="8240557">var</span>&nbsp;<span class="ident" id="8240561">run</span>&nbsp;<span class="op" id="8240565">=</span>&nbsp;<span class="op" id="8240567">[</span><span class="op" id="8240568">]</span><span class="keyword" id="8240569">func</span><span class="op" id="8240573">(</span><span class="op" id="8240574">*</span><span class="ident" id="8240575">Regexp</span><span class="op" id="8240581">,</span>&nbsp;<span class="op" id="8240583">*</span><span class="ident" id="8240584">Regexp</span><span class="op" id="8240590">,</span>&nbsp;<span class="builtintype" id="8240592">string</span><span class="op" id="8240598">)</span>&nbsp;<span class="op" id="8240600">(</span><span class="op" id="8240601">[</span><span class="op" id="8240602">]</span><span class="builtintype" id="8240603">int</span><span class="op" id="8240606">,</span>&nbsp;<span class="builtintype" id="8240608">string</span><span class="op" id="8240614">)</span><span class="op" id="8240615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240618">runFull</span><span class="op" id="8240625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240628">runPartial</span><span class="op" id="8240638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240641">runFullLongest</span><span class="op" id="8240655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240658">runPartialLongest</span><span class="op" id="8240675">,</span><br>
<span class="lineno">205</span><span class="op" id="8240677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240680">func</span>&nbsp;<span class="ident" id="8240685">runFull</span><span class="op" id="8240692">(</span><span class="ident" id="8240693">re</span><span class="op" id="8240695">,</span>&nbsp;<span class="ident" id="8240697">refull</span>&nbsp;<span class="op" id="8240704">*</span><span class="ident" id="8240705">Regexp</span><span class="op" id="8240711">,</span>&nbsp;<span class="ident" id="8240713">text</span>&nbsp;<span class="builtintype" id="8240718">string</span><span class="op" id="8240724">)</span>&nbsp;<span class="op" id="8240726">(</span><span class="op" id="8240727">[</span><span class="op" id="8240728">]</span><span class="builtintype" id="8240729">int</span><span class="op" id="8240732">,</span>&nbsp;<span class="builtintype" id="8240734">string</span><span class="op" id="8240740">)</span>&nbsp;<span class="op" id="8240742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240745">refull</span><span class="op" id="8240751">.</span><span class="ident" id="8240752">longest</span>&nbsp;<span class="op" id="8240760">=</span>&nbsp;<span class="builtintype" id="8240762">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240769">return</span>&nbsp;<span class="ident" id="8240776">refull</span><span class="op" id="8240782">.</span><span class="ident" id="8240783">FindStringSubmatchIndex</span><span class="op" id="8240806">(</span><span class="ident" id="8240807">text</span><span class="op" id="8240811">)</span><span class="op" id="8240812">,</span>&nbsp;<span class="string" id="8240814">&#34;[full]&#34;</span><br>
<span class="lineno">210</span><span class="op" id="8240823">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240826">func</span>&nbsp;<span class="ident" id="8240831">runPartial</span><span class="op" id="8240841">(</span><span class="ident" id="8240842">re</span><span class="op" id="8240844">,</span>&nbsp;<span class="ident" id="8240846">refull</span>&nbsp;<span class="op" id="8240853">*</span><span class="ident" id="8240854">Regexp</span><span class="op" id="8240860">,</span>&nbsp;<span class="ident" id="8240862">text</span>&nbsp;<span class="builtintype" id="8240867">string</span><span class="op" id="8240873">)</span>&nbsp;<span class="op" id="8240875">(</span><span class="op" id="8240876">[</span><span class="op" id="8240877">]</span><span class="builtintype" id="8240878">int</span><span class="op" id="8240881">,</span>&nbsp;<span class="builtintype" id="8240883">string</span><span class="op" id="8240889">)</span>&nbsp;<span class="op" id="8240891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240894">re</span><span class="op" id="8240896">.</span><span class="ident" id="8240897">longest</span>&nbsp;<span class="op" id="8240905">=</span>&nbsp;<span class="builtintype" id="8240907">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240914">return</span>&nbsp;<span class="ident" id="8240921">re</span><span class="op" id="8240923">.</span><span class="ident" id="8240924">FindStringSubmatchIndex</span><span class="op" id="8240947">(</span><span class="ident" id="8240948">text</span><span class="op" id="8240952">)</span><span class="op" id="8240953">,</span>&nbsp;<span class="string" id="8240955">&#34;&#34;</span><br>
<span class="lineno">215</span><span class="op" id="8240958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240961">func</span>&nbsp;<span class="ident" id="8240966">runFullLongest</span><span class="op" id="8240980">(</span><span class="ident" id="8240981">re</span><span class="op" id="8240983">,</span>&nbsp;<span class="ident" id="8240985">refull</span>&nbsp;<span class="op" id="8240992">*</span><span class="ident" id="8240993">Regexp</span><span class="op" id="8240999">,</span>&nbsp;<span class="ident" id="8241001">text</span>&nbsp;<span class="builtintype" id="8241006">string</span><span class="op" id="8241012">)</span>&nbsp;<span class="op" id="8241014">(</span><span class="op" id="8241015">[</span><span class="op" id="8241016">]</span><span class="builtintype" id="8241017">int</span><span class="op" id="8241020">,</span>&nbsp;<span class="builtintype" id="8241022">string</span><span class="op" id="8241028">)</span>&nbsp;<span class="op" id="8241030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241033">refull</span><span class="op" id="8241039">.</span><span class="ident" id="8241040">longest</span>&nbsp;<span class="op" id="8241048">=</span>&nbsp;<span class="builtintype" id="8241050">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241056">return</span>&nbsp;<span class="ident" id="8241063">refull</span><span class="op" id="8241069">.</span><span class="ident" id="8241070">FindStringSubmatchIndex</span><span class="op" id="8241093">(</span><span class="ident" id="8241094">text</span><span class="op" id="8241098">)</span><span class="op" id="8241099">,</span>&nbsp;<span class="string" id="8241101">&#34;[full,longest]&#34;</span><br>
<span class="lineno">220</span><span class="op" id="8241118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241121">func</span>&nbsp;<span class="ident" id="8241126">runPartialLongest</span><span class="op" id="8241143">(</span><span class="ident" id="8241144">re</span><span class="op" id="8241146">,</span>&nbsp;<span class="ident" id="8241148">refull</span>&nbsp;<span class="op" id="8241155">*</span><span class="ident" id="8241156">Regexp</span><span class="op" id="8241162">,</span>&nbsp;<span class="ident" id="8241164">text</span>&nbsp;<span class="builtintype" id="8241169">string</span><span class="op" id="8241175">)</span>&nbsp;<span class="op" id="8241177">(</span><span class="op" id="8241178">[</span><span class="op" id="8241179">]</span><span class="builtintype" id="8241180">int</span><span class="op" id="8241183">,</span>&nbsp;<span class="builtintype" id="8241185">string</span><span class="op" id="8241191">)</span>&nbsp;<span class="op" id="8241193">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241196">re</span><span class="op" id="8241198">.</span><span class="ident" id="8241199">longest</span>&nbsp;<span class="op" id="8241207">=</span>&nbsp;<span class="builtintype" id="8241209">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241215">return</span>&nbsp;<span class="ident" id="8241222">re</span><span class="op" id="8241224">.</span><span class="ident" id="8241225">FindStringSubmatchIndex</span><span class="op" id="8241248">(</span><span class="ident" id="8241249">text</span><span class="op" id="8241253">)</span><span class="op" id="8241254">,</span>&nbsp;<span class="string" id="8241256">&#34;[longest]&#34;</span><br>
<span class="lineno">225</span><span class="op" id="8241268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241271">var</span>&nbsp;<span class="ident" id="8241275">match</span>&nbsp;<span class="op" id="8241281">=</span>&nbsp;<span class="op" id="8241283">[</span><span class="op" id="8241284">]</span><span class="keyword" id="8241285">func</span><span class="op" id="8241289">(</span><span class="op" id="8241290">*</span><span class="ident" id="8241291">Regexp</span><span class="op" id="8241297">,</span>&nbsp;<span class="op" id="8241299">*</span><span class="ident" id="8241300">Regexp</span><span class="op" id="8241306">,</span>&nbsp;<span class="builtintype" id="8241308">string</span><span class="op" id="8241314">)</span>&nbsp;<span class="op" id="8241316">(</span><span class="builtintype" id="8241317">bool</span><span class="op" id="8241321">,</span>&nbsp;<span class="builtintype" id="8241323">string</span><span class="op" id="8241329">)</span><span class="op" id="8241330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241333">matchFull</span><span class="op" id="8241342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241345">matchPartial</span><span class="op" id="8241357">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241360">matchFullLongest</span><span class="op" id="8241376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241379">matchPartialLongest</span><span class="op" id="8241398">,</span><br>
<span class="lineno"></span><span class="op" id="8241400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241403">func</span>&nbsp;<span class="ident" id="8241408">matchFull</span><span class="op" id="8241417">(</span><span class="ident" id="8241418">re</span><span class="op" id="8241420">,</span>&nbsp;<span class="ident" id="8241422">refull</span>&nbsp;<span class="op" id="8241429">*</span><span class="ident" id="8241430">Regexp</span><span class="op" id="8241436">,</span>&nbsp;<span class="ident" id="8241438">text</span>&nbsp;<span class="builtintype" id="8241443">string</span><span class="op" id="8241449">)</span>&nbsp;<span class="op" id="8241451">(</span><span class="builtintype" id="8241452">bool</span><span class="op" id="8241456">,</span>&nbsp;<span class="builtintype" id="8241458">string</span><span class="op" id="8241464">)</span>&nbsp;<span class="op" id="8241466">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241469">refull</span><span class="op" id="8241475">.</span><span class="ident" id="8241476">longest</span>&nbsp;<span class="op" id="8241484">=</span>&nbsp;<span class="builtintype" id="8241486">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241493">return</span>&nbsp;<span class="ident" id="8241500">refull</span><span class="op" id="8241506">.</span><span class="ident" id="8241507">MatchString</span><span class="op" id="8241518">(</span><span class="ident" id="8241519">text</span><span class="op" id="8241523">)</span><span class="op" id="8241524">,</span>&nbsp;<span class="string" id="8241526">&#34;[full]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8241535">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241538">func</span>&nbsp;<span class="ident" id="8241543">matchPartial</span><span class="op" id="8241555">(</span><span class="ident" id="8241556">re</span><span class="op" id="8241558">,</span>&nbsp;<span class="ident" id="8241560">refull</span>&nbsp;<span class="op" id="8241567">*</span><span class="ident" id="8241568">Regexp</span><span class="op" id="8241574">,</span>&nbsp;<span class="ident" id="8241576">text</span>&nbsp;<span class="builtintype" id="8241581">string</span><span class="op" id="8241587">)</span>&nbsp;<span class="op" id="8241589">(</span><span class="builtintype" id="8241590">bool</span><span class="op" id="8241594">,</span>&nbsp;<span class="builtintype" id="8241596">string</span><span class="op" id="8241602">)</span>&nbsp;<span class="op" id="8241604">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241607">re</span><span class="op" id="8241609">.</span><span class="ident" id="8241610">longest</span>&nbsp;<span class="op" id="8241618">=</span>&nbsp;<span class="builtintype" id="8241620">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241627">return</span>&nbsp;<span class="ident" id="8241634">re</span><span class="op" id="8241636">.</span><span class="ident" id="8241637">MatchString</span><span class="op" id="8241648">(</span><span class="ident" id="8241649">text</span><span class="op" id="8241653">)</span><span class="op" id="8241654">,</span>&nbsp;<span class="string" id="8241656">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8241659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241662">func</span>&nbsp;<span class="ident" id="8241667">matchFullLongest</span><span class="op" id="8241683">(</span><span class="ident" id="8241684">re</span><span class="op" id="8241686">,</span>&nbsp;<span class="ident" id="8241688">refull</span>&nbsp;<span class="op" id="8241695">*</span><span class="ident" id="8241696">Regexp</span><span class="op" id="8241702">,</span>&nbsp;<span class="ident" id="8241704">text</span>&nbsp;<span class="builtintype" id="8241709">string</span><span class="op" id="8241715">)</span>&nbsp;<span class="op" id="8241717">(</span><span class="builtintype" id="8241718">bool</span><span class="op" id="8241722">,</span>&nbsp;<span class="builtintype" id="8241724">string</span><span class="op" id="8241730">)</span>&nbsp;<span class="op" id="8241732">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241735">refull</span><span class="op" id="8241741">.</span><span class="ident" id="8241742">longest</span>&nbsp;<span class="op" id="8241750">=</span>&nbsp;<span class="builtintype" id="8241752">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241758">return</span>&nbsp;<span class="ident" id="8241765">refull</span><span class="op" id="8241771">.</span><span class="ident" id="8241772">MatchString</span><span class="op" id="8241783">(</span><span class="ident" id="8241784">text</span><span class="op" id="8241788">)</span><span class="op" id="8241789">,</span>&nbsp;<span class="string" id="8241791">&#34;[full,longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8241808">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241811">func</span>&nbsp;<span class="ident" id="8241816">matchPartialLongest</span><span class="op" id="8241835">(</span><span class="ident" id="8241836">re</span><span class="op" id="8241838">,</span>&nbsp;<span class="ident" id="8241840">refull</span>&nbsp;<span class="op" id="8241847">*</span><span class="ident" id="8241848">Regexp</span><span class="op" id="8241854">,</span>&nbsp;<span class="ident" id="8241856">text</span>&nbsp;<span class="builtintype" id="8241861">string</span><span class="op" id="8241867">)</span>&nbsp;<span class="op" id="8241869">(</span><span class="builtintype" id="8241870">bool</span><span class="op" id="8241874">,</span>&nbsp;<span class="builtintype" id="8241876">string</span><span class="op" id="8241882">)</span>&nbsp;<span class="op" id="8241884">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241887">re</span><span class="op" id="8241889">.</span><span class="ident" id="8241890">longest</span>&nbsp;<span class="op" id="8241898">=</span>&nbsp;<span class="builtintype" id="8241900">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241906">return</span>&nbsp;<span class="ident" id="8241913">re</span><span class="op" id="8241915">.</span><span class="ident" id="8241916">MatchString</span><span class="op" id="8241927">(</span><span class="ident" id="8241928">text</span><span class="op" id="8241932">)</span><span class="op" id="8241933">,</span>&nbsp;<span class="string" id="8241935">&#34;[longest]&#34;</span><br>
<span class="lineno"></span><span class="op" id="8241947">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241950">func</span>&nbsp;<span class="ident" id="8241955">isSingleBytes</span><span class="op" id="8241968">(</span><span class="ident" id="8241969">s</span>&nbsp;<span class="builtintype" id="8241971">string</span><span class="op" id="8241977">)</span>&nbsp;<span class="builtintype" id="8241979">bool</span>&nbsp;<span class="op" id="8241984">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241987">for</span>&nbsp;<span class="ident" id="8241991">_</span><span class="op" id="8241992">,</span>&nbsp;<span class="ident" id="8241994">c</span>&nbsp;<span class="op" id="8241996">:=</span>&nbsp;<span class="keyword" id="8241999">range</span>&nbsp;<span class="ident" id="8242005">s</span>&nbsp;<span class="op" id="8242007">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242011">if</span>&nbsp;<span class="ident" id="8242014">c</span>&nbsp;<span class="op" id="8242016">&gt;=</span>&nbsp;<span class="ident" id="8242019">utf8</span><span class="op" id="8242023">.</span><span class="ident" id="8242024">RuneSelf</span>&nbsp;<span class="op" id="8242033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242038">return</span>&nbsp;<span class="builtintype" id="8242045">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242056">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242059">return</span>&nbsp;<span class="builtintype" id="8242066">true</span><br>
<span class="lineno"></span><span class="op" id="8242071">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8242074">func</span>&nbsp;<span class="ident" id="8242079">tryCompile</span><span class="op" id="8242089">(</span><span class="ident" id="8242090">s</span>&nbsp;<span class="builtintype" id="8242092">string</span><span class="op" id="8242098">)</span>&nbsp;<span class="op" id="8242100">(</span><span class="ident" id="8242101">re</span>&nbsp;<span class="op" id="8242104">*</span><span class="ident" id="8242105">Regexp</span><span class="op" id="8242111">,</span>&nbsp;<span class="ident" id="8242113">err</span>&nbsp;<span class="builtintype" id="8242117">error</span><span class="op" id="8242122">)</span>&nbsp;<span class="op" id="8242124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242127">//&nbsp;Protect&nbsp;against&nbsp;panic&nbsp;during&nbsp;Compile.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242169">defer</span>&nbsp;<span class="keyword" id="8242175">func</span><span class="op" id="8242179">(</span><span class="op" id="8242180">)</span>&nbsp;<span class="op" id="8242182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242186">if</span>&nbsp;<span class="ident" id="8242189">r</span>&nbsp;<span class="op" id="8242191">:=</span>&nbsp;<span class="builtinfunc" id="8242194">recover</span><span class="op" id="8242201">(</span><span class="op" id="8242202">)</span><span class="op" id="8242203">;</span>&nbsp;<span class="ident" id="8242205">r</span>&nbsp;<span class="op" id="8242207">!=</span>&nbsp;<span class="ident" id="8242210">nil</span>&nbsp;<span class="op" id="8242214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242219">err</span>&nbsp;<span class="op" id="8242223">=</span>&nbsp;<span class="ident" id="8242225">fmt</span><span class="op" id="8242228">.</span><span class="ident" id="8242229">Errorf</span><span class="op" id="8242235">(</span><span class="string" id="8242236">&#34;panic:&nbsp;%v&#34;</span><span class="op" id="8242247">,</span>&nbsp;<span class="ident" id="8242249">r</span><span class="op" id="8242250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242257">}</span><span class="op" id="8242258">(</span><span class="op" id="8242259">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242262">return</span>&nbsp;<span class="ident" id="8242269">Compile</span><span class="op" id="8242276">(</span><span class="ident" id="8242277">s</span><span class="op" id="8242278">)</span><br>
<span class="lineno"></span><span class="op" id="8242280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8242283">func</span>&nbsp;<span class="ident" id="8242288">parseResult</span><span class="op" id="8242299">(</span><span class="ident" id="8242300">t</span>&nbsp;<span class="op" id="8242302">*</span><span class="ident" id="8242303">testing</span><span class="op" id="8242310">.</span><span class="ident" id="8242311">T</span><span class="op" id="8242312">,</span>&nbsp;<span class="ident" id="8242314">file</span>&nbsp;<span class="builtintype" id="8242319">string</span><span class="op" id="8242325">,</span>&nbsp;<span class="ident" id="8242327">lineno</span>&nbsp;<span class="builtintype" id="8242334">int</span><span class="op" id="8242337">,</span>&nbsp;<span class="ident" id="8242339">res</span>&nbsp;<span class="builtintype" id="8242343">string</span><span class="op" id="8242349">)</span>&nbsp;<span class="op" id="8242351">[</span><span class="op" id="8242352">]</span><span class="builtintype" id="8242353">int</span>&nbsp;<span class="op" id="8242357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242360">//&nbsp;A&nbsp;single&nbsp;-&nbsp;indicates&nbsp;no&nbsp;match.</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242395">if</span>&nbsp;<span class="ident" id="8242398">res</span>&nbsp;<span class="op" id="8242402">==</span>&nbsp;<span class="string" id="8242405">&#34;-&#34;</span>&nbsp;<span class="op" id="8242409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242413">return</span>&nbsp;<span class="ident" id="8242420">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242428">//&nbsp;Otherwise,&nbsp;a&nbsp;space-separated&nbsp;list&nbsp;of&nbsp;pairs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242476">n</span>&nbsp;<span class="op" id="8242478">:=</span>&nbsp;<span class="num" id="8242481">1</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242484">for</span>&nbsp;<span class="ident" id="8242488">j</span>&nbsp;<span class="op" id="8242490">:=</span>&nbsp;<span class="num" id="8242493">0</span><span class="op" id="8242494">;</span>&nbsp;<span class="ident" id="8242496">j</span>&nbsp;<span class="op" id="8242498">&lt;</span>&nbsp;<span class="builtinfunc" id="8242500">len</span><span class="op" id="8242503">(</span><span class="ident" id="8242504">res</span><span class="op" id="8242507">)</span><span class="op" id="8242508">;</span>&nbsp;<span class="ident" id="8242510">j</span><span class="op" id="8242511">++</span>&nbsp;<span class="op" id="8242514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242518">if</span>&nbsp;<span class="ident" id="8242521">res</span><span class="op" id="8242524">[</span><span class="ident" id="8242525">j</span><span class="op" id="8242526">]</span>&nbsp;<span class="op" id="8242528">==</span>&nbsp;<span class="string" id="8242531">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8242535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242540">n</span><span class="op" id="8242541">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242549">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242552">out</span>&nbsp;<span class="op" id="8242556">:=</span>&nbsp;<span class="builtinfunc" id="8242559">make</span><span class="op" id="8242563">(</span><span class="op" id="8242564">[</span><span class="op" id="8242565">]</span><span class="builtintype" id="8242566">int</span><span class="op" id="8242569">,</span>&nbsp;<span class="num" id="8242571">2</span><span class="op" id="8242572">*</span><span class="ident" id="8242573">n</span><span class="op" id="8242574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242577">i</span>&nbsp;<span class="op" id="8242579">:=</span>&nbsp;<span class="num" id="8242582">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242585">n</span>&nbsp;<span class="op" id="8242587">=</span>&nbsp;<span class="num" id="8242589">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242592">for</span>&nbsp;<span class="ident" id="8242596">j</span>&nbsp;<span class="op" id="8242598">:=</span>&nbsp;<span class="num" id="8242601">0</span><span class="op" id="8242602">;</span>&nbsp;<span class="ident" id="8242604">j</span>&nbsp;<span class="op" id="8242606">&lt;=</span>&nbsp;<span class="builtinfunc" id="8242609">len</span><span class="op" id="8242612">(</span><span class="ident" id="8242613">res</span><span class="op" id="8242616">)</span><span class="op" id="8242617">;</span>&nbsp;<span class="ident" id="8242619">j</span><span class="op" id="8242620">++</span>&nbsp;<span class="op" id="8242623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242627">if</span>&nbsp;<span class="ident" id="8242630">j</span>&nbsp;<span class="op" id="8242632">==</span>&nbsp;<span class="builtinfunc" id="8242635">len</span><span class="op" id="8242638">(</span><span class="ident" id="8242639">res</span><span class="op" id="8242642">)</span>&nbsp;<span class="op" id="8242644">||</span>&nbsp;<span class="ident" id="8242647">res</span><span class="op" id="8242650">[</span><span class="ident" id="8242651">j</span><span class="op" id="8242652">]</span>&nbsp;<span class="op" id="8242654">==</span>&nbsp;<span class="string" id="8242657">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8242661">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8242666">//&nbsp;Process&nbsp;a&nbsp;single&nbsp;pair.&nbsp;&nbsp;-&nbsp;means&nbsp;no&nbsp;submatch.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242717">pair</span>&nbsp;<span class="op" id="8242722">:=</span>&nbsp;<span class="ident" id="8242725">res</span><span class="op" id="8242728">[</span><span class="ident" id="8242729">i</span><span class="op" id="8242730">:</span><span class="ident" id="8242731">j</span><span class="op" id="8242732">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242737">if</span>&nbsp;<span class="ident" id="8242740">pair</span>&nbsp;<span class="op" id="8242745">==</span>&nbsp;<span class="string" id="8242748">&#34;-&#34;</span>&nbsp;<span class="op" id="8242752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242758">out</span><span class="op" id="8242761">[</span><span class="ident" id="8242762">n</span><span class="op" id="8242763">]</span>&nbsp;<span class="op" id="8242765">=</span>&nbsp;<span class="op" id="8242767">-</span><span class="num" id="8242768">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242774">out</span><span class="op" id="8242777">[</span><span class="ident" id="8242778">n</span><span class="op" id="8242779">+</span><span class="num" id="8242780">1</span><span class="op" id="8242781">]</span>&nbsp;<span class="op" id="8242783">=</span>&nbsp;<span class="op" id="8242785">-</span><span class="num" id="8242786">1</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242791">}</span>&nbsp;<span class="keyword" id="8242793">else</span>&nbsp;<span class="op" id="8242798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242804">k</span>&nbsp;<span class="op" id="8242806">:=</span>&nbsp;<span class="ident" id="8242809">strings</span><span class="op" id="8242816">.</span><span class="ident" id="8242817">Index</span><span class="op" id="8242822">(</span><span class="ident" id="8242823">pair</span><span class="op" id="8242827">,</span>&nbsp;<span class="string" id="8242829">&#34;-&#34;</span><span class="op" id="8242832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242838">if</span>&nbsp;<span class="ident" id="8242841">k</span>&nbsp;<span class="op" id="8242843">&lt;</span>&nbsp;<span class="num" id="8242845">0</span>&nbsp;<span class="op" id="8242847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242854">t</span><span class="op" id="8242855">.</span><span class="ident" id="8242856">Fatalf</span><span class="op" id="8242862">(</span><span class="string" id="8242863">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="8242887">,</span>&nbsp;<span class="ident" id="8242889">file</span><span class="op" id="8242893">,</span>&nbsp;<span class="ident" id="8242895">lineno</span><span class="op" id="8242901">,</span>&nbsp;<span class="ident" id="8242903">pair</span><span class="op" id="8242907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8242913">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242919">lo</span><span class="op" id="8242921">,</span>&nbsp;<span class="ident" id="8242923">err1</span>&nbsp;<span class="op" id="8242928">:=</span>&nbsp;<span class="ident" id="8242931">strconv</span><span class="op" id="8242938">.</span><span class="ident" id="8242939">Atoi</span><span class="op" id="8242943">(</span><span class="ident" id="8242944">pair</span><span class="op" id="8242948">[</span><span class="op" id="8242949">:</span><span class="ident" id="8242950">k</span><span class="op" id="8242951">]</span><span class="op" id="8242952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8242958">hi</span><span class="op" id="8242960">,</span>&nbsp;<span class="ident" id="8242962">err2</span>&nbsp;<span class="op" id="8242967">:=</span>&nbsp;<span class="ident" id="8242970">strconv</span><span class="op" id="8242977">.</span><span class="ident" id="8242978">Atoi</span><span class="op" id="8242982">(</span><span class="ident" id="8242983">pair</span><span class="op" id="8242987">[</span><span class="ident" id="8242988">k</span><span class="op" id="8242989">+</span><span class="num" id="8242990">1</span><span class="op" id="8242991">:</span><span class="op" id="8242992">]</span><span class="op" id="8242993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8242999">if</span>&nbsp;<span class="ident" id="8243002">err1</span>&nbsp;<span class="op" id="8243007">!=</span>&nbsp;<span class="ident" id="8243010">nil</span>&nbsp;<span class="op" id="8243014">||</span>&nbsp;<span class="ident" id="8243017">err2</span>&nbsp;<span class="op" id="8243022">!=</span>&nbsp;<span class="ident" id="8243025">nil</span>&nbsp;<span class="op" id="8243029">||</span>&nbsp;<span class="ident" id="8243032">lo</span>&nbsp;<span class="op" id="8243035">&gt;</span>&nbsp;<span class="ident" id="8243037">hi</span>&nbsp;<span class="op" id="8243040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243047">t</span><span class="op" id="8243048">.</span><span class="ident" id="8243049">Fatalf</span><span class="op" id="8243055">(</span><span class="string" id="8243056">&#34;%s:%d:&nbsp;invalid&nbsp;pair&nbsp;%s&#34;</span><span class="op" id="8243080">,</span>&nbsp;<span class="ident" id="8243082">file</span><span class="op" id="8243086">,</span>&nbsp;<span class="ident" id="8243088">lineno</span><span class="op" id="8243094">,</span>&nbsp;<span class="ident" id="8243096">pair</span><span class="op" id="8243100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243106">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243112">out</span><span class="op" id="8243115">[</span><span class="ident" id="8243116">n</span><span class="op" id="8243117">]</span>&nbsp;<span class="op" id="8243119">=</span>&nbsp;<span class="ident" id="8243121">lo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243128">out</span><span class="op" id="8243131">[</span><span class="ident" id="8243132">n</span><span class="op" id="8243133">+</span><span class="num" id="8243134">1</span><span class="op" id="8243135">]</span>&nbsp;<span class="op" id="8243137">=</span>&nbsp;<span class="ident" id="8243139">hi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243145">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243150">n</span>&nbsp;<span class="op" id="8243152">+=</span>&nbsp;<span class="num" id="8243155">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243160">i</span>&nbsp;<span class="op" id="8243162">=</span>&nbsp;<span class="ident" id="8243164">j</span>&nbsp;<span class="op" id="8243166">+</span>&nbsp;<span class="num" id="8243168">1</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243178">return</span>&nbsp;<span class="ident" id="8243185">out</span><br>
<span class="lineno"></span><span class="op" id="8243189">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="8243192">func</span>&nbsp;<span class="ident" id="8243197">same</span><span class="op" id="8243201">(</span><span class="ident" id="8243202">x</span><span class="op" id="8243203">,</span>&nbsp;<span class="ident" id="8243205">y</span>&nbsp;<span class="op" id="8243207">[</span><span class="op" id="8243208">]</span><span class="builtintype" id="8243209">int</span><span class="op" id="8243212">)</span>&nbsp;<span class="builtintype" id="8243214">bool</span>&nbsp;<span class="op" id="8243219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243222">if</span>&nbsp;<span class="builtinfunc" id="8243225">len</span><span class="op" id="8243228">(</span><span class="ident" id="8243229">x</span><span class="op" id="8243230">)</span>&nbsp;<span class="op" id="8243232">!=</span>&nbsp;<span class="builtinfunc" id="8243235">len</span><span class="op" id="8243238">(</span><span class="ident" id="8243239">y</span><span class="op" id="8243240">)</span>&nbsp;<span class="op" id="8243242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243246">return</span>&nbsp;<span class="builtintype" id="8243253">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243263">for</span>&nbsp;<span class="ident" id="8243267">i</span><span class="op" id="8243268">,</span>&nbsp;<span class="ident" id="8243270">xi</span>&nbsp;<span class="op" id="8243273">:=</span>&nbsp;<span class="keyword" id="8243276">range</span>&nbsp;<span class="ident" id="8243282">x</span>&nbsp;<span class="op" id="8243284">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243288">if</span>&nbsp;<span class="ident" id="8243291">xi</span>&nbsp;<span class="op" id="8243294">!=</span>&nbsp;<span class="ident" id="8243297">y</span><span class="op" id="8243298">[</span><span class="ident" id="8243299">i</span><span class="op" id="8243300">]</span>&nbsp;<span class="op" id="8243302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243307">return</span>&nbsp;<span class="builtintype" id="8243314">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243328">return</span>&nbsp;<span class="builtintype" id="8243335">true</span><br>
<span class="lineno">325</span><span class="op" id="8243340">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8243343">//&nbsp;TestFowler&nbsp;runs&nbsp;this&nbsp;package&#39;s&nbsp;regexp&nbsp;API&nbsp;against&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="8243400">//&nbsp;POSIX&nbsp;regular&nbsp;expression&nbsp;tests&nbsp;collected&nbsp;by&nbsp;Glenn&nbsp;Fowler</span><br>
<span class="lineno"></span><span class="comment" id="8243460">//&nbsp;at&nbsp;http://www2.research.att.com/~gsf/testregex/.</span><br>
<span class="lineno">330</span><span class="keyword" id="8243512">func</span>&nbsp;<span class="ident" id="8243517">TestFowler</span><span class="op" id="8243527">(</span><span class="ident" id="8243528">t</span>&nbsp;<span class="op" id="8243530">*</span><span class="ident" id="8243531">testing</span><span class="op" id="8243538">.</span><span class="ident" id="8243539">T</span><span class="op" id="8243540">)</span>&nbsp;<span class="op" id="8243542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243545">files</span><span class="op" id="8243550">,</span>&nbsp;<span class="ident" id="8243552">err</span>&nbsp;<span class="op" id="8243556">:=</span>&nbsp;<span class="ident" id="8243559">filepath</span><span class="op" id="8243567">.</span><span class="ident" id="8243568">Glob</span><span class="op" id="8243572">(</span><span class="string" id="8243573">&#34;testdata/*.dat&#34;</span><span class="op" id="8243589">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243592">if</span>&nbsp;<span class="ident" id="8243595">err</span>&nbsp;<span class="op" id="8243599">!=</span>&nbsp;<span class="ident" id="8243602">nil</span>&nbsp;<span class="op" id="8243606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243610">t</span><span class="op" id="8243611">.</span><span class="ident" id="8243612">Fatal</span><span class="op" id="8243617">(</span><span class="ident" id="8243618">err</span><span class="op" id="8243621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243624">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243627">for</span>&nbsp;<span class="ident" id="8243631">_</span><span class="op" id="8243632">,</span>&nbsp;<span class="ident" id="8243634">file</span>&nbsp;<span class="op" id="8243639">:=</span>&nbsp;<span class="keyword" id="8243642">range</span>&nbsp;<span class="ident" id="8243648">files</span>&nbsp;<span class="op" id="8243654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243658">t</span><span class="op" id="8243659">.</span><span class="ident" id="8243660">Log</span><span class="op" id="8243663">(</span><span class="ident" id="8243664">file</span><span class="op" id="8243668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243672">testFowler</span><span class="op" id="8243682">(</span><span class="ident" id="8243683">t</span><span class="op" id="8243684">,</span>&nbsp;<span class="ident" id="8243686">file</span><span class="op" id="8243690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243693">}</span><br>
<span class="lineno"></span><span class="op" id="8243695">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="8243698">var</span>&nbsp;<span class="ident" id="8243702">notab</span>&nbsp;<span class="op" id="8243708">=</span>&nbsp;<span class="ident" id="8243710">MustCompilePOSIX</span><span class="op" id="8243726">(</span><span class="string" id="8243727">`[^\t]+`</span><span class="op" id="8243735">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8243738">func</span>&nbsp;<span class="ident" id="8243743">testFowler</span><span class="op" id="8243753">(</span><span class="ident" id="8243754">t</span>&nbsp;<span class="op" id="8243756">*</span><span class="ident" id="8243757">testing</span><span class="op" id="8243764">.</span><span class="ident" id="8243765">T</span><span class="op" id="8243766">,</span>&nbsp;<span class="ident" id="8243768">file</span>&nbsp;<span class="builtintype" id="8243773">string</span><span class="op" id="8243779">)</span>&nbsp;<span class="op" id="8243781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243784">f</span><span class="op" id="8243785">,</span>&nbsp;<span class="ident" id="8243787">err</span>&nbsp;<span class="op" id="8243791">:=</span>&nbsp;<span class="ident" id="8243794">os</span><span class="op" id="8243796">.</span><span class="ident" id="8243797">Open</span><span class="op" id="8243801">(</span><span class="ident" id="8243802">file</span><span class="op" id="8243806">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243809">if</span>&nbsp;<span class="ident" id="8243812">err</span>&nbsp;<span class="op" id="8243816">!=</span>&nbsp;<span class="ident" id="8243819">nil</span>&nbsp;<span class="op" id="8243823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243827">t</span><span class="op" id="8243828">.</span><span class="ident" id="8243829">Error</span><span class="op" id="8243834">(</span><span class="ident" id="8243835">err</span><span class="op" id="8243838">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243842">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8243850">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243853">defer</span>&nbsp;<span class="ident" id="8243859">f</span><span class="op" id="8243860">.</span><span class="ident" id="8243861">Close</span><span class="op" id="8243866">(</span><span class="op" id="8243867">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243870">b</span>&nbsp;<span class="op" id="8243872">:=</span>&nbsp;<span class="ident" id="8243875">bufio</span><span class="op" id="8243880">.</span><span class="ident" id="8243881">NewReader</span><span class="op" id="8243890">(</span><span class="ident" id="8243891">f</span><span class="op" id="8243892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243895">lineno</span>&nbsp;<span class="op" id="8243902">:=</span>&nbsp;<span class="num" id="8243905">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243908">lastRegexp</span>&nbsp;<span class="op" id="8243919">:=</span>&nbsp;<span class="string" id="8243922">&#34;&#34;</span><br>
<span class="lineno"></span><span class="ident" id="8243925">Reading</span><span class="op" id="8243932">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243935">for</span>&nbsp;<span class="op" id="8243939">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243943">lineno</span><span class="op" id="8243949">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8243954">line</span><span class="op" id="8243958">,</span>&nbsp;<span class="ident" id="8243960">err</span>&nbsp;<span class="op" id="8243964">:=</span>&nbsp;<span class="ident" id="8243967">b</span><span class="op" id="8243968">.</span><span class="ident" id="8243969">ReadString</span><span class="op" id="8243979">(</span><span class="string" id="8243980">&#39;\n&#39;</span><span class="op" id="8243984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8243988">if</span>&nbsp;<span class="ident" id="8243991">err</span>&nbsp;<span class="op" id="8243995">!=</span>&nbsp;<span class="ident" id="8243998">nil</span>&nbsp;<span class="op" id="8244002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244007">if</span>&nbsp;<span class="ident" id="8244010">err</span>&nbsp;<span class="op" id="8244014">!=</span>&nbsp;<span class="ident" id="8244017">io</span><span class="op" id="8244019">.</span><span class="ident" id="8244020">EOF</span>&nbsp;<span class="op" id="8244024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244030">t</span><span class="op" id="8244031">.</span><span class="ident" id="8244032">Errorf</span><span class="op" id="8244038">(</span><span class="string" id="8244039">&#34;%s:%d:&nbsp;%v&#34;</span><span class="op" id="8244050">,</span>&nbsp;<span class="ident" id="8244052">file</span><span class="op" id="8244056">,</span>&nbsp;<span class="ident" id="8244058">lineno</span><span class="op" id="8244064">,</span>&nbsp;<span class="ident" id="8244066">err</span><span class="op" id="8244069">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244079">break</span>&nbsp;<span class="ident" id="8244085">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244100">//&nbsp;http://www2.research.att.com/~gsf/man/man1/testregex.html</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244163">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244168">//&nbsp;INPUT&nbsp;FORMAT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244186">//&nbsp;&nbsp;&nbsp;Input&nbsp;lines&nbsp;may&nbsp;be&nbsp;blank,&nbsp;a&nbsp;comment&nbsp;beginning&nbsp;with&nbsp;#,&nbsp;or&nbsp;a&nbsp;test</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244257">//&nbsp;&nbsp;&nbsp;specification.&nbsp;A&nbsp;specification&nbsp;is&nbsp;five&nbsp;fields&nbsp;separated&nbsp;by&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244327">//&nbsp;&nbsp;&nbsp;or&nbsp;more&nbsp;tabs.&nbsp;NULL&nbsp;denotes&nbsp;the&nbsp;empty&nbsp;string&nbsp;and&nbsp;NIL&nbsp;denotes&nbsp;the</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244398">//&nbsp;&nbsp;&nbsp;0&nbsp;pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244416">if</span>&nbsp;<span class="ident" id="8244419">line</span><span class="op" id="8244423">[</span><span class="num" id="8244424">0</span><span class="op" id="8244425">]</span>&nbsp;<span class="op" id="8244427">==</span>&nbsp;<span class="string" id="8244430">&#39;#&#39;</span>&nbsp;<span class="op" id="8244434">||</span>&nbsp;<span class="ident" id="8244437">line</span><span class="op" id="8244441">[</span><span class="num" id="8244442">0</span><span class="op" id="8244443">]</span>&nbsp;<span class="op" id="8244445">==</span>&nbsp;<span class="string" id="8244448">&#39;\n&#39;</span>&nbsp;<span class="op" id="8244453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244458">continue</span>&nbsp;<span class="ident" id="8244467">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244481">line</span>&nbsp;<span class="op" id="8244486">=</span>&nbsp;<span class="ident" id="8244488">line</span><span class="op" id="8244492">[</span><span class="op" id="8244493">:</span><span class="builtinfunc" id="8244494">len</span><span class="op" id="8244497">(</span><span class="ident" id="8244498">line</span><span class="op" id="8244502">)</span><span class="op" id="8244503">-</span><span class="num" id="8244504">1</span><span class="op" id="8244505">]</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244509">field</span>&nbsp;<span class="op" id="8244515">:=</span>&nbsp;<span class="ident" id="8244518">notab</span><span class="op" id="8244523">.</span><span class="ident" id="8244524">FindAllString</span><span class="op" id="8244537">(</span><span class="ident" id="8244538">line</span><span class="op" id="8244542">,</span>&nbsp;<span class="op" id="8244544">-</span><span class="num" id="8244545">1</span><span class="op" id="8244546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244550">for</span>&nbsp;<span class="ident" id="8244554">i</span><span class="op" id="8244555">,</span>&nbsp;<span class="ident" id="8244557">f</span>&nbsp;<span class="op" id="8244559">:=</span>&nbsp;<span class="keyword" id="8244562">range</span>&nbsp;<span class="ident" id="8244568">field</span>&nbsp;<span class="op" id="8244574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244579">if</span>&nbsp;<span class="ident" id="8244582">f</span>&nbsp;<span class="op" id="8244584">==</span>&nbsp;<span class="string" id="8244587">&#34;NULL&#34;</span>&nbsp;<span class="op" id="8244594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244600">field</span><span class="op" id="8244605">[</span><span class="ident" id="8244606">i</span><span class="op" id="8244607">]</span>&nbsp;<span class="op" id="8244609">=</span>&nbsp;<span class="string" id="8244611">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244617">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244622">if</span>&nbsp;<span class="ident" id="8244625">f</span>&nbsp;<span class="op" id="8244627">==</span>&nbsp;<span class="string" id="8244630">&#34;NIL&#34;</span>&nbsp;<span class="op" id="8244636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244642">t</span><span class="op" id="8244643">.</span><span class="ident" id="8244644">Logf</span><span class="op" id="8244648">(</span><span class="string" id="8244649">&#34;%s:%d:&nbsp;skip:&nbsp;%s&#34;</span><span class="op" id="8244666">,</span>&nbsp;<span class="ident" id="8244668">file</span><span class="op" id="8244672">,</span>&nbsp;<span class="ident" id="8244674">lineno</span><span class="op" id="8244680">,</span>&nbsp;<span class="ident" id="8244682">line</span><span class="op" id="8244686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244692">continue</span>&nbsp;<span class="ident" id="8244701">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244716">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244720">if</span>&nbsp;<span class="builtinfunc" id="8244723">len</span><span class="op" id="8244726">(</span><span class="ident" id="8244727">field</span><span class="op" id="8244732">)</span>&nbsp;<span class="op" id="8244734">==</span>&nbsp;<span class="num" id="8244737">0</span>&nbsp;<span class="op" id="8244739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244744">continue</span>&nbsp;<span class="ident" id="8244753">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244768">//&nbsp;&nbsp;&nbsp;Field&nbsp;1:&nbsp;the&nbsp;regex(3)&nbsp;flags&nbsp;to&nbsp;apply,&nbsp;one&nbsp;character&nbsp;per&nbsp;REG_feature</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244843">//&nbsp;&nbsp;&nbsp;flag.&nbsp;The&nbsp;test&nbsp;is&nbsp;skipped&nbsp;if&nbsp;REG_feature&nbsp;is&nbsp;not&nbsp;supported&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244915">//&nbsp;&nbsp;&nbsp;implementation.&nbsp;If&nbsp;the&nbsp;first&nbsp;character&nbsp;is&nbsp;not&nbsp;[BEASKLP]&nbsp;then&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8244987">//&nbsp;&nbsp;&nbsp;specification&nbsp;is&nbsp;a&nbsp;global&nbsp;control&nbsp;line.&nbsp;One&nbsp;or&nbsp;more&nbsp;of&nbsp;[BEASKLP]&nbsp;may&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245066">//&nbsp;&nbsp;&nbsp;specified;&nbsp;the&nbsp;test&nbsp;will&nbsp;be&nbsp;repeated&nbsp;for&nbsp;each&nbsp;mode.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245125">//</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245130">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbspbasic&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspBRE&nbsp;&nbsp;&nbsp;&nbsp(grep,&nbsp;ed,&nbsp;sed)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245170">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;E&nbsp;&nbsp;&nbsp;&nbsp;&nbspREG_EXTENDED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspERE&nbsp;&nbsp;&nbsp;&nbsp(egrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245208">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbspREG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspARE&nbsp;&nbsp;&nbsp;&nbsp(egrep&nbsp;with&nbsp;negation)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245260">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;&nbsp;&nbspREG_SHELL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspSRE&nbsp;&nbsp;&nbsp;&nbsp(sh&nbsp;glob)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245296">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K&nbsp;&nbsp;&nbsp;&nbspREG_SHELL|REG_AUGMENTED&nbsp;&nbsp;&nbsp;&nbspKRE&nbsp;&nbsp;&nbsp;&nbsp(ksh&nbsp;glob)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245346">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L&nbsp;&nbsp;&nbsp;&nbspREG_LITERAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspLRE&nbsp;&nbsp;&nbsp;&nbsp(fgrep)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245382">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245387">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbspREG_LEFT|REG_RIGHT&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245432">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbspREG_NOTBOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplhs&nbsp;does&nbsp;not&nbsp;match&nbsp;^</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245476">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbspREG_COMMENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;space&nbsp;and&nbsp;#...\n</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245524">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_DOT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;leading&nbsp;.&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245575">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e&nbsp;&nbsp;&nbsp;&nbspREG_NOTEOL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsprhs&nbsp;does&nbsp;not&nbsp;match&nbsp;$</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245619">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&nbsp;&nbsp;&nbsp;&nbspREG_MULTIPLE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;\n&nbsp;separated&nbsp;patterns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245675">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;&nbsp;&nbsp;&nbspFNM_LEADING_DIR&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsptestfnmatch&nbsp;only&nbsp;--&nbsp;match&nbsp;until&nbsp;/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245737">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbspREG_MULTIREF&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspmultiple&nbsp;digit&nbsp;backref</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245785">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbspREG_ICASE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspignore&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245819">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j&nbsp;&nbsp;&nbsp;&nbspREG_SPAN&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp.&nbsp;matches&nbsp;\n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245853">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k&nbsp;&nbsp;&nbsp;&nbspREG_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;to&nbsp;ecape&nbsp;[...]&nbsp;delimiter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245903">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245938">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m&nbsp;&nbsp;&nbsp;&nbspREG_MINIMAL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspminimal&nbsp;match</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8245976">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbspREG_NEWLINE&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;\n&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246018">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbspREG_ENCLOSED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp(|&amp;)&nbsp;magic&nbsp;inside&nbsp;[@|&amp;](...)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246072">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_PATH&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspexplicit&nbsp;/&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246116">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;q&nbsp;&nbsp;&nbsp;&nbspREG_DELIMITED&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspdelimited&nbsp;pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246160">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbspREG_RIGHT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspimplicit&nbsp;...$</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246196">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbspREG_SHELL_ESCAPED&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;not&nbsp;special</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246239">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbspREG_MUSTDELIM&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspall&nbsp;delimiters&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246298">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbspstandard&nbsp;unspecified&nbsp;behavior&nbsp;--&nbsp;errors&nbsp;not&nbsp;counted</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246361">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbspREG_CLASS_ESCAPE&nbsp;&nbsp;&nbsp;&nbsp\&nbsp;special&nbsp;inside&nbsp;[...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246412">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbspREG_NOSUB&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspno&nbsp;subexpression&nbsp;match&nbsp;array</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246463">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;&nbsp;&nbspREG_LENIENT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsplet&nbsp;some&nbsp;errors&nbsp;slide</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246509">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;y&nbsp;&nbsp;&nbsp;&nbspREG_LEFT&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspregexec()&nbsp;implicit&nbsp;^...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246554">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;z&nbsp;&nbsp;&nbsp;&nbspREG_NULL&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspNULL&nbsp;subexpressions&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246598">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expand&nbsp;C&nbsp;\c&nbsp;escapes&nbsp;in&nbsp;fields&nbsp;2&nbsp;and&nbsp;3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246671">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;2&nbsp;is&nbsp;a&nbsp;regsubcomp()&nbsp;expression</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246743">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;is&nbsp;a&nbsp;regdecomp()&nbsp;expression</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246814">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246819">//&nbsp;&nbsp;&nbsp;Field&nbsp;1&nbsp;control&nbsp;lines:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246849">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246854">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspset&nbsp;LC_COLLATE&nbsp;and&nbsp;LC_CTYPE&nbsp;to&nbsp;locale&nbsp;in&nbsp;field&nbsp;2</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246915">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246920">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;passed&nbsp;and&nbsp;!=&nbsp;EXPECTED,&nbsp;silent&nbsp;otherwise</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8246998">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;and&nbsp;previous&nbsp;passed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247063">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;5&nbsp;if&nbsp;current&nbsp;passed&nbsp;and&nbsp;previous&nbsp;failed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247135">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;&nbsp;...&nbsp;&nbsp;&nbsp;&nbspoutput&nbsp;field&nbsp;2&nbsp;if&nbsp;previous&nbsp;failed</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247184">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{test&nbsp;...&nbsp;&nbsp;&nbsp;&nbspskip&nbsp;if&nbsp;failed&nbsp;until&nbsp;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247226">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspend&nbsp;of&nbsp;skip</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247250">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247255">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;comment&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247305">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:comment:test&nbsp;&nbsp;&nbsp;&nbsp:comment:&nbsp;ignored</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247346">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;N[OTE]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment&nbsp;copied&nbsp;as&nbsp;output&nbsp;NOTE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247400">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T[EST]&nbsp;comment&nbsp;&nbsp;&nbsp;&nbspcomment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247432">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247437">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspuse&nbsp;number&nbsp;for&nbsp;nmatch&nbsp;(20&nbsp;by&nbsp;default)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247492">flag</span>&nbsp;<span class="op" id="8247497">:=</span>&nbsp;<span class="ident" id="8247500">field</span><span class="op" id="8247505">[</span><span class="num" id="8247506">0</span><span class="op" id="8247507">]</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247511">switch</span>&nbsp;<span class="ident" id="8247518">flag</span><span class="op" id="8247522">[</span><span class="num" id="8247523">0</span><span class="op" id="8247524">]</span>&nbsp;<span class="op" id="8247526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247530">case</span>&nbsp;<span class="string" id="8247535">&#39;?&#39;</span><span class="op" id="8247538">,</span>&nbsp;<span class="string" id="8247540">&#39;&amp;&#39;</span><span class="op" id="8247543">,</span>&nbsp;<span class="string" id="8247545">&#39;|&#39;</span><span class="op" id="8247548">,</span>&nbsp;<span class="string" id="8247550">&#39;;&#39;</span><span class="op" id="8247553">,</span>&nbsp;<span class="string" id="8247555">&#39;{&#39;</span><span class="op" id="8247558">,</span>&nbsp;<span class="string" id="8247560">&#39;}&#39;</span><span class="op" id="8247563">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247568">//&nbsp;Ignore&nbsp;all&nbsp;the&nbsp;control&nbsp;operators.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247608">//&nbsp;Just&nbsp;run&nbsp;everything.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247635">flag</span>&nbsp;<span class="op" id="8247640">=</span>&nbsp;<span class="ident" id="8247642">flag</span><span class="op" id="8247646">[</span><span class="num" id="8247647">1</span><span class="op" id="8247648">:</span><span class="op" id="8247649">]</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247654">if</span>&nbsp;<span class="ident" id="8247657">flag</span>&nbsp;<span class="op" id="8247662">==</span>&nbsp;<span class="string" id="8247665">&#34;&#34;</span>&nbsp;<span class="op" id="8247668">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247674">continue</span>&nbsp;<span class="ident" id="8247683">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247698">case</span>&nbsp;<span class="string" id="8247703">&#39;:&#39;</span><span class="op" id="8247706">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247711">i</span>&nbsp;<span class="op" id="8247713">:=</span>&nbsp;<span class="ident" id="8247716">strings</span><span class="op" id="8247723">.</span><span class="ident" id="8247724">Index</span><span class="op" id="8247729">(</span><span class="ident" id="8247730">flag</span><span class="op" id="8247734">[</span><span class="num" id="8247735">1</span><span class="op" id="8247736">:</span><span class="op" id="8247737">]</span><span class="op" id="8247738">,</span>&nbsp;<span class="string" id="8247740">&#34;:&#34;</span><span class="op" id="8247743">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247748">if</span>&nbsp;<span class="ident" id="8247751">i</span>&nbsp;<span class="op" id="8247753">&lt;</span>&nbsp;<span class="num" id="8247755">0</span>&nbsp;<span class="op" id="8247757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247763">t</span><span class="op" id="8247764">.</span><span class="ident" id="8247765">Logf</span><span class="op" id="8247769">(</span><span class="string" id="8247770">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="8247780">,</span>&nbsp;<span class="ident" id="8247782">line</span><span class="op" id="8247786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247792">continue</span>&nbsp;<span class="ident" id="8247801">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247817">flag</span>&nbsp;<span class="op" id="8247822">=</span>&nbsp;<span class="ident" id="8247824">flag</span><span class="op" id="8247828">[</span><span class="num" id="8247829">1</span><span class="op" id="8247830">+</span><span class="ident" id="8247831">i</span><span class="op" id="8247832">+</span><span class="num" id="8247833">1</span><span class="op" id="8247834">:</span><span class="op" id="8247835">]</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247839">case</span>&nbsp;<span class="string" id="8247844">&#39;C&#39;</span><span class="op" id="8247847">,</span>&nbsp;<span class="string" id="8247849">&#39;N&#39;</span><span class="op" id="8247852">,</span>&nbsp;<span class="string" id="8247854">&#39;T&#39;</span><span class="op" id="8247857">,</span>&nbsp;<span class="string" id="8247859">&#39;0&#39;</span><span class="op" id="8247862">,</span>&nbsp;<span class="string" id="8247864">&#39;1&#39;</span><span class="op" id="8247867">,</span>&nbsp;<span class="string" id="8247869">&#39;2&#39;</span><span class="op" id="8247872">,</span>&nbsp;<span class="string" id="8247874">&#39;3&#39;</span><span class="op" id="8247877">,</span>&nbsp;<span class="string" id="8247879">&#39;4&#39;</span><span class="op" id="8247882">,</span>&nbsp;<span class="string" id="8247884">&#39;5&#39;</span><span class="op" id="8247887">,</span>&nbsp;<span class="string" id="8247889">&#39;6&#39;</span><span class="op" id="8247892">,</span>&nbsp;<span class="string" id="8247894">&#39;7&#39;</span><span class="op" id="8247897">,</span>&nbsp;<span class="string" id="8247899">&#39;8&#39;</span><span class="op" id="8247902">,</span>&nbsp;<span class="string" id="8247904">&#39;9&#39;</span><span class="op" id="8247907">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8247912">t</span><span class="op" id="8247913">.</span><span class="ident" id="8247914">Logf</span><span class="op" id="8247918">(</span><span class="string" id="8247919">&#34;skip:&nbsp;%s&#34;</span><span class="op" id="8247929">,</span>&nbsp;<span class="ident" id="8247931">line</span><span class="op" id="8247935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8247940">continue</span>&nbsp;<span class="ident" id="8247949">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8247959">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8247964">//&nbsp;Can&nbsp;check&nbsp;field&nbsp;count&nbsp;now&nbsp;that&nbsp;we&#39;ve&nbsp;handled&nbsp;the&nbsp;myriad&nbsp;comment&nbsp;formats.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248042">if</span>&nbsp;<span class="builtinfunc" id="8248045">len</span><span class="op" id="8248048">(</span><span class="ident" id="8248049">field</span><span class="op" id="8248054">)</span>&nbsp;<span class="op" id="8248056">&lt;</span>&nbsp;<span class="num" id="8248058">4</span>&nbsp;<span class="op" id="8248060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248065">t</span><span class="op" id="8248066">.</span><span class="ident" id="8248067">Errorf</span><span class="op" id="8248073">(</span><span class="string" id="8248074">&#34;%s:%d:&nbsp;too&nbsp;few&nbsp;fields:&nbsp;%s&#34;</span><span class="op" id="8248101">,</span>&nbsp;<span class="ident" id="8248103">file</span><span class="op" id="8248107">,</span>&nbsp;<span class="ident" id="8248109">lineno</span><span class="op" id="8248115">,</span>&nbsp;<span class="ident" id="8248117">line</span><span class="op" id="8248121">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248126">continue</span>&nbsp;<span class="ident" id="8248135">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248145">}</span><br>
<span class="lineno">475</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248150">//&nbsp;Expand&nbsp;C&nbsp;escapes&nbsp;(a.k.a.&nbsp;Go&nbsp;escapes).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248193">if</span>&nbsp;<span class="ident" id="8248196">strings</span><span class="op" id="8248203">.</span><span class="ident" id="8248204">Contains</span><span class="op" id="8248212">(</span><span class="ident" id="8248213">flag</span><span class="op" id="8248217">,</span>&nbsp;<span class="string" id="8248219">&#34;$&#34;</span><span class="op" id="8248222">)</span>&nbsp;<span class="op" id="8248224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248229">f</span>&nbsp;<span class="op" id="8248231">:=</span>&nbsp;<span class="string" id="8248234">`&#34;`</span>&nbsp;<span class="op" id="8248238">+</span>&nbsp;<span class="ident" id="8248240">field</span><span class="op" id="8248245">[</span><span class="num" id="8248246">1</span><span class="op" id="8248247">]</span>&nbsp;<span class="op" id="8248249">+</span>&nbsp;<span class="string" id="8248251">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248258">if</span>&nbsp;<span class="ident" id="8248261">field</span><span class="op" id="8248266">[</span><span class="num" id="8248267">1</span><span class="op" id="8248268">]</span><span class="op" id="8248269">,</span>&nbsp;<span class="ident" id="8248271">err</span>&nbsp;<span class="op" id="8248275">=</span>&nbsp;<span class="ident" id="8248277">strconv</span><span class="op" id="8248284">.</span><span class="ident" id="8248285">Unquote</span><span class="op" id="8248292">(</span><span class="ident" id="8248293">f</span><span class="op" id="8248294">)</span><span class="op" id="8248295">;</span>&nbsp;<span class="ident" id="8248297">err</span>&nbsp;<span class="op" id="8248301">!=</span>&nbsp;<span class="ident" id="8248304">nil</span>&nbsp;<span class="op" id="8248308">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248314">t</span><span class="op" id="8248315">.</span><span class="ident" id="8248316">Errorf</span><span class="op" id="8248322">(</span><span class="string" id="8248323">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="8248349">,</span>&nbsp;<span class="ident" id="8248351">file</span><span class="op" id="8248355">,</span>&nbsp;<span class="ident" id="8248357">lineno</span><span class="op" id="8248363">,</span>&nbsp;<span class="ident" id="8248365">f</span><span class="op" id="8248366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248371">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248376">f</span>&nbsp;<span class="op" id="8248378">=</span>&nbsp;<span class="string" id="8248380">`&#34;`</span>&nbsp;<span class="op" id="8248384">+</span>&nbsp;<span class="ident" id="8248386">field</span><span class="op" id="8248391">[</span><span class="num" id="8248392">2</span><span class="op" id="8248393">]</span>&nbsp;<span class="op" id="8248395">+</span>&nbsp;<span class="string" id="8248397">`&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248404">if</span>&nbsp;<span class="ident" id="8248407">field</span><span class="op" id="8248412">[</span><span class="num" id="8248413">2</span><span class="op" id="8248414">]</span><span class="op" id="8248415">,</span>&nbsp;<span class="ident" id="8248417">err</span>&nbsp;<span class="op" id="8248421">=</span>&nbsp;<span class="ident" id="8248423">strconv</span><span class="op" id="8248430">.</span><span class="ident" id="8248431">Unquote</span><span class="op" id="8248438">(</span><span class="ident" id="8248439">f</span><span class="op" id="8248440">)</span><span class="op" id="8248441">;</span>&nbsp;<span class="ident" id="8248443">err</span>&nbsp;<span class="op" id="8248447">!=</span>&nbsp;<span class="ident" id="8248450">nil</span>&nbsp;<span class="op" id="8248454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248460">t</span><span class="op" id="8248461">.</span><span class="ident" id="8248462">Errorf</span><span class="op" id="8248468">(</span><span class="string" id="8248469">&#34;%s:%d:&nbsp;cannot&nbsp;unquote&nbsp;%s&#34;</span><span class="op" id="8248495">,</span>&nbsp;<span class="ident" id="8248497">file</span><span class="op" id="8248501">,</span>&nbsp;<span class="ident" id="8248503">lineno</span><span class="op" id="8248509">,</span>&nbsp;<span class="ident" id="8248511">f</span><span class="op" id="8248512">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248526">//&nbsp;&nbsp;&nbsp;Field&nbsp;2:&nbsp;the&nbsp;regular&nbsp;expression&nbsp;pattern;&nbsp;SAME&nbsp;uses&nbsp;the&nbsp;pattern&nbsp;from</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248601">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;previous&nbsp;specification.</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248638">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248643">if</span>&nbsp;<span class="ident" id="8248646">field</span><span class="op" id="8248651">[</span><span class="num" id="8248652">1</span><span class="op" id="8248653">]</span>&nbsp;<span class="op" id="8248655">==</span>&nbsp;<span class="string" id="8248658">&#34;SAME&#34;</span>&nbsp;<span class="op" id="8248665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248670">field</span><span class="op" id="8248675">[</span><span class="num" id="8248676">1</span><span class="op" id="8248677">]</span>&nbsp;<span class="op" id="8248679">=</span>&nbsp;<span class="ident" id="8248681">lastRegexp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248698">lastRegexp</span>&nbsp;<span class="op" id="8248709">=</span>&nbsp;<span class="ident" id="8248711">field</span><span class="op" id="8248716">[</span><span class="num" id="8248717">1</span><span class="op" id="8248718">]</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248723">//&nbsp;&nbsp;&nbsp;Field&nbsp;3:&nbsp;the&nbsp;string&nbsp;to&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248760">text</span>&nbsp;<span class="op" id="8248765">:=</span>&nbsp;<span class="ident" id="8248768">field</span><span class="op" id="8248773">[</span><span class="num" id="8248774">2</span><span class="op" id="8248775">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248780">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome...</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248816">ok</span><span class="op" id="8248818">,</span>&nbsp;<span class="ident" id="8248820">shouldCompile</span><span class="op" id="8248833">,</span>&nbsp;<span class="ident" id="8248835">shouldMatch</span><span class="op" id="8248846">,</span>&nbsp;<span class="ident" id="8248848">pos</span>&nbsp;<span class="op" id="8248852">:=</span>&nbsp;<span class="ident" id="8248855">parseFowlerResult</span><span class="op" id="8248872">(</span><span class="ident" id="8248873">field</span><span class="op" id="8248878">[</span><span class="num" id="8248879">3</span><span class="op" id="8248880">]</span><span class="op" id="8248881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248885">if</span>&nbsp;<span class="op" id="8248888">!</span><span class="ident" id="8248889">ok</span>&nbsp;<span class="op" id="8248892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8248897">t</span><span class="op" id="8248898">.</span><span class="ident" id="8248899">Errorf</span><span class="op" id="8248905">(</span><span class="string" id="8248906">&#34;%s:%d:&nbsp;cannot&nbsp;parse&nbsp;result&nbsp;%#q&#34;</span><span class="op" id="8248938">,</span>&nbsp;<span class="ident" id="8248940">file</span><span class="op" id="8248944">,</span>&nbsp;<span class="ident" id="8248946">lineno</span><span class="op" id="8248952">,</span>&nbsp;<span class="ident" id="8248954">field</span><span class="op" id="8248959">[</span><span class="num" id="8248960">3</span><span class="op" id="8248961">]</span><span class="op" id="8248962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8248967">continue</span>&nbsp;<span class="ident" id="8248976">Reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8248986">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8248991">//&nbsp;&nbsp;&nbsp;Field&nbsp;5:&nbsp;optional&nbsp;comment&nbsp;appended&nbsp;to&nbsp;the&nbsp;report.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249048">Testing</span><span class="op" id="8249055">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8249059">//&nbsp;Run&nbsp;test&nbsp;once&nbsp;for&nbsp;each&nbsp;specified&nbsp;capital&nbsp;letter&nbsp;mode&nbsp;that&nbsp;we&nbsp;support.</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249134">for</span>&nbsp;<span class="ident" id="8249138">_</span><span class="op" id="8249139">,</span>&nbsp;<span class="ident" id="8249141">c</span>&nbsp;<span class="op" id="8249143">:=</span>&nbsp;<span class="keyword" id="8249146">range</span>&nbsp;<span class="ident" id="8249152">flag</span>&nbsp;<span class="op" id="8249157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249162">pattern</span>&nbsp;<span class="op" id="8249170">:=</span>&nbsp;<span class="ident" id="8249173">field</span><span class="op" id="8249178">[</span><span class="num" id="8249179">1</span><span class="op" id="8249180">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249185">syn</span>&nbsp;<span class="op" id="8249189">:=</span>&nbsp;<span class="ident" id="8249192">syntax</span><span class="op" id="8249198">.</span><span class="ident" id="8249199">POSIX</span>&nbsp;<span class="op" id="8249205">|</span>&nbsp;<span class="ident" id="8249207">syntax</span><span class="op" id="8249213">.</span><span class="ident" id="8249214">ClassNL</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249225">switch</span>&nbsp;<span class="ident" id="8249232">c</span>&nbsp;<span class="op" id="8249234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249239">default</span><span class="op" id="8249246">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249252">continue</span>&nbsp;<span class="ident" id="8249261">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249272">case</span>&nbsp;<span class="string" id="8249277">&#39;E&#39;</span><span class="op" id="8249280">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8249286">//&nbsp;extended&nbsp;regexp&nbsp;(what&nbsp;we&nbsp;support)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249326">case</span>&nbsp;<span class="string" id="8249331">&#39;L&#39;</span><span class="op" id="8249334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8249340">//&nbsp;literal</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249355">pattern</span>&nbsp;<span class="op" id="8249363">=</span>&nbsp;<span class="ident" id="8249365">QuoteMeta</span><span class="op" id="8249374">(</span><span class="ident" id="8249375">pattern</span><span class="op" id="8249382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249387">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249393">for</span>&nbsp;<span class="ident" id="8249397">_</span><span class="op" id="8249398">,</span>&nbsp;<span class="ident" id="8249400">c</span>&nbsp;<span class="op" id="8249402">:=</span>&nbsp;<span class="keyword" id="8249405">range</span>&nbsp;<span class="ident" id="8249411">flag</span>&nbsp;<span class="op" id="8249416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249422">switch</span>&nbsp;<span class="ident" id="8249429">c</span>&nbsp;<span class="op" id="8249431">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249437">case</span>&nbsp;<span class="string" id="8249442">&#39;i&#39;</span><span class="op" id="8249445">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249452">syn</span>&nbsp;<span class="op" id="8249456">|=</span>&nbsp;<span class="ident" id="8249459">syntax</span><span class="op" id="8249465">.</span><span class="ident" id="8249466">FoldCase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249479">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249484">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249490">re</span><span class="op" id="8249492">,</span>&nbsp;<span class="ident" id="8249494">err</span>&nbsp;<span class="op" id="8249498">:=</span>&nbsp;<span class="ident" id="8249501">compile</span><span class="op" id="8249508">(</span><span class="ident" id="8249509">pattern</span><span class="op" id="8249516">,</span>&nbsp;<span class="ident" id="8249518">syn</span><span class="op" id="8249521">,</span>&nbsp;<span class="builtintype" id="8249523">true</span><span class="op" id="8249527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249532">if</span>&nbsp;<span class="ident" id="8249535">err</span>&nbsp;<span class="op" id="8249539">!=</span>&nbsp;<span class="ident" id="8249542">nil</span>&nbsp;<span class="op" id="8249546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249552">if</span>&nbsp;<span class="ident" id="8249555">shouldCompile</span>&nbsp;<span class="op" id="8249569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249576">t</span><span class="op" id="8249577">.</span><span class="ident" id="8249578">Errorf</span><span class="op" id="8249584">(</span><span class="string" id="8249585">&#34;%s:%d:&nbsp;%#q&nbsp;did&nbsp;not&nbsp;compile&#34;</span><span class="op" id="8249613">,</span>&nbsp;<span class="ident" id="8249615">file</span><span class="op" id="8249619">,</span>&nbsp;<span class="ident" id="8249621">lineno</span><span class="op" id="8249627">,</span>&nbsp;<span class="ident" id="8249629">pattern</span><span class="op" id="8249636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249642">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249648">continue</span>&nbsp;<span class="ident" id="8249657">Testing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249668">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249673">if</span>&nbsp;<span class="op" id="8249676">!</span><span class="ident" id="8249677">shouldCompile</span>&nbsp;<span class="op" id="8249691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249697">t</span><span class="op" id="8249698">.</span><span class="ident" id="8249699">Errorf</span><span class="op" id="8249705">(</span><span class="string" id="8249706">&#34;%s:%d:&nbsp;%#q&nbsp;should&nbsp;not&nbsp;compile&#34;</span><span class="op" id="8249737">,</span>&nbsp;<span class="ident" id="8249739">file</span><span class="op" id="8249743">,</span>&nbsp;<span class="ident" id="8249745">lineno</span><span class="op" id="8249751">,</span>&nbsp;<span class="ident" id="8249753">pattern</span><span class="op" id="8249760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249766">continue</span>&nbsp;<span class="ident" id="8249775">Testing</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249791">match</span>&nbsp;<span class="op" id="8249797">:=</span>&nbsp;<span class="ident" id="8249800">re</span><span class="op" id="8249802">.</span><span class="ident" id="8249803">MatchString</span><span class="op" id="8249814">(</span><span class="ident" id="8249815">text</span><span class="op" id="8249819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249824">if</span>&nbsp;<span class="ident" id="8249827">match</span>&nbsp;<span class="op" id="8249833">!=</span>&nbsp;<span class="ident" id="8249836">shouldMatch</span>&nbsp;<span class="op" id="8249848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249854">t</span><span class="op" id="8249855">.</span><span class="ident" id="8249856">Errorf</span><span class="op" id="8249862">(</span><span class="string" id="8249863">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8249900">,</span>&nbsp;<span class="ident" id="8249902">file</span><span class="op" id="8249906">,</span>&nbsp;<span class="ident" id="8249908">lineno</span><span class="op" id="8249914">,</span>&nbsp;<span class="ident" id="8249916">pattern</span><span class="op" id="8249923">,</span>&nbsp;<span class="ident" id="8249925">text</span><span class="op" id="8249929">,</span>&nbsp;<span class="ident" id="8249931">match</span><span class="op" id="8249936">,</span>&nbsp;<span class="ident" id="8249938">shouldMatch</span><span class="op" id="8249949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8249955">continue</span>&nbsp;<span class="ident" id="8249964">Testing</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8249975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8249980">have</span>&nbsp;<span class="op" id="8249985">:=</span>&nbsp;<span class="ident" id="8249988">re</span><span class="op" id="8249990">.</span><span class="ident" id="8249991">FindStringSubmatchIndex</span><span class="op" id="8250014">(</span><span class="ident" id="8250015">text</span><span class="op" id="8250019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8250024">if</span>&nbsp;<span class="op" id="8250027">(</span><span class="builtinfunc" id="8250028">len</span><span class="op" id="8250031">(</span><span class="ident" id="8250032">have</span><span class="op" id="8250036">)</span>&nbsp;<span class="op" id="8250038">&gt;</span>&nbsp;<span class="num" id="8250040">0</span><span class="op" id="8250041">)</span>&nbsp;<span class="op" id="8250043">!=</span>&nbsp;<span class="ident" id="8250046">match</span>&nbsp;<span class="op" id="8250052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8250058">t</span><span class="op" id="8250059">.</span><span class="ident" id="8250060">Errorf</span><span class="op" id="8250066">(</span><span class="string" id="8250067">&#34;%s:%d:&nbsp;%#q.Match(%#q)&nbsp;=&nbsp;%v,&nbsp;but&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8250132">,</span>&nbsp;<span class="ident" id="8250134">file</span><span class="op" id="8250138">,</span>&nbsp;<span class="ident" id="8250140">lineno</span><span class="op" id="8250146">,</span>&nbsp;<span class="ident" id="8250148">pattern</span><span class="op" id="8250155">,</span>&nbsp;<span class="ident" id="8250157">text</span><span class="op" id="8250161">,</span>&nbsp;<span class="ident" id="8250163">match</span><span class="op" id="8250168">,</span>&nbsp;<span class="ident" id="8250170">pattern</span><span class="op" id="8250177">,</span>&nbsp;<span class="ident" id="8250179">text</span><span class="op" id="8250183">,</span>&nbsp;<span class="ident" id="8250185">have</span><span class="op" id="8250189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8250195">continue</span>&nbsp;<span class="ident" id="8250204">Testing</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8250215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8250220">if</span>&nbsp;<span class="builtinfunc" id="8250223">len</span><span class="op" id="8250226">(</span><span class="ident" id="8250227">have</span><span class="op" id="8250231">)</span>&nbsp;<span class="op" id="8250233">&gt;</span>&nbsp;<span class="builtinfunc" id="8250235">len</span><span class="op" id="8250238">(</span><span class="ident" id="8250239">pos</span><span class="op" id="8250242">)</span>&nbsp;<span class="op" id="8250244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8250250">have</span>&nbsp;<span class="op" id="8250255">=</span>&nbsp;<span class="ident" id="8250257">have</span><span class="op" id="8250261">[</span><span class="op" id="8250262">:</span><span class="builtinfunc" id="8250263">len</span><span class="op" id="8250266">(</span><span class="ident" id="8250267">pos</span><span class="op" id="8250270">)</span><span class="op" id="8250271">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8250276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8250281">if</span>&nbsp;<span class="op" id="8250284">!</span><span class="ident" id="8250285">same</span><span class="op" id="8250289">(</span><span class="ident" id="8250290">have</span><span class="op" id="8250294">,</span>&nbsp;<span class="ident" id="8250296">pos</span><span class="op" id="8250299">)</span>&nbsp;<span class="op" id="8250301">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8250307">t</span><span class="op" id="8250308">.</span><span class="ident" id="8250309">Errorf</span><span class="op" id="8250315">(</span><span class="string" id="8250316">&#34;%s:%d:&nbsp;%#q.FindSubmatchIndex(%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8250365">,</span>&nbsp;<span class="ident" id="8250367">file</span><span class="op" id="8250371">,</span>&nbsp;<span class="ident" id="8250373">lineno</span><span class="op" id="8250379">,</span>&nbsp;<span class="ident" id="8250381">pattern</span><span class="op" id="8250388">,</span>&nbsp;<span class="ident" id="8250390">text</span><span class="op" id="8250394">,</span>&nbsp;<span class="ident" id="8250396">have</span><span class="op" id="8250400">,</span>&nbsp;<span class="ident" id="8250402">pos</span><span class="op" id="8250405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8250410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8250414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8250417">}</span><br>
<span class="lineno"></span><span class="op" id="8250419">}</span><br>
<span class="lineno">560</span><br>
<span class="lineno"></span><span class="keyword" id="8250422">func</span>&nbsp;<span class="ident" id="8250427">parseFowlerResult</span><span class="op" id="8250444">(</span><span class="ident" id="8250445">s</span>&nbsp;<span class="builtintype" id="8250447">string</span><span class="op" id="8250453">)</span>&nbsp;<span class="op" id="8250455">(</span><span class="ident" id="8250456">ok</span><span class="op" id="8250458">,</span>&nbsp;<span class="ident" id="8250460">compiled</span><span class="op" id="8250468">,</span>&nbsp;<span class="ident" id="8250470">matched</span>&nbsp;<span class="builtintype" id="8250478">bool</span><span class="op" id="8250482">,</span>&nbsp;<span class="ident" id="8250484">pos</span>&nbsp;<span class="op" id="8250488">[</span><span class="op" id="8250489">]</span><span class="builtintype" id="8250490">int</span><span class="op" id="8250493">)</span>&nbsp;<span class="op" id="8250495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250498">//&nbsp;&nbsp;&nbsp;Field&nbsp;4:&nbsp;the&nbsp;test&nbsp;outcome.&nbsp;This&nbsp;is&nbsp;either&nbsp;one&nbsp;of&nbsp;the&nbsp;posix&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250569">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;codes&nbsp;(with&nbsp;REG_&nbsp;omitted)&nbsp;or&nbsp;the&nbsp;match&nbsp;array,&nbsp;a&nbsp;list&nbsp;of&nbsp;(m,n)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250639">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries&nbsp;with&nbsp;m&nbsp;and&nbsp;n&nbsp;being&nbsp;first&nbsp;and&nbsp;last+1&nbsp;positions&nbsp;in&nbsp;the</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250708">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;3&nbsp;string,&nbsp;or&nbsp;NULL&nbsp;if&nbsp;REG_NOSUB&nbsp;is&nbsp;in&nbsp;effect&nbsp;and&nbsp;success</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250778">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;expected.&nbsp;BADPAT&nbsp;is&nbsp;acceptable&nbsp;in&nbsp;place&nbsp;of&nbsp;any&nbsp;regcomp(3)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250847">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error&nbsp;code.&nbsp;The&nbsp;match[]&nbsp;array&nbsp;is&nbsp;initialized&nbsp;to&nbsp;(-2,-2)&nbsp;before</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250918">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;each&nbsp;test.&nbsp;All&nbsp;array&nbsp;elements&nbsp;from&nbsp;0&nbsp;to&nbsp;nmatch-1&nbsp;must&nbsp;be&nbsp;specified</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8250993">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;the&nbsp;outcome.&nbsp;Unspecified&nbsp;endpoints&nbsp;(offset&nbsp;-1)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;?.</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251069">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unset&nbsp;endpoints&nbsp;(offset&nbsp;-2)&nbsp;are&nbsp;denoted&nbsp;by&nbsp;X.&nbsp;{x}(o:n)&nbsp;denotes&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251142">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matched&nbsp;(?{...})&nbsp;expression,&nbsp;where&nbsp;x&nbsp;is&nbsp;the&nbsp;text&nbsp;enclosed&nbsp;by&nbsp;{...},</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251218">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;is&nbsp;the&nbsp;expression&nbsp;ordinal&nbsp;counting&nbsp;from&nbsp;1,&nbsp;and&nbsp;n&nbsp;is&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251294">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;unmatched&nbsp;portion&nbsp;of&nbsp;the&nbsp;subject&nbsp;string.&nbsp;If&nbsp;x&nbsp;starts&nbsp;with&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251366">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number&nbsp;then&nbsp;that&nbsp;is&nbsp;the&nbsp;return&nbsp;value&nbsp;of&nbsp;re_execf(),&nbsp;otherwise&nbsp;0&nbsp;is</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251441">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251459">switch</span>&nbsp;<span class="op" id="8251466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251469">case</span>&nbsp;<span class="ident" id="8251474">s</span>&nbsp;<span class="op" id="8251476">==</span>&nbsp;<span class="string" id="8251479">&#34;&#34;</span><span class="op" id="8251481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251485">//&nbsp;Match&nbsp;with&nbsp;no&nbsp;position&nbsp;information.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251526">ok</span>&nbsp;<span class="op" id="8251529">=</span>&nbsp;<span class="builtintype" id="8251531">true</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251538">compiled</span>&nbsp;<span class="op" id="8251547">=</span>&nbsp;<span class="builtintype" id="8251549">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251556">matched</span>&nbsp;<span class="op" id="8251564">=</span>&nbsp;<span class="builtintype" id="8251566">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251573">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251581">case</span>&nbsp;<span class="ident" id="8251586">s</span>&nbsp;<span class="op" id="8251588">==</span>&nbsp;<span class="string" id="8251591">&#34;NOMATCH&#34;</span><span class="op" id="8251600">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251604">//&nbsp;Match&nbsp;failure.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251624">ok</span>&nbsp;<span class="op" id="8251627">=</span>&nbsp;<span class="builtintype" id="8251629">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251636">compiled</span>&nbsp;<span class="op" id="8251645">=</span>&nbsp;<span class="builtintype" id="8251647">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251654">matched</span>&nbsp;<span class="op" id="8251662">=</span>&nbsp;<span class="builtintype" id="8251664">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251672">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251680">case</span>&nbsp;<span class="string" id="8251685">&#39;A&#39;</span>&nbsp;<span class="op" id="8251689">&lt;=</span>&nbsp;<span class="ident" id="8251692">s</span><span class="op" id="8251693">[</span><span class="num" id="8251694">0</span><span class="op" id="8251695">]</span>&nbsp;<span class="op" id="8251697">&amp;&amp;</span>&nbsp;<span class="ident" id="8251700">s</span><span class="op" id="8251701">[</span><span class="num" id="8251702">0</span><span class="op" id="8251703">]</span>&nbsp;<span class="op" id="8251705">&lt;=</span>&nbsp;<span class="string" id="8251708">&#39;Z&#39;</span><span class="op" id="8251711">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8251715">//&nbsp;All&nbsp;the&nbsp;other&nbsp;error&nbsp;codes&nbsp;are&nbsp;compile&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251766">ok</span>&nbsp;<span class="op" id="8251769">=</span>&nbsp;<span class="builtintype" id="8251771">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251778">compiled</span>&nbsp;<span class="op" id="8251787">=</span>&nbsp;<span class="builtintype" id="8251789">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251797">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8251805">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251808">compiled</span>&nbsp;<span class="op" id="8251817">=</span>&nbsp;<span class="builtintype" id="8251819">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251826">var</span>&nbsp;<span class="ident" id="8251830">x</span>&nbsp;<span class="op" id="8251832">[</span><span class="op" id="8251833">]</span><span class="builtintype" id="8251834">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251839">for</span>&nbsp;<span class="ident" id="8251843">s</span>&nbsp;<span class="op" id="8251845">!=</span>&nbsp;<span class="string" id="8251848">&#34;&#34;</span>&nbsp;<span class="op" id="8251851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251855">var</span>&nbsp;<span class="ident" id="8251859">end</span>&nbsp;<span class="builtintype" id="8251863">byte</span>&nbsp;<span class="op" id="8251868">=</span>&nbsp;<span class="string" id="8251870">&#39;)&#39;</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251876">if</span>&nbsp;<span class="builtinfunc" id="8251879">len</span><span class="op" id="8251882">(</span><span class="ident" id="8251883">x</span><span class="op" id="8251884">)</span><span class="op" id="8251885">%</span><span class="num" id="8251886">2</span>&nbsp;<span class="op" id="8251888">==</span>&nbsp;<span class="num" id="8251891">0</span>&nbsp;<span class="op" id="8251893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251898">if</span>&nbsp;<span class="ident" id="8251901">s</span><span class="op" id="8251902">[</span><span class="num" id="8251903">0</span><span class="op" id="8251904">]</span>&nbsp;<span class="op" id="8251906">!=</span>&nbsp;<span class="string" id="8251909">&#39;(&#39;</span>&nbsp;<span class="op" id="8251913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251919">ok</span>&nbsp;<span class="op" id="8251922">=</span>&nbsp;<span class="builtintype" id="8251924">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251934">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8251944">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251949">s</span>&nbsp;<span class="op" id="8251951">=</span>&nbsp;<span class="ident" id="8251953">s</span><span class="op" id="8251954">[</span><span class="num" id="8251955">1</span><span class="op" id="8251956">:</span><span class="op" id="8251957">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251962">end</span>&nbsp;<span class="op" id="8251966">=</span>&nbsp;<span class="string" id="8251968">&#39;,&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8251974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8251978">i</span>&nbsp;<span class="op" id="8251980">:=</span>&nbsp;<span class="num" id="8251983">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8251987">for</span>&nbsp;<span class="ident" id="8251991">i</span>&nbsp;<span class="op" id="8251993">&lt;</span>&nbsp;<span class="builtinfunc" id="8251995">len</span><span class="op" id="8251998">(</span><span class="ident" id="8251999">s</span><span class="op" id="8252000">)</span>&nbsp;<span class="op" id="8252002">&amp;&amp;</span>&nbsp;<span class="ident" id="8252005">s</span><span class="op" id="8252006">[</span><span class="ident" id="8252007">i</span><span class="op" id="8252008">]</span>&nbsp;<span class="op" id="8252010">!=</span>&nbsp;<span class="ident" id="8252013">end</span>&nbsp;<span class="op" id="8252017">{</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252022">i</span><span class="op" id="8252023">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252028">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252032">if</span>&nbsp;<span class="ident" id="8252035">i</span>&nbsp;<span class="op" id="8252037">==</span>&nbsp;<span class="num" id="8252040">0</span>&nbsp;<span class="op" id="8252042">||</span>&nbsp;<span class="ident" id="8252045">i</span>&nbsp;<span class="op" id="8252047">==</span>&nbsp;<span class="builtinfunc" id="8252050">len</span><span class="op" id="8252053">(</span><span class="ident" id="8252054">s</span><span class="op" id="8252055">)</span>&nbsp;<span class="op" id="8252057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252062">ok</span>&nbsp;<span class="op" id="8252065">=</span>&nbsp;<span class="builtintype" id="8252067">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252076">return</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252089">var</span>&nbsp;<span class="ident" id="8252093">v</span>&nbsp;<span class="op" id="8252095">=</span>&nbsp;<span class="op" id="8252097">-</span><span class="num" id="8252098">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252102">var</span>&nbsp;<span class="ident" id="8252106">err</span>&nbsp;<span class="builtintype" id="8252110">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252118">if</span>&nbsp;<span class="ident" id="8252121">s</span><span class="op" id="8252122">[</span><span class="op" id="8252123">:</span><span class="ident" id="8252124">i</span><span class="op" id="8252125">]</span>&nbsp;<span class="op" id="8252127">!=</span>&nbsp;<span class="string" id="8252130">&#34;?&#34;</span>&nbsp;<span class="op" id="8252134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252139">v</span><span class="op" id="8252140">,</span>&nbsp;<span class="ident" id="8252142">err</span>&nbsp;<span class="op" id="8252146">=</span>&nbsp;<span class="ident" id="8252148">strconv</span><span class="op" id="8252155">.</span><span class="ident" id="8252156">Atoi</span><span class="op" id="8252160">(</span><span class="ident" id="8252161">s</span><span class="op" id="8252162">[</span><span class="op" id="8252163">:</span><span class="ident" id="8252164">i</span><span class="op" id="8252165">]</span><span class="op" id="8252166">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252171">if</span>&nbsp;<span class="ident" id="8252174">err</span>&nbsp;<span class="op" id="8252178">!=</span>&nbsp;<span class="ident" id="8252181">nil</span>&nbsp;<span class="op" id="8252185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252191">ok</span>&nbsp;<span class="op" id="8252194">=</span>&nbsp;<span class="builtintype" id="8252196">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252206">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252220">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252224">x</span>&nbsp;<span class="op" id="8252226">=</span>&nbsp;<span class="builtinfunc" id="8252228">append</span><span class="op" id="8252234">(</span><span class="ident" id="8252235">x</span><span class="op" id="8252236">,</span>&nbsp;<span class="ident" id="8252238">v</span><span class="op" id="8252239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252243">s</span>&nbsp;<span class="op" id="8252245">=</span>&nbsp;<span class="ident" id="8252247">s</span><span class="op" id="8252248">[</span><span class="ident" id="8252249">i</span><span class="op" id="8252250">+</span><span class="num" id="8252251">1</span><span class="op" id="8252252">:</span><span class="op" id="8252253">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252259">if</span>&nbsp;<span class="builtinfunc" id="8252262">len</span><span class="op" id="8252265">(</span><span class="ident" id="8252266">x</span><span class="op" id="8252267">)</span><span class="op" id="8252268">%</span><span class="num" id="8252269">2</span>&nbsp;<span class="op" id="8252271">!=</span>&nbsp;<span class="num" id="8252274">0</span>&nbsp;<span class="op" id="8252276">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252280">ok</span>&nbsp;<span class="op" id="8252283">=</span>&nbsp;<span class="builtintype" id="8252285">false</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252293">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252304">ok</span>&nbsp;<span class="op" id="8252307">=</span>&nbsp;<span class="builtintype" id="8252309">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252315">matched</span>&nbsp;<span class="op" id="8252323">=</span>&nbsp;<span class="builtintype" id="8252325">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252331">pos</span>&nbsp;<span class="op" id="8252335">=</span>&nbsp;<span class="ident" id="8252337">x</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252340">return</span><br>
<span class="lineno"></span><span class="op" id="8252347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8252350">var</span>&nbsp;<span class="ident" id="8252354">text</span>&nbsp;<span class="op" id="8252359">[</span><span class="op" id="8252360">]</span><span class="builtintype" id="8252361">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno">640</span><span class="keyword" id="8252367">func</span>&nbsp;<span class="ident" id="8252372">makeText</span><span class="op" id="8252380">(</span><span class="ident" id="8252381">n</span>&nbsp;<span class="builtintype" id="8252383">int</span><span class="op" id="8252386">)</span>&nbsp;<span class="op" id="8252388">[</span><span class="op" id="8252389">]</span><span class="builtintype" id="8252390">byte</span>&nbsp;<span class="op" id="8252395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252398">if</span>&nbsp;<span class="builtinfunc" id="8252401">len</span><span class="op" id="8252404">(</span><span class="ident" id="8252405">text</span><span class="op" id="8252409">)</span>&nbsp;<span class="op" id="8252411">&gt;=</span>&nbsp;<span class="ident" id="8252414">n</span>&nbsp;<span class="op" id="8252416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252420">return</span>&nbsp;<span class="ident" id="8252427">text</span><span class="op" id="8252431">[</span><span class="op" id="8252432">:</span><span class="ident" id="8252433">n</span><span class="op" id="8252434">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252440">text</span>&nbsp;<span class="op" id="8252445">=</span>&nbsp;<span class="builtinfunc" id="8252447">make</span><span class="op" id="8252451">(</span><span class="op" id="8252452">[</span><span class="op" id="8252453">]</span><span class="builtintype" id="8252454">byte</span><span class="op" id="8252458">,</span>&nbsp;<span class="ident" id="8252460">n</span><span class="op" id="8252461">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252464">x</span>&nbsp;<span class="op" id="8252466">:=</span>&nbsp;<span class="op" id="8252469">^</span><span class="builtintype" id="8252470">uint32</span><span class="op" id="8252476">(</span><span class="num" id="8252477">0</span><span class="op" id="8252478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252481">for</span>&nbsp;<span class="ident" id="8252485">i</span>&nbsp;<span class="op" id="8252487">:=</span>&nbsp;<span class="keyword" id="8252490">range</span>&nbsp;<span class="ident" id="8252496">text</span>&nbsp;<span class="op" id="8252501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252505">x</span>&nbsp;<span class="op" id="8252507">+=</span>&nbsp;<span class="ident" id="8252510">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252514">x</span>&nbsp;<span class="op" id="8252516">^=</span>&nbsp;<span class="num" id="8252519">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252523">if</span>&nbsp;<span class="builtintype" id="8252526">int32</span><span class="op" id="8252531">(</span><span class="ident" id="8252532">x</span><span class="op" id="8252533">)</span>&nbsp;<span class="op" id="8252535">&lt;</span>&nbsp;<span class="num" id="8252537">0</span>&nbsp;<span class="op" id="8252539">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252544">x</span>&nbsp;<span class="op" id="8252546">^=</span>&nbsp;<span class="num" id="8252549">0x88888eef</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252562">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252566">if</span>&nbsp;<span class="ident" id="8252569">x</span><span class="op" id="8252570">%</span><span class="num" id="8252571">31</span>&nbsp;<span class="op" id="8252574">==</span>&nbsp;<span class="num" id="8252577">0</span>&nbsp;<span class="op" id="8252579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252584">text</span><span class="op" id="8252588">[</span><span class="ident" id="8252589">i</span><span class="op" id="8252590">]</span>&nbsp;<span class="op" id="8252592">=</span>&nbsp;<span class="string" id="8252594">&#39;\n&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252601">}</span>&nbsp;<span class="keyword" id="8252603">else</span>&nbsp;<span class="op" id="8252608">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252613">text</span><span class="op" id="8252617">[</span><span class="ident" id="8252618">i</span><span class="op" id="8252619">]</span>&nbsp;<span class="op" id="8252621">=</span>&nbsp;<span class="builtintype" id="8252623">byte</span><span class="op" id="8252627">(</span><span class="ident" id="8252628">x</span><span class="op" id="8252629">%</span><span class="op" id="8252630">(</span><span class="num" id="8252631">0x7E</span><span class="op" id="8252635">+</span><span class="num" id="8252636">1</span><span class="op" id="8252637">-</span><span class="num" id="8252638">0x20</span><span class="op" id="8252642">)</span>&nbsp;<span class="op" id="8252644">+</span>&nbsp;<span class="num" id="8252646">0x20</span><span class="op" id="8252650">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252660">return</span>&nbsp;<span class="ident" id="8252667">text</span><br>
<span class="lineno"></span><span class="op" id="8252672">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="8252675">func</span>&nbsp;<span class="ident" id="8252680">benchmark</span><span class="op" id="8252689">(</span><span class="ident" id="8252690">b</span>&nbsp;<span class="op" id="8252692">*</span><span class="ident" id="8252693">testing</span><span class="op" id="8252700">.</span><span class="ident" id="8252701">B</span><span class="op" id="8252702">,</span>&nbsp;<span class="ident" id="8252704">re</span>&nbsp;<span class="builtintype" id="8252707">string</span><span class="op" id="8252713">,</span>&nbsp;<span class="ident" id="8252715">n</span>&nbsp;<span class="builtintype" id="8252717">int</span><span class="op" id="8252720">)</span>&nbsp;<span class="op" id="8252722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252725">r</span>&nbsp;<span class="op" id="8252727">:=</span>&nbsp;<span class="ident" id="8252730">MustCompile</span><span class="op" id="8252741">(</span><span class="ident" id="8252742">re</span><span class="op" id="8252744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252747">t</span>&nbsp;<span class="op" id="8252749">:=</span>&nbsp;<span class="ident" id="8252752">makeText</span><span class="op" id="8252760">(</span><span class="ident" id="8252761">n</span><span class="op" id="8252762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252765">b</span><span class="op" id="8252766">.</span><span class="ident" id="8252767">ResetTimer</span><span class="op" id="8252777">(</span><span class="op" id="8252778">)</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252781">b</span><span class="op" id="8252782">.</span><span class="ident" id="8252783">SetBytes</span><span class="op" id="8252791">(</span><span class="ident" id="8252792">int64</span><span class="op" id="8252797">(</span><span class="ident" id="8252798">n</span><span class="op" id="8252799">)</span><span class="op" id="8252800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252803">for</span>&nbsp;<span class="ident" id="8252807">i</span>&nbsp;<span class="op" id="8252809">:=</span>&nbsp;<span class="num" id="8252812">0</span><span class="op" id="8252813">;</span>&nbsp;<span class="ident" id="8252815">i</span>&nbsp;<span class="op" id="8252817">&lt;</span>&nbsp;<span class="ident" id="8252819">b</span><span class="op" id="8252820">.</span><span class="ident" id="8252821">N</span><span class="op" id="8252822">;</span>&nbsp;<span class="ident" id="8252824">i</span><span class="op" id="8252825">++</span>&nbsp;<span class="op" id="8252828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8252832">if</span>&nbsp;<span class="ident" id="8252835">r</span><span class="op" id="8252836">.</span><span class="ident" id="8252837">Match</span><span class="op" id="8252842">(</span><span class="ident" id="8252843">t</span><span class="op" id="8252844">)</span>&nbsp;<span class="op" id="8252846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252851">b</span><span class="op" id="8252852">.</span><span class="ident" id="8252853">Fatal</span><span class="op" id="8252858">(</span><span class="string" id="8252859">&#34;match!&#34;</span><span class="op" id="8252867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252871">}</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8252874">}</span><br>
<span class="lineno"></span><span class="op" id="8252876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8252879">const</span>&nbsp;<span class="op" id="8252885">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252888">easy0</span>&nbsp;&nbsp;<span class="op" id="8252895">=</span>&nbsp;<span class="string" id="8252897">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252928">easy1</span>&nbsp;&nbsp;<span class="op" id="8252935">=</span>&nbsp;<span class="string" id="8252937">&#34;A[AB]B[BC]C[CD]D[DE]E[EF]F[FG]G[GH]H[HI]I[IJ]J$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8252988">medium</span>&nbsp;<span class="op" id="8252995">=</span>&nbsp;<span class="string" id="8252997">&#34;[XYZ]ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253033">hard</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253040">=</span>&nbsp;<span class="string" id="8253042">&#34;[&nbsp;-~]*ABCDEFGHIJKLMNOPQRSTUVWXYZ$&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8253079">parens</span>&nbsp;<span class="op" id="8253086">=</span>&nbsp;<span class="string" id="8253088">&#34;([&nbsp;-~])*(A)(B)(C)(D)(E)(F)(G)(H)(I)(J)(K)(L)(M)&#34;</span>&nbsp;<span class="op" id="8253138">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8253142">&#34;(N)(O)(P)(Q)(R)(S)(T)(U)(V)(W)(X)(Y)(Z)$&#34;</span><br>
<span class="lineno">680</span><span class="op" id="8253185">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8253188">func</span>&nbsp;<span class="ident" id="8253193">BenchmarkMatchEasy0_32</span><span class="op" id="8253215">(</span><span class="ident" id="8253216">b</span>&nbsp;<span class="op" id="8253218">*</span><span class="ident" id="8253219">testing</span><span class="op" id="8253226">.</span><span class="ident" id="8253227">B</span><span class="op" id="8253228">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253232">{</span>&nbsp;<span class="ident" id="8253234">benchmark</span><span class="op" id="8253243">(</span><span class="ident" id="8253244">b</span><span class="op" id="8253245">,</span>&nbsp;<span class="ident" id="8253247">easy0</span><span class="op" id="8253252">,</span>&nbsp;<span class="num" id="8253254">32</span><span class="op" id="8253256">&lt;&lt;</span><span class="num" id="8253258">0</span><span class="op" id="8253259">)</span>&nbsp;<span class="op" id="8253261">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253263">func</span>&nbsp;<span class="ident" id="8253268">BenchmarkMatchEasy0_1K</span><span class="op" id="8253290">(</span><span class="ident" id="8253291">b</span>&nbsp;<span class="op" id="8253293">*</span><span class="ident" id="8253294">testing</span><span class="op" id="8253301">.</span><span class="ident" id="8253302">B</span><span class="op" id="8253303">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253307">{</span>&nbsp;<span class="ident" id="8253309">benchmark</span><span class="op" id="8253318">(</span><span class="ident" id="8253319">b</span><span class="op" id="8253320">,</span>&nbsp;<span class="ident" id="8253322">easy0</span><span class="op" id="8253327">,</span>&nbsp;<span class="num" id="8253329">1</span><span class="op" id="8253330">&lt;&lt;</span><span class="num" id="8253332">10</span><span class="op" id="8253334">)</span>&nbsp;<span class="op" id="8253336">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253338">func</span>&nbsp;<span class="ident" id="8253343">BenchmarkMatchEasy0_32K</span><span class="op" id="8253366">(</span><span class="ident" id="8253367">b</span>&nbsp;<span class="op" id="8253369">*</span><span class="ident" id="8253370">testing</span><span class="op" id="8253377">.</span><span class="ident" id="8253378">B</span><span class="op" id="8253379">)</span>&nbsp;&nbsp;<span class="op" id="8253382">{</span>&nbsp;<span class="ident" id="8253384">benchmark</span><span class="op" id="8253393">(</span><span class="ident" id="8253394">b</span><span class="op" id="8253395">,</span>&nbsp;<span class="ident" id="8253397">easy0</span><span class="op" id="8253402">,</span>&nbsp;<span class="num" id="8253404">32</span><span class="op" id="8253406">&lt;&lt;</span><span class="num" id="8253408">10</span><span class="op" id="8253410">)</span>&nbsp;<span class="op" id="8253412">}</span><br>
<span class="lineno">685</span><span class="keyword" id="8253414">func</span>&nbsp;<span class="ident" id="8253419">BenchmarkMatchEasy0_1M</span><span class="op" id="8253441">(</span><span class="ident" id="8253442">b</span>&nbsp;<span class="op" id="8253444">*</span><span class="ident" id="8253445">testing</span><span class="op" id="8253452">.</span><span class="ident" id="8253453">B</span><span class="op" id="8253454">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253458">{</span>&nbsp;<span class="ident" id="8253460">benchmark</span><span class="op" id="8253469">(</span><span class="ident" id="8253470">b</span><span class="op" id="8253471">,</span>&nbsp;<span class="ident" id="8253473">easy0</span><span class="op" id="8253478">,</span>&nbsp;<span class="num" id="8253480">1</span><span class="op" id="8253481">&lt;&lt;</span><span class="num" id="8253483">20</span><span class="op" id="8253485">)</span>&nbsp;<span class="op" id="8253487">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253489">func</span>&nbsp;<span class="ident" id="8253494">BenchmarkMatchEasy0_32M</span><span class="op" id="8253517">(</span><span class="ident" id="8253518">b</span>&nbsp;<span class="op" id="8253520">*</span><span class="ident" id="8253521">testing</span><span class="op" id="8253528">.</span><span class="ident" id="8253529">B</span><span class="op" id="8253530">)</span>&nbsp;&nbsp;<span class="op" id="8253533">{</span>&nbsp;<span class="ident" id="8253535">benchmark</span><span class="op" id="8253544">(</span><span class="ident" id="8253545">b</span><span class="op" id="8253546">,</span>&nbsp;<span class="ident" id="8253548">easy0</span><span class="op" id="8253553">,</span>&nbsp;<span class="num" id="8253555">32</span><span class="op" id="8253557">&lt;&lt;</span><span class="num" id="8253559">20</span><span class="op" id="8253561">)</span>&nbsp;<span class="op" id="8253563">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253565">func</span>&nbsp;<span class="ident" id="8253570">BenchmarkMatchEasy1_32</span><span class="op" id="8253592">(</span><span class="ident" id="8253593">b</span>&nbsp;<span class="op" id="8253595">*</span><span class="ident" id="8253596">testing</span><span class="op" id="8253603">.</span><span class="ident" id="8253604">B</span><span class="op" id="8253605">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253609">{</span>&nbsp;<span class="ident" id="8253611">benchmark</span><span class="op" id="8253620">(</span><span class="ident" id="8253621">b</span><span class="op" id="8253622">,</span>&nbsp;<span class="ident" id="8253624">easy1</span><span class="op" id="8253629">,</span>&nbsp;<span class="num" id="8253631">32</span><span class="op" id="8253633">&lt;&lt;</span><span class="num" id="8253635">0</span><span class="op" id="8253636">)</span>&nbsp;<span class="op" id="8253638">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253640">func</span>&nbsp;<span class="ident" id="8253645">BenchmarkMatchEasy1_1K</span><span class="op" id="8253667">(</span><span class="ident" id="8253668">b</span>&nbsp;<span class="op" id="8253670">*</span><span class="ident" id="8253671">testing</span><span class="op" id="8253678">.</span><span class="ident" id="8253679">B</span><span class="op" id="8253680">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253684">{</span>&nbsp;<span class="ident" id="8253686">benchmark</span><span class="op" id="8253695">(</span><span class="ident" id="8253696">b</span><span class="op" id="8253697">,</span>&nbsp;<span class="ident" id="8253699">easy1</span><span class="op" id="8253704">,</span>&nbsp;<span class="num" id="8253706">1</span><span class="op" id="8253707">&lt;&lt;</span><span class="num" id="8253709">10</span><span class="op" id="8253711">)</span>&nbsp;<span class="op" id="8253713">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253715">func</span>&nbsp;<span class="ident" id="8253720">BenchmarkMatchEasy1_32K</span><span class="op" id="8253743">(</span><span class="ident" id="8253744">b</span>&nbsp;<span class="op" id="8253746">*</span><span class="ident" id="8253747">testing</span><span class="op" id="8253754">.</span><span class="ident" id="8253755">B</span><span class="op" id="8253756">)</span>&nbsp;&nbsp;<span class="op" id="8253759">{</span>&nbsp;<span class="ident" id="8253761">benchmark</span><span class="op" id="8253770">(</span><span class="ident" id="8253771">b</span><span class="op" id="8253772">,</span>&nbsp;<span class="ident" id="8253774">easy1</span><span class="op" id="8253779">,</span>&nbsp;<span class="num" id="8253781">32</span><span class="op" id="8253783">&lt;&lt;</span><span class="num" id="8253785">10</span><span class="op" id="8253787">)</span>&nbsp;<span class="op" id="8253789">}</span><br>
<span class="lineno">690</span><span class="keyword" id="8253791">func</span>&nbsp;<span class="ident" id="8253796">BenchmarkMatchEasy1_1M</span><span class="op" id="8253818">(</span><span class="ident" id="8253819">b</span>&nbsp;<span class="op" id="8253821">*</span><span class="ident" id="8253822">testing</span><span class="op" id="8253829">.</span><span class="ident" id="8253830">B</span><span class="op" id="8253831">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8253835">{</span>&nbsp;<span class="ident" id="8253837">benchmark</span><span class="op" id="8253846">(</span><span class="ident" id="8253847">b</span><span class="op" id="8253848">,</span>&nbsp;<span class="ident" id="8253850">easy1</span><span class="op" id="8253855">,</span>&nbsp;<span class="num" id="8253857">1</span><span class="op" id="8253858">&lt;&lt;</span><span class="num" id="8253860">20</span><span class="op" id="8253862">)</span>&nbsp;<span class="op" id="8253864">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253866">func</span>&nbsp;<span class="ident" id="8253871">BenchmarkMatchEasy1_32M</span><span class="op" id="8253894">(</span><span class="ident" id="8253895">b</span>&nbsp;<span class="op" id="8253897">*</span><span class="ident" id="8253898">testing</span><span class="op" id="8253905">.</span><span class="ident" id="8253906">B</span><span class="op" id="8253907">)</span>&nbsp;&nbsp;<span class="op" id="8253910">{</span>&nbsp;<span class="ident" id="8253912">benchmark</span><span class="op" id="8253921">(</span><span class="ident" id="8253922">b</span><span class="op" id="8253923">,</span>&nbsp;<span class="ident" id="8253925">easy1</span><span class="op" id="8253930">,</span>&nbsp;<span class="num" id="8253932">32</span><span class="op" id="8253934">&lt;&lt;</span><span class="num" id="8253936">20</span><span class="op" id="8253938">)</span>&nbsp;<span class="op" id="8253940">}</span><br>
<span class="lineno"></span><span class="keyword" id="8253942">func</span>&nbsp;<span class="ident" id="8253947">BenchmarkMatchMedium_32</span><span class="op" id="8253970">(</span><span class="ident" id="8253971">b</span>&nbsp;<span class="op" id="8253973">*</span><span class="ident" id="8253974">testing</span><span class="op" id="8253981">.</span><span class="ident" id="8253982">B</span><span class="op" id="8253983">)</span>&nbsp;&nbsp;<span class="op" id="8253986">{</span>&nbsp;<span class="ident" id="8253988">benchmark</span><span class="op" id="8253997">(</span><span class="ident" id="8253998">b</span><span class="op" id="8253999">,</span>&nbsp;<span class="ident" id="8254001">medium</span><span class="op" id="8254007">,</span>&nbsp;<span class="num" id="8254009">32</span><span class="op" id="8254011">&lt;&lt;</span><span class="num" id="8254013">0</span><span class="op" id="8254014">)</span>&nbsp;<span class="op" id="8254016">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254018">func</span>&nbsp;<span class="ident" id="8254023">BenchmarkMatchMedium_1K</span><span class="op" id="8254046">(</span><span class="ident" id="8254047">b</span>&nbsp;<span class="op" id="8254049">*</span><span class="ident" id="8254050">testing</span><span class="op" id="8254057">.</span><span class="ident" id="8254058">B</span><span class="op" id="8254059">)</span>&nbsp;&nbsp;<span class="op" id="8254062">{</span>&nbsp;<span class="ident" id="8254064">benchmark</span><span class="op" id="8254073">(</span><span class="ident" id="8254074">b</span><span class="op" id="8254075">,</span>&nbsp;<span class="ident" id="8254077">medium</span><span class="op" id="8254083">,</span>&nbsp;<span class="num" id="8254085">1</span><span class="op" id="8254086">&lt;&lt;</span><span class="num" id="8254088">10</span><span class="op" id="8254090">)</span>&nbsp;<span class="op" id="8254092">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254094">func</span>&nbsp;<span class="ident" id="8254099">BenchmarkMatchMedium_32K</span><span class="op" id="8254123">(</span><span class="ident" id="8254124">b</span>&nbsp;<span class="op" id="8254126">*</span><span class="ident" id="8254127">testing</span><span class="op" id="8254134">.</span><span class="ident" id="8254135">B</span><span class="op" id="8254136">)</span>&nbsp;<span class="op" id="8254138">{</span>&nbsp;<span class="ident" id="8254140">benchmark</span><span class="op" id="8254149">(</span><span class="ident" id="8254150">b</span><span class="op" id="8254151">,</span>&nbsp;<span class="ident" id="8254153">medium</span><span class="op" id="8254159">,</span>&nbsp;<span class="num" id="8254161">32</span><span class="op" id="8254163">&lt;&lt;</span><span class="num" id="8254165">10</span><span class="op" id="8254167">)</span>&nbsp;<span class="op" id="8254169">}</span><br>
<span class="lineno">695</span><span class="keyword" id="8254171">func</span>&nbsp;<span class="ident" id="8254176">BenchmarkMatchMedium_1M</span><span class="op" id="8254199">(</span><span class="ident" id="8254200">b</span>&nbsp;<span class="op" id="8254202">*</span><span class="ident" id="8254203">testing</span><span class="op" id="8254210">.</span><span class="ident" id="8254211">B</span><span class="op" id="8254212">)</span>&nbsp;&nbsp;<span class="op" id="8254215">{</span>&nbsp;<span class="ident" id="8254217">benchmark</span><span class="op" id="8254226">(</span><span class="ident" id="8254227">b</span><span class="op" id="8254228">,</span>&nbsp;<span class="ident" id="8254230">medium</span><span class="op" id="8254236">,</span>&nbsp;<span class="num" id="8254238">1</span><span class="op" id="8254239">&lt;&lt;</span><span class="num" id="8254241">20</span><span class="op" id="8254243">)</span>&nbsp;<span class="op" id="8254245">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254247">func</span>&nbsp;<span class="ident" id="8254252">BenchmarkMatchMedium_32M</span><span class="op" id="8254276">(</span><span class="ident" id="8254277">b</span>&nbsp;<span class="op" id="8254279">*</span><span class="ident" id="8254280">testing</span><span class="op" id="8254287">.</span><span class="ident" id="8254288">B</span><span class="op" id="8254289">)</span>&nbsp;<span class="op" id="8254291">{</span>&nbsp;<span class="ident" id="8254293">benchmark</span><span class="op" id="8254302">(</span><span class="ident" id="8254303">b</span><span class="op" id="8254304">,</span>&nbsp;<span class="ident" id="8254306">medium</span><span class="op" id="8254312">,</span>&nbsp;<span class="num" id="8254314">32</span><span class="op" id="8254316">&lt;&lt;</span><span class="num" id="8254318">20</span><span class="op" id="8254320">)</span>&nbsp;<span class="op" id="8254322">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254324">func</span>&nbsp;<span class="ident" id="8254329">BenchmarkMatchHard_32</span><span class="op" id="8254350">(</span><span class="ident" id="8254351">b</span>&nbsp;<span class="op" id="8254353">*</span><span class="ident" id="8254354">testing</span><span class="op" id="8254361">.</span><span class="ident" id="8254362">B</span><span class="op" id="8254363">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254368">{</span>&nbsp;<span class="ident" id="8254370">benchmark</span><span class="op" id="8254379">(</span><span class="ident" id="8254380">b</span><span class="op" id="8254381">,</span>&nbsp;<span class="ident" id="8254383">hard</span><span class="op" id="8254387">,</span>&nbsp;<span class="num" id="8254389">32</span><span class="op" id="8254391">&lt;&lt;</span><span class="num" id="8254393">0</span><span class="op" id="8254394">)</span>&nbsp;<span class="op" id="8254396">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254398">func</span>&nbsp;<span class="ident" id="8254403">BenchmarkMatchHard_1K</span><span class="op" id="8254424">(</span><span class="ident" id="8254425">b</span>&nbsp;<span class="op" id="8254427">*</span><span class="ident" id="8254428">testing</span><span class="op" id="8254435">.</span><span class="ident" id="8254436">B</span><span class="op" id="8254437">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254442">{</span>&nbsp;<span class="ident" id="8254444">benchmark</span><span class="op" id="8254453">(</span><span class="ident" id="8254454">b</span><span class="op" id="8254455">,</span>&nbsp;<span class="ident" id="8254457">hard</span><span class="op" id="8254461">,</span>&nbsp;<span class="num" id="8254463">1</span><span class="op" id="8254464">&lt;&lt;</span><span class="num" id="8254466">10</span><span class="op" id="8254468">)</span>&nbsp;<span class="op" id="8254470">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254472">func</span>&nbsp;<span class="ident" id="8254477">BenchmarkMatchHard_32K</span><span class="op" id="8254499">(</span><span class="ident" id="8254500">b</span>&nbsp;<span class="op" id="8254502">*</span><span class="ident" id="8254503">testing</span><span class="op" id="8254510">.</span><span class="ident" id="8254511">B</span><span class="op" id="8254512">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8254516">{</span>&nbsp;<span class="ident" id="8254518">benchmark</span><span class="op" id="8254527">(</span><span class="ident" id="8254528">b</span><span class="op" id="8254529">,</span>&nbsp;<span class="ident" id="8254531">hard</span><span class="op" id="8254535">,</span>&nbsp;<span class="num" id="8254537">32</span><span class="op" id="8254539">&lt;&lt;</span><span class="num" id="8254541">10</span><span class="op" id="8254543">)</span>&nbsp;<span class="op" id="8254545">}</span><br>
<span class="lineno">700</span><span class="keyword" id="8254547">func</span>&nbsp;<span class="ident" id="8254552">BenchmarkMatchHard_1M</span><span class="op" id="8254573">(</span><span class="ident" id="8254574">b</span>&nbsp;<span class="op" id="8254576">*</span><span class="ident" id="8254577">testing</span><span class="op" id="8254584">.</span><span class="ident" id="8254585">B</span><span class="op" id="8254586">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8254591">{</span>&nbsp;<span class="ident" id="8254593">benchmark</span><span class="op" id="8254602">(</span><span class="ident" id="8254603">b</span><span class="op" id="8254604">,</span>&nbsp;<span class="ident" id="8254606">hard</span><span class="op" id="8254610">,</span>&nbsp;<span class="num" id="8254612">1</span><span class="op" id="8254613">&lt;&lt;</span><span class="num" id="8254615">20</span><span class="op" id="8254617">)</span>&nbsp;<span class="op" id="8254619">}</span><br>
<span class="lineno"></span><span class="keyword" id="8254621">func</span>&nbsp;<span class="ident" id="8254626">BenchmarkMatchHard_32M</span><span class="op" id="8254648">(</span><span class="ident" id="8254649">b</span>&nbsp;<span class="op" id="8254651">*</span><span class="ident" id="8254652">testing</span><span class="op" id="8254659">.</span><span class="ident" id="8254660">B</span><span class="op" id="8254661">)</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8254665">{</span>&nbsp;<span class="ident" id="8254667">benchmark</span><span class="op" id="8254676">(</span><span class="ident" id="8254677">b</span><span class="op" id="8254678">,</span>&nbsp;<span class="ident" id="8254680">hard</span><span class="op" id="8254684">,</span>&nbsp;<span class="num" id="8254686">32</span><span class="op" id="8254688">&lt;&lt;</span><span class="num" id="8254690">20</span><span class="op" id="8254692">)</span>&nbsp;<span class="op" id="8254694">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8254697">func</span>&nbsp;<span class="ident" id="8254702">TestLongest</span><span class="op" id="8254713">(</span><span class="ident" id="8254714">t</span>&nbsp;<span class="op" id="8254716">*</span><span class="ident" id="8254717">testing</span><span class="op" id="8254724">.</span><span class="ident" id="8254725">T</span><span class="op" id="8254726">)</span>&nbsp;<span class="op" id="8254728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254731">re</span><span class="op" id="8254733">,</span>&nbsp;<span class="ident" id="8254735">err</span>&nbsp;<span class="op" id="8254739">:=</span>&nbsp;<span class="ident" id="8254742">Compile</span><span class="op" id="8254749">(</span><span class="string" id="8254750">`a(|b)`</span><span class="op" id="8254757">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8254760">if</span>&nbsp;<span class="ident" id="8254763">err</span>&nbsp;<span class="op" id="8254767">!=</span>&nbsp;<span class="ident" id="8254770">nil</span>&nbsp;<span class="op" id="8254774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254778">t</span><span class="op" id="8254779">.</span><span class="ident" id="8254780">Fatal</span><span class="op" id="8254785">(</span><span class="ident" id="8254786">err</span><span class="op" id="8254789">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8254795">if</span>&nbsp;<span class="ident" id="8254798">g</span><span class="op" id="8254799">,</span>&nbsp;<span class="ident" id="8254801">w</span>&nbsp;<span class="op" id="8254803">:=</span>&nbsp;<span class="ident" id="8254806">re</span><span class="op" id="8254808">.</span><span class="ident" id="8254809">FindString</span><span class="op" id="8254819">(</span><span class="string" id="8254820">&#34;ab&#34;</span><span class="op" id="8254824">)</span><span class="op" id="8254825">,</span>&nbsp;<span class="string" id="8254827">&#34;a&#34;</span><span class="op" id="8254830">;</span>&nbsp;<span class="ident" id="8254832">g</span>&nbsp;<span class="op" id="8254834">!=</span>&nbsp;<span class="ident" id="8254837">w</span>&nbsp;<span class="op" id="8254839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254843">t</span><span class="op" id="8254844">.</span><span class="ident" id="8254845">Errorf</span><span class="op" id="8254851">(</span><span class="string" id="8254852">&#34;first&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8254881">,</span>&nbsp;<span class="ident" id="8254883">g</span><span class="op" id="8254884">,</span>&nbsp;<span class="ident" id="8254886">w</span><span class="op" id="8254887">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8254890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254893">re</span><span class="op" id="8254895">.</span><span class="ident" id="8254896">Longest</span><span class="op" id="8254903">(</span><span class="op" id="8254904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8254907">if</span>&nbsp;<span class="ident" id="8254910">g</span><span class="op" id="8254911">,</span>&nbsp;<span class="ident" id="8254913">w</span>&nbsp;<span class="op" id="8254915">:=</span>&nbsp;<span class="ident" id="8254918">re</span><span class="op" id="8254920">.</span><span class="ident" id="8254921">FindString</span><span class="op" id="8254931">(</span><span class="string" id="8254932">&#34;ab&#34;</span><span class="op" id="8254936">)</span><span class="op" id="8254937">,</span>&nbsp;<span class="string" id="8254939">&#34;ab&#34;</span><span class="op" id="8254943">;</span>&nbsp;<span class="ident" id="8254945">g</span>&nbsp;<span class="op" id="8254947">!=</span>&nbsp;<span class="ident" id="8254950">w</span>&nbsp;<span class="op" id="8254952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8254956">t</span><span class="op" id="8254957">.</span><span class="ident" id="8254958">Errorf</span><span class="op" id="8254964">(</span><span class="string" id="8254965">&#34;longest&nbsp;match&nbsp;was&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8254996">,</span>&nbsp;<span class="ident" id="8254998">g</span><span class="op" id="8254999">,</span>&nbsp;<span class="ident" id="8255001">w</span><span class="op" id="8255002">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8255005">}</span><br>
<span class="lineno">715</span><span class="op" id="8255007">}</span>
</div>
</body>
</html>
