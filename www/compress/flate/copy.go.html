<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4309062">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4309117">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4309171">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4309222">package</span>&nbsp;<span class="ident" id="4309230">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4309237">//&nbsp;forwardCopy&nbsp;is&nbsp;like&nbsp;the&nbsp;built-in&nbsp;copy&nbsp;function&nbsp;except&nbsp;that&nbsp;it&nbsp;always&nbsp;goes</span><br>
<span class="lineno"></span><span class="comment" id="4309314">//&nbsp;forward&nbsp;from&nbsp;the&nbsp;start,&nbsp;even&nbsp;if&nbsp;the&nbsp;dst&nbsp;and&nbsp;src&nbsp;overlap.</span><br>
<span class="lineno"></span><span class="comment" id="4309374">//&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to:</span><br>
<span class="lineno">10</span><span class="comment" id="4309398">//&nbsp;&nbsp;&nbsp;for&nbsp;i&nbsp;:=&nbsp;0;&nbsp;i&nbsp;&lt;&nbsp;n;&nbsp;i++&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="4309428">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mem[dst+i]&nbsp;=&nbsp;mem[src+i]</span><br>
<span class="lineno"></span><span class="comment" id="4309459">//&nbsp;&nbsp;&nbsp;}</span><br>
<span class="lineno"></span><span class="keyword" id="4309466">func</span>&nbsp;<span class="ident" id="4309471">forwardCopy</span><span class="op" id="4309482">(</span><span class="ident" id="4309483">mem</span>&nbsp;<span class="op" id="4309487">[</span><span class="op" id="4309488">]</span><span class="builtintype" id="4309489">byte</span><span class="op" id="4309493">,</span>&nbsp;<span class="ident" id="4309495">dst</span><span class="op" id="4309498">,</span>&nbsp;<span class="ident" id="4309500">src</span><span class="op" id="4309503">,</span>&nbsp;<span class="ident" id="4309505">n</span>&nbsp;<span class="builtintype" id="4309507">int</span><span class="op" id="4309510">)</span>&nbsp;<span class="op" id="4309512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309515">if</span>&nbsp;<span class="ident" id="4309518"><a href="/compress/flate/copy.go.html#4309495">dst</a></span>&nbsp;<span class="op" id="4309522">&lt;=</span>&nbsp;<span class="ident" id="4309525"><a href="/compress/flate/copy.go.html#4309500">src</a></span>&nbsp;<span class="op" id="4309529">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4309533">copy</span><span class="op" id="4309537">(</span><span class="ident" id="4309538"><a href="/compress/flate/copy.go.html#4309483">mem</a></span><span class="op" id="4309541">[</span><span class="ident" id="4309542"><a href="/compress/flate/copy.go.html#4309495">dst</a></span><span class="op" id="4309545">:</span><span class="ident" id="4309546"><a href="/compress/flate/copy.go.html#4309495">dst</a></span><span class="op" id="4309549">+</span><span class="ident" id="4309550"><a href="/compress/flate/copy.go.html#4309505">n</a></span><span class="op" id="4309551">]</span><span class="op" id="4309552">,</span>&nbsp;<span class="ident" id="4309554"><a href="/compress/flate/copy.go.html#4309483">mem</a></span><span class="op" id="4309557">[</span><span class="ident" id="4309558"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309561">:</span><span class="ident" id="4309562"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309565">+</span><span class="ident" id="4309566"><a href="/compress/flate/copy.go.html#4309505">n</a></span><span class="op" id="4309567">]</span><span class="op" id="4309568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309572">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309580">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309583">for</span>&nbsp;<span class="op" id="4309587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309591">if</span>&nbsp;<span class="ident" id="4309594"><a href="/compress/flate/copy.go.html#4309495">dst</a></span>&nbsp;<span class="op" id="4309598">&gt;=</span>&nbsp;<span class="ident" id="4309601"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309604">+</span><span class="ident" id="4309605"><a href="/compress/flate/copy.go.html#4309505">n</a></span>&nbsp;<span class="op" id="4309607">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4309612">copy</span><span class="op" id="4309616">(</span><span class="ident" id="4309617"><a href="/compress/flate/copy.go.html#4309483">mem</a></span><span class="op" id="4309620">[</span><span class="ident" id="4309621"><a href="/compress/flate/copy.go.html#4309495">dst</a></span><span class="op" id="4309624">:</span><span class="ident" id="4309625"><a href="/compress/flate/copy.go.html#4309495">dst</a></span><span class="op" id="4309628">+</span><span class="ident" id="4309629"><a href="/compress/flate/copy.go.html#4309505">n</a></span><span class="op" id="4309630">]</span><span class="op" id="4309631">,</span>&nbsp;<span class="ident" id="4309633"><a href="/compress/flate/copy.go.html#4309483">mem</a></span><span class="op" id="4309636">[</span><span class="ident" id="4309637"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309640">:</span><span class="ident" id="4309641"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309644">+</span><span class="ident" id="4309645"><a href="/compress/flate/copy.go.html#4309505">n</a></span><span class="op" id="4309646">]</span><span class="op" id="4309647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4309652">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4309665">//&nbsp;There&nbsp;is&nbsp;some&nbsp;forward&nbsp;overlap.&nbsp;&nbsp;The&nbsp;destination</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4309718">//&nbsp;will&nbsp;be&nbsp;filled&nbsp;with&nbsp;a&nbsp;repeated&nbsp;pattern&nbsp;of&nbsp;mem[src:src+k].</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4309781">//&nbsp;We&nbsp;copy&nbsp;one&nbsp;instance&nbsp;of&nbsp;the&nbsp;pattern&nbsp;here,&nbsp;then&nbsp;repeat.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4309841">//&nbsp;Each&nbsp;time&nbsp;around&nbsp;this&nbsp;loop&nbsp;k&nbsp;will&nbsp;double.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309888">k</span>&nbsp;<span class="op" id="4309890">:=</span>&nbsp;<span class="ident" id="4309893"><a href="/compress/flate/copy.go.html#4309495">dst</a></span>&nbsp;<span class="op" id="4309897">-</span>&nbsp;<span class="ident" id="4309899"><a href="/compress/flate/copy.go.html#4309500">src</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4309905">copy</span><span class="op" id="4309909">(</span><span class="ident" id="4309910"><a href="/compress/flate/copy.go.html#4309483">mem</a></span><span class="op" id="4309913">[</span><span class="ident" id="4309914"><a href="/compress/flate/copy.go.html#4309495">dst</a></span><span class="op" id="4309917">:</span><span class="ident" id="4309918"><a href="/compress/flate/copy.go.html#4309495">dst</a></span><span class="op" id="4309921">+</span><span class="ident" id="4309922"><a href="/compress/flate/copy.go.html#4309888">k</a></span><span class="op" id="4309923">]</span><span class="op" id="4309924">,</span>&nbsp;<span class="ident" id="4309926"><a href="/compress/flate/copy.go.html#4309483">mem</a></span><span class="op" id="4309929">[</span><span class="ident" id="4309930"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309933">:</span><span class="ident" id="4309934"><a href="/compress/flate/copy.go.html#4309500">src</a></span><span class="op" id="4309937">+</span><span class="ident" id="4309938"><a href="/compress/flate/copy.go.html#4309888">k</a></span><span class="op" id="4309939">]</span><span class="op" id="4309940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309944"><a href="/compress/flate/copy.go.html#4309505">n</a></span>&nbsp;<span class="op" id="4309946">-=</span>&nbsp;<span class="ident" id="4309949"><a href="/compress/flate/copy.go.html#4309888">k</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4309953"><a href="/compress/flate/copy.go.html#4309495">dst</a></span>&nbsp;<span class="op" id="4309957">+=</span>&nbsp;<span class="ident" id="4309960"><a href="/compress/flate/copy.go.html#4309888">k</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4309963">}</span><br>
<span class="lineno"></span><span class="op" id="4309965">}</span>
</div>
</body>
</html>
