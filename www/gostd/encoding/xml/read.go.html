<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html" class="current">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5682574">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5682630">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5682684">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5682735">package</span>&nbsp;<span class="ident" id="5682743">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5682748">import</span>&nbsp;<span class="op" id="5682755">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682758">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682767">&#34;encoding&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682779">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682789">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682796">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682807">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5682818">&#34;strings&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5682828">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5682831">//&nbsp;BUG(rsc):&nbsp;Mapping&nbsp;between&nbsp;XML&nbsp;elements&nbsp;and&nbsp;data&nbsp;structures&nbsp;is&nbsp;inherently&nbsp;flawed:</span><br>
<span class="lineno"></span><span class="comment" id="5682915">//&nbsp;an&nbsp;XML&nbsp;element&nbsp;is&nbsp;an&nbsp;order-dependent&nbsp;collection&nbsp;of&nbsp;anonymous</span><br>
<span class="lineno"></span><span class="comment" id="5682979">//&nbsp;values,&nbsp;while&nbsp;a&nbsp;data&nbsp;structure&nbsp;is&nbsp;an&nbsp;order-independent&nbsp;collection</span><br>
<span class="lineno">20</span><span class="comment" id="5683048">//&nbsp;of&nbsp;named&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="5683068">//&nbsp;See&nbsp;package&nbsp;json&nbsp;for&nbsp;a&nbsp;textual&nbsp;representation&nbsp;more&nbsp;suitable</span><br>
<span class="lineno"></span><span class="comment" id="5683131">//&nbsp;to&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5683155">//&nbsp;Unmarshal&nbsp;parses&nbsp;the&nbsp;XML-encoded&nbsp;data&nbsp;and&nbsp;stores&nbsp;the&nbsp;result&nbsp;in</span><br>
<span class="lineno">25</span><span class="comment" id="5683221">//&nbsp;the&nbsp;value&nbsp;pointed&nbsp;to&nbsp;by&nbsp;v,&nbsp;which&nbsp;must&nbsp;be&nbsp;an&nbsp;arbitrary&nbsp;struct,</span><br>
<span class="lineno"></span><span class="comment" id="5683286">//&nbsp;slice,&nbsp;or&nbsp;string.&nbsp;Well-formed&nbsp;data&nbsp;that&nbsp;does&nbsp;not&nbsp;fit&nbsp;into&nbsp;v&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5683352">//&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="5683366">//</span><br>
<span class="lineno"></span><span class="comment" id="5683369">//&nbsp;Because&nbsp;Unmarshal&nbsp;uses&nbsp;the&nbsp;reflect&nbsp;package,&nbsp;it&nbsp;can&nbsp;only&nbsp;assign</span><br>
<span class="lineno">30</span><span class="comment" id="5683435">//&nbsp;to&nbsp;exported&nbsp;(upper&nbsp;case)&nbsp;fields.&nbsp;&nbsp;Unmarshal&nbsp;uses&nbsp;a&nbsp;case-sensitive</span><br>
<span class="lineno"></span><span class="comment" id="5683504">//&nbsp;comparison&nbsp;to&nbsp;match&nbsp;XML&nbsp;element&nbsp;names&nbsp;to&nbsp;tag&nbsp;values&nbsp;and&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="5683570">//&nbsp;field&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="5683586">//</span><br>
<span class="lineno"></span><span class="comment" id="5683589">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;struct&nbsp;using&nbsp;the&nbsp;following&nbsp;rules.</span><br>
<span class="lineno">35</span><span class="comment" id="5683661">//&nbsp;In&nbsp;the&nbsp;rules,&nbsp;the&nbsp;tag&nbsp;of&nbsp;a&nbsp;field&nbsp;refers&nbsp;to&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5683737">//&nbsp;key&nbsp;&#39;xml&#39;&nbsp;in&nbsp;the&nbsp;struct&nbsp;field&#39;s&nbsp;tag&nbsp;(see&nbsp;the&nbsp;example&nbsp;above).</span><br>
<span class="lineno"></span><span class="comment" id="5683801">//</span><br>
<span class="lineno"></span><span class="comment" id="5683804">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;of&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string&nbsp;with&nbsp;tag</span><br>
<span class="lineno"></span><span class="comment" id="5683871">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;,innerxml&#34;,&nbsp;Unmarshal&nbsp;accumulates&nbsp;the&nbsp;raw&nbsp;XML&nbsp;nested&nbsp;inside&nbsp;the</span><br>
<span class="lineno">40</span><span class="comment" id="5683944">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;in&nbsp;that&nbsp;field.&nbsp;&nbsp;The&nbsp;rest&nbsp;of&nbsp;the&nbsp;rules&nbsp;still&nbsp;apply.</span><br>
<span class="lineno"></span><span class="comment" id="5684011">//</span><br>
<span class="lineno"></span><span class="comment" id="5684014">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;named&nbsp;XMLName&nbsp;of&nbsp;type&nbsp;xml.Name,</span><br>
<span class="lineno"></span><span class="comment" id="5684079">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unmarshal&nbsp;records&nbsp;the&nbsp;element&nbsp;name&nbsp;in&nbsp;that&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="5684137">//</span><br>
<span class="lineno">45</span><span class="comment" id="5684140">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XMLName&nbsp;field&nbsp;has&nbsp;an&nbsp;associated&nbsp;tag&nbsp;of&nbsp;the&nbsp;form</span><br>
<span class="lineno"></span><span class="comment" id="5684202">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;name&#34;&nbsp;or&nbsp;&#34;namespace-URL&nbsp;name&#34;,&nbsp;the&nbsp;XML&nbsp;element&nbsp;must&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="5684268">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;given&nbsp;name&nbsp;(and,&nbsp;optionally,&nbsp;name&nbsp;space)&nbsp;or&nbsp;else&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="5684339">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="5684365">//</span><br>
<span class="lineno">50</span><span class="comment" id="5684368">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;has&nbsp;an&nbsp;attribute&nbsp;whose&nbsp;name&nbsp;matches&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5684432">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;struct&nbsp;field&nbsp;name&nbsp;with&nbsp;an&nbsp;associated&nbsp;tag&nbsp;containing&nbsp;&#34;,attr&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="5684503">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;explicit&nbsp;name&nbsp;in&nbsp;a&nbsp;struct&nbsp;field&nbsp;tag&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;name,attr&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="5684576">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unmarshal&nbsp;records&nbsp;the&nbsp;attribute&nbsp;value&nbsp;in&nbsp;that&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="5684637">//</span><br>
<span class="lineno">55</span><span class="comment" id="5684640">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;character&nbsp;data,&nbsp;that&nbsp;data&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5684704">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;accumulated&nbsp;in&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;that&nbsp;has&nbsp;tag&nbsp;&#34;,chardata&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="5684776">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;struct&nbsp;field&nbsp;may&nbsp;have&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5684833">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;field,&nbsp;the&nbsp;character&nbsp;data&nbsp;is&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="5684901">//</span><br>
<span class="lineno">60</span><span class="comment" id="5684904">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;comments,&nbsp;they&nbsp;are&nbsp;accumulated&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="5684973">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;that&nbsp;has&nbsp;tag&nbsp;&#34;,comment&#34;.&nbsp;&nbsp;The&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="5685041">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;may&nbsp;have&nbsp;type&nbsp;[]byte&nbsp;or&nbsp;string.&nbsp;&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such</span><br>
<span class="lineno"></span><span class="comment" id="5685108">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field,&nbsp;the&nbsp;comments&nbsp;are&nbsp;discarded.</span><br>
<span class="lineno"></span><span class="comment" id="5685151">//</span><br>
<span class="lineno">65</span><span class="comment" id="5685154">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="5685222">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;prefix&nbsp;of&nbsp;a&nbsp;tag&nbsp;formatted&nbsp;as&nbsp;&#34;a&#34;&nbsp;or&nbsp;&#34;a&gt;b&gt;c&#34;,&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="5685289">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;descend&nbsp;into&nbsp;the&nbsp;XML&nbsp;structure&nbsp;looking&nbsp;for&nbsp;elements&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5685363">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given&nbsp;names,&nbsp;and&nbsp;will&nbsp;map&nbsp;the&nbsp;innermost&nbsp;elements&nbsp;to&nbsp;that&nbsp;struct</span><br>
<span class="lineno"></span><span class="comment" id="5685435">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field.&nbsp;A&nbsp;tag&nbsp;starting&nbsp;with&nbsp;&#34;&gt;&#34;&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;one&nbsp;starting</span><br>
<span class="lineno">70</span><span class="comment" id="5685504">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;the&nbsp;field&nbsp;name&nbsp;followed&nbsp;by&nbsp;&#34;&gt;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="5685549">//</span><br>
<span class="lineno"></span><span class="comment" id="5685552">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches</span><br>
<span class="lineno"></span><span class="comment" id="5685620">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;struct&nbsp;field&#39;s&nbsp;XMLName&nbsp;tag&nbsp;and&nbsp;the&nbsp;struct&nbsp;field&nbsp;has&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="5685685">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicit&nbsp;name&nbsp;tag&nbsp;as&nbsp;per&nbsp;the&nbsp;previous&nbsp;rule,&nbsp;unmarshal&nbsp;maps</span><br>
<span class="lineno">75</span><span class="comment" id="5685752">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="5685798">//</span><br>
<span class="lineno"></span><span class="comment" id="5685801">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;whose&nbsp;name&nbsp;matches&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="5685871">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field&nbsp;without&nbsp;any&nbsp;mode&nbsp;flags&nbsp;(&#34;,attr&#34;,&nbsp;&#34;,chardata&#34;,&nbsp;etc),&nbsp;Unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="5685947">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maps&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno">80</span><span class="comment" id="5685998">//</span><br>
<span class="lineno"></span><span class="comment" id="5686001">//&nbsp;&nbsp;&nbsp;*&nbsp;If&nbsp;the&nbsp;XML&nbsp;element&nbsp;contains&nbsp;a&nbsp;sub-element&nbsp;that&nbsp;hasn&#39;t&nbsp;matched&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="5686074">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of&nbsp;the&nbsp;above&nbsp;rules&nbsp;and&nbsp;the&nbsp;struct&nbsp;has&nbsp;a&nbsp;field&nbsp;with&nbsp;tag&nbsp;&#34;,any&#34;,</span><br>
<span class="lineno"></span><span class="comment" id="5686145">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unmarshal&nbsp;maps&nbsp;the&nbsp;sub-element&nbsp;to&nbsp;that&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="5686206">//</span><br>
<span class="lineno">85</span><span class="comment" id="5686209">//&nbsp;&nbsp;&nbsp;*&nbsp;An&nbsp;anonymous&nbsp;struct&nbsp;field&nbsp;is&nbsp;handled&nbsp;as&nbsp;if&nbsp;the&nbsp;fields&nbsp;of&nbsp;its</span><br>
<span class="lineno"></span><span class="comment" id="5686277">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;were&nbsp;part&nbsp;of&nbsp;the&nbsp;outer&nbsp;struct.</span><br>
<span class="lineno"></span><span class="comment" id="5686322">//</span><br>
<span class="lineno"></span><span class="comment" id="5686325">//&nbsp;&nbsp;&nbsp;*&nbsp;A&nbsp;struct&nbsp;field&nbsp;with&nbsp;tag&nbsp;&#34;-&#34;&nbsp;is&nbsp;never&nbsp;unmarshalled&nbsp;into.</span><br>
<span class="lineno"></span><span class="comment" id="5686388">//</span><br>
<span class="lineno">90</span><span class="comment" id="5686391">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte&nbsp;by&nbsp;saving&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5686460">//&nbsp;concatenation&nbsp;of&nbsp;that&nbsp;element&#39;s&nbsp;character&nbsp;data&nbsp;in&nbsp;the&nbsp;string&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="5686527">//&nbsp;[]byte.&nbsp;The&nbsp;saved&nbsp;[]byte&nbsp;is&nbsp;never&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="5686569">//</span><br>
<span class="lineno"></span><span class="comment" id="5686572">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;attribute&nbsp;value&nbsp;to&nbsp;a&nbsp;string&nbsp;or&nbsp;[]byte&nbsp;by&nbsp;saving</span><br>
<span class="lineno">95</span><span class="comment" id="5686641">//&nbsp;the&nbsp;value&nbsp;in&nbsp;the&nbsp;string&nbsp;or&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="5686678">//</span><br>
<span class="lineno"></span><span class="comment" id="5686681">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;slice&nbsp;by&nbsp;extending&nbsp;the&nbsp;length&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="5686752">//&nbsp;the&nbsp;slice&nbsp;and&nbsp;mapping&nbsp;the&nbsp;element&nbsp;to&nbsp;the&nbsp;newly&nbsp;created&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5686817">//</span><br>
<span class="lineno">100</span><span class="comment" id="5686820">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;or&nbsp;attribute&nbsp;value&nbsp;to&nbsp;a&nbsp;bool&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="5686885">//&nbsp;setting&nbsp;it&nbsp;to&nbsp;the&nbsp;boolean&nbsp;value&nbsp;represented&nbsp;by&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="5686947">//</span><br>
<span class="lineno"></span><span class="comment" id="5686950">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;or&nbsp;attribute&nbsp;value&nbsp;to&nbsp;an&nbsp;integer&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="5687019">//&nbsp;floating-point&nbsp;field&nbsp;by&nbsp;setting&nbsp;the&nbsp;field&nbsp;to&nbsp;the&nbsp;result&nbsp;of</span><br>
<span class="lineno">105</span><span class="comment" id="5687081">//&nbsp;interpreting&nbsp;the&nbsp;string&nbsp;value&nbsp;in&nbsp;decimal.&nbsp;&nbsp;There&nbsp;is&nbsp;no&nbsp;check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5687149">//&nbsp;overflow.</span><br>
<span class="lineno"></span><span class="comment" id="5687162">//</span><br>
<span class="lineno"></span><span class="comment" id="5687165">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;an&nbsp;xml.Name&nbsp;by&nbsp;recording&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5687230">//&nbsp;element&nbsp;name.</span><br>
<span class="lineno">110</span><span class="comment" id="5687247">//</span><br>
<span class="lineno"></span><span class="comment" id="5687250">//&nbsp;Unmarshal&nbsp;maps&nbsp;an&nbsp;XML&nbsp;element&nbsp;to&nbsp;a&nbsp;pointer&nbsp;by&nbsp;setting&nbsp;the&nbsp;pointer</span><br>
<span class="lineno"></span><span class="comment" id="5687319">//&nbsp;to&nbsp;a&nbsp;freshly&nbsp;allocated&nbsp;value&nbsp;and&nbsp;then&nbsp;mapping&nbsp;the&nbsp;element&nbsp;to&nbsp;that&nbsp;value.</span><br>
<span class="lineno"></span><span class="comment" id="5687395">//</span><br>
<span class="lineno"></span><span class="keyword" id="5687398">func</span>&nbsp;<span class="ident" id="5687403">Unmarshal</span><span class="op" id="5687412">(</span><span class="ident" id="5687413">data</span>&nbsp;<span class="op" id="5687418">[</span><span class="op" id="5687419">]</span><span class="builtintype" id="5687420">byte</span><span class="op" id="5687424">,</span>&nbsp;<span class="ident" id="5687426">v</span>&nbsp;<span class="keyword" id="5687428">interface</span><span class="op" id="5687437">{</span><span class="op" id="5687438">}</span><span class="op" id="5687439">)</span>&nbsp;<span class="builtintype" id="5687441">error</span>&nbsp;<span class="op" id="5687447">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5687450">return</span>&nbsp;<span class="ident" id="5687457">NewDecoder</span><span class="op" id="5687467">(</span><span class="ident" id="5687468">bytes</span><span class="op" id="5687473">.</span><span class="ident" id="5687474">NewReader</span><span class="op" id="5687483">(</span><span class="ident" id="5687484">data</span><span class="op" id="5687488">)</span><span class="op" id="5687489">)</span><span class="op" id="5687490">.</span><span class="ident" id="5687491">Decode</span><span class="op" id="5687497">(</span><span class="ident" id="5687498">v</span><span class="op" id="5687499">)</span><br>
<span class="lineno"></span><span class="op" id="5687501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5687504">//&nbsp;Decode&nbsp;works&nbsp;like&nbsp;xml.Unmarshal,&nbsp;except&nbsp;it&nbsp;reads&nbsp;the&nbsp;decoder</span><br>
<span class="lineno"></span><span class="comment" id="5687568">//&nbsp;stream&nbsp;to&nbsp;find&nbsp;the&nbsp;start&nbsp;element.</span><br>
<span class="lineno">120</span><span class="keyword" id="5687605">func</span>&nbsp;<span class="op" id="5687610">(</span><span class="ident" id="5687611">d</span>&nbsp;<span class="op" id="5687613">*</span><span class="ident" id="5687614">Decoder</span><span class="op" id="5687621">)</span>&nbsp;<span class="ident" id="5687623">Decode</span><span class="op" id="5687629">(</span><span class="ident" id="5687630">v</span>&nbsp;<span class="keyword" id="5687632">interface</span><span class="op" id="5687641">{</span><span class="op" id="5687642">}</span><span class="op" id="5687643">)</span>&nbsp;<span class="builtintype" id="5687645">error</span>&nbsp;<span class="op" id="5687651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5687654">return</span>&nbsp;<span class="ident" id="5687661">d</span><span class="op" id="5687662">.</span><span class="ident" id="5687663">DecodeElement</span><span class="op" id="5687676">(</span><span class="ident" id="5687677">v</span><span class="op" id="5687678">,</span>&nbsp;<span class="builtintype" id="5687680">nil</span><span class="op" id="5687683">)</span><br>
<span class="lineno"></span><span class="op" id="5687685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5687688">//&nbsp;DecodeElement&nbsp;works&nbsp;like&nbsp;xml.Unmarshal&nbsp;except&nbsp;that&nbsp;it&nbsp;takes</span><br>
<span class="lineno">125</span><span class="comment" id="5687751">//&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;start&nbsp;XML&nbsp;element&nbsp;to&nbsp;decode&nbsp;into&nbsp;v.</span><br>
<span class="lineno"></span><span class="comment" id="5687807">//&nbsp;It&nbsp;is&nbsp;useful&nbsp;when&nbsp;a&nbsp;client&nbsp;reads&nbsp;some&nbsp;raw&nbsp;XML&nbsp;tokens&nbsp;itself</span><br>
<span class="lineno"></span><span class="comment" id="5687870">//&nbsp;but&nbsp;also&nbsp;wants&nbsp;to&nbsp;defer&nbsp;to&nbsp;Unmarshal&nbsp;for&nbsp;some&nbsp;elements.</span><br>
<span class="lineno"></span><span class="keyword" id="5687929">func</span>&nbsp;<span class="op" id="5687934">(</span><span class="ident" id="5687935">d</span>&nbsp;<span class="op" id="5687937">*</span><span class="ident" id="5687938">Decoder</span><span class="op" id="5687945">)</span>&nbsp;<span class="ident" id="5687947">DecodeElement</span><span class="op" id="5687960">(</span><span class="ident" id="5687961">v</span>&nbsp;<span class="keyword" id="5687963">interface</span><span class="op" id="5687972">{</span><span class="op" id="5687973">}</span><span class="op" id="5687974">,</span>&nbsp;<span class="ident" id="5687976">start</span>&nbsp;<span class="op" id="5687982">*</span><span class="ident" id="5687983">StartElement</span><span class="op" id="5687995">)</span>&nbsp;<span class="builtintype" id="5687997">error</span>&nbsp;<span class="op" id="5688003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5688006">val</span>&nbsp;<span class="op" id="5688010">:=</span>&nbsp;<span class="ident" id="5688013">reflect</span><span class="op" id="5688020">.</span><span class="ident" id="5688021">ValueOf</span><span class="op" id="5688028">(</span><span class="ident" id="5688029">v</span><span class="op" id="5688030">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5688033">if</span>&nbsp;<span class="ident" id="5688036">val</span><span class="op" id="5688039">.</span><span class="ident" id="5688040">Kind</span><span class="op" id="5688044">(</span><span class="op" id="5688045">)</span>&nbsp;<span class="op" id="5688047">!=</span>&nbsp;<span class="ident" id="5688050">reflect</span><span class="op" id="5688057">.</span><span class="ident" id="5688058">Ptr</span>&nbsp;<span class="op" id="5688062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5688066">return</span>&nbsp;<span class="ident" id="5688073">errors</span><span class="op" id="5688079">.</span><span class="ident" id="5688080">New</span><span class="op" id="5688083">(</span><span class="string" id="5688084">&#34;non-pointer&nbsp;passed&nbsp;to&nbsp;Unmarshal&#34;</span><span class="op" id="5688117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5688120">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5688123">return</span>&nbsp;<span class="ident" id="5688130">d</span><span class="op" id="5688131">.</span><span class="ident" id="5688132">unmarshal</span><span class="op" id="5688141">(</span><span class="ident" id="5688142">val</span><span class="op" id="5688145">.</span><span class="ident" id="5688146">Elem</span><span class="op" id="5688150">(</span><span class="op" id="5688151">)</span><span class="op" id="5688152">,</span>&nbsp;<span class="ident" id="5688154">start</span><span class="op" id="5688159">)</span><br>
<span class="lineno"></span><span class="op" id="5688161">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="comment" id="5688164">//&nbsp;An&nbsp;UnmarshalError&nbsp;represents&nbsp;an&nbsp;error&nbsp;in&nbsp;the&nbsp;unmarshalling&nbsp;process.</span><br>
<span class="lineno"></span><span class="keyword" id="5688235">type</span>&nbsp;<span class="ident" id="5688240">UnmarshalError</span>&nbsp;<span class="builtintype" id="5688255">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5688263">func</span>&nbsp;<span class="op" id="5688268">(</span><span class="ident" id="5688269">e</span>&nbsp;<span class="ident" id="5688271">UnmarshalError</span><span class="op" id="5688285">)</span>&nbsp;<span class="ident" id="5688287">Error</span><span class="op" id="5688292">(</span><span class="op" id="5688293">)</span>&nbsp;<span class="builtintype" id="5688295">string</span>&nbsp;<span class="op" id="5688302">{</span>&nbsp;<span class="keyword" id="5688304">return</span>&nbsp;<span class="builtintype" id="5688311">string</span><span class="op" id="5688317">(</span><span class="ident" id="5688318">e</span><span class="op" id="5688319">)</span>&nbsp;<span class="op" id="5688321">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="5688324">//&nbsp;Unmarshaler&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects&nbsp;that&nbsp;can&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="5688398">//&nbsp;an&nbsp;XML&nbsp;element&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="5688443">//</span><br>
<span class="lineno"></span><span class="comment" id="5688446">//&nbsp;UnmarshalXML&nbsp;decodes&nbsp;a&nbsp;single&nbsp;XML&nbsp;element</span><br>
<span class="lineno">145</span><span class="comment" id="5688491">//&nbsp;beginning&nbsp;with&nbsp;the&nbsp;given&nbsp;start&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="5688534">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;an&nbsp;error,&nbsp;the&nbsp;outer&nbsp;call&nbsp;to&nbsp;Unmarshal&nbsp;stops&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5688599">//&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="5688622">//&nbsp;UnmarshalXML&nbsp;must&nbsp;consume&nbsp;exactly&nbsp;one&nbsp;XML&nbsp;element.</span><br>
<span class="lineno"></span><span class="comment" id="5688676">//&nbsp;One&nbsp;common&nbsp;implementation&nbsp;strategy&nbsp;is&nbsp;to&nbsp;unmarshal&nbsp;into</span><br>
<span class="lineno">150</span><span class="comment" id="5688735">//&nbsp;a&nbsp;separate&nbsp;value&nbsp;with&nbsp;a&nbsp;layout&nbsp;matching&nbsp;the&nbsp;expected&nbsp;XML</span><br>
<span class="lineno"></span><span class="comment" id="5688795">//&nbsp;using&nbsp;d.DecodeElement,&nbsp;&nbsp;and&nbsp;then&nbsp;to&nbsp;copy&nbsp;the&nbsp;data&nbsp;from</span><br>
<span class="lineno"></span><span class="comment" id="5688853">//&nbsp;that&nbsp;value&nbsp;into&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="5688886">//&nbsp;Another&nbsp;common&nbsp;strategy&nbsp;is&nbsp;to&nbsp;use&nbsp;d.Token&nbsp;to&nbsp;process&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5688946">//&nbsp;XML&nbsp;object&nbsp;one&nbsp;token&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno">155</span><span class="comment" id="5688981">//&nbsp;UnmarshalXML&nbsp;may&nbsp;not&nbsp;use&nbsp;d.RawToken.</span><br>
<span class="lineno"></span><span class="keyword" id="5689021">type</span>&nbsp;<span class="ident" id="5689026">Unmarshaler</span>&nbsp;<span class="keyword" id="5689038">interface</span>&nbsp;<span class="op" id="5689048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689051">UnmarshalXML</span><span class="op" id="5689063">(</span><span class="ident" id="5689064">d</span>&nbsp;<span class="op" id="5689066">*</span><span class="ident" id="5689067">Decoder</span><span class="op" id="5689074">,</span>&nbsp;<span class="ident" id="5689076">start</span>&nbsp;<span class="ident" id="5689082">StartElement</span><span class="op" id="5689094">)</span>&nbsp;<span class="builtintype" id="5689096">error</span><br>
<span class="lineno"></span><span class="op" id="5689102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="comment" id="5689105">//&nbsp;UnmarshalerAttr&nbsp;is&nbsp;the&nbsp;interface&nbsp;implemented&nbsp;by&nbsp;objects&nbsp;that&nbsp;can&nbsp;unmarshal</span><br>
<span class="lineno"></span><span class="comment" id="5689183">//&nbsp;an&nbsp;XML&nbsp;attribute&nbsp;description&nbsp;of&nbsp;themselves.</span><br>
<span class="lineno"></span><span class="comment" id="5689230">//</span><br>
<span class="lineno"></span><span class="comment" id="5689233">//&nbsp;UnmarshalXMLAttr&nbsp;decodes&nbsp;a&nbsp;single&nbsp;XML&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="5689285">//&nbsp;If&nbsp;it&nbsp;returns&nbsp;an&nbsp;error,&nbsp;the&nbsp;outer&nbsp;call&nbsp;to&nbsp;Unmarshal&nbsp;stops&nbsp;and</span><br>
<span class="lineno">165</span><span class="comment" id="5689350">//&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="comment" id="5689373">//&nbsp;UnmarshalXMLAttr&nbsp;is&nbsp;used&nbsp;only&nbsp;for&nbsp;struct&nbsp;fields&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5689433">//&nbsp;&#34;attr&#34;&nbsp;option&nbsp;in&nbsp;the&nbsp;field&nbsp;tag.</span><br>
<span class="lineno"></span><span class="keyword" id="5689468">type</span>&nbsp;<span class="ident" id="5689473">UnmarshalerAttr</span>&nbsp;<span class="keyword" id="5689489">interface</span>&nbsp;<span class="op" id="5689499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689502">UnmarshalXMLAttr</span><span class="op" id="5689518">(</span><span class="ident" id="5689519">attr</span>&nbsp;<span class="ident" id="5689524">Attr</span><span class="op" id="5689528">)</span>&nbsp;<span class="builtintype" id="5689530">error</span><br>
<span class="lineno">170</span><span class="op" id="5689536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5689539">//&nbsp;receiverType&nbsp;returns&nbsp;the&nbsp;receiver&nbsp;type&nbsp;to&nbsp;use&nbsp;in&nbsp;an&nbsp;expression&nbsp;like&nbsp;&#34;%s.MethodName&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="5689627">func</span>&nbsp;<span class="ident" id="5689632">receiverType</span><span class="op" id="5689644">(</span><span class="ident" id="5689645">val</span>&nbsp;<span class="keyword" id="5689649">interface</span><span class="op" id="5689658">{</span><span class="op" id="5689659">}</span><span class="op" id="5689660">)</span>&nbsp;<span class="builtintype" id="5689662">string</span>&nbsp;<span class="op" id="5689669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5689672">t</span>&nbsp;<span class="op" id="5689674">:=</span>&nbsp;<span class="ident" id="5689677">reflect</span><span class="op" id="5689684">.</span><span class="ident" id="5689685">TypeOf</span><span class="op" id="5689691">(</span><span class="ident" id="5689692">val</span><span class="op" id="5689695">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689698">if</span>&nbsp;<span class="ident" id="5689701">t</span><span class="op" id="5689702">.</span><span class="ident" id="5689703">Name</span><span class="op" id="5689707">(</span><span class="op" id="5689708">)</span>&nbsp;<span class="op" id="5689710">!=</span>&nbsp;<span class="string" id="5689713">&#34;&#34;</span>&nbsp;<span class="op" id="5689716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689720">return</span>&nbsp;<span class="ident" id="5689727">t</span><span class="op" id="5689728">.</span><span class="ident" id="5689729">String</span><span class="op" id="5689735">(</span><span class="op" id="5689736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5689739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5689742">return</span>&nbsp;<span class="string" id="5689749">&#34;(&#34;</span>&nbsp;<span class="op" id="5689753">+</span>&nbsp;<span class="ident" id="5689755">t</span><span class="op" id="5689756">.</span><span class="ident" id="5689757">String</span><span class="op" id="5689763">(</span><span class="op" id="5689764">)</span>&nbsp;<span class="op" id="5689766">+</span>&nbsp;<span class="string" id="5689768">&#34;)&#34;</span><br>
<span class="lineno"></span><span class="op" id="5689772">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="comment" id="5689775">//&nbsp;unmarshalInterface&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="5689839">//&nbsp;start&nbsp;is&nbsp;the&nbsp;opening&nbsp;tag&nbsp;of&nbsp;the&nbsp;element.</span><br>
<span class="lineno"></span><span class="keyword" id="5689883">func</span>&nbsp;<span class="op" id="5689888">(</span><span class="ident" id="5689889">p</span>&nbsp;<span class="op" id="5689891">*</span><span class="ident" id="5689892">Decoder</span><span class="op" id="5689899">)</span>&nbsp;<span class="ident" id="5689901">unmarshalInterface</span><span class="op" id="5689919">(</span><span class="ident" id="5689920">val</span>&nbsp;<span class="ident" id="5689924">Unmarshaler</span><span class="op" id="5689935">,</span>&nbsp;<span class="ident" id="5689937">start</span>&nbsp;<span class="op" id="5689943">*</span><span class="ident" id="5689944">StartElement</span><span class="op" id="5689956">)</span>&nbsp;<span class="builtintype" id="5689958">error</span>&nbsp;<span class="op" id="5689964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5689967">//&nbsp;Record&nbsp;that&nbsp;decoder&nbsp;must&nbsp;stop&nbsp;at&nbsp;end&nbsp;tag&nbsp;corresponding&nbsp;to&nbsp;start.</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690036">p</span><span class="op" id="5690037">.</span><span class="ident" id="5690038">pushEOF</span><span class="op" id="5690045">(</span><span class="op" id="5690046">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690050">p</span><span class="op" id="5690051">.</span><span class="ident" id="5690052">unmarshalDepth</span><span class="op" id="5690066">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690070">err</span>&nbsp;<span class="op" id="5690074">:=</span>&nbsp;<span class="ident" id="5690077">val</span><span class="op" id="5690080">.</span><span class="ident" id="5690081">UnmarshalXML</span><span class="op" id="5690093">(</span><span class="ident" id="5690094">p</span><span class="op" id="5690095">,</span>&nbsp;<span class="op" id="5690097">*</span><span class="ident" id="5690098">start</span><span class="op" id="5690103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690106">p</span><span class="op" id="5690107">.</span><span class="ident" id="5690108">unmarshalDepth</span><span class="op" id="5690122">--</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690126">if</span>&nbsp;<span class="ident" id="5690129">err</span>&nbsp;<span class="op" id="5690133">!=</span>&nbsp;<span class="builtintype" id="5690136">nil</span>&nbsp;<span class="op" id="5690140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690144">p</span><span class="op" id="5690145">.</span><span class="ident" id="5690146">popEOF</span><span class="op" id="5690152">(</span><span class="op" id="5690153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690157">return</span>&nbsp;<span class="ident" id="5690164">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5690169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690173">if</span>&nbsp;<span class="op" id="5690176">!</span><span class="ident" id="5690177">p</span><span class="op" id="5690178">.</span><span class="ident" id="5690179">popEOF</span><span class="op" id="5690185">(</span><span class="op" id="5690186">)</span>&nbsp;<span class="op" id="5690188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690192">return</span>&nbsp;<span class="ident" id="5690199">fmt</span><span class="op" id="5690202">.</span><span class="ident" id="5690203">Errorf</span><span class="op" id="5690209">(</span><span class="string" id="5690210">&#34;xml:&nbsp;%s.UnmarshalXML&nbsp;did&nbsp;not&nbsp;consume&nbsp;entire&nbsp;&lt;%s&gt;&nbsp;element&#34;</span><span class="op" id="5690268">,</span>&nbsp;<span class="ident" id="5690270">receiverType</span><span class="op" id="5690282">(</span><span class="ident" id="5690283">val</span><span class="op" id="5690286">)</span><span class="op" id="5690287">,</span>&nbsp;<span class="ident" id="5690289">start</span><span class="op" id="5690294">.</span><span class="ident" id="5690295">Name</span><span class="op" id="5690299">.</span><span class="ident" id="5690300">Local</span><span class="op" id="5690305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5690308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690312">return</span>&nbsp;<span class="builtintype" id="5690319">nil</span><br>
<span class="lineno">200</span><span class="op" id="5690323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5690326">//&nbsp;unmarshalTextInterface&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="5690394">//&nbsp;The&nbsp;chardata&nbsp;contained&nbsp;in&nbsp;the&nbsp;element&nbsp;(but&nbsp;not&nbsp;its&nbsp;children)</span><br>
<span class="lineno"></span><span class="comment" id="5690458">//&nbsp;is&nbsp;passed&nbsp;to&nbsp;the&nbsp;text&nbsp;unmarshaler.</span><br>
<span class="lineno">205</span><span class="keyword" id="5690496">func</span>&nbsp;<span class="op" id="5690501">(</span><span class="ident" id="5690502">p</span>&nbsp;<span class="op" id="5690504">*</span><span class="ident" id="5690505">Decoder</span><span class="op" id="5690512">)</span>&nbsp;<span class="ident" id="5690514">unmarshalTextInterface</span><span class="op" id="5690536">(</span><span class="ident" id="5690537">val</span>&nbsp;<span class="ident" id="5690541">encoding</span><span class="op" id="5690549">.</span><span class="ident" id="5690550">TextUnmarshaler</span><span class="op" id="5690565">,</span>&nbsp;<span class="ident" id="5690567">start</span>&nbsp;<span class="op" id="5690573">*</span><span class="ident" id="5690574">StartElement</span><span class="op" id="5690586">)</span>&nbsp;<span class="builtintype" id="5690588">error</span>&nbsp;<span class="op" id="5690594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690597">var</span>&nbsp;<span class="ident" id="5690601">buf</span>&nbsp;<span class="op" id="5690605">[</span><span class="op" id="5690606">]</span><span class="builtintype" id="5690607">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690613">depth</span>&nbsp;<span class="op" id="5690619">:=</span>&nbsp;<span class="num" id="5690622">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690625">for</span>&nbsp;<span class="ident" id="5690629">depth</span>&nbsp;<span class="op" id="5690635">&gt;</span>&nbsp;<span class="num" id="5690637">0</span>&nbsp;<span class="op" id="5690639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690643">t</span><span class="op" id="5690644">,</span>&nbsp;<span class="ident" id="5690646">err</span>&nbsp;<span class="op" id="5690650">:=</span>&nbsp;<span class="ident" id="5690653">p</span><span class="op" id="5690654">.</span><span class="ident" id="5690655">Token</span><span class="op" id="5690660">(</span><span class="op" id="5690661">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690665">if</span>&nbsp;<span class="ident" id="5690668">err</span>&nbsp;<span class="op" id="5690672">!=</span>&nbsp;<span class="builtintype" id="5690675">nil</span>&nbsp;<span class="op" id="5690679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690684">return</span>&nbsp;<span class="ident" id="5690691">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5690697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690701">switch</span>&nbsp;<span class="ident" id="5690708">t</span>&nbsp;<span class="op" id="5690710">:=</span>&nbsp;<span class="ident" id="5690713">t</span><span class="op" id="5690714">.</span><span class="op" id="5690715">(</span><span class="keyword" id="5690716">type</span><span class="op" id="5690720">)</span>&nbsp;<span class="op" id="5690722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690726">case</span>&nbsp;<span class="ident" id="5690731">CharData</span><span class="op" id="5690739">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690744">if</span>&nbsp;<span class="ident" id="5690747">depth</span>&nbsp;<span class="op" id="5690753">==</span>&nbsp;<span class="num" id="5690756">1</span>&nbsp;<span class="op" id="5690758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690764">buf</span>&nbsp;<span class="op" id="5690768">=</span>&nbsp;<span class="builtinfunc" id="5690770">append</span><span class="op" id="5690776">(</span><span class="ident" id="5690777">buf</span><span class="op" id="5690780">,</span>&nbsp;<span class="ident" id="5690782">t</span><span class="op" id="5690783">...</span><span class="op" id="5690786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5690791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690795">case</span>&nbsp;<span class="ident" id="5690800">StartElement</span><span class="op" id="5690812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690817">depth</span><span class="op" id="5690822">++</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690827">case</span>&nbsp;<span class="ident" id="5690832">EndElement</span><span class="op" id="5690842">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5690847">depth</span><span class="op" id="5690852">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5690857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5690860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5690863">return</span>&nbsp;<span class="ident" id="5690870">val</span><span class="op" id="5690873">.</span><span class="ident" id="5690874">UnmarshalText</span><span class="op" id="5690887">(</span><span class="ident" id="5690888">buf</span><span class="op" id="5690891">)</span><br>
<span class="lineno">225</span><span class="op" id="5690893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5690896">//&nbsp;unmarshalAttr&nbsp;unmarshals&nbsp;a&nbsp;single&nbsp;XML&nbsp;attribute&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="keyword" id="5690957">func</span>&nbsp;<span class="op" id="5690962">(</span><span class="ident" id="5690963">p</span>&nbsp;<span class="op" id="5690965">*</span><span class="ident" id="5690966">Decoder</span><span class="op" id="5690973">)</span>&nbsp;<span class="ident" id="5690975">unmarshalAttr</span><span class="op" id="5690988">(</span><span class="ident" id="5690989">val</span>&nbsp;<span class="ident" id="5690993">reflect</span><span class="op" id="5691000">.</span><span class="ident" id="5691001">Value</span><span class="op" id="5691006">,</span>&nbsp;<span class="ident" id="5691008">attr</span>&nbsp;<span class="ident" id="5691013">Attr</span><span class="op" id="5691017">)</span>&nbsp;<span class="builtintype" id="5691019">error</span>&nbsp;<span class="op" id="5691025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691028">if</span>&nbsp;<span class="ident" id="5691031">val</span><span class="op" id="5691034">.</span><span class="ident" id="5691035">Kind</span><span class="op" id="5691039">(</span><span class="op" id="5691040">)</span>&nbsp;<span class="op" id="5691042">==</span>&nbsp;<span class="ident" id="5691045">reflect</span><span class="op" id="5691052">.</span><span class="ident" id="5691053">Ptr</span>&nbsp;<span class="op" id="5691057">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691061">if</span>&nbsp;<span class="ident" id="5691064">val</span><span class="op" id="5691067">.</span><span class="ident" id="5691068">IsNil</span><span class="op" id="5691073">(</span><span class="op" id="5691074">)</span>&nbsp;<span class="op" id="5691076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5691081">val</span><span class="op" id="5691084">.</span><span class="ident" id="5691085">Set</span><span class="op" id="5691088">(</span><span class="ident" id="5691089">reflect</span><span class="op" id="5691096">.</span><span class="ident" id="5691097">New</span><span class="op" id="5691100">(</span><span class="ident" id="5691101">val</span><span class="op" id="5691104">.</span><span class="ident" id="5691105">Type</span><span class="op" id="5691109">(</span><span class="op" id="5691110">)</span><span class="op" id="5691111">.</span><span class="ident" id="5691112">Elem</span><span class="op" id="5691116">(</span><span class="op" id="5691117">)</span><span class="op" id="5691118">)</span><span class="op" id="5691119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5691123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5691127">val</span>&nbsp;<span class="op" id="5691131">=</span>&nbsp;<span class="ident" id="5691133">val</span><span class="op" id="5691136">.</span><span class="ident" id="5691137">Elem</span><span class="op" id="5691141">(</span><span class="op" id="5691142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5691145">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691149">if</span>&nbsp;<span class="ident" id="5691152">val</span><span class="op" id="5691155">.</span><span class="ident" id="5691156">CanInterface</span><span class="op" id="5691168">(</span><span class="op" id="5691169">)</span>&nbsp;<span class="op" id="5691171">&amp;&amp;</span>&nbsp;<span class="ident" id="5691174">val</span><span class="op" id="5691177">.</span><span class="ident" id="5691178">Type</span><span class="op" id="5691182">(</span><span class="op" id="5691183">)</span><span class="op" id="5691184">.</span><span class="ident" id="5691185">Implements</span><span class="op" id="5691195">(</span><span class="ident" id="5691196">unmarshalerAttrType</span><span class="op" id="5691215">)</span>&nbsp;<span class="op" id="5691217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5691221">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5691278">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691342">return</span>&nbsp;<span class="ident" id="5691349">val</span><span class="op" id="5691352">.</span><span class="ident" id="5691353">Interface</span><span class="op" id="5691362">(</span><span class="op" id="5691363">)</span><span class="op" id="5691364">.</span><span class="op" id="5691365">(</span><span class="ident" id="5691366">UnmarshalerAttr</span><span class="op" id="5691381">)</span><span class="op" id="5691382">.</span><span class="ident" id="5691383">UnmarshalXMLAttr</span><span class="op" id="5691399">(</span><span class="ident" id="5691400">attr</span><span class="op" id="5691404">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5691407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691410">if</span>&nbsp;<span class="ident" id="5691413">val</span><span class="op" id="5691416">.</span><span class="ident" id="5691417">CanAddr</span><span class="op" id="5691424">(</span><span class="op" id="5691425">)</span>&nbsp;<span class="op" id="5691427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5691431">pv</span>&nbsp;<span class="op" id="5691434">:=</span>&nbsp;<span class="ident" id="5691437">val</span><span class="op" id="5691440">.</span><span class="ident" id="5691441">Addr</span><span class="op" id="5691445">(</span><span class="op" id="5691446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691450">if</span>&nbsp;<span class="ident" id="5691453">pv</span><span class="op" id="5691455">.</span><span class="ident" id="5691456">CanInterface</span><span class="op" id="5691468">(</span><span class="op" id="5691469">)</span>&nbsp;<span class="op" id="5691471">&amp;&amp;</span>&nbsp;<span class="ident" id="5691474">pv</span><span class="op" id="5691476">.</span><span class="ident" id="5691477">Type</span><span class="op" id="5691481">(</span><span class="op" id="5691482">)</span><span class="op" id="5691483">.</span><span class="ident" id="5691484">Implements</span><span class="op" id="5691494">(</span><span class="ident" id="5691495">unmarshalerAttrType</span><span class="op" id="5691514">)</span>&nbsp;<span class="op" id="5691516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691521">return</span>&nbsp;<span class="ident" id="5691528">pv</span><span class="op" id="5691530">.</span><span class="ident" id="5691531">Interface</span><span class="op" id="5691540">(</span><span class="op" id="5691541">)</span><span class="op" id="5691542">.</span><span class="op" id="5691543">(</span><span class="ident" id="5691544">UnmarshalerAttr</span><span class="op" id="5691559">)</span><span class="op" id="5691560">.</span><span class="ident" id="5691561">UnmarshalXMLAttr</span><span class="op" id="5691577">(</span><span class="ident" id="5691578">attr</span><span class="op" id="5691582">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5691586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5691589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5691593">//&nbsp;Not&nbsp;an&nbsp;UnmarshalerAttr;&nbsp;try&nbsp;encoding.TextUnmarshaler.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691651">if</span>&nbsp;<span class="ident" id="5691654">val</span><span class="op" id="5691657">.</span><span class="ident" id="5691658">CanInterface</span><span class="op" id="5691670">(</span><span class="op" id="5691671">)</span>&nbsp;<span class="op" id="5691673">&amp;&amp;</span>&nbsp;<span class="ident" id="5691676">val</span><span class="op" id="5691679">.</span><span class="ident" id="5691680">Type</span><span class="op" id="5691684">(</span><span class="op" id="5691685">)</span><span class="op" id="5691686">.</span><span class="ident" id="5691687">Implements</span><span class="op" id="5691697">(</span><span class="ident" id="5691698">textUnmarshalerType</span><span class="op" id="5691717">)</span>&nbsp;<span class="op" id="5691719">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5691723">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5691780">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691844">return</span>&nbsp;<span class="ident" id="5691851">val</span><span class="op" id="5691854">.</span><span class="ident" id="5691855">Interface</span><span class="op" id="5691864">(</span><span class="op" id="5691865">)</span><span class="op" id="5691866">.</span><span class="op" id="5691867">(</span><span class="ident" id="5691868">encoding</span><span class="op" id="5691876">.</span><span class="ident" id="5691877">TextUnmarshaler</span><span class="op" id="5691892">)</span><span class="op" id="5691893">.</span><span class="ident" id="5691894">UnmarshalText</span><span class="op" id="5691907">(</span><span class="op" id="5691908">[</span><span class="op" id="5691909">]</span><span class="builtintype" id="5691910">byte</span><span class="op" id="5691914">(</span><span class="ident" id="5691915">attr</span><span class="op" id="5691919">.</span><span class="ident" id="5691920">Value</span><span class="op" id="5691925">)</span><span class="op" id="5691926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5691929">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691932">if</span>&nbsp;<span class="ident" id="5691935">val</span><span class="op" id="5691938">.</span><span class="ident" id="5691939">CanAddr</span><span class="op" id="5691946">(</span><span class="op" id="5691947">)</span>&nbsp;<span class="op" id="5691949">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5691953">pv</span>&nbsp;<span class="op" id="5691956">:=</span>&nbsp;<span class="ident" id="5691959">val</span><span class="op" id="5691962">.</span><span class="ident" id="5691963">Addr</span><span class="op" id="5691967">(</span><span class="op" id="5691968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5691972">if</span>&nbsp;<span class="ident" id="5691975">pv</span><span class="op" id="5691977">.</span><span class="ident" id="5691978">CanInterface</span><span class="op" id="5691990">(</span><span class="op" id="5691991">)</span>&nbsp;<span class="op" id="5691993">&amp;&amp;</span>&nbsp;<span class="ident" id="5691996">pv</span><span class="op" id="5691998">.</span><span class="ident" id="5691999">Type</span><span class="op" id="5692003">(</span><span class="op" id="5692004">)</span><span class="op" id="5692005">.</span><span class="ident" id="5692006">Implements</span><span class="op" id="5692016">(</span><span class="ident" id="5692017">textUnmarshalerType</span><span class="op" id="5692036">)</span>&nbsp;<span class="op" id="5692038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692043">return</span>&nbsp;<span class="ident" id="5692050">pv</span><span class="op" id="5692052">.</span><span class="ident" id="5692053">Interface</span><span class="op" id="5692062">(</span><span class="op" id="5692063">)</span><span class="op" id="5692064">.</span><span class="op" id="5692065">(</span><span class="ident" id="5692066">encoding</span><span class="op" id="5692074">.</span><span class="ident" id="5692075">TextUnmarshaler</span><span class="op" id="5692090">)</span><span class="op" id="5692091">.</span><span class="ident" id="5692092">UnmarshalText</span><span class="op" id="5692105">(</span><span class="op" id="5692106">[</span><span class="op" id="5692107">]</span><span class="builtintype" id="5692108">byte</span><span class="op" id="5692112">(</span><span class="ident" id="5692113">attr</span><span class="op" id="5692117">.</span><span class="ident" id="5692118">Value</span><span class="op" id="5692123">)</span><span class="op" id="5692124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692131">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692135">copyValue</span><span class="op" id="5692144">(</span><span class="ident" id="5692145">val</span><span class="op" id="5692148">,</span>&nbsp;<span class="op" id="5692150">[</span><span class="op" id="5692151">]</span><span class="builtintype" id="5692152">byte</span><span class="op" id="5692156">(</span><span class="ident" id="5692157">attr</span><span class="op" id="5692161">.</span><span class="ident" id="5692162">Value</span><span class="op" id="5692167">)</span><span class="op" id="5692168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692171">return</span>&nbsp;<span class="builtintype" id="5692178">nil</span><br>
<span class="lineno"></span><span class="op" id="5692182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="5692185">var</span>&nbsp;<span class="op" id="5692189">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692192">unmarshalerType</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692212">=</span>&nbsp;<span class="ident" id="5692214">reflect</span><span class="op" id="5692221">.</span><span class="ident" id="5692222">TypeOf</span><span class="op" id="5692228">(</span><span class="op" id="5692229">(</span><span class="op" id="5692230">*</span><span class="ident" id="5692231">Unmarshaler</span><span class="op" id="5692242">)</span><span class="op" id="5692243">(</span><span class="builtintype" id="5692244">nil</span><span class="op" id="5692247">)</span><span class="op" id="5692248">)</span><span class="op" id="5692249">.</span><span class="ident" id="5692250">Elem</span><span class="op" id="5692254">(</span><span class="op" id="5692255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692258">unmarshalerAttrType</span>&nbsp;<span class="op" id="5692278">=</span>&nbsp;<span class="ident" id="5692280">reflect</span><span class="op" id="5692287">.</span><span class="ident" id="5692288">TypeOf</span><span class="op" id="5692294">(</span><span class="op" id="5692295">(</span><span class="op" id="5692296">*</span><span class="ident" id="5692297">UnmarshalerAttr</span><span class="op" id="5692312">)</span><span class="op" id="5692313">(</span><span class="builtintype" id="5692314">nil</span><span class="op" id="5692317">)</span><span class="op" id="5692318">)</span><span class="op" id="5692319">.</span><span class="ident" id="5692320">Elem</span><span class="op" id="5692324">(</span><span class="op" id="5692325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692328">textUnmarshalerType</span>&nbsp;<span class="op" id="5692348">=</span>&nbsp;<span class="ident" id="5692350">reflect</span><span class="op" id="5692357">.</span><span class="ident" id="5692358">TypeOf</span><span class="op" id="5692364">(</span><span class="op" id="5692365">(</span><span class="op" id="5692366">*</span><span class="ident" id="5692367">encoding</span><span class="op" id="5692375">.</span><span class="ident" id="5692376">TextUnmarshaler</span><span class="op" id="5692391">)</span><span class="op" id="5692392">(</span><span class="builtintype" id="5692393">nil</span><span class="op" id="5692396">)</span><span class="op" id="5692397">)</span><span class="op" id="5692398">.</span><span class="ident" id="5692399">Elem</span><span class="op" id="5692403">(</span><span class="op" id="5692404">)</span><br>
<span class="lineno"></span><span class="op" id="5692406">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="5692409">//&nbsp;Unmarshal&nbsp;a&nbsp;single&nbsp;XML&nbsp;element&nbsp;into&nbsp;val.</span><br>
<span class="lineno"></span><span class="keyword" id="5692453">func</span>&nbsp;<span class="op" id="5692458">(</span><span class="ident" id="5692459">p</span>&nbsp;<span class="op" id="5692461">*</span><span class="ident" id="5692462">Decoder</span><span class="op" id="5692469">)</span>&nbsp;<span class="ident" id="5692471">unmarshal</span><span class="op" id="5692480">(</span><span class="ident" id="5692481">val</span>&nbsp;<span class="ident" id="5692485">reflect</span><span class="op" id="5692492">.</span><span class="ident" id="5692493">Value</span><span class="op" id="5692498">,</span>&nbsp;<span class="ident" id="5692500">start</span>&nbsp;<span class="op" id="5692506">*</span><span class="ident" id="5692507">StartElement</span><span class="op" id="5692519">)</span>&nbsp;<span class="builtintype" id="5692521">error</span>&nbsp;<span class="op" id="5692527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5692530">//&nbsp;Find&nbsp;start&nbsp;element&nbsp;if&nbsp;we&nbsp;need&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692568">if</span>&nbsp;<span class="ident" id="5692571">start</span>&nbsp;<span class="op" id="5692577">==</span>&nbsp;<span class="builtintype" id="5692580">nil</span>&nbsp;<span class="op" id="5692584">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692588">for</span>&nbsp;<span class="op" id="5692592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692597">tok</span><span class="op" id="5692600">,</span>&nbsp;<span class="ident" id="5692602">err</span>&nbsp;<span class="op" id="5692606">:=</span>&nbsp;<span class="ident" id="5692609">p</span><span class="op" id="5692610">.</span><span class="ident" id="5692611">Token</span><span class="op" id="5692616">(</span><span class="op" id="5692617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692622">if</span>&nbsp;<span class="ident" id="5692625">err</span>&nbsp;<span class="op" id="5692629">!=</span>&nbsp;<span class="builtintype" id="5692632">nil</span>&nbsp;<span class="op" id="5692636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692642">return</span>&nbsp;<span class="ident" id="5692649">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692656">}</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692661">if</span>&nbsp;<span class="ident" id="5692664">t</span><span class="op" id="5692665">,</span>&nbsp;<span class="ident" id="5692667">ok</span>&nbsp;<span class="op" id="5692670">:=</span>&nbsp;<span class="ident" id="5692673">tok</span><span class="op" id="5692676">.</span><span class="op" id="5692677">(</span><span class="ident" id="5692678">StartElement</span><span class="op" id="5692690">)</span><span class="op" id="5692691">;</span>&nbsp;<span class="ident" id="5692693">ok</span>&nbsp;<span class="op" id="5692696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692702">start</span>&nbsp;<span class="op" id="5692708">=</span>&nbsp;<span class="op" id="5692710">&amp;</span><span class="ident" id="5692711">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692717">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692730">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5692737">//&nbsp;Load&nbsp;value&nbsp;from&nbsp;interface,&nbsp;but&nbsp;only&nbsp;if&nbsp;the&nbsp;result&nbsp;will&nbsp;be</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5692799">//&nbsp;usefully&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692825">if</span>&nbsp;<span class="ident" id="5692828">val</span><span class="op" id="5692831">.</span><span class="ident" id="5692832">Kind</span><span class="op" id="5692836">(</span><span class="op" id="5692837">)</span>&nbsp;<span class="op" id="5692839">==</span>&nbsp;<span class="ident" id="5692842">reflect</span><span class="op" id="5692849">.</span><span class="ident" id="5692850">Interface</span>&nbsp;<span class="op" id="5692860">&amp;&amp;</span>&nbsp;<span class="op" id="5692863">!</span><span class="ident" id="5692864">val</span><span class="op" id="5692867">.</span><span class="ident" id="5692868">IsNil</span><span class="op" id="5692873">(</span><span class="op" id="5692874">)</span>&nbsp;<span class="op" id="5692876">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692880">e</span>&nbsp;<span class="op" id="5692882">:=</span>&nbsp;<span class="ident" id="5692885">val</span><span class="op" id="5692888">.</span><span class="ident" id="5692889">Elem</span><span class="op" id="5692893">(</span><span class="op" id="5692894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692898">if</span>&nbsp;<span class="ident" id="5692901">e</span><span class="op" id="5692902">.</span><span class="ident" id="5692903">Kind</span><span class="op" id="5692907">(</span><span class="op" id="5692908">)</span>&nbsp;<span class="op" id="5692910">==</span>&nbsp;<span class="ident" id="5692913">reflect</span><span class="op" id="5692920">.</span><span class="ident" id="5692921">Ptr</span>&nbsp;<span class="op" id="5692925">&amp;&amp;</span>&nbsp;<span class="op" id="5692928">!</span><span class="ident" id="5692929">e</span><span class="op" id="5692930">.</span><span class="ident" id="5692931">IsNil</span><span class="op" id="5692936">(</span><span class="op" id="5692937">)</span>&nbsp;<span class="op" id="5692939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5692944">val</span>&nbsp;<span class="op" id="5692948">=</span>&nbsp;<span class="ident" id="5692950">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692954">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5692957">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692961">if</span>&nbsp;<span class="ident" id="5692964">val</span><span class="op" id="5692967">.</span><span class="ident" id="5692968">Kind</span><span class="op" id="5692972">(</span><span class="op" id="5692973">)</span>&nbsp;<span class="op" id="5692975">==</span>&nbsp;<span class="ident" id="5692978">reflect</span><span class="op" id="5692985">.</span><span class="ident" id="5692986">Ptr</span>&nbsp;<span class="op" id="5692990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5692994">if</span>&nbsp;<span class="ident" id="5692997">val</span><span class="op" id="5693000">.</span><span class="ident" id="5693001">IsNil</span><span class="op" id="5693006">(</span><span class="op" id="5693007">)</span>&nbsp;<span class="op" id="5693009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693014">val</span><span class="op" id="5693017">.</span><span class="ident" id="5693018">Set</span><span class="op" id="5693021">(</span><span class="ident" id="5693022">reflect</span><span class="op" id="5693029">.</span><span class="ident" id="5693030">New</span><span class="op" id="5693033">(</span><span class="ident" id="5693034">val</span><span class="op" id="5693037">.</span><span class="ident" id="5693038">Type</span><span class="op" id="5693042">(</span><span class="op" id="5693043">)</span><span class="op" id="5693044">.</span><span class="ident" id="5693045">Elem</span><span class="op" id="5693049">(</span><span class="op" id="5693050">)</span><span class="op" id="5693051">)</span><span class="op" id="5693052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693056">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693060">val</span>&nbsp;<span class="op" id="5693064">=</span>&nbsp;<span class="ident" id="5693066">val</span><span class="op" id="5693069">.</span><span class="ident" id="5693070">Elem</span><span class="op" id="5693074">(</span><span class="op" id="5693075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693082">if</span>&nbsp;<span class="ident" id="5693085">val</span><span class="op" id="5693088">.</span><span class="ident" id="5693089">CanInterface</span><span class="op" id="5693101">(</span><span class="op" id="5693102">)</span>&nbsp;<span class="op" id="5693104">&amp;&amp;</span>&nbsp;<span class="ident" id="5693107">val</span><span class="op" id="5693110">.</span><span class="ident" id="5693111">Type</span><span class="op" id="5693115">(</span><span class="op" id="5693116">)</span><span class="op" id="5693117">.</span><span class="ident" id="5693118">Implements</span><span class="op" id="5693128">(</span><span class="ident" id="5693129">unmarshalerType</span><span class="op" id="5693144">)</span>&nbsp;<span class="op" id="5693146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5693150">//&nbsp;This&nbsp;is&nbsp;an&nbsp;unmarshaler&nbsp;with&nbsp;a&nbsp;non-pointer&nbsp;receiver,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5693207">//&nbsp;so&nbsp;it&#39;s&nbsp;likely&nbsp;to&nbsp;be&nbsp;incorrect,&nbsp;but&nbsp;we&nbsp;do&nbsp;what&nbsp;we&#39;re&nbsp;told.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693271">return</span>&nbsp;<span class="ident" id="5693278">p</span><span class="op" id="5693279">.</span><span class="ident" id="5693280">unmarshalInterface</span><span class="op" id="5693298">(</span><span class="ident" id="5693299">val</span><span class="op" id="5693302">.</span><span class="ident" id="5693303">Interface</span><span class="op" id="5693312">(</span><span class="op" id="5693313">)</span><span class="op" id="5693314">.</span><span class="op" id="5693315">(</span><span class="ident" id="5693316">Unmarshaler</span><span class="op" id="5693327">)</span><span class="op" id="5693328">,</span>&nbsp;<span class="ident" id="5693330">start</span><span class="op" id="5693335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693342">if</span>&nbsp;<span class="ident" id="5693345">val</span><span class="op" id="5693348">.</span><span class="ident" id="5693349">CanAddr</span><span class="op" id="5693356">(</span><span class="op" id="5693357">)</span>&nbsp;<span class="op" id="5693359">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693363">pv</span>&nbsp;<span class="op" id="5693366">:=</span>&nbsp;<span class="ident" id="5693369">val</span><span class="op" id="5693372">.</span><span class="ident" id="5693373">Addr</span><span class="op" id="5693377">(</span><span class="op" id="5693378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693382">if</span>&nbsp;<span class="ident" id="5693385">pv</span><span class="op" id="5693387">.</span><span class="ident" id="5693388">CanInterface</span><span class="op" id="5693400">(</span><span class="op" id="5693401">)</span>&nbsp;<span class="op" id="5693403">&amp;&amp;</span>&nbsp;<span class="ident" id="5693406">pv</span><span class="op" id="5693408">.</span><span class="ident" id="5693409">Type</span><span class="op" id="5693413">(</span><span class="op" id="5693414">)</span><span class="op" id="5693415">.</span><span class="ident" id="5693416">Implements</span><span class="op" id="5693426">(</span><span class="ident" id="5693427">unmarshalerType</span><span class="op" id="5693442">)</span>&nbsp;<span class="op" id="5693444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693449">return</span>&nbsp;<span class="ident" id="5693456">p</span><span class="op" id="5693457">.</span><span class="ident" id="5693458">unmarshalInterface</span><span class="op" id="5693476">(</span><span class="ident" id="5693477">pv</span><span class="op" id="5693479">.</span><span class="ident" id="5693480">Interface</span><span class="op" id="5693489">(</span><span class="op" id="5693490">)</span><span class="op" id="5693491">.</span><span class="op" id="5693492">(</span><span class="ident" id="5693493">Unmarshaler</span><span class="op" id="5693504">)</span><span class="op" id="5693505">,</span>&nbsp;<span class="ident" id="5693507">start</span><span class="op" id="5693512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693519">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693523">if</span>&nbsp;<span class="ident" id="5693526">val</span><span class="op" id="5693529">.</span><span class="ident" id="5693530">CanInterface</span><span class="op" id="5693542">(</span><span class="op" id="5693543">)</span>&nbsp;<span class="op" id="5693545">&amp;&amp;</span>&nbsp;<span class="ident" id="5693548">val</span><span class="op" id="5693551">.</span><span class="ident" id="5693552">Type</span><span class="op" id="5693556">(</span><span class="op" id="5693557">)</span><span class="op" id="5693558">.</span><span class="ident" id="5693559">Implements</span><span class="op" id="5693569">(</span><span class="ident" id="5693570">textUnmarshalerType</span><span class="op" id="5693589">)</span>&nbsp;<span class="op" id="5693591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693595">return</span>&nbsp;<span class="ident" id="5693602">p</span><span class="op" id="5693603">.</span><span class="ident" id="5693604">unmarshalTextInterface</span><span class="op" id="5693626">(</span><span class="ident" id="5693627">val</span><span class="op" id="5693630">.</span><span class="ident" id="5693631">Interface</span><span class="op" id="5693640">(</span><span class="op" id="5693641">)</span><span class="op" id="5693642">.</span><span class="op" id="5693643">(</span><span class="ident" id="5693644">encoding</span><span class="op" id="5693652">.</span><span class="ident" id="5693653">TextUnmarshaler</span><span class="op" id="5693668">)</span><span class="op" id="5693669">,</span>&nbsp;<span class="ident" id="5693671">start</span><span class="op" id="5693676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693683">if</span>&nbsp;<span class="ident" id="5693686">val</span><span class="op" id="5693689">.</span><span class="ident" id="5693690">CanAddr</span><span class="op" id="5693697">(</span><span class="op" id="5693698">)</span>&nbsp;<span class="op" id="5693700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693704">pv</span>&nbsp;<span class="op" id="5693707">:=</span>&nbsp;<span class="ident" id="5693710">val</span><span class="op" id="5693713">.</span><span class="ident" id="5693714">Addr</span><span class="op" id="5693718">(</span><span class="op" id="5693719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693723">if</span>&nbsp;<span class="ident" id="5693726">pv</span><span class="op" id="5693728">.</span><span class="ident" id="5693729">CanInterface</span><span class="op" id="5693741">(</span><span class="op" id="5693742">)</span>&nbsp;<span class="op" id="5693744">&amp;&amp;</span>&nbsp;<span class="ident" id="5693747">pv</span><span class="op" id="5693749">.</span><span class="ident" id="5693750">Type</span><span class="op" id="5693754">(</span><span class="op" id="5693755">)</span><span class="op" id="5693756">.</span><span class="ident" id="5693757">Implements</span><span class="op" id="5693767">(</span><span class="ident" id="5693768">textUnmarshalerType</span><span class="op" id="5693787">)</span>&nbsp;<span class="op" id="5693789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693794">return</span>&nbsp;<span class="ident" id="5693801">p</span><span class="op" id="5693802">.</span><span class="ident" id="5693803">unmarshalTextInterface</span><span class="op" id="5693825">(</span><span class="ident" id="5693826">pv</span><span class="op" id="5693828">.</span><span class="ident" id="5693829">Interface</span><span class="op" id="5693838">(</span><span class="op" id="5693839">)</span><span class="op" id="5693840">.</span><span class="op" id="5693841">(</span><span class="ident" id="5693842">encoding</span><span class="op" id="5693850">.</span><span class="ident" id="5693851">TextUnmarshaler</span><span class="op" id="5693866">)</span><span class="op" id="5693867">,</span>&nbsp;<span class="ident" id="5693869">start</span><span class="op" id="5693874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693878">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5693885">var</span>&nbsp;<span class="op" id="5693889">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693893">data</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693906">[</span><span class="op" id="5693907">]</span><span class="builtintype" id="5693908">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693915">saveData</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693928">reflect</span><span class="op" id="5693935">.</span><span class="ident" id="5693936">Value</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693944">comment</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5693957">[</span><span class="op" id="5693958">]</span><span class="builtintype" id="5693959">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693966">saveComment</span>&nbsp;&nbsp;<span class="ident" id="5693979">reflect</span><span class="op" id="5693986">.</span><span class="ident" id="5693987">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5693995">saveXML</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694008">reflect</span><span class="op" id="5694015">.</span><span class="ident" id="5694016">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694024">saveXMLIndex</span>&nbsp;<span class="builtintype" id="5694037">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694043">saveXMLData</span>&nbsp;&nbsp;<span class="op" id="5694056">[</span><span class="op" id="5694057">]</span><span class="builtintype" id="5694058">byte</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694065">saveAny</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694078">reflect</span><span class="op" id="5694085">.</span><span class="ident" id="5694086">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694094">sv</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694107">reflect</span><span class="op" id="5694114">.</span><span class="ident" id="5694115">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694123">tinfo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5694136">*</span><span class="ident" id="5694137">typeInfo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694148">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5694161">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5694168">)</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694172">switch</span>&nbsp;<span class="ident" id="5694179">v</span>&nbsp;<span class="op" id="5694181">:=</span>&nbsp;<span class="ident" id="5694184">val</span><span class="op" id="5694187">;</span>&nbsp;<span class="ident" id="5694189">v</span><span class="op" id="5694190">.</span><span class="ident" id="5694191">Kind</span><span class="op" id="5694195">(</span><span class="op" id="5694196">)</span>&nbsp;<span class="op" id="5694198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694201">default</span><span class="op" id="5694208">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694212">return</span>&nbsp;<span class="ident" id="5694219">errors</span><span class="op" id="5694225">.</span><span class="ident" id="5694226">New</span><span class="op" id="5694229">(</span><span class="string" id="5694230">&#34;unknown&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="5694246">+</span>&nbsp;<span class="ident" id="5694248">v</span><span class="op" id="5694249">.</span><span class="ident" id="5694250">Type</span><span class="op" id="5694254">(</span><span class="op" id="5694255">)</span><span class="op" id="5694256">.</span><span class="ident" id="5694257">String</span><span class="op" id="5694263">(</span><span class="op" id="5694264">)</span><span class="op" id="5694265">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694269">case</span>&nbsp;<span class="ident" id="5694274">reflect</span><span class="op" id="5694281">.</span><span class="ident" id="5694282">Interface</span><span class="op" id="5694291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694295">//&nbsp;TODO:&nbsp;For&nbsp;now,&nbsp;simply&nbsp;ignore&nbsp;the&nbsp;field.&nbsp;In&nbsp;the&nbsp;near</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694352">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;future&nbsp;we&nbsp;may&nbsp;choose&nbsp;to&nbsp;unmarshal&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694407">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;element&nbsp;on&nbsp;it,&nbsp;if&nbsp;not&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694445">return</span>&nbsp;<span class="ident" id="5694452">p</span><span class="op" id="5694453">.</span><span class="ident" id="5694454">Skip</span><span class="op" id="5694458">(</span><span class="op" id="5694459">)</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694463">case</span>&nbsp;<span class="ident" id="5694468">reflect</span><span class="op" id="5694475">.</span><span class="ident" id="5694476">Slice</span><span class="op" id="5694481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694485">typ</span>&nbsp;<span class="op" id="5694489">:=</span>&nbsp;<span class="ident" id="5694492">v</span><span class="op" id="5694493">.</span><span class="ident" id="5694494">Type</span><span class="op" id="5694498">(</span><span class="op" id="5694499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694503">if</span>&nbsp;<span class="ident" id="5694506">typ</span><span class="op" id="5694509">.</span><span class="ident" id="5694510">Elem</span><span class="op" id="5694514">(</span><span class="op" id="5694515">)</span><span class="op" id="5694516">.</span><span class="ident" id="5694517">Kind</span><span class="op" id="5694521">(</span><span class="op" id="5694522">)</span>&nbsp;<span class="op" id="5694524">==</span>&nbsp;<span class="ident" id="5694527">reflect</span><span class="op" id="5694534">.</span><span class="ident" id="5694535">Uint8</span>&nbsp;<span class="op" id="5694541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694546">//&nbsp;[]byte</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694559">saveData</span>&nbsp;<span class="op" id="5694568">=</span>&nbsp;<span class="ident" id="5694570">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694575">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5694583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694588">//&nbsp;Slice&nbsp;of&nbsp;element&nbsp;values.</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694618">//&nbsp;Grow&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694635">n</span>&nbsp;<span class="op" id="5694637">:=</span>&nbsp;<span class="ident" id="5694640">v</span><span class="op" id="5694641">.</span><span class="ident" id="5694642">Len</span><span class="op" id="5694645">(</span><span class="op" id="5694646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694650">if</span>&nbsp;<span class="ident" id="5694653">n</span>&nbsp;<span class="op" id="5694655">&gt;=</span>&nbsp;<span class="ident" id="5694658">v</span><span class="op" id="5694659">.</span><span class="ident" id="5694660">Cap</span><span class="op" id="5694663">(</span><span class="op" id="5694664">)</span>&nbsp;<span class="op" id="5694666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694671">ncap</span>&nbsp;<span class="op" id="5694676">:=</span>&nbsp;<span class="num" id="5694679">2</span>&nbsp;<span class="op" id="5694681">*</span>&nbsp;<span class="ident" id="5694683">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694688">if</span>&nbsp;<span class="ident" id="5694691">ncap</span>&nbsp;<span class="op" id="5694696">&lt;</span>&nbsp;<span class="num" id="5694698">4</span>&nbsp;<span class="op" id="5694700">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694706">ncap</span>&nbsp;<span class="op" id="5694711">=</span>&nbsp;<span class="num" id="5694713">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5694718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5694723">new</span>&nbsp;<span class="op" id="5694727">:=</span>&nbsp;<span class="ident" id="5694730">reflect</span><span class="op" id="5694737">.</span><span class="ident" id="5694738">MakeSlice</span><span class="op" id="5694747">(</span><span class="ident" id="5694748">typ</span><span class="op" id="5694751">,</span>&nbsp;<span class="ident" id="5694753">n</span><span class="op" id="5694754">,</span>&nbsp;<span class="ident" id="5694756">ncap</span><span class="op" id="5694760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694765">reflect</span><span class="op" id="5694772">.</span><span class="ident" id="5694773">Copy</span><span class="op" id="5694777">(</span><span class="builtinfunc" id="5694778">new</span><span class="op" id="5694781">,</span>&nbsp;<span class="ident" id="5694783">v</span><span class="op" id="5694784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694789">v</span><span class="op" id="5694790">.</span><span class="ident" id="5694791">Set</span><span class="op" id="5694794">(</span><span class="builtinfunc" id="5694795">new</span><span class="op" id="5694798">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5694802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694806">v</span><span class="op" id="5694807">.</span><span class="ident" id="5694808">SetLen</span><span class="op" id="5694814">(</span><span class="ident" id="5694815">n</span>&nbsp;<span class="op" id="5694817">+</span>&nbsp;<span class="num" id="5694819">1</span><span class="op" id="5694820">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5694825">//&nbsp;Recur&nbsp;to&nbsp;read&nbsp;element&nbsp;into&nbsp;slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694864">if</span>&nbsp;<span class="ident" id="5694867">err</span>&nbsp;<span class="op" id="5694871">:=</span>&nbsp;<span class="ident" id="5694874">p</span><span class="op" id="5694875">.</span><span class="ident" id="5694876">unmarshal</span><span class="op" id="5694885">(</span><span class="ident" id="5694886">v</span><span class="op" id="5694887">.</span><span class="ident" id="5694888">Index</span><span class="op" id="5694893">(</span><span class="ident" id="5694894">n</span><span class="op" id="5694895">)</span><span class="op" id="5694896">,</span>&nbsp;<span class="ident" id="5694898">start</span><span class="op" id="5694903">)</span><span class="op" id="5694904">;</span>&nbsp;<span class="ident" id="5694906">err</span>&nbsp;<span class="op" id="5694910">!=</span>&nbsp;<span class="builtintype" id="5694913">nil</span>&nbsp;<span class="op" id="5694917">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5694922">v</span><span class="op" id="5694923">.</span><span class="ident" id="5694924">SetLen</span><span class="op" id="5694930">(</span><span class="ident" id="5694931">n</span><span class="op" id="5694932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694937">return</span>&nbsp;<span class="ident" id="5694944">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5694950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694954">return</span>&nbsp;<span class="builtintype" id="5694961">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5694967">case</span>&nbsp;<span class="ident" id="5694972">reflect</span><span class="op" id="5694979">.</span><span class="ident" id="5694980">Bool</span><span class="op" id="5694984">,</span>&nbsp;<span class="ident" id="5694986">reflect</span><span class="op" id="5694993">.</span><span class="ident" id="5694994">Float32</span><span class="op" id="5695001">,</span>&nbsp;<span class="ident" id="5695003">reflect</span><span class="op" id="5695010">.</span><span class="ident" id="5695011">Float64</span><span class="op" id="5695018">,</span>&nbsp;<span class="ident" id="5695020">reflect</span><span class="op" id="5695027">.</span><span class="ident" id="5695028">Int</span><span class="op" id="5695031">,</span>&nbsp;<span class="ident" id="5695033">reflect</span><span class="op" id="5695040">.</span><span class="ident" id="5695041">Int8</span><span class="op" id="5695045">,</span>&nbsp;<span class="ident" id="5695047">reflect</span><span class="op" id="5695054">.</span><span class="ident" id="5695055">Int16</span><span class="op" id="5695060">,</span>&nbsp;<span class="ident" id="5695062">reflect</span><span class="op" id="5695069">.</span><span class="ident" id="5695070">Int32</span><span class="op" id="5695075">,</span>&nbsp;<span class="ident" id="5695077">reflect</span><span class="op" id="5695084">.</span><span class="ident" id="5695085">Int64</span><span class="op" id="5695090">,</span>&nbsp;<span class="ident" id="5695092">reflect</span><span class="op" id="5695099">.</span><span class="ident" id="5695100">Uint</span><span class="op" id="5695104">,</span>&nbsp;<span class="ident" id="5695106">reflect</span><span class="op" id="5695113">.</span><span class="ident" id="5695114">Uint8</span><span class="op" id="5695119">,</span>&nbsp;<span class="ident" id="5695121">reflect</span><span class="op" id="5695128">.</span><span class="ident" id="5695129">Uint16</span><span class="op" id="5695135">,</span>&nbsp;<span class="ident" id="5695137">reflect</span><span class="op" id="5695144">.</span><span class="ident" id="5695145">Uint32</span><span class="op" id="5695151">,</span>&nbsp;<span class="ident" id="5695153">reflect</span><span class="op" id="5695160">.</span><span class="ident" id="5695161">Uint64</span><span class="op" id="5695167">,</span>&nbsp;<span class="ident" id="5695169">reflect</span><span class="op" id="5695176">.</span><span class="ident" id="5695177">Uintptr</span><span class="op" id="5695184">,</span>&nbsp;<span class="ident" id="5695186">reflect</span><span class="op" id="5695193">.</span><span class="ident" id="5695194">String</span><span class="op" id="5695200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695204">saveData</span>&nbsp;<span class="op" id="5695213">=</span>&nbsp;<span class="ident" id="5695215">v</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695219">case</span>&nbsp;<span class="ident" id="5695224">reflect</span><span class="op" id="5695231">.</span><span class="ident" id="5695232">Struct</span><span class="op" id="5695238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695242">typ</span>&nbsp;<span class="op" id="5695246">:=</span>&nbsp;<span class="ident" id="5695249">v</span><span class="op" id="5695250">.</span><span class="ident" id="5695251">Type</span><span class="op" id="5695255">(</span><span class="op" id="5695256">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695260">if</span>&nbsp;<span class="ident" id="5695263">typ</span>&nbsp;<span class="op" id="5695267">==</span>&nbsp;<span class="ident" id="5695270">nameType</span>&nbsp;<span class="op" id="5695279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695284">v</span><span class="op" id="5695285">.</span><span class="ident" id="5695286">Set</span><span class="op" id="5695289">(</span><span class="ident" id="5695290">reflect</span><span class="op" id="5695297">.</span><span class="ident" id="5695298">ValueOf</span><span class="op" id="5695305">(</span><span class="ident" id="5695306">start</span><span class="op" id="5695311">.</span><span class="ident" id="5695312">Name</span><span class="op" id="5695316">)</span><span class="op" id="5695317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695322">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5695330">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695335">sv</span>&nbsp;<span class="op" id="5695338">=</span>&nbsp;<span class="ident" id="5695340">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695344">tinfo</span><span class="op" id="5695349">,</span>&nbsp;<span class="ident" id="5695351">err</span>&nbsp;<span class="op" id="5695355">=</span>&nbsp;<span class="ident" id="5695357">getTypeInfo</span><span class="op" id="5695368">(</span><span class="ident" id="5695369">typ</span><span class="op" id="5695372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695376">if</span>&nbsp;<span class="ident" id="5695379">err</span>&nbsp;<span class="op" id="5695383">!=</span>&nbsp;<span class="builtintype" id="5695386">nil</span>&nbsp;<span class="op" id="5695390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695395">return</span>&nbsp;<span class="ident" id="5695402">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5695408">}</span><br>
<span class="lineno">395</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5695413">//&nbsp;Validate&nbsp;and&nbsp;assign&nbsp;element&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695452">if</span>&nbsp;<span class="ident" id="5695455">tinfo</span><span class="op" id="5695460">.</span><span class="ident" id="5695461">xmlname</span>&nbsp;<span class="op" id="5695469">!=</span>&nbsp;<span class="builtintype" id="5695472">nil</span>&nbsp;<span class="op" id="5695476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695481">finfo</span>&nbsp;<span class="op" id="5695487">:=</span>&nbsp;<span class="ident" id="5695490">tinfo</span><span class="op" id="5695495">.</span><span class="ident" id="5695496">xmlname</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695507">if</span>&nbsp;<span class="ident" id="5695510">finfo</span><span class="op" id="5695515">.</span><span class="ident" id="5695516">name</span>&nbsp;<span class="op" id="5695521">!=</span>&nbsp;<span class="string" id="5695524">&#34;&#34;</span>&nbsp;<span class="op" id="5695527">&amp;&amp;</span>&nbsp;<span class="ident" id="5695530">finfo</span><span class="op" id="5695535">.</span><span class="ident" id="5695536">name</span>&nbsp;<span class="op" id="5695541">!=</span>&nbsp;<span class="ident" id="5695544">start</span><span class="op" id="5695549">.</span><span class="ident" id="5695550">Name</span><span class="op" id="5695554">.</span><span class="ident" id="5695555">Local</span>&nbsp;<span class="op" id="5695561">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695567">return</span>&nbsp;<span class="ident" id="5695574">UnmarshalError</span><span class="op" id="5695588">(</span><span class="string" id="5695589">&#34;expected&nbsp;element&nbsp;type&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="5695615">+</span>&nbsp;<span class="ident" id="5695617">finfo</span><span class="op" id="5695622">.</span><span class="ident" id="5695623">name</span>&nbsp;<span class="op" id="5695628">+</span>&nbsp;<span class="string" id="5695630">&#34;&gt;&nbsp;but&nbsp;have&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="5695645">+</span>&nbsp;<span class="ident" id="5695647">start</span><span class="op" id="5695652">.</span><span class="ident" id="5695653">Name</span><span class="op" id="5695657">.</span><span class="ident" id="5695658">Local</span>&nbsp;<span class="op" id="5695664">+</span>&nbsp;<span class="string" id="5695666">&#34;&gt;&#34;</span><span class="op" id="5695669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5695674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695679">if</span>&nbsp;<span class="ident" id="5695682">finfo</span><span class="op" id="5695687">.</span><span class="ident" id="5695688">xmlns</span>&nbsp;<span class="op" id="5695694">!=</span>&nbsp;<span class="string" id="5695697">&#34;&#34;</span>&nbsp;<span class="op" id="5695700">&amp;&amp;</span>&nbsp;<span class="ident" id="5695703">finfo</span><span class="op" id="5695708">.</span><span class="ident" id="5695709">xmlns</span>&nbsp;<span class="op" id="5695715">!=</span>&nbsp;<span class="ident" id="5695718">start</span><span class="op" id="5695723">.</span><span class="ident" id="5695724">Name</span><span class="op" id="5695728">.</span><span class="ident" id="5695729">Space</span>&nbsp;<span class="op" id="5695735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695741">e</span>&nbsp;<span class="op" id="5695743">:=</span>&nbsp;<span class="string" id="5695746">&#34;expected&nbsp;element&nbsp;&lt;&#34;</span>&nbsp;<span class="op" id="5695767">+</span>&nbsp;<span class="ident" id="5695769">finfo</span><span class="op" id="5695774">.</span><span class="ident" id="5695775">name</span>&nbsp;<span class="op" id="5695780">+</span>&nbsp;<span class="string" id="5695782">&#34;&gt;&nbsp;in&nbsp;name&nbsp;space&nbsp;&#34;</span>&nbsp;<span class="op" id="5695801">+</span>&nbsp;<span class="ident" id="5695803">finfo</span><span class="op" id="5695808">.</span><span class="ident" id="5695809">xmlns</span>&nbsp;<span class="op" id="5695815">+</span>&nbsp;<span class="string" id="5695817">&#34;&nbsp;but&nbsp;have&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695834">if</span>&nbsp;<span class="ident" id="5695837">start</span><span class="op" id="5695842">.</span><span class="ident" id="5695843">Name</span><span class="op" id="5695847">.</span><span class="ident" id="5695848">Space</span>&nbsp;<span class="op" id="5695854">==</span>&nbsp;<span class="string" id="5695857">&#34;&#34;</span>&nbsp;<span class="op" id="5695860">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695867">e</span>&nbsp;<span class="op" id="5695869">+=</span>&nbsp;<span class="string" id="5695872">&#34;no&nbsp;name&nbsp;space&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5695892">}</span>&nbsp;<span class="keyword" id="5695894">else</span>&nbsp;<span class="op" id="5695899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695906">e</span>&nbsp;<span class="op" id="5695908">+=</span>&nbsp;<span class="ident" id="5695911">start</span><span class="op" id="5695916">.</span><span class="ident" id="5695917">Name</span><span class="op" id="5695921">.</span><span class="ident" id="5695922">Space</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5695932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695938">return</span>&nbsp;<span class="ident" id="5695945">UnmarshalError</span><span class="op" id="5695959">(</span><span class="ident" id="5695960">e</span><span class="op" id="5695961">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5695966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5695971">fv</span>&nbsp;<span class="op" id="5695974">:=</span>&nbsp;<span class="ident" id="5695977">finfo</span><span class="op" id="5695982">.</span><span class="ident" id="5695983">value</span><span class="op" id="5695988">(</span><span class="ident" id="5695989">sv</span><span class="op" id="5695991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5695996">if</span>&nbsp;<span class="ident" id="5695999">_</span><span class="op" id="5696000">,</span>&nbsp;<span class="ident" id="5696002">ok</span>&nbsp;<span class="op" id="5696005">:=</span>&nbsp;<span class="ident" id="5696008">fv</span><span class="op" id="5696010">.</span><span class="ident" id="5696011">Interface</span><span class="op" id="5696020">(</span><span class="op" id="5696021">)</span><span class="op" id="5696022">.</span><span class="op" id="5696023">(</span><span class="ident" id="5696024">Name</span><span class="op" id="5696028">)</span><span class="op" id="5696029">;</span>&nbsp;<span class="ident" id="5696031">ok</span>&nbsp;<span class="op" id="5696034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696040">fv</span><span class="op" id="5696042">.</span><span class="ident" id="5696043">Set</span><span class="op" id="5696046">(</span><span class="ident" id="5696047">reflect</span><span class="op" id="5696054">.</span><span class="ident" id="5696055">ValueOf</span><span class="op" id="5696062">(</span><span class="ident" id="5696063">start</span><span class="op" id="5696068">.</span><span class="ident" id="5696069">Name</span><span class="op" id="5696073">)</span><span class="op" id="5696074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696079">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5696088">//&nbsp;Assign&nbsp;attributes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5696112">//&nbsp;Also,&nbsp;determine&nbsp;whether&nbsp;we&nbsp;need&nbsp;to&nbsp;save&nbsp;character&nbsp;data&nbsp;or&nbsp;comments.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696185">for</span>&nbsp;<span class="ident" id="5696189">i</span>&nbsp;<span class="op" id="5696191">:=</span>&nbsp;<span class="keyword" id="5696194">range</span>&nbsp;<span class="ident" id="5696200">tinfo</span><span class="op" id="5696205">.</span><span class="ident" id="5696206">fields</span>&nbsp;<span class="op" id="5696213">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696218">finfo</span>&nbsp;<span class="op" id="5696224">:=</span>&nbsp;<span class="op" id="5696227">&amp;</span><span class="ident" id="5696228">tinfo</span><span class="op" id="5696233">.</span><span class="ident" id="5696234">fields</span><span class="op" id="5696240">[</span><span class="ident" id="5696241">i</span><span class="op" id="5696242">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696247">switch</span>&nbsp;<span class="ident" id="5696254">finfo</span><span class="op" id="5696259">.</span><span class="ident" id="5696260">flags</span>&nbsp;<span class="op" id="5696266">&amp;</span>&nbsp;<span class="ident" id="5696268">fMode</span>&nbsp;<span class="op" id="5696274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696279">case</span>&nbsp;<span class="ident" id="5696284">fAttr</span><span class="op" id="5696289">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696295">strv</span>&nbsp;<span class="op" id="5696300">:=</span>&nbsp;<span class="ident" id="5696303">finfo</span><span class="op" id="5696308">.</span><span class="ident" id="5696309">value</span><span class="op" id="5696314">(</span><span class="ident" id="5696315">sv</span><span class="op" id="5696317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5696323">//&nbsp;Look&nbsp;for&nbsp;attribute.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696350">for</span>&nbsp;<span class="ident" id="5696354">_</span><span class="op" id="5696355">,</span>&nbsp;<span class="ident" id="5696357">a</span>&nbsp;<span class="op" id="5696359">:=</span>&nbsp;<span class="keyword" id="5696362">range</span>&nbsp;<span class="ident" id="5696368">start</span><span class="op" id="5696373">.</span><span class="ident" id="5696374">Attr</span>&nbsp;<span class="op" id="5696379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696386">if</span>&nbsp;<span class="ident" id="5696389">a</span><span class="op" id="5696390">.</span><span class="ident" id="5696391">Name</span><span class="op" id="5696395">.</span><span class="ident" id="5696396">Local</span>&nbsp;<span class="op" id="5696402">==</span>&nbsp;<span class="ident" id="5696405">finfo</span><span class="op" id="5696410">.</span><span class="ident" id="5696411">name</span>&nbsp;<span class="op" id="5696416">&amp;&amp;</span>&nbsp;<span class="op" id="5696419">(</span><span class="ident" id="5696420">finfo</span><span class="op" id="5696425">.</span><span class="ident" id="5696426">xmlns</span>&nbsp;<span class="op" id="5696432">==</span>&nbsp;<span class="string" id="5696435">&#34;&#34;</span>&nbsp;<span class="op" id="5696438">||</span>&nbsp;<span class="ident" id="5696441">finfo</span><span class="op" id="5696446">.</span><span class="ident" id="5696447">xmlns</span>&nbsp;<span class="op" id="5696453">==</span>&nbsp;<span class="ident" id="5696456">a</span><span class="op" id="5696457">.</span><span class="ident" id="5696458">Name</span><span class="op" id="5696462">.</span><span class="ident" id="5696463">Space</span><span class="op" id="5696468">)</span>&nbsp;<span class="op" id="5696470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696478">if</span>&nbsp;<span class="ident" id="5696481">err</span>&nbsp;<span class="op" id="5696485">:=</span>&nbsp;<span class="ident" id="5696488">p</span><span class="op" id="5696489">.</span><span class="ident" id="5696490">unmarshalAttr</span><span class="op" id="5696503">(</span><span class="ident" id="5696504">strv</span><span class="op" id="5696508">,</span>&nbsp;<span class="ident" id="5696510">a</span><span class="op" id="5696511">)</span><span class="op" id="5696512">;</span>&nbsp;<span class="ident" id="5696514">err</span>&nbsp;<span class="op" id="5696518">!=</span>&nbsp;<span class="builtintype" id="5696521">nil</span>&nbsp;<span class="op" id="5696525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696534">return</span>&nbsp;<span class="ident" id="5696541">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696551">}</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696559">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696570">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696582">case</span>&nbsp;<span class="ident" id="5696587">fCharData</span><span class="op" id="5696596">:</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696602">if</span>&nbsp;<span class="op" id="5696605">!</span><span class="ident" id="5696606">saveData</span><span class="op" id="5696614">.</span><span class="ident" id="5696615">IsValid</span><span class="op" id="5696622">(</span><span class="op" id="5696623">)</span>&nbsp;<span class="op" id="5696625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696632">saveData</span>&nbsp;<span class="op" id="5696641">=</span>&nbsp;<span class="ident" id="5696643">finfo</span><span class="op" id="5696648">.</span><span class="ident" id="5696649">value</span><span class="op" id="5696654">(</span><span class="ident" id="5696655">sv</span><span class="op" id="5696657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696669">case</span>&nbsp;<span class="ident" id="5696674">fComment</span><span class="op" id="5696682">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696688">if</span>&nbsp;<span class="op" id="5696691">!</span><span class="ident" id="5696692">saveComment</span><span class="op" id="5696703">.</span><span class="ident" id="5696704">IsValid</span><span class="op" id="5696711">(</span><span class="op" id="5696712">)</span>&nbsp;<span class="op" id="5696714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696721">saveComment</span>&nbsp;<span class="op" id="5696733">=</span>&nbsp;<span class="ident" id="5696735">finfo</span><span class="op" id="5696740">.</span><span class="ident" id="5696741">value</span><span class="op" id="5696746">(</span><span class="ident" id="5696747">sv</span><span class="op" id="5696749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696755">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696761">case</span>&nbsp;<span class="ident" id="5696766">fAny</span><span class="op" id="5696770">,</span>&nbsp;<span class="ident" id="5696772">fAny</span>&nbsp;<span class="op" id="5696777">|</span>&nbsp;<span class="ident" id="5696779">fElement</span><span class="op" id="5696787">:</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696793">if</span>&nbsp;<span class="op" id="5696796">!</span><span class="ident" id="5696797">saveAny</span><span class="op" id="5696804">.</span><span class="ident" id="5696805">IsValid</span><span class="op" id="5696812">(</span><span class="op" id="5696813">)</span>&nbsp;<span class="op" id="5696815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696822">saveAny</span>&nbsp;<span class="op" id="5696830">=</span>&nbsp;<span class="ident" id="5696832">finfo</span><span class="op" id="5696837">.</span><span class="ident" id="5696838">value</span><span class="op" id="5696843">(</span><span class="ident" id="5696844">sv</span><span class="op" id="5696846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5696852">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696858">case</span>&nbsp;<span class="ident" id="5696863">fInnerXml</span><span class="op" id="5696872">:</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696878">if</span>&nbsp;<span class="op" id="5696881">!</span><span class="ident" id="5696882">saveXML</span><span class="op" id="5696889">.</span><span class="ident" id="5696890">IsValid</span><span class="op" id="5696897">(</span><span class="op" id="5696898">)</span>&nbsp;<span class="op" id="5696900">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696907">saveXML</span>&nbsp;<span class="op" id="5696915">=</span>&nbsp;<span class="ident" id="5696917">finfo</span><span class="op" id="5696922">.</span><span class="ident" id="5696923">value</span><span class="op" id="5696928">(</span><span class="ident" id="5696929">sv</span><span class="op" id="5696931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5696938">if</span>&nbsp;<span class="ident" id="5696941">p</span><span class="op" id="5696942">.</span><span class="ident" id="5696943">saved</span>&nbsp;<span class="op" id="5696949">==</span>&nbsp;<span class="builtintype" id="5696952">nil</span>&nbsp;<span class="op" id="5696956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696964">saveXMLIndex</span>&nbsp;<span class="op" id="5696977">=</span>&nbsp;<span class="num" id="5696979">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5696987">p</span><span class="op" id="5696988">.</span><span class="ident" id="5696989">saved</span>&nbsp;<span class="op" id="5696995">=</span>&nbsp;<span class="builtinfunc" id="5696997">new</span><span class="op" id="5697000">(</span><span class="ident" id="5697001">bytes</span><span class="op" id="5697006">.</span><span class="ident" id="5697007">Buffer</span><span class="op" id="5697013">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697020">}</span>&nbsp;<span class="keyword" id="5697022">else</span>&nbsp;<span class="op" id="5697027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697035">saveXMLIndex</span>&nbsp;<span class="op" id="5697048">=</span>&nbsp;<span class="ident" id="5697050">p</span><span class="op" id="5697051">.</span><span class="ident" id="5697052">savedOffset</span><span class="op" id="5697063">(</span><span class="op" id="5697064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697082">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5697093">//&nbsp;Find&nbsp;end&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5697115">//&nbsp;Process&nbsp;sub-elements&nbsp;along&nbsp;the&nbsp;way.</span><br>
<span class="lineno">465</span><span class="ident" id="5697154">Loop</span><span class="op" id="5697158">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697161">for</span>&nbsp;<span class="op" id="5697165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697169">var</span>&nbsp;<span class="ident" id="5697173">savedOffset</span>&nbsp;<span class="builtintype" id="5697185">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697191">if</span>&nbsp;<span class="ident" id="5697194">saveXML</span><span class="op" id="5697201">.</span><span class="ident" id="5697202">IsValid</span><span class="op" id="5697209">(</span><span class="op" id="5697210">)</span>&nbsp;<span class="op" id="5697212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697217">savedOffset</span>&nbsp;<span class="op" id="5697229">=</span>&nbsp;<span class="ident" id="5697231">p</span><span class="op" id="5697232">.</span><span class="ident" id="5697233">savedOffset</span><span class="op" id="5697244">(</span><span class="op" id="5697245">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697253">tok</span><span class="op" id="5697256">,</span>&nbsp;<span class="ident" id="5697258">err</span>&nbsp;<span class="op" id="5697262">:=</span>&nbsp;<span class="ident" id="5697265">p</span><span class="op" id="5697266">.</span><span class="ident" id="5697267">Token</span><span class="op" id="5697272">(</span><span class="op" id="5697273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697277">if</span>&nbsp;<span class="ident" id="5697280">err</span>&nbsp;<span class="op" id="5697284">!=</span>&nbsp;<span class="builtintype" id="5697287">nil</span>&nbsp;<span class="op" id="5697291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697296">return</span>&nbsp;<span class="ident" id="5697303">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697309">}</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697313">switch</span>&nbsp;<span class="ident" id="5697320">t</span>&nbsp;<span class="op" id="5697322">:=</span>&nbsp;<span class="ident" id="5697325">tok</span><span class="op" id="5697328">.</span><span class="op" id="5697329">(</span><span class="keyword" id="5697330">type</span><span class="op" id="5697334">)</span>&nbsp;<span class="op" id="5697336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697340">case</span>&nbsp;<span class="ident" id="5697345">StartElement</span><span class="op" id="5697357">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697362">consumed</span>&nbsp;<span class="op" id="5697371">:=</span>&nbsp;<span class="builtintype" id="5697374">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697383">if</span>&nbsp;<span class="ident" id="5697386">sv</span><span class="op" id="5697388">.</span><span class="ident" id="5697389">IsValid</span><span class="op" id="5697396">(</span><span class="op" id="5697397">)</span>&nbsp;<span class="op" id="5697399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697405">consumed</span><span class="op" id="5697413">,</span>&nbsp;<span class="ident" id="5697415">err</span>&nbsp;<span class="op" id="5697419">=</span>&nbsp;<span class="ident" id="5697421">p</span><span class="op" id="5697422">.</span><span class="ident" id="5697423">unmarshalPath</span><span class="op" id="5697436">(</span><span class="ident" id="5697437">tinfo</span><span class="op" id="5697442">,</span>&nbsp;<span class="ident" id="5697444">sv</span><span class="op" id="5697446">,</span>&nbsp;<span class="builtintype" id="5697448">nil</span><span class="op" id="5697451">,</span>&nbsp;<span class="op" id="5697453">&amp;</span><span class="ident" id="5697454">t</span><span class="op" id="5697455">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697461">if</span>&nbsp;<span class="ident" id="5697464">err</span>&nbsp;<span class="op" id="5697468">!=</span>&nbsp;<span class="builtintype" id="5697471">nil</span>&nbsp;<span class="op" id="5697475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697482">return</span>&nbsp;<span class="ident" id="5697489">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697503">if</span>&nbsp;<span class="op" id="5697506">!</span><span class="ident" id="5697507">consumed</span>&nbsp;<span class="op" id="5697516">&amp;&amp;</span>&nbsp;<span class="ident" id="5697519">saveAny</span><span class="op" id="5697526">.</span><span class="ident" id="5697527">IsValid</span><span class="op" id="5697534">(</span><span class="op" id="5697535">)</span>&nbsp;<span class="op" id="5697537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697544">consumed</span>&nbsp;<span class="op" id="5697553">=</span>&nbsp;<span class="builtintype" id="5697555">true</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697565">if</span>&nbsp;<span class="ident" id="5697568">err</span>&nbsp;<span class="op" id="5697572">:=</span>&nbsp;<span class="ident" id="5697575">p</span><span class="op" id="5697576">.</span><span class="ident" id="5697577">unmarshal</span><span class="op" id="5697586">(</span><span class="ident" id="5697587">saveAny</span><span class="op" id="5697594">,</span>&nbsp;<span class="op" id="5697596">&amp;</span><span class="ident" id="5697597">t</span><span class="op" id="5697598">)</span><span class="op" id="5697599">;</span>&nbsp;<span class="ident" id="5697601">err</span>&nbsp;<span class="op" id="5697605">!=</span>&nbsp;<span class="builtintype" id="5697608">nil</span>&nbsp;<span class="op" id="5697612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697620">return</span>&nbsp;<span class="ident" id="5697627">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697647">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697652">if</span>&nbsp;<span class="op" id="5697655">!</span><span class="ident" id="5697656">consumed</span>&nbsp;<span class="op" id="5697665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697671">if</span>&nbsp;<span class="ident" id="5697674">err</span>&nbsp;<span class="op" id="5697678">:=</span>&nbsp;<span class="ident" id="5697681">p</span><span class="op" id="5697682">.</span><span class="ident" id="5697683">Skip</span><span class="op" id="5697687">(</span><span class="op" id="5697688">)</span><span class="op" id="5697689">;</span>&nbsp;<span class="ident" id="5697691">err</span>&nbsp;<span class="op" id="5697695">!=</span>&nbsp;<span class="builtintype" id="5697698">nil</span>&nbsp;<span class="op" id="5697702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697709">return</span>&nbsp;<span class="ident" id="5697716">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697729">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697734">case</span>&nbsp;<span class="ident" id="5697739">EndElement</span><span class="op" id="5697749">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697754">if</span>&nbsp;<span class="ident" id="5697757">saveXML</span><span class="op" id="5697764">.</span><span class="ident" id="5697765">IsValid</span><span class="op" id="5697772">(</span><span class="op" id="5697773">)</span>&nbsp;<span class="op" id="5697775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697781">saveXMLData</span>&nbsp;<span class="op" id="5697793">=</span>&nbsp;<span class="ident" id="5697795">p</span><span class="op" id="5697796">.</span><span class="ident" id="5697797">saved</span><span class="op" id="5697802">.</span><span class="ident" id="5697803">Bytes</span><span class="op" id="5697808">(</span><span class="op" id="5697809">)</span><span class="op" id="5697810">[</span><span class="ident" id="5697811">saveXMLIndex</span><span class="op" id="5697823">:</span><span class="ident" id="5697824">savedOffset</span><span class="op" id="5697835">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697841">if</span>&nbsp;<span class="ident" id="5697844">saveXMLIndex</span>&nbsp;<span class="op" id="5697857">==</span>&nbsp;<span class="num" id="5697860">0</span>&nbsp;<span class="op" id="5697862">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697869">p</span><span class="op" id="5697870">.</span><span class="ident" id="5697871">saved</span>&nbsp;<span class="op" id="5697877">=</span>&nbsp;<span class="builtintype" id="5697879">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697897">break</span>&nbsp;<span class="ident" id="5697903">Loop</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697911">case</span>&nbsp;<span class="ident" id="5697916">CharData</span><span class="op" id="5697924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697929">if</span>&nbsp;<span class="ident" id="5697932">saveData</span><span class="op" id="5697940">.</span><span class="ident" id="5697941">IsValid</span><span class="op" id="5697948">(</span><span class="op" id="5697949">)</span>&nbsp;<span class="op" id="5697951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5697957">data</span>&nbsp;<span class="op" id="5697962">=</span>&nbsp;<span class="builtinfunc" id="5697964">append</span><span class="op" id="5697970">(</span><span class="ident" id="5697971">data</span><span class="op" id="5697975">,</span>&nbsp;<span class="ident" id="5697977">t</span><span class="op" id="5697978">...</span><span class="op" id="5697981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5697986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5697991">case</span>&nbsp;<span class="ident" id="5697996">Comment</span><span class="op" id="5698003">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698008">if</span>&nbsp;<span class="ident" id="5698011">saveComment</span><span class="op" id="5698022">.</span><span class="ident" id="5698023">IsValid</span><span class="op" id="5698030">(</span><span class="op" id="5698031">)</span>&nbsp;<span class="op" id="5698033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698039">comment</span>&nbsp;<span class="op" id="5698047">=</span>&nbsp;<span class="builtinfunc" id="5698049">append</span><span class="op" id="5698055">(</span><span class="ident" id="5698056">comment</span><span class="op" id="5698063">,</span>&nbsp;<span class="ident" id="5698065">t</span><span class="op" id="5698066">...</span><span class="op" id="5698069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698078">}</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698085">if</span>&nbsp;<span class="ident" id="5698088">saveData</span><span class="op" id="5698096">.</span><span class="ident" id="5698097">IsValid</span><span class="op" id="5698104">(</span><span class="op" id="5698105">)</span>&nbsp;<span class="op" id="5698107">&amp;&amp;</span>&nbsp;<span class="ident" id="5698110">saveData</span><span class="op" id="5698118">.</span><span class="ident" id="5698119">CanInterface</span><span class="op" id="5698131">(</span><span class="op" id="5698132">)</span>&nbsp;<span class="op" id="5698134">&amp;&amp;</span>&nbsp;<span class="ident" id="5698137">saveData</span><span class="op" id="5698145">.</span><span class="ident" id="5698146">Type</span><span class="op" id="5698150">(</span><span class="op" id="5698151">)</span><span class="op" id="5698152">.</span><span class="ident" id="5698153">Implements</span><span class="op" id="5698163">(</span><span class="ident" id="5698164">textUnmarshalerType</span><span class="op" id="5698183">)</span>&nbsp;<span class="op" id="5698185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698189">if</span>&nbsp;<span class="ident" id="5698192">err</span>&nbsp;<span class="op" id="5698196">:=</span>&nbsp;<span class="ident" id="5698199">saveData</span><span class="op" id="5698207">.</span><span class="ident" id="5698208">Interface</span><span class="op" id="5698217">(</span><span class="op" id="5698218">)</span><span class="op" id="5698219">.</span><span class="op" id="5698220">(</span><span class="ident" id="5698221">encoding</span><span class="op" id="5698229">.</span><span class="ident" id="5698230">TextUnmarshaler</span><span class="op" id="5698245">)</span><span class="op" id="5698246">.</span><span class="ident" id="5698247">UnmarshalText</span><span class="op" id="5698260">(</span><span class="ident" id="5698261">data</span><span class="op" id="5698265">)</span><span class="op" id="5698266">;</span>&nbsp;<span class="ident" id="5698268">err</span>&nbsp;<span class="op" id="5698272">!=</span>&nbsp;<span class="builtintype" id="5698275">nil</span>&nbsp;<span class="op" id="5698279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698284">return</span>&nbsp;<span class="ident" id="5698291">err</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698301">saveData</span>&nbsp;<span class="op" id="5698310">=</span>&nbsp;<span class="ident" id="5698312">reflect</span><span class="op" id="5698319">.</span><span class="ident" id="5698320">Value</span><span class="op" id="5698325">{</span><span class="op" id="5698326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698333">if</span>&nbsp;<span class="ident" id="5698336">saveData</span><span class="op" id="5698344">.</span><span class="ident" id="5698345">IsValid</span><span class="op" id="5698352">(</span><span class="op" id="5698353">)</span>&nbsp;<span class="op" id="5698355">&amp;&amp;</span>&nbsp;<span class="ident" id="5698358">saveData</span><span class="op" id="5698366">.</span><span class="ident" id="5698367">CanAddr</span><span class="op" id="5698374">(</span><span class="op" id="5698375">)</span>&nbsp;<span class="op" id="5698377">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698381">pv</span>&nbsp;<span class="op" id="5698384">:=</span>&nbsp;<span class="ident" id="5698387">saveData</span><span class="op" id="5698395">.</span><span class="ident" id="5698396">Addr</span><span class="op" id="5698400">(</span><span class="op" id="5698401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698405">if</span>&nbsp;<span class="ident" id="5698408">pv</span><span class="op" id="5698410">.</span><span class="ident" id="5698411">CanInterface</span><span class="op" id="5698423">(</span><span class="op" id="5698424">)</span>&nbsp;<span class="op" id="5698426">&amp;&amp;</span>&nbsp;<span class="ident" id="5698429">pv</span><span class="op" id="5698431">.</span><span class="ident" id="5698432">Type</span><span class="op" id="5698436">(</span><span class="op" id="5698437">)</span><span class="op" id="5698438">.</span><span class="ident" id="5698439">Implements</span><span class="op" id="5698449">(</span><span class="ident" id="5698450">textUnmarshalerType</span><span class="op" id="5698469">)</span>&nbsp;<span class="op" id="5698471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698476">if</span>&nbsp;<span class="ident" id="5698479">err</span>&nbsp;<span class="op" id="5698483">:=</span>&nbsp;<span class="ident" id="5698486">pv</span><span class="op" id="5698488">.</span><span class="ident" id="5698489">Interface</span><span class="op" id="5698498">(</span><span class="op" id="5698499">)</span><span class="op" id="5698500">.</span><span class="op" id="5698501">(</span><span class="ident" id="5698502">encoding</span><span class="op" id="5698510">.</span><span class="ident" id="5698511">TextUnmarshaler</span><span class="op" id="5698526">)</span><span class="op" id="5698527">.</span><span class="ident" id="5698528">UnmarshalText</span><span class="op" id="5698541">(</span><span class="ident" id="5698542">data</span><span class="op" id="5698546">)</span><span class="op" id="5698547">;</span>&nbsp;<span class="ident" id="5698549">err</span>&nbsp;<span class="op" id="5698553">!=</span>&nbsp;<span class="builtintype" id="5698556">nil</span>&nbsp;<span class="op" id="5698560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698566">return</span>&nbsp;<span class="ident" id="5698573">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698580">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698585">saveData</span>&nbsp;<span class="op" id="5698594">=</span>&nbsp;<span class="ident" id="5698596">reflect</span><span class="op" id="5698603">.</span><span class="ident" id="5698604">Value</span><span class="op" id="5698609">{</span><span class="op" id="5698610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698621">if</span>&nbsp;<span class="ident" id="5698624">err</span>&nbsp;<span class="op" id="5698628">:=</span>&nbsp;<span class="ident" id="5698631">copyValue</span><span class="op" id="5698640">(</span><span class="ident" id="5698641">saveData</span><span class="op" id="5698649">,</span>&nbsp;<span class="ident" id="5698651">data</span><span class="op" id="5698655">)</span><span class="op" id="5698656">;</span>&nbsp;<span class="ident" id="5698658">err</span>&nbsp;<span class="op" id="5698662">!=</span>&nbsp;<span class="builtintype" id="5698665">nil</span>&nbsp;<span class="op" id="5698669">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698673">return</span>&nbsp;<span class="ident" id="5698680">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698685">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698689">switch</span>&nbsp;<span class="ident" id="5698696">t</span>&nbsp;<span class="op" id="5698698">:=</span>&nbsp;<span class="ident" id="5698701">saveComment</span><span class="op" id="5698712">;</span>&nbsp;<span class="ident" id="5698714">t</span><span class="op" id="5698715">.</span><span class="ident" id="5698716">Kind</span><span class="op" id="5698720">(</span><span class="op" id="5698721">)</span>&nbsp;<span class="op" id="5698723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698726">case</span>&nbsp;<span class="ident" id="5698731">reflect</span><span class="op" id="5698738">.</span><span class="ident" id="5698739">String</span><span class="op" id="5698745">:</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698749">t</span><span class="op" id="5698750">.</span><span class="ident" id="5698751">SetString</span><span class="op" id="5698760">(</span><span class="builtintype" id="5698761">string</span><span class="op" id="5698767">(</span><span class="ident" id="5698768">comment</span><span class="op" id="5698775">)</span><span class="op" id="5698776">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698779">case</span>&nbsp;<span class="ident" id="5698784">reflect</span><span class="op" id="5698791">.</span><span class="ident" id="5698792">Slice</span><span class="op" id="5698797">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698801">t</span><span class="op" id="5698802">.</span><span class="ident" id="5698803">Set</span><span class="op" id="5698806">(</span><span class="ident" id="5698807">reflect</span><span class="op" id="5698814">.</span><span class="ident" id="5698815">ValueOf</span><span class="op" id="5698822">(</span><span class="ident" id="5698823">comment</span><span class="op" id="5698830">)</span><span class="op" id="5698831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698838">switch</span>&nbsp;<span class="ident" id="5698845">t</span>&nbsp;<span class="op" id="5698847">:=</span>&nbsp;<span class="ident" id="5698850">saveXML</span><span class="op" id="5698857">;</span>&nbsp;<span class="ident" id="5698859">t</span><span class="op" id="5698860">.</span><span class="ident" id="5698861">Kind</span><span class="op" id="5698865">(</span><span class="op" id="5698866">)</span>&nbsp;<span class="op" id="5698868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698871">case</span>&nbsp;<span class="ident" id="5698876">reflect</span><span class="op" id="5698883">.</span><span class="ident" id="5698884">String</span><span class="op" id="5698890">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698894">t</span><span class="op" id="5698895">.</span><span class="ident" id="5698896">SetString</span><span class="op" id="5698905">(</span><span class="builtintype" id="5698906">string</span><span class="op" id="5698912">(</span><span class="ident" id="5698913">saveXMLData</span><span class="op" id="5698924">)</span><span class="op" id="5698925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698928">case</span>&nbsp;<span class="ident" id="5698933">reflect</span><span class="op" id="5698940">.</span><span class="ident" id="5698941">Slice</span><span class="op" id="5698946">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5698950">t</span><span class="op" id="5698951">.</span><span class="ident" id="5698952">Set</span><span class="op" id="5698955">(</span><span class="ident" id="5698956">reflect</span><span class="op" id="5698963">.</span><span class="ident" id="5698964">ValueOf</span><span class="op" id="5698971">(</span><span class="ident" id="5698972">saveXMLData</span><span class="op" id="5698983">)</span><span class="op" id="5698984">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5698987">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5698991">return</span>&nbsp;<span class="builtintype" id="5698998">nil</span><br>
<span class="lineno"></span><span class="op" id="5699002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span><span class="keyword" id="5699005">func</span>&nbsp;<span class="ident" id="5699010">copyValue</span><span class="op" id="5699019">(</span><span class="ident" id="5699020">dst</span>&nbsp;<span class="ident" id="5699024">reflect</span><span class="op" id="5699031">.</span><span class="ident" id="5699032">Value</span><span class="op" id="5699037">,</span>&nbsp;<span class="ident" id="5699039">src</span>&nbsp;<span class="op" id="5699043">[</span><span class="op" id="5699044">]</span><span class="builtintype" id="5699045">byte</span><span class="op" id="5699049">)</span>&nbsp;<span class="op" id="5699051">(</span><span class="ident" id="5699052">err</span>&nbsp;<span class="builtintype" id="5699056">error</span><span class="op" id="5699061">)</span>&nbsp;<span class="op" id="5699063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699066">dst0</span>&nbsp;<span class="op" id="5699071">:=</span>&nbsp;<span class="ident" id="5699074">dst</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699080">if</span>&nbsp;<span class="ident" id="5699083">dst</span><span class="op" id="5699086">.</span><span class="ident" id="5699087">Kind</span><span class="op" id="5699091">(</span><span class="op" id="5699092">)</span>&nbsp;<span class="op" id="5699094">==</span>&nbsp;<span class="ident" id="5699097">reflect</span><span class="op" id="5699104">.</span><span class="ident" id="5699105">Ptr</span>&nbsp;<span class="op" id="5699109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699113">if</span>&nbsp;<span class="ident" id="5699116">dst</span><span class="op" id="5699119">.</span><span class="ident" id="5699120">IsNil</span><span class="op" id="5699125">(</span><span class="op" id="5699126">)</span>&nbsp;<span class="op" id="5699128">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699133">dst</span><span class="op" id="5699136">.</span><span class="ident" id="5699137">Set</span><span class="op" id="5699140">(</span><span class="ident" id="5699141">reflect</span><span class="op" id="5699148">.</span><span class="ident" id="5699149">New</span><span class="op" id="5699152">(</span><span class="ident" id="5699153">dst</span><span class="op" id="5699156">.</span><span class="ident" id="5699157">Type</span><span class="op" id="5699161">(</span><span class="op" id="5699162">)</span><span class="op" id="5699163">.</span><span class="ident" id="5699164">Elem</span><span class="op" id="5699168">(</span><span class="op" id="5699169">)</span><span class="op" id="5699170">)</span><span class="op" id="5699171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5699175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699179">dst</span>&nbsp;<span class="op" id="5699183">=</span>&nbsp;<span class="ident" id="5699185">dst</span><span class="op" id="5699188">.</span><span class="ident" id="5699189">Elem</span><span class="op" id="5699193">(</span><span class="op" id="5699194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5699197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5699201">//&nbsp;Save&nbsp;accumulated&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699228">switch</span>&nbsp;<span class="ident" id="5699235">dst</span><span class="op" id="5699238">.</span><span class="ident" id="5699239">Kind</span><span class="op" id="5699243">(</span><span class="op" id="5699244">)</span>&nbsp;<span class="op" id="5699246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699249">case</span>&nbsp;<span class="ident" id="5699254">reflect</span><span class="op" id="5699261">.</span><span class="ident" id="5699262">Invalid</span><span class="op" id="5699269">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5699273">//&nbsp;Probably&nbsp;a&nbsp;comment.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699297">default</span><span class="op" id="5699304">:</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699308">return</span>&nbsp;<span class="ident" id="5699315">errors</span><span class="op" id="5699321">.</span><span class="ident" id="5699322">New</span><span class="op" id="5699325">(</span><span class="string" id="5699326">&#34;cannot&nbsp;unmarshal&nbsp;into&nbsp;&#34;</span>&nbsp;<span class="op" id="5699351">+</span>&nbsp;<span class="ident" id="5699353">dst0</span><span class="op" id="5699357">.</span><span class="ident" id="5699358">Type</span><span class="op" id="5699362">(</span><span class="op" id="5699363">)</span><span class="op" id="5699364">.</span><span class="ident" id="5699365">String</span><span class="op" id="5699371">(</span><span class="op" id="5699372">)</span><span class="op" id="5699373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699376">case</span>&nbsp;<span class="ident" id="5699381">reflect</span><span class="op" id="5699388">.</span><span class="ident" id="5699389">Int</span><span class="op" id="5699392">,</span>&nbsp;<span class="ident" id="5699394">reflect</span><span class="op" id="5699401">.</span><span class="ident" id="5699402">Int8</span><span class="op" id="5699406">,</span>&nbsp;<span class="ident" id="5699408">reflect</span><span class="op" id="5699415">.</span><span class="ident" id="5699416">Int16</span><span class="op" id="5699421">,</span>&nbsp;<span class="ident" id="5699423">reflect</span><span class="op" id="5699430">.</span><span class="ident" id="5699431">Int32</span><span class="op" id="5699436">,</span>&nbsp;<span class="ident" id="5699438">reflect</span><span class="op" id="5699445">.</span><span class="ident" id="5699446">Int64</span><span class="op" id="5699451">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699455">itmp</span><span class="op" id="5699459">,</span>&nbsp;<span class="ident" id="5699461">err</span>&nbsp;<span class="op" id="5699465">:=</span>&nbsp;<span class="ident" id="5699468">strconv</span><span class="op" id="5699475">.</span><span class="ident" id="5699476">ParseInt</span><span class="op" id="5699484">(</span><span class="builtintype" id="5699485">string</span><span class="op" id="5699491">(</span><span class="ident" id="5699492">src</span><span class="op" id="5699495">)</span><span class="op" id="5699496">,</span>&nbsp;<span class="num" id="5699498">10</span><span class="op" id="5699500">,</span>&nbsp;<span class="ident" id="5699502">dst</span><span class="op" id="5699505">.</span><span class="ident" id="5699506">Type</span><span class="op" id="5699510">(</span><span class="op" id="5699511">)</span><span class="op" id="5699512">.</span><span class="ident" id="5699513">Bits</span><span class="op" id="5699517">(</span><span class="op" id="5699518">)</span><span class="op" id="5699519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699523">if</span>&nbsp;<span class="ident" id="5699526">err</span>&nbsp;<span class="op" id="5699530">!=</span>&nbsp;<span class="builtintype" id="5699533">nil</span>&nbsp;<span class="op" id="5699537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699542">return</span>&nbsp;<span class="ident" id="5699549">err</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5699555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699559">dst</span><span class="op" id="5699562">.</span><span class="ident" id="5699563">SetInt</span><span class="op" id="5699569">(</span><span class="ident" id="5699570">itmp</span><span class="op" id="5699574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699577">case</span>&nbsp;<span class="ident" id="5699582">reflect</span><span class="op" id="5699589">.</span><span class="ident" id="5699590">Uint</span><span class="op" id="5699594">,</span>&nbsp;<span class="ident" id="5699596">reflect</span><span class="op" id="5699603">.</span><span class="ident" id="5699604">Uint8</span><span class="op" id="5699609">,</span>&nbsp;<span class="ident" id="5699611">reflect</span><span class="op" id="5699618">.</span><span class="ident" id="5699619">Uint16</span><span class="op" id="5699625">,</span>&nbsp;<span class="ident" id="5699627">reflect</span><span class="op" id="5699634">.</span><span class="ident" id="5699635">Uint32</span><span class="op" id="5699641">,</span>&nbsp;<span class="ident" id="5699643">reflect</span><span class="op" id="5699650">.</span><span class="ident" id="5699651">Uint64</span><span class="op" id="5699657">,</span>&nbsp;<span class="ident" id="5699659">reflect</span><span class="op" id="5699666">.</span><span class="ident" id="5699667">Uintptr</span><span class="op" id="5699674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699678">utmp</span><span class="op" id="5699682">,</span>&nbsp;<span class="ident" id="5699684">err</span>&nbsp;<span class="op" id="5699688">:=</span>&nbsp;<span class="ident" id="5699691">strconv</span><span class="op" id="5699698">.</span><span class="ident" id="5699699">ParseUint</span><span class="op" id="5699708">(</span><span class="builtintype" id="5699709">string</span><span class="op" id="5699715">(</span><span class="ident" id="5699716">src</span><span class="op" id="5699719">)</span><span class="op" id="5699720">,</span>&nbsp;<span class="num" id="5699722">10</span><span class="op" id="5699724">,</span>&nbsp;<span class="ident" id="5699726">dst</span><span class="op" id="5699729">.</span><span class="ident" id="5699730">Type</span><span class="op" id="5699734">(</span><span class="op" id="5699735">)</span><span class="op" id="5699736">.</span><span class="ident" id="5699737">Bits</span><span class="op" id="5699741">(</span><span class="op" id="5699742">)</span><span class="op" id="5699743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699747">if</span>&nbsp;<span class="ident" id="5699750">err</span>&nbsp;<span class="op" id="5699754">!=</span>&nbsp;<span class="builtintype" id="5699757">nil</span>&nbsp;<span class="op" id="5699761">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699766">return</span>&nbsp;<span class="ident" id="5699773">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5699779">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699783">dst</span><span class="op" id="5699786">.</span><span class="ident" id="5699787">SetUint</span><span class="op" id="5699794">(</span><span class="ident" id="5699795">utmp</span><span class="op" id="5699799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699802">case</span>&nbsp;<span class="ident" id="5699807">reflect</span><span class="op" id="5699814">.</span><span class="ident" id="5699815">Float32</span><span class="op" id="5699822">,</span>&nbsp;<span class="ident" id="5699824">reflect</span><span class="op" id="5699831">.</span><span class="ident" id="5699832">Float64</span><span class="op" id="5699839">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699843">ftmp</span><span class="op" id="5699847">,</span>&nbsp;<span class="ident" id="5699849">err</span>&nbsp;<span class="op" id="5699853">:=</span>&nbsp;<span class="ident" id="5699856">strconv</span><span class="op" id="5699863">.</span><span class="ident" id="5699864">ParseFloat</span><span class="op" id="5699874">(</span><span class="builtintype" id="5699875">string</span><span class="op" id="5699881">(</span><span class="ident" id="5699882">src</span><span class="op" id="5699885">)</span><span class="op" id="5699886">,</span>&nbsp;<span class="ident" id="5699888">dst</span><span class="op" id="5699891">.</span><span class="ident" id="5699892">Type</span><span class="op" id="5699896">(</span><span class="op" id="5699897">)</span><span class="op" id="5699898">.</span><span class="ident" id="5699899">Bits</span><span class="op" id="5699903">(</span><span class="op" id="5699904">)</span><span class="op" id="5699905">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699909">if</span>&nbsp;<span class="ident" id="5699912">err</span>&nbsp;<span class="op" id="5699916">!=</span>&nbsp;<span class="builtintype" id="5699919">nil</span>&nbsp;<span class="op" id="5699923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699928">return</span>&nbsp;<span class="ident" id="5699935">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5699941">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699945">dst</span><span class="op" id="5699948">.</span><span class="ident" id="5699949">SetFloat</span><span class="op" id="5699957">(</span><span class="ident" id="5699958">ftmp</span><span class="op" id="5699962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5699965">case</span>&nbsp;<span class="ident" id="5699970">reflect</span><span class="op" id="5699977">.</span><span class="ident" id="5699978">Bool</span><span class="op" id="5699982">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5699986">value</span><span class="op" id="5699991">,</span>&nbsp;<span class="ident" id="5699993">err</span>&nbsp;<span class="op" id="5699997">:=</span>&nbsp;<span class="ident" id="5700000">strconv</span><span class="op" id="5700007">.</span><span class="ident" id="5700008">ParseBool</span><span class="op" id="5700017">(</span><span class="ident" id="5700018">strings</span><span class="op" id="5700025">.</span><span class="ident" id="5700026">TrimSpace</span><span class="op" id="5700035">(</span><span class="builtintype" id="5700036">string</span><span class="op" id="5700042">(</span><span class="ident" id="5700043">src</span><span class="op" id="5700046">)</span><span class="op" id="5700047">)</span><span class="op" id="5700048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700052">if</span>&nbsp;<span class="ident" id="5700055">err</span>&nbsp;<span class="op" id="5700059">!=</span>&nbsp;<span class="builtintype" id="5700062">nil</span>&nbsp;<span class="op" id="5700066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700071">return</span>&nbsp;<span class="ident" id="5700078">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5700084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5700088">dst</span><span class="op" id="5700091">.</span><span class="ident" id="5700092">SetBool</span><span class="op" id="5700099">(</span><span class="ident" id="5700100">value</span><span class="op" id="5700105">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700108">case</span>&nbsp;<span class="ident" id="5700113">reflect</span><span class="op" id="5700120">.</span><span class="ident" id="5700121">String</span><span class="op" id="5700127">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5700131">dst</span><span class="op" id="5700134">.</span><span class="ident" id="5700135">SetString</span><span class="op" id="5700144">(</span><span class="builtintype" id="5700145">string</span><span class="op" id="5700151">(</span><span class="ident" id="5700152">src</span><span class="op" id="5700155">)</span><span class="op" id="5700156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700159">case</span>&nbsp;<span class="ident" id="5700164">reflect</span><span class="op" id="5700171">.</span><span class="ident" id="5700172">Slice</span><span class="op" id="5700177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700181">if</span>&nbsp;<span class="builtinfunc" id="5700184">len</span><span class="op" id="5700187">(</span><span class="ident" id="5700188">src</span><span class="op" id="5700191">)</span>&nbsp;<span class="op" id="5700193">==</span>&nbsp;<span class="num" id="5700196">0</span>&nbsp;<span class="op" id="5700198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5700203">//&nbsp;non-nil&nbsp;to&nbsp;flag&nbsp;presence</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5700234">src</span>&nbsp;<span class="op" id="5700238">=</span>&nbsp;<span class="op" id="5700240">[</span><span class="op" id="5700241">]</span><span class="builtintype" id="5700242">byte</span><span class="op" id="5700246">{</span><span class="op" id="5700247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5700251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5700255">dst</span><span class="op" id="5700258">.</span><span class="ident" id="5700259">SetBytes</span><span class="op" id="5700267">(</span><span class="ident" id="5700268">src</span><span class="op" id="5700271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5700274">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700277">return</span>&nbsp;<span class="builtintype" id="5700284">nil</span><br>
<span class="lineno">605</span><span class="op" id="5700288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5700291">//&nbsp;unmarshalPath&nbsp;walks&nbsp;down&nbsp;an&nbsp;XML&nbsp;structure&nbsp;looking&nbsp;for&nbsp;wanted</span><br>
<span class="lineno"></span><span class="comment" id="5700355">//&nbsp;paths,&nbsp;and&nbsp;calls&nbsp;unmarshal&nbsp;on&nbsp;them.</span><br>
<span class="lineno"></span><span class="comment" id="5700394">//&nbsp;The&nbsp;consumed&nbsp;result&nbsp;tells&nbsp;whether&nbsp;XML&nbsp;elements&nbsp;have&nbsp;been&nbsp;consumed</span><br>
<span class="lineno">610</span><span class="comment" id="5700463">//&nbsp;from&nbsp;the&nbsp;Decoder&nbsp;until&nbsp;start&#39;s&nbsp;matching&nbsp;end&nbsp;element,&nbsp;or&nbsp;if&nbsp;it&#39;s</span><br>
<span class="lineno"></span><span class="comment" id="5700530">//&nbsp;still&nbsp;untouched&nbsp;because&nbsp;start&nbsp;is&nbsp;uninteresting&nbsp;for&nbsp;sv&#39;s&nbsp;fields.</span><br>
<span class="lineno"></span><span class="keyword" id="5700597">func</span>&nbsp;<span class="op" id="5700602">(</span><span class="ident" id="5700603">p</span>&nbsp;<span class="op" id="5700605">*</span><span class="ident" id="5700606">Decoder</span><span class="op" id="5700613">)</span>&nbsp;<span class="ident" id="5700615">unmarshalPath</span><span class="op" id="5700628">(</span><span class="ident" id="5700629">tinfo</span>&nbsp;<span class="op" id="5700635">*</span><span class="ident" id="5700636">typeInfo</span><span class="op" id="5700644">,</span>&nbsp;<span class="ident" id="5700646">sv</span>&nbsp;<span class="ident" id="5700649">reflect</span><span class="op" id="5700656">.</span><span class="ident" id="5700657">Value</span><span class="op" id="5700662">,</span>&nbsp;<span class="ident" id="5700664">parents</span>&nbsp;<span class="op" id="5700672">[</span><span class="op" id="5700673">]</span><span class="builtintype" id="5700674">string</span><span class="op" id="5700680">,</span>&nbsp;<span class="ident" id="5700682">start</span>&nbsp;<span class="op" id="5700688">*</span><span class="ident" id="5700689">StartElement</span><span class="op" id="5700701">)</span>&nbsp;<span class="op" id="5700703">(</span><span class="ident" id="5700704">consumed</span>&nbsp;<span class="builtintype" id="5700713">bool</span><span class="op" id="5700717">,</span>&nbsp;<span class="ident" id="5700719">err</span>&nbsp;<span class="builtintype" id="5700723">error</span><span class="op" id="5700728">)</span>&nbsp;<span class="op" id="5700730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5700733">recurse</span>&nbsp;<span class="op" id="5700741">:=</span>&nbsp;<span class="builtintype" id="5700744">false</span><br>
<span class="lineno"></span><span class="ident" id="5700750">Loop</span><span class="op" id="5700754">:</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700757">for</span>&nbsp;<span class="ident" id="5700761">i</span>&nbsp;<span class="op" id="5700763">:=</span>&nbsp;<span class="keyword" id="5700766">range</span>&nbsp;<span class="ident" id="5700772">tinfo</span><span class="op" id="5700777">.</span><span class="ident" id="5700778">fields</span>&nbsp;<span class="op" id="5700785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5700789">finfo</span>&nbsp;<span class="op" id="5700795">:=</span>&nbsp;<span class="op" id="5700798">&amp;</span><span class="ident" id="5700799">tinfo</span><span class="op" id="5700804">.</span><span class="ident" id="5700805">fields</span><span class="op" id="5700811">[</span><span class="ident" id="5700812">i</span><span class="op" id="5700813">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700817">if</span>&nbsp;<span class="ident" id="5700820">finfo</span><span class="op" id="5700825">.</span><span class="ident" id="5700826">flags</span><span class="op" id="5700831">&amp;</span><span class="ident" id="5700832">fElement</span>&nbsp;<span class="op" id="5700841">==</span>&nbsp;<span class="num" id="5700844">0</span>&nbsp;<span class="op" id="5700846">||</span>&nbsp;<span class="builtinfunc" id="5700849">len</span><span class="op" id="5700852">(</span><span class="ident" id="5700853">finfo</span><span class="op" id="5700858">.</span><span class="ident" id="5700859">parents</span><span class="op" id="5700866">)</span>&nbsp;<span class="op" id="5700868">&lt;</span>&nbsp;<span class="builtinfunc" id="5700870">len</span><span class="op" id="5700873">(</span><span class="ident" id="5700874">parents</span><span class="op" id="5700881">)</span>&nbsp;<span class="op" id="5700883">||</span>&nbsp;<span class="ident" id="5700886">finfo</span><span class="op" id="5700891">.</span><span class="ident" id="5700892">xmlns</span>&nbsp;<span class="op" id="5700898">!=</span>&nbsp;<span class="string" id="5700901">&#34;&#34;</span>&nbsp;<span class="op" id="5700904">&amp;&amp;</span>&nbsp;<span class="ident" id="5700907">finfo</span><span class="op" id="5700912">.</span><span class="ident" id="5700913">xmlns</span>&nbsp;<span class="op" id="5700919">!=</span>&nbsp;<span class="ident" id="5700922">start</span><span class="op" id="5700927">.</span><span class="ident" id="5700928">Name</span><span class="op" id="5700932">.</span><span class="ident" id="5700933">Space</span>&nbsp;<span class="op" id="5700939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700944">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5700955">}</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700959">for</span>&nbsp;<span class="ident" id="5700963">j</span>&nbsp;<span class="op" id="5700965">:=</span>&nbsp;<span class="keyword" id="5700968">range</span>&nbsp;<span class="ident" id="5700974">parents</span>&nbsp;<span class="op" id="5700982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5700987">if</span>&nbsp;<span class="ident" id="5700990">parents</span><span class="op" id="5700997">[</span><span class="ident" id="5700998">j</span><span class="op" id="5700999">]</span>&nbsp;<span class="op" id="5701001">!=</span>&nbsp;<span class="ident" id="5701004">finfo</span><span class="op" id="5701009">.</span><span class="ident" id="5701010">parents</span><span class="op" id="5701017">[</span><span class="ident" id="5701018">j</span><span class="op" id="5701019">]</span>&nbsp;<span class="op" id="5701021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701027">continue</span>&nbsp;<span class="ident" id="5701036">Loop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701048">}</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701052">if</span>&nbsp;<span class="builtinfunc" id="5701055">len</span><span class="op" id="5701058">(</span><span class="ident" id="5701059">finfo</span><span class="op" id="5701064">.</span><span class="ident" id="5701065">parents</span><span class="op" id="5701072">)</span>&nbsp;<span class="op" id="5701074">==</span>&nbsp;<span class="builtinfunc" id="5701077">len</span><span class="op" id="5701080">(</span><span class="ident" id="5701081">parents</span><span class="op" id="5701088">)</span>&nbsp;<span class="op" id="5701090">&amp;&amp;</span>&nbsp;<span class="ident" id="5701093">finfo</span><span class="op" id="5701098">.</span><span class="ident" id="5701099">name</span>&nbsp;<span class="op" id="5701104">==</span>&nbsp;<span class="ident" id="5701107">start</span><span class="op" id="5701112">.</span><span class="ident" id="5701113">Name</span><span class="op" id="5701117">.</span><span class="ident" id="5701118">Local</span>&nbsp;<span class="op" id="5701124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701129">//&nbsp;It&#39;s&nbsp;a&nbsp;perfect&nbsp;match,&nbsp;unmarshal&nbsp;the&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701178">return</span>&nbsp;<span class="builtintype" id="5701185">true</span><span class="op" id="5701189">,</span>&nbsp;<span class="ident" id="5701191">p</span><span class="op" id="5701192">.</span><span class="ident" id="5701193">unmarshal</span><span class="op" id="5701202">(</span><span class="ident" id="5701203">finfo</span><span class="op" id="5701208">.</span><span class="ident" id="5701209">value</span><span class="op" id="5701214">(</span><span class="ident" id="5701215">sv</span><span class="op" id="5701217">)</span><span class="op" id="5701218">,</span>&nbsp;<span class="ident" id="5701220">start</span><span class="op" id="5701225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701233">if</span>&nbsp;<span class="builtinfunc" id="5701236">len</span><span class="op" id="5701239">(</span><span class="ident" id="5701240">finfo</span><span class="op" id="5701245">.</span><span class="ident" id="5701246">parents</span><span class="op" id="5701253">)</span>&nbsp;<span class="op" id="5701255">&gt;</span>&nbsp;<span class="builtinfunc" id="5701257">len</span><span class="op" id="5701260">(</span><span class="ident" id="5701261">parents</span><span class="op" id="5701268">)</span>&nbsp;<span class="op" id="5701270">&amp;&amp;</span>&nbsp;<span class="ident" id="5701273">finfo</span><span class="op" id="5701278">.</span><span class="ident" id="5701279">parents</span><span class="op" id="5701286">[</span><span class="builtinfunc" id="5701287">len</span><span class="op" id="5701290">(</span><span class="ident" id="5701291">parents</span><span class="op" id="5701298">)</span><span class="op" id="5701299">]</span>&nbsp;<span class="op" id="5701301">==</span>&nbsp;<span class="ident" id="5701304">start</span><span class="op" id="5701309">.</span><span class="ident" id="5701310">Name</span><span class="op" id="5701314">.</span><span class="ident" id="5701315">Local</span>&nbsp;<span class="op" id="5701321">{</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701326">//&nbsp;It&#39;s&nbsp;a&nbsp;prefix&nbsp;for&nbsp;the&nbsp;field.&nbsp;Break&nbsp;and&nbsp;recurse</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701379">//&nbsp;since&nbsp;it&#39;s&nbsp;not&nbsp;ok&nbsp;for&nbsp;one&nbsp;field&nbsp;path&nbsp;to&nbsp;be&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701435">//&nbsp;the&nbsp;prefix&nbsp;for&nbsp;another&nbsp;field&nbsp;path.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5701476">recurse</span>&nbsp;<span class="op" id="5701484">=</span>&nbsp;<span class="builtintype" id="5701486">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701495">//&nbsp;We&nbsp;can&nbsp;reuse&nbsp;the&nbsp;same&nbsp;slice&nbsp;as&nbsp;long&nbsp;as&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701543">//&nbsp;don&#39;t&nbsp;try&nbsp;to&nbsp;append&nbsp;to&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5701576">parents</span>&nbsp;<span class="op" id="5701584">=</span>&nbsp;<span class="ident" id="5701586">finfo</span><span class="op" id="5701591">.</span><span class="ident" id="5701592">parents</span><span class="op" id="5701599">[</span><span class="op" id="5701600">:</span><span class="builtinfunc" id="5701601">len</span><span class="op" id="5701604">(</span><span class="ident" id="5701605">parents</span><span class="op" id="5701612">)</span><span class="op" id="5701613">+</span><span class="num" id="5701614">1</span><span class="op" id="5701615">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701620">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701628">}</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701634">if</span>&nbsp;<span class="op" id="5701637">!</span><span class="ident" id="5701638">recurse</span>&nbsp;<span class="op" id="5701646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701650">//&nbsp;We&nbsp;have&nbsp;no&nbsp;business&nbsp;with&nbsp;this&nbsp;element.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701694">return</span>&nbsp;<span class="builtintype" id="5701701">false</span><span class="op" id="5701706">,</span>&nbsp;<span class="builtintype" id="5701708">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701713">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701716">//&nbsp;The&nbsp;element&nbsp;is&nbsp;not&nbsp;a&nbsp;perfect&nbsp;match&nbsp;for&nbsp;any&nbsp;field,&nbsp;but&nbsp;one</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701778">//&nbsp;or&nbsp;more&nbsp;fields&nbsp;have&nbsp;the&nbsp;path&nbsp;to&nbsp;this&nbsp;element&nbsp;as&nbsp;a&nbsp;parent</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5701839">//&nbsp;prefix.&nbsp;Recurse&nbsp;and&nbsp;attempt&nbsp;to&nbsp;match&nbsp;these.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701887">for</span>&nbsp;<span class="op" id="5701891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701895">var</span>&nbsp;<span class="ident" id="5701899">tok</span>&nbsp;<span class="ident" id="5701903">Token</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5701911">tok</span><span class="op" id="5701914">,</span>&nbsp;<span class="ident" id="5701916">err</span>&nbsp;<span class="op" id="5701920">=</span>&nbsp;<span class="ident" id="5701922">p</span><span class="op" id="5701923">.</span><span class="ident" id="5701924">Token</span><span class="op" id="5701929">(</span><span class="op" id="5701930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701934">if</span>&nbsp;<span class="ident" id="5701937">err</span>&nbsp;<span class="op" id="5701941">!=</span>&nbsp;<span class="builtintype" id="5701944">nil</span>&nbsp;<span class="op" id="5701948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701953">return</span>&nbsp;<span class="builtintype" id="5701960">true</span><span class="op" id="5701964">,</span>&nbsp;<span class="ident" id="5701966">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5701972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5701976">switch</span>&nbsp;<span class="ident" id="5701983">t</span>&nbsp;<span class="op" id="5701985">:=</span>&nbsp;<span class="ident" id="5701988">tok</span><span class="op" id="5701991">.</span><span class="op" id="5701992">(</span><span class="keyword" id="5701993">type</span><span class="op" id="5701997">)</span>&nbsp;<span class="op" id="5701999">{</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702003">case</span>&nbsp;<span class="ident" id="5702008">StartElement</span><span class="op" id="5702020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5702025">consumed2</span><span class="op" id="5702034">,</span>&nbsp;<span class="ident" id="5702036">err</span>&nbsp;<span class="op" id="5702040">:=</span>&nbsp;<span class="ident" id="5702043">p</span><span class="op" id="5702044">.</span><span class="ident" id="5702045">unmarshalPath</span><span class="op" id="5702058">(</span><span class="ident" id="5702059">tinfo</span><span class="op" id="5702064">,</span>&nbsp;<span class="ident" id="5702066">sv</span><span class="op" id="5702068">,</span>&nbsp;<span class="ident" id="5702070">parents</span><span class="op" id="5702077">,</span>&nbsp;<span class="op" id="5702079">&amp;</span><span class="ident" id="5702080">t</span><span class="op" id="5702081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702086">if</span>&nbsp;<span class="ident" id="5702089">err</span>&nbsp;<span class="op" id="5702093">!=</span>&nbsp;<span class="builtintype" id="5702096">nil</span>&nbsp;<span class="op" id="5702100">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702106">return</span>&nbsp;<span class="builtintype" id="5702113">true</span><span class="op" id="5702117">,</span>&nbsp;<span class="ident" id="5702119">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702126">}</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702131">if</span>&nbsp;<span class="op" id="5702134">!</span><span class="ident" id="5702135">consumed2</span>&nbsp;<span class="op" id="5702145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702151">if</span>&nbsp;<span class="ident" id="5702154">err</span>&nbsp;<span class="op" id="5702158">:=</span>&nbsp;<span class="ident" id="5702161">p</span><span class="op" id="5702162">.</span><span class="ident" id="5702163">Skip</span><span class="op" id="5702167">(</span><span class="op" id="5702168">)</span><span class="op" id="5702169">;</span>&nbsp;<span class="ident" id="5702171">err</span>&nbsp;<span class="op" id="5702175">!=</span>&nbsp;<span class="builtintype" id="5702178">nil</span>&nbsp;<span class="op" id="5702182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702189">return</span>&nbsp;<span class="builtintype" id="5702196">true</span><span class="op" id="5702200">,</span>&nbsp;<span class="ident" id="5702202">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702215">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702219">case</span>&nbsp;<span class="ident" id="5702224">EndElement</span><span class="op" id="5702234">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702239">return</span>&nbsp;<span class="builtintype" id="5702246">true</span><span class="op" id="5702250">,</span>&nbsp;<span class="builtintype" id="5702252">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702261">}</span><br>
<span class="lineno"></span><span class="op" id="5702263">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="comment" id="5702266">//&nbsp;Skip&nbsp;reads&nbsp;tokens&nbsp;until&nbsp;it&nbsp;has&nbsp;consumed&nbsp;the&nbsp;end&nbsp;element</span><br>
<span class="lineno"></span><span class="comment" id="5702325">//&nbsp;matching&nbsp;the&nbsp;most&nbsp;recent&nbsp;start&nbsp;element&nbsp;already&nbsp;consumed.</span><br>
<span class="lineno"></span><span class="comment" id="5702385">//&nbsp;It&nbsp;recurs&nbsp;if&nbsp;it&nbsp;encounters&nbsp;a&nbsp;start&nbsp;element,&nbsp;so&nbsp;it&nbsp;can&nbsp;be&nbsp;used&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="5702453">//&nbsp;skip&nbsp;nested&nbsp;structures.</span><br>
<span class="lineno">675</span><span class="comment" id="5702480">//&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;it&nbsp;finds&nbsp;an&nbsp;end&nbsp;element&nbsp;matching&nbsp;the&nbsp;start</span><br>
<span class="lineno"></span><span class="comment" id="5702544">//&nbsp;element;&nbsp;otherwise&nbsp;it&nbsp;returns&nbsp;an&nbsp;error&nbsp;describing&nbsp;the&nbsp;problem.</span><br>
<span class="lineno"></span><span class="keyword" id="5702610">func</span>&nbsp;<span class="op" id="5702615">(</span><span class="ident" id="5702616">d</span>&nbsp;<span class="op" id="5702618">*</span><span class="ident" id="5702619">Decoder</span><span class="op" id="5702626">)</span>&nbsp;<span class="ident" id="5702628">Skip</span><span class="op" id="5702632">(</span><span class="op" id="5702633">)</span>&nbsp;<span class="builtintype" id="5702635">error</span>&nbsp;<span class="op" id="5702641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702644">for</span>&nbsp;<span class="op" id="5702648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5702652">tok</span><span class="op" id="5702655">,</span>&nbsp;<span class="ident" id="5702657">err</span>&nbsp;<span class="op" id="5702661">:=</span>&nbsp;<span class="ident" id="5702664">d</span><span class="op" id="5702665">.</span><span class="ident" id="5702666">Token</span><span class="op" id="5702671">(</span><span class="op" id="5702672">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702676">if</span>&nbsp;<span class="ident" id="5702679">err</span>&nbsp;<span class="op" id="5702683">!=</span>&nbsp;<span class="builtintype" id="5702686">nil</span>&nbsp;<span class="op" id="5702690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702695">return</span>&nbsp;<span class="ident" id="5702702">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702708">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702712">switch</span>&nbsp;<span class="ident" id="5702719">tok</span><span class="op" id="5702722">.</span><span class="op" id="5702723">(</span><span class="keyword" id="5702724">type</span><span class="op" id="5702728">)</span>&nbsp;<span class="op" id="5702730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702734">case</span>&nbsp;<span class="ident" id="5702739">StartElement</span><span class="op" id="5702751">:</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702756">if</span>&nbsp;<span class="ident" id="5702759">err</span>&nbsp;<span class="op" id="5702763">:=</span>&nbsp;<span class="ident" id="5702766">d</span><span class="op" id="5702767">.</span><span class="ident" id="5702768">Skip</span><span class="op" id="5702772">(</span><span class="op" id="5702773">)</span><span class="op" id="5702774">;</span>&nbsp;<span class="ident" id="5702776">err</span>&nbsp;<span class="op" id="5702780">!=</span>&nbsp;<span class="builtintype" id="5702783">nil</span>&nbsp;<span class="op" id="5702787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702793">return</span>&nbsp;<span class="ident" id="5702800">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702811">case</span>&nbsp;<span class="ident" id="5702816">EndElement</span><span class="op" id="5702826">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5702831">return</span>&nbsp;<span class="builtintype" id="5702838">nil</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5702847">}</span><br>
<span class="lineno"></span><span class="op" id="5702849">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
