<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html" class="current">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5885540">//&nbsp;Created&nbsp;by&nbsp;decgen&nbsp;--output&nbsp;dec_helpers.go;&nbsp;DO&nbsp;NOT&nbsp;EDIT</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5885599">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5885654">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno">5</span><span class="comment" id="5885708">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5885759">package</span>&nbsp;<span class="ident" id="5885767">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5885772">import</span>&nbsp;<span class="op" id="5885779">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5885782">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5885790">&#34;reflect&#34;</span><br>
<span class="lineno"></span><span class="op" id="5885800">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5885803">var</span>&nbsp;<span class="ident" id="5885807">decArrayHelper</span>&nbsp;<span class="op" id="5885822">=</span>&nbsp;<span class="keyword" id="5885824">map</span><span class="op" id="5885827">[</span><span class="ident" id="5885828">reflect</span><span class="op" id="5885835">.</span><span class="ident" id="5885836">Kind</span><span class="op" id="5885840">]</span><span class="ident" id="5885841">decHelper</span><span class="op" id="5885850">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5885853">reflect</span><span class="op" id="5885860">.</span><span class="ident" id="5885861">Bool</span><span class="op" id="5885865">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5885873">decBoolArray</span><span class="op" id="5885885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5885888">reflect</span><span class="op" id="5885895">.</span><span class="ident" id="5885896">Complex64</span><span class="op" id="5885905">:</span>&nbsp;&nbsp;<span class="ident" id="5885908">decComplex64Array</span><span class="op" id="5885925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5885928">reflect</span><span class="op" id="5885935">.</span><span class="ident" id="5885936">Complex128</span><span class="op" id="5885946">:</span>&nbsp;<span class="ident" id="5885948">decComplex128Array</span><span class="op" id="5885966">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5885969">reflect</span><span class="op" id="5885976">.</span><span class="ident" id="5885977">Float32</span><span class="op" id="5885984">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5885989">decFloat32Array</span><span class="op" id="5886004">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886007">reflect</span><span class="op" id="5886014">.</span><span class="ident" id="5886015">Float64</span><span class="op" id="5886022">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886027">decFloat64Array</span><span class="op" id="5886042">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886045">reflect</span><span class="op" id="5886052">.</span><span class="ident" id="5886053">Int</span><span class="op" id="5886056">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886065">decIntArray</span><span class="op" id="5886076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886079">reflect</span><span class="op" id="5886086">.</span><span class="ident" id="5886087">Int16</span><span class="op" id="5886092">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886099">decInt16Array</span><span class="op" id="5886112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886115">reflect</span><span class="op" id="5886122">.</span><span class="ident" id="5886123">Int32</span><span class="op" id="5886128">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886135">decInt32Array</span><span class="op" id="5886148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886151">reflect</span><span class="op" id="5886158">.</span><span class="ident" id="5886159">Int64</span><span class="op" id="5886164">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886171">decInt64Array</span><span class="op" id="5886184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886187">reflect</span><span class="op" id="5886194">.</span><span class="ident" id="5886195">Int8</span><span class="op" id="5886199">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886207">decInt8Array</span><span class="op" id="5886219">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886222">reflect</span><span class="op" id="5886229">.</span><span class="ident" id="5886230">String</span><span class="op" id="5886236">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886242">decStringArray</span><span class="op" id="5886256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886259">reflect</span><span class="op" id="5886266">.</span><span class="ident" id="5886267">Uint</span><span class="op" id="5886271">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886279">decUintArray</span><span class="op" id="5886291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886294">reflect</span><span class="op" id="5886301">.</span><span class="ident" id="5886302">Uint16</span><span class="op" id="5886308">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886314">decUint16Array</span><span class="op" id="5886328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886331">reflect</span><span class="op" id="5886338">.</span><span class="ident" id="5886339">Uint32</span><span class="op" id="5886345">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886351">decUint32Array</span><span class="op" id="5886365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886368">reflect</span><span class="op" id="5886375">.</span><span class="ident" id="5886376">Uint64</span><span class="op" id="5886382">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886388">decUint64Array</span><span class="op" id="5886402">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886405">reflect</span><span class="op" id="5886412">.</span><span class="ident" id="5886413">Uintptr</span><span class="op" id="5886420">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886425">decUintptrArray</span><span class="op" id="5886440">,</span><br>
<span class="lineno"></span><span class="op" id="5886442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5886445">var</span>&nbsp;<span class="ident" id="5886449">decSliceHelper</span>&nbsp;<span class="op" id="5886464">=</span>&nbsp;<span class="keyword" id="5886466">map</span><span class="op" id="5886469">[</span><span class="ident" id="5886470">reflect</span><span class="op" id="5886477">.</span><span class="ident" id="5886478">Kind</span><span class="op" id="5886482">]</span><span class="ident" id="5886483">decHelper</span><span class="op" id="5886492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886495">reflect</span><span class="op" id="5886502">.</span><span class="ident" id="5886503">Bool</span><span class="op" id="5886507">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886515">decBoolSlice</span><span class="op" id="5886527">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886530">reflect</span><span class="op" id="5886537">.</span><span class="ident" id="5886538">Complex64</span><span class="op" id="5886547">:</span>&nbsp;&nbsp;<span class="ident" id="5886550">decComplex64Slice</span><span class="op" id="5886567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886570">reflect</span><span class="op" id="5886577">.</span><span class="ident" id="5886578">Complex128</span><span class="op" id="5886588">:</span>&nbsp;<span class="ident" id="5886590">decComplex128Slice</span><span class="op" id="5886608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886611">reflect</span><span class="op" id="5886618">.</span><span class="ident" id="5886619">Float32</span><span class="op" id="5886626">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886631">decFloat32Slice</span><span class="op" id="5886646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886649">reflect</span><span class="op" id="5886656">.</span><span class="ident" id="5886657">Float64</span><span class="op" id="5886664">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886669">decFloat64Slice</span><span class="op" id="5886684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886687">reflect</span><span class="op" id="5886694">.</span><span class="ident" id="5886695">Int</span><span class="op" id="5886698">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886707">decIntSlice</span><span class="op" id="5886718">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886721">reflect</span><span class="op" id="5886728">.</span><span class="ident" id="5886729">Int16</span><span class="op" id="5886734">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886741">decInt16Slice</span><span class="op" id="5886754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886757">reflect</span><span class="op" id="5886764">.</span><span class="ident" id="5886765">Int32</span><span class="op" id="5886770">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886777">decInt32Slice</span><span class="op" id="5886790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886793">reflect</span><span class="op" id="5886800">.</span><span class="ident" id="5886801">Int64</span><span class="op" id="5886806">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886813">decInt64Slice</span><span class="op" id="5886826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886829">reflect</span><span class="op" id="5886836">.</span><span class="ident" id="5886837">Int8</span><span class="op" id="5886841">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886849">decInt8Slice</span><span class="op" id="5886861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886864">reflect</span><span class="op" id="5886871">.</span><span class="ident" id="5886872">String</span><span class="op" id="5886878">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886884">decStringSlice</span><span class="op" id="5886898">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886901">reflect</span><span class="op" id="5886908">.</span><span class="ident" id="5886909">Uint</span><span class="op" id="5886913">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886921">decUintSlice</span><span class="op" id="5886933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886936">reflect</span><span class="op" id="5886943">.</span><span class="ident" id="5886944">Uint16</span><span class="op" id="5886950">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886956">decUint16Slice</span><span class="op" id="5886970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5886973">reflect</span><span class="op" id="5886980">.</span><span class="ident" id="5886981">Uint32</span><span class="op" id="5886987">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5886993">decUint32Slice</span><span class="op" id="5887007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5887010">reflect</span><span class="op" id="5887017">.</span><span class="ident" id="5887018">Uint64</span><span class="op" id="5887024">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5887030">decUint64Slice</span><span class="op" id="5887044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5887047">reflect</span><span class="op" id="5887054">.</span><span class="ident" id="5887055">Uintptr</span><span class="op" id="5887062">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5887067">decUintptrSlice</span><span class="op" id="5887082">,</span><br>
<span class="lineno">50</span><span class="op" id="5887084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5887087">func</span>&nbsp;<span class="ident" id="5887092">decBoolArray</span><span class="op" id="5887104">(</span><span class="ident" id="5887105">state</span>&nbsp;<span class="op" id="5887111">*</span><span class="ident" id="5887112">decoderState</span><span class="op" id="5887124">,</span>&nbsp;<span class="ident" id="5887126">v</span>&nbsp;<span class="ident" id="5887128">reflect</span><span class="op" id="5887135">.</span><span class="ident" id="5887136">Value</span><span class="op" id="5887141">,</span>&nbsp;<span class="ident" id="5887143">length</span>&nbsp;<span class="builtintype" id="5887150">int</span><span class="op" id="5887153">,</span>&nbsp;<span class="ident" id="5887155">ovfl</span>&nbsp;<span class="builtintype" id="5887160">error</span><span class="op" id="5887165">)</span>&nbsp;<span class="builtintype" id="5887167">bool</span>&nbsp;<span class="op" id="5887172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5887175">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887216">if</span>&nbsp;<span class="op" id="5887219">!</span><span class="ident" id="5887220">v</span><span class="op" id="5887221">.</span><span class="ident" id="5887222">CanAddr</span><span class="op" id="5887229">(</span><span class="op" id="5887230">)</span>&nbsp;<span class="op" id="5887232">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887236">return</span>&nbsp;<span class="builtintype" id="5887243">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5887250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887253">return</span>&nbsp;<span class="ident" id="5887260">decBoolSlice</span><span class="op" id="5887272">(</span><span class="ident" id="5887273">state</span><span class="op" id="5887278">,</span>&nbsp;<span class="ident" id="5887280">v</span><span class="op" id="5887281">.</span><span class="ident" id="5887282">Slice</span><span class="op" id="5887287">(</span><span class="num" id="5887288">0</span><span class="op" id="5887289">,</span>&nbsp;<span class="ident" id="5887291">v</span><span class="op" id="5887292">.</span><span class="ident" id="5887293">Len</span><span class="op" id="5887296">(</span><span class="op" id="5887297">)</span><span class="op" id="5887298">)</span><span class="op" id="5887299">,</span>&nbsp;<span class="ident" id="5887301">length</span><span class="op" id="5887307">,</span>&nbsp;<span class="ident" id="5887309">ovfl</span><span class="op" id="5887313">)</span><br>
<span class="lineno"></span><span class="op" id="5887315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5887318">func</span>&nbsp;<span class="ident" id="5887323">decBoolSlice</span><span class="op" id="5887335">(</span><span class="ident" id="5887336">state</span>&nbsp;<span class="op" id="5887342">*</span><span class="ident" id="5887343">decoderState</span><span class="op" id="5887355">,</span>&nbsp;<span class="ident" id="5887357">v</span>&nbsp;<span class="ident" id="5887359">reflect</span><span class="op" id="5887366">.</span><span class="ident" id="5887367">Value</span><span class="op" id="5887372">,</span>&nbsp;<span class="ident" id="5887374">length</span>&nbsp;<span class="builtintype" id="5887381">int</span><span class="op" id="5887384">,</span>&nbsp;<span class="ident" id="5887386">ovfl</span>&nbsp;<span class="builtintype" id="5887391">error</span><span class="op" id="5887396">)</span>&nbsp;<span class="builtintype" id="5887398">bool</span>&nbsp;<span class="op" id="5887403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5887406">slice</span><span class="op" id="5887411">,</span>&nbsp;<span class="ident" id="5887413">ok</span>&nbsp;<span class="op" id="5887416">:=</span>&nbsp;<span class="ident" id="5887419">v</span><span class="op" id="5887420">.</span><span class="ident" id="5887421">Interface</span><span class="op" id="5887430">(</span><span class="op" id="5887431">)</span><span class="op" id="5887432">.</span><span class="op" id="5887433">(</span><span class="op" id="5887434">[</span><span class="op" id="5887435">]</span><span class="builtintype" id="5887436">bool</span><span class="op" id="5887440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887443">if</span>&nbsp;<span class="op" id="5887446">!</span><span class="ident" id="5887447">ok</span>&nbsp;<span class="op" id="5887450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5887454">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;bool&nbsp;but&nbsp;not&nbsp;type&nbsp;bool.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887529">return</span>&nbsp;<span class="builtintype" id="5887536">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5887543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887546">for</span>&nbsp;<span class="ident" id="5887550">i</span>&nbsp;<span class="op" id="5887552">:=</span>&nbsp;<span class="num" id="5887555">0</span><span class="op" id="5887556">;</span>&nbsp;<span class="ident" id="5887558">i</span>&nbsp;<span class="op" id="5887560">&lt;</span>&nbsp;<span class="ident" id="5887562">length</span><span class="op" id="5887568">;</span>&nbsp;<span class="ident" id="5887570">i</span><span class="op" id="5887571">++</span>&nbsp;<span class="op" id="5887574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887578">if</span>&nbsp;<span class="ident" id="5887581">state</span><span class="op" id="5887586">.</span><span class="ident" id="5887587">b</span><span class="op" id="5887588">.</span><span class="ident" id="5887589">Len</span><span class="op" id="5887592">(</span><span class="op" id="5887593">)</span>&nbsp;<span class="op" id="5887595">==</span>&nbsp;<span class="num" id="5887598">0</span>&nbsp;<span class="op" id="5887600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5887605">errorf</span><span class="op" id="5887611">(</span><span class="string" id="5887612">&#34;decoding&nbsp;bool&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5887683">,</span>&nbsp;<span class="ident" id="5887685">length</span><span class="op" id="5887691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5887695">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5887699">slice</span><span class="op" id="5887704">[</span><span class="ident" id="5887705">i</span><span class="op" id="5887706">]</span>&nbsp;<span class="op" id="5887708">=</span>&nbsp;<span class="ident" id="5887710">state</span><span class="op" id="5887715">.</span><span class="ident" id="5887716">decodeUint</span><span class="op" id="5887726">(</span><span class="op" id="5887727">)</span>&nbsp;<span class="op" id="5887729">!=</span>&nbsp;<span class="num" id="5887732">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5887735">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887738">return</span>&nbsp;<span class="builtintype" id="5887745">true</span><br>
<span class="lineno"></span><span class="op" id="5887750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="5887753">func</span>&nbsp;<span class="ident" id="5887758">decComplex64Array</span><span class="op" id="5887775">(</span><span class="ident" id="5887776">state</span>&nbsp;<span class="op" id="5887782">*</span><span class="ident" id="5887783">decoderState</span><span class="op" id="5887795">,</span>&nbsp;<span class="ident" id="5887797">v</span>&nbsp;<span class="ident" id="5887799">reflect</span><span class="op" id="5887806">.</span><span class="ident" id="5887807">Value</span><span class="op" id="5887812">,</span>&nbsp;<span class="ident" id="5887814">length</span>&nbsp;<span class="builtintype" id="5887821">int</span><span class="op" id="5887824">,</span>&nbsp;<span class="ident" id="5887826">ovfl</span>&nbsp;<span class="builtintype" id="5887831">error</span><span class="op" id="5887836">)</span>&nbsp;<span class="builtintype" id="5887838">bool</span>&nbsp;<span class="op" id="5887843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5887846">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887887">if</span>&nbsp;<span class="op" id="5887890">!</span><span class="ident" id="5887891">v</span><span class="op" id="5887892">.</span><span class="ident" id="5887893">CanAddr</span><span class="op" id="5887900">(</span><span class="op" id="5887901">)</span>&nbsp;<span class="op" id="5887903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887907">return</span>&nbsp;<span class="builtintype" id="5887914">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5887921">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5887924">return</span>&nbsp;<span class="ident" id="5887931">decComplex64Slice</span><span class="op" id="5887948">(</span><span class="ident" id="5887949">state</span><span class="op" id="5887954">,</span>&nbsp;<span class="ident" id="5887956">v</span><span class="op" id="5887957">.</span><span class="ident" id="5887958">Slice</span><span class="op" id="5887963">(</span><span class="num" id="5887964">0</span><span class="op" id="5887965">,</span>&nbsp;<span class="ident" id="5887967">v</span><span class="op" id="5887968">.</span><span class="ident" id="5887969">Len</span><span class="op" id="5887972">(</span><span class="op" id="5887973">)</span><span class="op" id="5887974">)</span><span class="op" id="5887975">,</span>&nbsp;<span class="ident" id="5887977">length</span><span class="op" id="5887983">,</span>&nbsp;<span class="ident" id="5887985">ovfl</span><span class="op" id="5887989">)</span><br>
<span class="lineno"></span><span class="op" id="5887991">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5887994">func</span>&nbsp;<span class="ident" id="5887999">decComplex64Slice</span><span class="op" id="5888016">(</span><span class="ident" id="5888017">state</span>&nbsp;<span class="op" id="5888023">*</span><span class="ident" id="5888024">decoderState</span><span class="op" id="5888036">,</span>&nbsp;<span class="ident" id="5888038">v</span>&nbsp;<span class="ident" id="5888040">reflect</span><span class="op" id="5888047">.</span><span class="ident" id="5888048">Value</span><span class="op" id="5888053">,</span>&nbsp;<span class="ident" id="5888055">length</span>&nbsp;<span class="builtintype" id="5888062">int</span><span class="op" id="5888065">,</span>&nbsp;<span class="ident" id="5888067">ovfl</span>&nbsp;<span class="builtintype" id="5888072">error</span><span class="op" id="5888077">)</span>&nbsp;<span class="builtintype" id="5888079">bool</span>&nbsp;<span class="op" id="5888084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5888087">slice</span><span class="op" id="5888092">,</span>&nbsp;<span class="ident" id="5888094">ok</span>&nbsp;<span class="op" id="5888097">:=</span>&nbsp;<span class="ident" id="5888100">v</span><span class="op" id="5888101">.</span><span class="ident" id="5888102">Interface</span><span class="op" id="5888111">(</span><span class="op" id="5888112">)</span><span class="op" id="5888113">.</span><span class="op" id="5888114">(</span><span class="op" id="5888115">[</span><span class="op" id="5888116">]</span><span class="builtintype" id="5888117">complex64</span><span class="op" id="5888126">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888129">if</span>&nbsp;<span class="op" id="5888132">!</span><span class="ident" id="5888133">ok</span>&nbsp;<span class="op" id="5888136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5888140">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex64&nbsp;but&nbsp;not&nbsp;type&nbsp;complex64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888225">return</span>&nbsp;<span class="builtintype" id="5888232">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5888239">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888242">for</span>&nbsp;<span class="ident" id="5888246">i</span>&nbsp;<span class="op" id="5888248">:=</span>&nbsp;<span class="num" id="5888251">0</span><span class="op" id="5888252">;</span>&nbsp;<span class="ident" id="5888254">i</span>&nbsp;<span class="op" id="5888256">&lt;</span>&nbsp;<span class="ident" id="5888258">length</span><span class="op" id="5888264">;</span>&nbsp;<span class="ident" id="5888266">i</span><span class="op" id="5888267">++</span>&nbsp;<span class="op" id="5888270">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888274">if</span>&nbsp;<span class="ident" id="5888277">state</span><span class="op" id="5888282">.</span><span class="ident" id="5888283">b</span><span class="op" id="5888284">.</span><span class="ident" id="5888285">Len</span><span class="op" id="5888288">(</span><span class="op" id="5888289">)</span>&nbsp;<span class="op" id="5888291">==</span>&nbsp;<span class="num" id="5888294">0</span>&nbsp;<span class="op" id="5888296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5888301">errorf</span><span class="op" id="5888307">(</span><span class="string" id="5888308">&#34;decoding&nbsp;complex64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5888384">,</span>&nbsp;<span class="ident" id="5888386">length</span><span class="op" id="5888392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5888396">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5888400">real</span>&nbsp;<span class="op" id="5888405">:=</span>&nbsp;<span class="ident" id="5888408">float32FromBits</span><span class="op" id="5888423">(</span><span class="ident" id="5888424">state</span><span class="op" id="5888429">.</span><span class="ident" id="5888430">decodeUint</span><span class="op" id="5888440">(</span><span class="op" id="5888441">)</span><span class="op" id="5888442">,</span>&nbsp;<span class="ident" id="5888444">ovfl</span><span class="op" id="5888448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5888452">imag</span>&nbsp;<span class="op" id="5888457">:=</span>&nbsp;<span class="ident" id="5888460">float32FromBits</span><span class="op" id="5888475">(</span><span class="ident" id="5888476">state</span><span class="op" id="5888481">.</span><span class="ident" id="5888482">decodeUint</span><span class="op" id="5888492">(</span><span class="op" id="5888493">)</span><span class="op" id="5888494">,</span>&nbsp;<span class="ident" id="5888496">ovfl</span><span class="op" id="5888500">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5888504">slice</span><span class="op" id="5888509">[</span><span class="ident" id="5888510">i</span><span class="op" id="5888511">]</span>&nbsp;<span class="op" id="5888513">=</span>&nbsp;<span class="builtinfunc" id="5888515">complex</span><span class="op" id="5888522">(</span><span class="builtintype" id="5888523">float32</span><span class="op" id="5888530">(</span><span class="builtinfunc" id="5888531">real</span><span class="op" id="5888535">)</span><span class="op" id="5888536">,</span>&nbsp;<span class="builtintype" id="5888538">float32</span><span class="op" id="5888545">(</span><span class="builtinfunc" id="5888546">imag</span><span class="op" id="5888550">)</span><span class="op" id="5888551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5888554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888557">return</span>&nbsp;<span class="builtintype" id="5888564">true</span><br>
<span class="lineno"></span><span class="op" id="5888569">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="5888572">func</span>&nbsp;<span class="ident" id="5888577">decComplex128Array</span><span class="op" id="5888595">(</span><span class="ident" id="5888596">state</span>&nbsp;<span class="op" id="5888602">*</span><span class="ident" id="5888603">decoderState</span><span class="op" id="5888615">,</span>&nbsp;<span class="ident" id="5888617">v</span>&nbsp;<span class="ident" id="5888619">reflect</span><span class="op" id="5888626">.</span><span class="ident" id="5888627">Value</span><span class="op" id="5888632">,</span>&nbsp;<span class="ident" id="5888634">length</span>&nbsp;<span class="builtintype" id="5888641">int</span><span class="op" id="5888644">,</span>&nbsp;<span class="ident" id="5888646">ovfl</span>&nbsp;<span class="builtintype" id="5888651">error</span><span class="op" id="5888656">)</span>&nbsp;<span class="builtintype" id="5888658">bool</span>&nbsp;<span class="op" id="5888663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5888666">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888707">if</span>&nbsp;<span class="op" id="5888710">!</span><span class="ident" id="5888711">v</span><span class="op" id="5888712">.</span><span class="ident" id="5888713">CanAddr</span><span class="op" id="5888720">(</span><span class="op" id="5888721">)</span>&nbsp;<span class="op" id="5888723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888727">return</span>&nbsp;<span class="builtintype" id="5888734">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5888741">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888744">return</span>&nbsp;<span class="ident" id="5888751">decComplex128Slice</span><span class="op" id="5888769">(</span><span class="ident" id="5888770">state</span><span class="op" id="5888775">,</span>&nbsp;<span class="ident" id="5888777">v</span><span class="op" id="5888778">.</span><span class="ident" id="5888779">Slice</span><span class="op" id="5888784">(</span><span class="num" id="5888785">0</span><span class="op" id="5888786">,</span>&nbsp;<span class="ident" id="5888788">v</span><span class="op" id="5888789">.</span><span class="ident" id="5888790">Len</span><span class="op" id="5888793">(</span><span class="op" id="5888794">)</span><span class="op" id="5888795">)</span><span class="op" id="5888796">,</span>&nbsp;<span class="ident" id="5888798">length</span><span class="op" id="5888804">,</span>&nbsp;<span class="ident" id="5888806">ovfl</span><span class="op" id="5888810">)</span><br>
<span class="lineno"></span><span class="op" id="5888812">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5888815">func</span>&nbsp;<span class="ident" id="5888820">decComplex128Slice</span><span class="op" id="5888838">(</span><span class="ident" id="5888839">state</span>&nbsp;<span class="op" id="5888845">*</span><span class="ident" id="5888846">decoderState</span><span class="op" id="5888858">,</span>&nbsp;<span class="ident" id="5888860">v</span>&nbsp;<span class="ident" id="5888862">reflect</span><span class="op" id="5888869">.</span><span class="ident" id="5888870">Value</span><span class="op" id="5888875">,</span>&nbsp;<span class="ident" id="5888877">length</span>&nbsp;<span class="builtintype" id="5888884">int</span><span class="op" id="5888887">,</span>&nbsp;<span class="ident" id="5888889">ovfl</span>&nbsp;<span class="builtintype" id="5888894">error</span><span class="op" id="5888899">)</span>&nbsp;<span class="builtintype" id="5888901">bool</span>&nbsp;<span class="op" id="5888906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5888909">slice</span><span class="op" id="5888914">,</span>&nbsp;<span class="ident" id="5888916">ok</span>&nbsp;<span class="op" id="5888919">:=</span>&nbsp;<span class="ident" id="5888922">v</span><span class="op" id="5888923">.</span><span class="ident" id="5888924">Interface</span><span class="op" id="5888933">(</span><span class="op" id="5888934">)</span><span class="op" id="5888935">.</span><span class="op" id="5888936">(</span><span class="op" id="5888937">[</span><span class="op" id="5888938">]</span><span class="builtintype" id="5888939">complex128</span><span class="op" id="5888949">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5888952">if</span>&nbsp;<span class="op" id="5888955">!</span><span class="ident" id="5888956">ok</span>&nbsp;<span class="op" id="5888959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5888963">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;complex128&nbsp;but&nbsp;not&nbsp;type&nbsp;complex128.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889050">return</span>&nbsp;<span class="builtintype" id="5889057">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5889064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889067">for</span>&nbsp;<span class="ident" id="5889071">i</span>&nbsp;<span class="op" id="5889073">:=</span>&nbsp;<span class="num" id="5889076">0</span><span class="op" id="5889077">;</span>&nbsp;<span class="ident" id="5889079">i</span>&nbsp;<span class="op" id="5889081">&lt;</span>&nbsp;<span class="ident" id="5889083">length</span><span class="op" id="5889089">;</span>&nbsp;<span class="ident" id="5889091">i</span><span class="op" id="5889092">++</span>&nbsp;<span class="op" id="5889095">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889099">if</span>&nbsp;<span class="ident" id="5889102">state</span><span class="op" id="5889107">.</span><span class="ident" id="5889108">b</span><span class="op" id="5889109">.</span><span class="ident" id="5889110">Len</span><span class="op" id="5889113">(</span><span class="op" id="5889114">)</span>&nbsp;<span class="op" id="5889116">==</span>&nbsp;<span class="num" id="5889119">0</span>&nbsp;<span class="op" id="5889121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5889126">errorf</span><span class="op" id="5889132">(</span><span class="string" id="5889133">&#34;decoding&nbsp;complex128&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5889210">,</span>&nbsp;<span class="ident" id="5889212">length</span><span class="op" id="5889218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5889222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5889226">real</span>&nbsp;<span class="op" id="5889231">:=</span>&nbsp;<span class="ident" id="5889234">float64FromBits</span><span class="op" id="5889249">(</span><span class="ident" id="5889250">state</span><span class="op" id="5889255">.</span><span class="ident" id="5889256">decodeUint</span><span class="op" id="5889266">(</span><span class="op" id="5889267">)</span><span class="op" id="5889268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5889272">imag</span>&nbsp;<span class="op" id="5889277">:=</span>&nbsp;<span class="ident" id="5889280">float64FromBits</span><span class="op" id="5889295">(</span><span class="ident" id="5889296">state</span><span class="op" id="5889301">.</span><span class="ident" id="5889302">decodeUint</span><span class="op" id="5889312">(</span><span class="op" id="5889313">)</span><span class="op" id="5889314">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5889318">slice</span><span class="op" id="5889323">[</span><span class="ident" id="5889324">i</span><span class="op" id="5889325">]</span>&nbsp;<span class="op" id="5889327">=</span>&nbsp;<span class="builtinfunc" id="5889329">complex</span><span class="op" id="5889336">(</span><span class="builtinfunc" id="5889337">real</span><span class="op" id="5889341">,</span>&nbsp;<span class="builtinfunc" id="5889343">imag</span><span class="op" id="5889347">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5889350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889353">return</span>&nbsp;<span class="builtintype" id="5889360">true</span><br>
<span class="lineno"></span><span class="op" id="5889365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="5889368">func</span>&nbsp;<span class="ident" id="5889373">decFloat32Array</span><span class="op" id="5889388">(</span><span class="ident" id="5889389">state</span>&nbsp;<span class="op" id="5889395">*</span><span class="ident" id="5889396">decoderState</span><span class="op" id="5889408">,</span>&nbsp;<span class="ident" id="5889410">v</span>&nbsp;<span class="ident" id="5889412">reflect</span><span class="op" id="5889419">.</span><span class="ident" id="5889420">Value</span><span class="op" id="5889425">,</span>&nbsp;<span class="ident" id="5889427">length</span>&nbsp;<span class="builtintype" id="5889434">int</span><span class="op" id="5889437">,</span>&nbsp;<span class="ident" id="5889439">ovfl</span>&nbsp;<span class="builtintype" id="5889444">error</span><span class="op" id="5889449">)</span>&nbsp;<span class="builtintype" id="5889451">bool</span>&nbsp;<span class="op" id="5889456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5889459">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889500">if</span>&nbsp;<span class="op" id="5889503">!</span><span class="ident" id="5889504">v</span><span class="op" id="5889505">.</span><span class="ident" id="5889506">CanAddr</span><span class="op" id="5889513">(</span><span class="op" id="5889514">)</span>&nbsp;<span class="op" id="5889516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889520">return</span>&nbsp;<span class="builtintype" id="5889527">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5889534">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889537">return</span>&nbsp;<span class="ident" id="5889544">decFloat32Slice</span><span class="op" id="5889559">(</span><span class="ident" id="5889560">state</span><span class="op" id="5889565">,</span>&nbsp;<span class="ident" id="5889567">v</span><span class="op" id="5889568">.</span><span class="ident" id="5889569">Slice</span><span class="op" id="5889574">(</span><span class="num" id="5889575">0</span><span class="op" id="5889576">,</span>&nbsp;<span class="ident" id="5889578">v</span><span class="op" id="5889579">.</span><span class="ident" id="5889580">Len</span><span class="op" id="5889583">(</span><span class="op" id="5889584">)</span><span class="op" id="5889585">)</span><span class="op" id="5889586">,</span>&nbsp;<span class="ident" id="5889588">length</span><span class="op" id="5889594">,</span>&nbsp;<span class="ident" id="5889596">ovfl</span><span class="op" id="5889600">)</span><br>
<span class="lineno"></span><span class="op" id="5889602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5889605">func</span>&nbsp;<span class="ident" id="5889610">decFloat32Slice</span><span class="op" id="5889625">(</span><span class="ident" id="5889626">state</span>&nbsp;<span class="op" id="5889632">*</span><span class="ident" id="5889633">decoderState</span><span class="op" id="5889645">,</span>&nbsp;<span class="ident" id="5889647">v</span>&nbsp;<span class="ident" id="5889649">reflect</span><span class="op" id="5889656">.</span><span class="ident" id="5889657">Value</span><span class="op" id="5889662">,</span>&nbsp;<span class="ident" id="5889664">length</span>&nbsp;<span class="builtintype" id="5889671">int</span><span class="op" id="5889674">,</span>&nbsp;<span class="ident" id="5889676">ovfl</span>&nbsp;<span class="builtintype" id="5889681">error</span><span class="op" id="5889686">)</span>&nbsp;<span class="builtintype" id="5889688">bool</span>&nbsp;<span class="op" id="5889693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5889696">slice</span><span class="op" id="5889701">,</span>&nbsp;<span class="ident" id="5889703">ok</span>&nbsp;<span class="op" id="5889706">:=</span>&nbsp;<span class="ident" id="5889709">v</span><span class="op" id="5889710">.</span><span class="ident" id="5889711">Interface</span><span class="op" id="5889720">(</span><span class="op" id="5889721">)</span><span class="op" id="5889722">.</span><span class="op" id="5889723">(</span><span class="op" id="5889724">[</span><span class="op" id="5889725">]</span><span class="builtintype" id="5889726">float32</span><span class="op" id="5889733">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889736">if</span>&nbsp;<span class="op" id="5889739">!</span><span class="ident" id="5889740">ok</span>&nbsp;<span class="op" id="5889743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5889747">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float32&nbsp;but&nbsp;not&nbsp;type&nbsp;float32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889828">return</span>&nbsp;<span class="builtintype" id="5889835">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5889842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889845">for</span>&nbsp;<span class="ident" id="5889849">i</span>&nbsp;<span class="op" id="5889851">:=</span>&nbsp;<span class="num" id="5889854">0</span><span class="op" id="5889855">;</span>&nbsp;<span class="ident" id="5889857">i</span>&nbsp;<span class="op" id="5889859">&lt;</span>&nbsp;<span class="ident" id="5889861">length</span><span class="op" id="5889867">;</span>&nbsp;<span class="ident" id="5889869">i</span><span class="op" id="5889870">++</span>&nbsp;<span class="op" id="5889873">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5889877">if</span>&nbsp;<span class="ident" id="5889880">state</span><span class="op" id="5889885">.</span><span class="ident" id="5889886">b</span><span class="op" id="5889887">.</span><span class="ident" id="5889888">Len</span><span class="op" id="5889891">(</span><span class="op" id="5889892">)</span>&nbsp;<span class="op" id="5889894">==</span>&nbsp;<span class="num" id="5889897">0</span>&nbsp;<span class="op" id="5889899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5889904">errorf</span><span class="op" id="5889910">(</span><span class="string" id="5889911">&#34;decoding&nbsp;float32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5889985">,</span>&nbsp;<span class="ident" id="5889987">length</span><span class="op" id="5889993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5889997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5890001">slice</span><span class="op" id="5890006">[</span><span class="ident" id="5890007">i</span><span class="op" id="5890008">]</span>&nbsp;<span class="op" id="5890010">=</span>&nbsp;<span class="builtintype" id="5890012">float32</span><span class="op" id="5890019">(</span><span class="ident" id="5890020">float32FromBits</span><span class="op" id="5890035">(</span><span class="ident" id="5890036">state</span><span class="op" id="5890041">.</span><span class="ident" id="5890042">decodeUint</span><span class="op" id="5890052">(</span><span class="op" id="5890053">)</span><span class="op" id="5890054">,</span>&nbsp;<span class="ident" id="5890056">ovfl</span><span class="op" id="5890060">)</span><span class="op" id="5890061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5890064">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890067">return</span>&nbsp;<span class="builtintype" id="5890074">true</span><br>
<span class="lineno"></span><span class="op" id="5890079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5890082">func</span>&nbsp;<span class="ident" id="5890087">decFloat64Array</span><span class="op" id="5890102">(</span><span class="ident" id="5890103">state</span>&nbsp;<span class="op" id="5890109">*</span><span class="ident" id="5890110">decoderState</span><span class="op" id="5890122">,</span>&nbsp;<span class="ident" id="5890124">v</span>&nbsp;<span class="ident" id="5890126">reflect</span><span class="op" id="5890133">.</span><span class="ident" id="5890134">Value</span><span class="op" id="5890139">,</span>&nbsp;<span class="ident" id="5890141">length</span>&nbsp;<span class="builtintype" id="5890148">int</span><span class="op" id="5890151">,</span>&nbsp;<span class="ident" id="5890153">ovfl</span>&nbsp;<span class="builtintype" id="5890158">error</span><span class="op" id="5890163">)</span>&nbsp;<span class="builtintype" id="5890165">bool</span>&nbsp;<span class="op" id="5890170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5890173">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890214">if</span>&nbsp;<span class="op" id="5890217">!</span><span class="ident" id="5890218">v</span><span class="op" id="5890219">.</span><span class="ident" id="5890220">CanAddr</span><span class="op" id="5890227">(</span><span class="op" id="5890228">)</span>&nbsp;<span class="op" id="5890230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890234">return</span>&nbsp;<span class="builtintype" id="5890241">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5890248">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890251">return</span>&nbsp;<span class="ident" id="5890258">decFloat64Slice</span><span class="op" id="5890273">(</span><span class="ident" id="5890274">state</span><span class="op" id="5890279">,</span>&nbsp;<span class="ident" id="5890281">v</span><span class="op" id="5890282">.</span><span class="ident" id="5890283">Slice</span><span class="op" id="5890288">(</span><span class="num" id="5890289">0</span><span class="op" id="5890290">,</span>&nbsp;<span class="ident" id="5890292">v</span><span class="op" id="5890293">.</span><span class="ident" id="5890294">Len</span><span class="op" id="5890297">(</span><span class="op" id="5890298">)</span><span class="op" id="5890299">)</span><span class="op" id="5890300">,</span>&nbsp;<span class="ident" id="5890302">length</span><span class="op" id="5890308">,</span>&nbsp;<span class="ident" id="5890310">ovfl</span><span class="op" id="5890314">)</span><br>
<span class="lineno"></span><span class="op" id="5890316">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="5890319">func</span>&nbsp;<span class="ident" id="5890324">decFloat64Slice</span><span class="op" id="5890339">(</span><span class="ident" id="5890340">state</span>&nbsp;<span class="op" id="5890346">*</span><span class="ident" id="5890347">decoderState</span><span class="op" id="5890359">,</span>&nbsp;<span class="ident" id="5890361">v</span>&nbsp;<span class="ident" id="5890363">reflect</span><span class="op" id="5890370">.</span><span class="ident" id="5890371">Value</span><span class="op" id="5890376">,</span>&nbsp;<span class="ident" id="5890378">length</span>&nbsp;<span class="builtintype" id="5890385">int</span><span class="op" id="5890388">,</span>&nbsp;<span class="ident" id="5890390">ovfl</span>&nbsp;<span class="builtintype" id="5890395">error</span><span class="op" id="5890400">)</span>&nbsp;<span class="builtintype" id="5890402">bool</span>&nbsp;<span class="op" id="5890407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5890410">slice</span><span class="op" id="5890415">,</span>&nbsp;<span class="ident" id="5890417">ok</span>&nbsp;<span class="op" id="5890420">:=</span>&nbsp;<span class="ident" id="5890423">v</span><span class="op" id="5890424">.</span><span class="ident" id="5890425">Interface</span><span class="op" id="5890434">(</span><span class="op" id="5890435">)</span><span class="op" id="5890436">.</span><span class="op" id="5890437">(</span><span class="op" id="5890438">[</span><span class="op" id="5890439">]</span><span class="builtintype" id="5890440">float64</span><span class="op" id="5890447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890450">if</span>&nbsp;<span class="op" id="5890453">!</span><span class="ident" id="5890454">ok</span>&nbsp;<span class="op" id="5890457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5890461">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;float64&nbsp;but&nbsp;not&nbsp;type&nbsp;float64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890542">return</span>&nbsp;<span class="builtintype" id="5890549">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5890556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890559">for</span>&nbsp;<span class="ident" id="5890563">i</span>&nbsp;<span class="op" id="5890565">:=</span>&nbsp;<span class="num" id="5890568">0</span><span class="op" id="5890569">;</span>&nbsp;<span class="ident" id="5890571">i</span>&nbsp;<span class="op" id="5890573">&lt;</span>&nbsp;<span class="ident" id="5890575">length</span><span class="op" id="5890581">;</span>&nbsp;<span class="ident" id="5890583">i</span><span class="op" id="5890584">++</span>&nbsp;<span class="op" id="5890587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890591">if</span>&nbsp;<span class="ident" id="5890594">state</span><span class="op" id="5890599">.</span><span class="ident" id="5890600">b</span><span class="op" id="5890601">.</span><span class="ident" id="5890602">Len</span><span class="op" id="5890605">(</span><span class="op" id="5890606">)</span>&nbsp;<span class="op" id="5890608">==</span>&nbsp;<span class="num" id="5890611">0</span>&nbsp;<span class="op" id="5890613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5890618">errorf</span><span class="op" id="5890624">(</span><span class="string" id="5890625">&#34;decoding&nbsp;float64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5890699">,</span>&nbsp;<span class="ident" id="5890701">length</span><span class="op" id="5890707">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5890711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5890715">slice</span><span class="op" id="5890720">[</span><span class="ident" id="5890721">i</span><span class="op" id="5890722">]</span>&nbsp;<span class="op" id="5890724">=</span>&nbsp;<span class="ident" id="5890726">float64FromBits</span><span class="op" id="5890741">(</span><span class="ident" id="5890742">state</span><span class="op" id="5890747">.</span><span class="ident" id="5890748">decodeUint</span><span class="op" id="5890758">(</span><span class="op" id="5890759">)</span><span class="op" id="5890760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5890763">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890766">return</span>&nbsp;<span class="builtintype" id="5890773">true</span><br>
<span class="lineno"></span><span class="op" id="5890778">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="5890781">func</span>&nbsp;<span class="ident" id="5890786">decIntArray</span><span class="op" id="5890797">(</span><span class="ident" id="5890798">state</span>&nbsp;<span class="op" id="5890804">*</span><span class="ident" id="5890805">decoderState</span><span class="op" id="5890817">,</span>&nbsp;<span class="ident" id="5890819">v</span>&nbsp;<span class="ident" id="5890821">reflect</span><span class="op" id="5890828">.</span><span class="ident" id="5890829">Value</span><span class="op" id="5890834">,</span>&nbsp;<span class="ident" id="5890836">length</span>&nbsp;<span class="builtintype" id="5890843">int</span><span class="op" id="5890846">,</span>&nbsp;<span class="ident" id="5890848">ovfl</span>&nbsp;<span class="builtintype" id="5890853">error</span><span class="op" id="5890858">)</span>&nbsp;<span class="builtintype" id="5890860">bool</span>&nbsp;<span class="op" id="5890865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5890868">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890909">if</span>&nbsp;<span class="op" id="5890912">!</span><span class="ident" id="5890913">v</span><span class="op" id="5890914">.</span><span class="ident" id="5890915">CanAddr</span><span class="op" id="5890922">(</span><span class="op" id="5890923">)</span>&nbsp;<span class="op" id="5890925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890929">return</span>&nbsp;<span class="builtintype" id="5890936">false</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5890943">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5890946">return</span>&nbsp;<span class="ident" id="5890953">decIntSlice</span><span class="op" id="5890964">(</span><span class="ident" id="5890965">state</span><span class="op" id="5890970">,</span>&nbsp;<span class="ident" id="5890972">v</span><span class="op" id="5890973">.</span><span class="ident" id="5890974">Slice</span><span class="op" id="5890979">(</span><span class="num" id="5890980">0</span><span class="op" id="5890981">,</span>&nbsp;<span class="ident" id="5890983">v</span><span class="op" id="5890984">.</span><span class="ident" id="5890985">Len</span><span class="op" id="5890988">(</span><span class="op" id="5890989">)</span><span class="op" id="5890990">)</span><span class="op" id="5890991">,</span>&nbsp;<span class="ident" id="5890993">length</span><span class="op" id="5890999">,</span>&nbsp;<span class="ident" id="5891001">ovfl</span><span class="op" id="5891005">)</span><br>
<span class="lineno"></span><span class="op" id="5891007">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5891010">func</span>&nbsp;<span class="ident" id="5891015">decIntSlice</span><span class="op" id="5891026">(</span><span class="ident" id="5891027">state</span>&nbsp;<span class="op" id="5891033">*</span><span class="ident" id="5891034">decoderState</span><span class="op" id="5891046">,</span>&nbsp;<span class="ident" id="5891048">v</span>&nbsp;<span class="ident" id="5891050">reflect</span><span class="op" id="5891057">.</span><span class="ident" id="5891058">Value</span><span class="op" id="5891063">,</span>&nbsp;<span class="ident" id="5891065">length</span>&nbsp;<span class="builtintype" id="5891072">int</span><span class="op" id="5891075">,</span>&nbsp;<span class="ident" id="5891077">ovfl</span>&nbsp;<span class="builtintype" id="5891082">error</span><span class="op" id="5891087">)</span>&nbsp;<span class="builtintype" id="5891089">bool</span>&nbsp;<span class="op" id="5891094">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5891097">slice</span><span class="op" id="5891102">,</span>&nbsp;<span class="ident" id="5891104">ok</span>&nbsp;<span class="op" id="5891107">:=</span>&nbsp;<span class="ident" id="5891110">v</span><span class="op" id="5891111">.</span><span class="ident" id="5891112">Interface</span><span class="op" id="5891121">(</span><span class="op" id="5891122">)</span><span class="op" id="5891123">.</span><span class="op" id="5891124">(</span><span class="op" id="5891125">[</span><span class="op" id="5891126">]</span><span class="builtintype" id="5891127">int</span><span class="op" id="5891130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891133">if</span>&nbsp;<span class="op" id="5891136">!</span><span class="ident" id="5891137">ok</span>&nbsp;<span class="op" id="5891140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5891144">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int&nbsp;but&nbsp;not&nbsp;type&nbsp;int.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891217">return</span>&nbsp;<span class="builtintype" id="5891224">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5891231">}</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891234">for</span>&nbsp;<span class="ident" id="5891238">i</span>&nbsp;<span class="op" id="5891240">:=</span>&nbsp;<span class="num" id="5891243">0</span><span class="op" id="5891244">;</span>&nbsp;<span class="ident" id="5891246">i</span>&nbsp;<span class="op" id="5891248">&lt;</span>&nbsp;<span class="ident" id="5891250">length</span><span class="op" id="5891256">;</span>&nbsp;<span class="ident" id="5891258">i</span><span class="op" id="5891259">++</span>&nbsp;<span class="op" id="5891262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891266">if</span>&nbsp;<span class="ident" id="5891269">state</span><span class="op" id="5891274">.</span><span class="ident" id="5891275">b</span><span class="op" id="5891276">.</span><span class="ident" id="5891277">Len</span><span class="op" id="5891280">(</span><span class="op" id="5891281">)</span>&nbsp;<span class="op" id="5891283">==</span>&nbsp;<span class="num" id="5891286">0</span>&nbsp;<span class="op" id="5891288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5891293">errorf</span><span class="op" id="5891299">(</span><span class="string" id="5891300">&#34;decoding&nbsp;int&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5891370">,</span>&nbsp;<span class="ident" id="5891372">length</span><span class="op" id="5891378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5891382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5891386">x</span>&nbsp;<span class="op" id="5891388">:=</span>&nbsp;<span class="ident" id="5891391">state</span><span class="op" id="5891396">.</span><span class="ident" id="5891397">decodeInt</span><span class="op" id="5891406">(</span><span class="op" id="5891407">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5891411">//&nbsp;MinInt&nbsp;and&nbsp;MaxInt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891434">if</span>&nbsp;<span class="ident" id="5891437">x</span>&nbsp;<span class="op" id="5891439">&lt;</span>&nbsp;<span class="op" id="5891441">^</span><span class="ident" id="5891442">int64</span><span class="op" id="5891447">(</span><span class="op" id="5891448">^</span><span class="builtintype" id="5891449">uint</span><span class="op" id="5891453">(</span><span class="num" id="5891454">0</span><span class="op" id="5891455">)</span><span class="op" id="5891456">&gt;&gt;</span><span class="num" id="5891458">1</span><span class="op" id="5891459">)</span>&nbsp;<span class="op" id="5891461">||</span>&nbsp;<span class="ident" id="5891464">int64</span><span class="op" id="5891469">(</span><span class="op" id="5891470">^</span><span class="builtintype" id="5891471">uint</span><span class="op" id="5891475">(</span><span class="num" id="5891476">0</span><span class="op" id="5891477">)</span><span class="op" id="5891478">&gt;&gt;</span><span class="num" id="5891480">1</span><span class="op" id="5891481">)</span>&nbsp;<span class="op" id="5891483">&lt;</span>&nbsp;<span class="ident" id="5891485">x</span>&nbsp;<span class="op" id="5891487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5891492">error_</span><span class="op" id="5891498">(</span><span class="ident" id="5891499">ovfl</span><span class="op" id="5891503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5891507">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5891511">slice</span><span class="op" id="5891516">[</span><span class="ident" id="5891517">i</span><span class="op" id="5891518">]</span>&nbsp;<span class="op" id="5891520">=</span>&nbsp;<span class="builtintype" id="5891522">int</span><span class="op" id="5891525">(</span><span class="ident" id="5891526">x</span><span class="op" id="5891527">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5891530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891533">return</span>&nbsp;<span class="builtintype" id="5891540">true</span><br>
<span class="lineno"></span><span class="op" id="5891545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5891548">func</span>&nbsp;<span class="ident" id="5891553">decInt16Array</span><span class="op" id="5891566">(</span><span class="ident" id="5891567">state</span>&nbsp;<span class="op" id="5891573">*</span><span class="ident" id="5891574">decoderState</span><span class="op" id="5891586">,</span>&nbsp;<span class="ident" id="5891588">v</span>&nbsp;<span class="ident" id="5891590">reflect</span><span class="op" id="5891597">.</span><span class="ident" id="5891598">Value</span><span class="op" id="5891603">,</span>&nbsp;<span class="ident" id="5891605">length</span>&nbsp;<span class="builtintype" id="5891612">int</span><span class="op" id="5891615">,</span>&nbsp;<span class="ident" id="5891617">ovfl</span>&nbsp;<span class="builtintype" id="5891622">error</span><span class="op" id="5891627">)</span>&nbsp;<span class="builtintype" id="5891629">bool</span>&nbsp;<span class="op" id="5891634">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5891637">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891678">if</span>&nbsp;<span class="op" id="5891681">!</span><span class="ident" id="5891682">v</span><span class="op" id="5891683">.</span><span class="ident" id="5891684">CanAddr</span><span class="op" id="5891691">(</span><span class="op" id="5891692">)</span>&nbsp;<span class="op" id="5891694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891698">return</span>&nbsp;<span class="builtintype" id="5891705">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5891712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891715">return</span>&nbsp;<span class="ident" id="5891722">decInt16Slice</span><span class="op" id="5891735">(</span><span class="ident" id="5891736">state</span><span class="op" id="5891741">,</span>&nbsp;<span class="ident" id="5891743">v</span><span class="op" id="5891744">.</span><span class="ident" id="5891745">Slice</span><span class="op" id="5891750">(</span><span class="num" id="5891751">0</span><span class="op" id="5891752">,</span>&nbsp;<span class="ident" id="5891754">v</span><span class="op" id="5891755">.</span><span class="ident" id="5891756">Len</span><span class="op" id="5891759">(</span><span class="op" id="5891760">)</span><span class="op" id="5891761">)</span><span class="op" id="5891762">,</span>&nbsp;<span class="ident" id="5891764">length</span><span class="op" id="5891770">,</span>&nbsp;<span class="ident" id="5891772">ovfl</span><span class="op" id="5891776">)</span><br>
<span class="lineno">205</span><span class="op" id="5891778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5891781">func</span>&nbsp;<span class="ident" id="5891786">decInt16Slice</span><span class="op" id="5891799">(</span><span class="ident" id="5891800">state</span>&nbsp;<span class="op" id="5891806">*</span><span class="ident" id="5891807">decoderState</span><span class="op" id="5891819">,</span>&nbsp;<span class="ident" id="5891821">v</span>&nbsp;<span class="ident" id="5891823">reflect</span><span class="op" id="5891830">.</span><span class="ident" id="5891831">Value</span><span class="op" id="5891836">,</span>&nbsp;<span class="ident" id="5891838">length</span>&nbsp;<span class="builtintype" id="5891845">int</span><span class="op" id="5891848">,</span>&nbsp;<span class="ident" id="5891850">ovfl</span>&nbsp;<span class="builtintype" id="5891855">error</span><span class="op" id="5891860">)</span>&nbsp;<span class="builtintype" id="5891862">bool</span>&nbsp;<span class="op" id="5891867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5891870">slice</span><span class="op" id="5891875">,</span>&nbsp;<span class="ident" id="5891877">ok</span>&nbsp;<span class="op" id="5891880">:=</span>&nbsp;<span class="ident" id="5891883">v</span><span class="op" id="5891884">.</span><span class="ident" id="5891885">Interface</span><span class="op" id="5891894">(</span><span class="op" id="5891895">)</span><span class="op" id="5891896">.</span><span class="op" id="5891897">(</span><span class="op" id="5891898">[</span><span class="op" id="5891899">]</span><span class="builtintype" id="5891900">int16</span><span class="op" id="5891905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891908">if</span>&nbsp;<span class="op" id="5891911">!</span><span class="ident" id="5891912">ok</span>&nbsp;<span class="op" id="5891915">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5891919">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int16&nbsp;but&nbsp;not&nbsp;type&nbsp;int16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5891996">return</span>&nbsp;<span class="builtintype" id="5892003">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892010">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892013">for</span>&nbsp;<span class="ident" id="5892017">i</span>&nbsp;<span class="op" id="5892019">:=</span>&nbsp;<span class="num" id="5892022">0</span><span class="op" id="5892023">;</span>&nbsp;<span class="ident" id="5892025">i</span>&nbsp;<span class="op" id="5892027">&lt;</span>&nbsp;<span class="ident" id="5892029">length</span><span class="op" id="5892035">;</span>&nbsp;<span class="ident" id="5892037">i</span><span class="op" id="5892038">++</span>&nbsp;<span class="op" id="5892041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892045">if</span>&nbsp;<span class="ident" id="5892048">state</span><span class="op" id="5892053">.</span><span class="ident" id="5892054">b</span><span class="op" id="5892055">.</span><span class="ident" id="5892056">Len</span><span class="op" id="5892059">(</span><span class="op" id="5892060">)</span>&nbsp;<span class="op" id="5892062">==</span>&nbsp;<span class="num" id="5892065">0</span>&nbsp;<span class="op" id="5892067">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892072">errorf</span><span class="op" id="5892078">(</span><span class="string" id="5892079">&#34;decoding&nbsp;int16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5892151">,</span>&nbsp;<span class="ident" id="5892153">length</span><span class="op" id="5892159">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892167">x</span>&nbsp;<span class="op" id="5892169">:=</span>&nbsp;<span class="ident" id="5892172">state</span><span class="op" id="5892177">.</span><span class="ident" id="5892178">decodeInt</span><span class="op" id="5892187">(</span><span class="op" id="5892188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892192">if</span>&nbsp;<span class="ident" id="5892195">x</span>&nbsp;<span class="op" id="5892197">&lt;</span>&nbsp;<span class="ident" id="5892199">math</span><span class="op" id="5892203">.</span><span class="ident" id="5892204">MinInt16</span>&nbsp;<span class="op" id="5892213">||</span>&nbsp;<span class="ident" id="5892216">math</span><span class="op" id="5892220">.</span><span class="ident" id="5892221">MaxInt16</span>&nbsp;<span class="op" id="5892230">&lt;</span>&nbsp;<span class="ident" id="5892232">x</span>&nbsp;<span class="op" id="5892234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892239">error_</span><span class="op" id="5892245">(</span><span class="ident" id="5892246">ovfl</span><span class="op" id="5892250">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892258">slice</span><span class="op" id="5892263">[</span><span class="ident" id="5892264">i</span><span class="op" id="5892265">]</span>&nbsp;<span class="op" id="5892267">=</span>&nbsp;<span class="builtintype" id="5892269">int16</span><span class="op" id="5892274">(</span><span class="ident" id="5892275">x</span><span class="op" id="5892276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892282">return</span>&nbsp;<span class="builtintype" id="5892289">true</span><br>
<span class="lineno"></span><span class="op" id="5892294">}</span><br>
<span class="lineno">225</span><br>
<span class="lineno"></span><span class="keyword" id="5892297">func</span>&nbsp;<span class="ident" id="5892302">decInt32Array</span><span class="op" id="5892315">(</span><span class="ident" id="5892316">state</span>&nbsp;<span class="op" id="5892322">*</span><span class="ident" id="5892323">decoderState</span><span class="op" id="5892335">,</span>&nbsp;<span class="ident" id="5892337">v</span>&nbsp;<span class="ident" id="5892339">reflect</span><span class="op" id="5892346">.</span><span class="ident" id="5892347">Value</span><span class="op" id="5892352">,</span>&nbsp;<span class="ident" id="5892354">length</span>&nbsp;<span class="builtintype" id="5892361">int</span><span class="op" id="5892364">,</span>&nbsp;<span class="ident" id="5892366">ovfl</span>&nbsp;<span class="builtintype" id="5892371">error</span><span class="op" id="5892376">)</span>&nbsp;<span class="builtintype" id="5892378">bool</span>&nbsp;<span class="op" id="5892383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5892386">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892427">if</span>&nbsp;<span class="op" id="5892430">!</span><span class="ident" id="5892431">v</span><span class="op" id="5892432">.</span><span class="ident" id="5892433">CanAddr</span><span class="op" id="5892440">(</span><span class="op" id="5892441">)</span>&nbsp;<span class="op" id="5892443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892447">return</span>&nbsp;<span class="builtintype" id="5892454">false</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892461">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892464">return</span>&nbsp;<span class="ident" id="5892471">decInt32Slice</span><span class="op" id="5892484">(</span><span class="ident" id="5892485">state</span><span class="op" id="5892490">,</span>&nbsp;<span class="ident" id="5892492">v</span><span class="op" id="5892493">.</span><span class="ident" id="5892494">Slice</span><span class="op" id="5892499">(</span><span class="num" id="5892500">0</span><span class="op" id="5892501">,</span>&nbsp;<span class="ident" id="5892503">v</span><span class="op" id="5892504">.</span><span class="ident" id="5892505">Len</span><span class="op" id="5892508">(</span><span class="op" id="5892509">)</span><span class="op" id="5892510">)</span><span class="op" id="5892511">,</span>&nbsp;<span class="ident" id="5892513">length</span><span class="op" id="5892519">,</span>&nbsp;<span class="ident" id="5892521">ovfl</span><span class="op" id="5892525">)</span><br>
<span class="lineno"></span><span class="op" id="5892527">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5892530">func</span>&nbsp;<span class="ident" id="5892535">decInt32Slice</span><span class="op" id="5892548">(</span><span class="ident" id="5892549">state</span>&nbsp;<span class="op" id="5892555">*</span><span class="ident" id="5892556">decoderState</span><span class="op" id="5892568">,</span>&nbsp;<span class="ident" id="5892570">v</span>&nbsp;<span class="ident" id="5892572">reflect</span><span class="op" id="5892579">.</span><span class="ident" id="5892580">Value</span><span class="op" id="5892585">,</span>&nbsp;<span class="ident" id="5892587">length</span>&nbsp;<span class="builtintype" id="5892594">int</span><span class="op" id="5892597">,</span>&nbsp;<span class="ident" id="5892599">ovfl</span>&nbsp;<span class="builtintype" id="5892604">error</span><span class="op" id="5892609">)</span>&nbsp;<span class="builtintype" id="5892611">bool</span>&nbsp;<span class="op" id="5892616">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892619">slice</span><span class="op" id="5892624">,</span>&nbsp;<span class="ident" id="5892626">ok</span>&nbsp;<span class="op" id="5892629">:=</span>&nbsp;<span class="ident" id="5892632">v</span><span class="op" id="5892633">.</span><span class="ident" id="5892634">Interface</span><span class="op" id="5892643">(</span><span class="op" id="5892644">)</span><span class="op" id="5892645">.</span><span class="op" id="5892646">(</span><span class="op" id="5892647">[</span><span class="op" id="5892648">]</span><span class="builtintype" id="5892649">int32</span><span class="op" id="5892654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892657">if</span>&nbsp;<span class="op" id="5892660">!</span><span class="ident" id="5892661">ok</span>&nbsp;<span class="op" id="5892664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5892668">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int32&nbsp;but&nbsp;not&nbsp;type&nbsp;int32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892745">return</span>&nbsp;<span class="builtintype" id="5892752">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892759">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892762">for</span>&nbsp;<span class="ident" id="5892766">i</span>&nbsp;<span class="op" id="5892768">:=</span>&nbsp;<span class="num" id="5892771">0</span><span class="op" id="5892772">;</span>&nbsp;<span class="ident" id="5892774">i</span>&nbsp;<span class="op" id="5892776">&lt;</span>&nbsp;<span class="ident" id="5892778">length</span><span class="op" id="5892784">;</span>&nbsp;<span class="ident" id="5892786">i</span><span class="op" id="5892787">++</span>&nbsp;<span class="op" id="5892790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892794">if</span>&nbsp;<span class="ident" id="5892797">state</span><span class="op" id="5892802">.</span><span class="ident" id="5892803">b</span><span class="op" id="5892804">.</span><span class="ident" id="5892805">Len</span><span class="op" id="5892808">(</span><span class="op" id="5892809">)</span>&nbsp;<span class="op" id="5892811">==</span>&nbsp;<span class="num" id="5892814">0</span>&nbsp;<span class="op" id="5892816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892821">errorf</span><span class="op" id="5892827">(</span><span class="string" id="5892828">&#34;decoding&nbsp;int32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5892900">,</span>&nbsp;<span class="ident" id="5892902">length</span><span class="op" id="5892908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5892912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892916">x</span>&nbsp;<span class="op" id="5892918">:=</span>&nbsp;<span class="ident" id="5892921">state</span><span class="op" id="5892926">.</span><span class="ident" id="5892927">decodeInt</span><span class="op" id="5892936">(</span><span class="op" id="5892937">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5892941">if</span>&nbsp;<span class="ident" id="5892944">x</span>&nbsp;<span class="op" id="5892946">&lt;</span>&nbsp;<span class="ident" id="5892948">math</span><span class="op" id="5892952">.</span><span class="ident" id="5892953">MinInt32</span>&nbsp;<span class="op" id="5892962">||</span>&nbsp;<span class="ident" id="5892965">math</span><span class="op" id="5892969">.</span><span class="ident" id="5892970">MaxInt32</span>&nbsp;<span class="op" id="5892979">&lt;</span>&nbsp;<span class="ident" id="5892981">x</span>&nbsp;<span class="op" id="5892983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5892988">error_</span><span class="op" id="5892994">(</span><span class="ident" id="5892995">ovfl</span><span class="op" id="5892999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893003">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5893007">slice</span><span class="op" id="5893012">[</span><span class="ident" id="5893013">i</span><span class="op" id="5893014">]</span>&nbsp;<span class="op" id="5893016">=</span>&nbsp;<span class="builtintype" id="5893018">int32</span><span class="op" id="5893023">(</span><span class="ident" id="5893024">x</span><span class="op" id="5893025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893028">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893031">return</span>&nbsp;<span class="builtintype" id="5893038">true</span><br>
<span class="lineno"></span><span class="op" id="5893043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5893046">func</span>&nbsp;<span class="ident" id="5893051">decInt64Array</span><span class="op" id="5893064">(</span><span class="ident" id="5893065">state</span>&nbsp;<span class="op" id="5893071">*</span><span class="ident" id="5893072">decoderState</span><span class="op" id="5893084">,</span>&nbsp;<span class="ident" id="5893086">v</span>&nbsp;<span class="ident" id="5893088">reflect</span><span class="op" id="5893095">.</span><span class="ident" id="5893096">Value</span><span class="op" id="5893101">,</span>&nbsp;<span class="ident" id="5893103">length</span>&nbsp;<span class="builtintype" id="5893110">int</span><span class="op" id="5893113">,</span>&nbsp;<span class="ident" id="5893115">ovfl</span>&nbsp;<span class="builtintype" id="5893120">error</span><span class="op" id="5893125">)</span>&nbsp;<span class="builtintype" id="5893127">bool</span>&nbsp;<span class="op" id="5893132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5893135">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893176">if</span>&nbsp;<span class="op" id="5893179">!</span><span class="ident" id="5893180">v</span><span class="op" id="5893181">.</span><span class="ident" id="5893182">CanAddr</span><span class="op" id="5893189">(</span><span class="op" id="5893190">)</span>&nbsp;<span class="op" id="5893192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893196">return</span>&nbsp;<span class="builtintype" id="5893203">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893213">return</span>&nbsp;<span class="ident" id="5893220">decInt64Slice</span><span class="op" id="5893233">(</span><span class="ident" id="5893234">state</span><span class="op" id="5893239">,</span>&nbsp;<span class="ident" id="5893241">v</span><span class="op" id="5893242">.</span><span class="ident" id="5893243">Slice</span><span class="op" id="5893248">(</span><span class="num" id="5893249">0</span><span class="op" id="5893250">,</span>&nbsp;<span class="ident" id="5893252">v</span><span class="op" id="5893253">.</span><span class="ident" id="5893254">Len</span><span class="op" id="5893257">(</span><span class="op" id="5893258">)</span><span class="op" id="5893259">)</span><span class="op" id="5893260">,</span>&nbsp;<span class="ident" id="5893262">length</span><span class="op" id="5893268">,</span>&nbsp;<span class="ident" id="5893270">ovfl</span><span class="op" id="5893274">)</span><br>
<span class="lineno"></span><span class="op" id="5893276">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="5893279">func</span>&nbsp;<span class="ident" id="5893284">decInt64Slice</span><span class="op" id="5893297">(</span><span class="ident" id="5893298">state</span>&nbsp;<span class="op" id="5893304">*</span><span class="ident" id="5893305">decoderState</span><span class="op" id="5893317">,</span>&nbsp;<span class="ident" id="5893319">v</span>&nbsp;<span class="ident" id="5893321">reflect</span><span class="op" id="5893328">.</span><span class="ident" id="5893329">Value</span><span class="op" id="5893334">,</span>&nbsp;<span class="ident" id="5893336">length</span>&nbsp;<span class="builtintype" id="5893343">int</span><span class="op" id="5893346">,</span>&nbsp;<span class="ident" id="5893348">ovfl</span>&nbsp;<span class="builtintype" id="5893353">error</span><span class="op" id="5893358">)</span>&nbsp;<span class="builtintype" id="5893360">bool</span>&nbsp;<span class="op" id="5893365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5893368">slice</span><span class="op" id="5893373">,</span>&nbsp;<span class="ident" id="5893375">ok</span>&nbsp;<span class="op" id="5893378">:=</span>&nbsp;<span class="ident" id="5893381">v</span><span class="op" id="5893382">.</span><span class="ident" id="5893383">Interface</span><span class="op" id="5893392">(</span><span class="op" id="5893393">)</span><span class="op" id="5893394">.</span><span class="op" id="5893395">(</span><span class="op" id="5893396">[</span><span class="op" id="5893397">]</span><span class="ident" id="5893398">int64</span><span class="op" id="5893403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893406">if</span>&nbsp;<span class="op" id="5893409">!</span><span class="ident" id="5893410">ok</span>&nbsp;<span class="op" id="5893413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5893417">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int64&nbsp;but&nbsp;not&nbsp;type&nbsp;int64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893494">return</span>&nbsp;<span class="builtintype" id="5893501">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893511">for</span>&nbsp;<span class="ident" id="5893515">i</span>&nbsp;<span class="op" id="5893517">:=</span>&nbsp;<span class="num" id="5893520">0</span><span class="op" id="5893521">;</span>&nbsp;<span class="ident" id="5893523">i</span>&nbsp;<span class="op" id="5893525">&lt;</span>&nbsp;<span class="ident" id="5893527">length</span><span class="op" id="5893533">;</span>&nbsp;<span class="ident" id="5893535">i</span><span class="op" id="5893536">++</span>&nbsp;<span class="op" id="5893539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893543">if</span>&nbsp;<span class="ident" id="5893546">state</span><span class="op" id="5893551">.</span><span class="ident" id="5893552">b</span><span class="op" id="5893553">.</span><span class="ident" id="5893554">Len</span><span class="op" id="5893557">(</span><span class="op" id="5893558">)</span>&nbsp;<span class="op" id="5893560">==</span>&nbsp;<span class="num" id="5893563">0</span>&nbsp;<span class="op" id="5893565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5893570">errorf</span><span class="op" id="5893576">(</span><span class="string" id="5893577">&#34;decoding&nbsp;int64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5893649">,</span>&nbsp;<span class="ident" id="5893651">length</span><span class="op" id="5893657">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5893665">slice</span><span class="op" id="5893670">[</span><span class="ident" id="5893671">i</span><span class="op" id="5893672">]</span>&nbsp;<span class="op" id="5893674">=</span>&nbsp;<span class="ident" id="5893676">state</span><span class="op" id="5893681">.</span><span class="ident" id="5893682">decodeInt</span><span class="op" id="5893691">(</span><span class="op" id="5893692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893698">return</span>&nbsp;<span class="builtintype" id="5893705">true</span><br>
<span class="lineno"></span><span class="op" id="5893710">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="5893713">func</span>&nbsp;<span class="ident" id="5893718">decInt8Array</span><span class="op" id="5893730">(</span><span class="ident" id="5893731">state</span>&nbsp;<span class="op" id="5893737">*</span><span class="ident" id="5893738">decoderState</span><span class="op" id="5893750">,</span>&nbsp;<span class="ident" id="5893752">v</span>&nbsp;<span class="ident" id="5893754">reflect</span><span class="op" id="5893761">.</span><span class="ident" id="5893762">Value</span><span class="op" id="5893767">,</span>&nbsp;<span class="ident" id="5893769">length</span>&nbsp;<span class="builtintype" id="5893776">int</span><span class="op" id="5893779">,</span>&nbsp;<span class="ident" id="5893781">ovfl</span>&nbsp;<span class="builtintype" id="5893786">error</span><span class="op" id="5893791">)</span>&nbsp;<span class="builtintype" id="5893793">bool</span>&nbsp;<span class="op" id="5893798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5893801">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893842">if</span>&nbsp;<span class="op" id="5893845">!</span><span class="ident" id="5893846">v</span><span class="op" id="5893847">.</span><span class="ident" id="5893848">CanAddr</span><span class="op" id="5893855">(</span><span class="op" id="5893856">)</span>&nbsp;<span class="op" id="5893858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893862">return</span>&nbsp;<span class="builtintype" id="5893869">false</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5893876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5893879">return</span>&nbsp;<span class="ident" id="5893886">decInt8Slice</span><span class="op" id="5893898">(</span><span class="ident" id="5893899">state</span><span class="op" id="5893904">,</span>&nbsp;<span class="ident" id="5893906">v</span><span class="op" id="5893907">.</span><span class="ident" id="5893908">Slice</span><span class="op" id="5893913">(</span><span class="num" id="5893914">0</span><span class="op" id="5893915">,</span>&nbsp;<span class="ident" id="5893917">v</span><span class="op" id="5893918">.</span><span class="ident" id="5893919">Len</span><span class="op" id="5893922">(</span><span class="op" id="5893923">)</span><span class="op" id="5893924">)</span><span class="op" id="5893925">,</span>&nbsp;<span class="ident" id="5893927">length</span><span class="op" id="5893933">,</span>&nbsp;<span class="ident" id="5893935">ovfl</span><span class="op" id="5893939">)</span><br>
<span class="lineno"></span><span class="op" id="5893941">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5893944">func</span>&nbsp;<span class="ident" id="5893949">decInt8Slice</span><span class="op" id="5893961">(</span><span class="ident" id="5893962">state</span>&nbsp;<span class="op" id="5893968">*</span><span class="ident" id="5893969">decoderState</span><span class="op" id="5893981">,</span>&nbsp;<span class="ident" id="5893983">v</span>&nbsp;<span class="ident" id="5893985">reflect</span><span class="op" id="5893992">.</span><span class="ident" id="5893993">Value</span><span class="op" id="5893998">,</span>&nbsp;<span class="ident" id="5894000">length</span>&nbsp;<span class="builtintype" id="5894007">int</span><span class="op" id="5894010">,</span>&nbsp;<span class="ident" id="5894012">ovfl</span>&nbsp;<span class="builtintype" id="5894017">error</span><span class="op" id="5894022">)</span>&nbsp;<span class="builtintype" id="5894024">bool</span>&nbsp;<span class="op" id="5894029">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894032">slice</span><span class="op" id="5894037">,</span>&nbsp;<span class="ident" id="5894039">ok</span>&nbsp;<span class="op" id="5894042">:=</span>&nbsp;<span class="ident" id="5894045">v</span><span class="op" id="5894046">.</span><span class="ident" id="5894047">Interface</span><span class="op" id="5894056">(</span><span class="op" id="5894057">)</span><span class="op" id="5894058">.</span><span class="op" id="5894059">(</span><span class="op" id="5894060">[</span><span class="op" id="5894061">]</span><span class="builtintype" id="5894062">int8</span><span class="op" id="5894066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894069">if</span>&nbsp;<span class="op" id="5894072">!</span><span class="ident" id="5894073">ok</span>&nbsp;<span class="op" id="5894076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5894080">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;int8&nbsp;but&nbsp;not&nbsp;type&nbsp;int8.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894155">return</span>&nbsp;<span class="builtintype" id="5894162">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5894169">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894172">for</span>&nbsp;<span class="ident" id="5894176">i</span>&nbsp;<span class="op" id="5894178">:=</span>&nbsp;<span class="num" id="5894181">0</span><span class="op" id="5894182">;</span>&nbsp;<span class="ident" id="5894184">i</span>&nbsp;<span class="op" id="5894186">&lt;</span>&nbsp;<span class="ident" id="5894188">length</span><span class="op" id="5894194">;</span>&nbsp;<span class="ident" id="5894196">i</span><span class="op" id="5894197">++</span>&nbsp;<span class="op" id="5894200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894204">if</span>&nbsp;<span class="ident" id="5894207">state</span><span class="op" id="5894212">.</span><span class="ident" id="5894213">b</span><span class="op" id="5894214">.</span><span class="ident" id="5894215">Len</span><span class="op" id="5894218">(</span><span class="op" id="5894219">)</span>&nbsp;<span class="op" id="5894221">==</span>&nbsp;<span class="num" id="5894224">0</span>&nbsp;<span class="op" id="5894226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894231">errorf</span><span class="op" id="5894237">(</span><span class="string" id="5894238">&#34;decoding&nbsp;int8&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5894309">,</span>&nbsp;<span class="ident" id="5894311">length</span><span class="op" id="5894317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5894321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894325">x</span>&nbsp;<span class="op" id="5894327">:=</span>&nbsp;<span class="ident" id="5894330">state</span><span class="op" id="5894335">.</span><span class="ident" id="5894336">decodeInt</span><span class="op" id="5894345">(</span><span class="op" id="5894346">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894350">if</span>&nbsp;<span class="ident" id="5894353">x</span>&nbsp;<span class="op" id="5894355">&lt;</span>&nbsp;<span class="ident" id="5894357">math</span><span class="op" id="5894361">.</span><span class="ident" id="5894362">MinInt8</span>&nbsp;<span class="op" id="5894370">||</span>&nbsp;<span class="ident" id="5894373">math</span><span class="op" id="5894377">.</span><span class="ident" id="5894378">MaxInt8</span>&nbsp;<span class="op" id="5894386">&lt;</span>&nbsp;<span class="ident" id="5894388">x</span>&nbsp;<span class="op" id="5894390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894395">error_</span><span class="op" id="5894401">(</span><span class="ident" id="5894402">ovfl</span><span class="op" id="5894406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5894410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894414">slice</span><span class="op" id="5894419">[</span><span class="ident" id="5894420">i</span><span class="op" id="5894421">]</span>&nbsp;<span class="op" id="5894423">=</span>&nbsp;<span class="builtintype" id="5894425">int8</span><span class="op" id="5894429">(</span><span class="ident" id="5894430">x</span><span class="op" id="5894431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5894434">}</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894437">return</span>&nbsp;<span class="builtintype" id="5894444">true</span><br>
<span class="lineno"></span><span class="op" id="5894449">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5894452">func</span>&nbsp;<span class="ident" id="5894457">decStringArray</span><span class="op" id="5894471">(</span><span class="ident" id="5894472">state</span>&nbsp;<span class="op" id="5894478">*</span><span class="ident" id="5894479">decoderState</span><span class="op" id="5894491">,</span>&nbsp;<span class="ident" id="5894493">v</span>&nbsp;<span class="ident" id="5894495">reflect</span><span class="op" id="5894502">.</span><span class="ident" id="5894503">Value</span><span class="op" id="5894508">,</span>&nbsp;<span class="ident" id="5894510">length</span>&nbsp;<span class="builtintype" id="5894517">int</span><span class="op" id="5894520">,</span>&nbsp;<span class="ident" id="5894522">ovfl</span>&nbsp;<span class="builtintype" id="5894527">error</span><span class="op" id="5894532">)</span>&nbsp;<span class="builtintype" id="5894534">bool</span>&nbsp;<span class="op" id="5894539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5894542">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894583">if</span>&nbsp;<span class="op" id="5894586">!</span><span class="ident" id="5894587">v</span><span class="op" id="5894588">.</span><span class="ident" id="5894589">CanAddr</span><span class="op" id="5894596">(</span><span class="op" id="5894597">)</span>&nbsp;<span class="op" id="5894599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894603">return</span>&nbsp;<span class="builtintype" id="5894610">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5894617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894620">return</span>&nbsp;<span class="ident" id="5894627">decStringSlice</span><span class="op" id="5894641">(</span><span class="ident" id="5894642">state</span><span class="op" id="5894647">,</span>&nbsp;<span class="ident" id="5894649">v</span><span class="op" id="5894650">.</span><span class="ident" id="5894651">Slice</span><span class="op" id="5894656">(</span><span class="num" id="5894657">0</span><span class="op" id="5894658">,</span>&nbsp;<span class="ident" id="5894660">v</span><span class="op" id="5894661">.</span><span class="ident" id="5894662">Len</span><span class="op" id="5894665">(</span><span class="op" id="5894666">)</span><span class="op" id="5894667">)</span><span class="op" id="5894668">,</span>&nbsp;<span class="ident" id="5894670">length</span><span class="op" id="5894676">,</span>&nbsp;<span class="ident" id="5894678">ovfl</span><span class="op" id="5894682">)</span><br>
<span class="lineno"></span><span class="op" id="5894684">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="5894687">func</span>&nbsp;<span class="ident" id="5894692">decStringSlice</span><span class="op" id="5894706">(</span><span class="ident" id="5894707">state</span>&nbsp;<span class="op" id="5894713">*</span><span class="ident" id="5894714">decoderState</span><span class="op" id="5894726">,</span>&nbsp;<span class="ident" id="5894728">v</span>&nbsp;<span class="ident" id="5894730">reflect</span><span class="op" id="5894737">.</span><span class="ident" id="5894738">Value</span><span class="op" id="5894743">,</span>&nbsp;<span class="ident" id="5894745">length</span>&nbsp;<span class="builtintype" id="5894752">int</span><span class="op" id="5894755">,</span>&nbsp;<span class="ident" id="5894757">ovfl</span>&nbsp;<span class="builtintype" id="5894762">error</span><span class="op" id="5894767">)</span>&nbsp;<span class="builtintype" id="5894769">bool</span>&nbsp;<span class="op" id="5894774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894777">slice</span><span class="op" id="5894782">,</span>&nbsp;<span class="ident" id="5894784">ok</span>&nbsp;<span class="op" id="5894787">:=</span>&nbsp;<span class="ident" id="5894790">v</span><span class="op" id="5894791">.</span><span class="ident" id="5894792">Interface</span><span class="op" id="5894801">(</span><span class="op" id="5894802">)</span><span class="op" id="5894803">.</span><span class="op" id="5894804">(</span><span class="op" id="5894805">[</span><span class="op" id="5894806">]</span><span class="builtintype" id="5894807">string</span><span class="op" id="5894813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894816">if</span>&nbsp;<span class="op" id="5894819">!</span><span class="ident" id="5894820">ok</span>&nbsp;<span class="op" id="5894823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5894827">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;string&nbsp;but&nbsp;not&nbsp;type&nbsp;string.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894906">return</span>&nbsp;<span class="builtintype" id="5894913">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5894920">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894923">for</span>&nbsp;<span class="ident" id="5894927">i</span>&nbsp;<span class="op" id="5894929">:=</span>&nbsp;<span class="num" id="5894932">0</span><span class="op" id="5894933">;</span>&nbsp;<span class="ident" id="5894935">i</span>&nbsp;<span class="op" id="5894937">&lt;</span>&nbsp;<span class="ident" id="5894939">length</span><span class="op" id="5894945">;</span>&nbsp;<span class="ident" id="5894947">i</span><span class="op" id="5894948">++</span>&nbsp;<span class="op" id="5894951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5894955">if</span>&nbsp;<span class="ident" id="5894958">state</span><span class="op" id="5894963">.</span><span class="ident" id="5894964">b</span><span class="op" id="5894965">.</span><span class="ident" id="5894966">Len</span><span class="op" id="5894969">(</span><span class="op" id="5894970">)</span>&nbsp;<span class="op" id="5894972">==</span>&nbsp;<span class="num" id="5894975">0</span>&nbsp;<span class="op" id="5894977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5894982">errorf</span><span class="op" id="5894988">(</span><span class="string" id="5894989">&#34;decoding&nbsp;string&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5895062">,</span>&nbsp;<span class="ident" id="5895064">length</span><span class="op" id="5895070">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895078">u</span>&nbsp;<span class="op" id="5895080">:=</span>&nbsp;<span class="ident" id="5895083">state</span><span class="op" id="5895088">.</span><span class="ident" id="5895089">decodeUint</span><span class="op" id="5895099">(</span><span class="op" id="5895100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895104">n</span>&nbsp;<span class="op" id="5895106">:=</span>&nbsp;<span class="builtintype" id="5895109">int</span><span class="op" id="5895112">(</span><span class="ident" id="5895113">u</span><span class="op" id="5895114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895118">if</span>&nbsp;<span class="ident" id="5895121">n</span>&nbsp;<span class="op" id="5895123">&lt;</span>&nbsp;<span class="num" id="5895125">0</span>&nbsp;<span class="op" id="5895127">||</span>&nbsp;<span class="ident" id="5895130">uint64</span><span class="op" id="5895136">(</span><span class="ident" id="5895137">n</span><span class="op" id="5895138">)</span>&nbsp;<span class="op" id="5895140">!=</span>&nbsp;<span class="ident" id="5895143">u</span>&nbsp;<span class="op" id="5895145">||</span>&nbsp;<span class="ident" id="5895148">n</span>&nbsp;<span class="op" id="5895150">&gt;</span>&nbsp;<span class="ident" id="5895152">state</span><span class="op" id="5895157">.</span><span class="ident" id="5895158">b</span><span class="op" id="5895159">.</span><span class="ident" id="5895160">Len</span><span class="op" id="5895163">(</span><span class="op" id="5895164">)</span>&nbsp;<span class="op" id="5895166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895171">errorf</span><span class="op" id="5895177">(</span><span class="string" id="5895178">&#34;length&nbsp;of&nbsp;string&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;bytes)&#34;</span><span class="op" id="5895226">,</span>&nbsp;<span class="ident" id="5895228">u</span><span class="op" id="5895229">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895237">if</span>&nbsp;<span class="ident" id="5895240">n</span>&nbsp;<span class="op" id="5895242">&gt;</span>&nbsp;<span class="ident" id="5895244">state</span><span class="op" id="5895249">.</span><span class="ident" id="5895250">b</span><span class="op" id="5895251">.</span><span class="ident" id="5895252">Len</span><span class="op" id="5895255">(</span><span class="op" id="5895256">)</span>&nbsp;<span class="op" id="5895258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895263">errorf</span><span class="op" id="5895269">(</span><span class="string" id="5895270">&#34;string&nbsp;data&nbsp;too&nbsp;long&nbsp;for&nbsp;buffer:&nbsp;%d&#34;</span><span class="op" id="5895307">,</span>&nbsp;<span class="ident" id="5895309">n</span><span class="op" id="5895310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5895318">//&nbsp;Read&nbsp;the&nbsp;data.</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895338">data</span>&nbsp;<span class="op" id="5895343">:=</span>&nbsp;<span class="builtinfunc" id="5895346">make</span><span class="op" id="5895350">(</span><span class="op" id="5895351">[</span><span class="op" id="5895352">]</span><span class="builtintype" id="5895353">byte</span><span class="op" id="5895357">,</span>&nbsp;<span class="ident" id="5895359">n</span><span class="op" id="5895360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895364">if</span>&nbsp;<span class="ident" id="5895367">_</span><span class="op" id="5895368">,</span>&nbsp;<span class="ident" id="5895370">err</span>&nbsp;<span class="op" id="5895374">:=</span>&nbsp;<span class="ident" id="5895377">state</span><span class="op" id="5895382">.</span><span class="ident" id="5895383">b</span><span class="op" id="5895384">.</span><span class="ident" id="5895385">Read</span><span class="op" id="5895389">(</span><span class="ident" id="5895390">data</span><span class="op" id="5895394">)</span><span class="op" id="5895395">;</span>&nbsp;<span class="ident" id="5895397">err</span>&nbsp;<span class="op" id="5895401">!=</span>&nbsp;<span class="ident" id="5895404">nil</span>&nbsp;<span class="op" id="5895408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895413">errorf</span><span class="op" id="5895419">(</span><span class="string" id="5895420">&#34;error&nbsp;decoding&nbsp;string:&nbsp;%s&#34;</span><span class="op" id="5895447">,</span>&nbsp;<span class="ident" id="5895449">err</span><span class="op" id="5895452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895460">slice</span><span class="op" id="5895465">[</span><span class="ident" id="5895466">i</span><span class="op" id="5895467">]</span>&nbsp;<span class="op" id="5895469">=</span>&nbsp;<span class="builtintype" id="5895471">string</span><span class="op" id="5895477">(</span><span class="ident" id="5895478">data</span><span class="op" id="5895482">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895488">return</span>&nbsp;<span class="builtintype" id="5895495">true</span><br>
<span class="lineno"></span><span class="op" id="5895500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5895503">func</span>&nbsp;<span class="ident" id="5895508">decUintArray</span><span class="op" id="5895520">(</span><span class="ident" id="5895521">state</span>&nbsp;<span class="op" id="5895527">*</span><span class="ident" id="5895528">decoderState</span><span class="op" id="5895540">,</span>&nbsp;<span class="ident" id="5895542">v</span>&nbsp;<span class="ident" id="5895544">reflect</span><span class="op" id="5895551">.</span><span class="ident" id="5895552">Value</span><span class="op" id="5895557">,</span>&nbsp;<span class="ident" id="5895559">length</span>&nbsp;<span class="builtintype" id="5895566">int</span><span class="op" id="5895569">,</span>&nbsp;<span class="ident" id="5895571">ovfl</span>&nbsp;<span class="builtintype" id="5895576">error</span><span class="op" id="5895581">)</span>&nbsp;<span class="builtintype" id="5895583">bool</span>&nbsp;<span class="op" id="5895588">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5895591">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895632">if</span>&nbsp;<span class="op" id="5895635">!</span><span class="ident" id="5895636">v</span><span class="op" id="5895637">.</span><span class="ident" id="5895638">CanAddr</span><span class="op" id="5895645">(</span><span class="op" id="5895646">)</span>&nbsp;<span class="op" id="5895648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895652">return</span>&nbsp;<span class="builtintype" id="5895659">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895666">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895669">return</span>&nbsp;<span class="ident" id="5895676">decUintSlice</span><span class="op" id="5895688">(</span><span class="ident" id="5895689">state</span><span class="op" id="5895694">,</span>&nbsp;<span class="ident" id="5895696">v</span><span class="op" id="5895697">.</span><span class="ident" id="5895698">Slice</span><span class="op" id="5895703">(</span><span class="num" id="5895704">0</span><span class="op" id="5895705">,</span>&nbsp;<span class="ident" id="5895707">v</span><span class="op" id="5895708">.</span><span class="ident" id="5895709">Len</span><span class="op" id="5895712">(</span><span class="op" id="5895713">)</span><span class="op" id="5895714">)</span><span class="op" id="5895715">,</span>&nbsp;<span class="ident" id="5895717">length</span><span class="op" id="5895723">,</span>&nbsp;<span class="ident" id="5895725">ovfl</span><span class="op" id="5895729">)</span><br>
<span class="lineno">345</span><span class="op" id="5895731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5895734">func</span>&nbsp;<span class="ident" id="5895739">decUintSlice</span><span class="op" id="5895751">(</span><span class="ident" id="5895752">state</span>&nbsp;<span class="op" id="5895758">*</span><span class="ident" id="5895759">decoderState</span><span class="op" id="5895771">,</span>&nbsp;<span class="ident" id="5895773">v</span>&nbsp;<span class="ident" id="5895775">reflect</span><span class="op" id="5895782">.</span><span class="ident" id="5895783">Value</span><span class="op" id="5895788">,</span>&nbsp;<span class="ident" id="5895790">length</span>&nbsp;<span class="builtintype" id="5895797">int</span><span class="op" id="5895800">,</span>&nbsp;<span class="ident" id="5895802">ovfl</span>&nbsp;<span class="builtintype" id="5895807">error</span><span class="op" id="5895812">)</span>&nbsp;<span class="builtintype" id="5895814">bool</span>&nbsp;<span class="op" id="5895819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5895822">slice</span><span class="op" id="5895827">,</span>&nbsp;<span class="ident" id="5895829">ok</span>&nbsp;<span class="op" id="5895832">:=</span>&nbsp;<span class="ident" id="5895835">v</span><span class="op" id="5895836">.</span><span class="ident" id="5895837">Interface</span><span class="op" id="5895846">(</span><span class="op" id="5895847">)</span><span class="op" id="5895848">.</span><span class="op" id="5895849">(</span><span class="op" id="5895850">[</span><span class="op" id="5895851">]</span><span class="builtintype" id="5895852">uint</span><span class="op" id="5895856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895859">if</span>&nbsp;<span class="op" id="5895862">!</span><span class="ident" id="5895863">ok</span>&nbsp;<span class="op" id="5895866">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5895870">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint&nbsp;but&nbsp;not&nbsp;type&nbsp;uint.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895945">return</span>&nbsp;<span class="builtintype" id="5895952">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5895959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895962">for</span>&nbsp;<span class="ident" id="5895966">i</span>&nbsp;<span class="op" id="5895968">:=</span>&nbsp;<span class="num" id="5895971">0</span><span class="op" id="5895972">;</span>&nbsp;<span class="ident" id="5895974">i</span>&nbsp;<span class="op" id="5895976">&lt;</span>&nbsp;<span class="ident" id="5895978">length</span><span class="op" id="5895984">;</span>&nbsp;<span class="ident" id="5895986">i</span><span class="op" id="5895987">++</span>&nbsp;<span class="op" id="5895990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5895994">if</span>&nbsp;<span class="ident" id="5895997">state</span><span class="op" id="5896002">.</span><span class="ident" id="5896003">b</span><span class="op" id="5896004">.</span><span class="ident" id="5896005">Len</span><span class="op" id="5896008">(</span><span class="op" id="5896009">)</span>&nbsp;<span class="op" id="5896011">==</span>&nbsp;<span class="num" id="5896014">0</span>&nbsp;<span class="op" id="5896016">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896021">errorf</span><span class="op" id="5896027">(</span><span class="string" id="5896028">&#34;decoding&nbsp;uint&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5896099">,</span>&nbsp;<span class="ident" id="5896101">length</span><span class="op" id="5896107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896111">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896115">x</span>&nbsp;<span class="op" id="5896117">:=</span>&nbsp;<span class="ident" id="5896120">state</span><span class="op" id="5896125">.</span><span class="ident" id="5896126">decodeUint</span><span class="op" id="5896136">(</span><span class="op" id="5896137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5896141">/*TODO&nbsp;if&nbsp;math.MaxUint32&nbsp;&lt;&nbsp;x&nbsp;{<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsperror_(ovfl)<br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp}*/</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896196">slice</span><span class="op" id="5896201">[</span><span class="ident" id="5896202">i</span><span class="op" id="5896203">]</span>&nbsp;<span class="op" id="5896205">=</span>&nbsp;<span class="builtintype" id="5896207">uint</span><span class="op" id="5896211">(</span><span class="ident" id="5896212">x</span><span class="op" id="5896213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896219">return</span>&nbsp;<span class="builtintype" id="5896226">true</span><br>
<span class="lineno"></span><span class="op" id="5896231">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span><span class="keyword" id="5896234">func</span>&nbsp;<span class="ident" id="5896239">decUint16Array</span><span class="op" id="5896253">(</span><span class="ident" id="5896254">state</span>&nbsp;<span class="op" id="5896260">*</span><span class="ident" id="5896261">decoderState</span><span class="op" id="5896273">,</span>&nbsp;<span class="ident" id="5896275">v</span>&nbsp;<span class="ident" id="5896277">reflect</span><span class="op" id="5896284">.</span><span class="ident" id="5896285">Value</span><span class="op" id="5896290">,</span>&nbsp;<span class="ident" id="5896292">length</span>&nbsp;<span class="builtintype" id="5896299">int</span><span class="op" id="5896302">,</span>&nbsp;<span class="ident" id="5896304">ovfl</span>&nbsp;<span class="builtintype" id="5896309">error</span><span class="op" id="5896314">)</span>&nbsp;<span class="builtintype" id="5896316">bool</span>&nbsp;<span class="op" id="5896321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5896324">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896365">if</span>&nbsp;<span class="op" id="5896368">!</span><span class="ident" id="5896369">v</span><span class="op" id="5896370">.</span><span class="ident" id="5896371">CanAddr</span><span class="op" id="5896378">(</span><span class="op" id="5896379">)</span>&nbsp;<span class="op" id="5896381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896385">return</span>&nbsp;<span class="builtintype" id="5896392">false</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896402">return</span>&nbsp;<span class="ident" id="5896409">decUint16Slice</span><span class="op" id="5896423">(</span><span class="ident" id="5896424">state</span><span class="op" id="5896429">,</span>&nbsp;<span class="ident" id="5896431">v</span><span class="op" id="5896432">.</span><span class="ident" id="5896433">Slice</span><span class="op" id="5896438">(</span><span class="num" id="5896439">0</span><span class="op" id="5896440">,</span>&nbsp;<span class="ident" id="5896442">v</span><span class="op" id="5896443">.</span><span class="ident" id="5896444">Len</span><span class="op" id="5896447">(</span><span class="op" id="5896448">)</span><span class="op" id="5896449">)</span><span class="op" id="5896450">,</span>&nbsp;<span class="ident" id="5896452">length</span><span class="op" id="5896458">,</span>&nbsp;<span class="ident" id="5896460">ovfl</span><span class="op" id="5896464">)</span><br>
<span class="lineno"></span><span class="op" id="5896466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5896469">func</span>&nbsp;<span class="ident" id="5896474">decUint16Slice</span><span class="op" id="5896488">(</span><span class="ident" id="5896489">state</span>&nbsp;<span class="op" id="5896495">*</span><span class="ident" id="5896496">decoderState</span><span class="op" id="5896508">,</span>&nbsp;<span class="ident" id="5896510">v</span>&nbsp;<span class="ident" id="5896512">reflect</span><span class="op" id="5896519">.</span><span class="ident" id="5896520">Value</span><span class="op" id="5896525">,</span>&nbsp;<span class="ident" id="5896527">length</span>&nbsp;<span class="builtintype" id="5896534">int</span><span class="op" id="5896537">,</span>&nbsp;<span class="ident" id="5896539">ovfl</span>&nbsp;<span class="builtintype" id="5896544">error</span><span class="op" id="5896549">)</span>&nbsp;<span class="builtintype" id="5896551">bool</span>&nbsp;<span class="op" id="5896556">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896559">slice</span><span class="op" id="5896564">,</span>&nbsp;<span class="ident" id="5896566">ok</span>&nbsp;<span class="op" id="5896569">:=</span>&nbsp;<span class="ident" id="5896572">v</span><span class="op" id="5896573">.</span><span class="ident" id="5896574">Interface</span><span class="op" id="5896583">(</span><span class="op" id="5896584">)</span><span class="op" id="5896585">.</span><span class="op" id="5896586">(</span><span class="op" id="5896587">[</span><span class="op" id="5896588">]</span><span class="builtintype" id="5896589">uint16</span><span class="op" id="5896595">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896598">if</span>&nbsp;<span class="op" id="5896601">!</span><span class="ident" id="5896602">ok</span>&nbsp;<span class="op" id="5896605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5896609">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint16&nbsp;but&nbsp;not&nbsp;type&nbsp;uint16.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896688">return</span>&nbsp;<span class="builtintype" id="5896695">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896702">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896705">for</span>&nbsp;<span class="ident" id="5896709">i</span>&nbsp;<span class="op" id="5896711">:=</span>&nbsp;<span class="num" id="5896714">0</span><span class="op" id="5896715">;</span>&nbsp;<span class="ident" id="5896717">i</span>&nbsp;<span class="op" id="5896719">&lt;</span>&nbsp;<span class="ident" id="5896721">length</span><span class="op" id="5896727">;</span>&nbsp;<span class="ident" id="5896729">i</span><span class="op" id="5896730">++</span>&nbsp;<span class="op" id="5896733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896737">if</span>&nbsp;<span class="ident" id="5896740">state</span><span class="op" id="5896745">.</span><span class="ident" id="5896746">b</span><span class="op" id="5896747">.</span><span class="ident" id="5896748">Len</span><span class="op" id="5896751">(</span><span class="op" id="5896752">)</span>&nbsp;<span class="op" id="5896754">==</span>&nbsp;<span class="num" id="5896757">0</span>&nbsp;<span class="op" id="5896759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896764">errorf</span><span class="op" id="5896770">(</span><span class="string" id="5896771">&#34;decoding&nbsp;uint16&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5896844">,</span>&nbsp;<span class="ident" id="5896846">length</span><span class="op" id="5896852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896860">x</span>&nbsp;<span class="op" id="5896862">:=</span>&nbsp;<span class="ident" id="5896865">state</span><span class="op" id="5896870">.</span><span class="ident" id="5896871">decodeUint</span><span class="op" id="5896881">(</span><span class="op" id="5896882">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896886">if</span>&nbsp;<span class="ident" id="5896889">math</span><span class="op" id="5896893">.</span><span class="ident" id="5896894">MaxUint16</span>&nbsp;<span class="op" id="5896904">&lt;</span>&nbsp;<span class="ident" id="5896906">x</span>&nbsp;<span class="op" id="5896908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896913">error_</span><span class="op" id="5896919">(</span><span class="ident" id="5896920">ovfl</span><span class="op" id="5896924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5896932">slice</span><span class="op" id="5896937">[</span><span class="ident" id="5896938">i</span><span class="op" id="5896939">]</span>&nbsp;<span class="op" id="5896941">=</span>&nbsp;<span class="builtintype" id="5896943">uint16</span><span class="op" id="5896949">(</span><span class="ident" id="5896950">x</span><span class="op" id="5896951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5896954">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5896957">return</span>&nbsp;<span class="builtintype" id="5896964">true</span><br>
<span class="lineno"></span><span class="op" id="5896969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5896972">func</span>&nbsp;<span class="ident" id="5896977">decUint32Array</span><span class="op" id="5896991">(</span><span class="ident" id="5896992">state</span>&nbsp;<span class="op" id="5896998">*</span><span class="ident" id="5896999">decoderState</span><span class="op" id="5897011">,</span>&nbsp;<span class="ident" id="5897013">v</span>&nbsp;<span class="ident" id="5897015">reflect</span><span class="op" id="5897022">.</span><span class="ident" id="5897023">Value</span><span class="op" id="5897028">,</span>&nbsp;<span class="ident" id="5897030">length</span>&nbsp;<span class="builtintype" id="5897037">int</span><span class="op" id="5897040">,</span>&nbsp;<span class="ident" id="5897042">ovfl</span>&nbsp;<span class="builtintype" id="5897047">error</span><span class="op" id="5897052">)</span>&nbsp;<span class="builtintype" id="5897054">bool</span>&nbsp;<span class="op" id="5897059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5897062">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897103">if</span>&nbsp;<span class="op" id="5897106">!</span><span class="ident" id="5897107">v</span><span class="op" id="5897108">.</span><span class="ident" id="5897109">CanAddr</span><span class="op" id="5897116">(</span><span class="op" id="5897117">)</span>&nbsp;<span class="op" id="5897119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897123">return</span>&nbsp;<span class="builtintype" id="5897130">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5897137">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897140">return</span>&nbsp;<span class="ident" id="5897147">decUint32Slice</span><span class="op" id="5897161">(</span><span class="ident" id="5897162">state</span><span class="op" id="5897167">,</span>&nbsp;<span class="ident" id="5897169">v</span><span class="op" id="5897170">.</span><span class="ident" id="5897171">Slice</span><span class="op" id="5897176">(</span><span class="num" id="5897177">0</span><span class="op" id="5897178">,</span>&nbsp;<span class="ident" id="5897180">v</span><span class="op" id="5897181">.</span><span class="ident" id="5897182">Len</span><span class="op" id="5897185">(</span><span class="op" id="5897186">)</span><span class="op" id="5897187">)</span><span class="op" id="5897188">,</span>&nbsp;<span class="ident" id="5897190">length</span><span class="op" id="5897196">,</span>&nbsp;<span class="ident" id="5897198">ovfl</span><span class="op" id="5897202">)</span><br>
<span class="lineno"></span><span class="op" id="5897204">}</span><br>
<span class="lineno">400</span><br>
<span class="lineno"></span><span class="keyword" id="5897207">func</span>&nbsp;<span class="ident" id="5897212">decUint32Slice</span><span class="op" id="5897226">(</span><span class="ident" id="5897227">state</span>&nbsp;<span class="op" id="5897233">*</span><span class="ident" id="5897234">decoderState</span><span class="op" id="5897246">,</span>&nbsp;<span class="ident" id="5897248">v</span>&nbsp;<span class="ident" id="5897250">reflect</span><span class="op" id="5897257">.</span><span class="ident" id="5897258">Value</span><span class="op" id="5897263">,</span>&nbsp;<span class="ident" id="5897265">length</span>&nbsp;<span class="builtintype" id="5897272">int</span><span class="op" id="5897275">,</span>&nbsp;<span class="ident" id="5897277">ovfl</span>&nbsp;<span class="builtintype" id="5897282">error</span><span class="op" id="5897287">)</span>&nbsp;<span class="builtintype" id="5897289">bool</span>&nbsp;<span class="op" id="5897294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5897297">slice</span><span class="op" id="5897302">,</span>&nbsp;<span class="ident" id="5897304">ok</span>&nbsp;<span class="op" id="5897307">:=</span>&nbsp;<span class="ident" id="5897310">v</span><span class="op" id="5897311">.</span><span class="ident" id="5897312">Interface</span><span class="op" id="5897321">(</span><span class="op" id="5897322">)</span><span class="op" id="5897323">.</span><span class="op" id="5897324">(</span><span class="op" id="5897325">[</span><span class="op" id="5897326">]</span><span class="builtintype" id="5897327">uint32</span><span class="op" id="5897333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897336">if</span>&nbsp;<span class="op" id="5897339">!</span><span class="ident" id="5897340">ok</span>&nbsp;<span class="op" id="5897343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5897347">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint32&nbsp;but&nbsp;not&nbsp;type&nbsp;uint32.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897426">return</span>&nbsp;<span class="builtintype" id="5897433">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5897440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897443">for</span>&nbsp;<span class="ident" id="5897447">i</span>&nbsp;<span class="op" id="5897449">:=</span>&nbsp;<span class="num" id="5897452">0</span><span class="op" id="5897453">;</span>&nbsp;<span class="ident" id="5897455">i</span>&nbsp;<span class="op" id="5897457">&lt;</span>&nbsp;<span class="ident" id="5897459">length</span><span class="op" id="5897465">;</span>&nbsp;<span class="ident" id="5897467">i</span><span class="op" id="5897468">++</span>&nbsp;<span class="op" id="5897471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897475">if</span>&nbsp;<span class="ident" id="5897478">state</span><span class="op" id="5897483">.</span><span class="ident" id="5897484">b</span><span class="op" id="5897485">.</span><span class="ident" id="5897486">Len</span><span class="op" id="5897489">(</span><span class="op" id="5897490">)</span>&nbsp;<span class="op" id="5897492">==</span>&nbsp;<span class="num" id="5897495">0</span>&nbsp;<span class="op" id="5897497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5897502">errorf</span><span class="op" id="5897508">(</span><span class="string" id="5897509">&#34;decoding&nbsp;uint32&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5897582">,</span>&nbsp;<span class="ident" id="5897584">length</span><span class="op" id="5897590">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5897594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5897598">x</span>&nbsp;<span class="op" id="5897600">:=</span>&nbsp;<span class="ident" id="5897603">state</span><span class="op" id="5897608">.</span><span class="ident" id="5897609">decodeUint</span><span class="op" id="5897619">(</span><span class="op" id="5897620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897624">if</span>&nbsp;<span class="ident" id="5897627">math</span><span class="op" id="5897631">.</span><span class="ident" id="5897632">MaxUint32</span>&nbsp;<span class="op" id="5897642">&lt;</span>&nbsp;<span class="ident" id="5897644">x</span>&nbsp;<span class="op" id="5897646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5897651">error_</span><span class="op" id="5897657">(</span><span class="ident" id="5897658">ovfl</span><span class="op" id="5897662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5897666">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5897670">slice</span><span class="op" id="5897675">[</span><span class="ident" id="5897676">i</span><span class="op" id="5897677">]</span>&nbsp;<span class="op" id="5897679">=</span>&nbsp;<span class="builtintype" id="5897681">uint32</span><span class="op" id="5897687">(</span><span class="ident" id="5897688">x</span><span class="op" id="5897689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5897692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897695">return</span>&nbsp;<span class="builtintype" id="5897702">true</span><br>
<span class="lineno"></span><span class="op" id="5897707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">420</span><span class="keyword" id="5897710">func</span>&nbsp;<span class="ident" id="5897715">decUint64Array</span><span class="op" id="5897729">(</span><span class="ident" id="5897730">state</span>&nbsp;<span class="op" id="5897736">*</span><span class="ident" id="5897737">decoderState</span><span class="op" id="5897749">,</span>&nbsp;<span class="ident" id="5897751">v</span>&nbsp;<span class="ident" id="5897753">reflect</span><span class="op" id="5897760">.</span><span class="ident" id="5897761">Value</span><span class="op" id="5897766">,</span>&nbsp;<span class="ident" id="5897768">length</span>&nbsp;<span class="builtintype" id="5897775">int</span><span class="op" id="5897778">,</span>&nbsp;<span class="ident" id="5897780">ovfl</span>&nbsp;<span class="builtintype" id="5897785">error</span><span class="op" id="5897790">)</span>&nbsp;<span class="builtintype" id="5897792">bool</span>&nbsp;<span class="op" id="5897797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5897800">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897841">if</span>&nbsp;<span class="op" id="5897844">!</span><span class="ident" id="5897845">v</span><span class="op" id="5897846">.</span><span class="ident" id="5897847">CanAddr</span><span class="op" id="5897854">(</span><span class="op" id="5897855">)</span>&nbsp;<span class="op" id="5897857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897861">return</span>&nbsp;<span class="builtintype" id="5897868">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5897875">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5897878">return</span>&nbsp;<span class="ident" id="5897885">decUint64Slice</span><span class="op" id="5897899">(</span><span class="ident" id="5897900">state</span><span class="op" id="5897905">,</span>&nbsp;<span class="ident" id="5897907">v</span><span class="op" id="5897908">.</span><span class="ident" id="5897909">Slice</span><span class="op" id="5897914">(</span><span class="num" id="5897915">0</span><span class="op" id="5897916">,</span>&nbsp;<span class="ident" id="5897918">v</span><span class="op" id="5897919">.</span><span class="ident" id="5897920">Len</span><span class="op" id="5897923">(</span><span class="op" id="5897924">)</span><span class="op" id="5897925">)</span><span class="op" id="5897926">,</span>&nbsp;<span class="ident" id="5897928">length</span><span class="op" id="5897934">,</span>&nbsp;<span class="ident" id="5897936">ovfl</span><span class="op" id="5897940">)</span><br>
<span class="lineno"></span><span class="op" id="5897942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5897945">func</span>&nbsp;<span class="ident" id="5897950">decUint64Slice</span><span class="op" id="5897964">(</span><span class="ident" id="5897965">state</span>&nbsp;<span class="op" id="5897971">*</span><span class="ident" id="5897972">decoderState</span><span class="op" id="5897984">,</span>&nbsp;<span class="ident" id="5897986">v</span>&nbsp;<span class="ident" id="5897988">reflect</span><span class="op" id="5897995">.</span><span class="ident" id="5897996">Value</span><span class="op" id="5898001">,</span>&nbsp;<span class="ident" id="5898003">length</span>&nbsp;<span class="builtintype" id="5898010">int</span><span class="op" id="5898013">,</span>&nbsp;<span class="ident" id="5898015">ovfl</span>&nbsp;<span class="builtintype" id="5898020">error</span><span class="op" id="5898025">)</span>&nbsp;<span class="builtintype" id="5898027">bool</span>&nbsp;<span class="op" id="5898032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5898035">slice</span><span class="op" id="5898040">,</span>&nbsp;<span class="ident" id="5898042">ok</span>&nbsp;<span class="op" id="5898045">:=</span>&nbsp;<span class="ident" id="5898048">v</span><span class="op" id="5898049">.</span><span class="ident" id="5898050">Interface</span><span class="op" id="5898059">(</span><span class="op" id="5898060">)</span><span class="op" id="5898061">.</span><span class="op" id="5898062">(</span><span class="op" id="5898063">[</span><span class="op" id="5898064">]</span><span class="ident" id="5898065">uint64</span><span class="op" id="5898071">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898074">if</span>&nbsp;<span class="op" id="5898077">!</span><span class="ident" id="5898078">ok</span>&nbsp;<span class="op" id="5898081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5898085">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uint64&nbsp;but&nbsp;not&nbsp;type&nbsp;uint64.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898164">return</span>&nbsp;<span class="builtintype" id="5898171">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5898178">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898181">for</span>&nbsp;<span class="ident" id="5898185">i</span>&nbsp;<span class="op" id="5898187">:=</span>&nbsp;<span class="num" id="5898190">0</span><span class="op" id="5898191">;</span>&nbsp;<span class="ident" id="5898193">i</span>&nbsp;<span class="op" id="5898195">&lt;</span>&nbsp;<span class="ident" id="5898197">length</span><span class="op" id="5898203">;</span>&nbsp;<span class="ident" id="5898205">i</span><span class="op" id="5898206">++</span>&nbsp;<span class="op" id="5898209">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898213">if</span>&nbsp;<span class="ident" id="5898216">state</span><span class="op" id="5898221">.</span><span class="ident" id="5898222">b</span><span class="op" id="5898223">.</span><span class="ident" id="5898224">Len</span><span class="op" id="5898227">(</span><span class="op" id="5898228">)</span>&nbsp;<span class="op" id="5898230">==</span>&nbsp;<span class="num" id="5898233">0</span>&nbsp;<span class="op" id="5898235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5898240">errorf</span><span class="op" id="5898246">(</span><span class="string" id="5898247">&#34;decoding&nbsp;uint64&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5898320">,</span>&nbsp;<span class="ident" id="5898322">length</span><span class="op" id="5898328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5898332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5898336">slice</span><span class="op" id="5898341">[</span><span class="ident" id="5898342">i</span><span class="op" id="5898343">]</span>&nbsp;<span class="op" id="5898345">=</span>&nbsp;<span class="ident" id="5898347">state</span><span class="op" id="5898352">.</span><span class="ident" id="5898353">decodeUint</span><span class="op" id="5898363">(</span><span class="op" id="5898364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5898367">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898370">return</span>&nbsp;<span class="builtintype" id="5898377">true</span><br>
<span class="lineno"></span><span class="op" id="5898382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5898385">func</span>&nbsp;<span class="ident" id="5898390">decUintptrArray</span><span class="op" id="5898405">(</span><span class="ident" id="5898406">state</span>&nbsp;<span class="op" id="5898412">*</span><span class="ident" id="5898413">decoderState</span><span class="op" id="5898425">,</span>&nbsp;<span class="ident" id="5898427">v</span>&nbsp;<span class="ident" id="5898429">reflect</span><span class="op" id="5898436">.</span><span class="ident" id="5898437">Value</span><span class="op" id="5898442">,</span>&nbsp;<span class="ident" id="5898444">length</span>&nbsp;<span class="builtintype" id="5898451">int</span><span class="op" id="5898454">,</span>&nbsp;<span class="ident" id="5898456">ovfl</span>&nbsp;<span class="builtintype" id="5898461">error</span><span class="op" id="5898466">)</span>&nbsp;<span class="builtintype" id="5898468">bool</span>&nbsp;<span class="op" id="5898473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5898476">//&nbsp;Can&nbsp;only&nbsp;slice&nbsp;if&nbsp;it&nbsp;is&nbsp;addressable.</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898517">if</span>&nbsp;<span class="op" id="5898520">!</span><span class="ident" id="5898521">v</span><span class="op" id="5898522">.</span><span class="ident" id="5898523">CanAddr</span><span class="op" id="5898530">(</span><span class="op" id="5898531">)</span>&nbsp;<span class="op" id="5898533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898537">return</span>&nbsp;<span class="builtintype" id="5898544">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5898551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898554">return</span>&nbsp;<span class="ident" id="5898561">decUintptrSlice</span><span class="op" id="5898576">(</span><span class="ident" id="5898577">state</span><span class="op" id="5898582">,</span>&nbsp;<span class="ident" id="5898584">v</span><span class="op" id="5898585">.</span><span class="ident" id="5898586">Slice</span><span class="op" id="5898591">(</span><span class="num" id="5898592">0</span><span class="op" id="5898593">,</span>&nbsp;<span class="ident" id="5898595">v</span><span class="op" id="5898596">.</span><span class="ident" id="5898597">Len</span><span class="op" id="5898600">(</span><span class="op" id="5898601">)</span><span class="op" id="5898602">)</span><span class="op" id="5898603">,</span>&nbsp;<span class="ident" id="5898605">length</span><span class="op" id="5898611">,</span>&nbsp;<span class="ident" id="5898613">ovfl</span><span class="op" id="5898617">)</span><br>
<span class="lineno"></span><span class="op" id="5898619">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="5898622">func</span>&nbsp;<span class="ident" id="5898627">decUintptrSlice</span><span class="op" id="5898642">(</span><span class="ident" id="5898643">state</span>&nbsp;<span class="op" id="5898649">*</span><span class="ident" id="5898650">decoderState</span><span class="op" id="5898662">,</span>&nbsp;<span class="ident" id="5898664">v</span>&nbsp;<span class="ident" id="5898666">reflect</span><span class="op" id="5898673">.</span><span class="ident" id="5898674">Value</span><span class="op" id="5898679">,</span>&nbsp;<span class="ident" id="5898681">length</span>&nbsp;<span class="builtintype" id="5898688">int</span><span class="op" id="5898691">,</span>&nbsp;<span class="ident" id="5898693">ovfl</span>&nbsp;<span class="builtintype" id="5898698">error</span><span class="op" id="5898703">)</span>&nbsp;<span class="builtintype" id="5898705">bool</span>&nbsp;<span class="op" id="5898710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5898713">slice</span><span class="op" id="5898718">,</span>&nbsp;<span class="ident" id="5898720">ok</span>&nbsp;<span class="op" id="5898723">:=</span>&nbsp;<span class="ident" id="5898726">v</span><span class="op" id="5898727">.</span><span class="ident" id="5898728">Interface</span><span class="op" id="5898737">(</span><span class="op" id="5898738">)</span><span class="op" id="5898739">.</span><span class="op" id="5898740">(</span><span class="op" id="5898741">[</span><span class="op" id="5898742">]</span><span class="builtintype" id="5898743">uintptr</span><span class="op" id="5898750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898753">if</span>&nbsp;<span class="op" id="5898756">!</span><span class="ident" id="5898757">ok</span>&nbsp;<span class="op" id="5898760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5898764">//&nbsp;It&nbsp;is&nbsp;kind&nbsp;uintptr&nbsp;but&nbsp;not&nbsp;type&nbsp;uintptr.&nbsp;TODO:&nbsp;We&nbsp;can&nbsp;handle&nbsp;this&nbsp;unsafely.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898845">return</span>&nbsp;<span class="builtintype" id="5898852">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5898859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898862">for</span>&nbsp;<span class="ident" id="5898866">i</span>&nbsp;<span class="op" id="5898868">:=</span>&nbsp;<span class="num" id="5898871">0</span><span class="op" id="5898872">;</span>&nbsp;<span class="ident" id="5898874">i</span>&nbsp;<span class="op" id="5898876">&lt;</span>&nbsp;<span class="ident" id="5898878">length</span><span class="op" id="5898884">;</span>&nbsp;<span class="ident" id="5898886">i</span><span class="op" id="5898887">++</span>&nbsp;<span class="op" id="5898890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5898894">if</span>&nbsp;<span class="ident" id="5898897">state</span><span class="op" id="5898902">.</span><span class="ident" id="5898903">b</span><span class="op" id="5898904">.</span><span class="ident" id="5898905">Len</span><span class="op" id="5898908">(</span><span class="op" id="5898909">)</span>&nbsp;<span class="op" id="5898911">==</span>&nbsp;<span class="num" id="5898914">0</span>&nbsp;<span class="op" id="5898916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5898921">errorf</span><span class="op" id="5898927">(</span><span class="string" id="5898928">&#34;decoding&nbsp;uintptr&nbsp;array&nbsp;or&nbsp;slice:&nbsp;length&nbsp;exceeds&nbsp;input&nbsp;size&nbsp;(%d&nbsp;elements)&#34;</span><span class="op" id="5899002">,</span>&nbsp;<span class="ident" id="5899004">length</span><span class="op" id="5899010">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5899014">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5899018">x</span>&nbsp;<span class="op" id="5899020">:=</span>&nbsp;<span class="ident" id="5899023">state</span><span class="op" id="5899028">.</span><span class="ident" id="5899029">decodeUint</span><span class="op" id="5899039">(</span><span class="op" id="5899040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5899044">if</span>&nbsp;<span class="ident" id="5899047">uint64</span><span class="op" id="5899053">(</span><span class="op" id="5899054">^</span><span class="builtintype" id="5899055">uintptr</span><span class="op" id="5899062">(</span><span class="num" id="5899063">0</span><span class="op" id="5899064">)</span><span class="op" id="5899065">)</span>&nbsp;<span class="op" id="5899067">&lt;</span>&nbsp;<span class="ident" id="5899069">x</span>&nbsp;<span class="op" id="5899071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5899076">error_</span><span class="op" id="5899082">(</span><span class="ident" id="5899083">ovfl</span><span class="op" id="5899087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5899091">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5899095">slice</span><span class="op" id="5899100">[</span><span class="ident" id="5899101">i</span><span class="op" id="5899102">]</span>&nbsp;<span class="op" id="5899104">=</span>&nbsp;<span class="builtintype" id="5899106">uintptr</span><span class="op" id="5899113">(</span><span class="ident" id="5899114">x</span><span class="op" id="5899115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5899118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5899121">return</span>&nbsp;<span class="builtintype" id="5899128">true</span><br>
<span class="lineno"></span><span class="op" id="5899133">}</span>
</div>
</body>
</html>
