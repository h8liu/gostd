<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html" class="current">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1436377">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1436432">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1436486">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1436537">package</span>&nbsp;<span class="ident" id="1436545">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1436554">import</span>&nbsp;<span class="string" id="1436561">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1436571">//&nbsp;The&nbsp;Error&nbsp;interface&nbsp;identifies&nbsp;a&nbsp;run&nbsp;time&nbsp;error.</span><br>
<span class="lineno">10</span><span class="keyword" id="1436623">type</span>&nbsp;<span class="ident" id="1436628">Error</span>&nbsp;<span class="keyword" id="1436634">interface</span>&nbsp;<span class="op" id="1436644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1436647">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1436655">//&nbsp;RuntimeError&nbsp;is&nbsp;a&nbsp;no-op&nbsp;function&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1436696">//&nbsp;serves&nbsp;to&nbsp;distinguish&nbsp;types&nbsp;that&nbsp;are&nbsp;runtime</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1436745">//&nbsp;errors&nbsp;from&nbsp;ordinary&nbsp;errors:&nbsp;a&nbsp;type&nbsp;is&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1436790">//&nbsp;runtime&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;a&nbsp;RuntimeError&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436841">RuntimeError</span><span class="op" id="1436853">(</span><span class="op" id="1436854">)</span><br>
<span class="lineno"></span><span class="op" id="1436856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1436859">//&nbsp;A&nbsp;TypeAssertionError&nbsp;explains&nbsp;a&nbsp;failed&nbsp;type&nbsp;assertion.</span><br>
<span class="lineno"></span><span class="keyword" id="1436917">type</span>&nbsp;<span class="ident" id="1436922">TypeAssertionError</span>&nbsp;<span class="keyword" id="1436941">struct</span>&nbsp;<span class="op" id="1436948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436951">interfaceString</span>&nbsp;<span class="builtintype" id="1436967">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436975">concreteString</span>&nbsp;&nbsp;<span class="builtintype" id="1436991">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1436999">assertedString</span>&nbsp;&nbsp;<span class="builtintype" id="1437015">string</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437023">missingMethod</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1437039">string</span>&nbsp;<span class="comment" id="1437046">//&nbsp;one&nbsp;method&nbsp;needed&nbsp;by&nbsp;Interface,&nbsp;missing&nbsp;from&nbsp;Concrete</span><br>
<span class="lineno"></span><span class="op" id="1437103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1437106">func</span>&nbsp;<span class="op" id="1437111">(</span><span class="op" id="1437112">*</span><span class="ident" id="1437113">TypeAssertionError</span><span class="op" id="1437131">)</span>&nbsp;<span class="ident" id="1437133">RuntimeError</span><span class="op" id="1437145">(</span><span class="op" id="1437146">)</span>&nbsp;<span class="op" id="1437148">{</span><span class="op" id="1437149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="keyword" id="1437152">func</span>&nbsp;<span class="op" id="1437157">(</span><span class="ident" id="1437158">e</span>&nbsp;<span class="op" id="1437160">*</span><span class="ident" id="1437161">TypeAssertionError</span><span class="op" id="1437179">)</span>&nbsp;<span class="ident" id="1437181">Error</span><span class="op" id="1437186">(</span><span class="op" id="1437187">)</span>&nbsp;<span class="builtintype" id="1437189">string</span>&nbsp;<span class="op" id="1437196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437199">inter</span>&nbsp;<span class="op" id="1437205">:=</span>&nbsp;<span class="ident" id="1437208">e</span><span class="op" id="1437209">.</span><span class="ident" id="1437210">interfaceString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437227">if</span>&nbsp;<span class="ident" id="1437230">inter</span>&nbsp;<span class="op" id="1437236">==</span>&nbsp;<span class="string" id="1437239">&#34;&#34;</span>&nbsp;<span class="op" id="1437242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437246">inter</span>&nbsp;<span class="op" id="1437252">=</span>&nbsp;<span class="string" id="1437254">&#34;interface&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437267">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437270">if</span>&nbsp;<span class="ident" id="1437273">e</span><span class="op" id="1437274">.</span><span class="ident" id="1437275">concreteString</span>&nbsp;<span class="op" id="1437290">==</span>&nbsp;<span class="string" id="1437293">&#34;&#34;</span>&nbsp;<span class="op" id="1437296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437300">return</span>&nbsp;<span class="string" id="1437307">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1437332">+</span>&nbsp;<span class="ident" id="1437334">inter</span>&nbsp;<span class="op" id="1437340">+</span>&nbsp;<span class="string" id="1437342">&#34;&nbsp;is&nbsp;nil,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1437358">+</span>&nbsp;<span class="ident" id="1437360">e</span><span class="op" id="1437361">.</span><span class="ident" id="1437362">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437378">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437381">if</span>&nbsp;<span class="ident" id="1437384">e</span><span class="op" id="1437385">.</span><span class="ident" id="1437386">missingMethod</span>&nbsp;<span class="op" id="1437400">==</span>&nbsp;<span class="string" id="1437403">&#34;&#34;</span>&nbsp;<span class="op" id="1437406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437410">return</span>&nbsp;<span class="string" id="1437417">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1437442">+</span>&nbsp;<span class="ident" id="1437444">inter</span>&nbsp;<span class="op" id="1437450">+</span>&nbsp;<span class="string" id="1437452">&#34;&nbsp;is&nbsp;&#34;</span>&nbsp;<span class="op" id="1437459">+</span>&nbsp;<span class="ident" id="1437461">e</span><span class="op" id="1437462">.</span><span class="ident" id="1437463">concreteString</span>&nbsp;<span class="op" id="1437478">+</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1437483">&#34;,&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1437492">+</span>&nbsp;<span class="ident" id="1437494">e</span><span class="op" id="1437495">.</span><span class="ident" id="1437496">assertedString</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437515">return</span>&nbsp;<span class="string" id="1437522">&#34;interface&nbsp;conversion:&nbsp;&#34;</span>&nbsp;<span class="op" id="1437547">+</span>&nbsp;<span class="ident" id="1437549">e</span><span class="op" id="1437550">.</span><span class="ident" id="1437551">concreteString</span>&nbsp;<span class="op" id="1437566">+</span>&nbsp;<span class="string" id="1437568">&#34;&nbsp;is&nbsp;not&nbsp;&#34;</span>&nbsp;<span class="op" id="1437579">+</span>&nbsp;<span class="ident" id="1437581">e</span><span class="op" id="1437582">.</span><span class="ident" id="1437583">assertedString</span>&nbsp;<span class="op" id="1437598">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="1437602">&#34;:&nbsp;missing&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1437622">+</span>&nbsp;<span class="ident" id="1437624">e</span><span class="op" id="1437625">.</span><span class="ident" id="1437626">missingMethod</span><br>
<span class="lineno"></span><span class="op" id="1437640">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1437643">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="keyword" id="1437666">func</span>&nbsp;<span class="ident" id="1437671">newTypeAssertionError</span><span class="op" id="1437692">(</span><span class="ident" id="1437693">ps1</span><span class="op" id="1437696">,</span>&nbsp;<span class="ident" id="1437698">ps2</span><span class="op" id="1437701">,</span>&nbsp;<span class="ident" id="1437703">ps3</span>&nbsp;<span class="op" id="1437707">*</span><span class="builtintype" id="1437708">string</span><span class="op" id="1437714">,</span>&nbsp;<span class="ident" id="1437716">pmeth</span>&nbsp;<span class="op" id="1437722">*</span><span class="builtintype" id="1437723">string</span><span class="op" id="1437729">,</span>&nbsp;<span class="ident" id="1437731">ret</span>&nbsp;<span class="op" id="1437735">*</span><span class="keyword" id="1437736">interface</span><span class="op" id="1437745">{</span><span class="op" id="1437746">}</span><span class="op" id="1437747">)</span>&nbsp;<span class="op" id="1437749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437752">var</span>&nbsp;<span class="ident" id="1437756">s1</span><span class="op" id="1437758">,</span>&nbsp;<span class="ident" id="1437760">s2</span><span class="op" id="1437762">,</span>&nbsp;<span class="ident" id="1437764">s3</span><span class="op" id="1437766">,</span>&nbsp;<span class="ident" id="1437768">meth</span>&nbsp;<span class="builtintype" id="1437773">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437782">if</span>&nbsp;<span class="ident" id="1437785">ps1</span>&nbsp;<span class="op" id="1437789">!=</span>&nbsp;<span class="builtintype" id="1437792">nil</span>&nbsp;<span class="op" id="1437796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437800">s1</span>&nbsp;<span class="op" id="1437803">=</span>&nbsp;<span class="op" id="1437805">*</span><span class="ident" id="1437806">ps1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437814">if</span>&nbsp;<span class="ident" id="1437817">ps2</span>&nbsp;<span class="op" id="1437821">!=</span>&nbsp;<span class="builtintype" id="1437824">nil</span>&nbsp;<span class="op" id="1437828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437832">s2</span>&nbsp;<span class="op" id="1437835">=</span>&nbsp;<span class="op" id="1437837">*</span><span class="ident" id="1437838">ps2</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437846">if</span>&nbsp;<span class="ident" id="1437849">ps3</span>&nbsp;<span class="op" id="1437853">!=</span>&nbsp;<span class="builtintype" id="1437856">nil</span>&nbsp;<span class="op" id="1437860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437864">s3</span>&nbsp;<span class="op" id="1437867">=</span>&nbsp;<span class="op" id="1437869">*</span><span class="ident" id="1437870">ps3</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1437878">if</span>&nbsp;<span class="ident" id="1437881">pmeth</span>&nbsp;<span class="op" id="1437887">!=</span>&nbsp;<span class="builtintype" id="1437890">nil</span>&nbsp;<span class="op" id="1437894">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1437898">meth</span>&nbsp;<span class="op" id="1437903">=</span>&nbsp;<span class="op" id="1437905">*</span><span class="ident" id="1437906">pmeth</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1437916">*</span><span class="ident" id="1437917">ret</span>&nbsp;<span class="op" id="1437921">=</span>&nbsp;<span class="op" id="1437923">&amp;</span><span class="ident" id="1437924">TypeAssertionError</span><span class="op" id="1437942">{</span><span class="ident" id="1437943">s1</span><span class="op" id="1437945">,</span>&nbsp;<span class="ident" id="1437947">s2</span><span class="op" id="1437949">,</span>&nbsp;<span class="ident" id="1437951">s3</span><span class="op" id="1437953">,</span>&nbsp;<span class="ident" id="1437955">meth</span><span class="op" id="1437959">}</span><br>
<span class="lineno"></span><span class="op" id="1437961">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span><span class="comment" id="1437964">//&nbsp;An&nbsp;errorString&nbsp;represents&nbsp;a&nbsp;runtime&nbsp;error&nbsp;described&nbsp;by&nbsp;a&nbsp;single&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="1438039">type</span>&nbsp;<span class="ident" id="1438044">errorString</span>&nbsp;<span class="builtintype" id="1438056">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1438064">func</span>&nbsp;<span class="op" id="1438069">(</span><span class="ident" id="1438070">e</span>&nbsp;<span class="ident" id="1438072">errorString</span><span class="op" id="1438083">)</span>&nbsp;<span class="ident" id="1438085">RuntimeError</span><span class="op" id="1438097">(</span><span class="op" id="1438098">)</span>&nbsp;<span class="op" id="1438100">{</span><span class="op" id="1438101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="1438104">func</span>&nbsp;<span class="op" id="1438109">(</span><span class="ident" id="1438110">e</span>&nbsp;<span class="ident" id="1438112">errorString</span><span class="op" id="1438123">)</span>&nbsp;<span class="ident" id="1438125">Error</span><span class="op" id="1438130">(</span><span class="op" id="1438131">)</span>&nbsp;<span class="builtintype" id="1438133">string</span>&nbsp;<span class="op" id="1438140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438143">return</span>&nbsp;<span class="string" id="1438150">&#34;runtime&nbsp;error:&nbsp;&#34;</span>&nbsp;<span class="op" id="1438168">+</span>&nbsp;<span class="builtintype" id="1438170">string</span><span class="op" id="1438176">(</span><span class="ident" id="1438177">e</span><span class="op" id="1438178">)</span><br>
<span class="lineno"></span><span class="op" id="1438180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1438183">type</span>&nbsp;<span class="ident" id="1438188">stringer</span>&nbsp;<span class="keyword" id="1438197">interface</span>&nbsp;<span class="op" id="1438207">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438210">String</span><span class="op" id="1438216">(</span><span class="op" id="1438217">)</span>&nbsp;<span class="builtintype" id="1438219">string</span><br>
<span class="lineno"></span><span class="op" id="1438226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1438229">func</span>&nbsp;<span class="ident" id="1438234">typestring</span><span class="op" id="1438244">(</span><span class="ident" id="1438245">x</span>&nbsp;<span class="keyword" id="1438247">interface</span><span class="op" id="1438256">{</span><span class="op" id="1438257">}</span><span class="op" id="1438258">)</span>&nbsp;<span class="builtintype" id="1438260">string</span>&nbsp;<span class="op" id="1438267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1438270">e</span>&nbsp;<span class="op" id="1438272">:=</span>&nbsp;<span class="op" id="1438275">(</span><span class="op" id="1438276">*</span><span class="ident" id="1438277">eface</span><span class="op" id="1438282">)</span><span class="op" id="1438283">(</span><span class="ident" id="1438284">unsafe</span><span class="op" id="1438290">.</span><span class="ident" id="1438291">Pointer</span><span class="op" id="1438298">(</span><span class="op" id="1438299">&amp;</span><span class="ident" id="1438300">x</span><span class="op" id="1438301">)</span><span class="op" id="1438302">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438305">return</span>&nbsp;<span class="op" id="1438312">*</span><span class="ident" id="1438313">e</span><span class="op" id="1438314">.</span><span class="ident" id="1438315">_type</span><span class="op" id="1438320">.</span><span class="ident" id="1438321">_string</span><br>
<span class="lineno"></span><span class="op" id="1438329">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1438332">//&nbsp;For&nbsp;calling&nbsp;from&nbsp;C.</span><br>
<span class="lineno"></span><span class="comment" id="1438355">//&nbsp;Prints&nbsp;an&nbsp;argument&nbsp;passed&nbsp;to&nbsp;panic.</span><br>
<span class="lineno">85</span><span class="comment" id="1438394">//&nbsp;There&#39;s&nbsp;room&nbsp;for&nbsp;arbitrary&nbsp;complexity&nbsp;here,&nbsp;but&nbsp;we&nbsp;keep&nbsp;it</span><br>
<span class="lineno"></span><span class="comment" id="1438456">//&nbsp;simple&nbsp;and&nbsp;handle&nbsp;just&nbsp;a&nbsp;few&nbsp;important&nbsp;cases:&nbsp;int,&nbsp;string,&nbsp;and&nbsp;Stringer.</span><br>
<span class="lineno"></span><span class="keyword" id="1438532">func</span>&nbsp;<span class="ident" id="1438537">printany</span><span class="op" id="1438545">(</span><span class="ident" id="1438546">i</span>&nbsp;<span class="keyword" id="1438548">interface</span><span class="op" id="1438557">{</span><span class="op" id="1438558">}</span><span class="op" id="1438559">)</span>&nbsp;<span class="op" id="1438561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438564">switch</span>&nbsp;<span class="ident" id="1438571">v</span>&nbsp;<span class="op" id="1438573">:=</span>&nbsp;<span class="ident" id="1438576">i</span><span class="op" id="1438577">.</span><span class="op" id="1438578">(</span><span class="keyword" id="1438579">type</span><span class="op" id="1438583">)</span>&nbsp;<span class="op" id="1438585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438588">case</span>&nbsp;<span class="builtintype" id="1438593">nil</span><span class="op" id="1438596">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438600">print</span><span class="op" id="1438605">(</span><span class="string" id="1438606">&#34;nil&#34;</span><span class="op" id="1438611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438614">case</span>&nbsp;<span class="ident" id="1438619">stringer</span><span class="op" id="1438627">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438631">print</span><span class="op" id="1438636">(</span><span class="ident" id="1438637">v</span><span class="op" id="1438638">.</span><span class="ident" id="1438639">String</span><span class="op" id="1438645">(</span><span class="op" id="1438646">)</span><span class="op" id="1438647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438650">case</span>&nbsp;<span class="builtintype" id="1438655">error</span><span class="op" id="1438660">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438664">print</span><span class="op" id="1438669">(</span><span class="ident" id="1438670">v</span><span class="op" id="1438671">.</span><span class="ident" id="1438672">Error</span><span class="op" id="1438677">(</span><span class="op" id="1438678">)</span><span class="op" id="1438679">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438682">case</span>&nbsp;<span class="builtintype" id="1438687">int</span><span class="op" id="1438690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438694">print</span><span class="op" id="1438699">(</span><span class="ident" id="1438700">v</span><span class="op" id="1438701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438704">case</span>&nbsp;<span class="builtintype" id="1438709">string</span><span class="op" id="1438715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438719">print</span><span class="op" id="1438724">(</span><span class="ident" id="1438725">v</span><span class="op" id="1438726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1438729">default</span><span class="op" id="1438736">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438740">print</span><span class="op" id="1438745">(</span><span class="string" id="1438746">&#34;(&#34;</span><span class="op" id="1438749">,</span>&nbsp;<span class="ident" id="1438751">typestring</span><span class="op" id="1438761">(</span><span class="ident" id="1438762">i</span><span class="op" id="1438763">)</span><span class="op" id="1438764">,</span>&nbsp;<span class="string" id="1438766">&#34;)&nbsp;&#34;</span><span class="op" id="1438770">,</span>&nbsp;<span class="ident" id="1438772">i</span><span class="op" id="1438773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1438776">}</span><br>
<span class="lineno"></span><span class="op" id="1438778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1438781">//&nbsp;called&nbsp;from&nbsp;generated&nbsp;code</span><br>
<span class="lineno">105</span><span class="keyword" id="1438811">func</span>&nbsp;<span class="ident" id="1438816">panicwrap</span><span class="op" id="1438825">(</span><span class="ident" id="1438826">pkg</span><span class="op" id="1438829">,</span>&nbsp;<span class="ident" id="1438831">typ</span><span class="op" id="1438834">,</span>&nbsp;<span class="ident" id="1438836">meth</span>&nbsp;<span class="builtintype" id="1438841">string</span><span class="op" id="1438847">)</span>&nbsp;<span class="op" id="1438849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1438852">panic</span><span class="op" id="1438857">(</span><span class="string" id="1438858">&#34;value&nbsp;method&nbsp;&#34;</span>&nbsp;<span class="op" id="1438874">+</span>&nbsp;<span class="ident" id="1438876">pkg</span>&nbsp;<span class="op" id="1438880">+</span>&nbsp;<span class="string" id="1438882">&#34;.&#34;</span>&nbsp;<span class="op" id="1438886">+</span>&nbsp;<span class="ident" id="1438888">typ</span>&nbsp;<span class="op" id="1438892">+</span>&nbsp;<span class="string" id="1438894">&#34;.&#34;</span>&nbsp;<span class="op" id="1438898">+</span>&nbsp;<span class="ident" id="1438900">meth</span>&nbsp;<span class="op" id="1438905">+</span>&nbsp;<span class="string" id="1438907">&#34;&nbsp;called&nbsp;using&nbsp;nil&nbsp;*&#34;</span>&nbsp;<span class="op" id="1438929">+</span>&nbsp;<span class="ident" id="1438931">typ</span>&nbsp;<span class="op" id="1438935">+</span>&nbsp;<span class="string" id="1438937">&#34;&nbsp;pointer&#34;</span><span class="op" id="1438947">)</span><br>
<span class="lineno"></span><span class="op" id="1438949">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
