<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html" class="current">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1384032">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1384087">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1384141">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1384192">package</span>&nbsp;<span class="ident" id="1384200">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1384209">import</span>&nbsp;<span class="string" id="1384216">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1384226">const</span>&nbsp;<span class="op" id="1384232">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384235">c0</span>&nbsp;<span class="op" id="1384238">=</span>&nbsp;<span class="builtintype" id="1384240">uintptr</span><span class="op" id="1384247">(</span><span class="op" id="1384248">(</span><span class="num" id="1384249">8</span><span class="op" id="1384250">-</span><span class="ident" id="1384251">ptrSize</span><span class="op" id="1384258">)</span><span class="op" id="1384259">/</span><span class="num" id="1384260">4</span><span class="op" id="1384261">*</span><span class="num" id="1384262">2860486313</span>&nbsp;<span class="op" id="1384273">+</span>&nbsp;<span class="op" id="1384275">(</span><span class="ident" id="1384276">ptrSize</span><span class="op" id="1384283">-</span><span class="num" id="1384284">4</span><span class="op" id="1384285">)</span><span class="op" id="1384286">/</span><span class="num" id="1384287">4</span><span class="op" id="1384288">*</span><span class="num" id="1384289">33054211828000289</span><span class="op" id="1384306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384309">c1</span>&nbsp;<span class="op" id="1384312">=</span>&nbsp;<span class="builtintype" id="1384314">uintptr</span><span class="op" id="1384321">(</span><span class="op" id="1384322">(</span><span class="num" id="1384323">8</span><span class="op" id="1384324">-</span><span class="ident" id="1384325">ptrSize</span><span class="op" id="1384332">)</span><span class="op" id="1384333">/</span><span class="num" id="1384334">4</span><span class="op" id="1384335">*</span><span class="num" id="1384336">3267000013</span>&nbsp;<span class="op" id="1384347">+</span>&nbsp;<span class="op" id="1384349">(</span><span class="ident" id="1384350">ptrSize</span><span class="op" id="1384357">-</span><span class="num" id="1384358">4</span><span class="op" id="1384359">)</span><span class="op" id="1384360">/</span><span class="num" id="1384361">4</span><span class="op" id="1384362">*</span><span class="num" id="1384363">23344194077549503</span><span class="op" id="1384380">)</span><br>
<span class="lineno"></span><span class="op" id="1384382">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1384385">//&nbsp;type&nbsp;algorithms&nbsp;-&nbsp;known&nbsp;to&nbsp;compiler</span><br>
<span class="lineno">15</span><span class="keyword" id="1384424">const</span>&nbsp;<span class="op" id="1384430">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384433">alg_MEM</span>&nbsp;<span class="op" id="1384441">=</span>&nbsp;<span class="ident" id="1384443">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384449">alg_MEM0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384459">alg_MEM8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384469">alg_MEM16</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384480">alg_MEM32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384491">alg_MEM64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384502">alg_MEM128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384514">alg_NOEQ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384524">alg_NOEQ0</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384535">alg_NOEQ8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384546">alg_NOEQ16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384558">alg_NOEQ32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384570">alg_NOEQ64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384582">alg_NOEQ128</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384595">alg_STRING</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384607">alg_INTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384618">alg_NILINTER</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384632">alg_SLICE</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384643">alg_FLOAT32</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384656">alg_FLOAT64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384669">alg_CPLX64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384681">alg_CPLX128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384694">alg_max</span><br>
<span class="lineno"></span><span class="op" id="1384702">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="1384705">type</span>&nbsp;<span class="ident" id="1384710">typeAlg</span>&nbsp;<span class="keyword" id="1384718">struct</span>&nbsp;<span class="op" id="1384725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1384728">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1384774">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384814">hash</span>&nbsp;<span class="keyword" id="1384819">func</span><span class="op" id="1384823">(</span><span class="ident" id="1384824">unsafe</span><span class="op" id="1384830">.</span><span class="ident" id="1384831">Pointer</span><span class="op" id="1384838">,</span>&nbsp;<span class="builtintype" id="1384840">uintptr</span><span class="op" id="1384847">,</span>&nbsp;<span class="builtintype" id="1384849">uintptr</span><span class="op" id="1384856">)</span>&nbsp;<span class="builtintype" id="1384858">uintptr</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1384867">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1384915">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1384967">equal</span>&nbsp;<span class="keyword" id="1384973">func</span><span class="op" id="1384977">(</span><span class="ident" id="1384978">unsafe</span><span class="op" id="1384984">.</span><span class="ident" id="1384985">Pointer</span><span class="op" id="1384992">,</span>&nbsp;<span class="ident" id="1384994">unsafe</span><span class="op" id="1385000">.</span><span class="ident" id="1385001">Pointer</span><span class="op" id="1385008">,</span>&nbsp;<span class="builtintype" id="1385010">uintptr</span><span class="op" id="1385017">)</span>&nbsp;<span class="builtintype" id="1385019">bool</span><br>
<span class="lineno"></span><span class="op" id="1385024">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="1385027">var</span>&nbsp;<span class="ident" id="1385031">algarray</span>&nbsp;<span class="op" id="1385040">=</span>&nbsp;<span class="op" id="1385042">[</span><span class="ident" id="1385043">alg_max</span><span class="op" id="1385050">]</span><span class="ident" id="1385051">typeAlg</span><span class="op" id="1385058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385061">alg_MEM</span><span class="op" id="1385068">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385075">{</span><span class="ident" id="1385076">memhash</span><span class="op" id="1385083">,</span>&nbsp;<span class="ident" id="1385085">memequal</span><span class="op" id="1385093">}</span><span class="op" id="1385094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385097">alg_MEM0</span><span class="op" id="1385105">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385111">{</span><span class="ident" id="1385112">memhash</span><span class="op" id="1385119">,</span>&nbsp;<span class="ident" id="1385121">memequal0</span><span class="op" id="1385130">}</span><span class="op" id="1385131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385134">alg_MEM8</span><span class="op" id="1385142">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385148">{</span><span class="ident" id="1385149">memhash</span><span class="op" id="1385156">,</span>&nbsp;<span class="ident" id="1385158">memequal8</span><span class="op" id="1385167">}</span><span class="op" id="1385168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385171">alg_MEM16</span><span class="op" id="1385180">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385185">{</span><span class="ident" id="1385186">memhash</span><span class="op" id="1385193">,</span>&nbsp;<span class="ident" id="1385195">memequal16</span><span class="op" id="1385205">}</span><span class="op" id="1385206">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385209">alg_MEM32</span><span class="op" id="1385218">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385223">{</span><span class="ident" id="1385224">memhash</span><span class="op" id="1385231">,</span>&nbsp;<span class="ident" id="1385233">memequal32</span><span class="op" id="1385243">}</span><span class="op" id="1385244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385247">alg_MEM64</span><span class="op" id="1385256">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385261">{</span><span class="ident" id="1385262">memhash</span><span class="op" id="1385269">,</span>&nbsp;<span class="ident" id="1385271">memequal64</span><span class="op" id="1385281">}</span><span class="op" id="1385282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385285">alg_MEM128</span><span class="op" id="1385295">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1385299">{</span><span class="ident" id="1385300">memhash</span><span class="op" id="1385307">,</span>&nbsp;<span class="ident" id="1385309">memequal128</span><span class="op" id="1385320">}</span><span class="op" id="1385321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385324">alg_NOEQ</span><span class="op" id="1385332">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385338">{</span><span class="builtintype" id="1385339">nil</span><span class="op" id="1385342">,</span>&nbsp;<span class="builtintype" id="1385344">nil</span><span class="op" id="1385347">}</span><span class="op" id="1385348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385351">alg_NOEQ0</span><span class="op" id="1385360">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385365">{</span><span class="builtintype" id="1385366">nil</span><span class="op" id="1385369">,</span>&nbsp;<span class="builtintype" id="1385371">nil</span><span class="op" id="1385374">}</span><span class="op" id="1385375">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385378">alg_NOEQ8</span><span class="op" id="1385387">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385392">{</span><span class="builtintype" id="1385393">nil</span><span class="op" id="1385396">,</span>&nbsp;<span class="builtintype" id="1385398">nil</span><span class="op" id="1385401">}</span><span class="op" id="1385402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385405">alg_NOEQ16</span><span class="op" id="1385415">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1385419">{</span><span class="builtintype" id="1385420">nil</span><span class="op" id="1385423">,</span>&nbsp;<span class="builtintype" id="1385425">nil</span><span class="op" id="1385428">}</span><span class="op" id="1385429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385432">alg_NOEQ32</span><span class="op" id="1385442">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1385446">{</span><span class="builtintype" id="1385447">nil</span><span class="op" id="1385450">,</span>&nbsp;<span class="builtintype" id="1385452">nil</span><span class="op" id="1385455">}</span><span class="op" id="1385456">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385459">alg_NOEQ64</span><span class="op" id="1385469">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1385473">{</span><span class="builtintype" id="1385474">nil</span><span class="op" id="1385477">,</span>&nbsp;<span class="builtintype" id="1385479">nil</span><span class="op" id="1385482">}</span><span class="op" id="1385483">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385486">alg_NOEQ128</span><span class="op" id="1385497">:</span>&nbsp;&nbsp;<span class="op" id="1385500">{</span><span class="builtintype" id="1385501">nil</span><span class="op" id="1385504">,</span>&nbsp;<span class="builtintype" id="1385506">nil</span><span class="op" id="1385509">}</span><span class="op" id="1385510">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385513">alg_STRING</span><span class="op" id="1385523">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1385527">{</span><span class="ident" id="1385528">strhash</span><span class="op" id="1385535">,</span>&nbsp;<span class="ident" id="1385537">strequal</span><span class="op" id="1385545">}</span><span class="op" id="1385546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385549">alg_INTER</span><span class="op" id="1385558">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385563">{</span><span class="ident" id="1385564">interhash</span><span class="op" id="1385573">,</span>&nbsp;<span class="ident" id="1385575">interequal</span><span class="op" id="1385585">}</span><span class="op" id="1385586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385589">alg_NILINTER</span><span class="op" id="1385601">:</span>&nbsp;<span class="op" id="1385603">{</span><span class="ident" id="1385604">nilinterhash</span><span class="op" id="1385616">,</span>&nbsp;<span class="ident" id="1385618">nilinterequal</span><span class="op" id="1385631">}</span><span class="op" id="1385632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385635">alg_SLICE</span><span class="op" id="1385644">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1385649">{</span><span class="builtintype" id="1385650">nil</span><span class="op" id="1385653">,</span>&nbsp;<span class="builtintype" id="1385655">nil</span><span class="op" id="1385658">}</span><span class="op" id="1385659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385662">alg_FLOAT32</span><span class="op" id="1385673">:</span>&nbsp;&nbsp;<span class="op" id="1385676">{</span><span class="ident" id="1385677">f32hash</span><span class="op" id="1385684">,</span>&nbsp;<span class="ident" id="1385686">f32equal</span><span class="op" id="1385694">}</span><span class="op" id="1385695">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385698">alg_FLOAT64</span><span class="op" id="1385709">:</span>&nbsp;&nbsp;<span class="op" id="1385712">{</span><span class="ident" id="1385713">f64hash</span><span class="op" id="1385720">,</span>&nbsp;<span class="ident" id="1385722">f64equal</span><span class="op" id="1385730">}</span><span class="op" id="1385731">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385734">alg_CPLX64</span><span class="op" id="1385744">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="1385748">{</span><span class="ident" id="1385749">c64hash</span><span class="op" id="1385756">,</span>&nbsp;<span class="ident" id="1385758">c64equal</span><span class="op" id="1385766">}</span><span class="op" id="1385767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1385770">alg_CPLX128</span><span class="op" id="1385781">:</span>&nbsp;&nbsp;<span class="op" id="1385784">{</span><span class="ident" id="1385785">c128hash</span><span class="op" id="1385793">,</span>&nbsp;<span class="ident" id="1385795">c128equal</span><span class="op" id="1385804">}</span><span class="op" id="1385805">,</span><br>
<span class="lineno"></span><span class="op" id="1385807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="1385810">const</span>&nbsp;<span class="ident" id="1385816">nacl</span>&nbsp;<span class="op" id="1385821">=</span>&nbsp;<span class="ident" id="1385823">GOOS</span>&nbsp;<span class="op" id="1385828">==</span>&nbsp;<span class="string" id="1385831">&#34;nacl&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1385839">var</span>&nbsp;<span class="ident" id="1385843">useAeshash</span>&nbsp;<span class="builtintype" id="1385854">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1385860">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">80</span><span class="keyword" id="1385874">func</span>&nbsp;<span class="ident" id="1385879">aeshash</span><span class="op" id="1385886">(</span><span class="ident" id="1385887">p</span>&nbsp;<span class="ident" id="1385889">unsafe</span><span class="op" id="1385895">.</span><span class="ident" id="1385896">Pointer</span><span class="op" id="1385903">,</span>&nbsp;<span class="ident" id="1385905">s</span><span class="op" id="1385906">,</span>&nbsp;<span class="ident" id="1385908">h</span>&nbsp;<span class="builtintype" id="1385910">uintptr</span><span class="op" id="1385917">)</span>&nbsp;<span class="builtintype" id="1385919">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1385927">func</span>&nbsp;<span class="ident" id="1385932">aeshash32</span><span class="op" id="1385941">(</span><span class="ident" id="1385942">p</span>&nbsp;<span class="ident" id="1385944">unsafe</span><span class="op" id="1385950">.</span><span class="ident" id="1385951">Pointer</span><span class="op" id="1385958">,</span>&nbsp;<span class="ident" id="1385960">s</span><span class="op" id="1385961">,</span>&nbsp;<span class="ident" id="1385963">h</span>&nbsp;<span class="builtintype" id="1385965">uintptr</span><span class="op" id="1385972">)</span>&nbsp;<span class="builtintype" id="1385974">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1385982">func</span>&nbsp;<span class="ident" id="1385987">aeshash64</span><span class="op" id="1385996">(</span><span class="ident" id="1385997">p</span>&nbsp;<span class="ident" id="1385999">unsafe</span><span class="op" id="1386005">.</span><span class="ident" id="1386006">Pointer</span><span class="op" id="1386013">,</span>&nbsp;<span class="ident" id="1386015">s</span><span class="op" id="1386016">,</span>&nbsp;<span class="ident" id="1386018">h</span>&nbsp;<span class="builtintype" id="1386020">uintptr</span><span class="op" id="1386027">)</span>&nbsp;<span class="builtintype" id="1386029">uintptr</span><br>
<span class="lineno"></span><span class="keyword" id="1386037">func</span>&nbsp;<span class="ident" id="1386042">aeshashstr</span><span class="op" id="1386052">(</span><span class="ident" id="1386053">p</span>&nbsp;<span class="ident" id="1386055">unsafe</span><span class="op" id="1386061">.</span><span class="ident" id="1386062">Pointer</span><span class="op" id="1386069">,</span>&nbsp;<span class="ident" id="1386071">s</span><span class="op" id="1386072">,</span>&nbsp;<span class="ident" id="1386074">h</span>&nbsp;<span class="builtintype" id="1386076">uintptr</span><span class="op" id="1386083">)</span>&nbsp;<span class="builtintype" id="1386085">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1386094">func</span>&nbsp;<span class="ident" id="1386099">memhash</span><span class="op" id="1386106">(</span><span class="ident" id="1386107">p</span>&nbsp;<span class="ident" id="1386109">unsafe</span><span class="op" id="1386115">.</span><span class="ident" id="1386116">Pointer</span><span class="op" id="1386123">,</span>&nbsp;<span class="ident" id="1386125">s</span><span class="op" id="1386126">,</span>&nbsp;<span class="ident" id="1386128">h</span>&nbsp;<span class="builtintype" id="1386130">uintptr</span><span class="op" id="1386137">)</span>&nbsp;<span class="builtintype" id="1386139">uintptr</span>&nbsp;<span class="op" id="1386147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386150">if</span>&nbsp;<span class="op" id="1386153">!</span><span class="ident" id="1386154">nacl</span>&nbsp;<span class="op" id="1386159">&amp;&amp;</span>&nbsp;<span class="ident" id="1386162">useAeshash</span>&nbsp;<span class="op" id="1386173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386177">return</span>&nbsp;<span class="ident" id="1386184">aeshash</span><span class="op" id="1386191">(</span><span class="ident" id="1386192">p</span><span class="op" id="1386193">,</span>&nbsp;<span class="ident" id="1386195">s</span><span class="op" id="1386196">,</span>&nbsp;<span class="ident" id="1386198">h</span><span class="op" id="1386199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1386202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1386206">h</span>&nbsp;<span class="op" id="1386208">^=</span>&nbsp;<span class="ident" id="1386211">c0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386215">for</span>&nbsp;<span class="ident" id="1386219">s</span>&nbsp;<span class="op" id="1386221">&gt;</span>&nbsp;<span class="num" id="1386223">0</span>&nbsp;<span class="op" id="1386225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1386229">h</span>&nbsp;<span class="op" id="1386231">=</span>&nbsp;<span class="op" id="1386233">(</span><span class="ident" id="1386234">h</span>&nbsp;<span class="op" id="1386236">^</span>&nbsp;<span class="builtintype" id="1386238">uintptr</span><span class="op" id="1386245">(</span><span class="op" id="1386246">*</span><span class="op" id="1386247">(</span><span class="op" id="1386248">*</span><span class="builtintype" id="1386249">byte</span><span class="op" id="1386253">)</span><span class="op" id="1386254">(</span><span class="ident" id="1386255">p</span><span class="op" id="1386256">)</span><span class="op" id="1386257">)</span><span class="op" id="1386258">)</span>&nbsp;<span class="op" id="1386260">*</span>&nbsp;<span class="ident" id="1386262">c1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1386267">p</span>&nbsp;<span class="op" id="1386269">=</span>&nbsp;<span class="ident" id="1386271">add</span><span class="op" id="1386274">(</span><span class="ident" id="1386275">p</span><span class="op" id="1386276">,</span>&nbsp;<span class="num" id="1386278">1</span><span class="op" id="1386279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1386283">s</span><span class="op" id="1386284">--</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1386288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386291">return</span>&nbsp;<span class="ident" id="1386298">h</span><br>
<span class="lineno"></span><span class="op" id="1386300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1386303">func</span>&nbsp;<span class="ident" id="1386308">strhash</span><span class="op" id="1386315">(</span><span class="ident" id="1386316">a</span>&nbsp;<span class="ident" id="1386318">unsafe</span><span class="op" id="1386324">.</span><span class="ident" id="1386325">Pointer</span><span class="op" id="1386332">,</span>&nbsp;<span class="ident" id="1386334">s</span><span class="op" id="1386335">,</span>&nbsp;<span class="ident" id="1386337">h</span>&nbsp;<span class="builtintype" id="1386339">uintptr</span><span class="op" id="1386346">)</span>&nbsp;<span class="builtintype" id="1386348">uintptr</span>&nbsp;<span class="op" id="1386356">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386359">return</span>&nbsp;<span class="ident" id="1386366">memhash</span><span class="op" id="1386373">(</span><span class="op" id="1386374">(</span><span class="op" id="1386375">*</span><span class="ident" id="1386376">stringStruct</span><span class="op" id="1386388">)</span><span class="op" id="1386389">(</span><span class="ident" id="1386390">a</span><span class="op" id="1386391">)</span><span class="op" id="1386392">.</span><span class="ident" id="1386393">str</span><span class="op" id="1386396">,</span>&nbsp;<span class="builtintype" id="1386398">uintptr</span><span class="op" id="1386405">(</span><span class="builtinfunc" id="1386406">len</span><span class="op" id="1386409">(</span><span class="op" id="1386410">*</span><span class="op" id="1386411">(</span><span class="op" id="1386412">*</span><span class="builtintype" id="1386413">string</span><span class="op" id="1386419">)</span><span class="op" id="1386420">(</span><span class="ident" id="1386421">a</span><span class="op" id="1386422">)</span><span class="op" id="1386423">)</span><span class="op" id="1386424">)</span><span class="op" id="1386425">,</span>&nbsp;<span class="ident" id="1386427">h</span><span class="op" id="1386428">)</span><br>
<span class="lineno"></span><span class="op" id="1386430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1386433">//&nbsp;NOTE:&nbsp;Because&nbsp;NaN&nbsp;!=&nbsp;NaN,&nbsp;a&nbsp;map&nbsp;can&nbsp;contain&nbsp;any</span><br>
<span class="lineno"></span><span class="comment" id="1386484">//&nbsp;number&nbsp;of&nbsp;(mostly&nbsp;useless)&nbsp;entries&nbsp;keyed&nbsp;with&nbsp;NaNs.</span><br>
<span class="lineno">105</span><span class="comment" id="1386539">//&nbsp;To&nbsp;avoid&nbsp;long&nbsp;hash&nbsp;chains,&nbsp;we&nbsp;assign&nbsp;a&nbsp;random&nbsp;number</span><br>
<span class="lineno"></span><span class="comment" id="1386595">//&nbsp;as&nbsp;the&nbsp;hash&nbsp;value&nbsp;for&nbsp;a&nbsp;NaN.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1386628">func</span>&nbsp;<span class="ident" id="1386633">f32hash</span><span class="op" id="1386640">(</span><span class="ident" id="1386641">p</span>&nbsp;<span class="ident" id="1386643">unsafe</span><span class="op" id="1386649">.</span><span class="ident" id="1386650">Pointer</span><span class="op" id="1386657">,</span>&nbsp;<span class="ident" id="1386659">s</span><span class="op" id="1386660">,</span>&nbsp;<span class="ident" id="1386662">h</span>&nbsp;<span class="builtintype" id="1386664">uintptr</span><span class="op" id="1386671">)</span>&nbsp;<span class="builtintype" id="1386673">uintptr</span>&nbsp;<span class="op" id="1386681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1386684">f</span>&nbsp;<span class="op" id="1386686">:=</span>&nbsp;<span class="op" id="1386689">*</span><span class="op" id="1386690">(</span><span class="op" id="1386691">*</span><span class="builtintype" id="1386692">float32</span><span class="op" id="1386699">)</span><span class="op" id="1386700">(</span><span class="ident" id="1386701">p</span><span class="op" id="1386702">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386705">switch</span>&nbsp;<span class="op" id="1386712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386715">case</span>&nbsp;<span class="ident" id="1386720">f</span>&nbsp;<span class="op" id="1386722">==</span>&nbsp;<span class="num" id="1386725">0</span><span class="op" id="1386726">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386730">return</span>&nbsp;<span class="ident" id="1386737">c1</span>&nbsp;<span class="op" id="1386740">*</span>&nbsp;<span class="op" id="1386742">(</span><span class="ident" id="1386743">c0</span>&nbsp;<span class="op" id="1386746">^</span>&nbsp;<span class="ident" id="1386748">h</span><span class="op" id="1386749">)</span>&nbsp;<span class="comment" id="1386751">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386762">case</span>&nbsp;<span class="ident" id="1386767">f</span>&nbsp;<span class="op" id="1386769">!=</span>&nbsp;<span class="ident" id="1386772">f</span><span class="op" id="1386773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386777">return</span>&nbsp;<span class="ident" id="1386784">c1</span>&nbsp;<span class="op" id="1386787">*</span>&nbsp;<span class="op" id="1386789">(</span><span class="ident" id="1386790">c0</span>&nbsp;<span class="op" id="1386793">^</span>&nbsp;<span class="ident" id="1386795">h</span>&nbsp;<span class="op" id="1386797">^</span>&nbsp;<span class="builtintype" id="1386799">uintptr</span><span class="op" id="1386806">(</span><span class="ident" id="1386807">fastrand1</span><span class="op" id="1386816">(</span><span class="op" id="1386817">)</span><span class="op" id="1386818">)</span><span class="op" id="1386819">)</span>&nbsp;<span class="comment" id="1386821">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386841">default</span><span class="op" id="1386848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386852">return</span>&nbsp;<span class="ident" id="1386859">memhash</span><span class="op" id="1386866">(</span><span class="ident" id="1386867">p</span><span class="op" id="1386868">,</span>&nbsp;<span class="num" id="1386870">4</span><span class="op" id="1386871">,</span>&nbsp;<span class="ident" id="1386873">h</span><span class="op" id="1386874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1386877">}</span><br>
<span class="lineno"></span><span class="op" id="1386879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="1386882">func</span>&nbsp;<span class="ident" id="1386887">f64hash</span><span class="op" id="1386894">(</span><span class="ident" id="1386895">p</span>&nbsp;<span class="ident" id="1386897">unsafe</span><span class="op" id="1386903">.</span><span class="ident" id="1386904">Pointer</span><span class="op" id="1386911">,</span>&nbsp;<span class="ident" id="1386913">s</span><span class="op" id="1386914">,</span>&nbsp;<span class="ident" id="1386916">h</span>&nbsp;<span class="builtintype" id="1386918">uintptr</span><span class="op" id="1386925">)</span>&nbsp;<span class="builtintype" id="1386927">uintptr</span>&nbsp;<span class="op" id="1386935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1386938">f</span>&nbsp;<span class="op" id="1386940">:=</span>&nbsp;<span class="op" id="1386943">*</span><span class="op" id="1386944">(</span><span class="op" id="1386945">*</span><span class="builtintype" id="1386946">float64</span><span class="op" id="1386953">)</span><span class="op" id="1386954">(</span><span class="ident" id="1386955">p</span><span class="op" id="1386956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386959">switch</span>&nbsp;<span class="op" id="1386966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386969">case</span>&nbsp;<span class="ident" id="1386974">f</span>&nbsp;<span class="op" id="1386976">==</span>&nbsp;<span class="num" id="1386979">0</span><span class="op" id="1386980">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1386984">return</span>&nbsp;<span class="ident" id="1386991">c1</span>&nbsp;<span class="op" id="1386994">*</span>&nbsp;<span class="op" id="1386996">(</span><span class="ident" id="1386997">c0</span>&nbsp;<span class="op" id="1387000">^</span>&nbsp;<span class="ident" id="1387002">h</span><span class="op" id="1387003">)</span>&nbsp;<span class="comment" id="1387005">//&nbsp;+0,&nbsp;-0</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387016">case</span>&nbsp;<span class="ident" id="1387021">f</span>&nbsp;<span class="op" id="1387023">!=</span>&nbsp;<span class="ident" id="1387026">f</span><span class="op" id="1387027">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387031">return</span>&nbsp;<span class="ident" id="1387038">c1</span>&nbsp;<span class="op" id="1387041">*</span>&nbsp;<span class="op" id="1387043">(</span><span class="ident" id="1387044">c0</span>&nbsp;<span class="op" id="1387047">^</span>&nbsp;<span class="ident" id="1387049">h</span>&nbsp;<span class="op" id="1387051">^</span>&nbsp;<span class="builtintype" id="1387053">uintptr</span><span class="op" id="1387060">(</span><span class="ident" id="1387061">fastrand1</span><span class="op" id="1387070">(</span><span class="op" id="1387071">)</span><span class="op" id="1387072">)</span><span class="op" id="1387073">)</span>&nbsp;<span class="comment" id="1387075">//&nbsp;any&nbsp;kind&nbsp;of&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387095">default</span><span class="op" id="1387102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387106">return</span>&nbsp;<span class="ident" id="1387113">memhash</span><span class="op" id="1387120">(</span><span class="ident" id="1387121">p</span><span class="op" id="1387122">,</span>&nbsp;<span class="num" id="1387124">8</span><span class="op" id="1387125">,</span>&nbsp;<span class="ident" id="1387127">h</span><span class="op" id="1387128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1387131">}</span><br>
<span class="lineno">130</span><span class="op" id="1387133">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1387136">func</span>&nbsp;<span class="ident" id="1387141">c64hash</span><span class="op" id="1387148">(</span><span class="ident" id="1387149">p</span>&nbsp;<span class="ident" id="1387151">unsafe</span><span class="op" id="1387157">.</span><span class="ident" id="1387158">Pointer</span><span class="op" id="1387165">,</span>&nbsp;<span class="ident" id="1387167">s</span><span class="op" id="1387168">,</span>&nbsp;<span class="ident" id="1387170">h</span>&nbsp;<span class="builtintype" id="1387172">uintptr</span><span class="op" id="1387179">)</span>&nbsp;<span class="builtintype" id="1387181">uintptr</span>&nbsp;<span class="op" id="1387189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387192">x</span>&nbsp;<span class="op" id="1387194">:=</span>&nbsp;<span class="op" id="1387197">(</span><span class="op" id="1387198">*</span><span class="op" id="1387199">[</span><span class="num" id="1387200">2</span><span class="op" id="1387201">]</span><span class="builtintype" id="1387202">float32</span><span class="op" id="1387209">)</span><span class="op" id="1387210">(</span><span class="ident" id="1387211">p</span><span class="op" id="1387212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387215">return</span>&nbsp;<span class="ident" id="1387222">f32hash</span><span class="op" id="1387229">(</span><span class="ident" id="1387230">unsafe</span><span class="op" id="1387236">.</span><span class="ident" id="1387237">Pointer</span><span class="op" id="1387244">(</span><span class="op" id="1387245">&amp;</span><span class="ident" id="1387246">x</span><span class="op" id="1387247">[</span><span class="num" id="1387248">1</span><span class="op" id="1387249">]</span><span class="op" id="1387250">)</span><span class="op" id="1387251">,</span>&nbsp;<span class="num" id="1387253">4</span><span class="op" id="1387254">,</span>&nbsp;<span class="ident" id="1387256">f32hash</span><span class="op" id="1387263">(</span><span class="ident" id="1387264">unsafe</span><span class="op" id="1387270">.</span><span class="ident" id="1387271">Pointer</span><span class="op" id="1387278">(</span><span class="op" id="1387279">&amp;</span><span class="ident" id="1387280">x</span><span class="op" id="1387281">[</span><span class="num" id="1387282">0</span><span class="op" id="1387283">]</span><span class="op" id="1387284">)</span><span class="op" id="1387285">,</span>&nbsp;<span class="num" id="1387287">4</span><span class="op" id="1387288">,</span>&nbsp;<span class="ident" id="1387290">h</span><span class="op" id="1387291">)</span><span class="op" id="1387292">)</span><br>
<span class="lineno">135</span><span class="op" id="1387294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1387297">func</span>&nbsp;<span class="ident" id="1387302">c128hash</span><span class="op" id="1387310">(</span><span class="ident" id="1387311">p</span>&nbsp;<span class="ident" id="1387313">unsafe</span><span class="op" id="1387319">.</span><span class="ident" id="1387320">Pointer</span><span class="op" id="1387327">,</span>&nbsp;<span class="ident" id="1387329">s</span><span class="op" id="1387330">,</span>&nbsp;<span class="ident" id="1387332">h</span>&nbsp;<span class="builtintype" id="1387334">uintptr</span><span class="op" id="1387341">)</span>&nbsp;<span class="builtintype" id="1387343">uintptr</span>&nbsp;<span class="op" id="1387351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387354">x</span>&nbsp;<span class="op" id="1387356">:=</span>&nbsp;<span class="op" id="1387359">(</span><span class="op" id="1387360">*</span><span class="op" id="1387361">[</span><span class="num" id="1387362">2</span><span class="op" id="1387363">]</span><span class="builtintype" id="1387364">float64</span><span class="op" id="1387371">)</span><span class="op" id="1387372">(</span><span class="ident" id="1387373">p</span><span class="op" id="1387374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387377">return</span>&nbsp;<span class="ident" id="1387384">f64hash</span><span class="op" id="1387391">(</span><span class="ident" id="1387392">unsafe</span><span class="op" id="1387398">.</span><span class="ident" id="1387399">Pointer</span><span class="op" id="1387406">(</span><span class="op" id="1387407">&amp;</span><span class="ident" id="1387408">x</span><span class="op" id="1387409">[</span><span class="num" id="1387410">1</span><span class="op" id="1387411">]</span><span class="op" id="1387412">)</span><span class="op" id="1387413">,</span>&nbsp;<span class="num" id="1387415">8</span><span class="op" id="1387416">,</span>&nbsp;<span class="ident" id="1387418">f64hash</span><span class="op" id="1387425">(</span><span class="ident" id="1387426">unsafe</span><span class="op" id="1387432">.</span><span class="ident" id="1387433">Pointer</span><span class="op" id="1387440">(</span><span class="op" id="1387441">&amp;</span><span class="ident" id="1387442">x</span><span class="op" id="1387443">[</span><span class="num" id="1387444">0</span><span class="op" id="1387445">]</span><span class="op" id="1387446">)</span><span class="op" id="1387447">,</span>&nbsp;<span class="num" id="1387449">8</span><span class="op" id="1387450">,</span>&nbsp;<span class="ident" id="1387452">h</span><span class="op" id="1387453">)</span><span class="op" id="1387454">)</span><br>
<span class="lineno">140</span><span class="op" id="1387456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1387459">func</span>&nbsp;<span class="ident" id="1387464">interhash</span><span class="op" id="1387473">(</span><span class="ident" id="1387474">p</span>&nbsp;<span class="ident" id="1387476">unsafe</span><span class="op" id="1387482">.</span><span class="ident" id="1387483">Pointer</span><span class="op" id="1387490">,</span>&nbsp;<span class="ident" id="1387492">s</span><span class="op" id="1387493">,</span>&nbsp;<span class="ident" id="1387495">h</span>&nbsp;<span class="builtintype" id="1387497">uintptr</span><span class="op" id="1387504">)</span>&nbsp;<span class="builtintype" id="1387506">uintptr</span>&nbsp;<span class="op" id="1387514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387517">a</span>&nbsp;<span class="op" id="1387519">:=</span>&nbsp;<span class="op" id="1387522">(</span><span class="op" id="1387523">*</span><span class="ident" id="1387524">iface</span><span class="op" id="1387529">)</span><span class="op" id="1387530">(</span><span class="ident" id="1387531">p</span><span class="op" id="1387532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387535">tab</span>&nbsp;<span class="op" id="1387539">:=</span>&nbsp;<span class="ident" id="1387542">a</span><span class="op" id="1387543">.</span><span class="ident" id="1387544">tab</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387549">if</span>&nbsp;<span class="ident" id="1387552">tab</span>&nbsp;<span class="op" id="1387556">==</span>&nbsp;<span class="builtintype" id="1387559">nil</span>&nbsp;<span class="op" id="1387563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387567">return</span>&nbsp;<span class="ident" id="1387574">h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1387577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387580">t</span>&nbsp;<span class="op" id="1387582">:=</span>&nbsp;<span class="ident" id="1387585">tab</span><span class="op" id="1387588">.</span><span class="ident" id="1387589">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387596">fn</span>&nbsp;<span class="op" id="1387599">:=</span>&nbsp;<span class="ident" id="1387602">goalg</span><span class="op" id="1387607">(</span><span class="ident" id="1387608">t</span><span class="op" id="1387609">.</span><span class="ident" id="1387610">alg</span><span class="op" id="1387613">)</span><span class="op" id="1387614">.</span><span class="ident" id="1387615">hash</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387621">if</span>&nbsp;<span class="ident" id="1387624">fn</span>&nbsp;<span class="op" id="1387627">==</span>&nbsp;<span class="builtintype" id="1387630">nil</span>&nbsp;<span class="op" id="1387634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1387638">panic</span><span class="op" id="1387643">(</span><span class="ident" id="1387644">errorString</span><span class="op" id="1387655">(</span><span class="string" id="1387656">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1387683">+</span>&nbsp;<span class="op" id="1387685">*</span><span class="ident" id="1387686">t</span><span class="op" id="1387687">.</span><span class="ident" id="1387688">_string</span><span class="op" id="1387695">)</span><span class="op" id="1387696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1387699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387702">if</span>&nbsp;<span class="ident" id="1387705">isDirectIface</span><span class="op" id="1387718">(</span><span class="ident" id="1387719">t</span><span class="op" id="1387720">)</span>&nbsp;<span class="op" id="1387722">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387726">return</span>&nbsp;<span class="ident" id="1387733">c1</span>&nbsp;<span class="op" id="1387736">*</span>&nbsp;<span class="ident" id="1387738">fn</span><span class="op" id="1387740">(</span><span class="ident" id="1387741">unsafe</span><span class="op" id="1387747">.</span><span class="ident" id="1387748">Pointer</span><span class="op" id="1387755">(</span><span class="op" id="1387756">&amp;</span><span class="ident" id="1387757">a</span><span class="op" id="1387758">.</span><span class="ident" id="1387759">data</span><span class="op" id="1387763">)</span><span class="op" id="1387764">,</span>&nbsp;<span class="builtintype" id="1387766">uintptr</span><span class="op" id="1387773">(</span><span class="ident" id="1387774">t</span><span class="op" id="1387775">.</span><span class="ident" id="1387776">size</span><span class="op" id="1387780">)</span><span class="op" id="1387781">,</span>&nbsp;<span class="ident" id="1387783">h</span><span class="op" id="1387784">^</span><span class="ident" id="1387785">c0</span><span class="op" id="1387787">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1387790">}</span>&nbsp;<span class="keyword" id="1387792">else</span>&nbsp;<span class="op" id="1387797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387801">return</span>&nbsp;<span class="ident" id="1387808">c1</span>&nbsp;<span class="op" id="1387811">*</span>&nbsp;<span class="ident" id="1387813">fn</span><span class="op" id="1387815">(</span><span class="ident" id="1387816">a</span><span class="op" id="1387817">.</span><span class="ident" id="1387818">data</span><span class="op" id="1387822">,</span>&nbsp;<span class="builtintype" id="1387824">uintptr</span><span class="op" id="1387831">(</span><span class="ident" id="1387832">t</span><span class="op" id="1387833">.</span><span class="ident" id="1387834">size</span><span class="op" id="1387838">)</span><span class="op" id="1387839">,</span>&nbsp;<span class="ident" id="1387841">h</span><span class="op" id="1387842">^</span><span class="ident" id="1387843">c0</span><span class="op" id="1387845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1387848">}</span><br>
<span class="lineno"></span><span class="op" id="1387850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="1387853">func</span>&nbsp;<span class="ident" id="1387858">nilinterhash</span><span class="op" id="1387870">(</span><span class="ident" id="1387871">p</span>&nbsp;<span class="ident" id="1387873">unsafe</span><span class="op" id="1387879">.</span><span class="ident" id="1387880">Pointer</span><span class="op" id="1387887">,</span>&nbsp;<span class="ident" id="1387889">s</span><span class="op" id="1387890">,</span>&nbsp;<span class="ident" id="1387892">h</span>&nbsp;<span class="builtintype" id="1387894">uintptr</span><span class="op" id="1387901">)</span>&nbsp;<span class="builtintype" id="1387903">uintptr</span>&nbsp;<span class="op" id="1387911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387914">a</span>&nbsp;<span class="op" id="1387916">:=</span>&nbsp;<span class="op" id="1387919">(</span><span class="op" id="1387920">*</span><span class="ident" id="1387921">eface</span><span class="op" id="1387926">)</span><span class="op" id="1387927">(</span><span class="ident" id="1387928">p</span><span class="op" id="1387929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387932">t</span>&nbsp;<span class="op" id="1387934">:=</span>&nbsp;<span class="ident" id="1387937">a</span><span class="op" id="1387938">.</span><span class="ident" id="1387939">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387946">if</span>&nbsp;<span class="ident" id="1387949">t</span>&nbsp;<span class="op" id="1387951">==</span>&nbsp;<span class="builtintype" id="1387954">nil</span>&nbsp;<span class="op" id="1387958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1387962">return</span>&nbsp;<span class="ident" id="1387969">h</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1387972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1387975">fn</span>&nbsp;<span class="op" id="1387978">:=</span>&nbsp;<span class="ident" id="1387981">goalg</span><span class="op" id="1387986">(</span><span class="ident" id="1387987">t</span><span class="op" id="1387988">.</span><span class="ident" id="1387989">alg</span><span class="op" id="1387992">)</span><span class="op" id="1387993">.</span><span class="ident" id="1387994">hash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388000">if</span>&nbsp;<span class="ident" id="1388003">fn</span>&nbsp;<span class="op" id="1388006">==</span>&nbsp;<span class="builtintype" id="1388009">nil</span>&nbsp;<span class="op" id="1388013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1388017">panic</span><span class="op" id="1388022">(</span><span class="ident" id="1388023">errorString</span><span class="op" id="1388034">(</span><span class="string" id="1388035">&#34;hash&nbsp;of&nbsp;unhashable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1388062">+</span>&nbsp;<span class="op" id="1388064">*</span><span class="ident" id="1388065">t</span><span class="op" id="1388066">.</span><span class="ident" id="1388067">_string</span><span class="op" id="1388074">)</span><span class="op" id="1388075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1388078">}</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388081">if</span>&nbsp;<span class="ident" id="1388084">isDirectIface</span><span class="op" id="1388097">(</span><span class="ident" id="1388098">t</span><span class="op" id="1388099">)</span>&nbsp;<span class="op" id="1388101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388105">return</span>&nbsp;<span class="ident" id="1388112">c1</span>&nbsp;<span class="op" id="1388115">*</span>&nbsp;<span class="ident" id="1388117">fn</span><span class="op" id="1388119">(</span><span class="ident" id="1388120">unsafe</span><span class="op" id="1388126">.</span><span class="ident" id="1388127">Pointer</span><span class="op" id="1388134">(</span><span class="op" id="1388135">&amp;</span><span class="ident" id="1388136">a</span><span class="op" id="1388137">.</span><span class="ident" id="1388138">data</span><span class="op" id="1388142">)</span><span class="op" id="1388143">,</span>&nbsp;<span class="builtintype" id="1388145">uintptr</span><span class="op" id="1388152">(</span><span class="ident" id="1388153">t</span><span class="op" id="1388154">.</span><span class="ident" id="1388155">size</span><span class="op" id="1388159">)</span><span class="op" id="1388160">,</span>&nbsp;<span class="ident" id="1388162">h</span><span class="op" id="1388163">^</span><span class="ident" id="1388164">c0</span><span class="op" id="1388166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1388169">}</span>&nbsp;<span class="keyword" id="1388171">else</span>&nbsp;<span class="op" id="1388176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388180">return</span>&nbsp;<span class="ident" id="1388187">c1</span>&nbsp;<span class="op" id="1388190">*</span>&nbsp;<span class="ident" id="1388192">fn</span><span class="op" id="1388194">(</span><span class="ident" id="1388195">a</span><span class="op" id="1388196">.</span><span class="ident" id="1388197">data</span><span class="op" id="1388201">,</span>&nbsp;<span class="builtintype" id="1388203">uintptr</span><span class="op" id="1388210">(</span><span class="ident" id="1388211">t</span><span class="op" id="1388212">.</span><span class="ident" id="1388213">size</span><span class="op" id="1388217">)</span><span class="op" id="1388218">,</span>&nbsp;<span class="ident" id="1388220">h</span><span class="op" id="1388221">^</span><span class="ident" id="1388222">c0</span><span class="op" id="1388224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1388227">}</span><br>
<span class="lineno">175</span><span class="op" id="1388229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1388232">func</span>&nbsp;<span class="ident" id="1388237">memequal</span><span class="op" id="1388245">(</span><span class="ident" id="1388246">p</span><span class="op" id="1388247">,</span>&nbsp;<span class="ident" id="1388249">q</span>&nbsp;<span class="ident" id="1388251">unsafe</span><span class="op" id="1388257">.</span><span class="ident" id="1388258">Pointer</span><span class="op" id="1388265">,</span>&nbsp;<span class="ident" id="1388267">size</span>&nbsp;<span class="builtintype" id="1388272">uintptr</span><span class="op" id="1388279">)</span>&nbsp;<span class="builtintype" id="1388281">bool</span>&nbsp;<span class="op" id="1388286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388289">if</span>&nbsp;<span class="ident" id="1388292">p</span>&nbsp;<span class="op" id="1388294">==</span>&nbsp;<span class="ident" id="1388297">q</span>&nbsp;<span class="op" id="1388299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388303">return</span>&nbsp;<span class="builtintype" id="1388310">true</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1388316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388319">return</span>&nbsp;<span class="ident" id="1388326">memeq</span><span class="op" id="1388331">(</span><span class="ident" id="1388332">p</span><span class="op" id="1388333">,</span>&nbsp;<span class="ident" id="1388335">q</span><span class="op" id="1388336">,</span>&nbsp;<span class="ident" id="1388338">size</span><span class="op" id="1388342">)</span><br>
<span class="lineno"></span><span class="op" id="1388344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1388347">func</span>&nbsp;<span class="ident" id="1388352">memequal0</span><span class="op" id="1388361">(</span><span class="ident" id="1388362">p</span><span class="op" id="1388363">,</span>&nbsp;<span class="ident" id="1388365">q</span>&nbsp;<span class="ident" id="1388367">unsafe</span><span class="op" id="1388373">.</span><span class="ident" id="1388374">Pointer</span><span class="op" id="1388381">,</span>&nbsp;<span class="ident" id="1388383">size</span>&nbsp;<span class="builtintype" id="1388388">uintptr</span><span class="op" id="1388395">)</span>&nbsp;<span class="builtintype" id="1388397">bool</span>&nbsp;<span class="op" id="1388402">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388405">return</span>&nbsp;<span class="builtintype" id="1388412">true</span><br>
<span class="lineno"></span><span class="op" id="1388417">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388419">func</span>&nbsp;<span class="ident" id="1388424">memequal8</span><span class="op" id="1388433">(</span><span class="ident" id="1388434">p</span><span class="op" id="1388435">,</span>&nbsp;<span class="ident" id="1388437">q</span>&nbsp;<span class="ident" id="1388439">unsafe</span><span class="op" id="1388445">.</span><span class="ident" id="1388446">Pointer</span><span class="op" id="1388453">,</span>&nbsp;<span class="ident" id="1388455">size</span>&nbsp;<span class="builtintype" id="1388460">uintptr</span><span class="op" id="1388467">)</span>&nbsp;<span class="builtintype" id="1388469">bool</span>&nbsp;<span class="op" id="1388474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388477">return</span>&nbsp;<span class="op" id="1388484">*</span><span class="op" id="1388485">(</span><span class="op" id="1388486">*</span><span class="builtintype" id="1388487">int8</span><span class="op" id="1388491">)</span><span class="op" id="1388492">(</span><span class="ident" id="1388493">p</span><span class="op" id="1388494">)</span>&nbsp;<span class="op" id="1388496">==</span>&nbsp;<span class="op" id="1388499">*</span><span class="op" id="1388500">(</span><span class="op" id="1388501">*</span><span class="builtintype" id="1388502">int8</span><span class="op" id="1388506">)</span><span class="op" id="1388507">(</span><span class="ident" id="1388508">q</span><span class="op" id="1388509">)</span><br>
<span class="lineno"></span><span class="op" id="1388511">}</span><br>
<span class="lineno">190</span><span class="keyword" id="1388513">func</span>&nbsp;<span class="ident" id="1388518">memequal16</span><span class="op" id="1388528">(</span><span class="ident" id="1388529">p</span><span class="op" id="1388530">,</span>&nbsp;<span class="ident" id="1388532">q</span>&nbsp;<span class="ident" id="1388534">unsafe</span><span class="op" id="1388540">.</span><span class="ident" id="1388541">Pointer</span><span class="op" id="1388548">,</span>&nbsp;<span class="ident" id="1388550">size</span>&nbsp;<span class="builtintype" id="1388555">uintptr</span><span class="op" id="1388562">)</span>&nbsp;<span class="builtintype" id="1388564">bool</span>&nbsp;<span class="op" id="1388569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388572">return</span>&nbsp;<span class="op" id="1388579">*</span><span class="op" id="1388580">(</span><span class="op" id="1388581">*</span><span class="builtintype" id="1388582">int16</span><span class="op" id="1388587">)</span><span class="op" id="1388588">(</span><span class="ident" id="1388589">p</span><span class="op" id="1388590">)</span>&nbsp;<span class="op" id="1388592">==</span>&nbsp;<span class="op" id="1388595">*</span><span class="op" id="1388596">(</span><span class="op" id="1388597">*</span><span class="builtintype" id="1388598">int16</span><span class="op" id="1388603">)</span><span class="op" id="1388604">(</span><span class="ident" id="1388605">q</span><span class="op" id="1388606">)</span><br>
<span class="lineno"></span><span class="op" id="1388608">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388610">func</span>&nbsp;<span class="ident" id="1388615">memequal32</span><span class="op" id="1388625">(</span><span class="ident" id="1388626">p</span><span class="op" id="1388627">,</span>&nbsp;<span class="ident" id="1388629">q</span>&nbsp;<span class="ident" id="1388631">unsafe</span><span class="op" id="1388637">.</span><span class="ident" id="1388638">Pointer</span><span class="op" id="1388645">,</span>&nbsp;<span class="ident" id="1388647">size</span>&nbsp;<span class="builtintype" id="1388652">uintptr</span><span class="op" id="1388659">)</span>&nbsp;<span class="builtintype" id="1388661">bool</span>&nbsp;<span class="op" id="1388666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388669">return</span>&nbsp;<span class="op" id="1388676">*</span><span class="op" id="1388677">(</span><span class="op" id="1388678">*</span><span class="builtintype" id="1388679">int32</span><span class="op" id="1388684">)</span><span class="op" id="1388685">(</span><span class="ident" id="1388686">p</span><span class="op" id="1388687">)</span>&nbsp;<span class="op" id="1388689">==</span>&nbsp;<span class="op" id="1388692">*</span><span class="op" id="1388693">(</span><span class="op" id="1388694">*</span><span class="builtintype" id="1388695">int32</span><span class="op" id="1388700">)</span><span class="op" id="1388701">(</span><span class="ident" id="1388702">q</span><span class="op" id="1388703">)</span><br>
<span class="lineno">195</span><span class="op" id="1388705">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388707">func</span>&nbsp;<span class="ident" id="1388712">memequal64</span><span class="op" id="1388722">(</span><span class="ident" id="1388723">p</span><span class="op" id="1388724">,</span>&nbsp;<span class="ident" id="1388726">q</span>&nbsp;<span class="ident" id="1388728">unsafe</span><span class="op" id="1388734">.</span><span class="ident" id="1388735">Pointer</span><span class="op" id="1388742">,</span>&nbsp;<span class="ident" id="1388744">size</span>&nbsp;<span class="builtintype" id="1388749">uintptr</span><span class="op" id="1388756">)</span>&nbsp;<span class="builtintype" id="1388758">bool</span>&nbsp;<span class="op" id="1388763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388766">return</span>&nbsp;<span class="op" id="1388773">*</span><span class="op" id="1388774">(</span><span class="op" id="1388775">*</span><span class="builtintype" id="1388776">int64</span><span class="op" id="1388781">)</span><span class="op" id="1388782">(</span><span class="ident" id="1388783">p</span><span class="op" id="1388784">)</span>&nbsp;<span class="op" id="1388786">==</span>&nbsp;<span class="op" id="1388789">*</span><span class="op" id="1388790">(</span><span class="op" id="1388791">*</span><span class="builtintype" id="1388792">int64</span><span class="op" id="1388797">)</span><span class="op" id="1388798">(</span><span class="ident" id="1388799">q</span><span class="op" id="1388800">)</span><br>
<span class="lineno"></span><span class="op" id="1388802">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388804">func</span>&nbsp;<span class="ident" id="1388809">memequal128</span><span class="op" id="1388820">(</span><span class="ident" id="1388821">p</span><span class="op" id="1388822">,</span>&nbsp;<span class="ident" id="1388824">q</span>&nbsp;<span class="ident" id="1388826">unsafe</span><span class="op" id="1388832">.</span><span class="ident" id="1388833">Pointer</span><span class="op" id="1388840">,</span>&nbsp;<span class="ident" id="1388842">size</span>&nbsp;<span class="builtintype" id="1388847">uintptr</span><span class="op" id="1388854">)</span>&nbsp;<span class="builtintype" id="1388856">bool</span>&nbsp;<span class="op" id="1388861">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388864">return</span>&nbsp;<span class="op" id="1388871">*</span><span class="op" id="1388872">(</span><span class="op" id="1388873">*</span><span class="op" id="1388874">[</span><span class="num" id="1388875">2</span><span class="op" id="1388876">]</span><span class="builtintype" id="1388877">int64</span><span class="op" id="1388882">)</span><span class="op" id="1388883">(</span><span class="ident" id="1388884">p</span><span class="op" id="1388885">)</span>&nbsp;<span class="op" id="1388887">==</span>&nbsp;<span class="op" id="1388890">*</span><span class="op" id="1388891">(</span><span class="op" id="1388892">*</span><span class="op" id="1388893">[</span><span class="num" id="1388894">2</span><span class="op" id="1388895">]</span><span class="builtintype" id="1388896">int64</span><span class="op" id="1388901">)</span><span class="op" id="1388902">(</span><span class="ident" id="1388903">q</span><span class="op" id="1388904">)</span><br>
<span class="lineno"></span><span class="op" id="1388906">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388908">func</span>&nbsp;<span class="ident" id="1388913">f32equal</span><span class="op" id="1388921">(</span><span class="ident" id="1388922">p</span><span class="op" id="1388923">,</span>&nbsp;<span class="ident" id="1388925">q</span>&nbsp;<span class="ident" id="1388927">unsafe</span><span class="op" id="1388933">.</span><span class="ident" id="1388934">Pointer</span><span class="op" id="1388941">,</span>&nbsp;<span class="ident" id="1388943">size</span>&nbsp;<span class="builtintype" id="1388948">uintptr</span><span class="op" id="1388955">)</span>&nbsp;<span class="builtintype" id="1388957">bool</span>&nbsp;<span class="op" id="1388962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1388965">return</span>&nbsp;<span class="op" id="1388972">*</span><span class="op" id="1388973">(</span><span class="op" id="1388974">*</span><span class="builtintype" id="1388975">float32</span><span class="op" id="1388982">)</span><span class="op" id="1388983">(</span><span class="ident" id="1388984">p</span><span class="op" id="1388985">)</span>&nbsp;<span class="op" id="1388987">==</span>&nbsp;<span class="op" id="1388990">*</span><span class="op" id="1388991">(</span><span class="op" id="1388992">*</span><span class="builtintype" id="1388993">float32</span><span class="op" id="1389000">)</span><span class="op" id="1389001">(</span><span class="ident" id="1389002">q</span><span class="op" id="1389003">)</span><br>
<span class="lineno"></span><span class="op" id="1389005">}</span><br>
<span class="lineno">205</span><span class="keyword" id="1389007">func</span>&nbsp;<span class="ident" id="1389012">f64equal</span><span class="op" id="1389020">(</span><span class="ident" id="1389021">p</span><span class="op" id="1389022">,</span>&nbsp;<span class="ident" id="1389024">q</span>&nbsp;<span class="ident" id="1389026">unsafe</span><span class="op" id="1389032">.</span><span class="ident" id="1389033">Pointer</span><span class="op" id="1389040">,</span>&nbsp;<span class="ident" id="1389042">size</span>&nbsp;<span class="builtintype" id="1389047">uintptr</span><span class="op" id="1389054">)</span>&nbsp;<span class="builtintype" id="1389056">bool</span>&nbsp;<span class="op" id="1389061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389064">return</span>&nbsp;<span class="op" id="1389071">*</span><span class="op" id="1389072">(</span><span class="op" id="1389073">*</span><span class="builtintype" id="1389074">float64</span><span class="op" id="1389081">)</span><span class="op" id="1389082">(</span><span class="ident" id="1389083">p</span><span class="op" id="1389084">)</span>&nbsp;<span class="op" id="1389086">==</span>&nbsp;<span class="op" id="1389089">*</span><span class="op" id="1389090">(</span><span class="op" id="1389091">*</span><span class="builtintype" id="1389092">float64</span><span class="op" id="1389099">)</span><span class="op" id="1389100">(</span><span class="ident" id="1389101">q</span><span class="op" id="1389102">)</span><br>
<span class="lineno"></span><span class="op" id="1389104">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389106">func</span>&nbsp;<span class="ident" id="1389111">c64equal</span><span class="op" id="1389119">(</span><span class="ident" id="1389120">p</span><span class="op" id="1389121">,</span>&nbsp;<span class="ident" id="1389123">q</span>&nbsp;<span class="ident" id="1389125">unsafe</span><span class="op" id="1389131">.</span><span class="ident" id="1389132">Pointer</span><span class="op" id="1389139">,</span>&nbsp;<span class="ident" id="1389141">size</span>&nbsp;<span class="builtintype" id="1389146">uintptr</span><span class="op" id="1389153">)</span>&nbsp;<span class="builtintype" id="1389155">bool</span>&nbsp;<span class="op" id="1389160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389163">return</span>&nbsp;<span class="op" id="1389170">*</span><span class="op" id="1389171">(</span><span class="op" id="1389172">*</span><span class="builtintype" id="1389173">complex64</span><span class="op" id="1389182">)</span><span class="op" id="1389183">(</span><span class="ident" id="1389184">p</span><span class="op" id="1389185">)</span>&nbsp;<span class="op" id="1389187">==</span>&nbsp;<span class="op" id="1389190">*</span><span class="op" id="1389191">(</span><span class="op" id="1389192">*</span><span class="builtintype" id="1389193">complex64</span><span class="op" id="1389202">)</span><span class="op" id="1389203">(</span><span class="ident" id="1389204">q</span><span class="op" id="1389205">)</span><br>
<span class="lineno">210</span><span class="op" id="1389207">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389209">func</span>&nbsp;<span class="ident" id="1389214">c128equal</span><span class="op" id="1389223">(</span><span class="ident" id="1389224">p</span><span class="op" id="1389225">,</span>&nbsp;<span class="ident" id="1389227">q</span>&nbsp;<span class="ident" id="1389229">unsafe</span><span class="op" id="1389235">.</span><span class="ident" id="1389236">Pointer</span><span class="op" id="1389243">,</span>&nbsp;<span class="ident" id="1389245">size</span>&nbsp;<span class="builtintype" id="1389250">uintptr</span><span class="op" id="1389257">)</span>&nbsp;<span class="builtintype" id="1389259">bool</span>&nbsp;<span class="op" id="1389264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389267">return</span>&nbsp;<span class="op" id="1389274">*</span><span class="op" id="1389275">(</span><span class="op" id="1389276">*</span><span class="builtintype" id="1389277">complex128</span><span class="op" id="1389287">)</span><span class="op" id="1389288">(</span><span class="ident" id="1389289">p</span><span class="op" id="1389290">)</span>&nbsp;<span class="op" id="1389292">==</span>&nbsp;<span class="op" id="1389295">*</span><span class="op" id="1389296">(</span><span class="op" id="1389297">*</span><span class="builtintype" id="1389298">complex128</span><span class="op" id="1389308">)</span><span class="op" id="1389309">(</span><span class="ident" id="1389310">q</span><span class="op" id="1389311">)</span><br>
<span class="lineno"></span><span class="op" id="1389313">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389315">func</span>&nbsp;<span class="ident" id="1389320">strequal</span><span class="op" id="1389328">(</span><span class="ident" id="1389329">p</span><span class="op" id="1389330">,</span>&nbsp;<span class="ident" id="1389332">q</span>&nbsp;<span class="ident" id="1389334">unsafe</span><span class="op" id="1389340">.</span><span class="ident" id="1389341">Pointer</span><span class="op" id="1389348">,</span>&nbsp;<span class="ident" id="1389350">size</span>&nbsp;<span class="builtintype" id="1389355">uintptr</span><span class="op" id="1389362">)</span>&nbsp;<span class="builtintype" id="1389364">bool</span>&nbsp;<span class="op" id="1389369">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389372">return</span>&nbsp;<span class="op" id="1389379">*</span><span class="op" id="1389380">(</span><span class="op" id="1389381">*</span><span class="builtintype" id="1389382">string</span><span class="op" id="1389388">)</span><span class="op" id="1389389">(</span><span class="ident" id="1389390">p</span><span class="op" id="1389391">)</span>&nbsp;<span class="op" id="1389393">==</span>&nbsp;<span class="op" id="1389396">*</span><span class="op" id="1389397">(</span><span class="op" id="1389398">*</span><span class="builtintype" id="1389399">string</span><span class="op" id="1389405">)</span><span class="op" id="1389406">(</span><span class="ident" id="1389407">q</span><span class="op" id="1389408">)</span><br>
<span class="lineno"></span><span class="op" id="1389410">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389412">func</span>&nbsp;<span class="ident" id="1389417">interequal</span><span class="op" id="1389427">(</span><span class="ident" id="1389428">p</span><span class="op" id="1389429">,</span>&nbsp;<span class="ident" id="1389431">q</span>&nbsp;<span class="ident" id="1389433">unsafe</span><span class="op" id="1389439">.</span><span class="ident" id="1389440">Pointer</span><span class="op" id="1389447">,</span>&nbsp;<span class="ident" id="1389449">size</span>&nbsp;<span class="builtintype" id="1389454">uintptr</span><span class="op" id="1389461">)</span>&nbsp;<span class="builtintype" id="1389463">bool</span>&nbsp;<span class="op" id="1389468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389471">return</span>&nbsp;<span class="ident" id="1389478">ifaceeq</span><span class="op" id="1389485">(</span><span class="op" id="1389486">*</span><span class="op" id="1389487">(</span><span class="op" id="1389488">*</span><span class="keyword" id="1389489">interface</span>&nbsp;<span class="op" id="1389499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1389503">f</span><span class="op" id="1389504">(</span><span class="op" id="1389505">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389508">}</span><span class="op" id="1389509">)</span><span class="op" id="1389510">(</span><span class="ident" id="1389511">p</span><span class="op" id="1389512">)</span><span class="op" id="1389513">,</span>&nbsp;<span class="op" id="1389515">*</span><span class="op" id="1389516">(</span><span class="op" id="1389517">*</span><span class="keyword" id="1389518">interface</span>&nbsp;<span class="op" id="1389528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1389532">f</span><span class="op" id="1389533">(</span><span class="op" id="1389534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389537">}</span><span class="op" id="1389538">)</span><span class="op" id="1389539">(</span><span class="ident" id="1389540">q</span><span class="op" id="1389541">)</span><span class="op" id="1389542">)</span><br>
<span class="lineno"></span><span class="op" id="1389544">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389546">func</span>&nbsp;<span class="ident" id="1389551">nilinterequal</span><span class="op" id="1389564">(</span><span class="ident" id="1389565">p</span><span class="op" id="1389566">,</span>&nbsp;<span class="ident" id="1389568">q</span>&nbsp;<span class="ident" id="1389570">unsafe</span><span class="op" id="1389576">.</span><span class="ident" id="1389577">Pointer</span><span class="op" id="1389584">,</span>&nbsp;<span class="ident" id="1389586">size</span>&nbsp;<span class="builtintype" id="1389591">uintptr</span><span class="op" id="1389598">)</span>&nbsp;<span class="builtintype" id="1389600">bool</span>&nbsp;<span class="op" id="1389605">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389608">return</span>&nbsp;<span class="ident" id="1389615">efaceeq</span><span class="op" id="1389622">(</span><span class="op" id="1389623">*</span><span class="op" id="1389624">(</span><span class="op" id="1389625">*</span><span class="keyword" id="1389626">interface</span><span class="op" id="1389635">{</span><span class="op" id="1389636">}</span><span class="op" id="1389637">)</span><span class="op" id="1389638">(</span><span class="ident" id="1389639">p</span><span class="op" id="1389640">)</span><span class="op" id="1389641">,</span>&nbsp;<span class="op" id="1389643">*</span><span class="op" id="1389644">(</span><span class="op" id="1389645">*</span><span class="keyword" id="1389646">interface</span><span class="op" id="1389655">{</span><span class="op" id="1389656">}</span><span class="op" id="1389657">)</span><span class="op" id="1389658">(</span><span class="ident" id="1389659">q</span><span class="op" id="1389660">)</span><span class="op" id="1389661">)</span><br>
<span class="lineno"></span><span class="op" id="1389663">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389665">func</span>&nbsp;<span class="ident" id="1389670">efaceeq</span><span class="op" id="1389677">(</span><span class="ident" id="1389678">p</span><span class="op" id="1389679">,</span>&nbsp;<span class="ident" id="1389681">q</span>&nbsp;<span class="keyword" id="1389683">interface</span><span class="op" id="1389692">{</span><span class="op" id="1389693">}</span><span class="op" id="1389694">)</span>&nbsp;<span class="builtintype" id="1389696">bool</span>&nbsp;<span class="op" id="1389701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1389704">x</span>&nbsp;<span class="op" id="1389706">:=</span>&nbsp;<span class="op" id="1389709">(</span><span class="op" id="1389710">*</span><span class="ident" id="1389711">eface</span><span class="op" id="1389716">)</span><span class="op" id="1389717">(</span><span class="ident" id="1389718">unsafe</span><span class="op" id="1389724">.</span><span class="ident" id="1389725">Pointer</span><span class="op" id="1389732">(</span><span class="op" id="1389733">&amp;</span><span class="ident" id="1389734">p</span><span class="op" id="1389735">)</span><span class="op" id="1389736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1389739">y</span>&nbsp;<span class="op" id="1389741">:=</span>&nbsp;<span class="op" id="1389744">(</span><span class="op" id="1389745">*</span><span class="ident" id="1389746">eface</span><span class="op" id="1389751">)</span><span class="op" id="1389752">(</span><span class="ident" id="1389753">unsafe</span><span class="op" id="1389759">.</span><span class="ident" id="1389760">Pointer</span><span class="op" id="1389767">(</span><span class="op" id="1389768">&amp;</span><span class="ident" id="1389769">q</span><span class="op" id="1389770">)</span><span class="op" id="1389771">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1389774">t</span>&nbsp;<span class="op" id="1389776">:=</span>&nbsp;<span class="ident" id="1389779">x</span><span class="op" id="1389780">.</span><span class="ident" id="1389781">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389788">if</span>&nbsp;<span class="ident" id="1389791">t</span>&nbsp;<span class="op" id="1389793">!=</span>&nbsp;<span class="ident" id="1389796">y</span><span class="op" id="1389797">.</span><span class="ident" id="1389798">_type</span>&nbsp;<span class="op" id="1389804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389808">return</span>&nbsp;<span class="builtintype" id="1389815">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389825">if</span>&nbsp;<span class="ident" id="1389828">t</span>&nbsp;<span class="op" id="1389830">==</span>&nbsp;<span class="builtintype" id="1389833">nil</span>&nbsp;<span class="op" id="1389837">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389841">return</span>&nbsp;<span class="builtintype" id="1389848">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1389857">eq</span>&nbsp;<span class="op" id="1389860">:=</span>&nbsp;<span class="ident" id="1389863">goalg</span><span class="op" id="1389868">(</span><span class="ident" id="1389869">t</span><span class="op" id="1389870">.</span><span class="ident" id="1389871">alg</span><span class="op" id="1389874">)</span><span class="op" id="1389875">.</span><span class="ident" id="1389876">equal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389883">if</span>&nbsp;<span class="ident" id="1389886">eq</span>&nbsp;<span class="op" id="1389889">==</span>&nbsp;<span class="builtintype" id="1389892">nil</span>&nbsp;<span class="op" id="1389896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1389900">panic</span><span class="op" id="1389905">(</span><span class="ident" id="1389906">errorString</span><span class="op" id="1389917">(</span><span class="string" id="1389918">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1389949">+</span>&nbsp;<span class="op" id="1389951">*</span><span class="ident" id="1389952">t</span><span class="op" id="1389953">.</span><span class="ident" id="1389954">_string</span><span class="op" id="1389961">)</span><span class="op" id="1389962">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389965">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389968">if</span>&nbsp;<span class="ident" id="1389971">isDirectIface</span><span class="op" id="1389984">(</span><span class="ident" id="1389985">t</span><span class="op" id="1389986">)</span>&nbsp;<span class="op" id="1389988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1389992">return</span>&nbsp;<span class="ident" id="1389999">eq</span><span class="op" id="1390001">(</span><span class="ident" id="1390002">noescape</span><span class="op" id="1390010">(</span><span class="ident" id="1390011">unsafe</span><span class="op" id="1390017">.</span><span class="ident" id="1390018">Pointer</span><span class="op" id="1390025">(</span><span class="op" id="1390026">&amp;</span><span class="ident" id="1390027">x</span><span class="op" id="1390028">.</span><span class="ident" id="1390029">data</span><span class="op" id="1390033">)</span><span class="op" id="1390034">)</span><span class="op" id="1390035">,</span>&nbsp;<span class="ident" id="1390037">noescape</span><span class="op" id="1390045">(</span><span class="ident" id="1390046">unsafe</span><span class="op" id="1390052">.</span><span class="ident" id="1390053">Pointer</span><span class="op" id="1390060">(</span><span class="op" id="1390061">&amp;</span><span class="ident" id="1390062">y</span><span class="op" id="1390063">.</span><span class="ident" id="1390064">data</span><span class="op" id="1390068">)</span><span class="op" id="1390069">)</span><span class="op" id="1390070">,</span>&nbsp;<span class="builtintype" id="1390072">uintptr</span><span class="op" id="1390079">(</span><span class="ident" id="1390080">t</span><span class="op" id="1390081">.</span><span class="ident" id="1390082">size</span><span class="op" id="1390086">)</span><span class="op" id="1390087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1390090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390093">return</span>&nbsp;<span class="ident" id="1390100">eq</span><span class="op" id="1390102">(</span><span class="ident" id="1390103">x</span><span class="op" id="1390104">.</span><span class="ident" id="1390105">data</span><span class="op" id="1390109">,</span>&nbsp;<span class="ident" id="1390111">y</span><span class="op" id="1390112">.</span><span class="ident" id="1390113">data</span><span class="op" id="1390117">,</span>&nbsp;<span class="builtintype" id="1390119">uintptr</span><span class="op" id="1390126">(</span><span class="ident" id="1390127">t</span><span class="op" id="1390128">.</span><span class="ident" id="1390129">size</span><span class="op" id="1390133">)</span><span class="op" id="1390134">)</span><br>
<span class="lineno">245</span><span class="op" id="1390136">}</span><br>
<span class="lineno"></span><span class="keyword" id="1390138">func</span>&nbsp;<span class="ident" id="1390143">ifaceeq</span><span class="op" id="1390150">(</span><span class="ident" id="1390151">p</span><span class="op" id="1390152">,</span>&nbsp;<span class="ident" id="1390154">q</span>&nbsp;<span class="keyword" id="1390156">interface</span>&nbsp;<span class="op" id="1390166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390169">f</span><span class="op" id="1390170">(</span><span class="op" id="1390171">)</span><br>
<span class="lineno"></span><span class="op" id="1390173">}</span><span class="op" id="1390174">)</span>&nbsp;<span class="builtintype" id="1390176">bool</span>&nbsp;<span class="op" id="1390181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390184">x</span>&nbsp;<span class="op" id="1390186">:=</span>&nbsp;<span class="op" id="1390189">(</span><span class="op" id="1390190">*</span><span class="ident" id="1390191">iface</span><span class="op" id="1390196">)</span><span class="op" id="1390197">(</span><span class="ident" id="1390198">unsafe</span><span class="op" id="1390204">.</span><span class="ident" id="1390205">Pointer</span><span class="op" id="1390212">(</span><span class="op" id="1390213">&amp;</span><span class="ident" id="1390214">p</span><span class="op" id="1390215">)</span><span class="op" id="1390216">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390219">y</span>&nbsp;<span class="op" id="1390221">:=</span>&nbsp;<span class="op" id="1390224">(</span><span class="op" id="1390225">*</span><span class="ident" id="1390226">iface</span><span class="op" id="1390231">)</span><span class="op" id="1390232">(</span><span class="ident" id="1390233">unsafe</span><span class="op" id="1390239">.</span><span class="ident" id="1390240">Pointer</span><span class="op" id="1390247">(</span><span class="op" id="1390248">&amp;</span><span class="ident" id="1390249">q</span><span class="op" id="1390250">)</span><span class="op" id="1390251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390254">xtab</span>&nbsp;<span class="op" id="1390259">:=</span>&nbsp;<span class="ident" id="1390262">x</span><span class="op" id="1390263">.</span><span class="ident" id="1390264">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390269">if</span>&nbsp;<span class="ident" id="1390272">xtab</span>&nbsp;<span class="op" id="1390277">!=</span>&nbsp;<span class="ident" id="1390280">y</span><span class="op" id="1390281">.</span><span class="ident" id="1390282">tab</span>&nbsp;<span class="op" id="1390286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390290">return</span>&nbsp;<span class="builtintype" id="1390297">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1390304">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390307">if</span>&nbsp;<span class="ident" id="1390310">xtab</span>&nbsp;<span class="op" id="1390315">==</span>&nbsp;<span class="builtintype" id="1390318">nil</span>&nbsp;<span class="op" id="1390322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390326">return</span>&nbsp;<span class="builtintype" id="1390333">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1390339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390342">t</span>&nbsp;<span class="op" id="1390344">:=</span>&nbsp;<span class="ident" id="1390347">xtab</span><span class="op" id="1390351">.</span><span class="ident" id="1390352">_type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390359">eq</span>&nbsp;<span class="op" id="1390362">:=</span>&nbsp;<span class="ident" id="1390365">goalg</span><span class="op" id="1390370">(</span><span class="ident" id="1390371">t</span><span class="op" id="1390372">.</span><span class="ident" id="1390373">alg</span><span class="op" id="1390376">)</span><span class="op" id="1390377">.</span><span class="ident" id="1390378">equal</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390385">if</span>&nbsp;<span class="ident" id="1390388">eq</span>&nbsp;<span class="op" id="1390391">==</span>&nbsp;<span class="builtintype" id="1390394">nil</span>&nbsp;<span class="op" id="1390398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="1390402">panic</span><span class="op" id="1390407">(</span><span class="ident" id="1390408">errorString</span><span class="op" id="1390419">(</span><span class="string" id="1390420">&#34;comparing&nbsp;uncomparable&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="1390451">+</span>&nbsp;<span class="op" id="1390453">*</span><span class="ident" id="1390454">t</span><span class="op" id="1390455">.</span><span class="ident" id="1390456">_string</span><span class="op" id="1390463">)</span><span class="op" id="1390464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1390467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390470">if</span>&nbsp;<span class="ident" id="1390473">isDirectIface</span><span class="op" id="1390486">(</span><span class="ident" id="1390487">t</span><span class="op" id="1390488">)</span>&nbsp;<span class="op" id="1390490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390494">return</span>&nbsp;<span class="ident" id="1390501">eq</span><span class="op" id="1390503">(</span><span class="ident" id="1390504">noescape</span><span class="op" id="1390512">(</span><span class="ident" id="1390513">unsafe</span><span class="op" id="1390519">.</span><span class="ident" id="1390520">Pointer</span><span class="op" id="1390527">(</span><span class="op" id="1390528">&amp;</span><span class="ident" id="1390529">x</span><span class="op" id="1390530">.</span><span class="ident" id="1390531">data</span><span class="op" id="1390535">)</span><span class="op" id="1390536">)</span><span class="op" id="1390537">,</span>&nbsp;<span class="ident" id="1390539">noescape</span><span class="op" id="1390547">(</span><span class="ident" id="1390548">unsafe</span><span class="op" id="1390554">.</span><span class="ident" id="1390555">Pointer</span><span class="op" id="1390562">(</span><span class="op" id="1390563">&amp;</span><span class="ident" id="1390564">y</span><span class="op" id="1390565">.</span><span class="ident" id="1390566">data</span><span class="op" id="1390570">)</span><span class="op" id="1390571">)</span><span class="op" id="1390572">,</span>&nbsp;<span class="builtintype" id="1390574">uintptr</span><span class="op" id="1390581">(</span><span class="ident" id="1390582">t</span><span class="op" id="1390583">.</span><span class="ident" id="1390584">size</span><span class="op" id="1390588">)</span><span class="op" id="1390589">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1390592">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390595">return</span>&nbsp;<span class="ident" id="1390602">eq</span><span class="op" id="1390604">(</span><span class="ident" id="1390605">x</span><span class="op" id="1390606">.</span><span class="ident" id="1390607">data</span><span class="op" id="1390611">,</span>&nbsp;<span class="ident" id="1390613">y</span><span class="op" id="1390614">.</span><span class="ident" id="1390615">data</span><span class="op" id="1390619">,</span>&nbsp;<span class="builtintype" id="1390621">uintptr</span><span class="op" id="1390628">(</span><span class="ident" id="1390629">t</span><span class="op" id="1390630">.</span><span class="ident" id="1390631">size</span><span class="op" id="1390635">)</span><span class="op" id="1390636">)</span><br>
<span class="lineno"></span><span class="op" id="1390638">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1390641">//&nbsp;Testing&nbsp;adapters&nbsp;for&nbsp;hash&nbsp;quality&nbsp;tests&nbsp;(see&nbsp;hash_test.go)</span><br>
<span class="lineno">270</span><span class="keyword" id="1390703">func</span>&nbsp;<span class="ident" id="1390708">haveGoodHash</span><span class="op" id="1390720">(</span><span class="op" id="1390721">)</span>&nbsp;<span class="builtintype" id="1390723">bool</span>&nbsp;<span class="op" id="1390728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390731">return</span>&nbsp;<span class="ident" id="1390738">useAeshash</span><br>
<span class="lineno"></span><span class="op" id="1390749">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1390752">func</span>&nbsp;<span class="ident" id="1390757">stringHash</span><span class="op" id="1390767">(</span><span class="ident" id="1390768">s</span>&nbsp;<span class="builtintype" id="1390770">string</span><span class="op" id="1390776">,</span>&nbsp;<span class="ident" id="1390778">seed</span>&nbsp;<span class="builtintype" id="1390783">uintptr</span><span class="op" id="1390790">)</span>&nbsp;<span class="builtintype" id="1390792">uintptr</span>&nbsp;<span class="op" id="1390800">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390803">return</span>&nbsp;<span class="ident" id="1390810">algarray</span><span class="op" id="1390818">[</span><span class="ident" id="1390819">alg_STRING</span><span class="op" id="1390829">]</span><span class="op" id="1390830">.</span><span class="ident" id="1390831">hash</span><span class="op" id="1390835">(</span><span class="ident" id="1390836">noescape</span><span class="op" id="1390844">(</span><span class="ident" id="1390845">unsafe</span><span class="op" id="1390851">.</span><span class="ident" id="1390852">Pointer</span><span class="op" id="1390859">(</span><span class="op" id="1390860">&amp;</span><span class="ident" id="1390861">s</span><span class="op" id="1390862">)</span><span class="op" id="1390863">)</span><span class="op" id="1390864">,</span>&nbsp;<span class="ident" id="1390866">unsafe</span><span class="op" id="1390872">.</span><span class="ident" id="1390873">Sizeof</span><span class="op" id="1390879">(</span><span class="ident" id="1390880">s</span><span class="op" id="1390881">)</span><span class="op" id="1390882">,</span>&nbsp;<span class="ident" id="1390884">seed</span><span class="op" id="1390888">)</span><br>
<span class="lineno"></span><span class="op" id="1390890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1390893">func</span>&nbsp;<span class="ident" id="1390898">bytesHash</span><span class="op" id="1390907">(</span><span class="ident" id="1390908">b</span>&nbsp;<span class="op" id="1390910">[</span><span class="op" id="1390911">]</span><span class="builtintype" id="1390912">byte</span><span class="op" id="1390916">,</span>&nbsp;<span class="ident" id="1390918">seed</span>&nbsp;<span class="builtintype" id="1390923">uintptr</span><span class="op" id="1390930">)</span>&nbsp;<span class="builtintype" id="1390932">uintptr</span>&nbsp;<span class="op" id="1390940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1390943">s</span>&nbsp;<span class="op" id="1390945">:=</span>&nbsp;<span class="op" id="1390948">(</span><span class="op" id="1390949">*</span><span class="ident" id="1390950">sliceStruct</span><span class="op" id="1390961">)</span><span class="op" id="1390962">(</span><span class="ident" id="1390963">unsafe</span><span class="op" id="1390969">.</span><span class="ident" id="1390970">Pointer</span><span class="op" id="1390977">(</span><span class="op" id="1390978">&amp;</span><span class="ident" id="1390979">b</span><span class="op" id="1390980">)</span><span class="op" id="1390981">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1390984">return</span>&nbsp;<span class="ident" id="1390991">algarray</span><span class="op" id="1390999">[</span><span class="ident" id="1391000">alg_MEM</span><span class="op" id="1391007">]</span><span class="op" id="1391008">.</span><span class="ident" id="1391009">hash</span><span class="op" id="1391013">(</span><span class="ident" id="1391014">s</span><span class="op" id="1391015">.</span><span class="ident" id="1391016">array</span><span class="op" id="1391021">,</span>&nbsp;<span class="builtintype" id="1391023">uintptr</span><span class="op" id="1391030">(</span><span class="ident" id="1391031">s</span><span class="op" id="1391032">.</span><span class="builtinfunc" id="1391033">len</span><span class="op" id="1391036">)</span><span class="op" id="1391037">,</span>&nbsp;<span class="ident" id="1391039">seed</span><span class="op" id="1391043">)</span><br>
<span class="lineno"></span><span class="op" id="1391045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1391048">func</span>&nbsp;<span class="ident" id="1391053">int32Hash</span><span class="op" id="1391062">(</span><span class="ident" id="1391063">i</span>&nbsp;<span class="builtintype" id="1391065">uint32</span><span class="op" id="1391071">,</span>&nbsp;<span class="ident" id="1391073">seed</span>&nbsp;<span class="builtintype" id="1391078">uintptr</span><span class="op" id="1391085">)</span>&nbsp;<span class="builtintype" id="1391087">uintptr</span>&nbsp;<span class="op" id="1391095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1391098">return</span>&nbsp;<span class="ident" id="1391105">algarray</span><span class="op" id="1391113">[</span><span class="ident" id="1391114">alg_MEM32</span><span class="op" id="1391123">]</span><span class="op" id="1391124">.</span><span class="ident" id="1391125">hash</span><span class="op" id="1391129">(</span><span class="ident" id="1391130">noescape</span><span class="op" id="1391138">(</span><span class="ident" id="1391139">unsafe</span><span class="op" id="1391145">.</span><span class="ident" id="1391146">Pointer</span><span class="op" id="1391153">(</span><span class="op" id="1391154">&amp;</span><span class="ident" id="1391155">i</span><span class="op" id="1391156">)</span><span class="op" id="1391157">)</span><span class="op" id="1391158">,</span>&nbsp;<span class="num" id="1391160">4</span><span class="op" id="1391161">,</span>&nbsp;<span class="ident" id="1391163">seed</span><span class="op" id="1391167">)</span><br>
<span class="lineno">285</span><span class="op" id="1391169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1391172">func</span>&nbsp;<span class="ident" id="1391177">int64Hash</span><span class="op" id="1391186">(</span><span class="ident" id="1391187">i</span>&nbsp;<span class="builtintype" id="1391189">uint64</span><span class="op" id="1391195">,</span>&nbsp;<span class="ident" id="1391197">seed</span>&nbsp;<span class="builtintype" id="1391202">uintptr</span><span class="op" id="1391209">)</span>&nbsp;<span class="builtintype" id="1391211">uintptr</span>&nbsp;<span class="op" id="1391219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1391222">return</span>&nbsp;<span class="ident" id="1391229">algarray</span><span class="op" id="1391237">[</span><span class="ident" id="1391238">alg_MEM64</span><span class="op" id="1391247">]</span><span class="op" id="1391248">.</span><span class="ident" id="1391249">hash</span><span class="op" id="1391253">(</span><span class="ident" id="1391254">noescape</span><span class="op" id="1391262">(</span><span class="ident" id="1391263">unsafe</span><span class="op" id="1391269">.</span><span class="ident" id="1391270">Pointer</span><span class="op" id="1391277">(</span><span class="op" id="1391278">&amp;</span><span class="ident" id="1391279">i</span><span class="op" id="1391280">)</span><span class="op" id="1391281">)</span><span class="op" id="1391282">,</span>&nbsp;<span class="num" id="1391284">8</span><span class="op" id="1391285">,</span>&nbsp;<span class="ident" id="1391287">seed</span><span class="op" id="1391291">)</span><br>
<span class="lineno"></span><span class="op" id="1391293">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="keyword" id="1391296">func</span>&nbsp;<span class="ident" id="1391301">efaceHash</span><span class="op" id="1391310">(</span><span class="ident" id="1391311">i</span>&nbsp;<span class="keyword" id="1391313">interface</span><span class="op" id="1391322">{</span><span class="op" id="1391323">}</span><span class="op" id="1391324">,</span>&nbsp;<span class="ident" id="1391326">seed</span>&nbsp;<span class="builtintype" id="1391331">uintptr</span><span class="op" id="1391338">)</span>&nbsp;<span class="builtintype" id="1391340">uintptr</span>&nbsp;<span class="op" id="1391348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1391351">return</span>&nbsp;<span class="ident" id="1391358">algarray</span><span class="op" id="1391366">[</span><span class="ident" id="1391367">alg_NILINTER</span><span class="op" id="1391379">]</span><span class="op" id="1391380">.</span><span class="ident" id="1391381">hash</span><span class="op" id="1391385">(</span><span class="ident" id="1391386">noescape</span><span class="op" id="1391394">(</span><span class="ident" id="1391395">unsafe</span><span class="op" id="1391401">.</span><span class="ident" id="1391402">Pointer</span><span class="op" id="1391409">(</span><span class="op" id="1391410">&amp;</span><span class="ident" id="1391411">i</span><span class="op" id="1391412">)</span><span class="op" id="1391413">)</span><span class="op" id="1391414">,</span>&nbsp;<span class="ident" id="1391416">unsafe</span><span class="op" id="1391422">.</span><span class="ident" id="1391423">Sizeof</span><span class="op" id="1391429">(</span><span class="ident" id="1391430">i</span><span class="op" id="1391431">)</span><span class="op" id="1391432">,</span>&nbsp;<span class="ident" id="1391434">seed</span><span class="op" id="1391438">)</span><br>
<span class="lineno"></span><span class="op" id="1391440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="keyword" id="1391443">func</span>&nbsp;<span class="ident" id="1391448">ifaceHash</span><span class="op" id="1391457">(</span><span class="ident" id="1391458">i</span>&nbsp;<span class="keyword" id="1391460">interface</span>&nbsp;<span class="op" id="1391470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1391473">F</span><span class="op" id="1391474">(</span><span class="op" id="1391475">)</span><br>
<span class="lineno"></span><span class="op" id="1391477">}</span><span class="op" id="1391478">,</span>&nbsp;<span class="ident" id="1391480">seed</span>&nbsp;<span class="builtintype" id="1391485">uintptr</span><span class="op" id="1391492">)</span>&nbsp;<span class="builtintype" id="1391494">uintptr</span>&nbsp;<span class="op" id="1391502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1391505">return</span>&nbsp;<span class="ident" id="1391512">algarray</span><span class="op" id="1391520">[</span><span class="ident" id="1391521">alg_INTER</span><span class="op" id="1391530">]</span><span class="op" id="1391531">.</span><span class="ident" id="1391532">hash</span><span class="op" id="1391536">(</span><span class="ident" id="1391537">noescape</span><span class="op" id="1391545">(</span><span class="ident" id="1391546">unsafe</span><span class="op" id="1391552">.</span><span class="ident" id="1391553">Pointer</span><span class="op" id="1391560">(</span><span class="op" id="1391561">&amp;</span><span class="ident" id="1391562">i</span><span class="op" id="1391563">)</span><span class="op" id="1391564">)</span><span class="op" id="1391565">,</span>&nbsp;<span class="ident" id="1391567">unsafe</span><span class="op" id="1391573">.</span><span class="ident" id="1391574">Sizeof</span><span class="op" id="1391580">(</span><span class="ident" id="1391581">i</span><span class="op" id="1391582">)</span><span class="op" id="1391583">,</span>&nbsp;<span class="ident" id="1391585">seed</span><span class="op" id="1391589">)</span><br>
<span class="lineno"></span><span class="op" id="1391591">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="1391594">//&nbsp;Testing&nbsp;adapter&nbsp;for&nbsp;memclr</span><br>
<span class="lineno"></span><span class="keyword" id="1391624">func</span>&nbsp;<span class="ident" id="1391629">memclrBytes</span><span class="op" id="1391640">(</span><span class="ident" id="1391641">b</span>&nbsp;<span class="op" id="1391643">[</span><span class="op" id="1391644">]</span><span class="builtintype" id="1391645">byte</span><span class="op" id="1391649">)</span>&nbsp;<span class="op" id="1391651">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1391654">s</span>&nbsp;<span class="op" id="1391656">:=</span>&nbsp;<span class="op" id="1391659">(</span><span class="op" id="1391660">*</span><span class="ident" id="1391661">sliceStruct</span><span class="op" id="1391672">)</span><span class="op" id="1391673">(</span><span class="ident" id="1391674">unsafe</span><span class="op" id="1391680">.</span><span class="ident" id="1391681">Pointer</span><span class="op" id="1391688">(</span><span class="op" id="1391689">&amp;</span><span class="ident" id="1391690">b</span><span class="op" id="1391691">)</span><span class="op" id="1391692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1391695">memclr</span><span class="op" id="1391701">(</span><span class="ident" id="1391702">s</span><span class="op" id="1391703">.</span><span class="ident" id="1391704">array</span><span class="op" id="1391709">,</span>&nbsp;<span class="builtintype" id="1391711">uintptr</span><span class="op" id="1391718">(</span><span class="ident" id="1391719">s</span><span class="op" id="1391720">.</span><span class="builtinfunc" id="1391721">len</span><span class="op" id="1391724">)</span><span class="op" id="1391725">)</span><br>
<span class="lineno">305</span><span class="op" id="1391727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1391730">//&nbsp;TODO(dvyukov):&nbsp;remove&nbsp;when&nbsp;Type&nbsp;is&nbsp;converted&nbsp;to&nbsp;Go&nbsp;and&nbsp;contains&nbsp;*typeAlg.</span><br>
<span class="lineno"></span><span class="keyword" id="1391807">func</span>&nbsp;<span class="ident" id="1391812">goalg</span><span class="op" id="1391817">(</span><span class="ident" id="1391818">a</span>&nbsp;<span class="ident" id="1391820">unsafe</span><span class="op" id="1391826">.</span><span class="ident" id="1391827">Pointer</span><span class="op" id="1391834">)</span>&nbsp;<span class="op" id="1391836">*</span><span class="ident" id="1391837">typeAlg</span>&nbsp;<span class="op" id="1391845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1391848">return</span>&nbsp;<span class="op" id="1391855">(</span><span class="op" id="1391856">*</span><span class="ident" id="1391857">typeAlg</span><span class="op" id="1391864">)</span><span class="op" id="1391865">(</span><span class="ident" id="1391866">a</span><span class="op" id="1391867">)</span><br>
<span class="lineno">310</span><span class="op" id="1391869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1391872">//&nbsp;used&nbsp;in&nbsp;asm_{386,amd64}.s</span><br>
<span class="lineno"></span><span class="keyword" id="1391901">const</span>&nbsp;<span class="ident" id="1391907">hashRandomBytes</span>&nbsp;<span class="op" id="1391923">=</span>&nbsp;<span class="num" id="1391925">32</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="1391929">var</span>&nbsp;<span class="ident" id="1391933">aeskeysched</span>&nbsp;<span class="op" id="1391945">[</span><span class="ident" id="1391946">hashRandomBytes</span><span class="op" id="1391961">]</span><span class="builtintype" id="1391962">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1391968">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1391982">func</span>&nbsp;<span class="ident" id="1391987">get_random_data</span><span class="op" id="1392002">(</span><span class="ident" id="1392003">rnd</span>&nbsp;<span class="op" id="1392007">*</span><span class="ident" id="1392008">unsafe</span><span class="op" id="1392014">.</span><span class="ident" id="1392015">Pointer</span><span class="op" id="1392022">,</span>&nbsp;<span class="ident" id="1392024">n</span>&nbsp;<span class="op" id="1392026">*</span><span class="builtintype" id="1392027">int32</span><span class="op" id="1392032">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">320</span><span class="keyword" id="1392035">func</span>&nbsp;<span class="ident" id="1392040">init</span><span class="op" id="1392044">(</span><span class="op" id="1392045">)</span>&nbsp;<span class="op" id="1392047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392050">if</span>&nbsp;<span class="ident" id="1392053">theGoos</span>&nbsp;<span class="op" id="1392061">==</span>&nbsp;<span class="string" id="1392064">&#34;nacl&#34;</span>&nbsp;<span class="op" id="1392071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392075">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1392083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1392087">//&nbsp;Install&nbsp;aes&nbsp;hash&nbsp;algorithm&nbsp;if&nbsp;we&nbsp;have&nbsp;the&nbsp;instructions&nbsp;we&nbsp;need</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392154">if</span>&nbsp;<span class="op" id="1392157">(</span><span class="ident" id="1392158">cpuid_ecx</span><span class="op" id="1392167">&amp;</span><span class="op" id="1392168">(</span><span class="num" id="1392169">1</span><span class="op" id="1392170">&lt;&lt;</span><span class="num" id="1392172">25</span><span class="op" id="1392174">)</span><span class="op" id="1392175">)</span>&nbsp;<span class="op" id="1392177">!=</span>&nbsp;<span class="num" id="1392180">0</span>&nbsp;<span class="op" id="1392182">&amp;&amp;</span>&nbsp;<span class="comment" id="1392185">//&nbsp;aes&nbsp;(aesenc)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1392203">(</span><span class="ident" id="1392204">cpuid_ecx</span><span class="op" id="1392213">&amp;</span><span class="op" id="1392214">(</span><span class="num" id="1392215">1</span><span class="op" id="1392216">&lt;&lt;</span><span class="num" id="1392218">9</span><span class="op" id="1392219">)</span><span class="op" id="1392220">)</span>&nbsp;<span class="op" id="1392222">!=</span>&nbsp;<span class="num" id="1392225">0</span>&nbsp;<span class="op" id="1392227">&amp;&amp;</span>&nbsp;<span class="comment" id="1392230">//&nbsp;sse3&nbsp;(pshufb)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1392249">(</span><span class="ident" id="1392250">cpuid_ecx</span><span class="op" id="1392259">&amp;</span><span class="op" id="1392260">(</span><span class="num" id="1392261">1</span><span class="op" id="1392262">&lt;&lt;</span><span class="num" id="1392264">19</span><span class="op" id="1392266">)</span><span class="op" id="1392267">)</span>&nbsp;<span class="op" id="1392269">!=</span>&nbsp;<span class="num" id="1392272">0</span>&nbsp;<span class="op" id="1392274">{</span>&nbsp;<span class="comment" id="1392276">//&nbsp;sse4.1&nbsp;(pinsr{d,q})</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392301">useAeshash</span>&nbsp;<span class="op" id="1392312">=</span>&nbsp;<span class="builtintype" id="1392314">true</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392321">algarray</span><span class="op" id="1392329">[</span><span class="ident" id="1392330">alg_MEM</span><span class="op" id="1392337">]</span><span class="op" id="1392338">.</span><span class="ident" id="1392339">hash</span>&nbsp;<span class="op" id="1392344">=</span>&nbsp;<span class="ident" id="1392346">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392356">algarray</span><span class="op" id="1392364">[</span><span class="ident" id="1392365">alg_MEM8</span><span class="op" id="1392373">]</span><span class="op" id="1392374">.</span><span class="ident" id="1392375">hash</span>&nbsp;<span class="op" id="1392380">=</span>&nbsp;<span class="ident" id="1392382">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392392">algarray</span><span class="op" id="1392400">[</span><span class="ident" id="1392401">alg_MEM16</span><span class="op" id="1392410">]</span><span class="op" id="1392411">.</span><span class="ident" id="1392412">hash</span>&nbsp;<span class="op" id="1392417">=</span>&nbsp;<span class="ident" id="1392419">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392429">algarray</span><span class="op" id="1392437">[</span><span class="ident" id="1392438">alg_MEM32</span><span class="op" id="1392447">]</span><span class="op" id="1392448">.</span><span class="ident" id="1392449">hash</span>&nbsp;<span class="op" id="1392454">=</span>&nbsp;<span class="ident" id="1392456">aeshash32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392468">algarray</span><span class="op" id="1392476">[</span><span class="ident" id="1392477">alg_MEM64</span><span class="op" id="1392486">]</span><span class="op" id="1392487">.</span><span class="ident" id="1392488">hash</span>&nbsp;<span class="op" id="1392493">=</span>&nbsp;<span class="ident" id="1392495">aeshash64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392507">algarray</span><span class="op" id="1392515">[</span><span class="ident" id="1392516">alg_MEM128</span><span class="op" id="1392526">]</span><span class="op" id="1392527">.</span><span class="ident" id="1392528">hash</span>&nbsp;<span class="op" id="1392533">=</span>&nbsp;<span class="ident" id="1392535">aeshash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392545">algarray</span><span class="op" id="1392553">[</span><span class="ident" id="1392554">alg_STRING</span><span class="op" id="1392564">]</span><span class="op" id="1392565">.</span><span class="ident" id="1392566">hash</span>&nbsp;<span class="op" id="1392571">=</span>&nbsp;<span class="ident" id="1392573">aeshashstr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1392586">//&nbsp;Initialize&nbsp;with&nbsp;random&nbsp;data&nbsp;so&nbsp;hash&nbsp;collisions&nbsp;will&nbsp;be&nbsp;hard&nbsp;to&nbsp;engineer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392664">var</span>&nbsp;<span class="ident" id="1392668">rnd</span>&nbsp;<span class="ident" id="1392672">unsafe</span><span class="op" id="1392678">.</span><span class="ident" id="1392679">Pointer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392689">var</span>&nbsp;<span class="ident" id="1392693">n</span>&nbsp;<span class="builtintype" id="1392695">int32</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392703">get_random_data</span><span class="op" id="1392718">(</span><span class="op" id="1392719">&amp;</span><span class="ident" id="1392720">rnd</span><span class="op" id="1392723">,</span>&nbsp;<span class="op" id="1392725">&amp;</span><span class="ident" id="1392726">n</span><span class="op" id="1392727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392731">if</span>&nbsp;<span class="ident" id="1392734">n</span>&nbsp;<span class="op" id="1392736">&gt;</span>&nbsp;<span class="ident" id="1392738">hashRandomBytes</span>&nbsp;<span class="op" id="1392754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392759">n</span>&nbsp;<span class="op" id="1392761">=</span>&nbsp;<span class="ident" id="1392763">hashRandomBytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1392781">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392785">memmove</span><span class="op" id="1392792">(</span><span class="ident" id="1392793">unsafe</span><span class="op" id="1392799">.</span><span class="ident" id="1392800">Pointer</span><span class="op" id="1392807">(</span><span class="op" id="1392808">&amp;</span><span class="ident" id="1392809">aeskeysched</span><span class="op" id="1392820">[</span><span class="num" id="1392821">0</span><span class="op" id="1392822">]</span><span class="op" id="1392823">)</span><span class="op" id="1392824">,</span>&nbsp;<span class="ident" id="1392826">rnd</span><span class="op" id="1392829">,</span>&nbsp;<span class="builtintype" id="1392831">uintptr</span><span class="op" id="1392838">(</span><span class="ident" id="1392839">n</span><span class="op" id="1392840">)</span><span class="op" id="1392841">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392845">if</span>&nbsp;<span class="ident" id="1392848">n</span>&nbsp;<span class="op" id="1392850">&lt;</span>&nbsp;<span class="ident" id="1392852">hashRandomBytes</span>&nbsp;<span class="op" id="1392868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="1392873">//&nbsp;Not&nbsp;very&nbsp;random,&nbsp;but&nbsp;better&nbsp;than&nbsp;nothing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="1392921">for</span>&nbsp;<span class="ident" id="1392925">t</span>&nbsp;<span class="op" id="1392927">:=</span>&nbsp;<span class="ident" id="1392930">nanotime</span><span class="op" id="1392938">(</span><span class="op" id="1392939">)</span><span class="op" id="1392940">;</span>&nbsp;<span class="ident" id="1392942">n</span>&nbsp;<span class="op" id="1392944">&lt;</span>&nbsp;<span class="ident" id="1392946">hashRandomBytes</span><span class="op" id="1392961">;</span>&nbsp;<span class="ident" id="1392963">n</span><span class="op" id="1392964">++</span>&nbsp;<span class="op" id="1392967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="1392973">aeskeysched</span><span class="op" id="1392984">[</span><span class="ident" id="1392985">n</span><span class="op" id="1392986">]</span>&nbsp;<span class="op" id="1392988">=</span>&nbsp;<span class="builtintype" id="1392990">byte</span><span class="op" id="1392994">(</span><span class="ident" id="1392995">t</span>&nbsp;<span class="op" id="1392997">&gt;&gt;</span>&nbsp;<span class="builtintype" id="1393000">uint</span><span class="op" id="1393004">(</span><span class="num" id="1393005">8</span><span class="op" id="1393006">*</span><span class="op" id="1393007">(</span><span class="ident" id="1393008">n</span><span class="op" id="1393009">%</span><span class="num" id="1393010">8</span><span class="op" id="1393011">)</span><span class="op" id="1393012">)</span><span class="op" id="1393013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1393018">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1393022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1393025">}</span><br>
<span class="lineno"></span><span class="op" id="1393027">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
