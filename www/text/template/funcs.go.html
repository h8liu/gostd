<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4696243">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4696298">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4696352">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="4696403">package</span>&nbsp;<span class="ident" id="4696411">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4696421">import</span>&nbsp;<span class="op" id="4696428">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696431">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696440">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696450">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696457">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696463">&#34;net/url&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696474">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696485">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696496">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696507">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4696522">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4696525">//&nbsp;FuncMap&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;map&nbsp;defining&nbsp;the&nbsp;mapping&nbsp;from&nbsp;names&nbsp;to&nbsp;functions.</span><br>
<span class="lineno">20</span><span class="comment" id="4696605">//&nbsp;Each&nbsp;function&nbsp;must&nbsp;have&nbsp;either&nbsp;a&nbsp;single&nbsp;return&nbsp;value,&nbsp;or&nbsp;two&nbsp;return&nbsp;values&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4696686">//&nbsp;which&nbsp;the&nbsp;second&nbsp;has&nbsp;type&nbsp;error.&nbsp;In&nbsp;that&nbsp;case,&nbsp;if&nbsp;the&nbsp;second&nbsp;(error)</span><br>
<span class="lineno"></span><span class="comment" id="4696758">//&nbsp;return&nbsp;value&nbsp;evaluates&nbsp;to&nbsp;non-nil&nbsp;during&nbsp;execution,&nbsp;execution&nbsp;terminates&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="4696838">//&nbsp;Execute&nbsp;returns&nbsp;that&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="4696869">type</span>&nbsp;<span class="ident" id="4696874">FuncMap</span>&nbsp;<span class="keyword" id="4696882">map</span><span class="op" id="4696885">[</span><span class="builtintype" id="4696886">string</span><span class="op" id="4696892">]</span><span class="keyword" id="4696893">interface</span><span class="op" id="4696902">{</span><span class="op" id="4696903">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="4696906">var</span>&nbsp;<span class="ident" id="4696910">builtins</span>&nbsp;<span class="op" id="4696919">=</span>&nbsp;<span class="ident" id="4696921"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><span class="op" id="4696928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696931">&#34;and&#34;</span><span class="op" id="4696936">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4696943"><a href="/text/template/funcs.go.html#4702624">and</a></span><span class="op" id="4696946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696949">&#34;call&#34;</span><span class="op" id="4696955">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4696961"><a href="/text/template/funcs.go.html#4701019">call</a></span><span class="op" id="4696965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696968">&#34;html&#34;</span><span class="op" id="4696974">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4696980"><a href="/text/template/funcs.go.html#4708398">HTMLEscaper</a></span><span class="op" id="4696991">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4696994">&#34;index&#34;</span><span class="op" id="4697001">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4697006"><a href="/text/template/funcs.go.html#4699126">index</a></span><span class="op" id="4697011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697014">&#34;js&#34;</span><span class="op" id="4697018">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4697026"><a href="/text/template/funcs.go.html#4710190">JSEscaper</a></span><span class="op" id="4697035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697038">&#34;len&#34;</span><span class="op" id="4697043">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4697050"><a href="/text/template/funcs.go.html#4700509">length</a></span><span class="op" id="4697056">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697059">&#34;not&#34;</span><span class="op" id="4697064">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4697071"><a href="/text/template/funcs.go.html#4703176">not</a></span><span class="op" id="4697074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697077">&#34;or&#34;</span><span class="op" id="4697081">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4697089"><a href="/text/template/funcs.go.html#4702936">or</a></span><span class="op" id="4697091">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697094">&#34;print&#34;</span><span class="op" id="4697101">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4697106"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4697109">.</span><span class="ident" id="4697110">Sprint</span><span class="op" id="4697116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697119">&#34;printf&#34;</span><span class="op" id="4697127">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4697131"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4697134">.</span><span class="ident" id="4697135">Sprintf</span><span class="op" id="4697142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697145">&#34;println&#34;</span><span class="op" id="4697154">:</span>&nbsp;&nbsp;<span class="ident" id="4697157"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4697160">.</span><span class="ident" id="4697161">Sprintln</span><span class="op" id="4697169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697172">&#34;urlquery&#34;</span><span class="op" id="4697182">:</span>&nbsp;<span class="ident" id="4697184"><a href="/text/template/funcs.go.html#4710421">URLQueryEscaper</a></span><span class="op" id="4697199">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4697203">//&nbsp;Comparisons</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697219">&#34;eq&#34;</span><span class="op" id="4697223">:</span>&nbsp;<span class="ident" id="4697225"><a href="/text/template/funcs.go.html#4704329">eq</a></span><span class="op" id="4697227">,</span>&nbsp;<span class="comment" id="4697229">//&nbsp;==</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697236">&#34;ge&#34;</span><span class="op" id="4697240">:</span>&nbsp;<span class="ident" id="4697242"><a href="/text/template/funcs.go.html#4707150">ge</a></span><span class="op" id="4697244">,</span>&nbsp;<span class="comment" id="4697246">//&nbsp;&gt;=</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697253">&#34;gt&#34;</span><span class="op" id="4697257">:</span>&nbsp;<span class="ident" id="4697259"><a href="/text/template/funcs.go.html#4706930">gt</a></span><span class="op" id="4697261">,</span>&nbsp;<span class="comment" id="4697263">//&nbsp;&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697269">&#34;le&#34;</span><span class="op" id="4697273">:</span>&nbsp;<span class="ident" id="4697275"><a href="/text/template/funcs.go.html#4706711">le</a></span><span class="op" id="4697277">,</span>&nbsp;<span class="comment" id="4697279">//&nbsp;&lt;=</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697286">&#34;lt&#34;</span><span class="op" id="4697290">:</span>&nbsp;<span class="ident" id="4697292"><a href="/text/template/funcs.go.html#4705716">lt</a></span><span class="op" id="4697294">,</span>&nbsp;<span class="comment" id="4697296">//&nbsp;&lt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4697302">&#34;ne&#34;</span><span class="op" id="4697306">:</span>&nbsp;<span class="ident" id="4697308"><a href="/text/template/funcs.go.html#4705548">ne</a></span><span class="op" id="4697310">,</span>&nbsp;<span class="comment" id="4697312">//&nbsp;!=</span><br>
<span class="lineno"></span><span class="op" id="4697318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4697321">var</span>&nbsp;<span class="ident" id="4697325">builtinFuncs</span>&nbsp;<span class="op" id="4697338">=</span>&nbsp;<span class="ident" id="4697340"><a href="/text/template/funcs.go.html#4697441">createValueFuncs</a></span><span class="op" id="4697356">(</span><span class="ident" id="4697357"><a href="/text/template/funcs.go.html#4696910">builtins</a></span><span class="op" id="4697365">)</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="comment" id="4697368">//&nbsp;createValueFuncs&nbsp;turns&nbsp;a&nbsp;FuncMap&nbsp;into&nbsp;a&nbsp;map[string]reflect.Value</span><br>
<span class="lineno"></span><span class="keyword" id="4697436">func</span>&nbsp;<span class="ident" id="4697441">createValueFuncs</span><span class="op" id="4697457">(</span><span class="ident" id="4697458">funcMap</span>&nbsp;<span class="ident" id="4697466"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><span class="op" id="4697473">)</span>&nbsp;<span class="keyword" id="4697475">map</span><span class="op" id="4697478">[</span><span class="builtintype" id="4697479">string</span><span class="op" id="4697485">]</span><span class="ident" id="4697486"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4697493">.</span><span class="ident" id="4697494">Value</span>&nbsp;<span class="op" id="4697500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4697503">m</span>&nbsp;<span class="op" id="4697505">:=</span>&nbsp;<span class="builtinfunc" id="4697508">make</span><span class="op" id="4697512">(</span><span class="keyword" id="4697513">map</span><span class="op" id="4697516">[</span><span class="builtintype" id="4697517">string</span><span class="op" id="4697523">]</span><span class="ident" id="4697524"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4697531">.</span><span class="ident" id="4697532">Value</span><span class="op" id="4697537">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4697540"><a href="/text/template/funcs.go.html#4697675">addValueFuncs</a></span><span class="op" id="4697553">(</span><span class="ident" id="4697554"><a href="/text/template/funcs.go.html#4697503">m</a></span><span class="op" id="4697555">,</span>&nbsp;<span class="ident" id="4697557"><a href="/text/template/funcs.go.html#4697458">funcMap</a></span><span class="op" id="4697564">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4697567">return</span>&nbsp;<span class="ident" id="4697574"><a href="/text/template/funcs.go.html#4697503">m</a></span><br>
<span class="lineno"></span><span class="op" id="4697576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4697579">//&nbsp;addValueFuncs&nbsp;adds&nbsp;to&nbsp;values&nbsp;the&nbsp;functions&nbsp;in&nbsp;funcs,&nbsp;converting&nbsp;them&nbsp;to&nbsp;reflect.Values.</span><br>
<span class="lineno"></span><span class="keyword" id="4697670">func</span>&nbsp;<span class="ident" id="4697675">addValueFuncs</span><span class="op" id="4697688">(</span><span class="ident" id="4697689">out</span>&nbsp;<span class="keyword" id="4697693">map</span><span class="op" id="4697696">[</span><span class="builtintype" id="4697697">string</span><span class="op" id="4697703">]</span><span class="ident" id="4697704"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4697711">.</span><span class="ident" id="4697712">Value</span><span class="op" id="4697717">,</span>&nbsp;<span class="ident" id="4697719">in</span>&nbsp;<span class="ident" id="4697722"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><span class="op" id="4697729">)</span>&nbsp;<span class="op" id="4697731">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4697734">for</span>&nbsp;<span class="ident" id="4697738">name</span><span class="op" id="4697742">,</span>&nbsp;<span class="ident" id="4697744">fn</span>&nbsp;<span class="op" id="4697747">:=</span>&nbsp;<span class="keyword" id="4697750">range</span>&nbsp;<span class="ident" id="4697756"><a href="/text/template/funcs.go.html#4697719">in</a></span>&nbsp;<span class="op" id="4697759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4697763">v</span>&nbsp;<span class="op" id="4697765">:=</span>&nbsp;<span class="ident" id="4697768"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4697775">.</span><span class="ident" id="4697776">ValueOf</span><span class="op" id="4697783">(</span><span class="ident" id="4697784"><a href="/text/template/funcs.go.html#4697744">fn</a></span><span class="op" id="4697786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4697790">if</span>&nbsp;<span class="ident" id="4697793"><a href="/text/template/funcs.go.html#4697763">v</a></span><span class="op" id="4697794">.</span><span class="ident" id="4697795">Kind</span><span class="op" id="4697799">(</span><span class="op" id="4697800">)</span>&nbsp;<span class="op" id="4697802">!=</span>&nbsp;<span class="ident" id="4697805"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4697812">.</span><span class="ident" id="4697813">Func</span>&nbsp;<span class="op" id="4697818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4697823">panic</span><span class="op" id="4697828">(</span><span class="string" id="4697829">&#34;value&nbsp;for&nbsp;&#34;</span>&nbsp;<span class="op" id="4697842">+</span>&nbsp;<span class="ident" id="4697844"><a href="/text/template/funcs.go.html#4697738">name</a></span>&nbsp;<span class="op" id="4697849">+</span>&nbsp;<span class="string" id="4697851">&#34;&nbsp;not&nbsp;a&nbsp;function&#34;</span><span class="op" id="4697868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4697872">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4697876">if</span>&nbsp;<span class="op" id="4697879">!</span><span class="ident" id="4697880"><a href="/text/template/funcs.go.html#4698308">goodFunc</a></span><span class="op" id="4697888">(</span><span class="ident" id="4697889"><a href="/text/template/funcs.go.html#4697763">v</a></span><span class="op" id="4697890">.</span><span class="ident" id="4697891">Type</span><span class="op" id="4697895">(</span><span class="op" id="4697896">)</span><span class="op" id="4697897">)</span>&nbsp;<span class="op" id="4697899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4697904">panic</span><span class="op" id="4697909">(</span><span class="ident" id="4697910"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4697913">.</span><span class="ident" id="4697914">Errorf</span><span class="op" id="4697920">(</span><span class="string" id="4697921">&#34;can&#39;t&nbsp;install&nbsp;method/function&nbsp;%q&nbsp;with&nbsp;%d&nbsp;results&#34;</span><span class="op" id="4697971">,</span>&nbsp;<span class="ident" id="4697973"><a href="/text/template/funcs.go.html#4697738">name</a></span><span class="op" id="4697977">,</span>&nbsp;<span class="ident" id="4697979"><a href="/text/template/funcs.go.html#4697763">v</a></span><span class="op" id="4697980">.</span><span class="ident" id="4697981">Type</span><span class="op" id="4697985">(</span><span class="op" id="4697986">)</span><span class="op" id="4697987">.</span><span class="ident" id="4697988">NumOut</span><span class="op" id="4697994">(</span><span class="op" id="4697995">)</span><span class="op" id="4697996">)</span><span class="op" id="4697997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4698005"><a href="/text/template/funcs.go.html#4697689">out</a></span><span class="op" id="4698008">[</span><span class="ident" id="4698009"><a href="/text/template/funcs.go.html#4697738">name</a></span><span class="op" id="4698013">]</span>&nbsp;<span class="op" id="4698015">=</span>&nbsp;<span class="ident" id="4698017"><a href="/text/template/funcs.go.html#4697763">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698020">}</span><br>
<span class="lineno">70</span><span class="op" id="4698022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4698025">//&nbsp;addFuncs&nbsp;adds&nbsp;to&nbsp;values&nbsp;the&nbsp;functions&nbsp;in&nbsp;funcs.&nbsp;It&nbsp;does&nbsp;no&nbsp;checking&nbsp;of&nbsp;the&nbsp;input&nbsp;-</span><br>
<span class="lineno"></span><span class="comment" id="4698111">//&nbsp;call&nbsp;addValueFuncs&nbsp;first.</span><br>
<span class="lineno"></span><span class="keyword" id="4698140">func</span>&nbsp;<span class="ident" id="4698145">addFuncs</span><span class="op" id="4698153">(</span><span class="ident" id="4698154">out</span><span class="op" id="4698157">,</span>&nbsp;<span class="ident" id="4698159">in</span>&nbsp;<span class="ident" id="4698162"><a href="/text/template/funcs.go.html#4696874">FuncMap</a></span><span class="op" id="4698169">)</span>&nbsp;<span class="op" id="4698171">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698174">for</span>&nbsp;<span class="ident" id="4698178">name</span><span class="op" id="4698182">,</span>&nbsp;<span class="ident" id="4698184">fn</span>&nbsp;<span class="op" id="4698187">:=</span>&nbsp;<span class="keyword" id="4698190">range</span>&nbsp;<span class="ident" id="4698196"><a href="/text/template/funcs.go.html#4698159">in</a></span>&nbsp;<span class="op" id="4698199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4698203"><a href="/text/template/funcs.go.html#4698154">out</a></span><span class="op" id="4698206">[</span><span class="ident" id="4698207"><a href="/text/template/funcs.go.html#4698178">name</a></span><span class="op" id="4698211">]</span>&nbsp;<span class="op" id="4698213">=</span>&nbsp;<span class="ident" id="4698215"><a href="/text/template/funcs.go.html#4698184">fn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698219">}</span><br>
<span class="lineno"></span><span class="op" id="4698221">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="4698224">//&nbsp;goodFunc&nbsp;checks&nbsp;that&nbsp;the&nbsp;function&nbsp;or&nbsp;method&nbsp;has&nbsp;the&nbsp;right&nbsp;result&nbsp;signature.</span><br>
<span class="lineno"></span><span class="keyword" id="4698303">func</span>&nbsp;<span class="ident" id="4698308">goodFunc</span><span class="op" id="4698316">(</span><span class="ident" id="4698317">typ</span>&nbsp;<span class="ident" id="4698321"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4698328">.</span><span class="ident" id="4698329">Type</span><span class="op" id="4698333">)</span>&nbsp;<span class="builtintype" id="4698335">bool</span>&nbsp;<span class="op" id="4698340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4698343">//&nbsp;We&nbsp;allow&nbsp;functions&nbsp;with&nbsp;1&nbsp;result&nbsp;or&nbsp;2&nbsp;results&nbsp;where&nbsp;the&nbsp;second&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698423">switch</span>&nbsp;<span class="op" id="4698430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698433">case</span>&nbsp;<span class="ident" id="4698438"><a href="/text/template/funcs.go.html#4698317">typ</a></span><span class="op" id="4698441">.</span><span class="ident" id="4698442">NumOut</span><span class="op" id="4698448">(</span><span class="op" id="4698449">)</span>&nbsp;<span class="op" id="4698451">==</span>&nbsp;<span class="num" id="4698454">1</span><span class="op" id="4698455">:</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698459">return</span>&nbsp;<span class="builtintype" id="4698466">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698472">case</span>&nbsp;<span class="ident" id="4698477"><a href="/text/template/funcs.go.html#4698317">typ</a></span><span class="op" id="4698480">.</span><span class="ident" id="4698481">NumOut</span><span class="op" id="4698487">(</span><span class="op" id="4698488">)</span>&nbsp;<span class="op" id="4698490">==</span>&nbsp;<span class="num" id="4698493">2</span>&nbsp;<span class="op" id="4698495">&amp;&amp;</span>&nbsp;<span class="ident" id="4698498"><a href="/text/template/funcs.go.html#4698317">typ</a></span><span class="op" id="4698501">.</span><span class="ident" id="4698502">Out</span><span class="op" id="4698505">(</span><span class="num" id="4698506">1</span><span class="op" id="4698507">)</span>&nbsp;<span class="op" id="4698509">==</span>&nbsp;<span class="ident" id="4698512"><a href="/text/template/exec.go.html#4685975">errorType</a></span><span class="op" id="4698521">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698525">return</span>&nbsp;<span class="builtintype" id="4698532">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698541">return</span>&nbsp;<span class="builtintype" id="4698548">false</span><br>
<span class="lineno">90</span><span class="op" id="4698554">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4698557">//&nbsp;findFunction&nbsp;looks&nbsp;for&nbsp;a&nbsp;function&nbsp;in&nbsp;the&nbsp;template,&nbsp;and&nbsp;global&nbsp;map.</span><br>
<span class="lineno"></span><span class="keyword" id="4698627">func</span>&nbsp;<span class="ident" id="4698632">findFunction</span><span class="op" id="4698644">(</span><span class="ident" id="4698645">name</span>&nbsp;<span class="builtintype" id="4698650">string</span><span class="op" id="4698656">,</span>&nbsp;<span class="ident" id="4698658">tmpl</span>&nbsp;<span class="op" id="4698663">*</span><span class="ident" id="4698664"><a href="/text/template/template.go.html#4715603">Template</a></span><span class="op" id="4698672">)</span>&nbsp;<span class="op" id="4698674">(</span><span class="ident" id="4698675"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4698682">.</span><span class="ident" id="4698683">Value</span><span class="op" id="4698688">,</span>&nbsp;<span class="builtintype" id="4698690">bool</span><span class="op" id="4698694">)</span>&nbsp;<span class="op" id="4698696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698699">if</span>&nbsp;<span class="ident" id="4698702"><a href="/text/template/funcs.go.html#4698658">tmpl</a></span>&nbsp;<span class="op" id="4698707">!=</span>&nbsp;<span class="ident" id="4698710">nil</span>&nbsp;<span class="op" id="4698714">&amp;&amp;</span>&nbsp;<span class="ident" id="4698717"><a href="/text/template/funcs.go.html#4698658">tmpl</a></span><span class="op" id="4698721">.</span><span class="ident" id="4698722">common</span>&nbsp;<span class="op" id="4698729">!=</span>&nbsp;<span class="ident" id="4698732">nil</span>&nbsp;<span class="op" id="4698736">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698740">if</span>&nbsp;<span class="ident" id="4698743">fn</span>&nbsp;<span class="op" id="4698746">:=</span>&nbsp;<span class="ident" id="4698749"><a href="/text/template/funcs.go.html#4698658">tmpl</a></span><span class="op" id="4698753">.</span><span class="ident" id="4698754">execFuncs</span><span class="op" id="4698763">[</span><span class="ident" id="4698764"><a href="/text/template/funcs.go.html#4698645">name</a></span><span class="op" id="4698768">]</span><span class="op" id="4698769">;</span>&nbsp;<span class="ident" id="4698771"><a href="/text/template/funcs.go.html#4698743">fn</a></span><span class="op" id="4698773">.</span><span class="ident" id="4698774">IsValid</span><span class="op" id="4698781">(</span><span class="op" id="4698782">)</span>&nbsp;<span class="op" id="4698784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698789">return</span>&nbsp;<span class="ident" id="4698796"><a href="/text/template/funcs.go.html#4698743">fn</a></span><span class="op" id="4698798">,</span>&nbsp;<span class="builtintype" id="4698800">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698813">if</span>&nbsp;<span class="ident" id="4698816">fn</span>&nbsp;<span class="op" id="4698819">:=</span>&nbsp;<span class="ident" id="4698822"><a href="/text/template/funcs.go.html#4697325">builtinFuncs</a></span><span class="op" id="4698834">[</span><span class="ident" id="4698835"><a href="/text/template/funcs.go.html#4698645">name</a></span><span class="op" id="4698839">]</span><span class="op" id="4698840">;</span>&nbsp;<span class="ident" id="4698842"><a href="/text/template/funcs.go.html#4698816">fn</a></span><span class="op" id="4698844">.</span><span class="ident" id="4698845">IsValid</span><span class="op" id="4698852">(</span><span class="op" id="4698853">)</span>&nbsp;<span class="op" id="4698855">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698859">return</span>&nbsp;<span class="ident" id="4698866"><a href="/text/template/funcs.go.html#4698816">fn</a></span><span class="op" id="4698868">,</span>&nbsp;<span class="builtintype" id="4698870">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4698876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4698879">return</span>&nbsp;<span class="ident" id="4698886"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4698893">.</span><span class="ident" id="4698894">Value</span><span class="op" id="4698899">{</span><span class="op" id="4698900">}</span><span class="op" id="4698901">,</span>&nbsp;<span class="builtintype" id="4698903">false</span><br>
<span class="lineno"></span><span class="op" id="4698909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="4698912">//&nbsp;Indexing.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4698926">//&nbsp;index&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;indexing&nbsp;its&nbsp;first&nbsp;argument&nbsp;by&nbsp;the&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="4699002">//&nbsp;arguments.&nbsp;&nbsp;Thus&nbsp;&#34;index&nbsp;x&nbsp;1&nbsp;2&nbsp;3&#34;&nbsp;is,&nbsp;in&nbsp;Go&nbsp;syntax,&nbsp;x[1][2][3].&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="4699073">//&nbsp;indexed&nbsp;item&nbsp;must&nbsp;be&nbsp;a&nbsp;map,&nbsp;slice,&nbsp;or&nbsp;array.</span><br>
<span class="lineno">110</span><span class="keyword" id="4699121">func</span>&nbsp;<span class="ident" id="4699126">index</span><span class="op" id="4699131">(</span><span class="ident" id="4699132">item</span>&nbsp;<span class="keyword" id="4699137">interface</span><span class="op" id="4699146">{</span><span class="op" id="4699147">}</span><span class="op" id="4699148">,</span>&nbsp;<span class="ident" id="4699150">indices</span>&nbsp;<span class="op" id="4699158">...</span><span class="keyword" id="4699161">interface</span><span class="op" id="4699170">{</span><span class="op" id="4699171">}</span><span class="op" id="4699172">)</span>&nbsp;<span class="op" id="4699174">(</span><span class="keyword" id="4699175">interface</span><span class="op" id="4699184">{</span><span class="op" id="4699185">}</span><span class="op" id="4699186">,</span>&nbsp;<span class="builtintype" id="4699188">error</span><span class="op" id="4699193">)</span>&nbsp;<span class="op" id="4699195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4699198">v</span>&nbsp;<span class="op" id="4699200">:=</span>&nbsp;<span class="ident" id="4699203"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699210">.</span><span class="ident" id="4699211">ValueOf</span><span class="op" id="4699218">(</span><span class="ident" id="4699219"><a href="/text/template/funcs.go.html#4699132">item</a></span><span class="op" id="4699223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699226">for</span>&nbsp;<span class="ident" id="4699230">_</span><span class="op" id="4699231">,</span>&nbsp;<span class="ident" id="4699233">i</span>&nbsp;<span class="op" id="4699235">:=</span>&nbsp;<span class="keyword" id="4699238">range</span>&nbsp;<span class="ident" id="4699244"><a href="/text/template/funcs.go.html#4699150">indices</a></span>&nbsp;<span class="op" id="4699252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4699256">index</span>&nbsp;<span class="op" id="4699262">:=</span>&nbsp;<span class="ident" id="4699265"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699272">.</span><span class="ident" id="4699273">ValueOf</span><span class="op" id="4699280">(</span><span class="ident" id="4699281"><a href="/text/template/funcs.go.html#4699233">i</a></span><span class="op" id="4699282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699286">var</span>&nbsp;<span class="ident" id="4699290">isNil</span>&nbsp;<span class="builtintype" id="4699296">bool</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699303">if</span>&nbsp;<span class="ident" id="4699306"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4699307">,</span>&nbsp;<span class="ident" id="4699309"><a href="/text/template/funcs.go.html#4699290">isNil</a></span>&nbsp;<span class="op" id="4699315">=</span>&nbsp;<span class="ident" id="4699317"><a href="/text/template/exec.go.html#4693816">indirect</a></span><span class="op" id="4699325">(</span><span class="ident" id="4699326"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4699327">)</span><span class="op" id="4699328">;</span>&nbsp;<span class="ident" id="4699330"><a href="/text/template/funcs.go.html#4699290">isNil</a></span>&nbsp;<span class="op" id="4699336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699341">return</span>&nbsp;<span class="ident" id="4699348">nil</span><span class="op" id="4699351">,</span>&nbsp;<span class="ident" id="4699353"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4699356">.</span><span class="ident" id="4699357">Errorf</span><span class="op" id="4699363">(</span><span class="string" id="4699364">&#34;index&nbsp;of&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="4699386">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4699390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699394">switch</span>&nbsp;<span class="ident" id="4699401"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4699402">.</span><span class="ident" id="4699403">Kind</span><span class="op" id="4699407">(</span><span class="op" id="4699408">)</span>&nbsp;<span class="op" id="4699410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699414">case</span>&nbsp;<span class="ident" id="4699419"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699426">.</span><span class="ident" id="4699427">Array</span><span class="op" id="4699432">,</span>&nbsp;<span class="ident" id="4699434"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699441">.</span><span class="ident" id="4699442">Slice</span><span class="op" id="4699447">,</span>&nbsp;<span class="ident" id="4699449"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699456">.</span><span class="ident" id="4699457">String</span><span class="op" id="4699463">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699468">var</span>&nbsp;<span class="ident" id="4699472">x</span>&nbsp;<span class="ident" id="4699474">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699483">switch</span>&nbsp;<span class="ident" id="4699490"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4699495">.</span><span class="ident" id="4699496">Kind</span><span class="op" id="4699500">(</span><span class="op" id="4699501">)</span>&nbsp;<span class="op" id="4699503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699508">case</span>&nbsp;<span class="ident" id="4699513"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699520">.</span><span class="ident" id="4699521">Int</span><span class="op" id="4699524">,</span>&nbsp;<span class="ident" id="4699526"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699533">.</span><span class="ident" id="4699534">Int8</span><span class="op" id="4699538">,</span>&nbsp;<span class="ident" id="4699540"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699547">.</span><span class="ident" id="4699548">Int16</span><span class="op" id="4699553">,</span>&nbsp;<span class="ident" id="4699555"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699562">.</span><span class="ident" id="4699563">Int32</span><span class="op" id="4699568">,</span>&nbsp;<span class="ident" id="4699570"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699577">.</span><span class="ident" id="4699578">Int64</span><span class="op" id="4699583">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4699589"><a href="/text/template/funcs.go.html#4699472">x</a></span>&nbsp;<span class="op" id="4699591">=</span>&nbsp;<span class="ident" id="4699593"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4699598">.</span><span class="ident" id="4699599">Int</span><span class="op" id="4699602">(</span><span class="op" id="4699603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699608">case</span>&nbsp;<span class="ident" id="4699613"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699620">.</span><span class="ident" id="4699621">Uint</span><span class="op" id="4699625">,</span>&nbsp;<span class="ident" id="4699627"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699634">.</span><span class="ident" id="4699635">Uint8</span><span class="op" id="4699640">,</span>&nbsp;<span class="ident" id="4699642"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699649">.</span><span class="ident" id="4699650">Uint16</span><span class="op" id="4699656">,</span>&nbsp;<span class="ident" id="4699658"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699665">.</span><span class="ident" id="4699666">Uint32</span><span class="op" id="4699672">,</span>&nbsp;<span class="ident" id="4699674"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699681">.</span><span class="ident" id="4699682">Uint64</span><span class="op" id="4699688">,</span>&nbsp;<span class="ident" id="4699690"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699697">.</span><span class="ident" id="4699698">Uintptr</span><span class="op" id="4699705">:</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4699711"><a href="/text/template/funcs.go.html#4699472">x</a></span>&nbsp;<span class="op" id="4699713">=</span>&nbsp;<span class="ident" id="4699715">int64</span><span class="op" id="4699720">(</span><span class="ident" id="4699721"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4699726">.</span><span class="ident" id="4699727">Uint</span><span class="op" id="4699731">(</span><span class="op" id="4699732">)</span><span class="op" id="4699733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699738">default</span><span class="op" id="4699745">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699751">return</span>&nbsp;<span class="ident" id="4699758">nil</span><span class="op" id="4699761">,</span>&nbsp;<span class="ident" id="4699763"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4699766">.</span><span class="ident" id="4699767">Errorf</span><span class="op" id="4699773">(</span><span class="string" id="4699774">&#34;cannot&nbsp;index&nbsp;slice/array&nbsp;with&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4699813">,</span>&nbsp;<span class="ident" id="4699815"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4699820">.</span><span class="ident" id="4699821">Type</span><span class="op" id="4699825">(</span><span class="op" id="4699826">)</span><span class="op" id="4699827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4699832">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699837">if</span>&nbsp;<span class="ident" id="4699840"><a href="/text/template/funcs.go.html#4699472">x</a></span>&nbsp;<span class="op" id="4699842">&lt;</span>&nbsp;<span class="num" id="4699844">0</span>&nbsp;<span class="op" id="4699846">||</span>&nbsp;<span class="ident" id="4699849"><a href="/text/template/funcs.go.html#4699472">x</a></span>&nbsp;<span class="op" id="4699851">&gt;=</span>&nbsp;<span class="ident" id="4699854">int64</span><span class="op" id="4699859">(</span><span class="ident" id="4699860"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4699861">.</span><span class="ident" id="4699862">Len</span><span class="op" id="4699865">(</span><span class="op" id="4699866">)</span><span class="op" id="4699867">)</span>&nbsp;<span class="op" id="4699869">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699875">return</span>&nbsp;<span class="ident" id="4699882">nil</span><span class="op" id="4699885">,</span>&nbsp;<span class="ident" id="4699887"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4699890">.</span><span class="ident" id="4699891">Errorf</span><span class="op" id="4699897">(</span><span class="string" id="4699898">&#34;index&nbsp;out&nbsp;of&nbsp;range:&nbsp;%d&#34;</span><span class="op" id="4699922">,</span>&nbsp;<span class="ident" id="4699924"><a href="/text/template/funcs.go.html#4699472">x</a></span><span class="op" id="4699925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4699930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4699935"><a href="/text/template/funcs.go.html#4699198">v</a></span>&nbsp;<span class="op" id="4699937">=</span>&nbsp;<span class="ident" id="4699939"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4699940">.</span><span class="ident" id="4699941">Index</span><span class="op" id="4699946">(</span><span class="builtintype" id="4699947">int</span><span class="op" id="4699950">(</span><span class="ident" id="4699951"><a href="/text/template/funcs.go.html#4699472">x</a></span><span class="op" id="4699952">)</span><span class="op" id="4699953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699957">case</span>&nbsp;<span class="ident" id="4699962"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4699969">.</span><span class="ident" id="4699970">Map</span><span class="op" id="4699973">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4699978">if</span>&nbsp;<span class="op" id="4699981">!</span><span class="ident" id="4699982"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4699987">.</span><span class="ident" id="4699988">IsValid</span><span class="op" id="4699995">(</span><span class="op" id="4699996">)</span>&nbsp;<span class="op" id="4699998">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700004"><a href="/text/template/funcs.go.html#4699256">index</a></span>&nbsp;<span class="op" id="4700010">=</span>&nbsp;<span class="ident" id="4700012"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700019">.</span><span class="ident" id="4700020">Zero</span><span class="op" id="4700024">(</span><span class="ident" id="4700025"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700026">.</span><span class="ident" id="4700027">Type</span><span class="op" id="4700031">(</span><span class="op" id="4700032">)</span><span class="op" id="4700033">.</span><span class="ident" id="4700034">Key</span><span class="op" id="4700037">(</span><span class="op" id="4700038">)</span><span class="op" id="4700039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700049">if</span>&nbsp;<span class="op" id="4700052">!</span><span class="ident" id="4700053"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4700058">.</span><span class="ident" id="4700059">Type</span><span class="op" id="4700063">(</span><span class="op" id="4700064">)</span><span class="op" id="4700065">.</span><span class="ident" id="4700066">AssignableTo</span><span class="op" id="4700078">(</span><span class="ident" id="4700079"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700080">.</span><span class="ident" id="4700081">Type</span><span class="op" id="4700085">(</span><span class="op" id="4700086">)</span><span class="op" id="4700087">.</span><span class="ident" id="4700088">Key</span><span class="op" id="4700091">(</span><span class="op" id="4700092">)</span><span class="op" id="4700093">)</span>&nbsp;<span class="op" id="4700095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700101">return</span>&nbsp;<span class="ident" id="4700108">nil</span><span class="op" id="4700111">,</span>&nbsp;<span class="ident" id="4700113"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4700116">.</span><span class="ident" id="4700117">Errorf</span><span class="op" id="4700123">(</span><span class="string" id="4700124">&#34;%s&nbsp;is&nbsp;not&nbsp;index&nbsp;type&nbsp;for&nbsp;%s&#34;</span><span class="op" id="4700153">,</span>&nbsp;<span class="ident" id="4700155"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4700160">.</span><span class="ident" id="4700161">Type</span><span class="op" id="4700165">(</span><span class="op" id="4700166">)</span><span class="op" id="4700167">,</span>&nbsp;<span class="ident" id="4700169"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700170">.</span><span class="ident" id="4700171">Type</span><span class="op" id="4700175">(</span><span class="op" id="4700176">)</span><span class="op" id="4700177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700182">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700187">if</span>&nbsp;<span class="ident" id="4700190">x</span>&nbsp;<span class="op" id="4700192">:=</span>&nbsp;<span class="ident" id="4700195"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700196">.</span><span class="ident" id="4700197">MapIndex</span><span class="op" id="4700205">(</span><span class="ident" id="4700206"><a href="/text/template/funcs.go.html#4699256">index</a></span><span class="op" id="4700211">)</span><span class="op" id="4700212">;</span>&nbsp;<span class="ident" id="4700214"><a href="/text/template/funcs.go.html#4700190">x</a></span><span class="op" id="4700215">.</span><span class="ident" id="4700216">IsValid</span><span class="op" id="4700223">(</span><span class="op" id="4700224">)</span>&nbsp;<span class="op" id="4700226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700232"><a href="/text/template/funcs.go.html#4699198">v</a></span>&nbsp;<span class="op" id="4700234">=</span>&nbsp;<span class="ident" id="4700236"><a href="/text/template/funcs.go.html#4700190">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700241">}</span>&nbsp;<span class="keyword" id="4700243">else</span>&nbsp;<span class="op" id="4700248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700254"><a href="/text/template/funcs.go.html#4699198">v</a></span>&nbsp;<span class="op" id="4700256">=</span>&nbsp;<span class="ident" id="4700258"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700265">.</span><span class="ident" id="4700266">Zero</span><span class="op" id="4700270">(</span><span class="ident" id="4700271"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700272">.</span><span class="ident" id="4700273">Type</span><span class="op" id="4700277">(</span><span class="op" id="4700278">)</span><span class="op" id="4700279">.</span><span class="ident" id="4700280">Elem</span><span class="op" id="4700284">(</span><span class="op" id="4700285">)</span><span class="op" id="4700286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700291">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700295">default</span><span class="op" id="4700302">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700307">return</span>&nbsp;<span class="ident" id="4700314">nil</span><span class="op" id="4700317">,</span>&nbsp;<span class="ident" id="4700319"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4700322">.</span><span class="ident" id="4700323">Errorf</span><span class="op" id="4700329">(</span><span class="string" id="4700330">&#34;can&#39;t&nbsp;index&nbsp;item&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4700359">,</span>&nbsp;<span class="ident" id="4700361"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700362">.</span><span class="ident" id="4700363">Type</span><span class="op" id="4700367">(</span><span class="op" id="4700368">)</span><span class="op" id="4700369">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700379">return</span>&nbsp;<span class="ident" id="4700386"><a href="/text/template/funcs.go.html#4699198">v</a></span><span class="op" id="4700387">.</span><span class="ident" id="4700388">Interface</span><span class="op" id="4700397">(</span><span class="op" id="4700398">)</span><span class="op" id="4700399">,</span>&nbsp;<span class="ident" id="4700401">nil</span><br>
<span class="lineno">150</span><span class="op" id="4700405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4700408">//&nbsp;Length</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4700419">//&nbsp;length&nbsp;returns&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;item,&nbsp;with&nbsp;an&nbsp;error&nbsp;if&nbsp;it&nbsp;has&nbsp;no&nbsp;defined&nbsp;length.</span><br>
<span class="lineno">155</span><span class="keyword" id="4700504">func</span>&nbsp;<span class="ident" id="4700509">length</span><span class="op" id="4700515">(</span><span class="ident" id="4700516">item</span>&nbsp;<span class="keyword" id="4700521">interface</span><span class="op" id="4700530">{</span><span class="op" id="4700531">}</span><span class="op" id="4700532">)</span>&nbsp;<span class="op" id="4700534">(</span><span class="builtintype" id="4700535">int</span><span class="op" id="4700538">,</span>&nbsp;<span class="builtintype" id="4700540">error</span><span class="op" id="4700545">)</span>&nbsp;<span class="op" id="4700547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4700550">v</span><span class="op" id="4700551">,</span>&nbsp;<span class="ident" id="4700553">isNil</span>&nbsp;<span class="op" id="4700559">:=</span>&nbsp;<span class="ident" id="4700562"><a href="/text/template/exec.go.html#4693816">indirect</a></span><span class="op" id="4700570">(</span><span class="ident" id="4700571"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700578">.</span><span class="ident" id="4700579">ValueOf</span><span class="op" id="4700586">(</span><span class="ident" id="4700587"><a href="/text/template/funcs.go.html#4700516">item</a></span><span class="op" id="4700591">)</span><span class="op" id="4700592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700595">if</span>&nbsp;<span class="ident" id="4700598"><a href="/text/template/funcs.go.html#4700553">isNil</a></span>&nbsp;<span class="op" id="4700604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700608">return</span>&nbsp;<span class="num" id="4700615">0</span><span class="op" id="4700616">,</span>&nbsp;<span class="ident" id="4700618"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4700621">.</span><span class="ident" id="4700622">Errorf</span><span class="op" id="4700628">(</span><span class="string" id="4700629">&#34;len&nbsp;of&nbsp;nil&nbsp;pointer&#34;</span><span class="op" id="4700649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700652">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700655">switch</span>&nbsp;<span class="ident" id="4700662"><a href="/text/template/funcs.go.html#4700550">v</a></span><span class="op" id="4700663">.</span><span class="ident" id="4700664">Kind</span><span class="op" id="4700668">(</span><span class="op" id="4700669">)</span>&nbsp;<span class="op" id="4700671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700674">case</span>&nbsp;<span class="ident" id="4700679"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700686">.</span><span class="ident" id="4700687">Array</span><span class="op" id="4700692">,</span>&nbsp;<span class="ident" id="4700694"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700701">.</span><span class="ident" id="4700702">Chan</span><span class="op" id="4700706">,</span>&nbsp;<span class="ident" id="4700708"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700715">.</span><span class="ident" id="4700716">Map</span><span class="op" id="4700719">,</span>&nbsp;<span class="ident" id="4700721"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700728">.</span><span class="ident" id="4700729">Slice</span><span class="op" id="4700734">,</span>&nbsp;<span class="ident" id="4700736"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4700743">.</span><span class="ident" id="4700744">String</span><span class="op" id="4700750">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700754">return</span>&nbsp;<span class="ident" id="4700761"><a href="/text/template/funcs.go.html#4700550">v</a></span><span class="op" id="4700762">.</span><span class="ident" id="4700763">Len</span><span class="op" id="4700766">(</span><span class="op" id="4700767">)</span><span class="op" id="4700768">,</span>&nbsp;<span class="ident" id="4700770">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4700775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4700778">return</span>&nbsp;<span class="num" id="4700785">0</span><span class="op" id="4700786">,</span>&nbsp;<span class="ident" id="4700788"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4700791">.</span><span class="ident" id="4700792">Errorf</span><span class="op" id="4700798">(</span><span class="string" id="4700799">&#34;len&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4700815">,</span>&nbsp;<span class="ident" id="4700817"><a href="/text/template/funcs.go.html#4700550">v</a></span><span class="op" id="4700818">.</span><span class="ident" id="4700819">Type</span><span class="op" id="4700823">(</span><span class="op" id="4700824">)</span><span class="op" id="4700825">)</span><br>
<span class="lineno">165</span><span class="op" id="4700827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4700830">//&nbsp;Function&nbsp;invocation</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4700854">//&nbsp;call&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;evaluating&nbsp;the&nbsp;first&nbsp;argument&nbsp;as&nbsp;a&nbsp;function.</span><br>
<span class="lineno">170</span><span class="comment" id="4700929">//&nbsp;The&nbsp;function&nbsp;must&nbsp;return&nbsp;1&nbsp;result,&nbsp;or&nbsp;2&nbsp;results,&nbsp;the&nbsp;second&nbsp;of&nbsp;which&nbsp;is&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="4701014">func</span>&nbsp;<span class="ident" id="4701019">call</span><span class="op" id="4701023">(</span><span class="ident" id="4701024">fn</span>&nbsp;<span class="keyword" id="4701027">interface</span><span class="op" id="4701036">{</span><span class="op" id="4701037">}</span><span class="op" id="4701038">,</span>&nbsp;<span class="ident" id="4701040">args</span>&nbsp;<span class="op" id="4701045">...</span><span class="keyword" id="4701048">interface</span><span class="op" id="4701057">{</span><span class="op" id="4701058">}</span><span class="op" id="4701059">)</span>&nbsp;<span class="op" id="4701061">(</span><span class="keyword" id="4701062">interface</span><span class="op" id="4701071">{</span><span class="op" id="4701072">}</span><span class="op" id="4701073">,</span>&nbsp;<span class="builtintype" id="4701075">error</span><span class="op" id="4701080">)</span>&nbsp;<span class="op" id="4701082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701085">v</span>&nbsp;<span class="op" id="4701087">:=</span>&nbsp;<span class="ident" id="4701090"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4701097">.</span><span class="ident" id="4701098">ValueOf</span><span class="op" id="4701105">(</span><span class="ident" id="4701106"><a href="/text/template/funcs.go.html#4701024">fn</a></span><span class="op" id="4701108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701111">typ</span>&nbsp;<span class="op" id="4701115">:=</span>&nbsp;<span class="ident" id="4701118"><a href="/text/template/funcs.go.html#4701085">v</a></span><span class="op" id="4701119">.</span><span class="ident" id="4701120">Type</span><span class="op" id="4701124">(</span><span class="op" id="4701125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701128">if</span>&nbsp;<span class="ident" id="4701131"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701134">.</span><span class="ident" id="4701135">Kind</span><span class="op" id="4701139">(</span><span class="op" id="4701140">)</span>&nbsp;<span class="op" id="4701142">!=</span>&nbsp;<span class="ident" id="4701145"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4701152">.</span><span class="ident" id="4701153">Func</span>&nbsp;<span class="op" id="4701158">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701162">return</span>&nbsp;<span class="ident" id="4701169">nil</span><span class="op" id="4701172">,</span>&nbsp;<span class="ident" id="4701174"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4701177">.</span><span class="ident" id="4701178">Errorf</span><span class="op" id="4701184">(</span><span class="string" id="4701185">&#34;non-function&nbsp;of&nbsp;type&nbsp;%s&#34;</span><span class="op" id="4701210">,</span>&nbsp;<span class="ident" id="4701212"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701215">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701218">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701221">if</span>&nbsp;<span class="op" id="4701224">!</span><span class="ident" id="4701225"><a href="/text/template/funcs.go.html#4698308">goodFunc</a></span><span class="op" id="4701233">(</span><span class="ident" id="4701234"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701237">)</span>&nbsp;<span class="op" id="4701239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701243">return</span>&nbsp;<span class="ident" id="4701250">nil</span><span class="op" id="4701253">,</span>&nbsp;<span class="ident" id="4701255"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4701258">.</span><span class="ident" id="4701259">Errorf</span><span class="op" id="4701265">(</span><span class="string" id="4701266">&#34;function&nbsp;called&nbsp;with&nbsp;%d&nbsp;args;&nbsp;should&nbsp;be&nbsp;1&nbsp;or&nbsp;2&#34;</span><span class="op" id="4701314">,</span>&nbsp;<span class="ident" id="4701316"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701319">.</span><span class="ident" id="4701320">NumOut</span><span class="op" id="4701326">(</span><span class="op" id="4701327">)</span><span class="op" id="4701328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701331">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701334">numIn</span>&nbsp;<span class="op" id="4701340">:=</span>&nbsp;<span class="ident" id="4701343"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701346">.</span><span class="ident" id="4701347">NumIn</span><span class="op" id="4701352">(</span><span class="op" id="4701353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701356">var</span>&nbsp;<span class="ident" id="4701360">dddType</span>&nbsp;<span class="ident" id="4701368"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4701375">.</span><span class="ident" id="4701376">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701382">if</span>&nbsp;<span class="ident" id="4701385"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701388">.</span><span class="ident" id="4701389">IsVariadic</span><span class="op" id="4701399">(</span><span class="op" id="4701400">)</span>&nbsp;<span class="op" id="4701402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701406">if</span>&nbsp;<span class="builtinfunc" id="4701409">len</span><span class="op" id="4701412">(</span><span class="ident" id="4701413"><a href="/text/template/funcs.go.html#4701040">args</a></span><span class="op" id="4701417">)</span>&nbsp;<span class="op" id="4701419">&lt;</span>&nbsp;<span class="ident" id="4701421"><a href="/text/template/funcs.go.html#4701334">numIn</a></span><span class="op" id="4701426">-</span><span class="num" id="4701427">1</span>&nbsp;<span class="op" id="4701429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701434">return</span>&nbsp;<span class="ident" id="4701441">nil</span><span class="op" id="4701444">,</span>&nbsp;<span class="ident" id="4701446"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4701449">.</span><span class="ident" id="4701450">Errorf</span><span class="op" id="4701456">(</span><span class="string" id="4701457">&#34;wrong&nbsp;number&nbsp;of&nbsp;args:&nbsp;got&nbsp;%d&nbsp;want&nbsp;at&nbsp;least&nbsp;%d&#34;</span><span class="op" id="4701504">,</span>&nbsp;<span class="builtinfunc" id="4701506">len</span><span class="op" id="4701509">(</span><span class="ident" id="4701510"><a href="/text/template/funcs.go.html#4701040">args</a></span><span class="op" id="4701514">)</span><span class="op" id="4701515">,</span>&nbsp;<span class="ident" id="4701517"><a href="/text/template/funcs.go.html#4701334">numIn</a></span><span class="op" id="4701522">-</span><span class="num" id="4701523">1</span><span class="op" id="4701524">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701532"><a href="/text/template/funcs.go.html#4701360">dddType</a></span>&nbsp;<span class="op" id="4701540">=</span>&nbsp;<span class="ident" id="4701542"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701545">.</span><span class="ident" id="4701546">In</span><span class="op" id="4701548">(</span><span class="ident" id="4701549"><a href="/text/template/funcs.go.html#4701334">numIn</a></span>&nbsp;<span class="op" id="4701555">-</span>&nbsp;<span class="num" id="4701557">1</span><span class="op" id="4701558">)</span><span class="op" id="4701559">.</span><span class="ident" id="4701560">Elem</span><span class="op" id="4701564">(</span><span class="op" id="4701565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701568">}</span>&nbsp;<span class="keyword" id="4701570">else</span>&nbsp;<span class="op" id="4701575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701579">if</span>&nbsp;<span class="builtinfunc" id="4701582">len</span><span class="op" id="4701585">(</span><span class="ident" id="4701586"><a href="/text/template/funcs.go.html#4701040">args</a></span><span class="op" id="4701590">)</span>&nbsp;<span class="op" id="4701592">!=</span>&nbsp;<span class="ident" id="4701595"><a href="/text/template/funcs.go.html#4701334">numIn</a></span>&nbsp;<span class="op" id="4701601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701606">return</span>&nbsp;<span class="ident" id="4701613">nil</span><span class="op" id="4701616">,</span>&nbsp;<span class="ident" id="4701618"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4701621">.</span><span class="ident" id="4701622">Errorf</span><span class="op" id="4701628">(</span><span class="string" id="4701629">&#34;wrong&nbsp;number&nbsp;of&nbsp;args:&nbsp;got&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="4701667">,</span>&nbsp;<span class="builtinfunc" id="4701669">len</span><span class="op" id="4701672">(</span><span class="ident" id="4701673"><a href="/text/template/funcs.go.html#4701040">args</a></span><span class="op" id="4701677">)</span><span class="op" id="4701678">,</span>&nbsp;<span class="ident" id="4701680"><a href="/text/template/funcs.go.html#4701334">numIn</a></span><span class="op" id="4701685">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701695">argv</span>&nbsp;<span class="op" id="4701700">:=</span>&nbsp;<span class="builtinfunc" id="4701703">make</span><span class="op" id="4701707">(</span><span class="op" id="4701708">[</span><span class="op" id="4701709">]</span><span class="ident" id="4701710"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4701717">.</span><span class="ident" id="4701718">Value</span><span class="op" id="4701723">,</span>&nbsp;<span class="builtinfunc" id="4701725">len</span><span class="op" id="4701728">(</span><span class="ident" id="4701729"><a href="/text/template/funcs.go.html#4701040">args</a></span><span class="op" id="4701733">)</span><span class="op" id="4701734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701737">for</span>&nbsp;<span class="ident" id="4701741">i</span><span class="op" id="4701742">,</span>&nbsp;<span class="ident" id="4701744">arg</span>&nbsp;<span class="op" id="4701748">:=</span>&nbsp;<span class="keyword" id="4701751">range</span>&nbsp;<span class="ident" id="4701757"><a href="/text/template/funcs.go.html#4701040">args</a></span>&nbsp;<span class="op" id="4701762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701766">value</span>&nbsp;<span class="op" id="4701772">:=</span>&nbsp;<span class="ident" id="4701775"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4701782">.</span><span class="ident" id="4701783">ValueOf</span><span class="op" id="4701790">(</span><span class="ident" id="4701791"><a href="/text/template/funcs.go.html#4701744">arg</a></span><span class="op" id="4701794">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4701798">//&nbsp;Compute&nbsp;the&nbsp;expected&nbsp;type.&nbsp;Clumsy&nbsp;because&nbsp;of&nbsp;variadics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701859">var</span>&nbsp;<span class="ident" id="4701863">argType</span>&nbsp;<span class="ident" id="4701871"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4701878">.</span><span class="ident" id="4701879">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701886">if</span>&nbsp;<span class="op" id="4701889">!</span><span class="ident" id="4701890"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701893">.</span><span class="ident" id="4701894">IsVariadic</span><span class="op" id="4701904">(</span><span class="op" id="4701905">)</span>&nbsp;<span class="op" id="4701907">||</span>&nbsp;<span class="ident" id="4701910"><a href="/text/template/funcs.go.html#4701741">i</a></span>&nbsp;<span class="op" id="4701912">&lt;</span>&nbsp;<span class="ident" id="4701914"><a href="/text/template/funcs.go.html#4701334">numIn</a></span><span class="op" id="4701919">-</span><span class="num" id="4701920">1</span>&nbsp;<span class="op" id="4701922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701927"><a href="/text/template/funcs.go.html#4701863">argType</a></span>&nbsp;<span class="op" id="4701935">=</span>&nbsp;<span class="ident" id="4701937"><a href="/text/template/funcs.go.html#4701111">typ</a></span><span class="op" id="4701940">.</span><span class="ident" id="4701941">In</span><span class="op" id="4701943">(</span><span class="ident" id="4701944"><a href="/text/template/funcs.go.html#4701741">i</a></span><span class="op" id="4701945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701949">}</span>&nbsp;<span class="keyword" id="4701951">else</span>&nbsp;<span class="op" id="4701956">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4701961"><a href="/text/template/funcs.go.html#4701863">argType</a></span>&nbsp;<span class="op" id="4701969">=</span>&nbsp;<span class="ident" id="4701971"><a href="/text/template/funcs.go.html#4701360">dddType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4701981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4701985">if</span>&nbsp;<span class="op" id="4701988">!</span><span class="ident" id="4701989"><a href="/text/template/funcs.go.html#4701766">value</a></span><span class="op" id="4701994">.</span><span class="ident" id="4701995">IsValid</span><span class="op" id="4702002">(</span><span class="op" id="4702003">)</span>&nbsp;<span class="op" id="4702005">&amp;&amp;</span>&nbsp;<span class="ident" id="4702008"><a href="/text/template/exec.go.html#4688190">canBeNil</a></span><span class="op" id="4702016">(</span><span class="ident" id="4702017"><a href="/text/template/funcs.go.html#4701863">argType</a></span><span class="op" id="4702024">)</span>&nbsp;<span class="op" id="4702026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4702031"><a href="/text/template/funcs.go.html#4701766">value</a></span>&nbsp;<span class="op" id="4702037">=</span>&nbsp;<span class="ident" id="4702039"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4702046">.</span><span class="ident" id="4702047">Zero</span><span class="op" id="4702051">(</span><span class="ident" id="4702052"><a href="/text/template/funcs.go.html#4701863">argType</a></span><span class="op" id="4702059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702063">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702067">if</span>&nbsp;<span class="op" id="4702070">!</span><span class="ident" id="4702071"><a href="/text/template/funcs.go.html#4701766">value</a></span><span class="op" id="4702076">.</span><span class="ident" id="4702077">Type</span><span class="op" id="4702081">(</span><span class="op" id="4702082">)</span><span class="op" id="4702083">.</span><span class="ident" id="4702084">AssignableTo</span><span class="op" id="4702096">(</span><span class="ident" id="4702097"><a href="/text/template/funcs.go.html#4701863">argType</a></span><span class="op" id="4702104">)</span>&nbsp;<span class="op" id="4702106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702111">return</span>&nbsp;<span class="ident" id="4702118">nil</span><span class="op" id="4702121">,</span>&nbsp;<span class="ident" id="4702123"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4702126">.</span><span class="ident" id="4702127">Errorf</span><span class="op" id="4702133">(</span><span class="string" id="4702134">&#34;arg&nbsp;%d&nbsp;has&nbsp;type&nbsp;%s;&nbsp;should&nbsp;be&nbsp;%s&#34;</span><span class="op" id="4702168">,</span>&nbsp;<span class="ident" id="4702170"><a href="/text/template/funcs.go.html#4701741">i</a></span><span class="op" id="4702171">,</span>&nbsp;<span class="ident" id="4702173"><a href="/text/template/funcs.go.html#4701766">value</a></span><span class="op" id="4702178">.</span><span class="ident" id="4702179">Type</span><span class="op" id="4702183">(</span><span class="op" id="4702184">)</span><span class="op" id="4702185">,</span>&nbsp;<span class="ident" id="4702187"><a href="/text/template/funcs.go.html#4701863">argType</a></span><span class="op" id="4702194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4702202"><a href="/text/template/funcs.go.html#4701695">argv</a></span><span class="op" id="4702206">[</span><span class="ident" id="4702207"><a href="/text/template/funcs.go.html#4701741">i</a></span><span class="op" id="4702208">]</span>&nbsp;<span class="op" id="4702210">=</span>&nbsp;<span class="ident" id="4702212"><a href="/text/template/funcs.go.html#4701766">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702219">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4702222">result</span>&nbsp;<span class="op" id="4702229">:=</span>&nbsp;<span class="ident" id="4702232"><a href="/text/template/funcs.go.html#4701085">v</a></span><span class="op" id="4702233">.</span><span class="ident" id="4702234">Call</span><span class="op" id="4702238">(</span><span class="ident" id="4702239"><a href="/text/template/funcs.go.html#4701695">argv</a></span><span class="op" id="4702243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702246">if</span>&nbsp;<span class="builtinfunc" id="4702249">len</span><span class="op" id="4702252">(</span><span class="ident" id="4702253"><a href="/text/template/funcs.go.html#4702222">result</a></span><span class="op" id="4702259">)</span>&nbsp;<span class="op" id="4702261">==</span>&nbsp;<span class="num" id="4702264">2</span>&nbsp;<span class="op" id="4702266">&amp;&amp;</span>&nbsp;<span class="op" id="4702269">!</span><span class="ident" id="4702270"><a href="/text/template/funcs.go.html#4702222">result</a></span><span class="op" id="4702276">[</span><span class="num" id="4702277">1</span><span class="op" id="4702278">]</span><span class="op" id="4702279">.</span><span class="ident" id="4702280">IsNil</span><span class="op" id="4702285">(</span><span class="op" id="4702286">)</span>&nbsp;<span class="op" id="4702288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702292">return</span>&nbsp;<span class="ident" id="4702299"><a href="/text/template/funcs.go.html#4702222">result</a></span><span class="op" id="4702305">[</span><span class="num" id="4702306">0</span><span class="op" id="4702307">]</span><span class="op" id="4702308">.</span><span class="ident" id="4702309">Interface</span><span class="op" id="4702318">(</span><span class="op" id="4702319">)</span><span class="op" id="4702320">,</span>&nbsp;<span class="ident" id="4702322"><a href="/text/template/funcs.go.html#4702222">result</a></span><span class="op" id="4702328">[</span><span class="num" id="4702329">1</span><span class="op" id="4702330">]</span><span class="op" id="4702331">.</span><span class="ident" id="4702332">Interface</span><span class="op" id="4702341">(</span><span class="op" id="4702342">)</span><span class="op" id="4702343">.</span><span class="op" id="4702344">(</span><span class="builtintype" id="4702345">error</span><span class="op" id="4702350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702356">return</span>&nbsp;<span class="ident" id="4702363"><a href="/text/template/funcs.go.html#4702222">result</a></span><span class="op" id="4702369">[</span><span class="num" id="4702370">0</span><span class="op" id="4702371">]</span><span class="op" id="4702372">.</span><span class="ident" id="4702373">Interface</span><span class="op" id="4702382">(</span><span class="op" id="4702383">)</span><span class="op" id="4702384">,</span>&nbsp;<span class="ident" id="4702386">nil</span><br>
<span class="lineno">215</span><span class="op" id="4702390">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4702393">//&nbsp;Boolean&nbsp;logic.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4702412">func</span>&nbsp;<span class="ident" id="4702417">truth</span><span class="op" id="4702422">(</span><span class="ident" id="4702423">a</span>&nbsp;<span class="keyword" id="4702425">interface</span><span class="op" id="4702434">{</span><span class="op" id="4702435">}</span><span class="op" id="4702436">)</span>&nbsp;<span class="builtintype" id="4702438">bool</span>&nbsp;<span class="op" id="4702443">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4702446">t</span><span class="op" id="4702447">,</span>&nbsp;<span class="ident" id="4702449">_</span>&nbsp;<span class="op" id="4702451">:=</span>&nbsp;<span class="ident" id="4702454"><a href="/text/template/exec.go.html#4675813">isTrue</a></span><span class="op" id="4702460">(</span><span class="ident" id="4702461"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4702468">.</span><span class="ident" id="4702469">ValueOf</span><span class="op" id="4702476">(</span><span class="ident" id="4702477"><a href="/text/template/funcs.go.html#4702423">a</a></span><span class="op" id="4702478">)</span><span class="op" id="4702479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702482">return</span>&nbsp;<span class="ident" id="4702489"><a href="/text/template/funcs.go.html#4702446">t</a></span><br>
<span class="lineno"></span><span class="op" id="4702491">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4702494">//&nbsp;and&nbsp;computes&nbsp;the&nbsp;Boolean&nbsp;AND&nbsp;of&nbsp;its&nbsp;arguments,&nbsp;returning</span><br>
<span class="lineno">225</span><span class="comment" id="4702554">//&nbsp;the&nbsp;first&nbsp;false&nbsp;argument&nbsp;it&nbsp;encounters,&nbsp;or&nbsp;the&nbsp;last&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="4702619">func</span>&nbsp;<span class="ident" id="4702624">and</span><span class="op" id="4702627">(</span><span class="ident" id="4702628">arg0</span>&nbsp;<span class="keyword" id="4702633">interface</span><span class="op" id="4702642">{</span><span class="op" id="4702643">}</span><span class="op" id="4702644">,</span>&nbsp;<span class="ident" id="4702646">args</span>&nbsp;<span class="op" id="4702651">...</span><span class="keyword" id="4702654">interface</span><span class="op" id="4702663">{</span><span class="op" id="4702664">}</span><span class="op" id="4702665">)</span>&nbsp;<span class="keyword" id="4702667">interface</span><span class="op" id="4702676">{</span><span class="op" id="4702677">}</span>&nbsp;<span class="op" id="4702679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702682">if</span>&nbsp;<span class="op" id="4702685">!</span><span class="ident" id="4702686"><a href="/text/template/funcs.go.html#4702417">truth</a></span><span class="op" id="4702691">(</span><span class="ident" id="4702692"><a href="/text/template/funcs.go.html#4702628">arg0</a></span><span class="op" id="4702696">)</span>&nbsp;<span class="op" id="4702698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702702">return</span>&nbsp;<span class="ident" id="4702709"><a href="/text/template/funcs.go.html#4702628">arg0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702715">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702718">for</span>&nbsp;<span class="ident" id="4702722">i</span>&nbsp;<span class="op" id="4702724">:=</span>&nbsp;<span class="keyword" id="4702727">range</span>&nbsp;<span class="ident" id="4702733"><a href="/text/template/funcs.go.html#4702646">args</a></span>&nbsp;<span class="op" id="4702738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4702742"><a href="/text/template/funcs.go.html#4702628">arg0</a></span>&nbsp;<span class="op" id="4702747">=</span>&nbsp;<span class="ident" id="4702749"><a href="/text/template/funcs.go.html#4702646">args</a></span><span class="op" id="4702753">[</span><span class="ident" id="4702754"><a href="/text/template/funcs.go.html#4702722">i</a></span><span class="op" id="4702755">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702759">if</span>&nbsp;<span class="op" id="4702762">!</span><span class="ident" id="4702763"><a href="/text/template/funcs.go.html#4702417">truth</a></span><span class="op" id="4702768">(</span><span class="ident" id="4702769"><a href="/text/template/funcs.go.html#4702628">arg0</a></span><span class="op" id="4702773">)</span>&nbsp;<span class="op" id="4702775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702780">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702788">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4702791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702794">return</span>&nbsp;<span class="ident" id="4702801"><a href="/text/template/funcs.go.html#4702628">arg0</a></span><br>
<span class="lineno"></span><span class="op" id="4702806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4702809">//&nbsp;or&nbsp;computes&nbsp;the&nbsp;Boolean&nbsp;OR&nbsp;of&nbsp;its&nbsp;arguments,&nbsp;returning</span><br>
<span class="lineno">240</span><span class="comment" id="4702867">//&nbsp;the&nbsp;first&nbsp;true&nbsp;argument&nbsp;it&nbsp;encounters,&nbsp;or&nbsp;the&nbsp;last&nbsp;argument.</span><br>
<span class="lineno"></span><span class="keyword" id="4702931">func</span>&nbsp;<span class="ident" id="4702936">or</span><span class="op" id="4702938">(</span><span class="ident" id="4702939">arg0</span>&nbsp;<span class="keyword" id="4702944">interface</span><span class="op" id="4702953">{</span><span class="op" id="4702954">}</span><span class="op" id="4702955">,</span>&nbsp;<span class="ident" id="4702957">args</span>&nbsp;<span class="op" id="4702962">...</span><span class="keyword" id="4702965">interface</span><span class="op" id="4702974">{</span><span class="op" id="4702975">}</span><span class="op" id="4702976">)</span>&nbsp;<span class="keyword" id="4702978">interface</span><span class="op" id="4702987">{</span><span class="op" id="4702988">}</span>&nbsp;<span class="op" id="4702990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4702993">if</span>&nbsp;<span class="ident" id="4702996"><a href="/text/template/funcs.go.html#4702417">truth</a></span><span class="op" id="4703001">(</span><span class="ident" id="4703002"><a href="/text/template/funcs.go.html#4702939">arg0</a></span><span class="op" id="4703006">)</span>&nbsp;<span class="op" id="4703008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703012">return</span>&nbsp;<span class="ident" id="4703019"><a href="/text/template/funcs.go.html#4702939">arg0</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4703025">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703028">for</span>&nbsp;<span class="ident" id="4703032">i</span>&nbsp;<span class="op" id="4703034">:=</span>&nbsp;<span class="keyword" id="4703037">range</span>&nbsp;<span class="ident" id="4703043"><a href="/text/template/funcs.go.html#4702957">args</a></span>&nbsp;<span class="op" id="4703048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703052"><a href="/text/template/funcs.go.html#4702939">arg0</a></span>&nbsp;<span class="op" id="4703057">=</span>&nbsp;<span class="ident" id="4703059"><a href="/text/template/funcs.go.html#4702957">args</a></span><span class="op" id="4703063">[</span><span class="ident" id="4703064"><a href="/text/template/funcs.go.html#4703032">i</a></span><span class="op" id="4703065">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703069">if</span>&nbsp;<span class="ident" id="4703072"><a href="/text/template/funcs.go.html#4702417">truth</a></span><span class="op" id="4703077">(</span><span class="ident" id="4703078"><a href="/text/template/funcs.go.html#4702939">arg0</a></span><span class="op" id="4703082">)</span>&nbsp;<span class="op" id="4703084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703089">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4703097">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4703100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703103">return</span>&nbsp;<span class="ident" id="4703110"><a href="/text/template/funcs.go.html#4702939">arg0</a></span><br>
<span class="lineno"></span><span class="op" id="4703115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4703118">//&nbsp;not&nbsp;returns&nbsp;the&nbsp;Boolean&nbsp;negation&nbsp;of&nbsp;its&nbsp;argument.</span><br>
<span class="lineno">255</span><span class="keyword" id="4703171">func</span>&nbsp;<span class="ident" id="4703176">not</span><span class="op" id="4703179">(</span><span class="ident" id="4703180">arg</span>&nbsp;<span class="keyword" id="4703184">interface</span><span class="op" id="4703193">{</span><span class="op" id="4703194">}</span><span class="op" id="4703195">)</span>&nbsp;<span class="op" id="4703197">(</span><span class="ident" id="4703198">truth</span>&nbsp;<span class="builtintype" id="4703204">bool</span><span class="op" id="4703208">)</span>&nbsp;<span class="op" id="4703210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703213"><a href="/text/template/funcs.go.html#4703198">truth</a></span><span class="op" id="4703218">,</span>&nbsp;<span class="ident" id="4703220">_</span>&nbsp;<span class="op" id="4703222">=</span>&nbsp;<span class="ident" id="4703224"><a href="/text/template/exec.go.html#4675813">isTrue</a></span><span class="op" id="4703230">(</span><span class="ident" id="4703231"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703238">.</span><span class="ident" id="4703239">ValueOf</span><span class="op" id="4703246">(</span><span class="ident" id="4703247"><a href="/text/template/funcs.go.html#4703180">arg</a></span><span class="op" id="4703250">)</span><span class="op" id="4703251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703254">return</span>&nbsp;<span class="op" id="4703261">!</span><span class="ident" id="4703262"><a href="/text/template/funcs.go.html#4703198">truth</a></span><br>
<span class="lineno"></span><span class="op" id="4703268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="4703271">//&nbsp;Comparison.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4703287">//&nbsp;TODO:&nbsp;Perhaps&nbsp;allow&nbsp;comparison&nbsp;between&nbsp;signed&nbsp;and&nbsp;unsigned&nbsp;integers.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4703360">var</span>&nbsp;<span class="op" id="4703364">(</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703367">errBadComparisonType</span>&nbsp;<span class="op" id="4703388">=</span>&nbsp;<span class="ident" id="4703390"><a href="/text/template/funcs.go.html#4696440">errors</a></span><span class="op" id="4703396">.</span><span class="ident" id="4703397">New</span><span class="op" id="4703400">(</span><span class="string" id="4703401">&#34;invalid&nbsp;type&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="4703430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703433">errBadComparison</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4703454">=</span>&nbsp;<span class="ident" id="4703456"><a href="/text/template/funcs.go.html#4696440">errors</a></span><span class="op" id="4703462">.</span><span class="ident" id="4703463">New</span><span class="op" id="4703466">(</span><span class="string" id="4703467">&#34;incompatible&nbsp;types&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="4703502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703505">errNoComparison</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4703526">=</span>&nbsp;<span class="ident" id="4703528"><a href="/text/template/funcs.go.html#4696440">errors</a></span><span class="op" id="4703534">.</span><span class="ident" id="4703535">New</span><span class="op" id="4703538">(</span><span class="string" id="4703539">&#34;missing&nbsp;argument&nbsp;for&nbsp;comparison&#34;</span><span class="op" id="4703572">)</span><br>
<span class="lineno"></span><span class="op" id="4703574">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="4703577">type</span>&nbsp;<span class="ident" id="4703582">kind</span>&nbsp;<span class="builtintype" id="4703587">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4703592">const</span>&nbsp;<span class="op" id="4703598">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703601">invalidKind</span>&nbsp;<span class="ident" id="4703613"><a href="/text/template/funcs.go.html#4703582">kind</a></span>&nbsp;<span class="op" id="4703618">=</span>&nbsp;<span class="ident" id="4703620">iota</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703626">boolKind</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703636">complexKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703649">intKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703658">floatKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703669">integerKind</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703682">stringKind</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4703694">uintKind</span><br>
<span class="lineno"></span><span class="op" id="4703703">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4703706">func</span>&nbsp;<span class="ident" id="4703711">basicKind</span><span class="op" id="4703720">(</span><span class="ident" id="4703721">v</span>&nbsp;<span class="ident" id="4703723"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703730">.</span><span class="ident" id="4703731">Value</span><span class="op" id="4703736">)</span>&nbsp;<span class="op" id="4703738">(</span><span class="ident" id="4703739"><a href="/text/template/funcs.go.html#4703582">kind</a></span><span class="op" id="4703743">,</span>&nbsp;<span class="builtintype" id="4703745">error</span><span class="op" id="4703750">)</span>&nbsp;<span class="op" id="4703752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703755">switch</span>&nbsp;<span class="ident" id="4703762"><a href="/text/template/funcs.go.html#4703721">v</a></span><span class="op" id="4703763">.</span><span class="ident" id="4703764">Kind</span><span class="op" id="4703768">(</span><span class="op" id="4703769">)</span>&nbsp;<span class="op" id="4703771">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703774">case</span>&nbsp;<span class="ident" id="4703779"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703786">.</span><span class="ident" id="4703787">Bool</span><span class="op" id="4703791">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703795">return</span>&nbsp;<span class="ident" id="4703802"><a href="/text/template/funcs.go.html#4703626">boolKind</a></span><span class="op" id="4703810">,</span>&nbsp;<span class="ident" id="4703812">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703817">case</span>&nbsp;<span class="ident" id="4703822"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703829">.</span><span class="ident" id="4703830">Int</span><span class="op" id="4703833">,</span>&nbsp;<span class="ident" id="4703835"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703842">.</span><span class="ident" id="4703843">Int8</span><span class="op" id="4703847">,</span>&nbsp;<span class="ident" id="4703849"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703856">.</span><span class="ident" id="4703857">Int16</span><span class="op" id="4703862">,</span>&nbsp;<span class="ident" id="4703864"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703871">.</span><span class="ident" id="4703872">Int32</span><span class="op" id="4703877">,</span>&nbsp;<span class="ident" id="4703879"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703886">.</span><span class="ident" id="4703887">Int64</span><span class="op" id="4703892">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703896">return</span>&nbsp;<span class="ident" id="4703903"><a href="/text/template/funcs.go.html#4703649">intKind</a></span><span class="op" id="4703910">,</span>&nbsp;<span class="ident" id="4703912">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4703917">case</span>&nbsp;<span class="ident" id="4703922"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703929">.</span><span class="ident" id="4703930">Uint</span><span class="op" id="4703934">,</span>&nbsp;<span class="ident" id="4703936"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703943">.</span><span class="ident" id="4703944">Uint8</span><span class="op" id="4703949">,</span>&nbsp;<span class="ident" id="4703951"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703958">.</span><span class="ident" id="4703959">Uint16</span><span class="op" id="4703965">,</span>&nbsp;<span class="ident" id="4703967"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703974">.</span><span class="ident" id="4703975">Uint32</span><span class="op" id="4703981">,</span>&nbsp;<span class="ident" id="4703983"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4703990">.</span><span class="ident" id="4703991">Uint64</span><span class="op" id="4703997">,</span>&nbsp;<span class="ident" id="4703999"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704006">.</span><span class="ident" id="4704007">Uintptr</span><span class="op" id="4704014">:</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704018">return</span>&nbsp;<span class="ident" id="4704025"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span><span class="op" id="4704033">,</span>&nbsp;<span class="ident" id="4704035">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704040">case</span>&nbsp;<span class="ident" id="4704045"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704052">.</span><span class="ident" id="4704053">Float32</span><span class="op" id="4704060">,</span>&nbsp;<span class="ident" id="4704062"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704069">.</span><span class="ident" id="4704070">Float64</span><span class="op" id="4704077">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704081">return</span>&nbsp;<span class="ident" id="4704088"><a href="/text/template/funcs.go.html#4703658">floatKind</a></span><span class="op" id="4704097">,</span>&nbsp;<span class="ident" id="4704099">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704104">case</span>&nbsp;<span class="ident" id="4704109"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704116">.</span><span class="ident" id="4704117">Complex64</span><span class="op" id="4704126">,</span>&nbsp;<span class="ident" id="4704128"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704135">.</span><span class="ident" id="4704136">Complex128</span><span class="op" id="4704146">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704150">return</span>&nbsp;<span class="ident" id="4704157"><a href="/text/template/funcs.go.html#4703636">complexKind</a></span><span class="op" id="4704168">,</span>&nbsp;<span class="ident" id="4704170">nil</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704175">case</span>&nbsp;<span class="ident" id="4704180"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704187">.</span><span class="ident" id="4704188">String</span><span class="op" id="4704194">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704198">return</span>&nbsp;<span class="ident" id="4704205"><a href="/text/template/funcs.go.html#4703682">stringKind</a></span><span class="op" id="4704215">,</span>&nbsp;<span class="ident" id="4704217">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4704222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704225">return</span>&nbsp;<span class="ident" id="4704232"><a href="/text/template/funcs.go.html#4703601">invalidKind</a></span><span class="op" id="4704243">,</span>&nbsp;<span class="ident" id="4704245"><a href="/text/template/funcs.go.html#4703367">errBadComparisonType</a></span><br>
<span class="lineno"></span><span class="op" id="4704266">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="4704269">//&nbsp;eq&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;==&nbsp;b&nbsp;||&nbsp;a&nbsp;==&nbsp;c&nbsp;||&nbsp;...</span><br>
<span class="lineno"></span><span class="keyword" id="4704324">func</span>&nbsp;<span class="ident" id="4704329">eq</span><span class="op" id="4704331">(</span><span class="ident" id="4704332">arg1</span>&nbsp;<span class="keyword" id="4704337">interface</span><span class="op" id="4704346">{</span><span class="op" id="4704347">}</span><span class="op" id="4704348">,</span>&nbsp;<span class="ident" id="4704350">arg2</span>&nbsp;<span class="op" id="4704355">...</span><span class="keyword" id="4704358">interface</span><span class="op" id="4704367">{</span><span class="op" id="4704368">}</span><span class="op" id="4704369">)</span>&nbsp;<span class="op" id="4704371">(</span><span class="builtintype" id="4704372">bool</span><span class="op" id="4704376">,</span>&nbsp;<span class="builtintype" id="4704378">error</span><span class="op" id="4704383">)</span>&nbsp;<span class="op" id="4704385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704388">v1</span>&nbsp;<span class="op" id="4704391">:=</span>&nbsp;<span class="ident" id="4704394"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704401">.</span><span class="ident" id="4704402">ValueOf</span><span class="op" id="4704409">(</span><span class="ident" id="4704410"><a href="/text/template/funcs.go.html#4704332">arg1</a></span><span class="op" id="4704414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704417">k1</span><span class="op" id="4704419">,</span>&nbsp;<span class="ident" id="4704421">err</span>&nbsp;<span class="op" id="4704425">:=</span>&nbsp;<span class="ident" id="4704428"><a href="/text/template/funcs.go.html#4703711">basicKind</a></span><span class="op" id="4704437">(</span><span class="ident" id="4704438"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4704440">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704443">if</span>&nbsp;<span class="ident" id="4704446"><a href="/text/template/funcs.go.html#4704421">err</a></span>&nbsp;<span class="op" id="4704450">!=</span>&nbsp;<span class="ident" id="4704453">nil</span>&nbsp;<span class="op" id="4704457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704461">return</span>&nbsp;<span class="builtintype" id="4704468">false</span><span class="op" id="4704473">,</span>&nbsp;<span class="ident" id="4704475"><a href="/text/template/funcs.go.html#4704421">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4704480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704483">if</span>&nbsp;<span class="builtinfunc" id="4704486">len</span><span class="op" id="4704489">(</span><span class="ident" id="4704490"><a href="/text/template/funcs.go.html#4704350">arg2</a></span><span class="op" id="4704494">)</span>&nbsp;<span class="op" id="4704496">==</span>&nbsp;<span class="num" id="4704499">0</span>&nbsp;<span class="op" id="4704501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704505">return</span>&nbsp;<span class="builtintype" id="4704512">false</span><span class="op" id="4704517">,</span>&nbsp;<span class="ident" id="4704519"><a href="/text/template/funcs.go.html#4703505">errNoComparison</a></span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4704536">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704539">for</span>&nbsp;<span class="ident" id="4704543">_</span><span class="op" id="4704544">,</span>&nbsp;<span class="ident" id="4704546">arg</span>&nbsp;<span class="op" id="4704550">:=</span>&nbsp;<span class="keyword" id="4704553">range</span>&nbsp;<span class="ident" id="4704559"><a href="/text/template/funcs.go.html#4704350">arg2</a></span>&nbsp;<span class="op" id="4704564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704568">v2</span>&nbsp;<span class="op" id="4704571">:=</span>&nbsp;<span class="ident" id="4704574"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4704581">.</span><span class="ident" id="4704582">ValueOf</span><span class="op" id="4704589">(</span><span class="ident" id="4704590"><a href="/text/template/funcs.go.html#4704546">arg</a></span><span class="op" id="4704593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704597">k2</span><span class="op" id="4704599">,</span>&nbsp;<span class="ident" id="4704601">err</span>&nbsp;<span class="op" id="4704605">:=</span>&nbsp;<span class="ident" id="4704608"><a href="/text/template/funcs.go.html#4703711">basicKind</a></span><span class="op" id="4704617">(</span><span class="ident" id="4704618"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4704620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704624">if</span>&nbsp;<span class="ident" id="4704627"><a href="/text/template/funcs.go.html#4704601">err</a></span>&nbsp;<span class="op" id="4704631">!=</span>&nbsp;<span class="ident" id="4704634">nil</span>&nbsp;<span class="op" id="4704638">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704643">return</span>&nbsp;<span class="builtintype" id="4704650">false</span><span class="op" id="4704655">,</span>&nbsp;<span class="ident" id="4704657"><a href="/text/template/funcs.go.html#4704601">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4704663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704667">truth</span>&nbsp;<span class="op" id="4704673">:=</span>&nbsp;<span class="builtintype" id="4704676">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704684">if</span>&nbsp;<span class="ident" id="4704687"><a href="/text/template/funcs.go.html#4704417">k1</a></span>&nbsp;<span class="op" id="4704690">!=</span>&nbsp;<span class="ident" id="4704693"><a href="/text/template/funcs.go.html#4704597">k2</a></span>&nbsp;<span class="op" id="4704696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4704701">//&nbsp;Special&nbsp;case:&nbsp;Can&nbsp;compare&nbsp;integer&nbsp;values&nbsp;regardless&nbsp;of&nbsp;type&#39;s&nbsp;sign.</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704775">switch</span>&nbsp;<span class="op" id="4704782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704787">case</span>&nbsp;<span class="ident" id="4704792"><a href="/text/template/funcs.go.html#4704417">k1</a></span>&nbsp;<span class="op" id="4704795">==</span>&nbsp;<span class="ident" id="4704798"><a href="/text/template/funcs.go.html#4703649">intKind</a></span>&nbsp;<span class="op" id="4704806">&amp;&amp;</span>&nbsp;<span class="ident" id="4704809"><a href="/text/template/funcs.go.html#4704597">k2</a></span>&nbsp;<span class="op" id="4704812">==</span>&nbsp;<span class="ident" id="4704815"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span><span class="op" id="4704823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704829"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4704835">=</span>&nbsp;<span class="ident" id="4704837"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4704839">.</span><span class="ident" id="4704840">Int</span><span class="op" id="4704843">(</span><span class="op" id="4704844">)</span>&nbsp;<span class="op" id="4704846">&gt;=</span>&nbsp;<span class="num" id="4704849">0</span>&nbsp;<span class="op" id="4704851">&amp;&amp;</span>&nbsp;<span class="ident" id="4704854">uint64</span><span class="op" id="4704860">(</span><span class="ident" id="4704861"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4704863">.</span><span class="ident" id="4704864">Int</span><span class="op" id="4704867">(</span><span class="op" id="4704868">)</span><span class="op" id="4704869">)</span>&nbsp;<span class="op" id="4704871">==</span>&nbsp;<span class="ident" id="4704874"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4704876">.</span><span class="ident" id="4704877">Uint</span><span class="op" id="4704881">(</span><span class="op" id="4704882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704887">case</span>&nbsp;<span class="ident" id="4704892"><a href="/text/template/funcs.go.html#4704417">k1</a></span>&nbsp;<span class="op" id="4704895">==</span>&nbsp;<span class="ident" id="4704898"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span>&nbsp;<span class="op" id="4704907">&amp;&amp;</span>&nbsp;<span class="ident" id="4704910"><a href="/text/template/funcs.go.html#4704597">k2</a></span>&nbsp;<span class="op" id="4704913">==</span>&nbsp;<span class="ident" id="4704916"><a href="/text/template/funcs.go.html#4703649">intKind</a></span><span class="op" id="4704923">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4704929"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4704935">=</span>&nbsp;<span class="ident" id="4704937"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4704939">.</span><span class="ident" id="4704940">Int</span><span class="op" id="4704943">(</span><span class="op" id="4704944">)</span>&nbsp;<span class="op" id="4704946">&gt;=</span>&nbsp;<span class="num" id="4704949">0</span>&nbsp;<span class="op" id="4704951">&amp;&amp;</span>&nbsp;<span class="ident" id="4704954"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4704956">.</span><span class="ident" id="4704957">Uint</span><span class="op" id="4704961">(</span><span class="op" id="4704962">)</span>&nbsp;<span class="op" id="4704964">==</span>&nbsp;<span class="ident" id="4704967">uint64</span><span class="op" id="4704973">(</span><span class="ident" id="4704974"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4704976">.</span><span class="ident" id="4704977">Int</span><span class="op" id="4704980">(</span><span class="op" id="4704981">)</span><span class="op" id="4704982">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4704987">default</span><span class="op" id="4704994">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705000">return</span>&nbsp;<span class="builtintype" id="4705007">false</span><span class="op" id="4705012">,</span>&nbsp;<span class="ident" id="4705014"><a href="/text/template/funcs.go.html#4703433">errBadComparison</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705038">}</span>&nbsp;<span class="keyword" id="4705040">else</span>&nbsp;<span class="op" id="4705045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705050">switch</span>&nbsp;<span class="ident" id="4705057"><a href="/text/template/funcs.go.html#4704417">k1</a></span>&nbsp;<span class="op" id="4705060">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705065">case</span>&nbsp;<span class="ident" id="4705070"><a href="/text/template/funcs.go.html#4703626">boolKind</a></span><span class="op" id="4705078">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705084"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705090">=</span>&nbsp;<span class="ident" id="4705092"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4705094">.</span><span class="ident" id="4705095">Bool</span><span class="op" id="4705099">(</span><span class="op" id="4705100">)</span>&nbsp;<span class="op" id="4705102">==</span>&nbsp;<span class="ident" id="4705105"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4705107">.</span><span class="ident" id="4705108">Bool</span><span class="op" id="4705112">(</span><span class="op" id="4705113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705118">case</span>&nbsp;<span class="ident" id="4705123"><a href="/text/template/funcs.go.html#4703636">complexKind</a></span><span class="op" id="4705134">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705140"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705146">=</span>&nbsp;<span class="ident" id="4705148"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4705150">.</span><span class="ident" id="4705151">Complex</span><span class="op" id="4705158">(</span><span class="op" id="4705159">)</span>&nbsp;<span class="op" id="4705161">==</span>&nbsp;<span class="ident" id="4705164"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4705166">.</span><span class="ident" id="4705167">Complex</span><span class="op" id="4705174">(</span><span class="op" id="4705175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705180">case</span>&nbsp;<span class="ident" id="4705185"><a href="/text/template/funcs.go.html#4703658">floatKind</a></span><span class="op" id="4705194">:</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705200"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705206">=</span>&nbsp;<span class="ident" id="4705208"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4705210">.</span><span class="ident" id="4705211">Float</span><span class="op" id="4705216">(</span><span class="op" id="4705217">)</span>&nbsp;<span class="op" id="4705219">==</span>&nbsp;<span class="ident" id="4705222"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4705224">.</span><span class="ident" id="4705225">Float</span><span class="op" id="4705230">(</span><span class="op" id="4705231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705236">case</span>&nbsp;<span class="ident" id="4705241"><a href="/text/template/funcs.go.html#4703649">intKind</a></span><span class="op" id="4705248">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705254"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705260">=</span>&nbsp;<span class="ident" id="4705262"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4705264">.</span><span class="ident" id="4705265">Int</span><span class="op" id="4705268">(</span><span class="op" id="4705269">)</span>&nbsp;<span class="op" id="4705271">==</span>&nbsp;<span class="ident" id="4705274"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4705276">.</span><span class="ident" id="4705277">Int</span><span class="op" id="4705280">(</span><span class="op" id="4705281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705286">case</span>&nbsp;<span class="ident" id="4705291"><a href="/text/template/funcs.go.html#4703682">stringKind</a></span><span class="op" id="4705301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705307"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705313">=</span>&nbsp;<span class="ident" id="4705315"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4705317">.</span><span class="ident" id="4705318">String</span><span class="op" id="4705324">(</span><span class="op" id="4705325">)</span>&nbsp;<span class="op" id="4705327">==</span>&nbsp;<span class="ident" id="4705330"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4705332">.</span><span class="ident" id="4705333">String</span><span class="op" id="4705339">(</span><span class="op" id="4705340">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705345">case</span>&nbsp;<span class="ident" id="4705350"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span><span class="op" id="4705358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705364"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705370">=</span>&nbsp;<span class="ident" id="4705372"><a href="/text/template/funcs.go.html#4704388">v1</a></span><span class="op" id="4705374">.</span><span class="ident" id="4705375">Uint</span><span class="op" id="4705379">(</span><span class="op" id="4705380">)</span>&nbsp;<span class="op" id="4705382">==</span>&nbsp;<span class="ident" id="4705385"><a href="/text/template/funcs.go.html#4704568">v2</a></span><span class="op" id="4705387">.</span><span class="ident" id="4705388">Uint</span><span class="op" id="4705392">(</span><span class="op" id="4705393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705398">default</span><span class="op" id="4705405">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4705411">panic</span><span class="op" id="4705416">(</span><span class="string" id="4705417">&#34;invalid&nbsp;kind&#34;</span><span class="op" id="4705431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705436">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705444">if</span>&nbsp;<span class="ident" id="4705447"><a href="/text/template/funcs.go.html#4704667">truth</a></span>&nbsp;<span class="op" id="4705453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705458">return</span>&nbsp;<span class="builtintype" id="4705465">true</span><span class="op" id="4705469">,</span>&nbsp;<span class="ident" id="4705471">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705480">}</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705483">return</span>&nbsp;<span class="builtintype" id="4705490">false</span><span class="op" id="4705495">,</span>&nbsp;<span class="ident" id="4705497">nil</span><br>
<span class="lineno"></span><span class="op" id="4705501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4705504">//&nbsp;ne&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;!=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4705543">func</span>&nbsp;<span class="ident" id="4705548">ne</span><span class="op" id="4705550">(</span><span class="ident" id="4705551">arg1</span><span class="op" id="4705555">,</span>&nbsp;<span class="ident" id="4705557">arg2</span>&nbsp;<span class="keyword" id="4705562">interface</span><span class="op" id="4705571">{</span><span class="op" id="4705572">}</span><span class="op" id="4705573">)</span>&nbsp;<span class="op" id="4705575">(</span><span class="builtintype" id="4705576">bool</span><span class="op" id="4705580">,</span>&nbsp;<span class="builtintype" id="4705582">error</span><span class="op" id="4705587">)</span>&nbsp;<span class="op" id="4705589">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4705592">//&nbsp;!=&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;==.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705621">equal</span><span class="op" id="4705626">,</span>&nbsp;<span class="ident" id="4705628">err</span>&nbsp;<span class="op" id="4705632">:=</span>&nbsp;<span class="ident" id="4705635"><a href="/text/template/funcs.go.html#4704329">eq</a></span><span class="op" id="4705637">(</span><span class="ident" id="4705638"><a href="/text/template/funcs.go.html#4705551">arg1</a></span><span class="op" id="4705642">,</span>&nbsp;<span class="ident" id="4705644"><a href="/text/template/funcs.go.html#4705557">arg2</a></span><span class="op" id="4705648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705651">return</span>&nbsp;<span class="op" id="4705658">!</span><span class="ident" id="4705659"><a href="/text/template/funcs.go.html#4705621">equal</a></span><span class="op" id="4705664">,</span>&nbsp;<span class="ident" id="4705666"><a href="/text/template/funcs.go.html#4705628">err</a></span><br>
<span class="lineno"></span><span class="op" id="4705670">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="comment" id="4705673">//&nbsp;lt&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&lt;&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4705711">func</span>&nbsp;<span class="ident" id="4705716">lt</span><span class="op" id="4705718">(</span><span class="ident" id="4705719">arg1</span><span class="op" id="4705723">,</span>&nbsp;<span class="ident" id="4705725">arg2</span>&nbsp;<span class="keyword" id="4705730">interface</span><span class="op" id="4705739">{</span><span class="op" id="4705740">}</span><span class="op" id="4705741">)</span>&nbsp;<span class="op" id="4705743">(</span><span class="builtintype" id="4705744">bool</span><span class="op" id="4705748">,</span>&nbsp;<span class="builtintype" id="4705750">error</span><span class="op" id="4705755">)</span>&nbsp;<span class="op" id="4705757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705760">v1</span>&nbsp;<span class="op" id="4705763">:=</span>&nbsp;<span class="ident" id="4705766"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4705773">.</span><span class="ident" id="4705774">ValueOf</span><span class="op" id="4705781">(</span><span class="ident" id="4705782"><a href="/text/template/funcs.go.html#4705719">arg1</a></span><span class="op" id="4705786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705789">k1</span><span class="op" id="4705791">,</span>&nbsp;<span class="ident" id="4705793">err</span>&nbsp;<span class="op" id="4705797">:=</span>&nbsp;<span class="ident" id="4705800"><a href="/text/template/funcs.go.html#4703711">basicKind</a></span><span class="op" id="4705809">(</span><span class="ident" id="4705810"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4705812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705815">if</span>&nbsp;<span class="ident" id="4705818"><a href="/text/template/funcs.go.html#4705793">err</a></span>&nbsp;<span class="op" id="4705822">!=</span>&nbsp;<span class="ident" id="4705825">nil</span>&nbsp;<span class="op" id="4705829">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705833">return</span>&nbsp;<span class="builtintype" id="4705840">false</span><span class="op" id="4705845">,</span>&nbsp;<span class="ident" id="4705847"><a href="/text/template/funcs.go.html#4705793">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705855">v2</span>&nbsp;<span class="op" id="4705858">:=</span>&nbsp;<span class="ident" id="4705861"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4705868">.</span><span class="ident" id="4705869">ValueOf</span><span class="op" id="4705876">(</span><span class="ident" id="4705877"><a href="/text/template/funcs.go.html#4705725">arg2</a></span><span class="op" id="4705881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705884">k2</span><span class="op" id="4705886">,</span>&nbsp;<span class="ident" id="4705888"><a href="/text/template/funcs.go.html#4705793">err</a></span>&nbsp;<span class="op" id="4705892">:=</span>&nbsp;<span class="ident" id="4705895"><a href="/text/template/funcs.go.html#4703711">basicKind</a></span><span class="op" id="4705904">(</span><span class="ident" id="4705905"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4705907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705910">if</span>&nbsp;<span class="ident" id="4705913"><a href="/text/template/funcs.go.html#4705793">err</a></span>&nbsp;<span class="op" id="4705917">!=</span>&nbsp;<span class="ident" id="4705920">nil</span>&nbsp;<span class="op" id="4705924">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705928">return</span>&nbsp;<span class="builtintype" id="4705935">false</span><span class="op" id="4705940">,</span>&nbsp;<span class="ident" id="4705942"><a href="/text/template/funcs.go.html#4705793">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4705947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4705950">truth</span>&nbsp;<span class="op" id="4705956">:=</span>&nbsp;<span class="builtintype" id="4705959">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4705966">if</span>&nbsp;<span class="ident" id="4705969"><a href="/text/template/funcs.go.html#4705789">k1</a></span>&nbsp;<span class="op" id="4705972">!=</span>&nbsp;<span class="ident" id="4705975"><a href="/text/template/funcs.go.html#4705884">k2</a></span>&nbsp;<span class="op" id="4705978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4705982">//&nbsp;Special&nbsp;case:&nbsp;Can&nbsp;compare&nbsp;integer&nbsp;values&nbsp;regardless&nbsp;of&nbsp;type&#39;s&nbsp;sign.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706055">switch</span>&nbsp;<span class="op" id="4706062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706066">case</span>&nbsp;<span class="ident" id="4706071"><a href="/text/template/funcs.go.html#4705789">k1</a></span>&nbsp;<span class="op" id="4706074">==</span>&nbsp;<span class="ident" id="4706077"><a href="/text/template/funcs.go.html#4703649">intKind</a></span>&nbsp;<span class="op" id="4706085">&amp;&amp;</span>&nbsp;<span class="ident" id="4706088"><a href="/text/template/funcs.go.html#4705884">k2</a></span>&nbsp;<span class="op" id="4706091">==</span>&nbsp;<span class="ident" id="4706094"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span><span class="op" id="4706102">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706107"><a href="/text/template/funcs.go.html#4705950">truth</a></span>&nbsp;<span class="op" id="4706113">=</span>&nbsp;<span class="ident" id="4706115"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706117">.</span><span class="ident" id="4706118">Int</span><span class="op" id="4706121">(</span><span class="op" id="4706122">)</span>&nbsp;<span class="op" id="4706124">&lt;</span>&nbsp;<span class="num" id="4706126">0</span>&nbsp;<span class="op" id="4706128">||</span>&nbsp;<span class="ident" id="4706131">uint64</span><span class="op" id="4706137">(</span><span class="ident" id="4706138"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706140">.</span><span class="ident" id="4706141">Int</span><span class="op" id="4706144">(</span><span class="op" id="4706145">)</span><span class="op" id="4706146">)</span>&nbsp;<span class="op" id="4706148">&lt;</span>&nbsp;<span class="ident" id="4706150"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706152">.</span><span class="ident" id="4706153">Uint</span><span class="op" id="4706157">(</span><span class="op" id="4706158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706162">case</span>&nbsp;<span class="ident" id="4706167"><a href="/text/template/funcs.go.html#4705789">k1</a></span>&nbsp;<span class="op" id="4706170">==</span>&nbsp;<span class="ident" id="4706173"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span>&nbsp;<span class="op" id="4706182">&amp;&amp;</span>&nbsp;<span class="ident" id="4706185"><a href="/text/template/funcs.go.html#4705884">k2</a></span>&nbsp;<span class="op" id="4706188">==</span>&nbsp;<span class="ident" id="4706191"><a href="/text/template/funcs.go.html#4703649">intKind</a></span><span class="op" id="4706198">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706203"><a href="/text/template/funcs.go.html#4705950">truth</a></span>&nbsp;<span class="op" id="4706209">=</span>&nbsp;<span class="ident" id="4706211"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706213">.</span><span class="ident" id="4706214">Int</span><span class="op" id="4706217">(</span><span class="op" id="4706218">)</span>&nbsp;<span class="op" id="4706220">&gt;=</span>&nbsp;<span class="num" id="4706223">0</span>&nbsp;<span class="op" id="4706225">&amp;&amp;</span>&nbsp;<span class="ident" id="4706228"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706230">.</span><span class="ident" id="4706231">Uint</span><span class="op" id="4706235">(</span><span class="op" id="4706236">)</span>&nbsp;<span class="op" id="4706238">&lt;</span>&nbsp;<span class="ident" id="4706240">uint64</span><span class="op" id="4706246">(</span><span class="ident" id="4706247"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706249">.</span><span class="ident" id="4706250">Int</span><span class="op" id="4706253">(</span><span class="op" id="4706254">)</span><span class="op" id="4706255">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706259">default</span><span class="op" id="4706266">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706271">return</span>&nbsp;<span class="builtintype" id="4706278">false</span><span class="op" id="4706283">,</span>&nbsp;<span class="ident" id="4706285"><a href="/text/template/funcs.go.html#4703433">errBadComparison</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4706304">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4706307">}</span>&nbsp;<span class="keyword" id="4706309">else</span>&nbsp;<span class="op" id="4706314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706318">switch</span>&nbsp;<span class="ident" id="4706325"><a href="/text/template/funcs.go.html#4705789">k1</a></span>&nbsp;<span class="op" id="4706328">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706332">case</span>&nbsp;<span class="ident" id="4706337"><a href="/text/template/funcs.go.html#4703626">boolKind</a></span><span class="op" id="4706345">,</span>&nbsp;<span class="ident" id="4706347"><a href="/text/template/funcs.go.html#4703636">complexKind</a></span><span class="op" id="4706358">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706363">return</span>&nbsp;<span class="builtintype" id="4706370">false</span><span class="op" id="4706375">,</span>&nbsp;<span class="ident" id="4706377"><a href="/text/template/funcs.go.html#4703367">errBadComparisonType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706400">case</span>&nbsp;<span class="ident" id="4706405"><a href="/text/template/funcs.go.html#4703658">floatKind</a></span><span class="op" id="4706414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706419"><a href="/text/template/funcs.go.html#4705950">truth</a></span>&nbsp;<span class="op" id="4706425">=</span>&nbsp;<span class="ident" id="4706427"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706429">.</span><span class="ident" id="4706430">Float</span><span class="op" id="4706435">(</span><span class="op" id="4706436">)</span>&nbsp;<span class="op" id="4706438">&lt;</span>&nbsp;<span class="ident" id="4706440"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706442">.</span><span class="ident" id="4706443">Float</span><span class="op" id="4706448">(</span><span class="op" id="4706449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706453">case</span>&nbsp;<span class="ident" id="4706458"><a href="/text/template/funcs.go.html#4703649">intKind</a></span><span class="op" id="4706465">:</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706470"><a href="/text/template/funcs.go.html#4705950">truth</a></span>&nbsp;<span class="op" id="4706476">=</span>&nbsp;<span class="ident" id="4706478"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706480">.</span><span class="ident" id="4706481">Int</span><span class="op" id="4706484">(</span><span class="op" id="4706485">)</span>&nbsp;<span class="op" id="4706487">&lt;</span>&nbsp;<span class="ident" id="4706489"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706491">.</span><span class="ident" id="4706492">Int</span><span class="op" id="4706495">(</span><span class="op" id="4706496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706500">case</span>&nbsp;<span class="ident" id="4706505"><a href="/text/template/funcs.go.html#4703682">stringKind</a></span><span class="op" id="4706515">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706520"><a href="/text/template/funcs.go.html#4705950">truth</a></span>&nbsp;<span class="op" id="4706526">=</span>&nbsp;<span class="ident" id="4706528"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706530">.</span><span class="ident" id="4706531">String</span><span class="op" id="4706537">(</span><span class="op" id="4706538">)</span>&nbsp;<span class="op" id="4706540">&lt;</span>&nbsp;<span class="ident" id="4706542"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706544">.</span><span class="ident" id="4706545">String</span><span class="op" id="4706551">(</span><span class="op" id="4706552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706556">case</span>&nbsp;<span class="ident" id="4706561"><a href="/text/template/funcs.go.html#4703694">uintKind</a></span><span class="op" id="4706569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706574"><a href="/text/template/funcs.go.html#4705950">truth</a></span>&nbsp;<span class="op" id="4706580">=</span>&nbsp;<span class="ident" id="4706582"><a href="/text/template/funcs.go.html#4705760">v1</a></span><span class="op" id="4706584">.</span><span class="ident" id="4706585">Uint</span><span class="op" id="4706589">(</span><span class="op" id="4706590">)</span>&nbsp;<span class="op" id="4706592">&lt;</span>&nbsp;<span class="ident" id="4706594"><a href="/text/template/funcs.go.html#4705855">v2</a></span><span class="op" id="4706596">.</span><span class="ident" id="4706597">Uint</span><span class="op" id="4706601">(</span><span class="op" id="4706602">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706606">default</span><span class="op" id="4706613">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4706618">panic</span><span class="op" id="4706623">(</span><span class="string" id="4706624">&#34;invalid&nbsp;kind&#34;</span><span class="op" id="4706638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4706642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4706645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706648">return</span>&nbsp;<span class="ident" id="4706655"><a href="/text/template/funcs.go.html#4705950">truth</a></span><span class="op" id="4706660">,</span>&nbsp;<span class="ident" id="4706662">nil</span><br>
<span class="lineno">400</span><span class="op" id="4706666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4706669">//&nbsp;le&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;&lt;=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4706706">func</span>&nbsp;<span class="ident" id="4706711">le</span><span class="op" id="4706713">(</span><span class="ident" id="4706714">arg1</span><span class="op" id="4706718">,</span>&nbsp;<span class="ident" id="4706720">arg2</span>&nbsp;<span class="keyword" id="4706725">interface</span><span class="op" id="4706734">{</span><span class="op" id="4706735">}</span><span class="op" id="4706736">)</span>&nbsp;<span class="op" id="4706738">(</span><span class="builtintype" id="4706739">bool</span><span class="op" id="4706743">,</span>&nbsp;<span class="builtintype" id="4706745">error</span><span class="op" id="4706750">)</span>&nbsp;<span class="op" id="4706752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4706755">//&nbsp;&lt;=&nbsp;is&nbsp;&lt;&nbsp;or&nbsp;==.</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4706774">lessThan</span><span class="op" id="4706782">,</span>&nbsp;<span class="ident" id="4706784">err</span>&nbsp;<span class="op" id="4706788">:=</span>&nbsp;<span class="ident" id="4706791"><a href="/text/template/funcs.go.html#4705716">lt</a></span><span class="op" id="4706793">(</span><span class="ident" id="4706794"><a href="/text/template/funcs.go.html#4706714">arg1</a></span><span class="op" id="4706798">,</span>&nbsp;<span class="ident" id="4706800"><a href="/text/template/funcs.go.html#4706720">arg2</a></span><span class="op" id="4706804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706807">if</span>&nbsp;<span class="ident" id="4706810"><a href="/text/template/funcs.go.html#4706774">lessThan</a></span>&nbsp;<span class="op" id="4706819">||</span>&nbsp;<span class="ident" id="4706822"><a href="/text/template/funcs.go.html#4706784">err</a></span>&nbsp;<span class="op" id="4706826">!=</span>&nbsp;<span class="ident" id="4706829">nil</span>&nbsp;<span class="op" id="4706833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706837">return</span>&nbsp;<span class="ident" id="4706844"><a href="/text/template/funcs.go.html#4706774">lessThan</a></span><span class="op" id="4706852">,</span>&nbsp;<span class="ident" id="4706854"><a href="/text/template/funcs.go.html#4706784">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4706859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4706862">return</span>&nbsp;<span class="ident" id="4706869"><a href="/text/template/funcs.go.html#4704329">eq</a></span><span class="op" id="4706871">(</span><span class="ident" id="4706872"><a href="/text/template/funcs.go.html#4706714">arg1</a></span><span class="op" id="4706876">,</span>&nbsp;<span class="ident" id="4706878"><a href="/text/template/funcs.go.html#4706720">arg2</a></span><span class="op" id="4706882">)</span><br>
<span class="lineno">410</span><span class="op" id="4706884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4706887">//&nbsp;gt&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&gt;&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4706925">func</span>&nbsp;<span class="ident" id="4706930">gt</span><span class="op" id="4706932">(</span><span class="ident" id="4706933">arg1</span><span class="op" id="4706937">,</span>&nbsp;<span class="ident" id="4706939">arg2</span>&nbsp;<span class="keyword" id="4706944">interface</span><span class="op" id="4706953">{</span><span class="op" id="4706954">}</span><span class="op" id="4706955">)</span>&nbsp;<span class="op" id="4706957">(</span><span class="builtintype" id="4706958">bool</span><span class="op" id="4706962">,</span>&nbsp;<span class="builtintype" id="4706964">error</span><span class="op" id="4706969">)</span>&nbsp;<span class="op" id="4706971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4706974">//&nbsp;&gt;&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;&lt;=.</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707002">lessOrEqual</span><span class="op" id="4707013">,</span>&nbsp;<span class="ident" id="4707015">err</span>&nbsp;<span class="op" id="4707019">:=</span>&nbsp;<span class="ident" id="4707022"><a href="/text/template/funcs.go.html#4706711">le</a></span><span class="op" id="4707024">(</span><span class="ident" id="4707025"><a href="/text/template/funcs.go.html#4706933">arg1</a></span><span class="op" id="4707029">,</span>&nbsp;<span class="ident" id="4707031"><a href="/text/template/funcs.go.html#4706939">arg2</a></span><span class="op" id="4707035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707038">if</span>&nbsp;<span class="ident" id="4707041"><a href="/text/template/funcs.go.html#4707015">err</a></span>&nbsp;<span class="op" id="4707045">!=</span>&nbsp;<span class="ident" id="4707048">nil</span>&nbsp;<span class="op" id="4707052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707056">return</span>&nbsp;<span class="builtintype" id="4707063">false</span><span class="op" id="4707068">,</span>&nbsp;<span class="ident" id="4707070"><a href="/text/template/funcs.go.html#4707015">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4707075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707078">return</span>&nbsp;<span class="op" id="4707085">!</span><span class="ident" id="4707086"><a href="/text/template/funcs.go.html#4707002">lessOrEqual</a></span><span class="op" id="4707097">,</span>&nbsp;<span class="ident" id="4707099">nil</span><br>
<span class="lineno">420</span><span class="op" id="4707103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4707106">//&nbsp;ge&nbsp;evaluates&nbsp;the&nbsp;comparison&nbsp;a&nbsp;&gt;=&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4707145">func</span>&nbsp;<span class="ident" id="4707150">ge</span><span class="op" id="4707152">(</span><span class="ident" id="4707153">arg1</span><span class="op" id="4707157">,</span>&nbsp;<span class="ident" id="4707159">arg2</span>&nbsp;<span class="keyword" id="4707164">interface</span><span class="op" id="4707173">{</span><span class="op" id="4707174">}</span><span class="op" id="4707175">)</span>&nbsp;<span class="op" id="4707177">(</span><span class="builtintype" id="4707178">bool</span><span class="op" id="4707182">,</span>&nbsp;<span class="builtintype" id="4707184">error</span><span class="op" id="4707189">)</span>&nbsp;<span class="op" id="4707191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4707194">//&nbsp;&gt;=&nbsp;is&nbsp;the&nbsp;inverse&nbsp;of&nbsp;&lt;.</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707222">lessThan</span><span class="op" id="4707230">,</span>&nbsp;<span class="ident" id="4707232">err</span>&nbsp;<span class="op" id="4707236">:=</span>&nbsp;<span class="ident" id="4707239"><a href="/text/template/funcs.go.html#4705716">lt</a></span><span class="op" id="4707241">(</span><span class="ident" id="4707242"><a href="/text/template/funcs.go.html#4707153">arg1</a></span><span class="op" id="4707246">,</span>&nbsp;<span class="ident" id="4707248"><a href="/text/template/funcs.go.html#4707159">arg2</a></span><span class="op" id="4707252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707255">if</span>&nbsp;<span class="ident" id="4707258"><a href="/text/template/funcs.go.html#4707232">err</a></span>&nbsp;<span class="op" id="4707262">!=</span>&nbsp;<span class="ident" id="4707265">nil</span>&nbsp;<span class="op" id="4707269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707273">return</span>&nbsp;<span class="builtintype" id="4707280">false</span><span class="op" id="4707285">,</span>&nbsp;<span class="ident" id="4707287"><a href="/text/template/funcs.go.html#4707232">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4707292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707295">return</span>&nbsp;<span class="op" id="4707302">!</span><span class="ident" id="4707303"><a href="/text/template/funcs.go.html#4707222">lessThan</a></span><span class="op" id="4707311">,</span>&nbsp;<span class="ident" id="4707313">nil</span><br>
<span class="lineno">430</span><span class="op" id="4707317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4707320">//&nbsp;HTML&nbsp;escaping.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4707339">var</span>&nbsp;<span class="op" id="4707343">(</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707346">htmlQuot</span>&nbsp;<span class="op" id="4707355">=</span>&nbsp;<span class="op" id="4707357">[</span><span class="op" id="4707358">]</span><span class="builtintype" id="4707359">byte</span><span class="op" id="4707363">(</span><span class="string" id="4707364">&#34;&amp;#34;&#34;</span><span class="op" id="4707371">)</span>&nbsp;<span class="comment" id="4707373">//&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;quot;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707399">htmlApos</span>&nbsp;<span class="op" id="4707408">=</span>&nbsp;<span class="op" id="4707410">[</span><span class="op" id="4707411">]</span><span class="builtintype" id="4707412">byte</span><span class="op" id="4707416">(</span><span class="string" id="4707417">&#34;&amp;#39;&#34;</span><span class="op" id="4707424">)</span>&nbsp;<span class="comment" id="4707426">//&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;apos;&#34;&nbsp;and&nbsp;apos&nbsp;was&nbsp;not&nbsp;in&nbsp;HTML&nbsp;until&nbsp;HTML5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707489">htmlAmp</span>&nbsp;&nbsp;<span class="op" id="4707498">=</span>&nbsp;<span class="op" id="4707500">[</span><span class="op" id="4707501">]</span><span class="builtintype" id="4707502">byte</span><span class="op" id="4707506">(</span><span class="string" id="4707507">&#34;&amp;amp;&#34;</span><span class="op" id="4707514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707517">htmlLt</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4707526">=</span>&nbsp;<span class="op" id="4707528">[</span><span class="op" id="4707529">]</span><span class="builtintype" id="4707530">byte</span><span class="op" id="4707534">(</span><span class="string" id="4707535">&#34;&amp;lt;&#34;</span><span class="op" id="4707541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707544">htmlGt</span>&nbsp;&nbsp;&nbsp;<span class="op" id="4707553">=</span>&nbsp;<span class="op" id="4707555">[</span><span class="op" id="4707556">]</span><span class="builtintype" id="4707557">byte</span><span class="op" id="4707561">(</span><span class="string" id="4707562">&#34;&amp;gt;&#34;</span><span class="op" id="4707568">)</span><br>
<span class="lineno">440</span><span class="op" id="4707570">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4707573">//&nbsp;HTMLEscape&nbsp;writes&nbsp;to&nbsp;w&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4707653">func</span>&nbsp;<span class="ident" id="4707658">HTMLEscape</span><span class="op" id="4707668">(</span><span class="ident" id="4707669">w</span>&nbsp;<span class="ident" id="4707671"><a href="/text/template/funcs.go.html#4696457">io</a></span><span class="op" id="4707673">.</span><span class="ident" id="4707674">Writer</span><span class="op" id="4707680">,</span>&nbsp;<span class="ident" id="4707682">b</span>&nbsp;<span class="op" id="4707684">[</span><span class="op" id="4707685">]</span><span class="builtintype" id="4707686">byte</span><span class="op" id="4707690">)</span>&nbsp;<span class="op" id="4707692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707695">last</span>&nbsp;<span class="op" id="4707700">:=</span>&nbsp;<span class="num" id="4707703">0</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707706">for</span>&nbsp;<span class="ident" id="4707710">i</span><span class="op" id="4707711">,</span>&nbsp;<span class="ident" id="4707713">c</span>&nbsp;<span class="op" id="4707715">:=</span>&nbsp;<span class="keyword" id="4707718">range</span>&nbsp;<span class="ident" id="4707724"><a href="/text/template/funcs.go.html#4707682">b</a></span>&nbsp;<span class="op" id="4707726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707730">var</span>&nbsp;<span class="ident" id="4707734">html</span>&nbsp;<span class="op" id="4707739">[</span><span class="op" id="4707740">]</span><span class="builtintype" id="4707741">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707748">switch</span>&nbsp;<span class="ident" id="4707755"><a href="/text/template/funcs.go.html#4707713">c</a></span>&nbsp;<span class="op" id="4707757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707761">case</span>&nbsp;<span class="string" id="4707766">&#39;&#34;&#39;</span><span class="op" id="4707769">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707774"><a href="/text/template/funcs.go.html#4707734">html</a></span>&nbsp;<span class="op" id="4707779">=</span>&nbsp;<span class="ident" id="4707781"><a href="/text/template/funcs.go.html#4707346">htmlQuot</a></span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707792">case</span>&nbsp;<span class="string" id="4707797">&#39;\&#39;&#39;</span><span class="op" id="4707801">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707806"><a href="/text/template/funcs.go.html#4707734">html</a></span>&nbsp;<span class="op" id="4707811">=</span>&nbsp;<span class="ident" id="4707813"><a href="/text/template/funcs.go.html#4707399">htmlApos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707824">case</span>&nbsp;<span class="string" id="4707829">&#39;&amp;&#39;</span><span class="op" id="4707832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707837"><a href="/text/template/funcs.go.html#4707734">html</a></span>&nbsp;<span class="op" id="4707842">=</span>&nbsp;<span class="ident" id="4707844"><a href="/text/template/funcs.go.html#4707489">htmlAmp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707854">case</span>&nbsp;<span class="string" id="4707859">&#39;&lt;&#39;</span><span class="op" id="4707862">:</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707867"><a href="/text/template/funcs.go.html#4707734">html</a></span>&nbsp;<span class="op" id="4707872">=</span>&nbsp;<span class="ident" id="4707874"><a href="/text/template/funcs.go.html#4707517">htmlLt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707883">case</span>&nbsp;<span class="string" id="4707888">&#39;&gt;&#39;</span><span class="op" id="4707891">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707896"><a href="/text/template/funcs.go.html#4707734">html</a></span>&nbsp;<span class="op" id="4707901">=</span>&nbsp;<span class="ident" id="4707903"><a href="/text/template/funcs.go.html#4707544">htmlGt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707912">default</span><span class="op" id="4707919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4707924">continue</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4707935">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707939"><a href="/text/template/funcs.go.html#4707669">w</a></span><span class="op" id="4707940">.</span><span class="ident" id="4707941">Write</span><span class="op" id="4707946">(</span><span class="ident" id="4707947"><a href="/text/template/funcs.go.html#4707682">b</a></span><span class="op" id="4707948">[</span><span class="ident" id="4707949"><a href="/text/template/funcs.go.html#4707695">last</a></span><span class="op" id="4707953">:</span><span class="ident" id="4707954"><a href="/text/template/funcs.go.html#4707710">i</a></span><span class="op" id="4707955">]</span><span class="op" id="4707956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707960"><a href="/text/template/funcs.go.html#4707669">w</a></span><span class="op" id="4707961">.</span><span class="ident" id="4707962">Write</span><span class="op" id="4707967">(</span><span class="ident" id="4707968"><a href="/text/template/funcs.go.html#4707734">html</a></span><span class="op" id="4707972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707976"><a href="/text/template/funcs.go.html#4707695">last</a></span>&nbsp;<span class="op" id="4707981">=</span>&nbsp;<span class="ident" id="4707983"><a href="/text/template/funcs.go.html#4707710">i</a></span>&nbsp;<span class="op" id="4707985">+</span>&nbsp;<span class="num" id="4707987">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4707990">}</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4707993"><a href="/text/template/funcs.go.html#4707669">w</a></span><span class="op" id="4707994">.</span><span class="ident" id="4707995">Write</span><span class="op" id="4708000">(</span><span class="ident" id="4708001"><a href="/text/template/funcs.go.html#4707682">b</a></span><span class="op" id="4708002">[</span><span class="ident" id="4708003"><a href="/text/template/funcs.go.html#4707695">last</a></span><span class="op" id="4708007">:</span><span class="op" id="4708008">]</span><span class="op" id="4708009">)</span><br>
<span class="lineno"></span><span class="op" id="4708011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4708014">//&nbsp;HTMLEscapeString&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4708096">func</span>&nbsp;<span class="ident" id="4708101">HTMLEscapeString</span><span class="op" id="4708117">(</span><span class="ident" id="4708118">s</span>&nbsp;<span class="builtintype" id="4708120">string</span><span class="op" id="4708126">)</span>&nbsp;<span class="builtintype" id="4708128">string</span>&nbsp;<span class="op" id="4708135">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4708138">//&nbsp;Avoid&nbsp;allocation&nbsp;if&nbsp;we&nbsp;can.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708170">if</span>&nbsp;<span class="ident" id="4708173"><a href="/text/template/funcs.go.html#4696485">strings</a></span><span class="op" id="4708180">.</span><span class="ident" id="4708181">IndexAny</span><span class="op" id="4708189">(</span><span class="ident" id="4708190"><a href="/text/template/funcs.go.html#4708118">s</a></span><span class="op" id="4708191">,</span>&nbsp;<span class="string" id="4708193">`&#39;&#34;&amp;&lt;&gt;`</span><span class="op" id="4708200">)</span>&nbsp;<span class="op" id="4708202">&lt;</span>&nbsp;<span class="num" id="4708204">0</span>&nbsp;<span class="op" id="4708206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708210">return</span>&nbsp;<span class="ident" id="4708217"><a href="/text/template/funcs.go.html#4708118">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4708220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708223">var</span>&nbsp;<span class="ident" id="4708227">b</span>&nbsp;<span class="ident" id="4708229"><a href="/text/template/funcs.go.html#4696431">bytes</a></span><span class="op" id="4708234">.</span><span class="ident" id="4708235">Buffer</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708243"><a href="/text/template/funcs.go.html#4707658">HTMLEscape</a></span><span class="op" id="4708253">(</span><span class="op" id="4708254">&amp;</span><span class="ident" id="4708255"><a href="/text/template/funcs.go.html#4708227">b</a></span><span class="op" id="4708256">,</span>&nbsp;<span class="op" id="4708258">[</span><span class="op" id="4708259">]</span><span class="builtintype" id="4708260">byte</span><span class="op" id="4708264">(</span><span class="ident" id="4708265"><a href="/text/template/funcs.go.html#4708118">s</a></span><span class="op" id="4708266">)</span><span class="op" id="4708267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708270">return</span>&nbsp;<span class="ident" id="4708277"><a href="/text/template/funcs.go.html#4708227">b</a></span><span class="op" id="4708278">.</span><span class="ident" id="4708279">String</span><span class="op" id="4708285">(</span><span class="op" id="4708286">)</span><br>
<span class="lineno"></span><span class="op" id="4708288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4708291">//&nbsp;HTMLEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;HTML&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;textual</span><br>
<span class="lineno">480</span><span class="comment" id="4708357">//&nbsp;representation&nbsp;of&nbsp;its&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="keyword" id="4708393">func</span>&nbsp;<span class="ident" id="4708398">HTMLEscaper</span><span class="op" id="4708409">(</span><span class="ident" id="4708410">args</span>&nbsp;<span class="op" id="4708415">...</span><span class="keyword" id="4708418">interface</span><span class="op" id="4708427">{</span><span class="op" id="4708428">}</span><span class="op" id="4708429">)</span>&nbsp;<span class="builtintype" id="4708431">string</span>&nbsp;<span class="op" id="4708438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708441">return</span>&nbsp;<span class="ident" id="4708448"><a href="/text/template/funcs.go.html#4708101">HTMLEscapeString</a></span><span class="op" id="4708464">(</span><span class="ident" id="4708465"><a href="/text/template/funcs.go.html#4710784">evalArgs</a></span><span class="op" id="4708473">(</span><span class="ident" id="4708474"><a href="/text/template/funcs.go.html#4708410">args</a></span><span class="op" id="4708478">)</span><span class="op" id="4708479">)</span><br>
<span class="lineno"></span><span class="op" id="4708481">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="comment" id="4708484">//&nbsp;JavaScript&nbsp;escaping.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4708509">var</span>&nbsp;<span class="op" id="4708513">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708516">jsLowUni</span>&nbsp;<span class="op" id="4708525">=</span>&nbsp;<span class="op" id="4708527">[</span><span class="op" id="4708528">]</span><span class="builtintype" id="4708529">byte</span><span class="op" id="4708533">(</span><span class="string" id="4708534">`\u00`</span><span class="op" id="4708540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708543">hex</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4708552">=</span>&nbsp;<span class="op" id="4708554">[</span><span class="op" id="4708555">]</span><span class="builtintype" id="4708556">byte</span><span class="op" id="4708560">(</span><span class="string" id="4708561">&#34;0123456789ABCDEF&#34;</span><span class="op" id="4708579">)</span><br>
<span class="lineno">490</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708583">jsBackslash</span>&nbsp;<span class="op" id="4708595">=</span>&nbsp;<span class="op" id="4708597">[</span><span class="op" id="4708598">]</span><span class="builtintype" id="4708599">byte</span><span class="op" id="4708603">(</span><span class="string" id="4708604">`\\`</span><span class="op" id="4708608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708611">jsApos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4708623">=</span>&nbsp;<span class="op" id="4708625">[</span><span class="op" id="4708626">]</span><span class="builtintype" id="4708627">byte</span><span class="op" id="4708631">(</span><span class="string" id="4708632">`\&#39;`</span><span class="op" id="4708636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708639">jsQuot</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4708651">=</span>&nbsp;<span class="op" id="4708653">[</span><span class="op" id="4708654">]</span><span class="builtintype" id="4708655">byte</span><span class="op" id="4708659">(</span><span class="string" id="4708660">`\&#34;`</span><span class="op" id="4708664">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708667">jsLt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4708679">=</span>&nbsp;<span class="op" id="4708681">[</span><span class="op" id="4708682">]</span><span class="builtintype" id="4708683">byte</span><span class="op" id="4708687">(</span><span class="string" id="4708688">`\x3C`</span><span class="op" id="4708694">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708697">jsGt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4708709">=</span>&nbsp;<span class="op" id="4708711">[</span><span class="op" id="4708712">]</span><span class="builtintype" id="4708713">byte</span><span class="op" id="4708717">(</span><span class="string" id="4708718">`\x3E`</span><span class="op" id="4708724">)</span><br>
<span class="lineno"></span><span class="op" id="4708726">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4708729">//&nbsp;JSEscape&nbsp;writes&nbsp;to&nbsp;w&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;b.</span><br>
<span class="lineno"></span><span class="keyword" id="4708813">func</span>&nbsp;<span class="ident" id="4708818">JSEscape</span><span class="op" id="4708826">(</span><span class="ident" id="4708827">w</span>&nbsp;<span class="ident" id="4708829"><a href="/text/template/funcs.go.html#4696457">io</a></span><span class="op" id="4708831">.</span><span class="ident" id="4708832">Writer</span><span class="op" id="4708838">,</span>&nbsp;<span class="ident" id="4708840">b</span>&nbsp;<span class="op" id="4708842">[</span><span class="op" id="4708843">]</span><span class="builtintype" id="4708844">byte</span><span class="op" id="4708848">)</span>&nbsp;<span class="op" id="4708850">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708853">last</span>&nbsp;<span class="op" id="4708858">:=</span>&nbsp;<span class="num" id="4708861">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708864">for</span>&nbsp;<span class="ident" id="4708868">i</span>&nbsp;<span class="op" id="4708870">:=</span>&nbsp;<span class="num" id="4708873">0</span><span class="op" id="4708874">;</span>&nbsp;<span class="ident" id="4708876"><a href="/text/template/funcs.go.html#4708868">i</a></span>&nbsp;<span class="op" id="4708878">&lt;</span>&nbsp;<span class="builtinfunc" id="4708880">len</span><span class="op" id="4708883">(</span><span class="ident" id="4708884"><a href="/text/template/funcs.go.html#4708840">b</a></span><span class="op" id="4708885">)</span><span class="op" id="4708886">;</span>&nbsp;<span class="ident" id="4708888"><a href="/text/template/funcs.go.html#4708868">i</a></span><span class="op" id="4708889">++</span>&nbsp;<span class="op" id="4708892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708896">c</span>&nbsp;<span class="op" id="4708898">:=</span>&nbsp;<span class="ident" id="4708901"><a href="/text/template/funcs.go.html#4708840">b</a></span><span class="op" id="4708902">[</span><span class="ident" id="4708903"><a href="/text/template/funcs.go.html#4708868">i</a></span><span class="op" id="4708904">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708909">if</span>&nbsp;<span class="op" id="4708912">!</span><span class="ident" id="4708913"><a href="/text/template/funcs.go.html#4709949">jsIsSpecial</a></span><span class="op" id="4708924">(</span><span class="builtintype" id="4708925">rune</span><span class="op" id="4708929">(</span><span class="ident" id="4708930"><a href="/text/template/funcs.go.html#4708896">c</a></span><span class="op" id="4708931">)</span><span class="op" id="4708932">)</span>&nbsp;<span class="op" id="4708934">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4708939">//&nbsp;fast&nbsp;path:&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4708970">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4708981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4708985"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4708986">.</span><span class="ident" id="4708987">Write</span><span class="op" id="4708992">(</span><span class="ident" id="4708993"><a href="/text/template/funcs.go.html#4708840">b</a></span><span class="op" id="4708994">[</span><span class="ident" id="4708995"><a href="/text/template/funcs.go.html#4708853">last</a></span><span class="op" id="4708999">:</span><span class="ident" id="4709000"><a href="/text/template/funcs.go.html#4708868">i</a></span><span class="op" id="4709001">]</span><span class="op" id="4709002">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709007">if</span>&nbsp;<span class="ident" id="4709010"><a href="/text/template/funcs.go.html#4708896">c</a></span>&nbsp;<span class="op" id="4709012">&lt;</span>&nbsp;<span class="ident" id="4709014"><a href="/text/template/funcs.go.html#4696507">utf8</a></span><span class="op" id="4709018">.</span><span class="ident" id="4709019">RuneSelf</span>&nbsp;<span class="op" id="4709028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4709033">//&nbsp;Quotes,&nbsp;slashes&nbsp;and&nbsp;angle&nbsp;brackets&nbsp;get&nbsp;quoted.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4709086">//&nbsp;Control&nbsp;characters&nbsp;get&nbsp;written&nbsp;as&nbsp;\u00XX.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709134">switch</span>&nbsp;<span class="ident" id="4709141"><a href="/text/template/funcs.go.html#4708896">c</a></span>&nbsp;<span class="op" id="4709143">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709148">case</span>&nbsp;<span class="string" id="4709153">&#39;\\&#39;</span><span class="op" id="4709157">:</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709163"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709164">.</span><span class="ident" id="4709165">Write</span><span class="op" id="4709170">(</span><span class="ident" id="4709171"><a href="/text/template/funcs.go.html#4708583">jsBackslash</a></span><span class="op" id="4709182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709187">case</span>&nbsp;<span class="string" id="4709192">&#39;\&#39;&#39;</span><span class="op" id="4709196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709202"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709203">.</span><span class="ident" id="4709204">Write</span><span class="op" id="4709209">(</span><span class="ident" id="4709210"><a href="/text/template/funcs.go.html#4708611">jsApos</a></span><span class="op" id="4709216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709221">case</span>&nbsp;<span class="string" id="4709226">&#39;&#34;&#39;</span><span class="op" id="4709229">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709235"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709236">.</span><span class="ident" id="4709237">Write</span><span class="op" id="4709242">(</span><span class="ident" id="4709243"><a href="/text/template/funcs.go.html#4708639">jsQuot</a></span><span class="op" id="4709249">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709254">case</span>&nbsp;<span class="string" id="4709259">&#39;&lt;&#39;</span><span class="op" id="4709262">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709268"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709269">.</span><span class="ident" id="4709270">Write</span><span class="op" id="4709275">(</span><span class="ident" id="4709276"><a href="/text/template/funcs.go.html#4708667">jsLt</a></span><span class="op" id="4709280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709285">case</span>&nbsp;<span class="string" id="4709290">&#39;&gt;&#39;</span><span class="op" id="4709293">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709299"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709300">.</span><span class="ident" id="4709301">Write</span><span class="op" id="4709306">(</span><span class="ident" id="4709307"><a href="/text/template/funcs.go.html#4708697">jsGt</a></span><span class="op" id="4709311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709316">default</span><span class="op" id="4709323">:</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709329"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709330">.</span><span class="ident" id="4709331">Write</span><span class="op" id="4709336">(</span><span class="ident" id="4709337"><a href="/text/template/funcs.go.html#4708516">jsLowUni</a></span><span class="op" id="4709345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709351">t</span><span class="op" id="4709352">,</span>&nbsp;<span class="ident" id="4709354">b</span>&nbsp;<span class="op" id="4709356">:=</span>&nbsp;<span class="ident" id="4709359"><a href="/text/template/funcs.go.html#4708896">c</a></span><span class="op" id="4709360">&gt;&gt;</span><span class="num" id="4709362">4</span><span class="op" id="4709363">,</span>&nbsp;<span class="ident" id="4709365"><a href="/text/template/funcs.go.html#4708896">c</a></span><span class="op" id="4709366">&amp;</span><span class="num" id="4709367">0x0f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709376"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709377">.</span><span class="ident" id="4709378">Write</span><span class="op" id="4709383">(</span><span class="ident" id="4709384"><a href="/text/template/funcs.go.html#4708543">hex</a></span><span class="op" id="4709387">[</span><span class="ident" id="4709388"><a href="/text/template/funcs.go.html#4709351">t</a></span>&nbsp;<span class="op" id="4709390">:</span>&nbsp;<span class="ident" id="4709392"><a href="/text/template/funcs.go.html#4709351">t</a></span><span class="op" id="4709393">+</span><span class="num" id="4709394">1</span><span class="op" id="4709395">]</span><span class="op" id="4709396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709402"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709403">.</span><span class="ident" id="4709404">Write</span><span class="op" id="4709409">(</span><span class="ident" id="4709410"><a href="/text/template/funcs.go.html#4708543">hex</a></span><span class="op" id="4709413">[</span><span class="ident" id="4709414"><a href="/text/template/funcs.go.html#4709354">b</a></span>&nbsp;<span class="op" id="4709416">:</span>&nbsp;<span class="ident" id="4709418"><a href="/text/template/funcs.go.html#4709354">b</a></span><span class="op" id="4709419">+</span><span class="num" id="4709420">1</span><span class="op" id="4709421">]</span><span class="op" id="4709422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709427">}</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709431">}</span>&nbsp;<span class="keyword" id="4709433">else</span>&nbsp;<span class="op" id="4709438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4709443">//&nbsp;Unicode&nbsp;rune.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709463">r</span><span class="op" id="4709464">,</span>&nbsp;<span class="ident" id="4709466">size</span>&nbsp;<span class="op" id="4709471">:=</span>&nbsp;<span class="ident" id="4709474"><a href="/text/template/funcs.go.html#4696507">utf8</a></span><span class="op" id="4709478">.</span><span class="ident" id="4709479">DecodeRune</span><span class="op" id="4709489">(</span><span class="ident" id="4709490"><a href="/text/template/funcs.go.html#4708840">b</a></span><span class="op" id="4709491">[</span><span class="ident" id="4709492"><a href="/text/template/funcs.go.html#4708868">i</a></span><span class="op" id="4709493">:</span><span class="op" id="4709494">]</span><span class="op" id="4709495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709500">if</span>&nbsp;<span class="ident" id="4709503"><a href="/text/template/funcs.go.html#4696496">unicode</a></span><span class="op" id="4709510">.</span><span class="ident" id="4709511">IsPrint</span><span class="op" id="4709518">(</span><span class="ident" id="4709519"><a href="/text/template/funcs.go.html#4709463">r</a></span><span class="op" id="4709520">)</span>&nbsp;<span class="op" id="4709522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709528"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709529">.</span><span class="ident" id="4709530">Write</span><span class="op" id="4709535">(</span><span class="ident" id="4709536"><a href="/text/template/funcs.go.html#4708840">b</a></span><span class="op" id="4709537">[</span><span class="ident" id="4709538"><a href="/text/template/funcs.go.html#4708868">i</a></span>&nbsp;<span class="op" id="4709540">:</span>&nbsp;<span class="ident" id="4709542"><a href="/text/template/funcs.go.html#4708868">i</a></span><span class="op" id="4709543">+</span><span class="ident" id="4709544"><a href="/text/template/funcs.go.html#4709466">size</a></span><span class="op" id="4709548">]</span><span class="op" id="4709549">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709554">}</span>&nbsp;<span class="keyword" id="4709556">else</span>&nbsp;<span class="op" id="4709561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709567"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4709570">.</span><span class="ident" id="4709571">Fprintf</span><span class="op" id="4709578">(</span><span class="ident" id="4709579"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709580">,</span>&nbsp;<span class="string" id="4709582">&#34;\\u%04X&#34;</span><span class="op" id="4709591">,</span>&nbsp;<span class="ident" id="4709593"><a href="/text/template/funcs.go.html#4709463">r</a></span><span class="op" id="4709594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709604"><a href="/text/template/funcs.go.html#4708868">i</a></span>&nbsp;<span class="op" id="4709606">+=</span>&nbsp;<span class="ident" id="4709609"><a href="/text/template/funcs.go.html#4709466">size</a></span>&nbsp;<span class="op" id="4709614">-</span>&nbsp;<span class="num" id="4709616">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709620">}</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709624"><a href="/text/template/funcs.go.html#4708853">last</a></span>&nbsp;<span class="op" id="4709629">=</span>&nbsp;<span class="ident" id="4709631"><a href="/text/template/funcs.go.html#4708868">i</a></span>&nbsp;<span class="op" id="4709633">+</span>&nbsp;<span class="num" id="4709635">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709641"><a href="/text/template/funcs.go.html#4708827">w</a></span><span class="op" id="4709642">.</span><span class="ident" id="4709643">Write</span><span class="op" id="4709648">(</span><span class="ident" id="4709649"><a href="/text/template/funcs.go.html#4708840">b</a></span><span class="op" id="4709650">[</span><span class="ident" id="4709651"><a href="/text/template/funcs.go.html#4708853">last</a></span><span class="op" id="4709655">:</span><span class="op" id="4709656">]</span><span class="op" id="4709657">)</span><br>
<span class="lineno"></span><span class="op" id="4709659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">545</span><span class="comment" id="4709662">//&nbsp;JSEscapeString&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;plain&nbsp;text&nbsp;data&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="4709748">func</span>&nbsp;<span class="ident" id="4709753">JSEscapeString</span><span class="op" id="4709767">(</span><span class="ident" id="4709768">s</span>&nbsp;<span class="builtintype" id="4709770">string</span><span class="op" id="4709776">)</span>&nbsp;<span class="builtintype" id="4709778">string</span>&nbsp;<span class="op" id="4709785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4709788">//&nbsp;Avoid&nbsp;allocation&nbsp;if&nbsp;we&nbsp;can.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709820">if</span>&nbsp;<span class="ident" id="4709823"><a href="/text/template/funcs.go.html#4696485">strings</a></span><span class="op" id="4709830">.</span><span class="ident" id="4709831">IndexFunc</span><span class="op" id="4709840">(</span><span class="ident" id="4709841"><a href="/text/template/funcs.go.html#4709768">s</a></span><span class="op" id="4709842">,</span>&nbsp;<span class="ident" id="4709844"><a href="/text/template/funcs.go.html#4709949">jsIsSpecial</a></span><span class="op" id="4709855">)</span>&nbsp;<span class="op" id="4709857">&lt;</span>&nbsp;<span class="num" id="4709859">0</span>&nbsp;<span class="op" id="4709861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709865">return</span>&nbsp;<span class="ident" id="4709872"><a href="/text/template/funcs.go.html#4709768">s</a></span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4709875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709878">var</span>&nbsp;<span class="ident" id="4709882">b</span>&nbsp;<span class="ident" id="4709884"><a href="/text/template/funcs.go.html#4696431">bytes</a></span><span class="op" id="4709889">.</span><span class="ident" id="4709890">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4709898"><a href="/text/template/funcs.go.html#4708818">JSEscape</a></span><span class="op" id="4709906">(</span><span class="op" id="4709907">&amp;</span><span class="ident" id="4709908"><a href="/text/template/funcs.go.html#4709882">b</a></span><span class="op" id="4709909">,</span>&nbsp;<span class="op" id="4709911">[</span><span class="op" id="4709912">]</span><span class="builtintype" id="4709913">byte</span><span class="op" id="4709917">(</span><span class="ident" id="4709918"><a href="/text/template/funcs.go.html#4709768">s</a></span><span class="op" id="4709919">)</span><span class="op" id="4709920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709923">return</span>&nbsp;<span class="ident" id="4709930"><a href="/text/template/funcs.go.html#4709882">b</a></span><span class="op" id="4709931">.</span><span class="ident" id="4709932">String</span><span class="op" id="4709938">(</span><span class="op" id="4709939">)</span><br>
<span class="lineno"></span><span class="op" id="4709941">}</span><br>
<span class="lineno">555</span><br>
<span class="lineno"></span><span class="keyword" id="4709944">func</span>&nbsp;<span class="ident" id="4709949">jsIsSpecial</span><span class="op" id="4709960">(</span><span class="ident" id="4709961">r</span>&nbsp;<span class="builtintype" id="4709963">rune</span><span class="op" id="4709967">)</span>&nbsp;<span class="builtintype" id="4709969">bool</span>&nbsp;<span class="op" id="4709974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709977">switch</span>&nbsp;<span class="ident" id="4709984"><a href="/text/template/funcs.go.html#4709961">r</a></span>&nbsp;<span class="op" id="4709986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4709989">case</span>&nbsp;<span class="string" id="4709994">&#39;\\&#39;</span><span class="op" id="4709998">,</span>&nbsp;<span class="string" id="4710000">&#39;\&#39;&#39;</span><span class="op" id="4710004">,</span>&nbsp;<span class="string" id="4710006">&#39;&#34;&#39;</span><span class="op" id="4710009">,</span>&nbsp;<span class="string" id="4710011">&#39;&lt;&#39;</span><span class="op" id="4710014">,</span>&nbsp;<span class="string" id="4710016">&#39;&gt;&#39;</span><span class="op" id="4710019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710023">return</span>&nbsp;<span class="builtintype" id="4710030">true</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4710036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710039">return</span>&nbsp;<span class="ident" id="4710046"><a href="/text/template/funcs.go.html#4709961">r</a></span>&nbsp;<span class="op" id="4710048">&lt;</span>&nbsp;<span class="string" id="4710050">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="4710054">||</span>&nbsp;<span class="ident" id="4710057"><a href="/text/template/funcs.go.html#4696507">utf8</a></span><span class="op" id="4710061">.</span><span class="ident" id="4710062">RuneSelf</span>&nbsp;<span class="op" id="4710071">&lt;=</span>&nbsp;<span class="ident" id="4710074"><a href="/text/template/funcs.go.html#4709961">r</a></span><br>
<span class="lineno"></span><span class="op" id="4710076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4710079">//&nbsp;JSEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;JavaScript&nbsp;equivalent&nbsp;of&nbsp;the&nbsp;textual</span><br>
<span class="lineno">565</span><span class="comment" id="4710149">//&nbsp;representation&nbsp;of&nbsp;its&nbsp;arguments.</span><br>
<span class="lineno"></span><span class="keyword" id="4710185">func</span>&nbsp;<span class="ident" id="4710190">JSEscaper</span><span class="op" id="4710199">(</span><span class="ident" id="4710200">args</span>&nbsp;<span class="op" id="4710205">...</span><span class="keyword" id="4710208">interface</span><span class="op" id="4710217">{</span><span class="op" id="4710218">}</span><span class="op" id="4710219">)</span>&nbsp;<span class="builtintype" id="4710221">string</span>&nbsp;<span class="op" id="4710228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710231">return</span>&nbsp;<span class="ident" id="4710238"><a href="/text/template/funcs.go.html#4709753">JSEscapeString</a></span><span class="op" id="4710252">(</span><span class="ident" id="4710253"><a href="/text/template/funcs.go.html#4710784">evalArgs</a></span><span class="op" id="4710261">(</span><span class="ident" id="4710262"><a href="/text/template/funcs.go.html#4710200">args</a></span><span class="op" id="4710266">)</span><span class="op" id="4710267">)</span><br>
<span class="lineno"></span><span class="op" id="4710269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="comment" id="4710272">//&nbsp;URLQueryEscaper&nbsp;returns&nbsp;the&nbsp;escaped&nbsp;value&nbsp;of&nbsp;the&nbsp;textual&nbsp;representation&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="4710350">//&nbsp;its&nbsp;arguments&nbsp;in&nbsp;a&nbsp;form&nbsp;suitable&nbsp;for&nbsp;embedding&nbsp;in&nbsp;a&nbsp;URL&nbsp;query.</span><br>
<span class="lineno"></span><span class="keyword" id="4710416">func</span>&nbsp;<span class="ident" id="4710421">URLQueryEscaper</span><span class="op" id="4710436">(</span><span class="ident" id="4710437">args</span>&nbsp;<span class="op" id="4710442">...</span><span class="keyword" id="4710445">interface</span><span class="op" id="4710454">{</span><span class="op" id="4710455">}</span><span class="op" id="4710456">)</span>&nbsp;<span class="builtintype" id="4710458">string</span>&nbsp;<span class="op" id="4710465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710468">return</span>&nbsp;<span class="ident" id="4710475"><a href="/text/template/funcs.go.html#4696463">url</a></span><span class="op" id="4710478">.</span><span class="ident" id="4710479">QueryEscape</span><span class="op" id="4710490">(</span><span class="ident" id="4710491"><a href="/text/template/funcs.go.html#4710784">evalArgs</a></span><span class="op" id="4710499">(</span><span class="ident" id="4710500"><a href="/text/template/funcs.go.html#4710437">args</a></span><span class="op" id="4710504">)</span><span class="op" id="4710505">)</span><br>
<span class="lineno"></span><span class="op" id="4710507">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="comment" id="4710510">//&nbsp;evalArgs&nbsp;formats&nbsp;the&nbsp;list&nbsp;of&nbsp;arguments&nbsp;into&nbsp;a&nbsp;string.&nbsp;It&nbsp;is&nbsp;therefore&nbsp;equivalent&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="4710597">//&nbsp;&nbsp;&nbsp;&nbspfmt.Sprint(args...)</span><br>
<span class="lineno"></span><span class="comment" id="4710620">//&nbsp;except&nbsp;that&nbsp;each&nbsp;argument&nbsp;is&nbsp;indirected&nbsp;(if&nbsp;a&nbsp;pointer),&nbsp;as&nbsp;required,</span><br>
<span class="lineno"></span><span class="comment" id="4710692">//&nbsp;using&nbsp;the&nbsp;same&nbsp;rules&nbsp;as&nbsp;the&nbsp;default&nbsp;string&nbsp;evaluation&nbsp;during&nbsp;template</span><br>
<span class="lineno">580</span><span class="comment" id="4710765">//&nbsp;execution.</span><br>
<span class="lineno"></span><span class="keyword" id="4710779">func</span>&nbsp;<span class="ident" id="4710784">evalArgs</span><span class="op" id="4710792">(</span><span class="ident" id="4710793">args</span>&nbsp;<span class="op" id="4710798">[</span><span class="op" id="4710799">]</span><span class="keyword" id="4710800">interface</span><span class="op" id="4710809">{</span><span class="op" id="4710810">}</span><span class="op" id="4710811">)</span>&nbsp;<span class="builtintype" id="4710813">string</span>&nbsp;<span class="op" id="4710820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4710823">ok</span>&nbsp;<span class="op" id="4710826">:=</span>&nbsp;<span class="builtintype" id="4710829">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710836">var</span>&nbsp;<span class="ident" id="4710840">s</span>&nbsp;<span class="builtintype" id="4710842">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4710850">//&nbsp;Fast&nbsp;path&nbsp;for&nbsp;simple&nbsp;common&nbsp;case.</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710888">if</span>&nbsp;<span class="builtinfunc" id="4710891">len</span><span class="op" id="4710894">(</span><span class="ident" id="4710895"><a href="/text/template/funcs.go.html#4710793">args</a></span><span class="op" id="4710899">)</span>&nbsp;<span class="op" id="4710901">==</span>&nbsp;<span class="num" id="4710904">1</span>&nbsp;<span class="op" id="4710906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4710910"><a href="/text/template/funcs.go.html#4710840">s</a></span><span class="op" id="4710911">,</span>&nbsp;<span class="ident" id="4710913"><a href="/text/template/funcs.go.html#4710823">ok</a></span>&nbsp;<span class="op" id="4710916">=</span>&nbsp;<span class="ident" id="4710918"><a href="/text/template/funcs.go.html#4710793">args</a></span><span class="op" id="4710922">[</span><span class="num" id="4710923">0</span><span class="op" id="4710924">]</span><span class="op" id="4710925">.</span><span class="op" id="4710926">(</span><span class="builtintype" id="4710927">string</span><span class="op" id="4710933">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4710936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710939">if</span>&nbsp;<span class="op" id="4710942">!</span><span class="ident" id="4710943"><a href="/text/template/funcs.go.html#4710823">ok</a></span>&nbsp;<span class="op" id="4710946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4710950">for</span>&nbsp;<span class="ident" id="4710954">i</span><span class="op" id="4710955">,</span>&nbsp;<span class="ident" id="4710957">arg</span>&nbsp;<span class="op" id="4710961">:=</span>&nbsp;<span class="keyword" id="4710964">range</span>&nbsp;<span class="ident" id="4710970"><a href="/text/template/funcs.go.html#4710793">args</a></span>&nbsp;<span class="op" id="4710975">{</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4710980">a</span><span class="op" id="4710981">,</span>&nbsp;<span class="ident" id="4710983">ok</span>&nbsp;<span class="op" id="4710986">:=</span>&nbsp;<span class="ident" id="4710989"><a href="/text/template/exec.go.html#4694509">printableValue</a></span><span class="op" id="4711003">(</span><span class="ident" id="4711004"><a href="/text/template/funcs.go.html#4696474">reflect</a></span><span class="op" id="4711011">.</span><span class="ident" id="4711012">ValueOf</span><span class="op" id="4711019">(</span><span class="ident" id="4711020"><a href="/text/template/funcs.go.html#4710957">arg</a></span><span class="op" id="4711023">)</span><span class="op" id="4711024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4711029">if</span>&nbsp;<span class="ident" id="4711032"><a href="/text/template/funcs.go.html#4710983">ok</a></span>&nbsp;<span class="op" id="4711035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4711041"><a href="/text/template/funcs.go.html#4710793">args</a></span><span class="op" id="4711045">[</span><span class="ident" id="4711046"><a href="/text/template/funcs.go.html#4710954">i</a></span><span class="op" id="4711047">]</span>&nbsp;<span class="op" id="4711049">=</span>&nbsp;<span class="ident" id="4711051"><a href="/text/template/funcs.go.html#4710980">a</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4711056">}</span>&nbsp;<span class="comment" id="4711058">//&nbsp;else&nbsp;left&nbsp;fmt&nbsp;do&nbsp;its&nbsp;thing</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4711090">}</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4711094"><a href="/text/template/funcs.go.html#4710840">s</a></span>&nbsp;<span class="op" id="4711096">=</span>&nbsp;<span class="ident" id="4711098"><a href="/text/template/funcs.go.html#4696450">fmt</a></span><span class="op" id="4711101">.</span><span class="ident" id="4711102">Sprint</span><span class="op" id="4711108">(</span><span class="ident" id="4711109"><a href="/text/template/funcs.go.html#4710793">args</a></span><span class="op" id="4711113">...</span><span class="op" id="4711116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4711119">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4711122">return</span>&nbsp;<span class="ident" id="4711129"><a href="/text/template/funcs.go.html#4710840">s</a></span><br>
<span class="lineno"></span><span class="op" id="4711131">}</span>
</div>
</body>
</html>
