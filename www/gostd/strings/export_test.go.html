<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6844608">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6844663">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6844717">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6844768">package</span>&nbsp;<span class="ident" id="6844776">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6844785">func</span>&nbsp;<span class="op" id="6844790">(</span><span class="ident" id="6844791">r</span>&nbsp;<span class="op" id="6844793">*</span><span class="ident" id="6844794">Replacer</span><span class="op" id="6844802">)</span>&nbsp;<span class="ident" id="6844804">Replacer</span><span class="op" id="6844812">(</span><span class="op" id="6844813">)</span>&nbsp;<span class="keyword" id="6844815">interface</span><span class="op" id="6844824">{</span><span class="op" id="6844825">}</span>&nbsp;<span class="op" id="6844827">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6844830">return</span>&nbsp;<span class="ident" id="6844837">r</span><span class="op" id="6844838">.</span><span class="ident" id="6844839">r</span><br>
<span class="lineno"></span><span class="op" id="6844841">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6844844">func</span>&nbsp;<span class="op" id="6844849">(</span><span class="ident" id="6844850">r</span>&nbsp;<span class="op" id="6844852">*</span><span class="ident" id="6844853">Replacer</span><span class="op" id="6844861">)</span>&nbsp;<span class="ident" id="6844863">PrintTrie</span><span class="op" id="6844872">(</span><span class="op" id="6844873">)</span>&nbsp;<span class="builtintype" id="6844875">string</span>&nbsp;<span class="op" id="6844882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6844885">gen</span>&nbsp;<span class="op" id="6844889">:=</span>&nbsp;<span class="ident" id="6844892">r</span><span class="op" id="6844893">.</span><span class="ident" id="6844894">r</span><span class="op" id="6844895">.</span><span class="op" id="6844896">(</span><span class="op" id="6844897">*</span><span class="ident" id="6844898">genericReplacer</span><span class="op" id="6844913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6844916">return</span>&nbsp;<span class="ident" id="6844923">gen</span><span class="op" id="6844926">.</span><span class="ident" id="6844927">printNode</span><span class="op" id="6844936">(</span><span class="op" id="6844937">&amp;</span><span class="ident" id="6844938">gen</span><span class="op" id="6844941">.</span><span class="ident" id="6844942">root</span><span class="op" id="6844946">,</span>&nbsp;<span class="num" id="6844948">0</span><span class="op" id="6844949">)</span><br>
<span class="lineno"></span><span class="op" id="6844951">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6844954">func</span>&nbsp;<span class="op" id="6844959">(</span><span class="ident" id="6844960">r</span>&nbsp;<span class="op" id="6844962">*</span><span class="ident" id="6844963">genericReplacer</span><span class="op" id="6844978">)</span>&nbsp;<span class="ident" id="6844980">printNode</span><span class="op" id="6844989">(</span><span class="ident" id="6844990">t</span>&nbsp;<span class="op" id="6844992">*</span><span class="ident" id="6844993">trieNode</span><span class="op" id="6845001">,</span>&nbsp;<span class="ident" id="6845003">depth</span>&nbsp;<span class="builtintype" id="6845009">int</span><span class="op" id="6845012">)</span>&nbsp;<span class="op" id="6845014">(</span><span class="ident" id="6845015">s</span>&nbsp;<span class="builtintype" id="6845017">string</span><span class="op" id="6845023">)</span>&nbsp;<span class="op" id="6845025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845028">if</span>&nbsp;<span class="ident" id="6845031">t</span><span class="op" id="6845032">.</span><span class="ident" id="6845033">priority</span>&nbsp;<span class="op" id="6845042">&gt;</span>&nbsp;<span class="num" id="6845044">0</span>&nbsp;<span class="op" id="6845046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845050">s</span>&nbsp;<span class="op" id="6845052">+=</span>&nbsp;<span class="string" id="6845055">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6845060">}</span>&nbsp;<span class="keyword" id="6845062">else</span>&nbsp;<span class="op" id="6845067">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845071">s</span>&nbsp;<span class="op" id="6845073">+=</span>&nbsp;<span class="string" id="6845076">&#34;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6845081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845084">s</span>&nbsp;<span class="op" id="6845086">+=</span>&nbsp;<span class="string" id="6845089">&#34;\n&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845096">if</span>&nbsp;<span class="ident" id="6845099">t</span><span class="op" id="6845100">.</span><span class="ident" id="6845101">prefix</span>&nbsp;<span class="op" id="6845108">!=</span>&nbsp;<span class="string" id="6845111">&#34;&#34;</span>&nbsp;<span class="op" id="6845114">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845118">s</span>&nbsp;<span class="op" id="6845120">+=</span>&nbsp;<span class="ident" id="6845123">Repeat</span><span class="op" id="6845129">(</span><span class="string" id="6845130">&#34;.&#34;</span><span class="op" id="6845133">,</span>&nbsp;<span class="ident" id="6845135">depth</span><span class="op" id="6845140">)</span>&nbsp;<span class="op" id="6845142">+</span>&nbsp;<span class="ident" id="6845144">t</span><span class="op" id="6845145">.</span><span class="ident" id="6845146">prefix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845155">s</span>&nbsp;<span class="op" id="6845157">+=</span>&nbsp;<span class="ident" id="6845160">r</span><span class="op" id="6845161">.</span><span class="ident" id="6845162">printNode</span><span class="op" id="6845171">(</span><span class="ident" id="6845172">t</span><span class="op" id="6845173">.</span><span class="ident" id="6845174">next</span><span class="op" id="6845178">,</span>&nbsp;<span class="ident" id="6845180">depth</span><span class="op" id="6845185">+</span><span class="builtinfunc" id="6845186">len</span><span class="op" id="6845189">(</span><span class="ident" id="6845190">t</span><span class="op" id="6845191">.</span><span class="ident" id="6845192">prefix</span><span class="op" id="6845198">)</span><span class="op" id="6845199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6845202">}</span>&nbsp;<span class="keyword" id="6845204">else</span>&nbsp;<span class="keyword" id="6845209">if</span>&nbsp;<span class="ident" id="6845212">t</span><span class="op" id="6845213">.</span><span class="ident" id="6845214">table</span>&nbsp;<span class="op" id="6845220">!=</span>&nbsp;<span class="builtintype" id="6845223">nil</span>&nbsp;<span class="op" id="6845227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845231">for</span>&nbsp;<span class="ident" id="6845235">b</span><span class="op" id="6845236">,</span>&nbsp;<span class="ident" id="6845238">m</span>&nbsp;<span class="op" id="6845240">:=</span>&nbsp;<span class="keyword" id="6845243">range</span>&nbsp;<span class="ident" id="6845249">r</span><span class="op" id="6845250">.</span><span class="ident" id="6845251">mapping</span>&nbsp;<span class="op" id="6845259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845264">if</span>&nbsp;<span class="builtintype" id="6845267">int</span><span class="op" id="6845270">(</span><span class="ident" id="6845271">m</span><span class="op" id="6845272">)</span>&nbsp;<span class="op" id="6845274">!=</span>&nbsp;<span class="ident" id="6845277">r</span><span class="op" id="6845278">.</span><span class="ident" id="6845279">tableSize</span>&nbsp;<span class="op" id="6845289">&amp;&amp;</span>&nbsp;<span class="ident" id="6845292">t</span><span class="op" id="6845293">.</span><span class="ident" id="6845294">table</span><span class="op" id="6845299">[</span><span class="ident" id="6845300">m</span><span class="op" id="6845301">]</span>&nbsp;<span class="op" id="6845303">!=</span>&nbsp;<span class="builtintype" id="6845306">nil</span>&nbsp;<span class="op" id="6845310">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845316">s</span>&nbsp;<span class="op" id="6845318">+=</span>&nbsp;<span class="ident" id="6845321">Repeat</span><span class="op" id="6845327">(</span><span class="string" id="6845328">&#34;.&#34;</span><span class="op" id="6845331">,</span>&nbsp;<span class="ident" id="6845333">depth</span><span class="op" id="6845338">)</span>&nbsp;<span class="op" id="6845340">+</span>&nbsp;<span class="builtintype" id="6845342">string</span><span class="op" id="6845348">(</span><span class="op" id="6845349">[</span><span class="op" id="6845350">]</span><span class="builtintype" id="6845351">byte</span><span class="op" id="6845355">{</span><span class="builtintype" id="6845356">byte</span><span class="op" id="6845360">(</span><span class="ident" id="6845361">b</span><span class="op" id="6845362">)</span><span class="op" id="6845363">}</span><span class="op" id="6845364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845370">s</span>&nbsp;<span class="op" id="6845372">+=</span>&nbsp;<span class="ident" id="6845375">r</span><span class="op" id="6845376">.</span><span class="ident" id="6845377">printNode</span><span class="op" id="6845386">(</span><span class="ident" id="6845387">t</span><span class="op" id="6845388">.</span><span class="ident" id="6845389">table</span><span class="op" id="6845394">[</span><span class="ident" id="6845395">m</span><span class="op" id="6845396">]</span><span class="op" id="6845397">,</span>&nbsp;<span class="ident" id="6845399">depth</span><span class="op" id="6845404">+</span><span class="num" id="6845405">1</span><span class="op" id="6845406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6845411">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6845415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6845418">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845421">return</span><br>
<span class="lineno"></span><span class="op" id="6845428">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6845431">func</span>&nbsp;<span class="ident" id="6845436">StringFind</span><span class="op" id="6845446">(</span><span class="ident" id="6845447">pattern</span><span class="op" id="6845454">,</span>&nbsp;<span class="ident" id="6845456">text</span>&nbsp;<span class="builtintype" id="6845461">string</span><span class="op" id="6845467">)</span>&nbsp;<span class="builtintype" id="6845469">int</span>&nbsp;<span class="op" id="6845473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845476">return</span>&nbsp;<span class="ident" id="6845483">makeStringFinder</span><span class="op" id="6845499">(</span><span class="ident" id="6845500">pattern</span><span class="op" id="6845507">)</span><span class="op" id="6845508">.</span><span class="ident" id="6845509">next</span><span class="op" id="6845513">(</span><span class="ident" id="6845514">text</span><span class="op" id="6845518">)</span><br>
<span class="lineno">40</span><span class="op" id="6845520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6845523">func</span>&nbsp;<span class="ident" id="6845528">DumpTables</span><span class="op" id="6845538">(</span><span class="ident" id="6845539">pattern</span>&nbsp;<span class="builtintype" id="6845547">string</span><span class="op" id="6845553">)</span>&nbsp;<span class="op" id="6845555">(</span><span class="op" id="6845556">[</span><span class="op" id="6845557">]</span><span class="builtintype" id="6845558">int</span><span class="op" id="6845561">,</span>&nbsp;<span class="op" id="6845563">[</span><span class="op" id="6845564">]</span><span class="builtintype" id="6845565">int</span><span class="op" id="6845568">)</span>&nbsp;<span class="op" id="6845570">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6845573">finder</span>&nbsp;<span class="op" id="6845580">:=</span>&nbsp;<span class="ident" id="6845583">makeStringFinder</span><span class="op" id="6845599">(</span><span class="ident" id="6845600">pattern</span><span class="op" id="6845607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6845610">return</span>&nbsp;<span class="ident" id="6845617">finder</span><span class="op" id="6845623">.</span><span class="ident" id="6845624">badCharSkip</span><span class="op" id="6845635">[</span><span class="op" id="6845636">:</span><span class="op" id="6845637">]</span><span class="op" id="6845638">,</span>&nbsp;<span class="ident" id="6845640">finder</span><span class="op" id="6845646">.</span><span class="ident" id="6845647">goodSuffixSkip</span><br>
<span class="lineno">45</span><span class="op" id="6845662">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
