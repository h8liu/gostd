<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/zlib</h2>
<ul>
<li><a href="/gostd/compress/zlib/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/compress/zlib/reader.go.html">reader.go</a></li>
<li><a href="/gostd/compress/zlib/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/zlib/writer.go.html">writer.go</a></li>
<li><a href="/gostd/compress/zlib/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7352161">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7352216">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7352270">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7352321">package</span>&nbsp;<span class="ident" id="7352329">zlib</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7352335">import</span>&nbsp;<span class="op" id="7352342">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352345">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352354">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352360">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7352370">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7352373">type</span>&nbsp;<span class="ident" id="7352378">zlibTest</span>&nbsp;<span class="keyword" id="7352387">struct</span>&nbsp;<span class="op" id="7352394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352397">desc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7352408">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352416">raw</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7352427">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352435">compressed</span>&nbsp;<span class="op" id="7352446">[</span><span class="op" id="7352447">]</span><span class="builtintype" id="7352448">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352454">dict</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7352465">[</span><span class="op" id="7352466">]</span><span class="builtintype" id="7352467">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352473">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7352484">error</span><br>
<span class="lineno"></span><span class="op" id="7352490">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="7352493">//&nbsp;Compare-to-golden&nbsp;test&nbsp;data&nbsp;was&nbsp;generated&nbsp;by&nbsp;the&nbsp;ZLIB&nbsp;example&nbsp;program&nbsp;at</span><br>
<span class="lineno"></span><span class="comment" id="7352569">//&nbsp;http://www.zlib.net/zpipe.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7352601">var</span>&nbsp;<span class="ident" id="7352605">zlibTests</span>&nbsp;<span class="op" id="7352615">=</span>&nbsp;<span class="op" id="7352617">[</span><span class="op" id="7352618">]</span><span class="ident" id="7352619">zlibTest</span><span class="op" id="7352627">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352630">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352634">&#34;empty&#34;</span><span class="op" id="7352641">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352645">&#34;&#34;</span><span class="op" id="7352647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352651">[</span><span class="op" id="7352652">]</span><span class="builtintype" id="7352653">byte</span><span class="op" id="7352657">{</span><span class="num" id="7352658">0x78</span><span class="op" id="7352662">,</span>&nbsp;<span class="num" id="7352664">0x9c</span><span class="op" id="7352668">,</span>&nbsp;<span class="num" id="7352670">0x03</span><span class="op" id="7352674">,</span>&nbsp;<span class="num" id="7352676">0x00</span><span class="op" id="7352680">,</span>&nbsp;<span class="num" id="7352682">0x00</span><span class="op" id="7352686">,</span>&nbsp;<span class="num" id="7352688">0x00</span><span class="op" id="7352692">,</span>&nbsp;<span class="num" id="7352694">0x00</span><span class="op" id="7352698">,</span>&nbsp;<span class="num" id="7352700">0x01</span><span class="op" id="7352704">}</span><span class="op" id="7352705">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352709">nil</span><span class="op" id="7352712">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352716">nil</span><span class="op" id="7352719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352722">}</span><span class="op" id="7352723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352730">&#34;goodbye&#34;</span><span class="op" id="7352739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352743">&#34;goodbye,&nbsp;world&#34;</span><span class="op" id="7352759">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352763">[</span><span class="op" id="7352764">]</span><span class="builtintype" id="7352765">byte</span><span class="op" id="7352769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7352774">0x78</span><span class="op" id="7352778">,</span>&nbsp;<span class="num" id="7352780">0x9c</span><span class="op" id="7352784">,</span>&nbsp;<span class="num" id="7352786">0x4b</span><span class="op" id="7352790">,</span>&nbsp;<span class="num" id="7352792">0xcf</span><span class="op" id="7352796">,</span>&nbsp;<span class="num" id="7352798">0xcf</span><span class="op" id="7352802">,</span>&nbsp;<span class="num" id="7352804">0x4f</span><span class="op" id="7352808">,</span>&nbsp;<span class="num" id="7352810">0x49</span><span class="op" id="7352814">,</span>&nbsp;<span class="num" id="7352816">0xaa</span><span class="op" id="7352820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7352825">0x4c</span><span class="op" id="7352829">,</span>&nbsp;<span class="num" id="7352831">0xd5</span><span class="op" id="7352835">,</span>&nbsp;<span class="num" id="7352837">0x51</span><span class="op" id="7352841">,</span>&nbsp;<span class="num" id="7352843">0x28</span><span class="op" id="7352847">,</span>&nbsp;<span class="num" id="7352849">0xcf</span><span class="op" id="7352853">,</span>&nbsp;<span class="num" id="7352855">0x2f</span><span class="op" id="7352859">,</span>&nbsp;<span class="num" id="7352861">0xca</span><span class="op" id="7352865">,</span>&nbsp;<span class="num" id="7352867">0x49</span><span class="op" id="7352871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7352876">0x01</span><span class="op" id="7352880">,</span>&nbsp;<span class="num" id="7352882">0x00</span><span class="op" id="7352886">,</span>&nbsp;<span class="num" id="7352888">0x28</span><span class="op" id="7352892">,</span>&nbsp;<span class="num" id="7352894">0xa5</span><span class="op" id="7352898">,</span>&nbsp;<span class="num" id="7352900">0x05</span><span class="op" id="7352904">,</span>&nbsp;<span class="num" id="7352906">0x5e</span><span class="op" id="7352910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352914">}</span><span class="op" id="7352915">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352919">nil</span><span class="op" id="7352922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7352926">nil</span><span class="op" id="7352929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352932">}</span><span class="op" id="7352933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352940">&#34;bad&nbsp;header&#34;</span><span class="op" id="7352952">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7352956">&#34;&#34;</span><span class="op" id="7352958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7352962">[</span><span class="op" id="7352963">]</span><span class="builtintype" id="7352964">byte</span><span class="op" id="7352968">{</span><span class="num" id="7352969">0x78</span><span class="op" id="7352973">,</span>&nbsp;<span class="num" id="7352975">0x9f</span><span class="op" id="7352979">,</span>&nbsp;<span class="num" id="7352981">0x03</span><span class="op" id="7352985">,</span>&nbsp;<span class="num" id="7352987">0x00</span><span class="op" id="7352991">,</span>&nbsp;<span class="num" id="7352993">0x00</span><span class="op" id="7352997">,</span>&nbsp;<span class="num" id="7352999">0x00</span><span class="op" id="7353003">,</span>&nbsp;<span class="num" id="7353005">0x00</span><span class="op" id="7353009">,</span>&nbsp;<span class="num" id="7353011">0x01</span><span class="op" id="7353015">}</span><span class="op" id="7353016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353020">nil</span><span class="op" id="7353023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353027">ErrHeader</span><span class="op" id="7353036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353039">}</span><span class="op" id="7353040">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353047">&#34;bad&nbsp;checksum&#34;</span><span class="op" id="7353061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353065">&#34;&#34;</span><span class="op" id="7353067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353071">[</span><span class="op" id="7353072">]</span><span class="builtintype" id="7353073">byte</span><span class="op" id="7353077">{</span><span class="num" id="7353078">0x78</span><span class="op" id="7353082">,</span>&nbsp;<span class="num" id="7353084">0x9c</span><span class="op" id="7353088">,</span>&nbsp;<span class="num" id="7353090">0x03</span><span class="op" id="7353094">,</span>&nbsp;<span class="num" id="7353096">0x00</span><span class="op" id="7353100">,</span>&nbsp;<span class="num" id="7353102">0x00</span><span class="op" id="7353106">,</span>&nbsp;<span class="num" id="7353108">0x00</span><span class="op" id="7353112">,</span>&nbsp;<span class="num" id="7353114">0x00</span><span class="op" id="7353118">,</span>&nbsp;<span class="num" id="7353120">0xff</span><span class="op" id="7353124">}</span><span class="op" id="7353125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353129">nil</span><span class="op" id="7353132">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353136">ErrChecksum</span><span class="op" id="7353147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353150">}</span><span class="op" id="7353151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353158">&#34;not&nbsp;enough&nbsp;data&#34;</span><span class="op" id="7353175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353179">&#34;&#34;</span><span class="op" id="7353181">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353185">[</span><span class="op" id="7353186">]</span><span class="builtintype" id="7353187">byte</span><span class="op" id="7353191">{</span><span class="num" id="7353192">0x78</span><span class="op" id="7353196">,</span>&nbsp;<span class="num" id="7353198">0x9c</span><span class="op" id="7353202">,</span>&nbsp;<span class="num" id="7353204">0x03</span><span class="op" id="7353208">,</span>&nbsp;<span class="num" id="7353210">0x00</span><span class="op" id="7353214">,</span>&nbsp;<span class="num" id="7353216">0x00</span><span class="op" id="7353220">,</span>&nbsp;<span class="num" id="7353222">0x00</span><span class="op" id="7353226">}</span><span class="op" id="7353227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353231">nil</span><span class="op" id="7353234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353238">io</span><span class="op" id="7353240">.</span><span class="ident" id="7353241">ErrUnexpectedEOF</span><span class="op" id="7353257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353260">}</span><span class="op" id="7353261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353264">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353268">&#34;excess&nbsp;data&nbsp;is&nbsp;silently&nbsp;ignored&#34;</span><span class="op" id="7353301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353305">&#34;&#34;</span><span class="op" id="7353307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353311">[</span><span class="op" id="7353312">]</span><span class="builtintype" id="7353313">byte</span><span class="op" id="7353317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353322">0x78</span><span class="op" id="7353326">,</span>&nbsp;<span class="num" id="7353328">0x9c</span><span class="op" id="7353332">,</span>&nbsp;<span class="num" id="7353334">0x03</span><span class="op" id="7353338">,</span>&nbsp;<span class="num" id="7353340">0x00</span><span class="op" id="7353344">,</span>&nbsp;<span class="num" id="7353346">0x00</span><span class="op" id="7353350">,</span>&nbsp;<span class="num" id="7353352">0x00</span><span class="op" id="7353356">,</span>&nbsp;<span class="num" id="7353358">0x00</span><span class="op" id="7353362">,</span>&nbsp;<span class="num" id="7353364">0x01</span><span class="op" id="7353368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353373">0x78</span><span class="op" id="7353377">,</span>&nbsp;<span class="num" id="7353379">0x9c</span><span class="op" id="7353383">,</span>&nbsp;<span class="num" id="7353385">0xff</span><span class="op" id="7353389">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353393">}</span><span class="op" id="7353394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353398">nil</span><span class="op" id="7353401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353405">nil</span><span class="op" id="7353408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353411">}</span><span class="op" id="7353412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353415">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353419">&#34;dictionary&#34;</span><span class="op" id="7353431">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353435">&#34;Hello,&nbsp;World!\n&#34;</span><span class="op" id="7353452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353456">[</span><span class="op" id="7353457">]</span><span class="builtintype" id="7353458">byte</span><span class="op" id="7353462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353467">0x78</span><span class="op" id="7353471">,</span>&nbsp;<span class="num" id="7353473">0xbb</span><span class="op" id="7353477">,</span>&nbsp;<span class="num" id="7353479">0x1c</span><span class="op" id="7353483">,</span>&nbsp;<span class="num" id="7353485">0x32</span><span class="op" id="7353489">,</span>&nbsp;<span class="num" id="7353491">0x04</span><span class="op" id="7353495">,</span>&nbsp;<span class="num" id="7353497">0x27</span><span class="op" id="7353501">,</span>&nbsp;<span class="num" id="7353503">0xf3</span><span class="op" id="7353507">,</span>&nbsp;<span class="num" id="7353509">0x00</span><span class="op" id="7353513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353518">0xb1</span><span class="op" id="7353522">,</span>&nbsp;<span class="num" id="7353524">0x75</span><span class="op" id="7353528">,</span>&nbsp;<span class="num" id="7353530">0x20</span><span class="op" id="7353534">,</span>&nbsp;<span class="num" id="7353536">0x1c</span><span class="op" id="7353540">,</span>&nbsp;<span class="num" id="7353542">0x45</span><span class="op" id="7353546">,</span>&nbsp;<span class="num" id="7353548">0x2e</span><span class="op" id="7353552">,</span>&nbsp;<span class="num" id="7353554">0x00</span><span class="op" id="7353558">,</span>&nbsp;<span class="num" id="7353560">0x24</span><span class="op" id="7353564">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353569">0x12</span><span class="op" id="7353573">,</span>&nbsp;<span class="num" id="7353575">0x04</span><span class="op" id="7353579">,</span>&nbsp;<span class="num" id="7353581">0x74</span><span class="op" id="7353585">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353589">}</span><span class="op" id="7353590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353594">[</span><span class="op" id="7353595">]</span><span class="builtintype" id="7353596">byte</span><span class="op" id="7353600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353605">0x48</span><span class="op" id="7353609">,</span>&nbsp;<span class="num" id="7353611">0x65</span><span class="op" id="7353615">,</span>&nbsp;<span class="num" id="7353617">0x6c</span><span class="op" id="7353621">,</span>&nbsp;<span class="num" id="7353623">0x6c</span><span class="op" id="7353627">,</span>&nbsp;<span class="num" id="7353629">0x6f</span><span class="op" id="7353633">,</span>&nbsp;<span class="num" id="7353635">0x20</span><span class="op" id="7353639">,</span>&nbsp;<span class="num" id="7353641">0x57</span><span class="op" id="7353645">,</span>&nbsp;<span class="num" id="7353647">0x6f</span><span class="op" id="7353651">,</span>&nbsp;<span class="num" id="7353653">0x72</span><span class="op" id="7353657">,</span>&nbsp;<span class="num" id="7353659">0x6c</span><span class="op" id="7353663">,</span>&nbsp;<span class="num" id="7353665">0x64</span><span class="op" id="7353669">,</span>&nbsp;<span class="num" id="7353671">0x0a</span><span class="op" id="7353675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353679">}</span><span class="op" id="7353680">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353684">nil</span><span class="op" id="7353687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353690">}</span><span class="op" id="7353691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353698">&#34;wrong&nbsp;dictionary&#34;</span><span class="op" id="7353716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7353720">&#34;&#34;</span><span class="op" id="7353722">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353726">[</span><span class="op" id="7353727">]</span><span class="builtintype" id="7353728">byte</span><span class="op" id="7353732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353737">0x78</span><span class="op" id="7353741">,</span>&nbsp;<span class="num" id="7353743">0xbb</span><span class="op" id="7353747">,</span>&nbsp;<span class="num" id="7353749">0x1c</span><span class="op" id="7353753">,</span>&nbsp;<span class="num" id="7353755">0x32</span><span class="op" id="7353759">,</span>&nbsp;<span class="num" id="7353761">0x04</span><span class="op" id="7353765">,</span>&nbsp;<span class="num" id="7353767">0x27</span><span class="op" id="7353771">,</span>&nbsp;<span class="num" id="7353773">0xf3</span><span class="op" id="7353777">,</span>&nbsp;<span class="num" id="7353779">0x00</span><span class="op" id="7353783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353788">0xb1</span><span class="op" id="7353792">,</span>&nbsp;<span class="num" id="7353794">0x75</span><span class="op" id="7353798">,</span>&nbsp;<span class="num" id="7353800">0x20</span><span class="op" id="7353804">,</span>&nbsp;<span class="num" id="7353806">0x1c</span><span class="op" id="7353810">,</span>&nbsp;<span class="num" id="7353812">0x45</span><span class="op" id="7353816">,</span>&nbsp;<span class="num" id="7353818">0x2e</span><span class="op" id="7353822">,</span>&nbsp;<span class="num" id="7353824">0x00</span><span class="op" id="7353828">,</span>&nbsp;<span class="num" id="7353830">0x24</span><span class="op" id="7353834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353839">0x12</span><span class="op" id="7353843">,</span>&nbsp;<span class="num" id="7353845">0x04</span><span class="op" id="7353849">,</span>&nbsp;<span class="num" id="7353851">0x74</span><span class="op" id="7353855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353859">}</span><span class="op" id="7353860">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353864">[</span><span class="op" id="7353865">]</span><span class="builtintype" id="7353866">byte</span><span class="op" id="7353870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7353875">0x48</span><span class="op" id="7353879">,</span>&nbsp;<span class="num" id="7353881">0x65</span><span class="op" id="7353885">,</span>&nbsp;<span class="num" id="7353887">0x6c</span><span class="op" id="7353891">,</span>&nbsp;<span class="num" id="7353893">0x6c</span><span class="op" id="7353897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353901">}</span><span class="op" id="7353902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353906">ErrDictionary</span><span class="op" id="7353919">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7353922">}</span><span class="op" id="7353923">,</span><br>
<span class="lineno">100</span><span class="op" id="7353925">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7353928">func</span>&nbsp;<span class="ident" id="7353933">TestDecompressor</span><span class="op" id="7353949">(</span><span class="ident" id="7353950">t</span>&nbsp;<span class="op" id="7353952">*</span><span class="ident" id="7353953">testing</span><span class="op" id="7353960">.</span><span class="ident" id="7353961">T</span><span class="op" id="7353962">)</span>&nbsp;<span class="op" id="7353964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7353967">b</span>&nbsp;<span class="op" id="7353969">:=</span>&nbsp;<span class="builtinfunc" id="7353972">new</span><span class="op" id="7353975">(</span><span class="ident" id="7353976">bytes</span><span class="op" id="7353981">.</span><span class="ident" id="7353982">Buffer</span><span class="op" id="7353988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7353991">for</span>&nbsp;<span class="ident" id="7353995">_</span><span class="op" id="7353996">,</span>&nbsp;<span class="ident" id="7353998">tt</span>&nbsp;<span class="op" id="7354001">:=</span>&nbsp;<span class="keyword" id="7354004">range</span>&nbsp;<span class="ident" id="7354010">zlibTests</span>&nbsp;<span class="op" id="7354020">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354024">in</span>&nbsp;<span class="op" id="7354027">:=</span>&nbsp;<span class="ident" id="7354030">bytes</span><span class="op" id="7354035">.</span><span class="ident" id="7354036">NewReader</span><span class="op" id="7354045">(</span><span class="ident" id="7354046">tt</span><span class="op" id="7354048">.</span><span class="ident" id="7354049">compressed</span><span class="op" id="7354059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354063">zlib</span><span class="op" id="7354067">,</span>&nbsp;<span class="ident" id="7354069">err</span>&nbsp;<span class="op" id="7354073">:=</span>&nbsp;<span class="ident" id="7354076">NewReaderDict</span><span class="op" id="7354089">(</span><span class="ident" id="7354090">in</span><span class="op" id="7354092">,</span>&nbsp;<span class="ident" id="7354094">tt</span><span class="op" id="7354096">.</span><span class="ident" id="7354097">dict</span><span class="op" id="7354101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354105">if</span>&nbsp;<span class="ident" id="7354108">err</span>&nbsp;<span class="op" id="7354112">!=</span>&nbsp;<span class="ident" id="7354115">nil</span>&nbsp;<span class="op" id="7354119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354124">if</span>&nbsp;<span class="ident" id="7354127">err</span>&nbsp;<span class="op" id="7354131">!=</span>&nbsp;<span class="ident" id="7354134">tt</span><span class="op" id="7354136">.</span><span class="ident" id="7354137">err</span>&nbsp;<span class="op" id="7354141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354147">t</span><span class="op" id="7354148">.</span><span class="ident" id="7354149">Errorf</span><span class="op" id="7354155">(</span><span class="string" id="7354156">&#34;%s:&nbsp;NewReader:&nbsp;%s&#34;</span><span class="op" id="7354175">,</span>&nbsp;<span class="ident" id="7354177">tt</span><span class="op" id="7354179">.</span><span class="ident" id="7354180">desc</span><span class="op" id="7354184">,</span>&nbsp;<span class="ident" id="7354186">err</span><span class="op" id="7354189">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354199">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354214">defer</span>&nbsp;<span class="ident" id="7354220">zlib</span><span class="op" id="7354224">.</span><span class="ident" id="7354225">Close</span><span class="op" id="7354230">(</span><span class="op" id="7354231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354235">b</span><span class="op" id="7354236">.</span><span class="ident" id="7354237">Reset</span><span class="op" id="7354242">(</span><span class="op" id="7354243">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354247">n</span><span class="op" id="7354248">,</span>&nbsp;<span class="ident" id="7354250">err</span>&nbsp;<span class="op" id="7354254">:=</span>&nbsp;<span class="ident" id="7354257">io</span><span class="op" id="7354259">.</span><span class="ident" id="7354260">Copy</span><span class="op" id="7354264">(</span><span class="ident" id="7354265">b</span><span class="op" id="7354266">,</span>&nbsp;<span class="ident" id="7354268">zlib</span><span class="op" id="7354272">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354276">if</span>&nbsp;<span class="ident" id="7354279">err</span>&nbsp;<span class="op" id="7354283">!=</span>&nbsp;<span class="ident" id="7354286">nil</span>&nbsp;<span class="op" id="7354290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354295">if</span>&nbsp;<span class="ident" id="7354298">err</span>&nbsp;<span class="op" id="7354302">!=</span>&nbsp;<span class="ident" id="7354305">tt</span><span class="op" id="7354307">.</span><span class="ident" id="7354308">err</span>&nbsp;<span class="op" id="7354312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354318">t</span><span class="op" id="7354319">.</span><span class="ident" id="7354320">Errorf</span><span class="op" id="7354326">(</span><span class="string" id="7354327">&#34;%s:&nbsp;io.Copy:&nbsp;%v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7354352">,</span>&nbsp;<span class="ident" id="7354354">tt</span><span class="op" id="7354356">.</span><span class="ident" id="7354357">desc</span><span class="op" id="7354361">,</span>&nbsp;<span class="ident" id="7354363">err</span><span class="op" id="7354366">,</span>&nbsp;<span class="ident" id="7354368">tt</span><span class="op" id="7354370">.</span><span class="ident" id="7354371">err</span><span class="op" id="7354374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354379">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354384">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354399">s</span>&nbsp;<span class="op" id="7354401">:=</span>&nbsp;<span class="ident" id="7354404">b</span><span class="op" id="7354405">.</span><span class="ident" id="7354406">String</span><span class="op" id="7354412">(</span><span class="op" id="7354413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7354417">if</span>&nbsp;<span class="ident" id="7354420">s</span>&nbsp;<span class="op" id="7354422">!=</span>&nbsp;<span class="ident" id="7354425">tt</span><span class="op" id="7354427">.</span><span class="ident" id="7354428">raw</span>&nbsp;<span class="op" id="7354432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7354437">t</span><span class="op" id="7354438">.</span><span class="ident" id="7354439">Errorf</span><span class="op" id="7354445">(</span><span class="string" id="7354446">&#34;%s:&nbsp;got&nbsp;%d-byte&nbsp;%q&nbsp;want&nbsp;%d-byte&nbsp;%q&#34;</span><span class="op" id="7354482">,</span>&nbsp;<span class="ident" id="7354484">tt</span><span class="op" id="7354486">.</span><span class="ident" id="7354487">desc</span><span class="op" id="7354491">,</span>&nbsp;<span class="ident" id="7354493">n</span><span class="op" id="7354494">,</span>&nbsp;<span class="ident" id="7354496">s</span><span class="op" id="7354497">,</span>&nbsp;<span class="builtinfunc" id="7354499">len</span><span class="op" id="7354502">(</span><span class="ident" id="7354503">tt</span><span class="op" id="7354505">.</span><span class="ident" id="7354506">raw</span><span class="op" id="7354509">)</span><span class="op" id="7354510">,</span>&nbsp;<span class="ident" id="7354512">tt</span><span class="op" id="7354514">.</span><span class="ident" id="7354515">raw</span><span class="op" id="7354518">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7354525">}</span><br>
<span class="lineno"></span><span class="op" id="7354527">}</span>
</div>
</body>
</html>
