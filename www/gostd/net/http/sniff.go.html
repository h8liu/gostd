<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html" class="current">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1480261">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1480317">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1480371">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1480422">package</span>&nbsp;<span class="ident" id="1480430">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1480436">import</span>&nbsp;<span class="op" id="1480443">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1480446">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1480455">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span><span class="op" id="1480473">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1480476">//&nbsp;The&nbsp;algorithm&nbsp;uses&nbsp;at&nbsp;most&nbsp;sniffLen&nbsp;bytes&nbsp;to&nbsp;make&nbsp;its&nbsp;decision.</span><br>
<span class="lineno"></span><span class="keyword" id="1480543">const</span>&nbsp;<span class="ident" id="1480549">sniffLen</span>&nbsp;<span class="op" id="1480558">=</span>&nbsp;<span class="num" id="1480560">512</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="1480565">//&nbsp;DetectContentType&nbsp;implements&nbsp;the&nbsp;algorithm&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="1480621">//&nbsp;at&nbsp;http://mimesniff.spec.whatwg.org/&nbsp;to&nbsp;determine&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1480678">//&nbsp;Content-Type&nbsp;of&nbsp;the&nbsp;given&nbsp;data.&nbsp;&nbsp;It&nbsp;considers&nbsp;at&nbsp;most&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1480739">//&nbsp;first&nbsp;512&nbsp;bytes&nbsp;of&nbsp;data.&nbsp;&nbsp;DetectContentType&nbsp;always&nbsp;returns</span><br>
<span class="lineno"></span><span class="comment" id="1480801">//&nbsp;a&nbsp;valid&nbsp;MIME&nbsp;type:&nbsp;if&nbsp;it&nbsp;cannot&nbsp;determine&nbsp;a&nbsp;more&nbsp;specific&nbsp;one,&nbsp;it</span><br>
<span class="lineno">20</span><span class="comment" id="1480870">//&nbsp;returns&nbsp;&#34;application/octet-stream&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="1480909">func</span>&nbsp;<span class="ident" id="1480914">DetectContentType</span><span class="op" id="1480931">(</span><span class="ident" id="1480932">data</span>&nbsp;<span class="op" id="1480937">[</span><span class="op" id="1480938">]</span><span class="builtintype" id="1480939">byte</span><span class="op" id="1480943">)</span>&nbsp;<span class="builtintype" id="1480945">string</span>&nbsp;<span class="op" id="1480952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1480955">if</span>&nbsp;<span class="builtinfunc" id="1480958">len</span><span class="op" id="1480961">(</span><span class="ident" id="1480962">data</span><span class="op" id="1480966">)</span>&nbsp;<span class="op" id="1480968">&gt;</span>&nbsp;<span class="ident" id="1480970">sniffLen</span>&nbsp;<span class="op" id="1480979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1480983">data</span>&nbsp;<span class="op" id="1480988">=</span>&nbsp;<span class="ident" id="1480990">data</span><span class="op" id="1480994">[</span><span class="op" id="1480995">:</span><span class="ident" id="1480996">sniffLen</span><span class="op" id="1481004">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481007">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1481011">//&nbsp;Index&nbsp;of&nbsp;the&nbsp;first&nbsp;non-whitespace&nbsp;byte&nbsp;in&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481063">firstNonWS</span>&nbsp;<span class="op" id="1481074">:=</span>&nbsp;<span class="num" id="1481077">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481080">for</span>&nbsp;<span class="op" id="1481084">;</span>&nbsp;<span class="ident" id="1481086">firstNonWS</span>&nbsp;<span class="op" id="1481097">&lt;</span>&nbsp;<span class="builtinfunc" id="1481099">len</span><span class="op" id="1481102">(</span><span class="ident" id="1481103">data</span><span class="op" id="1481107">)</span>&nbsp;<span class="op" id="1481109">&amp;&amp;</span>&nbsp;<span class="ident" id="1481112">isWS</span><span class="op" id="1481116">(</span><span class="ident" id="1481117">data</span><span class="op" id="1481121">[</span><span class="ident" id="1481122">firstNonWS</span><span class="op" id="1481132">]</span><span class="op" id="1481133">)</span><span class="op" id="1481134">;</span>&nbsp;<span class="ident" id="1481136">firstNonWS</span><span class="op" id="1481146">++</span>&nbsp;<span class="op" id="1481149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481152">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481156">for</span>&nbsp;<span class="ident" id="1481160">_</span><span class="op" id="1481161">,</span>&nbsp;<span class="ident" id="1481163">sig</span>&nbsp;<span class="op" id="1481167">:=</span>&nbsp;<span class="keyword" id="1481170">range</span>&nbsp;<span class="ident" id="1481176">sniffSignatures</span>&nbsp;<span class="op" id="1481192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481196">if</span>&nbsp;<span class="ident" id="1481199">ct</span>&nbsp;<span class="op" id="1481202">:=</span>&nbsp;<span class="ident" id="1481205">sig</span><span class="op" id="1481208">.</span><span class="ident" id="1481209">match</span><span class="op" id="1481214">(</span><span class="ident" id="1481215">data</span><span class="op" id="1481219">,</span>&nbsp;<span class="ident" id="1481221">firstNonWS</span><span class="op" id="1481231">)</span><span class="op" id="1481232">;</span>&nbsp;<span class="ident" id="1481234">ct</span>&nbsp;<span class="op" id="1481237">!=</span>&nbsp;<span class="string" id="1481240">&#34;&#34;</span>&nbsp;<span class="op" id="1481243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481248">return</span>&nbsp;<span class="ident" id="1481255">ct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481260">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481263">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481267">return</span>&nbsp;<span class="string" id="1481274">&#34;application/octet-stream&#34;</span>&nbsp;<span class="comment" id="1481301">//&nbsp;fallback</span><br>
<span class="lineno"></span><span class="op" id="1481313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="1481316">func</span>&nbsp;<span class="ident" id="1481321">isWS</span><span class="op" id="1481325">(</span><span class="ident" id="1481326">b</span>&nbsp;<span class="builtintype" id="1481328">byte</span><span class="op" id="1481332">)</span>&nbsp;<span class="builtintype" id="1481334">bool</span>&nbsp;<span class="op" id="1481339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1481342">return</span>&nbsp;<span class="ident" id="1481349">bytes</span><span class="op" id="1481354">.</span><span class="ident" id="1481355">IndexByte</span><span class="op" id="1481364">(</span><span class="op" id="1481365">[</span><span class="op" id="1481366">]</span><span class="builtintype" id="1481367">byte</span><span class="op" id="1481371">(</span><span class="string" id="1481372">&#34;\t\n\x0C\r&nbsp;&#34;</span><span class="op" id="1481385">)</span><span class="op" id="1481386">,</span>&nbsp;<span class="ident" id="1481388">b</span><span class="op" id="1481389">)</span>&nbsp;<span class="op" id="1481391">!=</span>&nbsp;<span class="op" id="1481394">-</span><span class="num" id="1481395">1</span><br>
<span class="lineno"></span><span class="op" id="1481397">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1481400">type</span>&nbsp;<span class="ident" id="1481405">sniffSig</span>&nbsp;<span class="keyword" id="1481414">interface</span>&nbsp;<span class="op" id="1481424">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1481427">//&nbsp;match&nbsp;returns&nbsp;the&nbsp;MIME&nbsp;type&nbsp;of&nbsp;the&nbsp;data,&nbsp;or&nbsp;&#34;&#34;&nbsp;if&nbsp;unknown.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481490">match</span><span class="op" id="1481495">(</span><span class="ident" id="1481496">data</span>&nbsp;<span class="op" id="1481501">[</span><span class="op" id="1481502">]</span><span class="builtintype" id="1481503">byte</span><span class="op" id="1481507">,</span>&nbsp;<span class="ident" id="1481509">firstNonWS</span>&nbsp;<span class="builtintype" id="1481520">int</span><span class="op" id="1481523">)</span>&nbsp;<span class="builtintype" id="1481525">string</span><br>
<span class="lineno"></span><span class="op" id="1481532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1481535">//&nbsp;Data&nbsp;matching&nbsp;the&nbsp;table&nbsp;in&nbsp;section&nbsp;6.</span><br>
<span class="lineno">50</span><span class="keyword" id="1481576">var</span>&nbsp;<span class="ident" id="1481580">sniffSignatures</span>&nbsp;<span class="op" id="1481596">=</span>&nbsp;<span class="op" id="1481598">[</span><span class="op" id="1481599">]</span><span class="ident" id="1481600">sniffSig</span><span class="op" id="1481608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481611">htmlSig</span><span class="op" id="1481618">(</span><span class="string" id="1481619">&#34;&lt;!DOCTYPE&nbsp;HTML&#34;</span><span class="op" id="1481635">)</span><span class="op" id="1481636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481639">htmlSig</span><span class="op" id="1481646">(</span><span class="string" id="1481647">&#34;&lt;HTML&#34;</span><span class="op" id="1481654">)</span><span class="op" id="1481655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481658">htmlSig</span><span class="op" id="1481665">(</span><span class="string" id="1481666">&#34;&lt;HEAD&#34;</span><span class="op" id="1481673">)</span><span class="op" id="1481674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481677">htmlSig</span><span class="op" id="1481684">(</span><span class="string" id="1481685">&#34;&lt;SCRIPT&#34;</span><span class="op" id="1481694">)</span><span class="op" id="1481695">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481698">htmlSig</span><span class="op" id="1481705">(</span><span class="string" id="1481706">&#34;&lt;IFRAME&#34;</span><span class="op" id="1481715">)</span><span class="op" id="1481716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481719">htmlSig</span><span class="op" id="1481726">(</span><span class="string" id="1481727">&#34;&lt;H1&#34;</span><span class="op" id="1481732">)</span><span class="op" id="1481733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481736">htmlSig</span><span class="op" id="1481743">(</span><span class="string" id="1481744">&#34;&lt;DIV&#34;</span><span class="op" id="1481750">)</span><span class="op" id="1481751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481754">htmlSig</span><span class="op" id="1481761">(</span><span class="string" id="1481762">&#34;&lt;FONT&#34;</span><span class="op" id="1481769">)</span><span class="op" id="1481770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481773">htmlSig</span><span class="op" id="1481780">(</span><span class="string" id="1481781">&#34;&lt;TABLE&#34;</span><span class="op" id="1481789">)</span><span class="op" id="1481790">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481793">htmlSig</span><span class="op" id="1481800">(</span><span class="string" id="1481801">&#34;&lt;A&#34;</span><span class="op" id="1481805">)</span><span class="op" id="1481806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481809">htmlSig</span><span class="op" id="1481816">(</span><span class="string" id="1481817">&#34;&lt;STYLE&#34;</span><span class="op" id="1481825">)</span><span class="op" id="1481826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481829">htmlSig</span><span class="op" id="1481836">(</span><span class="string" id="1481837">&#34;&lt;TITLE&#34;</span><span class="op" id="1481845">)</span><span class="op" id="1481846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481849">htmlSig</span><span class="op" id="1481856">(</span><span class="string" id="1481857">&#34;&lt;B&#34;</span><span class="op" id="1481861">)</span><span class="op" id="1481862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481865">htmlSig</span><span class="op" id="1481872">(</span><span class="string" id="1481873">&#34;&lt;BODY&#34;</span><span class="op" id="1481880">)</span><span class="op" id="1481881">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481884">htmlSig</span><span class="op" id="1481891">(</span><span class="string" id="1481892">&#34;&lt;BR&#34;</span><span class="op" id="1481897">)</span><span class="op" id="1481898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481901">htmlSig</span><span class="op" id="1481908">(</span><span class="string" id="1481909">&#34;&lt;P&#34;</span><span class="op" id="1481913">)</span><span class="op" id="1481914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1481917">htmlSig</span><span class="op" id="1481924">(</span><span class="string" id="1481925">&#34;&lt;!--&#34;</span><span class="op" id="1481931">)</span><span class="op" id="1481932">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1481936">&amp;</span><span class="ident" id="1481937">maskedSig</span><span class="op" id="1481946">{</span><span class="ident" id="1481947">mask</span><span class="op" id="1481951">:</span>&nbsp;<span class="op" id="1481953">[</span><span class="op" id="1481954">]</span><span class="builtintype" id="1481955">byte</span><span class="op" id="1481959">(</span><span class="string" id="1481960">&#34;\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="1481982">)</span><span class="op" id="1481983">,</span>&nbsp;<span class="ident" id="1481985">pat</span><span class="op" id="1481988">:</span>&nbsp;<span class="op" id="1481990">[</span><span class="op" id="1481991">]</span><span class="builtintype" id="1481992">byte</span><span class="op" id="1481996">(</span><span class="string" id="1481997">&#34;&lt;?xml&#34;</span><span class="op" id="1482004">)</span><span class="op" id="1482005">,</span>&nbsp;<span class="ident" id="1482007">skipWS</span><span class="op" id="1482013">:</span>&nbsp;<span class="builtintype" id="1482015">true</span><span class="op" id="1482019">,</span>&nbsp;<span class="ident" id="1482021">ct</span><span class="op" id="1482023">:</span>&nbsp;<span class="string" id="1482025">&#34;text/xml;&nbsp;charset=utf-8&#34;</span><span class="op" id="1482050">}</span><span class="op" id="1482051">,</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482055">&amp;</span><span class="ident" id="1482056">exactSig</span><span class="op" id="1482064">{</span><span class="op" id="1482065">[</span><span class="op" id="1482066">]</span><span class="builtintype" id="1482067">byte</span><span class="op" id="1482071">(</span><span class="string" id="1482072">&#34;%PDF-&#34;</span><span class="op" id="1482079">)</span><span class="op" id="1482080">,</span>&nbsp;<span class="string" id="1482082">&#34;application/pdf&#34;</span><span class="op" id="1482099">}</span><span class="op" id="1482100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482103">&amp;</span><span class="ident" id="1482104">exactSig</span><span class="op" id="1482112">{</span><span class="op" id="1482113">[</span><span class="op" id="1482114">]</span><span class="builtintype" id="1482115">byte</span><span class="op" id="1482119">(</span><span class="string" id="1482120">&#34;%!PS-Adobe-&#34;</span><span class="op" id="1482133">)</span><span class="op" id="1482134">,</span>&nbsp;<span class="string" id="1482136">&#34;application/postscript&#34;</span><span class="op" id="1482160">}</span><span class="op" id="1482161">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1482165">//&nbsp;UTF&nbsp;BOMs.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482179">&amp;</span><span class="ident" id="1482180">maskedSig</span><span class="op" id="1482189">{</span><span class="ident" id="1482190">mask</span><span class="op" id="1482194">:</span>&nbsp;<span class="op" id="1482196">[</span><span class="op" id="1482197">]</span><span class="builtintype" id="1482198">byte</span><span class="op" id="1482202">(</span><span class="string" id="1482203">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="1482221">)</span><span class="op" id="1482222">,</span>&nbsp;<span class="ident" id="1482224">pat</span><span class="op" id="1482227">:</span>&nbsp;<span class="op" id="1482229">[</span><span class="op" id="1482230">]</span><span class="builtintype" id="1482231">byte</span><span class="op" id="1482235">(</span><span class="string" id="1482236">&#34;\xFE\xFF\x00\x00&#34;</span><span class="op" id="1482254">)</span><span class="op" id="1482255">,</span>&nbsp;<span class="ident" id="1482257">ct</span><span class="op" id="1482259">:</span>&nbsp;<span class="string" id="1482261">&#34;text/plain;&nbsp;charset=utf-16be&#34;</span><span class="op" id="1482291">}</span><span class="op" id="1482292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482295">&amp;</span><span class="ident" id="1482296">maskedSig</span><span class="op" id="1482305">{</span><span class="ident" id="1482306">mask</span><span class="op" id="1482310">:</span>&nbsp;<span class="op" id="1482312">[</span><span class="op" id="1482313">]</span><span class="builtintype" id="1482314">byte</span><span class="op" id="1482318">(</span><span class="string" id="1482319">&#34;\xFF\xFF\x00\x00&#34;</span><span class="op" id="1482337">)</span><span class="op" id="1482338">,</span>&nbsp;<span class="ident" id="1482340">pat</span><span class="op" id="1482343">:</span>&nbsp;<span class="op" id="1482345">[</span><span class="op" id="1482346">]</span><span class="builtintype" id="1482347">byte</span><span class="op" id="1482351">(</span><span class="string" id="1482352">&#34;\xFF\xFE\x00\x00&#34;</span><span class="op" id="1482370">)</span><span class="op" id="1482371">,</span>&nbsp;<span class="ident" id="1482373">ct</span><span class="op" id="1482375">:</span>&nbsp;<span class="string" id="1482377">&#34;text/plain;&nbsp;charset=utf-16le&#34;</span><span class="op" id="1482407">}</span><span class="op" id="1482408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482411">&amp;</span><span class="ident" id="1482412">maskedSig</span><span class="op" id="1482421">{</span><span class="ident" id="1482422">mask</span><span class="op" id="1482426">:</span>&nbsp;<span class="op" id="1482428">[</span><span class="op" id="1482429">]</span><span class="builtintype" id="1482430">byte</span><span class="op" id="1482434">(</span><span class="string" id="1482435">&#34;\xFF\xFF\xFF\x00&#34;</span><span class="op" id="1482453">)</span><span class="op" id="1482454">,</span>&nbsp;<span class="ident" id="1482456">pat</span><span class="op" id="1482459">:</span>&nbsp;<span class="op" id="1482461">[</span><span class="op" id="1482462">]</span><span class="builtintype" id="1482463">byte</span><span class="op" id="1482467">(</span><span class="string" id="1482468">&#34;\xEF\xBB\xBF\x00&#34;</span><span class="op" id="1482486">)</span><span class="op" id="1482487">,</span>&nbsp;<span class="ident" id="1482489">ct</span><span class="op" id="1482491">:</span>&nbsp;<span class="string" id="1482493">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><span class="op" id="1482520">}</span><span class="op" id="1482521">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482525">&amp;</span><span class="ident" id="1482526">exactSig</span><span class="op" id="1482534">{</span><span class="op" id="1482535">[</span><span class="op" id="1482536">]</span><span class="builtintype" id="1482537">byte</span><span class="op" id="1482541">(</span><span class="string" id="1482542">&#34;GIF87a&#34;</span><span class="op" id="1482550">)</span><span class="op" id="1482551">,</span>&nbsp;<span class="string" id="1482553">&#34;image/gif&#34;</span><span class="op" id="1482564">}</span><span class="op" id="1482565">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482568">&amp;</span><span class="ident" id="1482569">exactSig</span><span class="op" id="1482577">{</span><span class="op" id="1482578">[</span><span class="op" id="1482579">]</span><span class="builtintype" id="1482580">byte</span><span class="op" id="1482584">(</span><span class="string" id="1482585">&#34;GIF89a&#34;</span><span class="op" id="1482593">)</span><span class="op" id="1482594">,</span>&nbsp;<span class="string" id="1482596">&#34;image/gif&#34;</span><span class="op" id="1482607">}</span><span class="op" id="1482608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482611">&amp;</span><span class="ident" id="1482612">exactSig</span><span class="op" id="1482620">{</span><span class="op" id="1482621">[</span><span class="op" id="1482622">]</span><span class="builtintype" id="1482623">byte</span><span class="op" id="1482627">(</span><span class="string" id="1482628">&#34;\x89\x50\x4E\x47\x0D\x0A\x1A\x0A&#34;</span><span class="op" id="1482662">)</span><span class="op" id="1482663">,</span>&nbsp;<span class="string" id="1482665">&#34;image/png&#34;</span><span class="op" id="1482676">}</span><span class="op" id="1482677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482680">&amp;</span><span class="ident" id="1482681">exactSig</span><span class="op" id="1482689">{</span><span class="op" id="1482690">[</span><span class="op" id="1482691">]</span><span class="builtintype" id="1482692">byte</span><span class="op" id="1482696">(</span><span class="string" id="1482697">&#34;\xFF\xD8\xFF&#34;</span><span class="op" id="1482711">)</span><span class="op" id="1482712">,</span>&nbsp;<span class="string" id="1482714">&#34;image/jpeg&#34;</span><span class="op" id="1482726">}</span><span class="op" id="1482727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482730">&amp;</span><span class="ident" id="1482731">exactSig</span><span class="op" id="1482739">{</span><span class="op" id="1482740">[</span><span class="op" id="1482741">]</span><span class="builtintype" id="1482742">byte</span><span class="op" id="1482746">(</span><span class="string" id="1482747">&#34;BM&#34;</span><span class="op" id="1482751">)</span><span class="op" id="1482752">,</span>&nbsp;<span class="string" id="1482754">&#34;image/bmp&#34;</span><span class="op" id="1482765">}</span><span class="op" id="1482766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482769">&amp;</span><span class="ident" id="1482770">maskedSig</span><span class="op" id="1482779">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482783">mask</span><span class="op" id="1482787">:</span>&nbsp;<span class="op" id="1482789">[</span><span class="op" id="1482790">]</span><span class="builtintype" id="1482791">byte</span><span class="op" id="1482795">(</span><span class="string" id="1482796">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="1482854">)</span><span class="op" id="1482855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482859">pat</span><span class="op" id="1482862">:</span>&nbsp;&nbsp;<span class="op" id="1482865">[</span><span class="op" id="1482866">]</span><span class="builtintype" id="1482867">byte</span><span class="op" id="1482871">(</span><span class="string" id="1482872">&#34;RIFF\x00\x00\x00\x00WEBPVP&#34;</span><span class="op" id="1482900">)</span><span class="op" id="1482901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1482905">ct</span><span class="op" id="1482907">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="1482911">&#34;image/webp&#34;</span><span class="op" id="1482923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482926">}</span><span class="op" id="1482927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482930">&amp;</span><span class="ident" id="1482931">exactSig</span><span class="op" id="1482939">{</span><span class="op" id="1482940">[</span><span class="op" id="1482941">]</span><span class="builtintype" id="1482942">byte</span><span class="op" id="1482946">(</span><span class="string" id="1482947">&#34;\x00\x00\x01\x00&#34;</span><span class="op" id="1482965">)</span><span class="op" id="1482966">,</span>&nbsp;<span class="string" id="1482968">&#34;image/vnd.microsoft.icon&#34;</span><span class="op" id="1482994">}</span><span class="op" id="1482995">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1482998">&amp;</span><span class="ident" id="1482999">exactSig</span><span class="op" id="1483007">{</span><span class="op" id="1483008">[</span><span class="op" id="1483009">]</span><span class="builtintype" id="1483010">byte</span><span class="op" id="1483014">(</span><span class="string" id="1483015">&#34;\x4F\x67\x67\x53\x00&#34;</span><span class="op" id="1483037">)</span><span class="op" id="1483038">,</span>&nbsp;<span class="string" id="1483040">&#34;application/ogg&#34;</span><span class="op" id="1483057">}</span><span class="op" id="1483058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483061">&amp;</span><span class="ident" id="1483062">maskedSig</span><span class="op" id="1483071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483075">mask</span><span class="op" id="1483079">:</span>&nbsp;<span class="op" id="1483081">[</span><span class="op" id="1483082">]</span><span class="builtintype" id="1483083">byte</span><span class="op" id="1483087">(</span><span class="string" id="1483088">&#34;\xFF\xFF\xFF\xFF\x00\x00\x00\x00\xFF\xFF\xFF\xFF&#34;</span><span class="op" id="1483138">)</span><span class="op" id="1483139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483143">pat</span><span class="op" id="1483146">:</span>&nbsp;&nbsp;<span class="op" id="1483149">[</span><span class="op" id="1483150">]</span><span class="builtintype" id="1483151">byte</span><span class="op" id="1483155">(</span><span class="string" id="1483156">&#34;RIFF\x00\x00\x00\x00WAVE&#34;</span><span class="op" id="1483182">)</span><span class="op" id="1483183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483187">ct</span><span class="op" id="1483189">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="1483193">&#34;audio/wave&#34;</span><span class="op" id="1483205">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483208">}</span><span class="op" id="1483209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483212">&amp;</span><span class="ident" id="1483213">exactSig</span><span class="op" id="1483221">{</span><span class="op" id="1483222">[</span><span class="op" id="1483223">]</span><span class="builtintype" id="1483224">byte</span><span class="op" id="1483228">(</span><span class="string" id="1483229">&#34;\x1A\x45\xDF\xA3&#34;</span><span class="op" id="1483247">)</span><span class="op" id="1483248">,</span>&nbsp;<span class="string" id="1483250">&#34;video/webm&#34;</span><span class="op" id="1483262">}</span><span class="op" id="1483263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483266">&amp;</span><span class="ident" id="1483267">exactSig</span><span class="op" id="1483275">{</span><span class="op" id="1483276">[</span><span class="op" id="1483277">]</span><span class="builtintype" id="1483278">byte</span><span class="op" id="1483282">(</span><span class="string" id="1483283">&#34;\x52\x61\x72\x20\x1A\x07\x00&#34;</span><span class="op" id="1483313">)</span><span class="op" id="1483314">,</span>&nbsp;<span class="string" id="1483316">&#34;application/x-rar-compressed&#34;</span><span class="op" id="1483346">}</span><span class="op" id="1483347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483350">&amp;</span><span class="ident" id="1483351">exactSig</span><span class="op" id="1483359">{</span><span class="op" id="1483360">[</span><span class="op" id="1483361">]</span><span class="builtintype" id="1483362">byte</span><span class="op" id="1483366">(</span><span class="string" id="1483367">&#34;\x50\x4B\x03\x04&#34;</span><span class="op" id="1483385">)</span><span class="op" id="1483386">,</span>&nbsp;<span class="string" id="1483388">&#34;application/zip&#34;</span><span class="op" id="1483405">}</span><span class="op" id="1483406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483409">&amp;</span><span class="ident" id="1483410">exactSig</span><span class="op" id="1483418">{</span><span class="op" id="1483419">[</span><span class="op" id="1483420">]</span><span class="builtintype" id="1483421">byte</span><span class="op" id="1483425">(</span><span class="string" id="1483426">&#34;\x1F\x8B\x08&#34;</span><span class="op" id="1483440">)</span><span class="op" id="1483441">,</span>&nbsp;<span class="string" id="1483443">&#34;application/x-gzip&#34;</span><span class="op" id="1483463">}</span><span class="op" id="1483464">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1483468">//&nbsp;TODO(dsymonds):&nbsp;Re-enable&nbsp;this&nbsp;when&nbsp;the&nbsp;spec&nbsp;is&nbsp;sorted&nbsp;w.r.t.&nbsp;MP4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1483539">//mp4Sig(0),</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483554">textSig</span><span class="op" id="1483561">(</span><span class="num" id="1483562">0</span><span class="op" id="1483563">)</span><span class="op" id="1483564">,</span>&nbsp;<span class="comment" id="1483566">//&nbsp;should&nbsp;be&nbsp;last</span><br>
<span class="lineno">105</span><span class="op" id="1483584">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1483587">type</span>&nbsp;<span class="ident" id="1483592">exactSig</span>&nbsp;<span class="keyword" id="1483601">struct</span>&nbsp;<span class="op" id="1483608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483611">sig</span>&nbsp;<span class="op" id="1483615">[</span><span class="op" id="1483616">]</span><span class="builtintype" id="1483617">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483623">ct</span>&nbsp;&nbsp;<span class="builtintype" id="1483627">string</span><br>
<span class="lineno">110</span><span class="op" id="1483634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1483637">func</span>&nbsp;<span class="op" id="1483642">(</span><span class="ident" id="1483643">e</span>&nbsp;<span class="op" id="1483645">*</span><span class="ident" id="1483646">exactSig</span><span class="op" id="1483654">)</span>&nbsp;<span class="ident" id="1483656">match</span><span class="op" id="1483661">(</span><span class="ident" id="1483662">data</span>&nbsp;<span class="op" id="1483667">[</span><span class="op" id="1483668">]</span><span class="builtintype" id="1483669">byte</span><span class="op" id="1483673">,</span>&nbsp;<span class="ident" id="1483675">firstNonWS</span>&nbsp;<span class="builtintype" id="1483686">int</span><span class="op" id="1483689">)</span>&nbsp;<span class="builtintype" id="1483691">string</span>&nbsp;<span class="op" id="1483698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483701">if</span>&nbsp;<span class="ident" id="1483704">bytes</span><span class="op" id="1483709">.</span><span class="ident" id="1483710">HasPrefix</span><span class="op" id="1483719">(</span><span class="ident" id="1483720">data</span><span class="op" id="1483724">,</span>&nbsp;<span class="ident" id="1483726">e</span><span class="op" id="1483727">.</span><span class="ident" id="1483728">sig</span><span class="op" id="1483731">)</span>&nbsp;<span class="op" id="1483733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483737">return</span>&nbsp;<span class="ident" id="1483744">e</span><span class="op" id="1483745">.</span><span class="ident" id="1483746">ct</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483753">return</span>&nbsp;<span class="string" id="1483760">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="1483763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1483766">type</span>&nbsp;<span class="ident" id="1483771">maskedSig</span>&nbsp;<span class="keyword" id="1483781">struct</span>&nbsp;<span class="op" id="1483788">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483791">mask</span><span class="op" id="1483795">,</span>&nbsp;<span class="ident" id="1483797">pat</span>&nbsp;<span class="op" id="1483801">[</span><span class="op" id="1483802">]</span><span class="builtintype" id="1483803">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483809">skipWS</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1483819">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483825">ct</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="1483835">string</span><br>
<span class="lineno"></span><span class="op" id="1483842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="1483845">func</span>&nbsp;<span class="op" id="1483850">(</span><span class="ident" id="1483851">m</span>&nbsp;<span class="op" id="1483853">*</span><span class="ident" id="1483854">maskedSig</span><span class="op" id="1483863">)</span>&nbsp;<span class="ident" id="1483865">match</span><span class="op" id="1483870">(</span><span class="ident" id="1483871">data</span>&nbsp;<span class="op" id="1483876">[</span><span class="op" id="1483877">]</span><span class="builtintype" id="1483878">byte</span><span class="op" id="1483882">,</span>&nbsp;<span class="ident" id="1483884">firstNonWS</span>&nbsp;<span class="builtintype" id="1483895">int</span><span class="op" id="1483898">)</span>&nbsp;<span class="builtintype" id="1483900">string</span>&nbsp;<span class="op" id="1483907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483910">if</span>&nbsp;<span class="ident" id="1483913">m</span><span class="op" id="1483914">.</span><span class="ident" id="1483915">skipWS</span>&nbsp;<span class="op" id="1483922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1483926">data</span>&nbsp;<span class="op" id="1483931">=</span>&nbsp;<span class="ident" id="1483933">data</span><span class="op" id="1483937">[</span><span class="ident" id="1483938">firstNonWS</span><span class="op" id="1483948">:</span><span class="op" id="1483949">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483955">if</span>&nbsp;<span class="builtinfunc" id="1483958">len</span><span class="op" id="1483961">(</span><span class="ident" id="1483962">data</span><span class="op" id="1483966">)</span>&nbsp;<span class="op" id="1483968">&lt;</span>&nbsp;<span class="builtinfunc" id="1483970">len</span><span class="op" id="1483973">(</span><span class="ident" id="1483974">m</span><span class="op" id="1483975">.</span><span class="ident" id="1483976">mask</span><span class="op" id="1483980">)</span>&nbsp;<span class="op" id="1483982">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1483986">return</span>&nbsp;<span class="string" id="1483993">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1483997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484000">for</span>&nbsp;<span class="ident" id="1484004">i</span><span class="op" id="1484005">,</span>&nbsp;<span class="ident" id="1484007">mask</span>&nbsp;<span class="op" id="1484012">:=</span>&nbsp;<span class="keyword" id="1484015">range</span>&nbsp;<span class="ident" id="1484021">m</span><span class="op" id="1484022">.</span><span class="ident" id="1484023">mask</span>&nbsp;<span class="op" id="1484028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484032">db</span>&nbsp;<span class="op" id="1484035">:=</span>&nbsp;<span class="ident" id="1484038">data</span><span class="op" id="1484042">[</span><span class="ident" id="1484043">i</span><span class="op" id="1484044">]</span>&nbsp;<span class="op" id="1484046">&amp;</span>&nbsp;<span class="ident" id="1484048">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484055">if</span>&nbsp;<span class="ident" id="1484058">db</span>&nbsp;<span class="op" id="1484061">!=</span>&nbsp;<span class="ident" id="1484064">m</span><span class="op" id="1484065">.</span><span class="ident" id="1484066">pat</span><span class="op" id="1484069">[</span><span class="ident" id="1484070">i</span><span class="op" id="1484071">]</span>&nbsp;<span class="op" id="1484073">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484078">return</span>&nbsp;<span class="string" id="1484085">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484093">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484096">return</span>&nbsp;<span class="ident" id="1484103">m</span><span class="op" id="1484104">.</span><span class="ident" id="1484105">ct</span><br>
<span class="lineno"></span><span class="op" id="1484108">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="1484111">type</span>&nbsp;<span class="ident" id="1484116">htmlSig</span>&nbsp;<span class="op" id="1484124">[</span><span class="op" id="1484125">]</span><span class="builtintype" id="1484126">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1484132">func</span>&nbsp;<span class="op" id="1484137">(</span><span class="ident" id="1484138">h</span>&nbsp;<span class="ident" id="1484140">htmlSig</span><span class="op" id="1484147">)</span>&nbsp;<span class="ident" id="1484149">match</span><span class="op" id="1484154">(</span><span class="ident" id="1484155">data</span>&nbsp;<span class="op" id="1484160">[</span><span class="op" id="1484161">]</span><span class="builtintype" id="1484162">byte</span><span class="op" id="1484166">,</span>&nbsp;<span class="ident" id="1484168">firstNonWS</span>&nbsp;<span class="builtintype" id="1484179">int</span><span class="op" id="1484182">)</span>&nbsp;<span class="builtintype" id="1484184">string</span>&nbsp;<span class="op" id="1484191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484194">data</span>&nbsp;<span class="op" id="1484199">=</span>&nbsp;<span class="ident" id="1484201">data</span><span class="op" id="1484205">[</span><span class="ident" id="1484206">firstNonWS</span><span class="op" id="1484216">:</span><span class="op" id="1484217">]</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484220">if</span>&nbsp;<span class="builtinfunc" id="1484223">len</span><span class="op" id="1484226">(</span><span class="ident" id="1484227">data</span><span class="op" id="1484231">)</span>&nbsp;<span class="op" id="1484233">&lt;</span>&nbsp;<span class="builtinfunc" id="1484235">len</span><span class="op" id="1484238">(</span><span class="ident" id="1484239">h</span><span class="op" id="1484240">)</span><span class="op" id="1484241">+</span><span class="num" id="1484242">1</span>&nbsp;<span class="op" id="1484244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484248">return</span>&nbsp;<span class="string" id="1484255">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484262">for</span>&nbsp;<span class="ident" id="1484266">i</span><span class="op" id="1484267">,</span>&nbsp;<span class="ident" id="1484269">b</span>&nbsp;<span class="op" id="1484271">:=</span>&nbsp;<span class="keyword" id="1484274">range</span>&nbsp;<span class="ident" id="1484280">h</span>&nbsp;<span class="op" id="1484282">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484286">db</span>&nbsp;<span class="op" id="1484289">:=</span>&nbsp;<span class="ident" id="1484292">data</span><span class="op" id="1484296">[</span><span class="ident" id="1484297">i</span><span class="op" id="1484298">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484302">if</span>&nbsp;<span class="string" id="1484305">&#39;A&#39;</span>&nbsp;<span class="op" id="1484309">&lt;=</span>&nbsp;<span class="ident" id="1484312">b</span>&nbsp;<span class="op" id="1484314">&amp;&amp;</span>&nbsp;<span class="ident" id="1484317">b</span>&nbsp;<span class="op" id="1484319">&lt;=</span>&nbsp;<span class="string" id="1484322">&#39;Z&#39;</span>&nbsp;<span class="op" id="1484326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484331">db</span>&nbsp;<span class="op" id="1484334">&amp;=</span>&nbsp;<span class="num" id="1484337">0xDF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484348">if</span>&nbsp;<span class="ident" id="1484351">b</span>&nbsp;<span class="op" id="1484353">!=</span>&nbsp;<span class="ident" id="1484356">db</span>&nbsp;<span class="op" id="1484359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484364">return</span>&nbsp;<span class="string" id="1484371">&#34;&#34;</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484382">//&nbsp;Next&nbsp;byte&nbsp;must&nbsp;be&nbsp;space&nbsp;or&nbsp;right&nbsp;angle&nbsp;bracket.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484434">if</span>&nbsp;<span class="ident" id="1484437">db</span>&nbsp;<span class="op" id="1484440">:=</span>&nbsp;<span class="ident" id="1484443">data</span><span class="op" id="1484447">[</span><span class="builtinfunc" id="1484448">len</span><span class="op" id="1484451">(</span><span class="ident" id="1484452">h</span><span class="op" id="1484453">)</span><span class="op" id="1484454">]</span><span class="op" id="1484455">;</span>&nbsp;<span class="ident" id="1484457">db</span>&nbsp;<span class="op" id="1484460">!=</span>&nbsp;<span class="string" id="1484463">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="1484467">&amp;&amp;</span>&nbsp;<span class="ident" id="1484470">db</span>&nbsp;<span class="op" id="1484473">!=</span>&nbsp;<span class="string" id="1484476">&#39;&gt;&#39;</span>&nbsp;<span class="op" id="1484480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484484">return</span>&nbsp;<span class="string" id="1484491">&#34;&#34;</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484495">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484498">return</span>&nbsp;<span class="string" id="1484505">&#34;text/html;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1484532">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1484535">type</span>&nbsp;<span class="ident" id="1484540">mp4Sig</span>&nbsp;<span class="builtintype" id="1484547">int</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="1484552">func</span>&nbsp;<span class="op" id="1484557">(</span><span class="ident" id="1484558">mp4Sig</span><span class="op" id="1484564">)</span>&nbsp;<span class="ident" id="1484566">match</span><span class="op" id="1484571">(</span><span class="ident" id="1484572">data</span>&nbsp;<span class="op" id="1484577">[</span><span class="op" id="1484578">]</span><span class="builtintype" id="1484579">byte</span><span class="op" id="1484583">,</span>&nbsp;<span class="ident" id="1484585">firstNonWS</span>&nbsp;<span class="builtintype" id="1484596">int</span><span class="op" id="1484599">)</span>&nbsp;<span class="builtintype" id="1484601">string</span>&nbsp;<span class="op" id="1484608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484611">//&nbsp;c.f.&nbsp;section&nbsp;6.1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484633">if</span>&nbsp;<span class="builtinfunc" id="1484636">len</span><span class="op" id="1484639">(</span><span class="ident" id="1484640">data</span><span class="op" id="1484644">)</span>&nbsp;<span class="op" id="1484646">&lt;</span>&nbsp;<span class="num" id="1484648">8</span>&nbsp;<span class="op" id="1484650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484654">return</span>&nbsp;<span class="string" id="1484661">&#34;&#34;</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484668">boxSize</span>&nbsp;<span class="op" id="1484676">:=</span>&nbsp;<span class="builtintype" id="1484679">int</span><span class="op" id="1484682">(</span><span class="ident" id="1484683">binary</span><span class="op" id="1484689">.</span><span class="ident" id="1484690">BigEndian</span><span class="op" id="1484699">.</span><span class="ident" id="1484700">Uint32</span><span class="op" id="1484706">(</span><span class="ident" id="1484707">data</span><span class="op" id="1484711">[</span><span class="op" id="1484712">:</span><span class="num" id="1484713">4</span><span class="op" id="1484714">]</span><span class="op" id="1484715">)</span><span class="op" id="1484716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484719">if</span>&nbsp;<span class="ident" id="1484722">boxSize</span><span class="op" id="1484729">%</span><span class="num" id="1484730">4</span>&nbsp;<span class="op" id="1484732">!=</span>&nbsp;<span class="num" id="1484735">0</span>&nbsp;<span class="op" id="1484737">||</span>&nbsp;<span class="builtinfunc" id="1484740">len</span><span class="op" id="1484743">(</span><span class="ident" id="1484744">data</span><span class="op" id="1484748">)</span>&nbsp;<span class="op" id="1484750">&lt;</span>&nbsp;<span class="ident" id="1484752">boxSize</span>&nbsp;<span class="op" id="1484760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484764">return</span>&nbsp;<span class="string" id="1484771">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484775">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484778">if</span>&nbsp;<span class="op" id="1484781">!</span><span class="ident" id="1484782">bytes</span><span class="op" id="1484787">.</span><span class="ident" id="1484788">Equal</span><span class="op" id="1484793">(</span><span class="ident" id="1484794">data</span><span class="op" id="1484798">[</span><span class="num" id="1484799">4</span><span class="op" id="1484800">:</span><span class="num" id="1484801">8</span><span class="op" id="1484802">]</span><span class="op" id="1484803">,</span>&nbsp;<span class="op" id="1484805">[</span><span class="op" id="1484806">]</span><span class="builtintype" id="1484807">byte</span><span class="op" id="1484811">(</span><span class="string" id="1484812">&#34;ftyp&#34;</span><span class="op" id="1484818">)</span><span class="op" id="1484819">)</span>&nbsp;<span class="op" id="1484821">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484825">return</span>&nbsp;<span class="string" id="1484832">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484839">for</span>&nbsp;<span class="ident" id="1484843">st</span>&nbsp;<span class="op" id="1484846">:=</span>&nbsp;<span class="num" id="1484849">8</span><span class="op" id="1484850">;</span>&nbsp;<span class="ident" id="1484852">st</span>&nbsp;<span class="op" id="1484855">&lt;</span>&nbsp;<span class="ident" id="1484857">boxSize</span><span class="op" id="1484864">;</span>&nbsp;<span class="ident" id="1484866">st</span>&nbsp;<span class="op" id="1484869">+=</span>&nbsp;<span class="num" id="1484872">4</span>&nbsp;<span class="op" id="1484874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484878">if</span>&nbsp;<span class="ident" id="1484881">st</span>&nbsp;<span class="op" id="1484884">==</span>&nbsp;<span class="num" id="1484887">12</span>&nbsp;<span class="op" id="1484890">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1484895">//&nbsp;minor&nbsp;version&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484922">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1484933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1484937">seg</span>&nbsp;<span class="op" id="1484941">:=</span>&nbsp;<span class="builtintype" id="1484944">string</span><span class="op" id="1484950">(</span><span class="ident" id="1484951">data</span><span class="op" id="1484955">[</span><span class="ident" id="1484956">st</span>&nbsp;<span class="op" id="1484959">:</span>&nbsp;<span class="ident" id="1484961">st</span><span class="op" id="1484963">+</span><span class="num" id="1484964">3</span><span class="op" id="1484965">]</span><span class="op" id="1484966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484970">switch</span>&nbsp;<span class="ident" id="1484977">seg</span>&nbsp;<span class="op" id="1484981">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1484985">case</span>&nbsp;<span class="string" id="1484990">&#34;mp4&#34;</span><span class="op" id="1484995">,</span>&nbsp;<span class="string" id="1484997">&#34;iso&#34;</span><span class="op" id="1485002">,</span>&nbsp;<span class="string" id="1485004">&#34;M4V&#34;</span><span class="op" id="1485009">,</span>&nbsp;<span class="string" id="1485011">&#34;M4P&#34;</span><span class="op" id="1485016">,</span>&nbsp;<span class="string" id="1485018">&#34;M4B&#34;</span><span class="op" id="1485023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485028">return</span>&nbsp;<span class="string" id="1485035">&#34;video/mp4&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1485050">/*&nbsp;The&nbsp;remainder&nbsp;are&nbsp;not&nbsp;in&nbsp;the&nbsp;spec.<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;M4A&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;audio/mp4&#34;<br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;3gp&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;video/3gpp&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcase&nbsp;&#34;jp2&#34;:<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspreturn&nbsp;&#34;image/jp2&#34;&nbsp;//&nbsp;JPEG&nbsp;2000<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp*/</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485230">return</span>&nbsp;<span class="string" id="1485237">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="1485240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="1485243">type</span>&nbsp;<span class="ident" id="1485248">textSig</span>&nbsp;<span class="builtintype" id="1485256">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1485261">func</span>&nbsp;<span class="op" id="1485266">(</span><span class="ident" id="1485267">textSig</span><span class="op" id="1485274">)</span>&nbsp;<span class="ident" id="1485276">match</span><span class="op" id="1485281">(</span><span class="ident" id="1485282">data</span>&nbsp;<span class="op" id="1485287">[</span><span class="op" id="1485288">]</span><span class="builtintype" id="1485289">byte</span><span class="op" id="1485293">,</span>&nbsp;<span class="ident" id="1485295">firstNonWS</span>&nbsp;<span class="builtintype" id="1485306">int</span><span class="op" id="1485309">)</span>&nbsp;<span class="builtintype" id="1485311">string</span>&nbsp;<span class="op" id="1485318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1485321">//&nbsp;c.f.&nbsp;section&nbsp;5,&nbsp;step&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485349">for</span>&nbsp;<span class="ident" id="1485353">_</span><span class="op" id="1485354">,</span>&nbsp;<span class="ident" id="1485356">b</span>&nbsp;<span class="op" id="1485358">:=</span>&nbsp;<span class="keyword" id="1485361">range</span>&nbsp;<span class="ident" id="1485367">data</span><span class="op" id="1485371">[</span><span class="ident" id="1485372">firstNonWS</span><span class="op" id="1485382">:</span><span class="op" id="1485383">]</span>&nbsp;<span class="op" id="1485385">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485389">switch</span>&nbsp;<span class="op" id="1485396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485400">case</span>&nbsp;<span class="num" id="1485405">0x00</span>&nbsp;<span class="op" id="1485410">&lt;=</span>&nbsp;<span class="ident" id="1485413">b</span>&nbsp;<span class="op" id="1485415">&amp;&amp;</span>&nbsp;<span class="ident" id="1485418">b</span>&nbsp;<span class="op" id="1485420">&lt;=</span>&nbsp;<span class="num" id="1485423">0x08</span><span class="op" id="1485427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1485432">b</span>&nbsp;<span class="op" id="1485434">==</span>&nbsp;<span class="num" id="1485437">0x0B</span><span class="op" id="1485441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1485446">0x0E</span>&nbsp;<span class="op" id="1485451">&lt;=</span>&nbsp;<span class="ident" id="1485454">b</span>&nbsp;<span class="op" id="1485456">&amp;&amp;</span>&nbsp;<span class="ident" id="1485459">b</span>&nbsp;<span class="op" id="1485461">&lt;=</span>&nbsp;<span class="num" id="1485464">0x1A</span><span class="op" id="1485468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="1485473">0x1C</span>&nbsp;<span class="op" id="1485478">&lt;=</span>&nbsp;<span class="ident" id="1485481">b</span>&nbsp;<span class="op" id="1485483">&amp;&amp;</span>&nbsp;<span class="ident" id="1485486">b</span>&nbsp;<span class="op" id="1485488">&lt;=</span>&nbsp;<span class="num" id="1485491">0x1F</span><span class="op" id="1485495">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485500">return</span>&nbsp;<span class="string" id="1485507">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1485515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1485518">return</span>&nbsp;<span class="string" id="1485525">&#34;text/plain;&nbsp;charset=utf-8&#34;</span><br>
<span class="lineno"></span><span class="op" id="1485553">}</span>
</div>
</body>
</html>
