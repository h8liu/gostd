<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5061669">package</span>&nbsp;<span class="ident" id="5061677">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5061684">import</span>&nbsp;<span class="op" id="5061691">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5061694">&#34;io&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5061699">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5061702">//&nbsp;Machine&nbsp;is&nbsp;a&nbsp;multicore&nbsp;shared&nbsp;memory&nbsp;simulated&nbsp;arch8&nbsp;machine.</span><br>
<span class="lineno"></span><span class="keyword" id="5061767">type</span>&nbsp;<span class="ident" id="5061772">Machine</span>&nbsp;<span class="keyword" id="5061780">struct</span>&nbsp;<span class="op" id="5061787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061790">phyMem</span>&nbsp;&nbsp;<span class="op" id="5061798">*</span><span class="ident" id="5061799">phyMemory</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061810">inst</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5061818">inst</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061824">cores</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5061832">*</span><span class="ident" id="5061833">multiCore</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061844">serial</span>&nbsp;&nbsp;<span class="op" id="5061852">*</span><span class="ident" id="5061853">serial</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061861">console</span>&nbsp;<span class="op" id="5061869">*</span><span class="ident" id="5061870">console</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5061880">devices</span>&nbsp;<span class="op" id="5061888">[</span><span class="op" id="5061889">]</span><span class="ident" id="5061890">device</span><br>
<span class="lineno"></span><span class="op" id="5061897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5061900">//&nbsp;NewMachine&nbsp;creates&nbsp;a&nbsp;machine&nbsp;with&nbsp;memory&nbsp;and&nbsp;cores.</span><br>
<span class="lineno"></span><span class="keyword" id="5061955">func</span>&nbsp;<span class="ident" id="5061960">NewMachine</span><span class="op" id="5061970">(</span><span class="ident" id="5061971">memSize</span>&nbsp;<span class="builtintype" id="5061979">uint32</span><span class="op" id="5061985">,</span>&nbsp;<span class="ident" id="5061987">ncore</span>&nbsp;<span class="builtintype" id="5061993">int</span><span class="op" id="5061996">)</span>&nbsp;<span class="op" id="5061998">*</span><span class="ident" id="5061999">Machine</span>&nbsp;<span class="op" id="5062007">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062010">ret</span>&nbsp;<span class="op" id="5062014">:=</span>&nbsp;<span class="builtinfunc" id="5062017">new</span><span class="op" id="5062020">(</span><span class="ident" id="5062021">Machine</span><span class="op" id="5062028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062031">ret</span><span class="op" id="5062034">.</span><span class="ident" id="5062035">phyMem</span>&nbsp;<span class="op" id="5062042">=</span>&nbsp;<span class="ident" id="5062044">newPhyMemory</span><span class="op" id="5062056">(</span><span class="ident" id="5062057">memSize</span><span class="op" id="5062064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062067">ret</span><span class="op" id="5062070">.</span><span class="ident" id="5062071">inst</span>&nbsp;<span class="op" id="5062076">=</span>&nbsp;<span class="builtinfunc" id="5062078">new</span><span class="op" id="5062081">(</span><span class="ident" id="5062082">instArch8</span><span class="op" id="5062091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062094">ret</span><span class="op" id="5062097">.</span><span class="ident" id="5062098">cores</span>&nbsp;<span class="op" id="5062104">=</span>&nbsp;<span class="ident" id="5062106">newMultiCore</span><span class="op" id="5062118">(</span><span class="ident" id="5062119">ncore</span><span class="op" id="5062124">,</span>&nbsp;<span class="ident" id="5062126">ret</span><span class="op" id="5062129">.</span><span class="ident" id="5062130">phyMem</span><span class="op" id="5062136">,</span>&nbsp;<span class="ident" id="5062138">ret</span><span class="op" id="5062141">.</span><span class="ident" id="5062142">inst</span><span class="op" id="5062146">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5062150">//&nbsp;hook-up&nbsp;devices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062170">p</span>&nbsp;<span class="op" id="5062172">:=</span>&nbsp;<span class="ident" id="5062175">ret</span><span class="op" id="5062178">.</span><span class="ident" id="5062179">phyMem</span><span class="op" id="5062185">.</span><span class="ident" id="5062186">Page</span><span class="op" id="5062190">(</span><span class="ident" id="5062191">pageBasicIO</span><span class="op" id="5062202">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062206">ret</span><span class="op" id="5062209">.</span><span class="ident" id="5062210">serial</span>&nbsp;<span class="op" id="5062217">=</span>&nbsp;<span class="ident" id="5062219">newSerial</span><span class="op" id="5062228">(</span><span class="ident" id="5062229">p</span><span class="op" id="5062230">,</span>&nbsp;<span class="ident" id="5062232">ret</span><span class="op" id="5062235">.</span><span class="ident" id="5062236">cores</span><span class="op" id="5062241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062244">ret</span><span class="op" id="5062247">.</span><span class="ident" id="5062248">console</span>&nbsp;<span class="op" id="5062256">=</span>&nbsp;<span class="ident" id="5062258">newConsole</span><span class="op" id="5062268">(</span><span class="ident" id="5062269">p</span><span class="op" id="5062270">,</span>&nbsp;<span class="ident" id="5062272">ret</span><span class="op" id="5062275">.</span><span class="ident" id="5062276">cores</span><span class="op" id="5062281">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062285">ret</span><span class="op" id="5062288">.</span><span class="ident" id="5062289">addDevice</span><span class="op" id="5062298">(</span><span class="ident" id="5062299">newTicker</span><span class="op" id="5062308">(</span><span class="ident" id="5062309">ret</span><span class="op" id="5062312">.</span><span class="ident" id="5062313">cores</span><span class="op" id="5062318">)</span><span class="op" id="5062319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062322">ret</span><span class="op" id="5062325">.</span><span class="ident" id="5062326">addDevice</span><span class="op" id="5062335">(</span><span class="ident" id="5062336">ret</span><span class="op" id="5062339">.</span><span class="ident" id="5062340">serial</span><span class="op" id="5062346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062349">ret</span><span class="op" id="5062352">.</span><span class="ident" id="5062353">addDevice</span><span class="op" id="5062362">(</span><span class="ident" id="5062363">ret</span><span class="op" id="5062366">.</span><span class="ident" id="5062367">console</span><span class="op" id="5062374">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062378">return</span>&nbsp;<span class="ident" id="5062385">ret</span><br>
<span class="lineno"></span><span class="op" id="5062389">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5062392">//&nbsp;SetOutput&nbsp;sets&nbsp;the&nbsp;output&nbsp;writer&nbsp;of&nbsp;the&nbsp;machine&#39;s&nbsp;serial</span><br>
<span class="lineno"></span><span class="comment" id="5062452">//&nbsp;console.</span><br>
<span class="lineno">40</span><span class="keyword" id="5062464">func</span>&nbsp;<span class="op" id="5062469">(</span><span class="ident" id="5062470">m</span>&nbsp;<span class="op" id="5062472">*</span><span class="ident" id="5062473">Machine</span><span class="op" id="5062480">)</span>&nbsp;<span class="ident" id="5062482">SetOutput</span><span class="op" id="5062491">(</span><span class="ident" id="5062492">w</span>&nbsp;<span class="ident" id="5062494">io</span><span class="op" id="5062496">.</span><span class="ident" id="5062497">Writer</span><span class="op" id="5062503">)</span>&nbsp;<span class="op" id="5062505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062508">m</span><span class="op" id="5062509">.</span><span class="ident" id="5062510">serial</span><span class="op" id="5062516">.</span><span class="ident" id="5062517">Output</span>&nbsp;<span class="op" id="5062524">=</span>&nbsp;<span class="ident" id="5062526">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062529">m</span><span class="op" id="5062530">.</span><span class="ident" id="5062531">console</span><span class="op" id="5062538">.</span><span class="ident" id="5062539">Output</span>&nbsp;<span class="op" id="5062546">=</span>&nbsp;<span class="ident" id="5062548">w</span><br>
<span class="lineno"></span><span class="op" id="5062550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="5062553">//&nbsp;AddDevice&nbsp;adds&nbsp;a&nbsp;devices&nbsp;to&nbsp;the&nbsp;machine.</span><br>
<span class="lineno"></span><span class="keyword" id="5062597">func</span>&nbsp;<span class="op" id="5062602">(</span><span class="ident" id="5062603">m</span>&nbsp;<span class="op" id="5062605">*</span><span class="ident" id="5062606">Machine</span><span class="op" id="5062613">)</span>&nbsp;<span class="ident" id="5062615">addDevice</span><span class="op" id="5062624">(</span><span class="ident" id="5062625">d</span>&nbsp;<span class="ident" id="5062627">device</span><span class="op" id="5062633">)</span>&nbsp;<span class="op" id="5062635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062638">m</span><span class="op" id="5062639">.</span><span class="ident" id="5062640">devices</span>&nbsp;<span class="op" id="5062648">=</span>&nbsp;<span class="builtinfunc" id="5062650">append</span><span class="op" id="5062656">(</span><span class="ident" id="5062657">m</span><span class="op" id="5062658">.</span><span class="ident" id="5062659">devices</span><span class="op" id="5062666">,</span>&nbsp;<span class="ident" id="5062668">d</span><span class="op" id="5062669">)</span><br>
<span class="lineno"></span><span class="op" id="5062671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5062674">//&nbsp;Tick&nbsp;proceeds&nbsp;the&nbsp;simulation&nbsp;by&nbsp;one&nbsp;tick.</span><br>
<span class="lineno"></span><span class="keyword" id="5062719">func</span>&nbsp;<span class="op" id="5062724">(</span><span class="ident" id="5062725">m</span>&nbsp;<span class="op" id="5062727">*</span><span class="ident" id="5062728">Machine</span><span class="op" id="5062735">)</span>&nbsp;<span class="ident" id="5062737">Tick</span><span class="op" id="5062741">(</span><span class="op" id="5062742">)</span>&nbsp;<span class="op" id="5062744">*</span><span class="ident" id="5062745">CoreExcep</span>&nbsp;<span class="op" id="5062755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062758">for</span>&nbsp;<span class="ident" id="5062762">_</span><span class="op" id="5062763">,</span>&nbsp;<span class="ident" id="5062765">d</span>&nbsp;<span class="op" id="5062767">:=</span>&nbsp;<span class="keyword" id="5062770">range</span>&nbsp;<span class="ident" id="5062776">m</span><span class="op" id="5062777">.</span><span class="ident" id="5062778">devices</span>&nbsp;<span class="op" id="5062786">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5062790">d</span><span class="op" id="5062791">.</span><span class="ident" id="5062792">Tick</span><span class="op" id="5062796">(</span><span class="op" id="5062797">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5062800">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5062804">return</span>&nbsp;<span class="ident" id="5062811">m</span><span class="op" id="5062812">.</span><span class="ident" id="5062813">cores</span><span class="op" id="5062818">.</span><span class="ident" id="5062819">Tick</span><span class="op" id="5062823">(</span><span class="op" id="5062824">)</span><br>
<span class="lineno"></span><span class="op" id="5062826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5062829">//&nbsp;Run&nbsp;simulates&nbsp;nticks.&nbsp;It&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;ticks</span><br>
<span class="lineno">60</span><span class="comment" id="5062885">//&nbsp;simulated&nbsp;without&nbsp;error,&nbsp;and&nbsp;the&nbsp;first&nbsp;met&nbsp;error&nbsp;if&nbsp;any.</span><br>
<span class="lineno"></span><span class="keyword" id="5062945">func</span>&nbsp;<span class="op" id="5062950">(</span><span class="ident" id="5062951">m</span>&nbsp;<span class="op" id="5062953">*</span><span class="ident" id="5062954">Machine</span><span class="op" id="5062961">)</span>&nbsp;<span class="ident" id="5062963">Run</span><span class="op" id="5062966">(</span><span class="ident" id="5062967">nticks</span>&nbsp;<span class="builtintype" id="5062974">int</span><span class="op" id="5062977">)</span>&nbsp;<span class="op" id="5062979">(</span><span class="builtintype" id="5062980">int</span><span class="op" id="5062983">,</span>&nbsp;<span class="op" id="5062985">*</span><span class="ident" id="5062986">CoreExcep</span><span class="op" id="5062995">)</span>&nbsp;<span class="op" id="5062997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063000">n</span>&nbsp;<span class="op" id="5063002">:=</span>&nbsp;<span class="num" id="5063005">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063008">for</span>&nbsp;<span class="ident" id="5063012">i</span>&nbsp;<span class="op" id="5063014">:=</span>&nbsp;<span class="num" id="5063017">0</span><span class="op" id="5063018">;</span>&nbsp;<span class="ident" id="5063020">nticks</span>&nbsp;<span class="op" id="5063027">==</span>&nbsp;<span class="num" id="5063030">0</span>&nbsp;<span class="op" id="5063032">||</span>&nbsp;<span class="ident" id="5063035">i</span>&nbsp;<span class="op" id="5063037">&lt;</span>&nbsp;<span class="ident" id="5063039">nticks</span><span class="op" id="5063045">;</span>&nbsp;<span class="ident" id="5063047">i</span><span class="op" id="5063048">++</span>&nbsp;<span class="op" id="5063051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063055">e</span>&nbsp;<span class="op" id="5063057">:=</span>&nbsp;<span class="ident" id="5063060">m</span><span class="op" id="5063061">.</span><span class="ident" id="5063062">Tick</span><span class="op" id="5063066">(</span><span class="op" id="5063067">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063071">n</span><span class="op" id="5063072">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063077">if</span>&nbsp;<span class="ident" id="5063080">e</span>&nbsp;<span class="op" id="5063082">!=</span>&nbsp;<span class="ident" id="5063085">nil</span>&nbsp;<span class="op" id="5063089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063094">return</span>&nbsp;<span class="ident" id="5063101">n</span><span class="op" id="5063102">,</span>&nbsp;<span class="ident" id="5063104">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063108">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063111">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063115">return</span>&nbsp;<span class="ident" id="5063122">n</span><span class="op" id="5063123">,</span>&nbsp;<span class="ident" id="5063125">nil</span><br>
<span class="lineno"></span><span class="op" id="5063129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5063132">//&nbsp;LoadImage&nbsp;loads&nbsp;an&nbsp;booting&nbsp;image&nbsp;from&nbsp;a&nbsp;reader&nbsp;and&nbsp;put&nbsp;it</span><br>
<span class="lineno">75</span><span class="comment" id="5063193">//&nbsp;at&nbsp;a&nbsp;particular&nbsp;offset&nbsp;in&nbsp;the&nbsp;physical&nbsp;memory.</span><br>
<span class="lineno"></span><span class="keyword" id="5063243">func</span>&nbsp;<span class="op" id="5063248">(</span><span class="ident" id="5063249">m</span>&nbsp;<span class="op" id="5063251">*</span><span class="ident" id="5063252">Machine</span><span class="op" id="5063259">)</span>&nbsp;<span class="ident" id="5063261">LoadImage</span><span class="op" id="5063270">(</span><span class="ident" id="5063271">r</span>&nbsp;<span class="ident" id="5063273">io</span><span class="op" id="5063275">.</span><span class="ident" id="5063276">Reader</span><span class="op" id="5063282">,</span>&nbsp;<span class="ident" id="5063284">offset</span>&nbsp;<span class="builtintype" id="5063291">uint32</span><span class="op" id="5063297">)</span>&nbsp;<span class="builtintype" id="5063299">error</span>&nbsp;<span class="op" id="5063305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063308">if</span>&nbsp;<span class="ident" id="5063311">offset</span><span class="op" id="5063317">%</span><span class="ident" id="5063318">PageSize</span>&nbsp;<span class="op" id="5063327">!=</span>&nbsp;<span class="num" id="5063330">0</span>&nbsp;<span class="op" id="5063332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5063336">panic</span><span class="op" id="5063341">(</span><span class="string" id="5063342">&#34;boot&nbsp;image&nbsp;not&nbsp;page&nbsp;aligned&#34;</span><span class="op" id="5063371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063374">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063378">pn</span>&nbsp;<span class="op" id="5063381">:=</span>&nbsp;<span class="ident" id="5063384">offset</span>&nbsp;<span class="op" id="5063391">/</span>&nbsp;<span class="ident" id="5063393">PageSize</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063404">for</span>&nbsp;<span class="op" id="5063408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063412">p</span>&nbsp;<span class="op" id="5063414">:=</span>&nbsp;<span class="ident" id="5063417">m</span><span class="op" id="5063418">.</span><span class="ident" id="5063419">phyMem</span><span class="op" id="5063425">.</span><span class="ident" id="5063426">Page</span><span class="op" id="5063430">(</span><span class="ident" id="5063431">pn</span><span class="op" id="5063433">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063437">if</span>&nbsp;<span class="ident" id="5063440">p</span>&nbsp;<span class="op" id="5063442">==</span>&nbsp;<span class="ident" id="5063445">nil</span>&nbsp;<span class="op" id="5063449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063454">return</span>&nbsp;<span class="ident" id="5063461">errOutOfRange</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063477">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063481">_</span><span class="op" id="5063482">,</span>&nbsp;<span class="ident" id="5063484">e</span>&nbsp;<span class="op" id="5063486">:=</span>&nbsp;<span class="ident" id="5063489">r</span><span class="op" id="5063490">.</span><span class="ident" id="5063491">Read</span><span class="op" id="5063495">(</span><span class="ident" id="5063496">p</span><span class="op" id="5063497">.</span><span class="ident" id="5063498">Bytes</span><span class="op" id="5063503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063507">if</span>&nbsp;<span class="ident" id="5063510">e</span>&nbsp;<span class="op" id="5063512">==</span>&nbsp;<span class="ident" id="5063515">io</span><span class="op" id="5063517">.</span><span class="ident" id="5063518">EOF</span>&nbsp;<span class="op" id="5063522">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063527">return</span>&nbsp;<span class="ident" id="5063534">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063540">}</span>&nbsp;<span class="keyword" id="5063542">else</span>&nbsp;<span class="keyword" id="5063547">if</span>&nbsp;<span class="ident" id="5063550">e</span>&nbsp;<span class="op" id="5063552">!=</span>&nbsp;<span class="ident" id="5063555">nil</span>&nbsp;<span class="op" id="5063559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5063564">return</span>&nbsp;<span class="ident" id="5063571">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063580">pn</span><span class="op" id="5063582">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5063586">}</span><br>
<span class="lineno"></span><span class="op" id="5063588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5063591">//&nbsp;PrintCoreStatus&nbsp;prints&nbsp;the&nbsp;cpu&nbsp;statuses.</span><br>
<span class="lineno">100</span><span class="keyword" id="5063635">func</span>&nbsp;<span class="op" id="5063640">(</span><span class="ident" id="5063641">m</span>&nbsp;<span class="op" id="5063643">*</span><span class="ident" id="5063644">Machine</span><span class="op" id="5063651">)</span>&nbsp;<span class="ident" id="5063653">PrintCoreStatus</span><span class="op" id="5063668">(</span><span class="op" id="5063669">)</span>&nbsp;<span class="op" id="5063671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5063674">m</span><span class="op" id="5063675">.</span><span class="ident" id="5063676">cores</span><span class="op" id="5063681">.</span><span class="ident" id="5063682">PrintStatus</span><span class="op" id="5063693">(</span><span class="op" id="5063694">)</span><br>
<span class="lineno"></span><span class="op" id="5063696">}</span>
</div>
</body>
</html>
