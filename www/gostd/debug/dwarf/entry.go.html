<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="4365563">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4365619">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4365673">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4365724">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="4365765">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="4365824">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="4365883">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="4365947">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="4366026">package</span>&nbsp;<span class="ident" id="4366034">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4366041">import</span>&nbsp;<span class="op" id="4366048">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4366051">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4366061">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="4366071">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4366074">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="4366132">type</span>&nbsp;<span class="ident" id="4366137">abbrev</span>&nbsp;<span class="keyword" id="4366144">struct</span>&nbsp;<span class="op" id="4366151">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366154">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4366163">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366168">children</span>&nbsp;<span class="builtintype" id="4366177">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366183">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4366192">[</span><span class="op" id="4366193">]</span><span class="ident" id="4366194">afield</span><br>
<span class="lineno"></span><span class="op" id="4366201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="4366204">type</span>&nbsp;<span class="ident" id="4366209">afield</span>&nbsp;<span class="keyword" id="4366216">struct</span>&nbsp;<span class="op" id="4366223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366226">attr</span>&nbsp;<span class="ident" id="4366231">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366237">fmt</span>&nbsp;&nbsp;<span class="ident" id="4366242">format</span><br>
<span class="lineno"></span><span class="op" id="4366249">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="4366252">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="4366305">type</span>&nbsp;<span class="ident" id="4366310">abbrevTable</span>&nbsp;<span class="keyword" id="4366322">map</span><span class="op" id="4366325">[</span><span class="builtintype" id="4366326">uint32</span><span class="op" id="4366332">]</span><span class="ident" id="4366333">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4366341">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="4366411">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="4366444">func</span>&nbsp;<span class="op" id="4366449">(</span><span class="ident" id="4366450">d</span>&nbsp;<span class="op" id="4366452">*</span><span class="ident" id="4366453">Data</span><span class="op" id="4366457">)</span>&nbsp;<span class="ident" id="4366459">parseAbbrev</span><span class="op" id="4366470">(</span><span class="ident" id="4366471">off</span>&nbsp;<span class="builtintype" id="4366475">uint32</span><span class="op" id="4366481">)</span>&nbsp;<span class="op" id="4366483">(</span><span class="ident" id="4366484">abbrevTable</span><span class="op" id="4366495">,</span>&nbsp;<span class="builtintype" id="4366497">error</span><span class="op" id="4366502">)</span>&nbsp;<span class="op" id="4366504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366507">if</span>&nbsp;<span class="ident" id="4366510">m</span><span class="op" id="4366511">,</span>&nbsp;<span class="ident" id="4366513">ok</span>&nbsp;<span class="op" id="4366516">:=</span>&nbsp;<span class="ident" id="4366519">d</span><span class="op" id="4366520">.</span><span class="ident" id="4366521">abbrevCache</span><span class="op" id="4366532">[</span><span class="ident" id="4366533">off</span><span class="op" id="4366536">]</span><span class="op" id="4366537">;</span>&nbsp;<span class="ident" id="4366539">ok</span>&nbsp;<span class="op" id="4366542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366546">return</span>&nbsp;<span class="ident" id="4366553">m</span><span class="op" id="4366554">,</span>&nbsp;<span class="ident" id="4366556">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366565">data</span>&nbsp;<span class="op" id="4366570">:=</span>&nbsp;<span class="ident" id="4366573">d</span><span class="op" id="4366574">.</span><span class="ident" id="4366575">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366583">if</span>&nbsp;<span class="ident" id="4366586">off</span>&nbsp;<span class="op" id="4366590">&gt;</span>&nbsp;<span class="builtintype" id="4366592">uint32</span><span class="op" id="4366598">(</span><span class="builtinfunc" id="4366599">len</span><span class="op" id="4366602">(</span><span class="ident" id="4366603">data</span><span class="op" id="4366607">)</span><span class="op" id="4366608">)</span>&nbsp;<span class="op" id="4366610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366614">data</span>&nbsp;<span class="op" id="4366619">=</span>&nbsp;<span class="ident" id="4366621">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366626">}</span>&nbsp;<span class="keyword" id="4366628">else</span>&nbsp;<span class="op" id="4366633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366637">data</span>&nbsp;<span class="op" id="4366642">=</span>&nbsp;<span class="ident" id="4366644">data</span><span class="op" id="4366648">[</span><span class="ident" id="4366649">off</span><span class="op" id="4366652">:</span><span class="op" id="4366653">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366659">b</span>&nbsp;<span class="op" id="4366661">:=</span>&nbsp;<span class="ident" id="4366664">makeBuf</span><span class="op" id="4366671">(</span><span class="ident" id="4366672">d</span><span class="op" id="4366673">,</span>&nbsp;<span class="ident" id="4366675">unknownFormat</span><span class="op" id="4366688">{</span><span class="op" id="4366689">}</span><span class="op" id="4366690">,</span>&nbsp;<span class="string" id="4366692">&#34;abbrev&#34;</span><span class="op" id="4366700">,</span>&nbsp;<span class="num" id="4366702">0</span><span class="op" id="4366703">,</span>&nbsp;<span class="ident" id="4366705">data</span><span class="op" id="4366709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4366713">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4366765">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366819">m</span>&nbsp;<span class="op" id="4366821">:=</span>&nbsp;<span class="builtinfunc" id="4366824">make</span><span class="op" id="4366828">(</span><span class="ident" id="4366829">abbrevTable</span><span class="op" id="4366840">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366843">for</span>&nbsp;<span class="op" id="4366847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4366851">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366881">id</span>&nbsp;<span class="op" id="4366884">:=</span>&nbsp;<span class="builtintype" id="4366887">uint32</span><span class="op" id="4366893">(</span><span class="ident" id="4366894">b</span><span class="op" id="4366895">.</span><span class="builtintype" id="4366896">uint</span><span class="op" id="4366900">(</span><span class="op" id="4366901">)</span><span class="op" id="4366902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366906">if</span>&nbsp;<span class="ident" id="4366909">id</span>&nbsp;<span class="op" id="4366912">==</span>&nbsp;<span class="num" id="4366915">0</span>&nbsp;<span class="op" id="4366917">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4366922">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4366930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4366935">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366972">n</span>&nbsp;<span class="op" id="4366974">:=</span>&nbsp;<span class="num" id="4366977">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4366981">b1</span>&nbsp;<span class="op" id="4366984">:=</span>&nbsp;<span class="ident" id="4366987">b</span>&nbsp;<span class="comment" id="4366989">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367015">b1</span><span class="op" id="4367017">.</span><span class="builtintype" id="4367018">uint</span><span class="op" id="4367022">(</span><span class="op" id="4367023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367027">b1</span><span class="op" id="4367029">.</span><span class="builtintype" id="4367030">uint8</span><span class="op" id="4367035">(</span><span class="op" id="4367036">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367040">for</span>&nbsp;<span class="op" id="4367044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367049">tag</span>&nbsp;<span class="op" id="4367053">:=</span>&nbsp;<span class="ident" id="4367056">b1</span><span class="op" id="4367058">.</span><span class="builtintype" id="4367059">uint</span><span class="op" id="4367063">(</span><span class="op" id="4367064">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367069">fmt</span>&nbsp;<span class="op" id="4367073">:=</span>&nbsp;<span class="ident" id="4367076">b1</span><span class="op" id="4367078">.</span><span class="builtintype" id="4367079">uint</span><span class="op" id="4367083">(</span><span class="op" id="4367084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367089">if</span>&nbsp;<span class="ident" id="4367092">tag</span>&nbsp;<span class="op" id="4367096">==</span>&nbsp;<span class="num" id="4367099">0</span>&nbsp;<span class="op" id="4367101">&amp;&amp;</span>&nbsp;<span class="ident" id="4367104">fmt</span>&nbsp;<span class="op" id="4367108">==</span>&nbsp;<span class="num" id="4367111">0</span>&nbsp;<span class="op" id="4367113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367119">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367133">n</span><span class="op" id="4367134">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367143">if</span>&nbsp;<span class="ident" id="4367146">b1</span><span class="op" id="4367148">.</span><span class="ident" id="4367149">err</span>&nbsp;<span class="op" id="4367153">!=</span>&nbsp;<span class="ident" id="4367156">nil</span>&nbsp;<span class="op" id="4367160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367165">return</span>&nbsp;<span class="ident" id="4367172">nil</span><span class="op" id="4367175">,</span>&nbsp;<span class="ident" id="4367177">b1</span><span class="op" id="4367179">.</span><span class="ident" id="4367180">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367186">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4367191">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367253">var</span>&nbsp;<span class="ident" id="4367257">a</span>&nbsp;<span class="ident" id="4367259">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367268">a</span><span class="op" id="4367269">.</span><span class="ident" id="4367270">tag</span>&nbsp;<span class="op" id="4367274">=</span>&nbsp;<span class="ident" id="4367276">Tag</span><span class="op" id="4367279">(</span><span class="ident" id="4367280">b</span><span class="op" id="4367281">.</span><span class="builtintype" id="4367282">uint</span><span class="op" id="4367286">(</span><span class="op" id="4367287">)</span><span class="op" id="4367288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367292">a</span><span class="op" id="4367293">.</span><span class="ident" id="4367294">children</span>&nbsp;<span class="op" id="4367303">=</span>&nbsp;<span class="ident" id="4367305">b</span><span class="op" id="4367306">.</span><span class="builtintype" id="4367307">uint8</span><span class="op" id="4367312">(</span><span class="op" id="4367313">)</span>&nbsp;<span class="op" id="4367315">!=</span>&nbsp;<span class="num" id="4367318">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367322">a</span><span class="op" id="4367323">.</span><span class="ident" id="4367324">field</span>&nbsp;<span class="op" id="4367330">=</span>&nbsp;<span class="builtinfunc" id="4367332">make</span><span class="op" id="4367336">(</span><span class="op" id="4367337">[</span><span class="op" id="4367338">]</span><span class="ident" id="4367339">afield</span><span class="op" id="4367345">,</span>&nbsp;<span class="ident" id="4367347">n</span><span class="op" id="4367348">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367352">for</span>&nbsp;<span class="ident" id="4367356">i</span>&nbsp;<span class="op" id="4367358">:=</span>&nbsp;<span class="keyword" id="4367361">range</span>&nbsp;<span class="ident" id="4367367">a</span><span class="op" id="4367368">.</span><span class="ident" id="4367369">field</span>&nbsp;<span class="op" id="4367375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367380">a</span><span class="op" id="4367381">.</span><span class="ident" id="4367382">field</span><span class="op" id="4367387">[</span><span class="ident" id="4367388">i</span><span class="op" id="4367389">]</span><span class="op" id="4367390">.</span><span class="ident" id="4367391">attr</span>&nbsp;<span class="op" id="4367396">=</span>&nbsp;<span class="ident" id="4367398">Attr</span><span class="op" id="4367402">(</span><span class="ident" id="4367403">b</span><span class="op" id="4367404">.</span><span class="builtintype" id="4367405">uint</span><span class="op" id="4367409">(</span><span class="op" id="4367410">)</span><span class="op" id="4367411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367416">a</span><span class="op" id="4367417">.</span><span class="ident" id="4367418">field</span><span class="op" id="4367423">[</span><span class="ident" id="4367424">i</span><span class="op" id="4367425">]</span><span class="op" id="4367426">.</span><span class="ident" id="4367427">fmt</span>&nbsp;<span class="op" id="4367431">=</span>&nbsp;<span class="ident" id="4367433">format</span><span class="op" id="4367439">(</span><span class="ident" id="4367440">b</span><span class="op" id="4367441">.</span><span class="builtintype" id="4367442">uint</span><span class="op" id="4367446">(</span><span class="op" id="4367447">)</span><span class="op" id="4367448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367456">b</span><span class="op" id="4367457">.</span><span class="builtintype" id="4367458">uint</span><span class="op" id="4367462">(</span><span class="op" id="4367463">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367467">b</span><span class="op" id="4367468">.</span><span class="builtintype" id="4367469">uint</span><span class="op" id="4367473">(</span><span class="op" id="4367474">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367479">m</span><span class="op" id="4367480">[</span><span class="ident" id="4367481">id</span><span class="op" id="4367483">]</span>&nbsp;<span class="op" id="4367485">=</span>&nbsp;<span class="ident" id="4367487">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367490">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367493">if</span>&nbsp;<span class="ident" id="4367496">b</span><span class="op" id="4367497">.</span><span class="ident" id="4367498">err</span>&nbsp;<span class="op" id="4367502">!=</span>&nbsp;<span class="ident" id="4367505">nil</span>&nbsp;<span class="op" id="4367509">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367513">return</span>&nbsp;<span class="ident" id="4367520">nil</span><span class="op" id="4367523">,</span>&nbsp;<span class="ident" id="4367525">b</span><span class="op" id="4367526">.</span><span class="ident" id="4367527">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4367532">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367535">d</span><span class="op" id="4367536">.</span><span class="ident" id="4367537">abbrevCache</span><span class="op" id="4367548">[</span><span class="ident" id="4367549">off</span><span class="op" id="4367552">]</span>&nbsp;<span class="op" id="4367554">=</span>&nbsp;<span class="ident" id="4367556">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4367559">return</span>&nbsp;<span class="ident" id="4367566">m</span><span class="op" id="4367567">,</span>&nbsp;<span class="ident" id="4367569">nil</span><br>
<span class="lineno"></span><span class="op" id="4367573">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="4367576">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="4367628">type</span>&nbsp;<span class="ident" id="4367633">Entry</span>&nbsp;<span class="keyword" id="4367639">struct</span>&nbsp;<span class="op" id="4367646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367649">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4367658">Offset</span>&nbsp;<span class="comment" id="4367665">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367699">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4367708">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="4367715">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367739">Children</span>&nbsp;<span class="builtintype" id="4367748">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4367755">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367797">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4367806">[</span><span class="op" id="4367807">]</span><span class="ident" id="4367808">Field</span><br>
<span class="lineno"></span><span class="op" id="4367814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4367817">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="4367874">type</span>&nbsp;<span class="ident" id="4367879">Field</span>&nbsp;<span class="keyword" id="4367885">struct</span>&nbsp;<span class="op" id="4367892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367895">Attr</span>&nbsp;<span class="ident" id="4367900">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4367906">Val</span>&nbsp;&nbsp;<span class="keyword" id="4367911">interface</span><span class="op" id="4367920">{</span><span class="op" id="4367921">}</span><br>
<span class="lineno"></span><span class="op" id="4367923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="4367926">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="4367992">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="4368033">//</span><br>
<span class="lineno"></span><span class="comment" id="4368036">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4368096">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="4368162">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="4368202">//</span><br>
<span class="lineno"></span><span class="keyword" id="4368205">func</span>&nbsp;<span class="op" id="4368210">(</span><span class="ident" id="4368211">e</span>&nbsp;<span class="op" id="4368213">*</span><span class="ident" id="4368214">Entry</span><span class="op" id="4368219">)</span>&nbsp;<span class="ident" id="4368221">Val</span><span class="op" id="4368224">(</span><span class="ident" id="4368225">a</span>&nbsp;<span class="ident" id="4368227">Attr</span><span class="op" id="4368231">)</span>&nbsp;<span class="keyword" id="4368233">interface</span><span class="op" id="4368242">{</span><span class="op" id="4368243">}</span>&nbsp;<span class="op" id="4368245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368248">for</span>&nbsp;<span class="ident" id="4368252">_</span><span class="op" id="4368253">,</span>&nbsp;<span class="ident" id="4368255">f</span>&nbsp;<span class="op" id="4368257">:=</span>&nbsp;<span class="keyword" id="4368260">range</span>&nbsp;<span class="ident" id="4368266">e</span><span class="op" id="4368267">.</span><span class="ident" id="4368268">Field</span>&nbsp;<span class="op" id="4368274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368278">if</span>&nbsp;<span class="ident" id="4368281">f</span><span class="op" id="4368282">.</span><span class="ident" id="4368283">Attr</span>&nbsp;<span class="op" id="4368288">==</span>&nbsp;<span class="ident" id="4368291">a</span>&nbsp;<span class="op" id="4368293">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368298">return</span>&nbsp;<span class="ident" id="4368305">f</span><span class="op" id="4368306">.</span><span class="ident" id="4368307">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4368313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4368316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368319">return</span>&nbsp;<span class="ident" id="4368326">nil</span><br>
<span class="lineno"></span><span class="op" id="4368330">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="4368333">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="4368405">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="4368427">type</span>&nbsp;<span class="ident" id="4368432">Offset</span>&nbsp;<span class="builtintype" id="4368439">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="4368447">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="4368496">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="4368542">func</span>&nbsp;<span class="op" id="4368547">(</span><span class="ident" id="4368548">b</span>&nbsp;<span class="op" id="4368550">*</span><span class="ident" id="4368551">buf</span><span class="op" id="4368554">)</span>&nbsp;<span class="ident" id="4368556">entry</span><span class="op" id="4368561">(</span><span class="ident" id="4368562">atab</span>&nbsp;<span class="ident" id="4368567">abbrevTable</span><span class="op" id="4368578">,</span>&nbsp;<span class="ident" id="4368580">ubase</span>&nbsp;<span class="ident" id="4368586">Offset</span><span class="op" id="4368592">)</span>&nbsp;<span class="op" id="4368594">*</span><span class="ident" id="4368595">Entry</span>&nbsp;<span class="op" id="4368601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368604">off</span>&nbsp;<span class="op" id="4368608">:=</span>&nbsp;<span class="ident" id="4368611">b</span><span class="op" id="4368612">.</span><span class="ident" id="4368613">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368618">id</span>&nbsp;<span class="op" id="4368621">:=</span>&nbsp;<span class="builtintype" id="4368624">uint32</span><span class="op" id="4368630">(</span><span class="ident" id="4368631">b</span><span class="op" id="4368632">.</span><span class="builtintype" id="4368633">uint</span><span class="op" id="4368637">(</span><span class="op" id="4368638">)</span><span class="op" id="4368639">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368642">if</span>&nbsp;<span class="ident" id="4368645">id</span>&nbsp;<span class="op" id="4368648">==</span>&nbsp;<span class="num" id="4368651">0</span>&nbsp;<span class="op" id="4368653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368657">return</span>&nbsp;<span class="op" id="4368664">&amp;</span><span class="ident" id="4368665">Entry</span><span class="op" id="4368670">{</span><span class="op" id="4368671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4368674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368677">a</span><span class="op" id="4368678">,</span>&nbsp;<span class="ident" id="4368680">ok</span>&nbsp;<span class="op" id="4368683">:=</span>&nbsp;<span class="ident" id="4368686">atab</span><span class="op" id="4368690">[</span><span class="ident" id="4368691">id</span><span class="op" id="4368693">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368696">if</span>&nbsp;<span class="op" id="4368699">!</span><span class="ident" id="4368700">ok</span>&nbsp;<span class="op" id="4368703">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368707">b</span><span class="op" id="4368708">.</span><span class="builtintype" id="4368709">error</span><span class="op" id="4368714">(</span><span class="string" id="4368715">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="4368749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368753">return</span>&nbsp;<span class="ident" id="4368760">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4368765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368768">e</span>&nbsp;<span class="op" id="4368770">:=</span>&nbsp;<span class="op" id="4368773">&amp;</span><span class="ident" id="4368774">Entry</span><span class="op" id="4368779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368783">Offset</span><span class="op" id="4368789">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="4368793">off</span><span class="op" id="4368796">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368800">Tag</span><span class="op" id="4368803">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4368810">a</span><span class="op" id="4368811">.</span><span class="ident" id="4368812">tag</span><span class="op" id="4368815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368819">Children</span><span class="op" id="4368827">:</span>&nbsp;<span class="ident" id="4368829">a</span><span class="op" id="4368830">.</span><span class="ident" id="4368831">children</span><span class="op" id="4368839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368843">Field</span><span class="op" id="4368848">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="4368853">make</span><span class="op" id="4368857">(</span><span class="op" id="4368858">[</span><span class="op" id="4368859">]</span><span class="ident" id="4368860">Field</span><span class="op" id="4368865">,</span>&nbsp;<span class="builtinfunc" id="4368867">len</span><span class="op" id="4368870">(</span><span class="ident" id="4368871">a</span><span class="op" id="4368872">.</span><span class="ident" id="4368873">field</span><span class="op" id="4368878">)</span><span class="op" id="4368879">)</span><span class="op" id="4368880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4368883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368886">for</span>&nbsp;<span class="ident" id="4368890">i</span>&nbsp;<span class="op" id="4368892">:=</span>&nbsp;<span class="keyword" id="4368895">range</span>&nbsp;<span class="ident" id="4368901">e</span><span class="op" id="4368902">.</span><span class="ident" id="4368903">Field</span>&nbsp;<span class="op" id="4368909">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368913">e</span><span class="op" id="4368914">.</span><span class="ident" id="4368915">Field</span><span class="op" id="4368920">[</span><span class="ident" id="4368921">i</span><span class="op" id="4368922">]</span><span class="op" id="4368923">.</span><span class="ident" id="4368924">Attr</span>&nbsp;<span class="op" id="4368929">=</span>&nbsp;<span class="ident" id="4368931">a</span><span class="op" id="4368932">.</span><span class="ident" id="4368933">field</span><span class="op" id="4368938">[</span><span class="ident" id="4368939">i</span><span class="op" id="4368940">]</span><span class="op" id="4368941">.</span><span class="ident" id="4368942">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4368949">fmt</span>&nbsp;<span class="op" id="4368953">:=</span>&nbsp;<span class="ident" id="4368956">a</span><span class="op" id="4368957">.</span><span class="ident" id="4368958">field</span><span class="op" id="4368963">[</span><span class="ident" id="4368964">i</span><span class="op" id="4368965">]</span><span class="op" id="4368966">.</span><span class="ident" id="4368967">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4368973">if</span>&nbsp;<span class="ident" id="4368976">fmt</span>&nbsp;<span class="op" id="4368980">==</span>&nbsp;<span class="ident" id="4368983">formIndirect</span>&nbsp;<span class="op" id="4368996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369001">fmt</span>&nbsp;<span class="op" id="4369005">=</span>&nbsp;<span class="ident" id="4369007">format</span><span class="op" id="4369013">(</span><span class="ident" id="4369014">b</span><span class="op" id="4369015">.</span><span class="builtintype" id="4369016">uint</span><span class="op" id="4369020">(</span><span class="op" id="4369021">)</span><span class="op" id="4369022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4369026">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369030">var</span>&nbsp;<span class="ident" id="4369034">val</span>&nbsp;<span class="keyword" id="4369038">interface</span><span class="op" id="4369047">{</span><span class="op" id="4369048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369052">switch</span>&nbsp;<span class="ident" id="4369059">fmt</span>&nbsp;<span class="op" id="4369063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369067">default</span><span class="op" id="4369074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369079">b</span><span class="op" id="4369080">.</span><span class="builtintype" id="4369081">error</span><span class="op" id="4369086">(</span><span class="string" id="4369087">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="4369118">+</span>&nbsp;<span class="ident" id="4369120">strconv</span><span class="op" id="4369127">.</span><span class="ident" id="4369128">FormatInt</span><span class="op" id="4369137">(</span><span class="ident" id="4369138">int64</span><span class="op" id="4369143">(</span><span class="ident" id="4369144">fmt</span><span class="op" id="4369147">)</span><span class="op" id="4369148">,</span>&nbsp;<span class="num" id="4369150">16</span><span class="op" id="4369152">)</span><span class="op" id="4369153">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369158">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369171">case</span>&nbsp;<span class="ident" id="4369176">formAddr</span><span class="op" id="4369184">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369189">val</span>&nbsp;<span class="op" id="4369193">=</span>&nbsp;<span class="ident" id="4369195">b</span><span class="op" id="4369196">.</span><span class="ident" id="4369197">addr</span><span class="op" id="4369201">(</span><span class="op" id="4369202">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369207">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369218">case</span>&nbsp;<span class="ident" id="4369223">formDwarfBlock1</span><span class="op" id="4369238">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369243">val</span>&nbsp;<span class="op" id="4369247">=</span>&nbsp;<span class="ident" id="4369249">b</span><span class="op" id="4369250">.</span><span class="ident" id="4369251">bytes</span><span class="op" id="4369256">(</span><span class="builtintype" id="4369257">int</span><span class="op" id="4369260">(</span><span class="ident" id="4369261">b</span><span class="op" id="4369262">.</span><span class="builtintype" id="4369263">uint8</span><span class="op" id="4369268">(</span><span class="op" id="4369269">)</span><span class="op" id="4369270">)</span><span class="op" id="4369271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369275">case</span>&nbsp;<span class="ident" id="4369280">formDwarfBlock2</span><span class="op" id="4369295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369300">val</span>&nbsp;<span class="op" id="4369304">=</span>&nbsp;<span class="ident" id="4369306">b</span><span class="op" id="4369307">.</span><span class="ident" id="4369308">bytes</span><span class="op" id="4369313">(</span><span class="builtintype" id="4369314">int</span><span class="op" id="4369317">(</span><span class="ident" id="4369318">b</span><span class="op" id="4369319">.</span><span class="builtintype" id="4369320">uint16</span><span class="op" id="4369326">(</span><span class="op" id="4369327">)</span><span class="op" id="4369328">)</span><span class="op" id="4369329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369333">case</span>&nbsp;<span class="ident" id="4369338">formDwarfBlock4</span><span class="op" id="4369353">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369358">val</span>&nbsp;<span class="op" id="4369362">=</span>&nbsp;<span class="ident" id="4369364">b</span><span class="op" id="4369365">.</span><span class="ident" id="4369366">bytes</span><span class="op" id="4369371">(</span><span class="builtintype" id="4369372">int</span><span class="op" id="4369375">(</span><span class="ident" id="4369376">b</span><span class="op" id="4369377">.</span><span class="builtintype" id="4369378">uint32</span><span class="op" id="4369384">(</span><span class="op" id="4369385">)</span><span class="op" id="4369386">)</span><span class="op" id="4369387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369391">case</span>&nbsp;<span class="ident" id="4369396">formDwarfBlock</span><span class="op" id="4369410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369415">val</span>&nbsp;<span class="op" id="4369419">=</span>&nbsp;<span class="ident" id="4369421">b</span><span class="op" id="4369422">.</span><span class="ident" id="4369423">bytes</span><span class="op" id="4369428">(</span><span class="builtintype" id="4369429">int</span><span class="op" id="4369432">(</span><span class="ident" id="4369433">b</span><span class="op" id="4369434">.</span><span class="builtintype" id="4369435">uint</span><span class="op" id="4369439">(</span><span class="op" id="4369440">)</span><span class="op" id="4369441">)</span><span class="op" id="4369442">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369447">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369461">case</span>&nbsp;<span class="ident" id="4369466">formData1</span><span class="op" id="4369475">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369480">val</span>&nbsp;<span class="op" id="4369484">=</span>&nbsp;<span class="ident" id="4369486">int64</span><span class="op" id="4369491">(</span><span class="ident" id="4369492">b</span><span class="op" id="4369493">.</span><span class="builtintype" id="4369494">uint8</span><span class="op" id="4369499">(</span><span class="op" id="4369500">)</span><span class="op" id="4369501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369505">case</span>&nbsp;<span class="ident" id="4369510">formData2</span><span class="op" id="4369519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369524">val</span>&nbsp;<span class="op" id="4369528">=</span>&nbsp;<span class="ident" id="4369530">int64</span><span class="op" id="4369535">(</span><span class="ident" id="4369536">b</span><span class="op" id="4369537">.</span><span class="builtintype" id="4369538">uint16</span><span class="op" id="4369544">(</span><span class="op" id="4369545">)</span><span class="op" id="4369546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369550">case</span>&nbsp;<span class="ident" id="4369555">formData4</span><span class="op" id="4369564">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369569">val</span>&nbsp;<span class="op" id="4369573">=</span>&nbsp;<span class="ident" id="4369575">int64</span><span class="op" id="4369580">(</span><span class="ident" id="4369581">b</span><span class="op" id="4369582">.</span><span class="builtintype" id="4369583">uint32</span><span class="op" id="4369589">(</span><span class="op" id="4369590">)</span><span class="op" id="4369591">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369595">case</span>&nbsp;<span class="ident" id="4369600">formData8</span><span class="op" id="4369609">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369614">val</span>&nbsp;<span class="op" id="4369618">=</span>&nbsp;<span class="ident" id="4369620">int64</span><span class="op" id="4369625">(</span><span class="ident" id="4369626">b</span><span class="op" id="4369627">.</span><span class="ident" id="4369628">uint64</span><span class="op" id="4369634">(</span><span class="op" id="4369635">)</span><span class="op" id="4369636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369640">case</span>&nbsp;<span class="ident" id="4369645">formSdata</span><span class="op" id="4369654">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369659">val</span>&nbsp;<span class="op" id="4369663">=</span>&nbsp;<span class="ident" id="4369665">int64</span><span class="op" id="4369670">(</span><span class="ident" id="4369671">b</span><span class="op" id="4369672">.</span><span class="builtintype" id="4369673">int</span><span class="op" id="4369676">(</span><span class="op" id="4369677">)</span><span class="op" id="4369678">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369682">case</span>&nbsp;<span class="ident" id="4369687">formUdata</span><span class="op" id="4369696">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369701">val</span>&nbsp;<span class="op" id="4369705">=</span>&nbsp;<span class="ident" id="4369707">int64</span><span class="op" id="4369712">(</span><span class="ident" id="4369713">b</span><span class="op" id="4369714">.</span><span class="builtintype" id="4369715">uint</span><span class="op" id="4369719">(</span><span class="op" id="4369720">)</span><span class="op" id="4369721">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369726">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369736">case</span>&nbsp;<span class="ident" id="4369741">formFlag</span><span class="op" id="4369749">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369754">val</span>&nbsp;<span class="op" id="4369758">=</span>&nbsp;<span class="ident" id="4369760">b</span><span class="op" id="4369761">.</span><span class="builtintype" id="4369762">uint8</span><span class="op" id="4369767">(</span><span class="op" id="4369768">)</span>&nbsp;<span class="op" id="4369770">==</span>&nbsp;<span class="num" id="4369773">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369777">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369798">case</span>&nbsp;<span class="ident" id="4369803">formFlagPresent</span><span class="op" id="4369818">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369823">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369895">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4369952">val</span>&nbsp;<span class="op" id="4369956">=</span>&nbsp;<span class="builtintype" id="4369958">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4369966">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4369996">case</span>&nbsp;<span class="ident" id="4370001">formRefAddr</span><span class="op" id="4370012">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370017">vers</span>&nbsp;<span class="op" id="4370022">:=</span>&nbsp;<span class="ident" id="4370025">b</span><span class="op" id="4370026">.</span><span class="ident" id="4370027">format</span><span class="op" id="4370033">.</span><span class="ident" id="4370034">version</span><span class="op" id="4370041">(</span><span class="op" id="4370042">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370047">if</span>&nbsp;<span class="ident" id="4370050">vers</span>&nbsp;<span class="op" id="4370055">==</span>&nbsp;<span class="num" id="4370058">0</span>&nbsp;<span class="op" id="4370060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370066">b</span><span class="op" id="4370067">.</span><span class="builtintype" id="4370068">error</span><span class="op" id="4370073">(</span><span class="string" id="4370074">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="4370112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370117">}</span>&nbsp;<span class="keyword" id="4370119">else</span>&nbsp;<span class="keyword" id="4370124">if</span>&nbsp;<span class="ident" id="4370127">vers</span>&nbsp;<span class="op" id="4370132">==</span>&nbsp;<span class="num" id="4370135">2</span>&nbsp;<span class="op" id="4370137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370143">val</span>&nbsp;<span class="op" id="4370147">=</span>&nbsp;<span class="ident" id="4370149">Offset</span><span class="op" id="4370155">(</span><span class="ident" id="4370156">b</span><span class="op" id="4370157">.</span><span class="ident" id="4370158">addr</span><span class="op" id="4370162">(</span><span class="op" id="4370163">)</span><span class="op" id="4370164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370169">}</span>&nbsp;<span class="keyword" id="4370171">else</span>&nbsp;<span class="op" id="4370176">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370182">is64</span><span class="op" id="4370186">,</span>&nbsp;<span class="ident" id="4370188">known</span>&nbsp;<span class="op" id="4370194">:=</span>&nbsp;<span class="ident" id="4370197">b</span><span class="op" id="4370198">.</span><span class="ident" id="4370199">format</span><span class="op" id="4370205">.</span><span class="ident" id="4370206">dwarf64</span><span class="op" id="4370213">(</span><span class="op" id="4370214">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370220">if</span>&nbsp;<span class="op" id="4370223">!</span><span class="ident" id="4370224">known</span>&nbsp;<span class="op" id="4370230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370237">b</span><span class="op" id="4370238">.</span><span class="builtintype" id="4370239">error</span><span class="op" id="4370244">(</span><span class="string" id="4370245">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="4370280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370286">}</span>&nbsp;<span class="keyword" id="4370288">else</span>&nbsp;<span class="keyword" id="4370293">if</span>&nbsp;<span class="ident" id="4370296">is64</span>&nbsp;<span class="op" id="4370301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370308">val</span>&nbsp;<span class="op" id="4370312">=</span>&nbsp;<span class="ident" id="4370314">Offset</span><span class="op" id="4370320">(</span><span class="ident" id="4370321">b</span><span class="op" id="4370322">.</span><span class="ident" id="4370323">uint64</span><span class="op" id="4370329">(</span><span class="op" id="4370330">)</span><span class="op" id="4370331">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370337">}</span>&nbsp;<span class="keyword" id="4370339">else</span>&nbsp;<span class="op" id="4370344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370351">val</span>&nbsp;<span class="op" id="4370355">=</span>&nbsp;<span class="ident" id="4370357">Offset</span><span class="op" id="4370363">(</span><span class="ident" id="4370364">b</span><span class="op" id="4370365">.</span><span class="builtintype" id="4370366">uint32</span><span class="op" id="4370372">(</span><span class="op" id="4370373">)</span><span class="op" id="4370374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370380">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370389">case</span>&nbsp;<span class="ident" id="4370394">formRef1</span><span class="op" id="4370402">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370407">val</span>&nbsp;<span class="op" id="4370411">=</span>&nbsp;<span class="ident" id="4370413">Offset</span><span class="op" id="4370419">(</span><span class="ident" id="4370420">b</span><span class="op" id="4370421">.</span><span class="builtintype" id="4370422">uint8</span><span class="op" id="4370427">(</span><span class="op" id="4370428">)</span><span class="op" id="4370429">)</span>&nbsp;<span class="op" id="4370431">+</span>&nbsp;<span class="ident" id="4370433">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370441">case</span>&nbsp;<span class="ident" id="4370446">formRef2</span><span class="op" id="4370454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370459">val</span>&nbsp;<span class="op" id="4370463">=</span>&nbsp;<span class="ident" id="4370465">Offset</span><span class="op" id="4370471">(</span><span class="ident" id="4370472">b</span><span class="op" id="4370473">.</span><span class="builtintype" id="4370474">uint16</span><span class="op" id="4370480">(</span><span class="op" id="4370481">)</span><span class="op" id="4370482">)</span>&nbsp;<span class="op" id="4370484">+</span>&nbsp;<span class="ident" id="4370486">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370494">case</span>&nbsp;<span class="ident" id="4370499">formRef4</span><span class="op" id="4370507">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370512">val</span>&nbsp;<span class="op" id="4370516">=</span>&nbsp;<span class="ident" id="4370518">Offset</span><span class="op" id="4370524">(</span><span class="ident" id="4370525">b</span><span class="op" id="4370526">.</span><span class="builtintype" id="4370527">uint32</span><span class="op" id="4370533">(</span><span class="op" id="4370534">)</span><span class="op" id="4370535">)</span>&nbsp;<span class="op" id="4370537">+</span>&nbsp;<span class="ident" id="4370539">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370547">case</span>&nbsp;<span class="ident" id="4370552">formRef8</span><span class="op" id="4370560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370565">val</span>&nbsp;<span class="op" id="4370569">=</span>&nbsp;<span class="ident" id="4370571">Offset</span><span class="op" id="4370577">(</span><span class="ident" id="4370578">b</span><span class="op" id="4370579">.</span><span class="ident" id="4370580">uint64</span><span class="op" id="4370586">(</span><span class="op" id="4370587">)</span><span class="op" id="4370588">)</span>&nbsp;<span class="op" id="4370590">+</span>&nbsp;<span class="ident" id="4370592">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370600">case</span>&nbsp;<span class="ident" id="4370605">formRefUdata</span><span class="op" id="4370617">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370622">val</span>&nbsp;<span class="op" id="4370626">=</span>&nbsp;<span class="ident" id="4370628">Offset</span><span class="op" id="4370634">(</span><span class="ident" id="4370635">b</span><span class="op" id="4370636">.</span><span class="builtintype" id="4370637">uint</span><span class="op" id="4370641">(</span><span class="op" id="4370642">)</span><span class="op" id="4370643">)</span>&nbsp;<span class="op" id="4370645">+</span>&nbsp;<span class="ident" id="4370647">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4370656">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370668">case</span>&nbsp;<span class="ident" id="4370673">formString</span><span class="op" id="4370683">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370688">val</span>&nbsp;<span class="op" id="4370692">=</span>&nbsp;<span class="ident" id="4370694">b</span><span class="op" id="4370695">.</span><span class="builtintype" id="4370696">string</span><span class="op" id="4370702">(</span><span class="op" id="4370703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370707">case</span>&nbsp;<span class="ident" id="4370712">formStrp</span><span class="op" id="4370720">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370725">off</span>&nbsp;<span class="op" id="4370729">:=</span>&nbsp;<span class="ident" id="4370732">b</span><span class="op" id="4370733">.</span><span class="builtintype" id="4370734">uint32</span><span class="op" id="4370740">(</span><span class="op" id="4370741">)</span>&nbsp;<span class="comment" id="4370743">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370772">if</span>&nbsp;<span class="ident" id="4370775">b</span><span class="op" id="4370776">.</span><span class="ident" id="4370777">err</span>&nbsp;<span class="op" id="4370781">!=</span>&nbsp;<span class="ident" id="4370784">nil</span>&nbsp;<span class="op" id="4370788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370794">return</span>&nbsp;<span class="ident" id="4370801">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370813">b1</span>&nbsp;<span class="op" id="4370816">:=</span>&nbsp;<span class="ident" id="4370819">makeBuf</span><span class="op" id="4370826">(</span><span class="ident" id="4370827">b</span><span class="op" id="4370828">.</span><span class="ident" id="4370829">dwarf</span><span class="op" id="4370834">,</span>&nbsp;<span class="ident" id="4370836">unknownFormat</span><span class="op" id="4370849">{</span><span class="op" id="4370850">}</span><span class="op" id="4370851">,</span>&nbsp;<span class="string" id="4370853">&#34;str&#34;</span><span class="op" id="4370858">,</span>&nbsp;<span class="num" id="4370860">0</span><span class="op" id="4370861">,</span>&nbsp;<span class="ident" id="4370863">b</span><span class="op" id="4370864">.</span><span class="ident" id="4370865">dwarf</span><span class="op" id="4370870">.</span><span class="ident" id="4370871">str</span><span class="op" id="4370874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370879">b1</span><span class="op" id="4370881">.</span><span class="ident" id="4370882">skip</span><span class="op" id="4370886">(</span><span class="builtintype" id="4370887">int</span><span class="op" id="4370890">(</span><span class="ident" id="4370891">off</span><span class="op" id="4370894">)</span><span class="op" id="4370895">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370900">val</span>&nbsp;<span class="op" id="4370904">=</span>&nbsp;<span class="ident" id="4370906">b1</span><span class="op" id="4370908">.</span><span class="builtintype" id="4370909">string</span><span class="op" id="4370915">(</span><span class="op" id="4370916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370921">if</span>&nbsp;<span class="ident" id="4370924">b1</span><span class="op" id="4370926">.</span><span class="ident" id="4370927">err</span>&nbsp;<span class="op" id="4370931">!=</span>&nbsp;<span class="ident" id="4370934">nil</span>&nbsp;<span class="op" id="4370938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4370944">b</span><span class="op" id="4370945">.</span><span class="ident" id="4370946">err</span>&nbsp;<span class="op" id="4370950">=</span>&nbsp;<span class="ident" id="4370952">b1</span><span class="op" id="4370954">.</span><span class="ident" id="4370955">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4370963">return</span>&nbsp;<span class="ident" id="4370970">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4370977">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4370982">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371029">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371094">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371160">case</span>&nbsp;<span class="ident" id="4371165">formSecOffset</span><span class="op" id="4371178">,</span>&nbsp;<span class="ident" id="4371180">formGnuRefAlt</span><span class="op" id="4371193">,</span>&nbsp;<span class="ident" id="4371195">formGnuStrpAlt</span><span class="op" id="4371209">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371214">is64</span><span class="op" id="4371218">,</span>&nbsp;<span class="ident" id="4371220">known</span>&nbsp;<span class="op" id="4371226">:=</span>&nbsp;<span class="ident" id="4371229">b</span><span class="op" id="4371230">.</span><span class="ident" id="4371231">format</span><span class="op" id="4371237">.</span><span class="ident" id="4371238">dwarf64</span><span class="op" id="4371245">(</span><span class="op" id="4371246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371251">if</span>&nbsp;<span class="op" id="4371254">!</span><span class="ident" id="4371255">known</span>&nbsp;<span class="op" id="4371261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371267">b</span><span class="op" id="4371268">.</span><span class="builtintype" id="4371269">error</span><span class="op" id="4371274">(</span><span class="string" id="4371275">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="4371302">+</span>&nbsp;<span class="ident" id="4371304">strconv</span><span class="op" id="4371311">.</span><span class="ident" id="4371312">FormatInt</span><span class="op" id="4371321">(</span><span class="ident" id="4371322">int64</span><span class="op" id="4371327">(</span><span class="ident" id="4371328">fmt</span><span class="op" id="4371331">)</span><span class="op" id="4371332">,</span>&nbsp;<span class="num" id="4371334">16</span><span class="op" id="4371336">)</span><span class="op" id="4371337">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4371342">}</span>&nbsp;<span class="keyword" id="4371344">else</span>&nbsp;<span class="keyword" id="4371349">if</span>&nbsp;<span class="ident" id="4371352">is64</span>&nbsp;<span class="op" id="4371357">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371363">val</span>&nbsp;<span class="op" id="4371367">=</span>&nbsp;<span class="ident" id="4371369">int64</span><span class="op" id="4371374">(</span><span class="ident" id="4371375">b</span><span class="op" id="4371376">.</span><span class="ident" id="4371377">uint64</span><span class="op" id="4371383">(</span><span class="op" id="4371384">)</span><span class="op" id="4371385">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4371390">}</span>&nbsp;<span class="keyword" id="4371392">else</span>&nbsp;<span class="op" id="4371397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371403">val</span>&nbsp;<span class="op" id="4371407">=</span>&nbsp;<span class="ident" id="4371409">int64</span><span class="op" id="4371414">(</span><span class="ident" id="4371415">b</span><span class="op" id="4371416">.</span><span class="builtintype" id="4371417">uint32</span><span class="op" id="4371423">(</span><span class="op" id="4371424">)</span><span class="op" id="4371425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4371430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371435">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371448">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371469">case</span>&nbsp;<span class="ident" id="4371474">formExprloc</span><span class="op" id="4371485">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371490">val</span>&nbsp;<span class="op" id="4371494">=</span>&nbsp;<span class="ident" id="4371496">b</span><span class="op" id="4371497">.</span><span class="ident" id="4371498">bytes</span><span class="op" id="4371503">(</span><span class="builtintype" id="4371504">int</span><span class="op" id="4371507">(</span><span class="ident" id="4371508">b</span><span class="op" id="4371509">.</span><span class="builtintype" id="4371510">uint</span><span class="op" id="4371514">(</span><span class="op" id="4371515">)</span><span class="op" id="4371516">)</span><span class="op" id="4371517">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371522">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371537">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371558">case</span>&nbsp;<span class="ident" id="4371563">formRefSig8</span><span class="op" id="4371574">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4371579">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371608">val</span>&nbsp;<span class="op" id="4371612">=</span>&nbsp;<span class="ident" id="4371614">b</span><span class="op" id="4371615">.</span><span class="ident" id="4371616">uint64</span><span class="op" id="4371622">(</span><span class="op" id="4371623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4371627">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4371631">e</span><span class="op" id="4371632">.</span><span class="ident" id="4371633">Field</span><span class="op" id="4371638">[</span><span class="ident" id="4371639">i</span><span class="op" id="4371640">]</span><span class="op" id="4371641">.</span><span class="ident" id="4371642">Val</span>&nbsp;<span class="op" id="4371646">=</span>&nbsp;<span class="ident" id="4371648">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4371653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371656">if</span>&nbsp;<span class="ident" id="4371659">b</span><span class="op" id="4371660">.</span><span class="ident" id="4371661">err</span>&nbsp;<span class="op" id="4371665">!=</span>&nbsp;<span class="ident" id="4371668">nil</span>&nbsp;<span class="op" id="4371672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371676">return</span>&nbsp;<span class="ident" id="4371683">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4371688">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4371691">return</span>&nbsp;<span class="ident" id="4371698">e</span><br>
<span class="lineno"></span><span class="op" id="4371700">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4371703">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="4371778">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="4371854">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="4371923">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="4372002">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="4372048">type</span>&nbsp;<span class="ident" id="4372053">Reader</span>&nbsp;<span class="keyword" id="4372060">struct</span>&nbsp;<span class="op" id="4372067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372070">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="4372083">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372088">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="4372101">*</span><span class="ident" id="4372102">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372108">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4372121">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372128">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="4372141">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372146">lastChildren</span>&nbsp;<span class="builtintype" id="4372159">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="4372166">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372211">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="4372224">Offset</span>&nbsp;<span class="comment" id="4372231">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="4372283">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4372286">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="4372327">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="4372403">func</span>&nbsp;<span class="op" id="4372408">(</span><span class="ident" id="4372409">d</span>&nbsp;<span class="op" id="4372411">*</span><span class="ident" id="4372412">Data</span><span class="op" id="4372416">)</span>&nbsp;<span class="ident" id="4372418">Reader</span><span class="op" id="4372424">(</span><span class="op" id="4372425">)</span>&nbsp;<span class="op" id="4372427">*</span><span class="ident" id="4372428">Reader</span>&nbsp;<span class="op" id="4372435">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372438">r</span>&nbsp;<span class="op" id="4372440">:=</span>&nbsp;<span class="op" id="4372443">&amp;</span><span class="ident" id="4372444">Reader</span><span class="op" id="4372450">{</span><span class="ident" id="4372451">d</span><span class="op" id="4372452">:</span>&nbsp;<span class="ident" id="4372454">d</span><span class="op" id="4372455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372458">r</span><span class="op" id="4372459">.</span><span class="ident" id="4372460">Seek</span><span class="op" id="4372464">(</span><span class="num" id="4372465">0</span><span class="op" id="4372466">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372469">return</span>&nbsp;<span class="ident" id="4372476">r</span><br>
<span class="lineno"></span><span class="op" id="4372478">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="4372481">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="4372553">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="4372604">func</span>&nbsp;<span class="op" id="4372609">(</span><span class="ident" id="4372610">r</span>&nbsp;<span class="op" id="4372612">*</span><span class="ident" id="4372613">Reader</span><span class="op" id="4372619">)</span>&nbsp;<span class="ident" id="4372621">Seek</span><span class="op" id="4372625">(</span><span class="ident" id="4372626">off</span>&nbsp;<span class="ident" id="4372630">Offset</span><span class="op" id="4372636">)</span>&nbsp;<span class="op" id="4372638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372641">d</span>&nbsp;<span class="op" id="4372643">:=</span>&nbsp;<span class="ident" id="4372646">r</span><span class="op" id="4372647">.</span><span class="ident" id="4372648">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372651">r</span><span class="op" id="4372652">.</span><span class="ident" id="4372653">err</span>&nbsp;<span class="op" id="4372657">=</span>&nbsp;<span class="ident" id="4372659">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372664">r</span><span class="op" id="4372665">.</span><span class="ident" id="4372666">lastChildren</span>&nbsp;<span class="op" id="4372679">=</span>&nbsp;<span class="builtintype" id="4372681">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372688">if</span>&nbsp;<span class="ident" id="4372691">off</span>&nbsp;<span class="op" id="4372695">==</span>&nbsp;<span class="num" id="4372698">0</span>&nbsp;<span class="op" id="4372700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372704">if</span>&nbsp;<span class="builtinfunc" id="4372707">len</span><span class="op" id="4372710">(</span><span class="ident" id="4372711">d</span><span class="op" id="4372712">.</span><span class="ident" id="4372713">unit</span><span class="op" id="4372717">)</span>&nbsp;<span class="op" id="4372719">==</span>&nbsp;<span class="num" id="4372722">0</span>&nbsp;<span class="op" id="4372724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372729">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4372738">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372742">u</span>&nbsp;<span class="op" id="4372744">:=</span>&nbsp;<span class="op" id="4372747">&amp;</span><span class="ident" id="4372748">d</span><span class="op" id="4372749">.</span><span class="ident" id="4372750">unit</span><span class="op" id="4372754">[</span><span class="num" id="4372755">0</span><span class="op" id="4372756">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372760">r</span><span class="op" id="4372761">.</span><span class="ident" id="4372762">unit</span>&nbsp;<span class="op" id="4372767">=</span>&nbsp;<span class="num" id="4372769">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372773">r</span><span class="op" id="4372774">.</span><span class="ident" id="4372775">b</span>&nbsp;<span class="op" id="4372777">=</span>&nbsp;<span class="ident" id="4372779">makeBuf</span><span class="op" id="4372786">(</span><span class="ident" id="4372787">r</span><span class="op" id="4372788">.</span><span class="ident" id="4372789">d</span><span class="op" id="4372790">,</span>&nbsp;<span class="ident" id="4372792">u</span><span class="op" id="4372793">,</span>&nbsp;<span class="string" id="4372795">&#34;info&#34;</span><span class="op" id="4372801">,</span>&nbsp;<span class="ident" id="4372803">u</span><span class="op" id="4372804">.</span><span class="ident" id="4372805">off</span><span class="op" id="4372808">,</span>&nbsp;<span class="ident" id="4372810">u</span><span class="op" id="4372811">.</span><span class="ident" id="4372812">data</span><span class="op" id="4372816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372820">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4372828">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4372832">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372883">var</span>&nbsp;<span class="ident" id="4372887">i</span>&nbsp;<span class="builtintype" id="4372889">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372894">var</span>&nbsp;<span class="ident" id="4372898">u</span>&nbsp;<span class="op" id="4372900">*</span><span class="ident" id="4372901">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372907">for</span>&nbsp;<span class="ident" id="4372911">i</span>&nbsp;<span class="op" id="4372913">=</span>&nbsp;<span class="keyword" id="4372915">range</span>&nbsp;<span class="ident" id="4372921">d</span><span class="op" id="4372922">.</span><span class="ident" id="4372923">unit</span>&nbsp;<span class="op" id="4372928">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4372932">u</span>&nbsp;<span class="op" id="4372934">=</span>&nbsp;<span class="op" id="4372936">&amp;</span><span class="ident" id="4372937">d</span><span class="op" id="4372938">.</span><span class="ident" id="4372939">unit</span><span class="op" id="4372943">[</span><span class="ident" id="4372944">i</span><span class="op" id="4372945">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4372949">if</span>&nbsp;<span class="ident" id="4372952">u</span><span class="op" id="4372953">.</span><span class="ident" id="4372954">off</span>&nbsp;<span class="op" id="4372958">&lt;=</span>&nbsp;<span class="ident" id="4372961">off</span>&nbsp;<span class="op" id="4372965">&amp;&amp;</span>&nbsp;<span class="ident" id="4372968">off</span>&nbsp;<span class="op" id="4372972">&lt;</span>&nbsp;<span class="ident" id="4372974">u</span><span class="op" id="4372975">.</span><span class="ident" id="4372976">off</span><span class="op" id="4372979">+</span><span class="ident" id="4372980">Offset</span><span class="op" id="4372986">(</span><span class="builtinfunc" id="4372987">len</span><span class="op" id="4372990">(</span><span class="ident" id="4372991">u</span><span class="op" id="4372992">.</span><span class="ident" id="4372993">data</span><span class="op" id="4372997">)</span><span class="op" id="4372998">)</span>&nbsp;<span class="op" id="4373000">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373005">r</span><span class="op" id="4373006">.</span><span class="ident" id="4373007">unit</span>&nbsp;<span class="op" id="4373012">=</span>&nbsp;<span class="ident" id="4373014">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373019">r</span><span class="op" id="4373020">.</span><span class="ident" id="4373021">b</span>&nbsp;<span class="op" id="4373023">=</span>&nbsp;<span class="ident" id="4373025">makeBuf</span><span class="op" id="4373032">(</span><span class="ident" id="4373033">r</span><span class="op" id="4373034">.</span><span class="ident" id="4373035">d</span><span class="op" id="4373036">,</span>&nbsp;<span class="ident" id="4373038">u</span><span class="op" id="4373039">,</span>&nbsp;<span class="string" id="4373041">&#34;info&#34;</span><span class="op" id="4373047">,</span>&nbsp;<span class="ident" id="4373049">off</span><span class="op" id="4373052">,</span>&nbsp;<span class="ident" id="4373054">u</span><span class="op" id="4373055">.</span><span class="ident" id="4373056">data</span><span class="op" id="4373060">[</span><span class="ident" id="4373061">off</span><span class="op" id="4373064">-</span><span class="ident" id="4373065">u</span><span class="op" id="4373066">.</span><span class="ident" id="4373067">off</span><span class="op" id="4373070">:</span><span class="op" id="4373071">]</span><span class="op" id="4373072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373077">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4373086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4373089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373092">r</span><span class="op" id="4373093">.</span><span class="ident" id="4373094">err</span>&nbsp;<span class="op" id="4373098">=</span>&nbsp;<span class="ident" id="4373100">errors</span><span class="op" id="4373106">.</span><span class="ident" id="4373107">New</span><span class="op" id="4373110">(</span><span class="string" id="4373111">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="4373132">)</span><br>
<span class="lineno"></span><span class="op" id="4373134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="4373137">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="4373205">func</span>&nbsp;<span class="op" id="4373210">(</span><span class="ident" id="4373211">r</span>&nbsp;<span class="op" id="4373213">*</span><span class="ident" id="4373214">Reader</span><span class="op" id="4373220">)</span>&nbsp;<span class="ident" id="4373222">maybeNextUnit</span><span class="op" id="4373235">(</span><span class="op" id="4373236">)</span>&nbsp;<span class="op" id="4373238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373241">for</span>&nbsp;<span class="builtinfunc" id="4373245">len</span><span class="op" id="4373248">(</span><span class="ident" id="4373249">r</span><span class="op" id="4373250">.</span><span class="ident" id="4373251">b</span><span class="op" id="4373252">.</span><span class="ident" id="4373253">data</span><span class="op" id="4373257">)</span>&nbsp;<span class="op" id="4373259">==</span>&nbsp;<span class="num" id="4373262">0</span>&nbsp;<span class="op" id="4373264">&amp;&amp;</span>&nbsp;<span class="ident" id="4373267">r</span><span class="op" id="4373268">.</span><span class="ident" id="4373269">unit</span><span class="op" id="4373273">+</span><span class="num" id="4373274">1</span>&nbsp;<span class="op" id="4373276">&lt;</span>&nbsp;<span class="builtinfunc" id="4373278">len</span><span class="op" id="4373281">(</span><span class="ident" id="4373282">r</span><span class="op" id="4373283">.</span><span class="ident" id="4373284">d</span><span class="op" id="4373285">.</span><span class="ident" id="4373286">unit</span><span class="op" id="4373290">)</span>&nbsp;<span class="op" id="4373292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373296">r</span><span class="op" id="4373297">.</span><span class="ident" id="4373298">unit</span><span class="op" id="4373302">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373307">u</span>&nbsp;<span class="op" id="4373309">:=</span>&nbsp;<span class="op" id="4373312">&amp;</span><span class="ident" id="4373313">r</span><span class="op" id="4373314">.</span><span class="ident" id="4373315">d</span><span class="op" id="4373316">.</span><span class="ident" id="4373317">unit</span><span class="op" id="4373321">[</span><span class="ident" id="4373322">r</span><span class="op" id="4373323">.</span><span class="ident" id="4373324">unit</span><span class="op" id="4373328">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373332">r</span><span class="op" id="4373333">.</span><span class="ident" id="4373334">b</span>&nbsp;<span class="op" id="4373336">=</span>&nbsp;<span class="ident" id="4373338">makeBuf</span><span class="op" id="4373345">(</span><span class="ident" id="4373346">r</span><span class="op" id="4373347">.</span><span class="ident" id="4373348">d</span><span class="op" id="4373349">,</span>&nbsp;<span class="ident" id="4373351">u</span><span class="op" id="4373352">,</span>&nbsp;<span class="string" id="4373354">&#34;info&#34;</span><span class="op" id="4373360">,</span>&nbsp;<span class="ident" id="4373362">u</span><span class="op" id="4373363">.</span><span class="ident" id="4373364">off</span><span class="op" id="4373367">,</span>&nbsp;<span class="ident" id="4373369">u</span><span class="op" id="4373370">.</span><span class="ident" id="4373371">data</span><span class="op" id="4373375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4373378">}</span><br>
<span class="lineno"></span><span class="op" id="4373380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4373383">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="4373443">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="4373506">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4373581">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="4373627">func</span>&nbsp;<span class="op" id="4373632">(</span><span class="ident" id="4373633">r</span>&nbsp;<span class="op" id="4373635">*</span><span class="ident" id="4373636">Reader</span><span class="op" id="4373642">)</span>&nbsp;<span class="ident" id="4373644">Next</span><span class="op" id="4373648">(</span><span class="op" id="4373649">)</span>&nbsp;<span class="op" id="4373651">(</span><span class="op" id="4373652">*</span><span class="ident" id="4373653">Entry</span><span class="op" id="4373658">,</span>&nbsp;<span class="builtintype" id="4373660">error</span><span class="op" id="4373665">)</span>&nbsp;<span class="op" id="4373667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373670">if</span>&nbsp;<span class="ident" id="4373673">r</span><span class="op" id="4373674">.</span><span class="ident" id="4373675">err</span>&nbsp;<span class="op" id="4373679">!=</span>&nbsp;<span class="ident" id="4373682">nil</span>&nbsp;<span class="op" id="4373686">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373690">return</span>&nbsp;<span class="ident" id="4373697">nil</span><span class="op" id="4373700">,</span>&nbsp;<span class="ident" id="4373702">r</span><span class="op" id="4373703">.</span><span class="ident" id="4373704">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4373709">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373712">r</span><span class="op" id="4373713">.</span><span class="ident" id="4373714">maybeNextUnit</span><span class="op" id="4373727">(</span><span class="op" id="4373728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373731">if</span>&nbsp;<span class="builtinfunc" id="4373734">len</span><span class="op" id="4373737">(</span><span class="ident" id="4373738">r</span><span class="op" id="4373739">.</span><span class="ident" id="4373740">b</span><span class="op" id="4373741">.</span><span class="ident" id="4373742">data</span><span class="op" id="4373746">)</span>&nbsp;<span class="op" id="4373748">==</span>&nbsp;<span class="num" id="4373751">0</span>&nbsp;<span class="op" id="4373753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373757">return</span>&nbsp;<span class="ident" id="4373764">nil</span><span class="op" id="4373767">,</span>&nbsp;<span class="ident" id="4373769">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4373774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373777">u</span>&nbsp;<span class="op" id="4373779">:=</span>&nbsp;<span class="op" id="4373782">&amp;</span><span class="ident" id="4373783">r</span><span class="op" id="4373784">.</span><span class="ident" id="4373785">d</span><span class="op" id="4373786">.</span><span class="ident" id="4373787">unit</span><span class="op" id="4373791">[</span><span class="ident" id="4373792">r</span><span class="op" id="4373793">.</span><span class="ident" id="4373794">unit</span><span class="op" id="4373798">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373801">e</span>&nbsp;<span class="op" id="4373803">:=</span>&nbsp;<span class="ident" id="4373806">r</span><span class="op" id="4373807">.</span><span class="ident" id="4373808">b</span><span class="op" id="4373809">.</span><span class="ident" id="4373810">entry</span><span class="op" id="4373815">(</span><span class="ident" id="4373816">u</span><span class="op" id="4373817">.</span><span class="ident" id="4373818">atable</span><span class="op" id="4373824">,</span>&nbsp;<span class="ident" id="4373826">u</span><span class="op" id="4373827">.</span><span class="ident" id="4373828">base</span><span class="op" id="4373832">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373835">if</span>&nbsp;<span class="ident" id="4373838">r</span><span class="op" id="4373839">.</span><span class="ident" id="4373840">b</span><span class="op" id="4373841">.</span><span class="ident" id="4373842">err</span>&nbsp;<span class="op" id="4373846">!=</span>&nbsp;<span class="ident" id="4373849">nil</span>&nbsp;<span class="op" id="4373853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373857">r</span><span class="op" id="4373858">.</span><span class="ident" id="4373859">err</span>&nbsp;<span class="op" id="4373863">=</span>&nbsp;<span class="ident" id="4373865">r</span><span class="op" id="4373866">.</span><span class="ident" id="4373867">b</span><span class="op" id="4373868">.</span><span class="ident" id="4373869">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373875">return</span>&nbsp;<span class="ident" id="4373882">nil</span><span class="op" id="4373885">,</span>&nbsp;<span class="ident" id="4373887">r</span><span class="op" id="4373888">.</span><span class="ident" id="4373889">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4373894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373897">if</span>&nbsp;<span class="ident" id="4373900">e</span>&nbsp;<span class="op" id="4373902">!=</span>&nbsp;<span class="ident" id="4373905">nil</span>&nbsp;<span class="op" id="4373909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373913">r</span><span class="op" id="4373914">.</span><span class="ident" id="4373915">lastChildren</span>&nbsp;<span class="op" id="4373928">=</span>&nbsp;<span class="ident" id="4373930">e</span><span class="op" id="4373931">.</span><span class="ident" id="4373932">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4373943">if</span>&nbsp;<span class="ident" id="4373946">r</span><span class="op" id="4373947">.</span><span class="ident" id="4373948">lastChildren</span>&nbsp;<span class="op" id="4373961">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4373966">r</span><span class="op" id="4373967">.</span><span class="ident" id="4373968">lastSibling</span><span class="op" id="4373979">,</span>&nbsp;<span class="ident" id="4373981">_</span>&nbsp;<span class="op" id="4373983">=</span>&nbsp;<span class="ident" id="4373985">e</span><span class="op" id="4373986">.</span><span class="ident" id="4373987">Val</span><span class="op" id="4373990">(</span><span class="ident" id="4373991">AttrSibling</span><span class="op" id="4374002">)</span><span class="op" id="4374003">.</span><span class="op" id="4374004">(</span><span class="ident" id="4374005">Offset</span><span class="op" id="4374011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374018">}</span>&nbsp;<span class="keyword" id="4374020">else</span>&nbsp;<span class="op" id="4374025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4374029">r</span><span class="op" id="4374030">.</span><span class="ident" id="4374031">lastChildren</span>&nbsp;<span class="op" id="4374044">=</span>&nbsp;<span class="builtintype" id="4374046">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374053">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374056">return</span>&nbsp;<span class="ident" id="4374063">e</span><span class="op" id="4374064">,</span>&nbsp;<span class="ident" id="4374066">nil</span><br>
<span class="lineno"></span><span class="op" id="4374070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4374073">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="4374134">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="4374198">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="4374264">func</span>&nbsp;<span class="op" id="4374269">(</span><span class="ident" id="4374270">r</span>&nbsp;<span class="op" id="4374272">*</span><span class="ident" id="4374273">Reader</span><span class="op" id="4374279">)</span>&nbsp;<span class="ident" id="4374281">SkipChildren</span><span class="op" id="4374293">(</span><span class="op" id="4374294">)</span>&nbsp;<span class="op" id="4374296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374299">if</span>&nbsp;<span class="ident" id="4374302">r</span><span class="op" id="4374303">.</span><span class="ident" id="4374304">err</span>&nbsp;<span class="op" id="4374308">!=</span>&nbsp;<span class="ident" id="4374311">nil</span>&nbsp;<span class="op" id="4374315">||</span>&nbsp;<span class="op" id="4374318">!</span><span class="ident" id="4374319">r</span><span class="op" id="4374320">.</span><span class="ident" id="4374321">lastChildren</span>&nbsp;<span class="op" id="4374334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374338">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374346">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4374350">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4374397">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4374445">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4374487">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374507">if</span>&nbsp;<span class="ident" id="4374510">r</span><span class="op" id="4374511">.</span><span class="ident" id="4374512">lastSibling</span>&nbsp;<span class="op" id="4374524">&gt;=</span>&nbsp;<span class="ident" id="4374527">r</span><span class="op" id="4374528">.</span><span class="ident" id="4374529">b</span><span class="op" id="4374530">.</span><span class="ident" id="4374531">off</span>&nbsp;<span class="op" id="4374535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4374539">r</span><span class="op" id="4374540">.</span><span class="ident" id="4374541">Seek</span><span class="op" id="4374545">(</span><span class="ident" id="4374546">r</span><span class="op" id="4374547">.</span><span class="ident" id="4374548">lastSibling</span><span class="op" id="4374559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374563">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374575">for</span>&nbsp;<span class="op" id="4374579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4374583">e</span><span class="op" id="4374584">,</span>&nbsp;<span class="ident" id="4374586">err</span>&nbsp;<span class="op" id="4374590">:=</span>&nbsp;<span class="ident" id="4374593">r</span><span class="op" id="4374594">.</span><span class="ident" id="4374595">Next</span><span class="op" id="4374599">(</span><span class="op" id="4374600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374604">if</span>&nbsp;<span class="ident" id="4374607">err</span>&nbsp;<span class="op" id="4374611">!=</span>&nbsp;<span class="ident" id="4374614">nil</span>&nbsp;<span class="op" id="4374618">||</span>&nbsp;<span class="ident" id="4374621">e</span>&nbsp;<span class="op" id="4374623">==</span>&nbsp;<span class="ident" id="4374626">nil</span>&nbsp;<span class="op" id="4374630">||</span>&nbsp;<span class="ident" id="4374633">e</span><span class="op" id="4374634">.</span><span class="ident" id="4374635">Tag</span>&nbsp;<span class="op" id="4374639">==</span>&nbsp;<span class="num" id="4374642">0</span>&nbsp;<span class="op" id="4374644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374649">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374657">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374661">if</span>&nbsp;<span class="ident" id="4374664">e</span><span class="op" id="4374665">.</span><span class="ident" id="4374666">Children</span>&nbsp;<span class="op" id="4374675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4374680">r</span><span class="op" id="4374681">.</span><span class="ident" id="4374682">SkipChildren</span><span class="op" id="4374694">(</span><span class="op" id="4374695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374699">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4374702">}</span><br>
<span class="lineno"></span><span class="op" id="4374704">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="4374707">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="4374778">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4374792">func</span>&nbsp;<span class="op" id="4374797">(</span><span class="ident" id="4374798">r</span>&nbsp;<span class="op" id="4374800">*</span><span class="ident" id="4374801">Reader</span><span class="op" id="4374807">)</span>&nbsp;<span class="ident" id="4374809">clone</span><span class="op" id="4374814">(</span><span class="op" id="4374815">)</span>&nbsp;<span class="ident" id="4374817">typeReader</span>&nbsp;<span class="op" id="4374828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374831">return</span>&nbsp;<span class="ident" id="4374838">r</span><span class="op" id="4374839">.</span><span class="ident" id="4374840">d</span><span class="op" id="4374841">.</span><span class="ident" id="4374842">Reader</span><span class="op" id="4374848">(</span><span class="op" id="4374849">)</span><br>
<span class="lineno">395</span><span class="op" id="4374851">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4374854">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4374920">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="4374945">func</span>&nbsp;<span class="op" id="4374950">(</span><span class="ident" id="4374951">r</span>&nbsp;<span class="op" id="4374953">*</span><span class="ident" id="4374954">Reader</span><span class="op" id="4374960">)</span>&nbsp;<span class="ident" id="4374962">offset</span><span class="op" id="4374968">(</span><span class="op" id="4374969">)</span>&nbsp;<span class="ident" id="4374971">Offset</span>&nbsp;<span class="op" id="4374978">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4374981">return</span>&nbsp;<span class="ident" id="4374988">r</span><span class="op" id="4374989">.</span><span class="ident" id="4374990">b</span><span class="op" id="4374991">.</span><span class="ident" id="4374992">off</span><br>
<span class="lineno"></span><span class="op" id="4374996">}</span>
</div>
</body>
</html>
