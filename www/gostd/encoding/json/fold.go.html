<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html" class="current">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5382948">//&nbsp;Copyright&nbsp;2013&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5383003">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5383057">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5383108">package</span>&nbsp;<span class="ident" id="5383116">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5383122">import</span>&nbsp;<span class="op" id="5383129">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5383132">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5383141">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">10</span><span class="op" id="5383156">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5383159">const</span>&nbsp;<span class="op" id="5383165">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5383168">caseMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5383181">=</span>&nbsp;<span class="op" id="5383183">^</span><span class="builtintype" id="5383184">byte</span><span class="op" id="5383188">(</span><span class="num" id="5383189">0x20</span><span class="op" id="5383193">)</span>&nbsp;<span class="comment" id="5383195">//&nbsp;Mask&nbsp;to&nbsp;ignore&nbsp;case&nbsp;in&nbsp;ASCII.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5383229">kelvin</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5383242">=</span>&nbsp;<span class="string" id="5383244">&#39;\u212a&#39;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5383254">smallLongEss</span>&nbsp;<span class="op" id="5383267">=</span>&nbsp;<span class="string" id="5383269">&#39;\u017f&#39;</span><br>
<span class="lineno"></span><span class="op" id="5383278">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5383281">//&nbsp;foldFunc&nbsp;returns&nbsp;one&nbsp;of&nbsp;four&nbsp;different&nbsp;case&nbsp;folding&nbsp;equivalence</span><br>
<span class="lineno"></span><span class="comment" id="5383348">//&nbsp;functions,&nbsp;from&nbsp;most&nbsp;general&nbsp;(and&nbsp;slow)&nbsp;to&nbsp;fastest:</span><br>
<span class="lineno">20</span><span class="comment" id="5383403">//</span><br>
<span class="lineno"></span><span class="comment" id="5383406">//&nbsp;1)&nbsp;bytes.EqualFold,&nbsp;if&nbsp;the&nbsp;key&nbsp;s&nbsp;contains&nbsp;any&nbsp;non-ASCII&nbsp;UTF-8</span><br>
<span class="lineno"></span><span class="comment" id="5383471">//&nbsp;2)&nbsp;equalFoldRight,&nbsp;if&nbsp;s&nbsp;contains&nbsp;special&nbsp;folding&nbsp;ASCII&nbsp;(&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;&#39;S&#39;)</span><br>
<span class="lineno"></span><span class="comment" id="5383550">//&nbsp;3)&nbsp;asciiEqualFold,&nbsp;no&nbsp;special,&nbsp;but&nbsp;includes&nbsp;non-letters&nbsp;(including&nbsp;_)</span><br>
<span class="lineno"></span><span class="comment" id="5383623">//&nbsp;4)&nbsp;simpleLetterEqualFold,&nbsp;no&nbsp;specials,&nbsp;no&nbsp;non-letters.</span><br>
<span class="lineno">25</span><span class="comment" id="5383681">//</span><br>
<span class="lineno"></span><span class="comment" id="5383684">//&nbsp;The&nbsp;letters&nbsp;S&nbsp;and&nbsp;K&nbsp;are&nbsp;special&nbsp;because&nbsp;they&nbsp;map&nbsp;to&nbsp;3&nbsp;runes,&nbsp;not&nbsp;just&nbsp;2:</span><br>
<span class="lineno"></span><span class="comment" id="5383760">//&nbsp;&nbsp;*&nbsp;S&nbsp;maps&nbsp;to&nbsp;s&nbsp;and&nbsp;to&nbsp;U+017F&nbsp;&#39;ſ&#39;&nbsp;Latin&nbsp;small&nbsp;letter&nbsp;long&nbsp;s</span><br>
<span class="lineno"></span><span class="comment" id="5383823">//&nbsp;&nbsp;*&nbsp;k&nbsp;maps&nbsp;to&nbsp;K&nbsp;and&nbsp;to&nbsp;U+212A&nbsp;&#39;K&#39;&nbsp;Kelvin&nbsp;sign</span><br>
<span class="lineno"></span><span class="comment" id="5383873">//&nbsp;See&nbsp;http://play.golang.org/p/tTxjOc0OGo</span><br>
<span class="lineno">30</span><span class="comment" id="5383916">//</span><br>
<span class="lineno"></span><span class="comment" id="5383919">//&nbsp;The&nbsp;returned&nbsp;function&nbsp;is&nbsp;specialized&nbsp;for&nbsp;matching&nbsp;against&nbsp;s&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="5383986">//&nbsp;should&nbsp;only&nbsp;be&nbsp;given&nbsp;s.&nbsp;It&#39;s&nbsp;not&nbsp;curried&nbsp;for&nbsp;performance&nbsp;reasons.</span><br>
<span class="lineno"></span><span class="keyword" id="5384055">func</span>&nbsp;<span class="ident" id="5384060">foldFunc</span><span class="op" id="5384068">(</span><span class="ident" id="5384069">s</span>&nbsp;<span class="op" id="5384071">[</span><span class="op" id="5384072">]</span><span class="builtintype" id="5384073">byte</span><span class="op" id="5384077">)</span>&nbsp;<span class="keyword" id="5384079">func</span><span class="op" id="5384083">(</span><span class="ident" id="5384084">s</span><span class="op" id="5384085">,</span>&nbsp;<span class="ident" id="5384087">t</span>&nbsp;<span class="op" id="5384089">[</span><span class="op" id="5384090">]</span><span class="builtintype" id="5384091">byte</span><span class="op" id="5384095">)</span>&nbsp;<span class="builtintype" id="5384097">bool</span>&nbsp;<span class="op" id="5384102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384105">nonLetter</span>&nbsp;<span class="op" id="5384115">:=</span>&nbsp;<span class="builtintype" id="5384118">false</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384125">special</span>&nbsp;<span class="op" id="5384133">:=</span>&nbsp;<span class="builtintype" id="5384136">false</span>&nbsp;<span class="comment" id="5384142">//&nbsp;special&nbsp;letter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384161">for</span>&nbsp;<span class="ident" id="5384165">_</span><span class="op" id="5384166">,</span>&nbsp;<span class="ident" id="5384168">b</span>&nbsp;<span class="op" id="5384170">:=</span>&nbsp;<span class="keyword" id="5384173">range</span>&nbsp;<span class="ident" id="5384179">s</span>&nbsp;<span class="op" id="5384181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384185">if</span>&nbsp;<span class="ident" id="5384188">b</span>&nbsp;<span class="op" id="5384190">&gt;=</span>&nbsp;<span class="ident" id="5384193">utf8</span><span class="op" id="5384197">.</span><span class="ident" id="5384198">RuneSelf</span>&nbsp;<span class="op" id="5384207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384212">return</span>&nbsp;<span class="ident" id="5384219">bytes</span><span class="op" id="5384224">.</span><span class="ident" id="5384225">EqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384237">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384241">upper</span>&nbsp;<span class="op" id="5384247">:=</span>&nbsp;<span class="ident" id="5384250">b</span>&nbsp;<span class="op" id="5384252">&amp;</span>&nbsp;<span class="ident" id="5384254">caseMask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384265">if</span>&nbsp;<span class="ident" id="5384268">upper</span>&nbsp;<span class="op" id="5384274">&lt;</span>&nbsp;<span class="string" id="5384276">&#39;A&#39;</span>&nbsp;<span class="op" id="5384280">||</span>&nbsp;<span class="ident" id="5384283">upper</span>&nbsp;<span class="op" id="5384289">&gt;</span>&nbsp;<span class="string" id="5384291">&#39;Z&#39;</span>&nbsp;<span class="op" id="5384295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384300">nonLetter</span>&nbsp;<span class="op" id="5384310">=</span>&nbsp;<span class="builtintype" id="5384312">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384319">}</span>&nbsp;<span class="keyword" id="5384321">else</span>&nbsp;<span class="keyword" id="5384326">if</span>&nbsp;<span class="ident" id="5384329">upper</span>&nbsp;<span class="op" id="5384335">==</span>&nbsp;<span class="string" id="5384338">&#39;K&#39;</span>&nbsp;<span class="op" id="5384342">||</span>&nbsp;<span class="ident" id="5384345">upper</span>&nbsp;<span class="op" id="5384351">==</span>&nbsp;<span class="string" id="5384354">&#39;S&#39;</span>&nbsp;<span class="op" id="5384358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5384363">//&nbsp;See&nbsp;above&nbsp;for&nbsp;why&nbsp;these&nbsp;letters&nbsp;are&nbsp;special.</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384414">special</span>&nbsp;<span class="op" id="5384422">=</span>&nbsp;<span class="builtintype" id="5384424">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384437">if</span>&nbsp;<span class="ident" id="5384440">special</span>&nbsp;<span class="op" id="5384448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384452">return</span>&nbsp;<span class="ident" id="5384459">equalFoldRight</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384478">if</span>&nbsp;<span class="ident" id="5384481">nonLetter</span>&nbsp;<span class="op" id="5384491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384495">return</span>&nbsp;<span class="ident" id="5384502">asciiEqualFold</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384521">return</span>&nbsp;<span class="ident" id="5384528">simpleLetterEqualFold</span><br>
<span class="lineno">55</span><span class="op" id="5384550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5384553">//&nbsp;equalFoldRight&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;when&nbsp;s&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="5384620">//&nbsp;known&nbsp;to&nbsp;be&nbsp;all&nbsp;ASCII&nbsp;(including&nbsp;punctuation),&nbsp;but&nbsp;contains&nbsp;an&nbsp;&#39;s&#39;,</span><br>
<span class="lineno"></span><span class="comment" id="5384691">//&nbsp;&#39;S&#39;,&nbsp;&#39;k&#39;,&nbsp;or&nbsp;&#39;K&#39;,&nbsp;requiring&nbsp;a&nbsp;Unicode&nbsp;fold&nbsp;on&nbsp;the&nbsp;bytes&nbsp;in&nbsp;t.</span><br>
<span class="lineno">60</span><span class="comment" id="5384756">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="5384785">func</span>&nbsp;<span class="ident" id="5384790">equalFoldRight</span><span class="op" id="5384804">(</span><span class="ident" id="5384805">s</span><span class="op" id="5384806">,</span>&nbsp;<span class="ident" id="5384808">t</span>&nbsp;<span class="op" id="5384810">[</span><span class="op" id="5384811">]</span><span class="builtintype" id="5384812">byte</span><span class="op" id="5384816">)</span>&nbsp;<span class="builtintype" id="5384818">bool</span>&nbsp;<span class="op" id="5384823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384826">for</span>&nbsp;<span class="ident" id="5384830">_</span><span class="op" id="5384831">,</span>&nbsp;<span class="ident" id="5384833">sb</span>&nbsp;<span class="op" id="5384836">:=</span>&nbsp;<span class="keyword" id="5384839">range</span>&nbsp;<span class="ident" id="5384845">s</span>&nbsp;<span class="op" id="5384847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384851">if</span>&nbsp;<span class="builtinfunc" id="5384854">len</span><span class="op" id="5384857">(</span><span class="ident" id="5384858">t</span><span class="op" id="5384859">)</span>&nbsp;<span class="op" id="5384861">==</span>&nbsp;<span class="num" id="5384864">0</span>&nbsp;<span class="op" id="5384866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384871">return</span>&nbsp;<span class="builtintype" id="5384878">false</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5384886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384890">tb</span>&nbsp;<span class="op" id="5384893">:=</span>&nbsp;<span class="ident" id="5384896">t</span><span class="op" id="5384897">[</span><span class="num" id="5384898">0</span><span class="op" id="5384899">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384903">if</span>&nbsp;<span class="ident" id="5384906">tb</span>&nbsp;<span class="op" id="5384909">&lt;</span>&nbsp;<span class="ident" id="5384911">utf8</span><span class="op" id="5384915">.</span><span class="ident" id="5384916">RuneSelf</span>&nbsp;<span class="op" id="5384925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384930">if</span>&nbsp;<span class="ident" id="5384933">sb</span>&nbsp;<span class="op" id="5384936">!=</span>&nbsp;<span class="ident" id="5384939">tb</span>&nbsp;<span class="op" id="5384942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5384948">sbUpper</span>&nbsp;<span class="op" id="5384956">:=</span>&nbsp;<span class="ident" id="5384959">sb</span>&nbsp;<span class="op" id="5384962">&amp;</span>&nbsp;<span class="ident" id="5384964">caseMask</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5384977">if</span>&nbsp;<span class="string" id="5384980">&#39;A&#39;</span>&nbsp;<span class="op" id="5384984">&lt;=</span>&nbsp;<span class="ident" id="5384987">sbUpper</span>&nbsp;<span class="op" id="5384995">&amp;&amp;</span>&nbsp;<span class="ident" id="5384998">sbUpper</span>&nbsp;<span class="op" id="5385006">&lt;=</span>&nbsp;<span class="string" id="5385009">&#39;Z&#39;</span>&nbsp;<span class="op" id="5385013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385020">if</span>&nbsp;<span class="ident" id="5385023">sbUpper</span>&nbsp;<span class="op" id="5385031">!=</span>&nbsp;<span class="ident" id="5385034">tb</span><span class="op" id="5385036">&amp;</span><span class="ident" id="5385037">caseMask</span>&nbsp;<span class="op" id="5385046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385054">return</span>&nbsp;<span class="builtintype" id="5385061">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385078">}</span>&nbsp;<span class="keyword" id="5385080">else</span>&nbsp;<span class="op" id="5385085">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385092">return</span>&nbsp;<span class="builtintype" id="5385099">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5385119">t</span>&nbsp;<span class="op" id="5385121">=</span>&nbsp;<span class="ident" id="5385123">t</span><span class="op" id="5385124">[</span><span class="num" id="5385125">1</span><span class="op" id="5385126">:</span><span class="op" id="5385127">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385132">continue</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5385147">//&nbsp;sb&nbsp;is&nbsp;ASCII&nbsp;and&nbsp;t&nbsp;is&nbsp;not.&nbsp;t&nbsp;must&nbsp;be&nbsp;either&nbsp;kelvin</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5385202">//&nbsp;sign&nbsp;or&nbsp;long&nbsp;s;&nbsp;sb&nbsp;must&nbsp;be&nbsp;s,&nbsp;S,&nbsp;k,&nbsp;or&nbsp;K.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5385249">tr</span><span class="op" id="5385251">,</span>&nbsp;<span class="ident" id="5385253">size</span>&nbsp;<span class="op" id="5385258">:=</span>&nbsp;<span class="ident" id="5385261">utf8</span><span class="op" id="5385265">.</span><span class="ident" id="5385266">DecodeRune</span><span class="op" id="5385276">(</span><span class="ident" id="5385277">t</span><span class="op" id="5385278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385282">switch</span>&nbsp;<span class="ident" id="5385289">sb</span>&nbsp;<span class="op" id="5385292">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385296">case</span>&nbsp;<span class="string" id="5385301">&#39;s&#39;</span><span class="op" id="5385304">,</span>&nbsp;<span class="string" id="5385306">&#39;S&#39;</span><span class="op" id="5385309">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385314">if</span>&nbsp;<span class="ident" id="5385317">tr</span>&nbsp;<span class="op" id="5385320">!=</span>&nbsp;<span class="ident" id="5385323">smallLongEss</span>&nbsp;<span class="op" id="5385336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385342">return</span>&nbsp;<span class="builtintype" id="5385349">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385362">case</span>&nbsp;<span class="string" id="5385367">&#39;k&#39;</span><span class="op" id="5385370">,</span>&nbsp;<span class="string" id="5385372">&#39;K&#39;</span><span class="op" id="5385375">:</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385380">if</span>&nbsp;<span class="ident" id="5385383">tr</span>&nbsp;<span class="op" id="5385386">!=</span>&nbsp;<span class="ident" id="5385389">kelvin</span>&nbsp;<span class="op" id="5385396">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385402">return</span>&nbsp;<span class="builtintype" id="5385409">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385422">default</span><span class="op" id="5385429">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385434">return</span>&nbsp;<span class="builtintype" id="5385441">false</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5385453">t</span>&nbsp;<span class="op" id="5385455">=</span>&nbsp;<span class="ident" id="5385457">t</span><span class="op" id="5385458">[</span><span class="ident" id="5385459">size</span><span class="op" id="5385463">:</span><span class="op" id="5385464">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385471">if</span>&nbsp;<span class="builtinfunc" id="5385474">len</span><span class="op" id="5385477">(</span><span class="ident" id="5385478">t</span><span class="op" id="5385479">)</span>&nbsp;<span class="op" id="5385481">&gt;</span>&nbsp;<span class="num" id="5385483">0</span>&nbsp;<span class="op" id="5385485">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385489">return</span>&nbsp;<span class="builtintype" id="5385496">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385506">return</span>&nbsp;<span class="builtintype" id="5385513">true</span><br>
<span class="lineno"></span><span class="op" id="5385518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="5385521">//&nbsp;asciiEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for&nbsp;use&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="5385591">//&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;(but&nbsp;may&nbsp;contain&nbsp;non-letters)&nbsp;and&nbsp;contains&nbsp;no</span><br>
<span class="lineno"></span><span class="comment" id="5385655">//&nbsp;special-folding&nbsp;letters.</span><br>
<span class="lineno"></span><span class="comment" id="5385683">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="5385712">func</span>&nbsp;<span class="ident" id="5385717">asciiEqualFold</span><span class="op" id="5385731">(</span><span class="ident" id="5385732">s</span><span class="op" id="5385733">,</span>&nbsp;<span class="ident" id="5385735">t</span>&nbsp;<span class="op" id="5385737">[</span><span class="op" id="5385738">]</span><span class="builtintype" id="5385739">byte</span><span class="op" id="5385743">)</span>&nbsp;<span class="builtintype" id="5385745">bool</span>&nbsp;<span class="op" id="5385750">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385753">if</span>&nbsp;<span class="builtinfunc" id="5385756">len</span><span class="op" id="5385759">(</span><span class="ident" id="5385760">s</span><span class="op" id="5385761">)</span>&nbsp;<span class="op" id="5385763">!=</span>&nbsp;<span class="builtinfunc" id="5385766">len</span><span class="op" id="5385769">(</span><span class="ident" id="5385770">t</span><span class="op" id="5385771">)</span>&nbsp;<span class="op" id="5385773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385777">return</span>&nbsp;<span class="builtintype" id="5385784">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385794">for</span>&nbsp;<span class="ident" id="5385798">i</span><span class="op" id="5385799">,</span>&nbsp;<span class="ident" id="5385801">sb</span>&nbsp;<span class="op" id="5385804">:=</span>&nbsp;<span class="keyword" id="5385807">range</span>&nbsp;<span class="ident" id="5385813">s</span>&nbsp;<span class="op" id="5385815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5385819">tb</span>&nbsp;<span class="op" id="5385822">:=</span>&nbsp;<span class="ident" id="5385825">t</span><span class="op" id="5385826">[</span><span class="ident" id="5385827">i</span><span class="op" id="5385828">]</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385832">if</span>&nbsp;<span class="ident" id="5385835">sb</span>&nbsp;<span class="op" id="5385838">==</span>&nbsp;<span class="ident" id="5385841">tb</span>&nbsp;<span class="op" id="5385844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385849">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385864">if</span>&nbsp;<span class="op" id="5385867">(</span><span class="string" id="5385868">&#39;a&#39;</span>&nbsp;<span class="op" id="5385872">&lt;=</span>&nbsp;<span class="ident" id="5385875">sb</span>&nbsp;<span class="op" id="5385878">&amp;&amp;</span>&nbsp;<span class="ident" id="5385881">sb</span>&nbsp;<span class="op" id="5385884">&lt;=</span>&nbsp;<span class="string" id="5385887">&#39;z&#39;</span><span class="op" id="5385890">)</span>&nbsp;<span class="op" id="5385892">||</span>&nbsp;<span class="op" id="5385895">(</span><span class="string" id="5385896">&#39;A&#39;</span>&nbsp;<span class="op" id="5385900">&lt;=</span>&nbsp;<span class="ident" id="5385903">sb</span>&nbsp;<span class="op" id="5385906">&amp;&amp;</span>&nbsp;<span class="ident" id="5385909">sb</span>&nbsp;<span class="op" id="5385912">&lt;=</span>&nbsp;<span class="string" id="5385915">&#39;Z&#39;</span><span class="op" id="5385918">)</span>&nbsp;<span class="op" id="5385920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385925">if</span>&nbsp;<span class="ident" id="5385928">sb</span><span class="op" id="5385930">&amp;</span><span class="ident" id="5385931">caseMask</span>&nbsp;<span class="op" id="5385940">!=</span>&nbsp;<span class="ident" id="5385943">tb</span><span class="op" id="5385945">&amp;</span><span class="ident" id="5385946">caseMask</span>&nbsp;<span class="op" id="5385955">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385961">return</span>&nbsp;<span class="builtintype" id="5385968">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5385981">}</span>&nbsp;<span class="keyword" id="5385983">else</span>&nbsp;<span class="op" id="5385988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5385993">return</span>&nbsp;<span class="builtintype" id="5386000">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5386008">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5386011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386014">return</span>&nbsp;<span class="builtintype" id="5386021">true</span><br>
<span class="lineno"></span><span class="op" id="5386026">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5386029">//&nbsp;simpleLetterEqualFold&nbsp;is&nbsp;a&nbsp;specialization&nbsp;of&nbsp;bytes.EqualFold&nbsp;for</span><br>
<span class="lineno">130</span><span class="comment" id="5386097">//&nbsp;use&nbsp;when&nbsp;s&nbsp;is&nbsp;all&nbsp;ASCII&nbsp;letters&nbsp;(no&nbsp;underscores,&nbsp;etc)&nbsp;and&nbsp;also</span><br>
<span class="lineno"></span><span class="comment" id="5386163">//&nbsp;doesn&#39;t&nbsp;contain&nbsp;&#39;k&#39;,&nbsp;&#39;K&#39;,&nbsp;&#39;s&#39;,&nbsp;or&nbsp;&#39;S&#39;.</span><br>
<span class="lineno"></span><span class="comment" id="5386205">//&nbsp;See&nbsp;comments&nbsp;on&nbsp;foldFunc.</span><br>
<span class="lineno"></span><span class="keyword" id="5386234">func</span>&nbsp;<span class="ident" id="5386239">simpleLetterEqualFold</span><span class="op" id="5386260">(</span><span class="ident" id="5386261">s</span><span class="op" id="5386262">,</span>&nbsp;<span class="ident" id="5386264">t</span>&nbsp;<span class="op" id="5386266">[</span><span class="op" id="5386267">]</span><span class="builtintype" id="5386268">byte</span><span class="op" id="5386272">)</span>&nbsp;<span class="builtintype" id="5386274">bool</span>&nbsp;<span class="op" id="5386279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386282">if</span>&nbsp;<span class="builtinfunc" id="5386285">len</span><span class="op" id="5386288">(</span><span class="ident" id="5386289">s</span><span class="op" id="5386290">)</span>&nbsp;<span class="op" id="5386292">!=</span>&nbsp;<span class="builtinfunc" id="5386295">len</span><span class="op" id="5386298">(</span><span class="ident" id="5386299">t</span><span class="op" id="5386300">)</span>&nbsp;<span class="op" id="5386302">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386306">return</span>&nbsp;<span class="builtintype" id="5386313">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5386320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386323">for</span>&nbsp;<span class="ident" id="5386327">i</span><span class="op" id="5386328">,</span>&nbsp;<span class="ident" id="5386330">b</span>&nbsp;<span class="op" id="5386332">:=</span>&nbsp;<span class="keyword" id="5386335">range</span>&nbsp;<span class="ident" id="5386341">s</span>&nbsp;<span class="op" id="5386343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386347">if</span>&nbsp;<span class="ident" id="5386350">b</span><span class="op" id="5386351">&amp;</span><span class="ident" id="5386352">caseMask</span>&nbsp;<span class="op" id="5386361">!=</span>&nbsp;<span class="ident" id="5386364">t</span><span class="op" id="5386365">[</span><span class="ident" id="5386366">i</span><span class="op" id="5386367">]</span><span class="op" id="5386368">&amp;</span><span class="ident" id="5386369">caseMask</span>&nbsp;<span class="op" id="5386378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386383">return</span>&nbsp;<span class="builtintype" id="5386390">false</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5386398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5386401">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5386404">return</span>&nbsp;<span class="builtintype" id="5386411">true</span><br>
<span class="lineno"></span><span class="op" id="5386416">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
