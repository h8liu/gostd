<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7434707">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7434763">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7434817">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7434868">package</span>&nbsp;<span class="ident" id="7434876">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7434883">import</span>&nbsp;<span class="op" id="7434890">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434893">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434906">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434913">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434926">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434932">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434943">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434960">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434971">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7434982">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7434992">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7434995">var</span>&nbsp;<span class="op" id="7434999">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435002">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7435019">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435027">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7435044">string</span><br>
<span class="lineno"></span><span class="op" id="7435051">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7435054">func</span>&nbsp;<span class="ident" id="7435059">dotest</span><span class="op" id="7435065">(</span><span class="ident" id="7435066">self</span>&nbsp;<span class="builtintype" id="7435071">bool</span><span class="op" id="7435075">)</span>&nbsp;<span class="builtintype" id="7435077">bool</span>&nbsp;<span class="op" id="7435082">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435085">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435129">if</span>&nbsp;<span class="ident" id="7435132">runtime</span><span class="op" id="7435139">.</span><span class="ident" id="7435140">GOARCH</span>&nbsp;<span class="op" id="7435147">!=</span>&nbsp;<span class="string" id="7435150">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7435158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435162">return</span>&nbsp;<span class="builtintype" id="7435169">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435179">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435233">if</span>&nbsp;<span class="ident" id="7435236">self</span>&nbsp;<span class="op" id="7435241">&amp;&amp;</span>&nbsp;<span class="ident" id="7435244">runtime</span><span class="op" id="7435251">.</span><span class="ident" id="7435252">GOOS</span>&nbsp;<span class="op" id="7435257">!=</span>&nbsp;<span class="string" id="7435260">&#34;linux&#34;</span>&nbsp;<span class="op" id="7435268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435272">return</span>&nbsp;<span class="builtintype" id="7435279">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435289">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435330">if</span>&nbsp;<span class="ident" id="7435333">runtime</span><span class="op" id="7435340">.</span><span class="ident" id="7435341">GOOS</span>&nbsp;<span class="op" id="7435346">==</span>&nbsp;<span class="string" id="7435349">&#34;windows&#34;</span>&nbsp;<span class="op" id="7435359">||</span>&nbsp;<span class="ident" id="7435362">runtime</span><span class="op" id="7435369">.</span><span class="ident" id="7435370">GOOS</span>&nbsp;<span class="op" id="7435375">==</span>&nbsp;<span class="string" id="7435378">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7435386">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435390">return</span>&nbsp;<span class="builtintype" id="7435397">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435407">if</span>&nbsp;<span class="ident" id="7435410">pclinetestBinary</span>&nbsp;<span class="op" id="7435427">!=</span>&nbsp;<span class="string" id="7435430">&#34;&#34;</span>&nbsp;<span class="op" id="7435433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435437">return</span>&nbsp;<span class="builtintype" id="7435444">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435450">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435453">var</span>&nbsp;<span class="ident" id="7435457">err</span>&nbsp;<span class="builtintype" id="7435461">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435468">pclineTempDir</span><span class="op" id="7435481">,</span>&nbsp;<span class="ident" id="7435483">err</span>&nbsp;<span class="op" id="7435487">=</span>&nbsp;<span class="ident" id="7435489">ioutil</span><span class="op" id="7435495">.</span><span class="ident" id="7435496">TempDir</span><span class="op" id="7435503">(</span><span class="string" id="7435504">&#34;&#34;</span><span class="op" id="7435506">,</span>&nbsp;<span class="string" id="7435508">&#34;pclinetest&#34;</span><span class="op" id="7435520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435523">if</span>&nbsp;<span class="ident" id="7435526">err</span>&nbsp;<span class="op" id="7435530">!=</span>&nbsp;<span class="ident" id="7435533">nil</span>&nbsp;<span class="op" id="7435537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7435541">panic</span><span class="op" id="7435546">(</span><span class="ident" id="7435547">err</span><span class="op" id="7435550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435553">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7435556">if</span>&nbsp;<span class="ident" id="7435559">strings</span><span class="op" id="7435566">.</span><span class="ident" id="7435567">Contains</span><span class="op" id="7435575">(</span><span class="ident" id="7435576">pclineTempDir</span><span class="op" id="7435589">,</span>&nbsp;<span class="string" id="7435591">&#34;&nbsp;&#34;</span><span class="op" id="7435594">)</span>&nbsp;<span class="op" id="7435596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7435600">panic</span><span class="op" id="7435605">(</span><span class="string" id="7435606">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7435635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7435638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435641">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435697">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7435765">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435826">pclinetestBinary</span>&nbsp;<span class="op" id="7435843">=</span>&nbsp;<span class="ident" id="7435845">filepath</span><span class="op" id="7435853">.</span><span class="ident" id="7435854">Join</span><span class="op" id="7435858">(</span><span class="ident" id="7435859">pclineTempDir</span><span class="op" id="7435872">,</span>&nbsp;<span class="string" id="7435874">&#34;pclinetest&#34;</span><span class="op" id="7435886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435889">command</span>&nbsp;<span class="op" id="7435897">:=</span>&nbsp;<span class="ident" id="7435900">fmt</span><span class="op" id="7435903">.</span><span class="ident" id="7435904">Sprintf</span><span class="op" id="7435911">(</span><span class="string" id="7435912">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7435989">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7435993">pclinetestBinary</span><span class="op" id="7436009">,</span>&nbsp;<span class="ident" id="7436011">pclinetestBinary</span><span class="op" id="7436027">,</span>&nbsp;<span class="ident" id="7436029">pclinetestBinary</span><span class="op" id="7436045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436048">cmd</span>&nbsp;<span class="op" id="7436052">:=</span>&nbsp;<span class="ident" id="7436055">exec</span><span class="op" id="7436059">.</span><span class="ident" id="7436060">Command</span><span class="op" id="7436067">(</span><span class="string" id="7436068">&#34;sh&#34;</span><span class="op" id="7436072">,</span>&nbsp;<span class="string" id="7436074">&#34;-c&#34;</span><span class="op" id="7436078">,</span>&nbsp;<span class="ident" id="7436080">command</span><span class="op" id="7436087">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436090">cmd</span><span class="op" id="7436093">.</span><span class="ident" id="7436094">Stdout</span>&nbsp;<span class="op" id="7436101">=</span>&nbsp;<span class="ident" id="7436103">os</span><span class="op" id="7436105">.</span><span class="ident" id="7436106">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436114">cmd</span><span class="op" id="7436117">.</span><span class="ident" id="7436118">Stderr</span>&nbsp;<span class="op" id="7436125">=</span>&nbsp;<span class="ident" id="7436127">os</span><span class="op" id="7436129">.</span><span class="ident" id="7436130">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436138">if</span>&nbsp;<span class="ident" id="7436141">err</span>&nbsp;<span class="op" id="7436145">:=</span>&nbsp;<span class="ident" id="7436148">cmd</span><span class="op" id="7436151">.</span><span class="ident" id="7436152">Run</span><span class="op" id="7436155">(</span><span class="op" id="7436156">)</span><span class="op" id="7436157">;</span>&nbsp;<span class="ident" id="7436159">err</span>&nbsp;<span class="op" id="7436163">!=</span>&nbsp;<span class="ident" id="7436166">nil</span>&nbsp;<span class="op" id="7436170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7436174">panic</span><span class="op" id="7436179">(</span><span class="ident" id="7436180">err</span><span class="op" id="7436183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436186">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436189">return</span>&nbsp;<span class="builtintype" id="7436196">true</span><br>
<span class="lineno"></span><span class="op" id="7436201">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7436204">func</span>&nbsp;<span class="ident" id="7436209">endtest</span><span class="op" id="7436216">(</span><span class="op" id="7436217">)</span>&nbsp;<span class="op" id="7436219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436222">if</span>&nbsp;<span class="ident" id="7436225">pclineTempDir</span>&nbsp;<span class="op" id="7436239">!=</span>&nbsp;<span class="string" id="7436242">&#34;&#34;</span>&nbsp;<span class="op" id="7436245">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436249">os</span><span class="op" id="7436251">.</span><span class="ident" id="7436252">RemoveAll</span><span class="op" id="7436261">(</span><span class="ident" id="7436262">pclineTempDir</span><span class="op" id="7436275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436279">pclineTempDir</span>&nbsp;<span class="op" id="7436293">=</span>&nbsp;<span class="string" id="7436295">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436300">pclinetestBinary</span>&nbsp;<span class="op" id="7436317">=</span>&nbsp;<span class="string" id="7436319">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436323">}</span><br>
<span class="lineno"></span><span class="op" id="7436325">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7436328">func</span>&nbsp;<span class="ident" id="7436333">getTable</span><span class="op" id="7436341">(</span><span class="ident" id="7436342">t</span>&nbsp;<span class="op" id="7436344">*</span><span class="ident" id="7436345">testing</span><span class="op" id="7436352">.</span><span class="ident" id="7436353">T</span><span class="op" id="7436354">)</span>&nbsp;<span class="op" id="7436356">*</span><span class="ident" id="7436357">Table</span>&nbsp;<span class="op" id="7436363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436366">f</span><span class="op" id="7436367">,</span>&nbsp;<span class="ident" id="7436369">tab</span>&nbsp;<span class="op" id="7436373">:=</span>&nbsp;<span class="ident" id="7436376">crack</span><span class="op" id="7436381">(</span><span class="ident" id="7436382">os</span><span class="op" id="7436384">.</span><span class="ident" id="7436385">Args</span><span class="op" id="7436389">[</span><span class="num" id="7436390">0</span><span class="op" id="7436391">]</span><span class="op" id="7436392">,</span>&nbsp;<span class="ident" id="7436394">t</span><span class="op" id="7436395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436398">f</span><span class="op" id="7436399">.</span><span class="ident" id="7436400">Close</span><span class="op" id="7436405">(</span><span class="op" id="7436406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436409">return</span>&nbsp;<span class="ident" id="7436416">tab</span><br>
<span class="lineno">75</span><span class="op" id="7436420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7436423">func</span>&nbsp;<span class="ident" id="7436428">crack</span><span class="op" id="7436433">(</span><span class="ident" id="7436434">file</span>&nbsp;<span class="builtintype" id="7436439">string</span><span class="op" id="7436445">,</span>&nbsp;<span class="ident" id="7436447">t</span>&nbsp;<span class="op" id="7436449">*</span><span class="ident" id="7436450">testing</span><span class="op" id="7436457">.</span><span class="ident" id="7436458">T</span><span class="op" id="7436459">)</span>&nbsp;<span class="op" id="7436461">(</span><span class="op" id="7436462">*</span><span class="ident" id="7436463">elf</span><span class="op" id="7436466">.</span><span class="ident" id="7436467">File</span><span class="op" id="7436471">,</span>&nbsp;<span class="op" id="7436473">*</span><span class="ident" id="7436474">Table</span><span class="op" id="7436479">)</span>&nbsp;<span class="op" id="7436481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7436484">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436498">f</span><span class="op" id="7436499">,</span>&nbsp;<span class="ident" id="7436501">err</span>&nbsp;<span class="op" id="7436505">:=</span>&nbsp;<span class="ident" id="7436508">elf</span><span class="op" id="7436511">.</span><span class="ident" id="7436512">Open</span><span class="op" id="7436516">(</span><span class="ident" id="7436517">file</span><span class="op" id="7436521">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436524">if</span>&nbsp;<span class="ident" id="7436527">err</span>&nbsp;<span class="op" id="7436531">!=</span>&nbsp;<span class="ident" id="7436534">nil</span>&nbsp;<span class="op" id="7436538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436542">t</span><span class="op" id="7436543">.</span><span class="ident" id="7436544">Fatal</span><span class="op" id="7436549">(</span><span class="ident" id="7436550">err</span><span class="op" id="7436553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436559">return</span>&nbsp;<span class="ident" id="7436566">parse</span><span class="op" id="7436571">(</span><span class="ident" id="7436572">file</span><span class="op" id="7436576">,</span>&nbsp;<span class="ident" id="7436578">f</span><span class="op" id="7436579">,</span>&nbsp;<span class="ident" id="7436581">t</span><span class="op" id="7436582">)</span><br>
<span class="lineno"></span><span class="op" id="7436584">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7436587">func</span>&nbsp;<span class="ident" id="7436592">parse</span><span class="op" id="7436597">(</span><span class="ident" id="7436598">file</span>&nbsp;<span class="builtintype" id="7436603">string</span><span class="op" id="7436609">,</span>&nbsp;<span class="ident" id="7436611">f</span>&nbsp;<span class="op" id="7436613">*</span><span class="ident" id="7436614">elf</span><span class="op" id="7436617">.</span><span class="ident" id="7436618">File</span><span class="op" id="7436622">,</span>&nbsp;<span class="ident" id="7436624">t</span>&nbsp;<span class="op" id="7436626">*</span><span class="ident" id="7436627">testing</span><span class="op" id="7436634">.</span><span class="ident" id="7436635">T</span><span class="op" id="7436636">)</span>&nbsp;<span class="op" id="7436638">(</span><span class="op" id="7436639">*</span><span class="ident" id="7436640">elf</span><span class="op" id="7436643">.</span><span class="ident" id="7436644">File</span><span class="op" id="7436648">,</span>&nbsp;<span class="op" id="7436650">*</span><span class="ident" id="7436651">Table</span><span class="op" id="7436656">)</span>&nbsp;<span class="op" id="7436658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436661">symdat</span><span class="op" id="7436667">,</span>&nbsp;<span class="ident" id="7436669">err</span>&nbsp;<span class="op" id="7436673">:=</span>&nbsp;<span class="ident" id="7436676">f</span><span class="op" id="7436677">.</span><span class="ident" id="7436678">Section</span><span class="op" id="7436685">(</span><span class="string" id="7436686">&#34;.gosymtab&#34;</span><span class="op" id="7436697">)</span><span class="op" id="7436698">.</span><span class="ident" id="7436699">Data</span><span class="op" id="7436703">(</span><span class="op" id="7436704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436707">if</span>&nbsp;<span class="ident" id="7436710">err</span>&nbsp;<span class="op" id="7436714">!=</span>&nbsp;<span class="ident" id="7436717">nil</span>&nbsp;<span class="op" id="7436721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436725">f</span><span class="op" id="7436726">.</span><span class="ident" id="7436727">Close</span><span class="op" id="7436732">(</span><span class="op" id="7436733">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436737">t</span><span class="op" id="7436738">.</span><span class="ident" id="7436739">Fatalf</span><span class="op" id="7436745">(</span><span class="string" id="7436746">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7436771">,</span>&nbsp;<span class="ident" id="7436773">file</span><span class="op" id="7436777">,</span>&nbsp;<span class="ident" id="7436779">err</span><span class="op" id="7436782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436788">pclndat</span><span class="op" id="7436795">,</span>&nbsp;<span class="ident" id="7436797">err</span>&nbsp;<span class="op" id="7436801">:=</span>&nbsp;<span class="ident" id="7436804">f</span><span class="op" id="7436805">.</span><span class="ident" id="7436806">Section</span><span class="op" id="7436813">(</span><span class="string" id="7436814">&#34;.gopclntab&#34;</span><span class="op" id="7436826">)</span><span class="op" id="7436827">.</span><span class="ident" id="7436828">Data</span><span class="op" id="7436832">(</span><span class="op" id="7436833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7436836">if</span>&nbsp;<span class="ident" id="7436839">err</span>&nbsp;<span class="op" id="7436843">!=</span>&nbsp;<span class="ident" id="7436846">nil</span>&nbsp;<span class="op" id="7436850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436854">f</span><span class="op" id="7436855">.</span><span class="ident" id="7436856">Close</span><span class="op" id="7436861">(</span><span class="op" id="7436862">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436866">t</span><span class="op" id="7436867">.</span><span class="ident" id="7436868">Fatalf</span><span class="op" id="7436874">(</span><span class="string" id="7436875">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7436901">,</span>&nbsp;<span class="ident" id="7436903">file</span><span class="op" id="7436907">,</span>&nbsp;<span class="ident" id="7436909">err</span><span class="op" id="7436912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7436915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436919">pcln</span>&nbsp;<span class="op" id="7436924">:=</span>&nbsp;<span class="ident" id="7436927">NewLineTable</span><span class="op" id="7436939">(</span><span class="ident" id="7436940">pclndat</span><span class="op" id="7436947">,</span>&nbsp;<span class="ident" id="7436949">f</span><span class="op" id="7436950">.</span><span class="ident" id="7436951">Section</span><span class="op" id="7436958">(</span><span class="string" id="7436959">&#34;.text&#34;</span><span class="op" id="7436966">)</span><span class="op" id="7436967">.</span><span class="ident" id="7436968">Addr</span><span class="op" id="7436972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7436975">tab</span><span class="op" id="7436978">,</span>&nbsp;<span class="ident" id="7436980">err</span>&nbsp;<span class="op" id="7436984">:=</span>&nbsp;<span class="ident" id="7436987">NewTable</span><span class="op" id="7436995">(</span><span class="ident" id="7436996">symdat</span><span class="op" id="7437002">,</span>&nbsp;<span class="ident" id="7437004">pcln</span><span class="op" id="7437008">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437011">if</span>&nbsp;<span class="ident" id="7437014">err</span>&nbsp;<span class="op" id="7437018">!=</span>&nbsp;<span class="ident" id="7437021">nil</span>&nbsp;<span class="op" id="7437025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437029">f</span><span class="op" id="7437030">.</span><span class="ident" id="7437031">Close</span><span class="op" id="7437036">(</span><span class="op" id="7437037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437041">t</span><span class="op" id="7437042">.</span><span class="ident" id="7437043">Fatalf</span><span class="op" id="7437049">(</span><span class="string" id="7437050">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7437075">,</span>&nbsp;<span class="ident" id="7437077">file</span><span class="op" id="7437081">,</span>&nbsp;<span class="ident" id="7437083">err</span><span class="op" id="7437086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437089">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437093">return</span>&nbsp;<span class="ident" id="7437100">f</span><span class="op" id="7437101">,</span>&nbsp;<span class="ident" id="7437103">tab</span><br>
<span class="lineno"></span><span class="op" id="7437107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7437110">var</span>&nbsp;<span class="ident" id="7437114">goarch</span>&nbsp;<span class="op" id="7437121">=</span>&nbsp;<span class="ident" id="7437123">os</span><span class="op" id="7437125">.</span><span class="ident" id="7437126">Getenv</span><span class="op" id="7437132">(</span><span class="string" id="7437133">&#34;O&#34;</span><span class="op" id="7437136">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7437139">func</span>&nbsp;<span class="ident" id="7437144">TestLineFromAline</span><span class="op" id="7437161">(</span><span class="ident" id="7437162">t</span>&nbsp;<span class="op" id="7437164">*</span><span class="ident" id="7437165">testing</span><span class="op" id="7437172">.</span><span class="ident" id="7437173">T</span><span class="op" id="7437174">)</span>&nbsp;<span class="op" id="7437176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437179">if</span>&nbsp;<span class="op" id="7437182">!</span><span class="ident" id="7437183">dotest</span><span class="op" id="7437189">(</span><span class="builtintype" id="7437190">true</span><span class="op" id="7437194">)</span>&nbsp;<span class="op" id="7437196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437200">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437208">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437211">defer</span>&nbsp;<span class="ident" id="7437217">endtest</span><span class="op" id="7437224">(</span><span class="op" id="7437225">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437229">tab</span>&nbsp;<span class="op" id="7437233">:=</span>&nbsp;<span class="ident" id="7437236">getTable</span><span class="op" id="7437244">(</span><span class="ident" id="7437245">t</span><span class="op" id="7437246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437249">if</span>&nbsp;<span class="ident" id="7437252">tab</span><span class="op" id="7437255">.</span><span class="ident" id="7437256">go12line</span>&nbsp;<span class="op" id="7437265">!=</span>&nbsp;<span class="ident" id="7437268">nil</span>&nbsp;<span class="op" id="7437272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7437276">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437322">t</span><span class="op" id="7437323">.</span><span class="ident" id="7437324">Skip</span><span class="op" id="7437328">(</span><span class="string" id="7437329">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7437366">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7437373">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437398">pkg</span>&nbsp;<span class="op" id="7437402">:=</span>&nbsp;<span class="ident" id="7437405">tab</span><span class="op" id="7437408">.</span><span class="ident" id="7437409">LookupFunc</span><span class="op" id="7437419">(</span><span class="string" id="7437420">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7437451">)</span><span class="op" id="7437452">.</span><span class="ident" id="7437453">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437458">if</span>&nbsp;<span class="ident" id="7437461">pkg</span>&nbsp;<span class="op" id="7437465">==</span>&nbsp;<span class="ident" id="7437468">nil</span>&nbsp;<span class="op" id="7437472">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437476">t</span><span class="op" id="7437477">.</span><span class="ident" id="7437478">Fatalf</span><span class="op" id="7437484">(</span><span class="string" id="7437485">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7437494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7437501">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7437559">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437589">lastline</span>&nbsp;<span class="op" id="7437598">:=</span>&nbsp;<span class="builtinfunc" id="7437601">make</span><span class="op" id="7437605">(</span><span class="keyword" id="7437606">map</span><span class="op" id="7437609">[</span><span class="builtintype" id="7437610">string</span><span class="op" id="7437616">]</span><span class="builtintype" id="7437617">int</span><span class="op" id="7437620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437623">final</span>&nbsp;<span class="op" id="7437629">:=</span>&nbsp;<span class="op" id="7437632">-</span><span class="num" id="7437633">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437636">for</span>&nbsp;<span class="ident" id="7437640">i</span>&nbsp;<span class="op" id="7437642">:=</span>&nbsp;<span class="num" id="7437645">0</span><span class="op" id="7437646">;</span>&nbsp;<span class="ident" id="7437648">i</span>&nbsp;<span class="op" id="7437650">&lt;</span>&nbsp;<span class="num" id="7437652">10000</span><span class="op" id="7437657">;</span>&nbsp;<span class="ident" id="7437659">i</span><span class="op" id="7437660">++</span>&nbsp;<span class="op" id="7437663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437667">path</span><span class="op" id="7437671">,</span>&nbsp;<span class="ident" id="7437673">line</span>&nbsp;<span class="op" id="7437678">:=</span>&nbsp;<span class="ident" id="7437681">pkg</span><span class="op" id="7437684">.</span><span class="ident" id="7437685">lineFromAline</span><span class="op" id="7437698">(</span><span class="ident" id="7437699">i</span><span class="op" id="7437700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7437704">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437733">if</span>&nbsp;<span class="ident" id="7437736">path</span>&nbsp;<span class="op" id="7437741">==</span>&nbsp;<span class="string" id="7437744">&#34;&#34;</span>&nbsp;<span class="op" id="7437747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437752">if</span>&nbsp;<span class="ident" id="7437755">final</span>&nbsp;<span class="op" id="7437761">==</span>&nbsp;<span class="op" id="7437764">-</span><span class="num" id="7437765">1</span>&nbsp;<span class="op" id="7437767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437773">final</span>&nbsp;<span class="op" id="7437779">=</span>&nbsp;<span class="ident" id="7437781">i</span>&nbsp;<span class="op" id="7437783">-</span>&nbsp;<span class="num" id="7437785">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7437795">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437806">}</span>&nbsp;<span class="keyword" id="7437808">else</span>&nbsp;<span class="keyword" id="7437813">if</span>&nbsp;<span class="ident" id="7437816">final</span>&nbsp;<span class="op" id="7437822">!=</span>&nbsp;<span class="op" id="7437825">-</span><span class="num" id="7437826">1</span>&nbsp;<span class="op" id="7437828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7437833">t</span><span class="op" id="7437834">.</span><span class="ident" id="7437835">Fatalf</span><span class="op" id="7437841">(</span><span class="string" id="7437842">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7437924">,</span>&nbsp;<span class="ident" id="7437926">final</span><span class="op" id="7437931">,</span>&nbsp;<span class="ident" id="7437933">i</span><span class="op" id="7437934">,</span>&nbsp;<span class="ident" id="7437936">path</span><span class="op" id="7437940">,</span>&nbsp;<span class="ident" id="7437942">line</span><span class="op" id="7437946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7437950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7437954">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438011">if</span>&nbsp;<span class="ident" id="7438014">line</span>&nbsp;<span class="op" id="7438019">==</span>&nbsp;<span class="num" id="7438022">1</span>&nbsp;<span class="op" id="7438024">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438029">lastline</span><span class="op" id="7438037">[</span><span class="ident" id="7438038">path</span><span class="op" id="7438042">]</span>&nbsp;<span class="op" id="7438044">=</span>&nbsp;<span class="num" id="7438046">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438051">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7438066">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438111">ll</span><span class="op" id="7438113">,</span>&nbsp;<span class="ident" id="7438115">ok</span>&nbsp;<span class="op" id="7438118">:=</span>&nbsp;<span class="ident" id="7438121">lastline</span><span class="op" id="7438129">[</span><span class="ident" id="7438130">path</span><span class="op" id="7438134">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438138">if</span>&nbsp;<span class="op" id="7438141">!</span><span class="ident" id="7438142">ok</span>&nbsp;<span class="op" id="7438145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438150">t</span><span class="op" id="7438151">.</span><span class="ident" id="7438152">Errorf</span><span class="op" id="7438158">(</span><span class="string" id="7438159">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7438186">,</span>&nbsp;<span class="ident" id="7438188">path</span><span class="op" id="7438192">,</span>&nbsp;<span class="ident" id="7438194">line</span><span class="op" id="7438198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438202">}</span>&nbsp;<span class="keyword" id="7438204">else</span>&nbsp;<span class="keyword" id="7438209">if</span>&nbsp;<span class="ident" id="7438212">line</span>&nbsp;<span class="op" id="7438217">!=</span>&nbsp;<span class="ident" id="7438220">ll</span><span class="op" id="7438222">+</span><span class="num" id="7438223">1</span>&nbsp;<span class="op" id="7438225">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438230">t</span><span class="op" id="7438231">.</span><span class="ident" id="7438232">Fatalf</span><span class="op" id="7438238">(</span><span class="string" id="7438239">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7438287">,</span>&nbsp;<span class="ident" id="7438289">path</span><span class="op" id="7438293">,</span>&nbsp;<span class="ident" id="7438295">ll</span><span class="op" id="7438297">+</span><span class="num" id="7438298">1</span><span class="op" id="7438299">,</span>&nbsp;<span class="ident" id="7438301">line</span><span class="op" id="7438305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438309">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438313">lastline</span><span class="op" id="7438321">[</span><span class="ident" id="7438322">path</span><span class="op" id="7438326">]</span>&nbsp;<span class="op" id="7438328">=</span>&nbsp;<span class="ident" id="7438330">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438339">if</span>&nbsp;<span class="ident" id="7438342">final</span>&nbsp;<span class="op" id="7438348">==</span>&nbsp;<span class="op" id="7438351">-</span><span class="num" id="7438352">1</span>&nbsp;<span class="op" id="7438354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438358">t</span><span class="op" id="7438359">.</span><span class="ident" id="7438360">Errorf</span><span class="op" id="7438366">(</span><span class="string" id="7438367">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7438396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438399">}</span><br>
<span class="lineno">160</span><span class="op" id="7438401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7438404">func</span>&nbsp;<span class="ident" id="7438409">TestLineAline</span><span class="op" id="7438422">(</span><span class="ident" id="7438423">t</span>&nbsp;<span class="op" id="7438425">*</span><span class="ident" id="7438426">testing</span><span class="op" id="7438433">.</span><span class="ident" id="7438434">T</span><span class="op" id="7438435">)</span>&nbsp;<span class="op" id="7438437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438440">if</span>&nbsp;<span class="op" id="7438443">!</span><span class="ident" id="7438444">dotest</span><span class="op" id="7438450">(</span><span class="builtintype" id="7438451">true</span><span class="op" id="7438455">)</span>&nbsp;<span class="op" id="7438457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438461">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438469">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438472">defer</span>&nbsp;<span class="ident" id="7438478">endtest</span><span class="op" id="7438485">(</span><span class="op" id="7438486">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438490">tab</span>&nbsp;<span class="op" id="7438494">:=</span>&nbsp;<span class="ident" id="7438497">getTable</span><span class="op" id="7438505">(</span><span class="ident" id="7438506">t</span><span class="op" id="7438507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438510">if</span>&nbsp;<span class="ident" id="7438513">tab</span><span class="op" id="7438516">.</span><span class="ident" id="7438517">go12line</span>&nbsp;<span class="op" id="7438526">!=</span>&nbsp;<span class="ident" id="7438529">nil</span>&nbsp;<span class="op" id="7438533">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7438537">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438583">t</span><span class="op" id="7438584">.</span><span class="ident" id="7438585">Skip</span><span class="op" id="7438589">(</span><span class="string" id="7438590">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7438627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438630">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438634">for</span>&nbsp;<span class="ident" id="7438638">_</span><span class="op" id="7438639">,</span>&nbsp;<span class="ident" id="7438641">o</span>&nbsp;<span class="op" id="7438643">:=</span>&nbsp;<span class="keyword" id="7438646">range</span>&nbsp;<span class="ident" id="7438652">tab</span><span class="op" id="7438655">.</span><span class="ident" id="7438656">Files</span>&nbsp;<span class="op" id="7438662">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7438666">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7438716">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7438773">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438827">found</span>&nbsp;<span class="op" id="7438833">:=</span>&nbsp;<span class="builtinfunc" id="7438836">make</span><span class="op" id="7438840">(</span><span class="keyword" id="7438841">map</span><span class="op" id="7438844">[</span><span class="builtintype" id="7438845">string</span><span class="op" id="7438851">]</span><span class="builtintype" id="7438852">int</span><span class="op" id="7438855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438859">for</span>&nbsp;<span class="ident" id="7438863">i</span>&nbsp;<span class="op" id="7438865">:=</span>&nbsp;<span class="num" id="7438868">0</span><span class="op" id="7438869">;</span>&nbsp;<span class="ident" id="7438871">i</span>&nbsp;<span class="op" id="7438873">&lt;</span>&nbsp;<span class="num" id="7438875">1000</span><span class="op" id="7438879">;</span>&nbsp;<span class="ident" id="7438881">i</span><span class="op" id="7438882">++</span>&nbsp;<span class="op" id="7438885">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7438890">path</span><span class="op" id="7438894">,</span>&nbsp;<span class="ident" id="7438896">line</span>&nbsp;<span class="op" id="7438901">:=</span>&nbsp;<span class="ident" id="7438904">o</span><span class="op" id="7438905">.</span><span class="ident" id="7438906">lineFromAline</span><span class="op" id="7438919">(</span><span class="ident" id="7438920">i</span><span class="op" id="7438921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438926">if</span>&nbsp;<span class="ident" id="7438929">path</span>&nbsp;<span class="op" id="7438934">==</span>&nbsp;<span class="string" id="7438937">&#34;&#34;</span>&nbsp;<span class="op" id="7438940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7438946">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7438955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7438961">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439024">if</span>&nbsp;<span class="builtinfunc" id="7439027">len</span><span class="op" id="7439030">(</span><span class="ident" id="7439031">path</span><span class="op" id="7439035">)</span>&nbsp;<span class="op" id="7439037">&gt;</span>&nbsp;<span class="num" id="7439039">4</span>&nbsp;<span class="op" id="7439041">&amp;&amp;</span>&nbsp;<span class="ident" id="7439044">path</span><span class="op" id="7439048">[</span><span class="builtinfunc" id="7439049">len</span><span class="op" id="7439052">(</span><span class="ident" id="7439053">path</span><span class="op" id="7439057">)</span><span class="op" id="7439058">-</span><span class="num" id="7439059">4</span><span class="op" id="7439060">:</span><span class="op" id="7439061">]</span>&nbsp;<span class="op" id="7439063">==</span>&nbsp;<span class="string" id="7439066">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7439073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439079">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439097">if</span>&nbsp;<span class="ident" id="7439100">minline</span><span class="op" id="7439107">,</span>&nbsp;<span class="ident" id="7439109">ok</span>&nbsp;<span class="op" id="7439112">:=</span>&nbsp;<span class="ident" id="7439115">found</span><span class="op" id="7439120">[</span><span class="ident" id="7439121">path</span><span class="op" id="7439125">]</span><span class="op" id="7439126">;</span>&nbsp;<span class="ident" id="7439128">path</span>&nbsp;<span class="op" id="7439133">!=</span>&nbsp;<span class="string" id="7439136">&#34;&#34;</span>&nbsp;<span class="op" id="7439139">&amp;&amp;</span>&nbsp;<span class="ident" id="7439142">ok</span>&nbsp;<span class="op" id="7439145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439151">if</span>&nbsp;<span class="ident" id="7439154">minline</span>&nbsp;<span class="op" id="7439162">&gt;=</span>&nbsp;<span class="ident" id="7439165">line</span>&nbsp;<span class="op" id="7439170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7439177">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439217">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439230">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439240">found</span><span class="op" id="7439245">[</span><span class="ident" id="7439246">path</span><span class="op" id="7439250">]</span>&nbsp;<span class="op" id="7439252">=</span>&nbsp;<span class="ident" id="7439254">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439263">a</span><span class="op" id="7439264">,</span>&nbsp;<span class="ident" id="7439266">err</span>&nbsp;<span class="op" id="7439270">:=</span>&nbsp;<span class="ident" id="7439273">o</span><span class="op" id="7439274">.</span><span class="ident" id="7439275">alineFromLine</span><span class="op" id="7439288">(</span><span class="ident" id="7439289">path</span><span class="op" id="7439293">,</span>&nbsp;<span class="ident" id="7439295">line</span><span class="op" id="7439299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439304">if</span>&nbsp;<span class="ident" id="7439307">err</span>&nbsp;<span class="op" id="7439311">!=</span>&nbsp;<span class="ident" id="7439314">nil</span>&nbsp;<span class="op" id="7439318">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439324">t</span><span class="op" id="7439325">.</span><span class="ident" id="7439326">Errorf</span><span class="op" id="7439332">(</span><span class="string" id="7439333">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7439416">,</span>&nbsp;<span class="ident" id="7439418">i</span><span class="op" id="7439419">,</span>&nbsp;<span class="ident" id="7439421">o</span><span class="op" id="7439422">.</span><span class="ident" id="7439423">Paths</span><span class="op" id="7439428">[</span><span class="num" id="7439429">0</span><span class="op" id="7439430">]</span><span class="op" id="7439431">.</span><span class="ident" id="7439432">Name</span><span class="op" id="7439436">,</span>&nbsp;<span class="ident" id="7439438">path</span><span class="op" id="7439442">,</span>&nbsp;<span class="ident" id="7439444">line</span><span class="op" id="7439448">,</span>&nbsp;<span class="ident" id="7439450">err</span><span class="op" id="7439453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439458">}</span>&nbsp;<span class="keyword" id="7439460">else</span>&nbsp;<span class="keyword" id="7439465">if</span>&nbsp;<span class="ident" id="7439468">a</span>&nbsp;<span class="op" id="7439470">!=</span>&nbsp;<span class="ident" id="7439473">i</span>&nbsp;<span class="op" id="7439475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439481">t</span><span class="op" id="7439482">.</span><span class="ident" id="7439483">Errorf</span><span class="op" id="7439489">(</span><span class="string" id="7439490">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7439574">,</span>&nbsp;<span class="ident" id="7439576">i</span><span class="op" id="7439577">,</span>&nbsp;<span class="ident" id="7439579">o</span><span class="op" id="7439580">.</span><span class="ident" id="7439581">Paths</span><span class="op" id="7439586">[</span><span class="num" id="7439587">0</span><span class="op" id="7439588">]</span><span class="op" id="7439589">.</span><span class="ident" id="7439590">Name</span><span class="op" id="7439594">,</span>&nbsp;<span class="ident" id="7439596">path</span><span class="op" id="7439600">,</span>&nbsp;<span class="ident" id="7439602">line</span><span class="op" id="7439606">,</span>&nbsp;<span class="ident" id="7439608">a</span><span class="op" id="7439609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439618">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439621">}</span><br>
<span class="lineno"></span><span class="op" id="7439623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7439626">func</span>&nbsp;<span class="ident" id="7439631">TestPCLine</span><span class="op" id="7439641">(</span><span class="ident" id="7439642">t</span>&nbsp;<span class="op" id="7439644">*</span><span class="ident" id="7439645">testing</span><span class="op" id="7439652">.</span><span class="ident" id="7439653">T</span><span class="op" id="7439654">)</span>&nbsp;<span class="op" id="7439656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439659">if</span>&nbsp;<span class="op" id="7439662">!</span><span class="ident" id="7439663">dotest</span><span class="op" id="7439669">(</span><span class="builtintype" id="7439670">false</span><span class="op" id="7439675">)</span>&nbsp;<span class="op" id="7439677">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439681">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439689">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439692">defer</span>&nbsp;<span class="ident" id="7439698">endtest</span><span class="op" id="7439705">(</span><span class="op" id="7439706">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439710">f</span><span class="op" id="7439711">,</span>&nbsp;<span class="ident" id="7439713">tab</span>&nbsp;<span class="op" id="7439717">:=</span>&nbsp;<span class="ident" id="7439720">crack</span><span class="op" id="7439725">(</span><span class="ident" id="7439726">pclinetestBinary</span><span class="op" id="7439742">,</span>&nbsp;<span class="ident" id="7439744">t</span><span class="op" id="7439745">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439748">text</span>&nbsp;<span class="op" id="7439753">:=</span>&nbsp;<span class="ident" id="7439756">f</span><span class="op" id="7439757">.</span><span class="ident" id="7439758">Section</span><span class="op" id="7439765">(</span><span class="string" id="7439766">&#34;.text&#34;</span><span class="op" id="7439773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439776">textdat</span><span class="op" id="7439783">,</span>&nbsp;<span class="ident" id="7439785">err</span>&nbsp;<span class="op" id="7439789">:=</span>&nbsp;<span class="ident" id="7439792">text</span><span class="op" id="7439796">.</span><span class="ident" id="7439797">Data</span><span class="op" id="7439801">(</span><span class="op" id="7439802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439805">if</span>&nbsp;<span class="ident" id="7439808">err</span>&nbsp;<span class="op" id="7439812">!=</span>&nbsp;<span class="ident" id="7439815">nil</span>&nbsp;<span class="op" id="7439819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439823">t</span><span class="op" id="7439824">.</span><span class="ident" id="7439825">Fatalf</span><span class="op" id="7439831">(</span><span class="string" id="7439832">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7439851">,</span>&nbsp;<span class="ident" id="7439853">err</span><span class="op" id="7439856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7439859">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7439863">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439881">sym</span>&nbsp;<span class="op" id="7439885">:=</span>&nbsp;<span class="ident" id="7439888">tab</span><span class="op" id="7439891">.</span><span class="ident" id="7439892">LookupFunc</span><span class="op" id="7439902">(</span><span class="string" id="7439903">&#34;linefrompc&#34;</span><span class="op" id="7439915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439918">wantLine</span>&nbsp;<span class="op" id="7439927">:=</span>&nbsp;<span class="num" id="7439930">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7439933">for</span>&nbsp;<span class="ident" id="7439937">pc</span>&nbsp;<span class="op" id="7439940">:=</span>&nbsp;<span class="ident" id="7439943">sym</span><span class="op" id="7439946">.</span><span class="ident" id="7439947">Entry</span><span class="op" id="7439952">;</span>&nbsp;<span class="ident" id="7439954">pc</span>&nbsp;<span class="op" id="7439957">&lt;</span>&nbsp;<span class="ident" id="7439959">sym</span><span class="op" id="7439962">.</span><span class="ident" id="7439963">End</span><span class="op" id="7439966">;</span>&nbsp;<span class="ident" id="7439968">pc</span><span class="op" id="7439970">++</span>&nbsp;<span class="op" id="7439973">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7439977">off</span>&nbsp;<span class="op" id="7439981">:=</span>&nbsp;<span class="ident" id="7439984">pc</span>&nbsp;<span class="op" id="7439987">-</span>&nbsp;<span class="ident" id="7439989">text</span><span class="op" id="7439993">.</span><span class="ident" id="7439994">Addr</span>&nbsp;<span class="comment" id="7439999">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440046">if</span>&nbsp;<span class="ident" id="7440049">textdat</span><span class="op" id="7440056">[</span><span class="ident" id="7440057">off</span><span class="op" id="7440060">]</span>&nbsp;<span class="op" id="7440062">==</span>&nbsp;<span class="num" id="7440065">255</span>&nbsp;<span class="op" id="7440069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440074">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440086">wantLine</span>&nbsp;<span class="op" id="7440095">+=</span>&nbsp;<span class="builtintype" id="7440098">int</span><span class="op" id="7440101">(</span><span class="ident" id="7440102">textdat</span><span class="op" id="7440109">[</span><span class="ident" id="7440110">off</span><span class="op" id="7440113">]</span><span class="op" id="7440114">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440118">t</span><span class="op" id="7440119">.</span><span class="ident" id="7440120">Logf</span><span class="op" id="7440124">(</span><span class="string" id="7440125">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7440149">,</span>&nbsp;<span class="ident" id="7440151">off</span><span class="op" id="7440154">,</span>&nbsp;<span class="ident" id="7440156">textdat</span><span class="op" id="7440163">[</span><span class="ident" id="7440164">off</span><span class="op" id="7440167">]</span><span class="op" id="7440168">,</span>&nbsp;<span class="ident" id="7440170">sym</span><span class="op" id="7440173">.</span><span class="ident" id="7440174">End</span><span class="op" id="7440177">-</span><span class="ident" id="7440178">pc</span><span class="op" id="7440180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440184">file</span><span class="op" id="7440188">,</span>&nbsp;<span class="ident" id="7440190">line</span><span class="op" id="7440194">,</span>&nbsp;<span class="ident" id="7440196">fn</span>&nbsp;<span class="op" id="7440199">:=</span>&nbsp;<span class="ident" id="7440202">tab</span><span class="op" id="7440205">.</span><span class="ident" id="7440206">PCToLine</span><span class="op" id="7440214">(</span><span class="ident" id="7440215">pc</span><span class="op" id="7440217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440221">if</span>&nbsp;<span class="ident" id="7440224">fn</span>&nbsp;<span class="op" id="7440227">==</span>&nbsp;<span class="ident" id="7440230">nil</span>&nbsp;<span class="op" id="7440234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440239">t</span><span class="op" id="7440240">.</span><span class="ident" id="7440241">Errorf</span><span class="op" id="7440247">(</span><span class="string" id="7440248">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7440278">,</span>&nbsp;<span class="ident" id="7440280">pc</span><span class="op" id="7440282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440286">}</span>&nbsp;<span class="keyword" id="7440288">else</span>&nbsp;<span class="keyword" id="7440293">if</span>&nbsp;<span class="op" id="7440296">!</span><span class="ident" id="7440297">strings</span><span class="op" id="7440304">.</span><span class="ident" id="7440305">HasSuffix</span><span class="op" id="7440314">(</span><span class="ident" id="7440315">file</span><span class="op" id="7440319">,</span>&nbsp;<span class="string" id="7440321">&#34;pclinetest.asm&#34;</span><span class="op" id="7440337">)</span>&nbsp;<span class="op" id="7440339">||</span>&nbsp;<span class="ident" id="7440342">line</span>&nbsp;<span class="op" id="7440347">!=</span>&nbsp;<span class="ident" id="7440350">wantLine</span>&nbsp;<span class="op" id="7440359">||</span>&nbsp;<span class="ident" id="7440362">fn</span>&nbsp;<span class="op" id="7440365">!=</span>&nbsp;<span class="ident" id="7440368">sym</span>&nbsp;<span class="op" id="7440372">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440377">t</span><span class="op" id="7440378">.</span><span class="ident" id="7440379">Errorf</span><span class="op" id="7440385">(</span><span class="string" id="7440386">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7440431">,</span>&nbsp;<span class="ident" id="7440433">pc</span><span class="op" id="7440435">,</span>&nbsp;<span class="ident" id="7440437">file</span><span class="op" id="7440441">,</span>&nbsp;<span class="ident" id="7440443">line</span><span class="op" id="7440447">,</span>&nbsp;<span class="ident" id="7440449">fn</span><span class="op" id="7440451">.</span><span class="ident" id="7440452">Name</span><span class="op" id="7440456">,</span>&nbsp;<span class="string" id="7440458">&#34;pclinetest.asm&#34;</span><span class="op" id="7440474">,</span>&nbsp;<span class="ident" id="7440476">wantLine</span><span class="op" id="7440484">,</span>&nbsp;<span class="ident" id="7440486">sym</span><span class="op" id="7440489">.</span><span class="ident" id="7440490">Name</span><span class="op" id="7440494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7440505">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440523">sym</span>&nbsp;<span class="op" id="7440527">=</span>&nbsp;<span class="ident" id="7440529">tab</span><span class="op" id="7440532">.</span><span class="ident" id="7440533">LookupFunc</span><span class="op" id="7440543">(</span><span class="string" id="7440544">&#34;pcfromline&#34;</span><span class="op" id="7440556">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440559">lookupline</span>&nbsp;<span class="op" id="7440570">:=</span>&nbsp;<span class="op" id="7440573">-</span><span class="num" id="7440574">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440577">wantLine</span>&nbsp;<span class="op" id="7440586">=</span>&nbsp;<span class="num" id="7440588">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440591">off</span>&nbsp;<span class="op" id="7440595">:=</span>&nbsp;<span class="ident" id="7440598">uint64</span><span class="op" id="7440604">(</span><span class="num" id="7440605">0</span><span class="op" id="7440606">)</span>&nbsp;<span class="comment" id="7440608">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440654">for</span>&nbsp;<span class="ident" id="7440658">pc</span>&nbsp;<span class="op" id="7440661">:=</span>&nbsp;<span class="ident" id="7440664">sym</span><span class="op" id="7440667">.</span><span class="ident" id="7440668">Value</span><span class="op" id="7440673">;</span>&nbsp;<span class="ident" id="7440675">pc</span>&nbsp;<span class="op" id="7440678">&lt;</span>&nbsp;<span class="ident" id="7440680">sym</span><span class="op" id="7440683">.</span><span class="ident" id="7440684">End</span><span class="op" id="7440687">;</span>&nbsp;<span class="ident" id="7440689">pc</span>&nbsp;<span class="op" id="7440692">+=</span>&nbsp;<span class="num" id="7440695">2</span>&nbsp;<span class="op" id="7440697">+</span>&nbsp;<span class="ident" id="7440699">uint64</span><span class="op" id="7440705">(</span><span class="ident" id="7440706">textdat</span><span class="op" id="7440713">[</span><span class="ident" id="7440714">off</span><span class="op" id="7440717">]</span><span class="op" id="7440718">)</span>&nbsp;<span class="op" id="7440720">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440724">file</span><span class="op" id="7440728">,</span>&nbsp;<span class="ident" id="7440730">line</span><span class="op" id="7440734">,</span>&nbsp;<span class="ident" id="7440736">fn</span>&nbsp;<span class="op" id="7440739">:=</span>&nbsp;<span class="ident" id="7440742">tab</span><span class="op" id="7440745">.</span><span class="ident" id="7440746">PCToLine</span><span class="op" id="7440754">(</span><span class="ident" id="7440755">pc</span><span class="op" id="7440757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440761">off</span>&nbsp;<span class="op" id="7440765">=</span>&nbsp;<span class="ident" id="7440767">pc</span>&nbsp;<span class="op" id="7440770">-</span>&nbsp;<span class="ident" id="7440772">text</span><span class="op" id="7440776">.</span><span class="ident" id="7440777">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440784">if</span>&nbsp;<span class="ident" id="7440787">textdat</span><span class="op" id="7440794">[</span><span class="ident" id="7440795">off</span><span class="op" id="7440798">]</span>&nbsp;<span class="op" id="7440800">==</span>&nbsp;<span class="num" id="7440803">255</span>&nbsp;<span class="op" id="7440807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440812">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7440820">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440824">wantLine</span>&nbsp;<span class="op" id="7440833">+=</span>&nbsp;<span class="builtintype" id="7440836">int</span><span class="op" id="7440839">(</span><span class="ident" id="7440840">textdat</span><span class="op" id="7440847">[</span><span class="ident" id="7440848">off</span><span class="op" id="7440851">]</span><span class="op" id="7440852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440856">if</span>&nbsp;<span class="ident" id="7440859">line</span>&nbsp;<span class="op" id="7440864">!=</span>&nbsp;<span class="ident" id="7440867">wantLine</span>&nbsp;<span class="op" id="7440876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440881">t</span><span class="op" id="7440882">.</span><span class="ident" id="7440883">Errorf</span><span class="op" id="7440889">(</span><span class="string" id="7440890">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7440940">,</span>&nbsp;<span class="ident" id="7440942">wantLine</span><span class="op" id="7440950">,</span>&nbsp;<span class="ident" id="7440952">pc</span><span class="op" id="7440954">,</span>&nbsp;<span class="ident" id="7440956">line</span><span class="op" id="7440960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7440965">off</span>&nbsp;<span class="op" id="7440969">=</span>&nbsp;<span class="ident" id="7440971">pc</span>&nbsp;<span class="op" id="7440974">+</span>&nbsp;<span class="num" id="7440976">1</span>&nbsp;<span class="op" id="7440978">-</span>&nbsp;<span class="ident" id="7440980">text</span><span class="op" id="7440984">.</span><span class="ident" id="7440985">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7440993">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441008">if</span>&nbsp;<span class="ident" id="7441011">lookupline</span>&nbsp;<span class="op" id="7441022">==</span>&nbsp;<span class="op" id="7441025">-</span><span class="num" id="7441026">1</span>&nbsp;<span class="op" id="7441028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441033">lookupline</span>&nbsp;<span class="op" id="7441044">=</span>&nbsp;<span class="ident" id="7441046">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441053">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441057">for</span>&nbsp;<span class="op" id="7441061">;</span>&nbsp;<span class="ident" id="7441063">lookupline</span>&nbsp;<span class="op" id="7441074">&lt;=</span>&nbsp;<span class="ident" id="7441077">line</span><span class="op" id="7441081">;</span>&nbsp;<span class="ident" id="7441083">lookupline</span><span class="op" id="7441093">++</span>&nbsp;<span class="op" id="7441096">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441101">pc2</span><span class="op" id="7441104">,</span>&nbsp;<span class="ident" id="7441106">fn2</span><span class="op" id="7441109">,</span>&nbsp;<span class="ident" id="7441111">err</span>&nbsp;<span class="op" id="7441115">:=</span>&nbsp;<span class="ident" id="7441118">tab</span><span class="op" id="7441121">.</span><span class="ident" id="7441122">LineToPC</span><span class="op" id="7441130">(</span><span class="ident" id="7441131">file</span><span class="op" id="7441135">,</span>&nbsp;<span class="ident" id="7441137">lookupline</span><span class="op" id="7441147">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441152">if</span>&nbsp;<span class="ident" id="7441155">lookupline</span>&nbsp;<span class="op" id="7441166">!=</span>&nbsp;<span class="ident" id="7441169">line</span>&nbsp;<span class="op" id="7441174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7441180">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7441218">if</span>&nbsp;<span class="ident" id="7441221">err</span>&nbsp;<span class="op" id="7441225">==</span>&nbsp;<span class="ident" id="7441228">nil</span>&nbsp;<span class="op" id="7441232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441239">t</span><span class="op" id="7441240">.</span><span class="ident" id="7441241">Errorf</span><span class="op" id="7441247">(</span><span class="string" id="7441248">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7441289">,</span>&nbsp;<span class="ident" id="7441291">lookupline</span><span class="op" id="7441301">,</span>&nbsp;<span class="ident" id="7441303">pc2</span><span class="op" id="7441306">,</span>&nbsp;<span class="ident" id="7441308">fn2</span><span class="op" id="7441311">.</span><span class="ident" id="7441312">Name</span><span class="op" id="7441316">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441322">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441327">}</span>&nbsp;<span class="keyword" id="7441329">else</span>&nbsp;<span class="keyword" id="7441334">if</span>&nbsp;<span class="ident" id="7441337">err</span>&nbsp;<span class="op" id="7441341">!=</span>&nbsp;<span class="ident" id="7441344">nil</span>&nbsp;<span class="op" id="7441348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441354">t</span><span class="op" id="7441355">.</span><span class="ident" id="7441356">Errorf</span><span class="op" id="7441362">(</span><span class="string" id="7441363">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7441396">,</span>&nbsp;<span class="ident" id="7441398">lookupline</span><span class="op" id="7441408">,</span>&nbsp;<span class="ident" id="7441410">err</span><span class="op" id="7441413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441418">}</span>&nbsp;<span class="keyword" id="7441420">else</span>&nbsp;<span class="keyword" id="7441425">if</span>&nbsp;<span class="ident" id="7441428">pc</span>&nbsp;<span class="op" id="7441431">!=</span>&nbsp;<span class="ident" id="7441434">pc2</span>&nbsp;<span class="op" id="7441438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441444">t</span><span class="op" id="7441445">.</span><span class="ident" id="7441446">Errorf</span><span class="op" id="7441452">(</span><span class="string" id="7441453">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7441503">,</span>&nbsp;<span class="ident" id="7441505">pc</span><span class="op" id="7441507">,</span>&nbsp;<span class="ident" id="7441509">fn</span><span class="op" id="7441511">.</span><span class="ident" id="7441512">Name</span><span class="op" id="7441516">,</span>&nbsp;<span class="ident" id="7441518">line</span><span class="op" id="7441522">,</span>&nbsp;<span class="ident" id="7441524">pc2</span><span class="op" id="7441527">,</span>&nbsp;<span class="ident" id="7441529">fn2</span><span class="op" id="7441532">.</span><span class="ident" id="7441533">Name</span><span class="op" id="7441537">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7441550">off</span>&nbsp;<span class="op" id="7441554">=</span>&nbsp;<span class="ident" id="7441556">pc</span>&nbsp;<span class="op" id="7441559">+</span>&nbsp;<span class="num" id="7441561">1</span>&nbsp;<span class="op" id="7441563">-</span>&nbsp;<span class="ident" id="7441565">text</span><span class="op" id="7441569">.</span><span class="ident" id="7441570">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7441576">}</span><br>
<span class="lineno"></span><span class="op" id="7441578">}</span>
</div>
</body>
</html>
