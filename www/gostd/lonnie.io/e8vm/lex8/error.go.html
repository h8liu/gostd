<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5121024">package</span>&nbsp;<span class="ident" id="5121032">lex8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5121038">import</span>&nbsp;<span class="op" id="5121045">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5121048">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5121054">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5121057">//&nbsp;Error&nbsp;is&nbsp;a&nbsp;parsing&nbsp;error</span><br>
<span class="lineno"></span><span class="keyword" id="5121085">type</span>&nbsp;<span class="ident" id="5121090">Error</span>&nbsp;<span class="keyword" id="5121096">struct</span>&nbsp;<span class="op" id="5121103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121106">Pos</span>&nbsp;<span class="op" id="5121110">*</span><span class="ident" id="5121111">Pos</span>&nbsp;&nbsp;<span class="comment" id="5121116">//&nbsp;Pos&nbsp;can&nbsp;be&nbsp;null&nbsp;for&nbsp;error&nbsp;not&nbsp;related&nbsp;to&nbsp;any&nbsp;position</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121174">Err</span>&nbsp;<span class="builtintype" id="5121178">error</span>&nbsp;<span class="comment" id="5121184">//&nbsp;Err&nbsp;is&nbsp;the&nbsp;error&nbsp;message</span><br>
<span class="lineno"></span><span class="op" id="5121212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5121215">//&nbsp;Error&nbsp;returns&nbsp;the&nbsp;error&nbsp;string.</span><br>
<span class="lineno"></span><span class="keyword" id="5121250">func</span>&nbsp;<span class="op" id="5121255">(</span><span class="ident" id="5121256">e</span>&nbsp;<span class="op" id="5121258">*</span><span class="ident" id="5121259">Error</span><span class="op" id="5121264">)</span>&nbsp;<span class="ident" id="5121266">Error</span><span class="op" id="5121271">(</span><span class="op" id="5121272">)</span>&nbsp;<span class="builtintype" id="5121274">string</span>&nbsp;<span class="op" id="5121281">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121284">if</span>&nbsp;<span class="ident" id="5121287">e</span><span class="op" id="5121288">.</span><span class="ident" id="5121289">Pos</span>&nbsp;<span class="op" id="5121293">==</span>&nbsp;<span class="ident" id="5121296">nil</span>&nbsp;<span class="op" id="5121300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121304">return</span>&nbsp;<span class="ident" id="5121311">e</span><span class="op" id="5121312">.</span><span class="ident" id="5121313">Err</span><span class="op" id="5121316">.</span><span class="ident" id="5121317">Error</span><span class="op" id="5121322">(</span><span class="op" id="5121323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5121326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121330">return</span>&nbsp;<span class="ident" id="5121337">fmt</span><span class="op" id="5121340">.</span><span class="ident" id="5121341">Sprintf</span><span class="op" id="5121348">(</span><span class="string" id="5121349">&#34;%s:%d:&nbsp;%s&#34;</span><span class="op" id="5121360">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121364">e</span><span class="op" id="5121365">.</span><span class="ident" id="5121366">Pos</span><span class="op" id="5121369">.</span><span class="ident" id="5121370">File</span><span class="op" id="5121374">,</span>&nbsp;<span class="ident" id="5121376">e</span><span class="op" id="5121377">.</span><span class="ident" id="5121378">Pos</span><span class="op" id="5121381">.</span><span class="ident" id="5121382">Line</span><span class="op" id="5121386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121390">e</span><span class="op" id="5121391">.</span><span class="ident" id="5121392">Err</span><span class="op" id="5121395">.</span><span class="ident" id="5121396">Error</span><span class="op" id="5121401">(</span><span class="op" id="5121402">)</span><span class="op" id="5121403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5121406">)</span><br>
<span class="lineno"></span><span class="op" id="5121408">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="5121411">//&nbsp;Errorf&nbsp;creates&nbsp;a&nbsp;lex8.Error&nbsp;similar&nbsp;to&nbsp;fmt.Errorf</span><br>
<span class="lineno"></span><span class="keyword" id="5121464">func</span>&nbsp;<span class="ident" id="5121469">Errorf</span><span class="op" id="5121475">(</span><span class="ident" id="5121476">f</span>&nbsp;<span class="builtintype" id="5121478">string</span><span class="op" id="5121484">,</span>&nbsp;<span class="ident" id="5121486">args</span>&nbsp;<span class="op" id="5121491">...</span><span class="keyword" id="5121494">interface</span><span class="op" id="5121503">{</span><span class="op" id="5121504">}</span><span class="op" id="5121505">)</span>&nbsp;<span class="op" id="5121507">*</span><span class="ident" id="5121508">Error</span>&nbsp;<span class="op" id="5121514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5121517">e</span>&nbsp;<span class="op" id="5121519">:=</span>&nbsp;<span class="ident" id="5121522">fmt</span><span class="op" id="5121525">.</span><span class="ident" id="5121526">Errorf</span><span class="op" id="5121532">(</span><span class="ident" id="5121533">f</span><span class="op" id="5121534">,</span>&nbsp;<span class="ident" id="5121536">args</span><span class="op" id="5121540">...</span><span class="op" id="5121543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5121546">return</span>&nbsp;<span class="op" id="5121553">&amp;</span><span class="ident" id="5121554">Error</span><span class="op" id="5121559">{</span><span class="ident" id="5121560">Err</span><span class="op" id="5121563">:</span>&nbsp;<span class="ident" id="5121565">e</span><span class="op" id="5121566">}</span><br>
<span class="lineno"></span><span class="op" id="5121568">}</span>
</div>
</body>
</html>
