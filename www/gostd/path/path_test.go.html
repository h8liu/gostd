<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html" class="current">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6964745">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6964800">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6964854">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6964905">package</span>&nbsp;<span class="ident" id="6964913">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6964919">import</span>&nbsp;<span class="op" id="6964926">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964929">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6964940">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6964950">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6964953">type</span>&nbsp;<span class="ident" id="6964958">PathTest</span>&nbsp;<span class="keyword" id="6964967">struct</span>&nbsp;<span class="op" id="6964974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6964977">path</span><span class="op" id="6964981">,</span>&nbsp;<span class="ident" id="6964983">result</span>&nbsp;<span class="builtintype" id="6964990">string</span><br>
<span class="lineno"></span><span class="op" id="6964997">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6965000">var</span>&nbsp;<span class="ident" id="6965004">cleantests</span>&nbsp;<span class="op" id="6965015">=</span>&nbsp;<span class="op" id="6965017">[</span><span class="op" id="6965018">]</span><span class="ident" id="6965019">PathTest</span><span class="op" id="6965027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965030">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965048">{</span><span class="string" id="6965049">&#34;&#34;</span><span class="op" id="6965051">,</span>&nbsp;<span class="string" id="6965053">&#34;.&#34;</span><span class="op" id="6965056">}</span><span class="op" id="6965057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965060">{</span><span class="string" id="6965061">&#34;abc&#34;</span><span class="op" id="6965066">,</span>&nbsp;<span class="string" id="6965068">&#34;abc&#34;</span><span class="op" id="6965073">}</span><span class="op" id="6965074">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965077">{</span><span class="string" id="6965078">&#34;abc/def&#34;</span><span class="op" id="6965087">,</span>&nbsp;<span class="string" id="6965089">&#34;abc/def&#34;</span><span class="op" id="6965098">}</span><span class="op" id="6965099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965102">{</span><span class="string" id="6965103">&#34;a/b/c&#34;</span><span class="op" id="6965110">,</span>&nbsp;<span class="string" id="6965112">&#34;a/b/c&#34;</span><span class="op" id="6965119">}</span><span class="op" id="6965120">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965123">{</span><span class="string" id="6965124">&#34;.&#34;</span><span class="op" id="6965127">,</span>&nbsp;<span class="string" id="6965129">&#34;.&#34;</span><span class="op" id="6965132">}</span><span class="op" id="6965133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965136">{</span><span class="string" id="6965137">&#34;..&#34;</span><span class="op" id="6965141">,</span>&nbsp;<span class="string" id="6965143">&#34;..&#34;</span><span class="op" id="6965147">}</span><span class="op" id="6965148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965151">{</span><span class="string" id="6965152">&#34;../..&#34;</span><span class="op" id="6965159">,</span>&nbsp;<span class="string" id="6965161">&#34;../..&#34;</span><span class="op" id="6965168">}</span><span class="op" id="6965169">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965172">{</span><span class="string" id="6965173">&#34;../../abc&#34;</span><span class="op" id="6965184">,</span>&nbsp;<span class="string" id="6965186">&#34;../../abc&#34;</span><span class="op" id="6965197">}</span><span class="op" id="6965198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965201">{</span><span class="string" id="6965202">&#34;/abc&#34;</span><span class="op" id="6965208">,</span>&nbsp;<span class="string" id="6965210">&#34;/abc&#34;</span><span class="op" id="6965216">}</span><span class="op" id="6965217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965220">{</span><span class="string" id="6965221">&#34;/&#34;</span><span class="op" id="6965224">,</span>&nbsp;<span class="string" id="6965226">&#34;/&#34;</span><span class="op" id="6965229">}</span><span class="op" id="6965230">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965234">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965260">{</span><span class="string" id="6965261">&#34;abc/&#34;</span><span class="op" id="6965267">,</span>&nbsp;<span class="string" id="6965269">&#34;abc&#34;</span><span class="op" id="6965274">}</span><span class="op" id="6965275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965278">{</span><span class="string" id="6965279">&#34;abc/def/&#34;</span><span class="op" id="6965289">,</span>&nbsp;<span class="string" id="6965291">&#34;abc/def&#34;</span><span class="op" id="6965300">}</span><span class="op" id="6965301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965304">{</span><span class="string" id="6965305">&#34;a/b/c/&#34;</span><span class="op" id="6965313">,</span>&nbsp;<span class="string" id="6965315">&#34;a/b/c&#34;</span><span class="op" id="6965322">}</span><span class="op" id="6965323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965326">{</span><span class="string" id="6965327">&#34;./&#34;</span><span class="op" id="6965331">,</span>&nbsp;<span class="string" id="6965333">&#34;.&#34;</span><span class="op" id="6965336">}</span><span class="op" id="6965337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965340">{</span><span class="string" id="6965341">&#34;../&#34;</span><span class="op" id="6965346">,</span>&nbsp;<span class="string" id="6965348">&#34;..&#34;</span><span class="op" id="6965352">}</span><span class="op" id="6965353">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965356">{</span><span class="string" id="6965357">&#34;../../&#34;</span><span class="op" id="6965365">,</span>&nbsp;<span class="string" id="6965367">&#34;../..&#34;</span><span class="op" id="6965374">}</span><span class="op" id="6965375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965378">{</span><span class="string" id="6965379">&#34;/abc/&#34;</span><span class="op" id="6965386">,</span>&nbsp;<span class="string" id="6965388">&#34;/abc&#34;</span><span class="op" id="6965394">}</span><span class="op" id="6965395">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965399">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965424">{</span><span class="string" id="6965425">&#34;abc//def//ghi&#34;</span><span class="op" id="6965440">,</span>&nbsp;<span class="string" id="6965442">&#34;abc/def/ghi&#34;</span><span class="op" id="6965455">}</span><span class="op" id="6965456">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965459">{</span><span class="string" id="6965460">&#34;//abc&#34;</span><span class="op" id="6965467">,</span>&nbsp;<span class="string" id="6965469">&#34;/abc&#34;</span><span class="op" id="6965475">}</span><span class="op" id="6965476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965479">{</span><span class="string" id="6965480">&#34;///abc&#34;</span><span class="op" id="6965488">,</span>&nbsp;<span class="string" id="6965490">&#34;/abc&#34;</span><span class="op" id="6965496">}</span><span class="op" id="6965497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965500">{</span><span class="string" id="6965501">&#34;//abc//&#34;</span><span class="op" id="6965510">,</span>&nbsp;<span class="string" id="6965512">&#34;/abc&#34;</span><span class="op" id="6965518">}</span><span class="op" id="6965519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965522">{</span><span class="string" id="6965523">&#34;abc//&#34;</span><span class="op" id="6965530">,</span>&nbsp;<span class="string" id="6965532">&#34;abc&#34;</span><span class="op" id="6965537">}</span><span class="op" id="6965538">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965542">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965564">{</span><span class="string" id="6965565">&#34;abc/./def&#34;</span><span class="op" id="6965576">,</span>&nbsp;<span class="string" id="6965578">&#34;abc/def&#34;</span><span class="op" id="6965587">}</span><span class="op" id="6965588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965591">{</span><span class="string" id="6965592">&#34;/./abc/def&#34;</span><span class="op" id="6965604">,</span>&nbsp;<span class="string" id="6965606">&#34;/abc/def&#34;</span><span class="op" id="6965616">}</span><span class="op" id="6965617">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965620">{</span><span class="string" id="6965621">&#34;abc/.&#34;</span><span class="op" id="6965628">,</span>&nbsp;<span class="string" id="6965630">&#34;abc&#34;</span><span class="op" id="6965635">}</span><span class="op" id="6965636">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965640">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965663">{</span><span class="string" id="6965664">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="6965684">,</span>&nbsp;<span class="string" id="6965686">&#34;abc/def/jkl&#34;</span><span class="op" id="6965699">}</span><span class="op" id="6965700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965703">{</span><span class="string" id="6965704">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="6965727">,</span>&nbsp;<span class="string" id="6965729">&#34;abc/jkl&#34;</span><span class="op" id="6965738">}</span><span class="op" id="6965739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965742">{</span><span class="string" id="6965743">&#34;abc/def/..&#34;</span><span class="op" id="6965755">,</span>&nbsp;<span class="string" id="6965757">&#34;abc&#34;</span><span class="op" id="6965762">}</span><span class="op" id="6965763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965766">{</span><span class="string" id="6965767">&#34;abc/def/../..&#34;</span><span class="op" id="6965782">,</span>&nbsp;<span class="string" id="6965784">&#34;.&#34;</span><span class="op" id="6965787">}</span><span class="op" id="6965788">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965791">{</span><span class="string" id="6965792">&#34;/abc/def/../..&#34;</span><span class="op" id="6965808">,</span>&nbsp;<span class="string" id="6965810">&#34;/&#34;</span><span class="op" id="6965813">}</span><span class="op" id="6965814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965817">{</span><span class="string" id="6965818">&#34;abc/def/../../..&#34;</span><span class="op" id="6965836">,</span>&nbsp;<span class="string" id="6965838">&#34;..&#34;</span><span class="op" id="6965842">}</span><span class="op" id="6965843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965846">{</span><span class="string" id="6965847">&#34;/abc/def/../../..&#34;</span><span class="op" id="6965866">,</span>&nbsp;<span class="string" id="6965868">&#34;/&#34;</span><span class="op" id="6965871">}</span><span class="op" id="6965872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965875">{</span><span class="string" id="6965876">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="6965915">,</span>&nbsp;<span class="string" id="6965917">&#34;../../mno&#34;</span><span class="op" id="6965928">}</span><span class="op" id="6965929">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6965933">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965950">{</span><span class="string" id="6965951">&#34;abc/./../def&#34;</span><span class="op" id="6965965">,</span>&nbsp;<span class="string" id="6965967">&#34;def&#34;</span><span class="op" id="6965972">}</span><span class="op" id="6965973">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6965976">{</span><span class="string" id="6965977">&#34;abc//./../def&#34;</span><span class="op" id="6965992">,</span>&nbsp;<span class="string" id="6965994">&#34;def&#34;</span><span class="op" id="6965999">}</span><span class="op" id="6966000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966003">{</span><span class="string" id="6966004">&#34;abc/../../././../def&#34;</span><span class="op" id="6966026">,</span>&nbsp;<span class="string" id="6966028">&#34;../../def&#34;</span><span class="op" id="6966039">}</span><span class="op" id="6966040">,</span><br>
<span class="lineno"></span><span class="op" id="6966042">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6966045">func</span>&nbsp;<span class="ident" id="6966050">TestClean</span><span class="op" id="6966059">(</span><span class="ident" id="6966060">t</span>&nbsp;<span class="op" id="6966062">*</span><span class="ident" id="6966063">testing</span><span class="op" id="6966070">.</span><span class="ident" id="6966071">T</span><span class="op" id="6966072">)</span>&nbsp;<span class="op" id="6966074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966077">for</span>&nbsp;<span class="ident" id="6966081">_</span><span class="op" id="6966082">,</span>&nbsp;<span class="ident" id="6966084">test</span>&nbsp;<span class="op" id="6966089">:=</span>&nbsp;<span class="keyword" id="6966092">range</span>&nbsp;<span class="ident" id="6966098">cleantests</span>&nbsp;<span class="op" id="6966109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966113">if</span>&nbsp;<span class="ident" id="6966116">s</span>&nbsp;<span class="op" id="6966118">:=</span>&nbsp;<span class="ident" id="6966121">Clean</span><span class="op" id="6966126">(</span><span class="ident" id="6966127">test</span><span class="op" id="6966131">.</span><span class="ident" id="6966132">path</span><span class="op" id="6966136">)</span><span class="op" id="6966137">;</span>&nbsp;<span class="ident" id="6966139">s</span>&nbsp;<span class="op" id="6966141">!=</span>&nbsp;<span class="ident" id="6966144">test</span><span class="op" id="6966148">.</span><span class="ident" id="6966149">result</span>&nbsp;<span class="op" id="6966156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966161">t</span><span class="op" id="6966162">.</span><span class="ident" id="6966163">Errorf</span><span class="op" id="6966169">(</span><span class="string" id="6966170">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6966195">,</span>&nbsp;<span class="ident" id="6966197">test</span><span class="op" id="6966201">.</span><span class="ident" id="6966202">path</span><span class="op" id="6966206">,</span>&nbsp;<span class="ident" id="6966208">s</span><span class="op" id="6966209">,</span>&nbsp;<span class="ident" id="6966211">test</span><span class="op" id="6966215">.</span><span class="ident" id="6966216">result</span><span class="op" id="6966222">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966226">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966230">if</span>&nbsp;<span class="ident" id="6966233">s</span>&nbsp;<span class="op" id="6966235">:=</span>&nbsp;<span class="ident" id="6966238">Clean</span><span class="op" id="6966243">(</span><span class="ident" id="6966244">test</span><span class="op" id="6966248">.</span><span class="ident" id="6966249">result</span><span class="op" id="6966255">)</span><span class="op" id="6966256">;</span>&nbsp;<span class="ident" id="6966258">s</span>&nbsp;<span class="op" id="6966260">!=</span>&nbsp;<span class="ident" id="6966263">test</span><span class="op" id="6966267">.</span><span class="ident" id="6966268">result</span>&nbsp;<span class="op" id="6966275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966280">t</span><span class="op" id="6966281">.</span><span class="ident" id="6966282">Errorf</span><span class="op" id="6966288">(</span><span class="string" id="6966289">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6966314">,</span>&nbsp;<span class="ident" id="6966316">test</span><span class="op" id="6966320">.</span><span class="ident" id="6966321">result</span><span class="op" id="6966327">,</span>&nbsp;<span class="ident" id="6966329">s</span><span class="op" id="6966330">,</span>&nbsp;<span class="ident" id="6966332">test</span><span class="op" id="6966336">.</span><span class="ident" id="6966337">result</span><span class="op" id="6966343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966350">}</span><br>
<span class="lineno">75</span><span class="op" id="6966352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6966355">func</span>&nbsp;<span class="ident" id="6966360">TestCleanMallocs</span><span class="op" id="6966376">(</span><span class="ident" id="6966377">t</span>&nbsp;<span class="op" id="6966379">*</span><span class="ident" id="6966380">testing</span><span class="op" id="6966387">.</span><span class="ident" id="6966388">T</span><span class="op" id="6966389">)</span>&nbsp;<span class="op" id="6966391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966394">if</span>&nbsp;<span class="ident" id="6966397">testing</span><span class="op" id="6966404">.</span><span class="ident" id="6966405">Short</span><span class="op" id="6966410">(</span><span class="op" id="6966411">)</span>&nbsp;<span class="op" id="6966413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966417">t</span><span class="op" id="6966418">.</span><span class="ident" id="6966419">Skip</span><span class="op" id="6966423">(</span><span class="string" id="6966424">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="6966461">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966467">if</span>&nbsp;<span class="ident" id="6966470">runtime</span><span class="op" id="6966477">.</span><span class="ident" id="6966478">GOMAXPROCS</span><span class="op" id="6966488">(</span><span class="num" id="6966489">0</span><span class="op" id="6966490">)</span>&nbsp;<span class="op" id="6966492">&gt;</span>&nbsp;<span class="num" id="6966494">1</span>&nbsp;<span class="op" id="6966496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966500">t</span><span class="op" id="6966501">.</span><span class="ident" id="6966502">Log</span><span class="op" id="6966505">(</span><span class="string" id="6966506">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="6966550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966554">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966562">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966566">for</span>&nbsp;<span class="ident" id="6966570">_</span><span class="op" id="6966571">,</span>&nbsp;<span class="ident" id="6966573">test</span>&nbsp;<span class="op" id="6966578">:=</span>&nbsp;<span class="keyword" id="6966581">range</span>&nbsp;<span class="ident" id="6966587">cleantests</span>&nbsp;<span class="op" id="6966598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966602">allocs</span>&nbsp;<span class="op" id="6966609">:=</span>&nbsp;<span class="ident" id="6966612">testing</span><span class="op" id="6966619">.</span><span class="ident" id="6966620">AllocsPerRun</span><span class="op" id="6966632">(</span><span class="num" id="6966633">100</span><span class="op" id="6966636">,</span>&nbsp;<span class="keyword" id="6966638">func</span><span class="op" id="6966642">(</span><span class="op" id="6966643">)</span>&nbsp;<span class="op" id="6966645">{</span>&nbsp;<span class="ident" id="6966647">Clean</span><span class="op" id="6966652">(</span><span class="ident" id="6966653">test</span><span class="op" id="6966657">.</span><span class="ident" id="6966658">result</span><span class="op" id="6966664">)</span>&nbsp;<span class="op" id="6966666">}</span><span class="op" id="6966667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966671">if</span>&nbsp;<span class="ident" id="6966674">allocs</span>&nbsp;<span class="op" id="6966681">&gt;</span>&nbsp;<span class="num" id="6966683">0</span>&nbsp;<span class="op" id="6966685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966690">t</span><span class="op" id="6966691">.</span><span class="ident" id="6966692">Errorf</span><span class="op" id="6966698">(</span><span class="string" id="6966699">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="6966732">,</span>&nbsp;<span class="ident" id="6966734">test</span><span class="op" id="6966738">.</span><span class="ident" id="6966739">result</span><span class="op" id="6966745">,</span>&nbsp;<span class="ident" id="6966747">allocs</span><span class="op" id="6966753">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966760">}</span><br>
<span class="lineno"></span><span class="op" id="6966762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6966765">type</span>&nbsp;<span class="ident" id="6966770">SplitTest</span>&nbsp;<span class="keyword" id="6966780">struct</span>&nbsp;<span class="op" id="6966787">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6966790">path</span><span class="op" id="6966794">,</span>&nbsp;<span class="ident" id="6966796">dir</span><span class="op" id="6966799">,</span>&nbsp;<span class="ident" id="6966801">file</span>&nbsp;<span class="builtintype" id="6966806">string</span><br>
<span class="lineno"></span><span class="op" id="6966813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6966816">var</span>&nbsp;<span class="ident" id="6966820">splittests</span>&nbsp;<span class="op" id="6966831">=</span>&nbsp;<span class="op" id="6966833">[</span><span class="op" id="6966834">]</span><span class="ident" id="6966835">SplitTest</span><span class="op" id="6966844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966847">{</span><span class="string" id="6966848">&#34;a/b&#34;</span><span class="op" id="6966853">,</span>&nbsp;<span class="string" id="6966855">&#34;a/&#34;</span><span class="op" id="6966859">,</span>&nbsp;<span class="string" id="6966861">&#34;b&#34;</span><span class="op" id="6966864">}</span><span class="op" id="6966865">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966868">{</span><span class="string" id="6966869">&#34;a/b/&#34;</span><span class="op" id="6966875">,</span>&nbsp;<span class="string" id="6966877">&#34;a/b/&#34;</span><span class="op" id="6966883">,</span>&nbsp;<span class="string" id="6966885">&#34;&#34;</span><span class="op" id="6966887">}</span><span class="op" id="6966888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966891">{</span><span class="string" id="6966892">&#34;a/&#34;</span><span class="op" id="6966896">,</span>&nbsp;<span class="string" id="6966898">&#34;a/&#34;</span><span class="op" id="6966902">,</span>&nbsp;<span class="string" id="6966904">&#34;&#34;</span><span class="op" id="6966906">}</span><span class="op" id="6966907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966910">{</span><span class="string" id="6966911">&#34;a&#34;</span><span class="op" id="6966914">,</span>&nbsp;<span class="string" id="6966916">&#34;&#34;</span><span class="op" id="6966918">,</span>&nbsp;<span class="string" id="6966920">&#34;a&#34;</span><span class="op" id="6966923">}</span><span class="op" id="6966924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6966927">{</span><span class="string" id="6966928">&#34;/&#34;</span><span class="op" id="6966931">,</span>&nbsp;<span class="string" id="6966933">&#34;/&#34;</span><span class="op" id="6966936">,</span>&nbsp;<span class="string" id="6966938">&#34;&#34;</span><span class="op" id="6966940">}</span><span class="op" id="6966941">,</span><br>
<span class="lineno"></span><span class="op" id="6966943">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="6966946">func</span>&nbsp;<span class="ident" id="6966951">TestSplit</span><span class="op" id="6966960">(</span><span class="ident" id="6966961">t</span>&nbsp;<span class="op" id="6966963">*</span><span class="ident" id="6966964">testing</span><span class="op" id="6966971">.</span><span class="ident" id="6966972">T</span><span class="op" id="6966973">)</span>&nbsp;<span class="op" id="6966975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6966978">for</span>&nbsp;<span class="ident" id="6966982">_</span><span class="op" id="6966983">,</span>&nbsp;<span class="ident" id="6966985">test</span>&nbsp;<span class="op" id="6966990">:=</span>&nbsp;<span class="keyword" id="6966993">range</span>&nbsp;<span class="ident" id="6966999">splittests</span>&nbsp;<span class="op" id="6967010">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967014">if</span>&nbsp;<span class="ident" id="6967017">d</span><span class="op" id="6967018">,</span>&nbsp;<span class="ident" id="6967020">f</span>&nbsp;<span class="op" id="6967022">:=</span>&nbsp;<span class="ident" id="6967025">Split</span><span class="op" id="6967030">(</span><span class="ident" id="6967031">test</span><span class="op" id="6967035">.</span><span class="ident" id="6967036">path</span><span class="op" id="6967040">)</span><span class="op" id="6967041">;</span>&nbsp;<span class="ident" id="6967043">d</span>&nbsp;<span class="op" id="6967045">!=</span>&nbsp;<span class="ident" id="6967048">test</span><span class="op" id="6967052">.</span><span class="ident" id="6967053">dir</span>&nbsp;<span class="op" id="6967057">||</span>&nbsp;<span class="ident" id="6967060">f</span>&nbsp;<span class="op" id="6967062">!=</span>&nbsp;<span class="ident" id="6967065">test</span><span class="op" id="6967069">.</span><span class="ident" id="6967070">file</span>&nbsp;<span class="op" id="6967075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967080">t</span><span class="op" id="6967081">.</span><span class="ident" id="6967082">Errorf</span><span class="op" id="6967088">(</span><span class="string" id="6967089">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="6967122">,</span>&nbsp;<span class="ident" id="6967124">test</span><span class="op" id="6967128">.</span><span class="ident" id="6967129">path</span><span class="op" id="6967133">,</span>&nbsp;<span class="ident" id="6967135">d</span><span class="op" id="6967136">,</span>&nbsp;<span class="ident" id="6967138">f</span><span class="op" id="6967139">,</span>&nbsp;<span class="ident" id="6967141">test</span><span class="op" id="6967145">.</span><span class="ident" id="6967146">dir</span><span class="op" id="6967149">,</span>&nbsp;<span class="ident" id="6967151">test</span><span class="op" id="6967155">.</span><span class="ident" id="6967156">file</span><span class="op" id="6967160">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967167">}</span><br>
<span class="lineno"></span><span class="op" id="6967169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6967172">type</span>&nbsp;<span class="ident" id="6967177">JoinTest</span>&nbsp;<span class="keyword" id="6967186">struct</span>&nbsp;<span class="op" id="6967193">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967196">elem</span>&nbsp;<span class="op" id="6967201">[</span><span class="op" id="6967202">]</span><span class="builtintype" id="6967203">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967211">path</span>&nbsp;<span class="builtintype" id="6967216">string</span><br>
<span class="lineno"></span><span class="op" id="6967223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6967226">var</span>&nbsp;<span class="ident" id="6967230">jointests</span>&nbsp;<span class="op" id="6967240">=</span>&nbsp;<span class="op" id="6967242">[</span><span class="op" id="6967243">]</span><span class="ident" id="6967244">JoinTest</span><span class="op" id="6967252">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6967255">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967275">{</span><span class="op" id="6967276">[</span><span class="op" id="6967277">]</span><span class="builtintype" id="6967278">string</span><span class="op" id="6967284">{</span><span class="op" id="6967285">}</span><span class="op" id="6967286">,</span>&nbsp;<span class="string" id="6967288">&#34;&#34;</span><span class="op" id="6967290">}</span><span class="op" id="6967291">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6967295">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967313">{</span><span class="op" id="6967314">[</span><span class="op" id="6967315">]</span><span class="builtintype" id="6967316">string</span><span class="op" id="6967322">{</span><span class="string" id="6967323">&#34;&#34;</span><span class="op" id="6967325">}</span><span class="op" id="6967326">,</span>&nbsp;<span class="string" id="6967328">&#34;&#34;</span><span class="op" id="6967330">}</span><span class="op" id="6967331">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967334">{</span><span class="op" id="6967335">[</span><span class="op" id="6967336">]</span><span class="builtintype" id="6967337">string</span><span class="op" id="6967343">{</span><span class="string" id="6967344">&#34;a&#34;</span><span class="op" id="6967347">}</span><span class="op" id="6967348">,</span>&nbsp;<span class="string" id="6967350">&#34;a&#34;</span><span class="op" id="6967353">}</span><span class="op" id="6967354">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6967358">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967377">{</span><span class="op" id="6967378">[</span><span class="op" id="6967379">]</span><span class="builtintype" id="6967380">string</span><span class="op" id="6967386">{</span><span class="string" id="6967387">&#34;a&#34;</span><span class="op" id="6967390">,</span>&nbsp;<span class="string" id="6967392">&#34;b&#34;</span><span class="op" id="6967395">}</span><span class="op" id="6967396">,</span>&nbsp;<span class="string" id="6967398">&#34;a/b&#34;</span><span class="op" id="6967403">}</span><span class="op" id="6967404">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967407">{</span><span class="op" id="6967408">[</span><span class="op" id="6967409">]</span><span class="builtintype" id="6967410">string</span><span class="op" id="6967416">{</span><span class="string" id="6967417">&#34;a&#34;</span><span class="op" id="6967420">,</span>&nbsp;<span class="string" id="6967422">&#34;&#34;</span><span class="op" id="6967424">}</span><span class="op" id="6967425">,</span>&nbsp;<span class="string" id="6967427">&#34;a&#34;</span><span class="op" id="6967430">}</span><span class="op" id="6967431">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967434">{</span><span class="op" id="6967435">[</span><span class="op" id="6967436">]</span><span class="builtintype" id="6967437">string</span><span class="op" id="6967443">{</span><span class="string" id="6967444">&#34;&#34;</span><span class="op" id="6967446">,</span>&nbsp;<span class="string" id="6967448">&#34;b&#34;</span><span class="op" id="6967451">}</span><span class="op" id="6967452">,</span>&nbsp;<span class="string" id="6967454">&#34;b&#34;</span><span class="op" id="6967457">}</span><span class="op" id="6967458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967461">{</span><span class="op" id="6967462">[</span><span class="op" id="6967463">]</span><span class="builtintype" id="6967464">string</span><span class="op" id="6967470">{</span><span class="string" id="6967471">&#34;/&#34;</span><span class="op" id="6967474">,</span>&nbsp;<span class="string" id="6967476">&#34;a&#34;</span><span class="op" id="6967479">}</span><span class="op" id="6967480">,</span>&nbsp;<span class="string" id="6967482">&#34;/a&#34;</span><span class="op" id="6967486">}</span><span class="op" id="6967487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967490">{</span><span class="op" id="6967491">[</span><span class="op" id="6967492">]</span><span class="builtintype" id="6967493">string</span><span class="op" id="6967499">{</span><span class="string" id="6967500">&#34;/&#34;</span><span class="op" id="6967503">,</span>&nbsp;<span class="string" id="6967505">&#34;&#34;</span><span class="op" id="6967507">}</span><span class="op" id="6967508">,</span>&nbsp;<span class="string" id="6967510">&#34;/&#34;</span><span class="op" id="6967513">}</span><span class="op" id="6967514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967517">{</span><span class="op" id="6967518">[</span><span class="op" id="6967519">]</span><span class="builtintype" id="6967520">string</span><span class="op" id="6967526">{</span><span class="string" id="6967527">&#34;a/&#34;</span><span class="op" id="6967531">,</span>&nbsp;<span class="string" id="6967533">&#34;b&#34;</span><span class="op" id="6967536">}</span><span class="op" id="6967537">,</span>&nbsp;<span class="string" id="6967539">&#34;a/b&#34;</span><span class="op" id="6967544">}</span><span class="op" id="6967545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967548">{</span><span class="op" id="6967549">[</span><span class="op" id="6967550">]</span><span class="builtintype" id="6967551">string</span><span class="op" id="6967557">{</span><span class="string" id="6967558">&#34;a/&#34;</span><span class="op" id="6967562">,</span>&nbsp;<span class="string" id="6967564">&#34;&#34;</span><span class="op" id="6967566">}</span><span class="op" id="6967567">,</span>&nbsp;<span class="string" id="6967569">&#34;a&#34;</span><span class="op" id="6967572">}</span><span class="op" id="6967573">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967576">{</span><span class="op" id="6967577">[</span><span class="op" id="6967578">]</span><span class="builtintype" id="6967579">string</span><span class="op" id="6967585">{</span><span class="string" id="6967586">&#34;&#34;</span><span class="op" id="6967588">,</span>&nbsp;<span class="string" id="6967590">&#34;&#34;</span><span class="op" id="6967592">}</span><span class="op" id="6967593">,</span>&nbsp;<span class="string" id="6967595">&#34;&#34;</span><span class="op" id="6967597">}</span><span class="op" id="6967598">,</span><br>
<span class="lineno"></span><span class="op" id="6967600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6967603">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="6967651">func</span>&nbsp;<span class="ident" id="6967656">join</span><span class="op" id="6967660">(</span><span class="ident" id="6967661">elem</span>&nbsp;<span class="op" id="6967666">[</span><span class="op" id="6967667">]</span><span class="builtintype" id="6967668">string</span><span class="op" id="6967674">,</span>&nbsp;<span class="ident" id="6967676">args</span>&nbsp;<span class="op" id="6967681">...</span><span class="builtintype" id="6967684">string</span><span class="op" id="6967690">)</span>&nbsp;<span class="builtintype" id="6967692">string</span>&nbsp;<span class="op" id="6967699">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967702">args</span>&nbsp;<span class="op" id="6967707">=</span>&nbsp;<span class="ident" id="6967709">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967715">return</span>&nbsp;<span class="ident" id="6967722">Join</span><span class="op" id="6967726">(</span><span class="ident" id="6967727">args</span><span class="op" id="6967731">...</span><span class="op" id="6967734">)</span><br>
<span class="lineno"></span><span class="op" id="6967736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6967739">func</span>&nbsp;<span class="ident" id="6967744">TestJoin</span><span class="op" id="6967752">(</span><span class="ident" id="6967753">t</span>&nbsp;<span class="op" id="6967755">*</span><span class="ident" id="6967756">testing</span><span class="op" id="6967763">.</span><span class="ident" id="6967764">T</span><span class="op" id="6967765">)</span>&nbsp;<span class="op" id="6967767">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967770">for</span>&nbsp;<span class="ident" id="6967774">_</span><span class="op" id="6967775">,</span>&nbsp;<span class="ident" id="6967777">test</span>&nbsp;<span class="op" id="6967782">:=</span>&nbsp;<span class="keyword" id="6967785">range</span>&nbsp;<span class="ident" id="6967791">jointests</span>&nbsp;<span class="op" id="6967801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6967805">if</span>&nbsp;<span class="ident" id="6967808">p</span>&nbsp;<span class="op" id="6967810">:=</span>&nbsp;<span class="ident" id="6967813">join</span><span class="op" id="6967817">(</span><span class="ident" id="6967818">test</span><span class="op" id="6967822">.</span><span class="ident" id="6967823">elem</span><span class="op" id="6967827">)</span><span class="op" id="6967828">;</span>&nbsp;<span class="ident" id="6967830">p</span>&nbsp;<span class="op" id="6967832">!=</span>&nbsp;<span class="ident" id="6967835">test</span><span class="op" id="6967839">.</span><span class="ident" id="6967840">path</span>&nbsp;<span class="op" id="6967845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967850">t</span><span class="op" id="6967851">.</span><span class="ident" id="6967852">Errorf</span><span class="op" id="6967858">(</span><span class="string" id="6967859">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6967883">,</span>&nbsp;<span class="ident" id="6967885">test</span><span class="op" id="6967889">.</span><span class="ident" id="6967890">elem</span><span class="op" id="6967894">,</span>&nbsp;<span class="ident" id="6967896">p</span><span class="op" id="6967897">,</span>&nbsp;<span class="ident" id="6967899">test</span><span class="op" id="6967903">.</span><span class="ident" id="6967904">path</span><span class="op" id="6967908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967915">}</span><br>
<span class="lineno">150</span><span class="op" id="6967917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6967920">type</span>&nbsp;<span class="ident" id="6967925">ExtTest</span>&nbsp;<span class="keyword" id="6967933">struct</span>&nbsp;<span class="op" id="6967940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6967943">path</span><span class="op" id="6967947">,</span>&nbsp;<span class="ident" id="6967949">ext</span>&nbsp;<span class="builtintype" id="6967953">string</span><br>
<span class="lineno"></span><span class="op" id="6967960">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6967963">var</span>&nbsp;<span class="ident" id="6967967">exttests</span>&nbsp;<span class="op" id="6967976">=</span>&nbsp;<span class="op" id="6967978">[</span><span class="op" id="6967979">]</span><span class="ident" id="6967980">ExtTest</span><span class="op" id="6967987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6967990">{</span><span class="string" id="6967991">&#34;path.go&#34;</span><span class="op" id="6968000">,</span>&nbsp;<span class="string" id="6968002">&#34;.go&#34;</span><span class="op" id="6968007">}</span><span class="op" id="6968008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968011">{</span><span class="string" id="6968012">&#34;path.pb.go&#34;</span><span class="op" id="6968024">,</span>&nbsp;<span class="string" id="6968026">&#34;.go&#34;</span><span class="op" id="6968031">}</span><span class="op" id="6968032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968035">{</span><span class="string" id="6968036">&#34;a.dir/b&#34;</span><span class="op" id="6968045">,</span>&nbsp;<span class="string" id="6968047">&#34;&#34;</span><span class="op" id="6968049">}</span><span class="op" id="6968050">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968053">{</span><span class="string" id="6968054">&#34;a.dir/b.go&#34;</span><span class="op" id="6968066">,</span>&nbsp;<span class="string" id="6968068">&#34;.go&#34;</span><span class="op" id="6968073">}</span><span class="op" id="6968074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968077">{</span><span class="string" id="6968078">&#34;a.dir/&#34;</span><span class="op" id="6968086">,</span>&nbsp;<span class="string" id="6968088">&#34;&#34;</span><span class="op" id="6968090">}</span><span class="op" id="6968091">,</span><br>
<span class="lineno"></span><span class="op" id="6968093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6968096">func</span>&nbsp;<span class="ident" id="6968101">TestExt</span><span class="op" id="6968108">(</span><span class="ident" id="6968109">t</span>&nbsp;<span class="op" id="6968111">*</span><span class="ident" id="6968112">testing</span><span class="op" id="6968119">.</span><span class="ident" id="6968120">T</span><span class="op" id="6968121">)</span>&nbsp;<span class="op" id="6968123">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968126">for</span>&nbsp;<span class="ident" id="6968130">_</span><span class="op" id="6968131">,</span>&nbsp;<span class="ident" id="6968133">test</span>&nbsp;<span class="op" id="6968138">:=</span>&nbsp;<span class="keyword" id="6968141">range</span>&nbsp;<span class="ident" id="6968147">exttests</span>&nbsp;<span class="op" id="6968156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968160">if</span>&nbsp;<span class="ident" id="6968163">x</span>&nbsp;<span class="op" id="6968165">:=</span>&nbsp;<span class="ident" id="6968168">Ext</span><span class="op" id="6968171">(</span><span class="ident" id="6968172">test</span><span class="op" id="6968176">.</span><span class="ident" id="6968177">path</span><span class="op" id="6968181">)</span><span class="op" id="6968182">;</span>&nbsp;<span class="ident" id="6968184">x</span>&nbsp;<span class="op" id="6968186">!=</span>&nbsp;<span class="ident" id="6968189">test</span><span class="op" id="6968193">.</span><span class="ident" id="6968194">ext</span>&nbsp;<span class="op" id="6968198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968203">t</span><span class="op" id="6968204">.</span><span class="ident" id="6968205">Errorf</span><span class="op" id="6968211">(</span><span class="string" id="6968212">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6968235">,</span>&nbsp;<span class="ident" id="6968237">test</span><span class="op" id="6968241">.</span><span class="ident" id="6968242">path</span><span class="op" id="6968246">,</span>&nbsp;<span class="ident" id="6968248">x</span><span class="op" id="6968249">,</span>&nbsp;<span class="ident" id="6968251">test</span><span class="op" id="6968255">.</span><span class="ident" id="6968256">ext</span><span class="op" id="6968259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968266">}</span><br>
<span class="lineno">170</span><span class="op" id="6968268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6968271">var</span>&nbsp;<span class="ident" id="6968275">basetests</span>&nbsp;<span class="op" id="6968285">=</span>&nbsp;<span class="op" id="6968287">[</span><span class="op" id="6968288">]</span><span class="ident" id="6968289">PathTest</span><span class="op" id="6968297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6968300">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968318">{</span><span class="string" id="6968319">&#34;&#34;</span><span class="op" id="6968321">,</span>&nbsp;<span class="string" id="6968323">&#34;.&#34;</span><span class="op" id="6968326">}</span><span class="op" id="6968327">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968330">{</span><span class="string" id="6968331">&#34;.&#34;</span><span class="op" id="6968334">,</span>&nbsp;<span class="string" id="6968336">&#34;.&#34;</span><span class="op" id="6968339">}</span><span class="op" id="6968340">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968343">{</span><span class="string" id="6968344">&#34;/.&#34;</span><span class="op" id="6968348">,</span>&nbsp;<span class="string" id="6968350">&#34;.&#34;</span><span class="op" id="6968353">}</span><span class="op" id="6968354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968357">{</span><span class="string" id="6968358">&#34;/&#34;</span><span class="op" id="6968361">,</span>&nbsp;<span class="string" id="6968363">&#34;/&#34;</span><span class="op" id="6968366">}</span><span class="op" id="6968367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968370">{</span><span class="string" id="6968371">&#34;////&#34;</span><span class="op" id="6968377">,</span>&nbsp;<span class="string" id="6968379">&#34;/&#34;</span><span class="op" id="6968382">}</span><span class="op" id="6968383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968386">{</span><span class="string" id="6968387">&#34;x/&#34;</span><span class="op" id="6968391">,</span>&nbsp;<span class="string" id="6968393">&#34;x&#34;</span><span class="op" id="6968396">}</span><span class="op" id="6968397">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968400">{</span><span class="string" id="6968401">&#34;abc&#34;</span><span class="op" id="6968406">,</span>&nbsp;<span class="string" id="6968408">&#34;abc&#34;</span><span class="op" id="6968413">}</span><span class="op" id="6968414">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968417">{</span><span class="string" id="6968418">&#34;abc/def&#34;</span><span class="op" id="6968427">,</span>&nbsp;<span class="string" id="6968429">&#34;def&#34;</span><span class="op" id="6968434">}</span><span class="op" id="6968435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968438">{</span><span class="string" id="6968439">&#34;a/b/.x&#34;</span><span class="op" id="6968447">,</span>&nbsp;<span class="string" id="6968449">&#34;.x&#34;</span><span class="op" id="6968453">}</span><span class="op" id="6968454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968457">{</span><span class="string" id="6968458">&#34;a/b/c.&#34;</span><span class="op" id="6968466">,</span>&nbsp;<span class="string" id="6968468">&#34;c.&#34;</span><span class="op" id="6968472">}</span><span class="op" id="6968473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968476">{</span><span class="string" id="6968477">&#34;a/b/c.x&#34;</span><span class="op" id="6968486">,</span>&nbsp;<span class="string" id="6968488">&#34;c.x&#34;</span><span class="op" id="6968493">}</span><span class="op" id="6968494">,</span><br>
<span class="lineno">185</span><span class="op" id="6968496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6968499">func</span>&nbsp;<span class="ident" id="6968504">TestBase</span><span class="op" id="6968512">(</span><span class="ident" id="6968513">t</span>&nbsp;<span class="op" id="6968515">*</span><span class="ident" id="6968516">testing</span><span class="op" id="6968523">.</span><span class="ident" id="6968524">T</span><span class="op" id="6968525">)</span>&nbsp;<span class="op" id="6968527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968530">for</span>&nbsp;<span class="ident" id="6968534">_</span><span class="op" id="6968535">,</span>&nbsp;<span class="ident" id="6968537">test</span>&nbsp;<span class="op" id="6968542">:=</span>&nbsp;<span class="keyword" id="6968545">range</span>&nbsp;<span class="ident" id="6968551">basetests</span>&nbsp;<span class="op" id="6968561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968565">if</span>&nbsp;<span class="ident" id="6968568">s</span>&nbsp;<span class="op" id="6968570">:=</span>&nbsp;<span class="ident" id="6968573">Base</span><span class="op" id="6968577">(</span><span class="ident" id="6968578">test</span><span class="op" id="6968582">.</span><span class="ident" id="6968583">path</span><span class="op" id="6968587">)</span><span class="op" id="6968588">;</span>&nbsp;<span class="ident" id="6968590">s</span>&nbsp;<span class="op" id="6968592">!=</span>&nbsp;<span class="ident" id="6968595">test</span><span class="op" id="6968599">.</span><span class="ident" id="6968600">result</span>&nbsp;<span class="op" id="6968607">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6968612">t</span><span class="op" id="6968613">.</span><span class="ident" id="6968614">Errorf</span><span class="op" id="6968620">(</span><span class="string" id="6968621">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6968645">,</span>&nbsp;<span class="ident" id="6968647">test</span><span class="op" id="6968651">.</span><span class="ident" id="6968652">path</span><span class="op" id="6968656">,</span>&nbsp;<span class="ident" id="6968658">s</span><span class="op" id="6968659">,</span>&nbsp;<span class="ident" id="6968661">test</span><span class="op" id="6968665">.</span><span class="ident" id="6968666">result</span><span class="op" id="6968672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968679">}</span><br>
<span class="lineno"></span><span class="op" id="6968681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="6968684">var</span>&nbsp;<span class="ident" id="6968688">dirtests</span>&nbsp;<span class="op" id="6968697">=</span>&nbsp;<span class="op" id="6968699">[</span><span class="op" id="6968700">]</span><span class="ident" id="6968701">PathTest</span><span class="op" id="6968709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968712">{</span><span class="string" id="6968713">&#34;&#34;</span><span class="op" id="6968715">,</span>&nbsp;<span class="string" id="6968717">&#34;.&#34;</span><span class="op" id="6968720">}</span><span class="op" id="6968721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968724">{</span><span class="string" id="6968725">&#34;.&#34;</span><span class="op" id="6968728">,</span>&nbsp;<span class="string" id="6968730">&#34;.&#34;</span><span class="op" id="6968733">}</span><span class="op" id="6968734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968737">{</span><span class="string" id="6968738">&#34;/.&#34;</span><span class="op" id="6968742">,</span>&nbsp;<span class="string" id="6968744">&#34;/&#34;</span><span class="op" id="6968747">}</span><span class="op" id="6968748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968751">{</span><span class="string" id="6968752">&#34;/&#34;</span><span class="op" id="6968755">,</span>&nbsp;<span class="string" id="6968757">&#34;/&#34;</span><span class="op" id="6968760">}</span><span class="op" id="6968761">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968764">{</span><span class="string" id="6968765">&#34;////&#34;</span><span class="op" id="6968771">,</span>&nbsp;<span class="string" id="6968773">&#34;/&#34;</span><span class="op" id="6968776">}</span><span class="op" id="6968777">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968780">{</span><span class="string" id="6968781">&#34;/foo&#34;</span><span class="op" id="6968787">,</span>&nbsp;<span class="string" id="6968789">&#34;/&#34;</span><span class="op" id="6968792">}</span><span class="op" id="6968793">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968796">{</span><span class="string" id="6968797">&#34;x/&#34;</span><span class="op" id="6968801">,</span>&nbsp;<span class="string" id="6968803">&#34;x&#34;</span><span class="op" id="6968806">}</span><span class="op" id="6968807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968810">{</span><span class="string" id="6968811">&#34;abc&#34;</span><span class="op" id="6968816">,</span>&nbsp;<span class="string" id="6968818">&#34;.&#34;</span><span class="op" id="6968821">}</span><span class="op" id="6968822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968825">{</span><span class="string" id="6968826">&#34;abc/def&#34;</span><span class="op" id="6968835">,</span>&nbsp;<span class="string" id="6968837">&#34;abc&#34;</span><span class="op" id="6968842">}</span><span class="op" id="6968843">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968846">{</span><span class="string" id="6968847">&#34;abc////def&#34;</span><span class="op" id="6968859">,</span>&nbsp;<span class="string" id="6968861">&#34;abc&#34;</span><span class="op" id="6968866">}</span><span class="op" id="6968867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968870">{</span><span class="string" id="6968871">&#34;a/b/.x&#34;</span><span class="op" id="6968879">,</span>&nbsp;<span class="string" id="6968881">&#34;a/b&#34;</span><span class="op" id="6968886">}</span><span class="op" id="6968887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968890">{</span><span class="string" id="6968891">&#34;a/b/c.&#34;</span><span class="op" id="6968899">,</span>&nbsp;<span class="string" id="6968901">&#34;a/b&#34;</span><span class="op" id="6968906">}</span><span class="op" id="6968907">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6968910">{</span><span class="string" id="6968911">&#34;a/b/c.x&#34;</span><span class="op" id="6968920">,</span>&nbsp;<span class="string" id="6968922">&#34;a/b&#34;</span><span class="op" id="6968927">}</span><span class="op" id="6968928">,</span><br>
<span class="lineno"></span><span class="op" id="6968930">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="6968933">func</span>&nbsp;<span class="ident" id="6968938">TestDir</span><span class="op" id="6968945">(</span><span class="ident" id="6968946">t</span>&nbsp;<span class="op" id="6968948">*</span><span class="ident" id="6968949">testing</span><span class="op" id="6968956">.</span><span class="ident" id="6968957">T</span><span class="op" id="6968958">)</span>&nbsp;<span class="op" id="6968960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968963">for</span>&nbsp;<span class="ident" id="6968967">_</span><span class="op" id="6968968">,</span>&nbsp;<span class="ident" id="6968970">test</span>&nbsp;<span class="op" id="6968975">:=</span>&nbsp;<span class="keyword" id="6968978">range</span>&nbsp;<span class="ident" id="6968984">dirtests</span>&nbsp;<span class="op" id="6968993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6968997">if</span>&nbsp;<span class="ident" id="6969000">s</span>&nbsp;<span class="op" id="6969002">:=</span>&nbsp;<span class="ident" id="6969005">Dir</span><span class="op" id="6969008">(</span><span class="ident" id="6969009">test</span><span class="op" id="6969013">.</span><span class="ident" id="6969014">path</span><span class="op" id="6969018">)</span><span class="op" id="6969019">;</span>&nbsp;<span class="ident" id="6969021">s</span>&nbsp;<span class="op" id="6969023">!=</span>&nbsp;<span class="ident" id="6969026">test</span><span class="op" id="6969030">.</span><span class="ident" id="6969031">result</span>&nbsp;<span class="op" id="6969038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969043">t</span><span class="op" id="6969044">.</span><span class="ident" id="6969045">Errorf</span><span class="op" id="6969051">(</span><span class="string" id="6969052">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6969075">,</span>&nbsp;<span class="ident" id="6969077">test</span><span class="op" id="6969081">.</span><span class="ident" id="6969082">path</span><span class="op" id="6969086">,</span>&nbsp;<span class="ident" id="6969088">s</span><span class="op" id="6969089">,</span>&nbsp;<span class="ident" id="6969091">test</span><span class="op" id="6969095">.</span><span class="ident" id="6969096">result</span><span class="op" id="6969102">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969109">}</span><br>
<span class="lineno"></span><span class="op" id="6969111">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6969114">type</span>&nbsp;<span class="ident" id="6969119">IsAbsTest</span>&nbsp;<span class="keyword" id="6969129">struct</span>&nbsp;<span class="op" id="6969136">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969139">path</span>&nbsp;&nbsp;<span class="builtintype" id="6969145">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969153">isAbs</span>&nbsp;<span class="builtintype" id="6969159">bool</span><br>
<span class="lineno"></span><span class="op" id="6969164">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6969167">var</span>&nbsp;<span class="ident" id="6969171">isAbsTests</span>&nbsp;<span class="op" id="6969182">=</span>&nbsp;<span class="op" id="6969184">[</span><span class="op" id="6969185">]</span><span class="ident" id="6969186">IsAbsTest</span><span class="op" id="6969195">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969198">{</span><span class="string" id="6969199">&#34;&#34;</span><span class="op" id="6969201">,</span>&nbsp;<span class="builtintype" id="6969203">false</span><span class="op" id="6969208">}</span><span class="op" id="6969209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969212">{</span><span class="string" id="6969213">&#34;/&#34;</span><span class="op" id="6969216">,</span>&nbsp;<span class="builtintype" id="6969218">true</span><span class="op" id="6969222">}</span><span class="op" id="6969223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969226">{</span><span class="string" id="6969227">&#34;/usr/bin/gcc&#34;</span><span class="op" id="6969241">,</span>&nbsp;<span class="builtintype" id="6969243">true</span><span class="op" id="6969247">}</span><span class="op" id="6969248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969251">{</span><span class="string" id="6969252">&#34;..&#34;</span><span class="op" id="6969256">,</span>&nbsp;<span class="builtintype" id="6969258">false</span><span class="op" id="6969263">}</span><span class="op" id="6969264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969267">{</span><span class="string" id="6969268">&#34;/a/../bb&#34;</span><span class="op" id="6969278">,</span>&nbsp;<span class="builtintype" id="6969280">true</span><span class="op" id="6969284">}</span><span class="op" id="6969285">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969288">{</span><span class="string" id="6969289">&#34;.&#34;</span><span class="op" id="6969292">,</span>&nbsp;<span class="builtintype" id="6969294">false</span><span class="op" id="6969299">}</span><span class="op" id="6969300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969303">{</span><span class="string" id="6969304">&#34;./&#34;</span><span class="op" id="6969308">,</span>&nbsp;<span class="builtintype" id="6969310">false</span><span class="op" id="6969315">}</span><span class="op" id="6969316">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969319">{</span><span class="string" id="6969320">&#34;lala&#34;</span><span class="op" id="6969326">,</span>&nbsp;<span class="builtintype" id="6969328">false</span><span class="op" id="6969333">}</span><span class="op" id="6969334">,</span><br>
<span class="lineno"></span><span class="op" id="6969336">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="6969339">func</span>&nbsp;<span class="ident" id="6969344">TestIsAbs</span><span class="op" id="6969353">(</span><span class="ident" id="6969354">t</span>&nbsp;<span class="op" id="6969356">*</span><span class="ident" id="6969357">testing</span><span class="op" id="6969364">.</span><span class="ident" id="6969365">T</span><span class="op" id="6969366">)</span>&nbsp;<span class="op" id="6969368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969371">for</span>&nbsp;<span class="ident" id="6969375">_</span><span class="op" id="6969376">,</span>&nbsp;<span class="ident" id="6969378">test</span>&nbsp;<span class="op" id="6969383">:=</span>&nbsp;<span class="keyword" id="6969386">range</span>&nbsp;<span class="ident" id="6969392">isAbsTests</span>&nbsp;<span class="op" id="6969403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6969407">if</span>&nbsp;<span class="ident" id="6969410">r</span>&nbsp;<span class="op" id="6969412">:=</span>&nbsp;<span class="ident" id="6969415">IsAbs</span><span class="op" id="6969420">(</span><span class="ident" id="6969421">test</span><span class="op" id="6969425">.</span><span class="ident" id="6969426">path</span><span class="op" id="6969430">)</span><span class="op" id="6969431">;</span>&nbsp;<span class="ident" id="6969433">r</span>&nbsp;<span class="op" id="6969435">!=</span>&nbsp;<span class="ident" id="6969438">test</span><span class="op" id="6969442">.</span><span class="ident" id="6969443">isAbs</span>&nbsp;<span class="op" id="6969449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6969454">t</span><span class="op" id="6969455">.</span><span class="ident" id="6969456">Errorf</span><span class="op" id="6969462">(</span><span class="string" id="6969463">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6969488">,</span>&nbsp;<span class="ident" id="6969490">test</span><span class="op" id="6969494">.</span><span class="ident" id="6969495">path</span><span class="op" id="6969499">,</span>&nbsp;<span class="ident" id="6969501">r</span><span class="op" id="6969502">,</span>&nbsp;<span class="ident" id="6969504">test</span><span class="op" id="6969508">.</span><span class="ident" id="6969509">isAbs</span><span class="op" id="6969514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969518">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6969521">}</span><br>
<span class="lineno"></span><span class="op" id="6969523">}</span>
</div>
</body>
</html>
