<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/ast</h2>
<ul>
<li><a href="/gostd/go/ast/ast.go.html">ast.go</a></li>
<li><a href="/gostd/go/ast/ast_test.go.html">ast_test.go</a></li>
<li><a href="/gostd/go/ast/commentmap.go.html">commentmap.go</a></li>
<li><a href="/gostd/go/ast/commentmap_test.go.html">commentmap_test.go</a></li>
<li><a href="/gostd/go/ast/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/ast/filter.go.html" class="current">filter.go</a></li>
<li><a href="/gostd/go/ast/filter_test.go.html">filter_test.go</a></li>
<li><a href="/gostd/go/ast/import.go.html">import.go</a></li>
<li><a href="/gostd/go/ast/print.go.html">print.go</a></li>
<li><a href="/gostd/go/ast/print_test.go.html">print_test.go</a></li>
<li><a href="/gostd/go/ast/resolve.go.html">resolve.go</a></li>
<li><a href="/gostd/go/ast/scope.go.html">scope.go</a></li>
<li><a href="/gostd/go/ast/walk.go.html">walk.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3834035">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3834090">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3834144">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3834195">package</span>&nbsp;<span class="ident" id="3834203">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3834208">import</span>&nbsp;<span class="op" id="3834215">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3834218">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3834230">&#34;sort&#34;</span><br>
<span class="lineno">10</span><span class="op" id="3834237">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3834240">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3834320">//&nbsp;Export&nbsp;filtering</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="3834341">//&nbsp;exportFilter&nbsp;is&nbsp;a&nbsp;special&nbsp;filter&nbsp;function&nbsp;to&nbsp;extract&nbsp;exported&nbsp;nodes.</span><br>
<span class="lineno"></span><span class="keyword" id="3834413">func</span>&nbsp;<span class="ident" id="3834418">exportFilter</span><span class="op" id="3834430">(</span><span class="ident" id="3834431">name</span>&nbsp;<span class="builtintype" id="3834436">string</span><span class="op" id="3834442">)</span>&nbsp;<span class="builtintype" id="3834444">bool</span>&nbsp;<span class="op" id="3834449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3834452">return</span>&nbsp;<span class="ident" id="3834459"><a href="/gostd/go/ast/ast.go.html#3810150">IsExported</a></span><span class="op" id="3834469">(</span><span class="ident" id="3834470"><a href="/gostd/go/ast/filter.go.html#3834431">name</a></span><span class="op" id="3834474">)</span><br>
<span class="lineno"></span><span class="op" id="3834476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="3834479">//&nbsp;FileExports&nbsp;trims&nbsp;the&nbsp;AST&nbsp;for&nbsp;a&nbsp;Go&nbsp;source&nbsp;file&nbsp;in&nbsp;place&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3834548">//&nbsp;only&nbsp;exported&nbsp;nodes&nbsp;remain:&nbsp;all&nbsp;top-level&nbsp;identifiers&nbsp;which&nbsp;are&nbsp;not&nbsp;exported</span><br>
<span class="lineno"></span><span class="comment" id="3834628">//&nbsp;and&nbsp;their&nbsp;associated&nbsp;information&nbsp;(such&nbsp;as&nbsp;type,&nbsp;initial&nbsp;value,&nbsp;or&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="3834706">//&nbsp;body)&nbsp;are&nbsp;removed.&nbsp;Non-exported&nbsp;fields&nbsp;and&nbsp;methods&nbsp;of&nbsp;exported&nbsp;types&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="3834782">//&nbsp;stripped.&nbsp;The&nbsp;File.Comments&nbsp;list&nbsp;is&nbsp;not&nbsp;changed.</span><br>
<span class="lineno">25</span><span class="comment" id="3834834">//</span><br>
<span class="lineno"></span><span class="comment" id="3834837">//&nbsp;FileExports&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;exported&nbsp;declarations;</span><br>
<span class="lineno"></span><span class="comment" id="3834901">//&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="3834932">//</span><br>
<span class="lineno"></span><span class="keyword" id="3834935">func</span>&nbsp;<span class="ident" id="3834940">FileExports</span><span class="op" id="3834951">(</span><span class="ident" id="3834952">src</span>&nbsp;<span class="op" id="3834956">*</span><span class="ident" id="3834957"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="3834961">)</span>&nbsp;<span class="builtintype" id="3834963">bool</span>&nbsp;<span class="op" id="3834968">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3834971">return</span>&nbsp;<span class="ident" id="3834978"><a href="/gostd/go/ast/filter.go.html#3839798">filterFile</a></span><span class="op" id="3834988">(</span><span class="ident" id="3834989"><a href="/gostd/go/ast/filter.go.html#3834952">src</a></span><span class="op" id="3834992">,</span>&nbsp;<span class="ident" id="3834994"><a href="/gostd/go/ast/filter.go.html#3834418">exportFilter</a></span><span class="op" id="3835006">,</span>&nbsp;<span class="builtintype" id="3835008">true</span><span class="op" id="3835012">)</span><br>
<span class="lineno"></span><span class="op" id="3835014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3835017">//&nbsp;PackageExports&nbsp;trims&nbsp;the&nbsp;AST&nbsp;for&nbsp;a&nbsp;Go&nbsp;package&nbsp;in&nbsp;place&nbsp;such&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="3835085">//&nbsp;only&nbsp;exported&nbsp;nodes&nbsp;remain.&nbsp;The&nbsp;pkg.Files&nbsp;list&nbsp;is&nbsp;not&nbsp;changed,&nbsp;so&nbsp;that</span><br>
<span class="lineno">35</span><span class="comment" id="3835159">//&nbsp;file&nbsp;names&nbsp;and&nbsp;top-level&nbsp;package&nbsp;comments&nbsp;don&#39;t&nbsp;get&nbsp;lost.</span><br>
<span class="lineno"></span><span class="comment" id="3835220">//</span><br>
<span class="lineno"></span><span class="comment" id="3835223">//&nbsp;PackageExports&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;exported&nbsp;declarations;</span><br>
<span class="lineno"></span><span class="comment" id="3835290">//&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="3835321">//</span><br>
<span class="lineno">40</span><span class="keyword" id="3835324">func</span>&nbsp;<span class="ident" id="3835329">PackageExports</span><span class="op" id="3835343">(</span><span class="ident" id="3835344">pkg</span>&nbsp;<span class="op" id="3835348">*</span><span class="ident" id="3835349"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3835356">)</span>&nbsp;<span class="builtintype" id="3835358">bool</span>&nbsp;<span class="op" id="3835363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835366">return</span>&nbsp;<span class="ident" id="3835373"><a href="/gostd/go/ast/filter.go.html#3840651">filterPackage</a></span><span class="op" id="3835386">(</span><span class="ident" id="3835387"><a href="/gostd/go/ast/filter.go.html#3835344">pkg</a></span><span class="op" id="3835390">,</span>&nbsp;<span class="ident" id="3835392"><a href="/gostd/go/ast/filter.go.html#3834418">exportFilter</a></span><span class="op" id="3835404">,</span>&nbsp;<span class="builtintype" id="3835406">true</span><span class="op" id="3835410">)</span><br>
<span class="lineno"></span><span class="op" id="3835412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3835415">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno">45</span><span class="comment" id="3835495">//&nbsp;General&nbsp;filtering</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3835517">type</span>&nbsp;<span class="ident" id="3835522">Filter</span>&nbsp;<span class="keyword" id="3835529">func</span><span class="op" id="3835533">(</span><span class="builtintype" id="3835534">string</span><span class="op" id="3835540">)</span>&nbsp;<span class="builtintype" id="3835542">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3835548">func</span>&nbsp;<span class="ident" id="3835553">filterIdentList</span><span class="op" id="3835568">(</span><span class="ident" id="3835569">list</span>&nbsp;<span class="op" id="3835574">[</span><span class="op" id="3835575">]</span><span class="op" id="3835576">*</span><span class="ident" id="3835577"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3835582">,</span>&nbsp;<span class="ident" id="3835584">f</span>&nbsp;<span class="ident" id="3835586"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3835592">)</span>&nbsp;<span class="op" id="3835594">[</span><span class="op" id="3835595">]</span><span class="op" id="3835596">*</span><span class="ident" id="3835597"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span>&nbsp;<span class="op" id="3835603">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3835606">j</span>&nbsp;<span class="op" id="3835608">:=</span>&nbsp;<span class="num" id="3835611">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835614">for</span>&nbsp;<span class="ident" id="3835618">_</span><span class="op" id="3835619">,</span>&nbsp;<span class="ident" id="3835621">x</span>&nbsp;<span class="op" id="3835623">:=</span>&nbsp;<span class="keyword" id="3835626">range</span>&nbsp;<span class="ident" id="3835632"><a href="/gostd/go/ast/filter.go.html#3835569">list</a></span>&nbsp;<span class="op" id="3835637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835641">if</span>&nbsp;<span class="ident" id="3835644"><a href="/gostd/go/ast/filter.go.html#3835584">f</a></span><span class="op" id="3835645">(</span><span class="ident" id="3835646"><a href="/gostd/go/ast/filter.go.html#3835621">x</a></span><span class="op" id="3835647">.</span><span class="ident" id="3835648"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3835652">)</span>&nbsp;<span class="op" id="3835654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3835659"><a href="/gostd/go/ast/filter.go.html#3835569">list</a></span><span class="op" id="3835663">[</span><span class="ident" id="3835664"><a href="/gostd/go/ast/filter.go.html#3835606">j</a></span><span class="op" id="3835665">]</span>&nbsp;<span class="op" id="3835667">=</span>&nbsp;<span class="ident" id="3835669"><a href="/gostd/go/ast/filter.go.html#3835621">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3835674"><a href="/gostd/go/ast/filter.go.html#3835606">j</a></span><span class="op" id="3835675">++</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3835680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3835683">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835686">return</span>&nbsp;<span class="ident" id="3835693"><a href="/gostd/go/ast/filter.go.html#3835569">list</a></span><span class="op" id="3835697">[</span><span class="num" id="3835698">0</span><span class="op" id="3835699">:</span><span class="ident" id="3835700"><a href="/gostd/go/ast/filter.go.html#3835606">j</a></span><span class="op" id="3835701">]</span><br>
<span class="lineno"></span><span class="op" id="3835703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="3835706">//&nbsp;fieldName&nbsp;assumes&nbsp;that&nbsp;x&nbsp;is&nbsp;the&nbsp;type&nbsp;of&nbsp;an&nbsp;anonymous&nbsp;field&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3835772">//&nbsp;returns&nbsp;the&nbsp;corresponding&nbsp;field&nbsp;name.&nbsp;If&nbsp;x&nbsp;is&nbsp;not&nbsp;an&nbsp;acceptable</span><br>
<span class="lineno"></span><span class="comment" id="3835839">//&nbsp;anonymous&nbsp;field,&nbsp;the&nbsp;result&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span><span class="comment" id="3835878">//</span><br>
<span class="lineno"></span><span class="keyword" id="3835881">func</span>&nbsp;<span class="ident" id="3835886">fieldName</span><span class="op" id="3835895">(</span><span class="ident" id="3835896">x</span>&nbsp;<span class="ident" id="3835898"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="3835902">)</span>&nbsp;<span class="op" id="3835904">*</span><span class="ident" id="3835905"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span>&nbsp;<span class="op" id="3835911">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835914">switch</span>&nbsp;<span class="ident" id="3835921">t</span>&nbsp;<span class="op" id="3835923">:=</span>&nbsp;<span class="ident" id="3835926"><a href="/gostd/go/ast/filter.go.html#3835896">x</a></span><span class="op" id="3835927">.</span><span class="op" id="3835928">(</span><span class="keyword" id="3835929">type</span><span class="op" id="3835933">)</span>&nbsp;<span class="op" id="3835935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835938">case</span>&nbsp;<span class="op" id="3835943">*</span><span class="ident" id="3835944"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3835949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835953">return</span>&nbsp;<span class="ident" id="3835960"><a href="/gostd/go/ast/filter.go.html#3835921">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835963">case</span>&nbsp;<span class="op" id="3835968">*</span><span class="ident" id="3835969"><a href="/gostd/go/ast/ast.go.html#3801641">SelectorExpr</a></span><span class="op" id="3835981">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3835985">if</span>&nbsp;<span class="ident" id="3835988">_</span><span class="op" id="3835989">,</span>&nbsp;<span class="ident" id="3835991">ok</span>&nbsp;<span class="op" id="3835994">:=</span>&nbsp;<span class="ident" id="3835997"><a href="/gostd/go/ast/filter.go.html#3835921">t</a></span><span class="op" id="3835998">.</span><span class="ident" id="3835999"><a href="/gostd/go/ast/ast.go.html#3801665">X</a></span><span class="op" id="3836000">.</span><span class="op" id="3836001">(</span><span class="op" id="3836002">*</span><span class="ident" id="3836003"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3836008">)</span><span class="op" id="3836009">;</span>&nbsp;<span class="ident" id="3836011"><a href="/gostd/go/ast/filter.go.html#3835991">ok</a></span>&nbsp;<span class="op" id="3836014">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836019">return</span>&nbsp;<span class="ident" id="3836026"><a href="/gostd/go/ast/filter.go.html#3835921">t</a></span><span class="op" id="3836027">.</span><span class="ident" id="3836028"><a href="/gostd/go/ast/ast.go.html#3801692">Sel</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836037">case</span>&nbsp;<span class="op" id="3836042">*</span><span class="ident" id="3836043"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3836051">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836055">return</span>&nbsp;<span class="ident" id="3836062"><a href="/gostd/go/ast/filter.go.html#3835886">fieldName</a></span><span class="op" id="3836071">(</span><span class="ident" id="3836072"><a href="/gostd/go/ast/filter.go.html#3835921">t</a></span><span class="op" id="3836073">.</span><span class="ident" id="3836074"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><span class="op" id="3836075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836078">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836081">return</span>&nbsp;<span class="builtintype" id="3836088">nil</span><br>
<span class="lineno"></span><span class="op" id="3836092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3836095">func</span>&nbsp;<span class="ident" id="3836100">filterFieldList</span><span class="op" id="3836115">(</span><span class="ident" id="3836116">fields</span>&nbsp;<span class="op" id="3836123">*</span><span class="ident" id="3836124"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="3836133">,</span>&nbsp;<span class="ident" id="3836135">filter</span>&nbsp;<span class="ident" id="3836142"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3836148">,</span>&nbsp;<span class="ident" id="3836150">export</span>&nbsp;<span class="builtintype" id="3836157">bool</span><span class="op" id="3836161">)</span>&nbsp;<span class="op" id="3836163">(</span><span class="ident" id="3836164">removedFields</span>&nbsp;<span class="builtintype" id="3836178">bool</span><span class="op" id="3836182">)</span>&nbsp;<span class="op" id="3836184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836187">if</span>&nbsp;<span class="ident" id="3836190"><a href="/gostd/go/ast/filter.go.html#3836116">fields</a></span>&nbsp;<span class="op" id="3836197">==</span>&nbsp;<span class="builtintype" id="3836200">nil</span>&nbsp;<span class="op" id="3836204">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836208">return</span>&nbsp;<span class="builtintype" id="3836215">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836225">list</span>&nbsp;<span class="op" id="3836230">:=</span>&nbsp;<span class="ident" id="3836233"><a href="/gostd/go/ast/filter.go.html#3836116">fields</a></span><span class="op" id="3836239">.</span><span class="ident" id="3836240"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836246">j</span>&nbsp;<span class="op" id="3836248">:=</span>&nbsp;<span class="num" id="3836251">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836254">for</span>&nbsp;<span class="ident" id="3836258">_</span><span class="op" id="3836259">,</span>&nbsp;<span class="ident" id="3836261">f</span>&nbsp;<span class="op" id="3836263">:=</span>&nbsp;<span class="keyword" id="3836266">range</span>&nbsp;<span class="ident" id="3836272"><a href="/gostd/go/ast/filter.go.html#3836225">list</a></span>&nbsp;<span class="op" id="3836277">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836281">keepField</span>&nbsp;<span class="op" id="3836291">:=</span>&nbsp;<span class="builtintype" id="3836294">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836302">if</span>&nbsp;<span class="builtinfunc" id="3836305">len</span><span class="op" id="3836308">(</span><span class="ident" id="3836309"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836310">.</span><span class="ident" id="3836311"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3836316">)</span>&nbsp;<span class="op" id="3836318">==</span>&nbsp;<span class="num" id="3836321">0</span>&nbsp;<span class="op" id="3836323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3836328">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836350">name</span>&nbsp;<span class="op" id="3836355">:=</span>&nbsp;<span class="ident" id="3836358"><a href="/gostd/go/ast/filter.go.html#3835886">fieldName</a></span><span class="op" id="3836367">(</span><span class="ident" id="3836368"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836369">.</span><span class="ident" id="3836370"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3836374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836379"><a href="/gostd/go/ast/filter.go.html#3836281">keepField</a></span>&nbsp;<span class="op" id="3836389">=</span>&nbsp;<span class="ident" id="3836391"><a href="/gostd/go/ast/filter.go.html#3836350">name</a></span>&nbsp;<span class="op" id="3836396">!=</span>&nbsp;<span class="builtintype" id="3836399">nil</span>&nbsp;<span class="op" id="3836403">&amp;&amp;</span>&nbsp;<span class="ident" id="3836406"><a href="/gostd/go/ast/filter.go.html#3836135">filter</a></span><span class="op" id="3836412">(</span><span class="ident" id="3836413"><a href="/gostd/go/ast/filter.go.html#3836350">name</a></span><span class="op" id="3836417">.</span><span class="ident" id="3836418"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3836422">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836426">}</span>&nbsp;<span class="keyword" id="3836428">else</span>&nbsp;<span class="op" id="3836433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836438">n</span>&nbsp;<span class="op" id="3836440">:=</span>&nbsp;<span class="builtinfunc" id="3836443">len</span><span class="op" id="3836446">(</span><span class="ident" id="3836447"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836448">.</span><span class="ident" id="3836449"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3836454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836459"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836460">.</span><span class="ident" id="3836461"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span>&nbsp;<span class="op" id="3836467">=</span>&nbsp;<span class="ident" id="3836469"><a href="/gostd/go/ast/filter.go.html#3835553">filterIdentList</a></span><span class="op" id="3836484">(</span><span class="ident" id="3836485"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836486">.</span><span class="ident" id="3836487"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3836492">,</span>&nbsp;<span class="ident" id="3836494"><a href="/gostd/go/ast/filter.go.html#3836135">filter</a></span><span class="op" id="3836500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836505">if</span>&nbsp;<span class="builtinfunc" id="3836508">len</span><span class="op" id="3836511">(</span><span class="ident" id="3836512"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836513">.</span><span class="ident" id="3836514"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3836519">)</span>&nbsp;<span class="op" id="3836521">&lt;</span>&nbsp;<span class="ident" id="3836523"><a href="/gostd/go/ast/filter.go.html#3836438">n</a></span>&nbsp;<span class="op" id="3836525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836531"><a href="/gostd/go/ast/filter.go.html#3836164">removedFields</a></span>&nbsp;<span class="op" id="3836545">=</span>&nbsp;<span class="builtintype" id="3836547">true</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836555">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836560"><a href="/gostd/go/ast/filter.go.html#3836281">keepField</a></span>&nbsp;<span class="op" id="3836570">=</span>&nbsp;<span class="builtinfunc" id="3836572">len</span><span class="op" id="3836575">(</span><span class="ident" id="3836576"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836577">.</span><span class="ident" id="3836578"><a href="/gostd/go/ast/ast.go.html#3798333">Names</a></span><span class="op" id="3836583">)</span>&nbsp;<span class="op" id="3836585">&gt;</span>&nbsp;<span class="num" id="3836587">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836595">if</span>&nbsp;<span class="ident" id="3836598"><a href="/gostd/go/ast/filter.go.html#3836281">keepField</a></span>&nbsp;<span class="op" id="3836608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836613">if</span>&nbsp;<span class="ident" id="3836616"><a href="/gostd/go/ast/filter.go.html#3836150">export</a></span>&nbsp;<span class="op" id="3836623">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836629"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3836639">(</span><span class="ident" id="3836640"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><span class="op" id="3836641">.</span><span class="ident" id="3836642"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3836646">,</span>&nbsp;<span class="ident" id="3836648"><a href="/gostd/go/ast/filter.go.html#3836135">filter</a></span><span class="op" id="3836654">,</span>&nbsp;<span class="ident" id="3836656"><a href="/gostd/go/ast/filter.go.html#3836150">export</a></span><span class="op" id="3836662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836672"><a href="/gostd/go/ast/filter.go.html#3836225">list</a></span><span class="op" id="3836676">[</span><span class="ident" id="3836677"><a href="/gostd/go/ast/filter.go.html#3836246">j</a></span><span class="op" id="3836678">]</span>&nbsp;<span class="op" id="3836680">=</span>&nbsp;<span class="ident" id="3836682"><a href="/gostd/go/ast/filter.go.html#3836261">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836687"><a href="/gostd/go/ast/filter.go.html#3836246">j</a></span><span class="op" id="3836688">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836693">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836699">if</span>&nbsp;<span class="ident" id="3836702"><a href="/gostd/go/ast/filter.go.html#3836246">j</a></span>&nbsp;<span class="op" id="3836704">&lt;</span>&nbsp;<span class="builtinfunc" id="3836706">len</span><span class="op" id="3836709">(</span><span class="ident" id="3836710"><a href="/gostd/go/ast/filter.go.html#3836225">list</a></span><span class="op" id="3836714">)</span>&nbsp;<span class="op" id="3836716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836720"><a href="/gostd/go/ast/filter.go.html#3836164">removedFields</a></span>&nbsp;<span class="op" id="3836734">=</span>&nbsp;<span class="builtintype" id="3836736">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836745"><a href="/gostd/go/ast/filter.go.html#3836116">fields</a></span><span class="op" id="3836751">.</span><span class="ident" id="3836752"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span>&nbsp;<span class="op" id="3836757">=</span>&nbsp;<span class="ident" id="3836759"><a href="/gostd/go/ast/filter.go.html#3836225">list</a></span><span class="op" id="3836763">[</span><span class="num" id="3836764">0</span><span class="op" id="3836765">:</span><span class="ident" id="3836766"><a href="/gostd/go/ast/filter.go.html#3836246">j</a></span><span class="op" id="3836767">]</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836770">return</span><br>
<span class="lineno"></span><span class="op" id="3836777">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3836780">func</span>&nbsp;<span class="ident" id="3836785">filterParamList</span><span class="op" id="3836800">(</span><span class="ident" id="3836801">fields</span>&nbsp;<span class="op" id="3836808">*</span><span class="ident" id="3836809"><a href="/gostd/go/ast/ast.go.html#3798858">FieldList</a></span><span class="op" id="3836818">,</span>&nbsp;<span class="ident" id="3836820">filter</span>&nbsp;<span class="ident" id="3836827"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3836833">,</span>&nbsp;<span class="ident" id="3836835">export</span>&nbsp;<span class="builtintype" id="3836842">bool</span><span class="op" id="3836846">)</span>&nbsp;<span class="builtintype" id="3836848">bool</span>&nbsp;<span class="op" id="3836853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836856">if</span>&nbsp;<span class="ident" id="3836859"><a href="/gostd/go/ast/filter.go.html#3836801">fields</a></span>&nbsp;<span class="op" id="3836866">==</span>&nbsp;<span class="builtintype" id="3836869">nil</span>&nbsp;<span class="op" id="3836873">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836877">return</span>&nbsp;<span class="builtintype" id="3836884">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836891">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836894">var</span>&nbsp;<span class="ident" id="3836898">b</span>&nbsp;<span class="builtintype" id="3836900">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836906">for</span>&nbsp;<span class="ident" id="3836910">_</span><span class="op" id="3836911">,</span>&nbsp;<span class="ident" id="3836913">f</span>&nbsp;<span class="op" id="3836915">:=</span>&nbsp;<span class="keyword" id="3836918">range</span>&nbsp;<span class="ident" id="3836924"><a href="/gostd/go/ast/filter.go.html#3836801">fields</a></span><span class="op" id="3836930">.</span><span class="ident" id="3836931"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span>&nbsp;<span class="op" id="3836936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3836940">if</span>&nbsp;<span class="ident" id="3836943"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3836953">(</span><span class="ident" id="3836954"><a href="/gostd/go/ast/filter.go.html#3836913">f</a></span><span class="op" id="3836955">.</span><span class="ident" id="3836956"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><span class="op" id="3836960">,</span>&nbsp;<span class="ident" id="3836962"><a href="/gostd/go/ast/filter.go.html#3836820">filter</a></span><span class="op" id="3836968">,</span>&nbsp;<span class="ident" id="3836970"><a href="/gostd/go/ast/filter.go.html#3836835">export</a></span><span class="op" id="3836976">)</span>&nbsp;<span class="op" id="3836978">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3836983"><a href="/gostd/go/ast/filter.go.html#3836898">b</a></span>&nbsp;<span class="op" id="3836985">=</span>&nbsp;<span class="builtintype" id="3836987">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3836997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837000">return</span>&nbsp;<span class="ident" id="3837007"><a href="/gostd/go/ast/filter.go.html#3836898">b</a></span><br>
<span class="lineno"></span><span class="op" id="3837009">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="3837012">func</span>&nbsp;<span class="ident" id="3837017">filterType</span><span class="op" id="3837027">(</span><span class="ident" id="3837028">typ</span>&nbsp;<span class="ident" id="3837032"><a href="/gostd/go/ast/ast.go.html#3795238">Expr</a></span><span class="op" id="3837036">,</span>&nbsp;<span class="ident" id="3837038">f</span>&nbsp;<span class="ident" id="3837040"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3837046">,</span>&nbsp;<span class="ident" id="3837048">export</span>&nbsp;<span class="builtintype" id="3837055">bool</span><span class="op" id="3837059">)</span>&nbsp;<span class="builtintype" id="3837061">bool</span>&nbsp;<span class="op" id="3837066">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837069">switch</span>&nbsp;<span class="ident" id="3837076">t</span>&nbsp;<span class="op" id="3837078">:=</span>&nbsp;<span class="ident" id="3837081"><a href="/gostd/go/ast/filter.go.html#3837028">typ</a></span><span class="op" id="3837084">.</span><span class="op" id="3837085">(</span><span class="keyword" id="3837086">type</span><span class="op" id="3837090">)</span>&nbsp;<span class="op" id="3837092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837095">case</span>&nbsp;<span class="op" id="3837100">*</span><span class="ident" id="3837101"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3837106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837110">return</span>&nbsp;<span class="ident" id="3837117"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837118">(</span><span class="ident" id="3837119"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837120">.</span><span class="ident" id="3837121"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3837125">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837128">case</span>&nbsp;<span class="op" id="3837133">*</span><span class="ident" id="3837134"><a href="/gostd/go/ast/ast.go.html#3801421">ParenExpr</a></span><span class="op" id="3837143">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837147">return</span>&nbsp;<span class="ident" id="3837154"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3837164">(</span><span class="ident" id="3837165"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837166">.</span><span class="ident" id="3837167"><a href="/gostd/go/ast/ast.go.html#3801480">X</a></span><span class="op" id="3837168">,</span>&nbsp;<span class="ident" id="3837170"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837171">,</span>&nbsp;<span class="ident" id="3837173"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837182">case</span>&nbsp;<span class="op" id="3837187">*</span><span class="ident" id="3837188"><a href="/gostd/go/ast/ast.go.html#3804223">ArrayType</a></span><span class="op" id="3837197">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837201">return</span>&nbsp;<span class="ident" id="3837208"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3837218">(</span><span class="ident" id="3837219"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837220">.</span><span class="ident" id="3837221"><a href="/gostd/go/ast/ast.go.html#3804362">Elt</a></span><span class="op" id="3837224">,</span>&nbsp;<span class="ident" id="3837226"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837227">,</span>&nbsp;<span class="ident" id="3837229"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837238">case</span>&nbsp;<span class="op" id="3837243">*</span><span class="ident" id="3837244"><a href="/gostd/go/ast/ast.go.html#3804448">StructType</a></span><span class="op" id="3837254">:</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837258">if</span>&nbsp;<span class="ident" id="3837261"><a href="/gostd/go/ast/filter.go.html#3836100">filterFieldList</a></span><span class="op" id="3837276">(</span><span class="ident" id="3837277"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837278">.</span><span class="ident" id="3837279"><a href="/gostd/go/ast/ast.go.html#3804526">Fields</a></span><span class="op" id="3837285">,</span>&nbsp;<span class="ident" id="3837287"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837288">,</span>&nbsp;<span class="ident" id="3837290"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837296">)</span>&nbsp;<span class="op" id="3837298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837303"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837304">.</span><span class="ident" id="3837305"><a href="/gostd/go/ast/ast.go.html#3804580">Incomplete</a></span>&nbsp;<span class="op" id="3837316">=</span>&nbsp;<span class="builtintype" id="3837318">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3837325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837329">return</span>&nbsp;<span class="builtinfunc" id="3837336">len</span><span class="op" id="3837339">(</span><span class="ident" id="3837340"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837341">.</span><span class="ident" id="3837342"><a href="/gostd/go/ast/ast.go.html#3804526">Fields</a></span><span class="op" id="3837348">.</span><span class="ident" id="3837349"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3837353">)</span>&nbsp;<span class="op" id="3837355">&gt;</span>&nbsp;<span class="num" id="3837357">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837360">case</span>&nbsp;<span class="op" id="3837365">*</span><span class="ident" id="3837366"><a href="/gostd/go/ast/ast.go.html#3804768">FuncType</a></span><span class="op" id="3837374">:</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837378">b1</span>&nbsp;<span class="op" id="3837381">:=</span>&nbsp;<span class="ident" id="3837384"><a href="/gostd/go/ast/filter.go.html#3836785">filterParamList</a></span><span class="op" id="3837399">(</span><span class="ident" id="3837400"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837401">.</span><span class="ident" id="3837402"><a href="/gostd/go/ast/ast.go.html#3804875">Params</a></span><span class="op" id="3837408">,</span>&nbsp;<span class="ident" id="3837410"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837411">,</span>&nbsp;<span class="ident" id="3837413"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837423">b2</span>&nbsp;<span class="op" id="3837426">:=</span>&nbsp;<span class="ident" id="3837429"><a href="/gostd/go/ast/filter.go.html#3836785">filterParamList</a></span><span class="op" id="3837444">(</span><span class="ident" id="3837445"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837446">.</span><span class="ident" id="3837447"><a href="/gostd/go/ast/ast.go.html#3804930">Results</a></span><span class="op" id="3837454">,</span>&nbsp;<span class="ident" id="3837456"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837457">,</span>&nbsp;<span class="ident" id="3837459"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837469">return</span>&nbsp;<span class="ident" id="3837476"><a href="/gostd/go/ast/filter.go.html#3837378">b1</a></span>&nbsp;<span class="op" id="3837479">||</span>&nbsp;<span class="ident" id="3837482"><a href="/gostd/go/ast/filter.go.html#3837423">b2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837486">case</span>&nbsp;<span class="op" id="3837491">*</span><span class="ident" id="3837492"><a href="/gostd/go/ast/ast.go.html#3805040">InterfaceType</a></span><span class="op" id="3837505">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837509">if</span>&nbsp;<span class="ident" id="3837512"><a href="/gostd/go/ast/filter.go.html#3836100">filterFieldList</a></span><span class="op" id="3837527">(</span><span class="ident" id="3837528"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837529">.</span><span class="ident" id="3837530"><a href="/gostd/go/ast/ast.go.html#3805124">Methods</a></span><span class="op" id="3837537">,</span>&nbsp;<span class="ident" id="3837539"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837540">,</span>&nbsp;<span class="ident" id="3837542"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837548">)</span>&nbsp;<span class="op" id="3837550">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837555"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837556">.</span><span class="ident" id="3837557"><a href="/gostd/go/ast/ast.go.html#3805167">Incomplete</a></span>&nbsp;<span class="op" id="3837568">=</span>&nbsp;<span class="builtintype" id="3837570">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3837577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837581">return</span>&nbsp;<span class="builtinfunc" id="3837588">len</span><span class="op" id="3837591">(</span><span class="ident" id="3837592"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837593">.</span><span class="ident" id="3837594"><a href="/gostd/go/ast/ast.go.html#3805124">Methods</a></span><span class="op" id="3837601">.</span><span class="ident" id="3837602"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3837606">)</span>&nbsp;<span class="op" id="3837608">&gt;</span>&nbsp;<span class="num" id="3837610">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837613">case</span>&nbsp;<span class="op" id="3837618">*</span><span class="ident" id="3837619"><a href="/gostd/go/ast/ast.go.html#3805296">MapType</a></span><span class="op" id="3837626">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837630">b1</span>&nbsp;<span class="op" id="3837633">:=</span>&nbsp;<span class="ident" id="3837636"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3837646">(</span><span class="ident" id="3837647"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837648">.</span><span class="ident" id="3837649"><a href="/gostd/go/ast/ast.go.html#3805362">Key</a></span><span class="op" id="3837652">,</span>&nbsp;<span class="ident" id="3837654"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837655">,</span>&nbsp;<span class="ident" id="3837657"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837663">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837667">b2</span>&nbsp;<span class="op" id="3837670">:=</span>&nbsp;<span class="ident" id="3837673"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3837683">(</span><span class="ident" id="3837684"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837685">.</span><span class="ident" id="3837686"><a href="/gostd/go/ast/ast.go.html#3805375">Value</a></span><span class="op" id="3837691">,</span>&nbsp;<span class="ident" id="3837693"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837694">,</span>&nbsp;<span class="ident" id="3837696"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837706">return</span>&nbsp;<span class="ident" id="3837713"><a href="/gostd/go/ast/filter.go.html#3837630">b1</a></span>&nbsp;<span class="op" id="3837716">||</span>&nbsp;<span class="ident" id="3837719"><a href="/gostd/go/ast/filter.go.html#3837667">b2</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837723">case</span>&nbsp;<span class="op" id="3837728">*</span><span class="ident" id="3837729"><a href="/gostd/go/ast/ast.go.html#3805438">ChanType</a></span><span class="op" id="3837737">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837741">return</span>&nbsp;<span class="ident" id="3837748"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3837758">(</span><span class="ident" id="3837759"><a href="/gostd/go/ast/filter.go.html#3837076">t</a></span><span class="op" id="3837760">.</span><span class="ident" id="3837761"><a href="/gostd/go/ast/ast.go.html#3805649">Value</a></span><span class="op" id="3837766">,</span>&nbsp;<span class="ident" id="3837768"><a href="/gostd/go/ast/filter.go.html#3837038">f</a></span><span class="op" id="3837769">,</span>&nbsp;<span class="ident" id="3837771"><a href="/gostd/go/ast/filter.go.html#3837048">export</a></span><span class="op" id="3837777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3837780">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837783">return</span>&nbsp;<span class="builtintype" id="3837790">false</span><br>
<span class="lineno"></span><span class="op" id="3837796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3837799">func</span>&nbsp;<span class="ident" id="3837804">filterSpec</span><span class="op" id="3837814">(</span><span class="ident" id="3837815">spec</span>&nbsp;<span class="ident" id="3837820"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><span class="op" id="3837824">,</span>&nbsp;<span class="ident" id="3837826">f</span>&nbsp;<span class="ident" id="3837828"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3837834">,</span>&nbsp;<span class="ident" id="3837836">export</span>&nbsp;<span class="builtintype" id="3837843">bool</span><span class="op" id="3837847">)</span>&nbsp;<span class="builtintype" id="3837849">bool</span>&nbsp;<span class="op" id="3837854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837857">switch</span>&nbsp;<span class="ident" id="3837864">s</span>&nbsp;<span class="op" id="3837866">:=</span>&nbsp;<span class="ident" id="3837869"><a href="/gostd/go/ast/filter.go.html#3837815">spec</a></span><span class="op" id="3837873">.</span><span class="op" id="3837874">(</span><span class="keyword" id="3837875">type</span><span class="op" id="3837879">)</span>&nbsp;<span class="op" id="3837881">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837884">case</span>&nbsp;<span class="op" id="3837889">*</span><span class="ident" id="3837890"><a href="/gostd/go/ast/ast.go.html#3820033">ValueSpec</a></span><span class="op" id="3837899">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837903"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3837904">.</span><span class="ident" id="3837905"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span>&nbsp;<span class="op" id="3837911">=</span>&nbsp;<span class="ident" id="3837913"><a href="/gostd/go/ast/filter.go.html#3835553">filterIdentList</a></span><span class="op" id="3837928">(</span><span class="ident" id="3837929"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3837930">.</span><span class="ident" id="3837931"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span><span class="op" id="3837936">,</span>&nbsp;<span class="ident" id="3837938"><a href="/gostd/go/ast/filter.go.html#3837826">f</a></span><span class="op" id="3837939">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837943">if</span>&nbsp;<span class="builtinfunc" id="3837946">len</span><span class="op" id="3837949">(</span><span class="ident" id="3837950"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3837951">.</span><span class="ident" id="3837952"><a href="/gostd/go/ast/ast.go.html#3820114">Names</a></span><span class="op" id="3837957">)</span>&nbsp;<span class="op" id="3837959">&gt;</span>&nbsp;<span class="num" id="3837961">0</span>&nbsp;<span class="op" id="3837963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3837968">if</span>&nbsp;<span class="ident" id="3837971"><a href="/gostd/go/ast/filter.go.html#3837836">export</a></span>&nbsp;<span class="op" id="3837978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3837984"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3837994">(</span><span class="ident" id="3837995"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3837996">.</span><span class="ident" id="3837997"><a href="/gostd/go/ast/ast.go.html#3820170">Type</a></span><span class="op" id="3838001">,</span>&nbsp;<span class="ident" id="3838003"><a href="/gostd/go/ast/filter.go.html#3837826">f</a></span><span class="op" id="3838004">,</span>&nbsp;<span class="ident" id="3838006"><a href="/gostd/go/ast/filter.go.html#3837836">export</a></span><span class="op" id="3838012">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838022">return</span>&nbsp;<span class="builtintype" id="3838029">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838039">case</span>&nbsp;<span class="op" id="3838044">*</span><span class="ident" id="3838045"><a href="/gostd/go/ast/ast.go.html#3820391">TypeSpec</a></span><span class="op" id="3838053">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838057">if</span>&nbsp;<span class="ident" id="3838060"><a href="/gostd/go/ast/filter.go.html#3837826">f</a></span><span class="op" id="3838061">(</span><span class="ident" id="3838062"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3838063">.</span><span class="ident" id="3838064"><a href="/gostd/go/ast/ast.go.html#3820471">Name</a></span><span class="op" id="3838068">.</span><span class="ident" id="3838069"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3838073">)</span>&nbsp;<span class="op" id="3838075">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838080">if</span>&nbsp;<span class="ident" id="3838083"><a href="/gostd/go/ast/filter.go.html#3837836">export</a></span>&nbsp;<span class="op" id="3838090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3838096"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3838106">(</span><span class="ident" id="3838107"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3838108">.</span><span class="ident" id="3838109"><a href="/gostd/go/ast/ast.go.html#3820508">Type</a></span><span class="op" id="3838113">,</span>&nbsp;<span class="ident" id="3838115"><a href="/gostd/go/ast/filter.go.html#3837826">f</a></span><span class="op" id="3838116">,</span>&nbsp;<span class="ident" id="3838118"><a href="/gostd/go/ast/filter.go.html#3837836">export</a></span><span class="op" id="3838124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838129">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838134">return</span>&nbsp;<span class="builtintype" id="3838141">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838148">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838152">if</span>&nbsp;<span class="op" id="3838155">!</span><span class="ident" id="3838156"><a href="/gostd/go/ast/filter.go.html#3837836">export</a></span>&nbsp;<span class="op" id="3838163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3838168">//&nbsp;For&nbsp;general&nbsp;filtering&nbsp;(not&nbsp;just&nbsp;exports),</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3838216">//&nbsp;filter&nbsp;type&nbsp;even&nbsp;if&nbsp;name&nbsp;is&nbsp;not&nbsp;filtered</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3838263">//&nbsp;out.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3838274">//&nbsp;If&nbsp;the&nbsp;type&nbsp;contains&nbsp;filtered&nbsp;elements,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3838320">//&nbsp;keep&nbsp;the&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838348">return</span>&nbsp;<span class="ident" id="3838355"><a href="/gostd/go/ast/filter.go.html#3837017">filterType</a></span><span class="op" id="3838365">(</span><span class="ident" id="3838366"><a href="/gostd/go/ast/filter.go.html#3837864">s</a></span><span class="op" id="3838367">.</span><span class="ident" id="3838368"><a href="/gostd/go/ast/ast.go.html#3820508">Type</a></span><span class="op" id="3838372">,</span>&nbsp;<span class="ident" id="3838374"><a href="/gostd/go/ast/filter.go.html#3837826">f</a></span><span class="op" id="3838375">,</span>&nbsp;<span class="ident" id="3838377"><a href="/gostd/go/ast/filter.go.html#3837836">export</a></span><span class="op" id="3838383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838393">return</span>&nbsp;<span class="builtintype" id="3838400">false</span><br>
<span class="lineno">185</span><span class="op" id="3838406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3838409">func</span>&nbsp;<span class="ident" id="3838414">filterSpecList</span><span class="op" id="3838428">(</span><span class="ident" id="3838429">list</span>&nbsp;<span class="op" id="3838434">[</span><span class="op" id="3838435">]</span><span class="ident" id="3838436"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span><span class="op" id="3838440">,</span>&nbsp;<span class="ident" id="3838442">f</span>&nbsp;<span class="ident" id="3838444"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3838450">,</span>&nbsp;<span class="ident" id="3838452">export</span>&nbsp;<span class="builtintype" id="3838459">bool</span><span class="op" id="3838463">)</span>&nbsp;<span class="op" id="3838465">[</span><span class="op" id="3838466">]</span><span class="ident" id="3838467"><a href="/gostd/go/ast/ast.go.html#3819508">Spec</a></span>&nbsp;<span class="op" id="3838472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3838475">j</span>&nbsp;<span class="op" id="3838477">:=</span>&nbsp;<span class="num" id="3838480">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838483">for</span>&nbsp;<span class="ident" id="3838487">_</span><span class="op" id="3838488">,</span>&nbsp;<span class="ident" id="3838490">s</span>&nbsp;<span class="op" id="3838492">:=</span>&nbsp;<span class="keyword" id="3838495">range</span>&nbsp;<span class="ident" id="3838501"><a href="/gostd/go/ast/filter.go.html#3838429">list</a></span>&nbsp;<span class="op" id="3838506">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838510">if</span>&nbsp;<span class="ident" id="3838513"><a href="/gostd/go/ast/filter.go.html#3837804">filterSpec</a></span><span class="op" id="3838523">(</span><span class="ident" id="3838524"><a href="/gostd/go/ast/filter.go.html#3838490">s</a></span><span class="op" id="3838525">,</span>&nbsp;<span class="ident" id="3838527"><a href="/gostd/go/ast/filter.go.html#3838442">f</a></span><span class="op" id="3838528">,</span>&nbsp;<span class="ident" id="3838530"><a href="/gostd/go/ast/filter.go.html#3838452">export</a></span><span class="op" id="3838536">)</span>&nbsp;<span class="op" id="3838538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3838543"><a href="/gostd/go/ast/filter.go.html#3838429">list</a></span><span class="op" id="3838547">[</span><span class="ident" id="3838548"><a href="/gostd/go/ast/filter.go.html#3838475">j</a></span><span class="op" id="3838549">]</span>&nbsp;<span class="op" id="3838551">=</span>&nbsp;<span class="ident" id="3838553"><a href="/gostd/go/ast/filter.go.html#3838490">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3838558"><a href="/gostd/go/ast/filter.go.html#3838475">j</a></span><span class="op" id="3838559">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3838567">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838570">return</span>&nbsp;<span class="ident" id="3838577"><a href="/gostd/go/ast/filter.go.html#3838429">list</a></span><span class="op" id="3838581">[</span><span class="num" id="3838582">0</span><span class="op" id="3838583">:</span><span class="ident" id="3838584"><a href="/gostd/go/ast/filter.go.html#3838475">j</a></span><span class="op" id="3838585">]</span><br>
<span class="lineno"></span><span class="op" id="3838587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3838590">//&nbsp;FilterDecl&nbsp;trims&nbsp;the&nbsp;AST&nbsp;for&nbsp;a&nbsp;Go&nbsp;declaration&nbsp;in&nbsp;place&nbsp;by&nbsp;removing</span><br>
<span class="lineno"></span><span class="comment" id="3838660">//&nbsp;all&nbsp;names&nbsp;(including&nbsp;struct&nbsp;field&nbsp;and&nbsp;interface&nbsp;method&nbsp;names,&nbsp;but</span><br>
<span class="lineno">200</span><span class="comment" id="3838729">//&nbsp;not&nbsp;from&nbsp;parameter&nbsp;lists)&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="3838796">//</span><br>
<span class="lineno"></span><span class="comment" id="3838799">//&nbsp;FilterDecl&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;declared&nbsp;names&nbsp;left&nbsp;after</span><br>
<span class="lineno"></span><span class="comment" id="3838869">//&nbsp;filtering;&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="3838911">//</span><br>
<span class="lineno">205</span><span class="keyword" id="3838914">func</span>&nbsp;<span class="ident" id="3838919">FilterDecl</span><span class="op" id="3838929">(</span><span class="ident" id="3838930">decl</span>&nbsp;<span class="ident" id="3838935"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><span class="op" id="3838939">,</span>&nbsp;<span class="ident" id="3838941">f</span>&nbsp;<span class="ident" id="3838943"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3838949">)</span>&nbsp;<span class="builtintype" id="3838951">bool</span>&nbsp;<span class="op" id="3838956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3838959">return</span>&nbsp;<span class="ident" id="3838966"><a href="/gostd/go/ast/filter.go.html#3839001">filterDecl</a></span><span class="op" id="3838976">(</span><span class="ident" id="3838977"><a href="/gostd/go/ast/filter.go.html#3838930">decl</a></span><span class="op" id="3838981">,</span>&nbsp;<span class="ident" id="3838983"><a href="/gostd/go/ast/filter.go.html#3838941">f</a></span><span class="op" id="3838984">,</span>&nbsp;<span class="builtintype" id="3838986">false</span><span class="op" id="3838991">)</span><br>
<span class="lineno"></span><span class="op" id="3838993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3838996">func</span>&nbsp;<span class="ident" id="3839001">filterDecl</span><span class="op" id="3839011">(</span><span class="ident" id="3839012">decl</span>&nbsp;<span class="ident" id="3839017"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><span class="op" id="3839021">,</span>&nbsp;<span class="ident" id="3839023">f</span>&nbsp;<span class="ident" id="3839025"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3839031">,</span>&nbsp;<span class="ident" id="3839033">export</span>&nbsp;<span class="builtintype" id="3839040">bool</span><span class="op" id="3839044">)</span>&nbsp;<span class="builtintype" id="3839046">bool</span>&nbsp;<span class="op" id="3839051">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839054">switch</span>&nbsp;<span class="ident" id="3839061">d</span>&nbsp;<span class="op" id="3839063">:=</span>&nbsp;<span class="ident" id="3839066"><a href="/gostd/go/ast/filter.go.html#3839012">decl</a></span><span class="op" id="3839070">.</span><span class="op" id="3839071">(</span><span class="keyword" id="3839072">type</span><span class="op" id="3839076">)</span>&nbsp;<span class="op" id="3839078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839081">case</span>&nbsp;<span class="op" id="3839086">*</span><span class="ident" id="3839087"><a href="/gostd/go/ast/ast.go.html#3822162">GenDecl</a></span><span class="op" id="3839094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3839098"><a href="/gostd/go/ast/filter.go.html#3839061">d</a></span><span class="op" id="3839099">.</span><span class="ident" id="3839100"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span>&nbsp;<span class="op" id="3839106">=</span>&nbsp;<span class="ident" id="3839108"><a href="/gostd/go/ast/filter.go.html#3838414">filterSpecList</a></span><span class="op" id="3839122">(</span><span class="ident" id="3839123"><a href="/gostd/go/ast/filter.go.html#3839061">d</a></span><span class="op" id="3839124">.</span><span class="ident" id="3839125"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3839130">,</span>&nbsp;<span class="ident" id="3839132"><a href="/gostd/go/ast/filter.go.html#3839023">f</a></span><span class="op" id="3839133">,</span>&nbsp;<span class="ident" id="3839135"><a href="/gostd/go/ast/filter.go.html#3839033">export</a></span><span class="op" id="3839141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839145">return</span>&nbsp;<span class="builtinfunc" id="3839152">len</span><span class="op" id="3839155">(</span><span class="ident" id="3839156"><a href="/gostd/go/ast/filter.go.html#3839061">d</a></span><span class="op" id="3839157">.</span><span class="ident" id="3839158"><a href="/gostd/go/ast/ast.go.html#3822383">Specs</a></span><span class="op" id="3839163">)</span>&nbsp;<span class="op" id="3839165">&gt;</span>&nbsp;<span class="num" id="3839167">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839170">case</span>&nbsp;<span class="op" id="3839175">*</span><span class="ident" id="3839176"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3839184">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839188">return</span>&nbsp;<span class="ident" id="3839195"><a href="/gostd/go/ast/filter.go.html#3839023">f</a></span><span class="op" id="3839196">(</span><span class="ident" id="3839197"><a href="/gostd/go/ast/filter.go.html#3839061">d</a></span><span class="op" id="3839198">.</span><span class="ident" id="3839199"><a href="/gostd/go/ast/ast.go.html#3822643">Name</a></span><span class="op" id="3839203">.</span><span class="ident" id="3839204"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><span class="op" id="3839208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3839211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839214">return</span>&nbsp;<span class="builtintype" id="3839221">false</span><br>
<span class="lineno"></span><span class="op" id="3839227">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="3839230">//&nbsp;FilterFile&nbsp;trims&nbsp;the&nbsp;AST&nbsp;for&nbsp;a&nbsp;Go&nbsp;file&nbsp;in&nbsp;place&nbsp;by&nbsp;removing&nbsp;all</span><br>
<span class="lineno"></span><span class="comment" id="3839297">//&nbsp;names&nbsp;from&nbsp;top-level&nbsp;declarations&nbsp;(including&nbsp;struct&nbsp;field&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3839362">//&nbsp;interface&nbsp;method&nbsp;names,&nbsp;but&nbsp;not&nbsp;from&nbsp;parameter&nbsp;lists)&nbsp;that&nbsp;don&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="3839430">//&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.&nbsp;If&nbsp;the&nbsp;declaration&nbsp;is&nbsp;empty&nbsp;afterwards,</span><br>
<span class="lineno"></span><span class="comment" id="3839500">//&nbsp;the&nbsp;declaration&nbsp;is&nbsp;removed&nbsp;from&nbsp;the&nbsp;AST.&nbsp;The&nbsp;File.Comments&nbsp;list</span><br>
<span class="lineno">225</span><span class="comment" id="3839567">//&nbsp;is&nbsp;not&nbsp;changed.</span><br>
<span class="lineno"></span><span class="comment" id="3839586">//</span><br>
<span class="lineno"></span><span class="comment" id="3839589">//&nbsp;FilterFile&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;top-level&nbsp;declarations</span><br>
<span class="lineno"></span><span class="comment" id="3839656">//&nbsp;left&nbsp;after&nbsp;filtering;&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="3839709">//</span><br>
<span class="lineno">230</span><span class="keyword" id="3839712">func</span>&nbsp;<span class="ident" id="3839717">FilterFile</span><span class="op" id="3839727">(</span><span class="ident" id="3839728">src</span>&nbsp;<span class="op" id="3839732">*</span><span class="ident" id="3839733"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="3839737">,</span>&nbsp;<span class="ident" id="3839739">f</span>&nbsp;<span class="ident" id="3839741"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3839747">)</span>&nbsp;<span class="builtintype" id="3839749">bool</span>&nbsp;<span class="op" id="3839754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839757">return</span>&nbsp;<span class="ident" id="3839764"><a href="/gostd/go/ast/filter.go.html#3839798">filterFile</a></span><span class="op" id="3839774">(</span><span class="ident" id="3839775"><a href="/gostd/go/ast/filter.go.html#3839728">src</a></span><span class="op" id="3839778">,</span>&nbsp;<span class="ident" id="3839780"><a href="/gostd/go/ast/filter.go.html#3839739">f</a></span><span class="op" id="3839781">,</span>&nbsp;<span class="builtintype" id="3839783">false</span><span class="op" id="3839788">)</span><br>
<span class="lineno"></span><span class="op" id="3839790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3839793">func</span>&nbsp;<span class="ident" id="3839798">filterFile</span><span class="op" id="3839808">(</span><span class="ident" id="3839809">src</span>&nbsp;<span class="op" id="3839813">*</span><span class="ident" id="3839814"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="3839818">,</span>&nbsp;<span class="ident" id="3839820">f</span>&nbsp;<span class="ident" id="3839822"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3839828">,</span>&nbsp;<span class="ident" id="3839830">export</span>&nbsp;<span class="builtintype" id="3839837">bool</span><span class="op" id="3839841">)</span>&nbsp;<span class="builtintype" id="3839843">bool</span>&nbsp;<span class="op" id="3839848">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3839851">j</span>&nbsp;<span class="op" id="3839853">:=</span>&nbsp;<span class="num" id="3839856">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839859">for</span>&nbsp;<span class="ident" id="3839863">_</span><span class="op" id="3839864">,</span>&nbsp;<span class="ident" id="3839866">d</span>&nbsp;<span class="op" id="3839868">:=</span>&nbsp;<span class="keyword" id="3839871">range</span>&nbsp;<span class="ident" id="3839877"><a href="/gostd/go/ast/filter.go.html#3839809">src</a></span><span class="op" id="3839880">.</span><span class="ident" id="3839881"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span>&nbsp;<span class="op" id="3839887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839891">if</span>&nbsp;<span class="ident" id="3839894"><a href="/gostd/go/ast/filter.go.html#3839001">filterDecl</a></span><span class="op" id="3839904">(</span><span class="ident" id="3839905"><a href="/gostd/go/ast/filter.go.html#3839866">d</a></span><span class="op" id="3839906">,</span>&nbsp;<span class="ident" id="3839908"><a href="/gostd/go/ast/filter.go.html#3839820">f</a></span><span class="op" id="3839909">,</span>&nbsp;<span class="ident" id="3839911"><a href="/gostd/go/ast/filter.go.html#3839830">export</a></span><span class="op" id="3839917">)</span>&nbsp;<span class="op" id="3839919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3839924"><a href="/gostd/go/ast/filter.go.html#3839809">src</a></span><span class="op" id="3839927">.</span><span class="ident" id="3839928"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span><span class="op" id="3839933">[</span><span class="ident" id="3839934"><a href="/gostd/go/ast/filter.go.html#3839851">j</a></span><span class="op" id="3839935">]</span>&nbsp;<span class="op" id="3839937">=</span>&nbsp;<span class="ident" id="3839939"><a href="/gostd/go/ast/filter.go.html#3839866">d</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3839944"><a href="/gostd/go/ast/filter.go.html#3839851">j</a></span><span class="op" id="3839945">++</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3839950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3839953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3839956"><a href="/gostd/go/ast/filter.go.html#3839809">src</a></span><span class="op" id="3839959">.</span><span class="ident" id="3839960"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span>&nbsp;<span class="op" id="3839966">=</span>&nbsp;<span class="ident" id="3839968"><a href="/gostd/go/ast/filter.go.html#3839809">src</a></span><span class="op" id="3839971">.</span><span class="ident" id="3839972"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span><span class="op" id="3839977">[</span><span class="num" id="3839978">0</span><span class="op" id="3839979">:</span><span class="ident" id="3839980"><a href="/gostd/go/ast/filter.go.html#3839851">j</a></span><span class="op" id="3839981">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3839984">return</span>&nbsp;<span class="ident" id="3839991"><a href="/gostd/go/ast/filter.go.html#3839851">j</a></span>&nbsp;<span class="op" id="3839993">&gt;</span>&nbsp;<span class="num" id="3839995">0</span><br>
<span class="lineno"></span><span class="op" id="3839997">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="comment" id="3840000">//&nbsp;FilterPackage&nbsp;trims&nbsp;the&nbsp;AST&nbsp;for&nbsp;a&nbsp;Go&nbsp;package&nbsp;in&nbsp;place&nbsp;by&nbsp;removing</span><br>
<span class="lineno"></span><span class="comment" id="3840069">//&nbsp;all&nbsp;names&nbsp;from&nbsp;top-level&nbsp;declarations&nbsp;(including&nbsp;struct&nbsp;field&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="3840138">//&nbsp;interface&nbsp;method&nbsp;names,&nbsp;but&nbsp;not&nbsp;from&nbsp;parameter&nbsp;lists)&nbsp;that&nbsp;don&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="3840206">//&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.&nbsp;If&nbsp;the&nbsp;declaration&nbsp;is&nbsp;empty&nbsp;afterwards,</span><br>
<span class="lineno">250</span><span class="comment" id="3840276">//&nbsp;the&nbsp;declaration&nbsp;is&nbsp;removed&nbsp;from&nbsp;the&nbsp;AST.&nbsp;The&nbsp;pkg.Files&nbsp;list&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="3840346">//&nbsp;changed,&nbsp;so&nbsp;that&nbsp;file&nbsp;names&nbsp;and&nbsp;top-level&nbsp;package&nbsp;comments&nbsp;don&#39;t&nbsp;get</span><br>
<span class="lineno"></span><span class="comment" id="3840418">//&nbsp;lost.</span><br>
<span class="lineno"></span><span class="comment" id="3840427">//</span><br>
<span class="lineno"></span><span class="comment" id="3840430">//&nbsp;FilterPackage&nbsp;returns&nbsp;true&nbsp;if&nbsp;there&nbsp;are&nbsp;any&nbsp;top-level&nbsp;declarations</span><br>
<span class="lineno">255</span><span class="comment" id="3840500">//&nbsp;left&nbsp;after&nbsp;filtering;&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="comment" id="3840553">//</span><br>
<span class="lineno"></span><span class="keyword" id="3840556">func</span>&nbsp;<span class="ident" id="3840561">FilterPackage</span><span class="op" id="3840574">(</span><span class="ident" id="3840575">pkg</span>&nbsp;<span class="op" id="3840579">*</span><span class="ident" id="3840580"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3840587">,</span>&nbsp;<span class="ident" id="3840589">f</span>&nbsp;<span class="ident" id="3840591"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3840597">)</span>&nbsp;<span class="builtintype" id="3840599">bool</span>&nbsp;<span class="op" id="3840604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3840607">return</span>&nbsp;<span class="ident" id="3840614"><a href="/gostd/go/ast/filter.go.html#3840651">filterPackage</a></span><span class="op" id="3840627">(</span><span class="ident" id="3840628"><a href="/gostd/go/ast/filter.go.html#3840575">pkg</a></span><span class="op" id="3840631">,</span>&nbsp;<span class="ident" id="3840633"><a href="/gostd/go/ast/filter.go.html#3840589">f</a></span><span class="op" id="3840634">,</span>&nbsp;<span class="builtintype" id="3840636">false</span><span class="op" id="3840641">)</span><br>
<span class="lineno"></span><span class="op" id="3840643">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="3840646">func</span>&nbsp;<span class="ident" id="3840651">filterPackage</span><span class="op" id="3840664">(</span><span class="ident" id="3840665">pkg</span>&nbsp;<span class="op" id="3840669">*</span><span class="ident" id="3840670"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3840677">,</span>&nbsp;<span class="ident" id="3840679">f</span>&nbsp;<span class="ident" id="3840681"><a href="/gostd/go/ast/filter.go.html#3835522">Filter</a></span><span class="op" id="3840687">,</span>&nbsp;<span class="ident" id="3840689">export</span>&nbsp;<span class="builtintype" id="3840696">bool</span><span class="op" id="3840700">)</span>&nbsp;<span class="builtintype" id="3840702">bool</span>&nbsp;<span class="op" id="3840707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3840710">hasDecls</span>&nbsp;<span class="op" id="3840719">:=</span>&nbsp;<span class="builtintype" id="3840722">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3840729">for</span>&nbsp;<span class="ident" id="3840733">_</span><span class="op" id="3840734">,</span>&nbsp;<span class="ident" id="3840736">src</span>&nbsp;<span class="op" id="3840740">:=</span>&nbsp;<span class="keyword" id="3840743">range</span>&nbsp;<span class="ident" id="3840749"><a href="/gostd/go/ast/filter.go.html#3840665">pkg</a></span><span class="op" id="3840752">.</span><span class="ident" id="3840753"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span>&nbsp;<span class="op" id="3840759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3840763">if</span>&nbsp;<span class="ident" id="3840766"><a href="/gostd/go/ast/filter.go.html#3839798">filterFile</a></span><span class="op" id="3840776">(</span><span class="ident" id="3840777"><a href="/gostd/go/ast/filter.go.html#3840736">src</a></span><span class="op" id="3840780">,</span>&nbsp;<span class="ident" id="3840782"><a href="/gostd/go/ast/filter.go.html#3840679">f</a></span><span class="op" id="3840783">,</span>&nbsp;<span class="ident" id="3840785"><a href="/gostd/go/ast/filter.go.html#3840689">export</a></span><span class="op" id="3840791">)</span>&nbsp;<span class="op" id="3840793">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3840798"><a href="/gostd/go/ast/filter.go.html#3840710">hasDecls</a></span>&nbsp;<span class="op" id="3840807">=</span>&nbsp;<span class="builtintype" id="3840809">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3840816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3840819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3840822">return</span>&nbsp;<span class="ident" id="3840829"><a href="/gostd/go/ast/filter.go.html#3840710">hasDecls</a></span><br>
<span class="lineno"></span><span class="op" id="3840838">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="3840841">//&nbsp;----------------------------------------------------------------------------</span><br>
<span class="lineno"></span><span class="comment" id="3840921">//&nbsp;Merging&nbsp;of&nbsp;package&nbsp;files</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3840950">//&nbsp;The&nbsp;MergeMode&nbsp;flags&nbsp;control&nbsp;the&nbsp;behavior&nbsp;of&nbsp;MergePackageFiles.</span><br>
<span class="lineno">275</span><span class="keyword" id="3841016">type</span>&nbsp;<span class="ident" id="3841021">MergeMode</span>&nbsp;<span class="builtintype" id="3841031">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3841037">const</span>&nbsp;<span class="op" id="3841043">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841046">//&nbsp;If&nbsp;set,&nbsp;duplicate&nbsp;function&nbsp;declarations&nbsp;are&nbsp;excluded.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3841104">FilterFuncDuplicates</span>&nbsp;<span class="ident" id="3841125"><a href="/gostd/go/ast/filter.go.html#3841021">MergeMode</a></span>&nbsp;<span class="op" id="3841135">=</span>&nbsp;<span class="num" id="3841137">1</span>&nbsp;<span class="op" id="3841139">&lt;&lt;</span>&nbsp;<span class="ident" id="3841142">iota</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841148">//&nbsp;If&nbsp;set,&nbsp;comments&nbsp;that&nbsp;are&nbsp;not&nbsp;associated&nbsp;with&nbsp;a&nbsp;specific</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841209">//&nbsp;AST&nbsp;node&nbsp;(as&nbsp;Doc&nbsp;or&nbsp;Comment)&nbsp;are&nbsp;excluded.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3841256">FilterUnassociatedComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841284">//&nbsp;If&nbsp;set,&nbsp;duplicate&nbsp;import&nbsp;declarations&nbsp;are&nbsp;excluded.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3841340">FilterImportDuplicates</span><br>
<span class="lineno">285</span><span class="op" id="3841363">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3841366">//&nbsp;nameOf&nbsp;returns&nbsp;the&nbsp;function&nbsp;(foo)&nbsp;or&nbsp;method&nbsp;name&nbsp;(foo.bar)&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="3841432">//&nbsp;the&nbsp;given&nbsp;function&nbsp;declaration.&nbsp;If&nbsp;the&nbsp;AST&nbsp;is&nbsp;incorrect&nbsp;for&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3841499">//&nbsp;receiver,&nbsp;it&nbsp;assumes&nbsp;a&nbsp;function&nbsp;instead.</span><br>
<span class="lineno">290</span><span class="comment" id="3841543">//</span><br>
<span class="lineno"></span><span class="keyword" id="3841546">func</span>&nbsp;<span class="ident" id="3841551">nameOf</span><span class="op" id="3841557">(</span><span class="ident" id="3841558">f</span>&nbsp;<span class="op" id="3841560">*</span><span class="ident" id="3841561"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3841569">)</span>&nbsp;<span class="builtintype" id="3841571">string</span>&nbsp;<span class="op" id="3841578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3841581">if</span>&nbsp;<span class="ident" id="3841584">r</span>&nbsp;<span class="op" id="3841586">:=</span>&nbsp;<span class="ident" id="3841589"><a href="/gostd/go/ast/filter.go.html#3841558">f</a></span><span class="op" id="3841590">.</span><span class="ident" id="3841591"><a href="/gostd/go/ast/ast.go.html#3822580">Recv</a></span><span class="op" id="3841595">;</span>&nbsp;<span class="ident" id="3841597"><a href="/gostd/go/ast/filter.go.html#3841584">r</a></span>&nbsp;<span class="op" id="3841599">!=</span>&nbsp;<span class="builtintype" id="3841602">nil</span>&nbsp;<span class="op" id="3841606">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3841609">len</span><span class="op" id="3841612">(</span><span class="ident" id="3841613"><a href="/gostd/go/ast/filter.go.html#3841584">r</a></span><span class="op" id="3841614">.</span><span class="ident" id="3841615"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3841619">)</span>&nbsp;<span class="op" id="3841621">==</span>&nbsp;<span class="num" id="3841624">1</span>&nbsp;<span class="op" id="3841626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841630">//&nbsp;looks&nbsp;like&nbsp;a&nbsp;correct&nbsp;receiver&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3841677">t</span>&nbsp;<span class="op" id="3841679">:=</span>&nbsp;<span class="ident" id="3841682"><a href="/gostd/go/ast/filter.go.html#3841584">r</a></span><span class="op" id="3841683">.</span><span class="ident" id="3841684"><a href="/gostd/go/ast/ast.go.html#3798946">List</a></span><span class="op" id="3841688">[</span><span class="num" id="3841689">0</span><span class="op" id="3841690">]</span><span class="op" id="3841691">.</span><span class="ident" id="3841692"><a href="/gostd/go/ast/ast.go.html#3798415">Type</a></span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841699">//&nbsp;dereference&nbsp;pointer&nbsp;receiver&nbsp;types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3841739">if</span>&nbsp;<span class="ident" id="3841742">p</span><span class="op" id="3841743">,</span>&nbsp;<span class="ident" id="3841745">_</span>&nbsp;<span class="op" id="3841747">:=</span>&nbsp;<span class="ident" id="3841750"><a href="/gostd/go/ast/filter.go.html#3841677">t</a></span><span class="op" id="3841751">.</span><span class="op" id="3841752">(</span><span class="op" id="3841753">*</span><span class="ident" id="3841754"><a href="/gostd/go/ast/ast.go.html#3803160">StarExpr</a></span><span class="op" id="3841762">)</span><span class="op" id="3841763">;</span>&nbsp;<span class="ident" id="3841765"><a href="/gostd/go/ast/filter.go.html#3841742">p</a></span>&nbsp;<span class="op" id="3841767">!=</span>&nbsp;<span class="builtintype" id="3841770">nil</span>&nbsp;<span class="op" id="3841774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3841779"><a href="/gostd/go/ast/filter.go.html#3841677">t</a></span>&nbsp;<span class="op" id="3841781">=</span>&nbsp;<span class="ident" id="3841783"><a href="/gostd/go/ast/filter.go.html#3841742">p</a></span><span class="op" id="3841784">.</span><span class="ident" id="3841785"><a href="/gostd/go/ast/ast.go.html#3803216">X</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3841789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841793">//&nbsp;the&nbsp;receiver&nbsp;type&nbsp;must&nbsp;be&nbsp;a&nbsp;type&nbsp;name</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3841836">if</span>&nbsp;<span class="ident" id="3841839">p</span><span class="op" id="3841840">,</span>&nbsp;<span class="ident" id="3841842">_</span>&nbsp;<span class="op" id="3841844">:=</span>&nbsp;<span class="ident" id="3841847"><a href="/gostd/go/ast/filter.go.html#3841677">t</a></span><span class="op" id="3841848">.</span><span class="op" id="3841849">(</span><span class="op" id="3841850">*</span><span class="ident" id="3841851"><a href="/gostd/go/ast/ast.go.html#3800239">Ident</a></span><span class="op" id="3841856">)</span><span class="op" id="3841857">;</span>&nbsp;<span class="ident" id="3841859"><a href="/gostd/go/ast/filter.go.html#3841839">p</a></span>&nbsp;<span class="op" id="3841861">!=</span>&nbsp;<span class="builtintype" id="3841864">nil</span>&nbsp;<span class="op" id="3841868">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3841873">return</span>&nbsp;<span class="ident" id="3841880"><a href="/gostd/go/ast/filter.go.html#3841839">p</a></span><span class="op" id="3841881">.</span><span class="ident" id="3841882"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span>&nbsp;<span class="op" id="3841887">+</span>&nbsp;<span class="string" id="3841889">&#34;.&#34;</span>&nbsp;<span class="op" id="3841893">+</span>&nbsp;<span class="ident" id="3841895"><a href="/gostd/go/ast/filter.go.html#3841558">f</a></span><span class="op" id="3841896">.</span><span class="ident" id="3841897"><a href="/gostd/go/ast/ast.go.html#3822643">Name</a></span><span class="op" id="3841901">.</span><span class="ident" id="3841902"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3841909">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3841913">//&nbsp;otherwise&nbsp;assume&nbsp;a&nbsp;function&nbsp;instead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3841953">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3841956">return</span>&nbsp;<span class="ident" id="3841963"><a href="/gostd/go/ast/filter.go.html#3841558">f</a></span><span class="op" id="3841964">.</span><span class="ident" id="3841965"><a href="/gostd/go/ast/ast.go.html#3822643">Name</a></span><span class="op" id="3841969">.</span><span class="ident" id="3841970"><a href="/gostd/go/ast/ast.go.html#3800299">Name</a></span><br>
<span class="lineno"></span><span class="op" id="3841975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3841978">//&nbsp;separator&nbsp;is&nbsp;an&nbsp;empty&nbsp;//-style&nbsp;comment&nbsp;that&nbsp;is&nbsp;interspersed&nbsp;between</span><br>
<span class="lineno"></span><span class="comment" id="3842049">//&nbsp;different&nbsp;comment&nbsp;groups&nbsp;when&nbsp;they&nbsp;are&nbsp;concatenated&nbsp;into&nbsp;a&nbsp;single&nbsp;group</span><br>
<span class="lineno">310</span><span class="comment" id="3842124">//</span><br>
<span class="lineno"></span><span class="keyword" id="3842127">var</span>&nbsp;<span class="ident" id="3842131">separator</span>&nbsp;<span class="op" id="3842141">=</span>&nbsp;<span class="op" id="3842143">&amp;</span><span class="ident" id="3842144"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><span class="op" id="3842151">{</span><span class="ident" id="3842152"><a href="/gostd/go/ast/filter.go.html#3834218">token</a></span><span class="op" id="3842157">.</span><span class="ident" id="3842158"><a href="/gostd/go/token/position.go.html#3876073">NoPos</a></span><span class="op" id="3842163">,</span>&nbsp;<span class="string" id="3842165">&#34;//&#34;</span><span class="op" id="3842169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3842172">//&nbsp;MergePackageFiles&nbsp;creates&nbsp;a&nbsp;file&nbsp;AST&nbsp;by&nbsp;merging&nbsp;the&nbsp;ASTs&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="3842239">//&nbsp;files&nbsp;belonging&nbsp;to&nbsp;a&nbsp;package.&nbsp;The&nbsp;mode&nbsp;flags&nbsp;control&nbsp;merging&nbsp;behavior.</span><br>
<span class="lineno">315</span><span class="comment" id="3842313">//</span><br>
<span class="lineno"></span><span class="keyword" id="3842316">func</span>&nbsp;<span class="ident" id="3842321">MergePackageFiles</span><span class="op" id="3842338">(</span><span class="ident" id="3842339">pkg</span>&nbsp;<span class="op" id="3842343">*</span><span class="ident" id="3842344"><a href="/gostd/go/ast/ast.go.html#3824638">Package</a></span><span class="op" id="3842351">,</span>&nbsp;<span class="ident" id="3842353">mode</span>&nbsp;<span class="ident" id="3842358"><a href="/gostd/go/ast/filter.go.html#3841021">MergeMode</a></span><span class="op" id="3842367">)</span>&nbsp;<span class="op" id="3842369">*</span><span class="ident" id="3842370"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span>&nbsp;<span class="op" id="3842375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3842378">//&nbsp;Count&nbsp;the&nbsp;number&nbsp;of&nbsp;package&nbsp;docs,&nbsp;comments&nbsp;and&nbsp;declarations&nbsp;across</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3842449">//&nbsp;all&nbsp;package&nbsp;files.&nbsp;Also,&nbsp;compute&nbsp;sorted&nbsp;list&nbsp;of&nbsp;filenames,&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3842520">//&nbsp;subsequent&nbsp;iterations&nbsp;can&nbsp;always&nbsp;iterate&nbsp;in&nbsp;the&nbsp;same&nbsp;order.</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842584">ndocs</span>&nbsp;<span class="op" id="3842590">:=</span>&nbsp;<span class="num" id="3842593">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842596">ncomments</span>&nbsp;<span class="op" id="3842606">:=</span>&nbsp;<span class="num" id="3842609">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842612">ndecls</span>&nbsp;<span class="op" id="3842619">:=</span>&nbsp;<span class="num" id="3842622">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842625">filenames</span>&nbsp;<span class="op" id="3842635">:=</span>&nbsp;<span class="builtinfunc" id="3842638">make</span><span class="op" id="3842642">(</span><span class="op" id="3842643">[</span><span class="op" id="3842644">]</span><span class="builtintype" id="3842645">string</span><span class="op" id="3842651">,</span>&nbsp;<span class="builtinfunc" id="3842653">len</span><span class="op" id="3842656">(</span><span class="ident" id="3842657"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3842660">.</span><span class="ident" id="3842661"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span><span class="op" id="3842666">)</span><span class="op" id="3842667">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842670">i</span>&nbsp;<span class="op" id="3842672">:=</span>&nbsp;<span class="num" id="3842675">0</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3842678">for</span>&nbsp;<span class="ident" id="3842682">filename</span><span class="op" id="3842690">,</span>&nbsp;<span class="ident" id="3842692">f</span>&nbsp;<span class="op" id="3842694">:=</span>&nbsp;<span class="keyword" id="3842697">range</span>&nbsp;<span class="ident" id="3842703"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3842706">.</span><span class="ident" id="3842707"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span>&nbsp;<span class="op" id="3842713">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842717"><a href="/gostd/go/ast/filter.go.html#3842625">filenames</a></span><span class="op" id="3842726">[</span><span class="ident" id="3842727"><a href="/gostd/go/ast/filter.go.html#3842670">i</a></span><span class="op" id="3842728">]</span>&nbsp;<span class="op" id="3842730">=</span>&nbsp;<span class="ident" id="3842732"><a href="/gostd/go/ast/filter.go.html#3842682">filename</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842743"><a href="/gostd/go/ast/filter.go.html#3842670">i</a></span><span class="op" id="3842744">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3842749">if</span>&nbsp;<span class="ident" id="3842752"><a href="/gostd/go/ast/filter.go.html#3842692">f</a></span><span class="op" id="3842753">.</span><span class="ident" id="3842754"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span>&nbsp;<span class="op" id="3842758">!=</span>&nbsp;<span class="builtintype" id="3842761">nil</span>&nbsp;<span class="op" id="3842765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842770"><a href="/gostd/go/ast/filter.go.html#3842584">ndocs</a></span>&nbsp;<span class="op" id="3842776">+=</span>&nbsp;<span class="builtinfunc" id="3842779">len</span><span class="op" id="3842782">(</span><span class="ident" id="3842783"><a href="/gostd/go/ast/filter.go.html#3842692">f</a></span><span class="op" id="3842784">.</span><span class="ident" id="3842785"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span><span class="op" id="3842788">.</span><span class="ident" id="3842789"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span><span class="op" id="3842793">)</span>&nbsp;<span class="op" id="3842795">+</span>&nbsp;<span class="num" id="3842797">1</span>&nbsp;<span class="comment" id="3842799">//&nbsp;+1&nbsp;for&nbsp;separator</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3842821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842825"><a href="/gostd/go/ast/filter.go.html#3842596">ncomments</a></span>&nbsp;<span class="op" id="3842835">+=</span>&nbsp;<span class="builtinfunc" id="3842838">len</span><span class="op" id="3842841">(</span><span class="ident" id="3842842"><a href="/gostd/go/ast/filter.go.html#3842692">f</a></span><span class="op" id="3842843">.</span><span class="ident" id="3842844"><a href="/gostd/go/ast/ast.go.html#3824296">Comments</a></span><span class="op" id="3842852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842856"><a href="/gostd/go/ast/filter.go.html#3842612">ndecls</a></span>&nbsp;<span class="op" id="3842863">+=</span>&nbsp;<span class="builtinfunc" id="3842866">len</span><span class="op" id="3842869">(</span><span class="ident" id="3842870"><a href="/gostd/go/ast/filter.go.html#3842692">f</a></span><span class="op" id="3842871">.</span><span class="ident" id="3842872"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span><span class="op" id="3842877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3842880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3842883"><a href="/gostd/go/ast/filter.go.html#3834230">sort</a></span><span class="op" id="3842887">.</span><span class="ident" id="3842888"><a href="/gostd/sort/sort.go.html#2017831">Strings</a></span><span class="op" id="3842895">(</span><span class="ident" id="3842896"><a href="/gostd/go/ast/filter.go.html#3842625">filenames</a></span><span class="op" id="3842905">)</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3842909">//&nbsp;Collect&nbsp;package&nbsp;comments&nbsp;from&nbsp;all&nbsp;package&nbsp;files&nbsp;into&nbsp;a&nbsp;single</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3842975">//&nbsp;CommentGroup&nbsp;-&nbsp;the&nbsp;collected&nbsp;package&nbsp;documentation.&nbsp;In&nbsp;general</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843042">//&nbsp;there&nbsp;should&nbsp;be&nbsp;only&nbsp;one&nbsp;file&nbsp;with&nbsp;a&nbsp;package&nbsp;comment;&nbsp;but&nbsp;it&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843109">//&nbsp;better&nbsp;to&nbsp;collect&nbsp;extra&nbsp;comments&nbsp;than&nbsp;drop&nbsp;them&nbsp;on&nbsp;the&nbsp;floor.</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843175">var</span>&nbsp;<span class="ident" id="3843179">doc</span>&nbsp;<span class="op" id="3843183">*</span><span class="ident" id="3843184"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843198">var</span>&nbsp;<span class="ident" id="3843202">pos</span>&nbsp;<span class="ident" id="3843206"><a href="/gostd/go/ast/filter.go.html#3834218">token</a></span><span class="op" id="3843211">.</span><span class="ident" id="3843212"><a href="/gostd/go/token/position.go.html#3875795">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843217">if</span>&nbsp;<span class="ident" id="3843220"><a href="/gostd/go/ast/filter.go.html#3842584">ndocs</a></span>&nbsp;<span class="op" id="3843226">&gt;</span>&nbsp;<span class="num" id="3843228">0</span>&nbsp;<span class="op" id="3843230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843234">list</span>&nbsp;<span class="op" id="3843239">:=</span>&nbsp;<span class="builtinfunc" id="3843242">make</span><span class="op" id="3843246">(</span><span class="op" id="3843247">[</span><span class="op" id="3843248">]</span><span class="op" id="3843249">*</span><span class="ident" id="3843250"><a href="/gostd/go/ast/ast.go.html#3795636">Comment</a></span><span class="op" id="3843257">,</span>&nbsp;<span class="ident" id="3843259"><a href="/gostd/go/ast/filter.go.html#3842584">ndocs</a></span><span class="op" id="3843264">-</span><span class="num" id="3843265">1</span><span class="op" id="3843266">)</span>&nbsp;<span class="comment" id="3843268">//&nbsp;-1:&nbsp;no&nbsp;separator&nbsp;before&nbsp;first&nbsp;group</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843309">i</span>&nbsp;<span class="op" id="3843311">:=</span>&nbsp;<span class="num" id="3843314">0</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843318">for</span>&nbsp;<span class="ident" id="3843322">_</span><span class="op" id="3843323">,</span>&nbsp;<span class="ident" id="3843325">filename</span>&nbsp;<span class="op" id="3843334">:=</span>&nbsp;<span class="keyword" id="3843337">range</span>&nbsp;<span class="ident" id="3843343"><a href="/gostd/go/ast/filter.go.html#3842625">filenames</a></span>&nbsp;<span class="op" id="3843353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843358">f</span>&nbsp;<span class="op" id="3843360">:=</span>&nbsp;<span class="ident" id="3843363"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3843366">.</span><span class="ident" id="3843367"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span><span class="op" id="3843372">[</span><span class="ident" id="3843373"><a href="/gostd/go/ast/filter.go.html#3843325">filename</a></span><span class="op" id="3843381">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843386">if</span>&nbsp;<span class="ident" id="3843389"><a href="/gostd/go/ast/filter.go.html#3843358">f</a></span><span class="op" id="3843390">.</span><span class="ident" id="3843391"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span>&nbsp;<span class="op" id="3843395">!=</span>&nbsp;<span class="builtintype" id="3843398">nil</span>&nbsp;<span class="op" id="3843402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843408">if</span>&nbsp;<span class="ident" id="3843411"><a href="/gostd/go/ast/filter.go.html#3843309">i</a></span>&nbsp;<span class="op" id="3843413">&gt;</span>&nbsp;<span class="num" id="3843415">0</span>&nbsp;<span class="op" id="3843417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843424">//&nbsp;not&nbsp;the&nbsp;first&nbsp;group&nbsp;-&nbsp;add&nbsp;separator</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843468"><a href="/gostd/go/ast/filter.go.html#3843234">list</a></span><span class="op" id="3843472">[</span><span class="ident" id="3843473"><a href="/gostd/go/ast/filter.go.html#3843309">i</a></span><span class="op" id="3843474">]</span>&nbsp;<span class="op" id="3843476">=</span>&nbsp;<span class="ident" id="3843478"><a href="/gostd/go/ast/filter.go.html#3842131">separator</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843493"><a href="/gostd/go/ast/filter.go.html#3843309">i</a></span><span class="op" id="3843494">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3843501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843507">for</span>&nbsp;<span class="ident" id="3843511">_</span><span class="op" id="3843512">,</span>&nbsp;<span class="ident" id="3843514">c</span>&nbsp;<span class="op" id="3843516">:=</span>&nbsp;<span class="keyword" id="3843519">range</span>&nbsp;<span class="ident" id="3843525"><a href="/gostd/go/ast/filter.go.html#3843358">f</a></span><span class="op" id="3843526">.</span><span class="ident" id="3843527"><a href="/gostd/go/ast/ast.go.html#3823884">Doc</a></span><span class="op" id="3843530">.</span><span class="ident" id="3843531"><a href="/gostd/go/ast/ast.go.html#3796057">List</a></span>&nbsp;<span class="op" id="3843536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843543"><a href="/gostd/go/ast/filter.go.html#3843234">list</a></span><span class="op" id="3843547">[</span><span class="ident" id="3843548"><a href="/gostd/go/ast/filter.go.html#3843309">i</a></span><span class="op" id="3843549">]</span>&nbsp;<span class="op" id="3843551">=</span>&nbsp;<span class="ident" id="3843553"><a href="/gostd/go/ast/filter.go.html#3843514">c</a></span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843560"><a href="/gostd/go/ast/filter.go.html#3843309">i</a></span><span class="op" id="3843561">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3843568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843574">if</span>&nbsp;<span class="ident" id="3843577"><a href="/gostd/go/ast/filter.go.html#3843358">f</a></span><span class="op" id="3843578">.</span><span class="ident" id="3843579"><a href="/gostd/go/ast/ast.go.html#3823948">Package</a></span>&nbsp;<span class="op" id="3843587">&gt;</span>&nbsp;<span class="ident" id="3843589"><a href="/gostd/go/ast/filter.go.html#3843202">pos</a></span>&nbsp;<span class="op" id="3843593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843600">//&nbsp;Keep&nbsp;the&nbsp;maximum&nbsp;package&nbsp;clause&nbsp;position&nbsp;as</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843652">//&nbsp;position&nbsp;for&nbsp;the&nbsp;package&nbsp;clause&nbsp;of&nbsp;the&nbsp;merged</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843706">//&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843721"><a href="/gostd/go/ast/filter.go.html#3843202">pos</a></span>&nbsp;<span class="op" id="3843725">=</span>&nbsp;<span class="ident" id="3843727"><a href="/gostd/go/ast/filter.go.html#3843358">f</a></span><span class="op" id="3843728">.</span><span class="ident" id="3843729"><a href="/gostd/go/ast/ast.go.html#3823948">Package</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3843741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3843746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3843750">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843754"><a href="/gostd/go/ast/filter.go.html#3843179">doc</a></span>&nbsp;<span class="op" id="3843758">=</span>&nbsp;<span class="op" id="3843760">&amp;</span><span class="ident" id="3843761"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="3843773">{</span><span class="ident" id="3843774"><a href="/gostd/go/ast/filter.go.html#3843234">list</a></span><span class="op" id="3843778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3843781">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843785">//&nbsp;Collect&nbsp;declarations&nbsp;from&nbsp;all&nbsp;package&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843834">var</span>&nbsp;<span class="ident" id="3843838">decls</span>&nbsp;<span class="op" id="3843844">[</span><span class="op" id="3843845">]</span><span class="ident" id="3843846"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3843852">if</span>&nbsp;<span class="ident" id="3843855"><a href="/gostd/go/ast/filter.go.html#3842612">ndecls</a></span>&nbsp;<span class="op" id="3843862">&gt;</span>&nbsp;<span class="num" id="3843864">0</span>&nbsp;<span class="op" id="3843866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843870"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span>&nbsp;<span class="op" id="3843876">=</span>&nbsp;<span class="builtinfunc" id="3843878">make</span><span class="op" id="3843882">(</span><span class="op" id="3843883">[</span><span class="op" id="3843884">]</span><span class="ident" id="3843885"><a href="/gostd/go/ast/ast.go.html#3795432">Decl</a></span><span class="op" id="3843889">,</span>&nbsp;<span class="ident" id="3843891"><a href="/gostd/go/ast/filter.go.html#3842612">ndecls</a></span><span class="op" id="3843897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843901">funcs</span>&nbsp;<span class="op" id="3843907">:=</span>&nbsp;<span class="builtinfunc" id="3843910">make</span><span class="op" id="3843914">(</span><span class="keyword" id="3843915">map</span><span class="op" id="3843918">[</span><span class="builtintype" id="3843919">string</span><span class="op" id="3843925">]</span><span class="builtintype" id="3843926">int</span><span class="op" id="3843929">)</span>&nbsp;<span class="comment" id="3843931">//&nbsp;map&nbsp;of&nbsp;func&nbsp;name&nbsp;-&gt;&nbsp;decls&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3843968">i</span>&nbsp;<span class="op" id="3843970">:=</span>&nbsp;<span class="num" id="3843973">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3843998">//&nbsp;current&nbsp;index</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3844017">n</span>&nbsp;<span class="op" id="3844019">:=</span>&nbsp;<span class="num" id="3844022">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844047">//&nbsp;number&nbsp;of&nbsp;filtered&nbsp;entries</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3844079">for</span>&nbsp;<span class="ident" id="3844083">_</span><span class="op" id="3844084">,</span>&nbsp;<span class="ident" id="3844086">filename</span>&nbsp;<span class="op" id="3844095">:=</span>&nbsp;<span class="keyword" id="3844098">range</span>&nbsp;<span class="ident" id="3844104"><a href="/gostd/go/ast/filter.go.html#3842625">filenames</a></span>&nbsp;<span class="op" id="3844114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3844119">f</span>&nbsp;<span class="op" id="3844121">:=</span>&nbsp;<span class="ident" id="3844124"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3844127">.</span><span class="ident" id="3844128"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span><span class="op" id="3844133">[</span><span class="ident" id="3844134"><a href="/gostd/go/ast/filter.go.html#3844086">filename</a></span><span class="op" id="3844142">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3844147">for</span>&nbsp;<span class="ident" id="3844151">_</span><span class="op" id="3844152">,</span>&nbsp;<span class="ident" id="3844154">d</span>&nbsp;<span class="op" id="3844156">:=</span>&nbsp;<span class="keyword" id="3844159">range</span>&nbsp;<span class="ident" id="3844165"><a href="/gostd/go/ast/filter.go.html#3844119">f</a></span><span class="op" id="3844166">.</span><span class="ident" id="3844167"><a href="/gostd/go/ast/ast.go.html#3824053">Decls</a></span>&nbsp;<span class="op" id="3844173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3844179">if</span>&nbsp;<span class="ident" id="3844182"><a href="/gostd/go/ast/filter.go.html#3842353">mode</a></span><span class="op" id="3844186">&amp;</span><span class="ident" id="3844187"><a href="/gostd/go/ast/filter.go.html#3841104">FilterFuncDuplicates</a></span>&nbsp;<span class="op" id="3844208">!=</span>&nbsp;<span class="num" id="3844211">0</span>&nbsp;<span class="op" id="3844213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844220">//&nbsp;A&nbsp;language&nbsp;entity&nbsp;may&nbsp;be&nbsp;declared&nbsp;multiple</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844271">//&nbsp;times&nbsp;in&nbsp;different&nbsp;package&nbsp;files;&nbsp;only&nbsp;at</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844321">//&nbsp;build&nbsp;time&nbsp;declarations&nbsp;must&nbsp;be&nbsp;unique.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844369">//&nbsp;For&nbsp;now,&nbsp;exclude&nbsp;multiple&nbsp;declarations&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844419">//&nbsp;functions&nbsp;-&nbsp;keep&nbsp;the&nbsp;one&nbsp;with&nbsp;documentation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844472">//</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844480">//&nbsp;TODO(gri):&nbsp;Expand&nbsp;this&nbsp;filtering&nbsp;to&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844530">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entities&nbsp;(const,&nbsp;type,&nbsp;vars)&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844581">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multiple&nbsp;declarations&nbsp;are&nbsp;common.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3844634">if</span>&nbsp;<span class="ident" id="3844637">f</span><span class="op" id="3844638">,</span>&nbsp;<span class="ident" id="3844640">isFun</span>&nbsp;<span class="op" id="3844646">:=</span>&nbsp;<span class="ident" id="3844649"><a href="/gostd/go/ast/filter.go.html#3844154">d</a></span><span class="op" id="3844650">.</span><span class="op" id="3844651">(</span><span class="op" id="3844652">*</span><span class="ident" id="3844653"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3844661">)</span><span class="op" id="3844662">;</span>&nbsp;<span class="ident" id="3844664"><a href="/gostd/go/ast/filter.go.html#3844640">isFun</a></span>&nbsp;<span class="op" id="3844670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3844678">name</span>&nbsp;<span class="op" id="3844683">:=</span>&nbsp;<span class="ident" id="3844686"><a href="/gostd/go/ast/filter.go.html#3841551">nameOf</a></span><span class="op" id="3844692">(</span><span class="ident" id="3844693"><a href="/gostd/go/ast/filter.go.html#3844637">f</a></span><span class="op" id="3844694">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3844702">if</span>&nbsp;<span class="ident" id="3844705">j</span><span class="op" id="3844706">,</span>&nbsp;<span class="ident" id="3844708">exists</span>&nbsp;<span class="op" id="3844715">:=</span>&nbsp;<span class="ident" id="3844718"><a href="/gostd/go/ast/filter.go.html#3843901">funcs</a></span><span class="op" id="3844723">[</span><span class="ident" id="3844724"><a href="/gostd/go/ast/filter.go.html#3844678">name</a></span><span class="op" id="3844728">]</span><span class="op" id="3844729">;</span>&nbsp;<span class="ident" id="3844731"><a href="/gostd/go/ast/filter.go.html#3844708">exists</a></span>&nbsp;<span class="op" id="3844738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844747">//&nbsp;function&nbsp;declared&nbsp;already</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3844783">if</span>&nbsp;<span class="ident" id="3844786"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3844791">[</span><span class="ident" id="3844792"><a href="/gostd/go/ast/filter.go.html#3844705">j</a></span><span class="op" id="3844793">]</span>&nbsp;<span class="op" id="3844795">!=</span>&nbsp;<span class="builtintype" id="3844798">nil</span>&nbsp;<span class="op" id="3844802">&amp;&amp;</span>&nbsp;<span class="ident" id="3844805"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3844810">[</span><span class="ident" id="3844811"><a href="/gostd/go/ast/filter.go.html#3844705">j</a></span><span class="op" id="3844812">]</span><span class="op" id="3844813">.</span><span class="op" id="3844814">(</span><span class="op" id="3844815">*</span><span class="ident" id="3844816"><a href="/gostd/go/ast/ast.go.html#3822503">FuncDecl</a></span><span class="op" id="3844824">)</span><span class="op" id="3844825">.</span><span class="ident" id="3844826"><a href="/gostd/go/ast/ast.go.html#3822523">Doc</a></span>&nbsp;<span class="op" id="3844830">==</span>&nbsp;<span class="builtintype" id="3844833">nil</span>&nbsp;<span class="op" id="3844837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844847">//&nbsp;existing&nbsp;declaration&nbsp;has&nbsp;no&nbsp;documentation;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844901">//&nbsp;ignore&nbsp;the&nbsp;existing&nbsp;declaration</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3844944"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3844949">[</span><span class="ident" id="3844950"><a href="/gostd/go/ast/filter.go.html#3844705">j</a></span><span class="op" id="3844951">]</span>&nbsp;<span class="op" id="3844953">=</span>&nbsp;<span class="builtintype" id="3844955">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3844966">}</span>&nbsp;<span class="keyword" id="3844968">else</span>&nbsp;<span class="op" id="3844973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3844983">//&nbsp;ignore&nbsp;the&nbsp;new&nbsp;declaration</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845021"><a href="/gostd/go/ast/filter.go.html#3844154">d</a></span>&nbsp;<span class="op" id="3845023">=</span>&nbsp;<span class="builtintype" id="3845025">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845036">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845045"><a href="/gostd/go/ast/filter.go.html#3844017">n</a></span><span class="op" id="3845046">++</span>&nbsp;<span class="comment" id="3845049">//&nbsp;filtered&nbsp;an&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845076">}</span>&nbsp;<span class="keyword" id="3845078">else</span>&nbsp;<span class="op" id="3845083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845092"><a href="/gostd/go/ast/filter.go.html#3843901">funcs</a></span><span class="op" id="3845097">[</span><span class="ident" id="3845098"><a href="/gostd/go/ast/filter.go.html#3844678">name</a></span><span class="op" id="3845102">]</span>&nbsp;<span class="op" id="3845104">=</span>&nbsp;<span class="ident" id="3845106"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845121">}</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845133"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3845138">[</span><span class="ident" id="3845139"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span><span class="op" id="3845140">]</span>&nbsp;<span class="op" id="3845142">=</span>&nbsp;<span class="ident" id="3845144"><a href="/gostd/go/ast/filter.go.html#3844154">d</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845150"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span><span class="op" id="3845151">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845161">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845166">//&nbsp;Eliminate&nbsp;nil&nbsp;entries&nbsp;from&nbsp;the&nbsp;decls&nbsp;list&nbsp;if&nbsp;entries&nbsp;were</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845229">//&nbsp;filtered.&nbsp;We&nbsp;do&nbsp;this&nbsp;using&nbsp;a&nbsp;2nd&nbsp;pass&nbsp;in&nbsp;order&nbsp;to&nbsp;not&nbsp;disturb</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845296">//&nbsp;the&nbsp;original&nbsp;declaration&nbsp;order&nbsp;in&nbsp;the&nbsp;source&nbsp;(otherwise,&nbsp;this</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845363">//&nbsp;would&nbsp;also&nbsp;invalidate&nbsp;the&nbsp;monotonically&nbsp;increasing&nbsp;position</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845428">//&nbsp;info&nbsp;within&nbsp;a&nbsp;single&nbsp;file).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845461">if</span>&nbsp;<span class="ident" id="3845464"><a href="/gostd/go/ast/filter.go.html#3844017">n</a></span>&nbsp;<span class="op" id="3845466">&gt;</span>&nbsp;<span class="num" id="3845468">0</span>&nbsp;<span class="op" id="3845470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845475"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span>&nbsp;<span class="op" id="3845477">=</span>&nbsp;<span class="num" id="3845479">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845484">for</span>&nbsp;<span class="ident" id="3845488">_</span><span class="op" id="3845489">,</span>&nbsp;<span class="ident" id="3845491">d</span>&nbsp;<span class="op" id="3845493">:=</span>&nbsp;<span class="keyword" id="3845496">range</span>&nbsp;<span class="ident" id="3845502"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span>&nbsp;<span class="op" id="3845508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845514">if</span>&nbsp;<span class="ident" id="3845517"><a href="/gostd/go/ast/filter.go.html#3845491">d</a></span>&nbsp;<span class="op" id="3845519">!=</span>&nbsp;<span class="builtintype" id="3845522">nil</span>&nbsp;<span class="op" id="3845526">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845533"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3845538">[</span><span class="ident" id="3845539"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span><span class="op" id="3845540">]</span>&nbsp;<span class="op" id="3845542">=</span>&nbsp;<span class="ident" id="3845544"><a href="/gostd/go/ast/filter.go.html#3845491">d</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845551"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span><span class="op" id="3845552">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845559">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845569"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span>&nbsp;<span class="op" id="3845575">=</span>&nbsp;<span class="ident" id="3845577"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3845582">[</span><span class="num" id="3845583">0</span><span class="op" id="3845584">:</span><span class="ident" id="3845585"><a href="/gostd/go/ast/filter.go.html#3843968">i</a></span><span class="op" id="3845586">]</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845590">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3845593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845597">//&nbsp;Collect&nbsp;import&nbsp;specs&nbsp;from&nbsp;all&nbsp;package&nbsp;files.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845646">var</span>&nbsp;<span class="ident" id="3845650">imports</span>&nbsp;<span class="op" id="3845658">[</span><span class="op" id="3845659">]</span><span class="op" id="3845660">*</span><span class="ident" id="3845661"><a href="/gostd/go/ast/ast.go.html#3819609">ImportSpec</a></span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845673">if</span>&nbsp;<span class="ident" id="3845676"><a href="/gostd/go/ast/filter.go.html#3842353">mode</a></span><span class="op" id="3845680">&amp;</span><span class="ident" id="3845681"><a href="/gostd/go/ast/filter.go.html#3841340">FilterImportDuplicates</a></span>&nbsp;<span class="op" id="3845704">!=</span>&nbsp;<span class="num" id="3845707">0</span>&nbsp;<span class="op" id="3845709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845713">seen</span>&nbsp;<span class="op" id="3845718">:=</span>&nbsp;<span class="builtinfunc" id="3845721">make</span><span class="op" id="3845725">(</span><span class="keyword" id="3845726">map</span><span class="op" id="3845729">[</span><span class="builtintype" id="3845730">string</span><span class="op" id="3845736">]</span><span class="builtintype" id="3845737">bool</span><span class="op" id="3845741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845745">for</span>&nbsp;<span class="ident" id="3845749">_</span><span class="op" id="3845750">,</span>&nbsp;<span class="ident" id="3845752">filename</span>&nbsp;<span class="op" id="3845761">:=</span>&nbsp;<span class="keyword" id="3845764">range</span>&nbsp;<span class="ident" id="3845770"><a href="/gostd/go/ast/filter.go.html#3842625">filenames</a></span>&nbsp;<span class="op" id="3845780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3845785">f</span>&nbsp;<span class="op" id="3845787">:=</span>&nbsp;<span class="ident" id="3845790"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3845793">.</span><span class="ident" id="3845794"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span><span class="op" id="3845799">[</span><span class="ident" id="3845800"><a href="/gostd/go/ast/filter.go.html#3845752">filename</a></span><span class="op" id="3845808">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845813">for</span>&nbsp;<span class="ident" id="3845817">_</span><span class="op" id="3845818">,</span>&nbsp;<span class="ident" id="3845820">imp</span>&nbsp;<span class="op" id="3845824">:=</span>&nbsp;<span class="keyword" id="3845827">range</span>&nbsp;<span class="ident" id="3845833"><a href="/gostd/go/ast/filter.go.html#3845785">f</a></span><span class="op" id="3845834">.</span><span class="ident" id="3845835"><a href="/gostd/go/ast/ast.go.html#3824177">Imports</a></span>&nbsp;<span class="op" id="3845843">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3845849">if</span>&nbsp;<span class="ident" id="3845852">path</span>&nbsp;<span class="op" id="3845857">:=</span>&nbsp;<span class="ident" id="3845860"><a href="/gostd/go/ast/filter.go.html#3845820">imp</a></span><span class="op" id="3845863">.</span><span class="ident" id="3845864"><a href="/gostd/go/ast/ast.go.html#3819761">Path</a></span><span class="op" id="3845868">.</span><span class="ident" id="3845869"><a href="/gostd/go/ast/ast.go.html#3800851">Value</a></span><span class="op" id="3845874">;</span>&nbsp;<span class="op" id="3845876">!</span><span class="ident" id="3845877"><a href="/gostd/go/ast/filter.go.html#3845713">seen</a></span><span class="op" id="3845881">[</span><span class="ident" id="3845882"><a href="/gostd/go/ast/filter.go.html#3845852">path</a></span><span class="op" id="3845886">]</span>&nbsp;<span class="op" id="3845888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845895">//&nbsp;TODO:&nbsp;consider&nbsp;handling&nbsp;cases&nbsp;where:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845940">//&nbsp;-&nbsp;2&nbsp;imports&nbsp;exist&nbsp;with&nbsp;the&nbsp;same&nbsp;import&nbsp;path&nbsp;but</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3845996">//&nbsp;&nbsp;&nbsp;have&nbsp;different&nbsp;local&nbsp;names&nbsp;(one&nbsp;should&nbsp;probably</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3846054">//&nbsp;&nbsp;&nbsp;keep&nbsp;both&nbsp;of&nbsp;them)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3846083">//&nbsp;-&nbsp;2&nbsp;imports&nbsp;exist&nbsp;but&nbsp;only&nbsp;one&nbsp;has&nbsp;a&nbsp;comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3846136">//&nbsp;-&nbsp;2&nbsp;imports&nbsp;exist&nbsp;and&nbsp;they&nbsp;both&nbsp;have&nbsp;(possibly</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3846191">//&nbsp;&nbsp;&nbsp;different)&nbsp;comments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3846221"><a href="/gostd/go/ast/filter.go.html#3845650">imports</a></span>&nbsp;<span class="op" id="3846229">=</span>&nbsp;<span class="builtinfunc" id="3846231">append</span><span class="op" id="3846237">(</span><span class="ident" id="3846238"><a href="/gostd/go/ast/filter.go.html#3845650">imports</a></span><span class="op" id="3846245">,</span>&nbsp;<span class="ident" id="3846247"><a href="/gostd/go/ast/filter.go.html#3845820">imp</a></span><span class="op" id="3846250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3846257"><a href="/gostd/go/ast/filter.go.html#3845713">seen</a></span><span class="op" id="3846261">[</span><span class="ident" id="3846262"><a href="/gostd/go/ast/filter.go.html#3845852">path</a></span><span class="op" id="3846266">]</span>&nbsp;<span class="op" id="3846268">=</span>&nbsp;<span class="builtintype" id="3846270">true</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846279">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846291">}</span>&nbsp;<span class="keyword" id="3846293">else</span>&nbsp;<span class="op" id="3846298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3846302">for</span>&nbsp;<span class="ident" id="3846306">_</span><span class="op" id="3846307">,</span>&nbsp;<span class="ident" id="3846309">f</span>&nbsp;<span class="op" id="3846311">:=</span>&nbsp;<span class="keyword" id="3846314">range</span>&nbsp;<span class="ident" id="3846320"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3846323">.</span><span class="ident" id="3846324"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span>&nbsp;<span class="op" id="3846330">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3846335"><a href="/gostd/go/ast/filter.go.html#3845650">imports</a></span>&nbsp;<span class="op" id="3846343">=</span>&nbsp;<span class="builtinfunc" id="3846345">append</span><span class="op" id="3846351">(</span><span class="ident" id="3846352"><a href="/gostd/go/ast/filter.go.html#3845650">imports</a></span><span class="op" id="3846359">,</span>&nbsp;<span class="ident" id="3846361"><a href="/gostd/go/ast/filter.go.html#3846309">f</a></span><span class="op" id="3846362">.</span><span class="ident" id="3846363"><a href="/gostd/go/ast/ast.go.html#3824177">Imports</a></span><span class="op" id="3846370">...</span><span class="op" id="3846373">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846380">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3846384">//&nbsp;Collect&nbsp;comments&nbsp;from&nbsp;all&nbsp;package&nbsp;files.</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3846429">var</span>&nbsp;<span class="ident" id="3846433">comments</span>&nbsp;<span class="op" id="3846442">[</span><span class="op" id="3846443">]</span><span class="op" id="3846444">*</span><span class="ident" id="3846445"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3846459">if</span>&nbsp;<span class="ident" id="3846462"><a href="/gostd/go/ast/filter.go.html#3842353">mode</a></span><span class="op" id="3846466">&amp;</span><span class="ident" id="3846467"><a href="/gostd/go/ast/filter.go.html#3841256">FilterUnassociatedComments</a></span>&nbsp;<span class="op" id="3846494">==</span>&nbsp;<span class="num" id="3846497">0</span>&nbsp;<span class="op" id="3846499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3846503"><a href="/gostd/go/ast/filter.go.html#3846433">comments</a></span>&nbsp;<span class="op" id="3846512">=</span>&nbsp;<span class="builtinfunc" id="3846514">make</span><span class="op" id="3846518">(</span><span class="op" id="3846519">[</span><span class="op" id="3846520">]</span><span class="op" id="3846521">*</span><span class="ident" id="3846522"><a href="/gostd/go/ast/ast.go.html#3796034">CommentGroup</a></span><span class="op" id="3846534">,</span>&nbsp;<span class="ident" id="3846536"><a href="/gostd/go/ast/filter.go.html#3842596">ncomments</a></span><span class="op" id="3846545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3846549">i</span>&nbsp;<span class="op" id="3846551">:=</span>&nbsp;<span class="num" id="3846554">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3846558">for</span>&nbsp;<span class="ident" id="3846562">_</span><span class="op" id="3846563">,</span>&nbsp;<span class="ident" id="3846565">f</span>&nbsp;<span class="op" id="3846567">:=</span>&nbsp;<span class="keyword" id="3846570">range</span>&nbsp;<span class="ident" id="3846576"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3846579">.</span><span class="ident" id="3846580"><a href="/gostd/go/ast/ast.go.html#3824829">Files</a></span>&nbsp;<span class="op" id="3846586">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3846591"><a href="/gostd/go/ast/filter.go.html#3846549">i</a></span>&nbsp;<span class="op" id="3846593">+=</span>&nbsp;<span class="builtinfunc" id="3846596">copy</span><span class="op" id="3846600">(</span><span class="ident" id="3846601"><a href="/gostd/go/ast/filter.go.html#3846433">comments</a></span><span class="op" id="3846609">[</span><span class="ident" id="3846610"><a href="/gostd/go/ast/filter.go.html#3846549">i</a></span><span class="op" id="3846611">:</span><span class="op" id="3846612">]</span><span class="op" id="3846613">,</span>&nbsp;<span class="ident" id="3846615"><a href="/gostd/go/ast/filter.go.html#3846565">f</a></span><span class="op" id="3846616">.</span><span class="ident" id="3846617"><a href="/gostd/go/ast/ast.go.html#3824296">Comments</a></span><span class="op" id="3846625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846629">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3846632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3846636">//&nbsp;TODO(gri)&nbsp;need&nbsp;to&nbsp;compute&nbsp;unresolved&nbsp;identifiers!</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3846690">return</span>&nbsp;<span class="op" id="3846697">&amp;</span><span class="ident" id="3846698"><a href="/gostd/go/ast/ast.go.html#3823869">File</a></span><span class="op" id="3846702">{</span><span class="ident" id="3846703"><a href="/gostd/go/ast/filter.go.html#3843179">doc</a></span><span class="op" id="3846706">,</span>&nbsp;<span class="ident" id="3846708"><a href="/gostd/go/ast/filter.go.html#3843202">pos</a></span><span class="op" id="3846711">,</span>&nbsp;<span class="ident" id="3846713"><a href="/gostd/go/ast/ast.go.html#3809951">NewIdent</a></span><span class="op" id="3846721">(</span><span class="ident" id="3846722"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3846725">.</span><span class="ident" id="3846726"><a href="/gostd/go/ast/ast.go.html#3824656">Name</a></span><span class="op" id="3846730">)</span><span class="op" id="3846731">,</span>&nbsp;<span class="ident" id="3846733"><a href="/gostd/go/ast/filter.go.html#3843838">decls</a></span><span class="op" id="3846738">,</span>&nbsp;<span class="ident" id="3846740"><a href="/gostd/go/ast/filter.go.html#3842339">pkg</a></span><span class="op" id="3846743">.</span><span class="ident" id="3846744"><a href="/gostd/go/ast/ast.go.html#3824700">Scope</a></span><span class="op" id="3846749">,</span>&nbsp;<span class="ident" id="3846751"><a href="/gostd/go/ast/filter.go.html#3845650">imports</a></span><span class="op" id="3846758">,</span>&nbsp;<span class="builtintype" id="3846760">nil</span><span class="op" id="3846763">,</span>&nbsp;<span class="ident" id="3846765"><a href="/gostd/go/ast/filter.go.html#3846433">comments</a></span><span class="op" id="3846773">}</span><br>
<span class="lineno"></span><span class="op" id="3846775">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
