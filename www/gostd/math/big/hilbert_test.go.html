<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7514128">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7514183">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7514237">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="7514288">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="7514353">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="7514412">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514470">package</span>&nbsp;<span class="ident" id="7514478">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7514483">import</span>&nbsp;<span class="op" id="7514490">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7514493">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7514500">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7514510">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7514513">type</span>&nbsp;<span class="ident" id="7514518">matrix</span>&nbsp;<span class="keyword" id="7514525">struct</span>&nbsp;<span class="op" id="7514532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514535">n</span><span class="op" id="7514536">,</span>&nbsp;<span class="ident" id="7514538">m</span>&nbsp;<span class="builtintype" id="7514540">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514545">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7514550">[</span><span class="op" id="7514551">]</span><span class="op" id="7514552">*</span><span class="ident" id="7514553">Rat</span><br>
<span class="lineno"></span><span class="op" id="7514557">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7514560">func</span>&nbsp;<span class="op" id="7514565">(</span><span class="ident" id="7514566">a</span>&nbsp;<span class="op" id="7514568">*</span><span class="ident" id="7514569">matrix</span><span class="op" id="7514575">)</span>&nbsp;<span class="ident" id="7514577">at</span><span class="op" id="7514579">(</span><span class="ident" id="7514580">i</span><span class="op" id="7514581">,</span>&nbsp;<span class="ident" id="7514583">j</span>&nbsp;<span class="builtintype" id="7514585">int</span><span class="op" id="7514588">)</span>&nbsp;<span class="op" id="7514590">*</span><span class="ident" id="7514591">Rat</span>&nbsp;<span class="op" id="7514595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514598">if</span>&nbsp;<span class="op" id="7514601">!</span><span class="op" id="7514602">(</span><span class="num" id="7514603">0</span>&nbsp;<span class="op" id="7514605">&lt;=</span>&nbsp;<span class="ident" id="7514608">i</span>&nbsp;<span class="op" id="7514610">&amp;&amp;</span>&nbsp;<span class="ident" id="7514613">i</span>&nbsp;<span class="op" id="7514615">&lt;</span>&nbsp;<span class="ident" id="7514617">a</span><span class="op" id="7514618">.</span><span class="ident" id="7514619">n</span>&nbsp;<span class="op" id="7514621">&amp;&amp;</span>&nbsp;<span class="num" id="7514624">0</span>&nbsp;<span class="op" id="7514626">&lt;=</span>&nbsp;<span class="ident" id="7514629">j</span>&nbsp;<span class="op" id="7514631">&amp;&amp;</span>&nbsp;<span class="ident" id="7514634">j</span>&nbsp;<span class="op" id="7514636">&lt;</span>&nbsp;<span class="ident" id="7514638">a</span><span class="op" id="7514639">.</span><span class="ident" id="7514640">m</span><span class="op" id="7514641">)</span>&nbsp;<span class="op" id="7514643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7514647">panic</span><span class="op" id="7514652">(</span><span class="string" id="7514653">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7514673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514676">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514679">return</span>&nbsp;<span class="ident" id="7514686">a</span><span class="op" id="7514687">.</span><span class="ident" id="7514688">a</span><span class="op" id="7514689">[</span><span class="ident" id="7514690">i</span><span class="op" id="7514691">*</span><span class="ident" id="7514692">a</span><span class="op" id="7514693">.</span><span class="ident" id="7514694">m</span><span class="op" id="7514695">+</span><span class="ident" id="7514696">j</span><span class="op" id="7514697">]</span><br>
<span class="lineno"></span><span class="op" id="7514699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514702">func</span>&nbsp;<span class="op" id="7514707">(</span><span class="ident" id="7514708">a</span>&nbsp;<span class="op" id="7514710">*</span><span class="ident" id="7514711">matrix</span><span class="op" id="7514717">)</span>&nbsp;<span class="ident" id="7514719">set</span><span class="op" id="7514722">(</span><span class="ident" id="7514723">i</span><span class="op" id="7514724">,</span>&nbsp;<span class="ident" id="7514726">j</span>&nbsp;<span class="builtintype" id="7514728">int</span><span class="op" id="7514731">,</span>&nbsp;<span class="ident" id="7514733">x</span>&nbsp;<span class="op" id="7514735">*</span><span class="ident" id="7514736">Rat</span><span class="op" id="7514739">)</span>&nbsp;<span class="op" id="7514741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514744">if</span>&nbsp;<span class="op" id="7514747">!</span><span class="op" id="7514748">(</span><span class="num" id="7514749">0</span>&nbsp;<span class="op" id="7514751">&lt;=</span>&nbsp;<span class="ident" id="7514754">i</span>&nbsp;<span class="op" id="7514756">&amp;&amp;</span>&nbsp;<span class="ident" id="7514759">i</span>&nbsp;<span class="op" id="7514761">&lt;</span>&nbsp;<span class="ident" id="7514763">a</span><span class="op" id="7514764">.</span><span class="ident" id="7514765">n</span>&nbsp;<span class="op" id="7514767">&amp;&amp;</span>&nbsp;<span class="num" id="7514770">0</span>&nbsp;<span class="op" id="7514772">&lt;=</span>&nbsp;<span class="ident" id="7514775">j</span>&nbsp;<span class="op" id="7514777">&amp;&amp;</span>&nbsp;<span class="ident" id="7514780">j</span>&nbsp;<span class="op" id="7514782">&lt;</span>&nbsp;<span class="ident" id="7514784">a</span><span class="op" id="7514785">.</span><span class="ident" id="7514786">m</span><span class="op" id="7514787">)</span>&nbsp;<span class="op" id="7514789">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7514793">panic</span><span class="op" id="7514798">(</span><span class="string" id="7514799">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="7514819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514825">a</span><span class="op" id="7514826">.</span><span class="ident" id="7514827">a</span><span class="op" id="7514828">[</span><span class="ident" id="7514829">i</span><span class="op" id="7514830">*</span><span class="ident" id="7514831">a</span><span class="op" id="7514832">.</span><span class="ident" id="7514833">m</span><span class="op" id="7514834">+</span><span class="ident" id="7514835">j</span><span class="op" id="7514836">]</span>&nbsp;<span class="op" id="7514838">=</span>&nbsp;<span class="ident" id="7514840">x</span><br>
<span class="lineno"></span><span class="op" id="7514842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="7514845">func</span>&nbsp;<span class="ident" id="7514850">newMatrix</span><span class="op" id="7514859">(</span><span class="ident" id="7514860">n</span><span class="op" id="7514861">,</span>&nbsp;<span class="ident" id="7514863">m</span>&nbsp;<span class="builtintype" id="7514865">int</span><span class="op" id="7514868">)</span>&nbsp;<span class="op" id="7514870">*</span><span class="ident" id="7514871">matrix</span>&nbsp;<span class="op" id="7514878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514881">if</span>&nbsp;<span class="op" id="7514884">!</span><span class="op" id="7514885">(</span><span class="num" id="7514886">0</span>&nbsp;<span class="op" id="7514888">&lt;=</span>&nbsp;<span class="ident" id="7514891">n</span>&nbsp;<span class="op" id="7514893">&amp;&amp;</span>&nbsp;<span class="num" id="7514896">0</span>&nbsp;<span class="op" id="7514898">&lt;=</span>&nbsp;<span class="ident" id="7514901">m</span><span class="op" id="7514902">)</span>&nbsp;<span class="op" id="7514904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7514908">panic</span><span class="op" id="7514913">(</span><span class="string" id="7514914">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="7514930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514936">a</span>&nbsp;<span class="op" id="7514938">:=</span>&nbsp;<span class="builtinfunc" id="7514941">new</span><span class="op" id="7514944">(</span><span class="ident" id="7514945">matrix</span><span class="op" id="7514951">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514954">a</span><span class="op" id="7514955">.</span><span class="ident" id="7514956">n</span>&nbsp;<span class="op" id="7514958">=</span>&nbsp;<span class="ident" id="7514960">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514963">a</span><span class="op" id="7514964">.</span><span class="ident" id="7514965">m</span>&nbsp;<span class="op" id="7514967">=</span>&nbsp;<span class="ident" id="7514969">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514972">a</span><span class="op" id="7514973">.</span><span class="ident" id="7514974">a</span>&nbsp;<span class="op" id="7514976">=</span>&nbsp;<span class="builtinfunc" id="7514978">make</span><span class="op" id="7514982">(</span><span class="op" id="7514983">[</span><span class="op" id="7514984">]</span><span class="op" id="7514985">*</span><span class="ident" id="7514986">Rat</span><span class="op" id="7514989">,</span>&nbsp;<span class="ident" id="7514991">n</span><span class="op" id="7514992">*</span><span class="ident" id="7514993">m</span><span class="op" id="7514994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514997">return</span>&nbsp;<span class="ident" id="7515004">a</span><br>
<span class="lineno"></span><span class="op" id="7515006">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="7515009">func</span>&nbsp;<span class="ident" id="7515014">newUnit</span><span class="op" id="7515021">(</span><span class="ident" id="7515022">n</span>&nbsp;<span class="builtintype" id="7515024">int</span><span class="op" id="7515027">)</span>&nbsp;<span class="op" id="7515029">*</span><span class="ident" id="7515030">matrix</span>&nbsp;<span class="op" id="7515037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515040">a</span>&nbsp;<span class="op" id="7515042">:=</span>&nbsp;<span class="ident" id="7515045">newMatrix</span><span class="op" id="7515054">(</span><span class="ident" id="7515055">n</span><span class="op" id="7515056">,</span>&nbsp;<span class="ident" id="7515058">n</span><span class="op" id="7515059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515062">for</span>&nbsp;<span class="ident" id="7515066">i</span>&nbsp;<span class="op" id="7515068">:=</span>&nbsp;<span class="num" id="7515071">0</span><span class="op" id="7515072">;</span>&nbsp;<span class="ident" id="7515074">i</span>&nbsp;<span class="op" id="7515076">&lt;</span>&nbsp;<span class="ident" id="7515078">n</span><span class="op" id="7515079">;</span>&nbsp;<span class="ident" id="7515081">i</span><span class="op" id="7515082">++</span>&nbsp;<span class="op" id="7515085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515089">for</span>&nbsp;<span class="ident" id="7515093">j</span>&nbsp;<span class="op" id="7515095">:=</span>&nbsp;<span class="num" id="7515098">0</span><span class="op" id="7515099">;</span>&nbsp;<span class="ident" id="7515101">j</span>&nbsp;<span class="op" id="7515103">&lt;</span>&nbsp;<span class="ident" id="7515105">n</span><span class="op" id="7515106">;</span>&nbsp;<span class="ident" id="7515108">j</span><span class="op" id="7515109">++</span>&nbsp;<span class="op" id="7515112">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515117">x</span>&nbsp;<span class="op" id="7515119">:=</span>&nbsp;<span class="ident" id="7515122">NewRat</span><span class="op" id="7515128">(</span><span class="num" id="7515129">0</span><span class="op" id="7515130">,</span>&nbsp;<span class="num" id="7515132">1</span><span class="op" id="7515133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515138">if</span>&nbsp;<span class="ident" id="7515141">i</span>&nbsp;<span class="op" id="7515143">==</span>&nbsp;<span class="ident" id="7515146">j</span>&nbsp;<span class="op" id="7515148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515154">x</span><span class="op" id="7515155">.</span><span class="ident" id="7515156">SetInt64</span><span class="op" id="7515164">(</span><span class="num" id="7515165">1</span><span class="op" id="7515166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515171">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515176">a</span><span class="op" id="7515177">.</span><span class="ident" id="7515178">set</span><span class="op" id="7515181">(</span><span class="ident" id="7515182">i</span><span class="op" id="7515183">,</span>&nbsp;<span class="ident" id="7515185">j</span><span class="op" id="7515186">,</span>&nbsp;<span class="ident" id="7515188">x</span><span class="op" id="7515189">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515199">return</span>&nbsp;<span class="ident" id="7515206">a</span><br>
<span class="lineno"></span><span class="op" id="7515208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7515211">func</span>&nbsp;<span class="ident" id="7515216">newHilbert</span><span class="op" id="7515226">(</span><span class="ident" id="7515227">n</span>&nbsp;<span class="builtintype" id="7515229">int</span><span class="op" id="7515232">)</span>&nbsp;<span class="op" id="7515234">*</span><span class="ident" id="7515235">matrix</span>&nbsp;<span class="op" id="7515242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515245">a</span>&nbsp;<span class="op" id="7515247">:=</span>&nbsp;<span class="ident" id="7515250">newMatrix</span><span class="op" id="7515259">(</span><span class="ident" id="7515260">n</span><span class="op" id="7515261">,</span>&nbsp;<span class="ident" id="7515263">n</span><span class="op" id="7515264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515267">for</span>&nbsp;<span class="ident" id="7515271">i</span>&nbsp;<span class="op" id="7515273">:=</span>&nbsp;<span class="num" id="7515276">0</span><span class="op" id="7515277">;</span>&nbsp;<span class="ident" id="7515279">i</span>&nbsp;<span class="op" id="7515281">&lt;</span>&nbsp;<span class="ident" id="7515283">n</span><span class="op" id="7515284">;</span>&nbsp;<span class="ident" id="7515286">i</span><span class="op" id="7515287">++</span>&nbsp;<span class="op" id="7515290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515294">for</span>&nbsp;<span class="ident" id="7515298">j</span>&nbsp;<span class="op" id="7515300">:=</span>&nbsp;<span class="num" id="7515303">0</span><span class="op" id="7515304">;</span>&nbsp;<span class="ident" id="7515306">j</span>&nbsp;<span class="op" id="7515308">&lt;</span>&nbsp;<span class="ident" id="7515310">n</span><span class="op" id="7515311">;</span>&nbsp;<span class="ident" id="7515313">j</span><span class="op" id="7515314">++</span>&nbsp;<span class="op" id="7515317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515322">a</span><span class="op" id="7515323">.</span><span class="ident" id="7515324">set</span><span class="op" id="7515327">(</span><span class="ident" id="7515328">i</span><span class="op" id="7515329">,</span>&nbsp;<span class="ident" id="7515331">j</span><span class="op" id="7515332">,</span>&nbsp;<span class="ident" id="7515334">NewRat</span><span class="op" id="7515340">(</span><span class="num" id="7515341">1</span><span class="op" id="7515342">,</span>&nbsp;<span class="ident" id="7515344">int64</span><span class="op" id="7515349">(</span><span class="ident" id="7515350">i</span><span class="op" id="7515351">+</span><span class="ident" id="7515352">j</span><span class="op" id="7515353">+</span><span class="num" id="7515354">1</span><span class="op" id="7515355">)</span><span class="op" id="7515356">)</span><span class="op" id="7515357">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515361">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515367">return</span>&nbsp;<span class="ident" id="7515374">a</span><br>
<span class="lineno"></span><span class="op" id="7515376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7515379">func</span>&nbsp;<span class="ident" id="7515384">newInverseHilbert</span><span class="op" id="7515401">(</span><span class="ident" id="7515402">n</span>&nbsp;<span class="builtintype" id="7515404">int</span><span class="op" id="7515407">)</span>&nbsp;<span class="op" id="7515409">*</span><span class="ident" id="7515410">matrix</span>&nbsp;<span class="op" id="7515417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515420">a</span>&nbsp;<span class="op" id="7515422">:=</span>&nbsp;<span class="ident" id="7515425">newMatrix</span><span class="op" id="7515434">(</span><span class="ident" id="7515435">n</span><span class="op" id="7515436">,</span>&nbsp;<span class="ident" id="7515438">n</span><span class="op" id="7515439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515442">for</span>&nbsp;<span class="ident" id="7515446">i</span>&nbsp;<span class="op" id="7515448">:=</span>&nbsp;<span class="num" id="7515451">0</span><span class="op" id="7515452">;</span>&nbsp;<span class="ident" id="7515454">i</span>&nbsp;<span class="op" id="7515456">&lt;</span>&nbsp;<span class="ident" id="7515458">n</span><span class="op" id="7515459">;</span>&nbsp;<span class="ident" id="7515461">i</span><span class="op" id="7515462">++</span>&nbsp;<span class="op" id="7515465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515469">for</span>&nbsp;<span class="ident" id="7515473">j</span>&nbsp;<span class="op" id="7515475">:=</span>&nbsp;<span class="num" id="7515478">0</span><span class="op" id="7515479">;</span>&nbsp;<span class="ident" id="7515481">j</span>&nbsp;<span class="op" id="7515483">&lt;</span>&nbsp;<span class="ident" id="7515485">n</span><span class="op" id="7515486">;</span>&nbsp;<span class="ident" id="7515488">j</span><span class="op" id="7515489">++</span>&nbsp;<span class="op" id="7515492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515497">x1</span>&nbsp;<span class="op" id="7515500">:=</span>&nbsp;<span class="builtinfunc" id="7515503">new</span><span class="op" id="7515506">(</span><span class="ident" id="7515507">Rat</span><span class="op" id="7515510">)</span><span class="op" id="7515511">.</span><span class="ident" id="7515512">SetInt64</span><span class="op" id="7515520">(</span><span class="ident" id="7515521">int64</span><span class="op" id="7515526">(</span><span class="ident" id="7515527">i</span>&nbsp;<span class="op" id="7515529">+</span>&nbsp;<span class="ident" id="7515531">j</span>&nbsp;<span class="op" id="7515533">+</span>&nbsp;<span class="num" id="7515535">1</span><span class="op" id="7515536">)</span><span class="op" id="7515537">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515542">x2</span>&nbsp;<span class="op" id="7515545">:=</span>&nbsp;<span class="builtinfunc" id="7515548">new</span><span class="op" id="7515551">(</span><span class="ident" id="7515552">Rat</span><span class="op" id="7515555">)</span><span class="op" id="7515556">.</span><span class="ident" id="7515557">SetInt</span><span class="op" id="7515563">(</span><span class="builtinfunc" id="7515564">new</span><span class="op" id="7515567">(</span><span class="ident" id="7515568">Int</span><span class="op" id="7515571">)</span><span class="op" id="7515572">.</span><span class="ident" id="7515573">Binomial</span><span class="op" id="7515581">(</span><span class="ident" id="7515582">int64</span><span class="op" id="7515587">(</span><span class="ident" id="7515588">n</span><span class="op" id="7515589">+</span><span class="ident" id="7515590">i</span><span class="op" id="7515591">)</span><span class="op" id="7515592">,</span>&nbsp;<span class="ident" id="7515594">int64</span><span class="op" id="7515599">(</span><span class="ident" id="7515600">n</span><span class="op" id="7515601">-</span><span class="ident" id="7515602">j</span><span class="op" id="7515603">-</span><span class="num" id="7515604">1</span><span class="op" id="7515605">)</span><span class="op" id="7515606">)</span><span class="op" id="7515607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515612">x3</span>&nbsp;<span class="op" id="7515615">:=</span>&nbsp;<span class="builtinfunc" id="7515618">new</span><span class="op" id="7515621">(</span><span class="ident" id="7515622">Rat</span><span class="op" id="7515625">)</span><span class="op" id="7515626">.</span><span class="ident" id="7515627">SetInt</span><span class="op" id="7515633">(</span><span class="builtinfunc" id="7515634">new</span><span class="op" id="7515637">(</span><span class="ident" id="7515638">Int</span><span class="op" id="7515641">)</span><span class="op" id="7515642">.</span><span class="ident" id="7515643">Binomial</span><span class="op" id="7515651">(</span><span class="ident" id="7515652">int64</span><span class="op" id="7515657">(</span><span class="ident" id="7515658">n</span><span class="op" id="7515659">+</span><span class="ident" id="7515660">j</span><span class="op" id="7515661">)</span><span class="op" id="7515662">,</span>&nbsp;<span class="ident" id="7515664">int64</span><span class="op" id="7515669">(</span><span class="ident" id="7515670">n</span><span class="op" id="7515671">-</span><span class="ident" id="7515672">i</span><span class="op" id="7515673">-</span><span class="num" id="7515674">1</span><span class="op" id="7515675">)</span><span class="op" id="7515676">)</span><span class="op" id="7515677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515682">x4</span>&nbsp;<span class="op" id="7515685">:=</span>&nbsp;<span class="builtinfunc" id="7515688">new</span><span class="op" id="7515691">(</span><span class="ident" id="7515692">Rat</span><span class="op" id="7515695">)</span><span class="op" id="7515696">.</span><span class="ident" id="7515697">SetInt</span><span class="op" id="7515703">(</span><span class="builtinfunc" id="7515704">new</span><span class="op" id="7515707">(</span><span class="ident" id="7515708">Int</span><span class="op" id="7515711">)</span><span class="op" id="7515712">.</span><span class="ident" id="7515713">Binomial</span><span class="op" id="7515721">(</span><span class="ident" id="7515722">int64</span><span class="op" id="7515727">(</span><span class="ident" id="7515728">i</span><span class="op" id="7515729">+</span><span class="ident" id="7515730">j</span><span class="op" id="7515731">)</span><span class="op" id="7515732">,</span>&nbsp;<span class="ident" id="7515734">int64</span><span class="op" id="7515739">(</span><span class="ident" id="7515740">i</span><span class="op" id="7515741">)</span><span class="op" id="7515742">)</span><span class="op" id="7515743">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515749">x1</span><span class="op" id="7515751">.</span><span class="ident" id="7515752">Mul</span><span class="op" id="7515755">(</span><span class="ident" id="7515756">x1</span><span class="op" id="7515758">,</span>&nbsp;<span class="ident" id="7515760">x2</span><span class="op" id="7515762">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515767">x1</span><span class="op" id="7515769">.</span><span class="ident" id="7515770">Mul</span><span class="op" id="7515773">(</span><span class="ident" id="7515774">x1</span><span class="op" id="7515776">,</span>&nbsp;<span class="ident" id="7515778">x3</span><span class="op" id="7515780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515785">x1</span><span class="op" id="7515787">.</span><span class="ident" id="7515788">Mul</span><span class="op" id="7515791">(</span><span class="ident" id="7515792">x1</span><span class="op" id="7515794">,</span>&nbsp;<span class="ident" id="7515796">x4</span><span class="op" id="7515798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515803">x1</span><span class="op" id="7515805">.</span><span class="ident" id="7515806">Mul</span><span class="op" id="7515809">(</span><span class="ident" id="7515810">x1</span><span class="op" id="7515812">,</span>&nbsp;<span class="ident" id="7515814">x4</span><span class="op" id="7515816">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515822">if</span>&nbsp;<span class="op" id="7515825">(</span><span class="ident" id="7515826">i</span><span class="op" id="7515827">+</span><span class="ident" id="7515828">j</span><span class="op" id="7515829">)</span><span class="op" id="7515830">&amp;</span><span class="num" id="7515831">1</span>&nbsp;<span class="op" id="7515833">!=</span>&nbsp;<span class="num" id="7515836">0</span>&nbsp;<span class="op" id="7515838">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515844">x1</span><span class="op" id="7515846">.</span><span class="ident" id="7515847">Neg</span><span class="op" id="7515850">(</span><span class="ident" id="7515851">x1</span><span class="op" id="7515853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515858">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515864">a</span><span class="op" id="7515865">.</span><span class="ident" id="7515866">set</span><span class="op" id="7515869">(</span><span class="ident" id="7515870">i</span><span class="op" id="7515871">,</span>&nbsp;<span class="ident" id="7515873">j</span><span class="op" id="7515874">,</span>&nbsp;<span class="ident" id="7515876">x1</span><span class="op" id="7515878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515882">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515885">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515888">return</span>&nbsp;<span class="ident" id="7515895">a</span><br>
<span class="lineno"></span><span class="op" id="7515897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7515900">func</span>&nbsp;<span class="op" id="7515905">(</span><span class="ident" id="7515906">a</span>&nbsp;<span class="op" id="7515908">*</span><span class="ident" id="7515909">matrix</span><span class="op" id="7515915">)</span>&nbsp;<span class="ident" id="7515917">mul</span><span class="op" id="7515920">(</span><span class="ident" id="7515921">b</span>&nbsp;<span class="op" id="7515923">*</span><span class="ident" id="7515924">matrix</span><span class="op" id="7515930">)</span>&nbsp;<span class="op" id="7515932">*</span><span class="ident" id="7515933">matrix</span>&nbsp;<span class="op" id="7515940">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515943">if</span>&nbsp;<span class="ident" id="7515946">a</span><span class="op" id="7515947">.</span><span class="ident" id="7515948">m</span>&nbsp;<span class="op" id="7515950">!=</span>&nbsp;<span class="ident" id="7515953">b</span><span class="op" id="7515954">.</span><span class="ident" id="7515955">n</span>&nbsp;<span class="op" id="7515957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7515961">panic</span><span class="op" id="7515966">(</span><span class="string" id="7515967">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="7515992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515995">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515998">c</span>&nbsp;<span class="op" id="7516000">:=</span>&nbsp;<span class="ident" id="7516003">newMatrix</span><span class="op" id="7516012">(</span><span class="ident" id="7516013">a</span><span class="op" id="7516014">.</span><span class="ident" id="7516015">n</span><span class="op" id="7516016">,</span>&nbsp;<span class="ident" id="7516018">b</span><span class="op" id="7516019">.</span><span class="ident" id="7516020">m</span><span class="op" id="7516021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516024">for</span>&nbsp;<span class="ident" id="7516028">i</span>&nbsp;<span class="op" id="7516030">:=</span>&nbsp;<span class="num" id="7516033">0</span><span class="op" id="7516034">;</span>&nbsp;<span class="ident" id="7516036">i</span>&nbsp;<span class="op" id="7516038">&lt;</span>&nbsp;<span class="ident" id="7516040">c</span><span class="op" id="7516041">.</span><span class="ident" id="7516042">n</span><span class="op" id="7516043">;</span>&nbsp;<span class="ident" id="7516045">i</span><span class="op" id="7516046">++</span>&nbsp;<span class="op" id="7516049">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516053">for</span>&nbsp;<span class="ident" id="7516057">j</span>&nbsp;<span class="op" id="7516059">:=</span>&nbsp;<span class="num" id="7516062">0</span><span class="op" id="7516063">;</span>&nbsp;<span class="ident" id="7516065">j</span>&nbsp;<span class="op" id="7516067">&lt;</span>&nbsp;<span class="ident" id="7516069">c</span><span class="op" id="7516070">.</span><span class="ident" id="7516071">m</span><span class="op" id="7516072">;</span>&nbsp;<span class="ident" id="7516074">j</span><span class="op" id="7516075">++</span>&nbsp;<span class="op" id="7516078">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516083">x</span>&nbsp;<span class="op" id="7516085">:=</span>&nbsp;<span class="ident" id="7516088">NewRat</span><span class="op" id="7516094">(</span><span class="num" id="7516095">0</span><span class="op" id="7516096">,</span>&nbsp;<span class="num" id="7516098">1</span><span class="op" id="7516099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516104">for</span>&nbsp;<span class="ident" id="7516108">k</span>&nbsp;<span class="op" id="7516110">:=</span>&nbsp;<span class="num" id="7516113">0</span><span class="op" id="7516114">;</span>&nbsp;<span class="ident" id="7516116">k</span>&nbsp;<span class="op" id="7516118">&lt;</span>&nbsp;<span class="ident" id="7516120">a</span><span class="op" id="7516121">.</span><span class="ident" id="7516122">m</span><span class="op" id="7516123">;</span>&nbsp;<span class="ident" id="7516125">k</span><span class="op" id="7516126">++</span>&nbsp;<span class="op" id="7516129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516135">x</span><span class="op" id="7516136">.</span><span class="ident" id="7516137">Add</span><span class="op" id="7516140">(</span><span class="ident" id="7516141">x</span><span class="op" id="7516142">,</span>&nbsp;<span class="builtinfunc" id="7516144">new</span><span class="op" id="7516147">(</span><span class="ident" id="7516148">Rat</span><span class="op" id="7516151">)</span><span class="op" id="7516152">.</span><span class="ident" id="7516153">Mul</span><span class="op" id="7516156">(</span><span class="ident" id="7516157">a</span><span class="op" id="7516158">.</span><span class="ident" id="7516159">at</span><span class="op" id="7516161">(</span><span class="ident" id="7516162">i</span><span class="op" id="7516163">,</span>&nbsp;<span class="ident" id="7516165">k</span><span class="op" id="7516166">)</span><span class="op" id="7516167">,</span>&nbsp;<span class="ident" id="7516169">b</span><span class="op" id="7516170">.</span><span class="ident" id="7516171">at</span><span class="op" id="7516173">(</span><span class="ident" id="7516174">k</span><span class="op" id="7516175">,</span>&nbsp;<span class="ident" id="7516177">j</span><span class="op" id="7516178">)</span><span class="op" id="7516179">)</span><span class="op" id="7516180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516185">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516190">c</span><span class="op" id="7516191">.</span><span class="ident" id="7516192">set</span><span class="op" id="7516195">(</span><span class="ident" id="7516196">i</span><span class="op" id="7516197">,</span>&nbsp;<span class="ident" id="7516199">j</span><span class="op" id="7516200">,</span>&nbsp;<span class="ident" id="7516202">x</span><span class="op" id="7516203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516207">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516213">return</span>&nbsp;<span class="ident" id="7516220">c</span><br>
<span class="lineno"></span><span class="op" id="7516222">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="7516225">func</span>&nbsp;<span class="op" id="7516230">(</span><span class="ident" id="7516231">a</span>&nbsp;<span class="op" id="7516233">*</span><span class="ident" id="7516234">matrix</span><span class="op" id="7516240">)</span>&nbsp;<span class="ident" id="7516242">eql</span><span class="op" id="7516245">(</span><span class="ident" id="7516246">b</span>&nbsp;<span class="op" id="7516248">*</span><span class="ident" id="7516249">matrix</span><span class="op" id="7516255">)</span>&nbsp;<span class="builtintype" id="7516257">bool</span>&nbsp;<span class="op" id="7516262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516265">if</span>&nbsp;<span class="ident" id="7516268">a</span><span class="op" id="7516269">.</span><span class="ident" id="7516270">n</span>&nbsp;<span class="op" id="7516272">!=</span>&nbsp;<span class="ident" id="7516275">b</span><span class="op" id="7516276">.</span><span class="ident" id="7516277">n</span>&nbsp;<span class="op" id="7516279">||</span>&nbsp;<span class="ident" id="7516282">a</span><span class="op" id="7516283">.</span><span class="ident" id="7516284">m</span>&nbsp;<span class="op" id="7516286">!=</span>&nbsp;<span class="ident" id="7516289">b</span><span class="op" id="7516290">.</span><span class="ident" id="7516291">m</span>&nbsp;<span class="op" id="7516293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516297">return</span>&nbsp;<span class="builtintype" id="7516304">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516311">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516314">for</span>&nbsp;<span class="ident" id="7516318">i</span>&nbsp;<span class="op" id="7516320">:=</span>&nbsp;<span class="num" id="7516323">0</span><span class="op" id="7516324">;</span>&nbsp;<span class="ident" id="7516326">i</span>&nbsp;<span class="op" id="7516328">&lt;</span>&nbsp;<span class="ident" id="7516330">a</span><span class="op" id="7516331">.</span><span class="ident" id="7516332">n</span><span class="op" id="7516333">;</span>&nbsp;<span class="ident" id="7516335">i</span><span class="op" id="7516336">++</span>&nbsp;<span class="op" id="7516339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516343">for</span>&nbsp;<span class="ident" id="7516347">j</span>&nbsp;<span class="op" id="7516349">:=</span>&nbsp;<span class="num" id="7516352">0</span><span class="op" id="7516353">;</span>&nbsp;<span class="ident" id="7516355">j</span>&nbsp;<span class="op" id="7516357">&lt;</span>&nbsp;<span class="ident" id="7516359">a</span><span class="op" id="7516360">.</span><span class="ident" id="7516361">m</span><span class="op" id="7516362">;</span>&nbsp;<span class="ident" id="7516364">j</span><span class="op" id="7516365">++</span>&nbsp;<span class="op" id="7516368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516373">if</span>&nbsp;<span class="ident" id="7516376">a</span><span class="op" id="7516377">.</span><span class="ident" id="7516378">at</span><span class="op" id="7516380">(</span><span class="ident" id="7516381">i</span><span class="op" id="7516382">,</span>&nbsp;<span class="ident" id="7516384">j</span><span class="op" id="7516385">)</span><span class="op" id="7516386">.</span><span class="ident" id="7516387">Cmp</span><span class="op" id="7516390">(</span><span class="ident" id="7516391">b</span><span class="op" id="7516392">.</span><span class="ident" id="7516393">at</span><span class="op" id="7516395">(</span><span class="ident" id="7516396">i</span><span class="op" id="7516397">,</span>&nbsp;<span class="ident" id="7516399">j</span><span class="op" id="7516400">)</span><span class="op" id="7516401">)</span>&nbsp;<span class="op" id="7516403">!=</span>&nbsp;<span class="num" id="7516406">0</span>&nbsp;<span class="op" id="7516408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516414">return</span>&nbsp;<span class="builtintype" id="7516421">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516430">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516434">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516440">return</span>&nbsp;<span class="builtintype" id="7516447">true</span><br>
<span class="lineno"></span><span class="op" id="7516452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="7516455">func</span>&nbsp;<span class="op" id="7516460">(</span><span class="ident" id="7516461">a</span>&nbsp;<span class="op" id="7516463">*</span><span class="ident" id="7516464">matrix</span><span class="op" id="7516470">)</span>&nbsp;<span class="ident" id="7516472">String</span><span class="op" id="7516478">(</span><span class="op" id="7516479">)</span>&nbsp;<span class="builtintype" id="7516481">string</span>&nbsp;<span class="op" id="7516488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516491">s</span>&nbsp;<span class="op" id="7516493">:=</span>&nbsp;<span class="string" id="7516496">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516500">for</span>&nbsp;<span class="ident" id="7516504">i</span>&nbsp;<span class="op" id="7516506">:=</span>&nbsp;<span class="num" id="7516509">0</span><span class="op" id="7516510">;</span>&nbsp;<span class="ident" id="7516512">i</span>&nbsp;<span class="op" id="7516514">&lt;</span>&nbsp;<span class="ident" id="7516516">a</span><span class="op" id="7516517">.</span><span class="ident" id="7516518">n</span><span class="op" id="7516519">;</span>&nbsp;<span class="ident" id="7516521">i</span><span class="op" id="7516522">++</span>&nbsp;<span class="op" id="7516525">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516529">for</span>&nbsp;<span class="ident" id="7516533">j</span>&nbsp;<span class="op" id="7516535">:=</span>&nbsp;<span class="num" id="7516538">0</span><span class="op" id="7516539">;</span>&nbsp;<span class="ident" id="7516541">j</span>&nbsp;<span class="op" id="7516543">&lt;</span>&nbsp;<span class="ident" id="7516545">a</span><span class="op" id="7516546">.</span><span class="ident" id="7516547">m</span><span class="op" id="7516548">;</span>&nbsp;<span class="ident" id="7516550">j</span><span class="op" id="7516551">++</span>&nbsp;<span class="op" id="7516554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516559">s</span>&nbsp;<span class="op" id="7516561">+=</span>&nbsp;<span class="ident" id="7516564">fmt</span><span class="op" id="7516567">.</span><span class="ident" id="7516568">Sprintf</span><span class="op" id="7516575">(</span><span class="string" id="7516576">&#34;\t%s&#34;</span><span class="op" id="7516582">,</span>&nbsp;<span class="ident" id="7516584">a</span><span class="op" id="7516585">.</span><span class="ident" id="7516586">at</span><span class="op" id="7516588">(</span><span class="ident" id="7516589">i</span><span class="op" id="7516590">,</span>&nbsp;<span class="ident" id="7516592">j</span><span class="op" id="7516593">)</span><span class="op" id="7516594">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516602">s</span>&nbsp;<span class="op" id="7516604">+=</span>&nbsp;<span class="string" id="7516607">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516616">return</span>&nbsp;<span class="ident" id="7516623">s</span><br>
<span class="lineno"></span><span class="op" id="7516625">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="7516628">func</span>&nbsp;<span class="ident" id="7516633">doHilbert</span><span class="op" id="7516642">(</span><span class="ident" id="7516643">t</span>&nbsp;<span class="op" id="7516645">*</span><span class="ident" id="7516646">testing</span><span class="op" id="7516653">.</span><span class="ident" id="7516654">T</span><span class="op" id="7516655">,</span>&nbsp;<span class="ident" id="7516657">n</span>&nbsp;<span class="builtintype" id="7516659">int</span><span class="op" id="7516662">)</span>&nbsp;<span class="op" id="7516664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516667">a</span>&nbsp;<span class="op" id="7516669">:=</span>&nbsp;<span class="ident" id="7516672">newHilbert</span><span class="op" id="7516682">(</span><span class="ident" id="7516683">n</span><span class="op" id="7516684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516687">b</span>&nbsp;<span class="op" id="7516689">:=</span>&nbsp;<span class="ident" id="7516692">newInverseHilbert</span><span class="op" id="7516709">(</span><span class="ident" id="7516710">n</span><span class="op" id="7516711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516714">I</span>&nbsp;<span class="op" id="7516716">:=</span>&nbsp;<span class="ident" id="7516719">newUnit</span><span class="op" id="7516726">(</span><span class="ident" id="7516727">n</span><span class="op" id="7516728">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516731">ab</span>&nbsp;<span class="op" id="7516734">:=</span>&nbsp;<span class="ident" id="7516737">a</span><span class="op" id="7516738">.</span><span class="ident" id="7516739">mul</span><span class="op" id="7516742">(</span><span class="ident" id="7516743">b</span><span class="op" id="7516744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516747">if</span>&nbsp;<span class="op" id="7516750">!</span><span class="ident" id="7516751">ab</span><span class="op" id="7516753">.</span><span class="ident" id="7516754">eql</span><span class="op" id="7516757">(</span><span class="ident" id="7516758">I</span><span class="op" id="7516759">)</span>&nbsp;<span class="op" id="7516761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516765">if</span>&nbsp;<span class="ident" id="7516768">t</span>&nbsp;<span class="op" id="7516770">==</span>&nbsp;<span class="ident" id="7516773">nil</span>&nbsp;<span class="op" id="7516777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7516782">panic</span><span class="op" id="7516787">(</span><span class="string" id="7516788">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="7516804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516808">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516812">t</span><span class="op" id="7516813">.</span><span class="ident" id="7516814">Errorf</span><span class="op" id="7516820">(</span><span class="string" id="7516821">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7516833">,</span>&nbsp;<span class="ident" id="7516835">a</span><span class="op" id="7516836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516840">t</span><span class="op" id="7516841">.</span><span class="ident" id="7516842">Errorf</span><span class="op" id="7516848">(</span><span class="string" id="7516849">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7516861">,</span>&nbsp;<span class="ident" id="7516863">b</span><span class="op" id="7516864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516868">t</span><span class="op" id="7516869">.</span><span class="ident" id="7516870">Errorf</span><span class="op" id="7516876">(</span><span class="string" id="7516877">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7516889">,</span>&nbsp;<span class="ident" id="7516891">ab</span><span class="op" id="7516893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516897">t</span><span class="op" id="7516898">.</span><span class="ident" id="7516899">Errorf</span><span class="op" id="7516905">(</span><span class="string" id="7516906">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="7516918">,</span>&nbsp;<span class="ident" id="7516920">I</span><span class="op" id="7516921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516924">}</span><br>
<span class="lineno">150</span><span class="op" id="7516926">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7516929">func</span>&nbsp;<span class="ident" id="7516934">TestHilbert</span><span class="op" id="7516945">(</span><span class="ident" id="7516946">t</span>&nbsp;<span class="op" id="7516948">*</span><span class="ident" id="7516949">testing</span><span class="op" id="7516956">.</span><span class="ident" id="7516957">T</span><span class="op" id="7516958">)</span>&nbsp;<span class="op" id="7516960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516963">doHilbert</span><span class="op" id="7516972">(</span><span class="ident" id="7516973">t</span><span class="op" id="7516974">,</span>&nbsp;<span class="num" id="7516976">10</span><span class="op" id="7516978">)</span><br>
<span class="lineno"></span><span class="op" id="7516980">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7516983">func</span>&nbsp;<span class="ident" id="7516988">BenchmarkHilbert</span><span class="op" id="7517004">(</span><span class="ident" id="7517005">b</span>&nbsp;<span class="op" id="7517007">*</span><span class="ident" id="7517008">testing</span><span class="op" id="7517015">.</span><span class="ident" id="7517016">B</span><span class="op" id="7517017">)</span>&nbsp;<span class="op" id="7517019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517022">for</span>&nbsp;<span class="ident" id="7517026">i</span>&nbsp;<span class="op" id="7517028">:=</span>&nbsp;<span class="num" id="7517031">0</span><span class="op" id="7517032">;</span>&nbsp;<span class="ident" id="7517034">i</span>&nbsp;<span class="op" id="7517036">&lt;</span>&nbsp;<span class="ident" id="7517038">b</span><span class="op" id="7517039">.</span><span class="ident" id="7517040">N</span><span class="op" id="7517041">;</span>&nbsp;<span class="ident" id="7517043">i</span><span class="op" id="7517044">++</span>&nbsp;<span class="op" id="7517047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517051">doHilbert</span><span class="op" id="7517060">(</span><span class="ident" id="7517061">nil</span><span class="op" id="7517064">,</span>&nbsp;<span class="num" id="7517066">10</span><span class="op" id="7517068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517071">}</span><br>
<span class="lineno">160</span><span class="op" id="7517073">}</span>
</div>
</body>
</html>
