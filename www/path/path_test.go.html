<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8036719">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8036774">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8036828">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8036879">package</span>&nbsp;<span class="ident" id="8036887">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8036893">import</span>&nbsp;<span class="op" id="8036900">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8036903">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8036914">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8036924">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8036927">type</span>&nbsp;<span class="ident" id="8036932">PathTest</span>&nbsp;<span class="keyword" id="8036941">struct</span>&nbsp;<span class="op" id="8036948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8036951">path</span><span class="op" id="8036955">,</span>&nbsp;<span class="ident" id="8036957">result</span>&nbsp;<span class="builtintype" id="8036964">string</span><br>
<span class="lineno"></span><span class="op" id="8036971">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8036974">var</span>&nbsp;<span class="ident" id="8036978">cleantests</span>&nbsp;<span class="op" id="8036989">=</span>&nbsp;<span class="op" id="8036991">[</span><span class="op" id="8036992">]</span><span class="ident" id="8036993"><a href="/path/path_test.go.html#8036932">PathTest</a></span><span class="op" id="8037001">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037004">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037022">{</span><span class="string" id="8037023">&#34;&#34;</span><span class="op" id="8037025">,</span>&nbsp;<span class="string" id="8037027">&#34;.&#34;</span><span class="op" id="8037030">}</span><span class="op" id="8037031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037034">{</span><span class="string" id="8037035">&#34;abc&#34;</span><span class="op" id="8037040">,</span>&nbsp;<span class="string" id="8037042">&#34;abc&#34;</span><span class="op" id="8037047">}</span><span class="op" id="8037048">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037051">{</span><span class="string" id="8037052">&#34;abc/def&#34;</span><span class="op" id="8037061">,</span>&nbsp;<span class="string" id="8037063">&#34;abc/def&#34;</span><span class="op" id="8037072">}</span><span class="op" id="8037073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037076">{</span><span class="string" id="8037077">&#34;a/b/c&#34;</span><span class="op" id="8037084">,</span>&nbsp;<span class="string" id="8037086">&#34;a/b/c&#34;</span><span class="op" id="8037093">}</span><span class="op" id="8037094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037097">{</span><span class="string" id="8037098">&#34;.&#34;</span><span class="op" id="8037101">,</span>&nbsp;<span class="string" id="8037103">&#34;.&#34;</span><span class="op" id="8037106">}</span><span class="op" id="8037107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037110">{</span><span class="string" id="8037111">&#34;..&#34;</span><span class="op" id="8037115">,</span>&nbsp;<span class="string" id="8037117">&#34;..&#34;</span><span class="op" id="8037121">}</span><span class="op" id="8037122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037125">{</span><span class="string" id="8037126">&#34;../..&#34;</span><span class="op" id="8037133">,</span>&nbsp;<span class="string" id="8037135">&#34;../..&#34;</span><span class="op" id="8037142">}</span><span class="op" id="8037143">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037146">{</span><span class="string" id="8037147">&#34;../../abc&#34;</span><span class="op" id="8037158">,</span>&nbsp;<span class="string" id="8037160">&#34;../../abc&#34;</span><span class="op" id="8037171">}</span><span class="op" id="8037172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037175">{</span><span class="string" id="8037176">&#34;/abc&#34;</span><span class="op" id="8037182">,</span>&nbsp;<span class="string" id="8037184">&#34;/abc&#34;</span><span class="op" id="8037190">}</span><span class="op" id="8037191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037194">{</span><span class="string" id="8037195">&#34;/&#34;</span><span class="op" id="8037198">,</span>&nbsp;<span class="string" id="8037200">&#34;/&#34;</span><span class="op" id="8037203">}</span><span class="op" id="8037204">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037208">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037234">{</span><span class="string" id="8037235">&#34;abc/&#34;</span><span class="op" id="8037241">,</span>&nbsp;<span class="string" id="8037243">&#34;abc&#34;</span><span class="op" id="8037248">}</span><span class="op" id="8037249">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037252">{</span><span class="string" id="8037253">&#34;abc/def/&#34;</span><span class="op" id="8037263">,</span>&nbsp;<span class="string" id="8037265">&#34;abc/def&#34;</span><span class="op" id="8037274">}</span><span class="op" id="8037275">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037278">{</span><span class="string" id="8037279">&#34;a/b/c/&#34;</span><span class="op" id="8037287">,</span>&nbsp;<span class="string" id="8037289">&#34;a/b/c&#34;</span><span class="op" id="8037296">}</span><span class="op" id="8037297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037300">{</span><span class="string" id="8037301">&#34;./&#34;</span><span class="op" id="8037305">,</span>&nbsp;<span class="string" id="8037307">&#34;.&#34;</span><span class="op" id="8037310">}</span><span class="op" id="8037311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037314">{</span><span class="string" id="8037315">&#34;../&#34;</span><span class="op" id="8037320">,</span>&nbsp;<span class="string" id="8037322">&#34;..&#34;</span><span class="op" id="8037326">}</span><span class="op" id="8037327">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037330">{</span><span class="string" id="8037331">&#34;../../&#34;</span><span class="op" id="8037339">,</span>&nbsp;<span class="string" id="8037341">&#34;../..&#34;</span><span class="op" id="8037348">}</span><span class="op" id="8037349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037352">{</span><span class="string" id="8037353">&#34;/abc/&#34;</span><span class="op" id="8037360">,</span>&nbsp;<span class="string" id="8037362">&#34;/abc&#34;</span><span class="op" id="8037368">}</span><span class="op" id="8037369">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037373">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037398">{</span><span class="string" id="8037399">&#34;abc//def//ghi&#34;</span><span class="op" id="8037414">,</span>&nbsp;<span class="string" id="8037416">&#34;abc/def/ghi&#34;</span><span class="op" id="8037429">}</span><span class="op" id="8037430">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037433">{</span><span class="string" id="8037434">&#34;//abc&#34;</span><span class="op" id="8037441">,</span>&nbsp;<span class="string" id="8037443">&#34;/abc&#34;</span><span class="op" id="8037449">}</span><span class="op" id="8037450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037453">{</span><span class="string" id="8037454">&#34;///abc&#34;</span><span class="op" id="8037462">,</span>&nbsp;<span class="string" id="8037464">&#34;/abc&#34;</span><span class="op" id="8037470">}</span><span class="op" id="8037471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037474">{</span><span class="string" id="8037475">&#34;//abc//&#34;</span><span class="op" id="8037484">,</span>&nbsp;<span class="string" id="8037486">&#34;/abc&#34;</span><span class="op" id="8037492">}</span><span class="op" id="8037493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037496">{</span><span class="string" id="8037497">&#34;abc//&#34;</span><span class="op" id="8037504">,</span>&nbsp;<span class="string" id="8037506">&#34;abc&#34;</span><span class="op" id="8037511">}</span><span class="op" id="8037512">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037516">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037538">{</span><span class="string" id="8037539">&#34;abc/./def&#34;</span><span class="op" id="8037550">,</span>&nbsp;<span class="string" id="8037552">&#34;abc/def&#34;</span><span class="op" id="8037561">}</span><span class="op" id="8037562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037565">{</span><span class="string" id="8037566">&#34;/./abc/def&#34;</span><span class="op" id="8037578">,</span>&nbsp;<span class="string" id="8037580">&#34;/abc/def&#34;</span><span class="op" id="8037590">}</span><span class="op" id="8037591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037594">{</span><span class="string" id="8037595">&#34;abc/.&#34;</span><span class="op" id="8037602">,</span>&nbsp;<span class="string" id="8037604">&#34;abc&#34;</span><span class="op" id="8037609">}</span><span class="op" id="8037610">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037614">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037637">{</span><span class="string" id="8037638">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="8037658">,</span>&nbsp;<span class="string" id="8037660">&#34;abc/def/jkl&#34;</span><span class="op" id="8037673">}</span><span class="op" id="8037674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037677">{</span><span class="string" id="8037678">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="8037701">,</span>&nbsp;<span class="string" id="8037703">&#34;abc/jkl&#34;</span><span class="op" id="8037712">}</span><span class="op" id="8037713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037716">{</span><span class="string" id="8037717">&#34;abc/def/..&#34;</span><span class="op" id="8037729">,</span>&nbsp;<span class="string" id="8037731">&#34;abc&#34;</span><span class="op" id="8037736">}</span><span class="op" id="8037737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037740">{</span><span class="string" id="8037741">&#34;abc/def/../..&#34;</span><span class="op" id="8037756">,</span>&nbsp;<span class="string" id="8037758">&#34;.&#34;</span><span class="op" id="8037761">}</span><span class="op" id="8037762">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037765">{</span><span class="string" id="8037766">&#34;/abc/def/../..&#34;</span><span class="op" id="8037782">,</span>&nbsp;<span class="string" id="8037784">&#34;/&#34;</span><span class="op" id="8037787">}</span><span class="op" id="8037788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037791">{</span><span class="string" id="8037792">&#34;abc/def/../../..&#34;</span><span class="op" id="8037810">,</span>&nbsp;<span class="string" id="8037812">&#34;..&#34;</span><span class="op" id="8037816">}</span><span class="op" id="8037817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037820">{</span><span class="string" id="8037821">&#34;/abc/def/../../..&#34;</span><span class="op" id="8037840">,</span>&nbsp;<span class="string" id="8037842">&#34;/&#34;</span><span class="op" id="8037845">}</span><span class="op" id="8037846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037849">{</span><span class="string" id="8037850">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="8037889">,</span>&nbsp;<span class="string" id="8037891">&#34;../../mno&#34;</span><span class="op" id="8037902">}</span><span class="op" id="8037903">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8037907">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037924">{</span><span class="string" id="8037925">&#34;abc/./../def&#34;</span><span class="op" id="8037939">,</span>&nbsp;<span class="string" id="8037941">&#34;def&#34;</span><span class="op" id="8037946">}</span><span class="op" id="8037947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037950">{</span><span class="string" id="8037951">&#34;abc//./../def&#34;</span><span class="op" id="8037966">,</span>&nbsp;<span class="string" id="8037968">&#34;def&#34;</span><span class="op" id="8037973">}</span><span class="op" id="8037974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8037977">{</span><span class="string" id="8037978">&#34;abc/../../././../def&#34;</span><span class="op" id="8038000">,</span>&nbsp;<span class="string" id="8038002">&#34;../../def&#34;</span><span class="op" id="8038013">}</span><span class="op" id="8038014">,</span><br>
<span class="lineno"></span><span class="op" id="8038016">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8038019">func</span>&nbsp;<span class="ident" id="8038024">TestClean</span><span class="op" id="8038033">(</span><span class="ident" id="8038034">t</span>&nbsp;<span class="op" id="8038036">*</span><span class="ident" id="8038037"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8038044">.</span><span class="ident" id="8038045">T</span><span class="op" id="8038046">)</span>&nbsp;<span class="op" id="8038048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038051">for</span>&nbsp;<span class="ident" id="8038055">_</span><span class="op" id="8038056">,</span>&nbsp;<span class="ident" id="8038058">test</span>&nbsp;<span class="op" id="8038063">:=</span>&nbsp;<span class="keyword" id="8038066">range</span>&nbsp;<span class="ident" id="8038072"><a href="/path/path_test.go.html#8036978">cleantests</a></span>&nbsp;<span class="op" id="8038083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038087">if</span>&nbsp;<span class="ident" id="8038090">s</span>&nbsp;<span class="op" id="8038092">:=</span>&nbsp;<span class="ident" id="8038095"><a href="/path/path.go.html#2482326">Clean</a></span><span class="op" id="8038100">(</span><span class="ident" id="8038101"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038105">.</span><span class="ident" id="8038106">path</span><span class="op" id="8038110">)</span><span class="op" id="8038111">;</span>&nbsp;<span class="ident" id="8038113"><a href="/path/path_test.go.html#8038090">s</a></span>&nbsp;<span class="op" id="8038115">!=</span>&nbsp;<span class="ident" id="8038118"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038122">.</span><span class="ident" id="8038123">result</span>&nbsp;<span class="op" id="8038130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038135"><a href="/path/path_test.go.html#8038034">t</a></span><span class="op" id="8038136">.</span><span class="ident" id="8038137">Errorf</span><span class="op" id="8038143">(</span><span class="string" id="8038144">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8038169">,</span>&nbsp;<span class="ident" id="8038171"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038175">.</span><span class="ident" id="8038176">path</span><span class="op" id="8038180">,</span>&nbsp;<span class="ident" id="8038182"><a href="/path/path_test.go.html#8038090">s</a></span><span class="op" id="8038183">,</span>&nbsp;<span class="ident" id="8038185"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038189">.</span><span class="ident" id="8038190">result</span><span class="op" id="8038196">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038204">if</span>&nbsp;<span class="ident" id="8038207">s</span>&nbsp;<span class="op" id="8038209">:=</span>&nbsp;<span class="ident" id="8038212"><a href="/path/path.go.html#2482326">Clean</a></span><span class="op" id="8038217">(</span><span class="ident" id="8038218"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038222">.</span><span class="ident" id="8038223">result</span><span class="op" id="8038229">)</span><span class="op" id="8038230">;</span>&nbsp;<span class="ident" id="8038232"><a href="/path/path_test.go.html#8038207">s</a></span>&nbsp;<span class="op" id="8038234">!=</span>&nbsp;<span class="ident" id="8038237"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038241">.</span><span class="ident" id="8038242">result</span>&nbsp;<span class="op" id="8038249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038254"><a href="/path/path_test.go.html#8038034">t</a></span><span class="op" id="8038255">.</span><span class="ident" id="8038256">Errorf</span><span class="op" id="8038262">(</span><span class="string" id="8038263">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8038288">,</span>&nbsp;<span class="ident" id="8038290"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038294">.</span><span class="ident" id="8038295">result</span><span class="op" id="8038301">,</span>&nbsp;<span class="ident" id="8038303"><a href="/path/path_test.go.html#8038207">s</a></span><span class="op" id="8038304">,</span>&nbsp;<span class="ident" id="8038306"><a href="/path/path_test.go.html#8038058">test</a></span><span class="op" id="8038310">.</span><span class="ident" id="8038311">result</span><span class="op" id="8038317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038324">}</span><br>
<span class="lineno">75</span><span class="op" id="8038326">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8038329">func</span>&nbsp;<span class="ident" id="8038334">TestCleanMallocs</span><span class="op" id="8038350">(</span><span class="ident" id="8038351">t</span>&nbsp;<span class="op" id="8038353">*</span><span class="ident" id="8038354"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8038361">.</span><span class="ident" id="8038362">T</span><span class="op" id="8038363">)</span>&nbsp;<span class="op" id="8038365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038368">if</span>&nbsp;<span class="ident" id="8038371"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8038378">.</span><span class="ident" id="8038379">Short</span><span class="op" id="8038384">(</span><span class="op" id="8038385">)</span>&nbsp;<span class="op" id="8038387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038391"><a href="/path/path_test.go.html#8038351">t</a></span><span class="op" id="8038392">.</span><span class="ident" id="8038393">Skip</span><span class="op" id="8038397">(</span><span class="string" id="8038398">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="8038435">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038441">if</span>&nbsp;<span class="ident" id="8038444"><a href="/path/path_test.go.html#8036903">runtime</a></span><span class="op" id="8038451">.</span><span class="ident" id="8038452">GOMAXPROCS</span><span class="op" id="8038462">(</span><span class="num" id="8038463">0</span><span class="op" id="8038464">)</span>&nbsp;<span class="op" id="8038466">&gt;</span>&nbsp;<span class="num" id="8038468">1</span>&nbsp;<span class="op" id="8038470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038474"><a href="/path/path_test.go.html#8038351">t</a></span><span class="op" id="8038475">.</span><span class="ident" id="8038476">Log</span><span class="op" id="8038479">(</span><span class="string" id="8038480">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="8038524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038528">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038536">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038540">for</span>&nbsp;<span class="ident" id="8038544">_</span><span class="op" id="8038545">,</span>&nbsp;<span class="ident" id="8038547">test</span>&nbsp;<span class="op" id="8038552">:=</span>&nbsp;<span class="keyword" id="8038555">range</span>&nbsp;<span class="ident" id="8038561"><a href="/path/path_test.go.html#8036978">cleantests</a></span>&nbsp;<span class="op" id="8038572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038576">allocs</span>&nbsp;<span class="op" id="8038583">:=</span>&nbsp;<span class="ident" id="8038586"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8038593">.</span><span class="ident" id="8038594">AllocsPerRun</span><span class="op" id="8038606">(</span><span class="num" id="8038607">100</span><span class="op" id="8038610">,</span>&nbsp;<span class="keyword" id="8038612">func</span><span class="op" id="8038616">(</span><span class="op" id="8038617">)</span>&nbsp;<span class="op" id="8038619">{</span>&nbsp;<span class="ident" id="8038621"><a href="/path/path.go.html#2482326">Clean</a></span><span class="op" id="8038626">(</span><span class="ident" id="8038627"><a href="/path/path_test.go.html#8038547">test</a></span><span class="op" id="8038631">.</span><span class="ident" id="8038632">result</span><span class="op" id="8038638">)</span>&nbsp;<span class="op" id="8038640">}</span><span class="op" id="8038641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038645">if</span>&nbsp;<span class="ident" id="8038648"><a href="/path/path_test.go.html#8038576">allocs</a></span>&nbsp;<span class="op" id="8038655">&gt;</span>&nbsp;<span class="num" id="8038657">0</span>&nbsp;<span class="op" id="8038659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038664"><a href="/path/path_test.go.html#8038351">t</a></span><span class="op" id="8038665">.</span><span class="ident" id="8038666">Errorf</span><span class="op" id="8038672">(</span><span class="string" id="8038673">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="8038706">,</span>&nbsp;<span class="ident" id="8038708"><a href="/path/path_test.go.html#8038547">test</a></span><span class="op" id="8038712">.</span><span class="ident" id="8038713">result</span><span class="op" id="8038719">,</span>&nbsp;<span class="ident" id="8038721"><a href="/path/path_test.go.html#8038576">allocs</a></span><span class="op" id="8038727">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038734">}</span><br>
<span class="lineno"></span><span class="op" id="8038736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8038739">type</span>&nbsp;<span class="ident" id="8038744">SplitTest</span>&nbsp;<span class="keyword" id="8038754">struct</span>&nbsp;<span class="op" id="8038761">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8038764">path</span><span class="op" id="8038768">,</span>&nbsp;<span class="ident" id="8038770">dir</span><span class="op" id="8038773">,</span>&nbsp;<span class="ident" id="8038775">file</span>&nbsp;<span class="builtintype" id="8038780">string</span><br>
<span class="lineno"></span><span class="op" id="8038787">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8038790">var</span>&nbsp;<span class="ident" id="8038794">splittests</span>&nbsp;<span class="op" id="8038805">=</span>&nbsp;<span class="op" id="8038807">[</span><span class="op" id="8038808">]</span><span class="ident" id="8038809"><a href="/path/path_test.go.html#8038744">SplitTest</a></span><span class="op" id="8038818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038821">{</span><span class="string" id="8038822">&#34;a/b&#34;</span><span class="op" id="8038827">,</span>&nbsp;<span class="string" id="8038829">&#34;a/&#34;</span><span class="op" id="8038833">,</span>&nbsp;<span class="string" id="8038835">&#34;b&#34;</span><span class="op" id="8038838">}</span><span class="op" id="8038839">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038842">{</span><span class="string" id="8038843">&#34;a/b/&#34;</span><span class="op" id="8038849">,</span>&nbsp;<span class="string" id="8038851">&#34;a/b/&#34;</span><span class="op" id="8038857">,</span>&nbsp;<span class="string" id="8038859">&#34;&#34;</span><span class="op" id="8038861">}</span><span class="op" id="8038862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038865">{</span><span class="string" id="8038866">&#34;a/&#34;</span><span class="op" id="8038870">,</span>&nbsp;<span class="string" id="8038872">&#34;a/&#34;</span><span class="op" id="8038876">,</span>&nbsp;<span class="string" id="8038878">&#34;&#34;</span><span class="op" id="8038880">}</span><span class="op" id="8038881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038884">{</span><span class="string" id="8038885">&#34;a&#34;</span><span class="op" id="8038888">,</span>&nbsp;<span class="string" id="8038890">&#34;&#34;</span><span class="op" id="8038892">,</span>&nbsp;<span class="string" id="8038894">&#34;a&#34;</span><span class="op" id="8038897">}</span><span class="op" id="8038898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8038901">{</span><span class="string" id="8038902">&#34;/&#34;</span><span class="op" id="8038905">,</span>&nbsp;<span class="string" id="8038907">&#34;/&#34;</span><span class="op" id="8038910">,</span>&nbsp;<span class="string" id="8038912">&#34;&#34;</span><span class="op" id="8038914">}</span><span class="op" id="8038915">,</span><br>
<span class="lineno"></span><span class="op" id="8038917">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="8038920">func</span>&nbsp;<span class="ident" id="8038925">TestSplit</span><span class="op" id="8038934">(</span><span class="ident" id="8038935">t</span>&nbsp;<span class="op" id="8038937">*</span><span class="ident" id="8038938"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8038945">.</span><span class="ident" id="8038946">T</span><span class="op" id="8038947">)</span>&nbsp;<span class="op" id="8038949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038952">for</span>&nbsp;<span class="ident" id="8038956">_</span><span class="op" id="8038957">,</span>&nbsp;<span class="ident" id="8038959">test</span>&nbsp;<span class="op" id="8038964">:=</span>&nbsp;<span class="keyword" id="8038967">range</span>&nbsp;<span class="ident" id="8038973"><a href="/path/path_test.go.html#8038794">splittests</a></span>&nbsp;<span class="op" id="8038984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8038988">if</span>&nbsp;<span class="ident" id="8038991">d</span><span class="op" id="8038992">,</span>&nbsp;<span class="ident" id="8038994">f</span>&nbsp;<span class="op" id="8038996">:=</span>&nbsp;<span class="ident" id="8038999"><a href="/path/path.go.html#2483991">Split</a></span><span class="op" id="8039004">(</span><span class="ident" id="8039005"><a href="/path/path_test.go.html#8038959">test</a></span><span class="op" id="8039009">.</span><span class="ident" id="8039010">path</span><span class="op" id="8039014">)</span><span class="op" id="8039015">;</span>&nbsp;<span class="ident" id="8039017"><a href="/path/path_test.go.html#8038991">d</a></span>&nbsp;<span class="op" id="8039019">!=</span>&nbsp;<span class="ident" id="8039022"><a href="/path/path_test.go.html#8038959">test</a></span><span class="op" id="8039026">.</span><span class="ident" id="8039027">dir</span>&nbsp;<span class="op" id="8039031">||</span>&nbsp;<span class="ident" id="8039034"><a href="/path/path_test.go.html#8038994">f</a></span>&nbsp;<span class="op" id="8039036">!=</span>&nbsp;<span class="ident" id="8039039"><a href="/path/path_test.go.html#8038959">test</a></span><span class="op" id="8039043">.</span><span class="ident" id="8039044">file</span>&nbsp;<span class="op" id="8039049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039054"><a href="/path/path_test.go.html#8038935">t</a></span><span class="op" id="8039055">.</span><span class="ident" id="8039056">Errorf</span><span class="op" id="8039062">(</span><span class="string" id="8039063">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="8039096">,</span>&nbsp;<span class="ident" id="8039098"><a href="/path/path_test.go.html#8038959">test</a></span><span class="op" id="8039102">.</span><span class="ident" id="8039103">path</span><span class="op" id="8039107">,</span>&nbsp;<span class="ident" id="8039109"><a href="/path/path_test.go.html#8038991">d</a></span><span class="op" id="8039110">,</span>&nbsp;<span class="ident" id="8039112"><a href="/path/path_test.go.html#8038994">f</a></span><span class="op" id="8039113">,</span>&nbsp;<span class="ident" id="8039115"><a href="/path/path_test.go.html#8038959">test</a></span><span class="op" id="8039119">.</span><span class="ident" id="8039120">dir</span><span class="op" id="8039123">,</span>&nbsp;<span class="ident" id="8039125"><a href="/path/path_test.go.html#8038959">test</a></span><span class="op" id="8039129">.</span><span class="ident" id="8039130">file</span><span class="op" id="8039134">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039141">}</span><br>
<span class="lineno"></span><span class="op" id="8039143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039146">type</span>&nbsp;<span class="ident" id="8039151">JoinTest</span>&nbsp;<span class="keyword" id="8039160">struct</span>&nbsp;<span class="op" id="8039167">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039170">elem</span>&nbsp;<span class="op" id="8039175">[</span><span class="op" id="8039176">]</span><span class="builtintype" id="8039177">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039185">path</span>&nbsp;<span class="builtintype" id="8039190">string</span><br>
<span class="lineno"></span><span class="op" id="8039197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039200">var</span>&nbsp;<span class="ident" id="8039204">jointests</span>&nbsp;<span class="op" id="8039214">=</span>&nbsp;<span class="op" id="8039216">[</span><span class="op" id="8039217">]</span><span class="ident" id="8039218"><a href="/path/path_test.go.html#8039151">JoinTest</a></span><span class="op" id="8039226">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8039229">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039249">{</span><span class="op" id="8039250">[</span><span class="op" id="8039251">]</span><span class="builtintype" id="8039252">string</span><span class="op" id="8039258">{</span><span class="op" id="8039259">}</span><span class="op" id="8039260">,</span>&nbsp;<span class="string" id="8039262">&#34;&#34;</span><span class="op" id="8039264">}</span><span class="op" id="8039265">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8039269">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039287">{</span><span class="op" id="8039288">[</span><span class="op" id="8039289">]</span><span class="builtintype" id="8039290">string</span><span class="op" id="8039296">{</span><span class="string" id="8039297">&#34;&#34;</span><span class="op" id="8039299">}</span><span class="op" id="8039300">,</span>&nbsp;<span class="string" id="8039302">&#34;&#34;</span><span class="op" id="8039304">}</span><span class="op" id="8039305">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039308">{</span><span class="op" id="8039309">[</span><span class="op" id="8039310">]</span><span class="builtintype" id="8039311">string</span><span class="op" id="8039317">{</span><span class="string" id="8039318">&#34;a&#34;</span><span class="op" id="8039321">}</span><span class="op" id="8039322">,</span>&nbsp;<span class="string" id="8039324">&#34;a&#34;</span><span class="op" id="8039327">}</span><span class="op" id="8039328">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8039332">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039351">{</span><span class="op" id="8039352">[</span><span class="op" id="8039353">]</span><span class="builtintype" id="8039354">string</span><span class="op" id="8039360">{</span><span class="string" id="8039361">&#34;a&#34;</span><span class="op" id="8039364">,</span>&nbsp;<span class="string" id="8039366">&#34;b&#34;</span><span class="op" id="8039369">}</span><span class="op" id="8039370">,</span>&nbsp;<span class="string" id="8039372">&#34;a/b&#34;</span><span class="op" id="8039377">}</span><span class="op" id="8039378">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039381">{</span><span class="op" id="8039382">[</span><span class="op" id="8039383">]</span><span class="builtintype" id="8039384">string</span><span class="op" id="8039390">{</span><span class="string" id="8039391">&#34;a&#34;</span><span class="op" id="8039394">,</span>&nbsp;<span class="string" id="8039396">&#34;&#34;</span><span class="op" id="8039398">}</span><span class="op" id="8039399">,</span>&nbsp;<span class="string" id="8039401">&#34;a&#34;</span><span class="op" id="8039404">}</span><span class="op" id="8039405">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039408">{</span><span class="op" id="8039409">[</span><span class="op" id="8039410">]</span><span class="builtintype" id="8039411">string</span><span class="op" id="8039417">{</span><span class="string" id="8039418">&#34;&#34;</span><span class="op" id="8039420">,</span>&nbsp;<span class="string" id="8039422">&#34;b&#34;</span><span class="op" id="8039425">}</span><span class="op" id="8039426">,</span>&nbsp;<span class="string" id="8039428">&#34;b&#34;</span><span class="op" id="8039431">}</span><span class="op" id="8039432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039435">{</span><span class="op" id="8039436">[</span><span class="op" id="8039437">]</span><span class="builtintype" id="8039438">string</span><span class="op" id="8039444">{</span><span class="string" id="8039445">&#34;/&#34;</span><span class="op" id="8039448">,</span>&nbsp;<span class="string" id="8039450">&#34;a&#34;</span><span class="op" id="8039453">}</span><span class="op" id="8039454">,</span>&nbsp;<span class="string" id="8039456">&#34;/a&#34;</span><span class="op" id="8039460">}</span><span class="op" id="8039461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039464">{</span><span class="op" id="8039465">[</span><span class="op" id="8039466">]</span><span class="builtintype" id="8039467">string</span><span class="op" id="8039473">{</span><span class="string" id="8039474">&#34;/&#34;</span><span class="op" id="8039477">,</span>&nbsp;<span class="string" id="8039479">&#34;&#34;</span><span class="op" id="8039481">}</span><span class="op" id="8039482">,</span>&nbsp;<span class="string" id="8039484">&#34;/&#34;</span><span class="op" id="8039487">}</span><span class="op" id="8039488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039491">{</span><span class="op" id="8039492">[</span><span class="op" id="8039493">]</span><span class="builtintype" id="8039494">string</span><span class="op" id="8039500">{</span><span class="string" id="8039501">&#34;a/&#34;</span><span class="op" id="8039505">,</span>&nbsp;<span class="string" id="8039507">&#34;b&#34;</span><span class="op" id="8039510">}</span><span class="op" id="8039511">,</span>&nbsp;<span class="string" id="8039513">&#34;a/b&#34;</span><span class="op" id="8039518">}</span><span class="op" id="8039519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039522">{</span><span class="op" id="8039523">[</span><span class="op" id="8039524">]</span><span class="builtintype" id="8039525">string</span><span class="op" id="8039531">{</span><span class="string" id="8039532">&#34;a/&#34;</span><span class="op" id="8039536">,</span>&nbsp;<span class="string" id="8039538">&#34;&#34;</span><span class="op" id="8039540">}</span><span class="op" id="8039541">,</span>&nbsp;<span class="string" id="8039543">&#34;a&#34;</span><span class="op" id="8039546">}</span><span class="op" id="8039547">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039550">{</span><span class="op" id="8039551">[</span><span class="op" id="8039552">]</span><span class="builtintype" id="8039553">string</span><span class="op" id="8039559">{</span><span class="string" id="8039560">&#34;&#34;</span><span class="op" id="8039562">,</span>&nbsp;<span class="string" id="8039564">&#34;&#34;</span><span class="op" id="8039566">}</span><span class="op" id="8039567">,</span>&nbsp;<span class="string" id="8039569">&#34;&#34;</span><span class="op" id="8039571">}</span><span class="op" id="8039572">,</span><br>
<span class="lineno"></span><span class="op" id="8039574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8039577">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="8039625">func</span>&nbsp;<span class="ident" id="8039630">join</span><span class="op" id="8039634">(</span><span class="ident" id="8039635">elem</span>&nbsp;<span class="op" id="8039640">[</span><span class="op" id="8039641">]</span><span class="builtintype" id="8039642">string</span><span class="op" id="8039648">,</span>&nbsp;<span class="ident" id="8039650">args</span>&nbsp;<span class="op" id="8039655">...</span><span class="builtintype" id="8039658">string</span><span class="op" id="8039664">)</span>&nbsp;<span class="builtintype" id="8039666">string</span>&nbsp;<span class="op" id="8039673">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039676"><a href="/path/path_test.go.html#8039650">args</a></span>&nbsp;<span class="op" id="8039681">=</span>&nbsp;<span class="ident" id="8039683"><a href="/path/path_test.go.html#8039635">elem</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039689">return</span>&nbsp;<span class="ident" id="8039696"><a href="/path/path.go.html#2484282">Join</a></span><span class="op" id="8039700">(</span><span class="ident" id="8039701"><a href="/path/path_test.go.html#8039650">args</a></span><span class="op" id="8039705">...</span><span class="op" id="8039708">)</span><br>
<span class="lineno"></span><span class="op" id="8039710">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039713">func</span>&nbsp;<span class="ident" id="8039718">TestJoin</span><span class="op" id="8039726">(</span><span class="ident" id="8039727">t</span>&nbsp;<span class="op" id="8039729">*</span><span class="ident" id="8039730"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8039737">.</span><span class="ident" id="8039738">T</span><span class="op" id="8039739">)</span>&nbsp;<span class="op" id="8039741">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039744">for</span>&nbsp;<span class="ident" id="8039748">_</span><span class="op" id="8039749">,</span>&nbsp;<span class="ident" id="8039751">test</span>&nbsp;<span class="op" id="8039756">:=</span>&nbsp;<span class="keyword" id="8039759">range</span>&nbsp;<span class="ident" id="8039765"><a href="/path/path_test.go.html#8039204">jointests</a></span>&nbsp;<span class="op" id="8039775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8039779">if</span>&nbsp;<span class="ident" id="8039782">p</span>&nbsp;<span class="op" id="8039784">:=</span>&nbsp;<span class="ident" id="8039787"><a href="/path/path_test.go.html#8039630">join</a></span><span class="op" id="8039791">(</span><span class="ident" id="8039792"><a href="/path/path_test.go.html#8039751">test</a></span><span class="op" id="8039796">.</span><span class="ident" id="8039797">elem</span><span class="op" id="8039801">)</span><span class="op" id="8039802">;</span>&nbsp;<span class="ident" id="8039804"><a href="/path/path_test.go.html#8039782">p</a></span>&nbsp;<span class="op" id="8039806">!=</span>&nbsp;<span class="ident" id="8039809"><a href="/path/path_test.go.html#8039751">test</a></span><span class="op" id="8039813">.</span><span class="ident" id="8039814">path</span>&nbsp;<span class="op" id="8039819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039824"><a href="/path/path_test.go.html#8039727">t</a></span><span class="op" id="8039825">.</span><span class="ident" id="8039826">Errorf</span><span class="op" id="8039832">(</span><span class="string" id="8039833">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8039857">,</span>&nbsp;<span class="ident" id="8039859"><a href="/path/path_test.go.html#8039751">test</a></span><span class="op" id="8039863">.</span><span class="ident" id="8039864">elem</span><span class="op" id="8039868">,</span>&nbsp;<span class="ident" id="8039870"><a href="/path/path_test.go.html#8039782">p</a></span><span class="op" id="8039871">,</span>&nbsp;<span class="ident" id="8039873"><a href="/path/path_test.go.html#8039751">test</a></span><span class="op" id="8039877">.</span><span class="ident" id="8039878">path</span><span class="op" id="8039882">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039886">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039889">}</span><br>
<span class="lineno">150</span><span class="op" id="8039891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8039894">type</span>&nbsp;<span class="ident" id="8039899">ExtTest</span>&nbsp;<span class="keyword" id="8039907">struct</span>&nbsp;<span class="op" id="8039914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8039917">path</span><span class="op" id="8039921">,</span>&nbsp;<span class="ident" id="8039923">ext</span>&nbsp;<span class="builtintype" id="8039927">string</span><br>
<span class="lineno"></span><span class="op" id="8039934">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="8039937">var</span>&nbsp;<span class="ident" id="8039941">exttests</span>&nbsp;<span class="op" id="8039950">=</span>&nbsp;<span class="op" id="8039952">[</span><span class="op" id="8039953">]</span><span class="ident" id="8039954"><a href="/path/path_test.go.html#8039899">ExtTest</a></span><span class="op" id="8039961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039964">{</span><span class="string" id="8039965">&#34;path.go&#34;</span><span class="op" id="8039974">,</span>&nbsp;<span class="string" id="8039976">&#34;.go&#34;</span><span class="op" id="8039981">}</span><span class="op" id="8039982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8039985">{</span><span class="string" id="8039986">&#34;path.pb.go&#34;</span><span class="op" id="8039998">,</span>&nbsp;<span class="string" id="8040000">&#34;.go&#34;</span><span class="op" id="8040005">}</span><span class="op" id="8040006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040009">{</span><span class="string" id="8040010">&#34;a.dir/b&#34;</span><span class="op" id="8040019">,</span>&nbsp;<span class="string" id="8040021">&#34;&#34;</span><span class="op" id="8040023">}</span><span class="op" id="8040024">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040027">{</span><span class="string" id="8040028">&#34;a.dir/b.go&#34;</span><span class="op" id="8040040">,</span>&nbsp;<span class="string" id="8040042">&#34;.go&#34;</span><span class="op" id="8040047">}</span><span class="op" id="8040048">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040051">{</span><span class="string" id="8040052">&#34;a.dir/&#34;</span><span class="op" id="8040060">,</span>&nbsp;<span class="string" id="8040062">&#34;&#34;</span><span class="op" id="8040064">}</span><span class="op" id="8040065">,</span><br>
<span class="lineno"></span><span class="op" id="8040067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040070">func</span>&nbsp;<span class="ident" id="8040075">TestExt</span><span class="op" id="8040082">(</span><span class="ident" id="8040083">t</span>&nbsp;<span class="op" id="8040085">*</span><span class="ident" id="8040086"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8040093">.</span><span class="ident" id="8040094">T</span><span class="op" id="8040095">)</span>&nbsp;<span class="op" id="8040097">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040100">for</span>&nbsp;<span class="ident" id="8040104">_</span><span class="op" id="8040105">,</span>&nbsp;<span class="ident" id="8040107">test</span>&nbsp;<span class="op" id="8040112">:=</span>&nbsp;<span class="keyword" id="8040115">range</span>&nbsp;<span class="ident" id="8040121"><a href="/path/path_test.go.html#8039941">exttests</a></span>&nbsp;<span class="op" id="8040130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040134">if</span>&nbsp;<span class="ident" id="8040137">x</span>&nbsp;<span class="op" id="8040139">:=</span>&nbsp;<span class="ident" id="8040142"><a href="/path/path.go.html#2484619">Ext</a></span><span class="op" id="8040145">(</span><span class="ident" id="8040146"><a href="/path/path_test.go.html#8040107">test</a></span><span class="op" id="8040150">.</span><span class="ident" id="8040151">path</span><span class="op" id="8040155">)</span><span class="op" id="8040156">;</span>&nbsp;<span class="ident" id="8040158"><a href="/path/path_test.go.html#8040137">x</a></span>&nbsp;<span class="op" id="8040160">!=</span>&nbsp;<span class="ident" id="8040163"><a href="/path/path_test.go.html#8040107">test</a></span><span class="op" id="8040167">.</span><span class="ident" id="8040168">ext</span>&nbsp;<span class="op" id="8040172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040177"><a href="/path/path_test.go.html#8040083">t</a></span><span class="op" id="8040178">.</span><span class="ident" id="8040179">Errorf</span><span class="op" id="8040185">(</span><span class="string" id="8040186">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8040209">,</span>&nbsp;<span class="ident" id="8040211"><a href="/path/path_test.go.html#8040107">test</a></span><span class="op" id="8040215">.</span><span class="ident" id="8040216">path</span><span class="op" id="8040220">,</span>&nbsp;<span class="ident" id="8040222"><a href="/path/path_test.go.html#8040137">x</a></span><span class="op" id="8040223">,</span>&nbsp;<span class="ident" id="8040225"><a href="/path/path_test.go.html#8040107">test</a></span><span class="op" id="8040229">.</span><span class="ident" id="8040230">ext</span><span class="op" id="8040233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040240">}</span><br>
<span class="lineno">170</span><span class="op" id="8040242">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040245">var</span>&nbsp;<span class="ident" id="8040249">basetests</span>&nbsp;<span class="op" id="8040259">=</span>&nbsp;<span class="op" id="8040261">[</span><span class="op" id="8040262">]</span><span class="ident" id="8040263"><a href="/path/path_test.go.html#8036932">PathTest</a></span><span class="op" id="8040271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8040274">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040292">{</span><span class="string" id="8040293">&#34;&#34;</span><span class="op" id="8040295">,</span>&nbsp;<span class="string" id="8040297">&#34;.&#34;</span><span class="op" id="8040300">}</span><span class="op" id="8040301">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040304">{</span><span class="string" id="8040305">&#34;.&#34;</span><span class="op" id="8040308">,</span>&nbsp;<span class="string" id="8040310">&#34;.&#34;</span><span class="op" id="8040313">}</span><span class="op" id="8040314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040317">{</span><span class="string" id="8040318">&#34;/.&#34;</span><span class="op" id="8040322">,</span>&nbsp;<span class="string" id="8040324">&#34;.&#34;</span><span class="op" id="8040327">}</span><span class="op" id="8040328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040331">{</span><span class="string" id="8040332">&#34;/&#34;</span><span class="op" id="8040335">,</span>&nbsp;<span class="string" id="8040337">&#34;/&#34;</span><span class="op" id="8040340">}</span><span class="op" id="8040341">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040344">{</span><span class="string" id="8040345">&#34;////&#34;</span><span class="op" id="8040351">,</span>&nbsp;<span class="string" id="8040353">&#34;/&#34;</span><span class="op" id="8040356">}</span><span class="op" id="8040357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040360">{</span><span class="string" id="8040361">&#34;x/&#34;</span><span class="op" id="8040365">,</span>&nbsp;<span class="string" id="8040367">&#34;x&#34;</span><span class="op" id="8040370">}</span><span class="op" id="8040371">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040374">{</span><span class="string" id="8040375">&#34;abc&#34;</span><span class="op" id="8040380">,</span>&nbsp;<span class="string" id="8040382">&#34;abc&#34;</span><span class="op" id="8040387">}</span><span class="op" id="8040388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040391">{</span><span class="string" id="8040392">&#34;abc/def&#34;</span><span class="op" id="8040401">,</span>&nbsp;<span class="string" id="8040403">&#34;def&#34;</span><span class="op" id="8040408">}</span><span class="op" id="8040409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040412">{</span><span class="string" id="8040413">&#34;a/b/.x&#34;</span><span class="op" id="8040421">,</span>&nbsp;<span class="string" id="8040423">&#34;.x&#34;</span><span class="op" id="8040427">}</span><span class="op" id="8040428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040431">{</span><span class="string" id="8040432">&#34;a/b/c.&#34;</span><span class="op" id="8040440">,</span>&nbsp;<span class="string" id="8040442">&#34;c.&#34;</span><span class="op" id="8040446">}</span><span class="op" id="8040447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040450">{</span><span class="string" id="8040451">&#34;a/b/c.x&#34;</span><span class="op" id="8040460">,</span>&nbsp;<span class="string" id="8040462">&#34;c.x&#34;</span><span class="op" id="8040467">}</span><span class="op" id="8040468">,</span><br>
<span class="lineno">185</span><span class="op" id="8040470">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8040473">func</span>&nbsp;<span class="ident" id="8040478">TestBase</span><span class="op" id="8040486">(</span><span class="ident" id="8040487">t</span>&nbsp;<span class="op" id="8040489">*</span><span class="ident" id="8040490"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8040497">.</span><span class="ident" id="8040498">T</span><span class="op" id="8040499">)</span>&nbsp;<span class="op" id="8040501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040504">for</span>&nbsp;<span class="ident" id="8040508">_</span><span class="op" id="8040509">,</span>&nbsp;<span class="ident" id="8040511">test</span>&nbsp;<span class="op" id="8040516">:=</span>&nbsp;<span class="keyword" id="8040519">range</span>&nbsp;<span class="ident" id="8040525"><a href="/path/path_test.go.html#8040249">basetests</a></span>&nbsp;<span class="op" id="8040535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040539">if</span>&nbsp;<span class="ident" id="8040542">s</span>&nbsp;<span class="op" id="8040544">:=</span>&nbsp;<span class="ident" id="8040547"><a href="/path/path.go.html#2484985">Base</a></span><span class="op" id="8040551">(</span><span class="ident" id="8040552"><a href="/path/path_test.go.html#8040511">test</a></span><span class="op" id="8040556">.</span><span class="ident" id="8040557">path</span><span class="op" id="8040561">)</span><span class="op" id="8040562">;</span>&nbsp;<span class="ident" id="8040564"><a href="/path/path_test.go.html#8040542">s</a></span>&nbsp;<span class="op" id="8040566">!=</span>&nbsp;<span class="ident" id="8040569"><a href="/path/path_test.go.html#8040511">test</a></span><span class="op" id="8040573">.</span><span class="ident" id="8040574">result</span>&nbsp;<span class="op" id="8040581">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8040586"><a href="/path/path_test.go.html#8040487">t</a></span><span class="op" id="8040587">.</span><span class="ident" id="8040588">Errorf</span><span class="op" id="8040594">(</span><span class="string" id="8040595">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8040619">,</span>&nbsp;<span class="ident" id="8040621"><a href="/path/path_test.go.html#8040511">test</a></span><span class="op" id="8040625">.</span><span class="ident" id="8040626">path</span><span class="op" id="8040630">,</span>&nbsp;<span class="ident" id="8040632"><a href="/path/path_test.go.html#8040542">s</a></span><span class="op" id="8040633">,</span>&nbsp;<span class="ident" id="8040635"><a href="/path/path_test.go.html#8040511">test</a></span><span class="op" id="8040639">.</span><span class="ident" id="8040640">result</span><span class="op" id="8040646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040653">}</span><br>
<span class="lineno"></span><span class="op" id="8040655">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="8040658">var</span>&nbsp;<span class="ident" id="8040662">dirtests</span>&nbsp;<span class="op" id="8040671">=</span>&nbsp;<span class="op" id="8040673">[</span><span class="op" id="8040674">]</span><span class="ident" id="8040675"><a href="/path/path_test.go.html#8036932">PathTest</a></span><span class="op" id="8040683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040686">{</span><span class="string" id="8040687">&#34;&#34;</span><span class="op" id="8040689">,</span>&nbsp;<span class="string" id="8040691">&#34;.&#34;</span><span class="op" id="8040694">}</span><span class="op" id="8040695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040698">{</span><span class="string" id="8040699">&#34;.&#34;</span><span class="op" id="8040702">,</span>&nbsp;<span class="string" id="8040704">&#34;.&#34;</span><span class="op" id="8040707">}</span><span class="op" id="8040708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040711">{</span><span class="string" id="8040712">&#34;/.&#34;</span><span class="op" id="8040716">,</span>&nbsp;<span class="string" id="8040718">&#34;/&#34;</span><span class="op" id="8040721">}</span><span class="op" id="8040722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040725">{</span><span class="string" id="8040726">&#34;/&#34;</span><span class="op" id="8040729">,</span>&nbsp;<span class="string" id="8040731">&#34;/&#34;</span><span class="op" id="8040734">}</span><span class="op" id="8040735">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040738">{</span><span class="string" id="8040739">&#34;////&#34;</span><span class="op" id="8040745">,</span>&nbsp;<span class="string" id="8040747">&#34;/&#34;</span><span class="op" id="8040750">}</span><span class="op" id="8040751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040754">{</span><span class="string" id="8040755">&#34;/foo&#34;</span><span class="op" id="8040761">,</span>&nbsp;<span class="string" id="8040763">&#34;/&#34;</span><span class="op" id="8040766">}</span><span class="op" id="8040767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040770">{</span><span class="string" id="8040771">&#34;x/&#34;</span><span class="op" id="8040775">,</span>&nbsp;<span class="string" id="8040777">&#34;x&#34;</span><span class="op" id="8040780">}</span><span class="op" id="8040781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040784">{</span><span class="string" id="8040785">&#34;abc&#34;</span><span class="op" id="8040790">,</span>&nbsp;<span class="string" id="8040792">&#34;.&#34;</span><span class="op" id="8040795">}</span><span class="op" id="8040796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040799">{</span><span class="string" id="8040800">&#34;abc/def&#34;</span><span class="op" id="8040809">,</span>&nbsp;<span class="string" id="8040811">&#34;abc&#34;</span><span class="op" id="8040816">}</span><span class="op" id="8040817">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040820">{</span><span class="string" id="8040821">&#34;abc////def&#34;</span><span class="op" id="8040833">,</span>&nbsp;<span class="string" id="8040835">&#34;abc&#34;</span><span class="op" id="8040840">}</span><span class="op" id="8040841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040844">{</span><span class="string" id="8040845">&#34;a/b/.x&#34;</span><span class="op" id="8040853">,</span>&nbsp;<span class="string" id="8040855">&#34;a/b&#34;</span><span class="op" id="8040860">}</span><span class="op" id="8040861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040864">{</span><span class="string" id="8040865">&#34;a/b/c.&#34;</span><span class="op" id="8040873">,</span>&nbsp;<span class="string" id="8040875">&#34;a/b&#34;</span><span class="op" id="8040880">}</span><span class="op" id="8040881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8040884">{</span><span class="string" id="8040885">&#34;a/b/c.x&#34;</span><span class="op" id="8040894">,</span>&nbsp;<span class="string" id="8040896">&#34;a/b&#34;</span><span class="op" id="8040901">}</span><span class="op" id="8040902">,</span><br>
<span class="lineno"></span><span class="op" id="8040904">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="8040907">func</span>&nbsp;<span class="ident" id="8040912">TestDir</span><span class="op" id="8040919">(</span><span class="ident" id="8040920">t</span>&nbsp;<span class="op" id="8040922">*</span><span class="ident" id="8040923"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8040930">.</span><span class="ident" id="8040931">T</span><span class="op" id="8040932">)</span>&nbsp;<span class="op" id="8040934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040937">for</span>&nbsp;<span class="ident" id="8040941">_</span><span class="op" id="8040942">,</span>&nbsp;<span class="ident" id="8040944">test</span>&nbsp;<span class="op" id="8040949">:=</span>&nbsp;<span class="keyword" id="8040952">range</span>&nbsp;<span class="ident" id="8040958"><a href="/path/path_test.go.html#8040662">dirtests</a></span>&nbsp;<span class="op" id="8040967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8040971">if</span>&nbsp;<span class="ident" id="8040974">s</span>&nbsp;<span class="op" id="8040976">:=</span>&nbsp;<span class="ident" id="8040979"><a href="/path/path.go.html#2485865">Dir</a></span><span class="op" id="8040982">(</span><span class="ident" id="8040983"><a href="/path/path_test.go.html#8040944">test</a></span><span class="op" id="8040987">.</span><span class="ident" id="8040988">path</span><span class="op" id="8040992">)</span><span class="op" id="8040993">;</span>&nbsp;<span class="ident" id="8040995"><a href="/path/path_test.go.html#8040974">s</a></span>&nbsp;<span class="op" id="8040997">!=</span>&nbsp;<span class="ident" id="8041000"><a href="/path/path_test.go.html#8040944">test</a></span><span class="op" id="8041004">.</span><span class="ident" id="8041005">result</span>&nbsp;<span class="op" id="8041012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041017"><a href="/path/path_test.go.html#8040920">t</a></span><span class="op" id="8041018">.</span><span class="ident" id="8041019">Errorf</span><span class="op" id="8041025">(</span><span class="string" id="8041026">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8041049">,</span>&nbsp;<span class="ident" id="8041051"><a href="/path/path_test.go.html#8040944">test</a></span><span class="op" id="8041055">.</span><span class="ident" id="8041056">path</span><span class="op" id="8041060">,</span>&nbsp;<span class="ident" id="8041062"><a href="/path/path_test.go.html#8040974">s</a></span><span class="op" id="8041063">,</span>&nbsp;<span class="ident" id="8041065"><a href="/path/path_test.go.html#8040944">test</a></span><span class="op" id="8041069">.</span><span class="ident" id="8041070">result</span><span class="op" id="8041076">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041083">}</span><br>
<span class="lineno"></span><span class="op" id="8041085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041088">type</span>&nbsp;<span class="ident" id="8041093">IsAbsTest</span>&nbsp;<span class="keyword" id="8041103">struct</span>&nbsp;<span class="op" id="8041110">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041113">path</span>&nbsp;&nbsp;<span class="builtintype" id="8041119">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041127">isAbs</span>&nbsp;<span class="builtintype" id="8041133">bool</span><br>
<span class="lineno"></span><span class="op" id="8041138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8041141">var</span>&nbsp;<span class="ident" id="8041145">isAbsTests</span>&nbsp;<span class="op" id="8041156">=</span>&nbsp;<span class="op" id="8041158">[</span><span class="op" id="8041159">]</span><span class="ident" id="8041160"><a href="/path/path_test.go.html#8041093">IsAbsTest</a></span><span class="op" id="8041169">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041172">{</span><span class="string" id="8041173">&#34;&#34;</span><span class="op" id="8041175">,</span>&nbsp;<span class="builtintype" id="8041177">false</span><span class="op" id="8041182">}</span><span class="op" id="8041183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041186">{</span><span class="string" id="8041187">&#34;/&#34;</span><span class="op" id="8041190">,</span>&nbsp;<span class="builtintype" id="8041192">true</span><span class="op" id="8041196">}</span><span class="op" id="8041197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041200">{</span><span class="string" id="8041201">&#34;/usr/bin/gcc&#34;</span><span class="op" id="8041215">,</span>&nbsp;<span class="builtintype" id="8041217">true</span><span class="op" id="8041221">}</span><span class="op" id="8041222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041225">{</span><span class="string" id="8041226">&#34;..&#34;</span><span class="op" id="8041230">,</span>&nbsp;<span class="builtintype" id="8041232">false</span><span class="op" id="8041237">}</span><span class="op" id="8041238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041241">{</span><span class="string" id="8041242">&#34;/a/../bb&#34;</span><span class="op" id="8041252">,</span>&nbsp;<span class="builtintype" id="8041254">true</span><span class="op" id="8041258">}</span><span class="op" id="8041259">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041262">{</span><span class="string" id="8041263">&#34;.&#34;</span><span class="op" id="8041266">,</span>&nbsp;<span class="builtintype" id="8041268">false</span><span class="op" id="8041273">}</span><span class="op" id="8041274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041277">{</span><span class="string" id="8041278">&#34;./&#34;</span><span class="op" id="8041282">,</span>&nbsp;<span class="builtintype" id="8041284">false</span><span class="op" id="8041289">}</span><span class="op" id="8041290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041293">{</span><span class="string" id="8041294">&#34;lala&#34;</span><span class="op" id="8041300">,</span>&nbsp;<span class="builtintype" id="8041302">false</span><span class="op" id="8041307">}</span><span class="op" id="8041308">,</span><br>
<span class="lineno"></span><span class="op" id="8041310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="8041313">func</span>&nbsp;<span class="ident" id="8041318">TestIsAbs</span><span class="op" id="8041327">(</span><span class="ident" id="8041328">t</span>&nbsp;<span class="op" id="8041330">*</span><span class="ident" id="8041331"><a href="/path/path_test.go.html#8036914">testing</a></span><span class="op" id="8041338">.</span><span class="ident" id="8041339">T</span><span class="op" id="8041340">)</span>&nbsp;<span class="op" id="8041342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041345">for</span>&nbsp;<span class="ident" id="8041349">_</span><span class="op" id="8041350">,</span>&nbsp;<span class="ident" id="8041352">test</span>&nbsp;<span class="op" id="8041357">:=</span>&nbsp;<span class="keyword" id="8041360">range</span>&nbsp;<span class="ident" id="8041366"><a href="/path/path_test.go.html#8041145">isAbsTests</a></span>&nbsp;<span class="op" id="8041377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8041381">if</span>&nbsp;<span class="ident" id="8041384">r</span>&nbsp;<span class="op" id="8041386">:=</span>&nbsp;<span class="ident" id="8041389"><a href="/path/path.go.html#2485393">IsAbs</a></span><span class="op" id="8041394">(</span><span class="ident" id="8041395"><a href="/path/path_test.go.html#8041352">test</a></span><span class="op" id="8041399">.</span><span class="ident" id="8041400">path</span><span class="op" id="8041404">)</span><span class="op" id="8041405">;</span>&nbsp;<span class="ident" id="8041407"><a href="/path/path_test.go.html#8041384">r</a></span>&nbsp;<span class="op" id="8041409">!=</span>&nbsp;<span class="ident" id="8041412"><a href="/path/path_test.go.html#8041352">test</a></span><span class="op" id="8041416">.</span><span class="ident" id="8041417">isAbs</span>&nbsp;<span class="op" id="8041423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8041428"><a href="/path/path_test.go.html#8041328">t</a></span><span class="op" id="8041429">.</span><span class="ident" id="8041430">Errorf</span><span class="op" id="8041436">(</span><span class="string" id="8041437">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8041462">,</span>&nbsp;<span class="ident" id="8041464"><a href="/path/path_test.go.html#8041352">test</a></span><span class="op" id="8041468">.</span><span class="ident" id="8041469">path</span><span class="op" id="8041473">,</span>&nbsp;<span class="ident" id="8041475"><a href="/path/path_test.go.html#8041384">r</a></span><span class="op" id="8041476">,</span>&nbsp;<span class="ident" id="8041478"><a href="/path/path_test.go.html#8041352">test</a></span><span class="op" id="8041482">.</span><span class="ident" id="8041483">isAbs</span><span class="op" id="8041488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041492">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8041495">}</span><br>
<span class="lineno"></span><span class="op" id="8041497">}</span>
</div>
</body>
</html>
