<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc32</h2>
<ul>
<li><a href="/gostd/hash/crc32/crc32.go.html">crc32.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_amd64x.go.html">crc32_amd64x.go</a></li>
<li><a href="/gostd/hash/crc32/crc32_test.go.html">crc32_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7669359">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7669414">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7669468">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7669519">package</span>&nbsp;<span class="ident" id="7669527">crc32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7669534">import</span>&nbsp;<span class="op" id="7669541">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669544">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669550">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7669560">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7669563">type</span>&nbsp;<span class="ident" id="7669568">test</span>&nbsp;<span class="keyword" id="7669573">struct</span>&nbsp;<span class="op" id="7669580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669583">ieee</span><span class="op" id="7669587">,</span>&nbsp;<span class="ident" id="7669589">castagnoli</span>&nbsp;<span class="builtintype" id="7669600">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669608">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7669625">string</span><br>
<span class="lineno">15</span><span class="op" id="7669632">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7669635">var</span>&nbsp;<span class="ident" id="7669639">golden</span>&nbsp;<span class="op" id="7669646">=</span>&nbsp;<span class="op" id="7669648">[</span><span class="op" id="7669649">]</span><span class="ident" id="7669650">test</span><span class="op" id="7669654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669657">{</span><span class="num" id="7669658">0x0</span><span class="op" id="7669661">,</span>&nbsp;<span class="num" id="7669663">0x0</span><span class="op" id="7669666">,</span>&nbsp;<span class="string" id="7669668">&#34;&#34;</span><span class="op" id="7669670">}</span><span class="op" id="7669671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669674">{</span><span class="num" id="7669675">0xe8b7be43</span><span class="op" id="7669685">,</span>&nbsp;<span class="num" id="7669687">0xc1d04330</span><span class="op" id="7669697">,</span>&nbsp;<span class="string" id="7669699">&#34;a&#34;</span><span class="op" id="7669702">}</span><span class="op" id="7669703">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669706">{</span><span class="num" id="7669707">0x9e83486d</span><span class="op" id="7669717">,</span>&nbsp;<span class="num" id="7669719">0xe2a22936</span><span class="op" id="7669729">,</span>&nbsp;<span class="string" id="7669731">&#34;ab&#34;</span><span class="op" id="7669735">}</span><span class="op" id="7669736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669739">{</span><span class="num" id="7669740">0x352441c2</span><span class="op" id="7669750">,</span>&nbsp;<span class="num" id="7669752">0x364b3fb7</span><span class="op" id="7669762">,</span>&nbsp;<span class="string" id="7669764">&#34;abc&#34;</span><span class="op" id="7669769">}</span><span class="op" id="7669770">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669773">{</span><span class="num" id="7669774">0xed82cd11</span><span class="op" id="7669784">,</span>&nbsp;<span class="num" id="7669786">0x92c80a31</span><span class="op" id="7669796">,</span>&nbsp;<span class="string" id="7669798">&#34;abcd&#34;</span><span class="op" id="7669804">}</span><span class="op" id="7669805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669808">{</span><span class="num" id="7669809">0x8587d865</span><span class="op" id="7669819">,</span>&nbsp;<span class="num" id="7669821">0xc450d697</span><span class="op" id="7669831">,</span>&nbsp;<span class="string" id="7669833">&#34;abcde&#34;</span><span class="op" id="7669840">}</span><span class="op" id="7669841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669844">{</span><span class="num" id="7669845">0x4b8e39ef</span><span class="op" id="7669855">,</span>&nbsp;<span class="num" id="7669857">0x53bceff1</span><span class="op" id="7669867">,</span>&nbsp;<span class="string" id="7669869">&#34;abcdef&#34;</span><span class="op" id="7669877">}</span><span class="op" id="7669878">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669881">{</span><span class="num" id="7669882">0x312a6aa6</span><span class="op" id="7669892">,</span>&nbsp;<span class="num" id="7669894">0xe627f441</span><span class="op" id="7669904">,</span>&nbsp;<span class="string" id="7669906">&#34;abcdefg&#34;</span><span class="op" id="7669915">}</span><span class="op" id="7669916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669919">{</span><span class="num" id="7669920">0xaeef2a50</span><span class="op" id="7669930">,</span>&nbsp;<span class="num" id="7669932">0xa9421b7</span><span class="op" id="7669941">,</span>&nbsp;<span class="string" id="7669943">&#34;abcdefgh&#34;</span><span class="op" id="7669953">}</span><span class="op" id="7669954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669957">{</span><span class="num" id="7669958">0x8da988af</span><span class="op" id="7669968">,</span>&nbsp;<span class="num" id="7669970">0x2ddc99fc</span><span class="op" id="7669980">,</span>&nbsp;<span class="string" id="7669982">&#34;abcdefghi&#34;</span><span class="op" id="7669993">}</span><span class="op" id="7669994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669997">{</span><span class="num" id="7669998">0x3981703a</span><span class="op" id="7670008">,</span>&nbsp;<span class="num" id="7670010">0xe6599437</span><span class="op" id="7670020">,</span>&nbsp;<span class="string" id="7670022">&#34;abcdefghij&#34;</span><span class="op" id="7670034">}</span><span class="op" id="7670035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670038">{</span><span class="num" id="7670039">0x6b9cdfe7</span><span class="op" id="7670049">,</span>&nbsp;<span class="num" id="7670051">0xb2cc01fe</span><span class="op" id="7670061">,</span>&nbsp;<span class="string" id="7670063">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="7670106">}</span><span class="op" id="7670107">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670110">{</span><span class="num" id="7670111">0xc90ef73f</span><span class="op" id="7670121">,</span>&nbsp;<span class="num" id="7670123">0xe28207f</span><span class="op" id="7670132">,</span>&nbsp;<span class="string" id="7670134">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="7670193">}</span><span class="op" id="7670194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670197">{</span><span class="num" id="7670198">0xb902341f</span><span class="op" id="7670208">,</span>&nbsp;<span class="num" id="7670210">0xbe93f964</span><span class="op" id="7670220">,</span>&nbsp;<span class="string" id="7670222">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="7670266">}</span><span class="op" id="7670267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670270">{</span><span class="num" id="7670271">0x42080e8</span><span class="op" id="7670280">,</span>&nbsp;<span class="num" id="7670282">0x9e3be0c3</span><span class="op" id="7670292">,</span>&nbsp;<span class="string" id="7670294">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="7670353">}</span><span class="op" id="7670354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670357">{</span><span class="num" id="7670358">0x154c6d11</span><span class="op" id="7670368">,</span>&nbsp;<span class="num" id="7670370">0xf505ef04</span><span class="op" id="7670380">,</span>&nbsp;<span class="string" id="7670382">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="7670442">}</span><span class="op" id="7670443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670446">{</span><span class="num" id="7670447">0x4c418325</span><span class="op" id="7670457">,</span>&nbsp;<span class="num" id="7670459">0x85d3dc82</span><span class="op" id="7670469">,</span>&nbsp;<span class="string" id="7670471">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="7670500">}</span><span class="op" id="7670501">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670504">{</span><span class="num" id="7670505">0x33955150</span><span class="op" id="7670515">,</span>&nbsp;<span class="num" id="7670517">0xc5142380</span><span class="op" id="7670527">,</span>&nbsp;<span class="string" id="7670529">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="7670598">}</span><span class="op" id="7670599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670602">{</span><span class="num" id="7670603">0x26216a4b</span><span class="op" id="7670613">,</span>&nbsp;<span class="num" id="7670615">0x75eb77dd</span><span class="op" id="7670625">,</span>&nbsp;<span class="string" id="7670627">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="7670686">}</span><span class="op" id="7670687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670690">{</span><span class="num" id="7670691">0x1abbe45e</span><span class="op" id="7670701">,</span>&nbsp;<span class="num" id="7670703">0x91ebe9f7</span><span class="op" id="7670713">,</span>&nbsp;<span class="string" id="7670715">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="7670805">}</span><span class="op" id="7670806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670809">{</span><span class="num" id="7670810">0xc89a94f7</span><span class="op" id="7670820">,</span>&nbsp;<span class="num" id="7670822">0xf0b1168e</span><span class="op" id="7670832">,</span>&nbsp;<span class="string" id="7670834">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="7670911">}</span><span class="op" id="7670912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670915">{</span><span class="num" id="7670916">0xab3abe14</span><span class="op" id="7670926">,</span>&nbsp;<span class="num" id="7670928">0x572b74e2</span><span class="op" id="7670938">,</span>&nbsp;<span class="string" id="7670940">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="7670966">}</span><span class="op" id="7670967">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7670970">{</span><span class="num" id="7670971">0xbab102b6</span><span class="op" id="7670981">,</span>&nbsp;<span class="num" id="7670983">0x8a58a6d5</span><span class="op" id="7670993">,</span>&nbsp;<span class="string" id="7670995">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="7671046">}</span><span class="op" id="7671047">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671050">{</span><span class="num" id="7671051">0x999149d7</span><span class="op" id="7671061">,</span>&nbsp;<span class="num" id="7671063">0x9c426c50</span><span class="op" id="7671073">,</span>&nbsp;<span class="string" id="7671075">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="7671149">}</span><span class="op" id="7671150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671153">{</span><span class="num" id="7671154">0x6d52a33c</span><span class="op" id="7671164">,</span>&nbsp;<span class="num" id="7671166">0x735400a4</span><span class="op" id="7671176">,</span>&nbsp;<span class="string" id="7671178">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="7671226">}</span><span class="op" id="7671227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671230">{</span><span class="num" id="7671231">0x90631e8d</span><span class="op" id="7671241">,</span>&nbsp;<span class="num" id="7671243">0xbec49c95</span><span class="op" id="7671253">,</span>&nbsp;<span class="string" id="7671255">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="7671327">}</span><span class="op" id="7671328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671331">{</span><span class="num" id="7671332">0x78309130</span><span class="op" id="7671342">,</span>&nbsp;<span class="num" id="7671344">0xa95a2079</span><span class="op" id="7671354">,</span>&nbsp;<span class="string" id="7671356">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="7671426">}</span><span class="op" id="7671427">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671430">{</span><span class="num" id="7671431">0x7d0a377f</span><span class="op" id="7671441">,</span>&nbsp;<span class="num" id="7671443">0xde2e65c5</span><span class="op" id="7671453">,</span>&nbsp;<span class="string" id="7671455">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="7671489">}</span><span class="op" id="7671490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671493">{</span><span class="num" id="7671494">0x8c79fd79</span><span class="op" id="7671504">,</span>&nbsp;<span class="num" id="7671506">0x297a88ed</span><span class="op" id="7671516">,</span>&nbsp;<span class="string" id="7671518">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="7671608">}</span><span class="op" id="7671609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671612">{</span><span class="num" id="7671613">0xa20b7167</span><span class="op" id="7671623">,</span>&nbsp;<span class="num" id="7671625">0x66ed1d8b</span><span class="op" id="7671635">,</span>&nbsp;<span class="string" id="7671637">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="7671771">}</span><span class="op" id="7671772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671775">{</span><span class="num" id="7671776">0x8e0bb443</span><span class="op" id="7671786">,</span>&nbsp;<span class="num" id="7671788">0xdcded527</span><span class="op" id="7671798">,</span>&nbsp;<span class="string" id="7671800">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="7671858">}</span><span class="op" id="7671859">,</span><br>
<span class="lineno"></span><span class="op" id="7671861">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="7671864">func</span>&nbsp;<span class="ident" id="7671869">TestGolden</span><span class="op" id="7671879">(</span><span class="ident" id="7671880">t</span>&nbsp;<span class="op" id="7671882">*</span><span class="ident" id="7671883">testing</span><span class="op" id="7671890">.</span><span class="ident" id="7671891">T</span><span class="op" id="7671892">)</span>&nbsp;<span class="op" id="7671894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671897">castagnoliTab</span>&nbsp;<span class="op" id="7671911">:=</span>&nbsp;<span class="ident" id="7671914">MakeTable</span><span class="op" id="7671923">(</span><span class="ident" id="7671924">Castagnoli</span><span class="op" id="7671934">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671938">for</span>&nbsp;<span class="ident" id="7671942">_</span><span class="op" id="7671943">,</span>&nbsp;<span class="ident" id="7671945">g</span>&nbsp;<span class="op" id="7671947">:=</span>&nbsp;<span class="keyword" id="7671950">range</span>&nbsp;<span class="ident" id="7671956">golden</span>&nbsp;<span class="op" id="7671963">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671967">ieee</span>&nbsp;<span class="op" id="7671972">:=</span>&nbsp;<span class="ident" id="7671975">NewIEEE</span><span class="op" id="7671982">(</span><span class="op" id="7671983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671987">io</span><span class="op" id="7671989">.</span><span class="ident" id="7671990">WriteString</span><span class="op" id="7672001">(</span><span class="ident" id="7672002">ieee</span><span class="op" id="7672006">,</span>&nbsp;<span class="ident" id="7672008">g</span><span class="op" id="7672009">.</span><span class="ident" id="7672010">in</span><span class="op" id="7672012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672016">s</span>&nbsp;<span class="op" id="7672018">:=</span>&nbsp;<span class="ident" id="7672021">ieee</span><span class="op" id="7672025">.</span><span class="ident" id="7672026">Sum32</span><span class="op" id="7672031">(</span><span class="op" id="7672032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672036">if</span>&nbsp;<span class="ident" id="7672039">s</span>&nbsp;<span class="op" id="7672041">!=</span>&nbsp;<span class="ident" id="7672044">g</span><span class="op" id="7672045">.</span><span class="ident" id="7672046">ieee</span>&nbsp;<span class="op" id="7672051">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672056">t</span><span class="op" id="7672057">.</span><span class="ident" id="7672058">Errorf</span><span class="op" id="7672064">(</span><span class="string" id="7672065">&#34;IEEE(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7672092">,</span>&nbsp;<span class="ident" id="7672094">g</span><span class="op" id="7672095">.</span><span class="ident" id="7672096">in</span><span class="op" id="7672098">,</span>&nbsp;<span class="ident" id="7672100">s</span><span class="op" id="7672101">,</span>&nbsp;<span class="ident" id="7672103">g</span><span class="op" id="7672104">.</span><span class="ident" id="7672105">ieee</span><span class="op" id="7672109">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672118">castagnoli</span>&nbsp;<span class="op" id="7672129">:=</span>&nbsp;<span class="ident" id="7672132">New</span><span class="op" id="7672135">(</span><span class="ident" id="7672136">castagnoliTab</span><span class="op" id="7672149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672153">io</span><span class="op" id="7672155">.</span><span class="ident" id="7672156">WriteString</span><span class="op" id="7672167">(</span><span class="ident" id="7672168">castagnoli</span><span class="op" id="7672178">,</span>&nbsp;<span class="ident" id="7672180">g</span><span class="op" id="7672181">.</span><span class="ident" id="7672182">in</span><span class="op" id="7672184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672188">s</span>&nbsp;<span class="op" id="7672190">=</span>&nbsp;<span class="ident" id="7672192">castagnoli</span><span class="op" id="7672202">.</span><span class="ident" id="7672203">Sum32</span><span class="op" id="7672208">(</span><span class="op" id="7672209">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672213">if</span>&nbsp;<span class="ident" id="7672216">s</span>&nbsp;<span class="op" id="7672218">!=</span>&nbsp;<span class="ident" id="7672221">g</span><span class="op" id="7672222">.</span><span class="ident" id="7672223">castagnoli</span>&nbsp;<span class="op" id="7672234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672239">t</span><span class="op" id="7672240">.</span><span class="ident" id="7672241">Errorf</span><span class="op" id="7672247">(</span><span class="string" id="7672248">&#34;Castagnoli(%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7672281">,</span>&nbsp;<span class="ident" id="7672283">g</span><span class="op" id="7672284">.</span><span class="ident" id="7672285">in</span><span class="op" id="7672287">,</span>&nbsp;<span class="ident" id="7672289">s</span><span class="op" id="7672290">,</span>&nbsp;<span class="ident" id="7672292">g</span><span class="op" id="7672293">.</span><span class="ident" id="7672294">castagnoli</span><span class="op" id="7672304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672313">if</span>&nbsp;<span class="builtinfunc" id="7672316">len</span><span class="op" id="7672319">(</span><span class="ident" id="7672320">g</span><span class="op" id="7672321">.</span><span class="ident" id="7672322">in</span><span class="op" id="7672324">)</span>&nbsp;<span class="op" id="7672326">&gt;</span>&nbsp;<span class="num" id="7672328">0</span>&nbsp;<span class="op" id="7672330">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7672335">//&nbsp;The&nbsp;SSE4.2&nbsp;implementation&nbsp;of&nbsp;this&nbsp;has&nbsp;code&nbsp;to&nbsp;deal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7672392">//&nbsp;with&nbsp;misaligned&nbsp;data&nbsp;so&nbsp;we&nbsp;ensure&nbsp;that&nbsp;we&nbsp;test&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7672450">//&nbsp;too.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672461">castagnoli</span>&nbsp;<span class="op" id="7672472">=</span>&nbsp;<span class="ident" id="7672474">New</span><span class="op" id="7672477">(</span><span class="ident" id="7672478">castagnoliTab</span><span class="op" id="7672491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672496">io</span><span class="op" id="7672498">.</span><span class="ident" id="7672499">WriteString</span><span class="op" id="7672510">(</span><span class="ident" id="7672511">castagnoli</span><span class="op" id="7672521">,</span>&nbsp;<span class="ident" id="7672523">g</span><span class="op" id="7672524">.</span><span class="ident" id="7672525">in</span><span class="op" id="7672527">[</span><span class="op" id="7672528">:</span><span class="num" id="7672529">1</span><span class="op" id="7672530">]</span><span class="op" id="7672531">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672536">io</span><span class="op" id="7672538">.</span><span class="ident" id="7672539">WriteString</span><span class="op" id="7672550">(</span><span class="ident" id="7672551">castagnoli</span><span class="op" id="7672561">,</span>&nbsp;<span class="ident" id="7672563">g</span><span class="op" id="7672564">.</span><span class="ident" id="7672565">in</span><span class="op" id="7672567">[</span><span class="num" id="7672568">1</span><span class="op" id="7672569">:</span><span class="op" id="7672570">]</span><span class="op" id="7672571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672576">s</span>&nbsp;<span class="op" id="7672578">=</span>&nbsp;<span class="ident" id="7672580">castagnoli</span><span class="op" id="7672590">.</span><span class="ident" id="7672591">Sum32</span><span class="op" id="7672596">(</span><span class="op" id="7672597">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672602">if</span>&nbsp;<span class="ident" id="7672605">s</span>&nbsp;<span class="op" id="7672607">!=</span>&nbsp;<span class="ident" id="7672610">g</span><span class="op" id="7672611">.</span><span class="ident" id="7672612">castagnoli</span>&nbsp;<span class="op" id="7672623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672629">t</span><span class="op" id="7672630">.</span><span class="ident" id="7672631">Errorf</span><span class="op" id="7672637">(</span><span class="string" id="7672638">&#34;Castagnoli[misaligned](%s)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="7672683">,</span>&nbsp;<span class="ident" id="7672685">g</span><span class="op" id="7672686">.</span><span class="ident" id="7672687">in</span><span class="op" id="7672689">,</span>&nbsp;<span class="ident" id="7672691">s</span><span class="op" id="7672692">,</span>&nbsp;<span class="ident" id="7672694">g</span><span class="op" id="7672695">.</span><span class="ident" id="7672696">castagnoli</span><span class="op" id="7672706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672711">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672718">}</span><br>
<span class="lineno"></span><span class="op" id="7672720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7672723">func</span>&nbsp;<span class="ident" id="7672728">BenchmarkCrc32KB</span><span class="op" id="7672744">(</span><span class="ident" id="7672745">b</span>&nbsp;<span class="op" id="7672747">*</span><span class="ident" id="7672748">testing</span><span class="op" id="7672755">.</span><span class="ident" id="7672756">B</span><span class="op" id="7672757">)</span>&nbsp;<span class="op" id="7672759">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672762">b</span><span class="op" id="7672763">.</span><span class="ident" id="7672764">SetBytes</span><span class="op" id="7672772">(</span><span class="num" id="7672773">1024</span><span class="op" id="7672777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672780">data</span>&nbsp;<span class="op" id="7672785">:=</span>&nbsp;<span class="builtinfunc" id="7672788">make</span><span class="op" id="7672792">(</span><span class="op" id="7672793">[</span><span class="op" id="7672794">]</span><span class="builtintype" id="7672795">byte</span><span class="op" id="7672799">,</span>&nbsp;<span class="num" id="7672801">1024</span><span class="op" id="7672805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672808">for</span>&nbsp;<span class="ident" id="7672812">i</span>&nbsp;<span class="op" id="7672814">:=</span>&nbsp;<span class="keyword" id="7672817">range</span>&nbsp;<span class="ident" id="7672823">data</span>&nbsp;<span class="op" id="7672828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672832">data</span><span class="op" id="7672836">[</span><span class="ident" id="7672837">i</span><span class="op" id="7672838">]</span>&nbsp;<span class="op" id="7672840">=</span>&nbsp;<span class="builtintype" id="7672842">byte</span><span class="op" id="7672846">(</span><span class="ident" id="7672847">i</span><span class="op" id="7672848">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672851">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672854">h</span>&nbsp;<span class="op" id="7672856">:=</span>&nbsp;<span class="ident" id="7672859">NewIEEE</span><span class="op" id="7672866">(</span><span class="op" id="7672867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672870">in</span>&nbsp;<span class="op" id="7672873">:=</span>&nbsp;<span class="builtinfunc" id="7672876">make</span><span class="op" id="7672880">(</span><span class="op" id="7672881">[</span><span class="op" id="7672882">]</span><span class="builtintype" id="7672883">byte</span><span class="op" id="7672887">,</span>&nbsp;<span class="num" id="7672889">0</span><span class="op" id="7672890">,</span>&nbsp;<span class="ident" id="7672892">h</span><span class="op" id="7672893">.</span><span class="ident" id="7672894">Size</span><span class="op" id="7672898">(</span><span class="op" id="7672899">)</span><span class="op" id="7672900">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672904">b</span><span class="op" id="7672905">.</span><span class="ident" id="7672906">ResetTimer</span><span class="op" id="7672916">(</span><span class="op" id="7672917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7672920">for</span>&nbsp;<span class="ident" id="7672924">i</span>&nbsp;<span class="op" id="7672926">:=</span>&nbsp;<span class="num" id="7672929">0</span><span class="op" id="7672930">;</span>&nbsp;<span class="ident" id="7672932">i</span>&nbsp;<span class="op" id="7672934">&lt;</span>&nbsp;<span class="ident" id="7672936">b</span><span class="op" id="7672937">.</span><span class="ident" id="7672938">N</span><span class="op" id="7672939">;</span>&nbsp;<span class="ident" id="7672941">i</span><span class="op" id="7672942">++</span>&nbsp;<span class="op" id="7672945">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672949">h</span><span class="op" id="7672950">.</span><span class="ident" id="7672951">Reset</span><span class="op" id="7672956">(</span><span class="op" id="7672957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672961">h</span><span class="op" id="7672962">.</span><span class="ident" id="7672963">Write</span><span class="op" id="7672968">(</span><span class="ident" id="7672969">data</span><span class="op" id="7672973">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7672977">h</span><span class="op" id="7672978">.</span><span class="ident" id="7672979">Sum</span><span class="op" id="7672982">(</span><span class="ident" id="7672983">in</span><span class="op" id="7672985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7672988">}</span><br>
<span class="lineno"></span><span class="op" id="7672990">}</span>
</div>
</body>
</html>
