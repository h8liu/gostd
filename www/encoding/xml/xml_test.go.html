<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7855724">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7855780">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7855834">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7855885">package</span>&nbsp;<span class="ident" id="7855893">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7855898">import</span>&nbsp;<span class="op" id="7855905">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855908">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855917">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855924">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855930">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855941">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855952">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7855963">&#34;unicode/utf8&#34;</span><br>
<span class="lineno">15</span><span class="op" id="7855978">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7855981">const</span>&nbsp;<span class="ident" id="7855987">testInput</span>&nbsp;<span class="op" id="7855997">=</span>&nbsp;<span class="string" id="7855999">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;&gt;<br>
<span class="lineno"></span>&lt;body&nbsp;xmlns:foo=&#34;ns1&#34;&nbsp;xmlns=&#34;ns2&#34;&nbsp;xmlns:tag=&#34;ns3&#34;&nbsp;`</span>&nbsp;<span class="op" id="7856216">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7856219">&#34;\r\n\t&#34;</span>&nbsp;<span class="op" id="7856228">+</span>&nbsp;<span class="string" id="7856230">`&nbsp;&nbsp;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;hello&nbsp;lang=&#34;en&#34;&gt;World&nbsp;&amp;lt;&amp;gt;&amp;apos;&amp;quot;&nbsp;&amp;#x767d;&amp;#40300;翔&lt;/hello&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;query&gt;&amp;何;&nbsp;&amp;is-it;&lt;/query&gt;<br>
<span class="lineno">25</span>&nbsp;&nbsp;&lt;goodbye&nbsp;/&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;outer&nbsp;foo:attr=&#34;value&#34;&nbsp;xmlns:tag=&#34;ns4&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;inner/&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;/outer&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;tag:name&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;![CDATA[Some&nbsp;text&nbsp;here.]]&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&lt;/tag:name&gt;<br>
<span class="lineno"></span>&lt;/body&gt;&lt;!--&nbsp;missing&nbsp;final&nbsp;newline&nbsp;--&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7856520">var</span>&nbsp;<span class="ident" id="7856524">testEntity</span>&nbsp;<span class="op" id="7856535">=</span>&nbsp;<span class="keyword" id="7856537">map</span><span class="op" id="7856540">[</span><span class="builtintype" id="7856541">string</span><span class="op" id="7856547">]</span><span class="builtintype" id="7856548">string</span><span class="op" id="7856554">{</span><span class="string" id="7856555">&#34;何&#34;</span><span class="op" id="7856560">:</span>&nbsp;<span class="string" id="7856562">&#34;What&#34;</span><span class="op" id="7856568">,</span>&nbsp;<span class="string" id="7856570">&#34;is-it&#34;</span><span class="op" id="7856577">:</span>&nbsp;<span class="string" id="7856579">&#34;is&nbsp;it?&#34;</span><span class="op" id="7856587">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="keyword" id="7856590">var</span>&nbsp;<span class="ident" id="7856594">rawTokens</span>&nbsp;<span class="op" id="7856604">=</span>&nbsp;<span class="op" id="7856606">[</span><span class="op" id="7856607">]</span><span class="ident" id="7856608"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7856613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856616"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7856624">(</span><span class="string" id="7856625">&#34;\n&#34;</span><span class="op" id="7856629">)</span><span class="op" id="7856630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856633"><a href="/encoding/xml/xml.go.html#5681369">ProcInst</a></span><span class="op" id="7856641">{</span><span class="string" id="7856642">&#34;xml&#34;</span><span class="op" id="7856647">,</span>&nbsp;<span class="op" id="7856649">[</span><span class="op" id="7856650">]</span><span class="builtintype" id="7856651">byte</span><span class="op" id="7856655">(</span><span class="string" id="7856656">`version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;`</span><span class="op" id="7856688">)</span><span class="op" id="7856689">}</span><span class="op" id="7856690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856693"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7856701">(</span><span class="string" id="7856702">&#34;\n&#34;</span><span class="op" id="7856706">)</span><span class="op" id="7856707">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856710"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7856719">(</span><span class="string" id="7856720">`DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;`</span><span class="op" id="7856842">)</span><span class="op" id="7856843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856846"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7856854">(</span><span class="string" id="7856855">&#34;\n&#34;</span><span class="op" id="7856859">)</span><span class="op" id="7856860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856863"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7856875">{</span><span class="ident" id="7856876"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7856880">{</span><span class="string" id="7856881">&#34;&#34;</span><span class="op" id="7856883">,</span>&nbsp;<span class="string" id="7856885">&#34;body&#34;</span><span class="op" id="7856891">}</span><span class="op" id="7856892">,</span>&nbsp;<span class="op" id="7856894">[</span><span class="op" id="7856895">]</span><span class="ident" id="7856896"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7856900">{</span><span class="op" id="7856901">{</span><span class="ident" id="7856902"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7856906">{</span><span class="string" id="7856907">&#34;xmlns&#34;</span><span class="op" id="7856914">,</span>&nbsp;<span class="string" id="7856916">&#34;foo&#34;</span><span class="op" id="7856921">}</span><span class="op" id="7856922">,</span>&nbsp;<span class="string" id="7856924">&#34;ns1&#34;</span><span class="op" id="7856929">}</span><span class="op" id="7856930">,</span>&nbsp;<span class="op" id="7856932">{</span><span class="ident" id="7856933"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7856937">{</span><span class="string" id="7856938">&#34;&#34;</span><span class="op" id="7856940">,</span>&nbsp;<span class="string" id="7856942">&#34;xmlns&#34;</span><span class="op" id="7856949">}</span><span class="op" id="7856950">,</span>&nbsp;<span class="string" id="7856952">&#34;ns2&#34;</span><span class="op" id="7856957">}</span><span class="op" id="7856958">,</span>&nbsp;<span class="op" id="7856960">{</span><span class="ident" id="7856961"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7856965">{</span><span class="string" id="7856966">&#34;xmlns&#34;</span><span class="op" id="7856973">,</span>&nbsp;<span class="string" id="7856975">&#34;tag&#34;</span><span class="op" id="7856980">}</span><span class="op" id="7856981">,</span>&nbsp;<span class="string" id="7856983">&#34;ns3&#34;</span><span class="op" id="7856988">}</span><span class="op" id="7856989">}</span><span class="op" id="7856990">}</span><span class="op" id="7856991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7856994"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857002">(</span><span class="string" id="7857003">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857009">)</span><span class="op" id="7857010">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857013"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7857025">{</span><span class="ident" id="7857026"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857030">{</span><span class="string" id="7857031">&#34;&#34;</span><span class="op" id="7857033">,</span>&nbsp;<span class="string" id="7857035">&#34;hello&#34;</span><span class="op" id="7857042">}</span><span class="op" id="7857043">,</span>&nbsp;<span class="op" id="7857045">[</span><span class="op" id="7857046">]</span><span class="ident" id="7857047"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7857051">{</span><span class="op" id="7857052">{</span><span class="ident" id="7857053"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857057">{</span><span class="string" id="7857058">&#34;&#34;</span><span class="op" id="7857060">,</span>&nbsp;<span class="string" id="7857062">&#34;lang&#34;</span><span class="op" id="7857068">}</span><span class="op" id="7857069">,</span>&nbsp;<span class="string" id="7857071">&#34;en&#34;</span><span class="op" id="7857075">}</span><span class="op" id="7857076">}</span><span class="op" id="7857077">}</span><span class="op" id="7857078">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857081"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857089">(</span><span class="string" id="7857090">&#34;World&nbsp;&lt;&gt;&#39;\&#34;&nbsp;白鵬翔&#34;</span><span class="op" id="7857113">)</span><span class="op" id="7857114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857117"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857127">{</span><span class="ident" id="7857128"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857132">{</span><span class="string" id="7857133">&#34;&#34;</span><span class="op" id="7857135">,</span>&nbsp;<span class="string" id="7857137">&#34;hello&#34;</span><span class="op" id="7857144">}</span><span class="op" id="7857145">}</span><span class="op" id="7857146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857149"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857157">(</span><span class="string" id="7857158">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857164">)</span><span class="op" id="7857165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857168"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7857180">{</span><span class="ident" id="7857181"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857185">{</span><span class="string" id="7857186">&#34;&#34;</span><span class="op" id="7857188">,</span>&nbsp;<span class="string" id="7857190">&#34;query&#34;</span><span class="op" id="7857197">}</span><span class="op" id="7857198">,</span>&nbsp;<span class="op" id="7857200">[</span><span class="op" id="7857201">]</span><span class="ident" id="7857202"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7857206">{</span><span class="op" id="7857207">}</span><span class="op" id="7857208">}</span><span class="op" id="7857209">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857212"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857220">(</span><span class="string" id="7857221">&#34;What&nbsp;is&nbsp;it?&#34;</span><span class="op" id="7857234">)</span><span class="op" id="7857235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857238"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857248">{</span><span class="ident" id="7857249"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857253">{</span><span class="string" id="7857254">&#34;&#34;</span><span class="op" id="7857256">,</span>&nbsp;<span class="string" id="7857258">&#34;query&#34;</span><span class="op" id="7857265">}</span><span class="op" id="7857266">}</span><span class="op" id="7857267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857270"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857278">(</span><span class="string" id="7857279">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857285">)</span><span class="op" id="7857286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857289"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7857301">{</span><span class="ident" id="7857302"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857306">{</span><span class="string" id="7857307">&#34;&#34;</span><span class="op" id="7857309">,</span>&nbsp;<span class="string" id="7857311">&#34;goodbye&#34;</span><span class="op" id="7857320">}</span><span class="op" id="7857321">,</span>&nbsp;<span class="op" id="7857323">[</span><span class="op" id="7857324">]</span><span class="ident" id="7857325"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7857329">{</span><span class="op" id="7857330">}</span><span class="op" id="7857331">}</span><span class="op" id="7857332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857335"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857345">{</span><span class="ident" id="7857346"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857350">{</span><span class="string" id="7857351">&#34;&#34;</span><span class="op" id="7857353">,</span>&nbsp;<span class="string" id="7857355">&#34;goodbye&#34;</span><span class="op" id="7857364">}</span><span class="op" id="7857365">}</span><span class="op" id="7857366">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857369"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857377">(</span><span class="string" id="7857378">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857384">)</span><span class="op" id="7857385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857388"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7857400">{</span><span class="ident" id="7857401"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857405">{</span><span class="string" id="7857406">&#34;&#34;</span><span class="op" id="7857408">,</span>&nbsp;<span class="string" id="7857410">&#34;outer&#34;</span><span class="op" id="7857417">}</span><span class="op" id="7857418">,</span>&nbsp;<span class="op" id="7857420">[</span><span class="op" id="7857421">]</span><span class="ident" id="7857422"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7857426">{</span><span class="op" id="7857427">{</span><span class="ident" id="7857428"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857432">{</span><span class="string" id="7857433">&#34;foo&#34;</span><span class="op" id="7857438">,</span>&nbsp;<span class="string" id="7857440">&#34;attr&#34;</span><span class="op" id="7857446">}</span><span class="op" id="7857447">,</span>&nbsp;<span class="string" id="7857449">&#34;value&#34;</span><span class="op" id="7857456">}</span><span class="op" id="7857457">,</span>&nbsp;<span class="op" id="7857459">{</span><span class="ident" id="7857460"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857464">{</span><span class="string" id="7857465">&#34;xmlns&#34;</span><span class="op" id="7857472">,</span>&nbsp;<span class="string" id="7857474">&#34;tag&#34;</span><span class="op" id="7857479">}</span><span class="op" id="7857480">,</span>&nbsp;<span class="string" id="7857482">&#34;ns4&#34;</span><span class="op" id="7857487">}</span><span class="op" id="7857488">}</span><span class="op" id="7857489">}</span><span class="op" id="7857490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857493"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857501">(</span><span class="string" id="7857502">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7857510">)</span><span class="op" id="7857511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857514"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7857526">{</span><span class="ident" id="7857527"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857531">{</span><span class="string" id="7857532">&#34;&#34;</span><span class="op" id="7857534">,</span>&nbsp;<span class="string" id="7857536">&#34;inner&#34;</span><span class="op" id="7857543">}</span><span class="op" id="7857544">,</span>&nbsp;<span class="op" id="7857546">[</span><span class="op" id="7857547">]</span><span class="ident" id="7857548"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7857552">{</span><span class="op" id="7857553">}</span><span class="op" id="7857554">}</span><span class="op" id="7857555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857558"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857568">{</span><span class="ident" id="7857569"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857573">{</span><span class="string" id="7857574">&#34;&#34;</span><span class="op" id="7857576">,</span>&nbsp;<span class="string" id="7857578">&#34;inner&#34;</span><span class="op" id="7857585">}</span><span class="op" id="7857586">}</span><span class="op" id="7857587">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857590"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857598">(</span><span class="string" id="7857599">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857605">)</span><span class="op" id="7857606">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857609"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857619">{</span><span class="ident" id="7857620"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857624">{</span><span class="string" id="7857625">&#34;&#34;</span><span class="op" id="7857627">,</span>&nbsp;<span class="string" id="7857629">&#34;outer&#34;</span><span class="op" id="7857636">}</span><span class="op" id="7857637">}</span><span class="op" id="7857638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857641"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857649">(</span><span class="string" id="7857650">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857656">)</span><span class="op" id="7857657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857660"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7857672">{</span><span class="ident" id="7857673"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857677">{</span><span class="string" id="7857678">&#34;tag&#34;</span><span class="op" id="7857683">,</span>&nbsp;<span class="string" id="7857685">&#34;name&#34;</span><span class="op" id="7857691">}</span><span class="op" id="7857692">,</span>&nbsp;<span class="op" id="7857694">[</span><span class="op" id="7857695">]</span><span class="ident" id="7857696"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7857700">{</span><span class="op" id="7857701">}</span><span class="op" id="7857702">}</span><span class="op" id="7857703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857706"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857714">(</span><span class="string" id="7857715">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7857723">)</span><span class="op" id="7857724">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857727"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857735">(</span><span class="string" id="7857736">&#34;Some&nbsp;text&nbsp;here.&#34;</span><span class="op" id="7857753">)</span><span class="op" id="7857754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857757"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857765">(</span><span class="string" id="7857766">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7857772">)</span><span class="op" id="7857773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857776"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857786">{</span><span class="ident" id="7857787"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857791">{</span><span class="string" id="7857792">&#34;tag&#34;</span><span class="op" id="7857797">,</span>&nbsp;<span class="string" id="7857799">&#34;name&#34;</span><span class="op" id="7857805">}</span><span class="op" id="7857806">}</span><span class="op" id="7857807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857810"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857818">(</span><span class="string" id="7857819">&#34;\n&#34;</span><span class="op" id="7857823">)</span><span class="op" id="7857824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857827"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7857837">{</span><span class="ident" id="7857838"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7857842">{</span><span class="string" id="7857843">&#34;&#34;</span><span class="op" id="7857845">,</span>&nbsp;<span class="string" id="7857847">&#34;body&#34;</span><span class="op" id="7857853">}</span><span class="op" id="7857854">}</span><span class="op" id="7857855">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857858"><a href="/encoding/xml/xml.go.html#5681200">Comment</a></span><span class="op" id="7857865">(</span><span class="string" id="7857866">&#34;&nbsp;missing&nbsp;final&nbsp;newline&nbsp;&#34;</span><span class="op" id="7857891">)</span><span class="op" id="7857892">,</span><br>
<span class="lineno"></span><span class="op" id="7857894">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7857897">var</span>&nbsp;<span class="ident" id="7857901">cookedTokens</span>&nbsp;<span class="op" id="7857914">=</span>&nbsp;<span class="op" id="7857916">[</span><span class="op" id="7857917">]</span><span class="ident" id="7857918"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7857923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857926"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7857934">(</span><span class="string" id="7857935">&#34;\n&#34;</span><span class="op" id="7857939">)</span><span class="op" id="7857940">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7857943"><a href="/encoding/xml/xml.go.html#5681369">ProcInst</a></span><span class="op" id="7857951">{</span><span class="string" id="7857952">&#34;xml&#34;</span><span class="op" id="7857957">,</span>&nbsp;<span class="op" id="7857959">[</span><span class="op" id="7857960">]</span><span class="builtintype" id="7857961">byte</span><span class="op" id="7857965">(</span><span class="string" id="7857966">`version=&#34;1.0&#34;&nbsp;encoding=&#34;UTF-8&#34;`</span><span class="op" id="7857998">)</span><span class="op" id="7857999">}</span><span class="op" id="7858000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858003"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858011">(</span><span class="string" id="7858012">&#34;\n&#34;</span><span class="op" id="7858016">)</span><span class="op" id="7858017">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858020"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7858029">(</span><span class="string" id="7858030">`DOCTYPE&nbsp;html&nbsp;PUBLIC&nbsp;&#34;-//W3C//DTD&nbsp;XHTML&nbsp;1.0&nbsp;Transitional//EN&#34;<br>
<span class="lineno"></span>&nbsp;&nbsp;&#34;http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd&#34;`</span><span class="op" id="7858152">)</span><span class="op" id="7858153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858156"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858164">(</span><span class="string" id="7858165">&#34;\n&#34;</span><span class="op" id="7858169">)</span><span class="op" id="7858170">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858173"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7858185">{</span><span class="ident" id="7858186"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858190">{</span><span class="string" id="7858191">&#34;ns2&#34;</span><span class="op" id="7858196">,</span>&nbsp;<span class="string" id="7858198">&#34;body&#34;</span><span class="op" id="7858204">}</span><span class="op" id="7858205">,</span>&nbsp;<span class="op" id="7858207">[</span><span class="op" id="7858208">]</span><span class="ident" id="7858209"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7858213">{</span><span class="op" id="7858214">{</span><span class="ident" id="7858215"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858219">{</span><span class="string" id="7858220">&#34;xmlns&#34;</span><span class="op" id="7858227">,</span>&nbsp;<span class="string" id="7858229">&#34;foo&#34;</span><span class="op" id="7858234">}</span><span class="op" id="7858235">,</span>&nbsp;<span class="string" id="7858237">&#34;ns1&#34;</span><span class="op" id="7858242">}</span><span class="op" id="7858243">,</span>&nbsp;<span class="op" id="7858245">{</span><span class="ident" id="7858246"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858250">{</span><span class="string" id="7858251">&#34;&#34;</span><span class="op" id="7858253">,</span>&nbsp;<span class="string" id="7858255">&#34;xmlns&#34;</span><span class="op" id="7858262">}</span><span class="op" id="7858263">,</span>&nbsp;<span class="string" id="7858265">&#34;ns2&#34;</span><span class="op" id="7858270">}</span><span class="op" id="7858271">,</span>&nbsp;<span class="op" id="7858273">{</span><span class="ident" id="7858274"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858278">{</span><span class="string" id="7858279">&#34;xmlns&#34;</span><span class="op" id="7858286">,</span>&nbsp;<span class="string" id="7858288">&#34;tag&#34;</span><span class="op" id="7858293">}</span><span class="op" id="7858294">,</span>&nbsp;<span class="string" id="7858296">&#34;ns3&#34;</span><span class="op" id="7858301">}</span><span class="op" id="7858302">}</span><span class="op" id="7858303">}</span><span class="op" id="7858304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858307"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858315">(</span><span class="string" id="7858316">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7858322">)</span><span class="op" id="7858323">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858326"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7858338">{</span><span class="ident" id="7858339"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858343">{</span><span class="string" id="7858344">&#34;ns2&#34;</span><span class="op" id="7858349">,</span>&nbsp;<span class="string" id="7858351">&#34;hello&#34;</span><span class="op" id="7858358">}</span><span class="op" id="7858359">,</span>&nbsp;<span class="op" id="7858361">[</span><span class="op" id="7858362">]</span><span class="ident" id="7858363"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7858367">{</span><span class="op" id="7858368">{</span><span class="ident" id="7858369"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858373">{</span><span class="string" id="7858374">&#34;&#34;</span><span class="op" id="7858376">,</span>&nbsp;<span class="string" id="7858378">&#34;lang&#34;</span><span class="op" id="7858384">}</span><span class="op" id="7858385">,</span>&nbsp;<span class="string" id="7858387">&#34;en&#34;</span><span class="op" id="7858391">}</span><span class="op" id="7858392">}</span><span class="op" id="7858393">}</span><span class="op" id="7858394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858397"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858405">(</span><span class="string" id="7858406">&#34;World&nbsp;&lt;&gt;&#39;\&#34;&nbsp;白鵬翔&#34;</span><span class="op" id="7858429">)</span><span class="op" id="7858430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858433"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7858443">{</span><span class="ident" id="7858444"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858448">{</span><span class="string" id="7858449">&#34;ns2&#34;</span><span class="op" id="7858454">,</span>&nbsp;<span class="string" id="7858456">&#34;hello&#34;</span><span class="op" id="7858463">}</span><span class="op" id="7858464">}</span><span class="op" id="7858465">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858468"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858476">(</span><span class="string" id="7858477">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7858483">)</span><span class="op" id="7858484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858487"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7858499">{</span><span class="ident" id="7858500"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858504">{</span><span class="string" id="7858505">&#34;ns2&#34;</span><span class="op" id="7858510">,</span>&nbsp;<span class="string" id="7858512">&#34;query&#34;</span><span class="op" id="7858519">}</span><span class="op" id="7858520">,</span>&nbsp;<span class="op" id="7858522">[</span><span class="op" id="7858523">]</span><span class="ident" id="7858524"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7858528">{</span><span class="op" id="7858529">}</span><span class="op" id="7858530">}</span><span class="op" id="7858531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858534"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858542">(</span><span class="string" id="7858543">&#34;What&nbsp;is&nbsp;it?&#34;</span><span class="op" id="7858556">)</span><span class="op" id="7858557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858560"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7858570">{</span><span class="ident" id="7858571"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858575">{</span><span class="string" id="7858576">&#34;ns2&#34;</span><span class="op" id="7858581">,</span>&nbsp;<span class="string" id="7858583">&#34;query&#34;</span><span class="op" id="7858590">}</span><span class="op" id="7858591">}</span><span class="op" id="7858592">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858595"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858603">(</span><span class="string" id="7858604">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7858610">)</span><span class="op" id="7858611">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858614"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7858626">{</span><span class="ident" id="7858627"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858631">{</span><span class="string" id="7858632">&#34;ns2&#34;</span><span class="op" id="7858637">,</span>&nbsp;<span class="string" id="7858639">&#34;goodbye&#34;</span><span class="op" id="7858648">}</span><span class="op" id="7858649">,</span>&nbsp;<span class="op" id="7858651">[</span><span class="op" id="7858652">]</span><span class="ident" id="7858653"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7858657">{</span><span class="op" id="7858658">}</span><span class="op" id="7858659">}</span><span class="op" id="7858660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858663"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7858673">{</span><span class="ident" id="7858674"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858678">{</span><span class="string" id="7858679">&#34;ns2&#34;</span><span class="op" id="7858684">,</span>&nbsp;<span class="string" id="7858686">&#34;goodbye&#34;</span><span class="op" id="7858695">}</span><span class="op" id="7858696">}</span><span class="op" id="7858697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858700"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858708">(</span><span class="string" id="7858709">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7858715">)</span><span class="op" id="7858716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858719"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7858731">{</span><span class="ident" id="7858732"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858736">{</span><span class="string" id="7858737">&#34;ns2&#34;</span><span class="op" id="7858742">,</span>&nbsp;<span class="string" id="7858744">&#34;outer&#34;</span><span class="op" id="7858751">}</span><span class="op" id="7858752">,</span>&nbsp;<span class="op" id="7858754">[</span><span class="op" id="7858755">]</span><span class="ident" id="7858756"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7858760">{</span><span class="op" id="7858761">{</span><span class="ident" id="7858762"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858766">{</span><span class="string" id="7858767">&#34;ns1&#34;</span><span class="op" id="7858772">,</span>&nbsp;<span class="string" id="7858774">&#34;attr&#34;</span><span class="op" id="7858780">}</span><span class="op" id="7858781">,</span>&nbsp;<span class="string" id="7858783">&#34;value&#34;</span><span class="op" id="7858790">}</span><span class="op" id="7858791">,</span>&nbsp;<span class="op" id="7858793">{</span><span class="ident" id="7858794"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858798">{</span><span class="string" id="7858799">&#34;xmlns&#34;</span><span class="op" id="7858806">,</span>&nbsp;<span class="string" id="7858808">&#34;tag&#34;</span><span class="op" id="7858813">}</span><span class="op" id="7858814">,</span>&nbsp;<span class="string" id="7858816">&#34;ns4&#34;</span><span class="op" id="7858821">}</span><span class="op" id="7858822">}</span><span class="op" id="7858823">}</span><span class="op" id="7858824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858827"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858835">(</span><span class="string" id="7858836">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7858844">)</span><span class="op" id="7858845">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858848"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7858860">{</span><span class="ident" id="7858861"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858865">{</span><span class="string" id="7858866">&#34;ns2&#34;</span><span class="op" id="7858871">,</span>&nbsp;<span class="string" id="7858873">&#34;inner&#34;</span><span class="op" id="7858880">}</span><span class="op" id="7858881">,</span>&nbsp;<span class="op" id="7858883">[</span><span class="op" id="7858884">]</span><span class="ident" id="7858885"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7858889">{</span><span class="op" id="7858890">}</span><span class="op" id="7858891">}</span><span class="op" id="7858892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858895"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7858905">{</span><span class="ident" id="7858906"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858910">{</span><span class="string" id="7858911">&#34;ns2&#34;</span><span class="op" id="7858916">,</span>&nbsp;<span class="string" id="7858918">&#34;inner&#34;</span><span class="op" id="7858925">}</span><span class="op" id="7858926">}</span><span class="op" id="7858927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858930"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858938">(</span><span class="string" id="7858939">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7858945">)</span><span class="op" id="7858946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858949"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7858959">{</span><span class="ident" id="7858960"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7858964">{</span><span class="string" id="7858965">&#34;ns2&#34;</span><span class="op" id="7858970">,</span>&nbsp;<span class="string" id="7858972">&#34;outer&#34;</span><span class="op" id="7858979">}</span><span class="op" id="7858980">}</span><span class="op" id="7858981">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7858984"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7858992">(</span><span class="string" id="7858993">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7858999">)</span><span class="op" id="7859000">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859003"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7859015">{</span><span class="ident" id="7859016"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7859020">{</span><span class="string" id="7859021">&#34;ns3&#34;</span><span class="op" id="7859026">,</span>&nbsp;<span class="string" id="7859028">&#34;name&#34;</span><span class="op" id="7859034">}</span><span class="op" id="7859035">,</span>&nbsp;<span class="op" id="7859037">[</span><span class="op" id="7859038">]</span><span class="ident" id="7859039"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7859043">{</span><span class="op" id="7859044">}</span><span class="op" id="7859045">}</span><span class="op" id="7859046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859049"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859057">(</span><span class="string" id="7859058">&#34;\n&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="7859066">)</span><span class="op" id="7859067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859070"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859078">(</span><span class="string" id="7859079">&#34;Some&nbsp;text&nbsp;here.&#34;</span><span class="op" id="7859096">)</span><span class="op" id="7859097">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859100"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859108">(</span><span class="string" id="7859109">&#34;\n&nbsp;&nbsp;&#34;</span><span class="op" id="7859115">)</span><span class="op" id="7859116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859119"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7859129">{</span><span class="ident" id="7859130"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7859134">{</span><span class="string" id="7859135">&#34;ns3&#34;</span><span class="op" id="7859140">,</span>&nbsp;<span class="string" id="7859142">&#34;name&#34;</span><span class="op" id="7859148">}</span><span class="op" id="7859149">}</span><span class="op" id="7859150">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859153"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859161">(</span><span class="string" id="7859162">&#34;\n&#34;</span><span class="op" id="7859166">)</span><span class="op" id="7859167">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859170"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7859180">{</span><span class="ident" id="7859181"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7859185">{</span><span class="string" id="7859186">&#34;ns2&#34;</span><span class="op" id="7859191">,</span>&nbsp;<span class="string" id="7859193">&#34;body&#34;</span><span class="op" id="7859199">}</span><span class="op" id="7859200">}</span><span class="op" id="7859201">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859204"><a href="/encoding/xml/xml.go.html#5681200">Comment</a></span><span class="op" id="7859211">(</span><span class="string" id="7859212">&#34;&nbsp;missing&nbsp;final&nbsp;newline&nbsp;&#34;</span><span class="op" id="7859237">)</span><span class="op" id="7859238">,</span><br>
<span class="lineno"></span><span class="op" id="7859240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7859243">const</span>&nbsp;<span class="ident" id="7859249">testInputAltEncoding</span>&nbsp;<span class="op" id="7859270">=</span>&nbsp;<span class="string" id="7859272">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;x-testing-uppercase&#34;?&gt;<br>
<span class="lineno"></span>&lt;TAG&gt;VALUE&lt;/TAG&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7859346">var</span>&nbsp;<span class="ident" id="7859350">rawTokensAltEncoding</span>&nbsp;<span class="op" id="7859371">=</span>&nbsp;<span class="op" id="7859373">[</span><span class="op" id="7859374">]</span><span class="ident" id="7859375"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7859380">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859383"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859391">(</span><span class="string" id="7859392">&#34;\n&#34;</span><span class="op" id="7859396">)</span><span class="op" id="7859397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859400"><a href="/encoding/xml/xml.go.html#5681369">ProcInst</a></span><span class="op" id="7859408">{</span><span class="string" id="7859409">&#34;xml&#34;</span><span class="op" id="7859414">,</span>&nbsp;<span class="op" id="7859416">[</span><span class="op" id="7859417">]</span><span class="builtintype" id="7859418">byte</span><span class="op" id="7859422">(</span><span class="string" id="7859423">`version=&#34;1.0&#34;&nbsp;encoding=&#34;x-testing-uppercase&#34;`</span><span class="op" id="7859469">)</span><span class="op" id="7859470">}</span><span class="op" id="7859471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859474"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859482">(</span><span class="string" id="7859483">&#34;\n&#34;</span><span class="op" id="7859487">)</span><span class="op" id="7859488">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859491"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7859503">{</span><span class="ident" id="7859504"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7859508">{</span><span class="string" id="7859509">&#34;&#34;</span><span class="op" id="7859511">,</span>&nbsp;<span class="string" id="7859513">&#34;tag&#34;</span><span class="op" id="7859518">}</span><span class="op" id="7859519">,</span>&nbsp;<span class="op" id="7859521">[</span><span class="op" id="7859522">]</span><span class="ident" id="7859523"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7859527">{</span><span class="op" id="7859528">}</span><span class="op" id="7859529">}</span><span class="op" id="7859530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859533"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7859541">(</span><span class="string" id="7859542">&#34;value&#34;</span><span class="op" id="7859549">)</span><span class="op" id="7859550">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7859553"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7859563">{</span><span class="ident" id="7859564"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7859568">{</span><span class="string" id="7859569">&#34;&#34;</span><span class="op" id="7859571">,</span>&nbsp;<span class="string" id="7859573">&#34;tag&#34;</span><span class="op" id="7859578">}</span><span class="op" id="7859579">}</span><span class="op" id="7859580">,</span><br>
<span class="lineno"></span><span class="op" id="7859582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7859585">var</span>&nbsp;<span class="ident" id="7859589">xmlInput</span>&nbsp;<span class="op" id="7859598">=</span>&nbsp;<span class="op" id="7859600">[</span><span class="op" id="7859601">]</span><span class="builtintype" id="7859602">string</span><span class="op" id="7859608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7859611">//&nbsp;unexpected&nbsp;EOF&nbsp;cases</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859636">&#34;&lt;&#34;</span><span class="op" id="7859639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859642">&#34;&lt;t&#34;</span><span class="op" id="7859646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859649">&#34;&lt;t&nbsp;&#34;</span><span class="op" id="7859654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859657">&#34;&lt;t/&#34;</span><span class="op" id="7859662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859665">&#34;&lt;!&#34;</span><span class="op" id="7859669">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859672">&#34;&lt;!-&#34;</span><span class="op" id="7859677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859680">&#34;&lt;!--&#34;</span><span class="op" id="7859686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859689">&#34;&lt;!--c-&#34;</span><span class="op" id="7859697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859700">&#34;&lt;!--c--&#34;</span><span class="op" id="7859709">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859712">&#34;&lt;!d&#34;</span><span class="op" id="7859717">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859720">&#34;&lt;t&gt;&lt;/&#34;</span><span class="op" id="7859727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859730">&#34;&lt;t&gt;&lt;/t&#34;</span><span class="op" id="7859738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859741">&#34;&lt;?&#34;</span><span class="op" id="7859745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859748">&#34;&lt;?p&#34;</span><span class="op" id="7859753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859756">&#34;&lt;t&nbsp;a&#34;</span><span class="op" id="7859762">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859765">&#34;&lt;t&nbsp;a=&#34;</span><span class="op" id="7859772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859775">&#34;&lt;t&nbsp;a=&#39;&#34;</span><span class="op" id="7859783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859786">&#34;&lt;t&nbsp;a=&#39;&#39;&#34;</span><span class="op" id="7859795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859798">&#34;&lt;t/&gt;&lt;![&#34;</span><span class="op" id="7859807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859810">&#34;&lt;t/&gt;&lt;![C&#34;</span><span class="op" id="7859820">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859823">&#34;&lt;t/&gt;&lt;![CDATA[d&#34;</span><span class="op" id="7859839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859842">&#34;&lt;t/&gt;&lt;![CDATA[d]&#34;</span><span class="op" id="7859859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859862">&#34;&lt;t/&gt;&lt;![CDATA[d]]&#34;</span><span class="op" id="7859880">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7859884">//&nbsp;other&nbsp;Syntax&nbsp;errors</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859908">&#34;&lt;&gt;&#34;</span><span class="op" id="7859912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859915">&#34;&lt;t/a&#34;</span><span class="op" id="7859921">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859924">&#34;&lt;0&nbsp;/&gt;&#34;</span><span class="op" id="7859931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859934">&#34;&lt;?0&nbsp;&gt;&#34;</span><span class="op" id="7859941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7859944">//&nbsp;&nbsp;&nbsp;&nbsp&#34;&lt;!0&nbsp;&gt;&#34;,&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;let&nbsp;the&nbsp;Token()&nbsp;caller&nbsp;handle</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859990">&#34;&lt;/0&gt;&#34;</span><span class="op" id="7859996">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7859999">&#34;&lt;t&nbsp;0=&#39;&#39;&gt;&#34;</span><span class="op" id="7860009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860012">&#34;&lt;t&nbsp;a=&#39;&amp;&#39;&gt;&#34;</span><span class="op" id="7860023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860026">&#34;&lt;t&nbsp;a=&#39;&lt;&#39;&gt;&#34;</span><span class="op" id="7860037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860040">&#34;&lt;t&gt;&amp;nbspc;&lt;/t&gt;&#34;</span><span class="op" id="7860056">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860059">&#34;&lt;t&nbsp;a&gt;&#34;</span><span class="op" id="7860066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860069">&#34;&lt;t&nbsp;a=&gt;&#34;</span><span class="op" id="7860077">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860080">&#34;&lt;t&nbsp;a=v&gt;&#34;</span><span class="op" id="7860089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7860092">//&nbsp;&nbsp;&nbsp;&nbsp&#34;&lt;![CDATA[d]]&gt;&#34;,&nbsp;&nbsp;&nbsp;&nbsp//&nbsp;let&nbsp;the&nbsp;Token()&nbsp;caller&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860146">&#34;&lt;t&gt;&lt;/e&gt;&#34;</span><span class="op" id="7860155">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860158">&#34;&lt;t&gt;&lt;/&gt;&#34;</span><span class="op" id="7860166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860169">&#34;&lt;t&gt;&lt;/t!&#34;</span><span class="op" id="7860178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7860181">&#34;&lt;t&gt;cdata]]&gt;&lt;/t&gt;&#34;</span><span class="op" id="7860198">,</span><br>
<span class="lineno"></span><span class="op" id="7860200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="7860203">func</span>&nbsp;<span class="ident" id="7860208">TestRawToken</span><span class="op" id="7860220">(</span><span class="ident" id="7860221">t</span>&nbsp;<span class="op" id="7860223">*</span><span class="ident" id="7860224"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7860231">.</span><span class="ident" id="7860232">T</span><span class="op" id="7860233">)</span>&nbsp;<span class="op" id="7860235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860238">d</span>&nbsp;<span class="op" id="7860240">:=</span>&nbsp;<span class="ident" id="7860243"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7860253">(</span><span class="ident" id="7860254"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7860261">.</span><span class="ident" id="7860262">NewReader</span><span class="op" id="7860271">(</span><span class="ident" id="7860272"><a href="/encoding/xml/xml_test.go.html#7855987">testInput</a></span><span class="op" id="7860281">)</span><span class="op" id="7860282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860285"><a href="/encoding/xml/xml_test.go.html#7860238">d</a></span><span class="op" id="7860286">.</span><span class="ident" id="7860287">Entity</span>&nbsp;<span class="op" id="7860294">=</span>&nbsp;<span class="ident" id="7860296"><a href="/encoding/xml/xml_test.go.html#7856524">testEntity</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860308"><a href="/encoding/xml/xml_test.go.html#7863039">testRawToken</a></span><span class="op" id="7860320">(</span><span class="ident" id="7860321"><a href="/encoding/xml/xml_test.go.html#7860221">t</a></span><span class="op" id="7860322">,</span>&nbsp;<span class="ident" id="7860324"><a href="/encoding/xml/xml_test.go.html#7860238">d</a></span><span class="op" id="7860325">,</span>&nbsp;<span class="ident" id="7860327"><a href="/encoding/xml/xml_test.go.html#7855987">testInput</a></span><span class="op" id="7860336">,</span>&nbsp;<span class="ident" id="7860338"><a href="/encoding/xml/xml_test.go.html#7856594">rawTokens</a></span><span class="op" id="7860347">)</span><br>
<span class="lineno"></span><span class="op" id="7860349">}</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="7860352">const</span>&nbsp;<span class="ident" id="7860358">nonStrictInput</span>&nbsp;<span class="op" id="7860373">=</span>&nbsp;<span class="string" id="7860375">`<br>
<span class="lineno"></span>&lt;tag&gt;non&amp;entity&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;unknown;entity&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;#123&lt;/tag&gt;<br>
<span class="lineno">180</span>&lt;tag&gt;&amp;#zzz;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;なまえ3;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;lt-gt;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;;&lt;/tag&gt;<br>
<span class="lineno"></span>&lt;tag&gt;&amp;0a;&lt;/tag&gt;<br>
<span class="lineno">185</span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7860537">var</span>&nbsp;<span class="ident" id="7860541">nonStringEntity</span>&nbsp;<span class="op" id="7860557">=</span>&nbsp;<span class="keyword" id="7860559">map</span><span class="op" id="7860562">[</span><span class="builtintype" id="7860563">string</span><span class="op" id="7860569">]</span><span class="builtintype" id="7860570">string</span><span class="op" id="7860576">{</span><span class="string" id="7860577">&#34;&#34;</span><span class="op" id="7860579">:</span>&nbsp;<span class="string" id="7860581">&#34;oops!&#34;</span><span class="op" id="7860588">,</span>&nbsp;<span class="string" id="7860590">&#34;0a&#34;</span><span class="op" id="7860594">:</span>&nbsp;<span class="string" id="7860596">&#34;oops!&#34;</span><span class="op" id="7860603">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7860606">var</span>&nbsp;<span class="ident" id="7860610">nonStrictTokens</span>&nbsp;<span class="op" id="7860626">=</span>&nbsp;<span class="op" id="7860628">[</span><span class="op" id="7860629">]</span><span class="ident" id="7860630"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7860635">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860638"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860646">(</span><span class="string" id="7860647">&#34;\n&#34;</span><span class="op" id="7860651">)</span><span class="op" id="7860652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860655"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7860667">{</span><span class="ident" id="7860668"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7860672">{</span><span class="string" id="7860673">&#34;&#34;</span><span class="op" id="7860675">,</span>&nbsp;<span class="string" id="7860677">&#34;tag&#34;</span><span class="op" id="7860682">}</span><span class="op" id="7860683">,</span>&nbsp;<span class="op" id="7860685">[</span><span class="op" id="7860686">]</span><span class="ident" id="7860687"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7860691">{</span><span class="op" id="7860692">}</span><span class="op" id="7860693">}</span><span class="op" id="7860694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860697"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860705">(</span><span class="string" id="7860706">&#34;non&amp;entity&#34;</span><span class="op" id="7860718">)</span><span class="op" id="7860719">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860722"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7860732">{</span><span class="ident" id="7860733"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7860737">{</span><span class="string" id="7860738">&#34;&#34;</span><span class="op" id="7860740">,</span>&nbsp;<span class="string" id="7860742">&#34;tag&#34;</span><span class="op" id="7860747">}</span><span class="op" id="7860748">}</span><span class="op" id="7860749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860752"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860760">(</span><span class="string" id="7860761">&#34;\n&#34;</span><span class="op" id="7860765">)</span><span class="op" id="7860766">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860769"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7860781">{</span><span class="ident" id="7860782"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7860786">{</span><span class="string" id="7860787">&#34;&#34;</span><span class="op" id="7860789">,</span>&nbsp;<span class="string" id="7860791">&#34;tag&#34;</span><span class="op" id="7860796">}</span><span class="op" id="7860797">,</span>&nbsp;<span class="op" id="7860799">[</span><span class="op" id="7860800">]</span><span class="ident" id="7860801"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7860805">{</span><span class="op" id="7860806">}</span><span class="op" id="7860807">}</span><span class="op" id="7860808">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860811"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860819">(</span><span class="string" id="7860820">&#34;&amp;unknown;entity&#34;</span><span class="op" id="7860837">)</span><span class="op" id="7860838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860841"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7860851">{</span><span class="ident" id="7860852"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7860856">{</span><span class="string" id="7860857">&#34;&#34;</span><span class="op" id="7860859">,</span>&nbsp;<span class="string" id="7860861">&#34;tag&#34;</span><span class="op" id="7860866">}</span><span class="op" id="7860867">}</span><span class="op" id="7860868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860871"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860879">(</span><span class="string" id="7860880">&#34;\n&#34;</span><span class="op" id="7860884">)</span><span class="op" id="7860885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860888"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7860900">{</span><span class="ident" id="7860901"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7860905">{</span><span class="string" id="7860906">&#34;&#34;</span><span class="op" id="7860908">,</span>&nbsp;<span class="string" id="7860910">&#34;tag&#34;</span><span class="op" id="7860915">}</span><span class="op" id="7860916">,</span>&nbsp;<span class="op" id="7860918">[</span><span class="op" id="7860919">]</span><span class="ident" id="7860920"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7860924">{</span><span class="op" id="7860925">}</span><span class="op" id="7860926">}</span><span class="op" id="7860927">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860930"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860938">(</span><span class="string" id="7860939">&#34;&amp;#123&#34;</span><span class="op" id="7860946">)</span><span class="op" id="7860947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860950"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7860960">{</span><span class="ident" id="7860961"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7860965">{</span><span class="string" id="7860966">&#34;&#34;</span><span class="op" id="7860968">,</span>&nbsp;<span class="string" id="7860970">&#34;tag&#34;</span><span class="op" id="7860975">}</span><span class="op" id="7860976">}</span><span class="op" id="7860977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860980"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7860988">(</span><span class="string" id="7860989">&#34;\n&#34;</span><span class="op" id="7860993">)</span><span class="op" id="7860994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7860997"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7861009">{</span><span class="ident" id="7861010"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861014">{</span><span class="string" id="7861015">&#34;&#34;</span><span class="op" id="7861017">,</span>&nbsp;<span class="string" id="7861019">&#34;tag&#34;</span><span class="op" id="7861024">}</span><span class="op" id="7861025">,</span>&nbsp;<span class="op" id="7861027">[</span><span class="op" id="7861028">]</span><span class="ident" id="7861029"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7861033">{</span><span class="op" id="7861034">}</span><span class="op" id="7861035">}</span><span class="op" id="7861036">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861039"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861047">(</span><span class="string" id="7861048">&#34;&amp;#zzz;&#34;</span><span class="op" id="7861056">)</span><span class="op" id="7861057">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861060"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7861070">{</span><span class="ident" id="7861071"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861075">{</span><span class="string" id="7861076">&#34;&#34;</span><span class="op" id="7861078">,</span>&nbsp;<span class="string" id="7861080">&#34;tag&#34;</span><span class="op" id="7861085">}</span><span class="op" id="7861086">}</span><span class="op" id="7861087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861090"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861098">(</span><span class="string" id="7861099">&#34;\n&#34;</span><span class="op" id="7861103">)</span><span class="op" id="7861104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861107"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7861119">{</span><span class="ident" id="7861120"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861124">{</span><span class="string" id="7861125">&#34;&#34;</span><span class="op" id="7861127">,</span>&nbsp;<span class="string" id="7861129">&#34;tag&#34;</span><span class="op" id="7861134">}</span><span class="op" id="7861135">,</span>&nbsp;<span class="op" id="7861137">[</span><span class="op" id="7861138">]</span><span class="ident" id="7861139"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7861143">{</span><span class="op" id="7861144">}</span><span class="op" id="7861145">}</span><span class="op" id="7861146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861149"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861157">(</span><span class="string" id="7861158">&#34;&amp;なまえ3;&#34;</span><span class="op" id="7861172">)</span><span class="op" id="7861173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861176"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7861186">{</span><span class="ident" id="7861187"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861191">{</span><span class="string" id="7861192">&#34;&#34;</span><span class="op" id="7861194">,</span>&nbsp;<span class="string" id="7861196">&#34;tag&#34;</span><span class="op" id="7861201">}</span><span class="op" id="7861202">}</span><span class="op" id="7861203">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861206"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861214">(</span><span class="string" id="7861215">&#34;\n&#34;</span><span class="op" id="7861219">)</span><span class="op" id="7861220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861223"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7861235">{</span><span class="ident" id="7861236"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861240">{</span><span class="string" id="7861241">&#34;&#34;</span><span class="op" id="7861243">,</span>&nbsp;<span class="string" id="7861245">&#34;tag&#34;</span><span class="op" id="7861250">}</span><span class="op" id="7861251">,</span>&nbsp;<span class="op" id="7861253">[</span><span class="op" id="7861254">]</span><span class="ident" id="7861255"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7861259">{</span><span class="op" id="7861260">}</span><span class="op" id="7861261">}</span><span class="op" id="7861262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861265"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861273">(</span><span class="string" id="7861274">&#34;&amp;lt-gt;&#34;</span><span class="op" id="7861283">)</span><span class="op" id="7861284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861287"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7861297">{</span><span class="ident" id="7861298"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861302">{</span><span class="string" id="7861303">&#34;&#34;</span><span class="op" id="7861305">,</span>&nbsp;<span class="string" id="7861307">&#34;tag&#34;</span><span class="op" id="7861312">}</span><span class="op" id="7861313">}</span><span class="op" id="7861314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861317"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861325">(</span><span class="string" id="7861326">&#34;\n&#34;</span><span class="op" id="7861330">)</span><span class="op" id="7861331">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861334"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7861346">{</span><span class="ident" id="7861347"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861351">{</span><span class="string" id="7861352">&#34;&#34;</span><span class="op" id="7861354">,</span>&nbsp;<span class="string" id="7861356">&#34;tag&#34;</span><span class="op" id="7861361">}</span><span class="op" id="7861362">,</span>&nbsp;<span class="op" id="7861364">[</span><span class="op" id="7861365">]</span><span class="ident" id="7861366"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7861370">{</span><span class="op" id="7861371">}</span><span class="op" id="7861372">}</span><span class="op" id="7861373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861376"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861384">(</span><span class="string" id="7861385">&#34;&amp;;&#34;</span><span class="op" id="7861389">)</span><span class="op" id="7861390">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861393"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7861403">{</span><span class="ident" id="7861404"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861408">{</span><span class="string" id="7861409">&#34;&#34;</span><span class="op" id="7861411">,</span>&nbsp;<span class="string" id="7861413">&#34;tag&#34;</span><span class="op" id="7861418">}</span><span class="op" id="7861419">}</span><span class="op" id="7861420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861423"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861431">(</span><span class="string" id="7861432">&#34;\n&#34;</span><span class="op" id="7861436">)</span><span class="op" id="7861437">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861440"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7861452">{</span><span class="ident" id="7861453"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861457">{</span><span class="string" id="7861458">&#34;&#34;</span><span class="op" id="7861460">,</span>&nbsp;<span class="string" id="7861462">&#34;tag&#34;</span><span class="op" id="7861467">}</span><span class="op" id="7861468">,</span>&nbsp;<span class="op" id="7861470">[</span><span class="op" id="7861471">]</span><span class="ident" id="7861472"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7861476">{</span><span class="op" id="7861477">}</span><span class="op" id="7861478">}</span><span class="op" id="7861479">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861482"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861490">(</span><span class="string" id="7861491">&#34;&amp;0a;&#34;</span><span class="op" id="7861497">)</span><span class="op" id="7861498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861501"><a href="/encoding/xml/xml.go.html#5680709">EndElement</a></span><span class="op" id="7861511">{</span><span class="ident" id="7861512"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7861516">{</span><span class="string" id="7861517">&#34;&#34;</span><span class="op" id="7861519">,</span>&nbsp;<span class="string" id="7861521">&#34;tag&#34;</span><span class="op" id="7861526">}</span><span class="op" id="7861527">}</span><span class="op" id="7861528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861531"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7861539">(</span><span class="string" id="7861540">&#34;\n&#34;</span><span class="op" id="7861544">)</span><span class="op" id="7861545">,</span><br>
<span class="lineno"></span><span class="op" id="7861547">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="keyword" id="7861550">func</span>&nbsp;<span class="ident" id="7861555">TestNonStrictRawToken</span><span class="op" id="7861576">(</span><span class="ident" id="7861577">t</span>&nbsp;<span class="op" id="7861579">*</span><span class="ident" id="7861580"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7861587">.</span><span class="ident" id="7861588">T</span><span class="op" id="7861589">)</span>&nbsp;<span class="op" id="7861591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861594">d</span>&nbsp;<span class="op" id="7861596">:=</span>&nbsp;<span class="ident" id="7861599"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7861609">(</span><span class="ident" id="7861610"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7861617">.</span><span class="ident" id="7861618">NewReader</span><span class="op" id="7861627">(</span><span class="ident" id="7861628"><a href="/encoding/xml/xml_test.go.html#7860358">nonStrictInput</a></span><span class="op" id="7861642">)</span><span class="op" id="7861643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861646"><a href="/encoding/xml/xml_test.go.html#7861594">d</a></span><span class="op" id="7861647">.</span><span class="ident" id="7861648">Strict</span>&nbsp;<span class="op" id="7861655">=</span>&nbsp;<span class="ident" id="7861657">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861664"><a href="/encoding/xml/xml_test.go.html#7863039">testRawToken</a></span><span class="op" id="7861676">(</span><span class="ident" id="7861677"><a href="/encoding/xml/xml_test.go.html#7861577">t</a></span><span class="op" id="7861678">,</span>&nbsp;<span class="ident" id="7861680"><a href="/encoding/xml/xml_test.go.html#7861594">d</a></span><span class="op" id="7861681">,</span>&nbsp;<span class="ident" id="7861683"><a href="/encoding/xml/xml_test.go.html#7860358">nonStrictInput</a></span><span class="op" id="7861697">,</span>&nbsp;<span class="ident" id="7861699"><a href="/encoding/xml/xml_test.go.html#7860610">nonStrictTokens</a></span><span class="op" id="7861714">)</span><br>
<span class="lineno"></span><span class="op" id="7861716">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7861719">type</span>&nbsp;<span class="ident" id="7861724">downCaser</span>&nbsp;<span class="keyword" id="7861734">struct</span>&nbsp;<span class="op" id="7861741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861744">t</span>&nbsp;<span class="op" id="7861746">*</span><span class="ident" id="7861747"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7861754">.</span><span class="ident" id="7861755">T</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861758">r</span>&nbsp;<span class="ident" id="7861760"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7861762">.</span><span class="ident" id="7861763">ByteReader</span><br>
<span class="lineno"></span><span class="op" id="7861774">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="7861777">func</span>&nbsp;<span class="op" id="7861782">(</span><span class="ident" id="7861783">d</span>&nbsp;<span class="op" id="7861785">*</span><span class="ident" id="7861786"><a href="/encoding/xml/xml_test.go.html#7861724">downCaser</a></span><span class="op" id="7861795">)</span>&nbsp;<span class="ident" id="7861797">ReadByte</span><span class="op" id="7861805">(</span><span class="op" id="7861806">)</span>&nbsp;<span class="op" id="7861808">(</span><span class="ident" id="7861809">c</span>&nbsp;<span class="builtintype" id="7861811">byte</span><span class="op" id="7861815">,</span>&nbsp;<span class="ident" id="7861817">err</span>&nbsp;<span class="builtintype" id="7861821">error</span><span class="op" id="7861826">)</span>&nbsp;<span class="op" id="7861828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861831"><a href="/encoding/xml/xml_test.go.html#7861809">c</a></span><span class="op" id="7861832">,</span>&nbsp;<span class="ident" id="7861834"><a href="/encoding/xml/xml_test.go.html#7861817">err</a></span>&nbsp;<span class="op" id="7861838">=</span>&nbsp;<span class="ident" id="7861840"><a href="/encoding/xml/xml_test.go.html#7861783">d</a></span><span class="op" id="7861841">.</span><span class="ident" id="7861842">r</span><span class="op" id="7861843">.</span><span class="ident" id="7861844">ReadByte</span><span class="op" id="7861852">(</span><span class="op" id="7861853">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861856">if</span>&nbsp;<span class="ident" id="7861859"><a href="/encoding/xml/xml_test.go.html#7861809">c</a></span>&nbsp;<span class="op" id="7861861">&gt;=</span>&nbsp;<span class="string" id="7861864">&#39;A&#39;</span>&nbsp;<span class="op" id="7861868">&amp;&amp;</span>&nbsp;<span class="ident" id="7861871"><a href="/encoding/xml/xml_test.go.html#7861809">c</a></span>&nbsp;<span class="op" id="7861873">&lt;=</span>&nbsp;<span class="string" id="7861876">&#39;Z&#39;</span>&nbsp;<span class="op" id="7861880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861884"><a href="/encoding/xml/xml_test.go.html#7861809">c</a></span>&nbsp;<span class="op" id="7861886">+=</span>&nbsp;<span class="string" id="7861889">&#39;a&#39;</span>&nbsp;<span class="op" id="7861893">-</span>&nbsp;<span class="string" id="7861895">&#39;A&#39;</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7861900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7861903">return</span><br>
<span class="lineno"></span><span class="op" id="7861910">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7861913">func</span>&nbsp;<span class="op" id="7861918">(</span><span class="ident" id="7861919">d</span>&nbsp;<span class="op" id="7861921">*</span><span class="ident" id="7861922"><a href="/encoding/xml/xml_test.go.html#7861724">downCaser</a></span><span class="op" id="7861931">)</span>&nbsp;<span class="ident" id="7861933">Read</span><span class="op" id="7861937">(</span><span class="ident" id="7861938">p</span>&nbsp;<span class="op" id="7861940">[</span><span class="op" id="7861941">]</span><span class="builtintype" id="7861942">byte</span><span class="op" id="7861946">)</span>&nbsp;<span class="op" id="7861948">(</span><span class="builtintype" id="7861949">int</span><span class="op" id="7861952">,</span>&nbsp;<span class="builtintype" id="7861954">error</span><span class="op" id="7861959">)</span>&nbsp;<span class="op" id="7861961">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7861964"><a href="/encoding/xml/xml_test.go.html#7861919">d</a></span><span class="op" id="7861965">.</span><span class="ident" id="7861966">t</span><span class="op" id="7861967">.</span><span class="ident" id="7861968">Fatalf</span><span class="op" id="7861974">(</span><span class="string" id="7861975">&#34;unexpected&nbsp;Read&nbsp;call&nbsp;on&nbsp;downCaser&nbsp;reader&#34;</span><span class="op" id="7862017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7862020">panic</span><span class="op" id="7862025">(</span><span class="string" id="7862026">&#34;unreachable&#34;</span><span class="op" id="7862039">)</span><br>
<span class="lineno"></span><span class="op" id="7862041">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7862044">func</span>&nbsp;<span class="ident" id="7862049">TestRawTokenAltEncoding</span><span class="op" id="7862072">(</span><span class="ident" id="7862073">t</span>&nbsp;<span class="op" id="7862075">*</span><span class="ident" id="7862076"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7862083">.</span><span class="ident" id="7862084">T</span><span class="op" id="7862085">)</span>&nbsp;<span class="op" id="7862087">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862090">d</span>&nbsp;<span class="op" id="7862092">:=</span>&nbsp;<span class="ident" id="7862095"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7862105">(</span><span class="ident" id="7862106"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7862113">.</span><span class="ident" id="7862114">NewReader</span><span class="op" id="7862123">(</span><span class="ident" id="7862124"><a href="/encoding/xml/xml_test.go.html#7859249">testInputAltEncoding</a></span><span class="op" id="7862144">)</span><span class="op" id="7862145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862148"><a href="/encoding/xml/xml_test.go.html#7862090">d</a></span><span class="op" id="7862149">.</span><span class="ident" id="7862150">CharsetReader</span>&nbsp;<span class="op" id="7862164">=</span>&nbsp;<span class="keyword" id="7862166">func</span><span class="op" id="7862170">(</span><span class="ident" id="7862171">charset</span>&nbsp;<span class="builtintype" id="7862179">string</span><span class="op" id="7862185">,</span>&nbsp;<span class="ident" id="7862187">input</span>&nbsp;<span class="ident" id="7862193"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7862195">.</span><span class="ident" id="7862196">Reader</span><span class="op" id="7862202">)</span>&nbsp;<span class="op" id="7862204">(</span><span class="ident" id="7862205"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7862207">.</span><span class="ident" id="7862208">Reader</span><span class="op" id="7862214">,</span>&nbsp;<span class="builtintype" id="7862216">error</span><span class="op" id="7862221">)</span>&nbsp;<span class="op" id="7862223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862227">if</span>&nbsp;<span class="ident" id="7862230"><a href="/encoding/xml/xml_test.go.html#7862171">charset</a></span>&nbsp;<span class="op" id="7862238">!=</span>&nbsp;<span class="string" id="7862241">&#34;x-testing-uppercase&#34;</span>&nbsp;<span class="op" id="7862263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862268"><a href="/encoding/xml/xml_test.go.html#7862073">t</a></span><span class="op" id="7862269">.</span><span class="ident" id="7862270">Fatalf</span><span class="op" id="7862276">(</span><span class="string" id="7862277">&#34;unexpected&nbsp;charset&nbsp;%q&#34;</span><span class="op" id="7862300">,</span>&nbsp;<span class="ident" id="7862302"><a href="/encoding/xml/xml_test.go.html#7862171">charset</a></span><span class="op" id="7862309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862313">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862317">return</span>&nbsp;<span class="op" id="7862324">&amp;</span><span class="ident" id="7862325"><a href="/encoding/xml/xml_test.go.html#7861724">downCaser</a></span><span class="op" id="7862334">{</span><span class="ident" id="7862335"><a href="/encoding/xml/xml_test.go.html#7862073">t</a></span><span class="op" id="7862336">,</span>&nbsp;<span class="ident" id="7862338"><a href="/encoding/xml/xml_test.go.html#7862187">input</a></span><span class="op" id="7862343">.</span><span class="op" id="7862344">(</span><span class="ident" id="7862345"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7862347">.</span><span class="ident" id="7862348">ByteReader</span><span class="op" id="7862358">)</span><span class="op" id="7862359">}</span><span class="op" id="7862360">,</span>&nbsp;<span class="ident" id="7862362">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862370"><a href="/encoding/xml/xml_test.go.html#7863039">testRawToken</a></span><span class="op" id="7862382">(</span><span class="ident" id="7862383"><a href="/encoding/xml/xml_test.go.html#7862073">t</a></span><span class="op" id="7862384">,</span>&nbsp;<span class="ident" id="7862386"><a href="/encoding/xml/xml_test.go.html#7862090">d</a></span><span class="op" id="7862387">,</span>&nbsp;<span class="ident" id="7862389"><a href="/encoding/xml/xml_test.go.html#7859249">testInputAltEncoding</a></span><span class="op" id="7862409">,</span>&nbsp;<span class="ident" id="7862411"><a href="/encoding/xml/xml_test.go.html#7859350">rawTokensAltEncoding</a></span><span class="op" id="7862431">)</span><br>
<span class="lineno"></span><span class="op" id="7862433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="keyword" id="7862436">func</span>&nbsp;<span class="ident" id="7862441">TestRawTokenAltEncodingNoConverter</span><span class="op" id="7862475">(</span><span class="ident" id="7862476">t</span>&nbsp;<span class="op" id="7862478">*</span><span class="ident" id="7862479"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7862486">.</span><span class="ident" id="7862487">T</span><span class="op" id="7862488">)</span>&nbsp;<span class="op" id="7862490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862493">d</span>&nbsp;<span class="op" id="7862495">:=</span>&nbsp;<span class="ident" id="7862498"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7862508">(</span><span class="ident" id="7862509"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7862516">.</span><span class="ident" id="7862517">NewReader</span><span class="op" id="7862526">(</span><span class="ident" id="7862527"><a href="/encoding/xml/xml_test.go.html#7859249">testInputAltEncoding</a></span><span class="op" id="7862547">)</span><span class="op" id="7862548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862551">token</span><span class="op" id="7862556">,</span>&nbsp;<span class="ident" id="7862558">err</span>&nbsp;<span class="op" id="7862562">:=</span>&nbsp;<span class="ident" id="7862565"><a href="/encoding/xml/xml_test.go.html#7862493">d</a></span><span class="op" id="7862566">.</span><span class="ident" id="7862567">RawToken</span><span class="op" id="7862575">(</span><span class="op" id="7862576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862579">if</span>&nbsp;<span class="ident" id="7862582"><a href="/encoding/xml/xml_test.go.html#7862551">token</a></span>&nbsp;<span class="op" id="7862588">==</span>&nbsp;<span class="ident" id="7862591">nil</span>&nbsp;<span class="op" id="7862595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862599"><a href="/encoding/xml/xml_test.go.html#7862476">t</a></span><span class="op" id="7862600">.</span><span class="ident" id="7862601">Fatalf</span><span class="op" id="7862607">(</span><span class="string" id="7862608">&#34;expected&nbsp;a&nbsp;token&nbsp;on&nbsp;first&nbsp;RawToken&nbsp;call&#34;</span><span class="op" id="7862649">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862655">if</span>&nbsp;<span class="ident" id="7862658"><a href="/encoding/xml/xml_test.go.html#7862558">err</a></span>&nbsp;<span class="op" id="7862662">!=</span>&nbsp;<span class="ident" id="7862665">nil</span>&nbsp;<span class="op" id="7862669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862673"><a href="/encoding/xml/xml_test.go.html#7862476">t</a></span><span class="op" id="7862674">.</span><span class="ident" id="7862675">Fatal</span><span class="op" id="7862680">(</span><span class="ident" id="7862681"><a href="/encoding/xml/xml_test.go.html#7862558">err</a></span><span class="op" id="7862684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862690"><a href="/encoding/xml/xml_test.go.html#7862551">token</a></span><span class="op" id="7862695">,</span>&nbsp;<span class="ident" id="7862697"><a href="/encoding/xml/xml_test.go.html#7862558">err</a></span>&nbsp;<span class="op" id="7862701">=</span>&nbsp;<span class="ident" id="7862703"><a href="/encoding/xml/xml_test.go.html#7862493">d</a></span><span class="op" id="7862704">.</span><span class="ident" id="7862705">RawToken</span><span class="op" id="7862713">(</span><span class="op" id="7862714">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862717">if</span>&nbsp;<span class="ident" id="7862720"><a href="/encoding/xml/xml_test.go.html#7862551">token</a></span>&nbsp;<span class="op" id="7862726">!=</span>&nbsp;<span class="ident" id="7862729">nil</span>&nbsp;<span class="op" id="7862733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862737"><a href="/encoding/xml/xml_test.go.html#7862476">t</a></span><span class="op" id="7862738">.</span><span class="ident" id="7862739">Errorf</span><span class="op" id="7862745">(</span><span class="string" id="7862746">&#34;expected&nbsp;a&nbsp;nil&nbsp;token;&nbsp;got&nbsp;%#v&#34;</span><span class="op" id="7862777">,</span>&nbsp;<span class="ident" id="7862779"><a href="/encoding/xml/xml_test.go.html#7862551">token</a></span><span class="op" id="7862784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862790">if</span>&nbsp;<span class="ident" id="7862793"><a href="/encoding/xml/xml_test.go.html#7862558">err</a></span>&nbsp;<span class="op" id="7862797">==</span>&nbsp;<span class="ident" id="7862800">nil</span>&nbsp;<span class="op" id="7862804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862808"><a href="/encoding/xml/xml_test.go.html#7862476">t</a></span><span class="op" id="7862809">.</span><span class="ident" id="7862810">Fatalf</span><span class="op" id="7862816">(</span><span class="string" id="7862817">&#34;expected&nbsp;an&nbsp;error&nbsp;on&nbsp;second&nbsp;RawToken&nbsp;call&#34;</span><span class="op" id="7862860">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7862863">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862866">const</span>&nbsp;<span class="ident" id="7862872">encoding</span>&nbsp;<span class="op" id="7862881">=</span>&nbsp;<span class="string" id="7862883">&#34;x-testing-uppercase&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7862906">if</span>&nbsp;<span class="op" id="7862909">!</span><span class="ident" id="7862910"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7862917">.</span><span class="ident" id="7862918">Contains</span><span class="op" id="7862926">(</span><span class="ident" id="7862927"><a href="/encoding/xml/xml_test.go.html#7862558">err</a></span><span class="op" id="7862930">.</span><span class="ident" id="7862931">Error</span><span class="op" id="7862936">(</span><span class="op" id="7862937">)</span><span class="op" id="7862938">,</span>&nbsp;<span class="ident" id="7862940"><a href="/encoding/xml/xml_test.go.html#7862872">encoding</a></span><span class="op" id="7862948">)</span>&nbsp;<span class="op" id="7862950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7862954"><a href="/encoding/xml/xml_test.go.html#7862476">t</a></span><span class="op" id="7862955">.</span><span class="ident" id="7862956">Errorf</span><span class="op" id="7862962">(</span><span class="string" id="7862963">&#34;expected&nbsp;error&nbsp;to&nbsp;contain&nbsp;%q;&nbsp;got&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7863008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863013"><a href="/encoding/xml/xml_test.go.html#7862872">encoding</a></span><span class="op" id="7863021">,</span>&nbsp;<span class="ident" id="7863023"><a href="/encoding/xml/xml_test.go.html#7862558">err</a></span><span class="op" id="7863026">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863029">}</span><br>
<span class="lineno"></span><span class="op" id="7863031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7863034">func</span>&nbsp;<span class="ident" id="7863039">testRawToken</span><span class="op" id="7863051">(</span><span class="ident" id="7863052">t</span>&nbsp;<span class="op" id="7863054">*</span><span class="ident" id="7863055"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7863062">.</span><span class="ident" id="7863063">T</span><span class="op" id="7863064">,</span>&nbsp;<span class="ident" id="7863066">d</span>&nbsp;<span class="op" id="7863068">*</span><span class="ident" id="7863069"><a href="/encoding/xml/xml.go.html#5682126">Decoder</a></span><span class="op" id="7863076">,</span>&nbsp;<span class="ident" id="7863078">raw</span>&nbsp;<span class="builtintype" id="7863082">string</span><span class="op" id="7863088">,</span>&nbsp;<span class="ident" id="7863090">rawTokens</span>&nbsp;<span class="op" id="7863100">[</span><span class="op" id="7863101">]</span><span class="ident" id="7863102"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7863107">)</span>&nbsp;<span class="op" id="7863109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863112">lastEnd</span>&nbsp;<span class="op" id="7863120">:=</span>&nbsp;<span class="ident" id="7863123">int64</span><span class="op" id="7863128">(</span><span class="num" id="7863129">0</span><span class="op" id="7863130">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863133">for</span>&nbsp;<span class="ident" id="7863137">i</span><span class="op" id="7863138">,</span>&nbsp;<span class="ident" id="7863140">want</span>&nbsp;<span class="op" id="7863145">:=</span>&nbsp;<span class="keyword" id="7863148">range</span>&nbsp;<span class="ident" id="7863154"><a href="/encoding/xml/xml_test.go.html#7863090">rawTokens</a></span>&nbsp;<span class="op" id="7863164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863168">start</span>&nbsp;<span class="op" id="7863174">:=</span>&nbsp;<span class="ident" id="7863177"><a href="/encoding/xml/xml_test.go.html#7863066">d</a></span><span class="op" id="7863178">.</span><span class="ident" id="7863179">InputOffset</span><span class="op" id="7863190">(</span><span class="op" id="7863191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863195">have</span><span class="op" id="7863199">,</span>&nbsp;<span class="ident" id="7863201">err</span>&nbsp;<span class="op" id="7863205">:=</span>&nbsp;<span class="ident" id="7863208"><a href="/encoding/xml/xml_test.go.html#7863066">d</a></span><span class="op" id="7863209">.</span><span class="ident" id="7863210">RawToken</span><span class="op" id="7863218">(</span><span class="op" id="7863219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863223">end</span>&nbsp;<span class="op" id="7863227">:=</span>&nbsp;<span class="ident" id="7863230"><a href="/encoding/xml/xml_test.go.html#7863066">d</a></span><span class="op" id="7863231">.</span><span class="ident" id="7863232">InputOffset</span><span class="op" id="7863243">(</span><span class="op" id="7863244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863248">if</span>&nbsp;<span class="ident" id="7863251"><a href="/encoding/xml/xml_test.go.html#7863201">err</a></span>&nbsp;<span class="op" id="7863255">!=</span>&nbsp;<span class="ident" id="7863258">nil</span>&nbsp;<span class="op" id="7863262">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863267"><a href="/encoding/xml/xml_test.go.html#7863052">t</a></span><span class="op" id="7863268">.</span><span class="ident" id="7863269">Fatalf</span><span class="op" id="7863275">(</span><span class="string" id="7863276">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7863308">,</span>&nbsp;<span class="ident" id="7863310"><a href="/encoding/xml/xml_test.go.html#7863137">i</a></span><span class="op" id="7863311">,</span>&nbsp;<span class="ident" id="7863313"><a href="/encoding/xml/xml_test.go.html#7863201">err</a></span><span class="op" id="7863316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863324">if</span>&nbsp;<span class="op" id="7863327">!</span><span class="ident" id="7863328"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7863335">.</span><span class="ident" id="7863336">DeepEqual</span><span class="op" id="7863345">(</span><span class="ident" id="7863346"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7863350">,</span>&nbsp;<span class="ident" id="7863352"><a href="/encoding/xml/xml_test.go.html#7863140">want</a></span><span class="op" id="7863356">)</span>&nbsp;<span class="op" id="7863358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863363">var</span>&nbsp;<span class="ident" id="7863367">shave</span><span class="op" id="7863372">,</span>&nbsp;<span class="ident" id="7863374">swant</span>&nbsp;<span class="builtintype" id="7863380">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863390">if</span>&nbsp;<span class="ident" id="7863393">_</span><span class="op" id="7863394">,</span>&nbsp;<span class="ident" id="7863396">ok</span>&nbsp;<span class="op" id="7863399">:=</span>&nbsp;<span class="ident" id="7863402"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7863406">.</span><span class="op" id="7863407">(</span><span class="ident" id="7863408"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7863416">)</span><span class="op" id="7863417">;</span>&nbsp;<span class="ident" id="7863419"><a href="/encoding/xml/xml_test.go.html#7863396">ok</a></span>&nbsp;<span class="op" id="7863422">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863428"><a href="/encoding/xml/xml_test.go.html#7863367">shave</a></span>&nbsp;<span class="op" id="7863434">=</span>&nbsp;<span class="ident" id="7863436"><a href="/encoding/xml/xml_test.go.html#7855917">fmt</a></span><span class="op" id="7863439">.</span><span class="ident" id="7863440">Sprintf</span><span class="op" id="7863447">(</span><span class="string" id="7863448">&#34;CharData(%q)&#34;</span><span class="op" id="7863462">,</span>&nbsp;<span class="ident" id="7863464"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7863468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863473">}</span>&nbsp;<span class="keyword" id="7863475">else</span>&nbsp;<span class="op" id="7863480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863486"><a href="/encoding/xml/xml_test.go.html#7863367">shave</a></span>&nbsp;<span class="op" id="7863492">=</span>&nbsp;<span class="ident" id="7863494"><a href="/encoding/xml/xml_test.go.html#7855917">fmt</a></span><span class="op" id="7863497">.</span><span class="ident" id="7863498">Sprintf</span><span class="op" id="7863505">(</span><span class="string" id="7863506">&#34;%#v&#34;</span><span class="op" id="7863511">,</span>&nbsp;<span class="ident" id="7863513"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7863517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863522">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863527">if</span>&nbsp;<span class="ident" id="7863530">_</span><span class="op" id="7863531">,</span>&nbsp;<span class="ident" id="7863533">ok</span>&nbsp;<span class="op" id="7863536">:=</span>&nbsp;<span class="ident" id="7863539"><a href="/encoding/xml/xml_test.go.html#7863140">want</a></span><span class="op" id="7863543">.</span><span class="op" id="7863544">(</span><span class="ident" id="7863545"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7863553">)</span><span class="op" id="7863554">;</span>&nbsp;<span class="ident" id="7863556"><a href="/encoding/xml/xml_test.go.html#7863533">ok</a></span>&nbsp;<span class="op" id="7863559">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863565"><a href="/encoding/xml/xml_test.go.html#7863374">swant</a></span>&nbsp;<span class="op" id="7863571">=</span>&nbsp;<span class="ident" id="7863573"><a href="/encoding/xml/xml_test.go.html#7855917">fmt</a></span><span class="op" id="7863576">.</span><span class="ident" id="7863577">Sprintf</span><span class="op" id="7863584">(</span><span class="string" id="7863585">&#34;CharData(%q)&#34;</span><span class="op" id="7863599">,</span>&nbsp;<span class="ident" id="7863601"><a href="/encoding/xml/xml_test.go.html#7863140">want</a></span><span class="op" id="7863605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863610">}</span>&nbsp;<span class="keyword" id="7863612">else</span>&nbsp;<span class="op" id="7863617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863623"><a href="/encoding/xml/xml_test.go.html#7863374">swant</a></span>&nbsp;<span class="op" id="7863629">=</span>&nbsp;<span class="ident" id="7863631"><a href="/encoding/xml/xml_test.go.html#7855917">fmt</a></span><span class="op" id="7863634">.</span><span class="ident" id="7863635">Sprintf</span><span class="op" id="7863642">(</span><span class="string" id="7863643">&#34;%#v&#34;</span><span class="op" id="7863648">,</span>&nbsp;<span class="ident" id="7863650"><a href="/encoding/xml/xml_test.go.html#7863140">want</a></span><span class="op" id="7863654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863664"><a href="/encoding/xml/xml_test.go.html#7863052">t</a></span><span class="op" id="7863665">.</span><span class="ident" id="7863666">Errorf</span><span class="op" id="7863672">(</span><span class="string" id="7863673">&#34;token&nbsp;%d&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="7863697">,</span>&nbsp;<span class="ident" id="7863699"><a href="/encoding/xml/xml_test.go.html#7863137">i</a></span><span class="op" id="7863700">,</span>&nbsp;<span class="ident" id="7863702"><a href="/encoding/xml/xml_test.go.html#7863367">shave</a></span><span class="op" id="7863707">,</span>&nbsp;<span class="ident" id="7863709"><a href="/encoding/xml/xml_test.go.html#7863374">swant</a></span><span class="op" id="7863714">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7863718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7863723">//&nbsp;Check&nbsp;that&nbsp;InputOffset&nbsp;returned&nbsp;actual&nbsp;token.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863774">switch</span>&nbsp;<span class="op" id="7863781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863785">case</span>&nbsp;<span class="ident" id="7863790"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span>&nbsp;<span class="op" id="7863796">&lt;</span>&nbsp;<span class="ident" id="7863798"><a href="/encoding/xml/xml_test.go.html#7863112">lastEnd</a></span><span class="op" id="7863805">:</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7863810"><a href="/encoding/xml/xml_test.go.html#7863052">t</a></span><span class="op" id="7863811">.</span><span class="ident" id="7863812">Errorf</span><span class="op" id="7863818">(</span><span class="string" id="7863819">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;is&nbsp;before&nbsp;previous&nbsp;token&#34;</span><span class="op" id="7863879">,</span>&nbsp;<span class="ident" id="7863881"><a href="/encoding/xml/xml_test.go.html#7863137">i</a></span><span class="op" id="7863882">,</span>&nbsp;<span class="ident" id="7863884"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span><span class="op" id="7863889">,</span>&nbsp;<span class="ident" id="7863891"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span><span class="op" id="7863894">,</span>&nbsp;<span class="ident" id="7863896"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7863900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863904">case</span>&nbsp;<span class="ident" id="7863909"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span>&nbsp;<span class="op" id="7863915">&gt;=</span>&nbsp;<span class="ident" id="7863918"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span><span class="op" id="7863921">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7863926">//&nbsp;Special&nbsp;case:&nbsp;EndElement&nbsp;can&nbsp;be&nbsp;synthesized.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7863977">if</span>&nbsp;<span class="ident" id="7863980"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span>&nbsp;<span class="op" id="7863986">==</span>&nbsp;<span class="ident" id="7863989"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span>&nbsp;<span class="op" id="7863993">&amp;&amp;</span>&nbsp;<span class="ident" id="7863996"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span>&nbsp;<span class="op" id="7864000">==</span>&nbsp;<span class="ident" id="7864003"><a href="/encoding/xml/xml_test.go.html#7863112">lastEnd</a></span>&nbsp;<span class="op" id="7864011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864017">break</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864026">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864031"><a href="/encoding/xml/xml_test.go.html#7863052">t</a></span><span class="op" id="7864032">.</span><span class="ident" id="7864033">Errorf</span><span class="op" id="7864039">(</span><span class="string" id="7864040">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;is&nbsp;empty&#34;</span><span class="op" id="7864084">,</span>&nbsp;<span class="ident" id="7864086"><a href="/encoding/xml/xml_test.go.html#7863137">i</a></span><span class="op" id="7864087">,</span>&nbsp;<span class="ident" id="7864089"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span><span class="op" id="7864094">,</span>&nbsp;<span class="ident" id="7864096"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span><span class="op" id="7864099">,</span>&nbsp;<span class="ident" id="7864101"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7864105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864109">case</span>&nbsp;<span class="ident" id="7864114"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span>&nbsp;<span class="op" id="7864118">&gt;</span>&nbsp;<span class="ident" id="7864120">int64</span><span class="op" id="7864125">(</span><span class="builtinfunc" id="7864126">len</span><span class="op" id="7864129">(</span><span class="ident" id="7864130"><a href="/encoding/xml/xml_test.go.html#7863078">raw</a></span><span class="op" id="7864133">)</span><span class="op" id="7864134">)</span><span class="op" id="7864135">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864140"><a href="/encoding/xml/xml_test.go.html#7863052">t</a></span><span class="op" id="7864141">.</span><span class="ident" id="7864142">Errorf</span><span class="op" id="7864148">(</span><span class="string" id="7864149">&#34;token&nbsp;%d:&nbsp;position&nbsp;[%d,%d)&nbsp;for&nbsp;%T&nbsp;extends&nbsp;beyond&nbsp;input&#34;</span><span class="op" id="7864205">,</span>&nbsp;<span class="ident" id="7864207"><a href="/encoding/xml/xml_test.go.html#7863137">i</a></span><span class="op" id="7864208">,</span>&nbsp;<span class="ident" id="7864210"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span><span class="op" id="7864215">,</span>&nbsp;<span class="ident" id="7864217"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span><span class="op" id="7864220">,</span>&nbsp;<span class="ident" id="7864222"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7864226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864230">default</span><span class="op" id="7864237">:</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864242">text</span>&nbsp;<span class="op" id="7864247">:=</span>&nbsp;<span class="ident" id="7864250"><a href="/encoding/xml/xml_test.go.html#7863078">raw</a></span><span class="op" id="7864253">[</span><span class="ident" id="7864254"><a href="/encoding/xml/xml_test.go.html#7863168">start</a></span><span class="op" id="7864259">:</span><span class="ident" id="7864260"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span><span class="op" id="7864263">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7864268">if</span>&nbsp;<span class="ident" id="7864271"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7864278">.</span><span class="ident" id="7864279">ContainsAny</span><span class="op" id="7864290">(</span><span class="ident" id="7864291"><a href="/encoding/xml/xml_test.go.html#7864242">text</a></span><span class="op" id="7864295">,</span>&nbsp;<span class="string" id="7864297">&#34;&lt;&gt;&#34;</span><span class="op" id="7864301">)</span>&nbsp;<span class="op" id="7864303">&amp;&amp;</span>&nbsp;<span class="op" id="7864306">(</span><span class="op" id="7864307">!</span><span class="ident" id="7864308"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7864315">.</span><span class="ident" id="7864316">HasPrefix</span><span class="op" id="7864325">(</span><span class="ident" id="7864326"><a href="/encoding/xml/xml_test.go.html#7864242">text</a></span><span class="op" id="7864330">,</span>&nbsp;<span class="string" id="7864332">&#34;&lt;&#34;</span><span class="op" id="7864335">)</span>&nbsp;<span class="op" id="7864337">||</span>&nbsp;<span class="op" id="7864340">!</span><span class="ident" id="7864341"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7864348">.</span><span class="ident" id="7864349">HasSuffix</span><span class="op" id="7864358">(</span><span class="ident" id="7864359"><a href="/encoding/xml/xml_test.go.html#7864242">text</a></span><span class="op" id="7864363">,</span>&nbsp;<span class="string" id="7864365">&#34;&gt;&#34;</span><span class="op" id="7864368">)</span><span class="op" id="7864369">)</span>&nbsp;<span class="op" id="7864371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864377"><a href="/encoding/xml/xml_test.go.html#7863052">t</a></span><span class="op" id="7864378">.</span><span class="ident" id="7864379">Errorf</span><span class="op" id="7864385">(</span><span class="string" id="7864386">&#34;token&nbsp;%d:&nbsp;misaligned&nbsp;raw&nbsp;token&nbsp;%#q&nbsp;for&nbsp;%T&#34;</span><span class="op" id="7864429">,</span>&nbsp;<span class="ident" id="7864431"><a href="/encoding/xml/xml_test.go.html#7863137">i</a></span><span class="op" id="7864432">,</span>&nbsp;<span class="ident" id="7864434"><a href="/encoding/xml/xml_test.go.html#7864242">text</a></span><span class="op" id="7864438">,</span>&nbsp;<span class="ident" id="7864440"><a href="/encoding/xml/xml_test.go.html#7863195">have</a></span><span class="op" id="7864444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864449">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864453">}</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7864457"><a href="/encoding/xml/xml_test.go.html#7863112">lastEnd</a></span>&nbsp;<span class="op" id="7864465">=</span>&nbsp;<span class="ident" id="7864467"><a href="/encoding/xml/xml_test.go.html#7863223">end</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7864472">}</span><br>
<span class="lineno"></span><span class="op" id="7864474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7864477">//&nbsp;Ensure&nbsp;that&nbsp;directives&nbsp;(specifically&nbsp;!DOCTYPE)&nbsp;include&nbsp;the&nbsp;complete</span><br>
<span class="lineno">330</span><span class="comment" id="7864548">//&nbsp;text&nbsp;of&nbsp;any&nbsp;nested&nbsp;directives,&nbsp;noting&nbsp;that&nbsp;&lt;&nbsp;and&nbsp;&gt;&nbsp;do&nbsp;not&nbsp;change</span><br>
<span class="lineno"></span><span class="comment" id="7864616">//&nbsp;nesting&nbsp;depth&nbsp;if&nbsp;they&nbsp;are&nbsp;in&nbsp;single&nbsp;or&nbsp;double&nbsp;quotes.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7864674">var</span>&nbsp;<span class="ident" id="7864678">nestedDirectivesInput</span>&nbsp;<span class="op" id="7864700">=</span>&nbsp;<span class="string" id="7864702">`<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]&gt;<br>
<span class="lineno">335</span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&gt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&lt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&gt;&#39;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&lt;&#39;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&#34;&gt;&#39;&gt;]&gt;<br>
<span class="lineno">340</span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&#39;&lt;&#34;&gt;]&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7864968">var</span>&nbsp;<span class="ident" id="7864972">nestedDirectivesTokens</span>&nbsp;<span class="op" id="7864995">=</span>&nbsp;<span class="op" id="7864997">[</span><span class="op" id="7864998">]</span><span class="ident" id="7864999"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7865004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865007"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865015">(</span><span class="string" id="7865016">&#34;\n&#34;</span><span class="op" id="7865020">)</span><span class="op" id="7865021">,</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865024"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865033">(</span><span class="string" id="7865034">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]`</span><span class="op" id="7865105">)</span><span class="op" id="7865106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865109"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865117">(</span><span class="string" id="7865118">&#34;\n&#34;</span><span class="op" id="7865122">)</span><span class="op" id="7865123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865126"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865135">(</span><span class="string" id="7865136">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&gt;&#34;&gt;]`</span><span class="op" id="7865165">)</span><span class="op" id="7865166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865169"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865177">(</span><span class="string" id="7865178">&#34;\n&#34;</span><span class="op" id="7865182">)</span><span class="op" id="7865183">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865186"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865195">(</span><span class="string" id="7865196">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&lt;&#34;&gt;]`</span><span class="op" id="7865225">)</span><span class="op" id="7865226">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865229"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865237">(</span><span class="string" id="7865238">&#34;\n&#34;</span><span class="op" id="7865242">)</span><span class="op" id="7865243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865246"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865255">(</span><span class="string" id="7865256">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&gt;&#39;&gt;]`</span><span class="op" id="7865285">)</span><span class="op" id="7865286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865289"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865297">(</span><span class="string" id="7865298">&#34;\n&#34;</span><span class="op" id="7865302">)</span><span class="op" id="7865303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865306"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865315">(</span><span class="string" id="7865316">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&lt;&#39;&gt;]`</span><span class="op" id="7865345">)</span><span class="op" id="7865346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865349"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865357">(</span><span class="string" id="7865358">&#34;\n&#34;</span><span class="op" id="7865362">)</span><span class="op" id="7865363">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865366"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865375">(</span><span class="string" id="7865376">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#39;&#34;&gt;&#39;&gt;]`</span><span class="op" id="7865406">)</span><span class="op" id="7865407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865410"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865418">(</span><span class="string" id="7865419">&#34;\n&#34;</span><span class="op" id="7865423">)</span><span class="op" id="7865424">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865427"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7865436">(</span><span class="string" id="7865437">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;xlt&nbsp;&#34;&#39;&lt;&#34;&gt;]`</span><span class="op" id="7865467">)</span><span class="op" id="7865468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865471"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7865479">(</span><span class="string" id="7865480">&#34;\n&#34;</span><span class="op" id="7865484">)</span><span class="op" id="7865485">,</span><br>
<span class="lineno"></span><span class="op" id="7865487">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="7865490">func</span>&nbsp;<span class="ident" id="7865495">TestNestedDirectives</span><span class="op" id="7865515">(</span><span class="ident" id="7865516">t</span>&nbsp;<span class="op" id="7865518">*</span><span class="ident" id="7865519"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7865526">.</span><span class="ident" id="7865527">T</span><span class="op" id="7865528">)</span>&nbsp;<span class="op" id="7865530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865533">d</span>&nbsp;<span class="op" id="7865535">:=</span>&nbsp;<span class="ident" id="7865538"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7865548">(</span><span class="ident" id="7865549"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7865556">.</span><span class="ident" id="7865557">NewReader</span><span class="op" id="7865566">(</span><span class="ident" id="7865567"><a href="/encoding/xml/xml_test.go.html#7864678">nestedDirectivesInput</a></span><span class="op" id="7865588">)</span><span class="op" id="7865589">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865593">for</span>&nbsp;<span class="ident" id="7865597">i</span><span class="op" id="7865598">,</span>&nbsp;<span class="ident" id="7865600">want</span>&nbsp;<span class="op" id="7865605">:=</span>&nbsp;<span class="keyword" id="7865608">range</span>&nbsp;<span class="ident" id="7865614"><a href="/encoding/xml/xml_test.go.html#7864972">nestedDirectivesTokens</a></span>&nbsp;<span class="op" id="7865637">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865641">have</span><span class="op" id="7865645">,</span>&nbsp;<span class="ident" id="7865647">err</span>&nbsp;<span class="op" id="7865651">:=</span>&nbsp;<span class="ident" id="7865654"><a href="/encoding/xml/xml_test.go.html#7865533">d</a></span><span class="op" id="7865655">.</span><span class="ident" id="7865656">Token</span><span class="op" id="7865661">(</span><span class="op" id="7865662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865666">if</span>&nbsp;<span class="ident" id="7865669"><a href="/encoding/xml/xml_test.go.html#7865647">err</a></span>&nbsp;<span class="op" id="7865673">!=</span>&nbsp;<span class="ident" id="7865676">nil</span>&nbsp;<span class="op" id="7865680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865685"><a href="/encoding/xml/xml_test.go.html#7865516">t</a></span><span class="op" id="7865686">.</span><span class="ident" id="7865687">Fatalf</span><span class="op" id="7865693">(</span><span class="string" id="7865694">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7865726">,</span>&nbsp;<span class="ident" id="7865728"><a href="/encoding/xml/xml_test.go.html#7865597">i</a></span><span class="op" id="7865729">,</span>&nbsp;<span class="ident" id="7865731"><a href="/encoding/xml/xml_test.go.html#7865647">err</a></span><span class="op" id="7865734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865742">if</span>&nbsp;<span class="op" id="7865745">!</span><span class="ident" id="7865746"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7865753">.</span><span class="ident" id="7865754">DeepEqual</span><span class="op" id="7865763">(</span><span class="ident" id="7865764"><a href="/encoding/xml/xml_test.go.html#7865641">have</a></span><span class="op" id="7865768">,</span>&nbsp;<span class="ident" id="7865770"><a href="/encoding/xml/xml_test.go.html#7865600">want</a></span><span class="op" id="7865774">)</span>&nbsp;<span class="op" id="7865776">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865781"><a href="/encoding/xml/xml_test.go.html#7865516">t</a></span><span class="op" id="7865782">.</span><span class="ident" id="7865783">Errorf</span><span class="op" id="7865789">(</span><span class="string" id="7865790">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7865815">,</span>&nbsp;<span class="ident" id="7865817"><a href="/encoding/xml/xml_test.go.html#7865597">i</a></span><span class="op" id="7865818">,</span>&nbsp;<span class="ident" id="7865820"><a href="/encoding/xml/xml_test.go.html#7865641">have</a></span><span class="op" id="7865824">,</span>&nbsp;<span class="ident" id="7865826"><a href="/encoding/xml/xml_test.go.html#7865600">want</a></span><span class="op" id="7865830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7865837">}</span><br>
<span class="lineno"></span><span class="op" id="7865839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span><span class="keyword" id="7865842">func</span>&nbsp;<span class="ident" id="7865847">TestToken</span><span class="op" id="7865856">(</span><span class="ident" id="7865857">t</span>&nbsp;<span class="op" id="7865859">*</span><span class="ident" id="7865860"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7865867">.</span><span class="ident" id="7865868">T</span><span class="op" id="7865869">)</span>&nbsp;<span class="op" id="7865871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865874">d</span>&nbsp;<span class="op" id="7865876">:=</span>&nbsp;<span class="ident" id="7865879"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7865889">(</span><span class="ident" id="7865890"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7865897">.</span><span class="ident" id="7865898">NewReader</span><span class="op" id="7865907">(</span><span class="ident" id="7865908"><a href="/encoding/xml/xml_test.go.html#7855987">testInput</a></span><span class="op" id="7865917">)</span><span class="op" id="7865918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865921"><a href="/encoding/xml/xml_test.go.html#7865874">d</a></span><span class="op" id="7865922">.</span><span class="ident" id="7865923">Entity</span>&nbsp;<span class="op" id="7865930">=</span>&nbsp;<span class="ident" id="7865932"><a href="/encoding/xml/xml_test.go.html#7856524">testEntity</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7865945">for</span>&nbsp;<span class="ident" id="7865949">i</span><span class="op" id="7865950">,</span>&nbsp;<span class="ident" id="7865952">want</span>&nbsp;<span class="op" id="7865957">:=</span>&nbsp;<span class="keyword" id="7865960">range</span>&nbsp;<span class="ident" id="7865966"><a href="/encoding/xml/xml_test.go.html#7857901">cookedTokens</a></span>&nbsp;<span class="op" id="7865979">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7865983">have</span><span class="op" id="7865987">,</span>&nbsp;<span class="ident" id="7865989">err</span>&nbsp;<span class="op" id="7865993">:=</span>&nbsp;<span class="ident" id="7865996"><a href="/encoding/xml/xml_test.go.html#7865874">d</a></span><span class="op" id="7865997">.</span><span class="ident" id="7865998">Token</span><span class="op" id="7866003">(</span><span class="op" id="7866004">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866008">if</span>&nbsp;<span class="ident" id="7866011"><a href="/encoding/xml/xml_test.go.html#7865989">err</a></span>&nbsp;<span class="op" id="7866015">!=</span>&nbsp;<span class="ident" id="7866018">nil</span>&nbsp;<span class="op" id="7866022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866027"><a href="/encoding/xml/xml_test.go.html#7865857">t</a></span><span class="op" id="7866028">.</span><span class="ident" id="7866029">Fatalf</span><span class="op" id="7866035">(</span><span class="string" id="7866036">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7866068">,</span>&nbsp;<span class="ident" id="7866070"><a href="/encoding/xml/xml_test.go.html#7865949">i</a></span><span class="op" id="7866071">,</span>&nbsp;<span class="ident" id="7866073"><a href="/encoding/xml/xml_test.go.html#7865989">err</a></span><span class="op" id="7866076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866080">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866084">if</span>&nbsp;<span class="op" id="7866087">!</span><span class="ident" id="7866088"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7866095">.</span><span class="ident" id="7866096">DeepEqual</span><span class="op" id="7866105">(</span><span class="ident" id="7866106"><a href="/encoding/xml/xml_test.go.html#7865983">have</a></span><span class="op" id="7866110">,</span>&nbsp;<span class="ident" id="7866112"><a href="/encoding/xml/xml_test.go.html#7865952">want</a></span><span class="op" id="7866116">)</span>&nbsp;<span class="op" id="7866118">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866123"><a href="/encoding/xml/xml_test.go.html#7865857">t</a></span><span class="op" id="7866124">.</span><span class="ident" id="7866125">Errorf</span><span class="op" id="7866131">(</span><span class="string" id="7866132">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7866157">,</span>&nbsp;<span class="ident" id="7866159"><a href="/encoding/xml/xml_test.go.html#7865949">i</a></span><span class="op" id="7866160">,</span>&nbsp;<span class="ident" id="7866162"><a href="/encoding/xml/xml_test.go.html#7865983">have</a></span><span class="op" id="7866166">,</span>&nbsp;<span class="ident" id="7866168"><a href="/encoding/xml/xml_test.go.html#7865952">want</a></span><span class="op" id="7866172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866179">}</span><br>
<span class="lineno"></span><span class="op" id="7866181">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">390</span><span class="keyword" id="7866184">func</span>&nbsp;<span class="ident" id="7866189">TestSyntax</span><span class="op" id="7866199">(</span><span class="ident" id="7866200">t</span>&nbsp;<span class="op" id="7866202">*</span><span class="ident" id="7866203"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7866210">.</span><span class="ident" id="7866211">T</span><span class="op" id="7866212">)</span>&nbsp;<span class="op" id="7866214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866217">for</span>&nbsp;<span class="ident" id="7866221">i</span>&nbsp;<span class="op" id="7866223">:=</span>&nbsp;<span class="keyword" id="7866226">range</span>&nbsp;<span class="ident" id="7866232"><a href="/encoding/xml/xml_test.go.html#7859589">xmlInput</a></span>&nbsp;<span class="op" id="7866241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866245">d</span>&nbsp;<span class="op" id="7866247">:=</span>&nbsp;<span class="ident" id="7866250"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7866260">(</span><span class="ident" id="7866261"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7866268">.</span><span class="ident" id="7866269">NewReader</span><span class="op" id="7866278">(</span><span class="ident" id="7866279"><a href="/encoding/xml/xml_test.go.html#7859589">xmlInput</a></span><span class="op" id="7866287">[</span><span class="ident" id="7866288"><a href="/encoding/xml/xml_test.go.html#7866221">i</a></span><span class="op" id="7866289">]</span><span class="op" id="7866290">)</span><span class="op" id="7866291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866295">var</span>&nbsp;<span class="ident" id="7866299">err</span>&nbsp;<span class="builtintype" id="7866303">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866311">for</span>&nbsp;<span class="ident" id="7866315">_</span><span class="op" id="7866316">,</span>&nbsp;<span class="ident" id="7866318"><a href="/encoding/xml/xml_test.go.html#7866299">err</a></span>&nbsp;<span class="op" id="7866322">=</span>&nbsp;<span class="ident" id="7866324"><a href="/encoding/xml/xml_test.go.html#7866245">d</a></span><span class="op" id="7866325">.</span><span class="ident" id="7866326">Token</span><span class="op" id="7866331">(</span><span class="op" id="7866332">)</span><span class="op" id="7866333">;</span>&nbsp;<span class="ident" id="7866335"><a href="/encoding/xml/xml_test.go.html#7866299">err</a></span>&nbsp;<span class="op" id="7866339">==</span>&nbsp;<span class="ident" id="7866342">nil</span><span class="op" id="7866345">;</span>&nbsp;<span class="ident" id="7866347">_</span><span class="op" id="7866348">,</span>&nbsp;<span class="ident" id="7866350"><a href="/encoding/xml/xml_test.go.html#7866299">err</a></span>&nbsp;<span class="op" id="7866354">=</span>&nbsp;<span class="ident" id="7866356"><a href="/encoding/xml/xml_test.go.html#7866245">d</a></span><span class="op" id="7866357">.</span><span class="ident" id="7866358">Token</span><span class="op" id="7866363">(</span><span class="op" id="7866364">)</span>&nbsp;<span class="op" id="7866366">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7866374">if</span>&nbsp;<span class="ident" id="7866377">_</span><span class="op" id="7866378">,</span>&nbsp;<span class="ident" id="7866380">ok</span>&nbsp;<span class="op" id="7866383">:=</span>&nbsp;<span class="ident" id="7866386"><a href="/encoding/xml/xml_test.go.html#7866299">err</a></span><span class="op" id="7866389">.</span><span class="op" id="7866390">(</span><span class="op" id="7866391">*</span><span class="ident" id="7866392"><a href="/encoding/xml/xml.go.html#5679580">SyntaxError</a></span><span class="op" id="7866403">)</span><span class="op" id="7866404">;</span>&nbsp;<span class="op" id="7866406">!</span><span class="ident" id="7866407"><a href="/encoding/xml/xml_test.go.html#7866380">ok</a></span>&nbsp;<span class="op" id="7866410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866415"><a href="/encoding/xml/xml_test.go.html#7866200">t</a></span><span class="op" id="7866416">.</span><span class="ident" id="7866417">Fatalf</span><span class="op" id="7866423">(</span><span class="string" id="7866424">`xmlInput&nbsp;&#34;%s&#34;:&nbsp;expected&nbsp;SyntaxError&nbsp;not&nbsp;received`</span><span class="op" id="7866474">,</span>&nbsp;<span class="ident" id="7866476"><a href="/encoding/xml/xml_test.go.html#7859589">xmlInput</a></span><span class="op" id="7866484">[</span><span class="ident" id="7866485"><a href="/encoding/xml/xml_test.go.html#7866221">i</a></span><span class="op" id="7866486">]</span><span class="op" id="7866487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7866494">}</span><br>
<span class="lineno">400</span><span class="op" id="7866496">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7866499">type</span>&nbsp;<span class="ident" id="7866504">allScalars</span>&nbsp;<span class="keyword" id="7866515">struct</span>&nbsp;<span class="op" id="7866522">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866525">True1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866535">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866541">True2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866551">bool</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866557">False1</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866567">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866573">False2</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866583">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866589">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866599">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866604">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866614">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866620">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866630">int16</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866637">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866647">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866654">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866664">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866671">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866681">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866686">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866696">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866703">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866713">uint16</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866721">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866731">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866739">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866749">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866757">Uintptr</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866767">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866776">Float32</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866786">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866795">Float64</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866805">float64</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866814">String</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7866824">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866832">PtrString</span>&nbsp;<span class="op" id="7866842">*</span><span class="builtintype" id="7866843">string</span><br>
<span class="lineno"></span><span class="op" id="7866850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7866853">var</span>&nbsp;<span class="ident" id="7866857">all</span>&nbsp;<span class="op" id="7866861">=</span>&nbsp;<span class="ident" id="7866863"><a href="/encoding/xml/xml_test.go.html#7866504">allScalars</a></span><span class="op" id="7866873">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866876">True1</span><span class="op" id="7866881">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866887">true</span><span class="op" id="7866891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866894">True2</span><span class="op" id="7866899">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866905">true</span><span class="op" id="7866909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866912">False1</span><span class="op" id="7866918">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866923">false</span><span class="op" id="7866928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866931">False2</span><span class="op" id="7866937">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7866942">false</span><span class="op" id="7866947">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866950">Int</span><span class="op" id="7866953">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7866961">1</span><span class="op" id="7866962">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866965">Int8</span><span class="op" id="7866969">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7866976">-</span><span class="num" id="7866977">2</span><span class="op" id="7866978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866981">Int16</span><span class="op" id="7866986">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7866992">3</span><span class="op" id="7866993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7866996">Int32</span><span class="op" id="7867001">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7867007">-</span><span class="num" id="7867008">4</span><span class="op" id="7867009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867012">Int64</span><span class="op" id="7867017">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867023">5</span><span class="op" id="7867024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867027">Uint</span><span class="op" id="7867031">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867038">6</span><span class="op" id="7867039">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867042">Uint8</span><span class="op" id="7867047">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867053">7</span><span class="op" id="7867054">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867057">Uint16</span><span class="op" id="7867063">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867068">8</span><span class="op" id="7867069">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867072">Uint32</span><span class="op" id="7867078">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867083">9</span><span class="op" id="7867084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867087">Uint64</span><span class="op" id="7867093">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="7867098">10</span><span class="op" id="7867100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867103">Uintptr</span><span class="op" id="7867110">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7867114">11</span><span class="op" id="7867116">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867119">Float32</span><span class="op" id="7867126">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7867130">13.0</span><span class="op" id="7867134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867137">Float64</span><span class="op" id="7867144">:</span>&nbsp;&nbsp;&nbsp;<span class="num" id="7867148">14.0</span><span class="op" id="7867152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867155">String</span><span class="op" id="7867161">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7867166">&#34;15&#34;</span><span class="op" id="7867170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867173">PtrString</span><span class="op" id="7867182">:</span>&nbsp;<span class="op" id="7867184">&amp;</span><span class="ident" id="7867185"><a href="/encoding/xml/xml_test.go.html#7867201">sixteen</a></span><span class="op" id="7867192">,</span><br>
<span class="lineno"></span><span class="op" id="7867194">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="keyword" id="7867197">var</span>&nbsp;<span class="ident" id="7867201">sixteen</span>&nbsp;<span class="op" id="7867209">=</span>&nbsp;<span class="string" id="7867211">&#34;16&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7867217">const</span>&nbsp;<span class="ident" id="7867223">testScalarsInput</span>&nbsp;<span class="op" id="7867240">=</span>&nbsp;<span class="string" id="7867242">`&lt;allscalars&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;True1&gt;true&lt;/True1&gt;<br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;True2&gt;1&lt;/True2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;False1&gt;false&lt;/False1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;False2&gt;0&lt;/False2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int&gt;1&lt;/Int&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int8&gt;-2&lt;/Int8&gt;<br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int16&gt;3&lt;/Int16&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int32&gt;-4&lt;/Int32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Int64&gt;5&lt;/Int64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint&gt;6&lt;/Uint&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint8&gt;7&lt;/Uint8&gt;<br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint16&gt;8&lt;/Uint16&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint32&gt;9&lt;/Uint32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uint64&gt;10&lt;/Uint64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Uintptr&gt;11&lt;/Uintptr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Float&gt;12.0&lt;/Float&gt;<br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Float32&gt;13.0&lt;/Float32&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;Float64&gt;14.0&lt;/Float64&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;String&gt;15&lt;/String&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;PtrString&gt;16&lt;/PtrString&gt;<br>
<span class="lineno"></span>&lt;/allscalars&gt;`</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="7867678">func</span>&nbsp;<span class="ident" id="7867683">TestAllScalars</span><span class="op" id="7867697">(</span><span class="ident" id="7867698">t</span>&nbsp;<span class="op" id="7867700">*</span><span class="ident" id="7867701"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7867708">.</span><span class="ident" id="7867709">T</span><span class="op" id="7867710">)</span>&nbsp;<span class="op" id="7867712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867715">var</span>&nbsp;<span class="ident" id="7867719">a</span>&nbsp;<span class="ident" id="7867721"><a href="/encoding/xml/xml_test.go.html#7866504">allScalars</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867733">err</span>&nbsp;<span class="op" id="7867737">:=</span>&nbsp;<span class="ident" id="7867740"><a href="/encoding/xml/read.go.html#5654044">Unmarshal</a></span><span class="op" id="7867749">(</span><span class="op" id="7867750">[</span><span class="op" id="7867751">]</span><span class="builtintype" id="7867752">byte</span><span class="op" id="7867756">(</span><span class="ident" id="7867757"><a href="/encoding/xml/xml_test.go.html#7867223">testScalarsInput</a></span><span class="op" id="7867773">)</span><span class="op" id="7867774">,</span>&nbsp;<span class="op" id="7867776">&amp;</span><span class="ident" id="7867777"><a href="/encoding/xml/xml_test.go.html#7867719">a</a></span><span class="op" id="7867778">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867782">if</span>&nbsp;<span class="ident" id="7867785"><a href="/encoding/xml/xml_test.go.html#7867733">err</a></span>&nbsp;<span class="op" id="7867789">!=</span>&nbsp;<span class="ident" id="7867792">nil</span>&nbsp;<span class="op" id="7867796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867800"><a href="/encoding/xml/xml_test.go.html#7867698">t</a></span><span class="op" id="7867801">.</span><span class="ident" id="7867802">Fatal</span><span class="op" id="7867807">(</span><span class="ident" id="7867808"><a href="/encoding/xml/xml_test.go.html#7867733">err</a></span><span class="op" id="7867811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7867817">if</span>&nbsp;<span class="op" id="7867820">!</span><span class="ident" id="7867821"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7867828">.</span><span class="ident" id="7867829">DeepEqual</span><span class="op" id="7867838">(</span><span class="ident" id="7867839"><a href="/encoding/xml/xml_test.go.html#7867719">a</a></span><span class="op" id="7867840">,</span>&nbsp;<span class="ident" id="7867842"><a href="/encoding/xml/xml_test.go.html#7866857">all</a></span><span class="op" id="7867845">)</span>&nbsp;<span class="op" id="7867847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867851"><a href="/encoding/xml/xml_test.go.html#7867698">t</a></span><span class="op" id="7867852">.</span><span class="ident" id="7867853">Errorf</span><span class="op" id="7867859">(</span><span class="string" id="7867860">&#34;have&nbsp;%+v&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7867879">,</span>&nbsp;<span class="ident" id="7867881"><a href="/encoding/xml/xml_test.go.html#7867719">a</a></span><span class="op" id="7867882">,</span>&nbsp;<span class="ident" id="7867884"><a href="/encoding/xml/xml_test.go.html#7866857">all</a></span><span class="op" id="7867887">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7867890">}</span><br>
<span class="lineno"></span><span class="op" id="7867892">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7867895">type</span>&nbsp;<span class="ident" id="7867900">item</span>&nbsp;<span class="keyword" id="7867905">struct</span>&nbsp;<span class="op" id="7867912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867915">Field_a</span>&nbsp;<span class="builtintype" id="7867923">string</span><br>
<span class="lineno">485</span><span class="op" id="7867930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7867933">func</span>&nbsp;<span class="ident" id="7867938">TestIssue569</span><span class="op" id="7867950">(</span><span class="ident" id="7867951">t</span>&nbsp;<span class="op" id="7867953">*</span><span class="ident" id="7867954"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7867961">.</span><span class="ident" id="7867962">T</span><span class="op" id="7867963">)</span>&nbsp;<span class="op" id="7867965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7867968">data</span>&nbsp;<span class="op" id="7867973">:=</span>&nbsp;<span class="string" id="7867976">`&lt;item&gt;&lt;Field_a&gt;abcd&lt;/Field_a&gt;&lt;/item&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868016">var</span>&nbsp;<span class="ident" id="7868020">i</span>&nbsp;<span class="ident" id="7868022"><a href="/encoding/xml/xml_test.go.html#7867900">item</a></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868028">err</span>&nbsp;<span class="op" id="7868032">:=</span>&nbsp;<span class="ident" id="7868035"><a href="/encoding/xml/read.go.html#5654044">Unmarshal</a></span><span class="op" id="7868044">(</span><span class="op" id="7868045">[</span><span class="op" id="7868046">]</span><span class="builtintype" id="7868047">byte</span><span class="op" id="7868051">(</span><span class="ident" id="7868052"><a href="/encoding/xml/xml_test.go.html#7867968">data</a></span><span class="op" id="7868056">)</span><span class="op" id="7868057">,</span>&nbsp;<span class="op" id="7868059">&amp;</span><span class="ident" id="7868060"><a href="/encoding/xml/xml_test.go.html#7868020">i</a></span><span class="op" id="7868061">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868065">if</span>&nbsp;<span class="ident" id="7868068"><a href="/encoding/xml/xml_test.go.html#7868028">err</a></span>&nbsp;<span class="op" id="7868072">!=</span>&nbsp;<span class="ident" id="7868075">nil</span>&nbsp;<span class="op" id="7868079">||</span>&nbsp;<span class="ident" id="7868082"><a href="/encoding/xml/xml_test.go.html#7868020">i</a></span><span class="op" id="7868083">.</span><span class="ident" id="7868084">Field_a</span>&nbsp;<span class="op" id="7868092">!=</span>&nbsp;<span class="string" id="7868095">&#34;abcd&#34;</span>&nbsp;<span class="op" id="7868102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868106"><a href="/encoding/xml/xml_test.go.html#7867951">t</a></span><span class="op" id="7868107">.</span><span class="ident" id="7868108">Fatal</span><span class="op" id="7868113">(</span><span class="string" id="7868114">&#34;Expecting&nbsp;abcd&#34;</span><span class="op" id="7868130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868133">}</span><br>
<span class="lineno">495</span><span class="op" id="7868135">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7868138">func</span>&nbsp;<span class="ident" id="7868143">TestUnquotedAttrs</span><span class="op" id="7868160">(</span><span class="ident" id="7868161">t</span>&nbsp;<span class="op" id="7868163">*</span><span class="ident" id="7868164"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7868171">.</span><span class="ident" id="7868172">T</span><span class="op" id="7868173">)</span>&nbsp;<span class="op" id="7868175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868178">data</span>&nbsp;<span class="op" id="7868183">:=</span>&nbsp;<span class="string" id="7868186">&#34;&lt;tag&nbsp;attr=azAZ09:-_\t&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868212">d</span>&nbsp;<span class="op" id="7868214">:=</span>&nbsp;<span class="ident" id="7868217"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7868227">(</span><span class="ident" id="7868228"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7868235">.</span><span class="ident" id="7868236">NewReader</span><span class="op" id="7868245">(</span><span class="ident" id="7868246"><a href="/encoding/xml/xml_test.go.html#7868178">data</a></span><span class="op" id="7868250">)</span><span class="op" id="7868251">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868254"><a href="/encoding/xml/xml_test.go.html#7868212">d</a></span><span class="op" id="7868255">.</span><span class="ident" id="7868256">Strict</span>&nbsp;<span class="op" id="7868263">=</span>&nbsp;<span class="ident" id="7868265">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868272">token</span><span class="op" id="7868277">,</span>&nbsp;<span class="ident" id="7868279">err</span>&nbsp;<span class="op" id="7868283">:=</span>&nbsp;<span class="ident" id="7868286"><a href="/encoding/xml/xml_test.go.html#7868212">d</a></span><span class="op" id="7868287">.</span><span class="ident" id="7868288">Token</span><span class="op" id="7868293">(</span><span class="op" id="7868294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868297">if</span>&nbsp;<span class="ident" id="7868300">_</span><span class="op" id="7868301">,</span>&nbsp;<span class="ident" id="7868303">ok</span>&nbsp;<span class="op" id="7868306">:=</span>&nbsp;<span class="ident" id="7868309"><a href="/encoding/xml/xml_test.go.html#7868279">err</a></span><span class="op" id="7868312">.</span><span class="op" id="7868313">(</span><span class="op" id="7868314">*</span><span class="ident" id="7868315"><a href="/encoding/xml/xml.go.html#5679580">SyntaxError</a></span><span class="op" id="7868326">)</span><span class="op" id="7868327">;</span>&nbsp;<span class="ident" id="7868329"><a href="/encoding/xml/xml_test.go.html#7868303">ok</a></span>&nbsp;<span class="op" id="7868332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868336"><a href="/encoding/xml/xml_test.go.html#7868161">t</a></span><span class="op" id="7868337">.</span><span class="ident" id="7868338">Errorf</span><span class="op" id="7868344">(</span><span class="string" id="7868345">&#34;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7868367">,</span>&nbsp;<span class="ident" id="7868369"><a href="/encoding/xml/xml_test.go.html#7868279">err</a></span><span class="op" id="7868372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868375">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868378">if</span>&nbsp;<span class="ident" id="7868381"><a href="/encoding/xml/xml_test.go.html#7868272">token</a></span><span class="op" id="7868386">.</span><span class="op" id="7868387">(</span><span class="ident" id="7868388"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7868400">)</span><span class="op" id="7868401">.</span><span class="ident" id="7868402">Name</span><span class="op" id="7868406">.</span><span class="ident" id="7868407">Local</span>&nbsp;<span class="op" id="7868413">!=</span>&nbsp;<span class="string" id="7868416">&#34;tag&#34;</span>&nbsp;<span class="op" id="7868422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868426"><a href="/encoding/xml/xml_test.go.html#7868161">t</a></span><span class="op" id="7868427">.</span><span class="ident" id="7868428">Errorf</span><span class="op" id="7868434">(</span><span class="string" id="7868435">&#34;Unexpected&nbsp;tag&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="7868460">,</span>&nbsp;<span class="ident" id="7868462"><a href="/encoding/xml/xml_test.go.html#7868272">token</a></span><span class="op" id="7868467">.</span><span class="op" id="7868468">(</span><span class="ident" id="7868469"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7868481">)</span><span class="op" id="7868482">.</span><span class="ident" id="7868483">Name</span><span class="op" id="7868487">.</span><span class="ident" id="7868488">Local</span><span class="op" id="7868493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868499">attr</span>&nbsp;<span class="op" id="7868504">:=</span>&nbsp;<span class="ident" id="7868507"><a href="/encoding/xml/xml_test.go.html#7868272">token</a></span><span class="op" id="7868512">.</span><span class="op" id="7868513">(</span><span class="ident" id="7868514"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7868526">)</span><span class="op" id="7868527">.</span><span class="ident" id="7868528">Attr</span><span class="op" id="7868532">[</span><span class="num" id="7868533">0</span><span class="op" id="7868534">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868537">if</span>&nbsp;<span class="ident" id="7868540"><a href="/encoding/xml/xml_test.go.html#7868499">attr</a></span><span class="op" id="7868544">.</span><span class="ident" id="7868545">Value</span>&nbsp;<span class="op" id="7868551">!=</span>&nbsp;<span class="string" id="7868554">&#34;azAZ09:-_&#34;</span>&nbsp;<span class="op" id="7868566">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868570"><a href="/encoding/xml/xml_test.go.html#7868161">t</a></span><span class="op" id="7868571">.</span><span class="ident" id="7868572">Errorf</span><span class="op" id="7868578">(</span><span class="string" id="7868579">&#34;Unexpected&nbsp;attribute&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7868611">,</span>&nbsp;<span class="ident" id="7868613"><a href="/encoding/xml/xml_test.go.html#7868499">attr</a></span><span class="op" id="7868617">.</span><span class="ident" id="7868618">Value</span><span class="op" id="7868623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868629">if</span>&nbsp;<span class="ident" id="7868632"><a href="/encoding/xml/xml_test.go.html#7868499">attr</a></span><span class="op" id="7868636">.</span><span class="ident" id="7868637">Name</span><span class="op" id="7868641">.</span><span class="ident" id="7868642">Local</span>&nbsp;<span class="op" id="7868648">!=</span>&nbsp;<span class="string" id="7868651">&#34;attr&#34;</span>&nbsp;<span class="op" id="7868658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868662"><a href="/encoding/xml/xml_test.go.html#7868161">t</a></span><span class="op" id="7868663">.</span><span class="ident" id="7868664">Errorf</span><span class="op" id="7868670">(</span><span class="string" id="7868671">&#34;Unexpected&nbsp;attribute&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="7868702">,</span>&nbsp;<span class="ident" id="7868704"><a href="/encoding/xml/xml_test.go.html#7868499">attr</a></span><span class="op" id="7868708">.</span><span class="ident" id="7868709">Name</span><span class="op" id="7868713">.</span><span class="ident" id="7868714">Local</span><span class="op" id="7868719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868722">}</span><br>
<span class="lineno">515</span><span class="op" id="7868724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7868727">func</span>&nbsp;<span class="ident" id="7868732">TestValuelessAttrs</span><span class="op" id="7868750">(</span><span class="ident" id="7868751">t</span>&nbsp;<span class="op" id="7868753">*</span><span class="ident" id="7868754"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7868761">.</span><span class="ident" id="7868762">T</span><span class="op" id="7868763">)</span>&nbsp;<span class="op" id="7868765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868768">tests</span>&nbsp;<span class="op" id="7868774">:=</span>&nbsp;<span class="op" id="7868777">[</span><span class="op" id="7868778">]</span><span class="op" id="7868779">[</span><span class="num" id="7868780">3</span><span class="op" id="7868781">]</span><span class="builtintype" id="7868782">string</span><span class="op" id="7868788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868792">{</span><span class="string" id="7868793">&#34;&lt;p&nbsp;nowrap&gt;&#34;</span><span class="op" id="7868805">,</span>&nbsp;<span class="string" id="7868807">&#34;p&#34;</span><span class="op" id="7868810">,</span>&nbsp;<span class="string" id="7868812">&#34;nowrap&#34;</span><span class="op" id="7868820">}</span><span class="op" id="7868821">,</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868825">{</span><span class="string" id="7868826">&#34;&lt;p&nbsp;nowrap&nbsp;&gt;&#34;</span><span class="op" id="7868839">,</span>&nbsp;<span class="string" id="7868841">&#34;p&#34;</span><span class="op" id="7868844">,</span>&nbsp;<span class="string" id="7868846">&#34;nowrap&#34;</span><span class="op" id="7868854">}</span><span class="op" id="7868855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868859">{</span><span class="string" id="7868860">&#34;&lt;input&nbsp;checked/&gt;&#34;</span><span class="op" id="7868878">,</span>&nbsp;<span class="string" id="7868880">&#34;input&#34;</span><span class="op" id="7868887">,</span>&nbsp;<span class="string" id="7868889">&#34;checked&#34;</span><span class="op" id="7868898">}</span><span class="op" id="7868899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868903">{</span><span class="string" id="7868904">&#34;&lt;input&nbsp;checked&nbsp;/&gt;&#34;</span><span class="op" id="7868923">,</span>&nbsp;<span class="string" id="7868925">&#34;input&#34;</span><span class="op" id="7868932">,</span>&nbsp;<span class="string" id="7868934">&#34;checked&#34;</span><span class="op" id="7868943">}</span><span class="op" id="7868944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7868947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7868950">for</span>&nbsp;<span class="ident" id="7868954">_</span><span class="op" id="7868955">,</span>&nbsp;<span class="ident" id="7868957">test</span>&nbsp;<span class="op" id="7868962">:=</span>&nbsp;<span class="keyword" id="7868965">range</span>&nbsp;<span class="ident" id="7868971"><a href="/encoding/xml/xml_test.go.html#7868768">tests</a></span>&nbsp;<span class="op" id="7868977">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7868981">d</span>&nbsp;<span class="op" id="7868983">:=</span>&nbsp;<span class="ident" id="7868986"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7868996">(</span><span class="ident" id="7868997"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7869004">.</span><span class="ident" id="7869005">NewReader</span><span class="op" id="7869014">(</span><span class="ident" id="7869015"><a href="/encoding/xml/xml_test.go.html#7868957">test</a></span><span class="op" id="7869019">[</span><span class="num" id="7869020">0</span><span class="op" id="7869021">]</span><span class="op" id="7869022">)</span><span class="op" id="7869023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869027"><a href="/encoding/xml/xml_test.go.html#7868981">d</a></span><span class="op" id="7869028">.</span><span class="ident" id="7869029">Strict</span>&nbsp;<span class="op" id="7869036">=</span>&nbsp;<span class="ident" id="7869038">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869046">token</span><span class="op" id="7869051">,</span>&nbsp;<span class="ident" id="7869053">err</span>&nbsp;<span class="op" id="7869057">:=</span>&nbsp;<span class="ident" id="7869060"><a href="/encoding/xml/xml_test.go.html#7868981">d</a></span><span class="op" id="7869061">.</span><span class="ident" id="7869062">Token</span><span class="op" id="7869067">(</span><span class="op" id="7869068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869072">if</span>&nbsp;<span class="ident" id="7869075">_</span><span class="op" id="7869076">,</span>&nbsp;<span class="ident" id="7869078">ok</span>&nbsp;<span class="op" id="7869081">:=</span>&nbsp;<span class="ident" id="7869084"><a href="/encoding/xml/xml_test.go.html#7869053">err</a></span><span class="op" id="7869087">.</span><span class="op" id="7869088">(</span><span class="op" id="7869089">*</span><span class="ident" id="7869090"><a href="/encoding/xml/xml.go.html#5679580">SyntaxError</a></span><span class="op" id="7869101">)</span><span class="op" id="7869102">;</span>&nbsp;<span class="ident" id="7869104"><a href="/encoding/xml/xml_test.go.html#7869078">ok</a></span>&nbsp;<span class="op" id="7869107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869112"><a href="/encoding/xml/xml_test.go.html#7868751">t</a></span><span class="op" id="7869113">.</span><span class="ident" id="7869114">Errorf</span><span class="op" id="7869120">(</span><span class="string" id="7869121">&#34;Unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7869143">,</span>&nbsp;<span class="ident" id="7869145"><a href="/encoding/xml/xml_test.go.html#7869053">err</a></span><span class="op" id="7869148">)</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869156">if</span>&nbsp;<span class="ident" id="7869159"><a href="/encoding/xml/xml_test.go.html#7869046">token</a></span><span class="op" id="7869164">.</span><span class="op" id="7869165">(</span><span class="ident" id="7869166"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7869178">)</span><span class="op" id="7869179">.</span><span class="ident" id="7869180">Name</span><span class="op" id="7869184">.</span><span class="ident" id="7869185">Local</span>&nbsp;<span class="op" id="7869191">!=</span>&nbsp;<span class="ident" id="7869194"><a href="/encoding/xml/xml_test.go.html#7868957">test</a></span><span class="op" id="7869198">[</span><span class="num" id="7869199">1</span><span class="op" id="7869200">]</span>&nbsp;<span class="op" id="7869202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869207"><a href="/encoding/xml/xml_test.go.html#7868751">t</a></span><span class="op" id="7869208">.</span><span class="ident" id="7869209">Errorf</span><span class="op" id="7869215">(</span><span class="string" id="7869216">&#34;Unexpected&nbsp;tag&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="7869241">,</span>&nbsp;<span class="ident" id="7869243"><a href="/encoding/xml/xml_test.go.html#7869046">token</a></span><span class="op" id="7869248">.</span><span class="op" id="7869249">(</span><span class="ident" id="7869250"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7869262">)</span><span class="op" id="7869263">.</span><span class="ident" id="7869264">Name</span><span class="op" id="7869268">.</span><span class="ident" id="7869269">Local</span><span class="op" id="7869274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869278">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869282">attr</span>&nbsp;<span class="op" id="7869287">:=</span>&nbsp;<span class="ident" id="7869290"><a href="/encoding/xml/xml_test.go.html#7869046">token</a></span><span class="op" id="7869295">.</span><span class="op" id="7869296">(</span><span class="ident" id="7869297"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7869309">)</span><span class="op" id="7869310">.</span><span class="ident" id="7869311">Attr</span><span class="op" id="7869315">[</span><span class="num" id="7869316">0</span><span class="op" id="7869317">]</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869321">if</span>&nbsp;<span class="ident" id="7869324"><a href="/encoding/xml/xml_test.go.html#7869282">attr</a></span><span class="op" id="7869328">.</span><span class="ident" id="7869329">Value</span>&nbsp;<span class="op" id="7869335">!=</span>&nbsp;<span class="ident" id="7869338"><a href="/encoding/xml/xml_test.go.html#7868957">test</a></span><span class="op" id="7869342">[</span><span class="num" id="7869343">2</span><span class="op" id="7869344">]</span>&nbsp;<span class="op" id="7869346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869351"><a href="/encoding/xml/xml_test.go.html#7868751">t</a></span><span class="op" id="7869352">.</span><span class="ident" id="7869353">Errorf</span><span class="op" id="7869359">(</span><span class="string" id="7869360">&#34;Unexpected&nbsp;attribute&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="7869392">,</span>&nbsp;<span class="ident" id="7869394"><a href="/encoding/xml/xml_test.go.html#7869282">attr</a></span><span class="op" id="7869398">.</span><span class="ident" id="7869399">Value</span><span class="op" id="7869404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869408">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869412">if</span>&nbsp;<span class="ident" id="7869415"><a href="/encoding/xml/xml_test.go.html#7869282">attr</a></span><span class="op" id="7869419">.</span><span class="ident" id="7869420">Name</span><span class="op" id="7869424">.</span><span class="ident" id="7869425">Local</span>&nbsp;<span class="op" id="7869431">!=</span>&nbsp;<span class="ident" id="7869434"><a href="/encoding/xml/xml_test.go.html#7868957">test</a></span><span class="op" id="7869438">[</span><span class="num" id="7869439">2</span><span class="op" id="7869440">]</span>&nbsp;<span class="op" id="7869442">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869447"><a href="/encoding/xml/xml_test.go.html#7868751">t</a></span><span class="op" id="7869448">.</span><span class="ident" id="7869449">Errorf</span><span class="op" id="7869455">(</span><span class="string" id="7869456">&#34;Unexpected&nbsp;attribute&nbsp;name:&nbsp;%v&#34;</span><span class="op" id="7869487">,</span>&nbsp;<span class="ident" id="7869489"><a href="/encoding/xml/xml_test.go.html#7869282">attr</a></span><span class="op" id="7869493">.</span><span class="ident" id="7869494">Name</span><span class="op" id="7869498">.</span><span class="ident" id="7869499">Local</span><span class="op" id="7869504">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869508">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869511">}</span><br>
<span class="lineno"></span><span class="op" id="7869513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7869516">func</span>&nbsp;<span class="ident" id="7869521">TestCopyTokenCharData</span><span class="op" id="7869542">(</span><span class="ident" id="7869543">t</span>&nbsp;<span class="op" id="7869545">*</span><span class="ident" id="7869546"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7869553">.</span><span class="ident" id="7869554">T</span><span class="op" id="7869555">)</span>&nbsp;<span class="op" id="7869557">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869560">data</span>&nbsp;<span class="op" id="7869565">:=</span>&nbsp;<span class="op" id="7869568">[</span><span class="op" id="7869569">]</span><span class="builtintype" id="7869570">byte</span><span class="op" id="7869574">(</span><span class="string" id="7869575">&#34;same&nbsp;data&#34;</span><span class="op" id="7869586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869589">var</span>&nbsp;<span class="ident" id="7869593">tok1</span>&nbsp;<span class="ident" id="7869598"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span>&nbsp;<span class="op" id="7869604">=</span>&nbsp;<span class="ident" id="7869606"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7869614">(</span><span class="ident" id="7869615"><a href="/encoding/xml/xml_test.go.html#7869560">data</a></span><span class="op" id="7869619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869622">tok2</span>&nbsp;<span class="op" id="7869627">:=</span>&nbsp;<span class="ident" id="7869630"><a href="/encoding/xml/xml.go.html#5681749">CopyToken</a></span><span class="op" id="7869639">(</span><span class="ident" id="7869640"><a href="/encoding/xml/xml_test.go.html#7869593">tok1</a></span><span class="op" id="7869644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869647">if</span>&nbsp;<span class="op" id="7869650">!</span><span class="ident" id="7869651"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7869658">.</span><span class="ident" id="7869659">DeepEqual</span><span class="op" id="7869668">(</span><span class="ident" id="7869669"><a href="/encoding/xml/xml_test.go.html#7869593">tok1</a></span><span class="op" id="7869673">,</span>&nbsp;<span class="ident" id="7869675"><a href="/encoding/xml/xml_test.go.html#7869622">tok2</a></span><span class="op" id="7869679">)</span>&nbsp;<span class="op" id="7869681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869685"><a href="/encoding/xml/xml_test.go.html#7869543">t</a></span><span class="op" id="7869686">.</span><span class="ident" id="7869687">Error</span><span class="op" id="7869692">(</span><span class="string" id="7869693">&#34;CopyToken(CharData)&nbsp;!=&nbsp;CharData&#34;</span><span class="op" id="7869726">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869732"><a href="/encoding/xml/xml_test.go.html#7869560">data</a></span><span class="op" id="7869736">[</span><span class="num" id="7869737">1</span><span class="op" id="7869738">]</span>&nbsp;<span class="op" id="7869740">=</span>&nbsp;<span class="string" id="7869742">&#39;o&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869747">if</span>&nbsp;<span class="ident" id="7869750"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7869757">.</span><span class="ident" id="7869758">DeepEqual</span><span class="op" id="7869767">(</span><span class="ident" id="7869768"><a href="/encoding/xml/xml_test.go.html#7869593">tok1</a></span><span class="op" id="7869772">,</span>&nbsp;<span class="ident" id="7869774"><a href="/encoding/xml/xml_test.go.html#7869622">tok2</a></span><span class="op" id="7869778">)</span>&nbsp;<span class="op" id="7869780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869784"><a href="/encoding/xml/xml_test.go.html#7869543">t</a></span><span class="op" id="7869785">.</span><span class="ident" id="7869786">Error</span><span class="op" id="7869791">(</span><span class="string" id="7869792">&#34;CopyToken(CharData)&nbsp;uses&nbsp;same&nbsp;buffer.&#34;</span><span class="op" id="7869831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7869834">}</span><br>
<span class="lineno">555</span><span class="op" id="7869836">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7869839">func</span>&nbsp;<span class="ident" id="7869844">TestCopyTokenStartElement</span><span class="op" id="7869869">(</span><span class="ident" id="7869870">t</span>&nbsp;<span class="op" id="7869872">*</span><span class="ident" id="7869873"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7869880">.</span><span class="ident" id="7869881">T</span><span class="op" id="7869882">)</span>&nbsp;<span class="op" id="7869884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869887">elt</span>&nbsp;<span class="op" id="7869891">:=</span>&nbsp;<span class="ident" id="7869894"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7869906">{</span><span class="ident" id="7869907"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7869911">{</span><span class="string" id="7869912">&#34;&#34;</span><span class="op" id="7869914">,</span>&nbsp;<span class="string" id="7869916">&#34;hello&#34;</span><span class="op" id="7869923">}</span><span class="op" id="7869924">,</span>&nbsp;<span class="op" id="7869926">[</span><span class="op" id="7869927">]</span><span class="ident" id="7869928"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7869932">{</span><span class="op" id="7869933">{</span><span class="ident" id="7869934"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7869938">{</span><span class="string" id="7869939">&#34;&#34;</span><span class="op" id="7869941">,</span>&nbsp;<span class="string" id="7869943">&#34;lang&#34;</span><span class="op" id="7869949">}</span><span class="op" id="7869950">,</span>&nbsp;<span class="string" id="7869952">&#34;en&#34;</span><span class="op" id="7869956">}</span><span class="op" id="7869957">}</span><span class="op" id="7869958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7869961">var</span>&nbsp;<span class="ident" id="7869965">tok1</span>&nbsp;<span class="ident" id="7869970"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span>&nbsp;<span class="op" id="7869976">=</span>&nbsp;<span class="ident" id="7869978"><a href="/encoding/xml/xml_test.go.html#7869887">elt</a></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7869983">tok2</span>&nbsp;<span class="op" id="7869988">:=</span>&nbsp;<span class="ident" id="7869991"><a href="/encoding/xml/xml.go.html#5681749">CopyToken</a></span><span class="op" id="7870000">(</span><span class="ident" id="7870001"><a href="/encoding/xml/xml_test.go.html#7869965">tok1</a></span><span class="op" id="7870005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870008">if</span>&nbsp;<span class="ident" id="7870011"><a href="/encoding/xml/xml_test.go.html#7869965">tok1</a></span><span class="op" id="7870015">.</span><span class="op" id="7870016">(</span><span class="ident" id="7870017"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7870029">)</span><span class="op" id="7870030">.</span><span class="ident" id="7870031">Attr</span><span class="op" id="7870035">[</span><span class="num" id="7870036">0</span><span class="op" id="7870037">]</span><span class="op" id="7870038">.</span><span class="ident" id="7870039">Value</span>&nbsp;<span class="op" id="7870045">!=</span>&nbsp;<span class="string" id="7870048">&#34;en&#34;</span>&nbsp;<span class="op" id="7870053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870057"><a href="/encoding/xml/xml_test.go.html#7869870">t</a></span><span class="op" id="7870058">.</span><span class="ident" id="7870059">Error</span><span class="op" id="7870064">(</span><span class="string" id="7870065">&#34;CopyToken&nbsp;overwrote&nbsp;Attr[0]&#34;</span><span class="op" id="7870094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870100">if</span>&nbsp;<span class="op" id="7870103">!</span><span class="ident" id="7870104"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7870111">.</span><span class="ident" id="7870112">DeepEqual</span><span class="op" id="7870121">(</span><span class="ident" id="7870122"><a href="/encoding/xml/xml_test.go.html#7869965">tok1</a></span><span class="op" id="7870126">,</span>&nbsp;<span class="ident" id="7870128"><a href="/encoding/xml/xml_test.go.html#7869983">tok2</a></span><span class="op" id="7870132">)</span>&nbsp;<span class="op" id="7870134">{</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870138"><a href="/encoding/xml/xml_test.go.html#7869870">t</a></span><span class="op" id="7870139">.</span><span class="ident" id="7870140">Error</span><span class="op" id="7870145">(</span><span class="string" id="7870146">&#34;CopyToken(StartElement)&nbsp;!=&nbsp;StartElement&#34;</span><span class="op" id="7870187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870193"><a href="/encoding/xml/xml_test.go.html#7869965">tok1</a></span><span class="op" id="7870197">.</span><span class="op" id="7870198">(</span><span class="ident" id="7870199"><a href="/encoding/xml/xml.go.html#5680356">StartElement</a></span><span class="op" id="7870211">)</span><span class="op" id="7870212">.</span><span class="ident" id="7870213">Attr</span><span class="op" id="7870217">[</span><span class="num" id="7870218">0</span><span class="op" id="7870219">]</span>&nbsp;<span class="op" id="7870221">=</span>&nbsp;<span class="ident" id="7870223"><a href="/encoding/xml/xml.go.html#5680102">Attr</a></span><span class="op" id="7870227">{</span><span class="ident" id="7870228"><a href="/encoding/xml/xml.go.html#5679992">Name</a></span><span class="op" id="7870232">{</span><span class="string" id="7870233">&#34;&#34;</span><span class="op" id="7870235">,</span>&nbsp;<span class="string" id="7870237">&#34;lang&#34;</span><span class="op" id="7870243">}</span><span class="op" id="7870244">,</span>&nbsp;<span class="string" id="7870246">&#34;de&#34;</span><span class="op" id="7870250">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870253">if</span>&nbsp;<span class="ident" id="7870256"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7870263">.</span><span class="ident" id="7870264">DeepEqual</span><span class="op" id="7870273">(</span><span class="ident" id="7870274"><a href="/encoding/xml/xml_test.go.html#7869965">tok1</a></span><span class="op" id="7870278">,</span>&nbsp;<span class="ident" id="7870280"><a href="/encoding/xml/xml_test.go.html#7869983">tok2</a></span><span class="op" id="7870284">)</span>&nbsp;<span class="op" id="7870286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870290"><a href="/encoding/xml/xml_test.go.html#7869870">t</a></span><span class="op" id="7870291">.</span><span class="ident" id="7870292">Error</span><span class="op" id="7870297">(</span><span class="string" id="7870298">&#34;CopyToken(CharData)&nbsp;uses&nbsp;same&nbsp;buffer.&#34;</span><span class="op" id="7870337">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870340">}</span><br>
<span class="lineno"></span><span class="op" id="7870342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7870345">func</span>&nbsp;<span class="ident" id="7870350">TestSyntaxErrorLineNum</span><span class="op" id="7870372">(</span><span class="ident" id="7870373">t</span>&nbsp;<span class="op" id="7870375">*</span><span class="ident" id="7870376"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7870383">.</span><span class="ident" id="7870384">T</span><span class="op" id="7870385">)</span>&nbsp;<span class="op" id="7870387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870390">testInput</span>&nbsp;<span class="op" id="7870400">:=</span>&nbsp;<span class="string" id="7870403">&#34;&lt;P&gt;Foo&lt;P&gt;\n\n&lt;P&gt;Bar&lt;/&gt;\n&#34;</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870431">d</span>&nbsp;<span class="op" id="7870433">:=</span>&nbsp;<span class="ident" id="7870436"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7870446">(</span><span class="ident" id="7870447"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7870454">.</span><span class="ident" id="7870455">NewReader</span><span class="op" id="7870464">(</span><span class="ident" id="7870465"><a href="/encoding/xml/xml_test.go.html#7870390">testInput</a></span><span class="op" id="7870474">)</span><span class="op" id="7870475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870478">var</span>&nbsp;<span class="ident" id="7870482">err</span>&nbsp;<span class="builtintype" id="7870486">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870493">for</span>&nbsp;<span class="ident" id="7870497">_</span><span class="op" id="7870498">,</span>&nbsp;<span class="ident" id="7870500"><a href="/encoding/xml/xml_test.go.html#7870482">err</a></span>&nbsp;<span class="op" id="7870504">=</span>&nbsp;<span class="ident" id="7870506"><a href="/encoding/xml/xml_test.go.html#7870431">d</a></span><span class="op" id="7870507">.</span><span class="ident" id="7870508">Token</span><span class="op" id="7870513">(</span><span class="op" id="7870514">)</span><span class="op" id="7870515">;</span>&nbsp;<span class="ident" id="7870517"><a href="/encoding/xml/xml_test.go.html#7870482">err</a></span>&nbsp;<span class="op" id="7870521">==</span>&nbsp;<span class="ident" id="7870524">nil</span><span class="op" id="7870527">;</span>&nbsp;<span class="ident" id="7870529">_</span><span class="op" id="7870530">,</span>&nbsp;<span class="ident" id="7870532"><a href="/encoding/xml/xml_test.go.html#7870482">err</a></span>&nbsp;<span class="op" id="7870536">=</span>&nbsp;<span class="ident" id="7870538"><a href="/encoding/xml/xml_test.go.html#7870431">d</a></span><span class="op" id="7870539">.</span><span class="ident" id="7870540">Token</span><span class="op" id="7870545">(</span><span class="op" id="7870546">)</span>&nbsp;<span class="op" id="7870548">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870554">synerr</span><span class="op" id="7870560">,</span>&nbsp;<span class="ident" id="7870562">ok</span>&nbsp;<span class="op" id="7870565">:=</span>&nbsp;<span class="ident" id="7870568"><a href="/encoding/xml/xml_test.go.html#7870482">err</a></span><span class="op" id="7870571">.</span><span class="op" id="7870572">(</span><span class="op" id="7870573">*</span><span class="ident" id="7870574"><a href="/encoding/xml/xml.go.html#5679580">SyntaxError</a></span><span class="op" id="7870585">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870588">if</span>&nbsp;<span class="op" id="7870591">!</span><span class="ident" id="7870592"><a href="/encoding/xml/xml_test.go.html#7870562">ok</a></span>&nbsp;<span class="op" id="7870595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870599"><a href="/encoding/xml/xml_test.go.html#7870373">t</a></span><span class="op" id="7870600">.</span><span class="ident" id="7870601">Error</span><span class="op" id="7870606">(</span><span class="string" id="7870607">&#34;Expected&nbsp;SyntaxError.&#34;</span><span class="op" id="7870630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870633">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870636">if</span>&nbsp;<span class="ident" id="7870639"><a href="/encoding/xml/xml_test.go.html#7870554">synerr</a></span><span class="op" id="7870645">.</span><span class="ident" id="7870646">Line</span>&nbsp;<span class="op" id="7870651">!=</span>&nbsp;<span class="num" id="7870654">3</span>&nbsp;<span class="op" id="7870656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870660"><a href="/encoding/xml/xml_test.go.html#7870373">t</a></span><span class="op" id="7870661">.</span><span class="ident" id="7870662">Error</span><span class="op" id="7870667">(</span><span class="string" id="7870668">&#34;SyntaxError&nbsp;didn&#39;t&nbsp;have&nbsp;correct&nbsp;line&nbsp;number.&#34;</span><span class="op" id="7870714">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870717">}</span><br>
<span class="lineno"></span><span class="op" id="7870719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7870722">func</span>&nbsp;<span class="ident" id="7870727">TestTrailingRawToken</span><span class="op" id="7870747">(</span><span class="ident" id="7870748">t</span>&nbsp;<span class="op" id="7870750">*</span><span class="ident" id="7870751"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7870758">.</span><span class="ident" id="7870759">T</span><span class="op" id="7870760">)</span>&nbsp;<span class="op" id="7870762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870765">input</span>&nbsp;<span class="op" id="7870771">:=</span>&nbsp;<span class="string" id="7870774">`&lt;FOO&gt;&lt;/FOO&gt;&nbsp;&nbsp;`</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870791">d</span>&nbsp;<span class="op" id="7870793">:=</span>&nbsp;<span class="ident" id="7870796"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7870806">(</span><span class="ident" id="7870807"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7870814">.</span><span class="ident" id="7870815">NewReader</span><span class="op" id="7870824">(</span><span class="ident" id="7870825"><a href="/encoding/xml/xml_test.go.html#7870765">input</a></span><span class="op" id="7870830">)</span><span class="op" id="7870831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870834">var</span>&nbsp;<span class="ident" id="7870838">err</span>&nbsp;<span class="builtintype" id="7870842">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870849">for</span>&nbsp;<span class="ident" id="7870853">_</span><span class="op" id="7870854">,</span>&nbsp;<span class="ident" id="7870856"><a href="/encoding/xml/xml_test.go.html#7870838">err</a></span>&nbsp;<span class="op" id="7870860">=</span>&nbsp;<span class="ident" id="7870862"><a href="/encoding/xml/xml_test.go.html#7870791">d</a></span><span class="op" id="7870863">.</span><span class="ident" id="7870864">RawToken</span><span class="op" id="7870872">(</span><span class="op" id="7870873">)</span><span class="op" id="7870874">;</span>&nbsp;<span class="ident" id="7870876"><a href="/encoding/xml/xml_test.go.html#7870838">err</a></span>&nbsp;<span class="op" id="7870880">==</span>&nbsp;<span class="ident" id="7870883">nil</span><span class="op" id="7870886">;</span>&nbsp;<span class="ident" id="7870888">_</span><span class="op" id="7870889">,</span>&nbsp;<span class="ident" id="7870891"><a href="/encoding/xml/xml_test.go.html#7870838">err</a></span>&nbsp;<span class="op" id="7870895">=</span>&nbsp;<span class="ident" id="7870897"><a href="/encoding/xml/xml_test.go.html#7870791">d</a></span><span class="op" id="7870898">.</span><span class="ident" id="7870899">RawToken</span><span class="op" id="7870907">(</span><span class="op" id="7870908">)</span>&nbsp;<span class="op" id="7870910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7870916">if</span>&nbsp;<span class="ident" id="7870919"><a href="/encoding/xml/xml_test.go.html#7870838">err</a></span>&nbsp;<span class="op" id="7870923">!=</span>&nbsp;<span class="ident" id="7870926"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7870928">.</span><span class="ident" id="7870929">EOF</span>&nbsp;<span class="op" id="7870933">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7870937"><a href="/encoding/xml/xml_test.go.html#7870748">t</a></span><span class="op" id="7870938">.</span><span class="ident" id="7870939">Fatalf</span><span class="op" id="7870945">(</span><span class="string" id="7870946">&#34;d.RawToken()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="7870984">,</span>&nbsp;<span class="ident" id="7870986"><a href="/encoding/xml/xml_test.go.html#7870838">err</a></span><span class="op" id="7870989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7870992">}</span><br>
<span class="lineno"></span><span class="op" id="7870994">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7870997">func</span>&nbsp;<span class="ident" id="7871002">TestTrailingToken</span><span class="op" id="7871019">(</span><span class="ident" id="7871020">t</span>&nbsp;<span class="op" id="7871022">*</span><span class="ident" id="7871023"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7871030">.</span><span class="ident" id="7871031">T</span><span class="op" id="7871032">)</span>&nbsp;<span class="op" id="7871034">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871037">input</span>&nbsp;<span class="op" id="7871043">:=</span>&nbsp;<span class="string" id="7871046">`&lt;FOO&gt;&lt;/FOO&gt;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871063">d</span>&nbsp;<span class="op" id="7871065">:=</span>&nbsp;<span class="ident" id="7871068"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7871078">(</span><span class="ident" id="7871079"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7871086">.</span><span class="ident" id="7871087">NewReader</span><span class="op" id="7871096">(</span><span class="ident" id="7871097"><a href="/encoding/xml/xml_test.go.html#7871037">input</a></span><span class="op" id="7871102">)</span><span class="op" id="7871103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871106">var</span>&nbsp;<span class="ident" id="7871110">err</span>&nbsp;<span class="builtintype" id="7871114">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871121">for</span>&nbsp;<span class="ident" id="7871125">_</span><span class="op" id="7871126">,</span>&nbsp;<span class="ident" id="7871128"><a href="/encoding/xml/xml_test.go.html#7871110">err</a></span>&nbsp;<span class="op" id="7871132">=</span>&nbsp;<span class="ident" id="7871134"><a href="/encoding/xml/xml_test.go.html#7871063">d</a></span><span class="op" id="7871135">.</span><span class="ident" id="7871136">Token</span><span class="op" id="7871141">(</span><span class="op" id="7871142">)</span><span class="op" id="7871143">;</span>&nbsp;<span class="ident" id="7871145"><a href="/encoding/xml/xml_test.go.html#7871110">err</a></span>&nbsp;<span class="op" id="7871149">==</span>&nbsp;<span class="ident" id="7871152">nil</span><span class="op" id="7871155">;</span>&nbsp;<span class="ident" id="7871157">_</span><span class="op" id="7871158">,</span>&nbsp;<span class="ident" id="7871160"><a href="/encoding/xml/xml_test.go.html#7871110">err</a></span>&nbsp;<span class="op" id="7871164">=</span>&nbsp;<span class="ident" id="7871166"><a href="/encoding/xml/xml_test.go.html#7871063">d</a></span><span class="op" id="7871167">.</span><span class="ident" id="7871168">Token</span><span class="op" id="7871173">(</span><span class="op" id="7871174">)</span>&nbsp;<span class="op" id="7871176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871179">}</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871182">if</span>&nbsp;<span class="ident" id="7871185"><a href="/encoding/xml/xml_test.go.html#7871110">err</a></span>&nbsp;<span class="op" id="7871189">!=</span>&nbsp;<span class="ident" id="7871192"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7871194">.</span><span class="ident" id="7871195">EOF</span>&nbsp;<span class="op" id="7871199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871203"><a href="/encoding/xml/xml_test.go.html#7871020">t</a></span><span class="op" id="7871204">.</span><span class="ident" id="7871205">Fatalf</span><span class="op" id="7871211">(</span><span class="string" id="7871212">&#34;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="7871247">,</span>&nbsp;<span class="ident" id="7871249"><a href="/encoding/xml/xml_test.go.html#7871110">err</a></span><span class="op" id="7871252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871255">}</span><br>
<span class="lineno"></span><span class="op" id="7871257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span><span class="keyword" id="7871260">func</span>&nbsp;<span class="ident" id="7871265">TestEntityInsideCDATA</span><span class="op" id="7871286">(</span><span class="ident" id="7871287">t</span>&nbsp;<span class="op" id="7871289">*</span><span class="ident" id="7871290"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7871297">.</span><span class="ident" id="7871298">T</span><span class="op" id="7871299">)</span>&nbsp;<span class="op" id="7871301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871304">input</span>&nbsp;<span class="op" id="7871310">:=</span>&nbsp;<span class="string" id="7871313">`&lt;test&gt;&lt;![CDATA[&nbsp;&amp;val=foo&nbsp;]]&gt;&lt;/test&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871352">d</span>&nbsp;<span class="op" id="7871354">:=</span>&nbsp;<span class="ident" id="7871357"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7871367">(</span><span class="ident" id="7871368"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7871375">.</span><span class="ident" id="7871376">NewReader</span><span class="op" id="7871385">(</span><span class="ident" id="7871386"><a href="/encoding/xml/xml_test.go.html#7871304">input</a></span><span class="op" id="7871391">)</span><span class="op" id="7871392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871395">var</span>&nbsp;<span class="ident" id="7871399">err</span>&nbsp;<span class="builtintype" id="7871403">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871410">for</span>&nbsp;<span class="ident" id="7871414">_</span><span class="op" id="7871415">,</span>&nbsp;<span class="ident" id="7871417"><a href="/encoding/xml/xml_test.go.html#7871399">err</a></span>&nbsp;<span class="op" id="7871421">=</span>&nbsp;<span class="ident" id="7871423"><a href="/encoding/xml/xml_test.go.html#7871352">d</a></span><span class="op" id="7871424">.</span><span class="ident" id="7871425">Token</span><span class="op" id="7871430">(</span><span class="op" id="7871431">)</span><span class="op" id="7871432">;</span>&nbsp;<span class="ident" id="7871434"><a href="/encoding/xml/xml_test.go.html#7871399">err</a></span>&nbsp;<span class="op" id="7871438">==</span>&nbsp;<span class="ident" id="7871441">nil</span><span class="op" id="7871444">;</span>&nbsp;<span class="ident" id="7871446">_</span><span class="op" id="7871447">,</span>&nbsp;<span class="ident" id="7871449"><a href="/encoding/xml/xml_test.go.html#7871399">err</a></span>&nbsp;<span class="op" id="7871453">=</span>&nbsp;<span class="ident" id="7871455"><a href="/encoding/xml/xml_test.go.html#7871352">d</a></span><span class="op" id="7871456">.</span><span class="ident" id="7871457">Token</span><span class="op" id="7871462">(</span><span class="op" id="7871463">)</span>&nbsp;<span class="op" id="7871465">{</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7871471">if</span>&nbsp;<span class="ident" id="7871474"><a href="/encoding/xml/xml_test.go.html#7871399">err</a></span>&nbsp;<span class="op" id="7871478">!=</span>&nbsp;<span class="ident" id="7871481"><a href="/encoding/xml/xml_test.go.html#7855924">io</a></span><span class="op" id="7871483">.</span><span class="ident" id="7871484">EOF</span>&nbsp;<span class="op" id="7871488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871492"><a href="/encoding/xml/xml_test.go.html#7871287">t</a></span><span class="op" id="7871493">.</span><span class="ident" id="7871494">Fatalf</span><span class="op" id="7871500">(</span><span class="string" id="7871501">&#34;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;io.EOF&#34;</span><span class="op" id="7871536">,</span>&nbsp;<span class="ident" id="7871538"><a href="/encoding/xml/xml_test.go.html#7871399">err</a></span><span class="op" id="7871541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871544">}</span><br>
<span class="lineno"></span><span class="op" id="7871546">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span><span class="keyword" id="7871549">var</span>&nbsp;<span class="ident" id="7871553">characterTests</span>&nbsp;<span class="op" id="7871568">=</span>&nbsp;<span class="op" id="7871570">[</span><span class="op" id="7871571">]</span><span class="keyword" id="7871572">struct</span>&nbsp;<span class="op" id="7871579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871582">in</span>&nbsp;&nbsp;<span class="builtintype" id="7871586">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7871594">err</span>&nbsp;<span class="builtintype" id="7871598">string</span><br>
<span class="lineno"></span><span class="op" id="7871605">}</span><span class="op" id="7871606">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871609">{</span><span class="string" id="7871610">&#34;\x12&lt;doc/&gt;&#34;</span><span class="op" id="7871622">,</span>&nbsp;<span class="string" id="7871624">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+0012&#34;</span><span class="op" id="7871655">}</span><span class="op" id="7871656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871659">{</span><span class="string" id="7871660">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;\x0b&lt;doc/&gt;&#34;</span><span class="op" id="7871695">,</span>&nbsp;<span class="string" id="7871697">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+000B&#34;</span><span class="op" id="7871728">}</span><span class="op" id="7871729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871732">{</span><span class="string" id="7871733">&#34;\xef\xbf\xbe&lt;doc/&gt;&#34;</span><span class="op" id="7871753">,</span>&nbsp;<span class="string" id="7871755">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+FFFE&#34;</span><span class="op" id="7871786">}</span><span class="op" id="7871787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871790">{</span><span class="string" id="7871791">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;&lt;doc&gt;\r\n&lt;hiya/&gt;\x07&lt;toots/&gt;&lt;/doc&gt;&#34;</span><span class="op" id="7871850">,</span>&nbsp;<span class="string" id="7871852">&#34;illegal&nbsp;character&nbsp;code&nbsp;U+0007&#34;</span><span class="op" id="7871883">}</span><span class="op" id="7871884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871887">{</span><span class="string" id="7871888">&#34;&lt;?xml&nbsp;version=\&#34;1.0\&#34;?&gt;&lt;doc&nbsp;\x12=&#39;value&#39;&gt;what&#39;s&nbsp;up&lt;/doc&gt;&#34;</span><span class="op" id="7871946">,</span>&nbsp;<span class="string" id="7871948">&#34;expected&nbsp;attribute&nbsp;name&nbsp;in&nbsp;element&#34;</span><span class="op" id="7871984">}</span><span class="op" id="7871985">,</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7871988">{</span><span class="string" id="7871989">&#34;&lt;doc&gt;&amp;abc\x01;&lt;/doc&gt;&#34;</span><span class="op" id="7872011">,</span>&nbsp;<span class="string" id="7872013">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;abc&nbsp;(no&nbsp;semicolon)&#34;</span><span class="op" id="7872059">}</span><span class="op" id="7872060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872063">{</span><span class="string" id="7872064">&#34;&lt;doc&gt;&amp;\x01;&lt;/doc&gt;&#34;</span><span class="op" id="7872083">,</span>&nbsp;<span class="string" id="7872085">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;&nbsp;(no&nbsp;semicolon)&#34;</span><span class="op" id="7872128">}</span><span class="op" id="7872129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872132">{</span><span class="string" id="7872133">&#34;&lt;doc&gt;&amp;\xef\xbf\xbe;&lt;/doc&gt;&#34;</span><span class="op" id="7872160">,</span>&nbsp;<span class="string" id="7872162">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;\uFFFE;&#34;</span><span class="op" id="7872197">}</span><span class="op" id="7872198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872201">{</span><span class="string" id="7872202">&#34;&lt;doc&gt;&amp;hello;&lt;/doc&gt;&#34;</span><span class="op" id="7872222">,</span>&nbsp;<span class="string" id="7872224">&#34;invalid&nbsp;character&nbsp;entity&nbsp;&amp;hello;&#34;</span><span class="op" id="7872258">}</span><span class="op" id="7872259">,</span><br>
<span class="lineno"></span><span class="op" id="7872261">}</span><br>
<span class="lineno">635</span><br>
<span class="lineno"></span><span class="keyword" id="7872264">func</span>&nbsp;<span class="ident" id="7872269">TestDisallowedCharacters</span><span class="op" id="7872293">(</span><span class="ident" id="7872294">t</span>&nbsp;<span class="op" id="7872296">*</span><span class="ident" id="7872297"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7872304">.</span><span class="ident" id="7872305">T</span><span class="op" id="7872306">)</span>&nbsp;<span class="op" id="7872308">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872312">for</span>&nbsp;<span class="ident" id="7872316">i</span><span class="op" id="7872317">,</span>&nbsp;<span class="ident" id="7872319">tt</span>&nbsp;<span class="op" id="7872322">:=</span>&nbsp;<span class="keyword" id="7872325">range</span>&nbsp;<span class="ident" id="7872331"><a href="/encoding/xml/xml_test.go.html#7871553">characterTests</a></span>&nbsp;<span class="op" id="7872346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872350">d</span>&nbsp;<span class="op" id="7872352">:=</span>&nbsp;<span class="ident" id="7872355"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7872365">(</span><span class="ident" id="7872366"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7872373">.</span><span class="ident" id="7872374">NewReader</span><span class="op" id="7872383">(</span><span class="ident" id="7872384"><a href="/encoding/xml/xml_test.go.html#7872319">tt</a></span><span class="op" id="7872386">.</span><span class="ident" id="7872387">in</span><span class="op" id="7872389">)</span><span class="op" id="7872390">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872394">var</span>&nbsp;<span class="ident" id="7872398">err</span>&nbsp;<span class="builtintype" id="7872402">error</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872411">for</span>&nbsp;<span class="ident" id="7872415"><a href="/encoding/xml/xml_test.go.html#7872398">err</a></span>&nbsp;<span class="op" id="7872419">==</span>&nbsp;<span class="ident" id="7872422">nil</span>&nbsp;<span class="op" id="7872426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872431">_</span><span class="op" id="7872432">,</span>&nbsp;<span class="ident" id="7872434"><a href="/encoding/xml/xml_test.go.html#7872398">err</a></span>&nbsp;<span class="op" id="7872438">=</span>&nbsp;<span class="ident" id="7872440"><a href="/encoding/xml/xml_test.go.html#7872350">d</a></span><span class="op" id="7872441">.</span><span class="ident" id="7872442">Token</span><span class="op" id="7872447">(</span><span class="op" id="7872448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872452">}</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872456">synerr</span><span class="op" id="7872462">,</span>&nbsp;<span class="ident" id="7872464">ok</span>&nbsp;<span class="op" id="7872467">:=</span>&nbsp;<span class="ident" id="7872470"><a href="/encoding/xml/xml_test.go.html#7872398">err</a></span><span class="op" id="7872473">.</span><span class="op" id="7872474">(</span><span class="op" id="7872475">*</span><span class="ident" id="7872476"><a href="/encoding/xml/xml.go.html#5679580">SyntaxError</a></span><span class="op" id="7872487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872491">if</span>&nbsp;<span class="op" id="7872494">!</span><span class="ident" id="7872495"><a href="/encoding/xml/xml_test.go.html#7872464">ok</a></span>&nbsp;<span class="op" id="7872498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872503"><a href="/encoding/xml/xml_test.go.html#7872294">t</a></span><span class="op" id="7872504">.</span><span class="ident" id="7872505">Fatalf</span><span class="op" id="7872511">(</span><span class="string" id="7872512">&#34;input&nbsp;%d&nbsp;d.Token()&nbsp;=&nbsp;_,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;*SyntaxError&#34;</span><span class="op" id="7872562">,</span>&nbsp;<span class="ident" id="7872564"><a href="/encoding/xml/xml_test.go.html#7872316">i</a></span><span class="op" id="7872565">,</span>&nbsp;<span class="ident" id="7872567"><a href="/encoding/xml/xml_test.go.html#7872398">err</a></span><span class="op" id="7872570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7872578">if</span>&nbsp;<span class="ident" id="7872581"><a href="/encoding/xml/xml_test.go.html#7872456">synerr</a></span><span class="op" id="7872587">.</span><span class="ident" id="7872588">Msg</span>&nbsp;<span class="op" id="7872592">!=</span>&nbsp;<span class="ident" id="7872595"><a href="/encoding/xml/xml_test.go.html#7872319">tt</a></span><span class="op" id="7872597">.</span><span class="ident" id="7872598">err</span>&nbsp;<span class="op" id="7872602">{</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872607"><a href="/encoding/xml/xml_test.go.html#7872294">t</a></span><span class="op" id="7872608">.</span><span class="ident" id="7872609">Fatalf</span><span class="op" id="7872615">(</span><span class="string" id="7872616">&#34;input&nbsp;%d&nbsp;synerr.Msg&nbsp;wrong:&nbsp;want&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7872660">,</span>&nbsp;<span class="ident" id="7872662"><a href="/encoding/xml/xml_test.go.html#7872316">i</a></span><span class="op" id="7872663">,</span>&nbsp;<span class="ident" id="7872665"><a href="/encoding/xml/xml_test.go.html#7872319">tt</a></span><span class="op" id="7872667">.</span><span class="ident" id="7872668">err</span><span class="op" id="7872671">,</span>&nbsp;<span class="ident" id="7872673"><a href="/encoding/xml/xml_test.go.html#7872456">synerr</a></span><span class="op" id="7872679">.</span><span class="ident" id="7872680">Msg</span><span class="op" id="7872683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872690">}</span><br>
<span class="lineno"></span><span class="op" id="7872692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="7872695">type</span>&nbsp;<span class="ident" id="7872700">procInstEncodingTest</span>&nbsp;<span class="keyword" id="7872721">struct</span>&nbsp;<span class="op" id="7872728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872731">expect</span><span class="op" id="7872737">,</span>&nbsp;<span class="ident" id="7872739">got</span>&nbsp;<span class="builtintype" id="7872743">string</span><br>
<span class="lineno"></span><span class="op" id="7872750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7872753">var</span>&nbsp;<span class="ident" id="7872757">procInstTests</span>&nbsp;<span class="op" id="7872771">=</span>&nbsp;<span class="op" id="7872773">[</span><span class="op" id="7872774">]</span><span class="keyword" id="7872775">struct</span>&nbsp;<span class="op" id="7872782">{</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7872785">input</span><span class="op" id="7872790">,</span>&nbsp;<span class="ident" id="7872792">expect</span>&nbsp;<span class="builtintype" id="7872799">string</span><br>
<span class="lineno"></span><span class="op" id="7872806">}</span><span class="op" id="7872807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872810">{</span><span class="string" id="7872811">`version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;`</span><span class="op" id="7872843">,</span>&nbsp;<span class="string" id="7872845">&#34;utf-8&#34;</span><span class="op" id="7872852">}</span><span class="op" id="7872853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872856">{</span><span class="string" id="7872857">`version=&#34;1.0&#34;&nbsp;encoding=&#39;utf-8&#39;`</span><span class="op" id="7872889">,</span>&nbsp;<span class="string" id="7872891">&#34;utf-8&#34;</span><span class="op" id="7872898">}</span><span class="op" id="7872899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872902">{</span><span class="string" id="7872903">`version=&#34;1.0&#34;&nbsp;encoding=&#39;utf-8&#39;&nbsp;`</span><span class="op" id="7872936">,</span>&nbsp;<span class="string" id="7872938">&#34;utf-8&#34;</span><span class="op" id="7872945">}</span><span class="op" id="7872946">,</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872949">{</span><span class="string" id="7872950">`version=&#34;1.0&#34;&nbsp;encoding=utf-8`</span><span class="op" id="7872980">,</span>&nbsp;<span class="string" id="7872982">&#34;&#34;</span><span class="op" id="7872984">}</span><span class="op" id="7872985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7872988">{</span><span class="string" id="7872989">`encoding=&#34;FOO&#34;&nbsp;`</span><span class="op" id="7873006">,</span>&nbsp;<span class="string" id="7873008">&#34;FOO&#34;</span><span class="op" id="7873013">}</span><span class="op" id="7873014">,</span><br>
<span class="lineno"></span><span class="op" id="7873016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873019">func</span>&nbsp;<span class="ident" id="7873024">TestProcInstEncoding</span><span class="op" id="7873044">(</span><span class="ident" id="7873045">t</span>&nbsp;<span class="op" id="7873047">*</span><span class="ident" id="7873048"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7873055">.</span><span class="ident" id="7873056">T</span><span class="op" id="7873057">)</span>&nbsp;<span class="op" id="7873059">{</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873062">for</span>&nbsp;<span class="ident" id="7873066">_</span><span class="op" id="7873067">,</span>&nbsp;<span class="ident" id="7873069">test</span>&nbsp;<span class="op" id="7873074">:=</span>&nbsp;<span class="keyword" id="7873077">range</span>&nbsp;<span class="ident" id="7873083"><a href="/encoding/xml/xml_test.go.html#7872757">procInstTests</a></span>&nbsp;<span class="op" id="7873097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873101">got</span>&nbsp;<span class="op" id="7873105">:=</span>&nbsp;<span class="ident" id="7873108"><a href="/encoding/xml/xml.go.html#5723044">procInstEncoding</a></span><span class="op" id="7873124">(</span><span class="ident" id="7873125"><a href="/encoding/xml/xml_test.go.html#7873069">test</a></span><span class="op" id="7873129">.</span><span class="ident" id="7873130">input</span><span class="op" id="7873135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7873139">if</span>&nbsp;<span class="ident" id="7873142"><a href="/encoding/xml/xml_test.go.html#7873101">got</a></span>&nbsp;<span class="op" id="7873146">!=</span>&nbsp;<span class="ident" id="7873149"><a href="/encoding/xml/xml_test.go.html#7873069">test</a></span><span class="op" id="7873153">.</span><span class="ident" id="7873154">expect</span>&nbsp;<span class="op" id="7873161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873166"><a href="/encoding/xml/xml_test.go.html#7873045">t</a></span><span class="op" id="7873167">.</span><span class="ident" id="7873168">Errorf</span><span class="op" id="7873174">(</span><span class="string" id="7873175">&#34;procInstEncoding(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7873211">,</span>&nbsp;<span class="ident" id="7873213"><a href="/encoding/xml/xml_test.go.html#7873069">test</a></span><span class="op" id="7873217">.</span><span class="ident" id="7873218">input</span><span class="op" id="7873223">,</span>&nbsp;<span class="ident" id="7873225"><a href="/encoding/xml/xml_test.go.html#7873101">got</a></span><span class="op" id="7873228">,</span>&nbsp;<span class="ident" id="7873230"><a href="/encoding/xml/xml_test.go.html#7873069">test</a></span><span class="op" id="7873234">.</span><span class="ident" id="7873235">expect</span><span class="op" id="7873241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873245">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7873248">}</span><br>
<span class="lineno"></span><span class="op" id="7873250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7873253">//&nbsp;Ensure&nbsp;that&nbsp;directives&nbsp;with&nbsp;comments&nbsp;include&nbsp;the&nbsp;complete</span><br>
<span class="lineno"></span><span class="comment" id="7873314">//&nbsp;text&nbsp;of&nbsp;any&nbsp;nested&nbsp;directives.</span><br>
<span class="lineno">680</span><br>
<span class="lineno"></span><span class="keyword" id="7873349">var</span>&nbsp;<span class="ident" id="7873353">directivesWithCommentsInput</span>&nbsp;<span class="op" id="7873381">=</span>&nbsp;<span class="string" id="7873383">`<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!--&nbsp;a&nbsp;comment&nbsp;--&gt;&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;&lt;!--&nbsp;a&nbsp;comment--&gt;]&gt;<br>
<span class="lineno"></span>&lt;!DOCTYPE&nbsp;&lt;!-&gt;&nbsp;&lt;!&gt;&nbsp;&lt;!----&gt;&nbsp;&lt;!--&gt;--&gt;&nbsp;&lt;!---&gt;--&gt;&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;&lt;!--&nbsp;a&nbsp;comment--&gt;]&gt;<br>
<span class="lineno">685</span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873619">var</span>&nbsp;<span class="ident" id="7873623">directivesWithCommentsTokens</span>&nbsp;<span class="op" id="7873652">=</span>&nbsp;<span class="op" id="7873654">[</span><span class="op" id="7873655">]</span><span class="ident" id="7873656"><a href="/encoding/xml/xml.go.html#5680281">Token</a></span><span class="op" id="7873661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873664"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7873672">(</span><span class="string" id="7873673">&#34;\n&#34;</span><span class="op" id="7873677">)</span><span class="op" id="7873678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873681"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7873690">(</span><span class="string" id="7873691">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;rdf&nbsp;&#34;http://www.w3.org/1999/02/22-rdf-syntax-ns#&#34;&gt;]`</span><span class="op" id="7873762">)</span><span class="op" id="7873763">,</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873766"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7873774">(</span><span class="string" id="7873775">&#34;\n&#34;</span><span class="op" id="7873779">)</span><span class="op" id="7873780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873783"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7873792">(</span><span class="string" id="7873793">`DOCTYPE&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;]`</span><span class="op" id="7873826">)</span><span class="op" id="7873827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873830"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7873838">(</span><span class="string" id="7873839">&#34;\n&#34;</span><span class="op" id="7873843">)</span><span class="op" id="7873844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873847"><a href="/encoding/xml/xml.go.html#5681615">Directive</a></span><span class="op" id="7873856">(</span><span class="string" id="7873857">`DOCTYPE&nbsp;&lt;!-&gt;&nbsp;&lt;!&gt;&nbsp;&nbsp;&nbsp;&nbsp;[&lt;!ENTITY&nbsp;go&nbsp;&#34;Golang&#34;&gt;]`</span><span class="op" id="7873902">)</span><span class="op" id="7873903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873906"><a href="/encoding/xml/xml.go.html#5680893">CharData</a></span><span class="op" id="7873914">(</span><span class="string" id="7873915">&#34;\n&#34;</span><span class="op" id="7873919">)</span><span class="op" id="7873920">,</span><br>
<span class="lineno">695</span><span class="op" id="7873922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7873925">func</span>&nbsp;<span class="ident" id="7873930">TestDirectivesWithComments</span><span class="op" id="7873956">(</span><span class="ident" id="7873957">t</span>&nbsp;<span class="op" id="7873959">*</span><span class="ident" id="7873960"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7873967">.</span><span class="ident" id="7873968">T</span><span class="op" id="7873969">)</span>&nbsp;<span class="op" id="7873971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7873974">d</span>&nbsp;<span class="op" id="7873976">:=</span>&nbsp;<span class="ident" id="7873979"><a href="/encoding/xml/xml.go.html#5684565">NewDecoder</a></span><span class="op" id="7873989">(</span><span class="ident" id="7873990"><a href="/encoding/xml/xml_test.go.html#7855941">strings</a></span><span class="op" id="7873997">.</span><span class="ident" id="7873998">NewReader</span><span class="op" id="7874007">(</span><span class="ident" id="7874008"><a href="/encoding/xml/xml_test.go.html#7873353">directivesWithCommentsInput</a></span><span class="op" id="7874035">)</span><span class="op" id="7874036">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874040">for</span>&nbsp;<span class="ident" id="7874044">i</span><span class="op" id="7874045">,</span>&nbsp;<span class="ident" id="7874047">want</span>&nbsp;<span class="op" id="7874052">:=</span>&nbsp;<span class="keyword" id="7874055">range</span>&nbsp;<span class="ident" id="7874061"><a href="/encoding/xml/xml_test.go.html#7873623">directivesWithCommentsTokens</a></span>&nbsp;<span class="op" id="7874090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874094">have</span><span class="op" id="7874098">,</span>&nbsp;<span class="ident" id="7874100">err</span>&nbsp;<span class="op" id="7874104">:=</span>&nbsp;<span class="ident" id="7874107"><a href="/encoding/xml/xml_test.go.html#7873974">d</a></span><span class="op" id="7874108">.</span><span class="ident" id="7874109">Token</span><span class="op" id="7874114">(</span><span class="op" id="7874115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874119">if</span>&nbsp;<span class="ident" id="7874122"><a href="/encoding/xml/xml_test.go.html#7874100">err</a></span>&nbsp;<span class="op" id="7874126">!=</span>&nbsp;<span class="ident" id="7874129">nil</span>&nbsp;<span class="op" id="7874133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874138"><a href="/encoding/xml/xml_test.go.html#7873957">t</a></span><span class="op" id="7874139">.</span><span class="ident" id="7874140">Fatalf</span><span class="op" id="7874146">(</span><span class="string" id="7874147">&#34;token&nbsp;%d:&nbsp;unexpected&nbsp;error:&nbsp;%s&#34;</span><span class="op" id="7874179">,</span>&nbsp;<span class="ident" id="7874181"><a href="/encoding/xml/xml_test.go.html#7874044">i</a></span><span class="op" id="7874182">,</span>&nbsp;<span class="ident" id="7874184"><a href="/encoding/xml/xml_test.go.html#7874100">err</a></span><span class="op" id="7874187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874191">}</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874195">if</span>&nbsp;<span class="op" id="7874198">!</span><span class="ident" id="7874199"><a href="/encoding/xml/xml_test.go.html#7855930">reflect</a></span><span class="op" id="7874206">.</span><span class="ident" id="7874207">DeepEqual</span><span class="op" id="7874216">(</span><span class="ident" id="7874217"><a href="/encoding/xml/xml_test.go.html#7874094">have</a></span><span class="op" id="7874221">,</span>&nbsp;<span class="ident" id="7874223"><a href="/encoding/xml/xml_test.go.html#7874047">want</a></span><span class="op" id="7874227">)</span>&nbsp;<span class="op" id="7874229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874234"><a href="/encoding/xml/xml_test.go.html#7873957">t</a></span><span class="op" id="7874235">.</span><span class="ident" id="7874236">Errorf</span><span class="op" id="7874242">(</span><span class="string" id="7874243">&#34;token&nbsp;%d&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7874268">,</span>&nbsp;<span class="ident" id="7874270"><a href="/encoding/xml/xml_test.go.html#7874044">i</a></span><span class="op" id="7874271">,</span>&nbsp;<span class="ident" id="7874273"><a href="/encoding/xml/xml_test.go.html#7874094">have</a></span><span class="op" id="7874277">,</span>&nbsp;<span class="ident" id="7874279"><a href="/encoding/xml/xml_test.go.html#7874047">want</a></span><span class="op" id="7874283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874290">}</span><br>
<span class="lineno"></span><span class="op" id="7874292">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span><span class="comment" id="7874295">//&nbsp;Writer&nbsp;whose&nbsp;Write&nbsp;method&nbsp;always&nbsp;returns&nbsp;an&nbsp;error.</span><br>
<span class="lineno"></span><span class="keyword" id="7874349">type</span>&nbsp;<span class="ident" id="7874354">errWriter</span>&nbsp;<span class="keyword" id="7874364">struct</span><span class="op" id="7874370">{</span><span class="op" id="7874371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7874374">func</span>&nbsp;<span class="op" id="7874379">(</span><span class="ident" id="7874380"><a href="/encoding/xml/xml_test.go.html#7874354">errWriter</a></span><span class="op" id="7874389">)</span>&nbsp;<span class="ident" id="7874391">Write</span><span class="op" id="7874396">(</span><span class="ident" id="7874397">p</span>&nbsp;<span class="op" id="7874399">[</span><span class="op" id="7874400">]</span><span class="builtintype" id="7874401">byte</span><span class="op" id="7874405">)</span>&nbsp;<span class="op" id="7874407">(</span><span class="ident" id="7874408">n</span>&nbsp;<span class="builtintype" id="7874410">int</span><span class="op" id="7874413">,</span>&nbsp;<span class="ident" id="7874415">err</span>&nbsp;<span class="builtintype" id="7874419">error</span><span class="op" id="7874424">)</span>&nbsp;<span class="op" id="7874426">{</span>&nbsp;<span class="keyword" id="7874428">return</span>&nbsp;<span class="num" id="7874435">0</span><span class="op" id="7874436">,</span>&nbsp;<span class="ident" id="7874438"><a href="/encoding/xml/xml_test.go.html#7855917">fmt</a></span><span class="op" id="7874441">.</span><span class="ident" id="7874442">Errorf</span><span class="op" id="7874448">(</span><span class="string" id="7874449">&#34;unwritable&#34;</span><span class="op" id="7874461">)</span>&nbsp;<span class="op" id="7874463">}</span><br>
<span class="lineno">715</span><br>
<span class="lineno"></span><span class="keyword" id="7874466">func</span>&nbsp;<span class="ident" id="7874471">TestEscapeTextIOErrors</span><span class="op" id="7874493">(</span><span class="ident" id="7874494">t</span>&nbsp;<span class="op" id="7874496">*</span><span class="ident" id="7874497"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7874504">.</span><span class="ident" id="7874505">T</span><span class="op" id="7874506">)</span>&nbsp;<span class="op" id="7874508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874511">expectErr</span>&nbsp;<span class="op" id="7874521">:=</span>&nbsp;<span class="string" id="7874524">&#34;unwritable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874538">err</span>&nbsp;<span class="op" id="7874542">:=</span>&nbsp;<span class="ident" id="7874545"><a href="/encoding/xml/xml.go.html#5721219">EscapeText</a></span><span class="op" id="7874555">(</span><span class="ident" id="7874556"><a href="/encoding/xml/xml_test.go.html#7874354">errWriter</a></span><span class="op" id="7874565">{</span><span class="op" id="7874566">}</span><span class="op" id="7874567">,</span>&nbsp;<span class="op" id="7874569">[</span><span class="op" id="7874570">]</span><span class="builtintype" id="7874571">byte</span><span class="op" id="7874575">{</span><span class="string" id="7874576">&#39;A&#39;</span><span class="op" id="7874579">}</span><span class="op" id="7874580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874584">if</span>&nbsp;<span class="ident" id="7874587"><a href="/encoding/xml/xml_test.go.html#7874538">err</a></span>&nbsp;<span class="op" id="7874591">==</span>&nbsp;<span class="ident" id="7874594">nil</span>&nbsp;<span class="op" id="7874598">||</span>&nbsp;<span class="ident" id="7874601"><a href="/encoding/xml/xml_test.go.html#7874538">err</a></span><span class="op" id="7874604">.</span><span class="ident" id="7874605">Error</span><span class="op" id="7874610">(</span><span class="op" id="7874611">)</span>&nbsp;<span class="op" id="7874613">!=</span>&nbsp;<span class="ident" id="7874616"><a href="/encoding/xml/xml_test.go.html#7874511">expectErr</a></span>&nbsp;<span class="op" id="7874626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874630"><a href="/encoding/xml/xml_test.go.html#7874494">t</a></span><span class="op" id="7874631">.</span><span class="ident" id="7874632">Errorf</span><span class="op" id="7874638">(</span><span class="string" id="7874639">&#34;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7874657">,</span>&nbsp;<span class="ident" id="7874659"><a href="/encoding/xml/xml_test.go.html#7874538">err</a></span><span class="op" id="7874662">,</span>&nbsp;<span class="ident" id="7874664"><a href="/encoding/xml/xml_test.go.html#7874511">expectErr</a></span><span class="op" id="7874673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874676">}</span><br>
<span class="lineno"></span><span class="op" id="7874678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">725</span><span class="keyword" id="7874681">func</span>&nbsp;<span class="ident" id="7874686">TestEscapeTextInvalidChar</span><span class="op" id="7874711">(</span><span class="ident" id="7874712">t</span>&nbsp;<span class="op" id="7874714">*</span><span class="ident" id="7874715"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7874722">.</span><span class="ident" id="7874723">T</span><span class="op" id="7874724">)</span>&nbsp;<span class="op" id="7874726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874729">input</span>&nbsp;<span class="op" id="7874735">:=</span>&nbsp;<span class="op" id="7874738">[</span><span class="op" id="7874739">]</span><span class="builtintype" id="7874740">byte</span><span class="op" id="7874744">(</span><span class="string" id="7874745">&#34;A&nbsp;\x00&nbsp;terminated&nbsp;string.&#34;</span><span class="op" id="7874772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874775">expected</span>&nbsp;<span class="op" id="7874784">:=</span>&nbsp;<span class="string" id="7874787">&#34;A&nbsp;\uFFFD&nbsp;terminated&nbsp;string.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874819">buff</span>&nbsp;<span class="op" id="7874824">:=</span>&nbsp;<span class="builtinfunc" id="7874827">new</span><span class="op" id="7874830">(</span><span class="ident" id="7874831"><a href="/encoding/xml/xml_test.go.html#7855908">bytes</a></span><span class="op" id="7874836">.</span><span class="ident" id="7874837">Buffer</span><span class="op" id="7874843">)</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874846">if</span>&nbsp;<span class="ident" id="7874849">err</span>&nbsp;<span class="op" id="7874853">:=</span>&nbsp;<span class="ident" id="7874856"><a href="/encoding/xml/xml.go.html#5721219">EscapeText</a></span><span class="op" id="7874866">(</span><span class="ident" id="7874867"><a href="/encoding/xml/xml_test.go.html#7874819">buff</a></span><span class="op" id="7874871">,</span>&nbsp;<span class="ident" id="7874873"><a href="/encoding/xml/xml_test.go.html#7874729">input</a></span><span class="op" id="7874878">)</span><span class="op" id="7874879">;</span>&nbsp;<span class="ident" id="7874881"><a href="/encoding/xml/xml_test.go.html#7874849">err</a></span>&nbsp;<span class="op" id="7874885">!=</span>&nbsp;<span class="ident" id="7874888">nil</span>&nbsp;<span class="op" id="7874892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874896"><a href="/encoding/xml/xml_test.go.html#7874712">t</a></span><span class="op" id="7874897">.</span><span class="ident" id="7874898">Fatalf</span><span class="op" id="7874904">(</span><span class="string" id="7874905">&#34;have&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7874924">,</span>&nbsp;<span class="ident" id="7874926"><a href="/encoding/xml/xml_test.go.html#7874849">err</a></span><span class="op" id="7874929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7874932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874935">text</span>&nbsp;<span class="op" id="7874940">:=</span>&nbsp;<span class="ident" id="7874943"><a href="/encoding/xml/xml_test.go.html#7874819">buff</a></span><span class="op" id="7874947">.</span><span class="ident" id="7874948">String</span><span class="op" id="7874954">(</span><span class="op" id="7874955">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7874959">if</span>&nbsp;<span class="ident" id="7874962"><a href="/encoding/xml/xml_test.go.html#7874935">text</a></span>&nbsp;<span class="op" id="7874967">!=</span>&nbsp;<span class="ident" id="7874970"><a href="/encoding/xml/xml_test.go.html#7874775">expected</a></span>&nbsp;<span class="op" id="7874979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7874983"><a href="/encoding/xml/xml_test.go.html#7874712">t</a></span><span class="op" id="7874984">.</span><span class="ident" id="7874985">Errorf</span><span class="op" id="7874991">(</span><span class="string" id="7874992">&#34;have&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7875010">,</span>&nbsp;<span class="ident" id="7875012"><a href="/encoding/xml/xml_test.go.html#7874935">text</a></span><span class="op" id="7875016">,</span>&nbsp;<span class="ident" id="7875018"><a href="/encoding/xml/xml_test.go.html#7874775">expected</a></span><span class="op" id="7875026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875029">}</span><br>
<span class="lineno"></span><span class="op" id="7875031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">740</span><span class="keyword" id="7875034">func</span>&nbsp;<span class="ident" id="7875039">TestIssue5880</span><span class="op" id="7875052">(</span><span class="ident" id="7875053">t</span>&nbsp;<span class="op" id="7875055">*</span><span class="ident" id="7875056"><a href="/encoding/xml/xml_test.go.html#7855952">testing</a></span><span class="op" id="7875063">.</span><span class="ident" id="7875064">T</span><span class="op" id="7875065">)</span>&nbsp;<span class="op" id="7875067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875070">type</span>&nbsp;<span class="ident" id="7875075">T</span>&nbsp;<span class="op" id="7875077">[</span><span class="op" id="7875078">]</span><span class="builtintype" id="7875079">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875085">data</span><span class="op" id="7875089">,</span>&nbsp;<span class="ident" id="7875091">err</span>&nbsp;<span class="op" id="7875095">:=</span>&nbsp;<span class="ident" id="7875098"><a href="/encoding/xml/marshal.go.html#5625362">Marshal</a></span><span class="op" id="7875105">(</span><span class="ident" id="7875106"><a href="/encoding/xml/xml_test.go.html#7875075">T</a></span><span class="op" id="7875107">{</span><span class="num" id="7875108">192</span><span class="op" id="7875111">,</span>&nbsp;<span class="num" id="7875113">168</span><span class="op" id="7875116">,</span>&nbsp;<span class="num" id="7875118">0</span><span class="op" id="7875119">,</span>&nbsp;<span class="num" id="7875121">1</span><span class="op" id="7875122">}</span><span class="op" id="7875123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875126">if</span>&nbsp;<span class="ident" id="7875129"><a href="/encoding/xml/xml_test.go.html#7875091">err</a></span>&nbsp;<span class="op" id="7875133">!=</span>&nbsp;<span class="ident" id="7875136">nil</span>&nbsp;<span class="op" id="7875140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875144"><a href="/encoding/xml/xml_test.go.html#7875053">t</a></span><span class="op" id="7875145">.</span><span class="ident" id="7875146">Errorf</span><span class="op" id="7875152">(</span><span class="string" id="7875153">&#34;Marshal&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7875172">,</span>&nbsp;<span class="ident" id="7875174"><a href="/encoding/xml/xml_test.go.html#7875091">err</a></span><span class="op" id="7875177">)</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7875183">if</span>&nbsp;<span class="op" id="7875186">!</span><span class="ident" id="7875187"><a href="/encoding/xml/xml_test.go.html#7855963">utf8</a></span><span class="op" id="7875191">.</span><span class="ident" id="7875192">Valid</span><span class="op" id="7875197">(</span><span class="ident" id="7875198"><a href="/encoding/xml/xml_test.go.html#7875085">data</a></span><span class="op" id="7875202">)</span>&nbsp;<span class="op" id="7875204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7875208"><a href="/encoding/xml/xml_test.go.html#7875053">t</a></span><span class="op" id="7875209">.</span><span class="ident" id="7875210">Errorf</span><span class="op" id="7875216">(</span><span class="string" id="7875217">&#34;Marshal&nbsp;generated&nbsp;invalid&nbsp;UTF-8:&nbsp;%x&#34;</span><span class="op" id="7875254">,</span>&nbsp;<span class="ident" id="7875256"><a href="/encoding/xml/xml_test.go.html#7875085">data</a></span><span class="op" id="7875260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7875263">}</span><br>
<span class="lineno"></span><span class="op" id="7875265">}</span>
</div>
</body>
</html>
