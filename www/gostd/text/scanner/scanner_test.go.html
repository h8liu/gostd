<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6842694">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6842749">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6842803">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6842854">package</span>&nbsp;<span class="ident" id="6842862">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6842871">import</span>&nbsp;<span class="op" id="6842878">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6842881">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6842890">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6842897">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6842903">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6842914">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6842925">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="6842940">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="6842943">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="6843018">type</span>&nbsp;<span class="ident" id="6843023">StringReader</span>&nbsp;<span class="keyword" id="6843036">struct</span>&nbsp;<span class="op" id="6843043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843046">data</span>&nbsp;<span class="op" id="6843051">[</span><span class="op" id="6843052">]</span><span class="builtintype" id="6843053">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843061">step</span>&nbsp;<span class="builtintype" id="6843066">int</span><br>
<span class="lineno">20</span><span class="op" id="6843070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843073">func</span>&nbsp;<span class="op" id="6843078">(</span><span class="ident" id="6843079">r</span>&nbsp;<span class="op" id="6843081">*</span><span class="ident" id="6843082">StringReader</span><span class="op" id="6843094">)</span>&nbsp;<span class="ident" id="6843096">Read</span><span class="op" id="6843100">(</span><span class="ident" id="6843101">p</span>&nbsp;<span class="op" id="6843103">[</span><span class="op" id="6843104">]</span><span class="builtintype" id="6843105">byte</span><span class="op" id="6843109">)</span>&nbsp;<span class="op" id="6843111">(</span><span class="ident" id="6843112">n</span>&nbsp;<span class="builtintype" id="6843114">int</span><span class="op" id="6843117">,</span>&nbsp;<span class="ident" id="6843119">err</span>&nbsp;<span class="builtintype" id="6843123">error</span><span class="op" id="6843128">)</span>&nbsp;<span class="op" id="6843130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843133">if</span>&nbsp;<span class="ident" id="6843136">r</span><span class="op" id="6843137">.</span><span class="ident" id="6843138">step</span>&nbsp;<span class="op" id="6843143">&lt;</span>&nbsp;<span class="builtinfunc" id="6843145">len</span><span class="op" id="6843148">(</span><span class="ident" id="6843149">r</span><span class="op" id="6843150">.</span><span class="ident" id="6843151">data</span><span class="op" id="6843155">)</span>&nbsp;<span class="op" id="6843157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843161">s</span>&nbsp;<span class="op" id="6843163">:=</span>&nbsp;<span class="ident" id="6843166">r</span><span class="op" id="6843167">.</span><span class="ident" id="6843168">data</span><span class="op" id="6843172">[</span><span class="ident" id="6843173">r</span><span class="op" id="6843174">.</span><span class="ident" id="6843175">step</span><span class="op" id="6843179">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843183">n</span>&nbsp;<span class="op" id="6843185">=</span>&nbsp;<span class="builtinfunc" id="6843187">copy</span><span class="op" id="6843191">(</span><span class="ident" id="6843192">p</span><span class="op" id="6843193">,</span>&nbsp;<span class="ident" id="6843195">s</span><span class="op" id="6843196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843200">r</span><span class="op" id="6843201">.</span><span class="ident" id="6843202">step</span><span class="op" id="6843206">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843210">}</span>&nbsp;<span class="keyword" id="6843212">else</span>&nbsp;<span class="op" id="6843217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843221">err</span>&nbsp;<span class="op" id="6843225">=</span>&nbsp;<span class="ident" id="6843227">io</span><span class="op" id="6843229">.</span><span class="ident" id="6843230">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843235">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843238">return</span><br>
<span class="lineno"></span><span class="op" id="6843245">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843248">func</span>&nbsp;<span class="ident" id="6843253">readRuneSegments</span><span class="op" id="6843269">(</span><span class="ident" id="6843270">t</span>&nbsp;<span class="op" id="6843272">*</span><span class="ident" id="6843273">testing</span><span class="op" id="6843280">.</span><span class="ident" id="6843281">T</span><span class="op" id="6843282">,</span>&nbsp;<span class="ident" id="6843284">segments</span>&nbsp;<span class="op" id="6843293">[</span><span class="op" id="6843294">]</span><span class="builtintype" id="6843295">string</span><span class="op" id="6843301">)</span>&nbsp;<span class="op" id="6843303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843306">got</span>&nbsp;<span class="op" id="6843310">:=</span>&nbsp;<span class="string" id="6843313">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843317">want</span>&nbsp;<span class="op" id="6843322">:=</span>&nbsp;<span class="ident" id="6843325">strings</span><span class="op" id="6843332">.</span><span class="ident" id="6843333">Join</span><span class="op" id="6843337">(</span><span class="ident" id="6843338">segments</span><span class="op" id="6843346">,</span>&nbsp;<span class="string" id="6843348">&#34;&#34;</span><span class="op" id="6843350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843353">s</span>&nbsp;<span class="op" id="6843355">:=</span>&nbsp;<span class="builtinfunc" id="6843358">new</span><span class="op" id="6843361">(</span><span class="ident" id="6843362">Scanner</span><span class="op" id="6843369">)</span><span class="op" id="6843370">.</span><span class="ident" id="6843371">Init</span><span class="op" id="6843375">(</span><span class="op" id="6843376">&amp;</span><span class="ident" id="6843377">StringReader</span><span class="op" id="6843389">{</span><span class="ident" id="6843390">data</span><span class="op" id="6843394">:</span>&nbsp;<span class="ident" id="6843396">segments</span><span class="op" id="6843404">}</span><span class="op" id="6843405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843408">for</span>&nbsp;<span class="op" id="6843412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843416">ch</span>&nbsp;<span class="op" id="6843419">:=</span>&nbsp;<span class="ident" id="6843422">s</span><span class="op" id="6843423">.</span><span class="ident" id="6843424">Next</span><span class="op" id="6843428">(</span><span class="op" id="6843429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843433">if</span>&nbsp;<span class="ident" id="6843436">ch</span>&nbsp;<span class="op" id="6843439">==</span>&nbsp;<span class="ident" id="6843442">EOF</span>&nbsp;<span class="op" id="6843446">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843451">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843463">got</span>&nbsp;<span class="op" id="6843467">+=</span>&nbsp;<span class="builtintype" id="6843470">string</span><span class="op" id="6843476">(</span><span class="ident" id="6843477">ch</span><span class="op" id="6843479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843485">if</span>&nbsp;<span class="ident" id="6843488">got</span>&nbsp;<span class="op" id="6843492">!=</span>&nbsp;<span class="ident" id="6843495">want</span>&nbsp;<span class="op" id="6843500">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843504">t</span><span class="op" id="6843505">.</span><span class="ident" id="6843506">Errorf</span><span class="op" id="6843512">(</span><span class="string" id="6843513">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="6843541">,</span>&nbsp;<span class="ident" id="6843543">segments</span><span class="op" id="6843551">,</span>&nbsp;<span class="ident" id="6843553">got</span><span class="op" id="6843556">,</span>&nbsp;<span class="ident" id="6843558">want</span><span class="op" id="6843562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843565">}</span><br>
<span class="lineno"></span><span class="op" id="6843567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6843570">var</span>&nbsp;<span class="ident" id="6843574">segmentList</span>&nbsp;<span class="op" id="6843586">=</span>&nbsp;<span class="op" id="6843588">[</span><span class="op" id="6843589">]</span><span class="op" id="6843590">[</span><span class="op" id="6843591">]</span><span class="builtintype" id="6843592">string</span><span class="op" id="6843598">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843601">{</span><span class="op" id="6843602">}</span><span class="op" id="6843603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843606">{</span><span class="string" id="6843607">&#34;&#34;</span><span class="op" id="6843609">}</span><span class="op" id="6843610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843613">{</span><span class="string" id="6843614">&#34;日&#34;</span><span class="op" id="6843619">,</span>&nbsp;<span class="string" id="6843621">&#34;本語&#34;</span><span class="op" id="6843629">}</span><span class="op" id="6843630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843633">{</span><span class="string" id="6843634">&#34;\u65e5&#34;</span><span class="op" id="6843642">,</span>&nbsp;<span class="string" id="6843644">&#34;\u672c&#34;</span><span class="op" id="6843652">,</span>&nbsp;<span class="string" id="6843654">&#34;\u8a9e&#34;</span><span class="op" id="6843662">}</span><span class="op" id="6843663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843666">{</span><span class="string" id="6843667">&#34;\U000065e5&#34;</span><span class="op" id="6843679">,</span>&nbsp;<span class="string" id="6843681">&#34;&nbsp;&#34;</span><span class="op" id="6843684">,</span>&nbsp;<span class="string" id="6843686">&#34;\U0000672c&#34;</span><span class="op" id="6843698">,</span>&nbsp;<span class="string" id="6843700">&#34;\U00008a9e&#34;</span><span class="op" id="6843712">}</span><span class="op" id="6843713">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843716">{</span><span class="string" id="6843717">&#34;\xe6&#34;</span><span class="op" id="6843723">,</span>&nbsp;<span class="string" id="6843725">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="6843739">,</span>&nbsp;<span class="string" id="6843741">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="6843763">}</span><span class="op" id="6843764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843767">{</span><span class="string" id="6843768">&#34;Hello&#34;</span><span class="op" id="6843775">,</span>&nbsp;<span class="string" id="6843777">&#34;,&nbsp;&#34;</span><span class="op" id="6843781">,</span>&nbsp;<span class="string" id="6843783">&#34;World&#34;</span><span class="op" id="6843790">,</span>&nbsp;<span class="string" id="6843792">&#34;!&#34;</span><span class="op" id="6843795">}</span><span class="op" id="6843796">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843799">{</span><span class="string" id="6843800">&#34;Hello&#34;</span><span class="op" id="6843807">,</span>&nbsp;<span class="string" id="6843809">&#34;,&nbsp;&#34;</span><span class="op" id="6843813">,</span>&nbsp;<span class="string" id="6843815">&#34;&#34;</span><span class="op" id="6843817">,</span>&nbsp;<span class="string" id="6843819">&#34;World&#34;</span><span class="op" id="6843826">,</span>&nbsp;<span class="string" id="6843828">&#34;!&#34;</span><span class="op" id="6843831">}</span><span class="op" id="6843832">,</span><br>
<span class="lineno"></span><span class="op" id="6843834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6843837">func</span>&nbsp;<span class="ident" id="6843842">TestNext</span><span class="op" id="6843850">(</span><span class="ident" id="6843851">t</span>&nbsp;<span class="op" id="6843853">*</span><span class="ident" id="6843854">testing</span><span class="op" id="6843861">.</span><span class="ident" id="6843862">T</span><span class="op" id="6843863">)</span>&nbsp;<span class="op" id="6843865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6843868">for</span>&nbsp;<span class="ident" id="6843872">_</span><span class="op" id="6843873">,</span>&nbsp;<span class="ident" id="6843875">s</span>&nbsp;<span class="op" id="6843877">:=</span>&nbsp;<span class="keyword" id="6843880">range</span>&nbsp;<span class="ident" id="6843886">segmentList</span>&nbsp;<span class="op" id="6843898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843902">readRuneSegments</span><span class="op" id="6843918">(</span><span class="ident" id="6843919">t</span><span class="op" id="6843920">,</span>&nbsp;<span class="ident" id="6843922">s</span><span class="op" id="6843923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6843926">}</span><br>
<span class="lineno"></span><span class="op" id="6843928">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="6843931">type</span>&nbsp;<span class="ident" id="6843936">token</span>&nbsp;<span class="keyword" id="6843942">struct</span>&nbsp;<span class="op" id="6843949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843952">tok</span>&nbsp;&nbsp;<span class="builtintype" id="6843957">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6843963">text</span>&nbsp;<span class="builtintype" id="6843968">string</span><br>
<span class="lineno"></span><span class="op" id="6843975">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="6843978">var</span>&nbsp;<span class="ident" id="6843982">f100</span>&nbsp;<span class="op" id="6843987">=</span>&nbsp;<span class="string" id="6843989">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6844093">var</span>&nbsp;<span class="ident" id="6844097">tokenList</span>&nbsp;<span class="op" id="6844107">=</span>&nbsp;<span class="op" id="6844109">[</span><span class="op" id="6844110">]</span><span class="ident" id="6844111">token</span><span class="op" id="6844116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844119">{</span><span class="ident" id="6844120">Comment</span><span class="op" id="6844127">,</span>&nbsp;<span class="string" id="6844129">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="6844147">}</span><span class="op" id="6844148">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844151">{</span><span class="ident" id="6844152">Comment</span><span class="op" id="6844159">,</span>&nbsp;<span class="string" id="6844161">&#34;//&#34;</span><span class="op" id="6844165">}</span><span class="op" id="6844166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844169">{</span><span class="ident" id="6844170">Comment</span><span class="op" id="6844177">,</span>&nbsp;<span class="string" id="6844179">&#34;////&#34;</span><span class="op" id="6844185">}</span><span class="op" id="6844186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844189">{</span><span class="ident" id="6844190">Comment</span><span class="op" id="6844197">,</span>&nbsp;<span class="string" id="6844199">&#34;//&nbsp;comment&#34;</span><span class="op" id="6844211">}</span><span class="op" id="6844212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844215">{</span><span class="ident" id="6844216">Comment</span><span class="op" id="6844223">,</span>&nbsp;<span class="string" id="6844225">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6844243">}</span><span class="op" id="6844244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844247">{</span><span class="ident" id="6844248">Comment</span><span class="op" id="6844255">,</span>&nbsp;<span class="string" id="6844257">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="6844275">}</span><span class="op" id="6844276">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844279">{</span><span class="ident" id="6844280">Comment</span><span class="op" id="6844287">,</span>&nbsp;<span class="string" id="6844289">&#34;//&#34;</span>&nbsp;<span class="op" id="6844294">+</span>&nbsp;<span class="ident" id="6844296">f100</span><span class="op" id="6844300">}</span><span class="op" id="6844301">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844305">{</span><span class="ident" id="6844306">Comment</span><span class="op" id="6844313">,</span>&nbsp;<span class="string" id="6844315">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="6844336">}</span><span class="op" id="6844337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844340">{</span><span class="ident" id="6844341">Comment</span><span class="op" id="6844348">,</span>&nbsp;<span class="string" id="6844350">&#34;/**/&#34;</span><span class="op" id="6844356">}</span><span class="op" id="6844357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844360">{</span><span class="ident" id="6844361">Comment</span><span class="op" id="6844368">,</span>&nbsp;<span class="string" id="6844370">&#34;/***/&#34;</span><span class="op" id="6844377">}</span><span class="op" id="6844378">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844381">{</span><span class="ident" id="6844382">Comment</span><span class="op" id="6844389">,</span>&nbsp;<span class="string" id="6844391">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6844406">}</span><span class="op" id="6844407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844410">{</span><span class="ident" id="6844411">Comment</span><span class="op" id="6844418">,</span>&nbsp;<span class="string" id="6844420">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6844438">}</span><span class="op" id="6844439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844442">{</span><span class="ident" id="6844443">Comment</span><span class="op" id="6844450">,</span>&nbsp;<span class="string" id="6844452">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="6844470">}</span><span class="op" id="6844471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844474">{</span><span class="ident" id="6844475">Comment</span><span class="op" id="6844482">,</span>&nbsp;<span class="string" id="6844484">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="6844502">}</span><span class="op" id="6844503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844506">{</span><span class="ident" id="6844507">Comment</span><span class="op" id="6844514">,</span>&nbsp;<span class="string" id="6844516">&#34;/*&#34;</span>&nbsp;<span class="op" id="6844521">+</span>&nbsp;<span class="ident" id="6844523">f100</span>&nbsp;<span class="op" id="6844528">+</span>&nbsp;<span class="string" id="6844530">&#34;*/&#34;</span><span class="op" id="6844534">}</span><span class="op" id="6844535">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844539">{</span><span class="ident" id="6844540">Comment</span><span class="op" id="6844547">,</span>&nbsp;<span class="string" id="6844549">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="6844565">}</span><span class="op" id="6844566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844569">{</span><span class="ident" id="6844570">Ident</span><span class="op" id="6844575">,</span>&nbsp;<span class="string" id="6844577">&#34;a&#34;</span><span class="op" id="6844580">}</span><span class="op" id="6844581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844584">{</span><span class="ident" id="6844585">Ident</span><span class="op" id="6844590">,</span>&nbsp;<span class="string" id="6844592">&#34;a0&#34;</span><span class="op" id="6844596">}</span><span class="op" id="6844597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844600">{</span><span class="ident" id="6844601">Ident</span><span class="op" id="6844606">,</span>&nbsp;<span class="string" id="6844608">&#34;foobar&#34;</span><span class="op" id="6844616">}</span><span class="op" id="6844617">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844620">{</span><span class="ident" id="6844621">Ident</span><span class="op" id="6844626">,</span>&nbsp;<span class="string" id="6844628">&#34;abc123&#34;</span><span class="op" id="6844636">}</span><span class="op" id="6844637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844640">{</span><span class="ident" id="6844641">Ident</span><span class="op" id="6844646">,</span>&nbsp;<span class="string" id="6844648">&#34;LGTM&#34;</span><span class="op" id="6844654">}</span><span class="op" id="6844655">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844658">{</span><span class="ident" id="6844659">Ident</span><span class="op" id="6844664">,</span>&nbsp;<span class="string" id="6844666">&#34;_&#34;</span><span class="op" id="6844669">}</span><span class="op" id="6844670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844673">{</span><span class="ident" id="6844674">Ident</span><span class="op" id="6844679">,</span>&nbsp;<span class="string" id="6844681">&#34;_abc123&#34;</span><span class="op" id="6844690">}</span><span class="op" id="6844691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844694">{</span><span class="ident" id="6844695">Ident</span><span class="op" id="6844700">,</span>&nbsp;<span class="string" id="6844702">&#34;abc123_&#34;</span><span class="op" id="6844711">}</span><span class="op" id="6844712">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844715">{</span><span class="ident" id="6844716">Ident</span><span class="op" id="6844721">,</span>&nbsp;<span class="string" id="6844723">&#34;_abc_123_&#34;</span><span class="op" id="6844734">}</span><span class="op" id="6844735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844738">{</span><span class="ident" id="6844739">Ident</span><span class="op" id="6844744">,</span>&nbsp;<span class="string" id="6844746">&#34;_äöü&#34;</span><span class="op" id="6844755">}</span><span class="op" id="6844756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844759">{</span><span class="ident" id="6844760">Ident</span><span class="op" id="6844765">,</span>&nbsp;<span class="string" id="6844767">&#34;_本&#34;</span><span class="op" id="6844773">}</span><span class="op" id="6844774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844777">{</span><span class="ident" id="6844778">Ident</span><span class="op" id="6844783">,</span>&nbsp;<span class="string" id="6844785">&#34;äöü&#34;</span><span class="op" id="6844793">}</span><span class="op" id="6844794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844797">{</span><span class="ident" id="6844798">Ident</span><span class="op" id="6844803">,</span>&nbsp;<span class="string" id="6844805">&#34;本&#34;</span><span class="op" id="6844810">}</span><span class="op" id="6844811">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844814">{</span><span class="ident" id="6844815">Ident</span><span class="op" id="6844820">,</span>&nbsp;<span class="string" id="6844822">&#34;a۰۱۸&#34;</span><span class="op" id="6844831">}</span><span class="op" id="6844832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844835">{</span><span class="ident" id="6844836">Ident</span><span class="op" id="6844841">,</span>&nbsp;<span class="string" id="6844843">&#34;foo६४&#34;</span><span class="op" id="6844854">}</span><span class="op" id="6844855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844858">{</span><span class="ident" id="6844859">Ident</span><span class="op" id="6844864">,</span>&nbsp;<span class="string" id="6844866">&#34;bar９８７６&#34;</span><span class="op" id="6844883">}</span><span class="op" id="6844884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844887">{</span><span class="ident" id="6844888">Ident</span><span class="op" id="6844893">,</span>&nbsp;<span class="ident" id="6844895">f100</span><span class="op" id="6844899">}</span><span class="op" id="6844900">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844904">{</span><span class="ident" id="6844905">Comment</span><span class="op" id="6844912">,</span>&nbsp;<span class="string" id="6844914">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="6844931">}</span><span class="op" id="6844932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844935">{</span><span class="ident" id="6844936">Int</span><span class="op" id="6844939">,</span>&nbsp;<span class="string" id="6844941">&#34;0&#34;</span><span class="op" id="6844944">}</span><span class="op" id="6844945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844948">{</span><span class="ident" id="6844949">Int</span><span class="op" id="6844952">,</span>&nbsp;<span class="string" id="6844954">&#34;1&#34;</span><span class="op" id="6844957">}</span><span class="op" id="6844958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844961">{</span><span class="ident" id="6844962">Int</span><span class="op" id="6844965">,</span>&nbsp;<span class="string" id="6844967">&#34;9&#34;</span><span class="op" id="6844970">}</span><span class="op" id="6844971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844974">{</span><span class="ident" id="6844975">Int</span><span class="op" id="6844978">,</span>&nbsp;<span class="string" id="6844980">&#34;42&#34;</span><span class="op" id="6844984">}</span><span class="op" id="6844985">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6844988">{</span><span class="ident" id="6844989">Int</span><span class="op" id="6844992">,</span>&nbsp;<span class="string" id="6844994">&#34;1234567890&#34;</span><span class="op" id="6845006">}</span><span class="op" id="6845007">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845011">{</span><span class="ident" id="6845012">Comment</span><span class="op" id="6845019">,</span>&nbsp;<span class="string" id="6845021">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="6845036">}</span><span class="op" id="6845037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845040">{</span><span class="ident" id="6845041">Int</span><span class="op" id="6845044">,</span>&nbsp;<span class="string" id="6845046">&#34;00&#34;</span><span class="op" id="6845050">}</span><span class="op" id="6845051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845054">{</span><span class="ident" id="6845055">Int</span><span class="op" id="6845058">,</span>&nbsp;<span class="string" id="6845060">&#34;01&#34;</span><span class="op" id="6845064">}</span><span class="op" id="6845065">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845068">{</span><span class="ident" id="6845069">Int</span><span class="op" id="6845072">,</span>&nbsp;<span class="string" id="6845074">&#34;07&#34;</span><span class="op" id="6845078">}</span><span class="op" id="6845079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845082">{</span><span class="ident" id="6845083">Int</span><span class="op" id="6845086">,</span>&nbsp;<span class="string" id="6845088">&#34;042&#34;</span><span class="op" id="6845093">}</span><span class="op" id="6845094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845097">{</span><span class="ident" id="6845098">Int</span><span class="op" id="6845101">,</span>&nbsp;<span class="string" id="6845103">&#34;01234567&#34;</span><span class="op" id="6845113">}</span><span class="op" id="6845114">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845118">{</span><span class="ident" id="6845119">Comment</span><span class="op" id="6845126">,</span>&nbsp;<span class="string" id="6845128">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="6845149">}</span><span class="op" id="6845150">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845153">{</span><span class="ident" id="6845154">Int</span><span class="op" id="6845157">,</span>&nbsp;<span class="string" id="6845159">&#34;0x0&#34;</span><span class="op" id="6845164">}</span><span class="op" id="6845165">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845168">{</span><span class="ident" id="6845169">Int</span><span class="op" id="6845172">,</span>&nbsp;<span class="string" id="6845174">&#34;0x1&#34;</span><span class="op" id="6845179">}</span><span class="op" id="6845180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845183">{</span><span class="ident" id="6845184">Int</span><span class="op" id="6845187">,</span>&nbsp;<span class="string" id="6845189">&#34;0xf&#34;</span><span class="op" id="6845194">}</span><span class="op" id="6845195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845198">{</span><span class="ident" id="6845199">Int</span><span class="op" id="6845202">,</span>&nbsp;<span class="string" id="6845204">&#34;0x42&#34;</span><span class="op" id="6845210">}</span><span class="op" id="6845211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845214">{</span><span class="ident" id="6845215">Int</span><span class="op" id="6845218">,</span>&nbsp;<span class="string" id="6845220">&#34;0x123456789abcDEF&#34;</span><span class="op" id="6845239">}</span><span class="op" id="6845240">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845243">{</span><span class="ident" id="6845244">Int</span><span class="op" id="6845247">,</span>&nbsp;<span class="string" id="6845249">&#34;0x&#34;</span>&nbsp;<span class="op" id="6845254">+</span>&nbsp;<span class="ident" id="6845256">f100</span><span class="op" id="6845260">}</span><span class="op" id="6845261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845264">{</span><span class="ident" id="6845265">Int</span><span class="op" id="6845268">,</span>&nbsp;<span class="string" id="6845270">&#34;0X0&#34;</span><span class="op" id="6845275">}</span><span class="op" id="6845276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845279">{</span><span class="ident" id="6845280">Int</span><span class="op" id="6845283">,</span>&nbsp;<span class="string" id="6845285">&#34;0X1&#34;</span><span class="op" id="6845290">}</span><span class="op" id="6845291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845294">{</span><span class="ident" id="6845295">Int</span><span class="op" id="6845298">,</span>&nbsp;<span class="string" id="6845300">&#34;0XF&#34;</span><span class="op" id="6845305">}</span><span class="op" id="6845306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845309">{</span><span class="ident" id="6845310">Int</span><span class="op" id="6845313">,</span>&nbsp;<span class="string" id="6845315">&#34;0X42&#34;</span><span class="op" id="6845321">}</span><span class="op" id="6845322">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845325">{</span><span class="ident" id="6845326">Int</span><span class="op" id="6845329">,</span>&nbsp;<span class="string" id="6845331">&#34;0X123456789abcDEF&#34;</span><span class="op" id="6845350">}</span><span class="op" id="6845351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845354">{</span><span class="ident" id="6845355">Int</span><span class="op" id="6845358">,</span>&nbsp;<span class="string" id="6845360">&#34;0X&#34;</span>&nbsp;<span class="op" id="6845365">+</span>&nbsp;<span class="ident" id="6845367">f100</span><span class="op" id="6845371">}</span><span class="op" id="6845372">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845376">{</span><span class="ident" id="6845377">Comment</span><span class="op" id="6845384">,</span>&nbsp;<span class="string" id="6845386">&#34;//&nbsp;floats&#34;</span><span class="op" id="6845397">}</span><span class="op" id="6845398">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845401">{</span><span class="ident" id="6845402">Float</span><span class="op" id="6845407">,</span>&nbsp;<span class="string" id="6845409">&#34;0.&#34;</span><span class="op" id="6845413">}</span><span class="op" id="6845414">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845417">{</span><span class="ident" id="6845418">Float</span><span class="op" id="6845423">,</span>&nbsp;<span class="string" id="6845425">&#34;1.&#34;</span><span class="op" id="6845429">}</span><span class="op" id="6845430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845433">{</span><span class="ident" id="6845434">Float</span><span class="op" id="6845439">,</span>&nbsp;<span class="string" id="6845441">&#34;42.&#34;</span><span class="op" id="6845446">}</span><span class="op" id="6845447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845450">{</span><span class="ident" id="6845451">Float</span><span class="op" id="6845456">,</span>&nbsp;<span class="string" id="6845458">&#34;01234567890.&#34;</span><span class="op" id="6845472">}</span><span class="op" id="6845473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845476">{</span><span class="ident" id="6845477">Float</span><span class="op" id="6845482">,</span>&nbsp;<span class="string" id="6845484">&#34;.0&#34;</span><span class="op" id="6845488">}</span><span class="op" id="6845489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845492">{</span><span class="ident" id="6845493">Float</span><span class="op" id="6845498">,</span>&nbsp;<span class="string" id="6845500">&#34;.1&#34;</span><span class="op" id="6845504">}</span><span class="op" id="6845505">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845508">{</span><span class="ident" id="6845509">Float</span><span class="op" id="6845514">,</span>&nbsp;<span class="string" id="6845516">&#34;.42&#34;</span><span class="op" id="6845521">}</span><span class="op" id="6845522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845525">{</span><span class="ident" id="6845526">Float</span><span class="op" id="6845531">,</span>&nbsp;<span class="string" id="6845533">&#34;.0123456789&#34;</span><span class="op" id="6845546">}</span><span class="op" id="6845547">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845550">{</span><span class="ident" id="6845551">Float</span><span class="op" id="6845556">,</span>&nbsp;<span class="string" id="6845558">&#34;0.0&#34;</span><span class="op" id="6845563">}</span><span class="op" id="6845564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845567">{</span><span class="ident" id="6845568">Float</span><span class="op" id="6845573">,</span>&nbsp;<span class="string" id="6845575">&#34;1.0&#34;</span><span class="op" id="6845580">}</span><span class="op" id="6845581">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845584">{</span><span class="ident" id="6845585">Float</span><span class="op" id="6845590">,</span>&nbsp;<span class="string" id="6845592">&#34;42.0&#34;</span><span class="op" id="6845598">}</span><span class="op" id="6845599">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845602">{</span><span class="ident" id="6845603">Float</span><span class="op" id="6845608">,</span>&nbsp;<span class="string" id="6845610">&#34;01234567890.0&#34;</span><span class="op" id="6845625">}</span><span class="op" id="6845626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845629">{</span><span class="ident" id="6845630">Float</span><span class="op" id="6845635">,</span>&nbsp;<span class="string" id="6845637">&#34;0e0&#34;</span><span class="op" id="6845642">}</span><span class="op" id="6845643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845646">{</span><span class="ident" id="6845647">Float</span><span class="op" id="6845652">,</span>&nbsp;<span class="string" id="6845654">&#34;1e0&#34;</span><span class="op" id="6845659">}</span><span class="op" id="6845660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845663">{</span><span class="ident" id="6845664">Float</span><span class="op" id="6845669">,</span>&nbsp;<span class="string" id="6845671">&#34;42e0&#34;</span><span class="op" id="6845677">}</span><span class="op" id="6845678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845681">{</span><span class="ident" id="6845682">Float</span><span class="op" id="6845687">,</span>&nbsp;<span class="string" id="6845689">&#34;01234567890e0&#34;</span><span class="op" id="6845704">}</span><span class="op" id="6845705">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845708">{</span><span class="ident" id="6845709">Float</span><span class="op" id="6845714">,</span>&nbsp;<span class="string" id="6845716">&#34;0E0&#34;</span><span class="op" id="6845721">}</span><span class="op" id="6845722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845725">{</span><span class="ident" id="6845726">Float</span><span class="op" id="6845731">,</span>&nbsp;<span class="string" id="6845733">&#34;1E0&#34;</span><span class="op" id="6845738">}</span><span class="op" id="6845739">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845742">{</span><span class="ident" id="6845743">Float</span><span class="op" id="6845748">,</span>&nbsp;<span class="string" id="6845750">&#34;42E0&#34;</span><span class="op" id="6845756">}</span><span class="op" id="6845757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845760">{</span><span class="ident" id="6845761">Float</span><span class="op" id="6845766">,</span>&nbsp;<span class="string" id="6845768">&#34;01234567890E0&#34;</span><span class="op" id="6845783">}</span><span class="op" id="6845784">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845787">{</span><span class="ident" id="6845788">Float</span><span class="op" id="6845793">,</span>&nbsp;<span class="string" id="6845795">&#34;0e+10&#34;</span><span class="op" id="6845802">}</span><span class="op" id="6845803">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845806">{</span><span class="ident" id="6845807">Float</span><span class="op" id="6845812">,</span>&nbsp;<span class="string" id="6845814">&#34;1e-10&#34;</span><span class="op" id="6845821">}</span><span class="op" id="6845822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845825">{</span><span class="ident" id="6845826">Float</span><span class="op" id="6845831">,</span>&nbsp;<span class="string" id="6845833">&#34;42e+10&#34;</span><span class="op" id="6845841">}</span><span class="op" id="6845842">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845845">{</span><span class="ident" id="6845846">Float</span><span class="op" id="6845851">,</span>&nbsp;<span class="string" id="6845853">&#34;01234567890e-10&#34;</span><span class="op" id="6845870">}</span><span class="op" id="6845871">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845874">{</span><span class="ident" id="6845875">Float</span><span class="op" id="6845880">,</span>&nbsp;<span class="string" id="6845882">&#34;0E+10&#34;</span><span class="op" id="6845889">}</span><span class="op" id="6845890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845893">{</span><span class="ident" id="6845894">Float</span><span class="op" id="6845899">,</span>&nbsp;<span class="string" id="6845901">&#34;1E-10&#34;</span><span class="op" id="6845908">}</span><span class="op" id="6845909">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845912">{</span><span class="ident" id="6845913">Float</span><span class="op" id="6845918">,</span>&nbsp;<span class="string" id="6845920">&#34;42E+10&#34;</span><span class="op" id="6845928">}</span><span class="op" id="6845929">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845932">{</span><span class="ident" id="6845933">Float</span><span class="op" id="6845938">,</span>&nbsp;<span class="string" id="6845940">&#34;01234567890E-10&#34;</span><span class="op" id="6845957">}</span><span class="op" id="6845958">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845962">{</span><span class="ident" id="6845963">Comment</span><span class="op" id="6845970">,</span>&nbsp;<span class="string" id="6845972">&#34;//&nbsp;chars&#34;</span><span class="op" id="6845982">}</span><span class="op" id="6845983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6845986">{</span><span class="ident" id="6845987">Char</span><span class="op" id="6845991">,</span>&nbsp;<span class="string" id="6845993">`&#39;&nbsp;&#39;`</span><span class="op" id="6845998">}</span><span class="op" id="6845999">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846002">{</span><span class="ident" id="6846003">Char</span><span class="op" id="6846007">,</span>&nbsp;<span class="string" id="6846009">`&#39;a&#39;`</span><span class="op" id="6846014">}</span><span class="op" id="6846015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846018">{</span><span class="ident" id="6846019">Char</span><span class="op" id="6846023">,</span>&nbsp;<span class="string" id="6846025">`&#39;本&#39;`</span><span class="op" id="6846032">}</span><span class="op" id="6846033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846036">{</span><span class="ident" id="6846037">Char</span><span class="op" id="6846041">,</span>&nbsp;<span class="string" id="6846043">`&#39;\a&#39;`</span><span class="op" id="6846049">}</span><span class="op" id="6846050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846053">{</span><span class="ident" id="6846054">Char</span><span class="op" id="6846058">,</span>&nbsp;<span class="string" id="6846060">`&#39;\b&#39;`</span><span class="op" id="6846066">}</span><span class="op" id="6846067">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846070">{</span><span class="ident" id="6846071">Char</span><span class="op" id="6846075">,</span>&nbsp;<span class="string" id="6846077">`&#39;\f&#39;`</span><span class="op" id="6846083">}</span><span class="op" id="6846084">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846087">{</span><span class="ident" id="6846088">Char</span><span class="op" id="6846092">,</span>&nbsp;<span class="string" id="6846094">`&#39;\n&#39;`</span><span class="op" id="6846100">}</span><span class="op" id="6846101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846104">{</span><span class="ident" id="6846105">Char</span><span class="op" id="6846109">,</span>&nbsp;<span class="string" id="6846111">`&#39;\r&#39;`</span><span class="op" id="6846117">}</span><span class="op" id="6846118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846121">{</span><span class="ident" id="6846122">Char</span><span class="op" id="6846126">,</span>&nbsp;<span class="string" id="6846128">`&#39;\t&#39;`</span><span class="op" id="6846134">}</span><span class="op" id="6846135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846138">{</span><span class="ident" id="6846139">Char</span><span class="op" id="6846143">,</span>&nbsp;<span class="string" id="6846145">`&#39;\v&#39;`</span><span class="op" id="6846151">}</span><span class="op" id="6846152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846155">{</span><span class="ident" id="6846156">Char</span><span class="op" id="6846160">,</span>&nbsp;<span class="string" id="6846162">`&#39;\&#39;&#39;`</span><span class="op" id="6846168">}</span><span class="op" id="6846169">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846172">{</span><span class="ident" id="6846173">Char</span><span class="op" id="6846177">,</span>&nbsp;<span class="string" id="6846179">`&#39;\000&#39;`</span><span class="op" id="6846187">}</span><span class="op" id="6846188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846191">{</span><span class="ident" id="6846192">Char</span><span class="op" id="6846196">,</span>&nbsp;<span class="string" id="6846198">`&#39;\777&#39;`</span><span class="op" id="6846206">}</span><span class="op" id="6846207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846210">{</span><span class="ident" id="6846211">Char</span><span class="op" id="6846215">,</span>&nbsp;<span class="string" id="6846217">`&#39;\x00&#39;`</span><span class="op" id="6846225">}</span><span class="op" id="6846226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846229">{</span><span class="ident" id="6846230">Char</span><span class="op" id="6846234">,</span>&nbsp;<span class="string" id="6846236">`&#39;\xff&#39;`</span><span class="op" id="6846244">}</span><span class="op" id="6846245">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846248">{</span><span class="ident" id="6846249">Char</span><span class="op" id="6846253">,</span>&nbsp;<span class="string" id="6846255">`&#39;\u0000&#39;`</span><span class="op" id="6846265">}</span><span class="op" id="6846266">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846269">{</span><span class="ident" id="6846270">Char</span><span class="op" id="6846274">,</span>&nbsp;<span class="string" id="6846276">`&#39;\ufA16&#39;`</span><span class="op" id="6846286">}</span><span class="op" id="6846287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846290">{</span><span class="ident" id="6846291">Char</span><span class="op" id="6846295">,</span>&nbsp;<span class="string" id="6846297">`&#39;\U00000000&#39;`</span><span class="op" id="6846311">}</span><span class="op" id="6846312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846315">{</span><span class="ident" id="6846316">Char</span><span class="op" id="6846320">,</span>&nbsp;<span class="string" id="6846322">`&#39;\U0000ffAB&#39;`</span><span class="op" id="6846336">}</span><span class="op" id="6846337">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846341">{</span><span class="ident" id="6846342">Comment</span><span class="op" id="6846349">,</span>&nbsp;<span class="string" id="6846351">&#34;//&nbsp;strings&#34;</span><span class="op" id="6846363">}</span><span class="op" id="6846364">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846367">{</span><span class="ident" id="6846368">String</span><span class="op" id="6846374">,</span>&nbsp;<span class="string" id="6846376">`&#34;&nbsp;&#34;`</span><span class="op" id="6846381">}</span><span class="op" id="6846382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846385">{</span><span class="ident" id="6846386">String</span><span class="op" id="6846392">,</span>&nbsp;<span class="string" id="6846394">`&#34;a&#34;`</span><span class="op" id="6846399">}</span><span class="op" id="6846400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846403">{</span><span class="ident" id="6846404">String</span><span class="op" id="6846410">,</span>&nbsp;<span class="string" id="6846412">`&#34;本&#34;`</span><span class="op" id="6846419">}</span><span class="op" id="6846420">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846423">{</span><span class="ident" id="6846424">String</span><span class="op" id="6846430">,</span>&nbsp;<span class="string" id="6846432">`&#34;\a&#34;`</span><span class="op" id="6846438">}</span><span class="op" id="6846439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846442">{</span><span class="ident" id="6846443">String</span><span class="op" id="6846449">,</span>&nbsp;<span class="string" id="6846451">`&#34;\b&#34;`</span><span class="op" id="6846457">}</span><span class="op" id="6846458">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846461">{</span><span class="ident" id="6846462">String</span><span class="op" id="6846468">,</span>&nbsp;<span class="string" id="6846470">`&#34;\f&#34;`</span><span class="op" id="6846476">}</span><span class="op" id="6846477">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846480">{</span><span class="ident" id="6846481">String</span><span class="op" id="6846487">,</span>&nbsp;<span class="string" id="6846489">`&#34;\n&#34;`</span><span class="op" id="6846495">}</span><span class="op" id="6846496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846499">{</span><span class="ident" id="6846500">String</span><span class="op" id="6846506">,</span>&nbsp;<span class="string" id="6846508">`&#34;\r&#34;`</span><span class="op" id="6846514">}</span><span class="op" id="6846515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846518">{</span><span class="ident" id="6846519">String</span><span class="op" id="6846525">,</span>&nbsp;<span class="string" id="6846527">`&#34;\t&#34;`</span><span class="op" id="6846533">}</span><span class="op" id="6846534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846537">{</span><span class="ident" id="6846538">String</span><span class="op" id="6846544">,</span>&nbsp;<span class="string" id="6846546">`&#34;\v&#34;`</span><span class="op" id="6846552">}</span><span class="op" id="6846553">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846556">{</span><span class="ident" id="6846557">String</span><span class="op" id="6846563">,</span>&nbsp;<span class="string" id="6846565">`&#34;\&#34;&#34;`</span><span class="op" id="6846571">}</span><span class="op" id="6846572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846575">{</span><span class="ident" id="6846576">String</span><span class="op" id="6846582">,</span>&nbsp;<span class="string" id="6846584">`&#34;\000&#34;`</span><span class="op" id="6846592">}</span><span class="op" id="6846593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846596">{</span><span class="ident" id="6846597">String</span><span class="op" id="6846603">,</span>&nbsp;<span class="string" id="6846605">`&#34;\777&#34;`</span><span class="op" id="6846613">}</span><span class="op" id="6846614">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846617">{</span><span class="ident" id="6846618">String</span><span class="op" id="6846624">,</span>&nbsp;<span class="string" id="6846626">`&#34;\x00&#34;`</span><span class="op" id="6846634">}</span><span class="op" id="6846635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846638">{</span><span class="ident" id="6846639">String</span><span class="op" id="6846645">,</span>&nbsp;<span class="string" id="6846647">`&#34;\xff&#34;`</span><span class="op" id="6846655">}</span><span class="op" id="6846656">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846659">{</span><span class="ident" id="6846660">String</span><span class="op" id="6846666">,</span>&nbsp;<span class="string" id="6846668">`&#34;\u0000&#34;`</span><span class="op" id="6846678">}</span><span class="op" id="6846679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846682">{</span><span class="ident" id="6846683">String</span><span class="op" id="6846689">,</span>&nbsp;<span class="string" id="6846691">`&#34;\ufA16&#34;`</span><span class="op" id="6846701">}</span><span class="op" id="6846702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846705">{</span><span class="ident" id="6846706">String</span><span class="op" id="6846712">,</span>&nbsp;<span class="string" id="6846714">`&#34;\U00000000&#34;`</span><span class="op" id="6846728">}</span><span class="op" id="6846729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846732">{</span><span class="ident" id="6846733">String</span><span class="op" id="6846739">,</span>&nbsp;<span class="string" id="6846741">`&#34;\U0000ffAB&#34;`</span><span class="op" id="6846755">}</span><span class="op" id="6846756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846759">{</span><span class="ident" id="6846760">String</span><span class="op" id="6846766">,</span>&nbsp;<span class="string" id="6846768">`&#34;`</span>&nbsp;<span class="op" id="6846772">+</span>&nbsp;<span class="ident" id="6846774">f100</span>&nbsp;<span class="op" id="6846779">+</span>&nbsp;<span class="string" id="6846781">`&#34;`</span><span class="op" id="6846784">}</span><span class="op" id="6846785">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846789">{</span><span class="ident" id="6846790">Comment</span><span class="op" id="6846797">,</span>&nbsp;<span class="string" id="6846799">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="6846815">}</span><span class="op" id="6846816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846819">{</span><span class="ident" id="6846820">String</span><span class="op" id="6846826">,</span>&nbsp;<span class="string" id="6846828">&#34;``&#34;</span><span class="op" id="6846832">}</span><span class="op" id="6846833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846836">{</span><span class="ident" id="6846837">String</span><span class="op" id="6846843">,</span>&nbsp;<span class="string" id="6846845">&#34;`\\`&#34;</span><span class="op" id="6846851">}</span><span class="op" id="6846852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846855">{</span><span class="ident" id="6846856">String</span><span class="op" id="6846862">,</span>&nbsp;<span class="string" id="6846864">&#34;`&#34;</span>&nbsp;<span class="op" id="6846868">+</span>&nbsp;<span class="string" id="6846870">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="6846893">+</span>&nbsp;<span class="string" id="6846895">&#34;`&#34;</span><span class="op" id="6846898">}</span><span class="op" id="6846899">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846902">{</span><span class="ident" id="6846903">String</span><span class="op" id="6846909">,</span>&nbsp;<span class="string" id="6846911">&#34;`&#34;</span>&nbsp;<span class="op" id="6846915">+</span>&nbsp;<span class="ident" id="6846917">f100</span>&nbsp;<span class="op" id="6846922">+</span>&nbsp;<span class="string" id="6846924">&#34;`&#34;</span><span class="op" id="6846927">}</span><span class="op" id="6846928">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6846932">{</span><span class="ident" id="6846933">Comment</span><span class="op" id="6846940">,</span>&nbsp;<span class="string" id="6846942">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="6846968">}</span><span class="op" id="6846969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6846972">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847005">{</span><span class="string" id="6847006">&#39;\x01&#39;</span><span class="op" id="6847012">,</span>&nbsp;<span class="string" id="6847014">&#34;\x01&#34;</span><span class="op" id="6847020">}</span><span class="op" id="6847021">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847024">{</span><span class="string" id="6847025">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6847029">-</span>&nbsp;<span class="num" id="6847031">1</span><span class="op" id="6847032">,</span>&nbsp;<span class="builtintype" id="6847034">string</span><span class="op" id="6847040">(</span><span class="string" id="6847041">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6847045">-</span>&nbsp;<span class="num" id="6847047">1</span><span class="op" id="6847048">)</span><span class="op" id="6847049">}</span><span class="op" id="6847050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847053">{</span><span class="string" id="6847054">&#39;+&#39;</span><span class="op" id="6847057">,</span>&nbsp;<span class="string" id="6847059">&#34;+&#34;</span><span class="op" id="6847062">}</span><span class="op" id="6847063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847066">{</span><span class="string" id="6847067">&#39;/&#39;</span><span class="op" id="6847070">,</span>&nbsp;<span class="string" id="6847072">&#34;/&#34;</span><span class="op" id="6847075">}</span><span class="op" id="6847076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847079">{</span><span class="string" id="6847080">&#39;.&#39;</span><span class="op" id="6847083">,</span>&nbsp;<span class="string" id="6847085">&#34;.&#34;</span><span class="op" id="6847088">}</span><span class="op" id="6847089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847092">{</span><span class="string" id="6847093">&#39;~&#39;</span><span class="op" id="6847096">,</span>&nbsp;<span class="string" id="6847098">&#34;~&#34;</span><span class="op" id="6847101">}</span><span class="op" id="6847102">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847105">{</span><span class="string" id="6847106">&#39;(&#39;</span><span class="op" id="6847109">,</span>&nbsp;<span class="string" id="6847111">&#34;(&#34;</span><span class="op" id="6847114">}</span><span class="op" id="6847115">,</span><br>
<span class="lineno"></span><span class="op" id="6847117">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6847120">func</span>&nbsp;<span class="ident" id="6847125">makeSource</span><span class="op" id="6847135">(</span><span class="ident" id="6847136">pattern</span>&nbsp;<span class="builtintype" id="6847144">string</span><span class="op" id="6847150">)</span>&nbsp;<span class="op" id="6847152">*</span><span class="ident" id="6847153">bytes</span><span class="op" id="6847158">.</span><span class="ident" id="6847159">Buffer</span>&nbsp;<span class="op" id="6847166">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847169">var</span>&nbsp;<span class="ident" id="6847173">buf</span>&nbsp;<span class="ident" id="6847177">bytes</span><span class="op" id="6847182">.</span><span class="ident" id="6847183">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847191">for</span>&nbsp;<span class="ident" id="6847195">_</span><span class="op" id="6847196">,</span>&nbsp;<span class="ident" id="6847198">k</span>&nbsp;<span class="op" id="6847200">:=</span>&nbsp;<span class="keyword" id="6847203">range</span>&nbsp;<span class="ident" id="6847209">tokenList</span>&nbsp;<span class="op" id="6847219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847223">fmt</span><span class="op" id="6847226">.</span><span class="ident" id="6847227">Fprintf</span><span class="op" id="6847234">(</span><span class="op" id="6847235">&amp;</span><span class="ident" id="6847236">buf</span><span class="op" id="6847239">,</span>&nbsp;<span class="ident" id="6847241">pattern</span><span class="op" id="6847248">,</span>&nbsp;<span class="ident" id="6847250">k</span><span class="op" id="6847251">.</span><span class="ident" id="6847252">text</span><span class="op" id="6847256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847262">return</span>&nbsp;<span class="op" id="6847269">&amp;</span><span class="ident" id="6847270">buf</span><br>
<span class="lineno"></span><span class="op" id="6847274">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="6847277">func</span>&nbsp;<span class="ident" id="6847282">checkTok</span><span class="op" id="6847290">(</span><span class="ident" id="6847291">t</span>&nbsp;<span class="op" id="6847293">*</span><span class="ident" id="6847294">testing</span><span class="op" id="6847301">.</span><span class="ident" id="6847302">T</span><span class="op" id="6847303">,</span>&nbsp;<span class="ident" id="6847305">s</span>&nbsp;<span class="op" id="6847307">*</span><span class="ident" id="6847308">Scanner</span><span class="op" id="6847315">,</span>&nbsp;<span class="ident" id="6847317">line</span>&nbsp;<span class="builtintype" id="6847322">int</span><span class="op" id="6847325">,</span>&nbsp;<span class="ident" id="6847327">got</span><span class="op" id="6847330">,</span>&nbsp;<span class="ident" id="6847332">want</span>&nbsp;<span class="builtintype" id="6847337">rune</span><span class="op" id="6847341">,</span>&nbsp;<span class="ident" id="6847343">text</span>&nbsp;<span class="builtintype" id="6847348">string</span><span class="op" id="6847354">)</span>&nbsp;<span class="op" id="6847356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847359">if</span>&nbsp;<span class="ident" id="6847362">got</span>&nbsp;<span class="op" id="6847366">!=</span>&nbsp;<span class="ident" id="6847369">want</span>&nbsp;<span class="op" id="6847374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847378">t</span><span class="op" id="6847379">.</span><span class="ident" id="6847380">Fatalf</span><span class="op" id="6847386">(</span><span class="string" id="6847387">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6847413">,</span>&nbsp;<span class="ident" id="6847415">TokenString</span><span class="op" id="6847426">(</span><span class="ident" id="6847427">got</span><span class="op" id="6847430">)</span><span class="op" id="6847431">,</span>&nbsp;<span class="ident" id="6847433">TokenString</span><span class="op" id="6847444">(</span><span class="ident" id="6847445">want</span><span class="op" id="6847449">)</span><span class="op" id="6847450">,</span>&nbsp;<span class="ident" id="6847452">text</span><span class="op" id="6847456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847459">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847462">if</span>&nbsp;<span class="ident" id="6847465">s</span><span class="op" id="6847466">.</span><span class="ident" id="6847467">Line</span>&nbsp;<span class="op" id="6847472">!=</span>&nbsp;<span class="ident" id="6847475">line</span>&nbsp;<span class="op" id="6847480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847484">t</span><span class="op" id="6847485">.</span><span class="ident" id="6847486">Errorf</span><span class="op" id="6847492">(</span><span class="string" id="6847493">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6847520">,</span>&nbsp;<span class="ident" id="6847522">s</span><span class="op" id="6847523">.</span><span class="ident" id="6847524">Line</span><span class="op" id="6847528">,</span>&nbsp;<span class="ident" id="6847530">line</span><span class="op" id="6847534">,</span>&nbsp;<span class="ident" id="6847536">text</span><span class="op" id="6847540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847546">stext</span>&nbsp;<span class="op" id="6847552">:=</span>&nbsp;<span class="ident" id="6847555">s</span><span class="op" id="6847556">.</span><span class="ident" id="6847557">TokenText</span><span class="op" id="6847566">(</span><span class="op" id="6847567">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847570">if</span>&nbsp;<span class="ident" id="6847573">stext</span>&nbsp;<span class="op" id="6847579">!=</span>&nbsp;<span class="ident" id="6847582">text</span>&nbsp;<span class="op" id="6847587">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847591">t</span><span class="op" id="6847592">.</span><span class="ident" id="6847593">Errorf</span><span class="op" id="6847599">(</span><span class="string" id="6847600">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6847620">,</span>&nbsp;<span class="ident" id="6847622">stext</span><span class="op" id="6847627">,</span>&nbsp;<span class="ident" id="6847629">text</span><span class="op" id="6847633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847636">}</span>&nbsp;<span class="keyword" id="6847638">else</span>&nbsp;<span class="op" id="6847643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6847647">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847690">stext</span>&nbsp;<span class="op" id="6847696">=</span>&nbsp;<span class="ident" id="6847698">s</span><span class="op" id="6847699">.</span><span class="ident" id="6847700">TokenText</span><span class="op" id="6847709">(</span><span class="op" id="6847710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847714">if</span>&nbsp;<span class="ident" id="6847717">stext</span>&nbsp;<span class="op" id="6847723">!=</span>&nbsp;<span class="ident" id="6847726">text</span>&nbsp;<span class="op" id="6847731">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847736">t</span><span class="op" id="6847737">.</span><span class="ident" id="6847738">Errorf</span><span class="op" id="6847744">(</span><span class="string" id="6847745">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="6847785">,</span>&nbsp;<span class="ident" id="6847787">stext</span><span class="op" id="6847792">,</span>&nbsp;<span class="ident" id="6847794">text</span><span class="op" id="6847798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847805">}</span><br>
<span class="lineno"></span><span class="op" id="6847807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="6847810">func</span>&nbsp;<span class="ident" id="6847815">countNewlines</span><span class="op" id="6847828">(</span><span class="ident" id="6847829">s</span>&nbsp;<span class="builtintype" id="6847831">string</span><span class="op" id="6847837">)</span>&nbsp;<span class="builtintype" id="6847839">int</span>&nbsp;<span class="op" id="6847843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847846">n</span>&nbsp;<span class="op" id="6847848">:=</span>&nbsp;<span class="num" id="6847851">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847854">for</span>&nbsp;<span class="ident" id="6847858">_</span><span class="op" id="6847859">,</span>&nbsp;<span class="ident" id="6847861">ch</span>&nbsp;<span class="op" id="6847864">:=</span>&nbsp;<span class="keyword" id="6847867">range</span>&nbsp;<span class="ident" id="6847873">s</span>&nbsp;<span class="op" id="6847875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847879">if</span>&nbsp;<span class="ident" id="6847882">ch</span>&nbsp;<span class="op" id="6847885">==</span>&nbsp;<span class="string" id="6847888">&#39;\n&#39;</span>&nbsp;<span class="op" id="6847893">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847898">n</span><span class="op" id="6847899">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847904">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6847907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6847910">return</span>&nbsp;<span class="ident" id="6847917">n</span><br>
<span class="lineno"></span><span class="op" id="6847919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="6847922">func</span>&nbsp;<span class="ident" id="6847927">testScan</span><span class="op" id="6847935">(</span><span class="ident" id="6847936">t</span>&nbsp;<span class="op" id="6847938">*</span><span class="ident" id="6847939">testing</span><span class="op" id="6847946">.</span><span class="ident" id="6847947">T</span><span class="op" id="6847948">,</span>&nbsp;<span class="ident" id="6847950">mode</span>&nbsp;<span class="builtintype" id="6847955">uint</span><span class="op" id="6847959">)</span>&nbsp;<span class="op" id="6847961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6847964">s</span>&nbsp;<span class="op" id="6847966">:=</span>&nbsp;<span class="builtinfunc" id="6847969">new</span><span class="op" id="6847972">(</span><span class="ident" id="6847973">Scanner</span><span class="op" id="6847980">)</span><span class="op" id="6847981">.</span><span class="ident" id="6847982">Init</span><span class="op" id="6847986">(</span><span class="ident" id="6847987">makeSource</span><span class="op" id="6847997">(</span><span class="string" id="6847998">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="6848007">)</span><span class="op" id="6848008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848011">s</span><span class="op" id="6848012">.</span><span class="ident" id="6848013">Mode</span>&nbsp;<span class="op" id="6848018">=</span>&nbsp;<span class="ident" id="6848020">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848026">tok</span>&nbsp;<span class="op" id="6848030">:=</span>&nbsp;<span class="ident" id="6848033">s</span><span class="op" id="6848034">.</span><span class="ident" id="6848035">Scan</span><span class="op" id="6848039">(</span><span class="op" id="6848040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848043">line</span>&nbsp;<span class="op" id="6848048">:=</span>&nbsp;<span class="num" id="6848051">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848054">for</span>&nbsp;<span class="ident" id="6848058">_</span><span class="op" id="6848059">,</span>&nbsp;<span class="ident" id="6848061">k</span>&nbsp;<span class="op" id="6848063">:=</span>&nbsp;<span class="keyword" id="6848066">range</span>&nbsp;<span class="ident" id="6848072">tokenList</span>&nbsp;<span class="op" id="6848082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848086">if</span>&nbsp;<span class="ident" id="6848089">mode</span><span class="op" id="6848093">&amp;</span><span class="ident" id="6848094">SkipComments</span>&nbsp;<span class="op" id="6848107">==</span>&nbsp;<span class="num" id="6848110">0</span>&nbsp;<span class="op" id="6848112">||</span>&nbsp;<span class="ident" id="6848115">k</span><span class="op" id="6848116">.</span><span class="ident" id="6848117">tok</span>&nbsp;<span class="op" id="6848121">!=</span>&nbsp;<span class="ident" id="6848124">Comment</span>&nbsp;<span class="op" id="6848132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848137">checkTok</span><span class="op" id="6848145">(</span><span class="ident" id="6848146">t</span><span class="op" id="6848147">,</span>&nbsp;<span class="ident" id="6848149">s</span><span class="op" id="6848150">,</span>&nbsp;<span class="ident" id="6848152">line</span><span class="op" id="6848156">,</span>&nbsp;<span class="ident" id="6848158">tok</span><span class="op" id="6848161">,</span>&nbsp;<span class="ident" id="6848163">k</span><span class="op" id="6848164">.</span><span class="ident" id="6848165">tok</span><span class="op" id="6848168">,</span>&nbsp;<span class="ident" id="6848170">k</span><span class="op" id="6848171">.</span><span class="ident" id="6848172">text</span><span class="op" id="6848176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848181">tok</span>&nbsp;<span class="op" id="6848185">=</span>&nbsp;<span class="ident" id="6848187">s</span><span class="op" id="6848188">.</span><span class="ident" id="6848189">Scan</span><span class="op" id="6848193">(</span><span class="op" id="6848194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848198">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848202">line</span>&nbsp;<span class="op" id="6848207">+=</span>&nbsp;<span class="ident" id="6848210">countNewlines</span><span class="op" id="6848223">(</span><span class="ident" id="6848224">k</span><span class="op" id="6848225">.</span><span class="ident" id="6848226">text</span><span class="op" id="6848230">)</span>&nbsp;<span class="op" id="6848232">+</span>&nbsp;<span class="num" id="6848234">1</span>&nbsp;<span class="comment" id="6848236">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848271">checkTok</span><span class="op" id="6848279">(</span><span class="ident" id="6848280">t</span><span class="op" id="6848281">,</span>&nbsp;<span class="ident" id="6848283">s</span><span class="op" id="6848284">,</span>&nbsp;<span class="ident" id="6848286">line</span><span class="op" id="6848290">,</span>&nbsp;<span class="ident" id="6848292">tok</span><span class="op" id="6848295">,</span>&nbsp;<span class="ident" id="6848297">EOF</span><span class="op" id="6848300">,</span>&nbsp;<span class="string" id="6848302">&#34;&#34;</span><span class="op" id="6848304">)</span><br>
<span class="lineno"></span><span class="op" id="6848306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="6848309">func</span>&nbsp;<span class="ident" id="6848314">TestScan</span><span class="op" id="6848322">(</span><span class="ident" id="6848323">t</span>&nbsp;<span class="op" id="6848325">*</span><span class="ident" id="6848326">testing</span><span class="op" id="6848333">.</span><span class="ident" id="6848334">T</span><span class="op" id="6848335">)</span>&nbsp;<span class="op" id="6848337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848340">testScan</span><span class="op" id="6848348">(</span><span class="ident" id="6848349">t</span><span class="op" id="6848350">,</span>&nbsp;<span class="ident" id="6848352">GoTokens</span><span class="op" id="6848360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848363">testScan</span><span class="op" id="6848371">(</span><span class="ident" id="6848372">t</span><span class="op" id="6848373">,</span>&nbsp;<span class="ident" id="6848375">GoTokens</span><span class="op" id="6848383">&amp;^</span><span class="ident" id="6848385">SkipComments</span><span class="op" id="6848397">)</span><br>
<span class="lineno"></span><span class="op" id="6848399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="6848402">func</span>&nbsp;<span class="ident" id="6848407">TestPosition</span><span class="op" id="6848419">(</span><span class="ident" id="6848420">t</span>&nbsp;<span class="op" id="6848422">*</span><span class="ident" id="6848423">testing</span><span class="op" id="6848430">.</span><span class="ident" id="6848431">T</span><span class="op" id="6848432">)</span>&nbsp;<span class="op" id="6848434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848437">src</span>&nbsp;<span class="op" id="6848441">:=</span>&nbsp;<span class="ident" id="6848444">makeSource</span><span class="op" id="6848454">(</span><span class="string" id="6848455">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="6848469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848472">s</span>&nbsp;<span class="op" id="6848474">:=</span>&nbsp;<span class="builtinfunc" id="6848477">new</span><span class="op" id="6848480">(</span><span class="ident" id="6848481">Scanner</span><span class="op" id="6848488">)</span><span class="op" id="6848489">.</span><span class="ident" id="6848490">Init</span><span class="op" id="6848494">(</span><span class="ident" id="6848495">src</span><span class="op" id="6848498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848501">s</span><span class="op" id="6848502">.</span><span class="ident" id="6848503">Mode</span>&nbsp;<span class="op" id="6848508">=</span>&nbsp;<span class="ident" id="6848510">GoTokens</span>&nbsp;<span class="op" id="6848519">&amp;^</span>&nbsp;<span class="ident" id="6848522">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848536">s</span><span class="op" id="6848537">.</span><span class="ident" id="6848538">Scan</span><span class="op" id="6848542">(</span><span class="op" id="6848543">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848546">pos</span>&nbsp;<span class="op" id="6848550">:=</span>&nbsp;<span class="ident" id="6848553">Position</span><span class="op" id="6848561">{</span><span class="string" id="6848562">&#34;&#34;</span><span class="op" id="6848564">,</span>&nbsp;<span class="num" id="6848566">4</span><span class="op" id="6848567">,</span>&nbsp;<span class="num" id="6848569">1</span><span class="op" id="6848570">,</span>&nbsp;<span class="num" id="6848572">5</span><span class="op" id="6848573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848576">for</span>&nbsp;<span class="ident" id="6848580">_</span><span class="op" id="6848581">,</span>&nbsp;<span class="ident" id="6848583">k</span>&nbsp;<span class="op" id="6848585">:=</span>&nbsp;<span class="keyword" id="6848588">range</span>&nbsp;<span class="ident" id="6848594">tokenList</span>&nbsp;<span class="op" id="6848604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848608">if</span>&nbsp;<span class="ident" id="6848611">s</span><span class="op" id="6848612">.</span><span class="ident" id="6848613">Offset</span>&nbsp;<span class="op" id="6848620">!=</span>&nbsp;<span class="ident" id="6848623">pos</span><span class="op" id="6848626">.</span><span class="ident" id="6848627">Offset</span>&nbsp;<span class="op" id="6848634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848639">t</span><span class="op" id="6848640">.</span><span class="ident" id="6848641">Errorf</span><span class="op" id="6848647">(</span><span class="string" id="6848648">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6848677">,</span>&nbsp;<span class="ident" id="6848679">s</span><span class="op" id="6848680">.</span><span class="ident" id="6848681">Offset</span><span class="op" id="6848687">,</span>&nbsp;<span class="ident" id="6848689">pos</span><span class="op" id="6848692">.</span><span class="ident" id="6848693">Offset</span><span class="op" id="6848699">,</span>&nbsp;<span class="ident" id="6848701">k</span><span class="op" id="6848702">.</span><span class="ident" id="6848703">text</span><span class="op" id="6848707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848711">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848715">if</span>&nbsp;<span class="ident" id="6848718">s</span><span class="op" id="6848719">.</span><span class="ident" id="6848720">Line</span>&nbsp;<span class="op" id="6848725">!=</span>&nbsp;<span class="ident" id="6848728">pos</span><span class="op" id="6848731">.</span><span class="ident" id="6848732">Line</span>&nbsp;<span class="op" id="6848737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848742">t</span><span class="op" id="6848743">.</span><span class="ident" id="6848744">Errorf</span><span class="op" id="6848750">(</span><span class="string" id="6848751">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6848778">,</span>&nbsp;<span class="ident" id="6848780">s</span><span class="op" id="6848781">.</span><span class="ident" id="6848782">Line</span><span class="op" id="6848786">,</span>&nbsp;<span class="ident" id="6848788">pos</span><span class="op" id="6848791">.</span><span class="ident" id="6848792">Line</span><span class="op" id="6848796">,</span>&nbsp;<span class="ident" id="6848798">k</span><span class="op" id="6848799">.</span><span class="ident" id="6848800">text</span><span class="op" id="6848804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6848812">if</span>&nbsp;<span class="ident" id="6848815">s</span><span class="op" id="6848816">.</span><span class="ident" id="6848817">Column</span>&nbsp;<span class="op" id="6848824">!=</span>&nbsp;<span class="ident" id="6848827">pos</span><span class="op" id="6848830">.</span><span class="ident" id="6848831">Column</span>&nbsp;<span class="op" id="6848838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848843">t</span><span class="op" id="6848844">.</span><span class="ident" id="6848845">Errorf</span><span class="op" id="6848851">(</span><span class="string" id="6848852">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6848881">,</span>&nbsp;<span class="ident" id="6848883">s</span><span class="op" id="6848884">.</span><span class="ident" id="6848885">Column</span><span class="op" id="6848891">,</span>&nbsp;<span class="ident" id="6848893">pos</span><span class="op" id="6848896">.</span><span class="ident" id="6848897">Column</span><span class="op" id="6848903">,</span>&nbsp;<span class="ident" id="6848905">k</span><span class="op" id="6848906">.</span><span class="ident" id="6848907">text</span><span class="op" id="6848911">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6848915">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848919">pos</span><span class="op" id="6848922">.</span><span class="ident" id="6848923">Offset</span>&nbsp;<span class="op" id="6848930">+=</span>&nbsp;<span class="num" id="6848933">4</span>&nbsp;<span class="op" id="6848935">+</span>&nbsp;<span class="builtinfunc" id="6848937">len</span><span class="op" id="6848940">(</span><span class="ident" id="6848941">k</span><span class="op" id="6848942">.</span><span class="ident" id="6848943">text</span><span class="op" id="6848947">)</span>&nbsp;<span class="op" id="6848949">+</span>&nbsp;<span class="num" id="6848951">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6848957">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6848993">pos</span><span class="op" id="6848996">.</span><span class="ident" id="6848997">Line</span>&nbsp;<span class="op" id="6849002">+=</span>&nbsp;<span class="ident" id="6849005">countNewlines</span><span class="op" id="6849018">(</span><span class="ident" id="6849019">k</span><span class="op" id="6849020">.</span><span class="ident" id="6849021">text</span><span class="op" id="6849025">)</span>&nbsp;<span class="op" id="6849027">+</span>&nbsp;<span class="num" id="6849029">1</span>&nbsp;<span class="comment" id="6849031">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849064">s</span><span class="op" id="6849065">.</span><span class="ident" id="6849066">Scan</span><span class="op" id="6849070">(</span><span class="op" id="6849071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849074">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6849077">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849147">if</span>&nbsp;<span class="ident" id="6849150">s</span><span class="op" id="6849151">.</span><span class="ident" id="6849152">ErrorCount</span>&nbsp;<span class="op" id="6849163">!=</span>&nbsp;<span class="num" id="6849166">0</span>&nbsp;<span class="op" id="6849168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849172">t</span><span class="op" id="6849173">.</span><span class="ident" id="6849174">Errorf</span><span class="op" id="6849180">(</span><span class="string" id="6849181">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6849192">,</span>&nbsp;<span class="ident" id="6849194">s</span><span class="op" id="6849195">.</span><span class="ident" id="6849196">ErrorCount</span><span class="op" id="6849206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849209">}</span><br>
<span class="lineno"></span><span class="op" id="6849211">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="6849214">func</span>&nbsp;<span class="ident" id="6849219">TestScanZeroMode</span><span class="op" id="6849235">(</span><span class="ident" id="6849236">t</span>&nbsp;<span class="op" id="6849238">*</span><span class="ident" id="6849239">testing</span><span class="op" id="6849246">.</span><span class="ident" id="6849247">T</span><span class="op" id="6849248">)</span>&nbsp;<span class="op" id="6849250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849253">src</span>&nbsp;<span class="op" id="6849257">:=</span>&nbsp;<span class="ident" id="6849260">makeSource</span><span class="op" id="6849270">(</span><span class="string" id="6849271">&#34;%s\n&#34;</span><span class="op" id="6849277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849280">str</span>&nbsp;<span class="op" id="6849284">:=</span>&nbsp;<span class="ident" id="6849287">src</span><span class="op" id="6849290">.</span><span class="ident" id="6849291">String</span><span class="op" id="6849297">(</span><span class="op" id="6849298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849301">s</span>&nbsp;<span class="op" id="6849303">:=</span>&nbsp;<span class="builtinfunc" id="6849306">new</span><span class="op" id="6849309">(</span><span class="ident" id="6849310">Scanner</span><span class="op" id="6849317">)</span><span class="op" id="6849318">.</span><span class="ident" id="6849319">Init</span><span class="op" id="6849323">(</span><span class="ident" id="6849324">src</span><span class="op" id="6849327">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849330">s</span><span class="op" id="6849331">.</span><span class="ident" id="6849332">Mode</span>&nbsp;<span class="op" id="6849337">=</span>&nbsp;<span class="num" id="6849339">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6849347">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849385">s</span><span class="op" id="6849386">.</span><span class="ident" id="6849387">Whitespace</span>&nbsp;<span class="op" id="6849398">=</span>&nbsp;<span class="num" id="6849400">0</span>&nbsp;<span class="comment" id="6849402">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849432">tok</span>&nbsp;<span class="op" id="6849436">:=</span>&nbsp;<span class="ident" id="6849439">s</span><span class="op" id="6849440">.</span><span class="ident" id="6849441">Scan</span><span class="op" id="6849445">(</span><span class="op" id="6849446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849449">for</span>&nbsp;<span class="ident" id="6849453">i</span><span class="op" id="6849454">,</span>&nbsp;<span class="ident" id="6849456">ch</span>&nbsp;<span class="op" id="6849459">:=</span>&nbsp;<span class="keyword" id="6849462">range</span>&nbsp;<span class="ident" id="6849468">str</span>&nbsp;<span class="op" id="6849472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849476">if</span>&nbsp;<span class="ident" id="6849479">tok</span>&nbsp;<span class="op" id="6849483">!=</span>&nbsp;<span class="ident" id="6849486">ch</span>&nbsp;<span class="op" id="6849489">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849494">t</span><span class="op" id="6849495">.</span><span class="ident" id="6849496">Fatalf</span><span class="op" id="6849502">(</span><span class="string" id="6849503">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6849526">,</span>&nbsp;<span class="ident" id="6849528">i</span><span class="op" id="6849529">,</span>&nbsp;<span class="ident" id="6849531">TokenString</span><span class="op" id="6849542">(</span><span class="ident" id="6849543">tok</span><span class="op" id="6849546">)</span><span class="op" id="6849547">,</span>&nbsp;<span class="ident" id="6849549">TokenString</span><span class="op" id="6849560">(</span><span class="ident" id="6849561">ch</span><span class="op" id="6849563">)</span><span class="op" id="6849564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849572">tok</span>&nbsp;<span class="op" id="6849576">=</span>&nbsp;<span class="ident" id="6849578">s</span><span class="op" id="6849579">.</span><span class="ident" id="6849580">Scan</span><span class="op" id="6849584">(</span><span class="op" id="6849585">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849591">if</span>&nbsp;<span class="ident" id="6849594">tok</span>&nbsp;<span class="op" id="6849598">!=</span>&nbsp;<span class="ident" id="6849601">EOF</span>&nbsp;<span class="op" id="6849605">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849609">t</span><span class="op" id="6849610">.</span><span class="ident" id="6849611">Fatalf</span><span class="op" id="6849617">(</span><span class="string" id="6849618">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6849638">,</span>&nbsp;<span class="ident" id="6849640">TokenString</span><span class="op" id="6849651">(</span><span class="ident" id="6849652">tok</span><span class="op" id="6849655">)</span><span class="op" id="6849656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849659">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849662">if</span>&nbsp;<span class="ident" id="6849665">s</span><span class="op" id="6849666">.</span><span class="ident" id="6849667">ErrorCount</span>&nbsp;<span class="op" id="6849678">!=</span>&nbsp;<span class="num" id="6849681">0</span>&nbsp;<span class="op" id="6849683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849687">t</span><span class="op" id="6849688">.</span><span class="ident" id="6849689">Errorf</span><span class="op" id="6849695">(</span><span class="string" id="6849696">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6849707">,</span>&nbsp;<span class="ident" id="6849709">s</span><span class="op" id="6849710">.</span><span class="ident" id="6849711">ErrorCount</span><span class="op" id="6849721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6849724">}</span><br>
<span class="lineno">330</span><span class="op" id="6849726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6849729">func</span>&nbsp;<span class="ident" id="6849734">testScanSelectedMode</span><span class="op" id="6849754">(</span><span class="ident" id="6849755">t</span>&nbsp;<span class="op" id="6849757">*</span><span class="ident" id="6849758">testing</span><span class="op" id="6849765">.</span><span class="ident" id="6849766">T</span><span class="op" id="6849767">,</span>&nbsp;<span class="ident" id="6849769">mode</span>&nbsp;<span class="builtintype" id="6849774">uint</span><span class="op" id="6849778">,</span>&nbsp;<span class="ident" id="6849780">class</span>&nbsp;<span class="builtintype" id="6849786">rune</span><span class="op" id="6849790">)</span>&nbsp;<span class="op" id="6849792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849795">src</span>&nbsp;<span class="op" id="6849799">:=</span>&nbsp;<span class="ident" id="6849802">makeSource</span><span class="op" id="6849812">(</span><span class="string" id="6849813">&#34;%s\n&#34;</span><span class="op" id="6849819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849822">s</span>&nbsp;<span class="op" id="6849824">:=</span>&nbsp;<span class="builtinfunc" id="6849827">new</span><span class="op" id="6849830">(</span><span class="ident" id="6849831">Scanner</span><span class="op" id="6849838">)</span><span class="op" id="6849839">.</span><span class="ident" id="6849840">Init</span><span class="op" id="6849844">(</span><span class="ident" id="6849845">src</span><span class="op" id="6849848">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849851">s</span><span class="op" id="6849852">.</span><span class="ident" id="6849853">Mode</span>&nbsp;<span class="op" id="6849858">=</span>&nbsp;<span class="ident" id="6849860">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849866">tok</span>&nbsp;<span class="op" id="6849870">:=</span>&nbsp;<span class="ident" id="6849873">s</span><span class="op" id="6849874">.</span><span class="ident" id="6849875">Scan</span><span class="op" id="6849879">(</span><span class="op" id="6849880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849883">for</span>&nbsp;<span class="ident" id="6849887">tok</span>&nbsp;<span class="op" id="6849891">!=</span>&nbsp;<span class="ident" id="6849894">EOF</span>&nbsp;<span class="op" id="6849898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6849902">if</span>&nbsp;<span class="ident" id="6849905">tok</span>&nbsp;<span class="op" id="6849909">&lt;</span>&nbsp;<span class="num" id="6849911">0</span>&nbsp;<span class="op" id="6849913">&amp;&amp;</span>&nbsp;<span class="ident" id="6849916">tok</span>&nbsp;<span class="op" id="6849920">!=</span>&nbsp;<span class="ident" id="6849923">class</span>&nbsp;<span class="op" id="6849929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6849934">t</span><span class="op" id="6849935">.</span><span class="ident" id="6849936">Fatalf</span><span class="op" id="6849942">(</span><span class="string" id="6849943">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6849962">,</span>&nbsp;<span class="ident" id="6849964">TokenString</span><span class="op" id="6849975">(</span><span class="ident" id="6849976">tok</span><span class="op" id="6849979">)</span><span class="op" id="6849980">,</span>&nbsp;<span class="ident" id="6849982">TokenString</span><span class="op" id="6849993">(</span><span class="ident" id="6849994">class</span><span class="op" id="6849999">)</span><span class="op" id="6850000">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850008">tok</span>&nbsp;<span class="op" id="6850012">=</span>&nbsp;<span class="ident" id="6850014">s</span><span class="op" id="6850015">.</span><span class="ident" id="6850016">Scan</span><span class="op" id="6850020">(</span><span class="op" id="6850021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6850027">if</span>&nbsp;<span class="ident" id="6850030">s</span><span class="op" id="6850031">.</span><span class="ident" id="6850032">ErrorCount</span>&nbsp;<span class="op" id="6850043">!=</span>&nbsp;<span class="num" id="6850046">0</span>&nbsp;<span class="op" id="6850048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850052">t</span><span class="op" id="6850053">.</span><span class="ident" id="6850054">Errorf</span><span class="op" id="6850060">(</span><span class="string" id="6850061">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6850072">,</span>&nbsp;<span class="ident" id="6850074">s</span><span class="op" id="6850075">.</span><span class="ident" id="6850076">ErrorCount</span><span class="op" id="6850086">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850089">}</span><br>
<span class="lineno"></span><span class="op" id="6850091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6850094">func</span>&nbsp;<span class="ident" id="6850099">TestScanSelectedMask</span><span class="op" id="6850119">(</span><span class="ident" id="6850120">t</span>&nbsp;<span class="op" id="6850122">*</span><span class="ident" id="6850123">testing</span><span class="op" id="6850130">.</span><span class="ident" id="6850131">T</span><span class="op" id="6850132">)</span>&nbsp;<span class="op" id="6850134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850137">testScanSelectedMode</span><span class="op" id="6850157">(</span><span class="ident" id="6850158">t</span><span class="op" id="6850159">,</span>&nbsp;<span class="num" id="6850161">0</span><span class="op" id="6850162">,</span>&nbsp;<span class="num" id="6850164">0</span><span class="op" id="6850165">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850168">testScanSelectedMode</span><span class="op" id="6850188">(</span><span class="ident" id="6850189">t</span><span class="op" id="6850190">,</span>&nbsp;<span class="ident" id="6850192">ScanIdents</span><span class="op" id="6850202">,</span>&nbsp;<span class="ident" id="6850204">Ident</span><span class="op" id="6850209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850212">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850272">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850332">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850384">testScanSelectedMode</span><span class="op" id="6850404">(</span><span class="ident" id="6850405">t</span><span class="op" id="6850406">,</span>&nbsp;<span class="ident" id="6850408">ScanChars</span><span class="op" id="6850417">,</span>&nbsp;<span class="ident" id="6850419">Char</span><span class="op" id="6850423">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850426">testScanSelectedMode</span><span class="op" id="6850446">(</span><span class="ident" id="6850447">t</span><span class="op" id="6850448">,</span>&nbsp;<span class="ident" id="6850450">ScanStrings</span><span class="op" id="6850461">,</span>&nbsp;<span class="ident" id="6850463">String</span><span class="op" id="6850469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850472">testScanSelectedMode</span><span class="op" id="6850492">(</span><span class="ident" id="6850493">t</span><span class="op" id="6850494">,</span>&nbsp;<span class="ident" id="6850496">SkipComments</span><span class="op" id="6850508">,</span>&nbsp;<span class="num" id="6850510">0</span><span class="op" id="6850511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850514">testScanSelectedMode</span><span class="op" id="6850534">(</span><span class="ident" id="6850535">t</span><span class="op" id="6850536">,</span>&nbsp;<span class="ident" id="6850538">ScanComments</span><span class="op" id="6850550">,</span>&nbsp;<span class="ident" id="6850552">Comment</span><span class="op" id="6850559">)</span><br>
<span class="lineno"></span><span class="op" id="6850561">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="6850564">func</span>&nbsp;<span class="ident" id="6850569">TestScanCustomIdent</span><span class="op" id="6850588">(</span><span class="ident" id="6850589">t</span>&nbsp;<span class="op" id="6850591">*</span><span class="ident" id="6850592">testing</span><span class="op" id="6850599">.</span><span class="ident" id="6850600">T</span><span class="op" id="6850601">)</span>&nbsp;<span class="op" id="6850603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6850606">const</span>&nbsp;<span class="ident" id="6850612">src</span>&nbsp;<span class="op" id="6850616">=</span>&nbsp;<span class="string" id="6850618">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850646">s</span>&nbsp;<span class="op" id="6850648">:=</span>&nbsp;<span class="builtinfunc" id="6850651">new</span><span class="op" id="6850654">(</span><span class="ident" id="6850655">Scanner</span><span class="op" id="6850662">)</span><span class="op" id="6850663">.</span><span class="ident" id="6850664">Init</span><span class="op" id="6850668">(</span><span class="ident" id="6850669">strings</span><span class="op" id="6850676">.</span><span class="ident" id="6850677">NewReader</span><span class="op" id="6850686">(</span><span class="ident" id="6850687">src</span><span class="op" id="6850690">)</span><span class="op" id="6850691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850694">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850732">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6850757">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850788">s</span><span class="op" id="6850789">.</span><span class="ident" id="6850790">IsIdentRune</span>&nbsp;<span class="op" id="6850802">=</span>&nbsp;<span class="keyword" id="6850804">func</span><span class="op" id="6850808">(</span><span class="ident" id="6850809">ch</span>&nbsp;<span class="builtintype" id="6850812">rune</span><span class="op" id="6850816">,</span>&nbsp;<span class="ident" id="6850818">i</span>&nbsp;<span class="builtintype" id="6850820">int</span><span class="op" id="6850823">)</span>&nbsp;<span class="builtintype" id="6850825">bool</span>&nbsp;<span class="op" id="6850830">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6850834">return</span>&nbsp;<span class="ident" id="6850841">i</span>&nbsp;<span class="op" id="6850843">==</span>&nbsp;<span class="num" id="6850846">0</span>&nbsp;<span class="op" id="6850848">&amp;&amp;</span>&nbsp;<span class="op" id="6850851">(</span><span class="ident" id="6850852">ch</span>&nbsp;<span class="op" id="6850855">==</span>&nbsp;<span class="string" id="6850858">&#39;a&#39;</span>&nbsp;<span class="op" id="6850862">||</span>&nbsp;<span class="ident" id="6850865">ch</span>&nbsp;<span class="op" id="6850868">==</span>&nbsp;<span class="string" id="6850871">&#39;b&#39;</span><span class="op" id="6850874">)</span>&nbsp;<span class="op" id="6850876">||</span>&nbsp;<span class="num" id="6850879">0</span>&nbsp;<span class="op" id="6850881">&lt;</span>&nbsp;<span class="ident" id="6850883">i</span>&nbsp;<span class="op" id="6850885">&amp;&amp;</span>&nbsp;<span class="ident" id="6850888">i</span>&nbsp;<span class="op" id="6850890">&lt;</span>&nbsp;<span class="num" id="6850892">4</span>&nbsp;<span class="op" id="6850894">&amp;&amp;</span>&nbsp;<span class="string" id="6850897">&#39;0&#39;</span>&nbsp;<span class="op" id="6850901">&lt;=</span>&nbsp;<span class="ident" id="6850904">ch</span>&nbsp;<span class="op" id="6850907">&amp;&amp;</span>&nbsp;<span class="ident" id="6850910">ch</span>&nbsp;<span class="op" id="6850913">&lt;=</span>&nbsp;<span class="string" id="6850916">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6850921">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850924">checkTok</span><span class="op" id="6850932">(</span><span class="ident" id="6850933">t</span><span class="op" id="6850934">,</span>&nbsp;<span class="ident" id="6850936">s</span><span class="op" id="6850937">,</span>&nbsp;<span class="num" id="6850939">1</span><span class="op" id="6850940">,</span>&nbsp;<span class="ident" id="6850942">s</span><span class="op" id="6850943">.</span><span class="ident" id="6850944">Scan</span><span class="op" id="6850948">(</span><span class="op" id="6850949">)</span><span class="op" id="6850950">,</span>&nbsp;<span class="string" id="6850952">&#39;f&#39;</span><span class="op" id="6850955">,</span>&nbsp;<span class="string" id="6850957">&#34;f&#34;</span><span class="op" id="6850960">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6850963">checkTok</span><span class="op" id="6850971">(</span><span class="ident" id="6850972">t</span><span class="op" id="6850973">,</span>&nbsp;<span class="ident" id="6850975">s</span><span class="op" id="6850976">,</span>&nbsp;<span class="num" id="6850978">1</span><span class="op" id="6850979">,</span>&nbsp;<span class="ident" id="6850981">s</span><span class="op" id="6850982">.</span><span class="ident" id="6850983">Scan</span><span class="op" id="6850987">(</span><span class="op" id="6850988">)</span><span class="op" id="6850989">,</span>&nbsp;<span class="ident" id="6850991">Ident</span><span class="op" id="6850996">,</span>&nbsp;<span class="string" id="6850998">&#34;a&#34;</span><span class="op" id="6851001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851004">checkTok</span><span class="op" id="6851012">(</span><span class="ident" id="6851013">t</span><span class="op" id="6851014">,</span>&nbsp;<span class="ident" id="6851016">s</span><span class="op" id="6851017">,</span>&nbsp;<span class="num" id="6851019">1</span><span class="op" id="6851020">,</span>&nbsp;<span class="ident" id="6851022">s</span><span class="op" id="6851023">.</span><span class="ident" id="6851024">Scan</span><span class="op" id="6851028">(</span><span class="op" id="6851029">)</span><span class="op" id="6851030">,</span>&nbsp;<span class="ident" id="6851032">Ident</span><span class="op" id="6851037">,</span>&nbsp;<span class="string" id="6851039">&#34;a&#34;</span><span class="op" id="6851042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851045">checkTok</span><span class="op" id="6851053">(</span><span class="ident" id="6851054">t</span><span class="op" id="6851055">,</span>&nbsp;<span class="ident" id="6851057">s</span><span class="op" id="6851058">,</span>&nbsp;<span class="num" id="6851060">1</span><span class="op" id="6851061">,</span>&nbsp;<span class="ident" id="6851063">s</span><span class="op" id="6851064">.</span><span class="ident" id="6851065">Scan</span><span class="op" id="6851069">(</span><span class="op" id="6851070">)</span><span class="op" id="6851071">,</span>&nbsp;<span class="ident" id="6851073">Ident</span><span class="op" id="6851078">,</span>&nbsp;<span class="string" id="6851080">&#34;b123&#34;</span><span class="op" id="6851086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851089">checkTok</span><span class="op" id="6851097">(</span><span class="ident" id="6851098">t</span><span class="op" id="6851099">,</span>&nbsp;<span class="ident" id="6851101">s</span><span class="op" id="6851102">,</span>&nbsp;<span class="num" id="6851104">1</span><span class="op" id="6851105">,</span>&nbsp;<span class="ident" id="6851107">s</span><span class="op" id="6851108">.</span><span class="ident" id="6851109">Scan</span><span class="op" id="6851113">(</span><span class="op" id="6851114">)</span><span class="op" id="6851115">,</span>&nbsp;<span class="ident" id="6851117">Int</span><span class="op" id="6851120">,</span>&nbsp;<span class="string" id="6851122">&#34;45&#34;</span><span class="op" id="6851126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851129">checkTok</span><span class="op" id="6851137">(</span><span class="ident" id="6851138">t</span><span class="op" id="6851139">,</span>&nbsp;<span class="ident" id="6851141">s</span><span class="op" id="6851142">,</span>&nbsp;<span class="num" id="6851144">1</span><span class="op" id="6851145">,</span>&nbsp;<span class="ident" id="6851147">s</span><span class="op" id="6851148">.</span><span class="ident" id="6851149">Scan</span><span class="op" id="6851153">(</span><span class="op" id="6851154">)</span><span class="op" id="6851155">,</span>&nbsp;<span class="ident" id="6851157">Ident</span><span class="op" id="6851162">,</span>&nbsp;<span class="string" id="6851164">&#34;a12&#34;</span><span class="op" id="6851169">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851172">checkTok</span><span class="op" id="6851180">(</span><span class="ident" id="6851181">t</span><span class="op" id="6851182">,</span>&nbsp;<span class="ident" id="6851184">s</span><span class="op" id="6851185">,</span>&nbsp;<span class="num" id="6851187">1</span><span class="op" id="6851188">,</span>&nbsp;<span class="ident" id="6851190">s</span><span class="op" id="6851191">.</span><span class="ident" id="6851192">Scan</span><span class="op" id="6851196">(</span><span class="op" id="6851197">)</span><span class="op" id="6851198">,</span>&nbsp;<span class="ident" id="6851200">Ident</span><span class="op" id="6851205">,</span>&nbsp;<span class="string" id="6851207">&#34;b123&#34;</span><span class="op" id="6851213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851216">checkTok</span><span class="op" id="6851224">(</span><span class="ident" id="6851225">t</span><span class="op" id="6851226">,</span>&nbsp;<span class="ident" id="6851228">s</span><span class="op" id="6851229">,</span>&nbsp;<span class="num" id="6851231">1</span><span class="op" id="6851232">,</span>&nbsp;<span class="ident" id="6851234">s</span><span class="op" id="6851235">.</span><span class="ident" id="6851236">Scan</span><span class="op" id="6851240">(</span><span class="op" id="6851241">)</span><span class="op" id="6851242">,</span>&nbsp;<span class="ident" id="6851244">Ident</span><span class="op" id="6851249">,</span>&nbsp;<span class="string" id="6851251">&#34;a12&#34;</span><span class="op" id="6851256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851259">checkTok</span><span class="op" id="6851267">(</span><span class="ident" id="6851268">t</span><span class="op" id="6851269">,</span>&nbsp;<span class="ident" id="6851271">s</span><span class="op" id="6851272">,</span>&nbsp;<span class="num" id="6851274">1</span><span class="op" id="6851275">,</span>&nbsp;<span class="ident" id="6851277">s</span><span class="op" id="6851278">.</span><span class="ident" id="6851279">Scan</span><span class="op" id="6851283">(</span><span class="op" id="6851284">)</span><span class="op" id="6851285">,</span>&nbsp;<span class="ident" id="6851287">Int</span><span class="op" id="6851290">,</span>&nbsp;<span class="string" id="6851292">&#34;3&#34;</span><span class="op" id="6851295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851298">checkTok</span><span class="op" id="6851306">(</span><span class="ident" id="6851307">t</span><span class="op" id="6851308">,</span>&nbsp;<span class="ident" id="6851310">s</span><span class="op" id="6851311">,</span>&nbsp;<span class="num" id="6851313">1</span><span class="op" id="6851314">,</span>&nbsp;<span class="ident" id="6851316">s</span><span class="op" id="6851317">.</span><span class="ident" id="6851318">Scan</span><span class="op" id="6851322">(</span><span class="op" id="6851323">)</span><span class="op" id="6851324">,</span>&nbsp;<span class="ident" id="6851326">Ident</span><span class="op" id="6851331">,</span>&nbsp;<span class="string" id="6851333">&#34;b&#34;</span><span class="op" id="6851336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851339">checkTok</span><span class="op" id="6851347">(</span><span class="ident" id="6851348">t</span><span class="op" id="6851349">,</span>&nbsp;<span class="ident" id="6851351">s</span><span class="op" id="6851352">,</span>&nbsp;<span class="num" id="6851354">1</span><span class="op" id="6851355">,</span>&nbsp;<span class="ident" id="6851357">s</span><span class="op" id="6851358">.</span><span class="ident" id="6851359">Scan</span><span class="op" id="6851363">(</span><span class="op" id="6851364">)</span><span class="op" id="6851365">,</span>&nbsp;<span class="ident" id="6851367">EOF</span><span class="op" id="6851370">,</span>&nbsp;<span class="string" id="6851372">&#34;&#34;</span><span class="op" id="6851374">)</span><br>
<span class="lineno">380</span><span class="op" id="6851376">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6851379">func</span>&nbsp;<span class="ident" id="6851384">TestScanNext</span><span class="op" id="6851396">(</span><span class="ident" id="6851397">t</span>&nbsp;<span class="op" id="6851399">*</span><span class="ident" id="6851400">testing</span><span class="op" id="6851407">.</span><span class="ident" id="6851408">T</span><span class="op" id="6851409">)</span>&nbsp;<span class="op" id="6851411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6851414">const</span>&nbsp;<span class="ident" id="6851420">BOM</span>&nbsp;<span class="op" id="6851424">=</span>&nbsp;<span class="string" id="6851426">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851436">BOMs</span>&nbsp;<span class="op" id="6851441">:=</span>&nbsp;<span class="builtintype" id="6851444">string</span><span class="op" id="6851450">(</span><span class="ident" id="6851451">BOM</span><span class="op" id="6851454">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851457">s</span>&nbsp;<span class="op" id="6851459">:=</span>&nbsp;<span class="builtinfunc" id="6851462">new</span><span class="op" id="6851465">(</span><span class="ident" id="6851466">Scanner</span><span class="op" id="6851473">)</span><span class="op" id="6851474">.</span><span class="ident" id="6851475">Init</span><span class="op" id="6851479">(</span><span class="ident" id="6851480">strings</span><span class="op" id="6851487">.</span><span class="ident" id="6851488">NewReader</span><span class="op" id="6851497">(</span><span class="ident" id="6851498">BOMs</span>&nbsp;<span class="op" id="6851503">+</span>&nbsp;<span class="string" id="6851505">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="6851526">+</span>&nbsp;<span class="ident" id="6851528">BOMs</span>&nbsp;<span class="op" id="6851533">+</span>&nbsp;<span class="string" id="6851535">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="6851560">+</span>&nbsp;<span class="ident" id="6851562">BOMs</span>&nbsp;<span class="op" id="6851567">+</span>&nbsp;<span class="string" id="6851569">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="6851600">)</span><span class="op" id="6851601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851604">checkTok</span><span class="op" id="6851612">(</span><span class="ident" id="6851613">t</span><span class="op" id="6851614">,</span>&nbsp;<span class="ident" id="6851616">s</span><span class="op" id="6851617">,</span>&nbsp;<span class="num" id="6851619">1</span><span class="op" id="6851620">,</span>&nbsp;<span class="ident" id="6851622">s</span><span class="op" id="6851623">.</span><span class="ident" id="6851624">Scan</span><span class="op" id="6851628">(</span><span class="op" id="6851629">)</span><span class="op" id="6851630">,</span>&nbsp;<span class="ident" id="6851632">Ident</span><span class="op" id="6851637">,</span>&nbsp;<span class="string" id="6851639">&#34;if&#34;</span><span class="op" id="6851643">)</span>&nbsp;<span class="comment" id="6851645">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851674">checkTok</span><span class="op" id="6851682">(</span><span class="ident" id="6851683">t</span><span class="op" id="6851684">,</span>&nbsp;<span class="ident" id="6851686">s</span><span class="op" id="6851687">,</span>&nbsp;<span class="num" id="6851689">1</span><span class="op" id="6851690">,</span>&nbsp;<span class="ident" id="6851692">s</span><span class="op" id="6851693">.</span><span class="ident" id="6851694">Scan</span><span class="op" id="6851698">(</span><span class="op" id="6851699">)</span><span class="op" id="6851700">,</span>&nbsp;<span class="ident" id="6851702">Ident</span><span class="op" id="6851707">,</span>&nbsp;<span class="string" id="6851709">&#34;a&#34;</span><span class="op" id="6851712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851715">checkTok</span><span class="op" id="6851723">(</span><span class="ident" id="6851724">t</span><span class="op" id="6851725">,</span>&nbsp;<span class="ident" id="6851727">s</span><span class="op" id="6851728">,</span>&nbsp;<span class="num" id="6851730">1</span><span class="op" id="6851731">,</span>&nbsp;<span class="ident" id="6851733">s</span><span class="op" id="6851734">.</span><span class="ident" id="6851735">Scan</span><span class="op" id="6851739">(</span><span class="op" id="6851740">)</span><span class="op" id="6851741">,</span>&nbsp;<span class="string" id="6851743">&#39;=&#39;</span><span class="op" id="6851746">,</span>&nbsp;<span class="string" id="6851748">&#34;=&#34;</span><span class="op" id="6851751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851754">checkTok</span><span class="op" id="6851762">(</span><span class="ident" id="6851763">t</span><span class="op" id="6851764">,</span>&nbsp;<span class="ident" id="6851766">s</span><span class="op" id="6851767">,</span>&nbsp;<span class="num" id="6851769">0</span><span class="op" id="6851770">,</span>&nbsp;<span class="ident" id="6851772">s</span><span class="op" id="6851773">.</span><span class="ident" id="6851774">Next</span><span class="op" id="6851778">(</span><span class="op" id="6851779">)</span><span class="op" id="6851780">,</span>&nbsp;<span class="string" id="6851782">&#39;=&#39;</span><span class="op" id="6851785">,</span>&nbsp;<span class="string" id="6851787">&#34;&#34;</span><span class="op" id="6851789">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851792">checkTok</span><span class="op" id="6851800">(</span><span class="ident" id="6851801">t</span><span class="op" id="6851802">,</span>&nbsp;<span class="ident" id="6851804">s</span><span class="op" id="6851805">,</span>&nbsp;<span class="num" id="6851807">0</span><span class="op" id="6851808">,</span>&nbsp;<span class="ident" id="6851810">s</span><span class="op" id="6851811">.</span><span class="ident" id="6851812">Next</span><span class="op" id="6851816">(</span><span class="op" id="6851817">)</span><span class="op" id="6851818">,</span>&nbsp;<span class="string" id="6851820">&#39;&nbsp;&#39;</span><span class="op" id="6851823">,</span>&nbsp;<span class="string" id="6851825">&#34;&#34;</span><span class="op" id="6851827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851830">checkTok</span><span class="op" id="6851838">(</span><span class="ident" id="6851839">t</span><span class="op" id="6851840">,</span>&nbsp;<span class="ident" id="6851842">s</span><span class="op" id="6851843">,</span>&nbsp;<span class="num" id="6851845">0</span><span class="op" id="6851846">,</span>&nbsp;<span class="ident" id="6851848">s</span><span class="op" id="6851849">.</span><span class="ident" id="6851850">Next</span><span class="op" id="6851854">(</span><span class="op" id="6851855">)</span><span class="op" id="6851856">,</span>&nbsp;<span class="string" id="6851858">&#39;b&#39;</span><span class="op" id="6851861">,</span>&nbsp;<span class="string" id="6851863">&#34;&#34;</span><span class="op" id="6851865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851868">checkTok</span><span class="op" id="6851876">(</span><span class="ident" id="6851877">t</span><span class="op" id="6851878">,</span>&nbsp;<span class="ident" id="6851880">s</span><span class="op" id="6851881">,</span>&nbsp;<span class="num" id="6851883">1</span><span class="op" id="6851884">,</span>&nbsp;<span class="ident" id="6851886">s</span><span class="op" id="6851887">.</span><span class="ident" id="6851888">Scan</span><span class="op" id="6851892">(</span><span class="op" id="6851893">)</span><span class="op" id="6851894">,</span>&nbsp;<span class="ident" id="6851896">Ident</span><span class="op" id="6851901">,</span>&nbsp;<span class="string" id="6851903">&#34;cd&#34;</span><span class="op" id="6851907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851910">checkTok</span><span class="op" id="6851918">(</span><span class="ident" id="6851919">t</span><span class="op" id="6851920">,</span>&nbsp;<span class="ident" id="6851922">s</span><span class="op" id="6851923">,</span>&nbsp;<span class="num" id="6851925">1</span><span class="op" id="6851926">,</span>&nbsp;<span class="ident" id="6851928">s</span><span class="op" id="6851929">.</span><span class="ident" id="6851930">Scan</span><span class="op" id="6851934">(</span><span class="op" id="6851935">)</span><span class="op" id="6851936">,</span>&nbsp;<span class="string" id="6851938">&#39;{&#39;</span><span class="op" id="6851941">,</span>&nbsp;<span class="string" id="6851943">&#34;{&#34;</span><span class="op" id="6851946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851949">checkTok</span><span class="op" id="6851957">(</span><span class="ident" id="6851958">t</span><span class="op" id="6851959">,</span>&nbsp;<span class="ident" id="6851961">s</span><span class="op" id="6851962">,</span>&nbsp;<span class="num" id="6851964">2</span><span class="op" id="6851965">,</span>&nbsp;<span class="ident" id="6851967">s</span><span class="op" id="6851968">.</span><span class="ident" id="6851969">Scan</span><span class="op" id="6851973">(</span><span class="op" id="6851974">)</span><span class="op" id="6851975">,</span>&nbsp;<span class="ident" id="6851977">Ident</span><span class="op" id="6851982">,</span>&nbsp;<span class="string" id="6851984">&#34;a&#34;</span><span class="op" id="6851987">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6851990">checkTok</span><span class="op" id="6851998">(</span><span class="ident" id="6851999">t</span><span class="op" id="6852000">,</span>&nbsp;<span class="ident" id="6852002">s</span><span class="op" id="6852003">,</span>&nbsp;<span class="num" id="6852005">2</span><span class="op" id="6852006">,</span>&nbsp;<span class="ident" id="6852008">s</span><span class="op" id="6852009">.</span><span class="ident" id="6852010">Scan</span><span class="op" id="6852014">(</span><span class="op" id="6852015">)</span><span class="op" id="6852016">,</span>&nbsp;<span class="string" id="6852018">&#39;+&#39;</span><span class="op" id="6852021">,</span>&nbsp;<span class="string" id="6852023">&#34;+&#34;</span><span class="op" id="6852026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852029">checkTok</span><span class="op" id="6852037">(</span><span class="ident" id="6852038">t</span><span class="op" id="6852039">,</span>&nbsp;<span class="ident" id="6852041">s</span><span class="op" id="6852042">,</span>&nbsp;<span class="num" id="6852044">0</span><span class="op" id="6852045">,</span>&nbsp;<span class="ident" id="6852047">s</span><span class="op" id="6852048">.</span><span class="ident" id="6852049">Next</span><span class="op" id="6852053">(</span><span class="op" id="6852054">)</span><span class="op" id="6852055">,</span>&nbsp;<span class="string" id="6852057">&#39;=&#39;</span><span class="op" id="6852060">,</span>&nbsp;<span class="string" id="6852062">&#34;&#34;</span><span class="op" id="6852064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852067">checkTok</span><span class="op" id="6852075">(</span><span class="ident" id="6852076">t</span><span class="op" id="6852077">,</span>&nbsp;<span class="ident" id="6852079">s</span><span class="op" id="6852080">,</span>&nbsp;<span class="num" id="6852082">2</span><span class="op" id="6852083">,</span>&nbsp;<span class="ident" id="6852085">s</span><span class="op" id="6852086">.</span><span class="ident" id="6852087">Scan</span><span class="op" id="6852091">(</span><span class="op" id="6852092">)</span><span class="op" id="6852093">,</span>&nbsp;<span class="ident" id="6852095">Ident</span><span class="op" id="6852100">,</span>&nbsp;<span class="string" id="6852102">&#34;c&#34;</span><span class="op" id="6852105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852108">checkTok</span><span class="op" id="6852116">(</span><span class="ident" id="6852117">t</span><span class="op" id="6852118">,</span>&nbsp;<span class="ident" id="6852120">s</span><span class="op" id="6852121">,</span>&nbsp;<span class="num" id="6852123">3</span><span class="op" id="6852124">,</span>&nbsp;<span class="ident" id="6852126">s</span><span class="op" id="6852127">.</span><span class="ident" id="6852128">Scan</span><span class="op" id="6852132">(</span><span class="op" id="6852133">)</span><span class="op" id="6852134">,</span>&nbsp;<span class="string" id="6852136">&#39;}&#39;</span><span class="op" id="6852139">,</span>&nbsp;<span class="string" id="6852141">&#34;}&#34;</span><span class="op" id="6852144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852147">checkTok</span><span class="op" id="6852155">(</span><span class="ident" id="6852156">t</span><span class="op" id="6852157">,</span>&nbsp;<span class="ident" id="6852159">s</span><span class="op" id="6852160">,</span>&nbsp;<span class="num" id="6852162">3</span><span class="op" id="6852163">,</span>&nbsp;<span class="ident" id="6852165">s</span><span class="op" id="6852166">.</span><span class="ident" id="6852167">Scan</span><span class="op" id="6852171">(</span><span class="op" id="6852172">)</span><span class="op" id="6852173">,</span>&nbsp;<span class="ident" id="6852175">BOM</span><span class="op" id="6852178">,</span>&nbsp;<span class="ident" id="6852180">BOMs</span><span class="op" id="6852184">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852187">checkTok</span><span class="op" id="6852195">(</span><span class="ident" id="6852196">t</span><span class="op" id="6852197">,</span>&nbsp;<span class="ident" id="6852199">s</span><span class="op" id="6852200">,</span>&nbsp;<span class="num" id="6852202">3</span><span class="op" id="6852203">,</span>&nbsp;<span class="ident" id="6852205">s</span><span class="op" id="6852206">.</span><span class="ident" id="6852207">Scan</span><span class="op" id="6852211">(</span><span class="op" id="6852212">)</span><span class="op" id="6852213">,</span>&nbsp;<span class="op" id="6852215">-</span><span class="num" id="6852216">1</span><span class="op" id="6852217">,</span>&nbsp;<span class="string" id="6852219">&#34;&#34;</span><span class="op" id="6852221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852224">if</span>&nbsp;<span class="ident" id="6852227">s</span><span class="op" id="6852228">.</span><span class="ident" id="6852229">ErrorCount</span>&nbsp;<span class="op" id="6852240">!=</span>&nbsp;<span class="num" id="6852243">0</span>&nbsp;<span class="op" id="6852245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852249">t</span><span class="op" id="6852250">.</span><span class="ident" id="6852251">Errorf</span><span class="op" id="6852257">(</span><span class="string" id="6852258">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6852269">,</span>&nbsp;<span class="ident" id="6852271">s</span><span class="op" id="6852272">.</span><span class="ident" id="6852273">ErrorCount</span><span class="op" id="6852283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852286">}</span><br>
<span class="lineno"></span><span class="op" id="6852288">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="6852291">func</span>&nbsp;<span class="ident" id="6852296">TestScanWhitespace</span><span class="op" id="6852314">(</span><span class="ident" id="6852315">t</span>&nbsp;<span class="op" id="6852317">*</span><span class="ident" id="6852318">testing</span><span class="op" id="6852325">.</span><span class="ident" id="6852326">T</span><span class="op" id="6852327">)</span>&nbsp;<span class="op" id="6852329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852332">var</span>&nbsp;<span class="ident" id="6852336">buf</span>&nbsp;<span class="ident" id="6852340">bytes</span><span class="op" id="6852345">.</span><span class="ident" id="6852346">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852354">var</span>&nbsp;<span class="ident" id="6852358">ws</span>&nbsp;<span class="ident" id="6852361">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6852369">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852414">for</span>&nbsp;<span class="ident" id="6852418">ch</span>&nbsp;<span class="op" id="6852421">:=</span>&nbsp;<span class="builtintype" id="6852424">byte</span><span class="op" id="6852428">(</span><span class="num" id="6852429">1</span><span class="op" id="6852430">)</span><span class="op" id="6852431">;</span>&nbsp;<span class="ident" id="6852433">ch</span>&nbsp;<span class="op" id="6852436">&lt;</span>&nbsp;<span class="string" id="6852438">&#39;&nbsp;&#39;</span><span class="op" id="6852441">;</span>&nbsp;<span class="ident" id="6852443">ch</span><span class="op" id="6852445">++</span>&nbsp;<span class="op" id="6852448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852452">buf</span><span class="op" id="6852455">.</span><span class="ident" id="6852456">WriteByte</span><span class="op" id="6852465">(</span><span class="ident" id="6852466">ch</span><span class="op" id="6852468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852472">ws</span>&nbsp;<span class="op" id="6852475">|=</span>&nbsp;<span class="num" id="6852478">1</span>&nbsp;<span class="op" id="6852480">&lt;&lt;</span>&nbsp;<span class="ident" id="6852483">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852490">const</span>&nbsp;<span class="ident" id="6852496">orig</span>&nbsp;<span class="op" id="6852501">=</span>&nbsp;<span class="string" id="6852503">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852508">buf</span><span class="op" id="6852511">.</span><span class="ident" id="6852512">WriteByte</span><span class="op" id="6852521">(</span><span class="ident" id="6852522">orig</span><span class="op" id="6852526">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852530">s</span>&nbsp;<span class="op" id="6852532">:=</span>&nbsp;<span class="builtinfunc" id="6852535">new</span><span class="op" id="6852538">(</span><span class="ident" id="6852539">Scanner</span><span class="op" id="6852546">)</span><span class="op" id="6852547">.</span><span class="ident" id="6852548">Init</span><span class="op" id="6852552">(</span><span class="op" id="6852553">&amp;</span><span class="ident" id="6852554">buf</span><span class="op" id="6852557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852560">s</span><span class="op" id="6852561">.</span><span class="ident" id="6852562">Mode</span>&nbsp;<span class="op" id="6852567">=</span>&nbsp;<span class="num" id="6852569">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852572">s</span><span class="op" id="6852573">.</span><span class="ident" id="6852574">Whitespace</span>&nbsp;<span class="op" id="6852585">=</span>&nbsp;<span class="ident" id="6852587">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852591">tok</span>&nbsp;<span class="op" id="6852595">:=</span>&nbsp;<span class="ident" id="6852598">s</span><span class="op" id="6852599">.</span><span class="ident" id="6852600">Scan</span><span class="op" id="6852604">(</span><span class="op" id="6852605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852608">if</span>&nbsp;<span class="ident" id="6852611">tok</span>&nbsp;<span class="op" id="6852615">!=</span>&nbsp;<span class="ident" id="6852618">orig</span>&nbsp;<span class="op" id="6852623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852627">t</span><span class="op" id="6852628">.</span><span class="ident" id="6852629">Errorf</span><span class="op" id="6852635">(</span><span class="string" id="6852636">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6852655">,</span>&nbsp;<span class="ident" id="6852657">TokenString</span><span class="op" id="6852668">(</span><span class="ident" id="6852669">tok</span><span class="op" id="6852672">)</span><span class="op" id="6852673">,</span>&nbsp;<span class="ident" id="6852675">TokenString</span><span class="op" id="6852686">(</span><span class="ident" id="6852687">orig</span><span class="op" id="6852691">)</span><span class="op" id="6852692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6852695">}</span><br>
<span class="lineno"></span><span class="op" id="6852697">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="6852700">func</span>&nbsp;<span class="ident" id="6852705">testError</span><span class="op" id="6852714">(</span><span class="ident" id="6852715">t</span>&nbsp;<span class="op" id="6852717">*</span><span class="ident" id="6852718">testing</span><span class="op" id="6852725">.</span><span class="ident" id="6852726">T</span><span class="op" id="6852727">,</span>&nbsp;<span class="ident" id="6852729">src</span><span class="op" id="6852732">,</span>&nbsp;<span class="ident" id="6852734">pos</span><span class="op" id="6852737">,</span>&nbsp;<span class="ident" id="6852739">msg</span>&nbsp;<span class="builtintype" id="6852743">string</span><span class="op" id="6852749">,</span>&nbsp;<span class="ident" id="6852751">tok</span>&nbsp;<span class="builtintype" id="6852755">rune</span><span class="op" id="6852759">)</span>&nbsp;<span class="op" id="6852761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852764">s</span>&nbsp;<span class="op" id="6852766">:=</span>&nbsp;<span class="builtinfunc" id="6852769">new</span><span class="op" id="6852772">(</span><span class="ident" id="6852773">Scanner</span><span class="op" id="6852780">)</span><span class="op" id="6852781">.</span><span class="ident" id="6852782">Init</span><span class="op" id="6852786">(</span><span class="ident" id="6852787">strings</span><span class="op" id="6852794">.</span><span class="ident" id="6852795">NewReader</span><span class="op" id="6852804">(</span><span class="ident" id="6852805">src</span><span class="op" id="6852808">)</span><span class="op" id="6852809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852812">errorCalled</span>&nbsp;<span class="op" id="6852824">:=</span>&nbsp;<span class="builtintype" id="6852827">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852834">s</span><span class="op" id="6852835">.</span><span class="ident" id="6852836">Error</span>&nbsp;<span class="op" id="6852842">=</span>&nbsp;<span class="keyword" id="6852844">func</span><span class="op" id="6852848">(</span><span class="ident" id="6852849">s</span>&nbsp;<span class="op" id="6852851">*</span><span class="ident" id="6852852">Scanner</span><span class="op" id="6852859">,</span>&nbsp;<span class="ident" id="6852861">m</span>&nbsp;<span class="builtintype" id="6852863">string</span><span class="op" id="6852869">)</span>&nbsp;<span class="op" id="6852871">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852875">if</span>&nbsp;<span class="op" id="6852878">!</span><span class="ident" id="6852879">errorCalled</span>&nbsp;<span class="op" id="6852891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6852896">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6852927">if</span>&nbsp;<span class="ident" id="6852930">p</span>&nbsp;<span class="op" id="6852932">:=</span>&nbsp;<span class="ident" id="6852935">s</span><span class="op" id="6852936">.</span><span class="ident" id="6852937">Pos</span><span class="op" id="6852940">(</span><span class="op" id="6852941">)</span><span class="op" id="6852942">.</span><span class="ident" id="6852943">String</span><span class="op" id="6852949">(</span><span class="op" id="6852950">)</span><span class="op" id="6852951">;</span>&nbsp;<span class="ident" id="6852953">p</span>&nbsp;<span class="op" id="6852955">!=</span>&nbsp;<span class="ident" id="6852958">pos</span>&nbsp;<span class="op" id="6852962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6852968">t</span><span class="op" id="6852969">.</span><span class="ident" id="6852970">Errorf</span><span class="op" id="6852976">(</span><span class="string" id="6852977">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6853003">,</span>&nbsp;<span class="ident" id="6853005">p</span><span class="op" id="6853006">,</span>&nbsp;<span class="ident" id="6853008">pos</span><span class="op" id="6853011">,</span>&nbsp;<span class="ident" id="6853013">src</span><span class="op" id="6853016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853021">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853026">if</span>&nbsp;<span class="ident" id="6853029">m</span>&nbsp;<span class="op" id="6853031">!=</span>&nbsp;<span class="ident" id="6853034">msg</span>&nbsp;<span class="op" id="6853038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853044">t</span><span class="op" id="6853045">.</span><span class="ident" id="6853046">Errorf</span><span class="op" id="6853052">(</span><span class="string" id="6853053">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6853079">,</span>&nbsp;<span class="ident" id="6853081">m</span><span class="op" id="6853082">,</span>&nbsp;<span class="ident" id="6853084">msg</span><span class="op" id="6853087">,</span>&nbsp;<span class="ident" id="6853089">src</span><span class="op" id="6853092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853097">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853102">errorCalled</span>&nbsp;<span class="op" id="6853114">=</span>&nbsp;<span class="builtintype" id="6853116">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853123">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853126">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853129">tk</span>&nbsp;<span class="op" id="6853132">:=</span>&nbsp;<span class="ident" id="6853135">s</span><span class="op" id="6853136">.</span><span class="ident" id="6853137">Scan</span><span class="op" id="6853141">(</span><span class="op" id="6853142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853145">if</span>&nbsp;<span class="ident" id="6853148">tk</span>&nbsp;<span class="op" id="6853151">!=</span>&nbsp;<span class="ident" id="6853154">tok</span>&nbsp;<span class="op" id="6853158">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853162">t</span><span class="op" id="6853163">.</span><span class="ident" id="6853164">Errorf</span><span class="op" id="6853170">(</span><span class="string" id="6853171">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6853197">,</span>&nbsp;<span class="ident" id="6853199">TokenString</span><span class="op" id="6853210">(</span><span class="ident" id="6853211">tk</span><span class="op" id="6853213">)</span><span class="op" id="6853214">,</span>&nbsp;<span class="ident" id="6853216">TokenString</span><span class="op" id="6853227">(</span><span class="ident" id="6853228">tok</span><span class="op" id="6853231">)</span><span class="op" id="6853232">,</span>&nbsp;<span class="ident" id="6853234">src</span><span class="op" id="6853237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853240">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853243">if</span>&nbsp;<span class="op" id="6853246">!</span><span class="ident" id="6853247">errorCalled</span>&nbsp;<span class="op" id="6853259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853263">t</span><span class="op" id="6853264">.</span><span class="ident" id="6853265">Errorf</span><span class="op" id="6853271">(</span><span class="string" id="6853272">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6853305">,</span>&nbsp;<span class="ident" id="6853307">src</span><span class="op" id="6853310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853313">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6853316">if</span>&nbsp;<span class="ident" id="6853319">s</span><span class="op" id="6853320">.</span><span class="ident" id="6853321">ErrorCount</span>&nbsp;<span class="op" id="6853332">==</span>&nbsp;<span class="num" id="6853335">0</span>&nbsp;<span class="op" id="6853337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853341">t</span><span class="op" id="6853342">.</span><span class="ident" id="6853343">Errorf</span><span class="op" id="6853349">(</span><span class="string" id="6853350">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="6853379">,</span>&nbsp;<span class="ident" id="6853381">s</span><span class="op" id="6853382">.</span><span class="ident" id="6853383">ErrorCount</span><span class="op" id="6853393">,</span>&nbsp;<span class="ident" id="6853395">src</span><span class="op" id="6853398">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6853401">}</span><br>
<span class="lineno"></span><span class="op" id="6853403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6853406">func</span>&nbsp;<span class="ident" id="6853411">TestError</span><span class="op" id="6853420">(</span><span class="ident" id="6853421">t</span>&nbsp;<span class="op" id="6853423">*</span><span class="ident" id="6853424">testing</span><span class="op" id="6853431">.</span><span class="ident" id="6853432">T</span><span class="op" id="6853433">)</span>&nbsp;<span class="op" id="6853435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853438">testError</span><span class="op" id="6853447">(</span><span class="ident" id="6853448">t</span><span class="op" id="6853449">,</span>&nbsp;<span class="string" id="6853451">&#34;\x00&#34;</span><span class="op" id="6853457">,</span>&nbsp;<span class="string" id="6853459">&#34;1:1&#34;</span><span class="op" id="6853464">,</span>&nbsp;<span class="string" id="6853466">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6853489">,</span>&nbsp;<span class="num" id="6853491">0</span><span class="op" id="6853492">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853495">testError</span><span class="op" id="6853504">(</span><span class="ident" id="6853505">t</span><span class="op" id="6853506">,</span>&nbsp;<span class="string" id="6853508">&#34;\x80&#34;</span><span class="op" id="6853514">,</span>&nbsp;<span class="string" id="6853516">&#34;1:1&#34;</span><span class="op" id="6853521">,</span>&nbsp;<span class="string" id="6853523">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6853547">,</span>&nbsp;<span class="ident" id="6853549">utf8</span><span class="op" id="6853553">.</span><span class="ident" id="6853554">RuneError</span><span class="op" id="6853563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853566">testError</span><span class="op" id="6853575">(</span><span class="ident" id="6853576">t</span><span class="op" id="6853577">,</span>&nbsp;<span class="string" id="6853579">&#34;\xff&#34;</span><span class="op" id="6853585">,</span>&nbsp;<span class="string" id="6853587">&#34;1:1&#34;</span><span class="op" id="6853592">,</span>&nbsp;<span class="string" id="6853594">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6853618">,</span>&nbsp;<span class="ident" id="6853620">utf8</span><span class="op" id="6853624">.</span><span class="ident" id="6853625">RuneError</span><span class="op" id="6853634">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853638">testError</span><span class="op" id="6853647">(</span><span class="ident" id="6853648">t</span><span class="op" id="6853649">,</span>&nbsp;<span class="string" id="6853651">&#34;a\x00&#34;</span><span class="op" id="6853658">,</span>&nbsp;<span class="string" id="6853660">&#34;1:2&#34;</span><span class="op" id="6853665">,</span>&nbsp;<span class="string" id="6853667">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6853690">,</span>&nbsp;<span class="ident" id="6853692">Ident</span><span class="op" id="6853697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853700">testError</span><span class="op" id="6853709">(</span><span class="ident" id="6853710">t</span><span class="op" id="6853711">,</span>&nbsp;<span class="string" id="6853713">&#34;ab\x80&#34;</span><span class="op" id="6853721">,</span>&nbsp;<span class="string" id="6853723">&#34;1:3&#34;</span><span class="op" id="6853728">,</span>&nbsp;<span class="string" id="6853730">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6853754">,</span>&nbsp;<span class="ident" id="6853756">Ident</span><span class="op" id="6853761">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853764">testError</span><span class="op" id="6853773">(</span><span class="ident" id="6853774">t</span><span class="op" id="6853775">,</span>&nbsp;<span class="string" id="6853777">&#34;abc\xff&#34;</span><span class="op" id="6853786">,</span>&nbsp;<span class="string" id="6853788">&#34;1:4&#34;</span><span class="op" id="6853793">,</span>&nbsp;<span class="string" id="6853795">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6853819">,</span>&nbsp;<span class="ident" id="6853821">Ident</span><span class="op" id="6853826">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853830">testError</span><span class="op" id="6853839">(</span><span class="ident" id="6853840">t</span><span class="op" id="6853841">,</span>&nbsp;<span class="string" id="6853843">`&#34;a`</span><span class="op" id="6853847">+</span><span class="string" id="6853848">&#34;\x00&#34;</span><span class="op" id="6853854">,</span>&nbsp;<span class="string" id="6853856">&#34;1:3&#34;</span><span class="op" id="6853861">,</span>&nbsp;<span class="string" id="6853863">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6853886">,</span>&nbsp;<span class="ident" id="6853888">String</span><span class="op" id="6853894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853897">testError</span><span class="op" id="6853906">(</span><span class="ident" id="6853907">t</span><span class="op" id="6853908">,</span>&nbsp;<span class="string" id="6853910">`&#34;ab`</span><span class="op" id="6853915">+</span><span class="string" id="6853916">&#34;\x80&#34;</span><span class="op" id="6853922">,</span>&nbsp;<span class="string" id="6853924">&#34;1:4&#34;</span><span class="op" id="6853929">,</span>&nbsp;<span class="string" id="6853931">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6853955">,</span>&nbsp;<span class="ident" id="6853957">String</span><span class="op" id="6853963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6853966">testError</span><span class="op" id="6853975">(</span><span class="ident" id="6853976">t</span><span class="op" id="6853977">,</span>&nbsp;<span class="string" id="6853979">`&#34;abc`</span><span class="op" id="6853985">+</span><span class="string" id="6853986">&#34;\xff&#34;</span><span class="op" id="6853992">,</span>&nbsp;<span class="string" id="6853994">&#34;1:5&#34;</span><span class="op" id="6853999">,</span>&nbsp;<span class="string" id="6854001">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6854025">,</span>&nbsp;<span class="ident" id="6854027">String</span><span class="op" id="6854033">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854037">testError</span><span class="op" id="6854046">(</span><span class="ident" id="6854047">t</span><span class="op" id="6854048">,</span>&nbsp;<span class="string" id="6854050">&#34;`a&#34;</span><span class="op" id="6854054">+</span><span class="string" id="6854055">&#34;\x00&#34;</span><span class="op" id="6854061">,</span>&nbsp;<span class="string" id="6854063">&#34;1:3&#34;</span><span class="op" id="6854068">,</span>&nbsp;<span class="string" id="6854070">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="6854093">,</span>&nbsp;<span class="ident" id="6854095">String</span><span class="op" id="6854101">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854104">testError</span><span class="op" id="6854113">(</span><span class="ident" id="6854114">t</span><span class="op" id="6854115">,</span>&nbsp;<span class="string" id="6854117">&#34;`ab&#34;</span><span class="op" id="6854122">+</span><span class="string" id="6854123">&#34;\x80&#34;</span><span class="op" id="6854129">,</span>&nbsp;<span class="string" id="6854131">&#34;1:4&#34;</span><span class="op" id="6854136">,</span>&nbsp;<span class="string" id="6854138">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6854162">,</span>&nbsp;<span class="ident" id="6854164">String</span><span class="op" id="6854170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854173">testError</span><span class="op" id="6854182">(</span><span class="ident" id="6854183">t</span><span class="op" id="6854184">,</span>&nbsp;<span class="string" id="6854186">&#34;`abc&#34;</span><span class="op" id="6854192">+</span><span class="string" id="6854193">&#34;\xff&#34;</span><span class="op" id="6854199">,</span>&nbsp;<span class="string" id="6854201">&#34;1:5&#34;</span><span class="op" id="6854206">,</span>&nbsp;<span class="string" id="6854208">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="6854232">,</span>&nbsp;<span class="ident" id="6854234">String</span><span class="op" id="6854240">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854244">testError</span><span class="op" id="6854253">(</span><span class="ident" id="6854254">t</span><span class="op" id="6854255">,</span>&nbsp;<span class="string" id="6854257">`&#39;\&#34;&#39;`</span><span class="op" id="6854263">,</span>&nbsp;<span class="string" id="6854265">&#34;1:3&#34;</span><span class="op" id="6854270">,</span>&nbsp;<span class="string" id="6854272">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6854293">,</span>&nbsp;<span class="ident" id="6854295">Char</span><span class="op" id="6854299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854302">testError</span><span class="op" id="6854311">(</span><span class="ident" id="6854312">t</span><span class="op" id="6854313">,</span>&nbsp;<span class="string" id="6854315">`&#34;\&#39;&#34;`</span><span class="op" id="6854321">,</span>&nbsp;<span class="string" id="6854323">&#34;1:3&#34;</span><span class="op" id="6854328">,</span>&nbsp;<span class="string" id="6854330">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="6854351">,</span>&nbsp;<span class="ident" id="6854353">String</span><span class="op" id="6854359">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854363">testError</span><span class="op" id="6854372">(</span><span class="ident" id="6854373">t</span><span class="op" id="6854374">,</span>&nbsp;<span class="string" id="6854376">`01238`</span><span class="op" id="6854383">,</span>&nbsp;<span class="string" id="6854385">&#34;1:6&#34;</span><span class="op" id="6854390">,</span>&nbsp;<span class="string" id="6854392">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6854414">,</span>&nbsp;<span class="ident" id="6854416">Int</span><span class="op" id="6854419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854422">testError</span><span class="op" id="6854431">(</span><span class="ident" id="6854432">t</span><span class="op" id="6854433">,</span>&nbsp;<span class="string" id="6854435">`01238123`</span><span class="op" id="6854445">,</span>&nbsp;<span class="string" id="6854447">&#34;1:9&#34;</span><span class="op" id="6854452">,</span>&nbsp;<span class="string" id="6854454">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="6854476">,</span>&nbsp;<span class="ident" id="6854478">Int</span><span class="op" id="6854481">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854484">testError</span><span class="op" id="6854493">(</span><span class="ident" id="6854494">t</span><span class="op" id="6854495">,</span>&nbsp;<span class="string" id="6854497">`0x`</span><span class="op" id="6854501">,</span>&nbsp;<span class="string" id="6854503">&#34;1:3&#34;</span><span class="op" id="6854508">,</span>&nbsp;<span class="string" id="6854510">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6854538">,</span>&nbsp;<span class="ident" id="6854540">Int</span><span class="op" id="6854543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854546">testError</span><span class="op" id="6854555">(</span><span class="ident" id="6854556">t</span><span class="op" id="6854557">,</span>&nbsp;<span class="string" id="6854559">`0xg`</span><span class="op" id="6854564">,</span>&nbsp;<span class="string" id="6854566">&#34;1:3&#34;</span><span class="op" id="6854571">,</span>&nbsp;<span class="string" id="6854573">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="6854601">,</span>&nbsp;<span class="ident" id="6854603">Int</span><span class="op" id="6854606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854609">testError</span><span class="op" id="6854618">(</span><span class="ident" id="6854619">t</span><span class="op" id="6854620">,</span>&nbsp;<span class="string" id="6854622">`&#39;aa&#39;`</span><span class="op" id="6854628">,</span>&nbsp;<span class="string" id="6854630">&#34;1:4&#34;</span><span class="op" id="6854635">,</span>&nbsp;<span class="string" id="6854637">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="6854659">,</span>&nbsp;<span class="ident" id="6854661">Char</span><span class="op" id="6854665">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854669">testError</span><span class="op" id="6854678">(</span><span class="ident" id="6854679">t</span><span class="op" id="6854680">,</span>&nbsp;<span class="string" id="6854682">`&#39;`</span><span class="op" id="6854685">,</span>&nbsp;<span class="string" id="6854687">&#34;1:2&#34;</span><span class="op" id="6854692">,</span>&nbsp;<span class="string" id="6854694">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6854718">,</span>&nbsp;<span class="ident" id="6854720">Char</span><span class="op" id="6854724">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854727">testError</span><span class="op" id="6854736">(</span><span class="ident" id="6854737">t</span><span class="op" id="6854738">,</span>&nbsp;<span class="string" id="6854740">`&#39;`</span><span class="op" id="6854743">+</span><span class="string" id="6854744">&#34;\n&#34;</span><span class="op" id="6854748">,</span>&nbsp;<span class="string" id="6854750">&#34;1:2&#34;</span><span class="op" id="6854755">,</span>&nbsp;<span class="string" id="6854757">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6854781">,</span>&nbsp;<span class="ident" id="6854783">Char</span><span class="op" id="6854787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854790">testError</span><span class="op" id="6854799">(</span><span class="ident" id="6854800">t</span><span class="op" id="6854801">,</span>&nbsp;<span class="string" id="6854803">`&#34;abc`</span><span class="op" id="6854809">,</span>&nbsp;<span class="string" id="6854811">&#34;1:5&#34;</span><span class="op" id="6854816">,</span>&nbsp;<span class="string" id="6854818">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6854842">,</span>&nbsp;<span class="ident" id="6854844">String</span><span class="op" id="6854850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854853">testError</span><span class="op" id="6854862">(</span><span class="ident" id="6854863">t</span><span class="op" id="6854864">,</span>&nbsp;<span class="string" id="6854866">`&#34;abc`</span><span class="op" id="6854872">+</span><span class="string" id="6854873">&#34;\n&#34;</span><span class="op" id="6854877">,</span>&nbsp;<span class="string" id="6854879">&#34;1:5&#34;</span><span class="op" id="6854884">,</span>&nbsp;<span class="string" id="6854886">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6854910">,</span>&nbsp;<span class="ident" id="6854912">String</span><span class="op" id="6854918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854921">testError</span><span class="op" id="6854930">(</span><span class="ident" id="6854931">t</span><span class="op" id="6854932">,</span>&nbsp;<span class="string" id="6854934">&#34;`abc\n&#34;</span><span class="op" id="6854942">,</span>&nbsp;<span class="string" id="6854944">&#34;2:1&#34;</span><span class="op" id="6854949">,</span>&nbsp;<span class="string" id="6854951">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6854975">,</span>&nbsp;<span class="ident" id="6854977">String</span><span class="op" id="6854983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6854986">testError</span><span class="op" id="6854995">(</span><span class="ident" id="6854996">t</span><span class="op" id="6854997">,</span>&nbsp;<span class="string" id="6854999">`/*/`</span><span class="op" id="6855004">,</span>&nbsp;<span class="string" id="6855006">&#34;1:4&#34;</span><span class="op" id="6855011">,</span>&nbsp;<span class="string" id="6855013">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="6855037">,</span>&nbsp;<span class="ident" id="6855039">EOF</span><span class="op" id="6855042">)</span><br>
<span class="lineno">485</span><span class="op" id="6855044">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6855047">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="6855105">type</span>&nbsp;<span class="ident" id="6855110">errReader</span>&nbsp;<span class="keyword" id="6855120">struct</span><span class="op" id="6855126">{</span><span class="op" id="6855127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="6855130">func</span>&nbsp;<span class="op" id="6855135">(</span><span class="ident" id="6855136">errReader</span><span class="op" id="6855145">)</span>&nbsp;<span class="ident" id="6855147">Read</span><span class="op" id="6855151">(</span><span class="ident" id="6855152">b</span>&nbsp;<span class="op" id="6855154">[</span><span class="op" id="6855155">]</span><span class="builtintype" id="6855156">byte</span><span class="op" id="6855160">)</span>&nbsp;<span class="op" id="6855162">(</span><span class="builtintype" id="6855163">int</span><span class="op" id="6855166">,</span>&nbsp;<span class="builtintype" id="6855168">error</span><span class="op" id="6855173">)</span>&nbsp;<span class="op" id="6855175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855178">return</span>&nbsp;<span class="num" id="6855185">0</span><span class="op" id="6855186">,</span>&nbsp;<span class="ident" id="6855188">io</span><span class="op" id="6855190">.</span><span class="ident" id="6855191">ErrNoProgress</span>&nbsp;<span class="comment" id="6855205">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="6855238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6855241">func</span>&nbsp;<span class="ident" id="6855246">TestIOError</span><span class="op" id="6855257">(</span><span class="ident" id="6855258">t</span>&nbsp;<span class="op" id="6855260">*</span><span class="ident" id="6855261">testing</span><span class="op" id="6855268">.</span><span class="ident" id="6855269">T</span><span class="op" id="6855270">)</span>&nbsp;<span class="op" id="6855272">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855275">s</span>&nbsp;<span class="op" id="6855277">:=</span>&nbsp;<span class="builtinfunc" id="6855280">new</span><span class="op" id="6855283">(</span><span class="ident" id="6855284">Scanner</span><span class="op" id="6855291">)</span><span class="op" id="6855292">.</span><span class="ident" id="6855293">Init</span><span class="op" id="6855297">(</span><span class="ident" id="6855298">errReader</span><span class="op" id="6855307">{</span><span class="op" id="6855308">}</span><span class="op" id="6855309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855312">errorCalled</span>&nbsp;<span class="op" id="6855324">:=</span>&nbsp;<span class="builtintype" id="6855327">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855334">s</span><span class="op" id="6855335">.</span><span class="ident" id="6855336">Error</span>&nbsp;<span class="op" id="6855342">=</span>&nbsp;<span class="keyword" id="6855344">func</span><span class="op" id="6855348">(</span><span class="ident" id="6855349">s</span>&nbsp;<span class="op" id="6855351">*</span><span class="ident" id="6855352">Scanner</span><span class="op" id="6855359">,</span>&nbsp;<span class="ident" id="6855361">msg</span>&nbsp;<span class="builtintype" id="6855365">string</span><span class="op" id="6855371">)</span>&nbsp;<span class="op" id="6855373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855377">if</span>&nbsp;<span class="op" id="6855380">!</span><span class="ident" id="6855381">errorCalled</span>&nbsp;<span class="op" id="6855393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855398">if</span>&nbsp;<span class="ident" id="6855401">want</span>&nbsp;<span class="op" id="6855406">:=</span>&nbsp;<span class="ident" id="6855409">io</span><span class="op" id="6855411">.</span><span class="ident" id="6855412">ErrNoProgress</span><span class="op" id="6855425">.</span><span class="ident" id="6855426">Error</span><span class="op" id="6855431">(</span><span class="op" id="6855432">)</span><span class="op" id="6855433">;</span>&nbsp;<span class="ident" id="6855435">msg</span>&nbsp;<span class="op" id="6855439">!=</span>&nbsp;<span class="ident" id="6855442">want</span>&nbsp;<span class="op" id="6855447">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855453">t</span><span class="op" id="6855454">.</span><span class="ident" id="6855455">Errorf</span><span class="op" id="6855461">(</span><span class="string" id="6855462">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6855481">,</span>&nbsp;<span class="ident" id="6855483">msg</span><span class="op" id="6855486">,</span>&nbsp;<span class="ident" id="6855488">want</span><span class="op" id="6855492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855502">errorCalled</span>&nbsp;<span class="op" id="6855514">=</span>&nbsp;<span class="builtintype" id="6855516">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855523">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855526">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855529">tok</span>&nbsp;<span class="op" id="6855533">:=</span>&nbsp;<span class="ident" id="6855536">s</span><span class="op" id="6855537">.</span><span class="ident" id="6855538">Scan</span><span class="op" id="6855542">(</span><span class="op" id="6855543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855546">if</span>&nbsp;<span class="ident" id="6855549">tok</span>&nbsp;<span class="op" id="6855553">!=</span>&nbsp;<span class="ident" id="6855556">EOF</span>&nbsp;<span class="op" id="6855560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855564">t</span><span class="op" id="6855565">.</span><span class="ident" id="6855566">Errorf</span><span class="op" id="6855572">(</span><span class="string" id="6855573">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="6855593">,</span>&nbsp;<span class="ident" id="6855595">TokenString</span><span class="op" id="6855606">(</span><span class="ident" id="6855607">tok</span><span class="op" id="6855610">)</span><span class="op" id="6855611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855617">if</span>&nbsp;<span class="op" id="6855620">!</span><span class="ident" id="6855621">errorCalled</span>&nbsp;<span class="op" id="6855633">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855637">t</span><span class="op" id="6855638">.</span><span class="ident" id="6855639">Errorf</span><span class="op" id="6855645">(</span><span class="string" id="6855646">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="6855672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855675">}</span><br>
<span class="lineno"></span><span class="op" id="6855677">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6855680">func</span>&nbsp;<span class="ident" id="6855685">checkPos</span><span class="op" id="6855693">(</span><span class="ident" id="6855694">t</span>&nbsp;<span class="op" id="6855696">*</span><span class="ident" id="6855697">testing</span><span class="op" id="6855704">.</span><span class="ident" id="6855705">T</span><span class="op" id="6855706">,</span>&nbsp;<span class="ident" id="6855708">got</span><span class="op" id="6855711">,</span>&nbsp;<span class="ident" id="6855713">want</span>&nbsp;<span class="ident" id="6855718">Position</span><span class="op" id="6855726">)</span>&nbsp;<span class="op" id="6855728">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6855731">if</span>&nbsp;<span class="ident" id="6855734">got</span><span class="op" id="6855737">.</span><span class="ident" id="6855738">Offset</span>&nbsp;<span class="op" id="6855745">!=</span>&nbsp;<span class="ident" id="6855748">want</span><span class="op" id="6855752">.</span><span class="ident" id="6855753">Offset</span>&nbsp;<span class="op" id="6855760">||</span>&nbsp;<span class="ident" id="6855763">got</span><span class="op" id="6855766">.</span><span class="ident" id="6855767">Line</span>&nbsp;<span class="op" id="6855772">!=</span>&nbsp;<span class="ident" id="6855775">want</span><span class="op" id="6855779">.</span><span class="ident" id="6855780">Line</span>&nbsp;<span class="op" id="6855785">||</span>&nbsp;<span class="ident" id="6855788">got</span><span class="op" id="6855791">.</span><span class="ident" id="6855792">Column</span>&nbsp;<span class="op" id="6855799">!=</span>&nbsp;<span class="ident" id="6855802">want</span><span class="op" id="6855806">.</span><span class="ident" id="6855807">Column</span>&nbsp;<span class="op" id="6855814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855818">t</span><span class="op" id="6855819">.</span><span class="ident" id="6855820">Errorf</span><span class="op" id="6855826">(</span><span class="string" id="6855827">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="6855883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6855888">got</span><span class="op" id="6855891">.</span><span class="ident" id="6855892">Offset</span><span class="op" id="6855898">,</span>&nbsp;<span class="ident" id="6855900">got</span><span class="op" id="6855903">.</span><span class="ident" id="6855904">Line</span><span class="op" id="6855908">,</span>&nbsp;<span class="ident" id="6855910">got</span><span class="op" id="6855913">.</span><span class="ident" id="6855914">Column</span><span class="op" id="6855920">,</span>&nbsp;<span class="ident" id="6855922">want</span><span class="op" id="6855926">.</span><span class="ident" id="6855927">Offset</span><span class="op" id="6855933">,</span>&nbsp;<span class="ident" id="6855935">want</span><span class="op" id="6855939">.</span><span class="ident" id="6855940">Line</span><span class="op" id="6855944">,</span>&nbsp;<span class="ident" id="6855946">want</span><span class="op" id="6855950">.</span><span class="ident" id="6855951">Column</span><span class="op" id="6855957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6855960">}</span><br>
<span class="lineno"></span><span class="op" id="6855962">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="6855965">func</span>&nbsp;<span class="ident" id="6855970">checkNextPos</span><span class="op" id="6855982">(</span><span class="ident" id="6855983">t</span>&nbsp;<span class="op" id="6855985">*</span><span class="ident" id="6855986">testing</span><span class="op" id="6855993">.</span><span class="ident" id="6855994">T</span><span class="op" id="6855995">,</span>&nbsp;<span class="ident" id="6855997">s</span>&nbsp;<span class="op" id="6855999">*</span><span class="ident" id="6856000">Scanner</span><span class="op" id="6856007">,</span>&nbsp;<span class="ident" id="6856009">offset</span><span class="op" id="6856015">,</span>&nbsp;<span class="ident" id="6856017">line</span><span class="op" id="6856021">,</span>&nbsp;<span class="ident" id="6856023">column</span>&nbsp;<span class="builtintype" id="6856030">int</span><span class="op" id="6856033">,</span>&nbsp;<span class="ident" id="6856035">char</span>&nbsp;<span class="builtintype" id="6856040">rune</span><span class="op" id="6856044">)</span>&nbsp;<span class="op" id="6856046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6856049">if</span>&nbsp;<span class="ident" id="6856052">ch</span>&nbsp;<span class="op" id="6856055">:=</span>&nbsp;<span class="ident" id="6856058">s</span><span class="op" id="6856059">.</span><span class="ident" id="6856060">Next</span><span class="op" id="6856064">(</span><span class="op" id="6856065">)</span><span class="op" id="6856066">;</span>&nbsp;<span class="ident" id="6856068">ch</span>&nbsp;<span class="op" id="6856071">!=</span>&nbsp;<span class="ident" id="6856074">char</span>&nbsp;<span class="op" id="6856079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856083">t</span><span class="op" id="6856084">.</span><span class="ident" id="6856085">Errorf</span><span class="op" id="6856091">(</span><span class="string" id="6856092">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6856110">,</span>&nbsp;<span class="ident" id="6856112">TokenString</span><span class="op" id="6856123">(</span><span class="ident" id="6856124">ch</span><span class="op" id="6856126">)</span><span class="op" id="6856127">,</span>&nbsp;<span class="ident" id="6856129">TokenString</span><span class="op" id="6856140">(</span><span class="ident" id="6856141">char</span><span class="op" id="6856145">)</span><span class="op" id="6856146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6856149">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856152">want</span>&nbsp;<span class="op" id="6856157">:=</span>&nbsp;<span class="ident" id="6856160">Position</span><span class="op" id="6856168">{</span><span class="ident" id="6856169">Offset</span><span class="op" id="6856175">:</span>&nbsp;<span class="ident" id="6856177">offset</span><span class="op" id="6856183">,</span>&nbsp;<span class="ident" id="6856185">Line</span><span class="op" id="6856189">:</span>&nbsp;<span class="ident" id="6856191">line</span><span class="op" id="6856195">,</span>&nbsp;<span class="ident" id="6856197">Column</span><span class="op" id="6856203">:</span>&nbsp;<span class="ident" id="6856205">column</span><span class="op" id="6856211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856214">checkPos</span><span class="op" id="6856222">(</span><span class="ident" id="6856223">t</span><span class="op" id="6856224">,</span>&nbsp;<span class="ident" id="6856226">s</span><span class="op" id="6856227">.</span><span class="ident" id="6856228">Pos</span><span class="op" id="6856231">(</span><span class="op" id="6856232">)</span><span class="op" id="6856233">,</span>&nbsp;<span class="ident" id="6856235">want</span><span class="op" id="6856239">)</span><br>
<span class="lineno"></span><span class="op" id="6856241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6856244">func</span>&nbsp;<span class="ident" id="6856249">checkScanPos</span><span class="op" id="6856261">(</span><span class="ident" id="6856262">t</span>&nbsp;<span class="op" id="6856264">*</span><span class="ident" id="6856265">testing</span><span class="op" id="6856272">.</span><span class="ident" id="6856273">T</span><span class="op" id="6856274">,</span>&nbsp;<span class="ident" id="6856276">s</span>&nbsp;<span class="op" id="6856278">*</span><span class="ident" id="6856279">Scanner</span><span class="op" id="6856286">,</span>&nbsp;<span class="ident" id="6856288">offset</span><span class="op" id="6856294">,</span>&nbsp;<span class="ident" id="6856296">line</span><span class="op" id="6856300">,</span>&nbsp;<span class="ident" id="6856302">column</span>&nbsp;<span class="builtintype" id="6856309">int</span><span class="op" id="6856312">,</span>&nbsp;<span class="ident" id="6856314">char</span>&nbsp;<span class="builtintype" id="6856319">rune</span><span class="op" id="6856323">)</span>&nbsp;<span class="op" id="6856325">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856328">want</span>&nbsp;<span class="op" id="6856333">:=</span>&nbsp;<span class="ident" id="6856336">Position</span><span class="op" id="6856344">{</span><span class="ident" id="6856345">Offset</span><span class="op" id="6856351">:</span>&nbsp;<span class="ident" id="6856353">offset</span><span class="op" id="6856359">,</span>&nbsp;<span class="ident" id="6856361">Line</span><span class="op" id="6856365">:</span>&nbsp;<span class="ident" id="6856367">line</span><span class="op" id="6856371">,</span>&nbsp;<span class="ident" id="6856373">Column</span><span class="op" id="6856379">:</span>&nbsp;<span class="ident" id="6856381">column</span><span class="op" id="6856387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856390">checkPos</span><span class="op" id="6856398">(</span><span class="ident" id="6856399">t</span><span class="op" id="6856400">,</span>&nbsp;<span class="ident" id="6856402">s</span><span class="op" id="6856403">.</span><span class="ident" id="6856404">Pos</span><span class="op" id="6856407">(</span><span class="op" id="6856408">)</span><span class="op" id="6856409">,</span>&nbsp;<span class="ident" id="6856411">want</span><span class="op" id="6856415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6856418">if</span>&nbsp;<span class="ident" id="6856421">ch</span>&nbsp;<span class="op" id="6856424">:=</span>&nbsp;<span class="ident" id="6856427">s</span><span class="op" id="6856428">.</span><span class="ident" id="6856429">Scan</span><span class="op" id="6856433">(</span><span class="op" id="6856434">)</span><span class="op" id="6856435">;</span>&nbsp;<span class="ident" id="6856437">ch</span>&nbsp;<span class="op" id="6856440">!=</span>&nbsp;<span class="ident" id="6856443">char</span>&nbsp;<span class="op" id="6856448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856452">t</span><span class="op" id="6856453">.</span><span class="ident" id="6856454">Errorf</span><span class="op" id="6856460">(</span><span class="string" id="6856461">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="6856479">,</span>&nbsp;<span class="ident" id="6856481">TokenString</span><span class="op" id="6856492">(</span><span class="ident" id="6856493">ch</span><span class="op" id="6856495">)</span><span class="op" id="6856496">,</span>&nbsp;<span class="ident" id="6856498">TokenString</span><span class="op" id="6856509">(</span><span class="ident" id="6856510">char</span><span class="op" id="6856514">)</span><span class="op" id="6856515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6856519">if</span>&nbsp;<span class="builtintype" id="6856522">string</span><span class="op" id="6856528">(</span><span class="ident" id="6856529">ch</span><span class="op" id="6856531">)</span>&nbsp;<span class="op" id="6856533">!=</span>&nbsp;<span class="ident" id="6856536">s</span><span class="op" id="6856537">.</span><span class="ident" id="6856538">TokenText</span><span class="op" id="6856547">(</span><span class="op" id="6856548">)</span>&nbsp;<span class="op" id="6856550">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856555">t</span><span class="op" id="6856556">.</span><span class="ident" id="6856557">Errorf</span><span class="op" id="6856563">(</span><span class="string" id="6856564">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6856583">,</span>&nbsp;<span class="ident" id="6856585">s</span><span class="op" id="6856586">.</span><span class="ident" id="6856587">TokenText</span><span class="op" id="6856596">(</span><span class="op" id="6856597">)</span><span class="op" id="6856598">,</span>&nbsp;<span class="builtintype" id="6856600">string</span><span class="op" id="6856606">(</span><span class="ident" id="6856607">ch</span><span class="op" id="6856609">)</span><span class="op" id="6856610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6856614">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6856617">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856620">checkPos</span><span class="op" id="6856628">(</span><span class="ident" id="6856629">t</span><span class="op" id="6856630">,</span>&nbsp;<span class="ident" id="6856632">s</span><span class="op" id="6856633">.</span><span class="ident" id="6856634">Position</span><span class="op" id="6856642">,</span>&nbsp;<span class="ident" id="6856644">want</span><span class="op" id="6856648">)</span><br>
<span class="lineno"></span><span class="op" id="6856650">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="6856653">func</span>&nbsp;<span class="ident" id="6856658">TestPos</span><span class="op" id="6856665">(</span><span class="ident" id="6856666">t</span>&nbsp;<span class="op" id="6856668">*</span><span class="ident" id="6856669">testing</span><span class="op" id="6856676">.</span><span class="ident" id="6856677">T</span><span class="op" id="6856678">)</span>&nbsp;<span class="op" id="6856680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6856683">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856713">s</span>&nbsp;<span class="op" id="6856715">:=</span>&nbsp;<span class="builtinfunc" id="6856718">new</span><span class="op" id="6856721">(</span><span class="ident" id="6856722">Scanner</span><span class="op" id="6856729">)</span><span class="op" id="6856730">.</span><span class="ident" id="6856731">Init</span><span class="op" id="6856735">(</span><span class="ident" id="6856736">strings</span><span class="op" id="6856743">.</span><span class="ident" id="6856744">NewReader</span><span class="op" id="6856753">(</span><span class="string" id="6856754">&#34;&#34;</span><span class="op" id="6856756">)</span><span class="op" id="6856757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856760">checkPos</span><span class="op" id="6856768">(</span><span class="ident" id="6856769">t</span><span class="op" id="6856770">,</span>&nbsp;<span class="ident" id="6856772">s</span><span class="op" id="6856773">.</span><span class="ident" id="6856774">Pos</span><span class="op" id="6856777">(</span><span class="op" id="6856778">)</span><span class="op" id="6856779">,</span>&nbsp;<span class="ident" id="6856781">Position</span><span class="op" id="6856789">{</span><span class="ident" id="6856790">Offset</span><span class="op" id="6856796">:</span>&nbsp;<span class="num" id="6856798">0</span><span class="op" id="6856799">,</span>&nbsp;<span class="ident" id="6856801">Line</span><span class="op" id="6856805">:</span>&nbsp;<span class="num" id="6856807">1</span><span class="op" id="6856808">,</span>&nbsp;<span class="ident" id="6856810">Column</span><span class="op" id="6856816">:</span>&nbsp;<span class="num" id="6856818">1</span><span class="op" id="6856819">}</span><span class="op" id="6856820">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856823">s</span><span class="op" id="6856824">.</span><span class="ident" id="6856825">Peek</span><span class="op" id="6856829">(</span><span class="op" id="6856830">)</span>&nbsp;<span class="comment" id="6856832">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856869">checkPos</span><span class="op" id="6856877">(</span><span class="ident" id="6856878">t</span><span class="op" id="6856879">,</span>&nbsp;<span class="ident" id="6856881">s</span><span class="op" id="6856882">.</span><span class="ident" id="6856883">Pos</span><span class="op" id="6856886">(</span><span class="op" id="6856887">)</span><span class="op" id="6856888">,</span>&nbsp;<span class="ident" id="6856890">Position</span><span class="op" id="6856898">{</span><span class="ident" id="6856899">Offset</span><span class="op" id="6856905">:</span>&nbsp;<span class="num" id="6856907">0</span><span class="op" id="6856908">,</span>&nbsp;<span class="ident" id="6856910">Line</span><span class="op" id="6856914">:</span>&nbsp;<span class="num" id="6856916">1</span><span class="op" id="6856917">,</span>&nbsp;<span class="ident" id="6856919">Column</span><span class="op" id="6856925">:</span>&nbsp;<span class="num" id="6856927">1</span><span class="op" id="6856928">}</span><span class="op" id="6856929">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6856933">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6856977">s</span>&nbsp;<span class="op" id="6856979">=</span>&nbsp;<span class="builtinfunc" id="6856981">new</span><span class="op" id="6856984">(</span><span class="ident" id="6856985">Scanner</span><span class="op" id="6856992">)</span><span class="op" id="6856993">.</span><span class="ident" id="6856994">Init</span><span class="op" id="6856998">(</span><span class="ident" id="6856999">strings</span><span class="op" id="6857006">.</span><span class="ident" id="6857007">NewReader</span><span class="op" id="6857016">(</span><span class="string" id="6857017">&#34;\n&#34;</span><span class="op" id="6857021">)</span><span class="op" id="6857022">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857025">checkPos</span><span class="op" id="6857033">(</span><span class="ident" id="6857034">t</span><span class="op" id="6857035">,</span>&nbsp;<span class="ident" id="6857037">s</span><span class="op" id="6857038">.</span><span class="ident" id="6857039">Pos</span><span class="op" id="6857042">(</span><span class="op" id="6857043">)</span><span class="op" id="6857044">,</span>&nbsp;<span class="ident" id="6857046">Position</span><span class="op" id="6857054">{</span><span class="ident" id="6857055">Offset</span><span class="op" id="6857061">:</span>&nbsp;<span class="num" id="6857063">0</span><span class="op" id="6857064">,</span>&nbsp;<span class="ident" id="6857066">Line</span><span class="op" id="6857070">:</span>&nbsp;<span class="num" id="6857072">1</span><span class="op" id="6857073">,</span>&nbsp;<span class="ident" id="6857075">Column</span><span class="op" id="6857081">:</span>&nbsp;<span class="num" id="6857083">1</span><span class="op" id="6857084">}</span><span class="op" id="6857085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857088">checkNextPos</span><span class="op" id="6857100">(</span><span class="ident" id="6857101">t</span><span class="op" id="6857102">,</span>&nbsp;<span class="ident" id="6857104">s</span><span class="op" id="6857105">,</span>&nbsp;<span class="num" id="6857107">1</span><span class="op" id="6857108">,</span>&nbsp;<span class="num" id="6857110">2</span><span class="op" id="6857111">,</span>&nbsp;<span class="num" id="6857113">1</span><span class="op" id="6857114">,</span>&nbsp;<span class="string" id="6857116">&#39;\n&#39;</span><span class="op" id="6857120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6857123">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6857161">for</span>&nbsp;<span class="ident" id="6857165">i</span>&nbsp;<span class="op" id="6857167">:=</span>&nbsp;<span class="num" id="6857170">10</span><span class="op" id="6857172">;</span>&nbsp;<span class="ident" id="6857174">i</span>&nbsp;<span class="op" id="6857176">&gt;</span>&nbsp;<span class="num" id="6857178">0</span><span class="op" id="6857179">;</span>&nbsp;<span class="ident" id="6857181">i</span><span class="op" id="6857182">--</span>&nbsp;<span class="op" id="6857185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857189">checkScanPos</span><span class="op" id="6857201">(</span><span class="ident" id="6857202">t</span><span class="op" id="6857203">,</span>&nbsp;<span class="ident" id="6857205">s</span><span class="op" id="6857206">,</span>&nbsp;<span class="num" id="6857208">1</span><span class="op" id="6857209">,</span>&nbsp;<span class="num" id="6857211">2</span><span class="op" id="6857212">,</span>&nbsp;<span class="num" id="6857214">1</span><span class="op" id="6857215">,</span>&nbsp;<span class="ident" id="6857217">EOF</span><span class="op" id="6857220">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6857223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6857226">if</span>&nbsp;<span class="ident" id="6857229">s</span><span class="op" id="6857230">.</span><span class="ident" id="6857231">ErrorCount</span>&nbsp;<span class="op" id="6857242">!=</span>&nbsp;<span class="num" id="6857245">0</span>&nbsp;<span class="op" id="6857247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857251">t</span><span class="op" id="6857252">.</span><span class="ident" id="6857253">Errorf</span><span class="op" id="6857259">(</span><span class="string" id="6857260">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6857271">,</span>&nbsp;<span class="ident" id="6857273">s</span><span class="op" id="6857274">.</span><span class="ident" id="6857275">ErrorCount</span><span class="op" id="6857285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6857288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6857292">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857345">s</span>&nbsp;<span class="op" id="6857347">=</span>&nbsp;<span class="builtinfunc" id="6857349">new</span><span class="op" id="6857352">(</span><span class="ident" id="6857353">Scanner</span><span class="op" id="6857360">)</span><span class="op" id="6857361">.</span><span class="ident" id="6857362">Init</span><span class="op" id="6857366">(</span><span class="ident" id="6857367">strings</span><span class="op" id="6857374">.</span><span class="ident" id="6857375">NewReader</span><span class="op" id="6857384">(</span><span class="string" id="6857385">&#34;本&#34;</span><span class="op" id="6857390">)</span><span class="op" id="6857391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857394">checkPos</span><span class="op" id="6857402">(</span><span class="ident" id="6857403">t</span><span class="op" id="6857404">,</span>&nbsp;<span class="ident" id="6857406">s</span><span class="op" id="6857407">.</span><span class="ident" id="6857408">Pos</span><span class="op" id="6857411">(</span><span class="op" id="6857412">)</span><span class="op" id="6857413">,</span>&nbsp;<span class="ident" id="6857415">Position</span><span class="op" id="6857423">{</span><span class="ident" id="6857424">Offset</span><span class="op" id="6857430">:</span>&nbsp;<span class="num" id="6857432">0</span><span class="op" id="6857433">,</span>&nbsp;<span class="ident" id="6857435">Line</span><span class="op" id="6857439">:</span>&nbsp;<span class="num" id="6857441">1</span><span class="op" id="6857442">,</span>&nbsp;<span class="ident" id="6857444">Column</span><span class="op" id="6857450">:</span>&nbsp;<span class="num" id="6857452">1</span><span class="op" id="6857453">}</span><span class="op" id="6857454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857457">checkNextPos</span><span class="op" id="6857469">(</span><span class="ident" id="6857470">t</span><span class="op" id="6857471">,</span>&nbsp;<span class="ident" id="6857473">s</span><span class="op" id="6857474">,</span>&nbsp;<span class="num" id="6857476">3</span><span class="op" id="6857477">,</span>&nbsp;<span class="num" id="6857479">1</span><span class="op" id="6857480">,</span>&nbsp;<span class="num" id="6857482">2</span><span class="op" id="6857483">,</span>&nbsp;<span class="string" id="6857485">&#39;本&#39;</span><span class="op" id="6857490">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6857493">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6857531">for</span>&nbsp;<span class="ident" id="6857535">i</span>&nbsp;<span class="op" id="6857537">:=</span>&nbsp;<span class="num" id="6857540">10</span><span class="op" id="6857542">;</span>&nbsp;<span class="ident" id="6857544">i</span>&nbsp;<span class="op" id="6857546">&gt;</span>&nbsp;<span class="num" id="6857548">0</span><span class="op" id="6857549">;</span>&nbsp;<span class="ident" id="6857551">i</span><span class="op" id="6857552">--</span>&nbsp;<span class="op" id="6857555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857559">checkScanPos</span><span class="op" id="6857571">(</span><span class="ident" id="6857572">t</span><span class="op" id="6857573">,</span>&nbsp;<span class="ident" id="6857575">s</span><span class="op" id="6857576">,</span>&nbsp;<span class="num" id="6857578">3</span><span class="op" id="6857579">,</span>&nbsp;<span class="num" id="6857581">1</span><span class="op" id="6857582">,</span>&nbsp;<span class="num" id="6857584">2</span><span class="op" id="6857585">,</span>&nbsp;<span class="ident" id="6857587">EOF</span><span class="op" id="6857590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6857593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6857596">if</span>&nbsp;<span class="ident" id="6857599">s</span><span class="op" id="6857600">.</span><span class="ident" id="6857601">ErrorCount</span>&nbsp;<span class="op" id="6857612">!=</span>&nbsp;<span class="num" id="6857615">0</span>&nbsp;<span class="op" id="6857617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857621">t</span><span class="op" id="6857622">.</span><span class="ident" id="6857623">Errorf</span><span class="op" id="6857629">(</span><span class="string" id="6857630">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6857641">,</span>&nbsp;<span class="ident" id="6857643">s</span><span class="op" id="6857644">.</span><span class="ident" id="6857645">ErrorCount</span><span class="op" id="6857655">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6857658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6857662">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857695">s</span>&nbsp;<span class="op" id="6857697">=</span>&nbsp;<span class="builtinfunc" id="6857699">new</span><span class="op" id="6857702">(</span><span class="ident" id="6857703">Scanner</span><span class="op" id="6857710">)</span><span class="op" id="6857711">.</span><span class="ident" id="6857712">Init</span><span class="op" id="6857716">(</span><span class="ident" id="6857717">strings</span><span class="op" id="6857724">.</span><span class="ident" id="6857725">NewReader</span><span class="op" id="6857734">(</span><span class="string" id="6857735">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="6857762">)</span><span class="op" id="6857763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857766">checkNextPos</span><span class="op" id="6857778">(</span><span class="ident" id="6857779">t</span><span class="op" id="6857780">,</span>&nbsp;<span class="ident" id="6857782">s</span><span class="op" id="6857783">,</span>&nbsp;<span class="num" id="6857785">1</span><span class="op" id="6857786">,</span>&nbsp;<span class="num" id="6857788">1</span><span class="op" id="6857789">,</span>&nbsp;<span class="num" id="6857791">2</span><span class="op" id="6857792">,</span>&nbsp;<span class="string" id="6857794">&#39;&nbsp;&#39;</span><span class="op" id="6857797">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857800">s</span><span class="op" id="6857801">.</span><span class="ident" id="6857802">Peek</span><span class="op" id="6857806">(</span><span class="op" id="6857807">)</span>&nbsp;<span class="comment" id="6857809">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857846">checkNextPos</span><span class="op" id="6857858">(</span><span class="ident" id="6857859">t</span><span class="op" id="6857860">,</span>&nbsp;<span class="ident" id="6857862">s</span><span class="op" id="6857863">,</span>&nbsp;<span class="num" id="6857865">2</span><span class="op" id="6857866">,</span>&nbsp;<span class="num" id="6857868">1</span><span class="op" id="6857869">,</span>&nbsp;<span class="num" id="6857871">3</span><span class="op" id="6857872">,</span>&nbsp;<span class="string" id="6857874">&#39;&nbsp;&#39;</span><span class="op" id="6857877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857880">checkNextPos</span><span class="op" id="6857892">(</span><span class="ident" id="6857893">t</span><span class="op" id="6857894">,</span>&nbsp;<span class="ident" id="6857896">s</span><span class="op" id="6857897">,</span>&nbsp;<span class="num" id="6857899">3</span><span class="op" id="6857900">,</span>&nbsp;<span class="num" id="6857902">1</span><span class="op" id="6857903">,</span>&nbsp;<span class="num" id="6857905">4</span><span class="op" id="6857906">,</span>&nbsp;<span class="string" id="6857908">&#39;f&#39;</span><span class="op" id="6857911">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857914">checkNextPos</span><span class="op" id="6857926">(</span><span class="ident" id="6857927">t</span><span class="op" id="6857928">,</span>&nbsp;<span class="ident" id="6857930">s</span><span class="op" id="6857931">,</span>&nbsp;<span class="num" id="6857933">4</span><span class="op" id="6857934">,</span>&nbsp;<span class="num" id="6857936">1</span><span class="op" id="6857937">,</span>&nbsp;<span class="num" id="6857939">5</span><span class="op" id="6857940">,</span>&nbsp;<span class="string" id="6857942">&#39;o&#39;</span><span class="op" id="6857945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857948">checkNextPos</span><span class="op" id="6857960">(</span><span class="ident" id="6857961">t</span><span class="op" id="6857962">,</span>&nbsp;<span class="ident" id="6857964">s</span><span class="op" id="6857965">,</span>&nbsp;<span class="num" id="6857967">5</span><span class="op" id="6857968">,</span>&nbsp;<span class="num" id="6857970">1</span><span class="op" id="6857971">,</span>&nbsp;<span class="num" id="6857973">6</span><span class="op" id="6857974">,</span>&nbsp;<span class="string" id="6857976">&#39;o&#39;</span><span class="op" id="6857979">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6857982">checkNextPos</span><span class="op" id="6857994">(</span><span class="ident" id="6857995">t</span><span class="op" id="6857996">,</span>&nbsp;<span class="ident" id="6857998">s</span><span class="op" id="6857999">,</span>&nbsp;<span class="num" id="6858001">8</span><span class="op" id="6858002">,</span>&nbsp;<span class="num" id="6858004">1</span><span class="op" id="6858005">,</span>&nbsp;<span class="num" id="6858007">7</span><span class="op" id="6858008">,</span>&nbsp;<span class="string" id="6858010">&#39;६&#39;</span><span class="op" id="6858015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858018">checkNextPos</span><span class="op" id="6858030">(</span><span class="ident" id="6858031">t</span><span class="op" id="6858032">,</span>&nbsp;<span class="ident" id="6858034">s</span><span class="op" id="6858035">,</span>&nbsp;<span class="num" id="6858037">11</span><span class="op" id="6858039">,</span>&nbsp;<span class="num" id="6858041">1</span><span class="op" id="6858042">,</span>&nbsp;<span class="num" id="6858044">8</span><span class="op" id="6858045">,</span>&nbsp;<span class="string" id="6858047">&#39;४&#39;</span><span class="op" id="6858052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858055">checkNextPos</span><span class="op" id="6858067">(</span><span class="ident" id="6858068">t</span><span class="op" id="6858069">,</span>&nbsp;<span class="ident" id="6858071">s</span><span class="op" id="6858072">,</span>&nbsp;<span class="num" id="6858074">12</span><span class="op" id="6858076">,</span>&nbsp;<span class="num" id="6858078">1</span><span class="op" id="6858079">,</span>&nbsp;<span class="num" id="6858081">9</span><span class="op" id="6858082">,</span>&nbsp;<span class="string" id="6858084">&#39;&nbsp;&#39;</span><span class="op" id="6858087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858090">checkNextPos</span><span class="op" id="6858102">(</span><span class="ident" id="6858103">t</span><span class="op" id="6858104">,</span>&nbsp;<span class="ident" id="6858106">s</span><span class="op" id="6858107">,</span>&nbsp;<span class="num" id="6858109">13</span><span class="op" id="6858111">,</span>&nbsp;<span class="num" id="6858113">1</span><span class="op" id="6858114">,</span>&nbsp;<span class="num" id="6858116">10</span><span class="op" id="6858118">,</span>&nbsp;<span class="string" id="6858120">&#39;&nbsp;&#39;</span><span class="op" id="6858123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858126">checkNextPos</span><span class="op" id="6858138">(</span><span class="ident" id="6858139">t</span><span class="op" id="6858140">,</span>&nbsp;<span class="ident" id="6858142">s</span><span class="op" id="6858143">,</span>&nbsp;<span class="num" id="6858145">14</span><span class="op" id="6858147">,</span>&nbsp;<span class="num" id="6858149">2</span><span class="op" id="6858150">,</span>&nbsp;<span class="num" id="6858152">1</span><span class="op" id="6858153">,</span>&nbsp;<span class="string" id="6858155">&#39;\n&#39;</span><span class="op" id="6858159">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858162">checkNextPos</span><span class="op" id="6858174">(</span><span class="ident" id="6858175">t</span><span class="op" id="6858176">,</span>&nbsp;<span class="ident" id="6858178">s</span><span class="op" id="6858179">,</span>&nbsp;<span class="num" id="6858181">15</span><span class="op" id="6858183">,</span>&nbsp;<span class="num" id="6858185">3</span><span class="op" id="6858186">,</span>&nbsp;<span class="num" id="6858188">1</span><span class="op" id="6858189">,</span>&nbsp;<span class="string" id="6858191">&#39;\n&#39;</span><span class="op" id="6858195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858198">checkNextPos</span><span class="op" id="6858210">(</span><span class="ident" id="6858211">t</span><span class="op" id="6858212">,</span>&nbsp;<span class="ident" id="6858214">s</span><span class="op" id="6858215">,</span>&nbsp;<span class="num" id="6858217">18</span><span class="op" id="6858219">,</span>&nbsp;<span class="num" id="6858221">3</span><span class="op" id="6858222">,</span>&nbsp;<span class="num" id="6858224">2</span><span class="op" id="6858225">,</span>&nbsp;<span class="string" id="6858227">&#39;本&#39;</span><span class="op" id="6858232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858235">checkNextPos</span><span class="op" id="6858247">(</span><span class="ident" id="6858248">t</span><span class="op" id="6858249">,</span>&nbsp;<span class="ident" id="6858251">s</span><span class="op" id="6858252">,</span>&nbsp;<span class="num" id="6858254">21</span><span class="op" id="6858256">,</span>&nbsp;<span class="num" id="6858258">3</span><span class="op" id="6858259">,</span>&nbsp;<span class="num" id="6858261">3</span><span class="op" id="6858262">,</span>&nbsp;<span class="string" id="6858264">&#39;語&#39;</span><span class="op" id="6858269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858272">checkNextPos</span><span class="op" id="6858284">(</span><span class="ident" id="6858285">t</span><span class="op" id="6858286">,</span>&nbsp;<span class="ident" id="6858288">s</span><span class="op" id="6858289">,</span>&nbsp;<span class="num" id="6858291">22</span><span class="op" id="6858293">,</span>&nbsp;<span class="num" id="6858295">4</span><span class="op" id="6858296">,</span>&nbsp;<span class="num" id="6858298">1</span><span class="op" id="6858299">,</span>&nbsp;<span class="string" id="6858301">&#39;\n&#39;</span><span class="op" id="6858305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6858308">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6858346">for</span>&nbsp;<span class="ident" id="6858350">i</span>&nbsp;<span class="op" id="6858352">:=</span>&nbsp;<span class="num" id="6858355">10</span><span class="op" id="6858357">;</span>&nbsp;<span class="ident" id="6858359">i</span>&nbsp;<span class="op" id="6858361">&gt;</span>&nbsp;<span class="num" id="6858363">0</span><span class="op" id="6858364">;</span>&nbsp;<span class="ident" id="6858366">i</span><span class="op" id="6858367">--</span>&nbsp;<span class="op" id="6858370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858374">checkScanPos</span><span class="op" id="6858386">(</span><span class="ident" id="6858387">t</span><span class="op" id="6858388">,</span>&nbsp;<span class="ident" id="6858390">s</span><span class="op" id="6858391">,</span>&nbsp;<span class="num" id="6858393">22</span><span class="op" id="6858395">,</span>&nbsp;<span class="num" id="6858397">4</span><span class="op" id="6858398">,</span>&nbsp;<span class="num" id="6858400">1</span><span class="op" id="6858401">,</span>&nbsp;<span class="ident" id="6858403">EOF</span><span class="op" id="6858406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6858409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6858412">if</span>&nbsp;<span class="ident" id="6858415">s</span><span class="op" id="6858416">.</span><span class="ident" id="6858417">ErrorCount</span>&nbsp;<span class="op" id="6858428">!=</span>&nbsp;<span class="num" id="6858431">0</span>&nbsp;<span class="op" id="6858433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858437">t</span><span class="op" id="6858438">.</span><span class="ident" id="6858439">Errorf</span><span class="op" id="6858445">(</span><span class="string" id="6858446">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6858457">,</span>&nbsp;<span class="ident" id="6858459">s</span><span class="op" id="6858460">.</span><span class="ident" id="6858461">ErrorCount</span><span class="op" id="6858471">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6858474">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6858478">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858511">s</span>&nbsp;<span class="op" id="6858513">=</span>&nbsp;<span class="builtinfunc" id="6858515">new</span><span class="op" id="6858518">(</span><span class="ident" id="6858519">Scanner</span><span class="op" id="6858526">)</span><span class="op" id="6858527">.</span><span class="ident" id="6858528">Init</span><span class="op" id="6858532">(</span><span class="ident" id="6858533">strings</span><span class="op" id="6858540">.</span><span class="ident" id="6858541">NewReader</span><span class="op" id="6858550">(</span><span class="string" id="6858551">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="6858569">)</span><span class="op" id="6858570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858573">s</span><span class="op" id="6858574">.</span><span class="ident" id="6858575">Mode</span>&nbsp;<span class="op" id="6858580">=</span>&nbsp;<span class="num" id="6858582">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858585">s</span><span class="op" id="6858586">.</span><span class="ident" id="6858587">Whitespace</span>&nbsp;<span class="op" id="6858598">=</span>&nbsp;<span class="num" id="6858600">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858603">checkScanPos</span><span class="op" id="6858615">(</span><span class="ident" id="6858616">t</span><span class="op" id="6858617">,</span>&nbsp;<span class="ident" id="6858619">s</span><span class="op" id="6858620">,</span>&nbsp;<span class="num" id="6858622">0</span><span class="op" id="6858623">,</span>&nbsp;<span class="num" id="6858625">1</span><span class="op" id="6858626">,</span>&nbsp;<span class="num" id="6858628">1</span><span class="op" id="6858629">,</span>&nbsp;<span class="string" id="6858631">&#39;a&#39;</span><span class="op" id="6858634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858637">s</span><span class="op" id="6858638">.</span><span class="ident" id="6858639">Peek</span><span class="op" id="6858643">(</span><span class="op" id="6858644">)</span>&nbsp;<span class="comment" id="6858646">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858683">checkScanPos</span><span class="op" id="6858695">(</span><span class="ident" id="6858696">t</span><span class="op" id="6858697">,</span>&nbsp;<span class="ident" id="6858699">s</span><span class="op" id="6858700">,</span>&nbsp;<span class="num" id="6858702">1</span><span class="op" id="6858703">,</span>&nbsp;<span class="num" id="6858705">1</span><span class="op" id="6858706">,</span>&nbsp;<span class="num" id="6858708">2</span><span class="op" id="6858709">,</span>&nbsp;<span class="string" id="6858711">&#39;b&#39;</span><span class="op" id="6858714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858717">checkScanPos</span><span class="op" id="6858729">(</span><span class="ident" id="6858730">t</span><span class="op" id="6858731">,</span>&nbsp;<span class="ident" id="6858733">s</span><span class="op" id="6858734">,</span>&nbsp;<span class="num" id="6858736">2</span><span class="op" id="6858737">,</span>&nbsp;<span class="num" id="6858739">1</span><span class="op" id="6858740">,</span>&nbsp;<span class="num" id="6858742">3</span><span class="op" id="6858743">,</span>&nbsp;<span class="string" id="6858745">&#39;c&#39;</span><span class="op" id="6858748">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858751">checkScanPos</span><span class="op" id="6858763">(</span><span class="ident" id="6858764">t</span><span class="op" id="6858765">,</span>&nbsp;<span class="ident" id="6858767">s</span><span class="op" id="6858768">,</span>&nbsp;<span class="num" id="6858770">3</span><span class="op" id="6858771">,</span>&nbsp;<span class="num" id="6858773">1</span><span class="op" id="6858774">,</span>&nbsp;<span class="num" id="6858776">4</span><span class="op" id="6858777">,</span>&nbsp;<span class="string" id="6858779">&#39;\n&#39;</span><span class="op" id="6858783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858786">checkScanPos</span><span class="op" id="6858798">(</span><span class="ident" id="6858799">t</span><span class="op" id="6858800">,</span>&nbsp;<span class="ident" id="6858802">s</span><span class="op" id="6858803">,</span>&nbsp;<span class="num" id="6858805">4</span><span class="op" id="6858806">,</span>&nbsp;<span class="num" id="6858808">2</span><span class="op" id="6858809">,</span>&nbsp;<span class="num" id="6858811">1</span><span class="op" id="6858812">,</span>&nbsp;<span class="string" id="6858814">&#39;本&#39;</span><span class="op" id="6858819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858822">checkScanPos</span><span class="op" id="6858834">(</span><span class="ident" id="6858835">t</span><span class="op" id="6858836">,</span>&nbsp;<span class="ident" id="6858838">s</span><span class="op" id="6858839">,</span>&nbsp;<span class="num" id="6858841">7</span><span class="op" id="6858842">,</span>&nbsp;<span class="num" id="6858844">2</span><span class="op" id="6858845">,</span>&nbsp;<span class="num" id="6858847">2</span><span class="op" id="6858848">,</span>&nbsp;<span class="string" id="6858850">&#39;語&#39;</span><span class="op" id="6858855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858858">checkScanPos</span><span class="op" id="6858870">(</span><span class="ident" id="6858871">t</span><span class="op" id="6858872">,</span>&nbsp;<span class="ident" id="6858874">s</span><span class="op" id="6858875">,</span>&nbsp;<span class="num" id="6858877">10</span><span class="op" id="6858879">,</span>&nbsp;<span class="num" id="6858881">2</span><span class="op" id="6858882">,</span>&nbsp;<span class="num" id="6858884">3</span><span class="op" id="6858885">,</span>&nbsp;<span class="string" id="6858887">&#39;\n&#39;</span><span class="op" id="6858891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858894">checkScanPos</span><span class="op" id="6858906">(</span><span class="ident" id="6858907">t</span><span class="op" id="6858908">,</span>&nbsp;<span class="ident" id="6858910">s</span><span class="op" id="6858911">,</span>&nbsp;<span class="num" id="6858913">11</span><span class="op" id="6858915">,</span>&nbsp;<span class="num" id="6858917">3</span><span class="op" id="6858918">,</span>&nbsp;<span class="num" id="6858920">1</span><span class="op" id="6858921">,</span>&nbsp;<span class="string" id="6858923">&#39;\n&#39;</span><span class="op" id="6858927">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6858930">checkScanPos</span><span class="op" id="6858942">(</span><span class="ident" id="6858943">t</span><span class="op" id="6858944">,</span>&nbsp;<span class="ident" id="6858946">s</span><span class="op" id="6858947">,</span>&nbsp;<span class="num" id="6858949">12</span><span class="op" id="6858951">,</span>&nbsp;<span class="num" id="6858953">4</span><span class="op" id="6858954">,</span>&nbsp;<span class="num" id="6858956">1</span><span class="op" id="6858957">,</span>&nbsp;<span class="string" id="6858959">&#39;x&#39;</span><span class="op" id="6858962">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6858965">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6859003">for</span>&nbsp;<span class="ident" id="6859007">i</span>&nbsp;<span class="op" id="6859009">:=</span>&nbsp;<span class="num" id="6859012">10</span><span class="op" id="6859014">;</span>&nbsp;<span class="ident" id="6859016">i</span>&nbsp;<span class="op" id="6859018">&gt;</span>&nbsp;<span class="num" id="6859020">0</span><span class="op" id="6859021">;</span>&nbsp;<span class="ident" id="6859023">i</span><span class="op" id="6859024">--</span>&nbsp;<span class="op" id="6859027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6859031">checkScanPos</span><span class="op" id="6859043">(</span><span class="ident" id="6859044">t</span><span class="op" id="6859045">,</span>&nbsp;<span class="ident" id="6859047">s</span><span class="op" id="6859048">,</span>&nbsp;<span class="num" id="6859050">13</span><span class="op" id="6859052">,</span>&nbsp;<span class="num" id="6859054">4</span><span class="op" id="6859055">,</span>&nbsp;<span class="num" id="6859057">2</span><span class="op" id="6859058">,</span>&nbsp;<span class="ident" id="6859060">EOF</span><span class="op" id="6859063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6859066">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6859069">if</span>&nbsp;<span class="ident" id="6859072">s</span><span class="op" id="6859073">.</span><span class="ident" id="6859074">ErrorCount</span>&nbsp;<span class="op" id="6859085">!=</span>&nbsp;<span class="num" id="6859088">0</span>&nbsp;<span class="op" id="6859090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6859094">t</span><span class="op" id="6859095">.</span><span class="ident" id="6859096">Errorf</span><span class="op" id="6859102">(</span><span class="string" id="6859103">&#34;%d&nbsp;errors&#34;</span><span class="op" id="6859114">,</span>&nbsp;<span class="ident" id="6859116">s</span><span class="op" id="6859117">.</span><span class="ident" id="6859118">ErrorCount</span><span class="op" id="6859128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6859131">}</span><br>
<span class="lineno"></span><span class="op" id="6859133">}</span>
</div>
</body>
</html>
