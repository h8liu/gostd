<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/scanner</h2>
<ul>
<li><a href="/gostd/go/scanner/errors.go.html" class="current">errors.go</a></li>
<li><a href="/gostd/go/scanner/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/go/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3894711">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3894766">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3894820">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3894871">package</span>&nbsp;<span class="ident" id="3894879">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3894888">import</span>&nbsp;<span class="op" id="3894895">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3894898">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3894905">&#34;go/token&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3894917">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3894923">&#34;sort&#34;</span><br>
<span class="lineno"></span><span class="op" id="3894930">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3894933">//&nbsp;In&nbsp;an&nbsp;ErrorList,&nbsp;an&nbsp;error&nbsp;is&nbsp;represented&nbsp;by&nbsp;an&nbsp;*Error.</span><br>
<span class="lineno">15</span><span class="comment" id="3894991">//&nbsp;The&nbsp;position&nbsp;Pos,&nbsp;if&nbsp;valid,&nbsp;points&nbsp;to&nbsp;the&nbsp;beginning&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="3895049">//&nbsp;the&nbsp;offending&nbsp;token,&nbsp;and&nbsp;the&nbsp;error&nbsp;condition&nbsp;is&nbsp;described</span><br>
<span class="lineno"></span><span class="comment" id="3895110">//&nbsp;by&nbsp;Msg.</span><br>
<span class="lineno"></span><span class="comment" id="3895121">//</span><br>
<span class="lineno"></span><span class="keyword" id="3895124">type</span>&nbsp;<span class="ident" id="3895129">Error</span>&nbsp;<span class="keyword" id="3895135">struct</span>&nbsp;<span class="op" id="3895142">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3895145">Pos</span>&nbsp;<span class="ident" id="3895149"><a href="/gostd/go/scanner/errors.go.html#3894905">token</a></span><span class="op" id="3895154">.</span><span class="ident" id="3895155"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3895165">Msg</span>&nbsp;<span class="builtintype" id="3895169">string</span><br>
<span class="lineno"></span><span class="op" id="3895176">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3895179">//&nbsp;Error&nbsp;implements&nbsp;the&nbsp;error&nbsp;interface.</span><br>
<span class="lineno">25</span><span class="keyword" id="3895220">func</span>&nbsp;<span class="op" id="3895225">(</span><span class="ident" id="3895226">e</span>&nbsp;<span class="ident" id="3895228"><a href="/gostd/go/scanner/errors.go.html#3895129">Error</a></span><span class="op" id="3895233">)</span>&nbsp;<span class="ident" id="3895235">Error</span><span class="op" id="3895240">(</span><span class="op" id="3895241">)</span>&nbsp;<span class="builtintype" id="3895243">string</span>&nbsp;<span class="op" id="3895250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3895253">if</span>&nbsp;<span class="ident" id="3895256"><a href="/gostd/go/scanner/errors.go.html#3895226">e</a></span><span class="op" id="3895257">.</span><span class="ident" id="3895258"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="3895261">.</span><span class="ident" id="3895262"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3895271">!=</span>&nbsp;<span class="string" id="3895274">&#34;&#34;</span>&nbsp;<span class="op" id="3895277">||</span>&nbsp;<span class="ident" id="3895280"><a href="/gostd/go/scanner/errors.go.html#3895226">e</a></span><span class="op" id="3895281">.</span><span class="ident" id="3895282"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="3895285">.</span><span class="ident" id="3895286"><a href="/gostd/go/token/position.go.html#3874249">IsValid</a></span><span class="op" id="3895293">(</span><span class="op" id="3895294">)</span>&nbsp;<span class="op" id="3895296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3895300">//&nbsp;don&#39;t&nbsp;print&nbsp;&#34;&lt;unknown&nbsp;position&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3895338">//&nbsp;TODO(gri)&nbsp;reconsider&nbsp;the&nbsp;semantics&nbsp;of&nbsp;Position.IsValid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3895398">return</span>&nbsp;<span class="ident" id="3895405"><a href="/gostd/go/scanner/errors.go.html#3895226">e</a></span><span class="op" id="3895406">.</span><span class="ident" id="3895407"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="3895410">.</span><span class="ident" id="3895411"><a href="/gostd/go/token/position.go.html#3874589">String</a></span><span class="op" id="3895417">(</span><span class="op" id="3895418">)</span>&nbsp;<span class="op" id="3895420">+</span>&nbsp;<span class="string" id="3895422">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="3895427">+</span>&nbsp;<span class="ident" id="3895429"><a href="/gostd/go/scanner/errors.go.html#3895226">e</a></span><span class="op" id="3895430">.</span><span class="ident" id="3895431"><a href="/gostd/go/scanner/errors.go.html#3895165">Msg</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3895436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3895439">return</span>&nbsp;<span class="ident" id="3895446"><a href="/gostd/go/scanner/errors.go.html#3895226">e</a></span><span class="op" id="3895447">.</span><span class="ident" id="3895448"><a href="/gostd/go/scanner/errors.go.html#3895165">Msg</a></span><br>
<span class="lineno"></span><span class="op" id="3895452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3895455">//&nbsp;ErrorList&nbsp;is&nbsp;a&nbsp;list&nbsp;of&nbsp;*Errors.</span><br>
<span class="lineno">35</span><span class="comment" id="3895490">//&nbsp;The&nbsp;zero&nbsp;value&nbsp;for&nbsp;an&nbsp;ErrorList&nbsp;is&nbsp;an&nbsp;empty&nbsp;ErrorList&nbsp;ready&nbsp;to&nbsp;use.</span><br>
<span class="lineno"></span><span class="comment" id="3895561">//</span><br>
<span class="lineno"></span><span class="keyword" id="3895564">type</span>&nbsp;<span class="ident" id="3895569">ErrorList</span>&nbsp;<span class="op" id="3895579">[</span><span class="op" id="3895580">]</span><span class="op" id="3895581">*</span><span class="ident" id="3895582"><a href="/gostd/go/scanner/errors.go.html#3895129">Error</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3895589">//&nbsp;Add&nbsp;adds&nbsp;an&nbsp;Error&nbsp;with&nbsp;given&nbsp;position&nbsp;and&nbsp;error&nbsp;message&nbsp;to&nbsp;an&nbsp;ErrorList.</span><br>
<span class="lineno">40</span><span class="keyword" id="3895665">func</span>&nbsp;<span class="op" id="3895670">(</span><span class="ident" id="3895671">p</span>&nbsp;<span class="op" id="3895673">*</span><span class="ident" id="3895674"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3895683">)</span>&nbsp;<span class="ident" id="3895685">Add</span><span class="op" id="3895688">(</span><span class="ident" id="3895689">pos</span>&nbsp;<span class="ident" id="3895693"><a href="/gostd/go/scanner/errors.go.html#3894905">token</a></span><span class="op" id="3895698">.</span><span class="ident" id="3895699"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span><span class="op" id="3895707">,</span>&nbsp;<span class="ident" id="3895709">msg</span>&nbsp;<span class="builtintype" id="3895713">string</span><span class="op" id="3895719">)</span>&nbsp;<span class="op" id="3895721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3895724">*</span><span class="ident" id="3895725"><a href="/gostd/go/scanner/errors.go.html#3895671">p</a></span>&nbsp;<span class="op" id="3895727">=</span>&nbsp;<span class="builtinfunc" id="3895729">append</span><span class="op" id="3895735">(</span><span class="op" id="3895736">*</span><span class="ident" id="3895737"><a href="/gostd/go/scanner/errors.go.html#3895671">p</a></span><span class="op" id="3895738">,</span>&nbsp;<span class="op" id="3895740">&amp;</span><span class="ident" id="3895741"><a href="/gostd/go/scanner/errors.go.html#3895129">Error</a></span><span class="op" id="3895746">{</span><span class="ident" id="3895747"><a href="/gostd/go/scanner/errors.go.html#3895689">pos</a></span><span class="op" id="3895750">,</span>&nbsp;<span class="ident" id="3895752"><a href="/gostd/go/scanner/errors.go.html#3895709">msg</a></span><span class="op" id="3895755">}</span><span class="op" id="3895756">)</span><br>
<span class="lineno"></span><span class="op" id="3895758">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3895761">//&nbsp;Reset&nbsp;resets&nbsp;an&nbsp;ErrorList&nbsp;to&nbsp;no&nbsp;errors.</span><br>
<span class="lineno">45</span><span class="keyword" id="3895804">func</span>&nbsp;<span class="op" id="3895809">(</span><span class="ident" id="3895810">p</span>&nbsp;<span class="op" id="3895812">*</span><span class="ident" id="3895813"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3895822">)</span>&nbsp;<span class="ident" id="3895824">Reset</span><span class="op" id="3895829">(</span><span class="op" id="3895830">)</span>&nbsp;<span class="op" id="3895832">{</span>&nbsp;<span class="op" id="3895834">*</span><span class="ident" id="3895835"><a href="/gostd/go/scanner/errors.go.html#3895810">p</a></span>&nbsp;<span class="op" id="3895837">=</span>&nbsp;<span class="op" id="3895839">(</span><span class="op" id="3895840">*</span><span class="ident" id="3895841"><a href="/gostd/go/scanner/errors.go.html#3895810">p</a></span><span class="op" id="3895842">)</span><span class="op" id="3895843">[</span><span class="num" id="3895844">0</span><span class="op" id="3895845">:</span><span class="num" id="3895846">0</span><span class="op" id="3895847">]</span>&nbsp;<span class="op" id="3895849">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3895852">//&nbsp;ErrorList&nbsp;implements&nbsp;the&nbsp;sort&nbsp;Interface.</span><br>
<span class="lineno"></span><span class="keyword" id="3895896">func</span>&nbsp;<span class="op" id="3895901">(</span><span class="ident" id="3895902">p</span>&nbsp;<span class="ident" id="3895904"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3895913">)</span>&nbsp;<span class="ident" id="3895915">Len</span><span class="op" id="3895918">(</span><span class="op" id="3895919">)</span>&nbsp;<span class="builtintype" id="3895921">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3895930">{</span>&nbsp;<span class="keyword" id="3895932">return</span>&nbsp;<span class="builtinfunc" id="3895939">len</span><span class="op" id="3895942">(</span><span class="ident" id="3895943"><a href="/gostd/go/scanner/errors.go.html#3895902">p</a></span><span class="op" id="3895944">)</span>&nbsp;<span class="op" id="3895946">}</span><br>
<span class="lineno"></span><span class="keyword" id="3895948">func</span>&nbsp;<span class="op" id="3895953">(</span><span class="ident" id="3895954">p</span>&nbsp;<span class="ident" id="3895956"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3895965">)</span>&nbsp;<span class="ident" id="3895967">Swap</span><span class="op" id="3895971">(</span><span class="ident" id="3895972">i</span><span class="op" id="3895973">,</span>&nbsp;<span class="ident" id="3895975">j</span>&nbsp;<span class="builtintype" id="3895977">int</span><span class="op" id="3895980">)</span>&nbsp;<span class="op" id="3895982">{</span>&nbsp;<span class="ident" id="3895984"><a href="/gostd/go/scanner/errors.go.html#3895954">p</a></span><span class="op" id="3895985">[</span><span class="ident" id="3895986"><a href="/gostd/go/scanner/errors.go.html#3895972">i</a></span><span class="op" id="3895987">]</span><span class="op" id="3895988">,</span>&nbsp;<span class="ident" id="3895990"><a href="/gostd/go/scanner/errors.go.html#3895954">p</a></span><span class="op" id="3895991">[</span><span class="ident" id="3895992"><a href="/gostd/go/scanner/errors.go.html#3895975">j</a></span><span class="op" id="3895993">]</span>&nbsp;<span class="op" id="3895995">=</span>&nbsp;<span class="ident" id="3895997"><a href="/gostd/go/scanner/errors.go.html#3895954">p</a></span><span class="op" id="3895998">[</span><span class="ident" id="3895999"><a href="/gostd/go/scanner/errors.go.html#3895975">j</a></span><span class="op" id="3896000">]</span><span class="op" id="3896001">,</span>&nbsp;<span class="ident" id="3896003"><a href="/gostd/go/scanner/errors.go.html#3895954">p</a></span><span class="op" id="3896004">[</span><span class="ident" id="3896005"><a href="/gostd/go/scanner/errors.go.html#3895972">i</a></span><span class="op" id="3896006">]</span>&nbsp;<span class="op" id="3896008">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="3896011">func</span>&nbsp;<span class="op" id="3896016">(</span><span class="ident" id="3896017">p</span>&nbsp;<span class="ident" id="3896019"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3896028">)</span>&nbsp;<span class="ident" id="3896030">Less</span><span class="op" id="3896034">(</span><span class="ident" id="3896035">i</span><span class="op" id="3896036">,</span>&nbsp;<span class="ident" id="3896038">j</span>&nbsp;<span class="builtintype" id="3896040">int</span><span class="op" id="3896043">)</span>&nbsp;<span class="builtintype" id="3896045">bool</span>&nbsp;<span class="op" id="3896050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896053">e</span>&nbsp;<span class="op" id="3896055">:=</span>&nbsp;<span class="op" id="3896058">&amp;</span><span class="ident" id="3896059"><a href="/gostd/go/scanner/errors.go.html#3896017">p</a></span><span class="op" id="3896060">[</span><span class="ident" id="3896061"><a href="/gostd/go/scanner/errors.go.html#3896035">i</a></span><span class="op" id="3896062">]</span><span class="op" id="3896063">.</span><span class="ident" id="3896064"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896069">f</span>&nbsp;<span class="op" id="3896071">:=</span>&nbsp;<span class="op" id="3896074">&amp;</span><span class="ident" id="3896075"><a href="/gostd/go/scanner/errors.go.html#3896017">p</a></span><span class="op" id="3896076">[</span><span class="ident" id="3896077"><a href="/gostd/go/scanner/errors.go.html#3896038">j</a></span><span class="op" id="3896078">]</span><span class="op" id="3896079">.</span><span class="ident" id="3896080"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3896085">//&nbsp;Note&nbsp;that&nbsp;it&nbsp;is&nbsp;not&nbsp;sufficient&nbsp;to&nbsp;simply&nbsp;compare&nbsp;file&nbsp;offsets&nbsp;because</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3896159">//&nbsp;the&nbsp;offsets&nbsp;do&nbsp;not&nbsp;reflect&nbsp;modified&nbsp;line&nbsp;information&nbsp;(through&nbsp;//line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3896232">//&nbsp;comments).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896247">if</span>&nbsp;<span class="ident" id="3896250"><a href="/gostd/go/scanner/errors.go.html#3896053">e</a></span><span class="op" id="3896251">.</span><span class="ident" id="3896252"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3896261">&lt;</span>&nbsp;<span class="ident" id="3896263"><a href="/gostd/go/scanner/errors.go.html#3896069">f</a></span><span class="op" id="3896264">.</span><span class="ident" id="3896265"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3896274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896278">return</span>&nbsp;<span class="builtintype" id="3896285">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896291">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896294">if</span>&nbsp;<span class="ident" id="3896297"><a href="/gostd/go/scanner/errors.go.html#3896053">e</a></span><span class="op" id="3896298">.</span><span class="ident" id="3896299"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3896308">==</span>&nbsp;<span class="ident" id="3896311"><a href="/gostd/go/scanner/errors.go.html#3896069">f</a></span><span class="op" id="3896312">.</span><span class="ident" id="3896313"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3896322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896326">if</span>&nbsp;<span class="ident" id="3896329"><a href="/gostd/go/scanner/errors.go.html#3896053">e</a></span><span class="op" id="3896330">.</span><span class="ident" id="3896331"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="3896336">&lt;</span>&nbsp;<span class="ident" id="3896338"><a href="/gostd/go/scanner/errors.go.html#3896069">f</a></span><span class="op" id="3896339">.</span><span class="ident" id="3896340"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="3896345">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896350">return</span>&nbsp;<span class="builtintype" id="3896357">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896368">if</span>&nbsp;<span class="ident" id="3896371"><a href="/gostd/go/scanner/errors.go.html#3896053">e</a></span><span class="op" id="3896372">.</span><span class="ident" id="3896373"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="3896378">==</span>&nbsp;<span class="ident" id="3896381"><a href="/gostd/go/scanner/errors.go.html#3896069">f</a></span><span class="op" id="3896382">.</span><span class="ident" id="3896383"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="3896388">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896393">return</span>&nbsp;<span class="ident" id="3896400"><a href="/gostd/go/scanner/errors.go.html#3896053">e</a></span><span class="op" id="3896401">.</span><span class="ident" id="3896402"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span>&nbsp;<span class="op" id="3896409">&lt;</span>&nbsp;<span class="ident" id="3896411"><a href="/gostd/go/scanner/errors.go.html#3896069">f</a></span><span class="op" id="3896412">.</span><span class="ident" id="3896413"><a href="/gostd/go/token/position.go.html#3874109">Column</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896425">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896428">return</span>&nbsp;<span class="builtintype" id="3896435">false</span><br>
<span class="lineno"></span><span class="op" id="3896441">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="3896444">//&nbsp;Sort&nbsp;sorts&nbsp;an&nbsp;ErrorList.&nbsp;*Error&nbsp;entries&nbsp;are&nbsp;sorted&nbsp;by&nbsp;position,</span><br>
<span class="lineno"></span><span class="comment" id="3896511">//&nbsp;other&nbsp;errors&nbsp;are&nbsp;sorted&nbsp;by&nbsp;error&nbsp;message,&nbsp;and&nbsp;before&nbsp;any&nbsp;*Error</span><br>
<span class="lineno"></span><span class="comment" id="3896578">//&nbsp;entry.</span><br>
<span class="lineno"></span><span class="comment" id="3896588">//</span><br>
<span class="lineno">75</span><span class="keyword" id="3896591">func</span>&nbsp;<span class="op" id="3896596">(</span><span class="ident" id="3896597">p</span>&nbsp;<span class="ident" id="3896599"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3896608">)</span>&nbsp;<span class="ident" id="3896610">Sort</span><span class="op" id="3896614">(</span><span class="op" id="3896615">)</span>&nbsp;<span class="op" id="3896617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896620"><a href="/gostd/go/scanner/errors.go.html#3894923">sort</a></span><span class="op" id="3896624">.</span><span class="ident" id="3896625"><a href="/gostd/sort/sort.go.html#2015380">Sort</a></span><span class="op" id="3896629">(</span><span class="ident" id="3896630"><a href="/gostd/go/scanner/errors.go.html#3896597">p</a></span><span class="op" id="3896631">)</span><br>
<span class="lineno"></span><span class="op" id="3896633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3896636">//&nbsp;RemoveMultiples&nbsp;sorts&nbsp;an&nbsp;ErrorList&nbsp;and&nbsp;removes&nbsp;all&nbsp;but&nbsp;the&nbsp;first&nbsp;error&nbsp;per&nbsp;line.</span><br>
<span class="lineno">80</span><span class="keyword" id="3896720">func</span>&nbsp;<span class="op" id="3896725">(</span><span class="ident" id="3896726">p</span>&nbsp;<span class="op" id="3896728">*</span><span class="ident" id="3896729"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3896738">)</span>&nbsp;<span class="ident" id="3896740">RemoveMultiples</span><span class="op" id="3896755">(</span><span class="op" id="3896756">)</span>&nbsp;<span class="op" id="3896758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896761"><a href="/gostd/go/scanner/errors.go.html#3894923">sort</a></span><span class="op" id="3896765">.</span><span class="ident" id="3896766"><a href="/gostd/sort/sort.go.html#2015380">Sort</a></span><span class="op" id="3896770">(</span><span class="ident" id="3896771"><a href="/gostd/go/scanner/errors.go.html#3896726">p</a></span><span class="op" id="3896772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896775">var</span>&nbsp;<span class="ident" id="3896779">last</span>&nbsp;<span class="ident" id="3896784"><a href="/gostd/go/scanner/errors.go.html#3894905">token</a></span><span class="op" id="3896789">.</span><span class="ident" id="3896790"><a href="/gostd/go/token/position.go.html#3873964">Position</a></span>&nbsp;<span class="comment" id="3896799">//&nbsp;initial&nbsp;last.Line&nbsp;is&nbsp;!=&nbsp;any&nbsp;legal&nbsp;error&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896848">i</span>&nbsp;<span class="op" id="3896850">:=</span>&nbsp;<span class="num" id="3896853">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896856">for</span>&nbsp;<span class="ident" id="3896860">_</span><span class="op" id="3896861">,</span>&nbsp;<span class="ident" id="3896863">e</span>&nbsp;<span class="op" id="3896865">:=</span>&nbsp;<span class="keyword" id="3896868">range</span>&nbsp;<span class="op" id="3896874">*</span><span class="ident" id="3896875"><a href="/gostd/go/scanner/errors.go.html#3896726">p</a></span>&nbsp;<span class="op" id="3896877">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3896881">if</span>&nbsp;<span class="ident" id="3896884"><a href="/gostd/go/scanner/errors.go.html#3896863">e</a></span><span class="op" id="3896885">.</span><span class="ident" id="3896886"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="3896889">.</span><span class="ident" id="3896890"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3896899">!=</span>&nbsp;<span class="ident" id="3896902"><a href="/gostd/go/scanner/errors.go.html#3896779">last</a></span><span class="op" id="3896906">.</span><span class="ident" id="3896907"><a href="/gostd/go/token/position.go.html#3873983">Filename</a></span>&nbsp;<span class="op" id="3896916">||</span>&nbsp;<span class="ident" id="3896919"><a href="/gostd/go/scanner/errors.go.html#3896863">e</a></span><span class="op" id="3896920">.</span><span class="ident" id="3896921"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><span class="op" id="3896924">.</span><span class="ident" id="3896925"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="3896930">!=</span>&nbsp;<span class="ident" id="3896933"><a href="/gostd/go/scanner/errors.go.html#3896779">last</a></span><span class="op" id="3896937">.</span><span class="ident" id="3896938"><a href="/gostd/go/token/position.go.html#3874062">Line</a></span>&nbsp;<span class="op" id="3896943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896948"><a href="/gostd/go/scanner/errors.go.html#3896779">last</a></span>&nbsp;<span class="op" id="3896953">=</span>&nbsp;<span class="ident" id="3896955"><a href="/gostd/go/scanner/errors.go.html#3896863">e</a></span><span class="op" id="3896956">.</span><span class="ident" id="3896957"><a href="/gostd/go/scanner/errors.go.html#3895145">Pos</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896964">(</span><span class="op" id="3896965">*</span><span class="ident" id="3896966"><a href="/gostd/go/scanner/errors.go.html#3896726">p</a></span><span class="op" id="3896967">)</span><span class="op" id="3896968">[</span><span class="ident" id="3896969"><a href="/gostd/go/scanner/errors.go.html#3896848">i</a></span><span class="op" id="3896970">]</span>&nbsp;<span class="op" id="3896972">=</span>&nbsp;<span class="ident" id="3896974"><a href="/gostd/go/scanner/errors.go.html#3896863">e</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3896979"><a href="/gostd/go/scanner/errors.go.html#3896848">i</a></span><span class="op" id="3896980">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896985">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3896991">(</span><span class="op" id="3896992">*</span><span class="ident" id="3896993"><a href="/gostd/go/scanner/errors.go.html#3896726">p</a></span><span class="op" id="3896994">)</span>&nbsp;<span class="op" id="3896996">=</span>&nbsp;<span class="op" id="3896998">(</span><span class="op" id="3896999">*</span><span class="ident" id="3897000"><a href="/gostd/go/scanner/errors.go.html#3896726">p</a></span><span class="op" id="3897001">)</span><span class="op" id="3897002">[</span><span class="num" id="3897003">0</span><span class="op" id="3897004">:</span><span class="ident" id="3897005"><a href="/gostd/go/scanner/errors.go.html#3896848">i</a></span><span class="op" id="3897006">]</span><br>
<span class="lineno"></span><span class="op" id="3897008">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3897011">//&nbsp;An&nbsp;ErrorList&nbsp;implements&nbsp;the&nbsp;error&nbsp;interface.</span><br>
<span class="lineno">95</span><span class="keyword" id="3897059">func</span>&nbsp;<span class="op" id="3897064">(</span><span class="ident" id="3897065">p</span>&nbsp;<span class="ident" id="3897067"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3897076">)</span>&nbsp;<span class="ident" id="3897078">Error</span><span class="op" id="3897083">(</span><span class="op" id="3897084">)</span>&nbsp;<span class="builtintype" id="3897086">string</span>&nbsp;<span class="op" id="3897093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897096">switch</span>&nbsp;<span class="builtinfunc" id="3897103">len</span><span class="op" id="3897106">(</span><span class="ident" id="3897107"><a href="/gostd/go/scanner/errors.go.html#3897065">p</a></span><span class="op" id="3897108">)</span>&nbsp;<span class="op" id="3897110">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897113">case</span>&nbsp;<span class="num" id="3897118">0</span><span class="op" id="3897119">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897123">return</span>&nbsp;<span class="string" id="3897130">&#34;no&nbsp;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897143">case</span>&nbsp;<span class="num" id="3897148">1</span><span class="op" id="3897149">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897153">return</span>&nbsp;<span class="ident" id="3897160"><a href="/gostd/go/scanner/errors.go.html#3897065">p</a></span><span class="op" id="3897161">[</span><span class="num" id="3897162">0</span><span class="op" id="3897163">]</span><span class="op" id="3897164">.</span><span class="ident" id="3897165"><a href="/gostd/go/scanner/errors.go.html#3895235">Error</a></span><span class="op" id="3897170">(</span><span class="op" id="3897171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3897174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897177">return</span>&nbsp;<span class="ident" id="3897184"><a href="/gostd/go/scanner/errors.go.html#3894898">fmt</a></span><span class="op" id="3897187">.</span><span class="ident" id="3897188"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="3897195">(</span><span class="string" id="3897196">&#34;%s&nbsp;(and&nbsp;%d&nbsp;more&nbsp;errors)&#34;</span><span class="op" id="3897221">,</span>&nbsp;<span class="ident" id="3897223"><a href="/gostd/go/scanner/errors.go.html#3897065">p</a></span><span class="op" id="3897224">[</span><span class="num" id="3897225">0</span><span class="op" id="3897226">]</span><span class="op" id="3897227">,</span>&nbsp;<span class="builtinfunc" id="3897229">len</span><span class="op" id="3897232">(</span><span class="ident" id="3897233"><a href="/gostd/go/scanner/errors.go.html#3897065">p</a></span><span class="op" id="3897234">)</span><span class="op" id="3897235">-</span><span class="num" id="3897236">1</span><span class="op" id="3897237">)</span><br>
<span class="lineno"></span><span class="op" id="3897239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3897242">//&nbsp;Err&nbsp;returns&nbsp;an&nbsp;error&nbsp;equivalent&nbsp;to&nbsp;this&nbsp;error&nbsp;list.</span><br>
<span class="lineno"></span><span class="comment" id="3897297">//&nbsp;If&nbsp;the&nbsp;list&nbsp;is&nbsp;empty,&nbsp;Err&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="3897339">func</span>&nbsp;<span class="op" id="3897344">(</span><span class="ident" id="3897345">p</span>&nbsp;<span class="ident" id="3897347"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3897356">)</span>&nbsp;<span class="ident" id="3897358">Err</span><span class="op" id="3897361">(</span><span class="op" id="3897362">)</span>&nbsp;<span class="builtintype" id="3897364">error</span>&nbsp;<span class="op" id="3897370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897373">if</span>&nbsp;<span class="builtinfunc" id="3897376">len</span><span class="op" id="3897379">(</span><span class="ident" id="3897380"><a href="/gostd/go/scanner/errors.go.html#3897345">p</a></span><span class="op" id="3897381">)</span>&nbsp;<span class="op" id="3897383">==</span>&nbsp;<span class="num" id="3897386">0</span>&nbsp;<span class="op" id="3897388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897392">return</span>&nbsp;<span class="builtintype" id="3897399">nil</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3897404">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897407">return</span>&nbsp;<span class="ident" id="3897414"><a href="/gostd/go/scanner/errors.go.html#3897345">p</a></span><br>
<span class="lineno"></span><span class="op" id="3897416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3897419">//&nbsp;PrintError&nbsp;is&nbsp;a&nbsp;utility&nbsp;function&nbsp;that&nbsp;prints&nbsp;a&nbsp;list&nbsp;of&nbsp;errors&nbsp;to&nbsp;w,</span><br>
<span class="lineno">115</span><span class="comment" id="3897490">//&nbsp;one&nbsp;error&nbsp;per&nbsp;line,&nbsp;if&nbsp;the&nbsp;err&nbsp;parameter&nbsp;is&nbsp;an&nbsp;ErrorList.&nbsp;Otherwise</span><br>
<span class="lineno"></span><span class="comment" id="3897561">//&nbsp;it&nbsp;prints&nbsp;the&nbsp;err&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="3897590">//</span><br>
<span class="lineno"></span><span class="keyword" id="3897593">func</span>&nbsp;<span class="ident" id="3897598">PrintError</span><span class="op" id="3897608">(</span><span class="ident" id="3897609">w</span>&nbsp;<span class="ident" id="3897611"><a href="/gostd/go/scanner/errors.go.html#3894917">io</a></span><span class="op" id="3897613">.</span><span class="ident" id="3897614"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="3897620">,</span>&nbsp;<span class="ident" id="3897622">err</span>&nbsp;<span class="builtintype" id="3897626">error</span><span class="op" id="3897631">)</span>&nbsp;<span class="op" id="3897633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897636">if</span>&nbsp;<span class="ident" id="3897639">list</span><span class="op" id="3897643">,</span>&nbsp;<span class="ident" id="3897645">ok</span>&nbsp;<span class="op" id="3897648">:=</span>&nbsp;<span class="ident" id="3897651"><a href="/gostd/go/scanner/errors.go.html#3897622">err</a></span><span class="op" id="3897654">.</span><span class="op" id="3897655">(</span><span class="ident" id="3897656"><a href="/gostd/go/scanner/errors.go.html#3895569">ErrorList</a></span><span class="op" id="3897665">)</span><span class="op" id="3897666">;</span>&nbsp;<span class="ident" id="3897668"><a href="/gostd/go/scanner/errors.go.html#3897645">ok</a></span>&nbsp;<span class="op" id="3897671">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3897675">for</span>&nbsp;<span class="ident" id="3897679">_</span><span class="op" id="3897680">,</span>&nbsp;<span class="ident" id="3897682">e</span>&nbsp;<span class="op" id="3897684">:=</span>&nbsp;<span class="keyword" id="3897687">range</span>&nbsp;<span class="ident" id="3897693"><a href="/gostd/go/scanner/errors.go.html#3897639">list</a></span>&nbsp;<span class="op" id="3897698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3897703"><a href="/gostd/go/scanner/errors.go.html#3894898">fmt</a></span><span class="op" id="3897706">.</span><span class="ident" id="3897707"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="3897714">(</span><span class="ident" id="3897715"><a href="/gostd/go/scanner/errors.go.html#3897609">w</a></span><span class="op" id="3897716">,</span>&nbsp;<span class="string" id="3897718">&#34;%s\n&#34;</span><span class="op" id="3897724">,</span>&nbsp;<span class="ident" id="3897726"><a href="/gostd/go/scanner/errors.go.html#3897682">e</a></span><span class="op" id="3897727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3897731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3897734">}</span>&nbsp;<span class="keyword" id="3897736">else</span>&nbsp;<span class="keyword" id="3897741">if</span>&nbsp;<span class="ident" id="3897744"><a href="/gostd/go/scanner/errors.go.html#3897622">err</a></span>&nbsp;<span class="op" id="3897748">!=</span>&nbsp;<span class="builtintype" id="3897751">nil</span>&nbsp;<span class="op" id="3897755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3897759"><a href="/gostd/go/scanner/errors.go.html#3894898">fmt</a></span><span class="op" id="3897762">.</span><span class="ident" id="3897763"><a href="/gostd/fmt/print.go.html#2143118">Fprintf</a></span><span class="op" id="3897770">(</span><span class="ident" id="3897771"><a href="/gostd/go/scanner/errors.go.html#3897609">w</a></span><span class="op" id="3897772">,</span>&nbsp;<span class="string" id="3897774">&#34;%s\n&#34;</span><span class="op" id="3897780">,</span>&nbsp;<span class="ident" id="3897782"><a href="/gostd/go/scanner/errors.go.html#3897622">err</a></span><span class="op" id="3897785">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3897788">}</span><br>
<span class="lineno"></span><span class="op" id="3897790">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
