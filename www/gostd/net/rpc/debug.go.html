<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5768857">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5768912">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5768966">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5769017">package</span>&nbsp;<span class="ident" id="5769025">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5769030">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspSome&nbsp;HTML&nbsp;presented&nbsp;at&nbsp;http://machine:port/debug/rpc<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspLists&nbsp;services,&nbsp;their&nbsp;methods,&nbsp;and&nbsp;some&nbsp;statistics,&nbsp;still&nbsp;rudimentary.<br>
<span class="lineno">10</span>*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769163">import</span>&nbsp;<span class="op" id="5769170">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5769173">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5769180">&#34;html/template&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5769197">&#34;net/http&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5769209">&#34;sort&#34;</span><br>
<span class="lineno"></span><span class="op" id="5769216">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769219">const</span>&nbsp;<span class="ident" id="5769225">debugText</span>&nbsp;<span class="op" id="5769235">=</span>&nbsp;<span class="string" id="5769237">`&lt;html&gt;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;title&gt;Services&lt;/title&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp{{range&nbsp;.}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbspService&nbsp;{{.Name}}<br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;table&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;th&nbsp;align=center&gt;Method&lt;/th&gt;&lt;th&nbsp;align=center&gt;Calls&lt;/th&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{{range&nbsp;.Method}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;tr&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;td&nbsp;align=left&nbsp;font=fixed&gt;{{.Name}}({{.Type.ArgType}},&nbsp;{{.Type.ReplyType}})&nbsp;error&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;td&nbsp;align=center&gt;{{.Type.NumCalls}}&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/tr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/table&gt;<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;/body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&lt;/html&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769611">var</span>&nbsp;<span class="ident" id="5769615">debug</span>&nbsp;<span class="op" id="5769621">=</span>&nbsp;<span class="ident" id="5769623">template</span><span class="op" id="5769631">.</span><span class="ident" id="5769632">Must</span><span class="op" id="5769636">(</span><span class="ident" id="5769637">template</span><span class="op" id="5769645">.</span><span class="ident" id="5769646">New</span><span class="op" id="5769649">(</span><span class="string" id="5769650">&#34;RPC&nbsp;debug&#34;</span><span class="op" id="5769661">)</span><span class="op" id="5769662">.</span><span class="ident" id="5769663">Parse</span><span class="op" id="5769668">(</span><span class="ident" id="5769669">debugText</span><span class="op" id="5769678">)</span><span class="op" id="5769679">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="5769682">//&nbsp;If&nbsp;set,&nbsp;print&nbsp;log&nbsp;statements&nbsp;for&nbsp;internal&nbsp;and&nbsp;I/O&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="5769743">var</span>&nbsp;<span class="ident" id="5769747">debugLog</span>&nbsp;<span class="op" id="5769756">=</span>&nbsp;<span class="builtintype" id="5769758">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769765">type</span>&nbsp;<span class="ident" id="5769770">debugMethod</span>&nbsp;<span class="keyword" id="5769782">struct</span>&nbsp;<span class="op" id="5769789">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5769792">Type</span>&nbsp;<span class="op" id="5769797">*</span><span class="ident" id="5769798">methodType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5769810">Name</span>&nbsp;<span class="builtintype" id="5769815">string</span><br>
<span class="lineno"></span><span class="op" id="5769822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769825">type</span>&nbsp;<span class="ident" id="5769830">methodArray</span>&nbsp;<span class="op" id="5769842">[</span><span class="op" id="5769843">]</span><span class="ident" id="5769844">debugMethod</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5769857">type</span>&nbsp;<span class="ident" id="5769862">debugService</span>&nbsp;<span class="keyword" id="5769875">struct</span>&nbsp;<span class="op" id="5769882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5769885">Service</span>&nbsp;<span class="op" id="5769893">*</span><span class="ident" id="5769894">service</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5769903">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5769911">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5769919">Method</span>&nbsp;&nbsp;<span class="ident" id="5769927">methodArray</span><br>
<span class="lineno">55</span><span class="op" id="5769939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769942">type</span>&nbsp;<span class="ident" id="5769947">serviceArray</span>&nbsp;<span class="op" id="5769960">[</span><span class="op" id="5769961">]</span><span class="ident" id="5769962">debugService</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5769976">func</span>&nbsp;<span class="op" id="5769981">(</span><span class="ident" id="5769982">s</span>&nbsp;<span class="ident" id="5769984">serviceArray</span><span class="op" id="5769996">)</span>&nbsp;<span class="ident" id="5769998">Len</span><span class="op" id="5770001">(</span><span class="op" id="5770002">)</span>&nbsp;<span class="builtintype" id="5770004">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5770018">{</span>&nbsp;<span class="keyword" id="5770020">return</span>&nbsp;<span class="builtinfunc" id="5770027">len</span><span class="op" id="5770030">(</span><span class="ident" id="5770031">s</span><span class="op" id="5770032">)</span>&nbsp;<span class="op" id="5770034">}</span><br>
<span class="lineno">60</span><span class="keyword" id="5770036">func</span>&nbsp;<span class="op" id="5770041">(</span><span class="ident" id="5770042">s</span>&nbsp;<span class="ident" id="5770044">serviceArray</span><span class="op" id="5770056">)</span>&nbsp;<span class="ident" id="5770058">Less</span><span class="op" id="5770062">(</span><span class="ident" id="5770063">i</span><span class="op" id="5770064">,</span>&nbsp;<span class="ident" id="5770066">j</span>&nbsp;<span class="builtintype" id="5770068">int</span><span class="op" id="5770071">)</span>&nbsp;<span class="builtintype" id="5770073">bool</span>&nbsp;<span class="op" id="5770078">{</span>&nbsp;<span class="keyword" id="5770080">return</span>&nbsp;<span class="ident" id="5770087">s</span><span class="op" id="5770088">[</span><span class="ident" id="5770089">i</span><span class="op" id="5770090">]</span><span class="op" id="5770091">.</span><span class="ident" id="5770092">Name</span>&nbsp;<span class="op" id="5770097">&lt;</span>&nbsp;<span class="ident" id="5770099">s</span><span class="op" id="5770100">[</span><span class="ident" id="5770101">j</span><span class="op" id="5770102">]</span><span class="op" id="5770103">.</span><span class="ident" id="5770104">Name</span>&nbsp;<span class="op" id="5770109">}</span><br>
<span class="lineno"></span><span class="keyword" id="5770111">func</span>&nbsp;<span class="op" id="5770116">(</span><span class="ident" id="5770117">s</span>&nbsp;<span class="ident" id="5770119">serviceArray</span><span class="op" id="5770131">)</span>&nbsp;<span class="ident" id="5770133">Swap</span><span class="op" id="5770137">(</span><span class="ident" id="5770138">i</span><span class="op" id="5770139">,</span>&nbsp;<span class="ident" id="5770141">j</span>&nbsp;<span class="builtintype" id="5770143">int</span><span class="op" id="5770146">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5770153">{</span>&nbsp;<span class="ident" id="5770155">s</span><span class="op" id="5770156">[</span><span class="ident" id="5770157">i</span><span class="op" id="5770158">]</span><span class="op" id="5770159">,</span>&nbsp;<span class="ident" id="5770161">s</span><span class="op" id="5770162">[</span><span class="ident" id="5770163">j</span><span class="op" id="5770164">]</span>&nbsp;<span class="op" id="5770166">=</span>&nbsp;<span class="ident" id="5770168">s</span><span class="op" id="5770169">[</span><span class="ident" id="5770170">j</span><span class="op" id="5770171">]</span><span class="op" id="5770172">,</span>&nbsp;<span class="ident" id="5770174">s</span><span class="op" id="5770175">[</span><span class="ident" id="5770176">i</span><span class="op" id="5770177">]</span>&nbsp;<span class="op" id="5770179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5770182">func</span>&nbsp;<span class="op" id="5770187">(</span><span class="ident" id="5770188">m</span>&nbsp;<span class="ident" id="5770190">methodArray</span><span class="op" id="5770201">)</span>&nbsp;<span class="ident" id="5770203">Len</span><span class="op" id="5770206">(</span><span class="op" id="5770207">)</span>&nbsp;<span class="builtintype" id="5770209">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5770223">{</span>&nbsp;<span class="keyword" id="5770225">return</span>&nbsp;<span class="builtinfunc" id="5770232">len</span><span class="op" id="5770235">(</span><span class="ident" id="5770236">m</span><span class="op" id="5770237">)</span>&nbsp;<span class="op" id="5770239">}</span><br>
<span class="lineno"></span><span class="keyword" id="5770241">func</span>&nbsp;<span class="op" id="5770246">(</span><span class="ident" id="5770247">m</span>&nbsp;<span class="ident" id="5770249">methodArray</span><span class="op" id="5770260">)</span>&nbsp;<span class="ident" id="5770262">Less</span><span class="op" id="5770266">(</span><span class="ident" id="5770267">i</span><span class="op" id="5770268">,</span>&nbsp;<span class="ident" id="5770270">j</span>&nbsp;<span class="builtintype" id="5770272">int</span><span class="op" id="5770275">)</span>&nbsp;<span class="builtintype" id="5770277">bool</span>&nbsp;<span class="op" id="5770282">{</span>&nbsp;<span class="keyword" id="5770284">return</span>&nbsp;<span class="ident" id="5770291">m</span><span class="op" id="5770292">[</span><span class="ident" id="5770293">i</span><span class="op" id="5770294">]</span><span class="op" id="5770295">.</span><span class="ident" id="5770296">Name</span>&nbsp;<span class="op" id="5770301">&lt;</span>&nbsp;<span class="ident" id="5770303">m</span><span class="op" id="5770304">[</span><span class="ident" id="5770305">j</span><span class="op" id="5770306">]</span><span class="op" id="5770307">.</span><span class="ident" id="5770308">Name</span>&nbsp;<span class="op" id="5770313">}</span><br>
<span class="lineno">65</span><span class="keyword" id="5770315">func</span>&nbsp;<span class="op" id="5770320">(</span><span class="ident" id="5770321">m</span>&nbsp;<span class="ident" id="5770323">methodArray</span><span class="op" id="5770334">)</span>&nbsp;<span class="ident" id="5770336">Swap</span><span class="op" id="5770340">(</span><span class="ident" id="5770341">i</span><span class="op" id="5770342">,</span>&nbsp;<span class="ident" id="5770344">j</span>&nbsp;<span class="builtintype" id="5770346">int</span><span class="op" id="5770349">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5770356">{</span>&nbsp;<span class="ident" id="5770358">m</span><span class="op" id="5770359">[</span><span class="ident" id="5770360">i</span><span class="op" id="5770361">]</span><span class="op" id="5770362">,</span>&nbsp;<span class="ident" id="5770364">m</span><span class="op" id="5770365">[</span><span class="ident" id="5770366">j</span><span class="op" id="5770367">]</span>&nbsp;<span class="op" id="5770369">=</span>&nbsp;<span class="ident" id="5770371">m</span><span class="op" id="5770372">[</span><span class="ident" id="5770373">j</span><span class="op" id="5770374">]</span><span class="op" id="5770375">,</span>&nbsp;<span class="ident" id="5770377">m</span><span class="op" id="5770378">[</span><span class="ident" id="5770379">i</span><span class="op" id="5770380">]</span>&nbsp;<span class="op" id="5770382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5770385">type</span>&nbsp;<span class="ident" id="5770390">debugHTTP</span>&nbsp;<span class="keyword" id="5770400">struct</span>&nbsp;<span class="op" id="5770407">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5770410">*</span><span class="ident" id="5770411">Server</span><br>
<span class="lineno"></span><span class="op" id="5770418">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5770421">//&nbsp;Runs&nbsp;at&nbsp;/debug/rpc</span><br>
<span class="lineno"></span><span class="keyword" id="5770443">func</span>&nbsp;<span class="op" id="5770448">(</span><span class="ident" id="5770449">server</span>&nbsp;<span class="ident" id="5770456">debugHTTP</span><span class="op" id="5770465">)</span>&nbsp;<span class="ident" id="5770467">ServeHTTP</span><span class="op" id="5770476">(</span><span class="ident" id="5770477">w</span>&nbsp;<span class="ident" id="5770479">http</span><span class="op" id="5770483">.</span><span class="ident" id="5770484">ResponseWriter</span><span class="op" id="5770498">,</span>&nbsp;<span class="ident" id="5770500">req</span>&nbsp;<span class="op" id="5770504">*</span><span class="ident" id="5770505">http</span><span class="op" id="5770509">.</span><span class="ident" id="5770510">Request</span><span class="op" id="5770517">)</span>&nbsp;<span class="op" id="5770519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5770522">//&nbsp;Build&nbsp;a&nbsp;sorted&nbsp;version&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5770562">var</span>&nbsp;<span class="ident" id="5770566">services</span>&nbsp;<span class="op" id="5770575">=</span>&nbsp;<span class="builtinfunc" id="5770577">make</span><span class="op" id="5770581">(</span><span class="ident" id="5770582">serviceArray</span><span class="op" id="5770594">,</span>&nbsp;<span class="builtinfunc" id="5770596">len</span><span class="op" id="5770599">(</span><span class="ident" id="5770600">server</span><span class="op" id="5770606">.</span><span class="ident" id="5770607">serviceMap</span><span class="op" id="5770617">)</span><span class="op" id="5770618">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770621">i</span>&nbsp;<span class="op" id="5770623">:=</span>&nbsp;<span class="num" id="5770626">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770629">server</span><span class="op" id="5770635">.</span><span class="ident" id="5770636">mu</span><span class="op" id="5770638">.</span><span class="ident" id="5770639">Lock</span><span class="op" id="5770643">(</span><span class="op" id="5770644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5770647">for</span>&nbsp;<span class="ident" id="5770651">sname</span><span class="op" id="5770656">,</span>&nbsp;<span class="ident" id="5770658">service</span>&nbsp;<span class="op" id="5770666">:=</span>&nbsp;<span class="keyword" id="5770669">range</span>&nbsp;<span class="ident" id="5770675">server</span><span class="op" id="5770681">.</span><span class="ident" id="5770682">serviceMap</span>&nbsp;<span class="op" id="5770693">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770697">services</span><span class="op" id="5770705">[</span><span class="ident" id="5770706">i</span><span class="op" id="5770707">]</span>&nbsp;<span class="op" id="5770709">=</span>&nbsp;<span class="ident" id="5770711">debugService</span><span class="op" id="5770723">{</span><span class="ident" id="5770724">service</span><span class="op" id="5770731">,</span>&nbsp;<span class="ident" id="5770733">sname</span><span class="op" id="5770738">,</span>&nbsp;<span class="builtinfunc" id="5770740">make</span><span class="op" id="5770744">(</span><span class="ident" id="5770745">methodArray</span><span class="op" id="5770756">,</span>&nbsp;<span class="builtinfunc" id="5770758">len</span><span class="op" id="5770761">(</span><span class="ident" id="5770762">service</span><span class="op" id="5770769">.</span><span class="ident" id="5770770">method</span><span class="op" id="5770776">)</span><span class="op" id="5770777">)</span><span class="op" id="5770778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770782">j</span>&nbsp;<span class="op" id="5770784">:=</span>&nbsp;<span class="num" id="5770787">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5770791">for</span>&nbsp;<span class="ident" id="5770795">mname</span><span class="op" id="5770800">,</span>&nbsp;<span class="ident" id="5770802">method</span>&nbsp;<span class="op" id="5770809">:=</span>&nbsp;<span class="keyword" id="5770812">range</span>&nbsp;<span class="ident" id="5770818">service</span><span class="op" id="5770825">.</span><span class="ident" id="5770826">method</span>&nbsp;<span class="op" id="5770833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770838">services</span><span class="op" id="5770846">[</span><span class="ident" id="5770847">i</span><span class="op" id="5770848">]</span><span class="op" id="5770849">.</span><span class="ident" id="5770850">Method</span><span class="op" id="5770856">[</span><span class="ident" id="5770857">j</span><span class="op" id="5770858">]</span>&nbsp;<span class="op" id="5770860">=</span>&nbsp;<span class="ident" id="5770862">debugMethod</span><span class="op" id="5770873">{</span><span class="ident" id="5770874">method</span><span class="op" id="5770880">,</span>&nbsp;<span class="ident" id="5770882">mname</span><span class="op" id="5770887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770892">j</span><span class="op" id="5770893">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5770898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770902">sort</span><span class="op" id="5770906">.</span><span class="ident" id="5770907">Sort</span><span class="op" id="5770911">(</span><span class="ident" id="5770912">services</span><span class="op" id="5770920">[</span><span class="ident" id="5770921">i</span><span class="op" id="5770922">]</span><span class="op" id="5770923">.</span><span class="ident" id="5770924">Method</span><span class="op" id="5770930">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770934">i</span><span class="op" id="5770935">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5770939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770942">server</span><span class="op" id="5770948">.</span><span class="ident" id="5770949">mu</span><span class="op" id="5770951">.</span><span class="ident" id="5770952">Unlock</span><span class="op" id="5770958">(</span><span class="op" id="5770959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770962">sort</span><span class="op" id="5770966">.</span><span class="ident" id="5770967">Sort</span><span class="op" id="5770971">(</span><span class="ident" id="5770972">services</span><span class="op" id="5770980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5770983">err</span>&nbsp;<span class="op" id="5770987">:=</span>&nbsp;<span class="ident" id="5770990">debug</span><span class="op" id="5770995">.</span><span class="ident" id="5770996">Execute</span><span class="op" id="5771003">(</span><span class="ident" id="5771004">w</span><span class="op" id="5771005">,</span>&nbsp;<span class="ident" id="5771007">services</span><span class="op" id="5771015">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5771018">if</span>&nbsp;<span class="ident" id="5771021">err</span>&nbsp;<span class="op" id="5771025">!=</span>&nbsp;<span class="ident" id="5771028">nil</span>&nbsp;<span class="op" id="5771032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5771036">fmt</span><span class="op" id="5771039">.</span><span class="ident" id="5771040">Fprintln</span><span class="op" id="5771048">(</span><span class="ident" id="5771049">w</span><span class="op" id="5771050">,</span>&nbsp;<span class="string" id="5771052">&#34;rpc:&nbsp;error&nbsp;executing&nbsp;template:&#34;</span><span class="op" id="5771084">,</span>&nbsp;<span class="ident" id="5771086">err</span><span class="op" id="5771089">.</span><span class="ident" id="5771090">Error</span><span class="op" id="5771095">(</span><span class="op" id="5771096">)</span><span class="op" id="5771097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5771100">}</span><br>
<span class="lineno"></span><span class="op" id="5771102">}</span>
</div>
</body>
</html>
