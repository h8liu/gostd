<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5326800">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5326856">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5326910">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5326961">package</span>&nbsp;<span class="ident" id="5326969">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5326977">//&nbsp;Note&nbsp;to&nbsp;implementers:</span><br>
<span class="lineno"></span><span class="comment" id="5327002">//&nbsp;In&nbsp;this&nbsp;package,&nbsp;re&nbsp;is&nbsp;always&nbsp;a&nbsp;*Regexp&nbsp;and&nbsp;r&nbsp;is&nbsp;always&nbsp;a&nbsp;rune.</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5327070">import</span>&nbsp;<span class="op" id="5327077">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5327080">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5327089">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5327100">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5327111">&#34;unicode&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5327121">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5327124">//&nbsp;A&nbsp;Regexp&nbsp;is&nbsp;a&nbsp;node&nbsp;in&nbsp;a&nbsp;regular&nbsp;expression&nbsp;syntax&nbsp;tree.</span><br>
<span class="lineno"></span><span class="keyword" id="5327183">type</span>&nbsp;<span class="ident" id="5327188">Regexp</span>&nbsp;<span class="keyword" id="5327195">struct</span>&nbsp;<span class="op" id="5327202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327205">Op</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5327214">Op</span>&nbsp;<span class="comment" id="5327217">//&nbsp;operator</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327230">Flags</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5327239">Flags</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327246">Sub</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5327255">[</span><span class="op" id="5327256">]</span><span class="op" id="5327257">*</span><span class="ident" id="5327258">Regexp</span>&nbsp;&nbsp;<span class="comment" id="5327266">//&nbsp;subexpressions,&nbsp;if&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327293">Sub0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5327302">[</span><span class="num" id="5327303">1</span><span class="op" id="5327304">]</span><span class="op" id="5327305">*</span><span class="ident" id="5327306">Regexp</span>&nbsp;<span class="comment" id="5327313">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Sub</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327339">Rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5327348">[</span><span class="op" id="5327349">]</span><span class="builtintype" id="5327350">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5327359">//&nbsp;matched&nbsp;runes,&nbsp;for&nbsp;OpLiteral,&nbsp;OpCharClass</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327405">Rune0</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5327414">[</span><span class="num" id="5327415">2</span><span class="op" id="5327416">]</span><span class="builtintype" id="5327417">rune</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5327425">//&nbsp;storage&nbsp;for&nbsp;short&nbsp;Rune</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327452">Min</span><span class="op" id="5327455">,</span>&nbsp;<span class="ident" id="5327457">Max</span>&nbsp;<span class="builtintype" id="5327461">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5327472">//&nbsp;min,&nbsp;max&nbsp;for&nbsp;OpRepeat</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327498">Cap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5327507">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5327518">//&nbsp;capturing&nbsp;index,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327553">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5327562">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5327573">//&nbsp;capturing&nbsp;name,&nbsp;for&nbsp;OpCapture</span><br>
<span class="lineno"></span><span class="op" id="5327606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5327609">//&nbsp;An&nbsp;Op&nbsp;is&nbsp;a&nbsp;single&nbsp;regular&nbsp;expression&nbsp;operator.</span><br>
<span class="lineno"></span><span class="keyword" id="5327659">type</span>&nbsp;<span class="ident" id="5327664">Op</span>&nbsp;<span class="builtintype" id="5327667">uint8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5327674">//&nbsp;Operators&nbsp;are&nbsp;listed&nbsp;in&nbsp;precedence&nbsp;order,&nbsp;tightest&nbsp;binding&nbsp;to&nbsp;weakest.</span><br>
<span class="lineno"></span><span class="comment" id="5327748">//&nbsp;Character&nbsp;class&nbsp;operators&nbsp;are&nbsp;listed&nbsp;simplest&nbsp;to&nbsp;most&nbsp;complex</span><br>
<span class="lineno">35</span><span class="comment" id="5327813">//&nbsp;(OpLiteral,&nbsp;OpCharClass,&nbsp;OpAnyCharNotNL,&nbsp;OpAnyChar).</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5327870">const</span>&nbsp;<span class="op" id="5327876">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327879">OpNoMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5327896">Op</span>&nbsp;<span class="op" id="5327899">=</span>&nbsp;<span class="num" id="5327901">1</span>&nbsp;<span class="op" id="5327903">+</span>&nbsp;<span class="ident" id="5327905">iota</span>&nbsp;<span class="comment" id="5327910">//&nbsp;matches&nbsp;no&nbsp;strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327933">OpEmptyMatch</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5327964">//&nbsp;matches&nbsp;empty&nbsp;string</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5327989">OpLiteral</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328020">//&nbsp;matches&nbsp;Runes&nbsp;sequence</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328047">OpCharClass</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328078">//&nbsp;matches&nbsp;Runes&nbsp;interpreted&nbsp;as&nbsp;range&nbsp;pair&nbsp;list</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328127">OpAnyCharNotNL</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328158">//&nbsp;matches&nbsp;any&nbsp;character&nbsp;except&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328199">OpAnyChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328230">//&nbsp;matches&nbsp;any&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328256">OpBeginLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328287">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;line</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328333">OpEndLine</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328364">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328404">OpBeginText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328435">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;beginning&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328481">OpEndText</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328512">//&nbsp;matches&nbsp;empty&nbsp;string&nbsp;at&nbsp;end&nbsp;of&nbsp;text</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328552">OpWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328583">//&nbsp;matches&nbsp;word&nbsp;boundary&nbsp;`\b`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328614">OpNoWordBoundary</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328645">//&nbsp;matches&nbsp;word&nbsp;non-boundary&nbsp;`\B`</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328680">OpCapture</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328711">//&nbsp;capturing&nbsp;subexpression&nbsp;with&nbsp;index&nbsp;Cap,&nbsp;optional&nbsp;name&nbsp;Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328774">OpStar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328805">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328843">OpPlus</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328874">//&nbsp;matches&nbsp;Sub[0]&nbsp;one&nbsp;or&nbsp;more&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328911">OpQuest</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5328942">//&nbsp;matches&nbsp;Sub[0]&nbsp;zero&nbsp;or&nbsp;one&nbsp;times</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5328979">OpRepeat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5329010">//&nbsp;matches&nbsp;Sub[0]&nbsp;at&nbsp;least&nbsp;Min&nbsp;times,&nbsp;at&nbsp;most&nbsp;Max&nbsp;(Max&nbsp;==&nbsp;-1&nbsp;is&nbsp;no&nbsp;limit)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5329085">OpConcat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5329116">//&nbsp;matches&nbsp;concatenation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5329150">OpAlternate</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5329181">//&nbsp;matches&nbsp;alternation&nbsp;of&nbsp;Subs</span><br>
<span class="lineno"></span><span class="op" id="5329212">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5329215">const</span>&nbsp;<span class="ident" id="5329221">opPseudo</span>&nbsp;<span class="ident" id="5329230">Op</span>&nbsp;<span class="op" id="5329233">=</span>&nbsp;<span class="num" id="5329235">128</span>&nbsp;<span class="comment" id="5329239">//&nbsp;where&nbsp;pseudo-ops&nbsp;start</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="5329266">//&nbsp;Equal&nbsp;returns&nbsp;true&nbsp;if&nbsp;x&nbsp;and&nbsp;y&nbsp;have&nbsp;identical&nbsp;structure.</span><br>
<span class="lineno"></span><span class="keyword" id="5329325">func</span>&nbsp;<span class="op" id="5329330">(</span><span class="ident" id="5329331">x</span>&nbsp;<span class="op" id="5329333">*</span><span class="ident" id="5329334">Regexp</span><span class="op" id="5329340">)</span>&nbsp;<span class="ident" id="5329342">Equal</span><span class="op" id="5329347">(</span><span class="ident" id="5329348">y</span>&nbsp;<span class="op" id="5329350">*</span><span class="ident" id="5329351">Regexp</span><span class="op" id="5329357">)</span>&nbsp;<span class="builtintype" id="5329359">bool</span>&nbsp;<span class="op" id="5329364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329367">if</span>&nbsp;<span class="ident" id="5329370">x</span>&nbsp;<span class="op" id="5329372">==</span>&nbsp;<span class="ident" id="5329375">nil</span>&nbsp;<span class="op" id="5329379">||</span>&nbsp;<span class="ident" id="5329382">y</span>&nbsp;<span class="op" id="5329384">==</span>&nbsp;<span class="ident" id="5329387">nil</span>&nbsp;<span class="op" id="5329391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329395">return</span>&nbsp;<span class="ident" id="5329402">x</span>&nbsp;<span class="op" id="5329404">==</span>&nbsp;<span class="ident" id="5329407">y</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329413">if</span>&nbsp;<span class="ident" id="5329416">x</span><span class="op" id="5329417">.</span><span class="ident" id="5329418">Op</span>&nbsp;<span class="op" id="5329421">!=</span>&nbsp;<span class="ident" id="5329424">y</span><span class="op" id="5329425">.</span><span class="ident" id="5329426">Op</span>&nbsp;<span class="op" id="5329429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329433">return</span>&nbsp;<span class="builtintype" id="5329440">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329450">switch</span>&nbsp;<span class="ident" id="5329457">x</span><span class="op" id="5329458">.</span><span class="ident" id="5329459">Op</span>&nbsp;<span class="op" id="5329462">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329465">case</span>&nbsp;<span class="ident" id="5329470">OpEndText</span><span class="op" id="5329479">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5329483">//&nbsp;The&nbsp;parse&nbsp;flags&nbsp;remember&nbsp;whether&nbsp;this&nbsp;is&nbsp;\z&nbsp;or&nbsp;\Z.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329539">if</span>&nbsp;<span class="ident" id="5329542">x</span><span class="op" id="5329543">.</span><span class="ident" id="5329544">Flags</span><span class="op" id="5329549">&amp;</span><span class="ident" id="5329550">WasDollar</span>&nbsp;<span class="op" id="5329560">!=</span>&nbsp;<span class="ident" id="5329563">y</span><span class="op" id="5329564">.</span><span class="ident" id="5329565">Flags</span><span class="op" id="5329570">&amp;</span><span class="ident" id="5329571">WasDollar</span>&nbsp;<span class="op" id="5329581">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329586">return</span>&nbsp;<span class="builtintype" id="5329593">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329601">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329605">case</span>&nbsp;<span class="ident" id="5329610">OpLiteral</span><span class="op" id="5329619">,</span>&nbsp;<span class="ident" id="5329621">OpCharClass</span><span class="op" id="5329632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329636">if</span>&nbsp;<span class="builtinfunc" id="5329639">len</span><span class="op" id="5329642">(</span><span class="ident" id="5329643">x</span><span class="op" id="5329644">.</span><span class="ident" id="5329645">Rune</span><span class="op" id="5329649">)</span>&nbsp;<span class="op" id="5329651">!=</span>&nbsp;<span class="builtinfunc" id="5329654">len</span><span class="op" id="5329657">(</span><span class="ident" id="5329658">y</span><span class="op" id="5329659">.</span><span class="ident" id="5329660">Rune</span><span class="op" id="5329664">)</span>&nbsp;<span class="op" id="5329666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329671">return</span>&nbsp;<span class="builtintype" id="5329678">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329686">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329690">for</span>&nbsp;<span class="ident" id="5329694">i</span><span class="op" id="5329695">,</span>&nbsp;<span class="ident" id="5329697">r</span>&nbsp;<span class="op" id="5329699">:=</span>&nbsp;<span class="keyword" id="5329702">range</span>&nbsp;<span class="ident" id="5329708">x</span><span class="op" id="5329709">.</span><span class="ident" id="5329710">Rune</span>&nbsp;<span class="op" id="5329715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329720">if</span>&nbsp;<span class="ident" id="5329723">r</span>&nbsp;<span class="op" id="5329725">!=</span>&nbsp;<span class="ident" id="5329728">y</span><span class="op" id="5329729">.</span><span class="ident" id="5329730">Rune</span><span class="op" id="5329734">[</span><span class="ident" id="5329735">i</span><span class="op" id="5329736">]</span>&nbsp;<span class="op" id="5329738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329744">return</span>&nbsp;<span class="builtintype" id="5329751">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329764">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329768">case</span>&nbsp;<span class="ident" id="5329773">OpAlternate</span><span class="op" id="5329784">,</span>&nbsp;<span class="ident" id="5329786">OpConcat</span><span class="op" id="5329794">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329798">if</span>&nbsp;<span class="builtinfunc" id="5329801">len</span><span class="op" id="5329804">(</span><span class="ident" id="5329805">x</span><span class="op" id="5329806">.</span><span class="ident" id="5329807">Sub</span><span class="op" id="5329810">)</span>&nbsp;<span class="op" id="5329812">!=</span>&nbsp;<span class="builtinfunc" id="5329815">len</span><span class="op" id="5329818">(</span><span class="ident" id="5329819">y</span><span class="op" id="5329820">.</span><span class="ident" id="5329821">Sub</span><span class="op" id="5329824">)</span>&nbsp;<span class="op" id="5329826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329831">return</span>&nbsp;<span class="builtintype" id="5329838">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329846">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329850">for</span>&nbsp;<span class="ident" id="5329854">i</span><span class="op" id="5329855">,</span>&nbsp;<span class="ident" id="5329857">sub</span>&nbsp;<span class="op" id="5329861">:=</span>&nbsp;<span class="keyword" id="5329864">range</span>&nbsp;<span class="ident" id="5329870">x</span><span class="op" id="5329871">.</span><span class="ident" id="5329872">Sub</span>&nbsp;<span class="op" id="5329876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329881">if</span>&nbsp;<span class="op" id="5329884">!</span><span class="ident" id="5329885">sub</span><span class="op" id="5329888">.</span><span class="ident" id="5329889">Equal</span><span class="op" id="5329894">(</span><span class="ident" id="5329895">y</span><span class="op" id="5329896">.</span><span class="ident" id="5329897">Sub</span><span class="op" id="5329900">[</span><span class="ident" id="5329901">i</span><span class="op" id="5329902">]</span><span class="op" id="5329903">)</span>&nbsp;<span class="op" id="5329905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329911">return</span>&nbsp;<span class="builtintype" id="5329918">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329927">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5329931">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329935">case</span>&nbsp;<span class="ident" id="5329940">OpStar</span><span class="op" id="5329946">,</span>&nbsp;<span class="ident" id="5329948">OpPlus</span><span class="op" id="5329954">,</span>&nbsp;<span class="ident" id="5329956">OpQuest</span><span class="op" id="5329963">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5329967">if</span>&nbsp;<span class="ident" id="5329970">x</span><span class="op" id="5329971">.</span><span class="ident" id="5329972">Flags</span><span class="op" id="5329977">&amp;</span><span class="ident" id="5329978">NonGreedy</span>&nbsp;<span class="op" id="5329988">!=</span>&nbsp;<span class="ident" id="5329991">y</span><span class="op" id="5329992">.</span><span class="ident" id="5329993">Flags</span><span class="op" id="5329998">&amp;</span><span class="ident" id="5329999">NonGreedy</span>&nbsp;<span class="op" id="5330009">||</span>&nbsp;<span class="op" id="5330012">!</span><span class="ident" id="5330013">x</span><span class="op" id="5330014">.</span><span class="ident" id="5330015">Sub</span><span class="op" id="5330018">[</span><span class="num" id="5330019">0</span><span class="op" id="5330020">]</span><span class="op" id="5330021">.</span><span class="ident" id="5330022">Equal</span><span class="op" id="5330027">(</span><span class="ident" id="5330028">y</span><span class="op" id="5330029">.</span><span class="ident" id="5330030">Sub</span><span class="op" id="5330033">[</span><span class="num" id="5330034">0</span><span class="op" id="5330035">]</span><span class="op" id="5330036">)</span>&nbsp;<span class="op" id="5330038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330043">return</span>&nbsp;<span class="builtintype" id="5330050">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330058">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330062">case</span>&nbsp;<span class="ident" id="5330067">OpRepeat</span><span class="op" id="5330075">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330079">if</span>&nbsp;<span class="ident" id="5330082">x</span><span class="op" id="5330083">.</span><span class="ident" id="5330084">Flags</span><span class="op" id="5330089">&amp;</span><span class="ident" id="5330090">NonGreedy</span>&nbsp;<span class="op" id="5330100">!=</span>&nbsp;<span class="ident" id="5330103">y</span><span class="op" id="5330104">.</span><span class="ident" id="5330105">Flags</span><span class="op" id="5330110">&amp;</span><span class="ident" id="5330111">NonGreedy</span>&nbsp;<span class="op" id="5330121">||</span>&nbsp;<span class="ident" id="5330124">x</span><span class="op" id="5330125">.</span><span class="ident" id="5330126">Min</span>&nbsp;<span class="op" id="5330130">!=</span>&nbsp;<span class="ident" id="5330133">y</span><span class="op" id="5330134">.</span><span class="ident" id="5330135">Min</span>&nbsp;<span class="op" id="5330139">||</span>&nbsp;<span class="ident" id="5330142">x</span><span class="op" id="5330143">.</span><span class="ident" id="5330144">Max</span>&nbsp;<span class="op" id="5330148">!=</span>&nbsp;<span class="ident" id="5330151">y</span><span class="op" id="5330152">.</span><span class="ident" id="5330153">Max</span>&nbsp;<span class="op" id="5330157">||</span>&nbsp;<span class="op" id="5330160">!</span><span class="ident" id="5330161">x</span><span class="op" id="5330162">.</span><span class="ident" id="5330163">Sub</span><span class="op" id="5330166">[</span><span class="num" id="5330167">0</span><span class="op" id="5330168">]</span><span class="op" id="5330169">.</span><span class="ident" id="5330170">Equal</span><span class="op" id="5330175">(</span><span class="ident" id="5330176">y</span><span class="op" id="5330177">.</span><span class="ident" id="5330178">Sub</span><span class="op" id="5330181">[</span><span class="num" id="5330182">0</span><span class="op" id="5330183">]</span><span class="op" id="5330184">)</span>&nbsp;<span class="op" id="5330186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330191">return</span>&nbsp;<span class="builtintype" id="5330198">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330206">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330210">case</span>&nbsp;<span class="ident" id="5330215">OpCapture</span><span class="op" id="5330224">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330228">if</span>&nbsp;<span class="ident" id="5330231">x</span><span class="op" id="5330232">.</span><span class="ident" id="5330233">Cap</span>&nbsp;<span class="op" id="5330237">!=</span>&nbsp;<span class="ident" id="5330240">y</span><span class="op" id="5330241">.</span><span class="ident" id="5330242">Cap</span>&nbsp;<span class="op" id="5330246">||</span>&nbsp;<span class="ident" id="5330249">x</span><span class="op" id="5330250">.</span><span class="ident" id="5330251">Name</span>&nbsp;<span class="op" id="5330256">!=</span>&nbsp;<span class="ident" id="5330259">y</span><span class="op" id="5330260">.</span><span class="ident" id="5330261">Name</span>&nbsp;<span class="op" id="5330266">||</span>&nbsp;<span class="op" id="5330269">!</span><span class="ident" id="5330270">x</span><span class="op" id="5330271">.</span><span class="ident" id="5330272">Sub</span><span class="op" id="5330275">[</span><span class="num" id="5330276">0</span><span class="op" id="5330277">]</span><span class="op" id="5330278">.</span><span class="ident" id="5330279">Equal</span><span class="op" id="5330284">(</span><span class="ident" id="5330285">y</span><span class="op" id="5330286">.</span><span class="ident" id="5330287">Sub</span><span class="op" id="5330290">[</span><span class="num" id="5330291">0</span><span class="op" id="5330292">]</span><span class="op" id="5330293">)</span>&nbsp;<span class="op" id="5330295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330300">return</span>&nbsp;<span class="builtintype" id="5330307">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330315">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330321">return</span>&nbsp;<span class="builtintype" id="5330328">true</span><br>
<span class="lineno"></span><span class="op" id="5330333">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5330336">//&nbsp;writeRegexp&nbsp;writes&nbsp;the&nbsp;Perl&nbsp;syntax&nbsp;for&nbsp;the&nbsp;regular&nbsp;expression&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno">115</span><span class="keyword" id="5330410">func</span>&nbsp;<span class="ident" id="5330415">writeRegexp</span><span class="op" id="5330426">(</span><span class="ident" id="5330427">b</span>&nbsp;<span class="op" id="5330429">*</span><span class="ident" id="5330430">bytes</span><span class="op" id="5330435">.</span><span class="ident" id="5330436">Buffer</span><span class="op" id="5330442">,</span>&nbsp;<span class="ident" id="5330444">re</span>&nbsp;<span class="op" id="5330447">*</span><span class="ident" id="5330448">Regexp</span><span class="op" id="5330454">)</span>&nbsp;<span class="op" id="5330456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330459">switch</span>&nbsp;<span class="ident" id="5330466">re</span><span class="op" id="5330468">.</span><span class="ident" id="5330469">Op</span>&nbsp;<span class="op" id="5330472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330475">default</span><span class="op" id="5330482">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330486">b</span><span class="op" id="5330487">.</span><span class="ident" id="5330488">WriteString</span><span class="op" id="5330499">(</span><span class="string" id="5330500">&#34;&lt;invalid&nbsp;op&#34;</span>&nbsp;<span class="op" id="5330514">+</span>&nbsp;<span class="ident" id="5330516">strconv</span><span class="op" id="5330523">.</span><span class="ident" id="5330524">Itoa</span><span class="op" id="5330528">(</span><span class="builtintype" id="5330529">int</span><span class="op" id="5330532">(</span><span class="ident" id="5330533">re</span><span class="op" id="5330535">.</span><span class="ident" id="5330536">Op</span><span class="op" id="5330538">)</span><span class="op" id="5330539">)</span>&nbsp;<span class="op" id="5330541">+</span>&nbsp;<span class="string" id="5330543">&#34;&gt;&#34;</span><span class="op" id="5330546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330549">case</span>&nbsp;<span class="ident" id="5330554">OpNoMatch</span><span class="op" id="5330563">:</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330567">b</span><span class="op" id="5330568">.</span><span class="ident" id="5330569">WriteString</span><span class="op" id="5330580">(</span><span class="string" id="5330581">`[^\x00-\x{10FFFF}]`</span><span class="op" id="5330601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330604">case</span>&nbsp;<span class="ident" id="5330609">OpEmptyMatch</span><span class="op" id="5330621">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330625">b</span><span class="op" id="5330626">.</span><span class="ident" id="5330627">WriteString</span><span class="op" id="5330638">(</span><span class="string" id="5330639">`(?:)`</span><span class="op" id="5330645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330648">case</span>&nbsp;<span class="ident" id="5330653">OpLiteral</span><span class="op" id="5330662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330666">if</span>&nbsp;<span class="ident" id="5330669">re</span><span class="op" id="5330671">.</span><span class="ident" id="5330672">Flags</span><span class="op" id="5330677">&amp;</span><span class="ident" id="5330678">FoldCase</span>&nbsp;<span class="op" id="5330687">!=</span>&nbsp;<span class="num" id="5330690">0</span>&nbsp;<span class="op" id="5330692">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330697">b</span><span class="op" id="5330698">.</span><span class="ident" id="5330699">WriteString</span><span class="op" id="5330710">(</span><span class="string" id="5330711">`(?i:`</span><span class="op" id="5330717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330721">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330725">for</span>&nbsp;<span class="ident" id="5330729">_</span><span class="op" id="5330730">,</span>&nbsp;<span class="ident" id="5330732">r</span>&nbsp;<span class="op" id="5330734">:=</span>&nbsp;<span class="keyword" id="5330737">range</span>&nbsp;<span class="ident" id="5330743">re</span><span class="op" id="5330745">.</span><span class="ident" id="5330746">Rune</span>&nbsp;<span class="op" id="5330751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330756">escape</span><span class="op" id="5330762">(</span><span class="ident" id="5330763">b</span><span class="op" id="5330764">,</span>&nbsp;<span class="ident" id="5330766">r</span><span class="op" id="5330767">,</span>&nbsp;<span class="builtintype" id="5330769">false</span><span class="op" id="5330774">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330778">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330782">if</span>&nbsp;<span class="ident" id="5330785">re</span><span class="op" id="5330787">.</span><span class="ident" id="5330788">Flags</span><span class="op" id="5330793">&amp;</span><span class="ident" id="5330794">FoldCase</span>&nbsp;<span class="op" id="5330803">!=</span>&nbsp;<span class="num" id="5330806">0</span>&nbsp;<span class="op" id="5330808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330813">b</span><span class="op" id="5330814">.</span><span class="ident" id="5330815">WriteString</span><span class="op" id="5330826">(</span><span class="string" id="5330827">`)`</span><span class="op" id="5330830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330837">case</span>&nbsp;<span class="ident" id="5330842">OpCharClass</span><span class="op" id="5330853">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330857">if</span>&nbsp;<span class="builtinfunc" id="5330860">len</span><span class="op" id="5330863">(</span><span class="ident" id="5330864">re</span><span class="op" id="5330866">.</span><span class="ident" id="5330867">Rune</span><span class="op" id="5330871">)</span><span class="op" id="5330872">%</span><span class="num" id="5330873">2</span>&nbsp;<span class="op" id="5330875">!=</span>&nbsp;<span class="num" id="5330878">0</span>&nbsp;<span class="op" id="5330880">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330885">b</span><span class="op" id="5330886">.</span><span class="ident" id="5330887">WriteString</span><span class="op" id="5330898">(</span><span class="string" id="5330899">`[invalid&nbsp;char&nbsp;class]`</span><span class="op" id="5330921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330926">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5330934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330938">b</span><span class="op" id="5330939">.</span><span class="ident" id="5330940">WriteRune</span><span class="op" id="5330949">(</span><span class="string" id="5330950">&#39;[&#39;</span><span class="op" id="5330953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5330957">if</span>&nbsp;<span class="builtinfunc" id="5330960">len</span><span class="op" id="5330963">(</span><span class="ident" id="5330964">re</span><span class="op" id="5330966">.</span><span class="ident" id="5330967">Rune</span><span class="op" id="5330971">)</span>&nbsp;<span class="op" id="5330973">==</span>&nbsp;<span class="num" id="5330976">0</span>&nbsp;<span class="op" id="5330978">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5330983">b</span><span class="op" id="5330984">.</span><span class="ident" id="5330985">WriteString</span><span class="op" id="5330996">(</span><span class="string" id="5330997">`^\x00-\x{10FFFF}`</span><span class="op" id="5331015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331019">}</span>&nbsp;<span class="keyword" id="5331021">else</span>&nbsp;<span class="keyword" id="5331026">if</span>&nbsp;<span class="ident" id="5331029">re</span><span class="op" id="5331031">.</span><span class="ident" id="5331032">Rune</span><span class="op" id="5331036">[</span><span class="num" id="5331037">0</span><span class="op" id="5331038">]</span>&nbsp;<span class="op" id="5331040">==</span>&nbsp;<span class="num" id="5331043">0</span>&nbsp;<span class="op" id="5331045">&amp;&amp;</span>&nbsp;<span class="ident" id="5331048">re</span><span class="op" id="5331050">.</span><span class="ident" id="5331051">Rune</span><span class="op" id="5331055">[</span><span class="builtinfunc" id="5331056">len</span><span class="op" id="5331059">(</span><span class="ident" id="5331060">re</span><span class="op" id="5331062">.</span><span class="ident" id="5331063">Rune</span><span class="op" id="5331067">)</span><span class="op" id="5331068">-</span><span class="num" id="5331069">1</span><span class="op" id="5331070">]</span>&nbsp;<span class="op" id="5331072">==</span>&nbsp;<span class="ident" id="5331075">unicode</span><span class="op" id="5331082">.</span><span class="ident" id="5331083">MaxRune</span>&nbsp;<span class="op" id="5331091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5331096">//&nbsp;Contains&nbsp;0&nbsp;and&nbsp;MaxRune.&nbsp;&nbsp;Probably&nbsp;a&nbsp;negated&nbsp;class.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5331153">//&nbsp;Print&nbsp;the&nbsp;gaps.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331175">b</span><span class="op" id="5331176">.</span><span class="ident" id="5331177">WriteRune</span><span class="op" id="5331186">(</span><span class="string" id="5331187">&#39;^&#39;</span><span class="op" id="5331190">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331195">for</span>&nbsp;<span class="ident" id="5331199">i</span>&nbsp;<span class="op" id="5331201">:=</span>&nbsp;<span class="num" id="5331204">1</span><span class="op" id="5331205">;</span>&nbsp;<span class="ident" id="5331207">i</span>&nbsp;<span class="op" id="5331209">&lt;</span>&nbsp;<span class="builtinfunc" id="5331211">len</span><span class="op" id="5331214">(</span><span class="ident" id="5331215">re</span><span class="op" id="5331217">.</span><span class="ident" id="5331218">Rune</span><span class="op" id="5331222">)</span><span class="op" id="5331223">-</span><span class="num" id="5331224">1</span><span class="op" id="5331225">;</span>&nbsp;<span class="ident" id="5331227">i</span>&nbsp;<span class="op" id="5331229">+=</span>&nbsp;<span class="num" id="5331232">2</span>&nbsp;<span class="op" id="5331234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331240">lo</span><span class="op" id="5331242">,</span>&nbsp;<span class="ident" id="5331244">hi</span>&nbsp;<span class="op" id="5331247">:=</span>&nbsp;<span class="ident" id="5331250">re</span><span class="op" id="5331252">.</span><span class="ident" id="5331253">Rune</span><span class="op" id="5331257">[</span><span class="ident" id="5331258">i</span><span class="op" id="5331259">]</span><span class="op" id="5331260">+</span><span class="num" id="5331261">1</span><span class="op" id="5331262">,</span>&nbsp;<span class="ident" id="5331264">re</span><span class="op" id="5331266">.</span><span class="ident" id="5331267">Rune</span><span class="op" id="5331271">[</span><span class="ident" id="5331272">i</span><span class="op" id="5331273">+</span><span class="num" id="5331274">1</span><span class="op" id="5331275">]</span><span class="op" id="5331276">-</span><span class="num" id="5331277">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331283">escape</span><span class="op" id="5331289">(</span><span class="ident" id="5331290">b</span><span class="op" id="5331291">,</span>&nbsp;<span class="ident" id="5331293">lo</span><span class="op" id="5331295">,</span>&nbsp;<span class="ident" id="5331297">lo</span>&nbsp;<span class="op" id="5331300">==</span>&nbsp;<span class="string" id="5331303">&#39;-&#39;</span><span class="op" id="5331306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331312">if</span>&nbsp;<span class="ident" id="5331315">lo</span>&nbsp;<span class="op" id="5331318">!=</span>&nbsp;<span class="ident" id="5331321">hi</span>&nbsp;<span class="op" id="5331324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331331">b</span><span class="op" id="5331332">.</span><span class="ident" id="5331333">WriteRune</span><span class="op" id="5331342">(</span><span class="string" id="5331343">&#39;-&#39;</span><span class="op" id="5331346">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331353">escape</span><span class="op" id="5331359">(</span><span class="ident" id="5331360">b</span><span class="op" id="5331361">,</span>&nbsp;<span class="ident" id="5331363">hi</span><span class="op" id="5331365">,</span>&nbsp;<span class="ident" id="5331367">hi</span>&nbsp;<span class="op" id="5331370">==</span>&nbsp;<span class="string" id="5331373">&#39;-&#39;</span><span class="op" id="5331376">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331382">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331391">}</span>&nbsp;<span class="keyword" id="5331393">else</span>&nbsp;<span class="op" id="5331398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331403">for</span>&nbsp;<span class="ident" id="5331407">i</span>&nbsp;<span class="op" id="5331409">:=</span>&nbsp;<span class="num" id="5331412">0</span><span class="op" id="5331413">;</span>&nbsp;<span class="ident" id="5331415">i</span>&nbsp;<span class="op" id="5331417">&lt;</span>&nbsp;<span class="builtinfunc" id="5331419">len</span><span class="op" id="5331422">(</span><span class="ident" id="5331423">re</span><span class="op" id="5331425">.</span><span class="ident" id="5331426">Rune</span><span class="op" id="5331430">)</span><span class="op" id="5331431">;</span>&nbsp;<span class="ident" id="5331433">i</span>&nbsp;<span class="op" id="5331435">+=</span>&nbsp;<span class="num" id="5331438">2</span>&nbsp;<span class="op" id="5331440">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331446">lo</span><span class="op" id="5331448">,</span>&nbsp;<span class="ident" id="5331450">hi</span>&nbsp;<span class="op" id="5331453">:=</span>&nbsp;<span class="ident" id="5331456">re</span><span class="op" id="5331458">.</span><span class="ident" id="5331459">Rune</span><span class="op" id="5331463">[</span><span class="ident" id="5331464">i</span><span class="op" id="5331465">]</span><span class="op" id="5331466">,</span>&nbsp;<span class="ident" id="5331468">re</span><span class="op" id="5331470">.</span><span class="ident" id="5331471">Rune</span><span class="op" id="5331475">[</span><span class="ident" id="5331476">i</span><span class="op" id="5331477">+</span><span class="num" id="5331478">1</span><span class="op" id="5331479">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331485">escape</span><span class="op" id="5331491">(</span><span class="ident" id="5331492">b</span><span class="op" id="5331493">,</span>&nbsp;<span class="ident" id="5331495">lo</span><span class="op" id="5331497">,</span>&nbsp;<span class="ident" id="5331499">lo</span>&nbsp;<span class="op" id="5331502">==</span>&nbsp;<span class="string" id="5331505">&#39;-&#39;</span><span class="op" id="5331508">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331514">if</span>&nbsp;<span class="ident" id="5331517">lo</span>&nbsp;<span class="op" id="5331520">!=</span>&nbsp;<span class="ident" id="5331523">hi</span>&nbsp;<span class="op" id="5331526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331533">b</span><span class="op" id="5331534">.</span><span class="ident" id="5331535">WriteRune</span><span class="op" id="5331544">(</span><span class="string" id="5331545">&#39;-&#39;</span><span class="op" id="5331548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331555">escape</span><span class="op" id="5331561">(</span><span class="ident" id="5331562">b</span><span class="op" id="5331563">,</span>&nbsp;<span class="ident" id="5331565">hi</span><span class="op" id="5331567">,</span>&nbsp;<span class="ident" id="5331569">hi</span>&nbsp;<span class="op" id="5331572">==</span>&nbsp;<span class="string" id="5331575">&#39;-&#39;</span><span class="op" id="5331578">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331593">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331597">b</span><span class="op" id="5331598">.</span><span class="ident" id="5331599">WriteRune</span><span class="op" id="5331608">(</span><span class="string" id="5331609">&#39;]&#39;</span><span class="op" id="5331612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331615">case</span>&nbsp;<span class="ident" id="5331620">OpAnyCharNotNL</span><span class="op" id="5331634">:</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331638">b</span><span class="op" id="5331639">.</span><span class="ident" id="5331640">WriteString</span><span class="op" id="5331651">(</span><span class="string" id="5331652">`(?-s:.)`</span><span class="op" id="5331661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331664">case</span>&nbsp;<span class="ident" id="5331669">OpAnyChar</span><span class="op" id="5331678">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331682">b</span><span class="op" id="5331683">.</span><span class="ident" id="5331684">WriteString</span><span class="op" id="5331695">(</span><span class="string" id="5331696">`(?s:.)`</span><span class="op" id="5331704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331707">case</span>&nbsp;<span class="ident" id="5331712">OpBeginLine</span><span class="op" id="5331723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331727">b</span><span class="op" id="5331728">.</span><span class="ident" id="5331729">WriteRune</span><span class="op" id="5331738">(</span><span class="string" id="5331739">&#39;^&#39;</span><span class="op" id="5331742">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331745">case</span>&nbsp;<span class="ident" id="5331750">OpEndLine</span><span class="op" id="5331759">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331763">b</span><span class="op" id="5331764">.</span><span class="ident" id="5331765">WriteRune</span><span class="op" id="5331774">(</span><span class="string" id="5331775">&#39;$&#39;</span><span class="op" id="5331778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331781">case</span>&nbsp;<span class="ident" id="5331786">OpBeginText</span><span class="op" id="5331797">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331801">b</span><span class="op" id="5331802">.</span><span class="ident" id="5331803">WriteString</span><span class="op" id="5331814">(</span><span class="string" id="5331815">`\A`</span><span class="op" id="5331819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331822">case</span>&nbsp;<span class="ident" id="5331827">OpEndText</span><span class="op" id="5331836">:</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331840">if</span>&nbsp;<span class="ident" id="5331843">re</span><span class="op" id="5331845">.</span><span class="ident" id="5331846">Flags</span><span class="op" id="5331851">&amp;</span><span class="ident" id="5331852">WasDollar</span>&nbsp;<span class="op" id="5331862">!=</span>&nbsp;<span class="num" id="5331865">0</span>&nbsp;<span class="op" id="5331867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331872">b</span><span class="op" id="5331873">.</span><span class="ident" id="5331874">WriteString</span><span class="op" id="5331885">(</span><span class="string" id="5331886">`(?-m:$)`</span><span class="op" id="5331895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331899">}</span>&nbsp;<span class="keyword" id="5331901">else</span>&nbsp;<span class="op" id="5331906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331911">b</span><span class="op" id="5331912">.</span><span class="ident" id="5331913">WriteString</span><span class="op" id="5331924">(</span><span class="string" id="5331925">`\z`</span><span class="op" id="5331929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5331933">}</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331936">case</span>&nbsp;<span class="ident" id="5331941">OpWordBoundary</span><span class="op" id="5331955">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5331959">b</span><span class="op" id="5331960">.</span><span class="ident" id="5331961">WriteString</span><span class="op" id="5331972">(</span><span class="string" id="5331973">`\b`</span><span class="op" id="5331977">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5331980">case</span>&nbsp;<span class="ident" id="5331985">OpNoWordBoundary</span><span class="op" id="5332001">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332005">b</span><span class="op" id="5332006">.</span><span class="ident" id="5332007">WriteString</span><span class="op" id="5332018">(</span><span class="string" id="5332019">`\B`</span><span class="op" id="5332023">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332026">case</span>&nbsp;<span class="ident" id="5332031">OpCapture</span><span class="op" id="5332040">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332044">if</span>&nbsp;<span class="ident" id="5332047">re</span><span class="op" id="5332049">.</span><span class="ident" id="5332050">Name</span>&nbsp;<span class="op" id="5332055">!=</span>&nbsp;<span class="string" id="5332058">&#34;&#34;</span>&nbsp;<span class="op" id="5332061">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332066">b</span><span class="op" id="5332067">.</span><span class="ident" id="5332068">WriteString</span><span class="op" id="5332079">(</span><span class="string" id="5332080">`(?P&lt;`</span><span class="op" id="5332086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332091">b</span><span class="op" id="5332092">.</span><span class="ident" id="5332093">WriteString</span><span class="op" id="5332104">(</span><span class="ident" id="5332105">re</span><span class="op" id="5332107">.</span><span class="ident" id="5332108">Name</span><span class="op" id="5332112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332117">b</span><span class="op" id="5332118">.</span><span class="ident" id="5332119">WriteRune</span><span class="op" id="5332128">(</span><span class="string" id="5332129">&#39;&gt;&#39;</span><span class="op" id="5332132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332136">}</span>&nbsp;<span class="keyword" id="5332138">else</span>&nbsp;<span class="op" id="5332143">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332148">b</span><span class="op" id="5332149">.</span><span class="ident" id="5332150">WriteRune</span><span class="op" id="5332159">(</span><span class="string" id="5332160">&#39;(&#39;</span><span class="op" id="5332163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332171">if</span>&nbsp;<span class="ident" id="5332174">re</span><span class="op" id="5332176">.</span><span class="ident" id="5332177">Sub</span><span class="op" id="5332180">[</span><span class="num" id="5332181">0</span><span class="op" id="5332182">]</span><span class="op" id="5332183">.</span><span class="ident" id="5332184">Op</span>&nbsp;<span class="op" id="5332187">!=</span>&nbsp;<span class="ident" id="5332190">OpEmptyMatch</span>&nbsp;<span class="op" id="5332203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332208">writeRegexp</span><span class="op" id="5332219">(</span><span class="ident" id="5332220">b</span><span class="op" id="5332221">,</span>&nbsp;<span class="ident" id="5332223">re</span><span class="op" id="5332225">.</span><span class="ident" id="5332226">Sub</span><span class="op" id="5332229">[</span><span class="num" id="5332230">0</span><span class="op" id="5332231">]</span><span class="op" id="5332232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332236">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332240">b</span><span class="op" id="5332241">.</span><span class="ident" id="5332242">WriteRune</span><span class="op" id="5332251">(</span><span class="string" id="5332252">&#39;)&#39;</span><span class="op" id="5332255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332258">case</span>&nbsp;<span class="ident" id="5332263">OpStar</span><span class="op" id="5332269">,</span>&nbsp;<span class="ident" id="5332271">OpPlus</span><span class="op" id="5332277">,</span>&nbsp;<span class="ident" id="5332279">OpQuest</span><span class="op" id="5332286">,</span>&nbsp;<span class="ident" id="5332288">OpRepeat</span><span class="op" id="5332296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332300">if</span>&nbsp;<span class="ident" id="5332303">sub</span>&nbsp;<span class="op" id="5332307">:=</span>&nbsp;<span class="ident" id="5332310">re</span><span class="op" id="5332312">.</span><span class="ident" id="5332313">Sub</span><span class="op" id="5332316">[</span><span class="num" id="5332317">0</span><span class="op" id="5332318">]</span><span class="op" id="5332319">;</span>&nbsp;<span class="ident" id="5332321">sub</span><span class="op" id="5332324">.</span><span class="ident" id="5332325">Op</span>&nbsp;<span class="op" id="5332328">&gt;</span>&nbsp;<span class="ident" id="5332330">OpCapture</span>&nbsp;<span class="op" id="5332340">||</span>&nbsp;<span class="ident" id="5332343">sub</span><span class="op" id="5332346">.</span><span class="ident" id="5332347">Op</span>&nbsp;<span class="op" id="5332350">==</span>&nbsp;<span class="ident" id="5332353">OpLiteral</span>&nbsp;<span class="op" id="5332363">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="5332366">len</span><span class="op" id="5332369">(</span><span class="ident" id="5332370">sub</span><span class="op" id="5332373">.</span><span class="ident" id="5332374">Rune</span><span class="op" id="5332378">)</span>&nbsp;<span class="op" id="5332380">&gt;</span>&nbsp;<span class="num" id="5332382">1</span>&nbsp;<span class="op" id="5332384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332389">b</span><span class="op" id="5332390">.</span><span class="ident" id="5332391">WriteString</span><span class="op" id="5332402">(</span><span class="string" id="5332403">`(?:`</span><span class="op" id="5332408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332413">writeRegexp</span><span class="op" id="5332424">(</span><span class="ident" id="5332425">b</span><span class="op" id="5332426">,</span>&nbsp;<span class="ident" id="5332428">sub</span><span class="op" id="5332431">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332436">b</span><span class="op" id="5332437">.</span><span class="ident" id="5332438">WriteString</span><span class="op" id="5332449">(</span><span class="string" id="5332450">`)`</span><span class="op" id="5332453">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332457">}</span>&nbsp;<span class="keyword" id="5332459">else</span>&nbsp;<span class="op" id="5332464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332469">writeRegexp</span><span class="op" id="5332480">(</span><span class="ident" id="5332481">b</span><span class="op" id="5332482">,</span>&nbsp;<span class="ident" id="5332484">sub</span><span class="op" id="5332487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332495">switch</span>&nbsp;<span class="ident" id="5332502">re</span><span class="op" id="5332504">.</span><span class="ident" id="5332505">Op</span>&nbsp;<span class="op" id="5332508">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332512">case</span>&nbsp;<span class="ident" id="5332517">OpStar</span><span class="op" id="5332523">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332528">b</span><span class="op" id="5332529">.</span><span class="ident" id="5332530">WriteRune</span><span class="op" id="5332539">(</span><span class="string" id="5332540">&#39;*&#39;</span><span class="op" id="5332543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332547">case</span>&nbsp;<span class="ident" id="5332552">OpPlus</span><span class="op" id="5332558">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332563">b</span><span class="op" id="5332564">.</span><span class="ident" id="5332565">WriteRune</span><span class="op" id="5332574">(</span><span class="string" id="5332575">&#39;+&#39;</span><span class="op" id="5332578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332582">case</span>&nbsp;<span class="ident" id="5332587">OpQuest</span><span class="op" id="5332594">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332599">b</span><span class="op" id="5332600">.</span><span class="ident" id="5332601">WriteRune</span><span class="op" id="5332610">(</span><span class="string" id="5332611">&#39;?&#39;</span><span class="op" id="5332614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332618">case</span>&nbsp;<span class="ident" id="5332623">OpRepeat</span><span class="op" id="5332631">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332636">b</span><span class="op" id="5332637">.</span><span class="ident" id="5332638">WriteRune</span><span class="op" id="5332647">(</span><span class="string" id="5332648">&#39;{&#39;</span><span class="op" id="5332651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332656">b</span><span class="op" id="5332657">.</span><span class="ident" id="5332658">WriteString</span><span class="op" id="5332669">(</span><span class="ident" id="5332670">strconv</span><span class="op" id="5332677">.</span><span class="ident" id="5332678">Itoa</span><span class="op" id="5332682">(</span><span class="ident" id="5332683">re</span><span class="op" id="5332685">.</span><span class="ident" id="5332686">Min</span><span class="op" id="5332689">)</span><span class="op" id="5332690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332695">if</span>&nbsp;<span class="ident" id="5332698">re</span><span class="op" id="5332700">.</span><span class="ident" id="5332701">Max</span>&nbsp;<span class="op" id="5332705">!=</span>&nbsp;<span class="ident" id="5332708">re</span><span class="op" id="5332710">.</span><span class="ident" id="5332711">Min</span>&nbsp;<span class="op" id="5332715">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332721">b</span><span class="op" id="5332722">.</span><span class="ident" id="5332723">WriteRune</span><span class="op" id="5332732">(</span><span class="string" id="5332733">&#39;,&#39;</span><span class="op" id="5332736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332742">if</span>&nbsp;<span class="ident" id="5332745">re</span><span class="op" id="5332747">.</span><span class="ident" id="5332748">Max</span>&nbsp;<span class="op" id="5332752">&gt;=</span>&nbsp;<span class="num" id="5332755">0</span>&nbsp;<span class="op" id="5332757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332764">b</span><span class="op" id="5332765">.</span><span class="ident" id="5332766">WriteString</span><span class="op" id="5332777">(</span><span class="ident" id="5332778">strconv</span><span class="op" id="5332785">.</span><span class="ident" id="5332786">Itoa</span><span class="op" id="5332790">(</span><span class="ident" id="5332791">re</span><span class="op" id="5332793">.</span><span class="ident" id="5332794">Max</span><span class="op" id="5332797">)</span><span class="op" id="5332798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332809">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332814">b</span><span class="op" id="5332815">.</span><span class="ident" id="5332816">WriteRune</span><span class="op" id="5332825">(</span><span class="string" id="5332826">&#39;}&#39;</span><span class="op" id="5332829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332837">if</span>&nbsp;<span class="ident" id="5332840">re</span><span class="op" id="5332842">.</span><span class="ident" id="5332843">Flags</span><span class="op" id="5332848">&amp;</span><span class="ident" id="5332849">NonGreedy</span>&nbsp;<span class="op" id="5332859">!=</span>&nbsp;<span class="num" id="5332862">0</span>&nbsp;<span class="op" id="5332864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332869">b</span><span class="op" id="5332870">.</span><span class="ident" id="5332871">WriteRune</span><span class="op" id="5332880">(</span><span class="string" id="5332881">&#39;?&#39;</span><span class="op" id="5332884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5332888">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332891">case</span>&nbsp;<span class="ident" id="5332896">OpConcat</span><span class="op" id="5332904">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332908">for</span>&nbsp;<span class="ident" id="5332912">_</span><span class="op" id="5332913">,</span>&nbsp;<span class="ident" id="5332915">sub</span>&nbsp;<span class="op" id="5332919">:=</span>&nbsp;<span class="keyword" id="5332922">range</span>&nbsp;<span class="ident" id="5332928">re</span><span class="op" id="5332930">.</span><span class="ident" id="5332931">Sub</span>&nbsp;<span class="op" id="5332935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5332940">if</span>&nbsp;<span class="ident" id="5332943">sub</span><span class="op" id="5332946">.</span><span class="ident" id="5332947">Op</span>&nbsp;<span class="op" id="5332950">==</span>&nbsp;<span class="ident" id="5332953">OpAlternate</span>&nbsp;<span class="op" id="5332965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332971">b</span><span class="op" id="5332972">.</span><span class="ident" id="5332973">WriteString</span><span class="op" id="5332984">(</span><span class="string" id="5332985">`(?:`</span><span class="op" id="5332990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5332996">writeRegexp</span><span class="op" id="5333007">(</span><span class="ident" id="5333008">b</span><span class="op" id="5333009">,</span>&nbsp;<span class="ident" id="5333011">sub</span><span class="op" id="5333014">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333020">b</span><span class="op" id="5333021">.</span><span class="ident" id="5333022">WriteString</span><span class="op" id="5333033">(</span><span class="string" id="5333034">`)`</span><span class="op" id="5333037">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333042">}</span>&nbsp;<span class="keyword" id="5333044">else</span>&nbsp;<span class="op" id="5333049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333055">writeRegexp</span><span class="op" id="5333066">(</span><span class="ident" id="5333067">b</span><span class="op" id="5333068">,</span>&nbsp;<span class="ident" id="5333070">sub</span><span class="op" id="5333073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333082">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333085">case</span>&nbsp;<span class="ident" id="5333090">OpAlternate</span><span class="op" id="5333101">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333105">for</span>&nbsp;<span class="ident" id="5333109">i</span><span class="op" id="5333110">,</span>&nbsp;<span class="ident" id="5333112">sub</span>&nbsp;<span class="op" id="5333116">:=</span>&nbsp;<span class="keyword" id="5333119">range</span>&nbsp;<span class="ident" id="5333125">re</span><span class="op" id="5333127">.</span><span class="ident" id="5333128">Sub</span>&nbsp;<span class="op" id="5333132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333137">if</span>&nbsp;<span class="ident" id="5333140">i</span>&nbsp;<span class="op" id="5333142">&gt;</span>&nbsp;<span class="num" id="5333144">0</span>&nbsp;<span class="op" id="5333146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333152">b</span><span class="op" id="5333153">.</span><span class="ident" id="5333154">WriteRune</span><span class="op" id="5333163">(</span><span class="string" id="5333164">&#39;|&#39;</span><span class="op" id="5333167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333172">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333177">writeRegexp</span><span class="op" id="5333188">(</span><span class="ident" id="5333189">b</span><span class="op" id="5333190">,</span>&nbsp;<span class="ident" id="5333192">sub</span><span class="op" id="5333195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333202">}</span><br>
<span class="lineno"></span><span class="op" id="5333204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">245</span><span class="keyword" id="5333207">func</span>&nbsp;<span class="op" id="5333212">(</span><span class="ident" id="5333213">re</span>&nbsp;<span class="op" id="5333216">*</span><span class="ident" id="5333217">Regexp</span><span class="op" id="5333223">)</span>&nbsp;<span class="ident" id="5333225">String</span><span class="op" id="5333231">(</span><span class="op" id="5333232">)</span>&nbsp;<span class="builtintype" id="5333234">string</span>&nbsp;<span class="op" id="5333241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333244">var</span>&nbsp;<span class="ident" id="5333248">b</span>&nbsp;<span class="ident" id="5333250">bytes</span><span class="op" id="5333255">.</span><span class="ident" id="5333256">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333264">writeRegexp</span><span class="op" id="5333275">(</span><span class="op" id="5333276">&amp;</span><span class="ident" id="5333277">b</span><span class="op" id="5333278">,</span>&nbsp;<span class="ident" id="5333280">re</span><span class="op" id="5333282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333285">return</span>&nbsp;<span class="ident" id="5333292">b</span><span class="op" id="5333293">.</span><span class="ident" id="5333294">String</span><span class="op" id="5333300">(</span><span class="op" id="5333301">)</span><br>
<span class="lineno"></span><span class="op" id="5333303">}</span><br>
<span class="lineno">250</span><br>
<span class="lineno"></span><span class="keyword" id="5333306">const</span>&nbsp;<span class="ident" id="5333312">meta</span>&nbsp;<span class="op" id="5333317">=</span>&nbsp;<span class="string" id="5333319">`\.+*?()|[]{}^$`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5333337">func</span>&nbsp;<span class="ident" id="5333342">escape</span><span class="op" id="5333348">(</span><span class="ident" id="5333349">b</span>&nbsp;<span class="op" id="5333351">*</span><span class="ident" id="5333352">bytes</span><span class="op" id="5333357">.</span><span class="ident" id="5333358">Buffer</span><span class="op" id="5333364">,</span>&nbsp;<span class="ident" id="5333366">r</span>&nbsp;<span class="builtintype" id="5333368">rune</span><span class="op" id="5333372">,</span>&nbsp;<span class="ident" id="5333374">force</span>&nbsp;<span class="builtintype" id="5333380">bool</span><span class="op" id="5333384">)</span>&nbsp;<span class="op" id="5333386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333389">if</span>&nbsp;<span class="ident" id="5333392">unicode</span><span class="op" id="5333399">.</span><span class="ident" id="5333400">IsPrint</span><span class="op" id="5333407">(</span><span class="ident" id="5333408">r</span><span class="op" id="5333409">)</span>&nbsp;<span class="op" id="5333411">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333415">if</span>&nbsp;<span class="ident" id="5333418">strings</span><span class="op" id="5333425">.</span><span class="ident" id="5333426">IndexRune</span><span class="op" id="5333435">(</span><span class="ident" id="5333436">meta</span><span class="op" id="5333440">,</span>&nbsp;<span class="ident" id="5333442">r</span><span class="op" id="5333443">)</span>&nbsp;<span class="op" id="5333445">&gt;=</span>&nbsp;<span class="num" id="5333448">0</span>&nbsp;<span class="op" id="5333450">||</span>&nbsp;<span class="ident" id="5333453">force</span>&nbsp;<span class="op" id="5333459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333464">b</span><span class="op" id="5333465">.</span><span class="ident" id="5333466">WriteRune</span><span class="op" id="5333475">(</span><span class="string" id="5333476">&#39;\\&#39;</span><span class="op" id="5333480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333488">b</span><span class="op" id="5333489">.</span><span class="ident" id="5333490">WriteRune</span><span class="op" id="5333499">(</span><span class="ident" id="5333500">r</span><span class="op" id="5333501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333505">return</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333517">switch</span>&nbsp;<span class="ident" id="5333524">r</span>&nbsp;<span class="op" id="5333526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333529">case</span>&nbsp;<span class="string" id="5333534">&#39;\a&#39;</span><span class="op" id="5333538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333542">b</span><span class="op" id="5333543">.</span><span class="ident" id="5333544">WriteString</span><span class="op" id="5333555">(</span><span class="string" id="5333556">`\a`</span><span class="op" id="5333560">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333563">case</span>&nbsp;<span class="string" id="5333568">&#39;\f&#39;</span><span class="op" id="5333572">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333576">b</span><span class="op" id="5333577">.</span><span class="ident" id="5333578">WriteString</span><span class="op" id="5333589">(</span><span class="string" id="5333590">`\f`</span><span class="op" id="5333594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333597">case</span>&nbsp;<span class="string" id="5333602">&#39;\n&#39;</span><span class="op" id="5333606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333610">b</span><span class="op" id="5333611">.</span><span class="ident" id="5333612">WriteString</span><span class="op" id="5333623">(</span><span class="string" id="5333624">`\n`</span><span class="op" id="5333628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333631">case</span>&nbsp;<span class="string" id="5333636">&#39;\r&#39;</span><span class="op" id="5333640">:</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333644">b</span><span class="op" id="5333645">.</span><span class="ident" id="5333646">WriteString</span><span class="op" id="5333657">(</span><span class="string" id="5333658">`\r`</span><span class="op" id="5333662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333665">case</span>&nbsp;<span class="string" id="5333670">&#39;\t&#39;</span><span class="op" id="5333674">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333678">b</span><span class="op" id="5333679">.</span><span class="ident" id="5333680">WriteString</span><span class="op" id="5333691">(</span><span class="string" id="5333692">`\t`</span><span class="op" id="5333696">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333699">case</span>&nbsp;<span class="string" id="5333704">&#39;\v&#39;</span><span class="op" id="5333708">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333712">b</span><span class="op" id="5333713">.</span><span class="ident" id="5333714">WriteString</span><span class="op" id="5333725">(</span><span class="string" id="5333726">`\v`</span><span class="op" id="5333730">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333733">default</span><span class="op" id="5333740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333744">if</span>&nbsp;<span class="ident" id="5333747">r</span>&nbsp;<span class="op" id="5333749">&lt;</span>&nbsp;<span class="num" id="5333751">0x100</span>&nbsp;<span class="op" id="5333757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333762">b</span><span class="op" id="5333763">.</span><span class="ident" id="5333764">WriteString</span><span class="op" id="5333775">(</span><span class="string" id="5333776">`\x`</span><span class="op" id="5333780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333785">s</span>&nbsp;<span class="op" id="5333787">:=</span>&nbsp;<span class="ident" id="5333790">strconv</span><span class="op" id="5333797">.</span><span class="ident" id="5333798">FormatInt</span><span class="op" id="5333807">(</span><span class="ident" id="5333808">int64</span><span class="op" id="5333813">(</span><span class="ident" id="5333814">r</span><span class="op" id="5333815">)</span><span class="op" id="5333816">,</span>&nbsp;<span class="num" id="5333818">16</span><span class="op" id="5333820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333825">if</span>&nbsp;<span class="builtinfunc" id="5333828">len</span><span class="op" id="5333831">(</span><span class="ident" id="5333832">s</span><span class="op" id="5333833">)</span>&nbsp;<span class="op" id="5333835">==</span>&nbsp;<span class="num" id="5333838">1</span>&nbsp;<span class="op" id="5333840">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333846">b</span><span class="op" id="5333847">.</span><span class="ident" id="5333848">WriteRune</span><span class="op" id="5333857">(</span><span class="string" id="5333858">&#39;0&#39;</span><span class="op" id="5333861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333866">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333871">b</span><span class="op" id="5333872">.</span><span class="ident" id="5333873">WriteString</span><span class="op" id="5333884">(</span><span class="ident" id="5333885">s</span><span class="op" id="5333886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5333891">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333899">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333903">b</span><span class="op" id="5333904">.</span><span class="ident" id="5333905">WriteString</span><span class="op" id="5333916">(</span><span class="string" id="5333917">`\x{`</span><span class="op" id="5333922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333926">b</span><span class="op" id="5333927">.</span><span class="ident" id="5333928">WriteString</span><span class="op" id="5333939">(</span><span class="ident" id="5333940">strconv</span><span class="op" id="5333947">.</span><span class="ident" id="5333948">FormatInt</span><span class="op" id="5333957">(</span><span class="ident" id="5333958">int64</span><span class="op" id="5333963">(</span><span class="ident" id="5333964">r</span><span class="op" id="5333965">)</span><span class="op" id="5333966">,</span>&nbsp;<span class="num" id="5333968">16</span><span class="op" id="5333970">)</span><span class="op" id="5333971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5333975">b</span><span class="op" id="5333976">.</span><span class="ident" id="5333977">WriteString</span><span class="op" id="5333988">(</span><span class="string" id="5333989">`}`</span><span class="op" id="5333992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5333995">}</span><br>
<span class="lineno"></span><span class="op" id="5333997">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="5334000">//&nbsp;MaxCap&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum&nbsp;capture&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="5334062">func</span>&nbsp;<span class="op" id="5334067">(</span><span class="ident" id="5334068">re</span>&nbsp;<span class="op" id="5334071">*</span><span class="ident" id="5334072">Regexp</span><span class="op" id="5334078">)</span>&nbsp;<span class="ident" id="5334080">MaxCap</span><span class="op" id="5334086">(</span><span class="op" id="5334087">)</span>&nbsp;<span class="builtintype" id="5334089">int</span>&nbsp;<span class="op" id="5334093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334096">m</span>&nbsp;<span class="op" id="5334098">:=</span>&nbsp;<span class="num" id="5334101">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334104">if</span>&nbsp;<span class="ident" id="5334107">re</span><span class="op" id="5334109">.</span><span class="ident" id="5334110">Op</span>&nbsp;<span class="op" id="5334113">==</span>&nbsp;<span class="ident" id="5334116">OpCapture</span>&nbsp;<span class="op" id="5334126">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334130">m</span>&nbsp;<span class="op" id="5334132">=</span>&nbsp;<span class="ident" id="5334134">re</span><span class="op" id="5334136">.</span><span class="ident" id="5334137">Cap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5334142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334145">for</span>&nbsp;<span class="ident" id="5334149">_</span><span class="op" id="5334150">,</span>&nbsp;<span class="ident" id="5334152">sub</span>&nbsp;<span class="op" id="5334156">:=</span>&nbsp;<span class="keyword" id="5334159">range</span>&nbsp;<span class="ident" id="5334165">re</span><span class="op" id="5334167">.</span><span class="ident" id="5334168">Sub</span>&nbsp;<span class="op" id="5334172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334176">if</span>&nbsp;<span class="ident" id="5334179">n</span>&nbsp;<span class="op" id="5334181">:=</span>&nbsp;<span class="ident" id="5334184">sub</span><span class="op" id="5334187">.</span><span class="ident" id="5334188">MaxCap</span><span class="op" id="5334194">(</span><span class="op" id="5334195">)</span><span class="op" id="5334196">;</span>&nbsp;<span class="ident" id="5334198">m</span>&nbsp;<span class="op" id="5334200">&lt;</span>&nbsp;<span class="ident" id="5334202">n</span>&nbsp;<span class="op" id="5334204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334209">m</span>&nbsp;<span class="op" id="5334211">=</span>&nbsp;<span class="ident" id="5334213">n</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5334217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5334220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334223">return</span>&nbsp;<span class="ident" id="5334230">m</span><br>
<span class="lineno"></span><span class="op" id="5334232">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="comment" id="5334235">//&nbsp;CapNames&nbsp;walks&nbsp;the&nbsp;regexp&nbsp;to&nbsp;find&nbsp;the&nbsp;names&nbsp;of&nbsp;capturing&nbsp;groups.</span><br>
<span class="lineno"></span><span class="keyword" id="5334303">func</span>&nbsp;<span class="op" id="5334308">(</span><span class="ident" id="5334309">re</span>&nbsp;<span class="op" id="5334312">*</span><span class="ident" id="5334313">Regexp</span><span class="op" id="5334319">)</span>&nbsp;<span class="ident" id="5334321">CapNames</span><span class="op" id="5334329">(</span><span class="op" id="5334330">)</span>&nbsp;<span class="op" id="5334332">[</span><span class="op" id="5334333">]</span><span class="builtintype" id="5334334">string</span>&nbsp;<span class="op" id="5334341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334344">names</span>&nbsp;<span class="op" id="5334350">:=</span>&nbsp;<span class="builtinfunc" id="5334353">make</span><span class="op" id="5334357">(</span><span class="op" id="5334358">[</span><span class="op" id="5334359">]</span><span class="builtintype" id="5334360">string</span><span class="op" id="5334366">,</span>&nbsp;<span class="ident" id="5334368">re</span><span class="op" id="5334370">.</span><span class="ident" id="5334371">MaxCap</span><span class="op" id="5334377">(</span><span class="op" id="5334378">)</span><span class="op" id="5334379">+</span><span class="num" id="5334380">1</span><span class="op" id="5334381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334384">re</span><span class="op" id="5334386">.</span><span class="ident" id="5334387">capNames</span><span class="op" id="5334395">(</span><span class="ident" id="5334396">names</span><span class="op" id="5334401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334404">return</span>&nbsp;<span class="ident" id="5334411">names</span><br>
<span class="lineno">310</span><span class="op" id="5334417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5334420">func</span>&nbsp;<span class="op" id="5334425">(</span><span class="ident" id="5334426">re</span>&nbsp;<span class="op" id="5334429">*</span><span class="ident" id="5334430">Regexp</span><span class="op" id="5334436">)</span>&nbsp;<span class="ident" id="5334438">capNames</span><span class="op" id="5334446">(</span><span class="ident" id="5334447">names</span>&nbsp;<span class="op" id="5334453">[</span><span class="op" id="5334454">]</span><span class="builtintype" id="5334455">string</span><span class="op" id="5334461">)</span>&nbsp;<span class="op" id="5334463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334466">if</span>&nbsp;<span class="ident" id="5334469">re</span><span class="op" id="5334471">.</span><span class="ident" id="5334472">Op</span>&nbsp;<span class="op" id="5334475">==</span>&nbsp;<span class="ident" id="5334478">OpCapture</span>&nbsp;<span class="op" id="5334488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334492">names</span><span class="op" id="5334497">[</span><span class="ident" id="5334498">re</span><span class="op" id="5334500">.</span><span class="ident" id="5334501">Cap</span><span class="op" id="5334504">]</span>&nbsp;<span class="op" id="5334506">=</span>&nbsp;<span class="ident" id="5334508">re</span><span class="op" id="5334510">.</span><span class="ident" id="5334511">Name</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5334517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5334520">for</span>&nbsp;<span class="ident" id="5334524">_</span><span class="op" id="5334525">,</span>&nbsp;<span class="ident" id="5334527">sub</span>&nbsp;<span class="op" id="5334531">:=</span>&nbsp;<span class="keyword" id="5334534">range</span>&nbsp;<span class="ident" id="5334540">re</span><span class="op" id="5334542">.</span><span class="ident" id="5334543">Sub</span>&nbsp;<span class="op" id="5334547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5334551">sub</span><span class="op" id="5334554">.</span><span class="ident" id="5334555">capNames</span><span class="op" id="5334563">(</span><span class="ident" id="5334564">names</span><span class="op" id="5334569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5334572">}</span><br>
<span class="lineno"></span><span class="op" id="5334574">}</span>
</div>
</body>
</html>
