<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/binary</h2>
<ul>
<li><a href="/gostd/encoding/binary/binary.go.html">binary.go</a></li>
<li><a href="/gostd/encoding/binary/binary_test.go.html" class="current">binary_test.go</a></li>
<li><a href="/gostd/encoding/binary/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/binary/varint.go.html">varint.go</a></li>
<li><a href="/gostd/encoding/binary/varint_test.go.html">varint_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7981111">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7981167">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7981221">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7981272">package</span>&nbsp;<span class="ident" id="7981280">binary</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981288">import</span>&nbsp;<span class="op" id="7981295">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7981298">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7981307">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7981313">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7981321">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7981332">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7981343">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7981353">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7981356">type</span>&nbsp;<span class="ident" id="7981361">Struct</span>&nbsp;<span class="keyword" id="7981368">struct</span>&nbsp;<span class="op" id="7981375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981378">Int8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981389">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981395">Int16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981406">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981413">Int32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981424">int32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981431">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981442">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981449">Uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981460">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981467">Uint16</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981478">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981486">Uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981497">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981505">Uint64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7981516">uint64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981524">Float32</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981535">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981544">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981555">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981564">Complex64</span>&nbsp;&nbsp;<span class="builtintype" id="7981575">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981586">Complex128</span>&nbsp;<span class="builtintype" id="7981597">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981609">Array</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7981620">[</span><span class="num" id="7981621">4</span><span class="op" id="7981622">]</span><span class="builtintype" id="7981623">uint8</span><br>
<span class="lineno">30</span><span class="op" id="7981629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981632">type</span>&nbsp;<span class="ident" id="7981637">T</span>&nbsp;<span class="keyword" id="7981639">struct</span>&nbsp;<span class="op" id="7981646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981649">Int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981657">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981662">Uint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7981670">uint</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981676">Uintptr</span>&nbsp;<span class="builtintype" id="7981684">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981693">Array</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7981701">[</span><span class="num" id="7981702">4</span><span class="op" id="7981703">]</span><span class="builtintype" id="7981704">int</span><br>
<span class="lineno"></span><span class="op" id="7981708">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7981711">var</span>&nbsp;<span class="ident" id="7981715">s</span>&nbsp;<span class="op" id="7981717">=</span>&nbsp;<span class="ident" id="7981719">Struct</span><span class="op" id="7981725">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981728">0x01</span><span class="op" id="7981732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981735">0x0203</span><span class="op" id="7981741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981744">0x04050607</span><span class="op" id="7981754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981757">0x08090a0b0c0d0e0f</span><span class="op" id="7981775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981778">0x10</span><span class="op" id="7981782">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981785">0x1112</span><span class="op" id="7981791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981794">0x13141516</span><span class="op" id="7981804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7981807">0x1718191a1b1c1d1e</span><span class="op" id="7981825">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981829">math</span><span class="op" id="7981833">.</span><span class="ident" id="7981834">Float32frombits</span><span class="op" id="7981849">(</span><span class="num" id="7981850">0x1f202122</span><span class="op" id="7981860">)</span><span class="op" id="7981861">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981864">math</span><span class="op" id="7981868">.</span><span class="ident" id="7981869">Float64frombits</span><span class="op" id="7981884">(</span><span class="num" id="7981885">0x232425262728292a</span><span class="op" id="7981903">)</span><span class="op" id="7981904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7981907">complex</span><span class="op" id="7981914">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981918">math</span><span class="op" id="7981922">.</span><span class="ident" id="7981923">Float32frombits</span><span class="op" id="7981938">(</span><span class="num" id="7981939">0x2b2c2d2e</span><span class="op" id="7981949">)</span><span class="op" id="7981950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7981954">math</span><span class="op" id="7981958">.</span><span class="ident" id="7981959">Float32frombits</span><span class="op" id="7981974">(</span><span class="num" id="7981975">0x2f303132</span><span class="op" id="7981985">)</span><span class="op" id="7981986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7981989">)</span><span class="op" id="7981990">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7981993">complex</span><span class="op" id="7982000">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982004">math</span><span class="op" id="7982008">.</span><span class="ident" id="7982009">Float64frombits</span><span class="op" id="7982024">(</span><span class="num" id="7982025">0x333435363738393a</span><span class="op" id="7982043">)</span><span class="op" id="7982044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982048">math</span><span class="op" id="7982052">.</span><span class="ident" id="7982053">Float64frombits</span><span class="op" id="7982068">(</span><span class="num" id="7982069">0x3b3c3d3e3f404142</span><span class="op" id="7982087">)</span><span class="op" id="7982088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7982091">)</span><span class="op" id="7982092">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7982096">[</span><span class="num" id="7982097">4</span><span class="op" id="7982098">]</span><span class="builtintype" id="7982099">uint8</span><span class="op" id="7982104">{</span><span class="num" id="7982105">0x43</span><span class="op" id="7982109">,</span>&nbsp;<span class="num" id="7982111">0x44</span><span class="op" id="7982115">,</span>&nbsp;<span class="num" id="7982117">0x45</span><span class="op" id="7982121">,</span>&nbsp;<span class="num" id="7982123">0x46</span><span class="op" id="7982127">}</span><span class="op" id="7982128">,</span><br>
<span class="lineno"></span><span class="op" id="7982130">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7982133">var</span>&nbsp;<span class="ident" id="7982137">big</span>&nbsp;<span class="op" id="7982141">=</span>&nbsp;<span class="op" id="7982143">[</span><span class="op" id="7982144">]</span><span class="builtintype" id="7982145">byte</span><span class="op" id="7982149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982152">1</span><span class="op" id="7982153">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982156">2</span><span class="op" id="7982157">,</span>&nbsp;<span class="num" id="7982159">3</span><span class="op" id="7982160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982163">4</span><span class="op" id="7982164">,</span>&nbsp;<span class="num" id="7982166">5</span><span class="op" id="7982167">,</span>&nbsp;<span class="num" id="7982169">6</span><span class="op" id="7982170">,</span>&nbsp;<span class="num" id="7982172">7</span><span class="op" id="7982173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982176">8</span><span class="op" id="7982177">,</span>&nbsp;<span class="num" id="7982179">9</span><span class="op" id="7982180">,</span>&nbsp;<span class="num" id="7982182">10</span><span class="op" id="7982184">,</span>&nbsp;<span class="num" id="7982186">11</span><span class="op" id="7982188">,</span>&nbsp;<span class="num" id="7982190">12</span><span class="op" id="7982192">,</span>&nbsp;<span class="num" id="7982194">13</span><span class="op" id="7982196">,</span>&nbsp;<span class="num" id="7982198">14</span><span class="op" id="7982200">,</span>&nbsp;<span class="num" id="7982202">15</span><span class="op" id="7982204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982207">16</span><span class="op" id="7982209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982212">17</span><span class="op" id="7982214">,</span>&nbsp;<span class="num" id="7982216">18</span><span class="op" id="7982218">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982221">19</span><span class="op" id="7982223">,</span>&nbsp;<span class="num" id="7982225">20</span><span class="op" id="7982227">,</span>&nbsp;<span class="num" id="7982229">21</span><span class="op" id="7982231">,</span>&nbsp;<span class="num" id="7982233">22</span><span class="op" id="7982235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982238">23</span><span class="op" id="7982240">,</span>&nbsp;<span class="num" id="7982242">24</span><span class="op" id="7982244">,</span>&nbsp;<span class="num" id="7982246">25</span><span class="op" id="7982248">,</span>&nbsp;<span class="num" id="7982250">26</span><span class="op" id="7982252">,</span>&nbsp;<span class="num" id="7982254">27</span><span class="op" id="7982256">,</span>&nbsp;<span class="num" id="7982258">28</span><span class="op" id="7982260">,</span>&nbsp;<span class="num" id="7982262">29</span><span class="op" id="7982264">,</span>&nbsp;<span class="num" id="7982266">30</span><span class="op" id="7982268">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982272">31</span><span class="op" id="7982274">,</span>&nbsp;<span class="num" id="7982276">32</span><span class="op" id="7982278">,</span>&nbsp;<span class="num" id="7982280">33</span><span class="op" id="7982282">,</span>&nbsp;<span class="num" id="7982284">34</span><span class="op" id="7982286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982289">35</span><span class="op" id="7982291">,</span>&nbsp;<span class="num" id="7982293">36</span><span class="op" id="7982295">,</span>&nbsp;<span class="num" id="7982297">37</span><span class="op" id="7982299">,</span>&nbsp;<span class="num" id="7982301">38</span><span class="op" id="7982303">,</span>&nbsp;<span class="num" id="7982305">39</span><span class="op" id="7982307">,</span>&nbsp;<span class="num" id="7982309">40</span><span class="op" id="7982311">,</span>&nbsp;<span class="num" id="7982313">41</span><span class="op" id="7982315">,</span>&nbsp;<span class="num" id="7982317">42</span><span class="op" id="7982319">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982322">43</span><span class="op" id="7982324">,</span>&nbsp;<span class="num" id="7982326">44</span><span class="op" id="7982328">,</span>&nbsp;<span class="num" id="7982330">45</span><span class="op" id="7982332">,</span>&nbsp;<span class="num" id="7982334">46</span><span class="op" id="7982336">,</span>&nbsp;<span class="num" id="7982338">47</span><span class="op" id="7982340">,</span>&nbsp;<span class="num" id="7982342">48</span><span class="op" id="7982344">,</span>&nbsp;<span class="num" id="7982346">49</span><span class="op" id="7982348">,</span>&nbsp;<span class="num" id="7982350">50</span><span class="op" id="7982352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982355">51</span><span class="op" id="7982357">,</span>&nbsp;<span class="num" id="7982359">52</span><span class="op" id="7982361">,</span>&nbsp;<span class="num" id="7982363">53</span><span class="op" id="7982365">,</span>&nbsp;<span class="num" id="7982367">54</span><span class="op" id="7982369">,</span>&nbsp;<span class="num" id="7982371">55</span><span class="op" id="7982373">,</span>&nbsp;<span class="num" id="7982375">56</span><span class="op" id="7982377">,</span>&nbsp;<span class="num" id="7982379">57</span><span class="op" id="7982381">,</span>&nbsp;<span class="num" id="7982383">58</span><span class="op" id="7982385">,</span>&nbsp;<span class="num" id="7982387">59</span><span class="op" id="7982389">,</span>&nbsp;<span class="num" id="7982391">60</span><span class="op" id="7982393">,</span>&nbsp;<span class="num" id="7982395">61</span><span class="op" id="7982397">,</span>&nbsp;<span class="num" id="7982399">62</span><span class="op" id="7982401">,</span>&nbsp;<span class="num" id="7982403">63</span><span class="op" id="7982405">,</span>&nbsp;<span class="num" id="7982407">64</span><span class="op" id="7982409">,</span>&nbsp;<span class="num" id="7982411">65</span><span class="op" id="7982413">,</span>&nbsp;<span class="num" id="7982415">66</span><span class="op" id="7982417">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982421">67</span><span class="op" id="7982423">,</span>&nbsp;<span class="num" id="7982425">68</span><span class="op" id="7982427">,</span>&nbsp;<span class="num" id="7982429">69</span><span class="op" id="7982431">,</span>&nbsp;<span class="num" id="7982433">70</span><span class="op" id="7982435">,</span><br>
<span class="lineno"></span><span class="op" id="7982437">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="7982440">var</span>&nbsp;<span class="ident" id="7982444">little</span>&nbsp;<span class="op" id="7982451">=</span>&nbsp;<span class="op" id="7982453">[</span><span class="op" id="7982454">]</span><span class="builtintype" id="7982455">byte</span><span class="op" id="7982459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982462">1</span><span class="op" id="7982463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982466">3</span><span class="op" id="7982467">,</span>&nbsp;<span class="num" id="7982469">2</span><span class="op" id="7982470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982473">7</span><span class="op" id="7982474">,</span>&nbsp;<span class="num" id="7982476">6</span><span class="op" id="7982477">,</span>&nbsp;<span class="num" id="7982479">5</span><span class="op" id="7982480">,</span>&nbsp;<span class="num" id="7982482">4</span><span class="op" id="7982483">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982486">15</span><span class="op" id="7982488">,</span>&nbsp;<span class="num" id="7982490">14</span><span class="op" id="7982492">,</span>&nbsp;<span class="num" id="7982494">13</span><span class="op" id="7982496">,</span>&nbsp;<span class="num" id="7982498">12</span><span class="op" id="7982500">,</span>&nbsp;<span class="num" id="7982502">11</span><span class="op" id="7982504">,</span>&nbsp;<span class="num" id="7982506">10</span><span class="op" id="7982508">,</span>&nbsp;<span class="num" id="7982510">9</span><span class="op" id="7982511">,</span>&nbsp;<span class="num" id="7982513">8</span><span class="op" id="7982514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982517">16</span><span class="op" id="7982519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982522">18</span><span class="op" id="7982524">,</span>&nbsp;<span class="num" id="7982526">17</span><span class="op" id="7982528">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982531">22</span><span class="op" id="7982533">,</span>&nbsp;<span class="num" id="7982535">21</span><span class="op" id="7982537">,</span>&nbsp;<span class="num" id="7982539">20</span><span class="op" id="7982541">,</span>&nbsp;<span class="num" id="7982543">19</span><span class="op" id="7982545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982548">30</span><span class="op" id="7982550">,</span>&nbsp;<span class="num" id="7982552">29</span><span class="op" id="7982554">,</span>&nbsp;<span class="num" id="7982556">28</span><span class="op" id="7982558">,</span>&nbsp;<span class="num" id="7982560">27</span><span class="op" id="7982562">,</span>&nbsp;<span class="num" id="7982564">26</span><span class="op" id="7982566">,</span>&nbsp;<span class="num" id="7982568">25</span><span class="op" id="7982570">,</span>&nbsp;<span class="num" id="7982572">24</span><span class="op" id="7982574">,</span>&nbsp;<span class="num" id="7982576">23</span><span class="op" id="7982578">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982582">34</span><span class="op" id="7982584">,</span>&nbsp;<span class="num" id="7982586">33</span><span class="op" id="7982588">,</span>&nbsp;<span class="num" id="7982590">32</span><span class="op" id="7982592">,</span>&nbsp;<span class="num" id="7982594">31</span><span class="op" id="7982596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982599">42</span><span class="op" id="7982601">,</span>&nbsp;<span class="num" id="7982603">41</span><span class="op" id="7982605">,</span>&nbsp;<span class="num" id="7982607">40</span><span class="op" id="7982609">,</span>&nbsp;<span class="num" id="7982611">39</span><span class="op" id="7982613">,</span>&nbsp;<span class="num" id="7982615">38</span><span class="op" id="7982617">,</span>&nbsp;<span class="num" id="7982619">37</span><span class="op" id="7982621">,</span>&nbsp;<span class="num" id="7982623">36</span><span class="op" id="7982625">,</span>&nbsp;<span class="num" id="7982627">35</span><span class="op" id="7982629">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982632">46</span><span class="op" id="7982634">,</span>&nbsp;<span class="num" id="7982636">45</span><span class="op" id="7982638">,</span>&nbsp;<span class="num" id="7982640">44</span><span class="op" id="7982642">,</span>&nbsp;<span class="num" id="7982644">43</span><span class="op" id="7982646">,</span>&nbsp;<span class="num" id="7982648">50</span><span class="op" id="7982650">,</span>&nbsp;<span class="num" id="7982652">49</span><span class="op" id="7982654">,</span>&nbsp;<span class="num" id="7982656">48</span><span class="op" id="7982658">,</span>&nbsp;<span class="num" id="7982660">47</span><span class="op" id="7982662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982665">58</span><span class="op" id="7982667">,</span>&nbsp;<span class="num" id="7982669">57</span><span class="op" id="7982671">,</span>&nbsp;<span class="num" id="7982673">56</span><span class="op" id="7982675">,</span>&nbsp;<span class="num" id="7982677">55</span><span class="op" id="7982679">,</span>&nbsp;<span class="num" id="7982681">54</span><span class="op" id="7982683">,</span>&nbsp;<span class="num" id="7982685">53</span><span class="op" id="7982687">,</span>&nbsp;<span class="num" id="7982689">52</span><span class="op" id="7982691">,</span>&nbsp;<span class="num" id="7982693">51</span><span class="op" id="7982695">,</span>&nbsp;<span class="num" id="7982697">66</span><span class="op" id="7982699">,</span>&nbsp;<span class="num" id="7982701">65</span><span class="op" id="7982703">,</span>&nbsp;<span class="num" id="7982705">64</span><span class="op" id="7982707">,</span>&nbsp;<span class="num" id="7982709">63</span><span class="op" id="7982711">,</span>&nbsp;<span class="num" id="7982713">62</span><span class="op" id="7982715">,</span>&nbsp;<span class="num" id="7982717">61</span><span class="op" id="7982719">,</span>&nbsp;<span class="num" id="7982721">60</span><span class="op" id="7982723">,</span>&nbsp;<span class="num" id="7982725">59</span><span class="op" id="7982727">,</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="7982731">67</span><span class="op" id="7982733">,</span>&nbsp;<span class="num" id="7982735">68</span><span class="op" id="7982737">,</span>&nbsp;<span class="num" id="7982739">69</span><span class="op" id="7982741">,</span>&nbsp;<span class="num" id="7982743">70</span><span class="op" id="7982745">,</span><br>
<span class="lineno"></span><span class="op" id="7982747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7982750">var</span>&nbsp;<span class="ident" id="7982754">src</span>&nbsp;<span class="op" id="7982758">=</span>&nbsp;<span class="op" id="7982760">[</span><span class="op" id="7982761">]</span><span class="builtintype" id="7982762">byte</span><span class="op" id="7982766">{</span><span class="num" id="7982767">1</span><span class="op" id="7982768">,</span>&nbsp;<span class="num" id="7982770">2</span><span class="op" id="7982771">,</span>&nbsp;<span class="num" id="7982773">3</span><span class="op" id="7982774">,</span>&nbsp;<span class="num" id="7982776">4</span><span class="op" id="7982777">,</span>&nbsp;<span class="num" id="7982779">5</span><span class="op" id="7982780">,</span>&nbsp;<span class="num" id="7982782">6</span><span class="op" id="7982783">,</span>&nbsp;<span class="num" id="7982785">7</span><span class="op" id="7982786">,</span>&nbsp;<span class="num" id="7982788">8</span><span class="op" id="7982789">}</span><br>
<span class="lineno">100</span><span class="keyword" id="7982791">var</span>&nbsp;<span class="ident" id="7982795">res</span>&nbsp;<span class="op" id="7982799">=</span>&nbsp;<span class="op" id="7982801">[</span><span class="op" id="7982802">]</span><span class="builtintype" id="7982803">int32</span><span class="op" id="7982808">{</span><span class="num" id="7982809">0x01020304</span><span class="op" id="7982819">,</span>&nbsp;<span class="num" id="7982821">0x05060708</span><span class="op" id="7982831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7982834">func</span>&nbsp;<span class="ident" id="7982839">checkResult</span><span class="op" id="7982850">(</span><span class="ident" id="7982851">t</span>&nbsp;<span class="op" id="7982853">*</span><span class="ident" id="7982854">testing</span><span class="op" id="7982861">.</span><span class="ident" id="7982862">T</span><span class="op" id="7982863">,</span>&nbsp;<span class="ident" id="7982865">dir</span>&nbsp;<span class="builtintype" id="7982869">string</span><span class="op" id="7982875">,</span>&nbsp;<span class="ident" id="7982877">order</span>&nbsp;<span class="ident" id="7982883">ByteOrder</span><span class="op" id="7982892">,</span>&nbsp;<span class="ident" id="7982894">err</span>&nbsp;<span class="builtintype" id="7982898">error</span><span class="op" id="7982903">,</span>&nbsp;<span class="ident" id="7982905">have</span><span class="op" id="7982909">,</span>&nbsp;<span class="ident" id="7982911">want</span>&nbsp;<span class="keyword" id="7982916">interface</span><span class="op" id="7982925">{</span><span class="op" id="7982926">}</span><span class="op" id="7982927">)</span>&nbsp;<span class="op" id="7982929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7982932">if</span>&nbsp;<span class="ident" id="7982935">err</span>&nbsp;<span class="op" id="7982939">!=</span>&nbsp;<span class="ident" id="7982942">nil</span>&nbsp;<span class="op" id="7982946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982950">t</span><span class="op" id="7982951">.</span><span class="ident" id="7982952">Errorf</span><span class="op" id="7982958">(</span><span class="string" id="7982959">&#34;%v&nbsp;%v:&nbsp;%v&#34;</span><span class="op" id="7982970">,</span>&nbsp;<span class="ident" id="7982972">dir</span><span class="op" id="7982975">,</span>&nbsp;<span class="ident" id="7982977">order</span><span class="op" id="7982982">,</span>&nbsp;<span class="ident" id="7982984">err</span><span class="op" id="7982987">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7982991">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7982999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7983002">if</span>&nbsp;<span class="op" id="7983005">!</span><span class="ident" id="7983006">reflect</span><span class="op" id="7983013">.</span><span class="ident" id="7983014">DeepEqual</span><span class="op" id="7983023">(</span><span class="ident" id="7983024">have</span><span class="op" id="7983028">,</span>&nbsp;<span class="ident" id="7983030">want</span><span class="op" id="7983034">)</span>&nbsp;<span class="op" id="7983036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983040">t</span><span class="op" id="7983041">.</span><span class="ident" id="7983042">Errorf</span><span class="op" id="7983048">(</span><span class="string" id="7983049">&#34;%v&nbsp;%v:\n\thave&nbsp;%+v\n\twant&nbsp;%+v&#34;</span><span class="op" id="7983081">,</span>&nbsp;<span class="ident" id="7983083">dir</span><span class="op" id="7983086">,</span>&nbsp;<span class="ident" id="7983088">order</span><span class="op" id="7983093">,</span>&nbsp;<span class="ident" id="7983095">have</span><span class="op" id="7983099">,</span>&nbsp;<span class="ident" id="7983101">want</span><span class="op" id="7983105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983108">}</span><br>
<span class="lineno">110</span><span class="op" id="7983110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983113">func</span>&nbsp;<span class="ident" id="7983118">testRead</span><span class="op" id="7983126">(</span><span class="ident" id="7983127">t</span>&nbsp;<span class="op" id="7983129">*</span><span class="ident" id="7983130">testing</span><span class="op" id="7983137">.</span><span class="ident" id="7983138">T</span><span class="op" id="7983139">,</span>&nbsp;<span class="ident" id="7983141">order</span>&nbsp;<span class="ident" id="7983147">ByteOrder</span><span class="op" id="7983156">,</span>&nbsp;<span class="ident" id="7983158">b</span>&nbsp;<span class="op" id="7983160">[</span><span class="op" id="7983161">]</span><span class="builtintype" id="7983162">byte</span><span class="op" id="7983166">,</span>&nbsp;<span class="ident" id="7983168">s1</span>&nbsp;<span class="keyword" id="7983171">interface</span><span class="op" id="7983180">{</span><span class="op" id="7983181">}</span><span class="op" id="7983182">)</span>&nbsp;<span class="op" id="7983184">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7983187">var</span>&nbsp;<span class="ident" id="7983191">s2</span>&nbsp;<span class="ident" id="7983194">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983202">err</span>&nbsp;<span class="op" id="7983206">:=</span>&nbsp;<span class="ident" id="7983209">Read</span><span class="op" id="7983213">(</span><span class="ident" id="7983214">bytes</span><span class="op" id="7983219">.</span><span class="ident" id="7983220">NewReader</span><span class="op" id="7983229">(</span><span class="ident" id="7983230">b</span><span class="op" id="7983231">)</span><span class="op" id="7983232">,</span>&nbsp;<span class="ident" id="7983234">order</span><span class="op" id="7983239">,</span>&nbsp;<span class="op" id="7983241">&amp;</span><span class="ident" id="7983242">s2</span><span class="op" id="7983244">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983247">checkResult</span><span class="op" id="7983258">(</span><span class="ident" id="7983259">t</span><span class="op" id="7983260">,</span>&nbsp;<span class="string" id="7983262">&#34;Read&#34;</span><span class="op" id="7983268">,</span>&nbsp;<span class="ident" id="7983270">order</span><span class="op" id="7983275">,</span>&nbsp;<span class="ident" id="7983277">err</span><span class="op" id="7983280">,</span>&nbsp;<span class="ident" id="7983282">s2</span><span class="op" id="7983284">,</span>&nbsp;<span class="ident" id="7983286">s1</span><span class="op" id="7983288">)</span><br>
<span class="lineno"></span><span class="op" id="7983290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983293">func</span>&nbsp;<span class="ident" id="7983298">testWrite</span><span class="op" id="7983307">(</span><span class="ident" id="7983308">t</span>&nbsp;<span class="op" id="7983310">*</span><span class="ident" id="7983311">testing</span><span class="op" id="7983318">.</span><span class="ident" id="7983319">T</span><span class="op" id="7983320">,</span>&nbsp;<span class="ident" id="7983322">order</span>&nbsp;<span class="ident" id="7983328">ByteOrder</span><span class="op" id="7983337">,</span>&nbsp;<span class="ident" id="7983339">b</span>&nbsp;<span class="op" id="7983341">[</span><span class="op" id="7983342">]</span><span class="builtintype" id="7983343">byte</span><span class="op" id="7983347">,</span>&nbsp;<span class="ident" id="7983349">s1</span>&nbsp;<span class="keyword" id="7983352">interface</span><span class="op" id="7983361">{</span><span class="op" id="7983362">}</span><span class="op" id="7983363">)</span>&nbsp;<span class="op" id="7983365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983368">buf</span>&nbsp;<span class="op" id="7983372">:=</span>&nbsp;<span class="builtinfunc" id="7983375">new</span><span class="op" id="7983378">(</span><span class="ident" id="7983379">bytes</span><span class="op" id="7983384">.</span><span class="ident" id="7983385">Buffer</span><span class="op" id="7983391">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983394">err</span>&nbsp;<span class="op" id="7983398">:=</span>&nbsp;<span class="ident" id="7983401">Write</span><span class="op" id="7983406">(</span><span class="ident" id="7983407">buf</span><span class="op" id="7983410">,</span>&nbsp;<span class="ident" id="7983412">order</span><span class="op" id="7983417">,</span>&nbsp;<span class="ident" id="7983419">s1</span><span class="op" id="7983421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983424">checkResult</span><span class="op" id="7983435">(</span><span class="ident" id="7983436">t</span><span class="op" id="7983437">,</span>&nbsp;<span class="string" id="7983439">&#34;Write&#34;</span><span class="op" id="7983446">,</span>&nbsp;<span class="ident" id="7983448">order</span><span class="op" id="7983453">,</span>&nbsp;<span class="ident" id="7983455">err</span><span class="op" id="7983458">,</span>&nbsp;<span class="ident" id="7983460">buf</span><span class="op" id="7983463">.</span><span class="ident" id="7983464">Bytes</span><span class="op" id="7983469">(</span><span class="op" id="7983470">)</span><span class="op" id="7983471">,</span>&nbsp;<span class="ident" id="7983473">b</span><span class="op" id="7983474">)</span><br>
<span class="lineno"></span><span class="op" id="7983476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983479">func</span>&nbsp;<span class="ident" id="7983484">TestLittleEndianRead</span><span class="op" id="7983504">(</span><span class="ident" id="7983505">t</span>&nbsp;<span class="op" id="7983507">*</span><span class="ident" id="7983508">testing</span><span class="op" id="7983515">.</span><span class="ident" id="7983516">T</span><span class="op" id="7983517">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983523">{</span>&nbsp;<span class="ident" id="7983525">testRead</span><span class="op" id="7983533">(</span><span class="ident" id="7983534">t</span><span class="op" id="7983535">,</span>&nbsp;<span class="ident" id="7983537">LittleEndian</span><span class="op" id="7983549">,</span>&nbsp;<span class="ident" id="7983551">little</span><span class="op" id="7983557">,</span>&nbsp;<span class="ident" id="7983559">s</span><span class="op" id="7983560">)</span>&nbsp;<span class="op" id="7983562">}</span><br>
<span class="lineno">125</span><span class="keyword" id="7983564">func</span>&nbsp;<span class="ident" id="7983569">TestLittleEndianWrite</span><span class="op" id="7983590">(</span><span class="ident" id="7983591">t</span>&nbsp;<span class="op" id="7983593">*</span><span class="ident" id="7983594">testing</span><span class="op" id="7983601">.</span><span class="ident" id="7983602">T</span><span class="op" id="7983603">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983608">{</span>&nbsp;<span class="ident" id="7983610">testWrite</span><span class="op" id="7983619">(</span><span class="ident" id="7983620">t</span><span class="op" id="7983621">,</span>&nbsp;<span class="ident" id="7983623">LittleEndian</span><span class="op" id="7983635">,</span>&nbsp;<span class="ident" id="7983637">little</span><span class="op" id="7983643">,</span>&nbsp;<span class="ident" id="7983645">s</span><span class="op" id="7983646">)</span>&nbsp;<span class="op" id="7983648">}</span><br>
<span class="lineno"></span><span class="keyword" id="7983650">func</span>&nbsp;<span class="ident" id="7983655">TestLittleEndianPtrWrite</span><span class="op" id="7983679">(</span><span class="ident" id="7983680">t</span>&nbsp;<span class="op" id="7983682">*</span><span class="ident" id="7983683">testing</span><span class="op" id="7983690">.</span><span class="ident" id="7983691">T</span><span class="op" id="7983692">)</span>&nbsp;<span class="op" id="7983694">{</span>&nbsp;<span class="ident" id="7983696">testWrite</span><span class="op" id="7983705">(</span><span class="ident" id="7983706">t</span><span class="op" id="7983707">,</span>&nbsp;<span class="ident" id="7983709">LittleEndian</span><span class="op" id="7983721">,</span>&nbsp;<span class="ident" id="7983723">little</span><span class="op" id="7983729">,</span>&nbsp;<span class="op" id="7983731">&amp;</span><span class="ident" id="7983732">s</span><span class="op" id="7983733">)</span>&nbsp;<span class="op" id="7983735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983738">func</span>&nbsp;<span class="ident" id="7983743">TestBigEndianRead</span><span class="op" id="7983760">(</span><span class="ident" id="7983761">t</span>&nbsp;<span class="op" id="7983763">*</span><span class="ident" id="7983764">testing</span><span class="op" id="7983771">.</span><span class="ident" id="7983772">T</span><span class="op" id="7983773">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983779">{</span>&nbsp;<span class="ident" id="7983781">testRead</span><span class="op" id="7983789">(</span><span class="ident" id="7983790">t</span><span class="op" id="7983791">,</span>&nbsp;<span class="ident" id="7983793">BigEndian</span><span class="op" id="7983802">,</span>&nbsp;<span class="ident" id="7983804">big</span><span class="op" id="7983807">,</span>&nbsp;<span class="ident" id="7983809">s</span><span class="op" id="7983810">)</span>&nbsp;<span class="op" id="7983812">}</span><br>
<span class="lineno"></span><span class="keyword" id="7983814">func</span>&nbsp;<span class="ident" id="7983819">TestBigEndianWrite</span><span class="op" id="7983837">(</span><span class="ident" id="7983838">t</span>&nbsp;<span class="op" id="7983840">*</span><span class="ident" id="7983841">testing</span><span class="op" id="7983848">.</span><span class="ident" id="7983849">T</span><span class="op" id="7983850">)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7983855">{</span>&nbsp;<span class="ident" id="7983857">testWrite</span><span class="op" id="7983866">(</span><span class="ident" id="7983867">t</span><span class="op" id="7983868">,</span>&nbsp;<span class="ident" id="7983870">BigEndian</span><span class="op" id="7983879">,</span>&nbsp;<span class="ident" id="7983881">big</span><span class="op" id="7983884">,</span>&nbsp;<span class="ident" id="7983886">s</span><span class="op" id="7983887">)</span>&nbsp;<span class="op" id="7983889">}</span><br>
<span class="lineno">130</span><span class="keyword" id="7983891">func</span>&nbsp;<span class="ident" id="7983896">TestBigEndianPtrWrite</span><span class="op" id="7983917">(</span><span class="ident" id="7983918">t</span>&nbsp;<span class="op" id="7983920">*</span><span class="ident" id="7983921">testing</span><span class="op" id="7983928">.</span><span class="ident" id="7983929">T</span><span class="op" id="7983930">)</span>&nbsp;<span class="op" id="7983932">{</span>&nbsp;<span class="ident" id="7983934">testWrite</span><span class="op" id="7983943">(</span><span class="ident" id="7983944">t</span><span class="op" id="7983945">,</span>&nbsp;<span class="ident" id="7983947">BigEndian</span><span class="op" id="7983956">,</span>&nbsp;<span class="ident" id="7983958">big</span><span class="op" id="7983961">,</span>&nbsp;<span class="op" id="7983963">&amp;</span><span class="ident" id="7983964">s</span><span class="op" id="7983965">)</span>&nbsp;<span class="op" id="7983967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7983970">func</span>&nbsp;<span class="ident" id="7983975">TestReadSlice</span><span class="op" id="7983988">(</span><span class="ident" id="7983989">t</span>&nbsp;<span class="op" id="7983991">*</span><span class="ident" id="7983992">testing</span><span class="op" id="7983999">.</span><span class="ident" id="7984000">T</span><span class="op" id="7984001">)</span>&nbsp;<span class="op" id="7984003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984006">slice</span>&nbsp;<span class="op" id="7984012">:=</span>&nbsp;<span class="builtinfunc" id="7984015">make</span><span class="op" id="7984019">(</span><span class="op" id="7984020">[</span><span class="op" id="7984021">]</span><span class="builtintype" id="7984022">int32</span><span class="op" id="7984027">,</span>&nbsp;<span class="num" id="7984029">2</span><span class="op" id="7984030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984033">err</span>&nbsp;<span class="op" id="7984037">:=</span>&nbsp;<span class="ident" id="7984040">Read</span><span class="op" id="7984044">(</span><span class="ident" id="7984045">bytes</span><span class="op" id="7984050">.</span><span class="ident" id="7984051">NewReader</span><span class="op" id="7984060">(</span><span class="ident" id="7984061">src</span><span class="op" id="7984064">)</span><span class="op" id="7984065">,</span>&nbsp;<span class="ident" id="7984067">BigEndian</span><span class="op" id="7984076">,</span>&nbsp;<span class="ident" id="7984078">slice</span><span class="op" id="7984083">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984086">checkResult</span><span class="op" id="7984097">(</span><span class="ident" id="7984098">t</span><span class="op" id="7984099">,</span>&nbsp;<span class="string" id="7984101">&#34;ReadSlice&#34;</span><span class="op" id="7984112">,</span>&nbsp;<span class="ident" id="7984114">BigEndian</span><span class="op" id="7984123">,</span>&nbsp;<span class="ident" id="7984125">err</span><span class="op" id="7984128">,</span>&nbsp;<span class="ident" id="7984130">slice</span><span class="op" id="7984135">,</span>&nbsp;<span class="ident" id="7984137">res</span><span class="op" id="7984140">)</span><br>
<span class="lineno"></span><span class="op" id="7984142">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7984145">func</span>&nbsp;<span class="ident" id="7984150">TestWriteSlice</span><span class="op" id="7984164">(</span><span class="ident" id="7984165">t</span>&nbsp;<span class="op" id="7984167">*</span><span class="ident" id="7984168">testing</span><span class="op" id="7984175">.</span><span class="ident" id="7984176">T</span><span class="op" id="7984177">)</span>&nbsp;<span class="op" id="7984179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984182">buf</span>&nbsp;<span class="op" id="7984186">:=</span>&nbsp;<span class="builtinfunc" id="7984189">new</span><span class="op" id="7984192">(</span><span class="ident" id="7984193">bytes</span><span class="op" id="7984198">.</span><span class="ident" id="7984199">Buffer</span><span class="op" id="7984205">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984208">err</span>&nbsp;<span class="op" id="7984212">:=</span>&nbsp;<span class="ident" id="7984215">Write</span><span class="op" id="7984220">(</span><span class="ident" id="7984221">buf</span><span class="op" id="7984224">,</span>&nbsp;<span class="ident" id="7984226">BigEndian</span><span class="op" id="7984235">,</span>&nbsp;<span class="ident" id="7984237">res</span><span class="op" id="7984240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984243">checkResult</span><span class="op" id="7984254">(</span><span class="ident" id="7984255">t</span><span class="op" id="7984256">,</span>&nbsp;<span class="string" id="7984258">&#34;WriteSlice&#34;</span><span class="op" id="7984270">,</span>&nbsp;<span class="ident" id="7984272">BigEndian</span><span class="op" id="7984281">,</span>&nbsp;<span class="ident" id="7984283">err</span><span class="op" id="7984286">,</span>&nbsp;<span class="ident" id="7984288">buf</span><span class="op" id="7984291">.</span><span class="ident" id="7984292">Bytes</span><span class="op" id="7984297">(</span><span class="op" id="7984298">)</span><span class="op" id="7984299">,</span>&nbsp;<span class="ident" id="7984301">src</span><span class="op" id="7984304">)</span><br>
<span class="lineno"></span><span class="op" id="7984306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7984309">//&nbsp;Addresses&nbsp;of&nbsp;arrays&nbsp;are&nbsp;easier&nbsp;to&nbsp;manipulate&nbsp;with&nbsp;reflection&nbsp;than&nbsp;are&nbsp;slices.</span><br>
<span class="lineno">145</span><span class="keyword" id="7984390">var</span>&nbsp;<span class="ident" id="7984394">intArrays</span>&nbsp;<span class="op" id="7984404">=</span>&nbsp;<span class="op" id="7984406">[</span><span class="op" id="7984407">]</span><span class="keyword" id="7984408">interface</span><span class="op" id="7984417">{</span><span class="op" id="7984418">}</span><span class="op" id="7984419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984422">&amp;</span><span class="op" id="7984423">[</span><span class="num" id="7984424">100</span><span class="op" id="7984427">]</span><span class="builtintype" id="7984428">int8</span><span class="op" id="7984432">{</span><span class="op" id="7984433">}</span><span class="op" id="7984434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984437">&amp;</span><span class="op" id="7984438">[</span><span class="num" id="7984439">100</span><span class="op" id="7984442">]</span><span class="builtintype" id="7984443">int16</span><span class="op" id="7984448">{</span><span class="op" id="7984449">}</span><span class="op" id="7984450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984453">&amp;</span><span class="op" id="7984454">[</span><span class="num" id="7984455">100</span><span class="op" id="7984458">]</span><span class="builtintype" id="7984459">int32</span><span class="op" id="7984464">{</span><span class="op" id="7984465">}</span><span class="op" id="7984466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984469">&amp;</span><span class="op" id="7984470">[</span><span class="num" id="7984471">100</span><span class="op" id="7984474">]</span><span class="ident" id="7984475">int64</span><span class="op" id="7984480">{</span><span class="op" id="7984481">}</span><span class="op" id="7984482">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984485">&amp;</span><span class="op" id="7984486">[</span><span class="num" id="7984487">100</span><span class="op" id="7984490">]</span><span class="builtintype" id="7984491">uint8</span><span class="op" id="7984496">{</span><span class="op" id="7984497">}</span><span class="op" id="7984498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984501">&amp;</span><span class="op" id="7984502">[</span><span class="num" id="7984503">100</span><span class="op" id="7984506">]</span><span class="builtintype" id="7984507">uint16</span><span class="op" id="7984513">{</span><span class="op" id="7984514">}</span><span class="op" id="7984515">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984518">&amp;</span><span class="op" id="7984519">[</span><span class="num" id="7984520">100</span><span class="op" id="7984523">]</span><span class="builtintype" id="7984524">uint32</span><span class="op" id="7984530">{</span><span class="op" id="7984531">}</span><span class="op" id="7984532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984535">&amp;</span><span class="op" id="7984536">[</span><span class="num" id="7984537">100</span><span class="op" id="7984540">]</span><span class="ident" id="7984541">uint64</span><span class="op" id="7984547">{</span><span class="op" id="7984548">}</span><span class="op" id="7984549">,</span><br>
<span class="lineno"></span><span class="op" id="7984551">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7984554">func</span>&nbsp;<span class="ident" id="7984559">TestSliceRoundTrip</span><span class="op" id="7984577">(</span><span class="ident" id="7984578">t</span>&nbsp;<span class="op" id="7984580">*</span><span class="ident" id="7984581">testing</span><span class="op" id="7984588">.</span><span class="ident" id="7984589">T</span><span class="op" id="7984590">)</span>&nbsp;<span class="op" id="7984592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984595">buf</span>&nbsp;<span class="op" id="7984599">:=</span>&nbsp;<span class="builtinfunc" id="7984602">new</span><span class="op" id="7984605">(</span><span class="ident" id="7984606">bytes</span><span class="op" id="7984611">.</span><span class="ident" id="7984612">Buffer</span><span class="op" id="7984618">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7984621">for</span>&nbsp;<span class="ident" id="7984625">_</span><span class="op" id="7984626">,</span>&nbsp;<span class="ident" id="7984628">array</span>&nbsp;<span class="op" id="7984634">:=</span>&nbsp;<span class="keyword" id="7984637">range</span>&nbsp;<span class="ident" id="7984643">intArrays</span>&nbsp;<span class="op" id="7984653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984657">src</span>&nbsp;<span class="op" id="7984661">:=</span>&nbsp;<span class="ident" id="7984664">reflect</span><span class="op" id="7984671">.</span><span class="ident" id="7984672">ValueOf</span><span class="op" id="7984679">(</span><span class="ident" id="7984680">array</span><span class="op" id="7984685">)</span><span class="op" id="7984686">.</span><span class="ident" id="7984687">Elem</span><span class="op" id="7984691">(</span><span class="op" id="7984692">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984696">unsigned</span>&nbsp;<span class="op" id="7984705">:=</span>&nbsp;<span class="builtintype" id="7984708">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7984716">switch</span>&nbsp;<span class="ident" id="7984723">src</span><span class="op" id="7984726">.</span><span class="ident" id="7984727">Index</span><span class="op" id="7984732">(</span><span class="num" id="7984733">0</span><span class="op" id="7984734">)</span><span class="op" id="7984735">.</span><span class="ident" id="7984736">Kind</span><span class="op" id="7984740">(</span><span class="op" id="7984741">)</span>&nbsp;<span class="op" id="7984743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7984747">case</span>&nbsp;<span class="ident" id="7984752">reflect</span><span class="op" id="7984759">.</span><span class="ident" id="7984760">Uint8</span><span class="op" id="7984765">,</span>&nbsp;<span class="ident" id="7984767">reflect</span><span class="op" id="7984774">.</span><span class="ident" id="7984775">Uint16</span><span class="op" id="7984781">,</span>&nbsp;<span class="ident" id="7984783">reflect</span><span class="op" id="7984790">.</span><span class="ident" id="7984791">Uint32</span><span class="op" id="7984797">,</span>&nbsp;<span class="ident" id="7984799">reflect</span><span class="op" id="7984806">.</span><span class="ident" id="7984807">Uint64</span><span class="op" id="7984813">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984818">unsigned</span>&nbsp;<span class="op" id="7984827">=</span>&nbsp;<span class="builtintype" id="7984829">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984836">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7984840">for</span>&nbsp;<span class="ident" id="7984844">i</span>&nbsp;<span class="op" id="7984846">:=</span>&nbsp;<span class="num" id="7984849">0</span><span class="op" id="7984850">;</span>&nbsp;<span class="ident" id="7984852">i</span>&nbsp;<span class="op" id="7984854">&lt;</span>&nbsp;<span class="ident" id="7984856">src</span><span class="op" id="7984859">.</span><span class="ident" id="7984860">Len</span><span class="op" id="7984863">(</span><span class="op" id="7984864">)</span><span class="op" id="7984865">;</span>&nbsp;<span class="ident" id="7984867">i</span><span class="op" id="7984868">++</span>&nbsp;<span class="op" id="7984871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7984876">if</span>&nbsp;<span class="ident" id="7984879">unsigned</span>&nbsp;<span class="op" id="7984888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984894">src</span><span class="op" id="7984897">.</span><span class="ident" id="7984898">Index</span><span class="op" id="7984903">(</span><span class="ident" id="7984904">i</span><span class="op" id="7984905">)</span><span class="op" id="7984906">.</span><span class="ident" id="7984907">SetUint</span><span class="op" id="7984914">(</span><span class="ident" id="7984915">uint64</span><span class="op" id="7984921">(</span><span class="ident" id="7984922">i</span>&nbsp;<span class="op" id="7984924">*</span>&nbsp;<span class="num" id="7984926">0x07654321</span><span class="op" id="7984936">)</span><span class="op" id="7984937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984942">}</span>&nbsp;<span class="keyword" id="7984944">else</span>&nbsp;<span class="op" id="7984949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7984955">src</span><span class="op" id="7984958">.</span><span class="ident" id="7984959">Index</span><span class="op" id="7984964">(</span><span class="ident" id="7984965">i</span><span class="op" id="7984966">)</span><span class="op" id="7984967">.</span><span class="ident" id="7984968">SetInt</span><span class="op" id="7984974">(</span><span class="ident" id="7984975">int64</span><span class="op" id="7984980">(</span><span class="ident" id="7984981">i</span>&nbsp;<span class="op" id="7984983">*</span>&nbsp;<span class="num" id="7984985">0x07654321</span><span class="op" id="7984995">)</span><span class="op" id="7984996">)</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985009">buf</span><span class="op" id="7985012">.</span><span class="ident" id="7985013">Reset</span><span class="op" id="7985018">(</span><span class="op" id="7985019">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985023">srcSlice</span>&nbsp;<span class="op" id="7985032">:=</span>&nbsp;<span class="ident" id="7985035">src</span><span class="op" id="7985038">.</span><span class="ident" id="7985039">Slice</span><span class="op" id="7985044">(</span><span class="num" id="7985045">0</span><span class="op" id="7985046">,</span>&nbsp;<span class="ident" id="7985048">src</span><span class="op" id="7985051">.</span><span class="ident" id="7985052">Len</span><span class="op" id="7985055">(</span><span class="op" id="7985056">)</span><span class="op" id="7985057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985061">err</span>&nbsp;<span class="op" id="7985065">:=</span>&nbsp;<span class="ident" id="7985068">Write</span><span class="op" id="7985073">(</span><span class="ident" id="7985074">buf</span><span class="op" id="7985077">,</span>&nbsp;<span class="ident" id="7985079">BigEndian</span><span class="op" id="7985088">,</span>&nbsp;<span class="ident" id="7985090">srcSlice</span><span class="op" id="7985098">.</span><span class="ident" id="7985099">Interface</span><span class="op" id="7985108">(</span><span class="op" id="7985109">)</span><span class="op" id="7985110">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985114">if</span>&nbsp;<span class="ident" id="7985117">err</span>&nbsp;<span class="op" id="7985121">!=</span>&nbsp;<span class="ident" id="7985124">nil</span>&nbsp;<span class="op" id="7985128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985133">t</span><span class="op" id="7985134">.</span><span class="ident" id="7985135">Fatal</span><span class="op" id="7985140">(</span><span class="ident" id="7985141">err</span><span class="op" id="7985144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985152">dst</span>&nbsp;<span class="op" id="7985156">:=</span>&nbsp;<span class="ident" id="7985159">reflect</span><span class="op" id="7985166">.</span><span class="ident" id="7985167">New</span><span class="op" id="7985170">(</span><span class="ident" id="7985171">src</span><span class="op" id="7985174">.</span><span class="ident" id="7985175">Type</span><span class="op" id="7985179">(</span><span class="op" id="7985180">)</span><span class="op" id="7985181">)</span><span class="op" id="7985182">.</span><span class="ident" id="7985183">Elem</span><span class="op" id="7985187">(</span><span class="op" id="7985188">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985192">dstSlice</span>&nbsp;<span class="op" id="7985201">:=</span>&nbsp;<span class="ident" id="7985204">dst</span><span class="op" id="7985207">.</span><span class="ident" id="7985208">Slice</span><span class="op" id="7985213">(</span><span class="num" id="7985214">0</span><span class="op" id="7985215">,</span>&nbsp;<span class="ident" id="7985217">dst</span><span class="op" id="7985220">.</span><span class="ident" id="7985221">Len</span><span class="op" id="7985224">(</span><span class="op" id="7985225">)</span><span class="op" id="7985226">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985230">err</span>&nbsp;<span class="op" id="7985234">=</span>&nbsp;<span class="ident" id="7985236">Read</span><span class="op" id="7985240">(</span><span class="ident" id="7985241">buf</span><span class="op" id="7985244">,</span>&nbsp;<span class="ident" id="7985246">BigEndian</span><span class="op" id="7985255">,</span>&nbsp;<span class="ident" id="7985257">dstSlice</span><span class="op" id="7985265">.</span><span class="ident" id="7985266">Interface</span><span class="op" id="7985275">(</span><span class="op" id="7985276">)</span><span class="op" id="7985277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985281">if</span>&nbsp;<span class="ident" id="7985284">err</span>&nbsp;<span class="op" id="7985288">!=</span>&nbsp;<span class="ident" id="7985291">nil</span>&nbsp;<span class="op" id="7985295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985300">t</span><span class="op" id="7985301">.</span><span class="ident" id="7985302">Fatal</span><span class="op" id="7985307">(</span><span class="ident" id="7985308">err</span><span class="op" id="7985311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985319">if</span>&nbsp;<span class="op" id="7985322">!</span><span class="ident" id="7985323">reflect</span><span class="op" id="7985330">.</span><span class="ident" id="7985331">DeepEqual</span><span class="op" id="7985340">(</span><span class="ident" id="7985341">src</span><span class="op" id="7985344">.</span><span class="ident" id="7985345">Interface</span><span class="op" id="7985354">(</span><span class="op" id="7985355">)</span><span class="op" id="7985356">,</span>&nbsp;<span class="ident" id="7985358">dst</span><span class="op" id="7985361">.</span><span class="ident" id="7985362">Interface</span><span class="op" id="7985371">(</span><span class="op" id="7985372">)</span><span class="op" id="7985373">)</span>&nbsp;<span class="op" id="7985375">{</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985380">t</span><span class="op" id="7985381">.</span><span class="ident" id="7985382">Fatal</span><span class="op" id="7985387">(</span><span class="ident" id="7985388">src</span><span class="op" id="7985391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985398">}</span><br>
<span class="lineno"></span><span class="op" id="7985400">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="7985403">func</span>&nbsp;<span class="ident" id="7985408">TestWriteT</span><span class="op" id="7985418">(</span><span class="ident" id="7985419">t</span>&nbsp;<span class="op" id="7985421">*</span><span class="ident" id="7985422">testing</span><span class="op" id="7985429">.</span><span class="ident" id="7985430">T</span><span class="op" id="7985431">)</span>&nbsp;<span class="op" id="7985433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985436">buf</span>&nbsp;<span class="op" id="7985440">:=</span>&nbsp;<span class="builtinfunc" id="7985443">new</span><span class="op" id="7985446">(</span><span class="ident" id="7985447">bytes</span><span class="op" id="7985452">.</span><span class="ident" id="7985453">Buffer</span><span class="op" id="7985459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985462">ts</span>&nbsp;<span class="op" id="7985465">:=</span>&nbsp;<span class="ident" id="7985468">T</span><span class="op" id="7985469">{</span><span class="op" id="7985470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985473">if</span>&nbsp;<span class="ident" id="7985476">err</span>&nbsp;<span class="op" id="7985480">:=</span>&nbsp;<span class="ident" id="7985483">Write</span><span class="op" id="7985488">(</span><span class="ident" id="7985489">buf</span><span class="op" id="7985492">,</span>&nbsp;<span class="ident" id="7985494">BigEndian</span><span class="op" id="7985503">,</span>&nbsp;<span class="ident" id="7985505">ts</span><span class="op" id="7985507">)</span><span class="op" id="7985508">;</span>&nbsp;<span class="ident" id="7985510">err</span>&nbsp;<span class="op" id="7985514">==</span>&nbsp;<span class="ident" id="7985517">nil</span>&nbsp;<span class="op" id="7985521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985525">t</span><span class="op" id="7985526">.</span><span class="ident" id="7985527">Errorf</span><span class="op" id="7985533">(</span><span class="string" id="7985534">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="7985573">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985580">tv</span>&nbsp;<span class="op" id="7985583">:=</span>&nbsp;<span class="ident" id="7985586">reflect</span><span class="op" id="7985593">.</span><span class="ident" id="7985594">Indirect</span><span class="op" id="7985602">(</span><span class="ident" id="7985603">reflect</span><span class="op" id="7985610">.</span><span class="ident" id="7985611">ValueOf</span><span class="op" id="7985618">(</span><span class="ident" id="7985619">ts</span><span class="op" id="7985621">)</span><span class="op" id="7985622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985625">for</span>&nbsp;<span class="ident" id="7985629">i</span><span class="op" id="7985630">,</span>&nbsp;<span class="ident" id="7985632">n</span>&nbsp;<span class="op" id="7985634">:=</span>&nbsp;<span class="num" id="7985637">0</span><span class="op" id="7985638">,</span>&nbsp;<span class="ident" id="7985640">tv</span><span class="op" id="7985642">.</span><span class="ident" id="7985643">NumField</span><span class="op" id="7985651">(</span><span class="op" id="7985652">)</span><span class="op" id="7985653">;</span>&nbsp;<span class="ident" id="7985655">i</span>&nbsp;<span class="op" id="7985657">&lt;</span>&nbsp;<span class="ident" id="7985659">n</span><span class="op" id="7985660">;</span>&nbsp;<span class="ident" id="7985662">i</span><span class="op" id="7985663">++</span>&nbsp;<span class="op" id="7985666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985670">typ</span>&nbsp;<span class="op" id="7985674">:=</span>&nbsp;<span class="ident" id="7985677">tv</span><span class="op" id="7985679">.</span><span class="ident" id="7985680">Field</span><span class="op" id="7985685">(</span><span class="ident" id="7985686">i</span><span class="op" id="7985687">)</span><span class="op" id="7985688">.</span><span class="ident" id="7985689">Type</span><span class="op" id="7985693">(</span><span class="op" id="7985694">)</span><span class="op" id="7985695">.</span><span class="ident" id="7985696">String</span><span class="op" id="7985702">(</span><span class="op" id="7985703">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985707">if</span>&nbsp;<span class="ident" id="7985710">typ</span>&nbsp;<span class="op" id="7985714">==</span>&nbsp;<span class="string" id="7985717">&#34;[4]int&#34;</span>&nbsp;<span class="op" id="7985726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985731">typ</span>&nbsp;<span class="op" id="7985735">=</span>&nbsp;<span class="string" id="7985737">&#34;int&#34;</span>&nbsp;<span class="comment" id="7985743">//&nbsp;the&nbsp;problem&nbsp;is&nbsp;int,&nbsp;not&nbsp;the&nbsp;[4]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985780">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7985784">if</span>&nbsp;<span class="ident" id="7985787">err</span>&nbsp;<span class="op" id="7985791">:=</span>&nbsp;<span class="ident" id="7985794">Write</span><span class="op" id="7985799">(</span><span class="ident" id="7985800">buf</span><span class="op" id="7985803">,</span>&nbsp;<span class="ident" id="7985805">BigEndian</span><span class="op" id="7985814">,</span>&nbsp;<span class="ident" id="7985816">tv</span><span class="op" id="7985818">.</span><span class="ident" id="7985819">Field</span><span class="op" id="7985824">(</span><span class="ident" id="7985825">i</span><span class="op" id="7985826">)</span><span class="op" id="7985827">.</span><span class="ident" id="7985828">Interface</span><span class="op" id="7985837">(</span><span class="op" id="7985838">)</span><span class="op" id="7985839">)</span><span class="op" id="7985840">;</span>&nbsp;<span class="ident" id="7985842">err</span>&nbsp;<span class="op" id="7985846">==</span>&nbsp;<span class="ident" id="7985849">nil</span>&nbsp;<span class="op" id="7985853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985858">t</span><span class="op" id="7985859">.</span><span class="ident" id="7985860">Errorf</span><span class="op" id="7985866">(</span><span class="string" id="7985867">&#34;WriteT.%v:&nbsp;have&nbsp;err&nbsp;==&nbsp;nil,&nbsp;want&nbsp;non-nil&#34;</span><span class="op" id="7985909">,</span>&nbsp;<span class="ident" id="7985911">tv</span><span class="op" id="7985913">.</span><span class="ident" id="7985914">Field</span><span class="op" id="7985919">(</span><span class="ident" id="7985920">i</span><span class="op" id="7985921">)</span><span class="op" id="7985922">.</span><span class="ident" id="7985923">Type</span><span class="op" id="7985927">(</span><span class="op" id="7985928">)</span><span class="op" id="7985929">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985933">}</span>&nbsp;<span class="keyword" id="7985935">else</span>&nbsp;<span class="keyword" id="7985940">if</span>&nbsp;<span class="op" id="7985943">!</span><span class="ident" id="7985944">strings</span><span class="op" id="7985951">.</span><span class="ident" id="7985952">Contains</span><span class="op" id="7985960">(</span><span class="ident" id="7985961">err</span><span class="op" id="7985964">.</span><span class="ident" id="7985965">Error</span><span class="op" id="7985970">(</span><span class="op" id="7985971">)</span><span class="op" id="7985972">,</span>&nbsp;<span class="ident" id="7985974">typ</span><span class="op" id="7985977">)</span>&nbsp;<span class="op" id="7985979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7985984">t</span><span class="op" id="7985985">.</span><span class="ident" id="7985986">Errorf</span><span class="op" id="7985992">(</span><span class="string" id="7985993">&#34;WriteT:&nbsp;have&nbsp;err&nbsp;==&nbsp;%q,&nbsp;want&nbsp;it&nbsp;to&nbsp;mention&nbsp;%s&#34;</span><span class="op" id="7986040">,</span>&nbsp;<span class="ident" id="7986042">err</span><span class="op" id="7986045">,</span>&nbsp;<span class="ident" id="7986047">typ</span><span class="op" id="7986050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986057">}</span><br>
<span class="lineno"></span><span class="op" id="7986059">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7986062">type</span>&nbsp;<span class="ident" id="7986067">BlankFields</span>&nbsp;<span class="keyword" id="7986079">struct</span>&nbsp;<span class="op" id="7986086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986089">A</span>&nbsp;<span class="builtintype" id="7986091">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986099">_</span>&nbsp;<span class="builtintype" id="7986101">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986108">B</span>&nbsp;<span class="builtintype" id="7986110">float64</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986119">_</span>&nbsp;<span class="op" id="7986121">[</span><span class="num" id="7986122">4</span><span class="op" id="7986123">]</span><span class="builtintype" id="7986124">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986131">C</span>&nbsp;<span class="builtintype" id="7986133">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986139">_</span>&nbsp;<span class="op" id="7986141">[</span><span class="num" id="7986142">7</span><span class="op" id="7986143">]</span><span class="builtintype" id="7986144">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986150">_</span>&nbsp;<span class="keyword" id="7986152">struct</span>&nbsp;<span class="op" id="7986159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986163">f</span>&nbsp;<span class="op" id="7986165">[</span><span class="num" id="7986166">8</span><span class="op" id="7986167">]</span><span class="builtintype" id="7986168">float32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986177">}</span><br>
<span class="lineno"></span><span class="op" id="7986179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7986182">type</span>&nbsp;<span class="ident" id="7986187">BlankFieldsProbe</span>&nbsp;<span class="keyword" id="7986204">struct</span>&nbsp;<span class="op" id="7986211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986214">A</span>&nbsp;&nbsp;<span class="builtintype" id="7986217">uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986225">P0</span>&nbsp;<span class="builtintype" id="7986228">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986235">B</span>&nbsp;&nbsp;<span class="builtintype" id="7986238">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986247">P1</span>&nbsp;<span class="op" id="7986250">[</span><span class="num" id="7986251">4</span><span class="op" id="7986252">]</span><span class="builtintype" id="7986253">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986260">C</span>&nbsp;&nbsp;<span class="builtintype" id="7986263">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986269">P2</span>&nbsp;<span class="op" id="7986272">[</span><span class="num" id="7986273">7</span><span class="op" id="7986274">]</span><span class="builtintype" id="7986275">byte</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986281">P3</span>&nbsp;<span class="keyword" id="7986284">struct</span>&nbsp;<span class="op" id="7986291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986295">F</span>&nbsp;<span class="op" id="7986297">[</span><span class="num" id="7986298">8</span><span class="op" id="7986299">]</span><span class="builtintype" id="7986300">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986309">}</span><br>
<span class="lineno"></span><span class="op" id="7986311">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7986314">func</span>&nbsp;<span class="ident" id="7986319">TestBlankFields</span><span class="op" id="7986334">(</span><span class="ident" id="7986335">t</span>&nbsp;<span class="op" id="7986337">*</span><span class="ident" id="7986338">testing</span><span class="op" id="7986345">.</span><span class="ident" id="7986346">T</span><span class="op" id="7986347">)</span>&nbsp;<span class="op" id="7986349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986352">buf</span>&nbsp;<span class="op" id="7986356">:=</span>&nbsp;<span class="builtinfunc" id="7986359">new</span><span class="op" id="7986362">(</span><span class="ident" id="7986363">bytes</span><span class="op" id="7986368">.</span><span class="ident" id="7986369">Buffer</span><span class="op" id="7986375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986378">b1</span>&nbsp;<span class="op" id="7986381">:=</span>&nbsp;<span class="ident" id="7986384">BlankFields</span><span class="op" id="7986395">{</span><span class="ident" id="7986396">A</span><span class="op" id="7986397">:</span>&nbsp;<span class="num" id="7986399">1234567890</span><span class="op" id="7986409">,</span>&nbsp;<span class="ident" id="7986411">B</span><span class="op" id="7986412">:</span>&nbsp;<span class="num" id="7986414">2.718281828</span><span class="op" id="7986425">,</span>&nbsp;<span class="ident" id="7986427">C</span><span class="op" id="7986428">:</span>&nbsp;<span class="num" id="7986430">42</span><span class="op" id="7986432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7986435">if</span>&nbsp;<span class="ident" id="7986438">err</span>&nbsp;<span class="op" id="7986442">:=</span>&nbsp;<span class="ident" id="7986445">Write</span><span class="op" id="7986450">(</span><span class="ident" id="7986451">buf</span><span class="op" id="7986454">,</span>&nbsp;<span class="ident" id="7986456">LittleEndian</span><span class="op" id="7986468">,</span>&nbsp;<span class="op" id="7986470">&amp;</span><span class="ident" id="7986471">b1</span><span class="op" id="7986473">)</span><span class="op" id="7986474">;</span>&nbsp;<span class="ident" id="7986476">err</span>&nbsp;<span class="op" id="7986480">!=</span>&nbsp;<span class="ident" id="7986483">nil</span>&nbsp;<span class="op" id="7986487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986491">t</span><span class="op" id="7986492">.</span><span class="ident" id="7986493">Error</span><span class="op" id="7986498">(</span><span class="ident" id="7986499">err</span><span class="op" id="7986502">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986509">//&nbsp;zero&nbsp;values&nbsp;must&nbsp;have&nbsp;been&nbsp;written&nbsp;for&nbsp;blank&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7986565">var</span>&nbsp;<span class="ident" id="7986569">p</span>&nbsp;<span class="ident" id="7986571">BlankFieldsProbe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7986589">if</span>&nbsp;<span class="ident" id="7986592">err</span>&nbsp;<span class="op" id="7986596">:=</span>&nbsp;<span class="ident" id="7986599">Read</span><span class="op" id="7986603">(</span><span class="ident" id="7986604">buf</span><span class="op" id="7986607">,</span>&nbsp;<span class="ident" id="7986609">LittleEndian</span><span class="op" id="7986621">,</span>&nbsp;<span class="op" id="7986623">&amp;</span><span class="ident" id="7986624">p</span><span class="op" id="7986625">)</span><span class="op" id="7986626">;</span>&nbsp;<span class="ident" id="7986628">err</span>&nbsp;<span class="op" id="7986632">!=</span>&nbsp;<span class="ident" id="7986635">nil</span>&nbsp;<span class="op" id="7986639">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986643">t</span><span class="op" id="7986644">.</span><span class="ident" id="7986645">Error</span><span class="op" id="7986650">(</span><span class="ident" id="7986651">err</span><span class="op" id="7986654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986661">//&nbsp;quick&nbsp;test:&nbsp;only&nbsp;check&nbsp;first&nbsp;value&nbsp;of&nbsp;slices</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7986710">if</span>&nbsp;<span class="ident" id="7986713">p</span><span class="op" id="7986714">.</span><span class="ident" id="7986715">P0</span>&nbsp;<span class="op" id="7986718">!=</span>&nbsp;<span class="num" id="7986721">0</span>&nbsp;<span class="op" id="7986723">||</span>&nbsp;<span class="ident" id="7986726">p</span><span class="op" id="7986727">.</span><span class="ident" id="7986728">P1</span><span class="op" id="7986730">[</span><span class="num" id="7986731">0</span><span class="op" id="7986732">]</span>&nbsp;<span class="op" id="7986734">!=</span>&nbsp;<span class="num" id="7986737">0</span>&nbsp;<span class="op" id="7986739">||</span>&nbsp;<span class="ident" id="7986742">p</span><span class="op" id="7986743">.</span><span class="ident" id="7986744">P2</span><span class="op" id="7986746">[</span><span class="num" id="7986747">0</span><span class="op" id="7986748">]</span>&nbsp;<span class="op" id="7986750">!=</span>&nbsp;<span class="num" id="7986753">0</span>&nbsp;<span class="op" id="7986755">||</span>&nbsp;<span class="ident" id="7986758">p</span><span class="op" id="7986759">.</span><span class="ident" id="7986760">P3</span><span class="op" id="7986762">.</span><span class="ident" id="7986763">F</span><span class="op" id="7986764">[</span><span class="num" id="7986765">0</span><span class="op" id="7986766">]</span>&nbsp;<span class="op" id="7986768">!=</span>&nbsp;<span class="num" id="7986771">0</span>&nbsp;<span class="op" id="7986773">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986777">t</span><span class="op" id="7986778">.</span><span class="ident" id="7986779">Errorf</span><span class="op" id="7986785">(</span><span class="string" id="7986786">&#34;non-zero&nbsp;values&nbsp;for&nbsp;originally&nbsp;blank&nbsp;fields:&nbsp;%#v&#34;</span><span class="op" id="7986836">,</span>&nbsp;<span class="ident" id="7986838">p</span><span class="op" id="7986839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986846">//&nbsp;write&nbsp;p&nbsp;and&nbsp;see&nbsp;if&nbsp;we&nbsp;can&nbsp;probe&nbsp;only&nbsp;some&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7986899">if</span>&nbsp;<span class="ident" id="7986902">err</span>&nbsp;<span class="op" id="7986906">:=</span>&nbsp;<span class="ident" id="7986909">Write</span><span class="op" id="7986914">(</span><span class="ident" id="7986915">buf</span><span class="op" id="7986918">,</span>&nbsp;<span class="ident" id="7986920">LittleEndian</span><span class="op" id="7986932">,</span>&nbsp;<span class="op" id="7986934">&amp;</span><span class="ident" id="7986935">p</span><span class="op" id="7986936">)</span><span class="op" id="7986937">;</span>&nbsp;<span class="ident" id="7986939">err</span>&nbsp;<span class="op" id="7986943">!=</span>&nbsp;<span class="ident" id="7986946">nil</span>&nbsp;<span class="op" id="7986950">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7986954">t</span><span class="op" id="7986955">.</span><span class="ident" id="7986956">Error</span><span class="op" id="7986961">(</span><span class="ident" id="7986962">err</span><span class="op" id="7986965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986968">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986972">//&nbsp;read&nbsp;should&nbsp;ignore&nbsp;blank&nbsp;fields&nbsp;in&nbsp;b2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987014">var</span>&nbsp;<span class="ident" id="7987018">b2</span>&nbsp;<span class="ident" id="7987021">BlankFields</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987034">if</span>&nbsp;<span class="ident" id="7987037">err</span>&nbsp;<span class="op" id="7987041">:=</span>&nbsp;<span class="ident" id="7987044">Read</span><span class="op" id="7987048">(</span><span class="ident" id="7987049">buf</span><span class="op" id="7987052">,</span>&nbsp;<span class="ident" id="7987054">LittleEndian</span><span class="op" id="7987066">,</span>&nbsp;<span class="op" id="7987068">&amp;</span><span class="ident" id="7987069">b2</span><span class="op" id="7987071">)</span><span class="op" id="7987072">;</span>&nbsp;<span class="ident" id="7987074">err</span>&nbsp;<span class="op" id="7987078">!=</span>&nbsp;<span class="ident" id="7987081">nil</span>&nbsp;<span class="op" id="7987085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987089">t</span><span class="op" id="7987090">.</span><span class="ident" id="7987091">Error</span><span class="op" id="7987096">(</span><span class="ident" id="7987097">err</span><span class="op" id="7987100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987106">if</span>&nbsp;<span class="ident" id="7987109">b1</span><span class="op" id="7987111">.</span><span class="ident" id="7987112">A</span>&nbsp;<span class="op" id="7987114">!=</span>&nbsp;<span class="ident" id="7987117">b2</span><span class="op" id="7987119">.</span><span class="ident" id="7987120">A</span>&nbsp;<span class="op" id="7987122">||</span>&nbsp;<span class="ident" id="7987125">b1</span><span class="op" id="7987127">.</span><span class="ident" id="7987128">B</span>&nbsp;<span class="op" id="7987130">!=</span>&nbsp;<span class="ident" id="7987133">b2</span><span class="op" id="7987135">.</span><span class="ident" id="7987136">B</span>&nbsp;<span class="op" id="7987138">||</span>&nbsp;<span class="ident" id="7987141">b1</span><span class="op" id="7987143">.</span><span class="ident" id="7987144">C</span>&nbsp;<span class="op" id="7987146">!=</span>&nbsp;<span class="ident" id="7987149">b2</span><span class="op" id="7987151">.</span><span class="ident" id="7987152">C</span>&nbsp;<span class="op" id="7987154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987158">t</span><span class="op" id="7987159">.</span><span class="ident" id="7987160">Errorf</span><span class="op" id="7987166">(</span><span class="string" id="7987167">&#34;%#v&nbsp;!=&nbsp;%#v&#34;</span><span class="op" id="7987179">,</span>&nbsp;<span class="ident" id="7987181">b1</span><span class="op" id="7987183">,</span>&nbsp;<span class="ident" id="7987185">b2</span><span class="op" id="7987187">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987190">}</span><br>
<span class="lineno"></span><span class="op" id="7987192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7987195">//&nbsp;An&nbsp;attempt&nbsp;to&nbsp;read&nbsp;into&nbsp;a&nbsp;struct&nbsp;with&nbsp;an&nbsp;unexported&nbsp;field&nbsp;will</span><br>
<span class="lineno"></span><span class="comment" id="7987261">//&nbsp;panic.&nbsp;&nbsp;This&nbsp;is&nbsp;probably&nbsp;not&nbsp;the&nbsp;best&nbsp;choice,&nbsp;but&nbsp;at&nbsp;this&nbsp;point</span><br>
<span class="lineno">270</span><span class="comment" id="7987328">//&nbsp;anything&nbsp;else&nbsp;would&nbsp;be&nbsp;an&nbsp;API&nbsp;change.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7987370">type</span>&nbsp;<span class="ident" id="7987375">Unexported</span>&nbsp;<span class="keyword" id="7987386">struct</span>&nbsp;<span class="op" id="7987393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987396">a</span>&nbsp;<span class="builtintype" id="7987398">int32</span><br>
<span class="lineno"></span><span class="op" id="7987404">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span><span class="keyword" id="7987407">func</span>&nbsp;<span class="ident" id="7987412">TestUnexportedRead</span><span class="op" id="7987430">(</span><span class="ident" id="7987431">t</span>&nbsp;<span class="op" id="7987433">*</span><span class="ident" id="7987434">testing</span><span class="op" id="7987441">.</span><span class="ident" id="7987442">T</span><span class="op" id="7987443">)</span>&nbsp;<span class="op" id="7987445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987448">var</span>&nbsp;<span class="ident" id="7987452">buf</span>&nbsp;<span class="ident" id="7987456">bytes</span><span class="op" id="7987461">.</span><span class="ident" id="7987462">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987470">u1</span>&nbsp;<span class="op" id="7987473">:=</span>&nbsp;<span class="ident" id="7987476">Unexported</span><span class="op" id="7987486">{</span><span class="ident" id="7987487">a</span><span class="op" id="7987488">:</span>&nbsp;<span class="num" id="7987490">1</span><span class="op" id="7987491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987494">if</span>&nbsp;<span class="ident" id="7987497">err</span>&nbsp;<span class="op" id="7987501">:=</span>&nbsp;<span class="ident" id="7987504">Write</span><span class="op" id="7987509">(</span><span class="op" id="7987510">&amp;</span><span class="ident" id="7987511">buf</span><span class="op" id="7987514">,</span>&nbsp;<span class="ident" id="7987516">LittleEndian</span><span class="op" id="7987528">,</span>&nbsp;<span class="op" id="7987530">&amp;</span><span class="ident" id="7987531">u1</span><span class="op" id="7987533">)</span><span class="op" id="7987534">;</span>&nbsp;<span class="ident" id="7987536">err</span>&nbsp;<span class="op" id="7987540">!=</span>&nbsp;<span class="ident" id="7987543">nil</span>&nbsp;<span class="op" id="7987547">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987551">t</span><span class="op" id="7987552">.</span><span class="ident" id="7987553">Fatal</span><span class="op" id="7987558">(</span><span class="ident" id="7987559">err</span><span class="op" id="7987562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987569">defer</span>&nbsp;<span class="keyword" id="7987575">func</span><span class="op" id="7987579">(</span><span class="op" id="7987580">)</span>&nbsp;<span class="op" id="7987582">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987586">if</span>&nbsp;<span class="builtinfunc" id="7987589">recover</span><span class="op" id="7987596">(</span><span class="op" id="7987597">)</span>&nbsp;<span class="op" id="7987599">==</span>&nbsp;<span class="ident" id="7987602">nil</span>&nbsp;<span class="op" id="7987606">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987611">t</span><span class="op" id="7987612">.</span><span class="ident" id="7987613">Fatal</span><span class="op" id="7987618">(</span><span class="string" id="7987619">&#34;did&nbsp;not&nbsp;panic&#34;</span><span class="op" id="7987634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987641">}</span><span class="op" id="7987642">(</span><span class="op" id="7987643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987646">var</span>&nbsp;<span class="ident" id="7987650">u2</span>&nbsp;<span class="ident" id="7987653">Unexported</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987665">Read</span><span class="op" id="7987669">(</span><span class="op" id="7987670">&amp;</span><span class="ident" id="7987671">buf</span><span class="op" id="7987674">,</span>&nbsp;<span class="ident" id="7987676">LittleEndian</span><span class="op" id="7987688">,</span>&nbsp;<span class="op" id="7987690">&amp;</span><span class="ident" id="7987691">u2</span><span class="op" id="7987693">)</span><br>
<span class="lineno">290</span><span class="op" id="7987695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7987698">func</span>&nbsp;<span class="ident" id="7987703">TestReadErrorMsg</span><span class="op" id="7987719">(</span><span class="ident" id="7987720">t</span>&nbsp;<span class="op" id="7987722">*</span><span class="ident" id="7987723">testing</span><span class="op" id="7987730">.</span><span class="ident" id="7987731">T</span><span class="op" id="7987732">)</span>&nbsp;<span class="op" id="7987734">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987737">var</span>&nbsp;<span class="ident" id="7987741">buf</span>&nbsp;<span class="ident" id="7987745">bytes</span><span class="op" id="7987750">.</span><span class="ident" id="7987751">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987759">read</span>&nbsp;<span class="op" id="7987764">:=</span>&nbsp;<span class="keyword" id="7987767">func</span><span class="op" id="7987771">(</span><span class="ident" id="7987772">data</span>&nbsp;<span class="keyword" id="7987777">interface</span><span class="op" id="7987786">{</span><span class="op" id="7987787">}</span><span class="op" id="7987788">)</span>&nbsp;<span class="op" id="7987790">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987794">err</span>&nbsp;<span class="op" id="7987798">:=</span>&nbsp;<span class="ident" id="7987801">Read</span><span class="op" id="7987805">(</span><span class="op" id="7987806">&amp;</span><span class="ident" id="7987807">buf</span><span class="op" id="7987810">,</span>&nbsp;<span class="ident" id="7987812">LittleEndian</span><span class="op" id="7987824">,</span>&nbsp;<span class="ident" id="7987826">data</span><span class="op" id="7987830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987834">want</span>&nbsp;<span class="op" id="7987839">:=</span>&nbsp;<span class="string" id="7987842">&#34;binary.Read:&nbsp;invalid&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="7987871">+</span>&nbsp;<span class="ident" id="7987873">reflect</span><span class="op" id="7987880">.</span><span class="ident" id="7987881">TypeOf</span><span class="op" id="7987887">(</span><span class="ident" id="7987888">data</span><span class="op" id="7987892">)</span><span class="op" id="7987893">.</span><span class="ident" id="7987894">String</span><span class="op" id="7987900">(</span><span class="op" id="7987901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987905">if</span>&nbsp;<span class="ident" id="7987908">err</span>&nbsp;<span class="op" id="7987912">==</span>&nbsp;<span class="ident" id="7987915">nil</span>&nbsp;<span class="op" id="7987919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7987924">t</span><span class="op" id="7987925">.</span><span class="ident" id="7987926">Errorf</span><span class="op" id="7987932">(</span><span class="string" id="7987933">&#34;%T:&nbsp;got&nbsp;no&nbsp;error;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7987960">,</span>&nbsp;<span class="ident" id="7987962">data</span><span class="op" id="7987966">,</span>&nbsp;<span class="ident" id="7987968">want</span><span class="op" id="7987972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987977">return</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7987990">if</span>&nbsp;<span class="ident" id="7987993">got</span>&nbsp;<span class="op" id="7987997">:=</span>&nbsp;<span class="ident" id="7988000">err</span><span class="op" id="7988003">.</span><span class="ident" id="7988004">Error</span><span class="op" id="7988009">(</span><span class="op" id="7988010">)</span><span class="op" id="7988011">;</span>&nbsp;<span class="ident" id="7988013">got</span>&nbsp;<span class="op" id="7988017">!=</span>&nbsp;<span class="ident" id="7988020">want</span>&nbsp;<span class="op" id="7988025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988030">t</span><span class="op" id="7988031">.</span><span class="ident" id="7988032">Errorf</span><span class="op" id="7988038">(</span><span class="string" id="7988039">&#34;%T:&nbsp;got&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7988060">,</span>&nbsp;<span class="ident" id="7988062">data</span><span class="op" id="7988066">,</span>&nbsp;<span class="ident" id="7988068">got</span><span class="op" id="7988071">,</span>&nbsp;<span class="ident" id="7988073">want</span><span class="op" id="7988077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988084">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988087">read</span><span class="op" id="7988091">(</span><span class="num" id="7988092">0</span><span class="op" id="7988093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988096">s</span>&nbsp;<span class="op" id="7988098">:=</span>&nbsp;<span class="builtinfunc" id="7988101">new</span><span class="op" id="7988104">(</span><span class="keyword" id="7988105">struct</span><span class="op" id="7988111">{</span><span class="op" id="7988112">}</span><span class="op" id="7988113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988116">read</span><span class="op" id="7988120">(</span><span class="op" id="7988121">&amp;</span><span class="ident" id="7988122">s</span><span class="op" id="7988123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988126">p</span>&nbsp;<span class="op" id="7988128">:=</span>&nbsp;<span class="op" id="7988131">&amp;</span><span class="ident" id="7988132">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988135">read</span><span class="op" id="7988139">(</span><span class="op" id="7988140">&amp;</span><span class="ident" id="7988141">p</span><span class="op" id="7988142">)</span><br>
<span class="lineno">310</span><span class="op" id="7988144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7988147">type</span>&nbsp;<span class="ident" id="7988152">byteSliceReader</span>&nbsp;<span class="keyword" id="7988168">struct</span>&nbsp;<span class="op" id="7988175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988178">remain</span>&nbsp;<span class="op" id="7988185">[</span><span class="op" id="7988186">]</span><span class="builtintype" id="7988187">byte</span><br>
<span class="lineno"></span><span class="op" id="7988192">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span><span class="keyword" id="7988195">func</span>&nbsp;<span class="op" id="7988200">(</span><span class="ident" id="7988201">br</span>&nbsp;<span class="op" id="7988204">*</span><span class="ident" id="7988205">byteSliceReader</span><span class="op" id="7988220">)</span>&nbsp;<span class="ident" id="7988222">Read</span><span class="op" id="7988226">(</span><span class="ident" id="7988227">p</span>&nbsp;<span class="op" id="7988229">[</span><span class="op" id="7988230">]</span><span class="builtintype" id="7988231">byte</span><span class="op" id="7988235">)</span>&nbsp;<span class="op" id="7988237">(</span><span class="builtintype" id="7988238">int</span><span class="op" id="7988241">,</span>&nbsp;<span class="builtintype" id="7988243">error</span><span class="op" id="7988248">)</span>&nbsp;<span class="op" id="7988250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988253">n</span>&nbsp;<span class="op" id="7988255">:=</span>&nbsp;<span class="builtinfunc" id="7988258">copy</span><span class="op" id="7988262">(</span><span class="ident" id="7988263">p</span><span class="op" id="7988264">,</span>&nbsp;<span class="ident" id="7988266">br</span><span class="op" id="7988268">.</span><span class="ident" id="7988269">remain</span><span class="op" id="7988275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988278">br</span><span class="op" id="7988280">.</span><span class="ident" id="7988281">remain</span>&nbsp;<span class="op" id="7988288">=</span>&nbsp;<span class="ident" id="7988290">br</span><span class="op" id="7988292">.</span><span class="ident" id="7988293">remain</span><span class="op" id="7988299">[</span><span class="ident" id="7988300">n</span><span class="op" id="7988301">:</span><span class="op" id="7988302">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988305">return</span>&nbsp;<span class="ident" id="7988312">n</span><span class="op" id="7988313">,</span>&nbsp;<span class="ident" id="7988315">nil</span><br>
<span class="lineno">320</span><span class="op" id="7988319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7988322">func</span>&nbsp;<span class="ident" id="7988327">BenchmarkReadSlice1000Int32s</span><span class="op" id="7988355">(</span><span class="ident" id="7988356">b</span>&nbsp;<span class="op" id="7988358">*</span><span class="ident" id="7988359">testing</span><span class="op" id="7988366">.</span><span class="ident" id="7988367">B</span><span class="op" id="7988368">)</span>&nbsp;<span class="op" id="7988370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988373">bsr</span>&nbsp;<span class="op" id="7988377">:=</span>&nbsp;<span class="op" id="7988380">&amp;</span><span class="ident" id="7988381">byteSliceReader</span><span class="op" id="7988396">{</span><span class="op" id="7988397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988400">slice</span>&nbsp;<span class="op" id="7988406">:=</span>&nbsp;<span class="builtinfunc" id="7988409">make</span><span class="op" id="7988413">(</span><span class="op" id="7988414">[</span><span class="op" id="7988415">]</span><span class="builtintype" id="7988416">int32</span><span class="op" id="7988421">,</span>&nbsp;<span class="num" id="7988423">1000</span><span class="op" id="7988427">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988430">buf</span>&nbsp;<span class="op" id="7988434">:=</span>&nbsp;<span class="builtinfunc" id="7988437">make</span><span class="op" id="7988441">(</span><span class="op" id="7988442">[</span><span class="op" id="7988443">]</span><span class="builtintype" id="7988444">byte</span><span class="op" id="7988448">,</span>&nbsp;<span class="builtinfunc" id="7988450">len</span><span class="op" id="7988453">(</span><span class="ident" id="7988454">slice</span><span class="op" id="7988459">)</span><span class="op" id="7988460">*</span><span class="num" id="7988461">4</span><span class="op" id="7988462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988465">b</span><span class="op" id="7988466">.</span><span class="ident" id="7988467">SetBytes</span><span class="op" id="7988475">(</span><span class="ident" id="7988476">int64</span><span class="op" id="7988481">(</span><span class="builtinfunc" id="7988482">len</span><span class="op" id="7988485">(</span><span class="ident" id="7988486">buf</span><span class="op" id="7988489">)</span><span class="op" id="7988490">)</span><span class="op" id="7988491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988494">b</span><span class="op" id="7988495">.</span><span class="ident" id="7988496">ResetTimer</span><span class="op" id="7988506">(</span><span class="op" id="7988507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988510">for</span>&nbsp;<span class="ident" id="7988514">i</span>&nbsp;<span class="op" id="7988516">:=</span>&nbsp;<span class="num" id="7988519">0</span><span class="op" id="7988520">;</span>&nbsp;<span class="ident" id="7988522">i</span>&nbsp;<span class="op" id="7988524">&lt;</span>&nbsp;<span class="ident" id="7988526">b</span><span class="op" id="7988527">.</span><span class="ident" id="7988528">N</span><span class="op" id="7988529">;</span>&nbsp;<span class="ident" id="7988531">i</span><span class="op" id="7988532">++</span>&nbsp;<span class="op" id="7988535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988539">bsr</span><span class="op" id="7988542">.</span><span class="ident" id="7988543">remain</span>&nbsp;<span class="op" id="7988550">=</span>&nbsp;<span class="ident" id="7988552">buf</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988558">Read</span><span class="op" id="7988562">(</span><span class="ident" id="7988563">bsr</span><span class="op" id="7988566">,</span>&nbsp;<span class="ident" id="7988568">BigEndian</span><span class="op" id="7988577">,</span>&nbsp;<span class="ident" id="7988579">slice</span><span class="op" id="7988584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988587">}</span><br>
<span class="lineno"></span><span class="op" id="7988589">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7988592">func</span>&nbsp;<span class="ident" id="7988597">BenchmarkReadStruct</span><span class="op" id="7988616">(</span><span class="ident" id="7988617">b</span>&nbsp;<span class="op" id="7988619">*</span><span class="ident" id="7988620">testing</span><span class="op" id="7988627">.</span><span class="ident" id="7988628">B</span><span class="op" id="7988629">)</span>&nbsp;<span class="op" id="7988631">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988634">bsr</span>&nbsp;<span class="op" id="7988638">:=</span>&nbsp;<span class="op" id="7988641">&amp;</span><span class="ident" id="7988642">byteSliceReader</span><span class="op" id="7988657">{</span><span class="op" id="7988658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988661">var</span>&nbsp;<span class="ident" id="7988665">buf</span>&nbsp;<span class="ident" id="7988669">bytes</span><span class="op" id="7988674">.</span><span class="ident" id="7988675">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988683">Write</span><span class="op" id="7988688">(</span><span class="op" id="7988689">&amp;</span><span class="ident" id="7988690">buf</span><span class="op" id="7988693">,</span>&nbsp;<span class="ident" id="7988695">BigEndian</span><span class="op" id="7988704">,</span>&nbsp;<span class="op" id="7988706">&amp;</span><span class="ident" id="7988707">s</span><span class="op" id="7988708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988711">b</span><span class="op" id="7988712">.</span><span class="ident" id="7988713">SetBytes</span><span class="op" id="7988721">(</span><span class="ident" id="7988722">int64</span><span class="op" id="7988727">(</span><span class="ident" id="7988728">dataSize</span><span class="op" id="7988736">(</span><span class="ident" id="7988737">reflect</span><span class="op" id="7988744">.</span><span class="ident" id="7988745">ValueOf</span><span class="op" id="7988752">(</span><span class="ident" id="7988753">s</span><span class="op" id="7988754">)</span><span class="op" id="7988755">)</span><span class="op" id="7988756">)</span><span class="op" id="7988757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988760">t</span>&nbsp;<span class="op" id="7988762">:=</span>&nbsp;<span class="ident" id="7988765">s</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988768">b</span><span class="op" id="7988769">.</span><span class="ident" id="7988770">ResetTimer</span><span class="op" id="7988780">(</span><span class="op" id="7988781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988784">for</span>&nbsp;<span class="ident" id="7988788">i</span>&nbsp;<span class="op" id="7988790">:=</span>&nbsp;<span class="num" id="7988793">0</span><span class="op" id="7988794">;</span>&nbsp;<span class="ident" id="7988796">i</span>&nbsp;<span class="op" id="7988798">&lt;</span>&nbsp;<span class="ident" id="7988800">b</span><span class="op" id="7988801">.</span><span class="ident" id="7988802">N</span><span class="op" id="7988803">;</span>&nbsp;<span class="ident" id="7988805">i</span><span class="op" id="7988806">++</span>&nbsp;<span class="op" id="7988809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988813">bsr</span><span class="op" id="7988816">.</span><span class="ident" id="7988817">remain</span>&nbsp;<span class="op" id="7988824">=</span>&nbsp;<span class="ident" id="7988826">buf</span><span class="op" id="7988829">.</span><span class="ident" id="7988830">Bytes</span><span class="op" id="7988835">(</span><span class="op" id="7988836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988840">Read</span><span class="op" id="7988844">(</span><span class="ident" id="7988845">bsr</span><span class="op" id="7988848">,</span>&nbsp;<span class="ident" id="7988850">BigEndian</span><span class="op" id="7988859">,</span>&nbsp;<span class="op" id="7988861">&amp;</span><span class="ident" id="7988862">t</span><span class="op" id="7988863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988866">}</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988869">b</span><span class="op" id="7988870">.</span><span class="ident" id="7988871">StopTimer</span><span class="op" id="7988880">(</span><span class="op" id="7988881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988884">if</span>&nbsp;<span class="op" id="7988887">!</span><span class="ident" id="7988888">reflect</span><span class="op" id="7988895">.</span><span class="ident" id="7988896">DeepEqual</span><span class="op" id="7988905">(</span><span class="ident" id="7988906">s</span><span class="op" id="7988907">,</span>&nbsp;<span class="ident" id="7988909">t</span><span class="op" id="7988910">)</span>&nbsp;<span class="op" id="7988912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988916">b</span><span class="op" id="7988917">.</span><span class="ident" id="7988918">Fatal</span><span class="op" id="7988923">(</span><span class="string" id="7988924">&#34;no&nbsp;match&#34;</span><span class="op" id="7988934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988937">}</span><br>
<span class="lineno"></span><span class="op" id="7988939">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7988942">func</span>&nbsp;<span class="ident" id="7988947">BenchmarkReadInts</span><span class="op" id="7988964">(</span><span class="ident" id="7988965">b</span>&nbsp;<span class="op" id="7988967">*</span><span class="ident" id="7988968">testing</span><span class="op" id="7988975">.</span><span class="ident" id="7988976">B</span><span class="op" id="7988977">)</span>&nbsp;<span class="op" id="7988979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988982">var</span>&nbsp;<span class="ident" id="7988986">ls</span>&nbsp;<span class="ident" id="7988989">Struct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988997">bsr</span>&nbsp;<span class="op" id="7989001">:=</span>&nbsp;<span class="op" id="7989004">&amp;</span><span class="ident" id="7989005">byteSliceReader</span><span class="op" id="7989020">{</span><span class="op" id="7989021">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989024">var</span>&nbsp;<span class="ident" id="7989028">r</span>&nbsp;<span class="ident" id="7989030">io</span><span class="op" id="7989032">.</span><span class="ident" id="7989033">Reader</span>&nbsp;<span class="op" id="7989040">=</span>&nbsp;<span class="ident" id="7989042">bsr</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989047">b</span><span class="op" id="7989048">.</span><span class="ident" id="7989049">SetBytes</span><span class="op" id="7989057">(</span><span class="num" id="7989058">2</span>&nbsp;<span class="op" id="7989060">*</span>&nbsp;<span class="op" id="7989062">(</span><span class="num" id="7989063">1</span>&nbsp;<span class="op" id="7989065">+</span>&nbsp;<span class="num" id="7989067">2</span>&nbsp;<span class="op" id="7989069">+</span>&nbsp;<span class="num" id="7989071">4</span>&nbsp;<span class="op" id="7989073">+</span>&nbsp;<span class="num" id="7989075">8</span><span class="op" id="7989076">)</span><span class="op" id="7989077">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989080">b</span><span class="op" id="7989081">.</span><span class="ident" id="7989082">ResetTimer</span><span class="op" id="7989092">(</span><span class="op" id="7989093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989096">for</span>&nbsp;<span class="ident" id="7989100">i</span>&nbsp;<span class="op" id="7989102">:=</span>&nbsp;<span class="num" id="7989105">0</span><span class="op" id="7989106">;</span>&nbsp;<span class="ident" id="7989108">i</span>&nbsp;<span class="op" id="7989110">&lt;</span>&nbsp;<span class="ident" id="7989112">b</span><span class="op" id="7989113">.</span><span class="ident" id="7989114">N</span><span class="op" id="7989115">;</span>&nbsp;<span class="ident" id="7989117">i</span><span class="op" id="7989118">++</span>&nbsp;<span class="op" id="7989121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989125">bsr</span><span class="op" id="7989128">.</span><span class="ident" id="7989129">remain</span>&nbsp;<span class="op" id="7989136">=</span>&nbsp;<span class="ident" id="7989138">big</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989144">Read</span><span class="op" id="7989148">(</span><span class="ident" id="7989149">r</span><span class="op" id="7989150">,</span>&nbsp;<span class="ident" id="7989152">BigEndian</span><span class="op" id="7989161">,</span>&nbsp;<span class="op" id="7989163">&amp;</span><span class="ident" id="7989164">ls</span><span class="op" id="7989166">.</span><span class="ident" id="7989167">Int8</span><span class="op" id="7989171">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989175">Read</span><span class="op" id="7989179">(</span><span class="ident" id="7989180">r</span><span class="op" id="7989181">,</span>&nbsp;<span class="ident" id="7989183">BigEndian</span><span class="op" id="7989192">,</span>&nbsp;<span class="op" id="7989194">&amp;</span><span class="ident" id="7989195">ls</span><span class="op" id="7989197">.</span><span class="ident" id="7989198">Int16</span><span class="op" id="7989203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989207">Read</span><span class="op" id="7989211">(</span><span class="ident" id="7989212">r</span><span class="op" id="7989213">,</span>&nbsp;<span class="ident" id="7989215">BigEndian</span><span class="op" id="7989224">,</span>&nbsp;<span class="op" id="7989226">&amp;</span><span class="ident" id="7989227">ls</span><span class="op" id="7989229">.</span><span class="ident" id="7989230">Int32</span><span class="op" id="7989235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989239">Read</span><span class="op" id="7989243">(</span><span class="ident" id="7989244">r</span><span class="op" id="7989245">,</span>&nbsp;<span class="ident" id="7989247">BigEndian</span><span class="op" id="7989256">,</span>&nbsp;<span class="op" id="7989258">&amp;</span><span class="ident" id="7989259">ls</span><span class="op" id="7989261">.</span><span class="ident" id="7989262">Int64</span><span class="op" id="7989267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989271">Read</span><span class="op" id="7989275">(</span><span class="ident" id="7989276">r</span><span class="op" id="7989277">,</span>&nbsp;<span class="ident" id="7989279">BigEndian</span><span class="op" id="7989288">,</span>&nbsp;<span class="op" id="7989290">&amp;</span><span class="ident" id="7989291">ls</span><span class="op" id="7989293">.</span><span class="ident" id="7989294">Uint8</span><span class="op" id="7989299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989303">Read</span><span class="op" id="7989307">(</span><span class="ident" id="7989308">r</span><span class="op" id="7989309">,</span>&nbsp;<span class="ident" id="7989311">BigEndian</span><span class="op" id="7989320">,</span>&nbsp;<span class="op" id="7989322">&amp;</span><span class="ident" id="7989323">ls</span><span class="op" id="7989325">.</span><span class="ident" id="7989326">Uint16</span><span class="op" id="7989332">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989336">Read</span><span class="op" id="7989340">(</span><span class="ident" id="7989341">r</span><span class="op" id="7989342">,</span>&nbsp;<span class="ident" id="7989344">BigEndian</span><span class="op" id="7989353">,</span>&nbsp;<span class="op" id="7989355">&amp;</span><span class="ident" id="7989356">ls</span><span class="op" id="7989358">.</span><span class="ident" id="7989359">Uint32</span><span class="op" id="7989365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989369">Read</span><span class="op" id="7989373">(</span><span class="ident" id="7989374">r</span><span class="op" id="7989375">,</span>&nbsp;<span class="ident" id="7989377">BigEndian</span><span class="op" id="7989386">,</span>&nbsp;<span class="op" id="7989388">&amp;</span><span class="ident" id="7989389">ls</span><span class="op" id="7989391">.</span><span class="ident" id="7989392">Uint64</span><span class="op" id="7989398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989401">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989405">want</span>&nbsp;<span class="op" id="7989410">:=</span>&nbsp;<span class="ident" id="7989413">s</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989416">want</span><span class="op" id="7989420">.</span><span class="ident" id="7989421">Float32</span>&nbsp;<span class="op" id="7989429">=</span>&nbsp;<span class="num" id="7989431">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989434">want</span><span class="op" id="7989438">.</span><span class="ident" id="7989439">Float64</span>&nbsp;<span class="op" id="7989447">=</span>&nbsp;<span class="num" id="7989449">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989452">want</span><span class="op" id="7989456">.</span><span class="ident" id="7989457">Complex64</span>&nbsp;<span class="op" id="7989467">=</span>&nbsp;<span class="num" id="7989469">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989472">want</span><span class="op" id="7989476">.</span><span class="ident" id="7989477">Complex128</span>&nbsp;<span class="op" id="7989488">=</span>&nbsp;<span class="num" id="7989490">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989493">for</span>&nbsp;<span class="ident" id="7989497">i</span>&nbsp;<span class="op" id="7989499">:=</span>&nbsp;<span class="keyword" id="7989502">range</span>&nbsp;<span class="ident" id="7989508">want</span><span class="op" id="7989512">.</span><span class="ident" id="7989513">Array</span>&nbsp;<span class="op" id="7989519">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989523">want</span><span class="op" id="7989527">.</span><span class="ident" id="7989528">Array</span><span class="op" id="7989533">[</span><span class="ident" id="7989534">i</span><span class="op" id="7989535">]</span>&nbsp;<span class="op" id="7989537">=</span>&nbsp;<span class="num" id="7989539">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989545">b</span><span class="op" id="7989546">.</span><span class="ident" id="7989547">StopTimer</span><span class="op" id="7989556">(</span><span class="op" id="7989557">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989560">if</span>&nbsp;<span class="op" id="7989563">!</span><span class="ident" id="7989564">reflect</span><span class="op" id="7989571">.</span><span class="ident" id="7989572">DeepEqual</span><span class="op" id="7989581">(</span><span class="ident" id="7989582">ls</span><span class="op" id="7989584">,</span>&nbsp;<span class="ident" id="7989586">want</span><span class="op" id="7989590">)</span>&nbsp;<span class="op" id="7989592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7989596">panic</span><span class="op" id="7989601">(</span><span class="string" id="7989602">&#34;no&nbsp;match&#34;</span><span class="op" id="7989612">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989615">}</span><br>
<span class="lineno"></span><span class="op" id="7989617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7989620">func</span>&nbsp;<span class="ident" id="7989625">BenchmarkWriteInts</span><span class="op" id="7989643">(</span><span class="ident" id="7989644">b</span>&nbsp;<span class="op" id="7989646">*</span><span class="ident" id="7989647">testing</span><span class="op" id="7989654">.</span><span class="ident" id="7989655">B</span><span class="op" id="7989656">)</span>&nbsp;<span class="op" id="7989658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989661">buf</span>&nbsp;<span class="op" id="7989665">:=</span>&nbsp;<span class="builtinfunc" id="7989668">new</span><span class="op" id="7989671">(</span><span class="ident" id="7989672">bytes</span><span class="op" id="7989677">.</span><span class="ident" id="7989678">Buffer</span><span class="op" id="7989684">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989687">var</span>&nbsp;<span class="ident" id="7989691">w</span>&nbsp;<span class="ident" id="7989693">io</span><span class="op" id="7989695">.</span><span class="ident" id="7989696">Writer</span>&nbsp;<span class="op" id="7989703">=</span>&nbsp;<span class="ident" id="7989705">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989710">b</span><span class="op" id="7989711">.</span><span class="ident" id="7989712">SetBytes</span><span class="op" id="7989720">(</span><span class="num" id="7989721">2</span>&nbsp;<span class="op" id="7989723">*</span>&nbsp;<span class="op" id="7989725">(</span><span class="num" id="7989726">1</span>&nbsp;<span class="op" id="7989728">+</span>&nbsp;<span class="num" id="7989730">2</span>&nbsp;<span class="op" id="7989732">+</span>&nbsp;<span class="num" id="7989734">4</span>&nbsp;<span class="op" id="7989736">+</span>&nbsp;<span class="num" id="7989738">8</span><span class="op" id="7989739">)</span><span class="op" id="7989740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989743">b</span><span class="op" id="7989744">.</span><span class="ident" id="7989745">ResetTimer</span><span class="op" id="7989755">(</span><span class="op" id="7989756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989759">for</span>&nbsp;<span class="ident" id="7989763">i</span>&nbsp;<span class="op" id="7989765">:=</span>&nbsp;<span class="num" id="7989768">0</span><span class="op" id="7989769">;</span>&nbsp;<span class="ident" id="7989771">i</span>&nbsp;<span class="op" id="7989773">&lt;</span>&nbsp;<span class="ident" id="7989775">b</span><span class="op" id="7989776">.</span><span class="ident" id="7989777">N</span><span class="op" id="7989778">;</span>&nbsp;<span class="ident" id="7989780">i</span><span class="op" id="7989781">++</span>&nbsp;<span class="op" id="7989784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989788">buf</span><span class="op" id="7989791">.</span><span class="ident" id="7989792">Reset</span><span class="op" id="7989797">(</span><span class="op" id="7989798">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989802">Write</span><span class="op" id="7989807">(</span><span class="ident" id="7989808">w</span><span class="op" id="7989809">,</span>&nbsp;<span class="ident" id="7989811">BigEndian</span><span class="op" id="7989820">,</span>&nbsp;<span class="ident" id="7989822">s</span><span class="op" id="7989823">.</span><span class="ident" id="7989824">Int8</span><span class="op" id="7989828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989832">Write</span><span class="op" id="7989837">(</span><span class="ident" id="7989838">w</span><span class="op" id="7989839">,</span>&nbsp;<span class="ident" id="7989841">BigEndian</span><span class="op" id="7989850">,</span>&nbsp;<span class="ident" id="7989852">s</span><span class="op" id="7989853">.</span><span class="ident" id="7989854">Int16</span><span class="op" id="7989859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989863">Write</span><span class="op" id="7989868">(</span><span class="ident" id="7989869">w</span><span class="op" id="7989870">,</span>&nbsp;<span class="ident" id="7989872">BigEndian</span><span class="op" id="7989881">,</span>&nbsp;<span class="ident" id="7989883">s</span><span class="op" id="7989884">.</span><span class="ident" id="7989885">Int32</span><span class="op" id="7989890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989894">Write</span><span class="op" id="7989899">(</span><span class="ident" id="7989900">w</span><span class="op" id="7989901">,</span>&nbsp;<span class="ident" id="7989903">BigEndian</span><span class="op" id="7989912">,</span>&nbsp;<span class="ident" id="7989914">s</span><span class="op" id="7989915">.</span><span class="ident" id="7989916">Int64</span><span class="op" id="7989921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989925">Write</span><span class="op" id="7989930">(</span><span class="ident" id="7989931">w</span><span class="op" id="7989932">,</span>&nbsp;<span class="ident" id="7989934">BigEndian</span><span class="op" id="7989943">,</span>&nbsp;<span class="ident" id="7989945">s</span><span class="op" id="7989946">.</span><span class="ident" id="7989947">Uint8</span><span class="op" id="7989952">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989956">Write</span><span class="op" id="7989961">(</span><span class="ident" id="7989962">w</span><span class="op" id="7989963">,</span>&nbsp;<span class="ident" id="7989965">BigEndian</span><span class="op" id="7989974">,</span>&nbsp;<span class="ident" id="7989976">s</span><span class="op" id="7989977">.</span><span class="ident" id="7989978">Uint16</span><span class="op" id="7989984">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989988">Write</span><span class="op" id="7989993">(</span><span class="ident" id="7989994">w</span><span class="op" id="7989995">,</span>&nbsp;<span class="ident" id="7989997">BigEndian</span><span class="op" id="7990006">,</span>&nbsp;<span class="ident" id="7990008">s</span><span class="op" id="7990009">.</span><span class="ident" id="7990010">Uint32</span><span class="op" id="7990016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990020">Write</span><span class="op" id="7990025">(</span><span class="ident" id="7990026">w</span><span class="op" id="7990027">,</span>&nbsp;<span class="ident" id="7990029">BigEndian</span><span class="op" id="7990038">,</span>&nbsp;<span class="ident" id="7990040">s</span><span class="op" id="7990041">.</span><span class="ident" id="7990042">Uint64</span><span class="op" id="7990048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7990051">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990054">b</span><span class="op" id="7990055">.</span><span class="ident" id="7990056">StopTimer</span><span class="op" id="7990065">(</span><span class="op" id="7990066">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7990069">if</span>&nbsp;<span class="op" id="7990072">!</span><span class="ident" id="7990073">bytes</span><span class="op" id="7990078">.</span><span class="ident" id="7990079">Equal</span><span class="op" id="7990084">(</span><span class="ident" id="7990085">buf</span><span class="op" id="7990088">.</span><span class="ident" id="7990089">Bytes</span><span class="op" id="7990094">(</span><span class="op" id="7990095">)</span><span class="op" id="7990096">,</span>&nbsp;<span class="ident" id="7990098">big</span><span class="op" id="7990101">[</span><span class="op" id="7990102">:</span><span class="num" id="7990103">30</span><span class="op" id="7990105">]</span><span class="op" id="7990106">)</span>&nbsp;<span class="op" id="7990108">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990112">b</span><span class="op" id="7990113">.</span><span class="ident" id="7990114">Fatalf</span><span class="op" id="7990120">(</span><span class="string" id="7990121">&#34;first&nbsp;half&nbsp;doesn&#39;t&nbsp;match:&nbsp;%x&nbsp;%x&#34;</span><span class="op" id="7990154">,</span>&nbsp;<span class="ident" id="7990156">buf</span><span class="op" id="7990159">.</span><span class="ident" id="7990160">Bytes</span><span class="op" id="7990165">(</span><span class="op" id="7990166">)</span><span class="op" id="7990167">,</span>&nbsp;<span class="ident" id="7990169">big</span><span class="op" id="7990172">[</span><span class="op" id="7990173">:</span><span class="num" id="7990174">30</span><span class="op" id="7990176">]</span><span class="op" id="7990177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7990180">}</span><br>
<span class="lineno"></span><span class="op" id="7990182">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7990185">func</span>&nbsp;<span class="ident" id="7990190">BenchmarkWriteSlice1000Int32s</span><span class="op" id="7990219">(</span><span class="ident" id="7990220">b</span>&nbsp;<span class="op" id="7990222">*</span><span class="ident" id="7990223">testing</span><span class="op" id="7990230">.</span><span class="ident" id="7990231">B</span><span class="op" id="7990232">)</span>&nbsp;<span class="op" id="7990234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990237">slice</span>&nbsp;<span class="op" id="7990243">:=</span>&nbsp;<span class="builtinfunc" id="7990246">make</span><span class="op" id="7990250">(</span><span class="op" id="7990251">[</span><span class="op" id="7990252">]</span><span class="builtintype" id="7990253">int32</span><span class="op" id="7990258">,</span>&nbsp;<span class="num" id="7990260">1000</span><span class="op" id="7990264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990267">buf</span>&nbsp;<span class="op" id="7990271">:=</span>&nbsp;<span class="builtinfunc" id="7990274">new</span><span class="op" id="7990277">(</span><span class="ident" id="7990278">bytes</span><span class="op" id="7990283">.</span><span class="ident" id="7990284">Buffer</span><span class="op" id="7990290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7990293">var</span>&nbsp;<span class="ident" id="7990297">w</span>&nbsp;<span class="ident" id="7990299">io</span><span class="op" id="7990301">.</span><span class="ident" id="7990302">Writer</span>&nbsp;<span class="op" id="7990309">=</span>&nbsp;<span class="ident" id="7990311">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990316">b</span><span class="op" id="7990317">.</span><span class="ident" id="7990318">SetBytes</span><span class="op" id="7990326">(</span><span class="num" id="7990327">4</span>&nbsp;<span class="op" id="7990329">*</span>&nbsp;<span class="num" id="7990331">1000</span><span class="op" id="7990335">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990338">b</span><span class="op" id="7990339">.</span><span class="ident" id="7990340">ResetTimer</span><span class="op" id="7990350">(</span><span class="op" id="7990351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7990354">for</span>&nbsp;<span class="ident" id="7990358">i</span>&nbsp;<span class="op" id="7990360">:=</span>&nbsp;<span class="num" id="7990363">0</span><span class="op" id="7990364">;</span>&nbsp;<span class="ident" id="7990366">i</span>&nbsp;<span class="op" id="7990368">&lt;</span>&nbsp;<span class="ident" id="7990370">b</span><span class="op" id="7990371">.</span><span class="ident" id="7990372">N</span><span class="op" id="7990373">;</span>&nbsp;<span class="ident" id="7990375">i</span><span class="op" id="7990376">++</span>&nbsp;<span class="op" id="7990379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990383">buf</span><span class="op" id="7990386">.</span><span class="ident" id="7990387">Reset</span><span class="op" id="7990392">(</span><span class="op" id="7990393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990397">Write</span><span class="op" id="7990402">(</span><span class="ident" id="7990403">w</span><span class="op" id="7990404">,</span>&nbsp;<span class="ident" id="7990406">BigEndian</span><span class="op" id="7990415">,</span>&nbsp;<span class="ident" id="7990417">slice</span><span class="op" id="7990422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7990425">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990428">b</span><span class="op" id="7990429">.</span><span class="ident" id="7990430">StopTimer</span><span class="op" id="7990439">(</span><span class="op" id="7990440">)</span><br>
<span class="lineno"></span><span class="op" id="7990442">}</span>
</div>
</body>
</html>
