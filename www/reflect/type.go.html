<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2822470">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2822525">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2822579">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2822630">//&nbsp;Package&nbsp;reflect&nbsp;implements&nbsp;run-time&nbsp;reflection,&nbsp;allowing&nbsp;a&nbsp;program&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2822703">//&nbsp;manipulate&nbsp;objects&nbsp;with&nbsp;arbitrary&nbsp;types.&nbsp;&nbsp;The&nbsp;typical&nbsp;use&nbsp;is&nbsp;to&nbsp;take&nbsp;a&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2822783">//&nbsp;with&nbsp;static&nbsp;type&nbsp;interface{}&nbsp;and&nbsp;extract&nbsp;its&nbsp;dynamic&nbsp;type&nbsp;information&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2822859">//&nbsp;calling&nbsp;TypeOf,&nbsp;which&nbsp;returns&nbsp;a&nbsp;Type.</span><br>
<span class="lineno"></span><span class="comment" id="2822900">//</span><br>
<span class="lineno">10</span><span class="comment" id="2822903">//&nbsp;A&nbsp;call&nbsp;to&nbsp;ValueOf&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;the&nbsp;run-time&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="2822972">//&nbsp;Zero&nbsp;takes&nbsp;a&nbsp;Type&nbsp;and&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;a&nbsp;zero&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2823039">//&nbsp;for&nbsp;that&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2823057">//</span><br>
<span class="lineno"></span><span class="comment" id="2823060">//&nbsp;See&nbsp;&#34;The&nbsp;Laws&nbsp;of&nbsp;Reflection&#34;&nbsp;for&nbsp;an&nbsp;introduction&nbsp;to&nbsp;reflection&nbsp;in&nbsp;Go:</span><br>
<span class="lineno">15</span><span class="comment" id="2823133">//&nbsp;http://golang.org/doc/articles/laws_of_reflection.html</span><br>
<span class="lineno"></span><span class="keyword" id="2823191">package</span>&nbsp;<span class="ident" id="2823199">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2823208">import</span>&nbsp;<span class="op" id="2823215">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2823218">&#34;runtime&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2823229">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2823240">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2823248">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2823257">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2823260">//&nbsp;Type&nbsp;is&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2823304">//</span><br>
<span class="lineno"></span><span class="comment" id="2823307">//&nbsp;Not&nbsp;all&nbsp;methods&nbsp;apply&nbsp;to&nbsp;all&nbsp;kinds&nbsp;of&nbsp;types.&nbsp;&nbsp;Restrictions,</span><br>
<span class="lineno"></span><span class="comment" id="2823370">//&nbsp;if&nbsp;any,&nbsp;are&nbsp;noted&nbsp;in&nbsp;the&nbsp;documentation&nbsp;for&nbsp;each&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2823429">//&nbsp;Use&nbsp;the&nbsp;Kind&nbsp;method&nbsp;to&nbsp;find&nbsp;out&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;before</span><br>
<span class="lineno">30</span><span class="comment" id="2823488">//&nbsp;calling&nbsp;kind-specific&nbsp;methods.&nbsp;&nbsp;Calling&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span><span class="comment" id="2823540">//&nbsp;inappropriate&nbsp;to&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;causes&nbsp;a&nbsp;run-time&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="2823602">type</span>&nbsp;<span class="ident" id="2823607">Type</span>&nbsp;<span class="keyword" id="2823612">interface</span>&nbsp;<span class="op" id="2823622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823625">//&nbsp;Methods&nbsp;applicable&nbsp;to&nbsp;all&nbsp;types.</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823663">//&nbsp;Align&nbsp;returns&nbsp;the&nbsp;alignment&nbsp;in&nbsp;bytes&nbsp;of&nbsp;a&nbsp;value&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823718">//&nbsp;this&nbsp;type&nbsp;when&nbsp;allocated&nbsp;in&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2823758">Align</span><span class="op" id="2823763">(</span><span class="op" id="2823764">)</span>&nbsp;<span class="builtintype" id="2823766">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823772">//&nbsp;FieldAlign&nbsp;returns&nbsp;the&nbsp;alignment&nbsp;in&nbsp;bytes&nbsp;of&nbsp;a&nbsp;value&nbsp;of</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823832">//&nbsp;this&nbsp;type&nbsp;when&nbsp;used&nbsp;as&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2823880">FieldAlign</span><span class="op" id="2823890">(</span><span class="op" id="2823891">)</span>&nbsp;<span class="builtintype" id="2823893">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823899">//&nbsp;Method&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;method&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2823960">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumMethod()).</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824017">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824021">//&nbsp;For&nbsp;a&nbsp;non-interface&nbsp;type&nbsp;T&nbsp;or&nbsp;*T,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;and&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824095">//&nbsp;fields&nbsp;describe&nbsp;a&nbsp;function&nbsp;whose&nbsp;first&nbsp;argument&nbsp;is&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824164">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824168">//&nbsp;For&nbsp;an&nbsp;interface&nbsp;type,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;field&nbsp;gives&nbsp;the</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824238">//&nbsp;method&nbsp;signature,&nbsp;without&nbsp;a&nbsp;receiver,&nbsp;and&nbsp;the&nbsp;Func&nbsp;field&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2824307">Method</span><span class="op" id="2824313">(</span><span class="builtintype" id="2824314">int</span><span class="op" id="2824317">)</span>&nbsp;<span class="ident" id="2824319"><a href="/reflect/type.go.html#2835097">Method</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824328">//&nbsp;MethodByName&nbsp;returns&nbsp;the&nbsp;method&nbsp;with&nbsp;that&nbsp;name&nbsp;in&nbsp;the&nbsp;type&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824393">//&nbsp;method&nbsp;set&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if&nbsp;the&nbsp;method&nbsp;was&nbsp;found.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824458">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824462">//&nbsp;For&nbsp;a&nbsp;non-interface&nbsp;type&nbsp;T&nbsp;or&nbsp;*T,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;and&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824536">//&nbsp;fields&nbsp;describe&nbsp;a&nbsp;function&nbsp;whose&nbsp;first&nbsp;argument&nbsp;is&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824605">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824609">//&nbsp;For&nbsp;an&nbsp;interface&nbsp;type,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;field&nbsp;gives&nbsp;the</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824679">//&nbsp;method&nbsp;signature,&nbsp;without&nbsp;a&nbsp;receiver,&nbsp;and&nbsp;the&nbsp;Func&nbsp;field&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2824748">MethodByName</span><span class="op" id="2824760">(</span><span class="builtintype" id="2824761">string</span><span class="op" id="2824767">)</span>&nbsp;<span class="op" id="2824769">(</span><span class="ident" id="2824770"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2824776">,</span>&nbsp;<span class="builtintype" id="2824778">bool</span><span class="op" id="2824782">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824786">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;methods&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2824856">NumMethod</span><span class="op" id="2824865">(</span><span class="op" id="2824866">)</span>&nbsp;<span class="builtintype" id="2824868">int</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824874">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;type&#39;s&nbsp;name&nbsp;within&nbsp;its&nbsp;package.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824927">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;empty&nbsp;string&nbsp;for&nbsp;unnamed&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2824977">Name</span><span class="op" id="2824981">(</span><span class="op" id="2824982">)</span>&nbsp;<span class="builtintype" id="2824984">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2824993">//&nbsp;PkgPath&nbsp;returns&nbsp;a&nbsp;named&nbsp;type&#39;s&nbsp;package&nbsp;path,&nbsp;that&nbsp;is,&nbsp;the&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825067">//&nbsp;that&nbsp;uniquely&nbsp;identifies&nbsp;the&nbsp;package,&nbsp;such&nbsp;as&nbsp;&#34;encoding/base64&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825136">//&nbsp;If&nbsp;the&nbsp;type&nbsp;was&nbsp;predeclared&nbsp;(string,&nbsp;error)&nbsp;or&nbsp;unnamed&nbsp;(*T,&nbsp;struct{},&nbsp;[]int),</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825218">//&nbsp;the&nbsp;package&nbsp;path&nbsp;will&nbsp;be&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2825265">PkgPath</span><span class="op" id="2825272">(</span><span class="op" id="2825273">)</span>&nbsp;<span class="builtintype" id="2825275">string</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825284">//&nbsp;Size&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;needed&nbsp;to&nbsp;store</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825337">//&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;given&nbsp;type;&nbsp;it&nbsp;is&nbsp;analogous&nbsp;to&nbsp;unsafe.Sizeof.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2825402">Size</span><span class="op" id="2825406">(</span><span class="op" id="2825407">)</span>&nbsp;<span class="builtintype" id="2825409">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825419">//&nbsp;String&nbsp;returns&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825475">//&nbsp;The&nbsp;string&nbsp;representation&nbsp;may&nbsp;use&nbsp;shortened&nbsp;package&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825537">//&nbsp;(e.g.,&nbsp;base64&nbsp;instead&nbsp;of&nbsp;&#34;encoding/base64&#34;)&nbsp;and&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825596">//&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;unique&nbsp;among&nbsp;types.&nbsp;&nbsp;To&nbsp;test&nbsp;for&nbsp;equality,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825660">//&nbsp;compare&nbsp;the&nbsp;Types&nbsp;directly.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2825692">String</span><span class="op" id="2825698">(</span><span class="op" id="2825699">)</span>&nbsp;<span class="builtintype" id="2825701">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825710">//&nbsp;Kind&nbsp;returns&nbsp;the&nbsp;specific&nbsp;kind&nbsp;of&nbsp;this&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2825759">Kind</span><span class="op" id="2825763">(</span><span class="op" id="2825764">)</span>&nbsp;<span class="ident" id="2825766"><a href="/reflect/type.go.html#2829996">Kind</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825773">//&nbsp;Implements&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;implements&nbsp;the&nbsp;interface&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2825846">Implements</span><span class="op" id="2825856">(</span><span class="ident" id="2825857">u</span>&nbsp;<span class="ident" id="2825859"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2825863">)</span>&nbsp;<span class="builtintype" id="2825865">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825872">//&nbsp;AssignableTo&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;type&nbsp;is&nbsp;assignable&nbsp;to&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2825950">AssignableTo</span><span class="op" id="2825962">(</span><span class="ident" id="2825963">u</span>&nbsp;<span class="ident" id="2825965"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2825969">)</span>&nbsp;<span class="builtintype" id="2825971">bool</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2825978">//&nbsp;ConvertibleTo&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;type&nbsp;is&nbsp;convertible&nbsp;to&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2826058">ConvertibleTo</span><span class="op" id="2826071">(</span><span class="ident" id="2826072">u</span>&nbsp;<span class="ident" id="2826074"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2826078">)</span>&nbsp;<span class="builtintype" id="2826080">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826087">//&nbsp;Comparable&nbsp;returns&nbsp;true&nbsp;if&nbsp;values&nbsp;of&nbsp;this&nbsp;type&nbsp;are&nbsp;comparable.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2826154">Comparable</span><span class="op" id="2826164">(</span><span class="op" id="2826165">)</span>&nbsp;<span class="builtintype" id="2826167">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826174">//&nbsp;Methods&nbsp;applicable&nbsp;only&nbsp;to&nbsp;some&nbsp;types,&nbsp;depending&nbsp;on&nbsp;Kind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826236">//&nbsp;The&nbsp;methods&nbsp;allowed&nbsp;for&nbsp;each&nbsp;kind&nbsp;are:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826279">//</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826283">//&nbsp;&nbsp;&nbsp;&nbspInt*,&nbsp;Uint*,&nbsp;Float*,&nbsp;Complex*:&nbsp;Bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826323">//&nbsp;&nbsp;&nbsp;&nbspArray:&nbsp;Elem,&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826344">//&nbsp;&nbsp;&nbsp;&nbspChan:&nbsp;ChanDir,&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826368">//&nbsp;&nbsp;&nbsp;&nbspFunc:&nbsp;In,&nbsp;NumIn,&nbsp;Out,&nbsp;NumOut,&nbsp;IsVariadic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826414">//&nbsp;&nbsp;&nbsp;&nbspMap:&nbsp;Key,&nbsp;Elem</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826433">//&nbsp;&nbsp;&nbsp;&nbspPtr:&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826447">//&nbsp;&nbsp;&nbsp;&nbspSlice:&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826463">//&nbsp;&nbsp;&nbsp;&nbspStruct:&nbsp;Field,&nbsp;FieldByIndex,&nbsp;FieldByName,&nbsp;FieldByNameFunc,&nbsp;NumField</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826536">//&nbsp;Bits&nbsp;returns&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;type&nbsp;in&nbsp;bits.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826583">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826634">//&nbsp;sized&nbsp;or&nbsp;unsized&nbsp;Int,&nbsp;Uint,&nbsp;Float,&nbsp;or&nbsp;Complex&nbsp;kinds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2826691">Bits</span><span class="op" id="2826695">(</span><span class="op" id="2826696">)</span>&nbsp;<span class="builtintype" id="2826698">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826704">//&nbsp;ChanDir&nbsp;returns&nbsp;a&nbsp;channel&nbsp;type&#39;s&nbsp;direction.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826752">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2826798">ChanDir</span><span class="op" id="2826805">(</span><span class="op" id="2826806">)</span>&nbsp;<span class="ident" id="2826808"><a href="/reflect/type.go.html#2832560">ChanDir</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826818">//&nbsp;IsVariadic&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;final&nbsp;input&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826889">//&nbsp;is&nbsp;a&nbsp;&#34;...&#34;&nbsp;parameter.&nbsp;&nbsp;If&nbsp;so,&nbsp;t.In(t.NumIn()&nbsp;-&nbsp;1)&nbsp;returns&nbsp;the&nbsp;parameter&#39;s</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826967">//&nbsp;implicit&nbsp;actual&nbsp;type&nbsp;[]T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2826997">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827001">//&nbsp;For&nbsp;concreteness,&nbsp;if&nbsp;t&nbsp;represents&nbsp;func(x&nbsp;int,&nbsp;y&nbsp;...&nbsp;float64),&nbsp;then</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827072">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827076">//&nbsp;&nbsp;&nbsp;&nbspt.NumIn()&nbsp;==&nbsp;2</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827095">//&nbsp;&nbsp;&nbsp;&nbspt.In(0)&nbsp;is&nbsp;the&nbsp;reflect.Type&nbsp;for&nbsp;&#34;int&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827137">//&nbsp;&nbsp;&nbsp;&nbspt.In(1)&nbsp;is&nbsp;the&nbsp;reflect.Type&nbsp;for&nbsp;&#34;[]float64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827185">//&nbsp;&nbsp;&nbsp;&nbspt.IsVariadic()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827212">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827216">//&nbsp;IsVariadic&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2827270">IsVariadic</span><span class="op" id="2827280">(</span><span class="op" id="2827281">)</span>&nbsp;<span class="builtintype" id="2827283">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827290">//&nbsp;Elem&nbsp;returns&nbsp;a&nbsp;type&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827330">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Chan,&nbsp;Map,&nbsp;Ptr,&nbsp;or&nbsp;Slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2827403">Elem</span><span class="op" id="2827407">(</span><span class="op" id="2827408">)</span>&nbsp;<span class="ident" id="2827410"><a href="/reflect/type.go.html#2823607">Type</a></span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827417">//&nbsp;Field&nbsp;returns&nbsp;a&nbsp;struct&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827463">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827511">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumField()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2827567">Field</span><span class="op" id="2827572">(</span><span class="ident" id="2827573">i</span>&nbsp;<span class="builtintype" id="2827575">int</span><span class="op" id="2827578">)</span>&nbsp;<span class="ident" id="2827580"><a href="/reflect/type.go.html#2842889">StructField</a></span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827594">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827650">//&nbsp;to&nbsp;the&nbsp;index&nbsp;sequence.&nbsp;&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;Field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827712">//&nbsp;successively&nbsp;for&nbsp;each&nbsp;index&nbsp;i.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827747">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2827795">FieldByIndex</span><span class="op" id="2827807">(</span><span class="ident" id="2827808">index</span>&nbsp;<span class="op" id="2827814">[</span><span class="op" id="2827815">]</span><span class="builtintype" id="2827816">int</span><span class="op" id="2827819">)</span>&nbsp;<span class="ident" id="2827821"><a href="/reflect/type.go.html#2842889">StructField</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827835">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827896">//&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2827949">FieldByName</span><span class="op" id="2827960">(</span><span class="ident" id="2827961">name</span>&nbsp;<span class="builtintype" id="2827966">string</span><span class="op" id="2827972">)</span>&nbsp;<span class="op" id="2827974">(</span><span class="ident" id="2827975"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2827986">,</span>&nbsp;<span class="builtintype" id="2827988">bool</span><span class="op" id="2827992">)</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2827996">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828059">//&nbsp;that&nbsp;satisfies&nbsp;the&nbsp;match&nbsp;function&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828125">//&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828150">FieldByNameFunc</span><span class="op" id="2828165">(</span><span class="ident" id="2828166">match</span>&nbsp;<span class="keyword" id="2828172">func</span><span class="op" id="2828176">(</span><span class="builtintype" id="2828177">string</span><span class="op" id="2828183">)</span>&nbsp;<span class="builtintype" id="2828185">bool</span><span class="op" id="2828189">)</span>&nbsp;<span class="op" id="2828191">(</span><span class="ident" id="2828192"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2828203">,</span>&nbsp;<span class="builtintype" id="2828205">bool</span><span class="op" id="2828209">)</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828213">//&nbsp;In&nbsp;returns&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;input&nbsp;parameter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828280">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828326">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumIn()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828379">In</span><span class="op" id="2828381">(</span><span class="ident" id="2828382">i</span>&nbsp;<span class="builtintype" id="2828384">int</span><span class="op" id="2828387">)</span>&nbsp;<span class="ident" id="2828389"><a href="/reflect/type.go.html#2823607">Type</a></span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828396">//&nbsp;Key&nbsp;returns&nbsp;a&nbsp;map&nbsp;type&#39;s&nbsp;key&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828435">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828480">Key</span><span class="op" id="2828483">(</span><span class="op" id="2828484">)</span>&nbsp;<span class="ident" id="2828486"><a href="/reflect/type.go.html#2823607">Type</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828493">//&nbsp;Len&nbsp;returns&nbsp;an&nbsp;array&nbsp;type&#39;s&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828533">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828580">Len</span><span class="op" id="2828583">(</span><span class="op" id="2828584">)</span>&nbsp;<span class="builtintype" id="2828586">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828592">//&nbsp;NumField&nbsp;returns&nbsp;a&nbsp;struct&nbsp;type&#39;s&nbsp;field&nbsp;count.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828642">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828690">NumField</span><span class="op" id="2828698">(</span><span class="op" id="2828699">)</span>&nbsp;<span class="builtintype" id="2828701">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828707">//&nbsp;NumIn&nbsp;returns&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;input&nbsp;parameter&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828766">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828812">NumIn</span><span class="op" id="2828817">(</span><span class="op" id="2828818">)</span>&nbsp;<span class="builtintype" id="2828820">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828826">//&nbsp;NumOut&nbsp;returns&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;output&nbsp;parameter&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828887">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2828933">NumOut</span><span class="op" id="2828939">(</span><span class="op" id="2828940">)</span>&nbsp;<span class="builtintype" id="2828942">int</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2828948">//&nbsp;Out&nbsp;returns&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;output&nbsp;parameter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2829017">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2829063">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumOut()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829117">Out</span><span class="op" id="2829120">(</span><span class="ident" id="2829121">i</span>&nbsp;<span class="builtintype" id="2829123">int</span><span class="op" id="2829126">)</span>&nbsp;<span class="ident" id="2829128"><a href="/reflect/type.go.html#2823607">Type</a></span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829135">common</span><span class="op" id="2829141">(</span><span class="op" id="2829142">)</span>&nbsp;<span class="op" id="2829144">*</span><span class="ident" id="2829145"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829152">uncommon</span><span class="op" id="2829160">(</span><span class="op" id="2829161">)</span>&nbsp;<span class="op" id="2829163">*</span><span class="ident" id="2829164"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><br>
<span class="lineno"></span><span class="op" id="2829177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="2829180">//&nbsp;BUG(rsc):&nbsp;FieldByName&nbsp;and&nbsp;related&nbsp;functions&nbsp;consider&nbsp;struct&nbsp;field&nbsp;names&nbsp;to&nbsp;be&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2829267">//&nbsp;if&nbsp;the&nbsp;names&nbsp;are&nbsp;equal,&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;unexported&nbsp;names&nbsp;originating</span><br>
<span class="lineno"></span><span class="comment" id="2829340">//&nbsp;in&nbsp;different&nbsp;packages.&nbsp;The&nbsp;practical&nbsp;effect&nbsp;of&nbsp;this&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2829417">//&nbsp;t.FieldByName(&#34;x&#34;)&nbsp;is&nbsp;not&nbsp;well&nbsp;defined&nbsp;if&nbsp;the&nbsp;struct&nbsp;type&nbsp;t&nbsp;contains</span><br>
<span class="lineno"></span><span class="comment" id="2829489">//&nbsp;multiple&nbsp;fields&nbsp;named&nbsp;x&nbsp;(embedded&nbsp;from&nbsp;different&nbsp;packages).</span><br>
<span class="lineno">200</span><span class="comment" id="2829552">//&nbsp;FieldByName&nbsp;may&nbsp;return&nbsp;one&nbsp;of&nbsp;the&nbsp;fields&nbsp;named&nbsp;x&nbsp;or&nbsp;may&nbsp;report&nbsp;that&nbsp;there&nbsp;are&nbsp;none.</span><br>
<span class="lineno"></span><span class="comment" id="2829639">//&nbsp;See&nbsp;golang.org/issue/4876&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2829687">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;These&nbsp;data&nbsp;structures&nbsp;are&nbsp;known&nbsp;to&nbsp;the&nbsp;compiler&nbsp;(../../cmd/gc/reflect.c).<br>
<span class="lineno">205</span>&nbsp;*&nbsp;A&nbsp;few&nbsp;are&nbsp;known&nbsp;to&nbsp;../runtime/type.go&nbsp;to&nbsp;convey&nbsp;to&nbsp;debuggers.<br>
<span class="lineno"></span>&nbsp;*&nbsp;They&nbsp;are&nbsp;also&nbsp;known&nbsp;to&nbsp;../runtime/type.h.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2829882">//&nbsp;A&nbsp;Kind&nbsp;represents&nbsp;the&nbsp;specific&nbsp;kind&nbsp;of&nbsp;type&nbsp;that&nbsp;a&nbsp;Type&nbsp;represents.</span><br>
<span class="lineno">210</span><span class="comment" id="2829953">//&nbsp;The&nbsp;zero&nbsp;Kind&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;kind.</span><br>
<span class="lineno"></span><span class="keyword" id="2829991">type</span>&nbsp;<span class="ident" id="2829996">Kind</span>&nbsp;<span class="builtintype" id="2830001">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2830007">const</span>&nbsp;<span class="op" id="2830013">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830016">Invalid</span>&nbsp;<span class="ident" id="2830024"><a href="/reflect/type.go.html#2829996">Kind</a></span>&nbsp;<span class="op" id="2830029">=</span>&nbsp;<span class="ident" id="2830031">iota</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830037">Bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830043">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830048">Int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830054">Int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830061">Int32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830068">Int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830075">Uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830081">Uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830088">Uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830096">Uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830104">Uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830112">Uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830121">Float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830130">Float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830139">Complex64</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830150">Complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830162">Array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830169">Chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830175">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830181">Interface</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830192">Map</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830197">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830202">Slice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830209">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830217">Struct</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830225">UnsafePointer</span><br>
<span class="lineno"></span><span class="op" id="2830239">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2830242">//&nbsp;rtype&nbsp;is&nbsp;the&nbsp;common&nbsp;implementation&nbsp;of&nbsp;most&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="2830296">//&nbsp;It&nbsp;is&nbsp;embedded&nbsp;in&nbsp;other,&nbsp;public&nbsp;struct&nbsp;types,&nbsp;but&nbsp;always</span><br>
<span class="lineno">245</span><span class="comment" id="2830356">//&nbsp;with&nbsp;a&nbsp;unique&nbsp;tag&nbsp;like&nbsp;`reflect:&#34;array&#34;`&nbsp;or&nbsp;`reflect:&#34;ptr&#34;`</span><br>
<span class="lineno"></span><span class="comment" id="2830419">//&nbsp;so&nbsp;that&nbsp;code&nbsp;cannot&nbsp;convert&nbsp;from,&nbsp;say,&nbsp;*arrayType&nbsp;to&nbsp;*ptrType.</span><br>
<span class="lineno"></span><span class="keyword" id="2830485">type</span>&nbsp;<span class="ident" id="2830490">rtype</span>&nbsp;<span class="keyword" id="2830496">struct</span>&nbsp;<span class="op" id="2830503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830506">size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2830520">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830529">hash</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2830543">uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830561">//&nbsp;hash&nbsp;of&nbsp;type;&nbsp;avoids&nbsp;computation&nbsp;in&nbsp;hash&nbsp;tables</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830613">_</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2830627">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830645">//&nbsp;unused/padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830664">align</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2830678">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830696">//&nbsp;alignment&nbsp;of&nbsp;variable&nbsp;with&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830737">fieldAlign</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2830751">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830769">//&nbsp;alignment&nbsp;of&nbsp;struct&nbsp;field&nbsp;with&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830814">kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2830828">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830846">//&nbsp;enumeration&nbsp;for&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830868">alg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830882">*</span><span class="ident" id="2830883"><a href="/reflect/type.go.html#2831321">typeAlg</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2830900">//&nbsp;algorithm&nbsp;table&nbsp;(../runtime/runtime.h:/Alg)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830948">gc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2830962">[</span><span class="num" id="2830963">2</span><span class="op" id="2830964">]</span><span class="ident" id="2830965"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2830971">.</span><span class="ident" id="2830972">Pointer</span>&nbsp;<span class="comment" id="2830980">//&nbsp;garbage&nbsp;collection&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2831008">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831022">*</span><span class="builtintype" id="2831023">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831040">//&nbsp;string&nbsp;form;&nbsp;unnecessary&nbsp;but&nbsp;undeniably&nbsp;useful</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831091">*</span><span class="ident" id="2831092"><a href="/reflect/type.go.html#2832322">uncommonType</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831123">//&nbsp;(relatively)&nbsp;uncommon&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831156">ptrToThis</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831170">*</span><span class="ident" id="2831171"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831188">//&nbsp;type&nbsp;for&nbsp;pointer&nbsp;to&nbsp;this&nbsp;type,&nbsp;if&nbsp;used&nbsp;in&nbsp;binary&nbsp;or&nbsp;has&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831256">zero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831270"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2831276">.</span><span class="ident" id="2831277">Pointer</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831288">//&nbsp;pointer&nbsp;to&nbsp;zero&nbsp;value</span><br>
<span class="lineno">260</span><span class="op" id="2831313">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2831316">type</span>&nbsp;<span class="ident" id="2831321">typeAlg</span>&nbsp;<span class="keyword" id="2831329">struct</span>&nbsp;<span class="op" id="2831336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831339">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831385">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831425">hash</span>&nbsp;<span class="keyword" id="2831430">func</span><span class="op" id="2831434">(</span><span class="ident" id="2831435"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2831441">.</span><span class="ident" id="2831442">Pointer</span><span class="op" id="2831449">,</span>&nbsp;<span class="builtintype" id="2831451">uintptr</span><span class="op" id="2831458">,</span>&nbsp;<span class="builtintype" id="2831460">uintptr</span><span class="op" id="2831467">)</span>&nbsp;<span class="builtintype" id="2831469">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831478">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831526">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831578">equal</span>&nbsp;<span class="keyword" id="2831584">func</span><span class="op" id="2831588">(</span><span class="ident" id="2831589"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2831595">.</span><span class="ident" id="2831596">Pointer</span><span class="op" id="2831603">,</span>&nbsp;<span class="ident" id="2831605"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2831611">.</span><span class="ident" id="2831612">Pointer</span><span class="op" id="2831619">,</span>&nbsp;<span class="builtintype" id="2831621">uintptr</span><span class="op" id="2831628">)</span>&nbsp;<span class="builtintype" id="2831630">bool</span><br>
<span class="lineno"></span><span class="op" id="2831635">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="2831638">//&nbsp;Method&nbsp;on&nbsp;non-interface&nbsp;type</span><br>
<span class="lineno"></span><span class="keyword" id="2831670">type</span>&nbsp;<span class="ident" id="2831675">method</span>&nbsp;<span class="keyword" id="2831682">struct</span>&nbsp;<span class="op" id="2831689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831692">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831700">*</span><span class="builtintype" id="2831701">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831715">//&nbsp;name&nbsp;of&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831734">pkgPath</span>&nbsp;<span class="op" id="2831742">*</span><span class="builtintype" id="2831743">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831757">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831807">mtyp</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831815">*</span><span class="ident" id="2831816"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831830">//&nbsp;method&nbsp;type&nbsp;(without&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831865">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2831873">*</span><span class="ident" id="2831874"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2831888">//&nbsp;.(*FuncType)&nbsp;underneath&nbsp;(with&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831932">ifn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2831940"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2831946">.</span><span class="ident" id="2831947">Pointer</span>&nbsp;<span class="comment" id="2831955">//&nbsp;fn&nbsp;used&nbsp;in&nbsp;interface&nbsp;call&nbsp;(one-word&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832005">tfn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2832013"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2832019">.</span><span class="ident" id="2832020">Pointer</span>&nbsp;<span class="comment" id="2832028">//&nbsp;fn&nbsp;used&nbsp;for&nbsp;normal&nbsp;method&nbsp;call</span><br>
<span class="lineno"></span><span class="op" id="2832062">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="2832065">//&nbsp;uncommonType&nbsp;is&nbsp;present&nbsp;only&nbsp;for&nbsp;types&nbsp;with&nbsp;names&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span><span class="comment" id="2832129">//&nbsp;(if&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;type,&nbsp;the&nbsp;uncommonTypes&nbsp;for&nbsp;T&nbsp;and&nbsp;*T&nbsp;have&nbsp;methods).</span><br>
<span class="lineno"></span><span class="comment" id="2832201">//&nbsp;Using&nbsp;a&nbsp;pointer&nbsp;to&nbsp;this&nbsp;struct&nbsp;reduces&nbsp;the&nbsp;overall&nbsp;size&nbsp;required</span><br>
<span class="lineno"></span><span class="comment" id="2832269">//&nbsp;to&nbsp;describe&nbsp;an&nbsp;unnamed&nbsp;type&nbsp;with&nbsp;no&nbsp;methods.</span><br>
<span class="lineno">285</span><span class="keyword" id="2832317">type</span>&nbsp;<span class="ident" id="2832322">uncommonType</span>&nbsp;<span class="keyword" id="2832335">struct</span>&nbsp;<span class="op" id="2832342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832345">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2832353">*</span><span class="builtintype" id="2832354">string</span>&nbsp;&nbsp;<span class="comment" id="2832362">//&nbsp;name&nbsp;of&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832379">pkgPath</span>&nbsp;<span class="op" id="2832387">*</span><span class="builtintype" id="2832388">string</span>&nbsp;&nbsp;<span class="comment" id="2832396">//&nbsp;import&nbsp;path;&nbsp;nil&nbsp;for&nbsp;built-in&nbsp;types&nbsp;like&nbsp;int,&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832453">methods</span>&nbsp;<span class="op" id="2832461">[</span><span class="op" id="2832462">]</span><span class="ident" id="2832463"><a href="/reflect/type.go.html#2831675">method</a></span>&nbsp;<span class="comment" id="2832470">//&nbsp;methods&nbsp;associated&nbsp;with&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="2832502">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="2832505">//&nbsp;ChanDir&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type&#39;s&nbsp;direction.</span><br>
<span class="lineno"></span><span class="keyword" id="2832555">type</span>&nbsp;<span class="ident" id="2832560">ChanDir</span>&nbsp;<span class="builtintype" id="2832568">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2832573">const</span>&nbsp;<span class="op" id="2832579">(</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832582">RecvDir</span>&nbsp;<span class="ident" id="2832590"><a href="/reflect/type.go.html#2832560">ChanDir</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2832610">=</span>&nbsp;<span class="num" id="2832612">1</span>&nbsp;<span class="op" id="2832614">&lt;&lt;</span>&nbsp;<span class="ident" id="2832617">iota</span>&nbsp;<span class="comment" id="2832622">//&nbsp;&lt;-chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832633">SendDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2832673">//&nbsp;chan&lt;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832684">BothDir</span>&nbsp;<span class="op" id="2832692">=</span>&nbsp;<span class="ident" id="2832694"><a href="/reflect/type.go.html#2832582">RecvDir</a></span>&nbsp;<span class="op" id="2832702">|</span>&nbsp;<span class="ident" id="2832704"><a href="/reflect/type.go.html#2832633">SendDir</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2832724">//&nbsp;chan</span><br>
<span class="lineno"></span><span class="op" id="2832732">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="comment" id="2832735">//&nbsp;arrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2832779">type</span>&nbsp;<span class="ident" id="2832784">arrayType</span>&nbsp;<span class="keyword" id="2832794">struct</span>&nbsp;<span class="op" id="2832801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832804"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="string" id="2832810">`reflect:&#34;array&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832829">elem</span>&nbsp;&nbsp;<span class="op" id="2832835">*</span><span class="ident" id="2832836"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2832842">//&nbsp;array&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832865">slice</span>&nbsp;<span class="op" id="2832871">*</span><span class="ident" id="2832872"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2832878">//&nbsp;slice&nbsp;type</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2832893">len</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2832899">uintptr</span><br>
<span class="lineno"></span><span class="op" id="2832907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2832910">//&nbsp;chanType&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2832949">type</span>&nbsp;<span class="ident" id="2832954">chanType</span>&nbsp;<span class="keyword" id="2832963">struct</span>&nbsp;<span class="op" id="2832970">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832973"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="string" id="2832979">`reflect:&#34;chan&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832997">elem</span>&nbsp;&nbsp;<span class="op" id="2833003">*</span><span class="ident" id="2833004"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2833011">//&nbsp;channel&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833036">dir</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2833042">uintptr</span>&nbsp;<span class="comment" id="2833050">//&nbsp;channel&nbsp;direction&nbsp;(ChanDir)</span><br>
<span class="lineno"></span><span class="op" id="2833081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="comment" id="2833084">//&nbsp;funcType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2833124">type</span>&nbsp;<span class="ident" id="2833129">funcType</span>&nbsp;<span class="keyword" id="2833138">struct</span>&nbsp;<span class="op" id="2833145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833148"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2833158">`reflect:&#34;func&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833176">dotdotdot</span>&nbsp;<span class="builtintype" id="2833186">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2833195">//&nbsp;last&nbsp;input&nbsp;parameter&nbsp;is&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833227">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833237">[</span><span class="op" id="2833238">]</span><span class="op" id="2833239">*</span><span class="ident" id="2833240"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2833246">//&nbsp;input&nbsp;parameter&nbsp;types</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833272">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833282">[</span><span class="op" id="2833283">]</span><span class="op" id="2833284">*</span><span class="ident" id="2833285"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2833291">//&nbsp;output&nbsp;parameter&nbsp;types</span><br>
<span class="lineno"></span><span class="op" id="2833317">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2833320">//&nbsp;imethod&nbsp;represents&nbsp;a&nbsp;method&nbsp;on&nbsp;an&nbsp;interface&nbsp;type</span><br>
<span class="lineno"></span><span class="keyword" id="2833372">type</span>&nbsp;<span class="ident" id="2833377">imethod</span>&nbsp;<span class="keyword" id="2833385">struct</span>&nbsp;<span class="op" id="2833392">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833395">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833403">*</span><span class="builtintype" id="2833404">string</span>&nbsp;<span class="comment" id="2833411">//&nbsp;name&nbsp;of&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833430">pkgPath</span>&nbsp;<span class="op" id="2833438">*</span><span class="builtintype" id="2833439">string</span>&nbsp;<span class="comment" id="2833446">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833496">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833504">*</span><span class="ident" id="2833505"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2833512">//&nbsp;.(*FuncType)&nbsp;underneath</span><br>
<span class="lineno"></span><span class="op" id="2833539">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="comment" id="2833542">//&nbsp;interfaceType&nbsp;represents&nbsp;an&nbsp;interface&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2833589">type</span>&nbsp;<span class="ident" id="2833594">interfaceType</span>&nbsp;<span class="keyword" id="2833608">struct</span>&nbsp;<span class="op" id="2833615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833618"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;&nbsp;<span class="string" id="2833626">`reflect:&#34;interface&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833649">methods</span>&nbsp;<span class="op" id="2833657">[</span><span class="op" id="2833658">]</span><span class="ident" id="2833659"><a href="/reflect/type.go.html#2833377">imethod</a></span>&nbsp;<span class="comment" id="2833667">//&nbsp;sorted&nbsp;by&nbsp;hash</span><br>
<span class="lineno"></span><span class="op" id="2833685">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="comment" id="2833688">//&nbsp;mapType&nbsp;represents&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2833722">type</span>&nbsp;<span class="ident" id="2833727">mapType</span>&nbsp;<span class="keyword" id="2833735">struct</span>&nbsp;<span class="op" id="2833742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833745"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2833759">`reflect:&#34;map&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833776">key</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833790">*</span><span class="ident" id="2833791"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2833797">//&nbsp;map&nbsp;key&nbsp;type</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833814">elem</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833828">*</span><span class="ident" id="2833829"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2833835">//&nbsp;map&nbsp;element&nbsp;(value)&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833864">bucket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833878">*</span><span class="ident" id="2833879"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2833885">//&nbsp;internal&nbsp;bucket&nbsp;structure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833915">hmap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2833929">*</span><span class="ident" id="2833930"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2833936">//&nbsp;internal&nbsp;map&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833960">keysize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2833974">uint8</span>&nbsp;&nbsp;<span class="comment" id="2833981">//&nbsp;size&nbsp;of&nbsp;key&nbsp;slot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834002">indirectkey</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2834016">uint8</span>&nbsp;&nbsp;<span class="comment" id="2834023">//&nbsp;store&nbsp;ptr&nbsp;to&nbsp;key&nbsp;instead&nbsp;of&nbsp;key&nbsp;itself</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834066">valuesize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2834080">uint8</span>&nbsp;&nbsp;<span class="comment" id="2834087">//&nbsp;size&nbsp;of&nbsp;value&nbsp;slot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834110">indirectvalue</span>&nbsp;<span class="builtintype" id="2834124">uint8</span>&nbsp;&nbsp;<span class="comment" id="2834131">//&nbsp;store&nbsp;ptr&nbsp;to&nbsp;value&nbsp;instead&nbsp;of&nbsp;value&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834178">bucketsize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2834192">uint16</span>&nbsp;<span class="comment" id="2834199">//&nbsp;size&nbsp;of&nbsp;bucket</span><br>
<span class="lineno"></span><span class="op" id="2834217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="2834220">//&nbsp;ptrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2834258">type</span>&nbsp;<span class="ident" id="2834263">ptrType</span>&nbsp;<span class="keyword" id="2834271">struct</span>&nbsp;<span class="op" id="2834278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834281"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="string" id="2834287">`reflect:&#34;ptr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834304">elem</span>&nbsp;&nbsp;<span class="op" id="2834310">*</span><span class="ident" id="2834311"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2834317">//&nbsp;pointer&nbsp;element&nbsp;(pointed&nbsp;at)&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="2834354">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span><span class="comment" id="2834357">//&nbsp;sliceType&nbsp;represents&nbsp;a&nbsp;slice&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2834395">type</span>&nbsp;<span class="ident" id="2834400">sliceType</span>&nbsp;<span class="keyword" id="2834410">struct</span>&nbsp;<span class="op" id="2834417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834420"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="string" id="2834426">`reflect:&#34;slice&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834445">elem</span>&nbsp;&nbsp;<span class="op" id="2834451">*</span><span class="ident" id="2834452"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2834458">//&nbsp;slice&nbsp;element&nbsp;type</span><br>
<span class="lineno">360</span><span class="op" id="2834480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2834483">//&nbsp;Struct&nbsp;field</span><br>
<span class="lineno"></span><span class="keyword" id="2834499">type</span>&nbsp;<span class="ident" id="2834504">structField</span>&nbsp;<span class="keyword" id="2834516">struct</span>&nbsp;<span class="op" id="2834523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834526">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2834534">*</span><span class="builtintype" id="2834535">string</span>&nbsp;<span class="comment" id="2834542">//&nbsp;nil&nbsp;for&nbsp;embedded&nbsp;fields</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834570">pkgPath</span>&nbsp;<span class="op" id="2834578">*</span><span class="builtintype" id="2834579">string</span>&nbsp;<span class="comment" id="2834586">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834636">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2834644">*</span><span class="ident" id="2834645"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2834652">//&nbsp;type&nbsp;of&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834670">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2834678">*</span><span class="builtintype" id="2834679">string</span>&nbsp;<span class="comment" id="2834686">//&nbsp;nil&nbsp;if&nbsp;no&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834704">offset</span>&nbsp;&nbsp;<span class="builtintype" id="2834712">uintptr</span>&nbsp;<span class="comment" id="2834720">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;field&nbsp;within&nbsp;struct</span><br>
<span class="lineno"></span><span class="op" id="2834758">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span><span class="comment" id="2834761">//&nbsp;structType&nbsp;represents&nbsp;a&nbsp;struct&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2834801">type</span>&nbsp;<span class="ident" id="2834806">structType</span>&nbsp;<span class="keyword" id="2834817">struct</span>&nbsp;<span class="op" id="2834824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834827"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;&nbsp;<span class="string" id="2834834">`reflect:&#34;struct&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834854">fields</span>&nbsp;<span class="op" id="2834861">[</span><span class="op" id="2834862">]</span><span class="ident" id="2834863"><a href="/reflect/type.go.html#2834504">structField</a></span>&nbsp;<span class="comment" id="2834875">//&nbsp;sorted&nbsp;by&nbsp;offset</span><br>
<span class="lineno">375</span><span class="op" id="2834895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2834898">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;the&nbsp;exact&nbsp;layout&nbsp;of&nbsp;all&nbsp;the&nbsp;data&nbsp;structures&nbsp;above.<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;compiler&nbsp;does&nbsp;not&nbsp;know&nbsp;about&nbsp;the&nbsp;data&nbsp;structures&nbsp;and&nbsp;methods&nbsp;below.<br>
<span class="lineno">380</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2835054">//&nbsp;Method&nbsp;represents&nbsp;a&nbsp;single&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2835092">type</span>&nbsp;<span class="ident" id="2835097">Method</span>&nbsp;<span class="keyword" id="2835104">struct</span>&nbsp;<span class="op" id="2835111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2835114">//&nbsp;Name&nbsp;is&nbsp;the&nbsp;method&nbsp;name.</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2835143">//&nbsp;PkgPath&nbsp;is&nbsp;the&nbsp;package&nbsp;path&nbsp;that&nbsp;qualifies&nbsp;a&nbsp;lower&nbsp;case&nbsp;(unexported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2835216">//&nbsp;method&nbsp;name.&nbsp;&nbsp;It&nbsp;is&nbsp;empty&nbsp;for&nbsp;upper&nbsp;case&nbsp;(exported)&nbsp;method&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2835286">//&nbsp;The&nbsp;combination&nbsp;of&nbsp;PkgPath&nbsp;and&nbsp;Name&nbsp;uniquely&nbsp;identifies&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2835355">//&nbsp;in&nbsp;a&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2835376">//&nbsp;See&nbsp;http://golang.org/ref/spec#Uniqueness_of_identifiers</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835437">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2835445">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835453">PkgPath</span>&nbsp;<span class="builtintype" id="2835461">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835470">Type</span>&nbsp;&nbsp;<span class="ident" id="2835476"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;&nbsp;<span class="comment" id="2835482">//&nbsp;method&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835498">Func</span>&nbsp;&nbsp;<span class="ident" id="2835504"><a href="/reflect/value.go.html#2875697">Value</a></span>&nbsp;<span class="comment" id="2835510">//&nbsp;func&nbsp;with&nbsp;receiver&nbsp;as&nbsp;first&nbsp;argument</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835551">Index</span>&nbsp;<span class="builtintype" id="2835557">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2835563">//&nbsp;index&nbsp;for&nbsp;Type.Method</span><br>
<span class="lineno"></span><span class="op" id="2835588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2835591">const</span>&nbsp;<span class="op" id="2835597">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835600">kindDirectIface</span>&nbsp;<span class="op" id="2835616">=</span>&nbsp;<span class="num" id="2835618">1</span>&nbsp;<span class="op" id="2835620">&lt;&lt;</span>&nbsp;<span class="num" id="2835623">5</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835626">kindGCProg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2835642">=</span>&nbsp;<span class="num" id="2835644">1</span>&nbsp;<span class="op" id="2835646">&lt;&lt;</span>&nbsp;<span class="num" id="2835649">6</span>&nbsp;<span class="comment" id="2835651">//&nbsp;Type.gc&nbsp;points&nbsp;to&nbsp;GC&nbsp;program</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835684">kindNoPointers</span>&nbsp;&nbsp;<span class="op" id="2835700">=</span>&nbsp;<span class="num" id="2835702">1</span>&nbsp;<span class="op" id="2835704">&lt;&lt;</span>&nbsp;<span class="num" id="2835707">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835710">kindMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2835726">=</span>&nbsp;<span class="op" id="2835728">(</span><span class="num" id="2835729">1</span>&nbsp;<span class="op" id="2835731">&lt;&lt;</span>&nbsp;<span class="num" id="2835734">5</span><span class="op" id="2835735">)</span>&nbsp;<span class="op" id="2835737">-</span>&nbsp;<span class="num" id="2835739">1</span><br>
<span class="lineno"></span><span class="op" id="2835741">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="2835744">func</span>&nbsp;<span class="op" id="2835749">(</span><span class="ident" id="2835750">k</span>&nbsp;<span class="ident" id="2835752"><a href="/reflect/type.go.html#2829996">Kind</a></span><span class="op" id="2835756">)</span>&nbsp;<span class="ident" id="2835758">String</span><span class="op" id="2835764">(</span><span class="op" id="2835765">)</span>&nbsp;<span class="builtintype" id="2835767">string</span>&nbsp;<span class="op" id="2835774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835777">if</span>&nbsp;<span class="builtintype" id="2835780">int</span><span class="op" id="2835783">(</span><span class="ident" id="2835784"><a href="/reflect/type.go.html#2835750">k</a></span><span class="op" id="2835785">)</span>&nbsp;<span class="op" id="2835787">&lt;</span>&nbsp;<span class="builtinfunc" id="2835789">len</span><span class="op" id="2835792">(</span><span class="ident" id="2835793"><a href="/reflect/type.go.html#2835876">kindNames</a></span><span class="op" id="2835802">)</span>&nbsp;<span class="op" id="2835804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835808">return</span>&nbsp;<span class="ident" id="2835815"><a href="/reflect/type.go.html#2835876">kindNames</a></span><span class="op" id="2835824">[</span><span class="ident" id="2835825"><a href="/reflect/type.go.html#2835750">k</a></span><span class="op" id="2835826">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835829">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835832">return</span>&nbsp;<span class="string" id="2835839">&#34;kind&#34;</span>&nbsp;<span class="op" id="2835846">+</span>&nbsp;<span class="ident" id="2835848"><a href="/reflect/type.go.html#2823229">strconv</a></span><span class="op" id="2835855">.</span><span class="ident" id="2835856">Itoa</span><span class="op" id="2835860">(</span><span class="builtintype" id="2835861">int</span><span class="op" id="2835864">(</span><span class="ident" id="2835865"><a href="/reflect/type.go.html#2835750">k</a></span><span class="op" id="2835866">)</span><span class="op" id="2835867">)</span><br>
<span class="lineno">410</span><span class="op" id="2835869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2835872">var</span>&nbsp;<span class="ident" id="2835876">kindNames</span>&nbsp;<span class="op" id="2835886">=</span>&nbsp;<span class="op" id="2835888">[</span><span class="op" id="2835889">]</span><span class="builtintype" id="2835890">string</span><span class="op" id="2835896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835899"><a href="/reflect/type.go.html#2830016">Invalid</a></span><span class="op" id="2835906">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2835914">&#34;invalid&#34;</span><span class="op" id="2835923">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835926"><a href="/reflect/type.go.html#2830037">Bool</a></span><span class="op" id="2835930">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2835941">&#34;bool&#34;</span><span class="op" id="2835947">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835950"><a href="/reflect/type.go.html#2830043">Int</a></span><span class="op" id="2835953">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2835965">&#34;int&#34;</span><span class="op" id="2835970">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835973"><a href="/reflect/type.go.html#2830048">Int8</a></span><span class="op" id="2835977">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2835988">&#34;int8&#34;</span><span class="op" id="2835994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835997"><a href="/reflect/type.go.html#2830054">Int16</a></span><span class="op" id="2836002">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836012">&#34;int16&#34;</span><span class="op" id="2836019">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836022"><a href="/reflect/type.go.html#2830061">Int32</a></span><span class="op" id="2836027">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836037">&#34;int32&#34;</span><span class="op" id="2836044">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836047"><a href="/reflect/type.go.html#2830068">Int64</a></span><span class="op" id="2836052">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836062">&#34;int64&#34;</span><span class="op" id="2836069">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836072"><a href="/reflect/type.go.html#2830075">Uint</a></span><span class="op" id="2836076">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836087">&#34;uint&#34;</span><span class="op" id="2836093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836096"><a href="/reflect/type.go.html#2830081">Uint8</a></span><span class="op" id="2836101">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836111">&#34;uint8&#34;</span><span class="op" id="2836118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836121"><a href="/reflect/type.go.html#2830088">Uint16</a></span><span class="op" id="2836127">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836136">&#34;uint16&#34;</span><span class="op" id="2836144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836147"><a href="/reflect/type.go.html#2830096">Uint32</a></span><span class="op" id="2836153">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836162">&#34;uint32&#34;</span><span class="op" id="2836170">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836173"><a href="/reflect/type.go.html#2830104">Uint64</a></span><span class="op" id="2836179">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836188">&#34;uint64&#34;</span><span class="op" id="2836196">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836199"><a href="/reflect/type.go.html#2830112">Uintptr</a></span><span class="op" id="2836206">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836214">&#34;uintptr&#34;</span><span class="op" id="2836223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836226"><a href="/reflect/type.go.html#2830121">Float32</a></span><span class="op" id="2836233">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836241">&#34;float32&#34;</span><span class="op" id="2836250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836253"><a href="/reflect/type.go.html#2830130">Float64</a></span><span class="op" id="2836260">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836268">&#34;float64&#34;</span><span class="op" id="2836277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836280"><a href="/reflect/type.go.html#2830139">Complex64</a></span><span class="op" id="2836289">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836295">&#34;complex64&#34;</span><span class="op" id="2836306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836309"><a href="/reflect/type.go.html#2830150">Complex128</a></span><span class="op" id="2836319">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836324">&#34;complex128&#34;</span><span class="op" id="2836336">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836339"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2836344">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836354">&#34;array&#34;</span><span class="op" id="2836361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836364"><a href="/reflect/type.go.html#2830169">Chan</a></span><span class="op" id="2836368">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836379">&#34;chan&#34;</span><span class="op" id="2836385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836388"><a href="/reflect/type.go.html#2830175">Func</a></span><span class="op" id="2836392">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836403">&#34;func&#34;</span><span class="op" id="2836409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836412"><a href="/reflect/type.go.html#2830181">Interface</a></span><span class="op" id="2836421">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836427">&#34;interface&#34;</span><span class="op" id="2836438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836441"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2836444">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836456">&#34;map&#34;</span><span class="op" id="2836461">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836464"><a href="/reflect/type.go.html#2830197">Ptr</a></span><span class="op" id="2836467">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836479">&#34;ptr&#34;</span><span class="op" id="2836484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836487"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2836492">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836502">&#34;slice&#34;</span><span class="op" id="2836509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836512"><a href="/reflect/type.go.html#2830209">String</a></span><span class="op" id="2836518">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836527">&#34;string&#34;</span><span class="op" id="2836535">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836538"><a href="/reflect/type.go.html#2830217">Struct</a></span><span class="op" id="2836544">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2836553">&#34;struct&#34;</span><span class="op" id="2836561">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836564"><a href="/reflect/type.go.html#2830225">UnsafePointer</a></span><span class="op" id="2836577">:</span>&nbsp;<span class="string" id="2836579">&#34;unsafe.Pointer&#34;</span><span class="op" id="2836595">,</span><br>
<span class="lineno">440</span><span class="op" id="2836597">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2836600">func</span>&nbsp;<span class="op" id="2836605">(</span><span class="ident" id="2836606">t</span>&nbsp;<span class="op" id="2836608">*</span><span class="ident" id="2836609"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><span class="op" id="2836621">)</span>&nbsp;<span class="ident" id="2836623">uncommon</span><span class="op" id="2836631">(</span><span class="op" id="2836632">)</span>&nbsp;<span class="op" id="2836634">*</span><span class="ident" id="2836635"><a href="/reflect/type.go.html#2832322">uncommonType</a></span>&nbsp;<span class="op" id="2836648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836651">return</span>&nbsp;<span class="ident" id="2836658"><a href="/reflect/type.go.html#2836606">t</a></span><br>
<span class="lineno"></span><span class="op" id="2836660">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="keyword" id="2836663">func</span>&nbsp;<span class="op" id="2836668">(</span><span class="ident" id="2836669">t</span>&nbsp;<span class="op" id="2836671">*</span><span class="ident" id="2836672"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><span class="op" id="2836684">)</span>&nbsp;<span class="ident" id="2836686">PkgPath</span><span class="op" id="2836693">(</span><span class="op" id="2836694">)</span>&nbsp;<span class="builtintype" id="2836696">string</span>&nbsp;<span class="op" id="2836703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836706">if</span>&nbsp;<span class="ident" id="2836709"><a href="/reflect/type.go.html#2836669">t</a></span>&nbsp;<span class="op" id="2836711">==</span>&nbsp;<span class="ident" id="2836714">nil</span>&nbsp;<span class="op" id="2836718">||</span>&nbsp;<span class="ident" id="2836721"><a href="/reflect/type.go.html#2836669">t</a></span><span class="op" id="2836722">.</span><span class="ident" id="2836723">pkgPath</span>&nbsp;<span class="op" id="2836731">==</span>&nbsp;<span class="ident" id="2836734">nil</span>&nbsp;<span class="op" id="2836738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836742">return</span>&nbsp;<span class="string" id="2836749">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836753">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836756">return</span>&nbsp;<span class="op" id="2836763">*</span><span class="ident" id="2836764"><a href="/reflect/type.go.html#2836669">t</a></span><span class="op" id="2836765">.</span><span class="ident" id="2836766">pkgPath</span><br>
<span class="lineno"></span><span class="op" id="2836774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2836777">func</span>&nbsp;<span class="op" id="2836782">(</span><span class="ident" id="2836783">t</span>&nbsp;<span class="op" id="2836785">*</span><span class="ident" id="2836786"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><span class="op" id="2836798">)</span>&nbsp;<span class="ident" id="2836800">Name</span><span class="op" id="2836804">(</span><span class="op" id="2836805">)</span>&nbsp;<span class="builtintype" id="2836807">string</span>&nbsp;<span class="op" id="2836814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836817">if</span>&nbsp;<span class="ident" id="2836820"><a href="/reflect/type.go.html#2836783">t</a></span>&nbsp;<span class="op" id="2836822">==</span>&nbsp;<span class="ident" id="2836825">nil</span>&nbsp;<span class="op" id="2836829">||</span>&nbsp;<span class="ident" id="2836832"><a href="/reflect/type.go.html#2836783">t</a></span><span class="op" id="2836833">.</span><span class="ident" id="2836834">name</span>&nbsp;<span class="op" id="2836839">==</span>&nbsp;<span class="ident" id="2836842">nil</span>&nbsp;<span class="op" id="2836846">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836850">return</span>&nbsp;<span class="string" id="2836857">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836861">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836864">return</span>&nbsp;<span class="op" id="2836871">*</span><span class="ident" id="2836872"><a href="/reflect/type.go.html#2836783">t</a></span><span class="op" id="2836873">.</span><span class="ident" id="2836874">name</span><br>
<span class="lineno"></span><span class="op" id="2836879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span><span class="keyword" id="2836882">func</span>&nbsp;<span class="op" id="2836887">(</span><span class="ident" id="2836888">t</span>&nbsp;<span class="op" id="2836890">*</span><span class="ident" id="2836891"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2836896">)</span>&nbsp;<span class="ident" id="2836898">String</span><span class="op" id="2836904">(</span><span class="op" id="2836905">)</span>&nbsp;<span class="builtintype" id="2836907">string</span>&nbsp;<span class="op" id="2836914">{</span>&nbsp;<span class="keyword" id="2836916">return</span>&nbsp;<span class="op" id="2836923">*</span><span class="ident" id="2836924"><a href="/reflect/type.go.html#2836888">t</a></span><span class="op" id="2836925">.</span><span class="builtintype" id="2836926">string</span>&nbsp;<span class="op" id="2836933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2836936">func</span>&nbsp;<span class="op" id="2836941">(</span><span class="ident" id="2836942">t</span>&nbsp;<span class="op" id="2836944">*</span><span class="ident" id="2836945"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2836950">)</span>&nbsp;<span class="ident" id="2836952">Size</span><span class="op" id="2836956">(</span><span class="op" id="2836957">)</span>&nbsp;<span class="builtintype" id="2836959">uintptr</span>&nbsp;<span class="op" id="2836967">{</span>&nbsp;<span class="keyword" id="2836969">return</span>&nbsp;<span class="ident" id="2836976"><a href="/reflect/type.go.html#2836942">t</a></span><span class="op" id="2836977">.</span><span class="ident" id="2836978">size</span>&nbsp;<span class="op" id="2836983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2836986">func</span>&nbsp;<span class="op" id="2836991">(</span><span class="ident" id="2836992">t</span>&nbsp;<span class="op" id="2836994">*</span><span class="ident" id="2836995"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2837000">)</span>&nbsp;<span class="ident" id="2837002">Bits</span><span class="op" id="2837006">(</span><span class="op" id="2837007">)</span>&nbsp;<span class="builtintype" id="2837009">int</span>&nbsp;<span class="op" id="2837013">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837016">if</span>&nbsp;<span class="ident" id="2837019"><a href="/reflect/type.go.html#2836992">t</a></span>&nbsp;<span class="op" id="2837021">==</span>&nbsp;<span class="ident" id="2837024">nil</span>&nbsp;<span class="op" id="2837028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2837032">panic</span><span class="op" id="2837037">(</span><span class="string" id="2837038">&#34;reflect:&nbsp;Bits&nbsp;of&nbsp;nil&nbsp;Type&#34;</span><span class="op" id="2837065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837071">k</span>&nbsp;<span class="op" id="2837073">:=</span>&nbsp;<span class="ident" id="2837076"><a href="/reflect/type.go.html#2836992">t</a></span><span class="op" id="2837077">.</span><span class="ident" id="2837078">Kind</span><span class="op" id="2837082">(</span><span class="op" id="2837083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837086">if</span>&nbsp;<span class="ident" id="2837089"><a href="/reflect/type.go.html#2837071">k</a></span>&nbsp;<span class="op" id="2837091">&lt;</span>&nbsp;<span class="ident" id="2837093"><a href="/reflect/type.go.html#2830043">Int</a></span>&nbsp;<span class="op" id="2837097">||</span>&nbsp;<span class="ident" id="2837100"><a href="/reflect/type.go.html#2837071">k</a></span>&nbsp;<span class="op" id="2837102">&gt;</span>&nbsp;<span class="ident" id="2837104"><a href="/reflect/type.go.html#2830150">Complex128</a></span>&nbsp;<span class="op" id="2837115">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2837119">panic</span><span class="op" id="2837124">(</span><span class="string" id="2837125">&#34;reflect:&nbsp;Bits&nbsp;of&nbsp;non-arithmetic&nbsp;Type&nbsp;&#34;</span>&nbsp;<span class="op" id="2837165">+</span>&nbsp;<span class="ident" id="2837167"><a href="/reflect/type.go.html#2836992">t</a></span><span class="op" id="2837168">.</span><span class="ident" id="2837169">String</span><span class="op" id="2837175">(</span><span class="op" id="2837176">)</span><span class="op" id="2837177">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837183">return</span>&nbsp;<span class="builtintype" id="2837190">int</span><span class="op" id="2837193">(</span><span class="ident" id="2837194"><a href="/reflect/type.go.html#2836992">t</a></span><span class="op" id="2837195">.</span><span class="ident" id="2837196">size</span><span class="op" id="2837200">)</span>&nbsp;<span class="op" id="2837202">*</span>&nbsp;<span class="num" id="2837204">8</span><br>
<span class="lineno"></span><span class="op" id="2837206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="keyword" id="2837209">func</span>&nbsp;<span class="op" id="2837214">(</span><span class="ident" id="2837215">t</span>&nbsp;<span class="op" id="2837217">*</span><span class="ident" id="2837218"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2837223">)</span>&nbsp;<span class="ident" id="2837225">Align</span><span class="op" id="2837230">(</span><span class="op" id="2837231">)</span>&nbsp;<span class="builtintype" id="2837233">int</span>&nbsp;<span class="op" id="2837237">{</span>&nbsp;<span class="keyword" id="2837239">return</span>&nbsp;<span class="builtintype" id="2837246">int</span><span class="op" id="2837249">(</span><span class="ident" id="2837250"><a href="/reflect/type.go.html#2837215">t</a></span><span class="op" id="2837251">.</span><span class="ident" id="2837252">align</span><span class="op" id="2837257">)</span>&nbsp;<span class="op" id="2837259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2837262">func</span>&nbsp;<span class="op" id="2837267">(</span><span class="ident" id="2837268">t</span>&nbsp;<span class="op" id="2837270">*</span><span class="ident" id="2837271"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2837276">)</span>&nbsp;<span class="ident" id="2837278">FieldAlign</span><span class="op" id="2837288">(</span><span class="op" id="2837289">)</span>&nbsp;<span class="builtintype" id="2837291">int</span>&nbsp;<span class="op" id="2837295">{</span>&nbsp;<span class="keyword" id="2837297">return</span>&nbsp;<span class="builtintype" id="2837304">int</span><span class="op" id="2837307">(</span><span class="ident" id="2837308"><a href="/reflect/type.go.html#2837268">t</a></span><span class="op" id="2837309">.</span><span class="ident" id="2837310">fieldAlign</span><span class="op" id="2837320">)</span>&nbsp;<span class="op" id="2837322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2837325">func</span>&nbsp;<span class="op" id="2837330">(</span><span class="ident" id="2837331">t</span>&nbsp;<span class="op" id="2837333">*</span><span class="ident" id="2837334"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2837339">)</span>&nbsp;<span class="ident" id="2837341">Kind</span><span class="op" id="2837345">(</span><span class="op" id="2837346">)</span>&nbsp;<span class="ident" id="2837348"><a href="/reflect/type.go.html#2829996">Kind</a></span>&nbsp;<span class="op" id="2837353">{</span>&nbsp;<span class="keyword" id="2837355">return</span>&nbsp;<span class="ident" id="2837362"><a href="/reflect/type.go.html#2829996">Kind</a></span><span class="op" id="2837366">(</span><span class="ident" id="2837367"><a href="/reflect/type.go.html#2837331">t</a></span><span class="op" id="2837368">.</span><span class="ident" id="2837369">kind</span>&nbsp;<span class="op" id="2837374">&amp;</span>&nbsp;<span class="ident" id="2837376"><a href="/reflect/type.go.html#2835710">kindMask</a></span><span class="op" id="2837384">)</span>&nbsp;<span class="op" id="2837386">}</span><br>
<span class="lineno">480</span><br>
<span class="lineno"></span><span class="keyword" id="2837389">func</span>&nbsp;<span class="op" id="2837394">(</span><span class="ident" id="2837395">t</span>&nbsp;<span class="op" id="2837397">*</span><span class="ident" id="2837398"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2837403">)</span>&nbsp;<span class="ident" id="2837405">pointers</span><span class="op" id="2837413">(</span><span class="op" id="2837414">)</span>&nbsp;<span class="builtintype" id="2837416">bool</span>&nbsp;<span class="op" id="2837421">{</span>&nbsp;<span class="keyword" id="2837423">return</span>&nbsp;<span class="ident" id="2837430"><a href="/reflect/type.go.html#2837395">t</a></span><span class="op" id="2837431">.</span><span class="ident" id="2837432">kind</span><span class="op" id="2837436">&amp;</span><span class="ident" id="2837437"><a href="/reflect/type.go.html#2835684">kindNoPointers</a></span>&nbsp;<span class="op" id="2837452">==</span>&nbsp;<span class="num" id="2837455">0</span>&nbsp;<span class="op" id="2837457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2837460">func</span>&nbsp;<span class="op" id="2837465">(</span><span class="ident" id="2837466">t</span>&nbsp;<span class="op" id="2837468">*</span><span class="ident" id="2837469"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2837474">)</span>&nbsp;<span class="ident" id="2837476">common</span><span class="op" id="2837482">(</span><span class="op" id="2837483">)</span>&nbsp;<span class="op" id="2837485">*</span><span class="ident" id="2837486"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="op" id="2837492">{</span>&nbsp;<span class="keyword" id="2837494">return</span>&nbsp;<span class="ident" id="2837501"><a href="/reflect/type.go.html#2837466">t</a></span>&nbsp;<span class="op" id="2837503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="keyword" id="2837506">func</span>&nbsp;<span class="op" id="2837511">(</span><span class="ident" id="2837512">t</span>&nbsp;<span class="op" id="2837514">*</span><span class="ident" id="2837515"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><span class="op" id="2837527">)</span>&nbsp;<span class="ident" id="2837529">Method</span><span class="op" id="2837535">(</span><span class="ident" id="2837536">i</span>&nbsp;<span class="builtintype" id="2837538">int</span><span class="op" id="2837541">)</span>&nbsp;<span class="op" id="2837543">(</span><span class="ident" id="2837544">m</span>&nbsp;<span class="ident" id="2837546"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2837552">)</span>&nbsp;<span class="op" id="2837554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837557">if</span>&nbsp;<span class="ident" id="2837560"><a href="/reflect/type.go.html#2837512">t</a></span>&nbsp;<span class="op" id="2837562">==</span>&nbsp;<span class="ident" id="2837565">nil</span>&nbsp;<span class="op" id="2837569">||</span>&nbsp;<span class="ident" id="2837572"><a href="/reflect/type.go.html#2837536">i</a></span>&nbsp;<span class="op" id="2837574">&lt;</span>&nbsp;<span class="num" id="2837576">0</span>&nbsp;<span class="op" id="2837578">||</span>&nbsp;<span class="ident" id="2837581"><a href="/reflect/type.go.html#2837536">i</a></span>&nbsp;<span class="op" id="2837583">&gt;=</span>&nbsp;<span class="builtinfunc" id="2837586">len</span><span class="op" id="2837589">(</span><span class="ident" id="2837590"><a href="/reflect/type.go.html#2837512">t</a></span><span class="op" id="2837591">.</span><span class="ident" id="2837592">methods</span><span class="op" id="2837599">)</span>&nbsp;<span class="op" id="2837601">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2837605">panic</span><span class="op" id="2837610">(</span><span class="string" id="2837611">&#34;reflect:&nbsp;Method&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2837647">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837653">p</span>&nbsp;<span class="op" id="2837655">:=</span>&nbsp;<span class="op" id="2837658">&amp;</span><span class="ident" id="2837659"><a href="/reflect/type.go.html#2837512">t</a></span><span class="op" id="2837660">.</span><span class="ident" id="2837661">methods</span><span class="op" id="2837668">[</span><span class="ident" id="2837669"><a href="/reflect/type.go.html#2837536">i</a></span><span class="op" id="2837670">]</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837673">if</span>&nbsp;<span class="ident" id="2837676"><a href="/reflect/type.go.html#2837653">p</a></span><span class="op" id="2837677">.</span><span class="ident" id="2837678">name</span>&nbsp;<span class="op" id="2837683">!=</span>&nbsp;<span class="ident" id="2837686">nil</span>&nbsp;<span class="op" id="2837690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837694"><a href="/reflect/type.go.html#2837544">m</a></span><span class="op" id="2837695">.</span><span class="ident" id="2837696">Name</span>&nbsp;<span class="op" id="2837701">=</span>&nbsp;<span class="op" id="2837703">*</span><span class="ident" id="2837704"><a href="/reflect/type.go.html#2837653">p</a></span><span class="op" id="2837705">.</span><span class="ident" id="2837706">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837715">fl</span>&nbsp;<span class="op" id="2837718">:=</span>&nbsp;<span class="ident" id="2837721"><a href="/reflect/value.go.html#2876828">flag</a></span><span class="op" id="2837725">(</span><span class="ident" id="2837726"><a href="/reflect/type.go.html#2830175">Func</a></span><span class="op" id="2837730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837733">if</span>&nbsp;<span class="ident" id="2837736"><a href="/reflect/type.go.html#2837653">p</a></span><span class="op" id="2837737">.</span><span class="ident" id="2837738">pkgPath</span>&nbsp;<span class="op" id="2837746">!=</span>&nbsp;<span class="ident" id="2837749">nil</span>&nbsp;<span class="op" id="2837753">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837757"><a href="/reflect/type.go.html#2837544">m</a></span><span class="op" id="2837758">.</span><span class="ident" id="2837759">PkgPath</span>&nbsp;<span class="op" id="2837767">=</span>&nbsp;<span class="op" id="2837769">*</span><span class="ident" id="2837770"><a href="/reflect/type.go.html#2837653">p</a></span><span class="op" id="2837771">.</span><span class="ident" id="2837772">pkgPath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837782"><a href="/reflect/type.go.html#2837715">fl</a></span>&nbsp;<span class="op" id="2837785">|=</span>&nbsp;<span class="ident" id="2837788"><a href="/reflect/value.go.html#2876944">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837796">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837799">mt</span>&nbsp;<span class="op" id="2837802">:=</span>&nbsp;<span class="ident" id="2837805"><a href="/reflect/type.go.html#2837653">p</a></span><span class="op" id="2837806">.</span><span class="ident" id="2837807">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837812"><a href="/reflect/type.go.html#2837544">m</a></span><span class="op" id="2837813">.</span><span class="ident" id="2837814">Type</span>&nbsp;<span class="op" id="2837819">=</span>&nbsp;<span class="ident" id="2837821"><a href="/reflect/type.go.html#2837799">mt</a></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837825">fn</span>&nbsp;<span class="op" id="2837828">:=</span>&nbsp;<span class="ident" id="2837831"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2837837">.</span><span class="ident" id="2837838">Pointer</span><span class="op" id="2837845">(</span><span class="op" id="2837846">&amp;</span><span class="ident" id="2837847"><a href="/reflect/type.go.html#2837653">p</a></span><span class="op" id="2837848">.</span><span class="ident" id="2837849">tfn</span><span class="op" id="2837852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837855"><a href="/reflect/type.go.html#2837544">m</a></span><span class="op" id="2837856">.</span><span class="ident" id="2837857">Func</span>&nbsp;<span class="op" id="2837862">=</span>&nbsp;<span class="ident" id="2837864"><a href="/reflect/value.go.html#2875697">Value</a></span><span class="op" id="2837869">{</span><span class="ident" id="2837870"><a href="/reflect/type.go.html#2837799">mt</a></span><span class="op" id="2837872">,</span>&nbsp;<span class="ident" id="2837874"><a href="/reflect/type.go.html#2837825">fn</a></span><span class="op" id="2837876">,</span>&nbsp;<span class="ident" id="2837878"><a href="/reflect/type.go.html#2837715">fl</a></span><span class="op" id="2837880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837883"><a href="/reflect/type.go.html#2837544">m</a></span><span class="op" id="2837884">.</span><span class="ident" id="2837885">Index</span>&nbsp;<span class="op" id="2837891">=</span>&nbsp;<span class="ident" id="2837893"><a href="/reflect/type.go.html#2837536">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837896">return</span><br>
<span class="lineno"></span><span class="op" id="2837903">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="2837906">func</span>&nbsp;<span class="op" id="2837911">(</span><span class="ident" id="2837912">t</span>&nbsp;<span class="op" id="2837914">*</span><span class="ident" id="2837915"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><span class="op" id="2837927">)</span>&nbsp;<span class="ident" id="2837929">NumMethod</span><span class="op" id="2837938">(</span><span class="op" id="2837939">)</span>&nbsp;<span class="builtintype" id="2837941">int</span>&nbsp;<span class="op" id="2837945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837948">if</span>&nbsp;<span class="ident" id="2837951"><a href="/reflect/type.go.html#2837912">t</a></span>&nbsp;<span class="op" id="2837953">==</span>&nbsp;<span class="ident" id="2837956">nil</span>&nbsp;<span class="op" id="2837960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837964">return</span>&nbsp;<span class="num" id="2837971">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837974">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837977">return</span>&nbsp;<span class="builtinfunc" id="2837984">len</span><span class="op" id="2837987">(</span><span class="ident" id="2837988"><a href="/reflect/type.go.html#2837912">t</a></span><span class="op" id="2837989">.</span><span class="ident" id="2837990">methods</span><span class="op" id="2837997">)</span><br>
<span class="lineno"></span><span class="op" id="2837999">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2838002">func</span>&nbsp;<span class="op" id="2838007">(</span><span class="ident" id="2838008">t</span>&nbsp;<span class="op" id="2838010">*</span><span class="ident" id="2838011"><a href="/reflect/type.go.html#2832322">uncommonType</a></span><span class="op" id="2838023">)</span>&nbsp;<span class="ident" id="2838025">MethodByName</span><span class="op" id="2838037">(</span><span class="ident" id="2838038">name</span>&nbsp;<span class="builtintype" id="2838043">string</span><span class="op" id="2838049">)</span>&nbsp;<span class="op" id="2838051">(</span><span class="ident" id="2838052">m</span>&nbsp;<span class="ident" id="2838054"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2838060">,</span>&nbsp;<span class="ident" id="2838062">ok</span>&nbsp;<span class="builtintype" id="2838065">bool</span><span class="op" id="2838069">)</span>&nbsp;<span class="op" id="2838071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838074">if</span>&nbsp;<span class="ident" id="2838077"><a href="/reflect/type.go.html#2838008">t</a></span>&nbsp;<span class="op" id="2838079">==</span>&nbsp;<span class="ident" id="2838082">nil</span>&nbsp;<span class="op" id="2838086">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838090">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838101">var</span>&nbsp;<span class="ident" id="2838105">p</span>&nbsp;<span class="op" id="2838107">*</span><span class="ident" id="2838108"><a href="/reflect/type.go.html#2831675">method</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838116">for</span>&nbsp;<span class="ident" id="2838120">i</span>&nbsp;<span class="op" id="2838122">:=</span>&nbsp;<span class="keyword" id="2838125">range</span>&nbsp;<span class="ident" id="2838131"><a href="/reflect/type.go.html#2838008">t</a></span><span class="op" id="2838132">.</span><span class="ident" id="2838133">methods</span>&nbsp;<span class="op" id="2838141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838145"><a href="/reflect/type.go.html#2838105">p</a></span>&nbsp;<span class="op" id="2838147">=</span>&nbsp;<span class="op" id="2838149">&amp;</span><span class="ident" id="2838150"><a href="/reflect/type.go.html#2838008">t</a></span><span class="op" id="2838151">.</span><span class="ident" id="2838152">methods</span><span class="op" id="2838159">[</span><span class="ident" id="2838160"><a href="/reflect/type.go.html#2838120">i</a></span><span class="op" id="2838161">]</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838165">if</span>&nbsp;<span class="ident" id="2838168"><a href="/reflect/type.go.html#2838105">p</a></span><span class="op" id="2838169">.</span><span class="ident" id="2838170">name</span>&nbsp;<span class="op" id="2838175">!=</span>&nbsp;<span class="ident" id="2838178">nil</span>&nbsp;<span class="op" id="2838182">&amp;&amp;</span>&nbsp;<span class="op" id="2838185">*</span><span class="ident" id="2838186"><a href="/reflect/type.go.html#2838105">p</a></span><span class="op" id="2838187">.</span><span class="ident" id="2838188">name</span>&nbsp;<span class="op" id="2838193">==</span>&nbsp;<span class="ident" id="2838196"><a href="/reflect/type.go.html#2838038">name</a></span>&nbsp;<span class="op" id="2838201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838206">return</span>&nbsp;<span class="ident" id="2838213"><a href="/reflect/type.go.html#2838008">t</a></span><span class="op" id="2838214">.</span><span class="ident" id="2838215">Method</span><span class="op" id="2838221">(</span><span class="ident" id="2838222"><a href="/reflect/type.go.html#2838120">i</a></span><span class="op" id="2838223">)</span><span class="op" id="2838224">,</span>&nbsp;<span class="builtintype" id="2838226">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838233">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838239">return</span><br>
<span class="lineno">525</span><span class="op" id="2838246">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2838249">//&nbsp;TODO(rsc):&nbsp;6g&nbsp;supplies&nbsp;these,&nbsp;but&nbsp;they&nbsp;are&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="2838299">//&nbsp;as&nbsp;efficient&nbsp;as&nbsp;they&nbsp;could&nbsp;be:&nbsp;they&nbsp;have&nbsp;commonType</span><br>
<span class="lineno"></span><span class="comment" id="2838354">//&nbsp;as&nbsp;the&nbsp;receiver&nbsp;instead&nbsp;of&nbsp;*rtype.</span><br>
<span class="lineno">530</span><span class="keyword" id="2838392">func</span>&nbsp;<span class="op" id="2838397">(</span><span class="ident" id="2838398">t</span>&nbsp;<span class="op" id="2838400">*</span><span class="ident" id="2838401"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2838406">)</span>&nbsp;<span class="ident" id="2838408">NumMethod</span><span class="op" id="2838417">(</span><span class="op" id="2838418">)</span>&nbsp;<span class="builtintype" id="2838420">int</span>&nbsp;<span class="op" id="2838424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838427">if</span>&nbsp;<span class="ident" id="2838430"><a href="/reflect/type.go.html#2838398">t</a></span><span class="op" id="2838431">.</span><span class="ident" id="2838432">Kind</span><span class="op" id="2838436">(</span><span class="op" id="2838437">)</span>&nbsp;<span class="op" id="2838439">==</span>&nbsp;<span class="ident" id="2838442"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2838452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838456">tt</span>&nbsp;<span class="op" id="2838459">:=</span>&nbsp;<span class="op" id="2838462">(</span><span class="op" id="2838463">*</span><span class="ident" id="2838464"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2838477">)</span><span class="op" id="2838478">(</span><span class="ident" id="2838479"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2838485">.</span><span class="ident" id="2838486">Pointer</span><span class="op" id="2838493">(</span><span class="ident" id="2838494"><a href="/reflect/type.go.html#2838398">t</a></span><span class="op" id="2838495">)</span><span class="op" id="2838496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838500">return</span>&nbsp;<span class="ident" id="2838507"><a href="/reflect/type.go.html#2838456">tt</a></span><span class="op" id="2838509">.</span><span class="ident" id="2838510">NumMethod</span><span class="op" id="2838519">(</span><span class="op" id="2838520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838523">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838526">return</span>&nbsp;<span class="ident" id="2838533"><a href="/reflect/type.go.html#2838398">t</a></span><span class="op" id="2838534">.</span><span class="ident" id="2838535">uncommonType</span><span class="op" id="2838547">.</span><span class="ident" id="2838548">NumMethod</span><span class="op" id="2838557">(</span><span class="op" id="2838558">)</span><br>
<span class="lineno"></span><span class="op" id="2838560">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2838563">func</span>&nbsp;<span class="op" id="2838568">(</span><span class="ident" id="2838569">t</span>&nbsp;<span class="op" id="2838571">*</span><span class="ident" id="2838572"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2838577">)</span>&nbsp;<span class="ident" id="2838579">Method</span><span class="op" id="2838585">(</span><span class="ident" id="2838586">i</span>&nbsp;<span class="builtintype" id="2838588">int</span><span class="op" id="2838591">)</span>&nbsp;<span class="op" id="2838593">(</span><span class="ident" id="2838594">m</span>&nbsp;<span class="ident" id="2838596"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2838602">)</span>&nbsp;<span class="op" id="2838604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838607">if</span>&nbsp;<span class="ident" id="2838610"><a href="/reflect/type.go.html#2838569">t</a></span><span class="op" id="2838611">.</span><span class="ident" id="2838612">Kind</span><span class="op" id="2838616">(</span><span class="op" id="2838617">)</span>&nbsp;<span class="op" id="2838619">==</span>&nbsp;<span class="ident" id="2838622"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2838632">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838636">tt</span>&nbsp;<span class="op" id="2838639">:=</span>&nbsp;<span class="op" id="2838642">(</span><span class="op" id="2838643">*</span><span class="ident" id="2838644"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2838657">)</span><span class="op" id="2838658">(</span><span class="ident" id="2838659"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2838665">.</span><span class="ident" id="2838666">Pointer</span><span class="op" id="2838673">(</span><span class="ident" id="2838674"><a href="/reflect/type.go.html#2838569">t</a></span><span class="op" id="2838675">)</span><span class="op" id="2838676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838680">return</span>&nbsp;<span class="ident" id="2838687"><a href="/reflect/type.go.html#2838636">tt</a></span><span class="op" id="2838689">.</span><span class="ident" id="2838690">Method</span><span class="op" id="2838696">(</span><span class="ident" id="2838697"><a href="/reflect/type.go.html#2838586">i</a></span><span class="op" id="2838698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838704">return</span>&nbsp;<span class="ident" id="2838711"><a href="/reflect/type.go.html#2838569">t</a></span><span class="op" id="2838712">.</span><span class="ident" id="2838713">uncommonType</span><span class="op" id="2838725">.</span><span class="ident" id="2838726">Method</span><span class="op" id="2838732">(</span><span class="ident" id="2838733"><a href="/reflect/type.go.html#2838586">i</a></span><span class="op" id="2838734">)</span><br>
<span class="lineno"></span><span class="op" id="2838736">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="2838739">func</span>&nbsp;<span class="op" id="2838744">(</span><span class="ident" id="2838745">t</span>&nbsp;<span class="op" id="2838747">*</span><span class="ident" id="2838748"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2838753">)</span>&nbsp;<span class="ident" id="2838755">MethodByName</span><span class="op" id="2838767">(</span><span class="ident" id="2838768">name</span>&nbsp;<span class="builtintype" id="2838773">string</span><span class="op" id="2838779">)</span>&nbsp;<span class="op" id="2838781">(</span><span class="ident" id="2838782">m</span>&nbsp;<span class="ident" id="2838784"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2838790">,</span>&nbsp;<span class="ident" id="2838792">ok</span>&nbsp;<span class="builtintype" id="2838795">bool</span><span class="op" id="2838799">)</span>&nbsp;<span class="op" id="2838801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838804">if</span>&nbsp;<span class="ident" id="2838807"><a href="/reflect/type.go.html#2838745">t</a></span><span class="op" id="2838808">.</span><span class="ident" id="2838809">Kind</span><span class="op" id="2838813">(</span><span class="op" id="2838814">)</span>&nbsp;<span class="op" id="2838816">==</span>&nbsp;<span class="ident" id="2838819"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2838829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838833">tt</span>&nbsp;<span class="op" id="2838836">:=</span>&nbsp;<span class="op" id="2838839">(</span><span class="op" id="2838840">*</span><span class="ident" id="2838841"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2838854">)</span><span class="op" id="2838855">(</span><span class="ident" id="2838856"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2838862">.</span><span class="ident" id="2838863">Pointer</span><span class="op" id="2838870">(</span><span class="ident" id="2838871"><a href="/reflect/type.go.html#2838745">t</a></span><span class="op" id="2838872">)</span><span class="op" id="2838873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838877">return</span>&nbsp;<span class="ident" id="2838884"><a href="/reflect/type.go.html#2838833">tt</a></span><span class="op" id="2838886">.</span><span class="ident" id="2838887">MethodByName</span><span class="op" id="2838899">(</span><span class="ident" id="2838900"><a href="/reflect/type.go.html#2838768">name</a></span><span class="op" id="2838904">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838907">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838910">return</span>&nbsp;<span class="ident" id="2838917"><a href="/reflect/type.go.html#2838745">t</a></span><span class="op" id="2838918">.</span><span class="ident" id="2838919">uncommonType</span><span class="op" id="2838931">.</span><span class="ident" id="2838932">MethodByName</span><span class="op" id="2838944">(</span><span class="ident" id="2838945"><a href="/reflect/type.go.html#2838768">name</a></span><span class="op" id="2838949">)</span><br>
<span class="lineno"></span><span class="op" id="2838951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2838954">func</span>&nbsp;<span class="op" id="2838959">(</span><span class="ident" id="2838960">t</span>&nbsp;<span class="op" id="2838962">*</span><span class="ident" id="2838963"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2838968">)</span>&nbsp;<span class="ident" id="2838970">PkgPath</span><span class="op" id="2838977">(</span><span class="op" id="2838978">)</span>&nbsp;<span class="builtintype" id="2838980">string</span>&nbsp;<span class="op" id="2838987">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838990">return</span>&nbsp;<span class="ident" id="2838997"><a href="/reflect/type.go.html#2838960">t</a></span><span class="op" id="2838998">.</span><span class="ident" id="2838999">uncommonType</span><span class="op" id="2839011">.</span><span class="ident" id="2839012">PkgPath</span><span class="op" id="2839019">(</span><span class="op" id="2839020">)</span><br>
<span class="lineno"></span><span class="op" id="2839022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2839025">func</span>&nbsp;<span class="op" id="2839030">(</span><span class="ident" id="2839031">t</span>&nbsp;<span class="op" id="2839033">*</span><span class="ident" id="2839034"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2839039">)</span>&nbsp;<span class="ident" id="2839041">Name</span><span class="op" id="2839045">(</span><span class="op" id="2839046">)</span>&nbsp;<span class="builtintype" id="2839048">string</span>&nbsp;<span class="op" id="2839055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839058">return</span>&nbsp;<span class="ident" id="2839065"><a href="/reflect/type.go.html#2839031">t</a></span><span class="op" id="2839066">.</span><span class="ident" id="2839067">uncommonType</span><span class="op" id="2839079">.</span><span class="ident" id="2839080">Name</span><span class="op" id="2839084">(</span><span class="op" id="2839085">)</span><br>
<span class="lineno">560</span><span class="op" id="2839087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2839090">func</span>&nbsp;<span class="op" id="2839095">(</span><span class="ident" id="2839096">t</span>&nbsp;<span class="op" id="2839098">*</span><span class="ident" id="2839099"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2839104">)</span>&nbsp;<span class="ident" id="2839106">ChanDir</span><span class="op" id="2839113">(</span><span class="op" id="2839114">)</span>&nbsp;<span class="ident" id="2839116"><a href="/reflect/type.go.html#2832560">ChanDir</a></span>&nbsp;<span class="op" id="2839124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839127">if</span>&nbsp;<span class="ident" id="2839130"><a href="/reflect/type.go.html#2839096">t</a></span><span class="op" id="2839131">.</span><span class="ident" id="2839132">Kind</span><span class="op" id="2839136">(</span><span class="op" id="2839137">)</span>&nbsp;<span class="op" id="2839139">!=</span>&nbsp;<span class="ident" id="2839142"><a href="/reflect/type.go.html#2830169">Chan</a></span>&nbsp;<span class="op" id="2839147">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2839151">panic</span><span class="op" id="2839156">(</span><span class="string" id="2839157">&#34;reflect:&nbsp;ChanDir&nbsp;of&nbsp;non-chan&nbsp;type&#34;</span><span class="op" id="2839192">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839195">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839198">tt</span>&nbsp;<span class="op" id="2839201">:=</span>&nbsp;<span class="op" id="2839204">(</span><span class="op" id="2839205">*</span><span class="ident" id="2839206"><a href="/reflect/type.go.html#2832954">chanType</a></span><span class="op" id="2839214">)</span><span class="op" id="2839215">(</span><span class="ident" id="2839216"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839222">.</span><span class="ident" id="2839223">Pointer</span><span class="op" id="2839230">(</span><span class="ident" id="2839231"><a href="/reflect/type.go.html#2839096">t</a></span><span class="op" id="2839232">)</span><span class="op" id="2839233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839236">return</span>&nbsp;<span class="ident" id="2839243"><a href="/reflect/type.go.html#2832560">ChanDir</a></span><span class="op" id="2839250">(</span><span class="ident" id="2839251"><a href="/reflect/type.go.html#2839198">tt</a></span><span class="op" id="2839253">.</span><span class="ident" id="2839254">dir</span><span class="op" id="2839257">)</span><br>
<span class="lineno"></span><span class="op" id="2839259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="keyword" id="2839262">func</span>&nbsp;<span class="op" id="2839267">(</span><span class="ident" id="2839268">t</span>&nbsp;<span class="op" id="2839270">*</span><span class="ident" id="2839271"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2839276">)</span>&nbsp;<span class="ident" id="2839278">IsVariadic</span><span class="op" id="2839288">(</span><span class="op" id="2839289">)</span>&nbsp;<span class="builtintype" id="2839291">bool</span>&nbsp;<span class="op" id="2839296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839299">if</span>&nbsp;<span class="ident" id="2839302"><a href="/reflect/type.go.html#2839268">t</a></span><span class="op" id="2839303">.</span><span class="ident" id="2839304">Kind</span><span class="op" id="2839308">(</span><span class="op" id="2839309">)</span>&nbsp;<span class="op" id="2839311">!=</span>&nbsp;<span class="ident" id="2839314"><a href="/reflect/type.go.html#2830175">Func</a></span>&nbsp;<span class="op" id="2839319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2839323">panic</span><span class="op" id="2839328">(</span><span class="string" id="2839329">&#34;reflect:&nbsp;IsVariadic&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2839367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839373">tt</span>&nbsp;<span class="op" id="2839376">:=</span>&nbsp;<span class="op" id="2839379">(</span><span class="op" id="2839380">*</span><span class="ident" id="2839381"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2839389">)</span><span class="op" id="2839390">(</span><span class="ident" id="2839391"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839397">.</span><span class="ident" id="2839398">Pointer</span><span class="op" id="2839405">(</span><span class="ident" id="2839406"><a href="/reflect/type.go.html#2839268">t</a></span><span class="op" id="2839407">)</span><span class="op" id="2839408">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839411">return</span>&nbsp;<span class="ident" id="2839418"><a href="/reflect/type.go.html#2839373">tt</a></span><span class="op" id="2839420">.</span><span class="ident" id="2839421">dotdotdot</span><br>
<span class="lineno"></span><span class="op" id="2839431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2839434">func</span>&nbsp;<span class="op" id="2839439">(</span><span class="ident" id="2839440">t</span>&nbsp;<span class="op" id="2839442">*</span><span class="ident" id="2839443"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2839448">)</span>&nbsp;<span class="ident" id="2839450">Elem</span><span class="op" id="2839454">(</span><span class="op" id="2839455">)</span>&nbsp;<span class="ident" id="2839457"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2839462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839465">switch</span>&nbsp;<span class="ident" id="2839472"><a href="/reflect/type.go.html#2839440">t</a></span><span class="op" id="2839473">.</span><span class="ident" id="2839474">Kind</span><span class="op" id="2839478">(</span><span class="op" id="2839479">)</span>&nbsp;<span class="op" id="2839481">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839484">case</span>&nbsp;<span class="ident" id="2839489"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2839494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839498">tt</span>&nbsp;<span class="op" id="2839501">:=</span>&nbsp;<span class="op" id="2839504">(</span><span class="op" id="2839505">*</span><span class="ident" id="2839506"><a href="/reflect/type.go.html#2832784">arrayType</a></span><span class="op" id="2839515">)</span><span class="op" id="2839516">(</span><span class="ident" id="2839517"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839523">.</span><span class="ident" id="2839524">Pointer</span><span class="op" id="2839531">(</span><span class="ident" id="2839532"><a href="/reflect/type.go.html#2839440">t</a></span><span class="op" id="2839533">)</span><span class="op" id="2839534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839538">return</span>&nbsp;<span class="ident" id="2839545"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2839551">(</span><span class="ident" id="2839552"><a href="/reflect/type.go.html#2839498">tt</a></span><span class="op" id="2839554">.</span><span class="ident" id="2839555">elem</span><span class="op" id="2839559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839562">case</span>&nbsp;<span class="ident" id="2839567"><a href="/reflect/type.go.html#2830169">Chan</a></span><span class="op" id="2839571">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839575">tt</span>&nbsp;<span class="op" id="2839578">:=</span>&nbsp;<span class="op" id="2839581">(</span><span class="op" id="2839582">*</span><span class="ident" id="2839583"><a href="/reflect/type.go.html#2832954">chanType</a></span><span class="op" id="2839591">)</span><span class="op" id="2839592">(</span><span class="ident" id="2839593"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839599">.</span><span class="ident" id="2839600">Pointer</span><span class="op" id="2839607">(</span><span class="ident" id="2839608"><a href="/reflect/type.go.html#2839440">t</a></span><span class="op" id="2839609">)</span><span class="op" id="2839610">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839614">return</span>&nbsp;<span class="ident" id="2839621"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2839627">(</span><span class="ident" id="2839628"><a href="/reflect/type.go.html#2839575">tt</a></span><span class="op" id="2839630">.</span><span class="ident" id="2839631">elem</span><span class="op" id="2839635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839638">case</span>&nbsp;<span class="ident" id="2839643"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2839646">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839650">tt</span>&nbsp;<span class="op" id="2839653">:=</span>&nbsp;<span class="op" id="2839656">(</span><span class="op" id="2839657">*</span><span class="ident" id="2839658"><a href="/reflect/type.go.html#2833727">mapType</a></span><span class="op" id="2839665">)</span><span class="op" id="2839666">(</span><span class="ident" id="2839667"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839673">.</span><span class="ident" id="2839674">Pointer</span><span class="op" id="2839681">(</span><span class="ident" id="2839682"><a href="/reflect/type.go.html#2839440">t</a></span><span class="op" id="2839683">)</span><span class="op" id="2839684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839688">return</span>&nbsp;<span class="ident" id="2839695"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2839701">(</span><span class="ident" id="2839702"><a href="/reflect/type.go.html#2839650">tt</a></span><span class="op" id="2839704">.</span><span class="ident" id="2839705">elem</span><span class="op" id="2839709">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839712">case</span>&nbsp;<span class="ident" id="2839717"><a href="/reflect/type.go.html#2830197">Ptr</a></span><span class="op" id="2839720">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839724">tt</span>&nbsp;<span class="op" id="2839727">:=</span>&nbsp;<span class="op" id="2839730">(</span><span class="op" id="2839731">*</span><span class="ident" id="2839732"><a href="/reflect/type.go.html#2834263">ptrType</a></span><span class="op" id="2839739">)</span><span class="op" id="2839740">(</span><span class="ident" id="2839741"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839747">.</span><span class="ident" id="2839748">Pointer</span><span class="op" id="2839755">(</span><span class="ident" id="2839756"><a href="/reflect/type.go.html#2839440">t</a></span><span class="op" id="2839757">)</span><span class="op" id="2839758">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839762">return</span>&nbsp;<span class="ident" id="2839769"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2839775">(</span><span class="ident" id="2839776"><a href="/reflect/type.go.html#2839724">tt</a></span><span class="op" id="2839778">.</span><span class="ident" id="2839779">elem</span><span class="op" id="2839783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839786">case</span>&nbsp;<span class="ident" id="2839791"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2839796">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839800">tt</span>&nbsp;<span class="op" id="2839803">:=</span>&nbsp;<span class="op" id="2839806">(</span><span class="op" id="2839807">*</span><span class="ident" id="2839808"><a href="/reflect/type.go.html#2834400">sliceType</a></span><span class="op" id="2839817">)</span><span class="op" id="2839818">(</span><span class="ident" id="2839819"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2839825">.</span><span class="ident" id="2839826">Pointer</span><span class="op" id="2839833">(</span><span class="ident" id="2839834"><a href="/reflect/type.go.html#2839440">t</a></span><span class="op" id="2839835">)</span><span class="op" id="2839836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839840">return</span>&nbsp;<span class="ident" id="2839847"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2839853">(</span><span class="ident" id="2839854"><a href="/reflect/type.go.html#2839800">tt</a></span><span class="op" id="2839856">.</span><span class="ident" id="2839857">elem</span><span class="op" id="2839861">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839864">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2839867">panic</span><span class="op" id="2839872">(</span><span class="string" id="2839873">&#34;reflect:&nbsp;Elem&nbsp;of&nbsp;invalid&nbsp;type&#34;</span><span class="op" id="2839904">)</span><br>
<span class="lineno"></span><span class="op" id="2839906">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2839909">func</span>&nbsp;<span class="op" id="2839914">(</span><span class="ident" id="2839915">t</span>&nbsp;<span class="op" id="2839917">*</span><span class="ident" id="2839918"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2839923">)</span>&nbsp;<span class="ident" id="2839925">Field</span><span class="op" id="2839930">(</span><span class="ident" id="2839931">i</span>&nbsp;<span class="builtintype" id="2839933">int</span><span class="op" id="2839936">)</span>&nbsp;<span class="ident" id="2839938"><a href="/reflect/type.go.html#2842889">StructField</a></span>&nbsp;<span class="op" id="2839950">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839953">if</span>&nbsp;<span class="ident" id="2839956"><a href="/reflect/type.go.html#2839915">t</a></span><span class="op" id="2839957">.</span><span class="ident" id="2839958">Kind</span><span class="op" id="2839962">(</span><span class="op" id="2839963">)</span>&nbsp;<span class="op" id="2839965">!=</span>&nbsp;<span class="ident" id="2839968"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2839975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2839979">panic</span><span class="op" id="2839984">(</span><span class="string" id="2839985">&#34;reflect:&nbsp;Field&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2840020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840026">tt</span>&nbsp;<span class="op" id="2840029">:=</span>&nbsp;<span class="op" id="2840032">(</span><span class="op" id="2840033">*</span><span class="ident" id="2840034"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2840044">)</span><span class="op" id="2840045">(</span><span class="ident" id="2840046"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2840052">.</span><span class="ident" id="2840053">Pointer</span><span class="op" id="2840060">(</span><span class="ident" id="2840061"><a href="/reflect/type.go.html#2839915">t</a></span><span class="op" id="2840062">)</span><span class="op" id="2840063">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840066">return</span>&nbsp;<span class="ident" id="2840073"><a href="/reflect/type.go.html#2840026">tt</a></span><span class="op" id="2840075">.</span><span class="ident" id="2840076">Field</span><span class="op" id="2840081">(</span><span class="ident" id="2840082"><a href="/reflect/type.go.html#2839931">i</a></span><span class="op" id="2840083">)</span><br>
<span class="lineno">605</span><span class="op" id="2840085">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2840088">func</span>&nbsp;<span class="op" id="2840093">(</span><span class="ident" id="2840094">t</span>&nbsp;<span class="op" id="2840096">*</span><span class="ident" id="2840097"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2840102">)</span>&nbsp;<span class="ident" id="2840104">FieldByIndex</span><span class="op" id="2840116">(</span><span class="ident" id="2840117">index</span>&nbsp;<span class="op" id="2840123">[</span><span class="op" id="2840124">]</span><span class="builtintype" id="2840125">int</span><span class="op" id="2840128">)</span>&nbsp;<span class="ident" id="2840130"><a href="/reflect/type.go.html#2842889">StructField</a></span>&nbsp;<span class="op" id="2840142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840145">if</span>&nbsp;<span class="ident" id="2840148"><a href="/reflect/type.go.html#2840094">t</a></span><span class="op" id="2840149">.</span><span class="ident" id="2840150">Kind</span><span class="op" id="2840154">(</span><span class="op" id="2840155">)</span>&nbsp;<span class="op" id="2840157">!=</span>&nbsp;<span class="ident" id="2840160"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2840167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2840171">panic</span><span class="op" id="2840176">(</span><span class="string" id="2840177">&#34;reflect:&nbsp;FieldByIndex&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2840219">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840222">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840225">tt</span>&nbsp;<span class="op" id="2840228">:=</span>&nbsp;<span class="op" id="2840231">(</span><span class="op" id="2840232">*</span><span class="ident" id="2840233"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2840243">)</span><span class="op" id="2840244">(</span><span class="ident" id="2840245"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2840251">.</span><span class="ident" id="2840252">Pointer</span><span class="op" id="2840259">(</span><span class="ident" id="2840260"><a href="/reflect/type.go.html#2840094">t</a></span><span class="op" id="2840261">)</span><span class="op" id="2840262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840265">return</span>&nbsp;<span class="ident" id="2840272"><a href="/reflect/type.go.html#2840225">tt</a></span><span class="op" id="2840274">.</span><span class="ident" id="2840275">FieldByIndex</span><span class="op" id="2840287">(</span><span class="ident" id="2840288"><a href="/reflect/type.go.html#2840117">index</a></span><span class="op" id="2840293">)</span><br>
<span class="lineno"></span><span class="op" id="2840295">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span><span class="keyword" id="2840298">func</span>&nbsp;<span class="op" id="2840303">(</span><span class="ident" id="2840304">t</span>&nbsp;<span class="op" id="2840306">*</span><span class="ident" id="2840307"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2840312">)</span>&nbsp;<span class="ident" id="2840314">FieldByName</span><span class="op" id="2840325">(</span><span class="ident" id="2840326">name</span>&nbsp;<span class="builtintype" id="2840331">string</span><span class="op" id="2840337">)</span>&nbsp;<span class="op" id="2840339">(</span><span class="ident" id="2840340"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2840351">,</span>&nbsp;<span class="builtintype" id="2840353">bool</span><span class="op" id="2840357">)</span>&nbsp;<span class="op" id="2840359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840362">if</span>&nbsp;<span class="ident" id="2840365"><a href="/reflect/type.go.html#2840304">t</a></span><span class="op" id="2840366">.</span><span class="ident" id="2840367">Kind</span><span class="op" id="2840371">(</span><span class="op" id="2840372">)</span>&nbsp;<span class="op" id="2840374">!=</span>&nbsp;<span class="ident" id="2840377"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2840384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2840388">panic</span><span class="op" id="2840393">(</span><span class="string" id="2840394">&#34;reflect:&nbsp;FieldByName&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2840435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840438">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840441">tt</span>&nbsp;<span class="op" id="2840444">:=</span>&nbsp;<span class="op" id="2840447">(</span><span class="op" id="2840448">*</span><span class="ident" id="2840449"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2840459">)</span><span class="op" id="2840460">(</span><span class="ident" id="2840461"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2840467">.</span><span class="ident" id="2840468">Pointer</span><span class="op" id="2840475">(</span><span class="ident" id="2840476"><a href="/reflect/type.go.html#2840304">t</a></span><span class="op" id="2840477">)</span><span class="op" id="2840478">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840481">return</span>&nbsp;<span class="ident" id="2840488"><a href="/reflect/type.go.html#2840441">tt</a></span><span class="op" id="2840490">.</span><span class="ident" id="2840491">FieldByName</span><span class="op" id="2840502">(</span><span class="ident" id="2840503"><a href="/reflect/type.go.html#2840326">name</a></span><span class="op" id="2840507">)</span><br>
<span class="lineno"></span><span class="op" id="2840509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2840512">func</span>&nbsp;<span class="op" id="2840517">(</span><span class="ident" id="2840518">t</span>&nbsp;<span class="op" id="2840520">*</span><span class="ident" id="2840521"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2840526">)</span>&nbsp;<span class="ident" id="2840528">FieldByNameFunc</span><span class="op" id="2840543">(</span><span class="ident" id="2840544">match</span>&nbsp;<span class="keyword" id="2840550">func</span><span class="op" id="2840554">(</span><span class="builtintype" id="2840555">string</span><span class="op" id="2840561">)</span>&nbsp;<span class="builtintype" id="2840563">bool</span><span class="op" id="2840567">)</span>&nbsp;<span class="op" id="2840569">(</span><span class="ident" id="2840570"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2840581">,</span>&nbsp;<span class="builtintype" id="2840583">bool</span><span class="op" id="2840587">)</span>&nbsp;<span class="op" id="2840589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840592">if</span>&nbsp;<span class="ident" id="2840595"><a href="/reflect/type.go.html#2840518">t</a></span><span class="op" id="2840596">.</span><span class="ident" id="2840597">Kind</span><span class="op" id="2840601">(</span><span class="op" id="2840602">)</span>&nbsp;<span class="op" id="2840604">!=</span>&nbsp;<span class="ident" id="2840607"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2840614">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2840618">panic</span><span class="op" id="2840623">(</span><span class="string" id="2840624">&#34;reflect:&nbsp;FieldByNameFunc&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2840669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840675">tt</span>&nbsp;<span class="op" id="2840678">:=</span>&nbsp;<span class="op" id="2840681">(</span><span class="op" id="2840682">*</span><span class="ident" id="2840683"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2840693">)</span><span class="op" id="2840694">(</span><span class="ident" id="2840695"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2840701">.</span><span class="ident" id="2840702">Pointer</span><span class="op" id="2840709">(</span><span class="ident" id="2840710"><a href="/reflect/type.go.html#2840518">t</a></span><span class="op" id="2840711">)</span><span class="op" id="2840712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840715">return</span>&nbsp;<span class="ident" id="2840722"><a href="/reflect/type.go.html#2840675">tt</a></span><span class="op" id="2840724">.</span><span class="ident" id="2840725">FieldByNameFunc</span><span class="op" id="2840740">(</span><span class="ident" id="2840741"><a href="/reflect/type.go.html#2840544">match</a></span><span class="op" id="2840746">)</span><br>
<span class="lineno"></span><span class="op" id="2840748">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="2840751">func</span>&nbsp;<span class="op" id="2840756">(</span><span class="ident" id="2840757">t</span>&nbsp;<span class="op" id="2840759">*</span><span class="ident" id="2840760"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2840765">)</span>&nbsp;<span class="ident" id="2840767">In</span><span class="op" id="2840769">(</span><span class="ident" id="2840770">i</span>&nbsp;<span class="builtintype" id="2840772">int</span><span class="op" id="2840775">)</span>&nbsp;<span class="ident" id="2840777"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2840782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840785">if</span>&nbsp;<span class="ident" id="2840788"><a href="/reflect/type.go.html#2840757">t</a></span><span class="op" id="2840789">.</span><span class="ident" id="2840790">Kind</span><span class="op" id="2840794">(</span><span class="op" id="2840795">)</span>&nbsp;<span class="op" id="2840797">!=</span>&nbsp;<span class="ident" id="2840800"><a href="/reflect/type.go.html#2830175">Func</a></span>&nbsp;<span class="op" id="2840805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2840809">panic</span><span class="op" id="2840814">(</span><span class="string" id="2840815">&#34;reflect:&nbsp;In&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2840845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840848">}</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840851">tt</span>&nbsp;<span class="op" id="2840854">:=</span>&nbsp;<span class="op" id="2840857">(</span><span class="op" id="2840858">*</span><span class="ident" id="2840859"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2840867">)</span><span class="op" id="2840868">(</span><span class="ident" id="2840869"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2840875">.</span><span class="ident" id="2840876">Pointer</span><span class="op" id="2840883">(</span><span class="ident" id="2840884"><a href="/reflect/type.go.html#2840757">t</a></span><span class="op" id="2840885">)</span><span class="op" id="2840886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840889">return</span>&nbsp;<span class="ident" id="2840896"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2840902">(</span><span class="ident" id="2840903"><a href="/reflect/type.go.html#2840851">tt</a></span><span class="op" id="2840905">.</span><span class="ident" id="2840906">in</span><span class="op" id="2840908">[</span><span class="ident" id="2840909"><a href="/reflect/type.go.html#2840770">i</a></span><span class="op" id="2840910">]</span><span class="op" id="2840911">)</span><br>
<span class="lineno"></span><span class="op" id="2840913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2840916">func</span>&nbsp;<span class="op" id="2840921">(</span><span class="ident" id="2840922">t</span>&nbsp;<span class="op" id="2840924">*</span><span class="ident" id="2840925"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2840930">)</span>&nbsp;<span class="ident" id="2840932">Key</span><span class="op" id="2840935">(</span><span class="op" id="2840936">)</span>&nbsp;<span class="ident" id="2840938"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2840943">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840946">if</span>&nbsp;<span class="ident" id="2840949"><a href="/reflect/type.go.html#2840922">t</a></span><span class="op" id="2840950">.</span><span class="ident" id="2840951">Kind</span><span class="op" id="2840955">(</span><span class="op" id="2840956">)</span>&nbsp;<span class="op" id="2840958">!=</span>&nbsp;<span class="ident" id="2840961"><a href="/reflect/type.go.html#2830192">Map</a></span>&nbsp;<span class="op" id="2840965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2840969">panic</span><span class="op" id="2840974">(</span><span class="string" id="2840975">&#34;reflect:&nbsp;Key&nbsp;of&nbsp;non-map&nbsp;type&#34;</span><span class="op" id="2841005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841008">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841011">tt</span>&nbsp;<span class="op" id="2841014">:=</span>&nbsp;<span class="op" id="2841017">(</span><span class="op" id="2841018">*</span><span class="ident" id="2841019"><a href="/reflect/type.go.html#2833727">mapType</a></span><span class="op" id="2841026">)</span><span class="op" id="2841027">(</span><span class="ident" id="2841028"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2841034">.</span><span class="ident" id="2841035">Pointer</span><span class="op" id="2841042">(</span><span class="ident" id="2841043"><a href="/reflect/type.go.html#2840922">t</a></span><span class="op" id="2841044">)</span><span class="op" id="2841045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841048">return</span>&nbsp;<span class="ident" id="2841055"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2841061">(</span><span class="ident" id="2841062"><a href="/reflect/type.go.html#2841011">tt</a></span><span class="op" id="2841064">.</span><span class="ident" id="2841065">key</span><span class="op" id="2841068">)</span><br>
<span class="lineno">645</span><span class="op" id="2841070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2841073">func</span>&nbsp;<span class="op" id="2841078">(</span><span class="ident" id="2841079">t</span>&nbsp;<span class="op" id="2841081">*</span><span class="ident" id="2841082"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2841087">)</span>&nbsp;<span class="ident" id="2841089">Len</span><span class="op" id="2841092">(</span><span class="op" id="2841093">)</span>&nbsp;<span class="builtintype" id="2841095">int</span>&nbsp;<span class="op" id="2841099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841102">if</span>&nbsp;<span class="ident" id="2841105"><a href="/reflect/type.go.html#2841079">t</a></span><span class="op" id="2841106">.</span><span class="ident" id="2841107">Kind</span><span class="op" id="2841111">(</span><span class="op" id="2841112">)</span>&nbsp;<span class="op" id="2841114">!=</span>&nbsp;<span class="ident" id="2841117"><a href="/reflect/type.go.html#2830162">Array</a></span>&nbsp;<span class="op" id="2841123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2841127">panic</span><span class="op" id="2841132">(</span><span class="string" id="2841133">&#34;reflect:&nbsp;Len&nbsp;of&nbsp;non-array&nbsp;type&#34;</span><span class="op" id="2841165">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841171">tt</span>&nbsp;<span class="op" id="2841174">:=</span>&nbsp;<span class="op" id="2841177">(</span><span class="op" id="2841178">*</span><span class="ident" id="2841179"><a href="/reflect/type.go.html#2832784">arrayType</a></span><span class="op" id="2841188">)</span><span class="op" id="2841189">(</span><span class="ident" id="2841190"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2841196">.</span><span class="ident" id="2841197">Pointer</span><span class="op" id="2841204">(</span><span class="ident" id="2841205"><a href="/reflect/type.go.html#2841079">t</a></span><span class="op" id="2841206">)</span><span class="op" id="2841207">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841210">return</span>&nbsp;<span class="builtintype" id="2841217">int</span><span class="op" id="2841220">(</span><span class="ident" id="2841221"><a href="/reflect/type.go.html#2841171">tt</a></span><span class="op" id="2841223">.</span><span class="builtinfunc" id="2841224">len</span><span class="op" id="2841227">)</span><br>
<span class="lineno"></span><span class="op" id="2841229">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="2841232">func</span>&nbsp;<span class="op" id="2841237">(</span><span class="ident" id="2841238">t</span>&nbsp;<span class="op" id="2841240">*</span><span class="ident" id="2841241"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2841246">)</span>&nbsp;<span class="ident" id="2841248">NumField</span><span class="op" id="2841256">(</span><span class="op" id="2841257">)</span>&nbsp;<span class="builtintype" id="2841259">int</span>&nbsp;<span class="op" id="2841263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841266">if</span>&nbsp;<span class="ident" id="2841269"><a href="/reflect/type.go.html#2841238">t</a></span><span class="op" id="2841270">.</span><span class="ident" id="2841271">Kind</span><span class="op" id="2841275">(</span><span class="op" id="2841276">)</span>&nbsp;<span class="op" id="2841278">!=</span>&nbsp;<span class="ident" id="2841281"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2841288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2841292">panic</span><span class="op" id="2841297">(</span><span class="string" id="2841298">&#34;reflect:&nbsp;NumField&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2841336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841342">tt</span>&nbsp;<span class="op" id="2841345">:=</span>&nbsp;<span class="op" id="2841348">(</span><span class="op" id="2841349">*</span><span class="ident" id="2841350"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2841360">)</span><span class="op" id="2841361">(</span><span class="ident" id="2841362"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2841368">.</span><span class="ident" id="2841369">Pointer</span><span class="op" id="2841376">(</span><span class="ident" id="2841377"><a href="/reflect/type.go.html#2841238">t</a></span><span class="op" id="2841378">)</span><span class="op" id="2841379">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841382">return</span>&nbsp;<span class="builtinfunc" id="2841389">len</span><span class="op" id="2841392">(</span><span class="ident" id="2841393"><a href="/reflect/type.go.html#2841342">tt</a></span><span class="op" id="2841395">.</span><span class="ident" id="2841396">fields</span><span class="op" id="2841402">)</span><br>
<span class="lineno"></span><span class="op" id="2841404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2841407">func</span>&nbsp;<span class="op" id="2841412">(</span><span class="ident" id="2841413">t</span>&nbsp;<span class="op" id="2841415">*</span><span class="ident" id="2841416"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2841421">)</span>&nbsp;<span class="ident" id="2841423">NumIn</span><span class="op" id="2841428">(</span><span class="op" id="2841429">)</span>&nbsp;<span class="builtintype" id="2841431">int</span>&nbsp;<span class="op" id="2841435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841438">if</span>&nbsp;<span class="ident" id="2841441"><a href="/reflect/type.go.html#2841413">t</a></span><span class="op" id="2841442">.</span><span class="ident" id="2841443">Kind</span><span class="op" id="2841447">(</span><span class="op" id="2841448">)</span>&nbsp;<span class="op" id="2841450">!=</span>&nbsp;<span class="ident" id="2841453"><a href="/reflect/type.go.html#2830175">Func</a></span>&nbsp;<span class="op" id="2841458">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2841462">panic</span><span class="op" id="2841467">(</span><span class="string" id="2841468">&#34;reflect:&nbsp;NumIn&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2841501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841507">tt</span>&nbsp;<span class="op" id="2841510">:=</span>&nbsp;<span class="op" id="2841513">(</span><span class="op" id="2841514">*</span><span class="ident" id="2841515"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2841523">)</span><span class="op" id="2841524">(</span><span class="ident" id="2841525"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2841531">.</span><span class="ident" id="2841532">Pointer</span><span class="op" id="2841539">(</span><span class="ident" id="2841540"><a href="/reflect/type.go.html#2841413">t</a></span><span class="op" id="2841541">)</span><span class="op" id="2841542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841545">return</span>&nbsp;<span class="builtinfunc" id="2841552">len</span><span class="op" id="2841555">(</span><span class="ident" id="2841556"><a href="/reflect/type.go.html#2841507">tt</a></span><span class="op" id="2841558">.</span><span class="ident" id="2841559">in</span><span class="op" id="2841561">)</span><br>
<span class="lineno"></span><span class="op" id="2841563">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="2841566">func</span>&nbsp;<span class="op" id="2841571">(</span><span class="ident" id="2841572">t</span>&nbsp;<span class="op" id="2841574">*</span><span class="ident" id="2841575"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2841580">)</span>&nbsp;<span class="ident" id="2841582">NumOut</span><span class="op" id="2841588">(</span><span class="op" id="2841589">)</span>&nbsp;<span class="builtintype" id="2841591">int</span>&nbsp;<span class="op" id="2841595">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841598">if</span>&nbsp;<span class="ident" id="2841601"><a href="/reflect/type.go.html#2841572">t</a></span><span class="op" id="2841602">.</span><span class="ident" id="2841603">Kind</span><span class="op" id="2841607">(</span><span class="op" id="2841608">)</span>&nbsp;<span class="op" id="2841610">!=</span>&nbsp;<span class="ident" id="2841613"><a href="/reflect/type.go.html#2830175">Func</a></span>&nbsp;<span class="op" id="2841618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2841622">panic</span><span class="op" id="2841627">(</span><span class="string" id="2841628">&#34;reflect:&nbsp;NumOut&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2841662">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841665">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841668">tt</span>&nbsp;<span class="op" id="2841671">:=</span>&nbsp;<span class="op" id="2841674">(</span><span class="op" id="2841675">*</span><span class="ident" id="2841676"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2841684">)</span><span class="op" id="2841685">(</span><span class="ident" id="2841686"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2841692">.</span><span class="ident" id="2841693">Pointer</span><span class="op" id="2841700">(</span><span class="ident" id="2841701"><a href="/reflect/type.go.html#2841572">t</a></span><span class="op" id="2841702">)</span><span class="op" id="2841703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841706">return</span>&nbsp;<span class="builtinfunc" id="2841713">len</span><span class="op" id="2841716">(</span><span class="ident" id="2841717"><a href="/reflect/type.go.html#2841668">tt</a></span><span class="op" id="2841719">.</span><span class="ident" id="2841720">out</span><span class="op" id="2841723">)</span><br>
<span class="lineno"></span><span class="op" id="2841725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2841728">func</span>&nbsp;<span class="op" id="2841733">(</span><span class="ident" id="2841734">t</span>&nbsp;<span class="op" id="2841736">*</span><span class="ident" id="2841737"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2841742">)</span>&nbsp;<span class="ident" id="2841744">Out</span><span class="op" id="2841747">(</span><span class="ident" id="2841748">i</span>&nbsp;<span class="builtintype" id="2841750">int</span><span class="op" id="2841753">)</span>&nbsp;<span class="ident" id="2841755"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2841760">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841763">if</span>&nbsp;<span class="ident" id="2841766"><a href="/reflect/type.go.html#2841734">t</a></span><span class="op" id="2841767">.</span><span class="ident" id="2841768">Kind</span><span class="op" id="2841772">(</span><span class="op" id="2841773">)</span>&nbsp;<span class="op" id="2841775">!=</span>&nbsp;<span class="ident" id="2841778"><a href="/reflect/type.go.html#2830175">Func</a></span>&nbsp;<span class="op" id="2841783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2841787">panic</span><span class="op" id="2841792">(</span><span class="string" id="2841793">&#34;reflect:&nbsp;Out&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2841824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841830">tt</span>&nbsp;<span class="op" id="2841833">:=</span>&nbsp;<span class="op" id="2841836">(</span><span class="op" id="2841837">*</span><span class="ident" id="2841838"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2841846">)</span><span class="op" id="2841847">(</span><span class="ident" id="2841848"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2841854">.</span><span class="ident" id="2841855">Pointer</span><span class="op" id="2841862">(</span><span class="ident" id="2841863"><a href="/reflect/type.go.html#2841734">t</a></span><span class="op" id="2841864">)</span><span class="op" id="2841865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841868">return</span>&nbsp;<span class="ident" id="2841875"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2841881">(</span><span class="ident" id="2841882"><a href="/reflect/type.go.html#2841830">tt</a></span><span class="op" id="2841884">.</span><span class="ident" id="2841885">out</span><span class="op" id="2841888">[</span><span class="ident" id="2841889"><a href="/reflect/type.go.html#2841748">i</a></span><span class="op" id="2841890">]</span><span class="op" id="2841891">)</span><br>
<span class="lineno">685</span><span class="op" id="2841893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2841896">func</span>&nbsp;<span class="op" id="2841901">(</span><span class="ident" id="2841902">d</span>&nbsp;<span class="ident" id="2841904"><a href="/reflect/type.go.html#2832560">ChanDir</a></span><span class="op" id="2841911">)</span>&nbsp;<span class="ident" id="2841913">String</span><span class="op" id="2841919">(</span><span class="op" id="2841920">)</span>&nbsp;<span class="builtintype" id="2841922">string</span>&nbsp;<span class="op" id="2841929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841932">switch</span>&nbsp;<span class="ident" id="2841939"><a href="/reflect/type.go.html#2841902">d</a></span>&nbsp;<span class="op" id="2841941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841944">case</span>&nbsp;<span class="ident" id="2841949"><a href="/reflect/type.go.html#2832633">SendDir</a></span><span class="op" id="2841956">:</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841960">return</span>&nbsp;<span class="string" id="2841967">&#34;chan&lt;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841977">case</span>&nbsp;<span class="ident" id="2841982"><a href="/reflect/type.go.html#2832582">RecvDir</a></span><span class="op" id="2841989">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841993">return</span>&nbsp;<span class="string" id="2842000">&#34;&lt;-chan&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842010">case</span>&nbsp;<span class="ident" id="2842015"><a href="/reflect/type.go.html#2832684">BothDir</a></span><span class="op" id="2842022">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842026">return</span>&nbsp;<span class="string" id="2842033">&#34;chan&#34;</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842044">return</span>&nbsp;<span class="string" id="2842051">&#34;ChanDir&#34;</span>&nbsp;<span class="op" id="2842061">+</span>&nbsp;<span class="ident" id="2842063"><a href="/reflect/type.go.html#2823229">strconv</a></span><span class="op" id="2842070">.</span><span class="ident" id="2842071">Itoa</span><span class="op" id="2842075">(</span><span class="builtintype" id="2842076">int</span><span class="op" id="2842079">(</span><span class="ident" id="2842080"><a href="/reflect/type.go.html#2841902">d</a></span><span class="op" id="2842081">)</span><span class="op" id="2842082">)</span><br>
<span class="lineno"></span><span class="op" id="2842084">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2842087">//&nbsp;Method&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;method&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">700</span><span class="keyword" id="2842147">func</span>&nbsp;<span class="op" id="2842152">(</span><span class="ident" id="2842153">t</span>&nbsp;<span class="op" id="2842155">*</span><span class="ident" id="2842156"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2842169">)</span>&nbsp;<span class="ident" id="2842171">Method</span><span class="op" id="2842177">(</span><span class="ident" id="2842178">i</span>&nbsp;<span class="builtintype" id="2842180">int</span><span class="op" id="2842183">)</span>&nbsp;<span class="op" id="2842185">(</span><span class="ident" id="2842186">m</span>&nbsp;<span class="ident" id="2842188"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2842194">)</span>&nbsp;<span class="op" id="2842196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842199">if</span>&nbsp;<span class="ident" id="2842202"><a href="/reflect/type.go.html#2842178">i</a></span>&nbsp;<span class="op" id="2842204">&lt;</span>&nbsp;<span class="num" id="2842206">0</span>&nbsp;<span class="op" id="2842208">||</span>&nbsp;<span class="ident" id="2842211"><a href="/reflect/type.go.html#2842178">i</a></span>&nbsp;<span class="op" id="2842213">&gt;=</span>&nbsp;<span class="builtinfunc" id="2842216">len</span><span class="op" id="2842219">(</span><span class="ident" id="2842220"><a href="/reflect/type.go.html#2842153">t</a></span><span class="op" id="2842221">.</span><span class="ident" id="2842222">methods</span><span class="op" id="2842229">)</span>&nbsp;<span class="op" id="2842231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842235">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842246">p</span>&nbsp;<span class="op" id="2842248">:=</span>&nbsp;<span class="op" id="2842251">&amp;</span><span class="ident" id="2842252"><a href="/reflect/type.go.html#2842153">t</a></span><span class="op" id="2842253">.</span><span class="ident" id="2842254">methods</span><span class="op" id="2842261">[</span><span class="ident" id="2842262"><a href="/reflect/type.go.html#2842178">i</a></span><span class="op" id="2842263">]</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842266"><a href="/reflect/type.go.html#2842186">m</a></span><span class="op" id="2842267">.</span><span class="ident" id="2842268">Name</span>&nbsp;<span class="op" id="2842273">=</span>&nbsp;<span class="op" id="2842275">*</span><span class="ident" id="2842276"><a href="/reflect/type.go.html#2842246">p</a></span><span class="op" id="2842277">.</span><span class="ident" id="2842278">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842284">if</span>&nbsp;<span class="ident" id="2842287"><a href="/reflect/type.go.html#2842246">p</a></span><span class="op" id="2842288">.</span><span class="ident" id="2842289">pkgPath</span>&nbsp;<span class="op" id="2842297">!=</span>&nbsp;<span class="ident" id="2842300">nil</span>&nbsp;<span class="op" id="2842304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842308"><a href="/reflect/type.go.html#2842186">m</a></span><span class="op" id="2842309">.</span><span class="ident" id="2842310">PkgPath</span>&nbsp;<span class="op" id="2842318">=</span>&nbsp;<span class="op" id="2842320">*</span><span class="ident" id="2842321"><a href="/reflect/type.go.html#2842246">p</a></span><span class="op" id="2842322">.</span><span class="ident" id="2842323">pkgPath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842335"><a href="/reflect/type.go.html#2842186">m</a></span><span class="op" id="2842336">.</span><span class="ident" id="2842337">Type</span>&nbsp;<span class="op" id="2842342">=</span>&nbsp;<span class="ident" id="2842344"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2842350">(</span><span class="ident" id="2842351"><a href="/reflect/type.go.html#2842246">p</a></span><span class="op" id="2842352">.</span><span class="ident" id="2842353">typ</span><span class="op" id="2842356">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842359"><a href="/reflect/type.go.html#2842186">m</a></span><span class="op" id="2842360">.</span><span class="ident" id="2842361">Index</span>&nbsp;<span class="op" id="2842367">=</span>&nbsp;<span class="ident" id="2842369"><a href="/reflect/type.go.html#2842178">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842372">return</span><br>
<span class="lineno"></span><span class="op" id="2842379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2842382">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;interface&nbsp;methods&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">715</span><span class="keyword" id="2842461">func</span>&nbsp;<span class="op" id="2842466">(</span><span class="ident" id="2842467">t</span>&nbsp;<span class="op" id="2842469">*</span><span class="ident" id="2842470"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2842483">)</span>&nbsp;<span class="ident" id="2842485">NumMethod</span><span class="op" id="2842494">(</span><span class="op" id="2842495">)</span>&nbsp;<span class="builtintype" id="2842497">int</span>&nbsp;<span class="op" id="2842501">{</span>&nbsp;<span class="keyword" id="2842503">return</span>&nbsp;<span class="builtinfunc" id="2842510">len</span><span class="op" id="2842513">(</span><span class="ident" id="2842514"><a href="/reflect/type.go.html#2842467">t</a></span><span class="op" id="2842515">.</span><span class="ident" id="2842516">methods</span><span class="op" id="2842523">)</span>&nbsp;<span class="op" id="2842525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2842528">//&nbsp;MethodByName&nbsp;method&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2842597">func</span>&nbsp;<span class="op" id="2842602">(</span><span class="ident" id="2842603">t</span>&nbsp;<span class="op" id="2842605">*</span><span class="ident" id="2842606"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2842619">)</span>&nbsp;<span class="ident" id="2842621">MethodByName</span><span class="op" id="2842633">(</span><span class="ident" id="2842634">name</span>&nbsp;<span class="builtintype" id="2842639">string</span><span class="op" id="2842645">)</span>&nbsp;<span class="op" id="2842647">(</span><span class="ident" id="2842648">m</span>&nbsp;<span class="ident" id="2842650"><a href="/reflect/type.go.html#2835097">Method</a></span><span class="op" id="2842656">,</span>&nbsp;<span class="ident" id="2842658">ok</span>&nbsp;<span class="builtintype" id="2842661">bool</span><span class="op" id="2842665">)</span>&nbsp;<span class="op" id="2842667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842670">if</span>&nbsp;<span class="ident" id="2842673"><a href="/reflect/type.go.html#2842603">t</a></span>&nbsp;<span class="op" id="2842675">==</span>&nbsp;<span class="ident" id="2842678">nil</span>&nbsp;<span class="op" id="2842682">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842686">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842697">var</span>&nbsp;<span class="ident" id="2842701">p</span>&nbsp;<span class="op" id="2842703">*</span><span class="ident" id="2842704"><a href="/reflect/type.go.html#2833377">imethod</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842713">for</span>&nbsp;<span class="ident" id="2842717">i</span>&nbsp;<span class="op" id="2842719">:=</span>&nbsp;<span class="keyword" id="2842722">range</span>&nbsp;<span class="ident" id="2842728"><a href="/reflect/type.go.html#2842603">t</a></span><span class="op" id="2842729">.</span><span class="ident" id="2842730">methods</span>&nbsp;<span class="op" id="2842738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842742"><a href="/reflect/type.go.html#2842701">p</a></span>&nbsp;<span class="op" id="2842744">=</span>&nbsp;<span class="op" id="2842746">&amp;</span><span class="ident" id="2842747"><a href="/reflect/type.go.html#2842603">t</a></span><span class="op" id="2842748">.</span><span class="ident" id="2842749">methods</span><span class="op" id="2842756">[</span><span class="ident" id="2842757"><a href="/reflect/type.go.html#2842717">i</a></span><span class="op" id="2842758">]</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842762">if</span>&nbsp;<span class="op" id="2842765">*</span><span class="ident" id="2842766"><a href="/reflect/type.go.html#2842701">p</a></span><span class="op" id="2842767">.</span><span class="ident" id="2842768">name</span>&nbsp;<span class="op" id="2842773">==</span>&nbsp;<span class="ident" id="2842776"><a href="/reflect/type.go.html#2842634">name</a></span>&nbsp;<span class="op" id="2842781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842786">return</span>&nbsp;<span class="ident" id="2842793"><a href="/reflect/type.go.html#2842603">t</a></span><span class="op" id="2842794">.</span><span class="ident" id="2842795">Method</span><span class="op" id="2842801">(</span><span class="ident" id="2842802"><a href="/reflect/type.go.html#2842717">i</a></span><span class="op" id="2842803">)</span><span class="op" id="2842804">,</span>&nbsp;<span class="builtintype" id="2842806">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842819">return</span><br>
<span class="lineno">730</span><span class="op" id="2842826">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2842829">//&nbsp;A&nbsp;StructField&nbsp;describes&nbsp;a&nbsp;single&nbsp;field&nbsp;in&nbsp;a&nbsp;struct.</span><br>
<span class="lineno"></span><span class="keyword" id="2842884">type</span>&nbsp;<span class="ident" id="2842889">StructField</span>&nbsp;<span class="keyword" id="2842901">struct</span>&nbsp;<span class="op" id="2842908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2842911">//&nbsp;Name&nbsp;is&nbsp;the&nbsp;field&nbsp;name.</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2842939">//&nbsp;PkgPath&nbsp;is&nbsp;the&nbsp;package&nbsp;path&nbsp;that&nbsp;qualifies&nbsp;a&nbsp;lower&nbsp;case&nbsp;(unexported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2843012">//&nbsp;field&nbsp;name.&nbsp;&nbsp;It&nbsp;is&nbsp;empty&nbsp;for&nbsp;upper&nbsp;case&nbsp;(exported)&nbsp;field&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2843080">//&nbsp;See&nbsp;http://golang.org/ref/spec#Uniqueness_of_identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843141">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2843149">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843157">PkgPath</span>&nbsp;<span class="builtintype" id="2843165">string</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843174">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2843184"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2843194">//&nbsp;field&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843209">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2843219"><a href="/reflect/type.go.html#2843810">StructTag</a></span>&nbsp;<span class="comment" id="2843229">//&nbsp;field&nbsp;tag&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843250">Offset</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2843260">uintptr</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2843270">//&nbsp;offset&nbsp;within&nbsp;struct,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843305">Index</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2843315">[</span><span class="op" id="2843316">]</span><span class="builtintype" id="2843317">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2843325">//&nbsp;index&nbsp;sequence&nbsp;for&nbsp;Type.FieldByIndex</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2843366">Anonymous</span>&nbsp;<span class="builtintype" id="2843376">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2843386">//&nbsp;is&nbsp;an&nbsp;embedded&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="2843410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2843413">//&nbsp;A&nbsp;StructTag&nbsp;is&nbsp;the&nbsp;tag&nbsp;string&nbsp;in&nbsp;a&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="2843465">//</span><br>
<span class="lineno">750</span><span class="comment" id="2843468">//&nbsp;By&nbsp;convention,&nbsp;tag&nbsp;strings&nbsp;are&nbsp;a&nbsp;concatenation&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2843521">//&nbsp;optionally&nbsp;space-separated&nbsp;key:&#34;value&#34;&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="comment" id="2843570">//&nbsp;Each&nbsp;key&nbsp;is&nbsp;a&nbsp;non-empty&nbsp;string&nbsp;consisting&nbsp;of&nbsp;non-control</span><br>
<span class="lineno"></span><span class="comment" id="2843630">//&nbsp;characters&nbsp;other&nbsp;than&nbsp;space&nbsp;(U+0020&nbsp;&#39;&nbsp;&#39;),&nbsp;quote&nbsp;(U+0022&nbsp;&#39;&#34;&#39;),</span><br>
<span class="lineno"></span><span class="comment" id="2843695">//&nbsp;and&nbsp;colon&nbsp;(U+003A&nbsp;&#39;:&#39;).&nbsp;&nbsp;Each&nbsp;value&nbsp;is&nbsp;quoted&nbsp;using&nbsp;U+0022&nbsp;&#39;&#34;&#39;</span><br>
<span class="lineno">755</span><span class="comment" id="2843761">//&nbsp;characters&nbsp;and&nbsp;Go&nbsp;string&nbsp;literal&nbsp;syntax.</span><br>
<span class="lineno"></span><span class="keyword" id="2843805">type</span>&nbsp;<span class="ident" id="2843810">StructTag</span>&nbsp;<span class="builtintype" id="2843820">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2843828">//&nbsp;Get&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;key&nbsp;in&nbsp;the&nbsp;tag&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2843892">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;key&nbsp;in&nbsp;the&nbsp;tag,&nbsp;Get&nbsp;returns&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno">760</span><span class="comment" id="2843961">//&nbsp;If&nbsp;the&nbsp;tag&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;conventional&nbsp;format,&nbsp;the&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2844024">//&nbsp;returned&nbsp;by&nbsp;Get&nbsp;is&nbsp;unspecified.</span><br>
<span class="lineno"></span><span class="keyword" id="2844059">func</span>&nbsp;<span class="op" id="2844064">(</span><span class="ident" id="2844065">tag</span>&nbsp;<span class="ident" id="2844069"><a href="/reflect/type.go.html#2843810">StructTag</a></span><span class="op" id="2844078">)</span>&nbsp;<span class="ident" id="2844080">Get</span><span class="op" id="2844083">(</span><span class="ident" id="2844084">key</span>&nbsp;<span class="builtintype" id="2844088">string</span><span class="op" id="2844094">)</span>&nbsp;<span class="builtintype" id="2844096">string</span>&nbsp;<span class="op" id="2844103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844106">for</span>&nbsp;<span class="ident" id="2844110"><a href="/reflect/type.go.html#2844065">tag</a></span>&nbsp;<span class="op" id="2844114">!=</span>&nbsp;<span class="string" id="2844117">&#34;&#34;</span>&nbsp;<span class="op" id="2844120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2844124">//&nbsp;skip&nbsp;leading&nbsp;space</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844148">i</span>&nbsp;<span class="op" id="2844150">:=</span>&nbsp;<span class="num" id="2844153">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844157">for</span>&nbsp;<span class="ident" id="2844161"><a href="/reflect/type.go.html#2844148">i</a></span>&nbsp;<span class="op" id="2844163">&lt;</span>&nbsp;<span class="builtinfunc" id="2844165">len</span><span class="op" id="2844168">(</span><span class="ident" id="2844169"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844172">)</span>&nbsp;<span class="op" id="2844174">&amp;&amp;</span>&nbsp;<span class="ident" id="2844177"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844180">[</span><span class="ident" id="2844181"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844182">]</span>&nbsp;<span class="op" id="2844184">==</span>&nbsp;<span class="string" id="2844187">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="2844191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844196"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844197">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844202">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844206"><a href="/reflect/type.go.html#2844065">tag</a></span>&nbsp;<span class="op" id="2844210">=</span>&nbsp;<span class="ident" id="2844212"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844215">[</span><span class="ident" id="2844216"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844217">:</span><span class="op" id="2844218">]</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844222">if</span>&nbsp;<span class="ident" id="2844225"><a href="/reflect/type.go.html#2844065">tag</a></span>&nbsp;<span class="op" id="2844229">==</span>&nbsp;<span class="string" id="2844232">&#34;&#34;</span>&nbsp;<span class="op" id="2844235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844240">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844248">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2844253">//&nbsp;scan&nbsp;to&nbsp;colon.</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2844273">//&nbsp;a&nbsp;space&nbsp;or&nbsp;a&nbsp;quote&nbsp;is&nbsp;a&nbsp;syntax&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844315"><a href="/reflect/type.go.html#2844148">i</a></span>&nbsp;<span class="op" id="2844317">=</span>&nbsp;<span class="num" id="2844319">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844323">for</span>&nbsp;<span class="ident" id="2844327"><a href="/reflect/type.go.html#2844148">i</a></span>&nbsp;<span class="op" id="2844329">&lt;</span>&nbsp;<span class="builtinfunc" id="2844331">len</span><span class="op" id="2844334">(</span><span class="ident" id="2844335"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844338">)</span>&nbsp;<span class="op" id="2844340">&amp;&amp;</span>&nbsp;<span class="ident" id="2844343"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844346">[</span><span class="ident" id="2844347"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844348">]</span>&nbsp;<span class="op" id="2844350">!=</span>&nbsp;<span class="string" id="2844353">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="2844357">&amp;&amp;</span>&nbsp;<span class="ident" id="2844360"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844363">[</span><span class="ident" id="2844364"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844365">]</span>&nbsp;<span class="op" id="2844367">!=</span>&nbsp;<span class="string" id="2844370">&#39;:&#39;</span>&nbsp;<span class="op" id="2844374">&amp;&amp;</span>&nbsp;<span class="ident" id="2844377"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844380">[</span><span class="ident" id="2844381"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844382">]</span>&nbsp;<span class="op" id="2844384">!=</span>&nbsp;<span class="string" id="2844387">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2844391">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844396"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844397">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844402">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844406">if</span>&nbsp;<span class="ident" id="2844409"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844410">+</span><span class="num" id="2844411">1</span>&nbsp;<span class="op" id="2844413">&gt;=</span>&nbsp;<span class="builtinfunc" id="2844416">len</span><span class="op" id="2844419">(</span><span class="ident" id="2844420"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844423">)</span>&nbsp;<span class="op" id="2844425">||</span>&nbsp;<span class="ident" id="2844428"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844431">[</span><span class="ident" id="2844432"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844433">]</span>&nbsp;<span class="op" id="2844435">!=</span>&nbsp;<span class="string" id="2844438">&#39;:&#39;</span>&nbsp;<span class="op" id="2844442">||</span>&nbsp;<span class="ident" id="2844445"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844448">[</span><span class="ident" id="2844449"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844450">+</span><span class="num" id="2844451">1</span><span class="op" id="2844452">]</span>&nbsp;<span class="op" id="2844454">!=</span>&nbsp;<span class="string" id="2844457">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2844461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844466">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844474">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844478">name</span>&nbsp;<span class="op" id="2844483">:=</span>&nbsp;<span class="builtintype" id="2844486">string</span><span class="op" id="2844492">(</span><span class="ident" id="2844493"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844496">[</span><span class="op" id="2844497">:</span><span class="ident" id="2844498"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844499">]</span><span class="op" id="2844500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844504"><a href="/reflect/type.go.html#2844065">tag</a></span>&nbsp;<span class="op" id="2844508">=</span>&nbsp;<span class="ident" id="2844510"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844513">[</span><span class="ident" id="2844514"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844515">+</span><span class="num" id="2844516">1</span><span class="op" id="2844517">:</span><span class="op" id="2844518">]</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2844523">//&nbsp;scan&nbsp;quoted&nbsp;string&nbsp;to&nbsp;find&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844561"><a href="/reflect/type.go.html#2844148">i</a></span>&nbsp;<span class="op" id="2844563">=</span>&nbsp;<span class="num" id="2844565">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844569">for</span>&nbsp;<span class="ident" id="2844573"><a href="/reflect/type.go.html#2844148">i</a></span>&nbsp;<span class="op" id="2844575">&lt;</span>&nbsp;<span class="builtinfunc" id="2844577">len</span><span class="op" id="2844580">(</span><span class="ident" id="2844581"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844584">)</span>&nbsp;<span class="op" id="2844586">&amp;&amp;</span>&nbsp;<span class="ident" id="2844589"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844592">[</span><span class="ident" id="2844593"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844594">]</span>&nbsp;<span class="op" id="2844596">!=</span>&nbsp;<span class="string" id="2844599">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2844603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844608">if</span>&nbsp;<span class="ident" id="2844611"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844614">[</span><span class="ident" id="2844615"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844616">]</span>&nbsp;<span class="op" id="2844618">==</span>&nbsp;<span class="string" id="2844621">&#39;\\&#39;</span>&nbsp;<span class="op" id="2844626">{</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844632"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844633">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844644"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844645">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844650">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844654">if</span>&nbsp;<span class="ident" id="2844657"><a href="/reflect/type.go.html#2844148">i</a></span>&nbsp;<span class="op" id="2844659">&gt;=</span>&nbsp;<span class="builtinfunc" id="2844662">len</span><span class="op" id="2844665">(</span><span class="ident" id="2844666"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844669">)</span>&nbsp;<span class="op" id="2844671">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844676">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844688">qvalue</span>&nbsp;<span class="op" id="2844695">:=</span>&nbsp;<span class="builtintype" id="2844698">string</span><span class="op" id="2844704">(</span><span class="ident" id="2844705"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844708">[</span><span class="op" id="2844709">:</span><span class="ident" id="2844710"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844711">+</span><span class="num" id="2844712">1</span><span class="op" id="2844713">]</span><span class="op" id="2844714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844718"><a href="/reflect/type.go.html#2844065">tag</a></span>&nbsp;<span class="op" id="2844722">=</span>&nbsp;<span class="ident" id="2844724"><a href="/reflect/type.go.html#2844065">tag</a></span><span class="op" id="2844727">[</span><span class="ident" id="2844728"><a href="/reflect/type.go.html#2844148">i</a></span><span class="op" id="2844729">+</span><span class="num" id="2844730">1</span><span class="op" id="2844731">:</span><span class="op" id="2844732">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844737">if</span>&nbsp;<span class="ident" id="2844740"><a href="/reflect/type.go.html#2844084">key</a></span>&nbsp;<span class="op" id="2844744">==</span>&nbsp;<span class="ident" id="2844747"><a href="/reflect/type.go.html#2844478">name</a></span>&nbsp;<span class="op" id="2844752">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844757">value</span><span class="op" id="2844762">,</span>&nbsp;<span class="ident" id="2844764">_</span>&nbsp;<span class="op" id="2844766">:=</span>&nbsp;<span class="ident" id="2844769"><a href="/reflect/type.go.html#2823229">strconv</a></span><span class="op" id="2844776">.</span><span class="ident" id="2844777">Unquote</span><span class="op" id="2844784">(</span><span class="ident" id="2844785"><a href="/reflect/type.go.html#2844688">qvalue</a></span><span class="op" id="2844791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844796">return</span>&nbsp;<span class="ident" id="2844803"><a href="/reflect/type.go.html#2844757">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844814">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844817">return</span>&nbsp;<span class="string" id="2844824">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="2844827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2844830">//&nbsp;Field&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="2844870">func</span>&nbsp;<span class="op" id="2844875">(</span><span class="ident" id="2844876">t</span>&nbsp;<span class="op" id="2844878">*</span><span class="ident" id="2844879"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2844889">)</span>&nbsp;<span class="ident" id="2844891">Field</span><span class="op" id="2844896">(</span><span class="ident" id="2844897">i</span>&nbsp;<span class="builtintype" id="2844899">int</span><span class="op" id="2844902">)</span>&nbsp;<span class="op" id="2844904">(</span><span class="ident" id="2844905">f</span>&nbsp;<span class="ident" id="2844907"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2844918">)</span>&nbsp;<span class="op" id="2844920">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844923">if</span>&nbsp;<span class="ident" id="2844926"><a href="/reflect/type.go.html#2844897">i</a></span>&nbsp;<span class="op" id="2844928">&lt;</span>&nbsp;<span class="num" id="2844930">0</span>&nbsp;<span class="op" id="2844932">||</span>&nbsp;<span class="ident" id="2844935"><a href="/reflect/type.go.html#2844897">i</a></span>&nbsp;<span class="op" id="2844937">&gt;=</span>&nbsp;<span class="builtinfunc" id="2844940">len</span><span class="op" id="2844943">(</span><span class="ident" id="2844944"><a href="/reflect/type.go.html#2844876">t</a></span><span class="op" id="2844945">.</span><span class="ident" id="2844946">fields</span><span class="op" id="2844952">)</span>&nbsp;<span class="op" id="2844954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2844958">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2844966">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844969">p</span>&nbsp;<span class="op" id="2844971">:=</span>&nbsp;<span class="op" id="2844974">&amp;</span><span class="ident" id="2844975"><a href="/reflect/type.go.html#2844876">t</a></span><span class="op" id="2844976">.</span><span class="ident" id="2844977">fields</span><span class="op" id="2844983">[</span><span class="ident" id="2844984"><a href="/reflect/type.go.html#2844897">i</a></span><span class="op" id="2844985">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2844988"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2844989">.</span><span class="ident" id="2844990">Type</span>&nbsp;<span class="op" id="2844995">=</span>&nbsp;<span class="ident" id="2844997"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2845003">(</span><span class="ident" id="2845004"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845005">.</span><span class="ident" id="2845006">typ</span><span class="op" id="2845009">)</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2845012">if</span>&nbsp;<span class="ident" id="2845015"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845016">.</span><span class="ident" id="2845017">name</span>&nbsp;<span class="op" id="2845022">!=</span>&nbsp;<span class="ident" id="2845025">nil</span>&nbsp;<span class="op" id="2845029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845033"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845034">.</span><span class="ident" id="2845035">Name</span>&nbsp;<span class="op" id="2845040">=</span>&nbsp;<span class="op" id="2845042">*</span><span class="ident" id="2845043"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845044">.</span><span class="ident" id="2845045">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2845051">}</span>&nbsp;<span class="keyword" id="2845053">else</span>&nbsp;<span class="op" id="2845058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845062">t</span>&nbsp;<span class="op" id="2845064">:=</span>&nbsp;<span class="ident" id="2845067"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845068">.</span><span class="ident" id="2845069">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2845076">if</span>&nbsp;<span class="ident" id="2845079"><a href="/reflect/type.go.html#2845062">t</a></span><span class="op" id="2845080">.</span><span class="ident" id="2845081">Kind</span><span class="op" id="2845085">(</span><span class="op" id="2845086">)</span>&nbsp;<span class="op" id="2845088">==</span>&nbsp;<span class="ident" id="2845091"><a href="/reflect/type.go.html#2830197">Ptr</a></span>&nbsp;<span class="op" id="2845095">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845100"><a href="/reflect/type.go.html#2845062">t</a></span>&nbsp;<span class="op" id="2845102">=</span>&nbsp;<span class="ident" id="2845104"><a href="/reflect/type.go.html#2845062">t</a></span><span class="op" id="2845105">.</span><span class="ident" id="2845106">Elem</span><span class="op" id="2845110">(</span><span class="op" id="2845111">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2845115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845119"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845120">.</span><span class="ident" id="2845121">Name</span>&nbsp;<span class="op" id="2845126">=</span>&nbsp;<span class="ident" id="2845128"><a href="/reflect/type.go.html#2845062">t</a></span><span class="op" id="2845129">.</span><span class="ident" id="2845130">Name</span><span class="op" id="2845134">(</span><span class="op" id="2845135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845139"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845140">.</span><span class="ident" id="2845141">Anonymous</span>&nbsp;<span class="op" id="2845151">=</span>&nbsp;<span class="builtintype" id="2845153">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2845159">}</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2845162">if</span>&nbsp;<span class="ident" id="2845165"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845166">.</span><span class="ident" id="2845167">pkgPath</span>&nbsp;<span class="op" id="2845175">!=</span>&nbsp;<span class="ident" id="2845178">nil</span>&nbsp;<span class="op" id="2845182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845186"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845187">.</span><span class="ident" id="2845188">PkgPath</span>&nbsp;<span class="op" id="2845196">=</span>&nbsp;<span class="op" id="2845198">*</span><span class="ident" id="2845199"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845200">.</span><span class="ident" id="2845201">pkgPath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2845210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2845213">if</span>&nbsp;<span class="ident" id="2845216"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845217">.</span><span class="ident" id="2845218">tag</span>&nbsp;<span class="op" id="2845222">!=</span>&nbsp;<span class="ident" id="2845225">nil</span>&nbsp;<span class="op" id="2845229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845233"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845234">.</span><span class="ident" id="2845235">Tag</span>&nbsp;<span class="op" id="2845239">=</span>&nbsp;<span class="ident" id="2845241"><a href="/reflect/type.go.html#2843810">StructTag</a></span><span class="op" id="2845250">(</span><span class="op" id="2845251">*</span><span class="ident" id="2845252"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845253">.</span><span class="ident" id="2845254">tag</span><span class="op" id="2845257">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2845260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845263"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845264">.</span><span class="ident" id="2845265">Offset</span>&nbsp;<span class="op" id="2845272">=</span>&nbsp;<span class="ident" id="2845274"><a href="/reflect/type.go.html#2844969">p</a></span><span class="op" id="2845275">.</span><span class="ident" id="2845276">offset</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845285">//&nbsp;NOTE(rsc):&nbsp;This&nbsp;is&nbsp;the&nbsp;only&nbsp;allocation&nbsp;in&nbsp;the&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845345">//&nbsp;presented&nbsp;by&nbsp;a&nbsp;reflect.Type.&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;avoid,</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845406">//&nbsp;at&nbsp;least&nbsp;in&nbsp;the&nbsp;common&nbsp;cases,&nbsp;but&nbsp;we&nbsp;need&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845465">//&nbsp;that&nbsp;misbehaving&nbsp;clients&nbsp;of&nbsp;reflect&nbsp;cannot&nbsp;affect&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845525">//&nbsp;uses&nbsp;of&nbsp;reflect.&nbsp;&nbsp;One&nbsp;possibility&nbsp;is&nbsp;CL&nbsp;5371098,&nbsp;but&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845585">//&nbsp;postponed&nbsp;that&nbsp;ugliness&nbsp;until&nbsp;there&nbsp;is&nbsp;a&nbsp;demonstrated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2845643">//&nbsp;need&nbsp;for&nbsp;the&nbsp;performance.&nbsp;&nbsp;This&nbsp;is&nbsp;issue&nbsp;2320.</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845694"><a href="/reflect/type.go.html#2844905">f</a></span><span class="op" id="2845695">.</span><span class="ident" id="2845696">Index</span>&nbsp;<span class="op" id="2845702">=</span>&nbsp;<span class="op" id="2845704">[</span><span class="op" id="2845705">]</span><span class="builtintype" id="2845706">int</span><span class="op" id="2845709">{</span><span class="ident" id="2845710"><a href="/reflect/type.go.html#2844897">i</a></span><span class="op" id="2845711">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2845714">return</span><br>
<span class="lineno"></span><span class="op" id="2845721">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2845724">//&nbsp;TODO(gri):&nbsp;Should&nbsp;there&nbsp;be&nbsp;an&nbsp;error/bool&nbsp;indicator&nbsp;if&nbsp;the&nbsp;index</span><br>
<span class="lineno">845</span><span class="comment" id="2845791">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;wrong&nbsp;for&nbsp;FieldByIndex?</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2845833">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding&nbsp;to&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="2845898">func</span>&nbsp;<span class="op" id="2845903">(</span><span class="ident" id="2845904">t</span>&nbsp;<span class="op" id="2845906">*</span><span class="ident" id="2845907"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2845917">)</span>&nbsp;<span class="ident" id="2845919">FieldByIndex</span><span class="op" id="2845931">(</span><span class="ident" id="2845932">index</span>&nbsp;<span class="op" id="2845938">[</span><span class="op" id="2845939">]</span><span class="builtintype" id="2845940">int</span><span class="op" id="2845943">)</span>&nbsp;<span class="op" id="2845945">(</span><span class="ident" id="2845946">f</span>&nbsp;<span class="ident" id="2845948"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2845959">)</span>&nbsp;<span class="op" id="2845961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2845964"><a href="/reflect/type.go.html#2845946">f</a></span><span class="op" id="2845965">.</span><span class="ident" id="2845966">Type</span>&nbsp;<span class="op" id="2845971">=</span>&nbsp;<span class="ident" id="2845973"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2845979">(</span><span class="op" id="2845980">&amp;</span><span class="ident" id="2845981"><a href="/reflect/type.go.html#2845904">t</a></span><span class="op" id="2845982">.</span><span class="ident" id="2845983">rtype</span><span class="op" id="2845988">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2845991">for</span>&nbsp;<span class="ident" id="2845995">i</span><span class="op" id="2845996">,</span>&nbsp;<span class="ident" id="2845998">x</span>&nbsp;<span class="op" id="2846000">:=</span>&nbsp;<span class="keyword" id="2846003">range</span>&nbsp;<span class="ident" id="2846009"><a href="/reflect/type.go.html#2845932">index</a></span>&nbsp;<span class="op" id="2846015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2846019">if</span>&nbsp;<span class="ident" id="2846022"><a href="/reflect/type.go.html#2845995">i</a></span>&nbsp;<span class="op" id="2846024">&gt;</span>&nbsp;<span class="num" id="2846026">0</span>&nbsp;<span class="op" id="2846028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2846033">ft</span>&nbsp;<span class="op" id="2846036">:=</span>&nbsp;<span class="ident" id="2846039"><a href="/reflect/type.go.html#2845946">f</a></span><span class="op" id="2846040">.</span><span class="ident" id="2846041">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2846049">if</span>&nbsp;<span class="ident" id="2846052"><a href="/reflect/type.go.html#2846033">ft</a></span><span class="op" id="2846054">.</span><span class="ident" id="2846055">Kind</span><span class="op" id="2846059">(</span><span class="op" id="2846060">)</span>&nbsp;<span class="op" id="2846062">==</span>&nbsp;<span class="ident" id="2846065"><a href="/reflect/type.go.html#2830197">Ptr</a></span>&nbsp;<span class="op" id="2846069">&amp;&amp;</span>&nbsp;<span class="ident" id="2846072"><a href="/reflect/type.go.html#2846033">ft</a></span><span class="op" id="2846074">.</span><span class="ident" id="2846075">Elem</span><span class="op" id="2846079">(</span><span class="op" id="2846080">)</span><span class="op" id="2846081">.</span><span class="ident" id="2846082">Kind</span><span class="op" id="2846086">(</span><span class="op" id="2846087">)</span>&nbsp;<span class="op" id="2846089">==</span>&nbsp;<span class="ident" id="2846092"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2846099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2846105"><a href="/reflect/type.go.html#2846033">ft</a></span>&nbsp;<span class="op" id="2846108">=</span>&nbsp;<span class="ident" id="2846110"><a href="/reflect/type.go.html#2846033">ft</a></span><span class="op" id="2846112">.</span><span class="ident" id="2846113">Elem</span><span class="op" id="2846117">(</span><span class="op" id="2846118">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2846123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2846128"><a href="/reflect/type.go.html#2845946">f</a></span><span class="op" id="2846129">.</span><span class="ident" id="2846130">Type</span>&nbsp;<span class="op" id="2846135">=</span>&nbsp;<span class="ident" id="2846137"><a href="/reflect/type.go.html#2846033">ft</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2846142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2846146"><a href="/reflect/type.go.html#2845946">f</a></span>&nbsp;<span class="op" id="2846148">=</span>&nbsp;<span class="ident" id="2846150"><a href="/reflect/type.go.html#2845946">f</a></span><span class="op" id="2846151">.</span><span class="ident" id="2846152">Type</span><span class="op" id="2846156">.</span><span class="ident" id="2846157">Field</span><span class="op" id="2846162">(</span><span class="ident" id="2846163"><a href="/reflect/type.go.html#2845998">x</a></span><span class="op" id="2846164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2846167">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2846170">return</span><br>
<span class="lineno"></span><span class="op" id="2846177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2846180">//&nbsp;A&nbsp;fieldScan&nbsp;represents&nbsp;an&nbsp;item&nbsp;on&nbsp;the&nbsp;fieldByNameFunc&nbsp;scan&nbsp;work&nbsp;list.</span><br>
<span class="lineno"></span><span class="keyword" id="2846253">type</span>&nbsp;<span class="ident" id="2846258">fieldScan</span>&nbsp;<span class="keyword" id="2846268">struct</span>&nbsp;<span class="op" id="2846275">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2846278">typ</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2846284">*</span><span class="ident" id="2846285"><a href="/reflect/type.go.html#2834806">structType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2846297">index</span>&nbsp;<span class="op" id="2846303">[</span><span class="op" id="2846304">]</span><span class="builtintype" id="2846305">int</span><br>
<span class="lineno"></span><span class="op" id="2846309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2846312">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name&nbsp;that&nbsp;satisfies&nbsp;the</span><br>
<span class="lineno">870</span><span class="comment" id="2846387">//&nbsp;match&nbsp;function&nbsp;and&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="2846455">func</span>&nbsp;<span class="op" id="2846460">(</span><span class="ident" id="2846461">t</span>&nbsp;<span class="op" id="2846463">*</span><span class="ident" id="2846464"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2846474">)</span>&nbsp;<span class="ident" id="2846476">FieldByNameFunc</span><span class="op" id="2846491">(</span><span class="ident" id="2846492">match</span>&nbsp;<span class="keyword" id="2846498">func</span><span class="op" id="2846502">(</span><span class="builtintype" id="2846503">string</span><span class="op" id="2846509">)</span>&nbsp;<span class="builtintype" id="2846511">bool</span><span class="op" id="2846515">)</span>&nbsp;<span class="op" id="2846517">(</span><span class="ident" id="2846518">result</span>&nbsp;<span class="ident" id="2846525"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2846536">,</span>&nbsp;<span class="ident" id="2846538">ok</span>&nbsp;<span class="builtintype" id="2846541">bool</span><span class="op" id="2846545">)</span>&nbsp;<span class="op" id="2846547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2846550">//&nbsp;This&nbsp;uses&nbsp;the&nbsp;same&nbsp;condition&nbsp;that&nbsp;the&nbsp;Go&nbsp;language&nbsp;does:&nbsp;there&nbsp;must&nbsp;be&nbsp;a&nbsp;unique&nbsp;instance</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2846642">//&nbsp;of&nbsp;the&nbsp;match&nbsp;at&nbsp;a&nbsp;given&nbsp;depth&nbsp;level.&nbsp;If&nbsp;there&nbsp;are&nbsp;multiple&nbsp;instances&nbsp;of&nbsp;a&nbsp;match&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2846733">//&nbsp;same&nbsp;depth,&nbsp;they&nbsp;annihilate&nbsp;each&nbsp;other&nbsp;and&nbsp;inhibit&nbsp;any&nbsp;possible&nbsp;match&nbsp;at&nbsp;a&nbsp;lower&nbsp;level.</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2846825">//&nbsp;The&nbsp;algorithm&nbsp;is&nbsp;breadth&nbsp;first&nbsp;search,&nbsp;one&nbsp;depth&nbsp;level&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2846896">//&nbsp;The&nbsp;current&nbsp;and&nbsp;next&nbsp;slices&nbsp;are&nbsp;work&nbsp;queues:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2846945">//&nbsp;current&nbsp;lists&nbsp;the&nbsp;fields&nbsp;to&nbsp;visit&nbsp;on&nbsp;this&nbsp;depth&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847004">//&nbsp;and&nbsp;next&nbsp;lists&nbsp;the&nbsp;fields&nbsp;on&nbsp;the&nbsp;next&nbsp;lower&nbsp;level.</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2847059">current</span>&nbsp;<span class="op" id="2847067">:=</span>&nbsp;<span class="op" id="2847070">[</span><span class="op" id="2847071">]</span><span class="ident" id="2847072"><a href="/reflect/type.go.html#2846258">fieldScan</a></span><span class="op" id="2847081">{</span><span class="op" id="2847082">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2847085">next</span>&nbsp;<span class="op" id="2847090">:=</span>&nbsp;<span class="op" id="2847093">[</span><span class="op" id="2847094">]</span><span class="ident" id="2847095"><a href="/reflect/type.go.html#2846258">fieldScan</a></span><span class="op" id="2847104">{</span><span class="op" id="2847105">{</span><span class="ident" id="2847106">typ</span><span class="op" id="2847109">:</span>&nbsp;<span class="ident" id="2847111"><a href="/reflect/type.go.html#2846461">t</a></span><span class="op" id="2847112">}</span><span class="op" id="2847113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847117">//&nbsp;nextCount&nbsp;records&nbsp;the&nbsp;number&nbsp;of&nbsp;times&nbsp;an&nbsp;embedded&nbsp;type&nbsp;has&nbsp;been</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847185">//&nbsp;encountered&nbsp;and&nbsp;considered&nbsp;for&nbsp;queueing&nbsp;in&nbsp;the&nbsp;&#39;next&#39;&nbsp;slice.</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847250">//&nbsp;We&nbsp;only&nbsp;queue&nbsp;the&nbsp;first&nbsp;one,&nbsp;but&nbsp;we&nbsp;increment&nbsp;the&nbsp;count&nbsp;on&nbsp;each.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847319">//&nbsp;If&nbsp;a&nbsp;struct&nbsp;type&nbsp;T&nbsp;can&nbsp;be&nbsp;reached&nbsp;more&nbsp;than&nbsp;once&nbsp;at&nbsp;a&nbsp;given&nbsp;depth&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847396">//&nbsp;then&nbsp;it&nbsp;annihilates&nbsp;itself&nbsp;and&nbsp;need&nbsp;not&nbsp;be&nbsp;considered&nbsp;at&nbsp;all&nbsp;when&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847469">//&nbsp;process&nbsp;that&nbsp;next&nbsp;depth&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2847504">var</span>&nbsp;<span class="ident" id="2847508">nextCount</span>&nbsp;<span class="keyword" id="2847518">map</span><span class="op" id="2847521">[</span><span class="op" id="2847522">*</span><span class="ident" id="2847523"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2847533">]</span><span class="builtintype" id="2847534">int</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847540">//&nbsp;visited&nbsp;records&nbsp;the&nbsp;structs&nbsp;that&nbsp;have&nbsp;been&nbsp;considered&nbsp;already.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847607">//&nbsp;Embedded&nbsp;pointer&nbsp;fields&nbsp;can&nbsp;create&nbsp;cycles&nbsp;in&nbsp;the&nbsp;graph&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847669">//&nbsp;reachable&nbsp;embedded&nbsp;types;&nbsp;visited&nbsp;avoids&nbsp;following&nbsp;those&nbsp;cycles.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847738">//&nbsp;It&nbsp;also&nbsp;avoids&nbsp;duplicated&nbsp;effort:&nbsp;if&nbsp;we&nbsp;didn&#39;t&nbsp;find&nbsp;the&nbsp;field&nbsp;in&nbsp;an</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2847810">//&nbsp;embedded&nbsp;type&nbsp;T&nbsp;at&nbsp;level&nbsp;2,&nbsp;we&nbsp;won&#39;t&nbsp;find&nbsp;it&nbsp;in&nbsp;one&nbsp;at&nbsp;level&nbsp;4&nbsp;either.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2847885">visited</span>&nbsp;<span class="op" id="2847893">:=</span>&nbsp;<span class="keyword" id="2847896">map</span><span class="op" id="2847899">[</span><span class="op" id="2847900">*</span><span class="ident" id="2847901"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2847911">]</span><span class="builtintype" id="2847912">bool</span><span class="op" id="2847916">{</span><span class="op" id="2847917">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2847921">for</span>&nbsp;<span class="builtinfunc" id="2847925">len</span><span class="op" id="2847928">(</span><span class="ident" id="2847929"><a href="/reflect/type.go.html#2847085">next</a></span><span class="op" id="2847933">)</span>&nbsp;<span class="op" id="2847935">&gt;</span>&nbsp;<span class="num" id="2847937">0</span>&nbsp;<span class="op" id="2847939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2847943"><a href="/reflect/type.go.html#2847059">current</a></span><span class="op" id="2847950">,</span>&nbsp;<span class="ident" id="2847952"><a href="/reflect/type.go.html#2847085">next</a></span>&nbsp;<span class="op" id="2847957">=</span>&nbsp;<span class="ident" id="2847959"><a href="/reflect/type.go.html#2847085">next</a></span><span class="op" id="2847963">,</span>&nbsp;<span class="ident" id="2847965"><a href="/reflect/type.go.html#2847059">current</a></span><span class="op" id="2847972">[</span><span class="op" id="2847973">:</span><span class="num" id="2847974">0</span><span class="op" id="2847975">]</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2847979">count</span>&nbsp;<span class="op" id="2847985">:=</span>&nbsp;<span class="ident" id="2847988"><a href="/reflect/type.go.html#2847508">nextCount</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848000"><a href="/reflect/type.go.html#2847508">nextCount</a></span>&nbsp;<span class="op" id="2848010">=</span>&nbsp;<span class="ident" id="2848012">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848019">//&nbsp;Process&nbsp;all&nbsp;the&nbsp;fields&nbsp;at&nbsp;this&nbsp;depth,&nbsp;now&nbsp;listed&nbsp;in&nbsp;&#39;current&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848087">//&nbsp;The&nbsp;loop&nbsp;queues&nbsp;embedded&nbsp;fields&nbsp;found&nbsp;in&nbsp;&#39;next&#39;,&nbsp;for&nbsp;processing&nbsp;during&nbsp;the&nbsp;next</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848172">//&nbsp;iteration.&nbsp;The&nbsp;multiplicity&nbsp;of&nbsp;the&nbsp;&#39;current&#39;&nbsp;field&nbsp;counts&nbsp;is&nbsp;recorded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848247">//&nbsp;in&nbsp;&#39;count&#39;;&nbsp;the&nbsp;multiplicity&nbsp;of&nbsp;the&nbsp;&#39;next&#39;&nbsp;field&nbsp;counts&nbsp;is&nbsp;recorded&nbsp;in&nbsp;&#39;nextCount&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848336">for</span>&nbsp;<span class="ident" id="2848340">_</span><span class="op" id="2848341">,</span>&nbsp;<span class="ident" id="2848343">scan</span>&nbsp;<span class="op" id="2848348">:=</span>&nbsp;<span class="keyword" id="2848351">range</span>&nbsp;<span class="ident" id="2848357"><a href="/reflect/type.go.html#2847059">current</a></span>&nbsp;<span class="op" id="2848365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848370">t</span>&nbsp;<span class="op" id="2848372">:=</span>&nbsp;<span class="ident" id="2848375"><a href="/reflect/type.go.html#2848343">scan</a></span><span class="op" id="2848379">.</span><span class="ident" id="2848380">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848387">if</span>&nbsp;<span class="ident" id="2848390"><a href="/reflect/type.go.html#2847885">visited</a></span><span class="op" id="2848397">[</span><span class="ident" id="2848398"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2848399">]</span>&nbsp;<span class="op" id="2848401">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848407">//&nbsp;We&#39;ve&nbsp;looked&nbsp;through&nbsp;this&nbsp;type&nbsp;before,&nbsp;at&nbsp;a&nbsp;higher&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848472">//&nbsp;That&nbsp;higher&nbsp;level&nbsp;would&nbsp;shadow&nbsp;the&nbsp;lower&nbsp;level&nbsp;we&#39;re&nbsp;now&nbsp;at,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848540">//&nbsp;so&nbsp;this&nbsp;one&nbsp;can&#39;t&nbsp;be&nbsp;useful&nbsp;to&nbsp;us.&nbsp;Ignore&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848593">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2848605">}</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848610"><a href="/reflect/type.go.html#2847885">visited</a></span><span class="op" id="2848617">[</span><span class="ident" id="2848618"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2848619">]</span>&nbsp;<span class="op" id="2848621">=</span>&nbsp;<span class="builtintype" id="2848623">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848631">for</span>&nbsp;<span class="ident" id="2848635">i</span>&nbsp;<span class="op" id="2848637">:=</span>&nbsp;<span class="keyword" id="2848640">range</span>&nbsp;<span class="ident" id="2848646"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2848647">.</span><span class="ident" id="2848648">fields</span>&nbsp;<span class="op" id="2848655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848661">f</span>&nbsp;<span class="op" id="2848663">:=</span>&nbsp;<span class="op" id="2848666">&amp;</span><span class="ident" id="2848667"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2848668">.</span><span class="ident" id="2848669">fields</span><span class="op" id="2848675">[</span><span class="ident" id="2848676"><a href="/reflect/type.go.html#2848635">i</a></span><span class="op" id="2848677">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848683">//&nbsp;Find&nbsp;name&nbsp;and&nbsp;type&nbsp;for&nbsp;field&nbsp;f.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848722">var</span>&nbsp;<span class="ident" id="2848726">fname</span>&nbsp;<span class="builtintype" id="2848732">string</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848743">var</span>&nbsp;<span class="ident" id="2848747">ntyp</span>&nbsp;<span class="op" id="2848752">*</span><span class="ident" id="2848753"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848763">if</span>&nbsp;<span class="ident" id="2848766"><a href="/reflect/type.go.html#2848661">f</a></span><span class="op" id="2848767">.</span><span class="ident" id="2848768">name</span>&nbsp;<span class="op" id="2848773">!=</span>&nbsp;<span class="ident" id="2848776">nil</span>&nbsp;<span class="op" id="2848780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848787"><a href="/reflect/type.go.html#2848726">fname</a></span>&nbsp;<span class="op" id="2848793">=</span>&nbsp;<span class="op" id="2848795">*</span><span class="ident" id="2848796"><a href="/reflect/type.go.html#2848661">f</a></span><span class="op" id="2848797">.</span><span class="ident" id="2848798">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2848807">}</span>&nbsp;<span class="keyword" id="2848809">else</span>&nbsp;<span class="op" id="2848814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848821">//&nbsp;Anonymous&nbsp;field&nbsp;of&nbsp;type&nbsp;T&nbsp;or&nbsp;*T.</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2848862">//&nbsp;Name&nbsp;taken&nbsp;from&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848892"><a href="/reflect/type.go.html#2848747">ntyp</a></span>&nbsp;<span class="op" id="2848897">=</span>&nbsp;<span class="ident" id="2848899"><a href="/reflect/type.go.html#2848661">f</a></span><span class="op" id="2848900">.</span><span class="ident" id="2848901">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2848910">if</span>&nbsp;<span class="ident" id="2848913"><a href="/reflect/type.go.html#2848747">ntyp</a></span><span class="op" id="2848917">.</span><span class="ident" id="2848918">Kind</span><span class="op" id="2848922">(</span><span class="op" id="2848923">)</span>&nbsp;<span class="op" id="2848925">==</span>&nbsp;<span class="ident" id="2848928"><a href="/reflect/type.go.html#2830197">Ptr</a></span>&nbsp;<span class="op" id="2848932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848940"><a href="/reflect/type.go.html#2848747">ntyp</a></span>&nbsp;<span class="op" id="2848945">=</span>&nbsp;<span class="ident" id="2848947"><a href="/reflect/type.go.html#2848747">ntyp</a></span><span class="op" id="2848951">.</span><span class="ident" id="2848952">Elem</span><span class="op" id="2848956">(</span><span class="op" id="2848957">)</span><span class="op" id="2848958">.</span><span class="ident" id="2848959">common</span><span class="op" id="2848965">(</span><span class="op" id="2848966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2848973">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2848980"><a href="/reflect/type.go.html#2848726">fname</a></span>&nbsp;<span class="op" id="2848986">=</span>&nbsp;<span class="ident" id="2848988"><a href="/reflect/type.go.html#2848747">ntyp</a></span><span class="op" id="2848992">.</span><span class="ident" id="2848993">Name</span><span class="op" id="2848997">(</span><span class="op" id="2848998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2849011">//&nbsp;Does&nbsp;it&nbsp;match?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849033">if</span>&nbsp;<span class="ident" id="2849036"><a href="/reflect/type.go.html#2846492">match</a></span><span class="op" id="2849041">(</span><span class="ident" id="2849042"><a href="/reflect/type.go.html#2848726">fname</a></span><span class="op" id="2849047">)</span>&nbsp;<span class="op" id="2849049">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2849056">//&nbsp;Potential&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849080">if</span>&nbsp;<span class="ident" id="2849083"><a href="/reflect/type.go.html#2847979">count</a></span><span class="op" id="2849088">[</span><span class="ident" id="2849089"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2849090">]</span>&nbsp;<span class="op" id="2849092">&gt;</span>&nbsp;<span class="num" id="2849094">1</span>&nbsp;<span class="op" id="2849096">||</span>&nbsp;<span class="ident" id="2849099"><a href="/reflect/type.go.html#2846538">ok</a></span>&nbsp;<span class="op" id="2849102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2849110">//&nbsp;Name&nbsp;appeared&nbsp;multiple&nbsp;times&nbsp;at&nbsp;this&nbsp;level:&nbsp;annihilate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849175">return</span>&nbsp;<span class="ident" id="2849182"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2849193">{</span><span class="op" id="2849194">}</span><span class="op" id="2849195">,</span>&nbsp;<span class="builtintype" id="2849197">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849208">}</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849215"><a href="/reflect/type.go.html#2846518">result</a></span>&nbsp;<span class="op" id="2849222">=</span>&nbsp;<span class="ident" id="2849224"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2849225">.</span><span class="ident" id="2849226">Field</span><span class="op" id="2849231">(</span><span class="ident" id="2849232"><a href="/reflect/type.go.html#2848635">i</a></span><span class="op" id="2849233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849240"><a href="/reflect/type.go.html#2846518">result</a></span><span class="op" id="2849246">.</span><span class="ident" id="2849247">Index</span>&nbsp;<span class="op" id="2849253">=</span>&nbsp;<span class="ident" id="2849255">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849264"><a href="/reflect/type.go.html#2846518">result</a></span><span class="op" id="2849270">.</span><span class="ident" id="2849271">Index</span>&nbsp;<span class="op" id="2849277">=</span>&nbsp;<span class="builtinfunc" id="2849279">append</span><span class="op" id="2849285">(</span><span class="ident" id="2849286"><a href="/reflect/type.go.html#2846518">result</a></span><span class="op" id="2849292">.</span><span class="ident" id="2849293">Index</span><span class="op" id="2849298">,</span>&nbsp;<span class="ident" id="2849300"><a href="/reflect/type.go.html#2848343">scan</a></span><span class="op" id="2849304">.</span><span class="ident" id="2849305">index</span><span class="op" id="2849310">...</span><span class="op" id="2849313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849320"><a href="/reflect/type.go.html#2846518">result</a></span><span class="op" id="2849326">.</span><span class="ident" id="2849327">Index</span>&nbsp;<span class="op" id="2849333">=</span>&nbsp;<span class="builtinfunc" id="2849335">append</span><span class="op" id="2849341">(</span><span class="ident" id="2849342"><a href="/reflect/type.go.html#2846518">result</a></span><span class="op" id="2849348">.</span><span class="ident" id="2849349">Index</span><span class="op" id="2849354">,</span>&nbsp;<span class="ident" id="2849356"><a href="/reflect/type.go.html#2848635">i</a></span><span class="op" id="2849357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849364"><a href="/reflect/type.go.html#2846538">ok</a></span>&nbsp;<span class="op" id="2849367">=</span>&nbsp;<span class="builtintype" id="2849369">true</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849379">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849392">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2849399">//&nbsp;Queue&nbsp;embedded&nbsp;struct&nbsp;fields&nbsp;for&nbsp;processing&nbsp;with&nbsp;next&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2849467">//&nbsp;but&nbsp;only&nbsp;if&nbsp;we&nbsp;haven&#39;t&nbsp;seen&nbsp;a&nbsp;match&nbsp;yet&nbsp;at&nbsp;this&nbsp;level&nbsp;and&nbsp;only</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2849537">//&nbsp;if&nbsp;the&nbsp;embedded&nbsp;types&nbsp;haven&#39;t&nbsp;already&nbsp;been&nbsp;queued.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849595">if</span>&nbsp;<span class="ident" id="2849598"><a href="/reflect/type.go.html#2846538">ok</a></span>&nbsp;<span class="op" id="2849601">||</span>&nbsp;<span class="ident" id="2849604"><a href="/reflect/type.go.html#2848747">ntyp</a></span>&nbsp;<span class="op" id="2849609">==</span>&nbsp;<span class="ident" id="2849612">nil</span>&nbsp;<span class="op" id="2849616">||</span>&nbsp;<span class="ident" id="2849619"><a href="/reflect/type.go.html#2848747">ntyp</a></span><span class="op" id="2849623">.</span><span class="ident" id="2849624">Kind</span><span class="op" id="2849628">(</span><span class="op" id="2849629">)</span>&nbsp;<span class="op" id="2849631">!=</span>&nbsp;<span class="ident" id="2849634"><a href="/reflect/type.go.html#2830217">Struct</a></span>&nbsp;<span class="op" id="2849641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849648">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849661">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849667">styp</span>&nbsp;<span class="op" id="2849672">:=</span>&nbsp;<span class="op" id="2849675">(</span><span class="op" id="2849676">*</span><span class="ident" id="2849677"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2849687">)</span><span class="op" id="2849688">(</span><span class="ident" id="2849689"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2849695">.</span><span class="ident" id="2849696">Pointer</span><span class="op" id="2849703">(</span><span class="ident" id="2849704"><a href="/reflect/type.go.html#2848747">ntyp</a></span><span class="op" id="2849708">)</span><span class="op" id="2849709">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849715">if</span>&nbsp;<span class="ident" id="2849718"><a href="/reflect/type.go.html#2847508">nextCount</a></span><span class="op" id="2849727">[</span><span class="ident" id="2849728"><a href="/reflect/type.go.html#2849667">styp</a></span><span class="op" id="2849732">]</span>&nbsp;<span class="op" id="2849734">&gt;</span>&nbsp;<span class="num" id="2849736">0</span>&nbsp;<span class="op" id="2849738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849745"><a href="/reflect/type.go.html#2847508">nextCount</a></span><span class="op" id="2849754">[</span><span class="ident" id="2849755"><a href="/reflect/type.go.html#2849667">styp</a></span><span class="op" id="2849759">]</span>&nbsp;<span class="op" id="2849761">=</span>&nbsp;<span class="num" id="2849763">2</span>&nbsp;<span class="comment" id="2849765">//&nbsp;exact&nbsp;multiple&nbsp;doesn&#39;t&nbsp;matter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849803">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849816">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849822">if</span>&nbsp;<span class="ident" id="2849825"><a href="/reflect/type.go.html#2847508">nextCount</a></span>&nbsp;<span class="op" id="2849835">==</span>&nbsp;<span class="ident" id="2849838">nil</span>&nbsp;<span class="op" id="2849842">{</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849849"><a href="/reflect/type.go.html#2847508">nextCount</a></span>&nbsp;<span class="op" id="2849859">=</span>&nbsp;<span class="keyword" id="2849861">map</span><span class="op" id="2849864">[</span><span class="op" id="2849865">*</span><span class="ident" id="2849866"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2849876">]</span><span class="builtintype" id="2849877">int</span><span class="op" id="2849880">{</span><span class="op" id="2849881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849893"><a href="/reflect/type.go.html#2847508">nextCount</a></span><span class="op" id="2849902">[</span><span class="ident" id="2849903"><a href="/reflect/type.go.html#2849667">styp</a></span><span class="op" id="2849907">]</span>&nbsp;<span class="op" id="2849909">=</span>&nbsp;<span class="num" id="2849911">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2849917">if</span>&nbsp;<span class="ident" id="2849920"><a href="/reflect/type.go.html#2847979">count</a></span><span class="op" id="2849925">[</span><span class="ident" id="2849926"><a href="/reflect/type.go.html#2848370">t</a></span><span class="op" id="2849927">]</span>&nbsp;<span class="op" id="2849929">&gt;</span>&nbsp;<span class="num" id="2849931">1</span>&nbsp;<span class="op" id="2849933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2849940"><a href="/reflect/type.go.html#2847508">nextCount</a></span><span class="op" id="2849949">[</span><span class="ident" id="2849950"><a href="/reflect/type.go.html#2849667">styp</a></span><span class="op" id="2849954">]</span>&nbsp;<span class="op" id="2849956">=</span>&nbsp;<span class="num" id="2849958">2</span>&nbsp;<span class="comment" id="2849960">//&nbsp;exact&nbsp;multiple&nbsp;doesn&#39;t&nbsp;matter</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2849997">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850003">var</span>&nbsp;<span class="ident" id="2850007">index</span>&nbsp;<span class="op" id="2850013">[</span><span class="op" id="2850014">]</span><span class="builtintype" id="2850015">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850023"><a href="/reflect/type.go.html#2850007">index</a></span>&nbsp;<span class="op" id="2850029">=</span>&nbsp;<span class="builtinfunc" id="2850031">append</span><span class="op" id="2850037">(</span><span class="ident" id="2850038"><a href="/reflect/type.go.html#2850007">index</a></span><span class="op" id="2850043">,</span>&nbsp;<span class="ident" id="2850045"><a href="/reflect/type.go.html#2848343">scan</a></span><span class="op" id="2850049">.</span><span class="ident" id="2850050">index</span><span class="op" id="2850055">...</span><span class="op" id="2850058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850064"><a href="/reflect/type.go.html#2850007">index</a></span>&nbsp;<span class="op" id="2850070">=</span>&nbsp;<span class="builtinfunc" id="2850072">append</span><span class="op" id="2850078">(</span><span class="ident" id="2850079"><a href="/reflect/type.go.html#2850007">index</a></span><span class="op" id="2850084">,</span>&nbsp;<span class="ident" id="2850086"><a href="/reflect/type.go.html#2848635">i</a></span><span class="op" id="2850087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850093"><a href="/reflect/type.go.html#2847085">next</a></span>&nbsp;<span class="op" id="2850098">=</span>&nbsp;<span class="builtinfunc" id="2850100">append</span><span class="op" id="2850106">(</span><span class="ident" id="2850107"><a href="/reflect/type.go.html#2847085">next</a></span><span class="op" id="2850111">,</span>&nbsp;<span class="ident" id="2850113"><a href="/reflect/type.go.html#2846258">fieldScan</a></span><span class="op" id="2850122">{</span><span class="ident" id="2850123"><a href="/reflect/type.go.html#2849667">styp</a></span><span class="op" id="2850127">,</span>&nbsp;<span class="ident" id="2850129"><a href="/reflect/type.go.html#2850007">index</a></span><span class="op" id="2850134">}</span><span class="op" id="2850135">)</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850148">if</span>&nbsp;<span class="ident" id="2850151"><a href="/reflect/type.go.html#2846538">ok</a></span>&nbsp;<span class="op" id="2850154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850159">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850167">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850173">return</span><br>
<span class="lineno"></span><span class="op" id="2850180">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2850183">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno">980</span><span class="comment" id="2850243">//&nbsp;and&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="2850296">func</span>&nbsp;<span class="op" id="2850301">(</span><span class="ident" id="2850302">t</span>&nbsp;<span class="op" id="2850304">*</span><span class="ident" id="2850305"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2850315">)</span>&nbsp;<span class="ident" id="2850317">FieldByName</span><span class="op" id="2850328">(</span><span class="ident" id="2850329">name</span>&nbsp;<span class="builtintype" id="2850334">string</span><span class="op" id="2850340">)</span>&nbsp;<span class="op" id="2850342">(</span><span class="ident" id="2850343">f</span>&nbsp;<span class="ident" id="2850345"><a href="/reflect/type.go.html#2842889">StructField</a></span><span class="op" id="2850356">,</span>&nbsp;<span class="ident" id="2850358">present</span>&nbsp;<span class="builtintype" id="2850366">bool</span><span class="op" id="2850370">)</span>&nbsp;<span class="op" id="2850372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2850375">//&nbsp;Quick&nbsp;check&nbsp;for&nbsp;top-level&nbsp;name,&nbsp;or&nbsp;struct&nbsp;without&nbsp;anonymous&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850447">hasAnon</span>&nbsp;<span class="op" id="2850455">:=</span>&nbsp;<span class="builtintype" id="2850458">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850465">if</span>&nbsp;<span class="ident" id="2850468"><a href="/reflect/type.go.html#2850329">name</a></span>&nbsp;<span class="op" id="2850473">!=</span>&nbsp;<span class="string" id="2850476">&#34;&#34;</span>&nbsp;<span class="op" id="2850479">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850483">for</span>&nbsp;<span class="ident" id="2850487">i</span>&nbsp;<span class="op" id="2850489">:=</span>&nbsp;<span class="keyword" id="2850492">range</span>&nbsp;<span class="ident" id="2850498"><a href="/reflect/type.go.html#2850302">t</a></span><span class="op" id="2850499">.</span><span class="ident" id="2850500">fields</span>&nbsp;<span class="op" id="2850507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850512">tf</span>&nbsp;<span class="op" id="2850515">:=</span>&nbsp;<span class="op" id="2850518">&amp;</span><span class="ident" id="2850519"><a href="/reflect/type.go.html#2850302">t</a></span><span class="op" id="2850520">.</span><span class="ident" id="2850521">fields</span><span class="op" id="2850527">[</span><span class="ident" id="2850528"><a href="/reflect/type.go.html#2850487">i</a></span><span class="op" id="2850529">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850534">if</span>&nbsp;<span class="ident" id="2850537"><a href="/reflect/type.go.html#2850512">tf</a></span><span class="op" id="2850539">.</span><span class="ident" id="2850540">name</span>&nbsp;<span class="op" id="2850545">==</span>&nbsp;<span class="ident" id="2850548">nil</span>&nbsp;<span class="op" id="2850552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850558"><a href="/reflect/type.go.html#2850447">hasAnon</a></span>&nbsp;<span class="op" id="2850566">=</span>&nbsp;<span class="builtintype" id="2850568">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850577">continue</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850594">if</span>&nbsp;<span class="op" id="2850597">*</span><span class="ident" id="2850598"><a href="/reflect/type.go.html#2850512">tf</a></span><span class="op" id="2850600">.</span><span class="ident" id="2850601">name</span>&nbsp;<span class="op" id="2850606">==</span>&nbsp;<span class="ident" id="2850609"><a href="/reflect/type.go.html#2850329">name</a></span>&nbsp;<span class="op" id="2850614">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850620">return</span>&nbsp;<span class="ident" id="2850627"><a href="/reflect/type.go.html#2850302">t</a></span><span class="op" id="2850628">.</span><span class="ident" id="2850629">Field</span><span class="op" id="2850634">(</span><span class="ident" id="2850635"><a href="/reflect/type.go.html#2850487">i</a></span><span class="op" id="2850636">)</span><span class="op" id="2850637">,</span>&nbsp;<span class="builtintype" id="2850639">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850651">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850657">if</span>&nbsp;<span class="op" id="2850660">!</span><span class="ident" id="2850661"><a href="/reflect/type.go.html#2850447">hasAnon</a></span>&nbsp;<span class="op" id="2850669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850673">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2850681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850684">return</span>&nbsp;<span class="ident" id="2850691"><a href="/reflect/type.go.html#2850302">t</a></span><span class="op" id="2850692">.</span><span class="ident" id="2850693">FieldByNameFunc</span><span class="op" id="2850708">(</span><span class="keyword" id="2850709">func</span><span class="op" id="2850713">(</span><span class="ident" id="2850714">s</span>&nbsp;<span class="builtintype" id="2850716">string</span><span class="op" id="2850722">)</span>&nbsp;<span class="builtintype" id="2850724">bool</span>&nbsp;<span class="op" id="2850729">{</span>&nbsp;<span class="keyword" id="2850731">return</span>&nbsp;<span class="ident" id="2850738"><a href="/reflect/type.go.html#2850714">s</a></span>&nbsp;<span class="op" id="2850740">==</span>&nbsp;<span class="ident" id="2850743"><a href="/reflect/type.go.html#2850329">name</a></span>&nbsp;<span class="op" id="2850748">}</span><span class="op" id="2850749">)</span><br>
<span class="lineno">1000</span><span class="op" id="2850751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2850754">//&nbsp;TypeOf&nbsp;returns&nbsp;the&nbsp;reflection&nbsp;Type&nbsp;of&nbsp;the&nbsp;value&nbsp;in&nbsp;the&nbsp;interface{}.</span><br>
<span class="lineno"></span><span class="comment" id="2850825">//&nbsp;TypeOf(nil)&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2850853">func</span>&nbsp;<span class="ident" id="2850858">TypeOf</span><span class="op" id="2850864">(</span><span class="ident" id="2850865">i</span>&nbsp;<span class="keyword" id="2850867">interface</span><span class="op" id="2850876">{</span><span class="op" id="2850877">}</span><span class="op" id="2850878">)</span>&nbsp;<span class="ident" id="2850880"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2850885">{</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2850888">eface</span>&nbsp;<span class="op" id="2850894">:=</span>&nbsp;<span class="op" id="2850897">*</span><span class="op" id="2850898">(</span><span class="op" id="2850899">*</span><span class="ident" id="2850900"><a href="/reflect/value.go.html#2879697">emptyInterface</a></span><span class="op" id="2850914">)</span><span class="op" id="2850915">(</span><span class="ident" id="2850916"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2850922">.</span><span class="ident" id="2850923">Pointer</span><span class="op" id="2850930">(</span><span class="op" id="2850931">&amp;</span><span class="ident" id="2850932"><a href="/reflect/type.go.html#2850865">i</a></span><span class="op" id="2850933">)</span><span class="op" id="2850934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2850937">return</span>&nbsp;<span class="ident" id="2850944"><a href="/reflect/type.go.html#2870043">toType</a></span><span class="op" id="2850950">(</span><span class="ident" id="2850951"><a href="/reflect/type.go.html#2850888">eface</a></span><span class="op" id="2850956">.</span><span class="ident" id="2850957">typ</span><span class="op" id="2850960">)</span><br>
<span class="lineno"></span><span class="op" id="2850962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2850965">//&nbsp;ptrMap&nbsp;is&nbsp;the&nbsp;cache&nbsp;for&nbsp;PtrTo.</span><br>
<span class="lineno">1010</span><span class="keyword" id="2850999">var</span>&nbsp;<span class="ident" id="2851003">ptrMap</span>&nbsp;<span class="keyword" id="2851010">struct</span>&nbsp;<span class="op" id="2851017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851020"><a href="/reflect/type.go.html#2823240">sync</a></span><span class="op" id="2851024">.</span><span class="ident" id="2851025">RWMutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851034">m</span>&nbsp;<span class="keyword" id="2851036">map</span><span class="op" id="2851039">[</span><span class="op" id="2851040">*</span><span class="ident" id="2851041"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2851046">]</span><span class="op" id="2851047">*</span><span class="ident" id="2851048"><a href="/reflect/type.go.html#2834263">ptrType</a></span><br>
<span class="lineno"></span><span class="op" id="2851056">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1015</span><span class="comment" id="2851059">//&nbsp;PtrTo&nbsp;returns&nbsp;the&nbsp;pointer&nbsp;type&nbsp;with&nbsp;element&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2851109">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;type&nbsp;Foo,&nbsp;PtrTo(t)&nbsp;represents&nbsp;*Foo.</span><br>
<span class="lineno"></span><span class="keyword" id="2851177">func</span>&nbsp;<span class="ident" id="2851182">PtrTo</span><span class="op" id="2851187">(</span><span class="ident" id="2851188">t</span>&nbsp;<span class="ident" id="2851190"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2851194">)</span>&nbsp;<span class="ident" id="2851196"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2851201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851204">return</span>&nbsp;<span class="ident" id="2851211"><a href="/reflect/type.go.html#2851188">t</a></span><span class="op" id="2851212">.</span><span class="op" id="2851213">(</span><span class="op" id="2851214">*</span><span class="ident" id="2851215"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2851220">)</span><span class="op" id="2851221">.</span><span class="ident" id="2851222">ptrTo</span><span class="op" id="2851227">(</span><span class="op" id="2851228">)</span><br>
<span class="lineno"></span><span class="op" id="2851230">}</span><br>
<span class="lineno">1020</span><br>
<span class="lineno"></span><span class="keyword" id="2851233">func</span>&nbsp;<span class="op" id="2851238">(</span><span class="ident" id="2851239">t</span>&nbsp;<span class="op" id="2851241">*</span><span class="ident" id="2851242"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2851247">)</span>&nbsp;<span class="ident" id="2851249">ptrTo</span><span class="op" id="2851254">(</span><span class="op" id="2851255">)</span>&nbsp;<span class="op" id="2851257">*</span><span class="ident" id="2851258"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="op" id="2851264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851267">if</span>&nbsp;<span class="ident" id="2851270">p</span>&nbsp;<span class="op" id="2851272">:=</span>&nbsp;<span class="ident" id="2851275"><a href="/reflect/type.go.html#2851239">t</a></span><span class="op" id="2851276">.</span><span class="ident" id="2851277">ptrToThis</span><span class="op" id="2851286">;</span>&nbsp;<span class="ident" id="2851288"><a href="/reflect/type.go.html#2851270">p</a></span>&nbsp;<span class="op" id="2851290">!=</span>&nbsp;<span class="ident" id="2851293">nil</span>&nbsp;<span class="op" id="2851297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851301">return</span>&nbsp;<span class="ident" id="2851308"><a href="/reflect/type.go.html#2851270">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2851311">}</span><br>
<span class="lineno">1025</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851315">//&nbsp;Otherwise,&nbsp;synthesize&nbsp;one.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851346">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;for&nbsp;pointers&nbsp;with&nbsp;no&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851398">//&nbsp;We&nbsp;keep&nbsp;the&nbsp;mapping&nbsp;in&nbsp;a&nbsp;map&nbsp;on&nbsp;the&nbsp;side,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851452">//&nbsp;this&nbsp;operation&nbsp;is&nbsp;rare&nbsp;and&nbsp;a&nbsp;separate&nbsp;map&nbsp;lets&nbsp;us&nbsp;keep</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851511">//&nbsp;the&nbsp;type&nbsp;structures&nbsp;in&nbsp;read-only&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851556"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851562">.</span><span class="ident" id="2851563">RLock</span><span class="op" id="2851568">(</span><span class="op" id="2851569">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851572">if</span>&nbsp;<span class="ident" id="2851575">m</span>&nbsp;<span class="op" id="2851577">:=</span>&nbsp;<span class="ident" id="2851580"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851586">.</span><span class="ident" id="2851587">m</span><span class="op" id="2851588">;</span>&nbsp;<span class="ident" id="2851590"><a href="/reflect/type.go.html#2851575">m</a></span>&nbsp;<span class="op" id="2851592">!=</span>&nbsp;<span class="ident" id="2851595">nil</span>&nbsp;<span class="op" id="2851599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851603">if</span>&nbsp;<span class="ident" id="2851606">p</span>&nbsp;<span class="op" id="2851608">:=</span>&nbsp;<span class="ident" id="2851611"><a href="/reflect/type.go.html#2851575">m</a></span><span class="op" id="2851612">[</span><span class="ident" id="2851613"><a href="/reflect/type.go.html#2851239">t</a></span><span class="op" id="2851614">]</span><span class="op" id="2851615">;</span>&nbsp;<span class="ident" id="2851617"><a href="/reflect/type.go.html#2851606">p</a></span>&nbsp;<span class="op" id="2851619">!=</span>&nbsp;<span class="ident" id="2851622">nil</span>&nbsp;<span class="op" id="2851626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851631"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851637">.</span><span class="ident" id="2851638">RUnlock</span><span class="op" id="2851645">(</span><span class="op" id="2851646">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851651">return</span>&nbsp;<span class="op" id="2851658">&amp;</span><span class="ident" id="2851659"><a href="/reflect/type.go.html#2851606">p</a></span><span class="op" id="2851660">.</span><span class="ident" id="2851661">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2851669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2851672">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851675"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851681">.</span><span class="ident" id="2851682">RUnlock</span><span class="op" id="2851689">(</span><span class="op" id="2851690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851693"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851699">.</span><span class="ident" id="2851700">Lock</span><span class="op" id="2851704">(</span><span class="op" id="2851705">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851708">if</span>&nbsp;<span class="ident" id="2851711"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851717">.</span><span class="ident" id="2851718">m</span>&nbsp;<span class="op" id="2851720">==</span>&nbsp;<span class="ident" id="2851723">nil</span>&nbsp;<span class="op" id="2851727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851731"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851737">.</span><span class="ident" id="2851738">m</span>&nbsp;<span class="op" id="2851740">=</span>&nbsp;<span class="builtinfunc" id="2851742">make</span><span class="op" id="2851746">(</span><span class="keyword" id="2851747">map</span><span class="op" id="2851750">[</span><span class="op" id="2851751">*</span><span class="ident" id="2851752"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2851757">]</span><span class="op" id="2851758">*</span><span class="ident" id="2851759"><a href="/reflect/type.go.html#2834263">ptrType</a></span><span class="op" id="2851766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2851769">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851772">p</span>&nbsp;<span class="op" id="2851774">:=</span>&nbsp;<span class="ident" id="2851777"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851783">.</span><span class="ident" id="2851784">m</span><span class="op" id="2851785">[</span><span class="ident" id="2851786"><a href="/reflect/type.go.html#2851239">t</a></span><span class="op" id="2851787">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851790">if</span>&nbsp;<span class="ident" id="2851793"><a href="/reflect/type.go.html#2851772">p</a></span>&nbsp;<span class="op" id="2851795">!=</span>&nbsp;<span class="ident" id="2851798">nil</span>&nbsp;<span class="op" id="2851802">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851806">//&nbsp;some&nbsp;other&nbsp;goroutine&nbsp;won&nbsp;the&nbsp;race&nbsp;and&nbsp;created&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851860"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2851866">.</span><span class="ident" id="2851867">Unlock</span><span class="op" id="2851873">(</span><span class="op" id="2851874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851878">return</span>&nbsp;<span class="op" id="2851885">&amp;</span><span class="ident" id="2851886"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2851887">.</span><span class="ident" id="2851888">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2851895">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851899">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;ptrType&nbsp;starting&nbsp;with&nbsp;the&nbsp;description</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2851954">//&nbsp;of&nbsp;an&nbsp;*unsafe.Pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2851981"><a href="/reflect/type.go.html#2851772">p</a></span>&nbsp;<span class="op" id="2851983">=</span>&nbsp;<span class="builtinfunc" id="2851985">new</span><span class="op" id="2851988">(</span><span class="ident" id="2851989"><a href="/reflect/type.go.html#2834263">ptrType</a></span><span class="op" id="2851996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2851999">var</span>&nbsp;<span class="ident" id="2852003">iptr</span>&nbsp;<span class="keyword" id="2852008">interface</span><span class="op" id="2852017">{</span><span class="op" id="2852018">}</span>&nbsp;<span class="op" id="2852020">=</span>&nbsp;<span class="op" id="2852022">(</span><span class="op" id="2852023">*</span><span class="ident" id="2852024"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2852030">.</span><span class="ident" id="2852031">Pointer</span><span class="op" id="2852038">)</span><span class="op" id="2852039">(</span><span class="ident" id="2852040">nil</span><span class="op" id="2852043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852046">prototype</span>&nbsp;<span class="op" id="2852056">:=</span>&nbsp;<span class="op" id="2852059">*</span><span class="op" id="2852060">(</span><span class="op" id="2852061">*</span><span class="op" id="2852062">*</span><span class="ident" id="2852063"><a href="/reflect/type.go.html#2834263">ptrType</a></span><span class="op" id="2852070">)</span><span class="op" id="2852071">(</span><span class="ident" id="2852072"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2852078">.</span><span class="ident" id="2852079">Pointer</span><span class="op" id="2852086">(</span><span class="op" id="2852087">&amp;</span><span class="ident" id="2852088"><a href="/reflect/type.go.html#2852003">iptr</a></span><span class="op" id="2852092">)</span><span class="op" id="2852093">)</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2852096">*</span><span class="ident" id="2852097"><a href="/reflect/type.go.html#2851772">p</a></span>&nbsp;<span class="op" id="2852099">=</span>&nbsp;<span class="op" id="2852101">*</span><span class="ident" id="2852102"><a href="/reflect/type.go.html#2852046">prototype</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852114">s</span>&nbsp;<span class="op" id="2852116">:=</span>&nbsp;<span class="string" id="2852119">&#34;*&#34;</span>&nbsp;<span class="op" id="2852123">+</span>&nbsp;<span class="op" id="2852125">*</span><span class="ident" id="2852126"><a href="/reflect/type.go.html#2851239">t</a></span><span class="op" id="2852127">.</span><span class="builtintype" id="2852128">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852136"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852137">.</span><span class="builtintype" id="2852138">string</span>&nbsp;<span class="op" id="2852145">=</span>&nbsp;<span class="op" id="2852147">&amp;</span><span class="ident" id="2852148"><a href="/reflect/type.go.html#2852114">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2852152">//&nbsp;For&nbsp;the&nbsp;type&nbsp;structures&nbsp;linked&nbsp;into&nbsp;the&nbsp;binary,&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2852208">//&nbsp;compiler&nbsp;provides&nbsp;a&nbsp;good&nbsp;hash&nbsp;of&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2852257">//&nbsp;Create&nbsp;a&nbsp;good&nbsp;hash&nbsp;for&nbsp;the&nbsp;new&nbsp;string&nbsp;by&nbsp;using</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2852308">//&nbsp;the&nbsp;FNV-1&nbsp;hash&#39;s&nbsp;mixing&nbsp;function&nbsp;to&nbsp;combine&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2852360">//&nbsp;old&nbsp;hash&nbsp;and&nbsp;the&nbsp;new&nbsp;&#34;*&#34;.</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852390"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852391">.</span><span class="ident" id="2852392">hash</span>&nbsp;<span class="op" id="2852397">=</span>&nbsp;<span class="ident" id="2852399"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2852403">(</span><span class="ident" id="2852404"><a href="/reflect/type.go.html#2851239">t</a></span><span class="op" id="2852405">.</span><span class="ident" id="2852406">hash</span><span class="op" id="2852410">,</span>&nbsp;<span class="string" id="2852412">&#39;*&#39;</span><span class="op" id="2852415">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852419"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852420">.</span><span class="ident" id="2852421">uncommonType</span>&nbsp;<span class="op" id="2852434">=</span>&nbsp;<span class="ident" id="2852436">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852441"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852442">.</span><span class="ident" id="2852443">ptrToThis</span>&nbsp;<span class="op" id="2852453">=</span>&nbsp;<span class="ident" id="2852455">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852460"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852461">.</span><span class="ident" id="2852462">zero</span>&nbsp;<span class="op" id="2852467">=</span>&nbsp;<span class="ident" id="2852469"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2852475">.</span><span class="ident" id="2852476">Pointer</span><span class="op" id="2852483">(</span><span class="op" id="2852484">&amp;</span><span class="builtinfunc" id="2852485">make</span><span class="op" id="2852489">(</span><span class="op" id="2852490">[</span><span class="op" id="2852491">]</span><span class="builtintype" id="2852492">byte</span><span class="op" id="2852496">,</span>&nbsp;<span class="ident" id="2852498"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852499">.</span><span class="ident" id="2852500">size</span><span class="op" id="2852504">)</span><span class="op" id="2852505">[</span><span class="num" id="2852506">0</span><span class="op" id="2852507">]</span><span class="op" id="2852508">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852511"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852512">.</span><span class="ident" id="2852513">elem</span>&nbsp;<span class="op" id="2852518">=</span>&nbsp;<span class="ident" id="2852520"><a href="/reflect/type.go.html#2851239">t</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852524"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2852530">.</span><span class="ident" id="2852531">m</span><span class="op" id="2852532">[</span><span class="ident" id="2852533"><a href="/reflect/type.go.html#2851239">t</a></span><span class="op" id="2852534">]</span>&nbsp;<span class="op" id="2852536">=</span>&nbsp;<span class="ident" id="2852538"><a href="/reflect/type.go.html#2851772">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852541"><a href="/reflect/type.go.html#2851003">ptrMap</a></span><span class="op" id="2852547">.</span><span class="ident" id="2852548">Unlock</span><span class="op" id="2852554">(</span><span class="op" id="2852555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2852558">return</span>&nbsp;<span class="op" id="2852565">&amp;</span><span class="ident" id="2852566"><a href="/reflect/type.go.html#2851772">p</a></span><span class="op" id="2852567">.</span><span class="ident" id="2852568">rtype</span><br>
<span class="lineno">1075</span><span class="op" id="2852574">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2852577">//&nbsp;fnv1&nbsp;incorporates&nbsp;the&nbsp;list&nbsp;of&nbsp;bytes&nbsp;into&nbsp;the&nbsp;hash&nbsp;x&nbsp;using&nbsp;the&nbsp;FNV-1&nbsp;hash&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="2852663">func</span>&nbsp;<span class="ident" id="2852668">fnv1</span><span class="op" id="2852672">(</span><span class="ident" id="2852673">x</span>&nbsp;<span class="builtintype" id="2852675">uint32</span><span class="op" id="2852681">,</span>&nbsp;<span class="ident" id="2852683">list</span>&nbsp;<span class="op" id="2852688">...</span><span class="builtintype" id="2852691">byte</span><span class="op" id="2852695">)</span>&nbsp;<span class="builtintype" id="2852697">uint32</span>&nbsp;<span class="op" id="2852704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2852707">for</span>&nbsp;<span class="ident" id="2852711">_</span><span class="op" id="2852712">,</span>&nbsp;<span class="ident" id="2852714">b</span>&nbsp;<span class="op" id="2852716">:=</span>&nbsp;<span class="keyword" id="2852719">range</span>&nbsp;<span class="ident" id="2852725"><a href="/reflect/type.go.html#2852683">list</a></span>&nbsp;<span class="op" id="2852730">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2852734"><a href="/reflect/type.go.html#2852673">x</a></span>&nbsp;<span class="op" id="2852736">=</span>&nbsp;<span class="ident" id="2852738"><a href="/reflect/type.go.html#2852673">x</a></span><span class="op" id="2852739">*</span><span class="num" id="2852740">16777619</span>&nbsp;<span class="op" id="2852749">^</span>&nbsp;<span class="builtintype" id="2852751">uint32</span><span class="op" id="2852757">(</span><span class="ident" id="2852758"><a href="/reflect/type.go.html#2852714">b</a></span><span class="op" id="2852759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2852762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2852765">return</span>&nbsp;<span class="ident" id="2852772"><a href="/reflect/type.go.html#2852673">x</a></span><br>
<span class="lineno"></span><span class="op" id="2852774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1085</span><span class="keyword" id="2852777">func</span>&nbsp;<span class="op" id="2852782">(</span><span class="ident" id="2852783">t</span>&nbsp;<span class="op" id="2852785">*</span><span class="ident" id="2852786"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2852791">)</span>&nbsp;<span class="ident" id="2852793">Implements</span><span class="op" id="2852803">(</span><span class="ident" id="2852804">u</span>&nbsp;<span class="ident" id="2852806"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2852810">)</span>&nbsp;<span class="builtintype" id="2852812">bool</span>&nbsp;<span class="op" id="2852817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2852820">if</span>&nbsp;<span class="ident" id="2852823"><a href="/reflect/type.go.html#2852804">u</a></span>&nbsp;<span class="op" id="2852825">==</span>&nbsp;<span class="ident" id="2852828">nil</span>&nbsp;<span class="op" id="2852832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2852836">panic</span><span class="op" id="2852841">(</span><span class="string" id="2852842">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.Implements&#34;</span><span class="op" id="2852887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2852890">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2852893">if</span>&nbsp;<span class="ident" id="2852896"><a href="/reflect/type.go.html#2852804">u</a></span><span class="op" id="2852897">.</span><span class="ident" id="2852898">Kind</span><span class="op" id="2852902">(</span><span class="op" id="2852903">)</span>&nbsp;<span class="op" id="2852905">!=</span>&nbsp;<span class="ident" id="2852908"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2852918">{</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2852922">panic</span><span class="op" id="2852927">(</span><span class="string" id="2852928">&#34;reflect:&nbsp;non-interface&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.Implements&#34;</span><span class="op" id="2852983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2852986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2852989">return</span>&nbsp;<span class="ident" id="2852996"><a href="/reflect/type.go.html#2853555">implements</a></span><span class="op" id="2853006">(</span><span class="ident" id="2853007"><a href="/reflect/type.go.html#2852804">u</a></span><span class="op" id="2853008">.</span><span class="op" id="2853009">(</span><span class="op" id="2853010">*</span><span class="ident" id="2853011"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853016">)</span><span class="op" id="2853017">,</span>&nbsp;<span class="ident" id="2853019"><a href="/reflect/type.go.html#2852783">t</a></span><span class="op" id="2853020">)</span><br>
<span class="lineno"></span><span class="op" id="2853022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="2853025">func</span>&nbsp;<span class="op" id="2853030">(</span><span class="ident" id="2853031">t</span>&nbsp;<span class="op" id="2853033">*</span><span class="ident" id="2853034"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853039">)</span>&nbsp;<span class="ident" id="2853041">AssignableTo</span><span class="op" id="2853053">(</span><span class="ident" id="2853054">u</span>&nbsp;<span class="ident" id="2853056"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2853060">)</span>&nbsp;<span class="builtintype" id="2853062">bool</span>&nbsp;<span class="op" id="2853067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853070">if</span>&nbsp;<span class="ident" id="2853073"><a href="/reflect/type.go.html#2853054">u</a></span>&nbsp;<span class="op" id="2853075">==</span>&nbsp;<span class="ident" id="2853078">nil</span>&nbsp;<span class="op" id="2853082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2853086">panic</span><span class="op" id="2853091">(</span><span class="string" id="2853092">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.AssignableTo&#34;</span><span class="op" id="2853139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2853142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2853145">uu</span>&nbsp;<span class="op" id="2853148">:=</span>&nbsp;<span class="ident" id="2853151"><a href="/reflect/type.go.html#2853054">u</a></span><span class="op" id="2853152">.</span><span class="op" id="2853153">(</span><span class="op" id="2853154">*</span><span class="ident" id="2853155"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853160">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853163">return</span>&nbsp;<span class="ident" id="2853170"><a href="/reflect/type.go.html#2855311">directlyAssignable</a></span><span class="op" id="2853188">(</span><span class="ident" id="2853189"><a href="/reflect/type.go.html#2853145">uu</a></span><span class="op" id="2853191">,</span>&nbsp;<span class="ident" id="2853193"><a href="/reflect/type.go.html#2853031">t</a></span><span class="op" id="2853194">)</span>&nbsp;<span class="op" id="2853196">||</span>&nbsp;<span class="ident" id="2853199"><a href="/reflect/type.go.html#2853555">implements</a></span><span class="op" id="2853209">(</span><span class="ident" id="2853210"><a href="/reflect/type.go.html#2853145">uu</a></span><span class="op" id="2853212">,</span>&nbsp;<span class="ident" id="2853214"><a href="/reflect/type.go.html#2853031">t</a></span><span class="op" id="2853215">)</span><br>
<span class="lineno"></span><span class="op" id="2853217">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2853220">func</span>&nbsp;<span class="op" id="2853225">(</span><span class="ident" id="2853226">t</span>&nbsp;<span class="op" id="2853228">*</span><span class="ident" id="2853229"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853234">)</span>&nbsp;<span class="ident" id="2853236">ConvertibleTo</span><span class="op" id="2853249">(</span><span class="ident" id="2853250">u</span>&nbsp;<span class="ident" id="2853252"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2853256">)</span>&nbsp;<span class="builtintype" id="2853258">bool</span>&nbsp;<span class="op" id="2853263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853266">if</span>&nbsp;<span class="ident" id="2853269"><a href="/reflect/type.go.html#2853250">u</a></span>&nbsp;<span class="op" id="2853271">==</span>&nbsp;<span class="ident" id="2853274">nil</span>&nbsp;<span class="op" id="2853278">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2853282">panic</span><span class="op" id="2853287">(</span><span class="string" id="2853288">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.ConvertibleTo&#34;</span><span class="op" id="2853336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2853339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2853342">uu</span>&nbsp;<span class="op" id="2853345">:=</span>&nbsp;<span class="ident" id="2853348"><a href="/reflect/type.go.html#2853250">u</a></span><span class="op" id="2853349">.</span><span class="op" id="2853350">(</span><span class="op" id="2853351">*</span><span class="ident" id="2853352"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853360">return</span>&nbsp;<span class="ident" id="2853367"><a href="/reflect/value.go.html#2937693">convertOp</a></span><span class="op" id="2853376">(</span><span class="ident" id="2853377"><a href="/reflect/type.go.html#2853342">uu</a></span><span class="op" id="2853379">,</span>&nbsp;<span class="ident" id="2853381"><a href="/reflect/type.go.html#2853226">t</a></span><span class="op" id="2853382">)</span>&nbsp;<span class="op" id="2853384">!=</span>&nbsp;<span class="ident" id="2853387">nil</span><br>
<span class="lineno"></span><span class="op" id="2853391">}</span><br>
<span class="lineno">1110</span><br>
<span class="lineno"></span><span class="keyword" id="2853394">func</span>&nbsp;<span class="op" id="2853399">(</span><span class="ident" id="2853400">t</span>&nbsp;<span class="op" id="2853402">*</span><span class="ident" id="2853403"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853408">)</span>&nbsp;<span class="ident" id="2853410">Comparable</span><span class="op" id="2853420">(</span><span class="op" id="2853421">)</span>&nbsp;<span class="builtintype" id="2853423">bool</span>&nbsp;<span class="op" id="2853428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853431">return</span>&nbsp;<span class="ident" id="2853438"><a href="/reflect/type.go.html#2853400">t</a></span><span class="op" id="2853439">.</span><span class="ident" id="2853440">alg</span>&nbsp;<span class="op" id="2853444">!=</span>&nbsp;<span class="ident" id="2853447">nil</span>&nbsp;<span class="op" id="2853451">&amp;&amp;</span>&nbsp;<span class="ident" id="2853454"><a href="/reflect/type.go.html#2853400">t</a></span><span class="op" id="2853455">.</span><span class="ident" id="2853456">alg</span><span class="op" id="2853459">.</span><span class="ident" id="2853460">equal</span>&nbsp;<span class="op" id="2853466">!=</span>&nbsp;<span class="ident" id="2853469">nil</span><br>
<span class="lineno"></span><span class="op" id="2853473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span><span class="comment" id="2853476">//&nbsp;implements&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;V&nbsp;implements&nbsp;the&nbsp;interface&nbsp;type&nbsp;T.</span><br>
<span class="lineno"></span><span class="keyword" id="2853550">func</span>&nbsp;<span class="ident" id="2853555">implements</span><span class="op" id="2853565">(</span><span class="ident" id="2853566">T</span><span class="op" id="2853567">,</span>&nbsp;<span class="ident" id="2853569">V</span>&nbsp;<span class="op" id="2853571">*</span><span class="ident" id="2853572"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2853577">)</span>&nbsp;<span class="builtintype" id="2853579">bool</span>&nbsp;<span class="op" id="2853584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853587">if</span>&nbsp;<span class="ident" id="2853590"><a href="/reflect/type.go.html#2853566">T</a></span><span class="op" id="2853591">.</span><span class="ident" id="2853592">Kind</span><span class="op" id="2853596">(</span><span class="op" id="2853597">)</span>&nbsp;<span class="op" id="2853599">!=</span>&nbsp;<span class="ident" id="2853602"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2853612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853616">return</span>&nbsp;<span class="builtintype" id="2853623">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2853630">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2853633">t</span>&nbsp;<span class="op" id="2853635">:=</span>&nbsp;<span class="op" id="2853638">(</span><span class="op" id="2853639">*</span><span class="ident" id="2853640"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2853653">)</span><span class="op" id="2853654">(</span><span class="ident" id="2853655"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2853661">.</span><span class="ident" id="2853662">Pointer</span><span class="op" id="2853669">(</span><span class="ident" id="2853670"><a href="/reflect/type.go.html#2853566">T</a></span><span class="op" id="2853671">)</span><span class="op" id="2853672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853675">if</span>&nbsp;<span class="builtinfunc" id="2853678">len</span><span class="op" id="2853681">(</span><span class="ident" id="2853682"><a href="/reflect/type.go.html#2853633">t</a></span><span class="op" id="2853683">.</span><span class="ident" id="2853684">methods</span><span class="op" id="2853691">)</span>&nbsp;<span class="op" id="2853693">==</span>&nbsp;<span class="num" id="2853696">0</span>&nbsp;<span class="op" id="2853698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2853702">return</span>&nbsp;<span class="builtintype" id="2853709">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2853715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2853719">//&nbsp;The&nbsp;same&nbsp;algorithm&nbsp;applies&nbsp;in&nbsp;both&nbsp;cases,&nbsp;but&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2853773">//&nbsp;method&nbsp;tables&nbsp;for&nbsp;an&nbsp;interface&nbsp;type&nbsp;and&nbsp;a&nbsp;concrete&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2853833">//&nbsp;are&nbsp;different,&nbsp;so&nbsp;the&nbsp;code&nbsp;is&nbsp;duplicated.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2853879">//&nbsp;In&nbsp;both&nbsp;cases&nbsp;the&nbsp;algorithm&nbsp;is&nbsp;a&nbsp;linear&nbsp;scan&nbsp;over&nbsp;the&nbsp;two</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2853941">//&nbsp;lists&nbsp;-&nbsp;T&#39;s&nbsp;methods&nbsp;and&nbsp;V&#39;s&nbsp;methods&nbsp;-&nbsp;simultaneously.</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2853999">//&nbsp;Since&nbsp;method&nbsp;tables&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;unique&nbsp;sorted&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2854059">//&nbsp;(alphabetical,&nbsp;with&nbsp;no&nbsp;duplicate&nbsp;method&nbsp;names),&nbsp;the&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2854120">//&nbsp;through&nbsp;V&#39;s&nbsp;methods&nbsp;must&nbsp;hit&nbsp;a&nbsp;match&nbsp;for&nbsp;each&nbsp;of&nbsp;T&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2854177">//&nbsp;methods&nbsp;along&nbsp;the&nbsp;way,&nbsp;or&nbsp;else&nbsp;V&nbsp;does&nbsp;not&nbsp;implement&nbsp;T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2854236">//&nbsp;This&nbsp;lets&nbsp;us&nbsp;run&nbsp;the&nbsp;scan&nbsp;in&nbsp;overall&nbsp;linear&nbsp;time&nbsp;instead&nbsp;of</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2854300">//&nbsp;the&nbsp;quadratic&nbsp;time&nbsp;&nbsp;a&nbsp;naive&nbsp;search&nbsp;would&nbsp;require.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2854354">//&nbsp;See&nbsp;also&nbsp;../runtime/iface.c.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854387">if</span>&nbsp;<span class="ident" id="2854390"><a href="/reflect/type.go.html#2853569">V</a></span><span class="op" id="2854391">.</span><span class="ident" id="2854392">Kind</span><span class="op" id="2854396">(</span><span class="op" id="2854397">)</span>&nbsp;<span class="op" id="2854399">==</span>&nbsp;<span class="ident" id="2854402"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2854412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854416">v</span>&nbsp;<span class="op" id="2854418">:=</span>&nbsp;<span class="op" id="2854421">(</span><span class="op" id="2854422">*</span><span class="ident" id="2854423"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2854436">)</span><span class="op" id="2854437">(</span><span class="ident" id="2854438"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2854444">.</span><span class="ident" id="2854445">Pointer</span><span class="op" id="2854452">(</span><span class="ident" id="2854453"><a href="/reflect/type.go.html#2853569">V</a></span><span class="op" id="2854454">)</span><span class="op" id="2854455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854459">i</span>&nbsp;<span class="op" id="2854461">:=</span>&nbsp;<span class="num" id="2854464">0</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854468">for</span>&nbsp;<span class="ident" id="2854472">j</span>&nbsp;<span class="op" id="2854474">:=</span>&nbsp;<span class="num" id="2854477">0</span><span class="op" id="2854478">;</span>&nbsp;<span class="ident" id="2854480"><a href="/reflect/type.go.html#2854472">j</a></span>&nbsp;<span class="op" id="2854482">&lt;</span>&nbsp;<span class="builtinfunc" id="2854484">len</span><span class="op" id="2854487">(</span><span class="ident" id="2854488"><a href="/reflect/type.go.html#2854416">v</a></span><span class="op" id="2854489">.</span><span class="ident" id="2854490">methods</span><span class="op" id="2854497">)</span><span class="op" id="2854498">;</span>&nbsp;<span class="ident" id="2854500"><a href="/reflect/type.go.html#2854472">j</a></span><span class="op" id="2854501">++</span>&nbsp;<span class="op" id="2854504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854509">tm</span>&nbsp;<span class="op" id="2854512">:=</span>&nbsp;<span class="op" id="2854515">&amp;</span><span class="ident" id="2854516"><a href="/reflect/type.go.html#2853633">t</a></span><span class="op" id="2854517">.</span><span class="ident" id="2854518">methods</span><span class="op" id="2854525">[</span><span class="ident" id="2854526"><a href="/reflect/type.go.html#2854459">i</a></span><span class="op" id="2854527">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854532">vm</span>&nbsp;<span class="op" id="2854535">:=</span>&nbsp;<span class="op" id="2854538">&amp;</span><span class="ident" id="2854539"><a href="/reflect/type.go.html#2854416">v</a></span><span class="op" id="2854540">.</span><span class="ident" id="2854541">methods</span><span class="op" id="2854548">[</span><span class="ident" id="2854549"><a href="/reflect/type.go.html#2854472">j</a></span><span class="op" id="2854550">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854555">if</span>&nbsp;<span class="ident" id="2854558"><a href="/reflect/type.go.html#2854532">vm</a></span><span class="op" id="2854560">.</span><span class="ident" id="2854561">name</span>&nbsp;<span class="op" id="2854566">==</span>&nbsp;<span class="ident" id="2854569"><a href="/reflect/type.go.html#2854509">tm</a></span><span class="op" id="2854571">.</span><span class="ident" id="2854572">name</span>&nbsp;<span class="op" id="2854577">&amp;&amp;</span>&nbsp;<span class="ident" id="2854580"><a href="/reflect/type.go.html#2854532">vm</a></span><span class="op" id="2854582">.</span><span class="ident" id="2854583">pkgPath</span>&nbsp;<span class="op" id="2854591">==</span>&nbsp;<span class="ident" id="2854594"><a href="/reflect/type.go.html#2854509">tm</a></span><span class="op" id="2854596">.</span><span class="ident" id="2854597">pkgPath</span>&nbsp;<span class="op" id="2854605">&amp;&amp;</span>&nbsp;<span class="ident" id="2854608"><a href="/reflect/type.go.html#2854532">vm</a></span><span class="op" id="2854610">.</span><span class="ident" id="2854611">typ</span>&nbsp;<span class="op" id="2854615">==</span>&nbsp;<span class="ident" id="2854618"><a href="/reflect/type.go.html#2854509">tm</a></span><span class="op" id="2854620">.</span><span class="ident" id="2854621">typ</span>&nbsp;<span class="op" id="2854625">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854631">if</span>&nbsp;<span class="ident" id="2854634"><a href="/reflect/type.go.html#2854459">i</a></span><span class="op" id="2854635">++</span><span class="op" id="2854637">;</span>&nbsp;<span class="ident" id="2854639"><a href="/reflect/type.go.html#2854459">i</a></span>&nbsp;<span class="op" id="2854641">&gt;=</span>&nbsp;<span class="builtinfunc" id="2854644">len</span><span class="op" id="2854647">(</span><span class="ident" id="2854648"><a href="/reflect/type.go.html#2853633">t</a></span><span class="op" id="2854649">.</span><span class="ident" id="2854650">methods</span><span class="op" id="2854657">)</span>&nbsp;<span class="op" id="2854659">{</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854666">return</span>&nbsp;<span class="builtintype" id="2854673">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854695">return</span>&nbsp;<span class="builtintype" id="2854702">false</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854709">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854713">v</span>&nbsp;<span class="op" id="2854715">:=</span>&nbsp;<span class="ident" id="2854718"><a href="/reflect/type.go.html#2853569">V</a></span><span class="op" id="2854719">.</span><span class="ident" id="2854720">uncommon</span><span class="op" id="2854728">(</span><span class="op" id="2854729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854732">if</span>&nbsp;<span class="ident" id="2854735"><a href="/reflect/type.go.html#2854713">v</a></span>&nbsp;<span class="op" id="2854737">==</span>&nbsp;<span class="ident" id="2854740">nil</span>&nbsp;<span class="op" id="2854744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854748">return</span>&nbsp;<span class="builtintype" id="2854755">false</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854765">i</span>&nbsp;<span class="op" id="2854767">:=</span>&nbsp;<span class="num" id="2854770">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854773">for</span>&nbsp;<span class="ident" id="2854777">j</span>&nbsp;<span class="op" id="2854779">:=</span>&nbsp;<span class="num" id="2854782">0</span><span class="op" id="2854783">;</span>&nbsp;<span class="ident" id="2854785"><a href="/reflect/type.go.html#2854777">j</a></span>&nbsp;<span class="op" id="2854787">&lt;</span>&nbsp;<span class="builtinfunc" id="2854789">len</span><span class="op" id="2854792">(</span><span class="ident" id="2854793"><a href="/reflect/type.go.html#2854713">v</a></span><span class="op" id="2854794">.</span><span class="ident" id="2854795">methods</span><span class="op" id="2854802">)</span><span class="op" id="2854803">;</span>&nbsp;<span class="ident" id="2854805"><a href="/reflect/type.go.html#2854777">j</a></span><span class="op" id="2854806">++</span>&nbsp;<span class="op" id="2854809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854813">tm</span>&nbsp;<span class="op" id="2854816">:=</span>&nbsp;<span class="op" id="2854819">&amp;</span><span class="ident" id="2854820"><a href="/reflect/type.go.html#2853633">t</a></span><span class="op" id="2854821">.</span><span class="ident" id="2854822">methods</span><span class="op" id="2854829">[</span><span class="ident" id="2854830"><a href="/reflect/type.go.html#2854765">i</a></span><span class="op" id="2854831">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2854835">vm</span>&nbsp;<span class="op" id="2854838">:=</span>&nbsp;<span class="op" id="2854841">&amp;</span><span class="ident" id="2854842"><a href="/reflect/type.go.html#2854713">v</a></span><span class="op" id="2854843">.</span><span class="ident" id="2854844">methods</span><span class="op" id="2854851">[</span><span class="ident" id="2854852"><a href="/reflect/type.go.html#2854777">j</a></span><span class="op" id="2854853">]</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854857">if</span>&nbsp;<span class="ident" id="2854860"><a href="/reflect/type.go.html#2854835">vm</a></span><span class="op" id="2854862">.</span><span class="ident" id="2854863">name</span>&nbsp;<span class="op" id="2854868">==</span>&nbsp;<span class="ident" id="2854871"><a href="/reflect/type.go.html#2854813">tm</a></span><span class="op" id="2854873">.</span><span class="ident" id="2854874">name</span>&nbsp;<span class="op" id="2854879">&amp;&amp;</span>&nbsp;<span class="ident" id="2854882"><a href="/reflect/type.go.html#2854835">vm</a></span><span class="op" id="2854884">.</span><span class="ident" id="2854885">pkgPath</span>&nbsp;<span class="op" id="2854893">==</span>&nbsp;<span class="ident" id="2854896"><a href="/reflect/type.go.html#2854813">tm</a></span><span class="op" id="2854898">.</span><span class="ident" id="2854899">pkgPath</span>&nbsp;<span class="op" id="2854907">&amp;&amp;</span>&nbsp;<span class="ident" id="2854910"><a href="/reflect/type.go.html#2854835">vm</a></span><span class="op" id="2854912">.</span><span class="ident" id="2854913">mtyp</span>&nbsp;<span class="op" id="2854918">==</span>&nbsp;<span class="ident" id="2854921"><a href="/reflect/type.go.html#2854813">tm</a></span><span class="op" id="2854923">.</span><span class="ident" id="2854924">typ</span>&nbsp;<span class="op" id="2854928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854933">if</span>&nbsp;<span class="ident" id="2854936"><a href="/reflect/type.go.html#2854765">i</a></span><span class="op" id="2854937">++</span><span class="op" id="2854939">;</span>&nbsp;<span class="ident" id="2854941"><a href="/reflect/type.go.html#2854765">i</a></span>&nbsp;<span class="op" id="2854943">&gt;=</span>&nbsp;<span class="builtinfunc" id="2854946">len</span><span class="op" id="2854949">(</span><span class="ident" id="2854950"><a href="/reflect/type.go.html#2853633">t</a></span><span class="op" id="2854951">.</span><span class="ident" id="2854952">methods</span><span class="op" id="2854959">)</span>&nbsp;<span class="op" id="2854961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854967">return</span>&nbsp;<span class="builtintype" id="2854974">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854986">}</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2854989">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2854992">return</span>&nbsp;<span class="builtintype" id="2854999">false</span><br>
<span class="lineno"></span><span class="op" id="2855005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2855008">//&nbsp;directlyAssignable&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;x&nbsp;of&nbsp;type&nbsp;V&nbsp;can&nbsp;be&nbsp;directly</span><br>
<span class="lineno">1170</span><span class="comment" id="2855082">//&nbsp;assigned&nbsp;(using&nbsp;memmove)&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;T.</span><br>
<span class="lineno"></span><span class="comment" id="2855132">//&nbsp;http://golang.org/doc/go_spec.html#Assignability</span><br>
<span class="lineno"></span><span class="comment" id="2855184">//&nbsp;Ignoring&nbsp;the&nbsp;interface&nbsp;rules&nbsp;(implemented&nbsp;elsewhere)</span><br>
<span class="lineno"></span><span class="comment" id="2855240">//&nbsp;and&nbsp;the&nbsp;ideal&nbsp;constant&nbsp;rules&nbsp;(no&nbsp;ideal&nbsp;constants&nbsp;at&nbsp;run&nbsp;time).</span><br>
<span class="lineno"></span><span class="keyword" id="2855306">func</span>&nbsp;<span class="ident" id="2855311">directlyAssignable</span><span class="op" id="2855329">(</span><span class="ident" id="2855330">T</span><span class="op" id="2855331">,</span>&nbsp;<span class="ident" id="2855333">V</span>&nbsp;<span class="op" id="2855335">*</span><span class="ident" id="2855336"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2855341">)</span>&nbsp;<span class="builtintype" id="2855343">bool</span>&nbsp;<span class="op" id="2855348">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2855351">//&nbsp;x&#39;s&nbsp;type&nbsp;V&nbsp;is&nbsp;identical&nbsp;to&nbsp;T?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855385">if</span>&nbsp;<span class="ident" id="2855388"><a href="/reflect/type.go.html#2855330">T</a></span>&nbsp;<span class="op" id="2855390">==</span>&nbsp;<span class="ident" id="2855393"><a href="/reflect/type.go.html#2855333">V</a></span>&nbsp;<span class="op" id="2855395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855399">return</span>&nbsp;<span class="builtintype" id="2855406">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2855412">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2855416">//&nbsp;Otherwise&nbsp;at&nbsp;least&nbsp;one&nbsp;of&nbsp;T&nbsp;and&nbsp;V&nbsp;must&nbsp;be&nbsp;unnamed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2855470">//&nbsp;and&nbsp;they&nbsp;must&nbsp;have&nbsp;the&nbsp;same&nbsp;kind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855508">if</span>&nbsp;<span class="ident" id="2855511"><a href="/reflect/type.go.html#2855330">T</a></span><span class="op" id="2855512">.</span><span class="ident" id="2855513">Name</span><span class="op" id="2855517">(</span><span class="op" id="2855518">)</span>&nbsp;<span class="op" id="2855520">!=</span>&nbsp;<span class="string" id="2855523">&#34;&#34;</span>&nbsp;<span class="op" id="2855526">&amp;&amp;</span>&nbsp;<span class="ident" id="2855529"><a href="/reflect/type.go.html#2855333">V</a></span><span class="op" id="2855530">.</span><span class="ident" id="2855531">Name</span><span class="op" id="2855535">(</span><span class="op" id="2855536">)</span>&nbsp;<span class="op" id="2855538">!=</span>&nbsp;<span class="string" id="2855541">&#34;&#34;</span>&nbsp;<span class="op" id="2855544">||</span>&nbsp;<span class="ident" id="2855547"><a href="/reflect/type.go.html#2855330">T</a></span><span class="op" id="2855548">.</span><span class="ident" id="2855549">Kind</span><span class="op" id="2855553">(</span><span class="op" id="2855554">)</span>&nbsp;<span class="op" id="2855556">!=</span>&nbsp;<span class="ident" id="2855559"><a href="/reflect/type.go.html#2855333">V</a></span><span class="op" id="2855560">.</span><span class="ident" id="2855561">Kind</span><span class="op" id="2855565">(</span><span class="op" id="2855566">)</span>&nbsp;<span class="op" id="2855568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855572">return</span>&nbsp;<span class="builtintype" id="2855579">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2855586">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2855590">//&nbsp;x&#39;s&nbsp;type&nbsp;T&nbsp;and&nbsp;V&nbsp;must&nbsp;&nbsp;have&nbsp;identical&nbsp;underlying&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855650">return</span>&nbsp;<span class="ident" id="2855657"><a href="/reflect/type.go.html#2855699">haveIdenticalUnderlyingType</a></span><span class="op" id="2855684">(</span><span class="ident" id="2855685"><a href="/reflect/type.go.html#2855330">T</a></span><span class="op" id="2855686">,</span>&nbsp;<span class="ident" id="2855688"><a href="/reflect/type.go.html#2855333">V</a></span><span class="op" id="2855689">)</span><br>
<span class="lineno"></span><span class="op" id="2855691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1190</span><span class="keyword" id="2855694">func</span>&nbsp;<span class="ident" id="2855699">haveIdenticalUnderlyingType</span><span class="op" id="2855726">(</span><span class="ident" id="2855727">T</span><span class="op" id="2855728">,</span>&nbsp;<span class="ident" id="2855730">V</span>&nbsp;<span class="op" id="2855732">*</span><span class="ident" id="2855733"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2855738">)</span>&nbsp;<span class="builtintype" id="2855740">bool</span>&nbsp;<span class="op" id="2855745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855748">if</span>&nbsp;<span class="ident" id="2855751"><a href="/reflect/type.go.html#2855727">T</a></span>&nbsp;<span class="op" id="2855753">==</span>&nbsp;<span class="ident" id="2855756"><a href="/reflect/type.go.html#2855730">V</a></span>&nbsp;<span class="op" id="2855758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855762">return</span>&nbsp;<span class="builtintype" id="2855769">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2855775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2855779">kind</span>&nbsp;<span class="op" id="2855784">:=</span>&nbsp;<span class="ident" id="2855787"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2855788">.</span><span class="ident" id="2855789">Kind</span><span class="op" id="2855793">(</span><span class="op" id="2855794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855797">if</span>&nbsp;<span class="ident" id="2855800"><a href="/reflect/type.go.html#2855779">kind</a></span>&nbsp;<span class="op" id="2855805">!=</span>&nbsp;<span class="ident" id="2855808"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2855809">.</span><span class="ident" id="2855810">Kind</span><span class="op" id="2855814">(</span><span class="op" id="2855815">)</span>&nbsp;<span class="op" id="2855817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855821">return</span>&nbsp;<span class="builtintype" id="2855828">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2855835">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2855839">//&nbsp;Non-composite&nbsp;types&nbsp;of&nbsp;equal&nbsp;kind&nbsp;have&nbsp;same&nbsp;underlying&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2855903">//&nbsp;(the&nbsp;predefined&nbsp;instance&nbsp;of&nbsp;the&nbsp;type).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2855946">if</span>&nbsp;<span class="ident" id="2855949"><a href="/reflect/type.go.html#2830037">Bool</a></span>&nbsp;<span class="op" id="2855954">&lt;=</span>&nbsp;<span class="ident" id="2855957"><a href="/reflect/type.go.html#2855779">kind</a></span>&nbsp;<span class="op" id="2855962">&amp;&amp;</span>&nbsp;<span class="ident" id="2855965"><a href="/reflect/type.go.html#2855779">kind</a></span>&nbsp;<span class="op" id="2855970">&lt;=</span>&nbsp;<span class="ident" id="2855973"><a href="/reflect/type.go.html#2830150">Complex128</a></span>&nbsp;<span class="op" id="2855984">||</span>&nbsp;<span class="ident" id="2855987"><a href="/reflect/type.go.html#2855779">kind</a></span>&nbsp;<span class="op" id="2855992">==</span>&nbsp;<span class="ident" id="2855995"><a href="/reflect/type.go.html#2830209">String</a></span>&nbsp;<span class="op" id="2856002">||</span>&nbsp;<span class="ident" id="2856005"><a href="/reflect/type.go.html#2855779">kind</a></span>&nbsp;<span class="op" id="2856010">==</span>&nbsp;<span class="ident" id="2856013"><a href="/reflect/type.go.html#2830225">UnsafePointer</a></span>&nbsp;<span class="op" id="2856027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856031">return</span>&nbsp;<span class="builtintype" id="2856038">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856044">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2856048">//&nbsp;Composite&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856069">switch</span>&nbsp;<span class="ident" id="2856076"><a href="/reflect/type.go.html#2855779">kind</a></span>&nbsp;<span class="op" id="2856081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856084">case</span>&nbsp;<span class="ident" id="2856089"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2856094">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856098">return</span>&nbsp;<span class="ident" id="2856105"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856106">.</span><span class="ident" id="2856107">Elem</span><span class="op" id="2856111">(</span><span class="op" id="2856112">)</span>&nbsp;<span class="op" id="2856114">==</span>&nbsp;<span class="ident" id="2856117"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856118">.</span><span class="ident" id="2856119">Elem</span><span class="op" id="2856123">(</span><span class="op" id="2856124">)</span>&nbsp;<span class="op" id="2856126">&amp;&amp;</span>&nbsp;<span class="ident" id="2856129"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856130">.</span><span class="ident" id="2856131">Len</span><span class="op" id="2856134">(</span><span class="op" id="2856135">)</span>&nbsp;<span class="op" id="2856137">==</span>&nbsp;<span class="ident" id="2856140"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856141">.</span><span class="ident" id="2856142">Len</span><span class="op" id="2856145">(</span><span class="op" id="2856146">)</span><br>
<span class="lineno">1210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856150">case</span>&nbsp;<span class="ident" id="2856155"><a href="/reflect/type.go.html#2830169">Chan</a></span><span class="op" id="2856159">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2856163">//&nbsp;Special&nbsp;case:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2856182">//&nbsp;x&nbsp;is&nbsp;a&nbsp;bidirectional&nbsp;channel&nbsp;value,&nbsp;T&nbsp;is&nbsp;a&nbsp;channel&nbsp;type,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2856244">//&nbsp;and&nbsp;x&#39;s&nbsp;type&nbsp;V&nbsp;and&nbsp;T&nbsp;have&nbsp;identical&nbsp;element&nbsp;types.</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856300">if</span>&nbsp;<span class="ident" id="2856303"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856304">.</span><span class="ident" id="2856305">ChanDir</span><span class="op" id="2856312">(</span><span class="op" id="2856313">)</span>&nbsp;<span class="op" id="2856315">==</span>&nbsp;<span class="ident" id="2856318"><a href="/reflect/type.go.html#2832684">BothDir</a></span>&nbsp;<span class="op" id="2856326">&amp;&amp;</span>&nbsp;<span class="ident" id="2856329"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856330">.</span><span class="ident" id="2856331">Elem</span><span class="op" id="2856335">(</span><span class="op" id="2856336">)</span>&nbsp;<span class="op" id="2856338">==</span>&nbsp;<span class="ident" id="2856341"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856342">.</span><span class="ident" id="2856343">Elem</span><span class="op" id="2856347">(</span><span class="op" id="2856348">)</span>&nbsp;<span class="op" id="2856350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856355">return</span>&nbsp;<span class="builtintype" id="2856362">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856369">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2856374">//&nbsp;Otherwise&nbsp;continue&nbsp;test&nbsp;for&nbsp;identical&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856434">return</span>&nbsp;<span class="ident" id="2856441"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856442">.</span><span class="ident" id="2856443">ChanDir</span><span class="op" id="2856450">(</span><span class="op" id="2856451">)</span>&nbsp;<span class="op" id="2856453">==</span>&nbsp;<span class="ident" id="2856456"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856457">.</span><span class="ident" id="2856458">ChanDir</span><span class="op" id="2856465">(</span><span class="op" id="2856466">)</span>&nbsp;<span class="op" id="2856468">&amp;&amp;</span>&nbsp;<span class="ident" id="2856471"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856472">.</span><span class="ident" id="2856473">Elem</span><span class="op" id="2856477">(</span><span class="op" id="2856478">)</span>&nbsp;<span class="op" id="2856480">==</span>&nbsp;<span class="ident" id="2856483"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856484">.</span><span class="ident" id="2856485">Elem</span><span class="op" id="2856489">(</span><span class="op" id="2856490">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856494">case</span>&nbsp;<span class="ident" id="2856499"><a href="/reflect/type.go.html#2830175">Func</a></span><span class="op" id="2856503">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2856507">t</span>&nbsp;<span class="op" id="2856509">:=</span>&nbsp;<span class="op" id="2856512">(</span><span class="op" id="2856513">*</span><span class="ident" id="2856514"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2856522">)</span><span class="op" id="2856523">(</span><span class="ident" id="2856524"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2856530">.</span><span class="ident" id="2856531">Pointer</span><span class="op" id="2856538">(</span><span class="ident" id="2856539"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856540">)</span><span class="op" id="2856541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2856545">v</span>&nbsp;<span class="op" id="2856547">:=</span>&nbsp;<span class="op" id="2856550">(</span><span class="op" id="2856551">*</span><span class="ident" id="2856552"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2856560">)</span><span class="op" id="2856561">(</span><span class="ident" id="2856562"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2856568">.</span><span class="ident" id="2856569">Pointer</span><span class="op" id="2856576">(</span><span class="ident" id="2856577"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856578">)</span><span class="op" id="2856579">)</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856583">if</span>&nbsp;<span class="ident" id="2856586"><a href="/reflect/type.go.html#2856507">t</a></span><span class="op" id="2856587">.</span><span class="ident" id="2856588">dotdotdot</span>&nbsp;<span class="op" id="2856598">!=</span>&nbsp;<span class="ident" id="2856601"><a href="/reflect/type.go.html#2856545">v</a></span><span class="op" id="2856602">.</span><span class="ident" id="2856603">dotdotdot</span>&nbsp;<span class="op" id="2856613">||</span>&nbsp;<span class="builtinfunc" id="2856616">len</span><span class="op" id="2856619">(</span><span class="ident" id="2856620"><a href="/reflect/type.go.html#2856507">t</a></span><span class="op" id="2856621">.</span><span class="ident" id="2856622">in</span><span class="op" id="2856624">)</span>&nbsp;<span class="op" id="2856626">!=</span>&nbsp;<span class="builtinfunc" id="2856629">len</span><span class="op" id="2856632">(</span><span class="ident" id="2856633"><a href="/reflect/type.go.html#2856545">v</a></span><span class="op" id="2856634">.</span><span class="ident" id="2856635">in</span><span class="op" id="2856637">)</span>&nbsp;<span class="op" id="2856639">||</span>&nbsp;<span class="builtinfunc" id="2856642">len</span><span class="op" id="2856645">(</span><span class="ident" id="2856646"><a href="/reflect/type.go.html#2856507">t</a></span><span class="op" id="2856647">.</span><span class="ident" id="2856648">out</span><span class="op" id="2856651">)</span>&nbsp;<span class="op" id="2856653">!=</span>&nbsp;<span class="builtinfunc" id="2856656">len</span><span class="op" id="2856659">(</span><span class="ident" id="2856660"><a href="/reflect/type.go.html#2856545">v</a></span><span class="op" id="2856661">.</span><span class="ident" id="2856662">out</span><span class="op" id="2856665">)</span>&nbsp;<span class="op" id="2856667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856672">return</span>&nbsp;<span class="builtintype" id="2856679">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856691">for</span>&nbsp;<span class="ident" id="2856695">i</span><span class="op" id="2856696">,</span>&nbsp;<span class="ident" id="2856698">typ</span>&nbsp;<span class="op" id="2856702">:=</span>&nbsp;<span class="keyword" id="2856705">range</span>&nbsp;<span class="ident" id="2856711"><a href="/reflect/type.go.html#2856507">t</a></span><span class="op" id="2856712">.</span><span class="ident" id="2856713">in</span>&nbsp;<span class="op" id="2856716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856721">if</span>&nbsp;<span class="ident" id="2856724"><a href="/reflect/type.go.html#2856698">typ</a></span>&nbsp;<span class="op" id="2856728">!=</span>&nbsp;<span class="ident" id="2856731"><a href="/reflect/type.go.html#2856545">v</a></span><span class="op" id="2856732">.</span><span class="ident" id="2856733">in</span><span class="op" id="2856735">[</span><span class="ident" id="2856736"><a href="/reflect/type.go.html#2856695">i</a></span><span class="op" id="2856737">]</span>&nbsp;<span class="op" id="2856739">{</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856745">return</span>&nbsp;<span class="builtintype" id="2856752">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856761">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856769">for</span>&nbsp;<span class="ident" id="2856773">i</span><span class="op" id="2856774">,</span>&nbsp;<span class="ident" id="2856776">typ</span>&nbsp;<span class="op" id="2856780">:=</span>&nbsp;<span class="keyword" id="2856783">range</span>&nbsp;<span class="ident" id="2856789"><a href="/reflect/type.go.html#2856507">t</a></span><span class="op" id="2856790">.</span><span class="ident" id="2856791">out</span>&nbsp;<span class="op" id="2856795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856800">if</span>&nbsp;<span class="ident" id="2856803"><a href="/reflect/type.go.html#2856776">typ</a></span>&nbsp;<span class="op" id="2856807">!=</span>&nbsp;<span class="ident" id="2856810"><a href="/reflect/type.go.html#2856545">v</a></span><span class="op" id="2856811">.</span><span class="ident" id="2856812">out</span><span class="op" id="2856815">[</span><span class="ident" id="2856816"><a href="/reflect/type.go.html#2856773">i</a></span><span class="op" id="2856817">]</span>&nbsp;<span class="op" id="2856819">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856825">return</span>&nbsp;<span class="builtintype" id="2856832">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856841">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2856845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856849">return</span>&nbsp;<span class="builtintype" id="2856856">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856863">case</span>&nbsp;<span class="ident" id="2856868"><a href="/reflect/type.go.html#2830181">Interface</a></span><span class="op" id="2856877">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2856881">t</span>&nbsp;<span class="op" id="2856883">:=</span>&nbsp;<span class="op" id="2856886">(</span><span class="op" id="2856887">*</span><span class="ident" id="2856888"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2856901">)</span><span class="op" id="2856902">(</span><span class="ident" id="2856903"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2856909">.</span><span class="ident" id="2856910">Pointer</span><span class="op" id="2856917">(</span><span class="ident" id="2856918"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2856919">)</span><span class="op" id="2856920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2856924">v</span>&nbsp;<span class="op" id="2856926">:=</span>&nbsp;<span class="op" id="2856929">(</span><span class="op" id="2856930">*</span><span class="ident" id="2856931"><a href="/reflect/type.go.html#2833594">interfaceType</a></span><span class="op" id="2856944">)</span><span class="op" id="2856945">(</span><span class="ident" id="2856946"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2856952">.</span><span class="ident" id="2856953">Pointer</span><span class="op" id="2856960">(</span><span class="ident" id="2856961"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2856962">)</span><span class="op" id="2856963">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2856967">if</span>&nbsp;<span class="builtinfunc" id="2856970">len</span><span class="op" id="2856973">(</span><span class="ident" id="2856974"><a href="/reflect/type.go.html#2856881">t</a></span><span class="op" id="2856975">.</span><span class="ident" id="2856976">methods</span><span class="op" id="2856983">)</span>&nbsp;<span class="op" id="2856985">==</span>&nbsp;<span class="num" id="2856988">0</span>&nbsp;<span class="op" id="2856990">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2856993">len</span><span class="op" id="2856996">(</span><span class="ident" id="2856997"><a href="/reflect/type.go.html#2856924">v</a></span><span class="op" id="2856998">.</span><span class="ident" id="2856999">methods</span><span class="op" id="2857006">)</span>&nbsp;<span class="op" id="2857008">==</span>&nbsp;<span class="num" id="2857011">0</span>&nbsp;<span class="op" id="2857013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857018">return</span>&nbsp;<span class="builtintype" id="2857025">true</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857032">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2857036">//&nbsp;Might&nbsp;have&nbsp;the&nbsp;same&nbsp;methods&nbsp;but&nbsp;still</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2857079">//&nbsp;need&nbsp;a&nbsp;run&nbsp;time&nbsp;conversion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857112">return</span>&nbsp;<span class="builtintype" id="2857119">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857127">case</span>&nbsp;<span class="ident" id="2857132"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2857135">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857139">return</span>&nbsp;<span class="ident" id="2857146"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2857147">.</span><span class="ident" id="2857148">Key</span><span class="op" id="2857151">(</span><span class="op" id="2857152">)</span>&nbsp;<span class="op" id="2857154">==</span>&nbsp;<span class="ident" id="2857157"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2857158">.</span><span class="ident" id="2857159">Key</span><span class="op" id="2857162">(</span><span class="op" id="2857163">)</span>&nbsp;<span class="op" id="2857165">&amp;&amp;</span>&nbsp;<span class="ident" id="2857168"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2857169">.</span><span class="ident" id="2857170">Elem</span><span class="op" id="2857174">(</span><span class="op" id="2857175">)</span>&nbsp;<span class="op" id="2857177">==</span>&nbsp;<span class="ident" id="2857180"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2857181">.</span><span class="ident" id="2857182">Elem</span><span class="op" id="2857186">(</span><span class="op" id="2857187">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857191">case</span>&nbsp;<span class="ident" id="2857196"><a href="/reflect/type.go.html#2830197">Ptr</a></span><span class="op" id="2857199">,</span>&nbsp;<span class="ident" id="2857201"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2857206">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857210">return</span>&nbsp;<span class="ident" id="2857217"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2857218">.</span><span class="ident" id="2857219">Elem</span><span class="op" id="2857223">(</span><span class="op" id="2857224">)</span>&nbsp;<span class="op" id="2857226">==</span>&nbsp;<span class="ident" id="2857229"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2857230">.</span><span class="ident" id="2857231">Elem</span><span class="op" id="2857235">(</span><span class="op" id="2857236">)</span><br>
<span class="lineno">1255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857240">case</span>&nbsp;<span class="ident" id="2857245"><a href="/reflect/type.go.html#2830217">Struct</a></span><span class="op" id="2857251">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2857255">t</span>&nbsp;<span class="op" id="2857257">:=</span>&nbsp;<span class="op" id="2857260">(</span><span class="op" id="2857261">*</span><span class="ident" id="2857262"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2857272">)</span><span class="op" id="2857273">(</span><span class="ident" id="2857274"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2857280">.</span><span class="ident" id="2857281">Pointer</span><span class="op" id="2857288">(</span><span class="ident" id="2857289"><a href="/reflect/type.go.html#2855727">T</a></span><span class="op" id="2857290">)</span><span class="op" id="2857291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2857295">v</span>&nbsp;<span class="op" id="2857297">:=</span>&nbsp;<span class="op" id="2857300">(</span><span class="op" id="2857301">*</span><span class="ident" id="2857302"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2857312">)</span><span class="op" id="2857313">(</span><span class="ident" id="2857314"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2857320">.</span><span class="ident" id="2857321">Pointer</span><span class="op" id="2857328">(</span><span class="ident" id="2857329"><a href="/reflect/type.go.html#2855730">V</a></span><span class="op" id="2857330">)</span><span class="op" id="2857331">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857335">if</span>&nbsp;<span class="builtinfunc" id="2857338">len</span><span class="op" id="2857341">(</span><span class="ident" id="2857342"><a href="/reflect/type.go.html#2857255">t</a></span><span class="op" id="2857343">.</span><span class="ident" id="2857344">fields</span><span class="op" id="2857350">)</span>&nbsp;<span class="op" id="2857352">!=</span>&nbsp;<span class="builtinfunc" id="2857355">len</span><span class="op" id="2857358">(</span><span class="ident" id="2857359"><a href="/reflect/type.go.html#2857295">v</a></span><span class="op" id="2857360">.</span><span class="ident" id="2857361">fields</span><span class="op" id="2857367">)</span>&nbsp;<span class="op" id="2857369">{</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857374">return</span>&nbsp;<span class="builtintype" id="2857381">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857389">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857393">for</span>&nbsp;<span class="ident" id="2857397">i</span>&nbsp;<span class="op" id="2857399">:=</span>&nbsp;<span class="keyword" id="2857402">range</span>&nbsp;<span class="ident" id="2857408"><a href="/reflect/type.go.html#2857255">t</a></span><span class="op" id="2857409">.</span><span class="ident" id="2857410">fields</span>&nbsp;<span class="op" id="2857417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2857422">tf</span>&nbsp;<span class="op" id="2857425">:=</span>&nbsp;<span class="op" id="2857428">&amp;</span><span class="ident" id="2857429"><a href="/reflect/type.go.html#2857255">t</a></span><span class="op" id="2857430">.</span><span class="ident" id="2857431">fields</span><span class="op" id="2857437">[</span><span class="ident" id="2857438"><a href="/reflect/type.go.html#2857397">i</a></span><span class="op" id="2857439">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2857444">vf</span>&nbsp;<span class="op" id="2857447">:=</span>&nbsp;<span class="op" id="2857450">&amp;</span><span class="ident" id="2857451"><a href="/reflect/type.go.html#2857295">v</a></span><span class="op" id="2857452">.</span><span class="ident" id="2857453">fields</span><span class="op" id="2857459">[</span><span class="ident" id="2857460"><a href="/reflect/type.go.html#2857397">i</a></span><span class="op" id="2857461">]</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857466">if</span>&nbsp;<span class="ident" id="2857469"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857471">.</span><span class="ident" id="2857472">name</span>&nbsp;<span class="op" id="2857477">!=</span>&nbsp;<span class="ident" id="2857480"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857482">.</span><span class="ident" id="2857483">name</span>&nbsp;<span class="op" id="2857488">&amp;&amp;</span>&nbsp;<span class="op" id="2857491">(</span><span class="ident" id="2857492"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857494">.</span><span class="ident" id="2857495">name</span>&nbsp;<span class="op" id="2857500">==</span>&nbsp;<span class="ident" id="2857503">nil</span>&nbsp;<span class="op" id="2857507">||</span>&nbsp;<span class="ident" id="2857510"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857512">.</span><span class="ident" id="2857513">name</span>&nbsp;<span class="op" id="2857518">==</span>&nbsp;<span class="ident" id="2857521">nil</span>&nbsp;<span class="op" id="2857525">||</span>&nbsp;<span class="op" id="2857528">*</span><span class="ident" id="2857529"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857531">.</span><span class="ident" id="2857532">name</span>&nbsp;<span class="op" id="2857537">!=</span>&nbsp;<span class="op" id="2857540">*</span><span class="ident" id="2857541"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857543">.</span><span class="ident" id="2857544">name</span><span class="op" id="2857548">)</span>&nbsp;<span class="op" id="2857550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857556">return</span>&nbsp;<span class="builtintype" id="2857563">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857577">if</span>&nbsp;<span class="ident" id="2857580"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857582">.</span><span class="ident" id="2857583">pkgPath</span>&nbsp;<span class="op" id="2857591">!=</span>&nbsp;<span class="ident" id="2857594"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857596">.</span><span class="ident" id="2857597">pkgPath</span>&nbsp;<span class="op" id="2857605">&amp;&amp;</span>&nbsp;<span class="op" id="2857608">(</span><span class="ident" id="2857609"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857611">.</span><span class="ident" id="2857612">pkgPath</span>&nbsp;<span class="op" id="2857620">==</span>&nbsp;<span class="ident" id="2857623">nil</span>&nbsp;<span class="op" id="2857627">||</span>&nbsp;<span class="ident" id="2857630"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857632">.</span><span class="ident" id="2857633">pkgPath</span>&nbsp;<span class="op" id="2857641">==</span>&nbsp;<span class="ident" id="2857644">nil</span>&nbsp;<span class="op" id="2857648">||</span>&nbsp;<span class="op" id="2857651">*</span><span class="ident" id="2857652"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857654">.</span><span class="ident" id="2857655">pkgPath</span>&nbsp;<span class="op" id="2857663">!=</span>&nbsp;<span class="op" id="2857666">*</span><span class="ident" id="2857667"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857669">.</span><span class="ident" id="2857670">pkgPath</span><span class="op" id="2857677">)</span>&nbsp;<span class="op" id="2857679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857685">return</span>&nbsp;<span class="builtintype" id="2857692">false</span><br>
<span class="lineno">1270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857706">if</span>&nbsp;<span class="ident" id="2857709"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857711">.</span><span class="ident" id="2857712">typ</span>&nbsp;<span class="op" id="2857716">!=</span>&nbsp;<span class="ident" id="2857719"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857721">.</span><span class="ident" id="2857722">typ</span>&nbsp;<span class="op" id="2857726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857732">return</span>&nbsp;<span class="builtintype" id="2857739">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857753">if</span>&nbsp;<span class="ident" id="2857756"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857758">.</span><span class="ident" id="2857759">tag</span>&nbsp;<span class="op" id="2857763">!=</span>&nbsp;<span class="ident" id="2857766"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857768">.</span><span class="ident" id="2857769">tag</span>&nbsp;<span class="op" id="2857773">&amp;&amp;</span>&nbsp;<span class="op" id="2857776">(</span><span class="ident" id="2857777"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857779">.</span><span class="ident" id="2857780">tag</span>&nbsp;<span class="op" id="2857784">==</span>&nbsp;<span class="ident" id="2857787">nil</span>&nbsp;<span class="op" id="2857791">||</span>&nbsp;<span class="ident" id="2857794"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857796">.</span><span class="ident" id="2857797">tag</span>&nbsp;<span class="op" id="2857801">==</span>&nbsp;<span class="ident" id="2857804">nil</span>&nbsp;<span class="op" id="2857808">||</span>&nbsp;<span class="op" id="2857811">*</span><span class="ident" id="2857812"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857814">.</span><span class="ident" id="2857815">tag</span>&nbsp;<span class="op" id="2857819">!=</span>&nbsp;<span class="op" id="2857822">*</span><span class="ident" id="2857823"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857825">.</span><span class="ident" id="2857826">tag</span><span class="op" id="2857829">)</span>&nbsp;<span class="op" id="2857831">{</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857837">return</span>&nbsp;<span class="builtintype" id="2857844">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857853">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857858">if</span>&nbsp;<span class="ident" id="2857861"><a href="/reflect/type.go.html#2857422">tf</a></span><span class="op" id="2857863">.</span><span class="ident" id="2857864">offset</span>&nbsp;<span class="op" id="2857871">!=</span>&nbsp;<span class="ident" id="2857874"><a href="/reflect/type.go.html#2857444">vf</a></span><span class="op" id="2857876">.</span><span class="ident" id="2857877">offset</span>&nbsp;<span class="op" id="2857884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857890">return</span>&nbsp;<span class="builtintype" id="2857897">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857906">}</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857914">return</span>&nbsp;<span class="builtintype" id="2857921">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2857927">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2857931">return</span>&nbsp;<span class="builtintype" id="2857938">false</span><br>
<span class="lineno">1285</span><span class="op" id="2857944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2857947">//&nbsp;typelinks&nbsp;is&nbsp;implemented&nbsp;in&nbsp;package&nbsp;runtime.</span><br>
<span class="lineno"></span><span class="comment" id="2857995">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;all&nbsp;the&nbsp;&#39;typelink&#39;&nbsp;information&nbsp;in&nbsp;the&nbsp;binary,</span><br>
<span class="lineno"></span><span class="comment" id="2858066">//&nbsp;which&nbsp;is&nbsp;to&nbsp;say&nbsp;a&nbsp;slice&nbsp;of&nbsp;known&nbsp;types,&nbsp;sorted&nbsp;by&nbsp;string.</span><br>
<span class="lineno">1290</span><span class="comment" id="2858127">//&nbsp;Note&nbsp;that&nbsp;strings&nbsp;are&nbsp;not&nbsp;unique&nbsp;identifiers&nbsp;for&nbsp;types:</span><br>
<span class="lineno"></span><span class="comment" id="2858186">//&nbsp;there&nbsp;can&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;with&nbsp;a&nbsp;given&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2858237">//&nbsp;Only&nbsp;types&nbsp;we&nbsp;might&nbsp;want&nbsp;to&nbsp;look&nbsp;up&nbsp;are&nbsp;included:</span><br>
<span class="lineno"></span><span class="comment" id="2858290">//&nbsp;channels,&nbsp;maps,&nbsp;slices,&nbsp;and&nbsp;arrays.</span><br>
<span class="lineno"></span><span class="keyword" id="2858329">func</span>&nbsp;<span class="ident" id="2858334">typelinks</span><span class="op" id="2858343">(</span><span class="op" id="2858344">)</span>&nbsp;<span class="op" id="2858346">[</span><span class="op" id="2858347">]</span><span class="op" id="2858348">*</span><span class="ident" id="2858349"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno">1295</span><br>
<span class="lineno"></span><span class="comment" id="2858356">//&nbsp;typesByString&nbsp;returns&nbsp;the&nbsp;subslice&nbsp;of&nbsp;typelinks()&nbsp;whose&nbsp;elements&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="2858429">//&nbsp;the&nbsp;given&nbsp;string&nbsp;representation.</span><br>
<span class="lineno"></span><span class="comment" id="2858465">//&nbsp;It&nbsp;may&nbsp;be&nbsp;empty&nbsp;(no&nbsp;known&nbsp;types&nbsp;with&nbsp;that&nbsp;string)&nbsp;or&nbsp;may&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="2858530">//&nbsp;multiple&nbsp;elements&nbsp;(multiple&nbsp;types&nbsp;with&nbsp;that&nbsp;string).</span><br>
<span class="lineno">1300</span><span class="keyword" id="2858586">func</span>&nbsp;<span class="ident" id="2858591">typesByString</span><span class="op" id="2858604">(</span><span class="ident" id="2858605">s</span>&nbsp;<span class="builtintype" id="2858607">string</span><span class="op" id="2858613">)</span>&nbsp;<span class="op" id="2858615">[</span><span class="op" id="2858616">]</span><span class="op" id="2858617">*</span><span class="ident" id="2858618"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="op" id="2858624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2858627">typ</span>&nbsp;<span class="op" id="2858631">:=</span>&nbsp;<span class="ident" id="2858634"><a href="/reflect/type.go.html#2858334">typelinks</a></span><span class="op" id="2858643">(</span><span class="op" id="2858644">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2858648">//&nbsp;We&nbsp;are&nbsp;looking&nbsp;for&nbsp;the&nbsp;first&nbsp;index&nbsp;i&nbsp;where&nbsp;the&nbsp;string&nbsp;becomes&nbsp;&gt;=&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2858720">//&nbsp;This&nbsp;is&nbsp;a&nbsp;copy&nbsp;of&nbsp;sort.Search,&nbsp;with&nbsp;f(h)&nbsp;replaced&nbsp;by&nbsp;(*typ[h].string&nbsp;&gt;=&nbsp;s).</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2858800">i</span><span class="op" id="2858801">,</span>&nbsp;<span class="ident" id="2858803">j</span>&nbsp;<span class="op" id="2858805">:=</span>&nbsp;<span class="num" id="2858808">0</span><span class="op" id="2858809">,</span>&nbsp;<span class="builtinfunc" id="2858811">len</span><span class="op" id="2858814">(</span><span class="ident" id="2858815"><a href="/reflect/type.go.html#2858627">typ</a></span><span class="op" id="2858818">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2858821">for</span>&nbsp;<span class="ident" id="2858825"><a href="/reflect/type.go.html#2858800">i</a></span>&nbsp;<span class="op" id="2858827">&lt;</span>&nbsp;<span class="ident" id="2858829"><a href="/reflect/type.go.html#2858803">j</a></span>&nbsp;<span class="op" id="2858831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2858835">h</span>&nbsp;<span class="op" id="2858837">:=</span>&nbsp;<span class="ident" id="2858840"><a href="/reflect/type.go.html#2858800">i</a></span>&nbsp;<span class="op" id="2858842">+</span>&nbsp;<span class="op" id="2858844">(</span><span class="ident" id="2858845"><a href="/reflect/type.go.html#2858803">j</a></span><span class="op" id="2858846">-</span><span class="ident" id="2858847"><a href="/reflect/type.go.html#2858800">i</a></span><span class="op" id="2858848">)</span><span class="op" id="2858849">/</span><span class="num" id="2858850">2</span>&nbsp;<span class="comment" id="2858852">//&nbsp;avoid&nbsp;overflow&nbsp;when&nbsp;computing&nbsp;h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2858889">//&nbsp;i&nbsp;&nbsp;h&nbsp;&lt;&nbsp;j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2858906">if</span>&nbsp;<span class="op" id="2858909">!</span><span class="op" id="2858910">(</span><span class="op" id="2858911">*</span><span class="ident" id="2858912"><a href="/reflect/type.go.html#2858627">typ</a></span><span class="op" id="2858915">[</span><span class="ident" id="2858916"><a href="/reflect/type.go.html#2858835">h</a></span><span class="op" id="2858917">]</span><span class="op" id="2858918">.</span><span class="builtintype" id="2858919">string</span>&nbsp;<span class="op" id="2858926">&gt;=</span>&nbsp;<span class="ident" id="2858929"><a href="/reflect/type.go.html#2858605">s</a></span><span class="op" id="2858930">)</span>&nbsp;<span class="op" id="2858932">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2858937"><a href="/reflect/type.go.html#2858800">i</a></span>&nbsp;<span class="op" id="2858939">=</span>&nbsp;<span class="ident" id="2858941"><a href="/reflect/type.go.html#2858835">h</a></span>&nbsp;<span class="op" id="2858943">+</span>&nbsp;<span class="num" id="2858945">1</span>&nbsp;<span class="comment" id="2858947">//&nbsp;preserves&nbsp;f(i-1)&nbsp;==&nbsp;false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2858978">}</span>&nbsp;<span class="keyword" id="2858980">else</span>&nbsp;<span class="op" id="2858985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2858990"><a href="/reflect/type.go.html#2858803">j</a></span>&nbsp;<span class="op" id="2858992">=</span>&nbsp;<span class="ident" id="2858994"><a href="/reflect/type.go.html#2858835">h</a></span>&nbsp;<span class="comment" id="2858996">//&nbsp;preserves&nbsp;f(j)&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2859024">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2859027">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2859030">//&nbsp;i&nbsp;==&nbsp;j,&nbsp;f(i-1)&nbsp;==&nbsp;false,&nbsp;and&nbsp;f(j)&nbsp;(=&nbsp;f(i))&nbsp;==&nbsp;true&nbsp;&nbsp;=&gt;&nbsp;&nbsp;answer&nbsp;is&nbsp;i.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2859104">//&nbsp;Having&nbsp;found&nbsp;the&nbsp;first,&nbsp;linear&nbsp;scan&nbsp;forward&nbsp;to&nbsp;find&nbsp;the&nbsp;last.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2859170">//&nbsp;We&nbsp;could&nbsp;do&nbsp;a&nbsp;second&nbsp;binary&nbsp;search,&nbsp;but&nbsp;the&nbsp;caller&nbsp;is&nbsp;going</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2859234">//&nbsp;to&nbsp;do&nbsp;a&nbsp;linear&nbsp;scan&nbsp;anyway.</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859266"><a href="/reflect/type.go.html#2858803">j</a></span>&nbsp;<span class="op" id="2859268">=</span>&nbsp;<span class="ident" id="2859270"><a href="/reflect/type.go.html#2858800">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2859273">for</span>&nbsp;<span class="ident" id="2859277"><a href="/reflect/type.go.html#2858803">j</a></span>&nbsp;<span class="op" id="2859279">&lt;</span>&nbsp;<span class="builtinfunc" id="2859281">len</span><span class="op" id="2859284">(</span><span class="ident" id="2859285"><a href="/reflect/type.go.html#2858627">typ</a></span><span class="op" id="2859288">)</span>&nbsp;<span class="op" id="2859290">&amp;&amp;</span>&nbsp;<span class="op" id="2859293">*</span><span class="ident" id="2859294"><a href="/reflect/type.go.html#2858627">typ</a></span><span class="op" id="2859297">[</span><span class="ident" id="2859298"><a href="/reflect/type.go.html#2858803">j</a></span><span class="op" id="2859299">]</span><span class="op" id="2859300">.</span><span class="builtintype" id="2859301">string</span>&nbsp;<span class="op" id="2859308">==</span>&nbsp;<span class="ident" id="2859311"><a href="/reflect/type.go.html#2858605">s</a></span>&nbsp;<span class="op" id="2859313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859317"><a href="/reflect/type.go.html#2858803">j</a></span><span class="op" id="2859318">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2859322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2859326">//&nbsp;This&nbsp;slice&nbsp;will&nbsp;be&nbsp;empty&nbsp;if&nbsp;the&nbsp;string&nbsp;is&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2859383">return</span>&nbsp;<span class="ident" id="2859390"><a href="/reflect/type.go.html#2858627">typ</a></span><span class="op" id="2859393">[</span><span class="ident" id="2859394"><a href="/reflect/type.go.html#2858800">i</a></span><span class="op" id="2859395">:</span><span class="ident" id="2859396"><a href="/reflect/type.go.html#2858803">j</a></span><span class="op" id="2859397">]</span><br>
<span class="lineno"></span><span class="op" id="2859399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2859402">//&nbsp;The&nbsp;lookupCache&nbsp;caches&nbsp;ChanOf,&nbsp;MapOf,&nbsp;and&nbsp;SliceOf&nbsp;lookups.</span><br>
<span class="lineno">1330</span><span class="keyword" id="2859464">var</span>&nbsp;<span class="ident" id="2859468">lookupCache</span>&nbsp;<span class="keyword" id="2859480">struct</span>&nbsp;<span class="op" id="2859487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859490"><a href="/reflect/type.go.html#2823240">sync</a></span><span class="op" id="2859494">.</span><span class="ident" id="2859495">RWMutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859504">m</span>&nbsp;<span class="keyword" id="2859506">map</span><span class="op" id="2859509">[</span><span class="ident" id="2859510"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2859518">]</span><span class="op" id="2859519">*</span><span class="ident" id="2859520"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span><span class="op" id="2859526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1335</span><span class="comment" id="2859529">//&nbsp;A&nbsp;cacheKey&nbsp;is&nbsp;the&nbsp;key&nbsp;for&nbsp;use&nbsp;in&nbsp;the&nbsp;lookupCache.</span><br>
<span class="lineno"></span><span class="comment" id="2859582">//&nbsp;Four&nbsp;values&nbsp;describe&nbsp;any&nbsp;of&nbsp;the&nbsp;types&nbsp;we&nbsp;are&nbsp;looking&nbsp;for:</span><br>
<span class="lineno"></span><span class="comment" id="2859643">//&nbsp;type&nbsp;kind,&nbsp;one&nbsp;or&nbsp;two&nbsp;subtypes,&nbsp;and&nbsp;an&nbsp;extra&nbsp;integer.</span><br>
<span class="lineno"></span><span class="keyword" id="2859700">type</span>&nbsp;<span class="ident" id="2859705">cacheKey</span>&nbsp;<span class="keyword" id="2859714">struct</span>&nbsp;<span class="op" id="2859721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859724">kind</span>&nbsp;&nbsp;<span class="ident" id="2859730"><a href="/reflect/type.go.html#2829996">Kind</a></span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859736">t1</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2859742">*</span><span class="ident" id="2859743"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859750">t2</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2859756">*</span><span class="ident" id="2859757"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2859764">extra</span>&nbsp;<span class="builtintype" id="2859770">uintptr</span><br>
<span class="lineno"></span><span class="op" id="2859778">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1345</span><span class="comment" id="2859781">//&nbsp;cacheGet&nbsp;looks&nbsp;for&nbsp;a&nbsp;type&nbsp;under&nbsp;the&nbsp;key&nbsp;k&nbsp;in&nbsp;the&nbsp;lookupCache.</span><br>
<span class="lineno"></span><span class="comment" id="2859846">//&nbsp;If&nbsp;it&nbsp;finds&nbsp;one,&nbsp;it&nbsp;returns&nbsp;that&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2859888">//&nbsp;If&nbsp;not,&nbsp;it&nbsp;returns&nbsp;nil&nbsp;with&nbsp;the&nbsp;cache&nbsp;locked.</span><br>
<span class="lineno"></span><span class="comment" id="2859937">//&nbsp;The&nbsp;caller&nbsp;is&nbsp;expected&nbsp;to&nbsp;use&nbsp;cachePut&nbsp;to&nbsp;unlock&nbsp;the&nbsp;cache.</span><br>
<span class="lineno"></span><span class="keyword" id="2860000">func</span>&nbsp;<span class="ident" id="2860005">cacheGet</span><span class="op" id="2860013">(</span><span class="ident" id="2860014">k</span>&nbsp;<span class="ident" id="2860016"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2860024">)</span>&nbsp;<span class="ident" id="2860026"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2860031">{</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860034"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860045">.</span><span class="ident" id="2860046">RLock</span><span class="op" id="2860051">(</span><span class="op" id="2860052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860055">t</span>&nbsp;<span class="op" id="2860057">:=</span>&nbsp;<span class="ident" id="2860060"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860071">.</span><span class="ident" id="2860072">m</span><span class="op" id="2860073">[</span><span class="ident" id="2860074"><a href="/reflect/type.go.html#2860014">k</a></span><span class="op" id="2860075">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860078"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860089">.</span><span class="ident" id="2860090">RUnlock</span><span class="op" id="2860097">(</span><span class="op" id="2860098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860101">if</span>&nbsp;<span class="ident" id="2860104"><a href="/reflect/type.go.html#2860055">t</a></span>&nbsp;<span class="op" id="2860106">!=</span>&nbsp;<span class="ident" id="2860109">nil</span>&nbsp;<span class="op" id="2860113">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860117">return</span>&nbsp;<span class="ident" id="2860124"><a href="/reflect/type.go.html#2860055">t</a></span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2860127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860131"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860142">.</span><span class="ident" id="2860143">Lock</span><span class="op" id="2860147">(</span><span class="op" id="2860148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860151"><a href="/reflect/type.go.html#2860055">t</a></span>&nbsp;<span class="op" id="2860153">=</span>&nbsp;<span class="ident" id="2860155"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860166">.</span><span class="ident" id="2860167">m</span><span class="op" id="2860168">[</span><span class="ident" id="2860169"><a href="/reflect/type.go.html#2860014">k</a></span><span class="op" id="2860170">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860173">if</span>&nbsp;<span class="ident" id="2860176"><a href="/reflect/type.go.html#2860055">t</a></span>&nbsp;<span class="op" id="2860178">!=</span>&nbsp;<span class="ident" id="2860181">nil</span>&nbsp;<span class="op" id="2860185">{</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860189"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860200">.</span><span class="ident" id="2860201">Unlock</span><span class="op" id="2860207">(</span><span class="op" id="2860208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860212">return</span>&nbsp;<span class="ident" id="2860219"><a href="/reflect/type.go.html#2860055">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2860222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860226">if</span>&nbsp;<span class="ident" id="2860229"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860240">.</span><span class="ident" id="2860241">m</span>&nbsp;<span class="op" id="2860243">==</span>&nbsp;<span class="ident" id="2860246">nil</span>&nbsp;<span class="op" id="2860250">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860254"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860265">.</span><span class="ident" id="2860266">m</span>&nbsp;<span class="op" id="2860268">=</span>&nbsp;<span class="builtinfunc" id="2860270">make</span><span class="op" id="2860274">(</span><span class="keyword" id="2860275">map</span><span class="op" id="2860278">[</span><span class="ident" id="2860279"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2860287">]</span><span class="op" id="2860288">*</span><span class="ident" id="2860289"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2860294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2860297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860301">return</span>&nbsp;<span class="ident" id="2860308">nil</span><br>
<span class="lineno"></span><span class="op" id="2860312">}</span><br>
<span class="lineno">1370</span><br>
<span class="lineno"></span><span class="comment" id="2860315">//&nbsp;cachePut&nbsp;stores&nbsp;the&nbsp;given&nbsp;type&nbsp;in&nbsp;the&nbsp;cache,&nbsp;unlocks&nbsp;the&nbsp;cache,</span><br>
<span class="lineno"></span><span class="comment" id="2860382">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;type.&nbsp;It&nbsp;is&nbsp;expected&nbsp;that&nbsp;the&nbsp;cache&nbsp;is&nbsp;locked</span><br>
<span class="lineno"></span><span class="comment" id="2860447">//&nbsp;because&nbsp;cacheGet&nbsp;returned&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2860481">func</span>&nbsp;<span class="ident" id="2860486">cachePut</span><span class="op" id="2860494">(</span><span class="ident" id="2860495">k</span>&nbsp;<span class="ident" id="2860497"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2860505">,</span>&nbsp;<span class="ident" id="2860507">t</span>&nbsp;<span class="op" id="2860509">*</span><span class="ident" id="2860510"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2860515">)</span>&nbsp;<span class="ident" id="2860517"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2860522">{</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860525"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860536">.</span><span class="ident" id="2860537">m</span><span class="op" id="2860538">[</span><span class="ident" id="2860539"><a href="/reflect/type.go.html#2860495">k</a></span><span class="op" id="2860540">]</span>&nbsp;<span class="op" id="2860542">=</span>&nbsp;<span class="ident" id="2860544"><a href="/reflect/type.go.html#2860507">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860547"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2860558">.</span><span class="ident" id="2860559">Unlock</span><span class="op" id="2860565">(</span><span class="op" id="2860566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2860569">return</span>&nbsp;<span class="ident" id="2860576"><a href="/reflect/type.go.html#2860507">t</a></span><br>
<span class="lineno"></span><span class="op" id="2860578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1380</span><span class="comment" id="2860581">//&nbsp;ChanOf&nbsp;returns&nbsp;the&nbsp;channel&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;direction&nbsp;and&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2860659">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;ChanOf(RecvDir,&nbsp;t)&nbsp;represents&nbsp;&lt;-chan&nbsp;int.</span><br>
<span class="lineno"></span><span class="comment" id="2860738">//</span><br>
<span class="lineno"></span><span class="comment" id="2860741">//&nbsp;The&nbsp;gc&nbsp;runtime&nbsp;imposes&nbsp;a&nbsp;limit&nbsp;of&nbsp;64&nbsp;kB&nbsp;on&nbsp;channel&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="2860810">//&nbsp;If&nbsp;t&#39;s&nbsp;size&nbsp;is&nbsp;equal&nbsp;to&nbsp;or&nbsp;exceeds&nbsp;this&nbsp;limit,&nbsp;ChanOf&nbsp;panics.</span><br>
<span class="lineno">1385</span><span class="keyword" id="2860875">func</span>&nbsp;<span class="ident" id="2860880">ChanOf</span><span class="op" id="2860886">(</span><span class="ident" id="2860887">dir</span>&nbsp;<span class="ident" id="2860891"><a href="/reflect/type.go.html#2832560">ChanDir</a></span><span class="op" id="2860898">,</span>&nbsp;<span class="ident" id="2860900">t</span>&nbsp;<span class="ident" id="2860902"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2860906">)</span>&nbsp;<span class="ident" id="2860908"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2860913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860916">typ</span>&nbsp;<span class="op" id="2860920">:=</span>&nbsp;<span class="ident" id="2860923"><a href="/reflect/type.go.html#2860900">t</a></span><span class="op" id="2860924">.</span><span class="op" id="2860925">(</span><span class="op" id="2860926">*</span><span class="ident" id="2860927"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2860932">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2860936">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2860955">ckey</span>&nbsp;<span class="op" id="2860960">:=</span>&nbsp;<span class="ident" id="2860963"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2860971">{</span><span class="ident" id="2860972"><a href="/reflect/type.go.html#2830169">Chan</a></span><span class="op" id="2860976">,</span>&nbsp;<span class="ident" id="2860978"><a href="/reflect/type.go.html#2860916">typ</a></span><span class="op" id="2860981">,</span>&nbsp;<span class="ident" id="2860983">nil</span><span class="op" id="2860986">,</span>&nbsp;<span class="builtintype" id="2860988">uintptr</span><span class="op" id="2860995">(</span><span class="ident" id="2860996"><a href="/reflect/type.go.html#2860887">dir</a></span><span class="op" id="2860999">)</span><span class="op" id="2861000">}</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861003">if</span>&nbsp;<span class="ident" id="2861006">ch</span>&nbsp;<span class="op" id="2861009">:=</span>&nbsp;<span class="ident" id="2861012"><a href="/reflect/type.go.html#2860005">cacheGet</a></span><span class="op" id="2861020">(</span><span class="ident" id="2861021"><a href="/reflect/type.go.html#2860955">ckey</a></span><span class="op" id="2861025">)</span><span class="op" id="2861026">;</span>&nbsp;<span class="ident" id="2861028"><a href="/reflect/type.go.html#2861006">ch</a></span>&nbsp;<span class="op" id="2861031">!=</span>&nbsp;<span class="ident" id="2861034">nil</span>&nbsp;<span class="op" id="2861038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861042">return</span>&nbsp;<span class="ident" id="2861049"><a href="/reflect/type.go.html#2861006">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2861053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2861057">//&nbsp;This&nbsp;restriction&nbsp;is&nbsp;imposed&nbsp;by&nbsp;the&nbsp;gc&nbsp;compiler&nbsp;and&nbsp;the&nbsp;runtime.</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861125">if</span>&nbsp;<span class="ident" id="2861128"><a href="/reflect/type.go.html#2860916">typ</a></span><span class="op" id="2861131">.</span><span class="ident" id="2861132">size</span>&nbsp;<span class="op" id="2861137">&gt;=</span>&nbsp;<span class="num" id="2861140">1</span><span class="op" id="2861141">&lt;&lt;</span><span class="num" id="2861143">16</span>&nbsp;<span class="op" id="2861146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861150"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2861161">.</span><span class="ident" id="2861162">Unlock</span><span class="op" id="2861168">(</span><span class="op" id="2861169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2861173">panic</span><span class="op" id="2861178">(</span><span class="string" id="2861179">&#34;reflect.ChanOf:&nbsp;element&nbsp;size&nbsp;too&nbsp;large&#34;</span><span class="op" id="2861219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2861222">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2861226">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2861251">//&nbsp;TODO:&nbsp;Precedence&nbsp;when&nbsp;constructing&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861298">var</span>&nbsp;<span class="ident" id="2861302">s</span>&nbsp;<span class="builtintype" id="2861304">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861312">switch</span>&nbsp;<span class="ident" id="2861319"><a href="/reflect/type.go.html#2860887">dir</a></span>&nbsp;<span class="op" id="2861323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861326">default</span><span class="op" id="2861333">:</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861337"><a href="/reflect/type.go.html#2859468">lookupCache</a></span><span class="op" id="2861348">.</span><span class="ident" id="2861349">Unlock</span><span class="op" id="2861355">(</span><span class="op" id="2861356">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2861360">panic</span><span class="op" id="2861365">(</span><span class="string" id="2861366">&#34;reflect.ChanOf:&nbsp;invalid&nbsp;dir&#34;</span><span class="op" id="2861395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861398">case</span>&nbsp;<span class="ident" id="2861403"><a href="/reflect/type.go.html#2832633">SendDir</a></span><span class="op" id="2861410">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861414"><a href="/reflect/type.go.html#2861302">s</a></span>&nbsp;<span class="op" id="2861416">=</span>&nbsp;<span class="string" id="2861418">&#34;chan&lt;-&nbsp;&#34;</span>&nbsp;<span class="op" id="2861428">+</span>&nbsp;<span class="op" id="2861430">*</span><span class="ident" id="2861431"><a href="/reflect/type.go.html#2860916">typ</a></span><span class="op" id="2861434">.</span><span class="builtintype" id="2861435">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861443">case</span>&nbsp;<span class="ident" id="2861448"><a href="/reflect/type.go.html#2832582">RecvDir</a></span><span class="op" id="2861455">:</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861459"><a href="/reflect/type.go.html#2861302">s</a></span>&nbsp;<span class="op" id="2861461">=</span>&nbsp;<span class="string" id="2861463">&#34;&lt;-chan&nbsp;&#34;</span>&nbsp;<span class="op" id="2861473">+</span>&nbsp;<span class="op" id="2861475">*</span><span class="ident" id="2861476"><a href="/reflect/type.go.html#2860916">typ</a></span><span class="op" id="2861479">.</span><span class="builtintype" id="2861480">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861488">case</span>&nbsp;<span class="ident" id="2861493"><a href="/reflect/type.go.html#2832684">BothDir</a></span><span class="op" id="2861500">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861504"><a href="/reflect/type.go.html#2861302">s</a></span>&nbsp;<span class="op" id="2861506">=</span>&nbsp;<span class="string" id="2861508">&#34;chan&nbsp;&#34;</span>&nbsp;<span class="op" id="2861516">+</span>&nbsp;<span class="op" id="2861518">*</span><span class="ident" id="2861519"><a href="/reflect/type.go.html#2860916">typ</a></span><span class="op" id="2861522">.</span><span class="builtintype" id="2861523">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2861531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861534">for</span>&nbsp;<span class="ident" id="2861538">_</span><span class="op" id="2861539">,</span>&nbsp;<span class="ident" id="2861541">tt</span>&nbsp;<span class="op" id="2861544">:=</span>&nbsp;<span class="keyword" id="2861547">range</span>&nbsp;<span class="ident" id="2861553"><a href="/reflect/type.go.html#2858591">typesByString</a></span><span class="op" id="2861566">(</span><span class="ident" id="2861567"><a href="/reflect/type.go.html#2861302">s</a></span><span class="op" id="2861568">)</span>&nbsp;<span class="op" id="2861570">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861574">ch</span>&nbsp;<span class="op" id="2861577">:=</span>&nbsp;<span class="op" id="2861580">(</span><span class="op" id="2861581">*</span><span class="ident" id="2861582"><a href="/reflect/type.go.html#2832954">chanType</a></span><span class="op" id="2861590">)</span><span class="op" id="2861591">(</span><span class="ident" id="2861592"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2861598">.</span><span class="ident" id="2861599">Pointer</span><span class="op" id="2861606">(</span><span class="ident" id="2861607"><a href="/reflect/type.go.html#2861541">tt</a></span><span class="op" id="2861609">)</span><span class="op" id="2861610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861614">if</span>&nbsp;<span class="ident" id="2861617"><a href="/reflect/type.go.html#2861574">ch</a></span><span class="op" id="2861619">.</span><span class="ident" id="2861620">elem</span>&nbsp;<span class="op" id="2861625">==</span>&nbsp;<span class="ident" id="2861628"><a href="/reflect/type.go.html#2860916">typ</a></span>&nbsp;<span class="op" id="2861632">&amp;&amp;</span>&nbsp;<span class="ident" id="2861635"><a href="/reflect/type.go.html#2861574">ch</a></span><span class="op" id="2861637">.</span><span class="ident" id="2861638">dir</span>&nbsp;<span class="op" id="2861642">==</span>&nbsp;<span class="builtintype" id="2861645">uintptr</span><span class="op" id="2861652">(</span><span class="ident" id="2861653"><a href="/reflect/type.go.html#2860887">dir</a></span><span class="op" id="2861656">)</span>&nbsp;<span class="op" id="2861658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861663">return</span>&nbsp;<span class="ident" id="2861670"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2861678">(</span><span class="ident" id="2861679"><a href="/reflect/type.go.html#2860955">ckey</a></span><span class="op" id="2861683">,</span>&nbsp;<span class="ident" id="2861685"><a href="/reflect/type.go.html#2861541">tt</a></span><span class="op" id="2861687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2861691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2861694">}</span><br>
<span class="lineno">1420</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2861698">//&nbsp;Make&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2861723">var</span>&nbsp;<span class="ident" id="2861727">ichan</span>&nbsp;<span class="keyword" id="2861733">interface</span><span class="op" id="2861742">{</span><span class="op" id="2861743">}</span>&nbsp;<span class="op" id="2861745">=</span>&nbsp;<span class="op" id="2861747">(</span><span class="keyword" id="2861748">chan</span>&nbsp;<span class="ident" id="2861753"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2861759">.</span><span class="ident" id="2861760">Pointer</span><span class="op" id="2861767">)</span><span class="op" id="2861768">(</span><span class="ident" id="2861769">nil</span><span class="op" id="2861772">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861775">prototype</span>&nbsp;<span class="op" id="2861785">:=</span>&nbsp;<span class="op" id="2861788">*</span><span class="op" id="2861789">(</span><span class="op" id="2861790">*</span><span class="op" id="2861791">*</span><span class="ident" id="2861792"><a href="/reflect/type.go.html#2832954">chanType</a></span><span class="op" id="2861800">)</span><span class="op" id="2861801">(</span><span class="ident" id="2861802"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2861808">.</span><span class="ident" id="2861809">Pointer</span><span class="op" id="2861816">(</span><span class="op" id="2861817">&amp;</span><span class="ident" id="2861818"><a href="/reflect/type.go.html#2861727">ichan</a></span><span class="op" id="2861823">)</span><span class="op" id="2861824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861827">ch</span>&nbsp;<span class="op" id="2861830">:=</span>&nbsp;<span class="builtinfunc" id="2861833">new</span><span class="op" id="2861836">(</span><span class="ident" id="2861837"><a href="/reflect/type.go.html#2832954">chanType</a></span><span class="op" id="2861845">)</span><br>
<span class="lineno">1425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2861848">*</span><span class="ident" id="2861849"><a href="/reflect/type.go.html#2861827">ch</a></span>&nbsp;<span class="op" id="2861852">=</span>&nbsp;<span class="op" id="2861854">*</span><span class="ident" id="2861855"><a href="/reflect/type.go.html#2861775">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861866"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2861868">.</span><span class="builtintype" id="2861869">string</span>&nbsp;<span class="op" id="2861876">=</span>&nbsp;<span class="op" id="2861878">&amp;</span><span class="ident" id="2861879"><a href="/reflect/type.go.html#2861302">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861882"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2861884">.</span><span class="ident" id="2861885">hash</span>&nbsp;<span class="op" id="2861890">=</span>&nbsp;<span class="ident" id="2861892"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2861896">(</span><span class="ident" id="2861897"><a href="/reflect/type.go.html#2860916">typ</a></span><span class="op" id="2861900">.</span><span class="ident" id="2861901">hash</span><span class="op" id="2861905">,</span>&nbsp;<span class="string" id="2861907">&#39;c&#39;</span><span class="op" id="2861910">,</span>&nbsp;<span class="builtintype" id="2861912">byte</span><span class="op" id="2861916">(</span><span class="ident" id="2861917"><a href="/reflect/type.go.html#2860887">dir</a></span><span class="op" id="2861920">)</span><span class="op" id="2861921">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861924"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2861926">.</span><span class="ident" id="2861927">elem</span>&nbsp;<span class="op" id="2861932">=</span>&nbsp;<span class="ident" id="2861934"><a href="/reflect/type.go.html#2860916">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861939"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2861941">.</span><span class="ident" id="2861942">uncommonType</span>&nbsp;<span class="op" id="2861955">=</span>&nbsp;<span class="ident" id="2861957">nil</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861962"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2861964">.</span><span class="ident" id="2861965">ptrToThis</span>&nbsp;<span class="op" id="2861975">=</span>&nbsp;<span class="ident" id="2861977">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2861982"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2861984">.</span><span class="ident" id="2861985">zero</span>&nbsp;<span class="op" id="2861990">=</span>&nbsp;<span class="ident" id="2861992"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2861998">.</span><span class="ident" id="2861999">Pointer</span><span class="op" id="2862006">(</span><span class="op" id="2862007">&amp;</span><span class="builtinfunc" id="2862008">make</span><span class="op" id="2862012">(</span><span class="op" id="2862013">[</span><span class="op" id="2862014">]</span><span class="builtintype" id="2862015">byte</span><span class="op" id="2862019">,</span>&nbsp;<span class="ident" id="2862021"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2862023">.</span><span class="ident" id="2862024">size</span><span class="op" id="2862028">)</span><span class="op" id="2862029">[</span><span class="num" id="2862030">0</span><span class="op" id="2862031">]</span><span class="op" id="2862032">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862036">return</span>&nbsp;<span class="ident" id="2862043"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2862051">(</span><span class="ident" id="2862052"><a href="/reflect/type.go.html#2860955">ckey</a></span><span class="op" id="2862056">,</span>&nbsp;<span class="op" id="2862058">&amp;</span><span class="ident" id="2862059"><a href="/reflect/type.go.html#2861827">ch</a></span><span class="op" id="2862061">.</span><span class="ident" id="2862062">rtype</span><span class="op" id="2862067">)</span><br>
<span class="lineno"></span><span class="op" id="2862069">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="keyword" id="2862072">func</span>&nbsp;<span class="ident" id="2862077">ismapkey</span><span class="op" id="2862085">(</span><span class="op" id="2862086">*</span><span class="ident" id="2862087"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2862092">)</span>&nbsp;<span class="builtintype" id="2862094">bool</span>&nbsp;<span class="comment" id="2862099">//&nbsp;implemented&nbsp;in&nbsp;runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2862126">//&nbsp;MapOf&nbsp;returns&nbsp;the&nbsp;map&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;key&nbsp;and&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="2862194">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;k&nbsp;represents&nbsp;int&nbsp;and&nbsp;e&nbsp;represents&nbsp;string,</span><br>
<span class="lineno">1440</span><span class="comment" id="2862255">//&nbsp;MapOf(k,&nbsp;e)&nbsp;represents&nbsp;map[int]string.</span><br>
<span class="lineno"></span><span class="comment" id="2862297">//</span><br>
<span class="lineno"></span><span class="comment" id="2862300">//&nbsp;If&nbsp;the&nbsp;key&nbsp;type&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;map&nbsp;key&nbsp;type&nbsp;(that&nbsp;is,&nbsp;if&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="2862368">//&nbsp;not&nbsp;implement&nbsp;Go&#39;s&nbsp;==&nbsp;operator),&nbsp;MapOf&nbsp;panics.</span><br>
<span class="lineno"></span><span class="keyword" id="2862418">func</span>&nbsp;<span class="ident" id="2862423">MapOf</span><span class="op" id="2862428">(</span><span class="ident" id="2862429">key</span><span class="op" id="2862432">,</span>&nbsp;<span class="ident" id="2862434">elem</span>&nbsp;<span class="ident" id="2862439"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2862443">)</span>&nbsp;<span class="ident" id="2862445"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2862450">{</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2862453">ktyp</span>&nbsp;<span class="op" id="2862458">:=</span>&nbsp;<span class="ident" id="2862461"><a href="/reflect/type.go.html#2862429">key</a></span><span class="op" id="2862464">.</span><span class="op" id="2862465">(</span><span class="op" id="2862466">*</span><span class="ident" id="2862467"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2862472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2862475">etyp</span>&nbsp;<span class="op" id="2862480">:=</span>&nbsp;<span class="ident" id="2862483"><a href="/reflect/type.go.html#2862434">elem</a></span><span class="op" id="2862487">.</span><span class="op" id="2862488">(</span><span class="op" id="2862489">*</span><span class="ident" id="2862490"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2862495">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862499">if</span>&nbsp;<span class="op" id="2862502">!</span><span class="ident" id="2862503"><a href="/reflect/type.go.html#2862077">ismapkey</a></span><span class="op" id="2862511">(</span><span class="ident" id="2862512"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2862516">)</span>&nbsp;<span class="op" id="2862518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2862522">panic</span><span class="op" id="2862527">(</span><span class="string" id="2862528">&#34;reflect.MapOf:&nbsp;invalid&nbsp;key&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2862563">+</span>&nbsp;<span class="ident" id="2862565"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2862569">.</span><span class="ident" id="2862570">String</span><span class="op" id="2862576">(</span><span class="op" id="2862577">)</span><span class="op" id="2862578">)</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2862581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2862585">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2862604">ckey</span>&nbsp;<span class="op" id="2862609">:=</span>&nbsp;<span class="ident" id="2862612"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2862620">{</span><span class="ident" id="2862621"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2862624">,</span>&nbsp;<span class="ident" id="2862626"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2862630">,</span>&nbsp;<span class="ident" id="2862632"><a href="/reflect/type.go.html#2862475">etyp</a></span><span class="op" id="2862636">,</span>&nbsp;<span class="num" id="2862638">0</span><span class="op" id="2862639">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862642">if</span>&nbsp;<span class="ident" id="2862645">mt</span>&nbsp;<span class="op" id="2862648">:=</span>&nbsp;<span class="ident" id="2862651"><a href="/reflect/type.go.html#2860005">cacheGet</a></span><span class="op" id="2862659">(</span><span class="ident" id="2862660"><a href="/reflect/type.go.html#2862604">ckey</a></span><span class="op" id="2862664">)</span><span class="op" id="2862665">;</span>&nbsp;<span class="ident" id="2862667"><a href="/reflect/type.go.html#2862645">mt</a></span>&nbsp;<span class="op" id="2862670">!=</span>&nbsp;<span class="ident" id="2862673">nil</span>&nbsp;<span class="op" id="2862677">{</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862681">return</span>&nbsp;<span class="ident" id="2862688"><a href="/reflect/type.go.html#2862645">mt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2862692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2862696">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2862721">s</span>&nbsp;<span class="op" id="2862723">:=</span>&nbsp;<span class="string" id="2862726">&#34;map[&#34;</span>&nbsp;<span class="op" id="2862733">+</span>&nbsp;<span class="op" id="2862735">*</span><span class="ident" id="2862736"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2862740">.</span><span class="builtintype" id="2862741">string</span>&nbsp;<span class="op" id="2862748">+</span>&nbsp;<span class="string" id="2862750">&#34;]&#34;</span>&nbsp;<span class="op" id="2862754">+</span>&nbsp;<span class="op" id="2862756">*</span><span class="ident" id="2862757"><a href="/reflect/type.go.html#2862475">etyp</a></span><span class="op" id="2862761">.</span><span class="builtintype" id="2862762">string</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862770">for</span>&nbsp;<span class="ident" id="2862774">_</span><span class="op" id="2862775">,</span>&nbsp;<span class="ident" id="2862777">tt</span>&nbsp;<span class="op" id="2862780">:=</span>&nbsp;<span class="keyword" id="2862783">range</span>&nbsp;<span class="ident" id="2862789"><a href="/reflect/type.go.html#2858591">typesByString</a></span><span class="op" id="2862802">(</span><span class="ident" id="2862803"><a href="/reflect/type.go.html#2862721">s</a></span><span class="op" id="2862804">)</span>&nbsp;<span class="op" id="2862806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2862810">mt</span>&nbsp;<span class="op" id="2862813">:=</span>&nbsp;<span class="op" id="2862816">(</span><span class="op" id="2862817">*</span><span class="ident" id="2862818"><a href="/reflect/type.go.html#2833727">mapType</a></span><span class="op" id="2862825">)</span><span class="op" id="2862826">(</span><span class="ident" id="2862827"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2862833">.</span><span class="ident" id="2862834">Pointer</span><span class="op" id="2862841">(</span><span class="ident" id="2862842"><a href="/reflect/type.go.html#2862777">tt</a></span><span class="op" id="2862844">)</span><span class="op" id="2862845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862849">if</span>&nbsp;<span class="ident" id="2862852"><a href="/reflect/type.go.html#2862810">mt</a></span><span class="op" id="2862854">.</span><span class="ident" id="2862855">key</span>&nbsp;<span class="op" id="2862859">==</span>&nbsp;<span class="ident" id="2862862"><a href="/reflect/type.go.html#2862453">ktyp</a></span>&nbsp;<span class="op" id="2862867">&amp;&amp;</span>&nbsp;<span class="ident" id="2862870"><a href="/reflect/type.go.html#2862810">mt</a></span><span class="op" id="2862872">.</span><span class="ident" id="2862873">elem</span>&nbsp;<span class="op" id="2862878">==</span>&nbsp;<span class="ident" id="2862881"><a href="/reflect/type.go.html#2862475">etyp</a></span>&nbsp;<span class="op" id="2862886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862891">return</span>&nbsp;<span class="ident" id="2862898"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2862906">(</span><span class="ident" id="2862907"><a href="/reflect/type.go.html#2862604">ckey</a></span><span class="op" id="2862911">,</span>&nbsp;<span class="ident" id="2862913"><a href="/reflect/type.go.html#2862777">tt</a></span><span class="op" id="2862915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2862919">}</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2862922">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2862926">//&nbsp;Make&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2862947">var</span>&nbsp;<span class="ident" id="2862951">imap</span>&nbsp;<span class="keyword" id="2862956">interface</span><span class="op" id="2862965">{</span><span class="op" id="2862966">}</span>&nbsp;<span class="op" id="2862968">=</span>&nbsp;<span class="op" id="2862970">(</span><span class="keyword" id="2862971">map</span><span class="op" id="2862974">[</span><span class="ident" id="2862975"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2862981">.</span><span class="ident" id="2862982">Pointer</span><span class="op" id="2862989">]</span><span class="ident" id="2862990"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2862996">.</span><span class="ident" id="2862997">Pointer</span><span class="op" id="2863004">)</span><span class="op" id="2863005">(</span><span class="ident" id="2863006">nil</span><span class="op" id="2863009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863012">prototype</span>&nbsp;<span class="op" id="2863022">:=</span>&nbsp;<span class="op" id="2863025">*</span><span class="op" id="2863026">(</span><span class="op" id="2863027">*</span><span class="op" id="2863028">*</span><span class="ident" id="2863029"><a href="/reflect/type.go.html#2833727">mapType</a></span><span class="op" id="2863036">)</span><span class="op" id="2863037">(</span><span class="ident" id="2863038"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2863044">.</span><span class="ident" id="2863045">Pointer</span><span class="op" id="2863052">(</span><span class="op" id="2863053">&amp;</span><span class="ident" id="2863054"><a href="/reflect/type.go.html#2862951">imap</a></span><span class="op" id="2863058">)</span><span class="op" id="2863059">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863062">mt</span>&nbsp;<span class="op" id="2863065">:=</span>&nbsp;<span class="builtinfunc" id="2863068">new</span><span class="op" id="2863071">(</span><span class="ident" id="2863072"><a href="/reflect/type.go.html#2833727">mapType</a></span><span class="op" id="2863079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2863082">*</span><span class="ident" id="2863083"><a href="/reflect/type.go.html#2863062">mt</a></span>&nbsp;<span class="op" id="2863086">=</span>&nbsp;<span class="op" id="2863088">*</span><span class="ident" id="2863089"><a href="/reflect/type.go.html#2863012">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863100"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863102">.</span><span class="builtintype" id="2863103">string</span>&nbsp;<span class="op" id="2863110">=</span>&nbsp;<span class="op" id="2863112">&amp;</span><span class="ident" id="2863113"><a href="/reflect/type.go.html#2862721">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863116"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863118">.</span><span class="ident" id="2863119">hash</span>&nbsp;<span class="op" id="2863124">=</span>&nbsp;<span class="ident" id="2863126"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2863130">(</span><span class="ident" id="2863131"><a href="/reflect/type.go.html#2862475">etyp</a></span><span class="op" id="2863135">.</span><span class="ident" id="2863136">hash</span><span class="op" id="2863140">,</span>&nbsp;<span class="string" id="2863142">&#39;m&#39;</span><span class="op" id="2863145">,</span>&nbsp;<span class="builtintype" id="2863147">byte</span><span class="op" id="2863151">(</span><span class="ident" id="2863152"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863156">.</span><span class="ident" id="2863157">hash</span><span class="op" id="2863161">&gt;&gt;</span><span class="num" id="2863163">24</span><span class="op" id="2863165">)</span><span class="op" id="2863166">,</span>&nbsp;<span class="builtintype" id="2863168">byte</span><span class="op" id="2863172">(</span><span class="ident" id="2863173"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863177">.</span><span class="ident" id="2863178">hash</span><span class="op" id="2863182">&gt;&gt;</span><span class="num" id="2863184">16</span><span class="op" id="2863186">)</span><span class="op" id="2863187">,</span>&nbsp;<span class="builtintype" id="2863189">byte</span><span class="op" id="2863193">(</span><span class="ident" id="2863194"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863198">.</span><span class="ident" id="2863199">hash</span><span class="op" id="2863203">&gt;&gt;</span><span class="num" id="2863205">8</span><span class="op" id="2863206">)</span><span class="op" id="2863207">,</span>&nbsp;<span class="builtintype" id="2863209">byte</span><span class="op" id="2863213">(</span><span class="ident" id="2863214"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863218">.</span><span class="ident" id="2863219">hash</span><span class="op" id="2863223">)</span><span class="op" id="2863224">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863227"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863229">.</span><span class="ident" id="2863230">key</span>&nbsp;<span class="op" id="2863234">=</span>&nbsp;<span class="ident" id="2863236"><a href="/reflect/type.go.html#2862453">ktyp</a></span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863242"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863244">.</span><span class="ident" id="2863245">elem</span>&nbsp;<span class="op" id="2863250">=</span>&nbsp;<span class="ident" id="2863252"><a href="/reflect/type.go.html#2862475">etyp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863258"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863260">.</span><span class="ident" id="2863261">bucket</span>&nbsp;<span class="op" id="2863268">=</span>&nbsp;<span class="ident" id="2863270"><a href="/reflect/type.go.html#2866371">bucketOf</a></span><span class="op" id="2863278">(</span><span class="ident" id="2863279"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863283">,</span>&nbsp;<span class="ident" id="2863285"><a href="/reflect/type.go.html#2862475">etyp</a></span><span class="op" id="2863289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2863292">if</span>&nbsp;<span class="ident" id="2863295"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863299">.</span><span class="ident" id="2863300">size</span>&nbsp;<span class="op" id="2863305">&gt;</span>&nbsp;<span class="ident" id="2863307"><a href="/reflect/type.go.html#2866328">maxKeySize</a></span>&nbsp;<span class="op" id="2863318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863322"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863324">.</span><span class="ident" id="2863325">keysize</span>&nbsp;<span class="op" id="2863333">=</span>&nbsp;<span class="builtintype" id="2863335">uint8</span><span class="op" id="2863340">(</span><span class="ident" id="2863341"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><span class="op" id="2863348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863352"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863354">.</span><span class="ident" id="2863355">indirectkey</span>&nbsp;<span class="op" id="2863367">=</span>&nbsp;<span class="num" id="2863369">1</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2863372">}</span>&nbsp;<span class="keyword" id="2863374">else</span>&nbsp;<span class="op" id="2863379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863383"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863385">.</span><span class="ident" id="2863386">keysize</span>&nbsp;<span class="op" id="2863394">=</span>&nbsp;<span class="builtintype" id="2863396">uint8</span><span class="op" id="2863401">(</span><span class="ident" id="2863402"><a href="/reflect/type.go.html#2862453">ktyp</a></span><span class="op" id="2863406">.</span><span class="ident" id="2863407">size</span><span class="op" id="2863411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863415"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863417">.</span><span class="ident" id="2863418">indirectkey</span>&nbsp;<span class="op" id="2863430">=</span>&nbsp;<span class="num" id="2863432">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2863435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2863438">if</span>&nbsp;<span class="ident" id="2863441"><a href="/reflect/type.go.html#2862475">etyp</a></span><span class="op" id="2863445">.</span><span class="ident" id="2863446">size</span>&nbsp;<span class="op" id="2863451">&gt;</span>&nbsp;<span class="ident" id="2863453"><a href="/reflect/type.go.html#2866346">maxValSize</a></span>&nbsp;<span class="op" id="2863464">{</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863468"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863470">.</span><span class="ident" id="2863471">valuesize</span>&nbsp;<span class="op" id="2863481">=</span>&nbsp;<span class="builtintype" id="2863483">uint8</span><span class="op" id="2863488">(</span><span class="ident" id="2863489"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><span class="op" id="2863496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863500"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863502">.</span><span class="ident" id="2863503">indirectvalue</span>&nbsp;<span class="op" id="2863517">=</span>&nbsp;<span class="num" id="2863519">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2863522">}</span>&nbsp;<span class="keyword" id="2863524">else</span>&nbsp;<span class="op" id="2863529">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863533"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863535">.</span><span class="ident" id="2863536">valuesize</span>&nbsp;<span class="op" id="2863546">=</span>&nbsp;<span class="builtintype" id="2863548">uint8</span><span class="op" id="2863553">(</span><span class="ident" id="2863554"><a href="/reflect/type.go.html#2862475">etyp</a></span><span class="op" id="2863558">.</span><span class="ident" id="2863559">size</span><span class="op" id="2863563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863567"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863569">.</span><span class="ident" id="2863570">indirectvalue</span>&nbsp;<span class="op" id="2863584">=</span>&nbsp;<span class="num" id="2863586">0</span><br>
<span class="lineno">1490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2863589">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863592"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863594">.</span><span class="ident" id="2863595">bucketsize</span>&nbsp;<span class="op" id="2863606">=</span>&nbsp;<span class="builtintype" id="2863608">uint16</span><span class="op" id="2863614">(</span><span class="ident" id="2863615"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863617">.</span><span class="ident" id="2863618">bucket</span><span class="op" id="2863624">.</span><span class="ident" id="2863625">size</span><span class="op" id="2863629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863632"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863634">.</span><span class="ident" id="2863635">uncommonType</span>&nbsp;<span class="op" id="2863648">=</span>&nbsp;<span class="ident" id="2863650">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863655"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863657">.</span><span class="ident" id="2863658">ptrToThis</span>&nbsp;<span class="op" id="2863668">=</span>&nbsp;<span class="ident" id="2863670">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863675"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863677">.</span><span class="ident" id="2863678">zero</span>&nbsp;<span class="op" id="2863683">=</span>&nbsp;<span class="ident" id="2863685"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2863691">.</span><span class="ident" id="2863692">Pointer</span><span class="op" id="2863699">(</span><span class="op" id="2863700">&amp;</span><span class="builtinfunc" id="2863701">make</span><span class="op" id="2863705">(</span><span class="op" id="2863706">[</span><span class="op" id="2863707">]</span><span class="builtintype" id="2863708">byte</span><span class="op" id="2863712">,</span>&nbsp;<span class="ident" id="2863714"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863716">.</span><span class="ident" id="2863717">size</span><span class="op" id="2863721">)</span><span class="op" id="2863722">[</span><span class="num" id="2863723">0</span><span class="op" id="2863724">]</span><span class="op" id="2863725">)</span><br>
<span class="lineno">1495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2863729">return</span>&nbsp;<span class="ident" id="2863736"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2863744">(</span><span class="ident" id="2863745"><a href="/reflect/type.go.html#2862604">ckey</a></span><span class="op" id="2863749">,</span>&nbsp;<span class="op" id="2863751">&amp;</span><span class="ident" id="2863752"><a href="/reflect/type.go.html#2863062">mt</a></span><span class="op" id="2863754">.</span><span class="ident" id="2863755">rtype</span><span class="op" id="2863760">)</span><br>
<span class="lineno"></span><span class="op" id="2863762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2863765">//&nbsp;gcProg&nbsp;is&nbsp;a&nbsp;helper&nbsp;type&nbsp;for&nbsp;generatation&nbsp;of&nbsp;GC&nbsp;pointer&nbsp;info.</span><br>
<span class="lineno">1500</span><span class="keyword" id="2863829">type</span>&nbsp;<span class="ident" id="2863834">gcProg</span>&nbsp;<span class="keyword" id="2863841">struct</span>&nbsp;<span class="op" id="2863848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863851">gc</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2863856">[</span><span class="op" id="2863857">]</span><span class="builtintype" id="2863858">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863864">size</span>&nbsp;<span class="builtintype" id="2863869">uintptr</span>&nbsp;<span class="comment" id="2863877">//&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span><span class="op" id="2863902">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1505</span><span class="keyword" id="2863905">func</span>&nbsp;<span class="op" id="2863910">(</span><span class="ident" id="2863911">gc</span>&nbsp;<span class="op" id="2863914">*</span><span class="ident" id="2863915"><a href="/reflect/type.go.html#2863834">gcProg</a></span><span class="op" id="2863921">)</span>&nbsp;<span class="builtinfunc" id="2863923">append</span><span class="op" id="2863929">(</span><span class="ident" id="2863930">v</span>&nbsp;<span class="builtintype" id="2863932">byte</span><span class="op" id="2863936">)</span>&nbsp;<span class="op" id="2863938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863941"><a href="/reflect/type.go.html#2863911">gc</a></span><span class="op" id="2863943">.</span><span class="ident" id="2863944">align</span><span class="op" id="2863949">(</span><span class="ident" id="2863950"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2863956">.</span><span class="ident" id="2863957">Sizeof</span><span class="op" id="2863963">(</span><span class="builtintype" id="2863964">uintptr</span><span class="op" id="2863971">(</span><span class="num" id="2863972">0</span><span class="op" id="2863973">)</span><span class="op" id="2863974">)</span><span class="op" id="2863975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2863978"><a href="/reflect/type.go.html#2863911">gc</a></span><span class="op" id="2863980">.</span><span class="ident" id="2863981">appendWord</span><span class="op" id="2863991">(</span><span class="ident" id="2863992"><a href="/reflect/type.go.html#2863930">v</a></span><span class="op" id="2863993">)</span><br>
<span class="lineno"></span><span class="op" id="2863995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1510</span><span class="comment" id="2863998">//&nbsp;Appends&nbsp;t&#39;s&nbsp;type&nbsp;info&nbsp;to&nbsp;the&nbsp;current&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="2864047">func</span>&nbsp;<span class="op" id="2864052">(</span><span class="ident" id="2864053">gc</span>&nbsp;<span class="op" id="2864056">*</span><span class="ident" id="2864057"><a href="/reflect/type.go.html#2863834">gcProg</a></span><span class="op" id="2864063">)</span>&nbsp;<span class="ident" id="2864065">appendProg</span><span class="op" id="2864075">(</span><span class="ident" id="2864076">t</span>&nbsp;<span class="op" id="2864078">*</span><span class="ident" id="2864079"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2864084">)</span>&nbsp;<span class="op" id="2864086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864089"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864091">.</span><span class="ident" id="2864092">align</span><span class="op" id="2864097">(</span><span class="builtintype" id="2864098">uintptr</span><span class="op" id="2864105">(</span><span class="ident" id="2864106"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864107">.</span><span class="ident" id="2864108">align</span><span class="op" id="2864113">)</span><span class="op" id="2864114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864117">if</span>&nbsp;<span class="op" id="2864120">!</span><span class="ident" id="2864121"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864122">.</span><span class="ident" id="2864123">pointers</span><span class="op" id="2864131">(</span><span class="op" id="2864132">)</span>&nbsp;<span class="op" id="2864134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864138"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864140">.</span><span class="ident" id="2864141">size</span>&nbsp;<span class="op" id="2864146">+=</span>&nbsp;<span class="ident" id="2864149"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864150">.</span><span class="ident" id="2864151">size</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864158">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2864166">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864169">switch</span>&nbsp;<span class="ident" id="2864176"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864177">.</span><span class="ident" id="2864178">Kind</span><span class="op" id="2864182">(</span><span class="op" id="2864183">)</span>&nbsp;<span class="op" id="2864185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864188">default</span><span class="op" id="2864195">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2864199">panic</span><span class="op" id="2864204">(</span><span class="string" id="2864205">&#34;reflect:&nbsp;non-pointer&nbsp;type&nbsp;marked&nbsp;as&nbsp;having&nbsp;pointers&#34;</span><span class="op" id="2864258">)</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864261">case</span>&nbsp;<span class="ident" id="2864266"><a href="/reflect/type.go.html#2830197">Ptr</a></span><span class="op" id="2864269">,</span>&nbsp;<span class="ident" id="2864271"><a href="/reflect/type.go.html#2830225">UnsafePointer</a></span><span class="op" id="2864284">,</span>&nbsp;<span class="ident" id="2864286"><a href="/reflect/type.go.html#2830169">Chan</a></span><span class="op" id="2864290">,</span>&nbsp;<span class="ident" id="2864292"><a href="/reflect/type.go.html#2830175">Func</a></span><span class="op" id="2864296">,</span>&nbsp;<span class="ident" id="2864298"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2864301">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864305"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864307">.</span><span class="ident" id="2864308">appendWord</span><span class="op" id="2864318">(</span><span class="ident" id="2864319"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2864330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864333">case</span>&nbsp;<span class="ident" id="2864338"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2864343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864347"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864349">.</span><span class="ident" id="2864350">appendWord</span><span class="op" id="2864360">(</span><span class="ident" id="2864361"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2864372">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864376"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864378">.</span><span class="ident" id="2864379">appendWord</span><span class="op" id="2864389">(</span><span class="ident" id="2864390"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2864400">)</span><br>
<span class="lineno">1525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864404"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864406">.</span><span class="ident" id="2864407">appendWord</span><span class="op" id="2864417">(</span><span class="ident" id="2864418"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2864428">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864431">case</span>&nbsp;<span class="ident" id="2864436"><a href="/reflect/type.go.html#2830209">String</a></span><span class="op" id="2864442">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864446"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864448">.</span><span class="ident" id="2864449">appendWord</span><span class="op" id="2864459">(</span><span class="ident" id="2864460"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2864471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864475"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864477">.</span><span class="ident" id="2864478">appendWord</span><span class="op" id="2864488">(</span><span class="ident" id="2864489"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2864499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864502">case</span>&nbsp;<span class="ident" id="2864507"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2864512">:</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864516">c</span>&nbsp;<span class="op" id="2864518">:=</span>&nbsp;<span class="ident" id="2864521"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864522">.</span><span class="ident" id="2864523">Len</span><span class="op" id="2864526">(</span><span class="op" id="2864527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864531">e</span>&nbsp;<span class="op" id="2864533">:=</span>&nbsp;<span class="ident" id="2864536"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864537">.</span><span class="ident" id="2864538">Elem</span><span class="op" id="2864542">(</span><span class="op" id="2864543">)</span><span class="op" id="2864544">.</span><span class="ident" id="2864545">common</span><span class="op" id="2864551">(</span><span class="op" id="2864552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864556">for</span>&nbsp;<span class="ident" id="2864560">i</span>&nbsp;<span class="op" id="2864562">:=</span>&nbsp;<span class="num" id="2864565">0</span><span class="op" id="2864566">;</span>&nbsp;<span class="ident" id="2864568"><a href="/reflect/type.go.html#2864560">i</a></span>&nbsp;<span class="op" id="2864570">&lt;</span>&nbsp;<span class="ident" id="2864572"><a href="/reflect/type.go.html#2864516">c</a></span><span class="op" id="2864573">;</span>&nbsp;<span class="ident" id="2864575"><a href="/reflect/type.go.html#2864560">i</a></span><span class="op" id="2864576">++</span>&nbsp;<span class="op" id="2864579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864584"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864586">.</span><span class="ident" id="2864587">appendProg</span><span class="op" id="2864597">(</span><span class="ident" id="2864598"><a href="/reflect/type.go.html#2864531">e</a></span><span class="op" id="2864599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2864603">}</span><br>
<span class="lineno">1535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864606">case</span>&nbsp;<span class="ident" id="2864611"><a href="/reflect/type.go.html#2830181">Interface</a></span><span class="op" id="2864620">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864624"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864626">.</span><span class="ident" id="2864627">appendWord</span><span class="op" id="2864637">(</span><span class="ident" id="2864638"><a href="/reflect/type.go.html#2866001">bitsMultiWord</a></span><span class="op" id="2864651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864655">if</span>&nbsp;<span class="ident" id="2864658"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864659">.</span><span class="ident" id="2864660">NumMethod</span><span class="op" id="2864669">(</span><span class="op" id="2864670">)</span>&nbsp;<span class="op" id="2864672">==</span>&nbsp;<span class="num" id="2864675">0</span>&nbsp;<span class="op" id="2864677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864682"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864684">.</span><span class="ident" id="2864685">appendWord</span><span class="op" id="2864695">(</span><span class="ident" id="2864696"><a href="/reflect/type.go.html#2866036">bitsEface</a></span><span class="op" id="2864705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2864709">}</span>&nbsp;<span class="keyword" id="2864711">else</span>&nbsp;<span class="op" id="2864716">{</span><br>
<span class="lineno">1540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864721"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864723">.</span><span class="ident" id="2864724">appendWord</span><span class="op" id="2864734">(</span><span class="ident" id="2864735"><a href="/reflect/type.go.html#2866021">bitsIface</a></span><span class="op" id="2864744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2864748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864751">case</span>&nbsp;<span class="ident" id="2864756"><a href="/reflect/type.go.html#2830217">Struct</a></span><span class="op" id="2864762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864766">c</span>&nbsp;<span class="op" id="2864768">:=</span>&nbsp;<span class="ident" id="2864771"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864772">.</span><span class="ident" id="2864773">NumField</span><span class="op" id="2864781">(</span><span class="op" id="2864782">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864786">for</span>&nbsp;<span class="ident" id="2864790">i</span>&nbsp;<span class="op" id="2864792">:=</span>&nbsp;<span class="num" id="2864795">0</span><span class="op" id="2864796">;</span>&nbsp;<span class="ident" id="2864798"><a href="/reflect/type.go.html#2864790">i</a></span>&nbsp;<span class="op" id="2864800">&lt;</span>&nbsp;<span class="ident" id="2864802"><a href="/reflect/type.go.html#2864766">c</a></span><span class="op" id="2864803">;</span>&nbsp;<span class="ident" id="2864805"><a href="/reflect/type.go.html#2864790">i</a></span><span class="op" id="2864806">++</span>&nbsp;<span class="op" id="2864809">{</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864814"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864816">.</span><span class="ident" id="2864817">appendProg</span><span class="op" id="2864827">(</span><span class="ident" id="2864828"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864829">.</span><span class="ident" id="2864830">Field</span><span class="op" id="2864835">(</span><span class="ident" id="2864836"><a href="/reflect/type.go.html#2864790">i</a></span><span class="op" id="2864837">)</span><span class="op" id="2864838">.</span><span class="ident" id="2864839">Type</span><span class="op" id="2864843">.</span><span class="ident" id="2864844">common</span><span class="op" id="2864850">(</span><span class="op" id="2864851">)</span><span class="op" id="2864852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2864856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864860"><a href="/reflect/type.go.html#2864053">gc</a></span><span class="op" id="2864862">.</span><span class="ident" id="2864863">align</span><span class="op" id="2864868">(</span><span class="builtintype" id="2864869">uintptr</span><span class="op" id="2864876">(</span><span class="ident" id="2864877"><a href="/reflect/type.go.html#2864076">t</a></span><span class="op" id="2864878">.</span><span class="ident" id="2864879">align</span><span class="op" id="2864884">)</span><span class="op" id="2864885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2864888">}</span><br>
<span class="lineno"></span><span class="op" id="2864890">}</span><br>
<span class="lineno">1550</span><br>
<span class="lineno"></span><span class="keyword" id="2864893">func</span>&nbsp;<span class="op" id="2864898">(</span><span class="ident" id="2864899">gc</span>&nbsp;<span class="op" id="2864902">*</span><span class="ident" id="2864903"><a href="/reflect/type.go.html#2863834">gcProg</a></span><span class="op" id="2864909">)</span>&nbsp;<span class="ident" id="2864911">appendWord</span><span class="op" id="2864921">(</span><span class="ident" id="2864922">v</span>&nbsp;<span class="builtintype" id="2864924">byte</span><span class="op" id="2864928">)</span>&nbsp;<span class="op" id="2864930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2864933">ptrsize</span>&nbsp;<span class="op" id="2864941">:=</span>&nbsp;<span class="ident" id="2864944"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2864950">.</span><span class="ident" id="2864951">Sizeof</span><span class="op" id="2864957">(</span><span class="builtintype" id="2864958">uintptr</span><span class="op" id="2864965">(</span><span class="num" id="2864966">0</span><span class="op" id="2864967">)</span><span class="op" id="2864968">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2864971">if</span>&nbsp;<span class="ident" id="2864974"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2864976">.</span><span class="ident" id="2864977">size</span><span class="op" id="2864981">%</span><span class="ident" id="2864982"><a href="/reflect/type.go.html#2864933">ptrsize</a></span>&nbsp;<span class="op" id="2864990">!=</span>&nbsp;<span class="num" id="2864993">0</span>&nbsp;<span class="op" id="2864995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2864999">panic</span><span class="op" id="2865004">(</span><span class="string" id="2865005">&#34;reflect:&nbsp;unaligned&nbsp;GC&nbsp;program&#34;</span><span class="op" id="2865036">)</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2865039">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865042">nptr</span>&nbsp;<span class="op" id="2865047">:=</span>&nbsp;<span class="ident" id="2865050"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865052">.</span><span class="ident" id="2865053">size</span>&nbsp;<span class="op" id="2865058">/</span>&nbsp;<span class="ident" id="2865060"><a href="/reflect/type.go.html#2864933">ptrsize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865069">for</span>&nbsp;<span class="builtintype" id="2865073">uintptr</span><span class="op" id="2865080">(</span><span class="builtinfunc" id="2865081">len</span><span class="op" id="2865084">(</span><span class="ident" id="2865085"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865087">.</span><span class="ident" id="2865088">gc</span><span class="op" id="2865090">)</span><span class="op" id="2865091">)</span>&nbsp;<span class="op" id="2865093">&lt;</span>&nbsp;<span class="ident" id="2865095"><a href="/reflect/type.go.html#2865042">nptr</a></span><span class="op" id="2865099">/</span><span class="num" id="2865100">2</span><span class="op" id="2865101">+</span><span class="num" id="2865102">1</span>&nbsp;<span class="op" id="2865104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865108"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865110">.</span><span class="ident" id="2865111">gc</span>&nbsp;<span class="op" id="2865114">=</span>&nbsp;<span class="builtinfunc" id="2865116">append</span><span class="op" id="2865122">(</span><span class="ident" id="2865123"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865125">.</span><span class="ident" id="2865126">gc</span><span class="op" id="2865128">,</span>&nbsp;<span class="num" id="2865130">0x44</span><span class="op" id="2865134">)</span>&nbsp;<span class="comment" id="2865136">//&nbsp;BitsScalar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2865151">}</span><br>
<span class="lineno">1560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865154"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865156">.</span><span class="ident" id="2865157">gc</span><span class="op" id="2865159">[</span><span class="ident" id="2865160"><a href="/reflect/type.go.html#2865042">nptr</a></span><span class="op" id="2865164">/</span><span class="num" id="2865165">2</span><span class="op" id="2865166">]</span>&nbsp;<span class="op" id="2865168">&amp;=</span>&nbsp;<span class="op" id="2865171">^</span><span class="op" id="2865172">(</span><span class="num" id="2865173">3</span>&nbsp;<span class="op" id="2865175">&lt;&lt;</span>&nbsp;<span class="op" id="2865178">(</span><span class="op" id="2865179">(</span><span class="ident" id="2865180"><a href="/reflect/type.go.html#2865042">nptr</a></span><span class="op" id="2865184">%</span><span class="num" id="2865185">2</span><span class="op" id="2865186">)</span><span class="op" id="2865187">*</span><span class="num" id="2865188">4</span>&nbsp;<span class="op" id="2865190">+</span>&nbsp;<span class="num" id="2865192">2</span><span class="op" id="2865193">)</span><span class="op" id="2865194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865197"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865199">.</span><span class="ident" id="2865200">gc</span><span class="op" id="2865202">[</span><span class="ident" id="2865203"><a href="/reflect/type.go.html#2865042">nptr</a></span><span class="op" id="2865207">/</span><span class="num" id="2865208">2</span><span class="op" id="2865209">]</span>&nbsp;<span class="op" id="2865211">|=</span>&nbsp;<span class="ident" id="2865214"><a href="/reflect/type.go.html#2864922">v</a></span>&nbsp;<span class="op" id="2865216">&lt;&lt;</span>&nbsp;<span class="op" id="2865219">(</span><span class="op" id="2865220">(</span><span class="ident" id="2865221"><a href="/reflect/type.go.html#2865042">nptr</a></span><span class="op" id="2865225">%</span><span class="num" id="2865226">2</span><span class="op" id="2865227">)</span><span class="op" id="2865228">*</span><span class="num" id="2865229">4</span>&nbsp;<span class="op" id="2865231">+</span>&nbsp;<span class="num" id="2865233">2</span><span class="op" id="2865234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865237"><a href="/reflect/type.go.html#2864899">gc</a></span><span class="op" id="2865239">.</span><span class="ident" id="2865240">size</span>&nbsp;<span class="op" id="2865245">+=</span>&nbsp;<span class="ident" id="2865248"><a href="/reflect/type.go.html#2864933">ptrsize</a></span><br>
<span class="lineno"></span><span class="op" id="2865256">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1565</span><span class="keyword" id="2865259">func</span>&nbsp;<span class="op" id="2865264">(</span><span class="ident" id="2865265">gc</span>&nbsp;<span class="op" id="2865268">*</span><span class="ident" id="2865269"><a href="/reflect/type.go.html#2863834">gcProg</a></span><span class="op" id="2865275">)</span>&nbsp;<span class="ident" id="2865277">finalize</span><span class="op" id="2865285">(</span><span class="op" id="2865286">)</span>&nbsp;<span class="ident" id="2865288"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2865294">.</span><span class="ident" id="2865295">Pointer</span>&nbsp;<span class="op" id="2865303">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865306">if</span>&nbsp;<span class="ident" id="2865309"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865311">.</span><span class="ident" id="2865312">size</span>&nbsp;<span class="op" id="2865317">==</span>&nbsp;<span class="num" id="2865320">0</span>&nbsp;<span class="op" id="2865322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865326">return</span>&nbsp;<span class="ident" id="2865333">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2865338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865341">ptrsize</span>&nbsp;<span class="op" id="2865349">:=</span>&nbsp;<span class="ident" id="2865352"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2865358">.</span><span class="ident" id="2865359">Sizeof</span><span class="op" id="2865365">(</span><span class="builtintype" id="2865366">uintptr</span><span class="op" id="2865373">(</span><span class="num" id="2865374">0</span><span class="op" id="2865375">)</span><span class="op" id="2865376">)</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865379"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865381">.</span><span class="ident" id="2865382">align</span><span class="op" id="2865387">(</span><span class="ident" id="2865388"><a href="/reflect/type.go.html#2865341">ptrsize</a></span><span class="op" id="2865395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865398">nptr</span>&nbsp;<span class="op" id="2865403">:=</span>&nbsp;<span class="ident" id="2865406"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865408">.</span><span class="ident" id="2865409">size</span>&nbsp;<span class="op" id="2865414">/</span>&nbsp;<span class="ident" id="2865416"><a href="/reflect/type.go.html#2865341">ptrsize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865425">for</span>&nbsp;<span class="builtintype" id="2865429">uintptr</span><span class="op" id="2865436">(</span><span class="builtinfunc" id="2865437">len</span><span class="op" id="2865440">(</span><span class="ident" id="2865441"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865443">.</span><span class="ident" id="2865444">gc</span><span class="op" id="2865446">)</span><span class="op" id="2865447">)</span>&nbsp;<span class="op" id="2865449">&lt;</span>&nbsp;<span class="ident" id="2865451"><a href="/reflect/type.go.html#2865398">nptr</a></span><span class="op" id="2865455">/</span><span class="num" id="2865456">2</span><span class="op" id="2865457">+</span><span class="num" id="2865458">1</span>&nbsp;<span class="op" id="2865460">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865464"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865466">.</span><span class="ident" id="2865467">gc</span>&nbsp;<span class="op" id="2865470">=</span>&nbsp;<span class="builtinfunc" id="2865472">append</span><span class="op" id="2865478">(</span><span class="ident" id="2865479"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865481">.</span><span class="ident" id="2865482">gc</span><span class="op" id="2865484">,</span>&nbsp;<span class="num" id="2865486">0x44</span><span class="op" id="2865490">)</span>&nbsp;<span class="comment" id="2865492">//&nbsp;BitsScalar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2865507">}</span><br>
<span class="lineno">1575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2865510">//&nbsp;If&nbsp;number&nbsp;of&nbsp;words&nbsp;is&nbsp;odd,&nbsp;repeat&nbsp;the&nbsp;mask&nbsp;twice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2865564">//&nbsp;Compiler&nbsp;does&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865592">if</span>&nbsp;<span class="ident" id="2865595"><a href="/reflect/type.go.html#2865398">nptr</a></span><span class="op" id="2865599">%</span><span class="num" id="2865600">2</span>&nbsp;<span class="op" id="2865602">!=</span>&nbsp;<span class="num" id="2865605">0</span>&nbsp;<span class="op" id="2865607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865611">for</span>&nbsp;<span class="ident" id="2865615">i</span>&nbsp;<span class="op" id="2865617">:=</span>&nbsp;<span class="builtintype" id="2865620">uintptr</span><span class="op" id="2865627">(</span><span class="num" id="2865628">0</span><span class="op" id="2865629">)</span><span class="op" id="2865630">;</span>&nbsp;<span class="ident" id="2865632"><a href="/reflect/type.go.html#2865615">i</a></span>&nbsp;<span class="op" id="2865634">&lt;</span>&nbsp;<span class="ident" id="2865636"><a href="/reflect/type.go.html#2865398">nptr</a></span><span class="op" id="2865640">;</span>&nbsp;<span class="ident" id="2865642"><a href="/reflect/type.go.html#2865615">i</a></span><span class="op" id="2865643">++</span>&nbsp;<span class="op" id="2865646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865651"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865653">.</span><span class="ident" id="2865654">appendWord</span><span class="op" id="2865664">(</span><span class="ident" id="2865665"><a href="/reflect/type.go.html#2865739">extractGCWord</a></span><span class="op" id="2865678">(</span><span class="ident" id="2865679"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865681">.</span><span class="ident" id="2865682">gc</span><span class="op" id="2865684">,</span>&nbsp;<span class="ident" id="2865686"><a href="/reflect/type.go.html#2865615">i</a></span><span class="op" id="2865687">)</span><span class="op" id="2865688">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2865692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2865695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865698">return</span>&nbsp;<span class="ident" id="2865705"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2865711">.</span><span class="ident" id="2865712">Pointer</span><span class="op" id="2865719">(</span><span class="op" id="2865720">&amp;</span><span class="ident" id="2865721"><a href="/reflect/type.go.html#2865265">gc</a></span><span class="op" id="2865723">.</span><span class="ident" id="2865724">gc</span><span class="op" id="2865726">[</span><span class="num" id="2865727">0</span><span class="op" id="2865728">]</span><span class="op" id="2865729">)</span><br>
<span class="lineno"></span><span class="op" id="2865731">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1585</span><span class="keyword" id="2865734">func</span>&nbsp;<span class="ident" id="2865739">extractGCWord</span><span class="op" id="2865752">(</span><span class="ident" id="2865753">gc</span>&nbsp;<span class="op" id="2865756">[</span><span class="op" id="2865757">]</span><span class="builtintype" id="2865758">byte</span><span class="op" id="2865762">,</span>&nbsp;<span class="ident" id="2865764">i</span>&nbsp;<span class="builtintype" id="2865766">uintptr</span><span class="op" id="2865773">)</span>&nbsp;<span class="builtintype" id="2865775">byte</span>&nbsp;<span class="op" id="2865780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2865783">return</span>&nbsp;<span class="op" id="2865790">(</span><span class="ident" id="2865791"><a href="/reflect/type.go.html#2865753">gc</a></span><span class="op" id="2865793">[</span><span class="ident" id="2865794"><a href="/reflect/type.go.html#2865764">i</a></span><span class="op" id="2865795">/</span><span class="num" id="2865796">2</span><span class="op" id="2865797">]</span>&nbsp;<span class="op" id="2865799">&gt;&gt;</span>&nbsp;<span class="op" id="2865802">(</span><span class="op" id="2865803">(</span><span class="ident" id="2865804"><a href="/reflect/type.go.html#2865764">i</a></span><span class="op" id="2865805">%</span><span class="num" id="2865806">2</span><span class="op" id="2865807">)</span><span class="op" id="2865808">*</span><span class="num" id="2865809">4</span>&nbsp;<span class="op" id="2865811">+</span>&nbsp;<span class="num" id="2865813">2</span><span class="op" id="2865814">)</span><span class="op" id="2865815">)</span>&nbsp;<span class="op" id="2865817">&amp;</span>&nbsp;<span class="num" id="2865819">3</span><br>
<span class="lineno"></span><span class="op" id="2865821">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2865824">func</span>&nbsp;<span class="op" id="2865829">(</span><span class="ident" id="2865830">gc</span>&nbsp;<span class="op" id="2865833">*</span><span class="ident" id="2865834"><a href="/reflect/type.go.html#2863834">gcProg</a></span><span class="op" id="2865840">)</span>&nbsp;<span class="ident" id="2865842">align</span><span class="op" id="2865847">(</span><span class="ident" id="2865848">a</span>&nbsp;<span class="builtintype" id="2865850">uintptr</span><span class="op" id="2865857">)</span>&nbsp;<span class="op" id="2865859">{</span><br>
<span class="lineno">1590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865862"><a href="/reflect/type.go.html#2865830">gc</a></span><span class="op" id="2865864">.</span><span class="ident" id="2865865">size</span>&nbsp;<span class="op" id="2865870">=</span>&nbsp;<span class="ident" id="2865872"><a href="/reflect/value.go.html#2892092">align</a></span><span class="op" id="2865877">(</span><span class="ident" id="2865878"><a href="/reflect/type.go.html#2865830">gc</a></span><span class="op" id="2865880">.</span><span class="ident" id="2865881">size</span><span class="op" id="2865885">,</span>&nbsp;<span class="ident" id="2865887"><a href="/reflect/type.go.html#2865848">a</a></span><span class="op" id="2865888">)</span><br>
<span class="lineno"></span><span class="op" id="2865890">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2865893">//&nbsp;These&nbsp;constants&nbsp;must&nbsp;stay&nbsp;in&nbsp;sync&nbsp;with&nbsp;../runtime/mgc0.h.</span><br>
<span class="lineno"></span><span class="keyword" id="2865954">const</span>&nbsp;<span class="op" id="2865960">(</span><br>
<span class="lineno">1595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865963">bitsScalar</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2865977">=</span>&nbsp;<span class="num" id="2865979">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2865982">bitsPointer</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2865996">=</span>&nbsp;<span class="num" id="2865998">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866001">bitsMultiWord</span>&nbsp;<span class="op" id="2866015">=</span>&nbsp;<span class="num" id="2866017">3</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866021">bitsIface</span>&nbsp;<span class="op" id="2866031">=</span>&nbsp;<span class="num" id="2866033">2</span><br>
<span class="lineno">1600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866036">bitsEface</span>&nbsp;<span class="op" id="2866046">=</span>&nbsp;<span class="num" id="2866048">3</span><br>
<span class="lineno"></span><span class="op" id="2866050">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2866053">//&nbsp;Make&nbsp;sure&nbsp;these&nbsp;routines&nbsp;stay&nbsp;in&nbsp;sync&nbsp;with&nbsp;../../runtime/hashmap.go!</span><br>
<span class="lineno"></span><span class="comment" id="2866125">//&nbsp;These&nbsp;types&nbsp;exist&nbsp;only&nbsp;for&nbsp;GC,&nbsp;so&nbsp;we&nbsp;only&nbsp;fill&nbsp;out&nbsp;GC&nbsp;relevant&nbsp;info.</span><br>
<span class="lineno">1605</span><span class="comment" id="2866197">//&nbsp;Currently,&nbsp;that&#39;s&nbsp;just&nbsp;size&nbsp;and&nbsp;the&nbsp;GC&nbsp;program.&nbsp;&nbsp;We&nbsp;also&nbsp;fill&nbsp;in&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2866272">//&nbsp;for&nbsp;possible&nbsp;debugging&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2866303">const</span>&nbsp;<span class="op" id="2866309">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866312">bucketSize</span>&nbsp;<span class="op" id="2866323">=</span>&nbsp;<span class="num" id="2866325">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866328">maxKeySize</span>&nbsp;<span class="op" id="2866339">=</span>&nbsp;<span class="num" id="2866341">128</span><br>
<span class="lineno">1610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866346">maxValSize</span>&nbsp;<span class="op" id="2866357">=</span>&nbsp;<span class="num" id="2866359">128</span><br>
<span class="lineno"></span><span class="op" id="2866363">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2866366">func</span>&nbsp;<span class="ident" id="2866371">bucketOf</span><span class="op" id="2866379">(</span><span class="ident" id="2866380">ktyp</span><span class="op" id="2866384">,</span>&nbsp;<span class="ident" id="2866386">etyp</span>&nbsp;<span class="op" id="2866391">*</span><span class="ident" id="2866392"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2866397">)</span>&nbsp;<span class="op" id="2866399">*</span><span class="ident" id="2866400"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="op" id="2866406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866409">if</span>&nbsp;<span class="ident" id="2866412"><a href="/reflect/type.go.html#2866380">ktyp</a></span><span class="op" id="2866416">.</span><span class="ident" id="2866417">size</span>&nbsp;<span class="op" id="2866422">&gt;</span>&nbsp;<span class="ident" id="2866424"><a href="/reflect/type.go.html#2866328">maxKeySize</a></span>&nbsp;<span class="op" id="2866435">{</span><br>
<span class="lineno">1615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866439"><a href="/reflect/type.go.html#2866380">ktyp</a></span>&nbsp;<span class="op" id="2866444">=</span>&nbsp;<span class="ident" id="2866446"><a href="/reflect/type.go.html#2851182">PtrTo</a></span><span class="op" id="2866451">(</span><span class="ident" id="2866452"><a href="/reflect/type.go.html#2866380">ktyp</a></span><span class="op" id="2866456">)</span><span class="op" id="2866457">.</span><span class="op" id="2866458">(</span><span class="op" id="2866459">*</span><span class="ident" id="2866460"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2866465">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2866468">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866471">if</span>&nbsp;<span class="ident" id="2866474"><a href="/reflect/type.go.html#2866386">etyp</a></span><span class="op" id="2866478">.</span><span class="ident" id="2866479">size</span>&nbsp;<span class="op" id="2866484">&gt;</span>&nbsp;<span class="ident" id="2866486"><a href="/reflect/type.go.html#2866346">maxValSize</a></span>&nbsp;<span class="op" id="2866497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866501"><a href="/reflect/type.go.html#2866386">etyp</a></span>&nbsp;<span class="op" id="2866506">=</span>&nbsp;<span class="ident" id="2866508"><a href="/reflect/type.go.html#2851182">PtrTo</a></span><span class="op" id="2866513">(</span><span class="ident" id="2866514"><a href="/reflect/type.go.html#2866386">etyp</a></span><span class="op" id="2866518">)</span><span class="op" id="2866519">.</span><span class="op" id="2866520">(</span><span class="op" id="2866521">*</span><span class="ident" id="2866522"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2866527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2866530">}</span><br>
<span class="lineno">1620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866533">ptrsize</span>&nbsp;<span class="op" id="2866541">:=</span>&nbsp;<span class="ident" id="2866544"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2866550">.</span><span class="ident" id="2866551">Sizeof</span><span class="op" id="2866557">(</span><span class="builtintype" id="2866558">uintptr</span><span class="op" id="2866565">(</span><span class="num" id="2866566">0</span><span class="op" id="2866567">)</span><span class="op" id="2866568">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866572">var</span>&nbsp;<span class="ident" id="2866576">gc</span>&nbsp;<span class="ident" id="2866579"><a href="/reflect/type.go.html#2863834">gcProg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2866587">//&nbsp;topbits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866599">for</span>&nbsp;<span class="ident" id="2866603">i</span>&nbsp;<span class="op" id="2866605">:=</span>&nbsp;<span class="num" id="2866608">0</span><span class="op" id="2866609">;</span>&nbsp;<span class="ident" id="2866611"><a href="/reflect/type.go.html#2866603">i</a></span>&nbsp;<span class="op" id="2866613">&lt;</span>&nbsp;<span class="builtintype" id="2866615">int</span><span class="op" id="2866618">(</span><span class="ident" id="2866619"><a href="/reflect/type.go.html#2866312">bucketSize</a></span><span class="op" id="2866629">*</span><span class="ident" id="2866630"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2866636">.</span><span class="ident" id="2866637">Sizeof</span><span class="op" id="2866643">(</span><span class="builtintype" id="2866644">uint8</span><span class="op" id="2866649">(</span><span class="num" id="2866650">0</span><span class="op" id="2866651">)</span><span class="op" id="2866652">)</span><span class="op" id="2866653">/</span><span class="ident" id="2866654"><a href="/reflect/type.go.html#2866533">ptrsize</a></span><span class="op" id="2866661">)</span><span class="op" id="2866662">;</span>&nbsp;<span class="ident" id="2866664"><a href="/reflect/type.go.html#2866603">i</a></span><span class="op" id="2866665">++</span>&nbsp;<span class="op" id="2866668">{</span><br>
<span class="lineno">1625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866672"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866674">.</span><span class="builtinfunc" id="2866675">append</span><span class="op" id="2866681">(</span><span class="ident" id="2866682"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2866692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2866695">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866698"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866700">.</span><span class="builtinfunc" id="2866701">append</span><span class="op" id="2866707">(</span><span class="ident" id="2866708"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2866719">)</span>&nbsp;<span class="comment" id="2866721">//&nbsp;overflow</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866734">if</span>&nbsp;<span class="ident" id="2866737"><a href="/reflect/type.go.html#2823218">runtime</a></span><span class="op" id="2866744">.</span><span class="ident" id="2866745">GOARCH</span>&nbsp;<span class="op" id="2866752">==</span>&nbsp;<span class="string" id="2866755">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2866766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866770"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866772">.</span><span class="builtinfunc" id="2866773">append</span><span class="op" id="2866779">(</span><span class="ident" id="2866780"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2866790">)</span><br>
<span class="lineno">1630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2866793">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2866796">//&nbsp;keys</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866805">for</span>&nbsp;<span class="ident" id="2866809">i</span>&nbsp;<span class="op" id="2866811">:=</span>&nbsp;<span class="num" id="2866814">0</span><span class="op" id="2866815">;</span>&nbsp;<span class="ident" id="2866817"><a href="/reflect/type.go.html#2866809">i</a></span>&nbsp;<span class="op" id="2866819">&lt;</span>&nbsp;<span class="ident" id="2866821"><a href="/reflect/type.go.html#2866312">bucketSize</a></span><span class="op" id="2866831">;</span>&nbsp;<span class="ident" id="2866833"><a href="/reflect/type.go.html#2866809">i</a></span><span class="op" id="2866834">++</span>&nbsp;<span class="op" id="2866837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866841"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866843">.</span><span class="ident" id="2866844">appendProg</span><span class="op" id="2866854">(</span><span class="ident" id="2866855"><a href="/reflect/type.go.html#2866380">ktyp</a></span><span class="op" id="2866859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2866862">}</span><br>
<span class="lineno">1635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2866865">//&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2866876">for</span>&nbsp;<span class="ident" id="2866880">i</span>&nbsp;<span class="op" id="2866882">:=</span>&nbsp;<span class="num" id="2866885">0</span><span class="op" id="2866886">;</span>&nbsp;<span class="ident" id="2866888"><a href="/reflect/type.go.html#2866880">i</a></span>&nbsp;<span class="op" id="2866890">&lt;</span>&nbsp;<span class="ident" id="2866892"><a href="/reflect/type.go.html#2866312">bucketSize</a></span><span class="op" id="2866902">;</span>&nbsp;<span class="ident" id="2866904"><a href="/reflect/type.go.html#2866880">i</a></span><span class="op" id="2866905">++</span>&nbsp;<span class="op" id="2866908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866912"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866914">.</span><span class="ident" id="2866915">appendProg</span><span class="op" id="2866925">(</span><span class="ident" id="2866926"><a href="/reflect/type.go.html#2866386">etyp</a></span><span class="op" id="2866930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2866933">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866937">b</span>&nbsp;<span class="op" id="2866939">:=</span>&nbsp;<span class="builtinfunc" id="2866942">new</span><span class="op" id="2866945">(</span><span class="ident" id="2866946"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2866951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866954"><a href="/reflect/type.go.html#2866937">b</a></span><span class="op" id="2866955">.</span><span class="ident" id="2866956">size</span>&nbsp;<span class="op" id="2866961">=</span>&nbsp;<span class="ident" id="2866963"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866965">.</span><span class="ident" id="2866966">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866972"><a href="/reflect/type.go.html#2866937">b</a></span><span class="op" id="2866973">.</span><span class="ident" id="2866974">gc</span><span class="op" id="2866976">[</span><span class="num" id="2866977">0</span><span class="op" id="2866978">]</span>&nbsp;<span class="op" id="2866980">=</span>&nbsp;<span class="ident" id="2866982"><a href="/reflect/type.go.html#2866576">gc</a></span><span class="op" id="2866984">.</span><span class="ident" id="2866985">finalize</span><span class="op" id="2866993">(</span><span class="op" id="2866994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2866997">s</span>&nbsp;<span class="op" id="2866999">:=</span>&nbsp;<span class="string" id="2867002">&#34;bucket(&#34;</span>&nbsp;<span class="op" id="2867012">+</span>&nbsp;<span class="op" id="2867014">*</span><span class="ident" id="2867015"><a href="/reflect/type.go.html#2866380">ktyp</a></span><span class="op" id="2867019">.</span><span class="builtintype" id="2867020">string</span>&nbsp;<span class="op" id="2867027">+</span>&nbsp;<span class="string" id="2867029">&#34;,&#34;</span>&nbsp;<span class="op" id="2867033">+</span>&nbsp;<span class="op" id="2867035">*</span><span class="ident" id="2867036"><a href="/reflect/type.go.html#2866386">etyp</a></span><span class="op" id="2867040">.</span><span class="builtintype" id="2867041">string</span>&nbsp;<span class="op" id="2867048">+</span>&nbsp;<span class="string" id="2867050">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867055"><a href="/reflect/type.go.html#2866937">b</a></span><span class="op" id="2867056">.</span><span class="builtintype" id="2867057">string</span>&nbsp;<span class="op" id="2867064">=</span>&nbsp;<span class="op" id="2867066">&amp;</span><span class="ident" id="2867067"><a href="/reflect/type.go.html#2866997">s</a></span><br>
<span class="lineno">1645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867070">return</span>&nbsp;<span class="ident" id="2867077"><a href="/reflect/type.go.html#2866937">b</a></span><br>
<span class="lineno"></span><span class="op" id="2867079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2867082">//&nbsp;SliceOf&nbsp;returns&nbsp;the&nbsp;slice&nbsp;type&nbsp;with&nbsp;element&nbsp;type&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2867137">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;SliceOf(t)&nbsp;represents&nbsp;[]int.</span><br>
<span class="lineno">1650</span><span class="keyword" id="2867203">func</span>&nbsp;<span class="ident" id="2867208">SliceOf</span><span class="op" id="2867215">(</span><span class="ident" id="2867216">t</span>&nbsp;<span class="ident" id="2867218"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2867222">)</span>&nbsp;<span class="ident" id="2867224"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2867229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867232">typ</span>&nbsp;<span class="op" id="2867236">:=</span>&nbsp;<span class="ident" id="2867239"><a href="/reflect/type.go.html#2867216">t</a></span><span class="op" id="2867240">.</span><span class="op" id="2867241">(</span><span class="op" id="2867242">*</span><span class="ident" id="2867243"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2867248">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2867252">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867271">ckey</span>&nbsp;<span class="op" id="2867276">:=</span>&nbsp;<span class="ident" id="2867279"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2867287">{</span><span class="ident" id="2867288"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2867293">,</span>&nbsp;<span class="ident" id="2867295"><a href="/reflect/type.go.html#2867232">typ</a></span><span class="op" id="2867298">,</span>&nbsp;<span class="ident" id="2867300">nil</span><span class="op" id="2867303">,</span>&nbsp;<span class="num" id="2867305">0</span><span class="op" id="2867306">}</span><br>
<span class="lineno">1655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867309">if</span>&nbsp;<span class="ident" id="2867312">slice</span>&nbsp;<span class="op" id="2867318">:=</span>&nbsp;<span class="ident" id="2867321"><a href="/reflect/type.go.html#2860005">cacheGet</a></span><span class="op" id="2867329">(</span><span class="ident" id="2867330"><a href="/reflect/type.go.html#2867271">ckey</a></span><span class="op" id="2867334">)</span><span class="op" id="2867335">;</span>&nbsp;<span class="ident" id="2867337"><a href="/reflect/type.go.html#2867312">slice</a></span>&nbsp;<span class="op" id="2867343">!=</span>&nbsp;<span class="ident" id="2867346">nil</span>&nbsp;<span class="op" id="2867350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867354">return</span>&nbsp;<span class="ident" id="2867361"><a href="/reflect/type.go.html#2867312">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2867368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2867372">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno">1660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867397">s</span>&nbsp;<span class="op" id="2867399">:=</span>&nbsp;<span class="string" id="2867402">&#34;[]&#34;</span>&nbsp;<span class="op" id="2867407">+</span>&nbsp;<span class="op" id="2867409">*</span><span class="ident" id="2867410"><a href="/reflect/type.go.html#2867232">typ</a></span><span class="op" id="2867413">.</span><span class="builtintype" id="2867414">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867422">for</span>&nbsp;<span class="ident" id="2867426">_</span><span class="op" id="2867427">,</span>&nbsp;<span class="ident" id="2867429">tt</span>&nbsp;<span class="op" id="2867432">:=</span>&nbsp;<span class="keyword" id="2867435">range</span>&nbsp;<span class="ident" id="2867441"><a href="/reflect/type.go.html#2858591">typesByString</a></span><span class="op" id="2867454">(</span><span class="ident" id="2867455"><a href="/reflect/type.go.html#2867397">s</a></span><span class="op" id="2867456">)</span>&nbsp;<span class="op" id="2867458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867462">slice</span>&nbsp;<span class="op" id="2867468">:=</span>&nbsp;<span class="op" id="2867471">(</span><span class="op" id="2867472">*</span><span class="ident" id="2867473"><a href="/reflect/type.go.html#2834400">sliceType</a></span><span class="op" id="2867482">)</span><span class="op" id="2867483">(</span><span class="ident" id="2867484"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2867490">.</span><span class="ident" id="2867491">Pointer</span><span class="op" id="2867498">(</span><span class="ident" id="2867499"><a href="/reflect/type.go.html#2867429">tt</a></span><span class="op" id="2867501">)</span><span class="op" id="2867502">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867506">if</span>&nbsp;<span class="ident" id="2867509"><a href="/reflect/type.go.html#2867462">slice</a></span><span class="op" id="2867514">.</span><span class="ident" id="2867515">elem</span>&nbsp;<span class="op" id="2867520">==</span>&nbsp;<span class="ident" id="2867523"><a href="/reflect/type.go.html#2867232">typ</a></span>&nbsp;<span class="op" id="2867527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867532">return</span>&nbsp;<span class="ident" id="2867539"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2867547">(</span><span class="ident" id="2867548"><a href="/reflect/type.go.html#2867271">ckey</a></span><span class="op" id="2867552">,</span>&nbsp;<span class="ident" id="2867554"><a href="/reflect/type.go.html#2867429">tt</a></span><span class="op" id="2867556">)</span><br>
<span class="lineno">1665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2867560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2867563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2867567">//&nbsp;Make&nbsp;a&nbsp;slice&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867590">var</span>&nbsp;<span class="ident" id="2867594">islice</span>&nbsp;<span class="keyword" id="2867601">interface</span><span class="op" id="2867610">{</span><span class="op" id="2867611">}</span>&nbsp;<span class="op" id="2867613">=</span>&nbsp;<span class="op" id="2867615">(</span><span class="op" id="2867616">[</span><span class="op" id="2867617">]</span><span class="ident" id="2867618"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2867624">.</span><span class="ident" id="2867625">Pointer</span><span class="op" id="2867632">)</span><span class="op" id="2867633">(</span><span class="ident" id="2867634">nil</span><span class="op" id="2867637">)</span><br>
<span class="lineno">1670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867640">prototype</span>&nbsp;<span class="op" id="2867650">:=</span>&nbsp;<span class="op" id="2867653">*</span><span class="op" id="2867654">(</span><span class="op" id="2867655">*</span><span class="op" id="2867656">*</span><span class="ident" id="2867657"><a href="/reflect/type.go.html#2834400">sliceType</a></span><span class="op" id="2867666">)</span><span class="op" id="2867667">(</span><span class="ident" id="2867668"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2867674">.</span><span class="ident" id="2867675">Pointer</span><span class="op" id="2867682">(</span><span class="op" id="2867683">&amp;</span><span class="ident" id="2867684"><a href="/reflect/type.go.html#2867594">islice</a></span><span class="op" id="2867690">)</span><span class="op" id="2867691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867694">slice</span>&nbsp;<span class="op" id="2867700">:=</span>&nbsp;<span class="builtinfunc" id="2867703">new</span><span class="op" id="2867706">(</span><span class="ident" id="2867707"><a href="/reflect/type.go.html#2834400">sliceType</a></span><span class="op" id="2867716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2867719">*</span><span class="ident" id="2867720"><a href="/reflect/type.go.html#2867694">slice</a></span>&nbsp;<span class="op" id="2867726">=</span>&nbsp;<span class="op" id="2867728">*</span><span class="ident" id="2867729"><a href="/reflect/type.go.html#2867640">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867740"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867745">.</span><span class="builtintype" id="2867746">string</span>&nbsp;<span class="op" id="2867753">=</span>&nbsp;<span class="op" id="2867755">&amp;</span><span class="ident" id="2867756"><a href="/reflect/type.go.html#2867397">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867759"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867764">.</span><span class="ident" id="2867765">hash</span>&nbsp;<span class="op" id="2867770">=</span>&nbsp;<span class="ident" id="2867772"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2867776">(</span><span class="ident" id="2867777"><a href="/reflect/type.go.html#2867232">typ</a></span><span class="op" id="2867780">.</span><span class="ident" id="2867781">hash</span><span class="op" id="2867785">,</span>&nbsp;<span class="string" id="2867787">&#39;[&#39;</span><span class="op" id="2867790">)</span><br>
<span class="lineno">1675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867793"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867798">.</span><span class="ident" id="2867799">elem</span>&nbsp;<span class="op" id="2867804">=</span>&nbsp;<span class="ident" id="2867806"><a href="/reflect/type.go.html#2867232">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867811"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867816">.</span><span class="ident" id="2867817">uncommonType</span>&nbsp;<span class="op" id="2867830">=</span>&nbsp;<span class="ident" id="2867832">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867837"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867842">.</span><span class="ident" id="2867843">ptrToThis</span>&nbsp;<span class="op" id="2867853">=</span>&nbsp;<span class="ident" id="2867855">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2867860"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867865">.</span><span class="ident" id="2867866">zero</span>&nbsp;<span class="op" id="2867871">=</span>&nbsp;<span class="ident" id="2867873"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2867879">.</span><span class="ident" id="2867880">Pointer</span><span class="op" id="2867887">(</span><span class="op" id="2867888">&amp;</span><span class="builtinfunc" id="2867889">make</span><span class="op" id="2867893">(</span><span class="op" id="2867894">[</span><span class="op" id="2867895">]</span><span class="builtintype" id="2867896">byte</span><span class="op" id="2867900">,</span>&nbsp;<span class="ident" id="2867902"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867907">.</span><span class="ident" id="2867908">size</span><span class="op" id="2867912">)</span><span class="op" id="2867913">[</span><span class="num" id="2867914">0</span><span class="op" id="2867915">]</span><span class="op" id="2867916">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2867920">return</span>&nbsp;<span class="ident" id="2867927"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2867935">(</span><span class="ident" id="2867936"><a href="/reflect/type.go.html#2867271">ckey</a></span><span class="op" id="2867940">,</span>&nbsp;<span class="op" id="2867942">&amp;</span><span class="ident" id="2867943"><a href="/reflect/type.go.html#2867694">slice</a></span><span class="op" id="2867948">.</span><span class="ident" id="2867949">rtype</span><span class="op" id="2867954">)</span><br>
<span class="lineno"></span><span class="op" id="2867956">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2867959">//&nbsp;ArrayOf&nbsp;returns&nbsp;the&nbsp;array&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;count&nbsp;and&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2868032">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;ArrayOf(5,&nbsp;t)&nbsp;represents&nbsp;[5]int.</span><br>
<span class="lineno">1685</span><span class="comment" id="2868102">//</span><br>
<span class="lineno"></span><span class="comment" id="2868105">//&nbsp;If&nbsp;the&nbsp;resulting&nbsp;type&nbsp;would&nbsp;be&nbsp;larger&nbsp;than&nbsp;the&nbsp;available&nbsp;address&nbsp;space,</span><br>
<span class="lineno"></span><span class="comment" id="2868180">//&nbsp;ArrayOf&nbsp;panics.</span><br>
<span class="lineno"></span><span class="comment" id="2868199">//</span><br>
<span class="lineno"></span><span class="comment" id="2868202">//&nbsp;TODO(rsc):&nbsp;Unexported&nbsp;for&nbsp;now.&nbsp;Export&nbsp;once&nbsp;the&nbsp;alg&nbsp;field&nbsp;is&nbsp;set&nbsp;correctly</span><br>
<span class="lineno">1690</span><span class="comment" id="2868279">//&nbsp;for&nbsp;the&nbsp;type.&nbsp;This&nbsp;may&nbsp;require&nbsp;significant&nbsp;work.</span><br>
<span class="lineno"></span><span class="comment" id="2868331">//</span><br>
<span class="lineno"></span><span class="comment" id="2868334">//&nbsp;TODO(rsc):&nbsp;TestArrayOf&nbsp;is&nbsp;also&nbsp;disabled.&nbsp;Re-enable.</span><br>
<span class="lineno"></span><span class="keyword" id="2868389">func</span>&nbsp;<span class="ident" id="2868394">arrayOf</span><span class="op" id="2868401">(</span><span class="ident" id="2868402">count</span>&nbsp;<span class="builtintype" id="2868408">int</span><span class="op" id="2868411">,</span>&nbsp;<span class="ident" id="2868413">elem</span>&nbsp;<span class="ident" id="2868418"><a href="/reflect/type.go.html#2823607">Type</a></span><span class="op" id="2868422">)</span>&nbsp;<span class="ident" id="2868424"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2868429">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868432">typ</span>&nbsp;<span class="op" id="2868436">:=</span>&nbsp;<span class="ident" id="2868439"><a href="/reflect/type.go.html#2868413">elem</a></span><span class="op" id="2868443">.</span><span class="op" id="2868444">(</span><span class="op" id="2868445">*</span><span class="ident" id="2868446"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2868451">)</span><br>
<span class="lineno">1695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868454">slice</span>&nbsp;<span class="op" id="2868460">:=</span>&nbsp;<span class="ident" id="2868463"><a href="/reflect/type.go.html#2867208">SliceOf</a></span><span class="op" id="2868470">(</span><span class="ident" id="2868471"><a href="/reflect/type.go.html#2868413">elem</a></span><span class="op" id="2868475">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2868479">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868498">ckey</span>&nbsp;<span class="op" id="2868503">:=</span>&nbsp;<span class="ident" id="2868506"><a href="/reflect/type.go.html#2859705">cacheKey</a></span><span class="op" id="2868514">{</span><span class="ident" id="2868515"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2868520">,</span>&nbsp;<span class="ident" id="2868522"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2868525">,</span>&nbsp;<span class="ident" id="2868527">nil</span><span class="op" id="2868530">,</span>&nbsp;<span class="builtintype" id="2868532">uintptr</span><span class="op" id="2868539">(</span><span class="ident" id="2868540"><a href="/reflect/type.go.html#2868402">count</a></span><span class="op" id="2868545">)</span><span class="op" id="2868546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2868549">if</span>&nbsp;<span class="ident" id="2868552">slice</span>&nbsp;<span class="op" id="2868558">:=</span>&nbsp;<span class="ident" id="2868561"><a href="/reflect/type.go.html#2860005">cacheGet</a></span><span class="op" id="2868569">(</span><span class="ident" id="2868570"><a href="/reflect/type.go.html#2868498">ckey</a></span><span class="op" id="2868574">)</span><span class="op" id="2868575">;</span>&nbsp;<span class="ident" id="2868577"><a href="/reflect/type.go.html#2868552">slice</a></span>&nbsp;<span class="op" id="2868583">!=</span>&nbsp;<span class="ident" id="2868586">nil</span>&nbsp;<span class="op" id="2868590">{</span><br>
<span class="lineno">1700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2868594">return</span>&nbsp;<span class="ident" id="2868601"><a href="/reflect/type.go.html#2868552">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2868608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2868612">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868637">s</span>&nbsp;<span class="op" id="2868639">:=</span>&nbsp;<span class="string" id="2868642">&#34;[&#34;</span>&nbsp;<span class="op" id="2868646">+</span>&nbsp;<span class="ident" id="2868648"><a href="/reflect/type.go.html#2823229">strconv</a></span><span class="op" id="2868655">.</span><span class="ident" id="2868656">Itoa</span><span class="op" id="2868660">(</span><span class="ident" id="2868661"><a href="/reflect/type.go.html#2868402">count</a></span><span class="op" id="2868666">)</span>&nbsp;<span class="op" id="2868668">+</span>&nbsp;<span class="string" id="2868670">&#34;]&#34;</span>&nbsp;<span class="op" id="2868674">+</span>&nbsp;<span class="op" id="2868676">*</span><span class="ident" id="2868677"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2868680">.</span><span class="builtintype" id="2868681">string</span><br>
<span class="lineno">1705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2868689">for</span>&nbsp;<span class="ident" id="2868693">_</span><span class="op" id="2868694">,</span>&nbsp;<span class="ident" id="2868696">tt</span>&nbsp;<span class="op" id="2868699">:=</span>&nbsp;<span class="keyword" id="2868702">range</span>&nbsp;<span class="ident" id="2868708"><a href="/reflect/type.go.html#2858591">typesByString</a></span><span class="op" id="2868721">(</span><span class="ident" id="2868722"><a href="/reflect/type.go.html#2868637">s</a></span><span class="op" id="2868723">)</span>&nbsp;<span class="op" id="2868725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868729">slice</span>&nbsp;<span class="op" id="2868735">:=</span>&nbsp;<span class="op" id="2868738">(</span><span class="op" id="2868739">*</span><span class="ident" id="2868740"><a href="/reflect/type.go.html#2834400">sliceType</a></span><span class="op" id="2868749">)</span><span class="op" id="2868750">(</span><span class="ident" id="2868751"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2868757">.</span><span class="ident" id="2868758">Pointer</span><span class="op" id="2868765">(</span><span class="ident" id="2868766"><a href="/reflect/type.go.html#2868696">tt</a></span><span class="op" id="2868768">)</span><span class="op" id="2868769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2868773">if</span>&nbsp;<span class="ident" id="2868776"><a href="/reflect/type.go.html#2868729">slice</a></span><span class="op" id="2868781">.</span><span class="ident" id="2868782">elem</span>&nbsp;<span class="op" id="2868787">==</span>&nbsp;<span class="ident" id="2868790"><a href="/reflect/type.go.html#2868432">typ</a></span>&nbsp;<span class="op" id="2868794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2868799">return</span>&nbsp;<span class="ident" id="2868806"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2868814">(</span><span class="ident" id="2868815"><a href="/reflect/type.go.html#2868498">ckey</a></span><span class="op" id="2868819">,</span>&nbsp;<span class="ident" id="2868821"><a href="/reflect/type.go.html#2868696">tt</a></span><span class="op" id="2868823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2868827">}</span><br>
<span class="lineno">1710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2868830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2868834">//&nbsp;Make&nbsp;an&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2868858">var</span>&nbsp;<span class="ident" id="2868862">iarray</span>&nbsp;<span class="keyword" id="2868869">interface</span><span class="op" id="2868878">{</span><span class="op" id="2868879">}</span>&nbsp;<span class="op" id="2868881">=</span>&nbsp;<span class="op" id="2868883">[</span><span class="num" id="2868884">1</span><span class="op" id="2868885">]</span><span class="ident" id="2868886"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2868892">.</span><span class="ident" id="2868893">Pointer</span><span class="op" id="2868900">{</span><span class="op" id="2868901">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868904">prototype</span>&nbsp;<span class="op" id="2868914">:=</span>&nbsp;<span class="op" id="2868917">*</span><span class="op" id="2868918">(</span><span class="op" id="2868919">*</span><span class="op" id="2868920">*</span><span class="ident" id="2868921"><a href="/reflect/type.go.html#2832784">arrayType</a></span><span class="op" id="2868930">)</span><span class="op" id="2868931">(</span><span class="ident" id="2868932"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2868938">.</span><span class="ident" id="2868939">Pointer</span><span class="op" id="2868946">(</span><span class="op" id="2868947">&amp;</span><span class="ident" id="2868948"><a href="/reflect/type.go.html#2868862">iarray</a></span><span class="op" id="2868954">)</span><span class="op" id="2868955">)</span><br>
<span class="lineno">1715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2868958">array</span>&nbsp;<span class="op" id="2868964">:=</span>&nbsp;<span class="builtinfunc" id="2868967">new</span><span class="op" id="2868970">(</span><span class="ident" id="2868971"><a href="/reflect/type.go.html#2832784">arrayType</a></span><span class="op" id="2868980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2868983">*</span><span class="ident" id="2868984"><a href="/reflect/type.go.html#2868958">array</a></span>&nbsp;<span class="op" id="2868990">=</span>&nbsp;<span class="op" id="2868992">*</span><span class="ident" id="2868993"><a href="/reflect/type.go.html#2868904">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2869004">//&nbsp;TODO:&nbsp;Set&nbsp;extra&nbsp;kind&nbsp;bits&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869045"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869050">.</span><span class="builtintype" id="2869051">string</span>&nbsp;<span class="op" id="2869058">=</span>&nbsp;<span class="op" id="2869060">&amp;</span><span class="ident" id="2869061"><a href="/reflect/type.go.html#2868637">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869064"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869069">.</span><span class="ident" id="2869070">hash</span>&nbsp;<span class="op" id="2869075">=</span>&nbsp;<span class="ident" id="2869077"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2869081">(</span><span class="ident" id="2869082"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2869085">.</span><span class="ident" id="2869086">hash</span><span class="op" id="2869090">,</span>&nbsp;<span class="string" id="2869092">&#39;[&#39;</span><span class="op" id="2869095">)</span><br>
<span class="lineno">1720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2869098">for</span>&nbsp;<span class="ident" id="2869102">n</span>&nbsp;<span class="op" id="2869104">:=</span>&nbsp;<span class="builtintype" id="2869107">uint32</span><span class="op" id="2869113">(</span><span class="ident" id="2869114"><a href="/reflect/type.go.html#2868402">count</a></span><span class="op" id="2869119">)</span><span class="op" id="2869120">;</span>&nbsp;<span class="ident" id="2869122"><a href="/reflect/type.go.html#2869102">n</a></span>&nbsp;<span class="op" id="2869124">&gt;</span>&nbsp;<span class="num" id="2869126">0</span><span class="op" id="2869127">;</span>&nbsp;<span class="ident" id="2869129"><a href="/reflect/type.go.html#2869102">n</a></span>&nbsp;<span class="op" id="2869131">&gt;&gt;=</span>&nbsp;<span class="num" id="2869135">8</span>&nbsp;<span class="op" id="2869137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869141"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869146">.</span><span class="ident" id="2869147">hash</span>&nbsp;<span class="op" id="2869152">=</span>&nbsp;<span class="ident" id="2869154"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2869158">(</span><span class="ident" id="2869159"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869164">.</span><span class="ident" id="2869165">hash</span><span class="op" id="2869169">,</span>&nbsp;<span class="builtintype" id="2869171">byte</span><span class="op" id="2869175">(</span><span class="ident" id="2869176"><a href="/reflect/type.go.html#2869102">n</a></span><span class="op" id="2869177">)</span><span class="op" id="2869178">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2869181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869184"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869189">.</span><span class="ident" id="2869190">hash</span>&nbsp;<span class="op" id="2869195">=</span>&nbsp;<span class="ident" id="2869197"><a href="/reflect/type.go.html#2852668">fnv1</a></span><span class="op" id="2869201">(</span><span class="ident" id="2869202"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869207">.</span><span class="ident" id="2869208">hash</span><span class="op" id="2869212">,</span>&nbsp;<span class="string" id="2869214">&#39;]&#39;</span><span class="op" id="2869217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869220"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869225">.</span><span class="ident" id="2869226">elem</span>&nbsp;<span class="op" id="2869231">=</span>&nbsp;<span class="ident" id="2869233"><a href="/reflect/type.go.html#2868432">typ</a></span><br>
<span class="lineno">1725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869238">max</span>&nbsp;<span class="op" id="2869242">:=</span>&nbsp;<span class="op" id="2869245">^</span><span class="builtintype" id="2869246">uintptr</span><span class="op" id="2869253">(</span><span class="num" id="2869254">0</span><span class="op" id="2869255">)</span>&nbsp;<span class="op" id="2869257">/</span>&nbsp;<span class="ident" id="2869259"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2869262">.</span><span class="ident" id="2869263">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2869269">if</span>&nbsp;<span class="builtintype" id="2869272">uintptr</span><span class="op" id="2869279">(</span><span class="ident" id="2869280"><a href="/reflect/type.go.html#2868402">count</a></span><span class="op" id="2869285">)</span>&nbsp;<span class="op" id="2869287">&gt;</span>&nbsp;<span class="ident" id="2869289"><a href="/reflect/type.go.html#2869238">max</a></span>&nbsp;<span class="op" id="2869293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2869297">panic</span><span class="op" id="2869302">(</span><span class="string" id="2869303">&#34;reflect.ArrayOf:&nbsp;array&nbsp;size&nbsp;would&nbsp;exceed&nbsp;virtual&nbsp;address&nbsp;space&#34;</span><span class="op" id="2869367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2869370">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869373"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869378">.</span><span class="ident" id="2869379">size</span>&nbsp;<span class="op" id="2869384">=</span>&nbsp;<span class="ident" id="2869386"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2869389">.</span><span class="ident" id="2869390">size</span>&nbsp;<span class="op" id="2869395">*</span>&nbsp;<span class="builtintype" id="2869397">uintptr</span><span class="op" id="2869404">(</span><span class="ident" id="2869405"><a href="/reflect/type.go.html#2868402">count</a></span><span class="op" id="2869410">)</span><br>
<span class="lineno">1730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869413"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869418">.</span><span class="ident" id="2869419">align</span>&nbsp;<span class="op" id="2869425">=</span>&nbsp;<span class="ident" id="2869427"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2869430">.</span><span class="ident" id="2869431">align</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869438"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869443">.</span><span class="ident" id="2869444">fieldAlign</span>&nbsp;<span class="op" id="2869455">=</span>&nbsp;<span class="ident" id="2869457"><a href="/reflect/type.go.html#2868432">typ</a></span><span class="op" id="2869460">.</span><span class="ident" id="2869461">fieldAlign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2869473">//&nbsp;TODO:&nbsp;array.alg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2869493">//&nbsp;TODO:&nbsp;array.gc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2869512">//&nbsp;TODO:</span><br>
<span class="lineno">1735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869522"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869527">.</span><span class="ident" id="2869528">uncommonType</span>&nbsp;<span class="op" id="2869541">=</span>&nbsp;<span class="ident" id="2869543">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869548"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869553">.</span><span class="ident" id="2869554">ptrToThis</span>&nbsp;<span class="op" id="2869564">=</span>&nbsp;<span class="ident" id="2869566">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869571"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869576">.</span><span class="ident" id="2869577">zero</span>&nbsp;<span class="op" id="2869582">=</span>&nbsp;<span class="ident" id="2869584"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2869590">.</span><span class="ident" id="2869591">Pointer</span><span class="op" id="2869598">(</span><span class="op" id="2869599">&amp;</span><span class="builtinfunc" id="2869600">make</span><span class="op" id="2869604">(</span><span class="op" id="2869605">[</span><span class="op" id="2869606">]</span><span class="builtintype" id="2869607">byte</span><span class="op" id="2869611">,</span>&nbsp;<span class="ident" id="2869613"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869618">.</span><span class="ident" id="2869619">size</span><span class="op" id="2869623">)</span><span class="op" id="2869624">[</span><span class="num" id="2869625">0</span><span class="op" id="2869626">]</span><span class="op" id="2869627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869630"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869635">.</span><span class="builtinfunc" id="2869636">len</span>&nbsp;<span class="op" id="2869640">=</span>&nbsp;<span class="builtintype" id="2869642">uintptr</span><span class="op" id="2869649">(</span><span class="ident" id="2869650"><a href="/reflect/type.go.html#2868402">count</a></span><span class="op" id="2869655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2869658"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869663">.</span><span class="ident" id="2869664">slice</span>&nbsp;<span class="op" id="2869670">=</span>&nbsp;<span class="ident" id="2869672"><a href="/reflect/type.go.html#2868454">slice</a></span><span class="op" id="2869677">.</span><span class="op" id="2869678">(</span><span class="op" id="2869679">*</span><span class="ident" id="2869680"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2869685">)</span><br>
<span class="lineno">1740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2869689">return</span>&nbsp;<span class="ident" id="2869696"><a href="/reflect/type.go.html#2860486">cachePut</a></span><span class="op" id="2869704">(</span><span class="ident" id="2869705"><a href="/reflect/type.go.html#2868498">ckey</a></span><span class="op" id="2869709">,</span>&nbsp;<span class="op" id="2869711">&amp;</span><span class="ident" id="2869712"><a href="/reflect/type.go.html#2868958">array</a></span><span class="op" id="2869717">.</span><span class="ident" id="2869718">rtype</span><span class="op" id="2869723">)</span><br>
<span class="lineno"></span><span class="op" id="2869725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2869728">//&nbsp;toType&nbsp;converts&nbsp;from&nbsp;a&nbsp;*rtype&nbsp;to&nbsp;a&nbsp;Type&nbsp;that&nbsp;can&nbsp;be&nbsp;returned</span><br>
<span class="lineno">1745</span><span class="comment" id="2869792">//&nbsp;to&nbsp;the&nbsp;client&nbsp;of&nbsp;package&nbsp;reflect.&nbsp;In&nbsp;gc,&nbsp;the&nbsp;only&nbsp;concern&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2869861">//&nbsp;a&nbsp;nil&nbsp;*rtype&nbsp;must&nbsp;be&nbsp;replaced&nbsp;by&nbsp;a&nbsp;nil&nbsp;Type,&nbsp;but&nbsp;in&nbsp;gccgo&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="2869927">//&nbsp;function&nbsp;takes&nbsp;care&nbsp;of&nbsp;ensuring&nbsp;that&nbsp;multiple&nbsp;*rtype&nbsp;for&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="2869996">//&nbsp;type&nbsp;are&nbsp;coalesced&nbsp;into&nbsp;a&nbsp;single&nbsp;Type.</span><br>
<span class="lineno"></span><span class="keyword" id="2870038">func</span>&nbsp;<span class="ident" id="2870043">toType</span><span class="op" id="2870049">(</span><span class="ident" id="2870050">t</span>&nbsp;<span class="op" id="2870052">*</span><span class="ident" id="2870053"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2870058">)</span>&nbsp;<span class="ident" id="2870060"><a href="/reflect/type.go.html#2823607">Type</a></span>&nbsp;<span class="op" id="2870065">{</span><br>
<span class="lineno">1750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2870068">if</span>&nbsp;<span class="ident" id="2870071"><a href="/reflect/type.go.html#2870050">t</a></span>&nbsp;<span class="op" id="2870073">==</span>&nbsp;<span class="ident" id="2870076">nil</span>&nbsp;<span class="op" id="2870080">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2870084">return</span>&nbsp;<span class="ident" id="2870091">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2870096">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2870099">return</span>&nbsp;<span class="ident" id="2870106"><a href="/reflect/type.go.html#2870050">t</a></span><br>
<span class="lineno"></span><span class="op" id="2870108">}</span><br>
<span class="lineno">1755</span><br>
<span class="lineno"></span><span class="keyword" id="2870111">type</span>&nbsp;<span class="ident" id="2870116">layoutKey</span>&nbsp;<span class="keyword" id="2870126">struct</span>&nbsp;<span class="op" id="2870133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870136">t</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2870141">*</span><span class="ident" id="2870142"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2870148">//&nbsp;function&nbsp;signature</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870171">rcvr</span>&nbsp;<span class="op" id="2870176">*</span><span class="ident" id="2870177"><a href="/reflect/type.go.html#2830490">rtype</a></span>&nbsp;<span class="comment" id="2870183">//&nbsp;receiver&nbsp;type,&nbsp;or&nbsp;nil&nbsp;if&nbsp;none</span><br>
<span class="lineno"></span><span class="op" id="2870216">}</span><br>
<span class="lineno">1760</span><br>
<span class="lineno"></span><span class="keyword" id="2870219">type</span>&nbsp;<span class="ident" id="2870224">layoutType</span>&nbsp;<span class="keyword" id="2870235">struct</span>&nbsp;<span class="op" id="2870242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870245">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2870255">*</span><span class="ident" id="2870256"><a href="/reflect/type.go.html#2830490">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870263">argSize</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2870273">uintptr</span>&nbsp;<span class="comment" id="2870281">//&nbsp;size&nbsp;of&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870303">retOffset</span>&nbsp;<span class="builtintype" id="2870313">uintptr</span>&nbsp;<span class="comment" id="2870321">//&nbsp;offset&nbsp;of&nbsp;return&nbsp;values.</span><br>
<span class="lineno">1765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870350">stack</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2870360">*</span><span class="ident" id="2870361"><a href="/reflect/type.go.html#2873228">bitVector</a></span><br>
<span class="lineno"></span><span class="op" id="2870371">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2870374">var</span>&nbsp;<span class="ident" id="2870378">layoutCache</span>&nbsp;<span class="keyword" id="2870390">struct</span>&nbsp;<span class="op" id="2870397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870400"><a href="/reflect/type.go.html#2823240">sync</a></span><span class="op" id="2870404">.</span><span class="ident" id="2870405">RWMutex</span><br>
<span class="lineno">1770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2870414">m</span>&nbsp;<span class="keyword" id="2870416">map</span><span class="op" id="2870419">[</span><span class="ident" id="2870420"><a href="/reflect/type.go.html#2870116">layoutKey</a></span><span class="op" id="2870429">]</span><span class="ident" id="2870430"><a href="/reflect/type.go.html#2870224">layoutType</a></span><br>
<span class="lineno"></span><span class="op" id="2870441">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2870444">//&nbsp;funcLayout&nbsp;computes&nbsp;a&nbsp;struct&nbsp;type&nbsp;representing&nbsp;the&nbsp;layout&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2870512">//&nbsp;function&nbsp;arguments&nbsp;and&nbsp;return&nbsp;values&nbsp;for&nbsp;the&nbsp;function&nbsp;type&nbsp;t.</span><br>
<span class="lineno">1775</span><span class="comment" id="2870577">//&nbsp;If&nbsp;rcvr&nbsp;!=&nbsp;nil,&nbsp;rcvr&nbsp;specifies&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="2870637">//&nbsp;The&nbsp;returned&nbsp;type&nbsp;exists&nbsp;only&nbsp;for&nbsp;GC,&nbsp;so&nbsp;we&nbsp;only&nbsp;fill&nbsp;out&nbsp;GC&nbsp;relevant&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="2870716">//&nbsp;Currently,&nbsp;that&#39;s&nbsp;just&nbsp;size&nbsp;and&nbsp;the&nbsp;GC&nbsp;program.&nbsp;&nbsp;We&nbsp;also&nbsp;fill&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2870784">//&nbsp;the&nbsp;name&nbsp;for&nbsp;possible&nbsp;debugging&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2870824">func</span>&nbsp;<span class="ident" id="2870829">funcLayout</span><span class="op" id="2870839">(</span><span class="ident" id="2870840">t</span>&nbsp;<span class="op" id="2870842">*</span><span class="ident" id="2870843"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2870848">,</span>&nbsp;<span class="ident" id="2870850">rcvr</span>&nbsp;<span class="op" id="2870855">*</span><span class="ident" id="2870856"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2870861">)</span>&nbsp;<span class="op" id="2870863">(</span><span class="ident" id="2870864">frametype</span>&nbsp;<span class="op" id="2870874">*</span><span class="ident" id="2870875"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2870880">,</span>&nbsp;<span class="ident" id="2870882">argSize</span><span class="op" id="2870889">,</span>&nbsp;<span class="ident" id="2870891">retOffset</span>&nbsp;<span class="builtintype" id="2870901">uintptr</span><span class="op" id="2870908">,</span>&nbsp;<span class="ident" id="2870910">stack</span>&nbsp;<span class="op" id="2870916">*</span><span class="ident" id="2870917"><a href="/reflect/type.go.html#2873228">bitVector</a></span><span class="op" id="2870926">)</span>&nbsp;<span class="op" id="2870928">{</span><br>
<span class="lineno">1780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2870931">if</span>&nbsp;<span class="ident" id="2870934"><a href="/reflect/type.go.html#2870840">t</a></span><span class="op" id="2870935">.</span><span class="ident" id="2870936">Kind</span><span class="op" id="2870940">(</span><span class="op" id="2870941">)</span>&nbsp;<span class="op" id="2870943">!=</span>&nbsp;<span class="ident" id="2870946"><a href="/reflect/type.go.html#2830175">Func</a></span>&nbsp;<span class="op" id="2870951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2870955">panic</span><span class="op" id="2870960">(</span><span class="string" id="2870961">&#34;reflect:&nbsp;funcLayout&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2870999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2871002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871005">if</span>&nbsp;<span class="ident" id="2871008"><a href="/reflect/type.go.html#2870850">rcvr</a></span>&nbsp;<span class="op" id="2871013">!=</span>&nbsp;<span class="ident" id="2871016">nil</span>&nbsp;<span class="op" id="2871020">&amp;&amp;</span>&nbsp;<span class="ident" id="2871023"><a href="/reflect/type.go.html#2870850">rcvr</a></span><span class="op" id="2871027">.</span><span class="ident" id="2871028">Kind</span><span class="op" id="2871032">(</span><span class="op" id="2871033">)</span>&nbsp;<span class="op" id="2871035">==</span>&nbsp;<span class="ident" id="2871038"><a href="/reflect/type.go.html#2830181">Interface</a></span>&nbsp;<span class="op" id="2871048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2871052">panic</span><span class="op" id="2871057">(</span><span class="string" id="2871058">&#34;reflect:&nbsp;funcLayout&nbsp;with&nbsp;interface&nbsp;receiver&nbsp;&#34;</span>&nbsp;<span class="op" id="2871105">+</span>&nbsp;<span class="ident" id="2871107"><a href="/reflect/type.go.html#2870850">rcvr</a></span><span class="op" id="2871111">.</span><span class="ident" id="2871112">String</span><span class="op" id="2871118">(</span><span class="op" id="2871119">)</span><span class="op" id="2871120">)</span><br>
<span class="lineno">1785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2871123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871126">k</span>&nbsp;<span class="op" id="2871128">:=</span>&nbsp;<span class="ident" id="2871131"><a href="/reflect/type.go.html#2870116">layoutKey</a></span><span class="op" id="2871140">{</span><span class="ident" id="2871141"><a href="/reflect/type.go.html#2870840">t</a></span><span class="op" id="2871142">,</span>&nbsp;<span class="ident" id="2871144"><a href="/reflect/type.go.html#2870850">rcvr</a></span><span class="op" id="2871148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871151"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871162">.</span><span class="ident" id="2871163">RLock</span><span class="op" id="2871168">(</span><span class="op" id="2871169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871172">if</span>&nbsp;<span class="ident" id="2871175">x</span>&nbsp;<span class="op" id="2871177">:=</span>&nbsp;<span class="ident" id="2871180"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871191">.</span><span class="ident" id="2871192">m</span><span class="op" id="2871193">[</span><span class="ident" id="2871194"><a href="/reflect/type.go.html#2871126">k</a></span><span class="op" id="2871195">]</span><span class="op" id="2871196">;</span>&nbsp;<span class="ident" id="2871198"><a href="/reflect/type.go.html#2871175">x</a></span><span class="op" id="2871199">.</span><span class="ident" id="2871200">t</span>&nbsp;<span class="op" id="2871202">!=</span>&nbsp;<span class="ident" id="2871205">nil</span>&nbsp;<span class="op" id="2871209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871213"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871224">.</span><span class="ident" id="2871225">RUnlock</span><span class="op" id="2871232">(</span><span class="op" id="2871233">)</span><br>
<span class="lineno">1790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871237">return</span>&nbsp;<span class="ident" id="2871244"><a href="/reflect/type.go.html#2871175">x</a></span><span class="op" id="2871245">.</span><span class="ident" id="2871246">t</span><span class="op" id="2871247">,</span>&nbsp;<span class="ident" id="2871249"><a href="/reflect/type.go.html#2871175">x</a></span><span class="op" id="2871250">.</span><span class="ident" id="2871251">argSize</span><span class="op" id="2871258">,</span>&nbsp;<span class="ident" id="2871260"><a href="/reflect/type.go.html#2871175">x</a></span><span class="op" id="2871261">.</span><span class="ident" id="2871262">retOffset</span><span class="op" id="2871271">,</span>&nbsp;<span class="ident" id="2871273"><a href="/reflect/type.go.html#2871175">x</a></span><span class="op" id="2871274">.</span><span class="ident" id="2871275">stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2871282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871285"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871296">.</span><span class="ident" id="2871297">RUnlock</span><span class="op" id="2871304">(</span><span class="op" id="2871305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871308"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871319">.</span><span class="ident" id="2871320">Lock</span><span class="op" id="2871324">(</span><span class="op" id="2871325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871328">if</span>&nbsp;<span class="ident" id="2871331">x</span>&nbsp;<span class="op" id="2871333">:=</span>&nbsp;<span class="ident" id="2871336"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871347">.</span><span class="ident" id="2871348">m</span><span class="op" id="2871349">[</span><span class="ident" id="2871350"><a href="/reflect/type.go.html#2871126">k</a></span><span class="op" id="2871351">]</span><span class="op" id="2871352">;</span>&nbsp;<span class="ident" id="2871354"><a href="/reflect/type.go.html#2871331">x</a></span><span class="op" id="2871355">.</span><span class="ident" id="2871356">t</span>&nbsp;<span class="op" id="2871358">!=</span>&nbsp;<span class="ident" id="2871361">nil</span>&nbsp;<span class="op" id="2871365">{</span><br>
<span class="lineno">1795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871369"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2871380">.</span><span class="ident" id="2871381">Unlock</span><span class="op" id="2871387">(</span><span class="op" id="2871388">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871392">return</span>&nbsp;<span class="ident" id="2871399"><a href="/reflect/type.go.html#2871331">x</a></span><span class="op" id="2871400">.</span><span class="ident" id="2871401">t</span><span class="op" id="2871402">,</span>&nbsp;<span class="ident" id="2871404"><a href="/reflect/type.go.html#2871331">x</a></span><span class="op" id="2871405">.</span><span class="ident" id="2871406">argSize</span><span class="op" id="2871413">,</span>&nbsp;<span class="ident" id="2871415"><a href="/reflect/type.go.html#2871331">x</a></span><span class="op" id="2871416">.</span><span class="ident" id="2871417">retOffset</span><span class="op" id="2871426">,</span>&nbsp;<span class="ident" id="2871428"><a href="/reflect/type.go.html#2871331">x</a></span><span class="op" id="2871429">.</span><span class="ident" id="2871430">stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2871437">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871441">tt</span>&nbsp;<span class="op" id="2871444">:=</span>&nbsp;<span class="op" id="2871447">(</span><span class="op" id="2871448">*</span><span class="ident" id="2871449"><a href="/reflect/type.go.html#2833129">funcType</a></span><span class="op" id="2871457">)</span><span class="op" id="2871458">(</span><span class="ident" id="2871459"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2871465">.</span><span class="ident" id="2871466">Pointer</span><span class="op" id="2871473">(</span><span class="ident" id="2871474"><a href="/reflect/type.go.html#2870840">t</a></span><span class="op" id="2871475">)</span><span class="op" id="2871476">)</span><br>
<span class="lineno">1800</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871480">//&nbsp;compute&nbsp;gc&nbsp;program&nbsp;&amp;&nbsp;stack&nbsp;bitmap&nbsp;for&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871532"><a href="/reflect/type.go.html#2870910">stack</a></span>&nbsp;<span class="op" id="2871538">=</span>&nbsp;<span class="builtinfunc" id="2871540">new</span><span class="op" id="2871543">(</span><span class="ident" id="2871544"><a href="/reflect/type.go.html#2873228">bitVector</a></span><span class="op" id="2871553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871556">var</span>&nbsp;<span class="ident" id="2871560">gc</span>&nbsp;<span class="ident" id="2871563"><a href="/reflect/type.go.html#2863834">gcProg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871571">var</span>&nbsp;<span class="ident" id="2871575">offset</span>&nbsp;<span class="builtintype" id="2871582">uintptr</span><br>
<span class="lineno">1805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871591">if</span>&nbsp;<span class="ident" id="2871594"><a href="/reflect/type.go.html#2870850">rcvr</a></span>&nbsp;<span class="op" id="2871599">!=</span>&nbsp;<span class="ident" id="2871602">nil</span>&nbsp;<span class="op" id="2871606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871610">//&nbsp;Reflect&nbsp;uses&nbsp;the&nbsp;&#34;interface&#34;&nbsp;calling&nbsp;convention&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871667">//&nbsp;methods,&nbsp;where&nbsp;receivers&nbsp;take&nbsp;one&nbsp;word&nbsp;of&nbsp;argument</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871723">//&nbsp;space&nbsp;no&nbsp;matter&nbsp;how&nbsp;big&nbsp;they&nbsp;actually&nbsp;are.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2871771">if</span>&nbsp;<span class="ident" id="2871774"><a href="/reflect/type.go.html#2873105">ifaceIndir</a></span><span class="op" id="2871784">(</span><span class="ident" id="2871785"><a href="/reflect/type.go.html#2870850">rcvr</a></span><span class="op" id="2871789">)</span>&nbsp;<span class="op" id="2871791">{</span><br>
<span class="lineno">1810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871796">//&nbsp;we&nbsp;pass&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871837"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2871839">.</span><span class="builtinfunc" id="2871840">append</span><span class="op" id="2871846">(</span><span class="ident" id="2871847"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2871858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2871863"><a href="/reflect/type.go.html#2870910">stack</a></span><span class="op" id="2871868">.</span><span class="ident" id="2871869">append2</span><span class="op" id="2871876">(</span><span class="ident" id="2871877"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2871888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2871892">}</span>&nbsp;<span class="keyword" id="2871894">else</span>&nbsp;<span class="keyword" id="2871899">if</span>&nbsp;<span class="ident" id="2871902"><a href="/reflect/type.go.html#2870850">rcvr</a></span><span class="op" id="2871906">.</span><span class="ident" id="2871907">pointers</span><span class="op" id="2871915">(</span><span class="op" id="2871916">)</span>&nbsp;<span class="op" id="2871918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871923">//&nbsp;rcvr&nbsp;is&nbsp;a&nbsp;one-word&nbsp;pointer&nbsp;object.&nbsp;&nbsp;Its&nbsp;gc&nbsp;program</span><br>
<span class="lineno">1815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2871980">//&nbsp;is&nbsp;just&nbsp;what&nbsp;we&nbsp;need&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872013"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872015">.</span><span class="builtinfunc" id="2872016">append</span><span class="op" id="2872022">(</span><span class="ident" id="2872023"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2872034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872039"><a href="/reflect/type.go.html#2870910">stack</a></span><span class="op" id="2872044">.</span><span class="ident" id="2872045">append2</span><span class="op" id="2872052">(</span><span class="ident" id="2872053"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2872064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872068">}</span>&nbsp;<span class="keyword" id="2872070">else</span>&nbsp;<span class="op" id="2872075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872080"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872082">.</span><span class="builtinfunc" id="2872083">append</span><span class="op" id="2872089">(</span><span class="ident" id="2872090"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2872100">)</span><br>
<span class="lineno">1820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872105"><a href="/reflect/type.go.html#2870910">stack</a></span><span class="op" id="2872110">.</span><span class="ident" id="2872111">append2</span><span class="op" id="2872118">(</span><span class="ident" id="2872119"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2872129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872133">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872137"><a href="/reflect/type.go.html#2871575">offset</a></span>&nbsp;<span class="op" id="2872144">+=</span>&nbsp;<span class="ident" id="2872147"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872159">for</span>&nbsp;<span class="ident" id="2872163">_</span><span class="op" id="2872164">,</span>&nbsp;<span class="ident" id="2872166">arg</span>&nbsp;<span class="op" id="2872170">:=</span>&nbsp;<span class="keyword" id="2872173">range</span>&nbsp;<span class="ident" id="2872179"><a href="/reflect/type.go.html#2871441">tt</a></span><span class="op" id="2872181">.</span><span class="ident" id="2872182">in</span>&nbsp;<span class="op" id="2872185">{</span><br>
<span class="lineno">1825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872189"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872191">.</span><span class="ident" id="2872192">appendProg</span><span class="op" id="2872202">(</span><span class="ident" id="2872203"><a href="/reflect/type.go.html#2872166">arg</a></span><span class="op" id="2872206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872210"><a href="/reflect/type.go.html#2873556">addTypeBits</a></span><span class="op" id="2872221">(</span><span class="ident" id="2872222"><a href="/reflect/type.go.html#2870910">stack</a></span><span class="op" id="2872227">,</span>&nbsp;<span class="op" id="2872229">&amp;</span><span class="ident" id="2872230"><a href="/reflect/type.go.html#2871575">offset</a></span><span class="op" id="2872236">,</span>&nbsp;<span class="ident" id="2872238"><a href="/reflect/type.go.html#2872166">arg</a></span><span class="op" id="2872241">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872244">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872247"><a href="/reflect/type.go.html#2870882">argSize</a></span>&nbsp;<span class="op" id="2872255">=</span>&nbsp;<span class="ident" id="2872257"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872259">.</span><span class="ident" id="2872260">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872266">if</span>&nbsp;<span class="ident" id="2872269"><a href="/reflect/type.go.html#2823218">runtime</a></span><span class="op" id="2872276">.</span><span class="ident" id="2872277">GOARCH</span>&nbsp;<span class="op" id="2872284">==</span>&nbsp;<span class="string" id="2872287">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2872298">{</span><br>
<span class="lineno">1830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872302"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872304">.</span><span class="ident" id="2872305">align</span><span class="op" id="2872310">(</span><span class="num" id="2872311">8</span><span class="op" id="2872312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872318"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872320">.</span><span class="ident" id="2872321">align</span><span class="op" id="2872326">(</span><span class="ident" id="2872327"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><span class="op" id="2872334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872337"><a href="/reflect/type.go.html#2870891">retOffset</a></span>&nbsp;<span class="op" id="2872347">=</span>&nbsp;<span class="ident" id="2872349"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872351">.</span><span class="ident" id="2872352">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872358">for</span>&nbsp;<span class="ident" id="2872362">_</span><span class="op" id="2872363">,</span>&nbsp;<span class="ident" id="2872365">res</span>&nbsp;<span class="op" id="2872369">:=</span>&nbsp;<span class="keyword" id="2872372">range</span>&nbsp;<span class="ident" id="2872378"><a href="/reflect/type.go.html#2871441">tt</a></span><span class="op" id="2872380">.</span><span class="ident" id="2872381">out</span>&nbsp;<span class="op" id="2872385">{</span><br>
<span class="lineno">1835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872389"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872391">.</span><span class="ident" id="2872392">appendProg</span><span class="op" id="2872402">(</span><span class="ident" id="2872403"><a href="/reflect/type.go.html#2872365">res</a></span><span class="op" id="2872406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2872410">//&nbsp;stack&nbsp;map&nbsp;does&nbsp;not&nbsp;need&nbsp;result&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872453"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872455">.</span><span class="ident" id="2872456">align</span><span class="op" id="2872461">(</span><span class="ident" id="2872462"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><span class="op" id="2872469">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2872473">//&nbsp;build&nbsp;dummy&nbsp;rtype&nbsp;holding&nbsp;gc&nbsp;program</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872514">x</span>&nbsp;<span class="op" id="2872516">:=</span>&nbsp;<span class="builtinfunc" id="2872519">new</span><span class="op" id="2872522">(</span><span class="ident" id="2872523"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2872528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872531"><a href="/reflect/type.go.html#2872514">x</a></span><span class="op" id="2872532">.</span><span class="ident" id="2872533">size</span>&nbsp;<span class="op" id="2872538">=</span>&nbsp;<span class="ident" id="2872540"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872542">.</span><span class="ident" id="2872543">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872549"><a href="/reflect/type.go.html#2872514">x</a></span><span class="op" id="2872550">.</span><span class="ident" id="2872551">gc</span><span class="op" id="2872553">[</span><span class="num" id="2872554">0</span><span class="op" id="2872555">]</span>&nbsp;<span class="op" id="2872557">=</span>&nbsp;<span class="ident" id="2872559"><a href="/reflect/type.go.html#2871560">gc</a></span><span class="op" id="2872561">.</span><span class="ident" id="2872562">finalize</span><span class="op" id="2872570">(</span><span class="op" id="2872571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872574">var</span>&nbsp;<span class="ident" id="2872578">s</span>&nbsp;<span class="builtintype" id="2872580">string</span><br>
<span class="lineno">1845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872588">if</span>&nbsp;<span class="ident" id="2872591"><a href="/reflect/type.go.html#2870850">rcvr</a></span>&nbsp;<span class="op" id="2872596">!=</span>&nbsp;<span class="ident" id="2872599">nil</span>&nbsp;<span class="op" id="2872603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872607"><a href="/reflect/type.go.html#2872578">s</a></span>&nbsp;<span class="op" id="2872609">=</span>&nbsp;<span class="string" id="2872611">&#34;methodargs(&#34;</span>&nbsp;<span class="op" id="2872625">+</span>&nbsp;<span class="op" id="2872627">*</span><span class="ident" id="2872628"><a href="/reflect/type.go.html#2870850">rcvr</a></span><span class="op" id="2872632">.</span><span class="builtintype" id="2872633">string</span>&nbsp;<span class="op" id="2872640">+</span>&nbsp;<span class="string" id="2872642">&#34;)(&#34;</span>&nbsp;<span class="op" id="2872647">+</span>&nbsp;<span class="op" id="2872649">*</span><span class="ident" id="2872650"><a href="/reflect/type.go.html#2870840">t</a></span><span class="op" id="2872651">.</span><span class="builtintype" id="2872652">string</span>&nbsp;<span class="op" id="2872659">+</span>&nbsp;<span class="string" id="2872661">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872666">}</span>&nbsp;<span class="keyword" id="2872668">else</span>&nbsp;<span class="op" id="2872673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872677"><a href="/reflect/type.go.html#2872578">s</a></span>&nbsp;<span class="op" id="2872679">=</span>&nbsp;<span class="string" id="2872681">&#34;funcargs(&#34;</span>&nbsp;<span class="op" id="2872693">+</span>&nbsp;<span class="op" id="2872695">*</span><span class="ident" id="2872696"><a href="/reflect/type.go.html#2870840">t</a></span><span class="op" id="2872697">.</span><span class="builtintype" id="2872698">string</span>&nbsp;<span class="op" id="2872705">+</span>&nbsp;<span class="string" id="2872707">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872712">}</span><br>
<span class="lineno">1850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872715"><a href="/reflect/type.go.html#2872514">x</a></span><span class="op" id="2872716">.</span><span class="builtintype" id="2872717">string</span>&nbsp;<span class="op" id="2872724">=</span>&nbsp;<span class="op" id="2872726">&amp;</span><span class="ident" id="2872727"><a href="/reflect/type.go.html#2872578">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2872731">//&nbsp;cache&nbsp;result&nbsp;for&nbsp;future&nbsp;callers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872767">if</span>&nbsp;<span class="ident" id="2872770"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2872781">.</span><span class="ident" id="2872782">m</span>&nbsp;<span class="op" id="2872784">==</span>&nbsp;<span class="ident" id="2872787">nil</span>&nbsp;<span class="op" id="2872791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872795"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2872806">.</span><span class="ident" id="2872807">m</span>&nbsp;<span class="op" id="2872809">=</span>&nbsp;<span class="builtinfunc" id="2872811">make</span><span class="op" id="2872815">(</span><span class="keyword" id="2872816">map</span><span class="op" id="2872819">[</span><span class="ident" id="2872820"><a href="/reflect/type.go.html#2870116">layoutKey</a></span><span class="op" id="2872829">]</span><span class="ident" id="2872830"><a href="/reflect/type.go.html#2870224">layoutType</a></span><span class="op" id="2872840">)</span><br>
<span class="lineno">1855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872846"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2872857">.</span><span class="ident" id="2872858">m</span><span class="op" id="2872859">[</span><span class="ident" id="2872860"><a href="/reflect/type.go.html#2871126">k</a></span><span class="op" id="2872861">]</span>&nbsp;<span class="op" id="2872863">=</span>&nbsp;<span class="ident" id="2872865"><a href="/reflect/type.go.html#2870224">layoutType</a></span><span class="op" id="2872875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872879">t</span><span class="op" id="2872880">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2872890"><a href="/reflect/type.go.html#2872514">x</a></span><span class="op" id="2872891">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872895">argSize</span><span class="op" id="2872902">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2872906"><a href="/reflect/type.go.html#2870882">argSize</a></span><span class="op" id="2872913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872917">retOffset</span><span class="op" id="2872926">:</span>&nbsp;<span class="ident" id="2872928"><a href="/reflect/type.go.html#2870891">retOffset</a></span><span class="op" id="2872937">,</span><br>
<span class="lineno">1860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872941">stack</span><span class="op" id="2872946">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2872952"><a href="/reflect/type.go.html#2870910">stack</a></span><span class="op" id="2872957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2872960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2872963"><a href="/reflect/type.go.html#2870378">layoutCache</a></span><span class="op" id="2872974">.</span><span class="ident" id="2872975">Unlock</span><span class="op" id="2872981">(</span><span class="op" id="2872982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2872985">return</span>&nbsp;<span class="ident" id="2872992"><a href="/reflect/type.go.html#2872514">x</a></span><span class="op" id="2872993">,</span>&nbsp;<span class="ident" id="2872995"><a href="/reflect/type.go.html#2870882">argSize</a></span><span class="op" id="2873002">,</span>&nbsp;<span class="ident" id="2873004"><a href="/reflect/type.go.html#2870891">retOffset</a></span><span class="op" id="2873013">,</span>&nbsp;<span class="ident" id="2873015"><a href="/reflect/type.go.html#2870910">stack</a></span><br>
<span class="lineno"></span><span class="op" id="2873021">}</span><br>
<span class="lineno">1865</span><br>
<span class="lineno"></span><span class="comment" id="2873024">//&nbsp;ifaceIndir&nbsp;reports&nbsp;whether&nbsp;t&nbsp;is&nbsp;stored&nbsp;indirectly&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2873100">func</span>&nbsp;<span class="ident" id="2873105">ifaceIndir</span><span class="op" id="2873115">(</span><span class="ident" id="2873116">t</span>&nbsp;<span class="op" id="2873118">*</span><span class="ident" id="2873119"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2873124">)</span>&nbsp;<span class="builtintype" id="2873126">bool</span>&nbsp;<span class="op" id="2873131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873134">return</span>&nbsp;<span class="ident" id="2873141"><a href="/reflect/type.go.html#2873116">t</a></span><span class="op" id="2873142">.</span><span class="ident" id="2873143">kind</span><span class="op" id="2873147">&amp;</span><span class="ident" id="2873148"><a href="/reflect/type.go.html#2835600">kindDirectIface</a></span>&nbsp;<span class="op" id="2873164">==</span>&nbsp;<span class="num" id="2873167">0</span><br>
<span class="lineno"></span><span class="op" id="2873169">}</span><br>
<span class="lineno">1870</span><br>
<span class="lineno"></span><span class="comment" id="2873172">//&nbsp;Layout&nbsp;matches&nbsp;runtime.BitVector&nbsp;(well&nbsp;enough).</span><br>
<span class="lineno"></span><span class="keyword" id="2873223">type</span>&nbsp;<span class="ident" id="2873228">bitVector</span>&nbsp;<span class="keyword" id="2873238">struct</span>&nbsp;<span class="op" id="2873245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873248">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2873253">uint32</span>&nbsp;<span class="comment" id="2873260">//&nbsp;number&nbsp;of&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873279">data</span>&nbsp;<span class="op" id="2873284">[</span><span class="op" id="2873285">]</span><span class="builtintype" id="2873286">byte</span><br>
<span class="lineno">1875</span><span class="op" id="2873291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2873294">//&nbsp;append&nbsp;a&nbsp;bit&nbsp;pair&nbsp;to&nbsp;the&nbsp;bitmap.</span><br>
<span class="lineno"></span><span class="keyword" id="2873330">func</span>&nbsp;<span class="op" id="2873335">(</span><span class="ident" id="2873336">bv</span>&nbsp;<span class="op" id="2873339">*</span><span class="ident" id="2873340"><a href="/reflect/type.go.html#2873228">bitVector</a></span><span class="op" id="2873349">)</span>&nbsp;<span class="ident" id="2873351">append2</span><span class="op" id="2873358">(</span><span class="ident" id="2873359">bits</span>&nbsp;<span class="builtintype" id="2873364">uint8</span><span class="op" id="2873369">)</span>&nbsp;<span class="op" id="2873371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2873374">//&nbsp;assume&nbsp;bv.n&nbsp;is&nbsp;a&nbsp;multiple&nbsp;of&nbsp;2,&nbsp;since&nbsp;append2&nbsp;is&nbsp;the&nbsp;only&nbsp;operation.</span><br>
<span class="lineno">1880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873447">if</span>&nbsp;<span class="ident" id="2873450"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873452">.</span><span class="ident" id="2873453">n</span><span class="op" id="2873454">%</span><span class="num" id="2873455">8</span>&nbsp;<span class="op" id="2873457">==</span>&nbsp;<span class="num" id="2873460">0</span>&nbsp;<span class="op" id="2873462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873466"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873468">.</span><span class="ident" id="2873469">data</span>&nbsp;<span class="op" id="2873474">=</span>&nbsp;<span class="builtinfunc" id="2873476">append</span><span class="op" id="2873482">(</span><span class="ident" id="2873483"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873485">.</span><span class="ident" id="2873486">data</span><span class="op" id="2873490">,</span>&nbsp;<span class="num" id="2873492">0</span><span class="op" id="2873493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2873496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873499"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873501">.</span><span class="ident" id="2873502">data</span><span class="op" id="2873506">[</span><span class="ident" id="2873507"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873509">.</span><span class="ident" id="2873510">n</span><span class="op" id="2873511">/</span><span class="num" id="2873512">8</span><span class="op" id="2873513">]</span>&nbsp;<span class="op" id="2873515">|=</span>&nbsp;<span class="ident" id="2873518"><a href="/reflect/type.go.html#2873359">bits</a></span>&nbsp;<span class="op" id="2873523">&lt;&lt;</span>&nbsp;<span class="op" id="2873526">(</span><span class="ident" id="2873527"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873529">.</span><span class="ident" id="2873530">n</span>&nbsp;<span class="op" id="2873532">%</span>&nbsp;<span class="num" id="2873534">8</span><span class="op" id="2873535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873538"><a href="/reflect/type.go.html#2873336">bv</a></span><span class="op" id="2873540">.</span><span class="ident" id="2873541">n</span>&nbsp;<span class="op" id="2873543">+=</span>&nbsp;<span class="num" id="2873546">2</span><br>
<span class="lineno">1885</span><span class="op" id="2873548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2873551">func</span>&nbsp;<span class="ident" id="2873556">addTypeBits</span><span class="op" id="2873567">(</span><span class="ident" id="2873568">bv</span>&nbsp;<span class="op" id="2873571">*</span><span class="ident" id="2873572"><a href="/reflect/type.go.html#2873228">bitVector</a></span><span class="op" id="2873581">,</span>&nbsp;<span class="ident" id="2873583">offset</span>&nbsp;<span class="op" id="2873590">*</span><span class="builtintype" id="2873591">uintptr</span><span class="op" id="2873598">,</span>&nbsp;<span class="ident" id="2873600">t</span>&nbsp;<span class="op" id="2873602">*</span><span class="ident" id="2873603"><a href="/reflect/type.go.html#2830490">rtype</a></span><span class="op" id="2873608">)</span>&nbsp;<span class="op" id="2873610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2873613">*</span><span class="ident" id="2873614"><a href="/reflect/type.go.html#2873583">offset</a></span>&nbsp;<span class="op" id="2873621">=</span>&nbsp;<span class="ident" id="2873623"><a href="/reflect/value.go.html#2892092">align</a></span><span class="op" id="2873628">(</span><span class="op" id="2873629">*</span><span class="ident" id="2873630"><a href="/reflect/type.go.html#2873583">offset</a></span><span class="op" id="2873636">,</span>&nbsp;<span class="builtintype" id="2873638">uintptr</span><span class="op" id="2873645">(</span><span class="ident" id="2873646"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2873647">.</span><span class="ident" id="2873648">align</span><span class="op" id="2873653">)</span><span class="op" id="2873654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873657">if</span>&nbsp;<span class="ident" id="2873660"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2873661">.</span><span class="ident" id="2873662">kind</span><span class="op" id="2873666">&amp;</span><span class="ident" id="2873667"><a href="/reflect/type.go.html#2835684">kindNoPointers</a></span>&nbsp;<span class="op" id="2873682">!=</span>&nbsp;<span class="num" id="2873685">0</span>&nbsp;<span class="op" id="2873687">{</span><br>
<span class="lineno">1890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2873691">*</span><span class="ident" id="2873692"><a href="/reflect/type.go.html#2873583">offset</a></span>&nbsp;<span class="op" id="2873699">+=</span>&nbsp;<span class="ident" id="2873702"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2873703">.</span><span class="ident" id="2873704">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873711">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2873719">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873723">switch</span>&nbsp;<span class="ident" id="2873730"><a href="/reflect/type.go.html#2829996">Kind</a></span><span class="op" id="2873734">(</span><span class="ident" id="2873735"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2873736">.</span><span class="ident" id="2873737">kind</span>&nbsp;<span class="op" id="2873742">&amp;</span>&nbsp;<span class="ident" id="2873744"><a href="/reflect/type.go.html#2835710">kindMask</a></span><span class="op" id="2873752">)</span>&nbsp;<span class="op" id="2873754">{</span><br>
<span class="lineno">1895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873757">case</span>&nbsp;<span class="ident" id="2873762"><a href="/reflect/type.go.html#2830169">Chan</a></span><span class="op" id="2873766">,</span>&nbsp;<span class="ident" id="2873768"><a href="/reflect/type.go.html#2830175">Func</a></span><span class="op" id="2873772">,</span>&nbsp;<span class="ident" id="2873774"><a href="/reflect/type.go.html#2830192">Map</a></span><span class="op" id="2873777">,</span>&nbsp;<span class="ident" id="2873779"><a href="/reflect/type.go.html#2830197">Ptr</a></span><span class="op" id="2873782">,</span>&nbsp;<span class="ident" id="2873784"><a href="/reflect/type.go.html#2830202">Slice</a></span><span class="op" id="2873789">,</span>&nbsp;<span class="ident" id="2873791"><a href="/reflect/type.go.html#2830209">String</a></span><span class="op" id="2873797">,</span>&nbsp;<span class="ident" id="2873799"><a href="/reflect/type.go.html#2830225">UnsafePointer</a></span><span class="op" id="2873812">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2873816">//&nbsp;1&nbsp;pointer&nbsp;at&nbsp;start&nbsp;of&nbsp;representation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873858">for</span>&nbsp;<span class="ident" id="2873862"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2873864">.</span><span class="ident" id="2873865">n</span>&nbsp;<span class="op" id="2873867">&lt;</span>&nbsp;<span class="num" id="2873869">2</span><span class="op" id="2873870">*</span><span class="builtintype" id="2873871">uint32</span><span class="op" id="2873877">(</span><span class="op" id="2873878">*</span><span class="ident" id="2873879"><a href="/reflect/type.go.html#2873583">offset</a></span><span class="op" id="2873885">/</span><span class="builtintype" id="2873886">uintptr</span><span class="op" id="2873893">(</span><span class="ident" id="2873894"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><span class="op" id="2873901">)</span><span class="op" id="2873902">)</span>&nbsp;<span class="op" id="2873904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873909"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2873911">.</span><span class="ident" id="2873912">append2</span><span class="op" id="2873919">(</span><span class="ident" id="2873920"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2873930">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2873934">}</span><br>
<span class="lineno">1900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2873938"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2873940">.</span><span class="ident" id="2873941">append2</span><span class="op" id="2873948">(</span><span class="ident" id="2873949"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2873960">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873964">case</span>&nbsp;<span class="ident" id="2873969"><a href="/reflect/type.go.html#2830181">Interface</a></span><span class="op" id="2873978">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2873982">//&nbsp;2&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2873998">for</span>&nbsp;<span class="ident" id="2874002"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2874004">.</span><span class="ident" id="2874005">n</span>&nbsp;<span class="op" id="2874007">&lt;</span>&nbsp;<span class="num" id="2874009">2</span><span class="op" id="2874010">*</span><span class="builtintype" id="2874011">uint32</span><span class="op" id="2874017">(</span><span class="op" id="2874018">*</span><span class="ident" id="2874019"><a href="/reflect/type.go.html#2873583">offset</a></span><span class="op" id="2874025">/</span><span class="builtintype" id="2874026">uintptr</span><span class="op" id="2874033">(</span><span class="ident" id="2874034"><a href="/reflect/value.go.html#2874739">ptrSize</a></span><span class="op" id="2874041">)</span><span class="op" id="2874042">)</span>&nbsp;<span class="op" id="2874044">{</span><br>
<span class="lineno">1905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874049"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2874051">.</span><span class="ident" id="2874052">append2</span><span class="op" id="2874059">(</span><span class="ident" id="2874060"><a href="/reflect/type.go.html#2865963">bitsScalar</a></span><span class="op" id="2874070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2874074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874078"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2874080">.</span><span class="ident" id="2874081">append2</span><span class="op" id="2874088">(</span><span class="ident" id="2874089"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2874100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874104"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2874106">.</span><span class="ident" id="2874107">append2</span><span class="op" id="2874114">(</span><span class="ident" id="2874115"><a href="/reflect/type.go.html#2865982">bitsPointer</a></span><span class="op" id="2874126">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2874130">case</span>&nbsp;<span class="ident" id="2874135"><a href="/reflect/type.go.html#2830162">Array</a></span><span class="op" id="2874140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2874144">//&nbsp;repeat&nbsp;inner&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874167">tt</span>&nbsp;<span class="op" id="2874170">:=</span>&nbsp;<span class="op" id="2874173">(</span><span class="op" id="2874174">*</span><span class="ident" id="2874175"><a href="/reflect/type.go.html#2832784">arrayType</a></span><span class="op" id="2874184">)</span><span class="op" id="2874185">(</span><span class="ident" id="2874186"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2874192">.</span><span class="ident" id="2874193">Pointer</span><span class="op" id="2874200">(</span><span class="ident" id="2874201"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2874202">)</span><span class="op" id="2874203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2874207">for</span>&nbsp;<span class="ident" id="2874211">i</span>&nbsp;<span class="op" id="2874213">:=</span>&nbsp;<span class="num" id="2874216">0</span><span class="op" id="2874217">;</span>&nbsp;<span class="ident" id="2874219"><a href="/reflect/type.go.html#2874211">i</a></span>&nbsp;<span class="op" id="2874221">&lt;</span>&nbsp;<span class="builtintype" id="2874223">int</span><span class="op" id="2874226">(</span><span class="ident" id="2874227"><a href="/reflect/type.go.html#2874167">tt</a></span><span class="op" id="2874229">.</span><span class="builtinfunc" id="2874230">len</span><span class="op" id="2874233">)</span><span class="op" id="2874234">;</span>&nbsp;<span class="ident" id="2874236"><a href="/reflect/type.go.html#2874211">i</a></span><span class="op" id="2874237">++</span>&nbsp;<span class="op" id="2874240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874245"><a href="/reflect/type.go.html#2873556">addTypeBits</a></span><span class="op" id="2874256">(</span><span class="ident" id="2874257"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2874259">,</span>&nbsp;<span class="ident" id="2874261"><a href="/reflect/type.go.html#2873583">offset</a></span><span class="op" id="2874267">,</span>&nbsp;<span class="ident" id="2874269"><a href="/reflect/type.go.html#2874167">tt</a></span><span class="op" id="2874271">.</span><span class="ident" id="2874272">elem</span><span class="op" id="2874276">)</span><br>
<span class="lineno">1915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2874280">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2874284">case</span>&nbsp;<span class="ident" id="2874289"><a href="/reflect/type.go.html#2830217">Struct</a></span><span class="op" id="2874295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2874299">//&nbsp;apply&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874317">tt</span>&nbsp;<span class="op" id="2874320">:=</span>&nbsp;<span class="op" id="2874323">(</span><span class="op" id="2874324">*</span><span class="ident" id="2874325"><a href="/reflect/type.go.html#2834806">structType</a></span><span class="op" id="2874335">)</span><span class="op" id="2874336">(</span><span class="ident" id="2874337"><a href="/reflect/type.go.html#2823248">unsafe</a></span><span class="op" id="2874343">.</span><span class="ident" id="2874344">Pointer</span><span class="op" id="2874351">(</span><span class="ident" id="2874352"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2874353">)</span><span class="op" id="2874354">)</span><br>
<span class="lineno">1920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874358">start</span>&nbsp;<span class="op" id="2874364">:=</span>&nbsp;<span class="op" id="2874367">*</span><span class="ident" id="2874368"><a href="/reflect/type.go.html#2873583">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2874377">for</span>&nbsp;<span class="ident" id="2874381">i</span>&nbsp;<span class="op" id="2874383">:=</span>&nbsp;<span class="keyword" id="2874386">range</span>&nbsp;<span class="ident" id="2874392"><a href="/reflect/type.go.html#2874317">tt</a></span><span class="op" id="2874394">.</span><span class="ident" id="2874395">fields</span>&nbsp;<span class="op" id="2874402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874407">f</span>&nbsp;<span class="op" id="2874409">:=</span>&nbsp;<span class="op" id="2874412">&amp;</span><span class="ident" id="2874413"><a href="/reflect/type.go.html#2874317">tt</a></span><span class="op" id="2874415">.</span><span class="ident" id="2874416">fields</span><span class="op" id="2874422">[</span><span class="ident" id="2874423"><a href="/reflect/type.go.html#2874381">i</a></span><span class="op" id="2874424">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874429">off</span>&nbsp;<span class="op" id="2874433">:=</span>&nbsp;<span class="ident" id="2874436"><a href="/reflect/type.go.html#2874358">start</a></span>&nbsp;<span class="op" id="2874442">+</span>&nbsp;<span class="ident" id="2874444"><a href="/reflect/type.go.html#2874407">f</a></span><span class="op" id="2874445">.</span><span class="ident" id="2874446">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2874456"><a href="/reflect/type.go.html#2873556">addTypeBits</a></span><span class="op" id="2874467">(</span><span class="ident" id="2874468"><a href="/reflect/type.go.html#2873568">bv</a></span><span class="op" id="2874470">,</span>&nbsp;<span class="op" id="2874472">&amp;</span><span class="ident" id="2874473"><a href="/reflect/type.go.html#2874429">off</a></span><span class="op" id="2874476">,</span>&nbsp;<span class="ident" id="2874478"><a href="/reflect/type.go.html#2874407">f</a></span><span class="op" id="2874479">.</span><span class="ident" id="2874480">typ</span><span class="op" id="2874483">)</span><br>
<span class="lineno">1925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2874487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2874490">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2874494">*</span><span class="ident" id="2874495"><a href="/reflect/type.go.html#2873583">offset</a></span>&nbsp;<span class="op" id="2874502">+=</span>&nbsp;<span class="ident" id="2874505"><a href="/reflect/type.go.html#2873600">t</a></span><span class="op" id="2874506">.</span><span class="ident" id="2874507">size</span><br>
<span class="lineno"></span><span class="op" id="2874512">}</span>
</div>
</body>
</html>
