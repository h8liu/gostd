<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="181302">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="181358">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="181412">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="181463">package</span>&nbsp;<span class="ident" id="181471">errors_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="181484">import</span>&nbsp;<span class="op" id="181491">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="181494">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="181501">&#34;time&#34;</span><br>
<span class="lineno">10</span><span class="op" id="181508">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="181511">//&nbsp;MyError&nbsp;is&nbsp;an&nbsp;error&nbsp;implementation&nbsp;that&nbsp;includes&nbsp;a&nbsp;time&nbsp;and&nbsp;message.</span><br>
<span class="lineno"></span><span class="keyword" id="181583">type</span>&nbsp;<span class="ident" id="181588">MyError</span>&nbsp;<span class="keyword" id="181596">struct</span>&nbsp;<span class="op" id="181603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="181606">When</span>&nbsp;<span class="ident" id="181611">time</span><span class="op" id="181615">.</span><span class="ident" id="181616">Time</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="181622">What</span>&nbsp;<span class="builtintype" id="181627">string</span><br>
<span class="lineno"></span><span class="op" id="181634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="181637">func</span>&nbsp;<span class="op" id="181642">(</span><span class="ident" id="181643">e</span>&nbsp;<span class="ident" id="181645">MyError</span><span class="op" id="181652">)</span>&nbsp;<span class="ident" id="181654">Error</span><span class="op" id="181659">(</span><span class="op" id="181660">)</span>&nbsp;<span class="builtintype" id="181662">string</span>&nbsp;<span class="op" id="181669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="181672">return</span>&nbsp;<span class="ident" id="181679">fmt</span><span class="op" id="181682">.</span><span class="ident" id="181683">Sprintf</span><span class="op" id="181690">(</span><span class="string" id="181691">&#34;%v:&nbsp;%v&#34;</span><span class="op" id="181699">,</span>&nbsp;<span class="ident" id="181701">e</span><span class="op" id="181702">.</span><span class="ident" id="181703">When</span><span class="op" id="181707">,</span>&nbsp;<span class="ident" id="181709">e</span><span class="op" id="181710">.</span><span class="ident" id="181711">What</span><span class="op" id="181715">)</span><br>
<span class="lineno">20</span><span class="op" id="181717">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="181720">func</span>&nbsp;<span class="ident" id="181725">oops</span><span class="op" id="181729">(</span><span class="op" id="181730">)</span>&nbsp;<span class="builtintype" id="181732">error</span>&nbsp;<span class="op" id="181738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="181741">return</span>&nbsp;<span class="ident" id="181748">MyError</span><span class="op" id="181755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="181759">time</span><span class="op" id="181763">.</span><span class="ident" id="181764">Date</span><span class="op" id="181768">(</span><span class="num" id="181769">1989</span><span class="op" id="181773">,</span>&nbsp;<span class="num" id="181775">3</span><span class="op" id="181776">,</span>&nbsp;<span class="num" id="181778">15</span><span class="op" id="181780">,</span>&nbsp;<span class="num" id="181782">22</span><span class="op" id="181784">,</span>&nbsp;<span class="num" id="181786">30</span><span class="op" id="181788">,</span>&nbsp;<span class="num" id="181790">0</span><span class="op" id="181791">,</span>&nbsp;<span class="num" id="181793">0</span><span class="op" id="181794">,</span>&nbsp;<span class="ident" id="181796">time</span><span class="op" id="181800">.</span><span class="ident" id="181801">UTC</span><span class="op" id="181804">)</span><span class="op" id="181805">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="181809">&#34;the&nbsp;file&nbsp;system&nbsp;has&nbsp;gone&nbsp;away&#34;</span><span class="op" id="181840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="181843">}</span><br>
<span class="lineno"></span><span class="op" id="181845">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="181848">func</span>&nbsp;<span class="ident" id="181853">Example</span><span class="op" id="181860">(</span><span class="op" id="181861">)</span>&nbsp;<span class="op" id="181863">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="181866">if</span>&nbsp;<span class="ident" id="181869">err</span>&nbsp;<span class="op" id="181873">:=</span>&nbsp;<span class="ident" id="181876">oops</span><span class="op" id="181880">(</span><span class="op" id="181881">)</span><span class="op" id="181882">;</span>&nbsp;<span class="ident" id="181884">err</span>&nbsp;<span class="op" id="181888">!=</span>&nbsp;<span class="ident" id="181891">nil</span>&nbsp;<span class="op" id="181895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="181899">fmt</span><span class="op" id="181902">.</span><span class="ident" id="181903">Println</span><span class="op" id="181910">(</span><span class="ident" id="181911">err</span><span class="op" id="181914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="181917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="181920">//&nbsp;Output:&nbsp;1989-03-15&nbsp;22:30:00&nbsp;+0000&nbsp;UTC:&nbsp;the&nbsp;file&nbsp;system&nbsp;has&nbsp;gone&nbsp;away</span><br>
<span class="lineno"></span><span class="op" id="181992">}</span>
</div>
</body>
</html>
