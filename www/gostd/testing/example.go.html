<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6369768">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6369823">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6369877">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6369928">package</span>&nbsp;<span class="ident" id="6369936">testing</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6369945">import</span>&nbsp;<span class="op" id="6369952">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6369955">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6369964">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6369971">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6369977">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6369983">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6369994">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6370001">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6370004">type</span>&nbsp;<span class="ident" id="6370009">InternalExample</span>&nbsp;<span class="keyword" id="6370025">struct</span>&nbsp;<span class="op" id="6370032">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370035">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6370042">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370050">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6370057">func</span><span class="op" id="6370061">(</span><span class="op" id="6370062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370065">Output</span>&nbsp;<span class="builtintype" id="6370072">string</span><br>
<span class="lineno">20</span><span class="op" id="6370079">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6370082">func</span>&nbsp;<span class="ident" id="6370087">RunExamples</span><span class="op" id="6370098">(</span><span class="ident" id="6370099">matchString</span>&nbsp;<span class="keyword" id="6370111">func</span><span class="op" id="6370115">(</span><span class="ident" id="6370116">pat</span><span class="op" id="6370119">,</span>&nbsp;<span class="ident" id="6370121">str</span>&nbsp;<span class="builtintype" id="6370125">string</span><span class="op" id="6370131">)</span>&nbsp;<span class="op" id="6370133">(</span><span class="builtintype" id="6370134">bool</span><span class="op" id="6370138">,</span>&nbsp;<span class="builtintype" id="6370140">error</span><span class="op" id="6370145">)</span><span class="op" id="6370146">,</span>&nbsp;<span class="ident" id="6370148">examples</span>&nbsp;<span class="op" id="6370157">[</span><span class="op" id="6370158">]</span><span class="ident" id="6370159">InternalExample</span><span class="op" id="6370174">)</span>&nbsp;<span class="op" id="6370176">(</span><span class="ident" id="6370177">ok</span>&nbsp;<span class="builtintype" id="6370180">bool</span><span class="op" id="6370184">)</span>&nbsp;<span class="op" id="6370186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370189">ok</span>&nbsp;<span class="op" id="6370192">=</span>&nbsp;<span class="builtintype" id="6370194">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370201">var</span>&nbsp;<span class="ident" id="6370205">eg</span>&nbsp;<span class="ident" id="6370208">InternalExample</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370226">for</span>&nbsp;<span class="ident" id="6370230">_</span><span class="op" id="6370231">,</span>&nbsp;<span class="ident" id="6370233">eg</span>&nbsp;<span class="op" id="6370236">=</span>&nbsp;<span class="keyword" id="6370238">range</span>&nbsp;<span class="ident" id="6370244">examples</span>&nbsp;<span class="op" id="6370253">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370257">matched</span><span class="op" id="6370264">,</span>&nbsp;<span class="ident" id="6370266">err</span>&nbsp;<span class="op" id="6370270">:=</span>&nbsp;<span class="ident" id="6370273">matchString</span><span class="op" id="6370284">(</span><span class="op" id="6370285">*</span><span class="ident" id="6370286">match</span><span class="op" id="6370291">,</span>&nbsp;<span class="ident" id="6370293">eg</span><span class="op" id="6370295">.</span><span class="ident" id="6370296">Name</span><span class="op" id="6370300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370304">if</span>&nbsp;<span class="ident" id="6370307">err</span>&nbsp;<span class="op" id="6370311">!=</span>&nbsp;<span class="ident" id="6370314">nil</span>&nbsp;<span class="op" id="6370318">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370323">fmt</span><span class="op" id="6370326">.</span><span class="ident" id="6370327">Fprintf</span><span class="op" id="6370334">(</span><span class="ident" id="6370335">os</span><span class="op" id="6370337">.</span><span class="ident" id="6370338">Stderr</span><span class="op" id="6370344">,</span>&nbsp;<span class="string" id="6370346">&#34;testing:&nbsp;invalid&nbsp;regexp&nbsp;for&nbsp;-test.run:&nbsp;%s\n&#34;</span><span class="op" id="6370391">,</span>&nbsp;<span class="ident" id="6370393">err</span><span class="op" id="6370396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370401">os</span><span class="op" id="6370403">.</span><span class="ident" id="6370404">Exit</span><span class="op" id="6370408">(</span><span class="num" id="6370409">1</span><span class="op" id="6370410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370418">if</span>&nbsp;<span class="op" id="6370421">!</span><span class="ident" id="6370422">matched</span>&nbsp;<span class="op" id="6370430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370435">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370450">if</span>&nbsp;<span class="op" id="6370453">!</span><span class="ident" id="6370454">runExample</span><span class="op" id="6370464">(</span><span class="ident" id="6370465">eg</span><span class="op" id="6370467">)</span>&nbsp;<span class="op" id="6370469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370474">ok</span>&nbsp;<span class="op" id="6370477">=</span>&nbsp;<span class="builtintype" id="6370479">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370490">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370494">return</span><br>
<span class="lineno"></span><span class="op" id="6370501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6370504">func</span>&nbsp;<span class="ident" id="6370509">runExample</span><span class="op" id="6370519">(</span><span class="ident" id="6370520">eg</span>&nbsp;<span class="ident" id="6370523">InternalExample</span><span class="op" id="6370538">)</span>&nbsp;<span class="op" id="6370540">(</span><span class="ident" id="6370541">ok</span>&nbsp;<span class="builtintype" id="6370544">bool</span><span class="op" id="6370548">)</span>&nbsp;<span class="op" id="6370550">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370553">if</span>&nbsp;<span class="op" id="6370556">*</span><span class="ident" id="6370557">chatty</span>&nbsp;<span class="op" id="6370564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370568">fmt</span><span class="op" id="6370571">.</span><span class="ident" id="6370572">Printf</span><span class="op" id="6370578">(</span><span class="string" id="6370579">&#34;===&nbsp;RUN:&nbsp;%s\n&#34;</span><span class="op" id="6370594">,</span>&nbsp;<span class="ident" id="6370596">eg</span><span class="op" id="6370598">.</span><span class="ident" id="6370599">Name</span><span class="op" id="6370603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370606">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6370610">//&nbsp;Capture&nbsp;stdout.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370630">stdout</span>&nbsp;<span class="op" id="6370637">:=</span>&nbsp;<span class="ident" id="6370640">os</span><span class="op" id="6370642">.</span><span class="ident" id="6370643">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370651">r</span><span class="op" id="6370652">,</span>&nbsp;<span class="ident" id="6370654">w</span><span class="op" id="6370655">,</span>&nbsp;<span class="ident" id="6370657">err</span>&nbsp;<span class="op" id="6370661">:=</span>&nbsp;<span class="ident" id="6370664">os</span><span class="op" id="6370666">.</span><span class="ident" id="6370667">Pipe</span><span class="op" id="6370671">(</span><span class="op" id="6370672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370675">if</span>&nbsp;<span class="ident" id="6370678">err</span>&nbsp;<span class="op" id="6370682">!=</span>&nbsp;<span class="ident" id="6370685">nil</span>&nbsp;<span class="op" id="6370689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370693">fmt</span><span class="op" id="6370696">.</span><span class="ident" id="6370697">Fprintln</span><span class="op" id="6370705">(</span><span class="ident" id="6370706">os</span><span class="op" id="6370708">.</span><span class="ident" id="6370709">Stderr</span><span class="op" id="6370715">,</span>&nbsp;<span class="ident" id="6370717">err</span><span class="op" id="6370720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370724">os</span><span class="op" id="6370726">.</span><span class="ident" id="6370727">Exit</span><span class="op" id="6370731">(</span><span class="num" id="6370732">1</span><span class="op" id="6370733">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370739">os</span><span class="op" id="6370741">.</span><span class="ident" id="6370742">Stdout</span>&nbsp;<span class="op" id="6370749">=</span>&nbsp;<span class="ident" id="6370751">w</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370754">outC</span>&nbsp;<span class="op" id="6370759">:=</span>&nbsp;<span class="builtinfunc" id="6370762">make</span><span class="op" id="6370766">(</span><span class="keyword" id="6370767">chan</span>&nbsp;<span class="builtintype" id="6370772">string</span><span class="op" id="6370778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370781">go</span>&nbsp;<span class="keyword" id="6370784">func</span><span class="op" id="6370788">(</span><span class="op" id="6370789">)</span>&nbsp;<span class="op" id="6370791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370795">buf</span>&nbsp;<span class="op" id="6370799">:=</span>&nbsp;<span class="builtinfunc" id="6370802">new</span><span class="op" id="6370805">(</span><span class="ident" id="6370806">bytes</span><span class="op" id="6370811">.</span><span class="ident" id="6370812">Buffer</span><span class="op" id="6370818">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370822">_</span><span class="op" id="6370823">,</span>&nbsp;<span class="ident" id="6370825">err</span>&nbsp;<span class="op" id="6370829">:=</span>&nbsp;<span class="ident" id="6370832">io</span><span class="op" id="6370834">.</span><span class="ident" id="6370835">Copy</span><span class="op" id="6370839">(</span><span class="ident" id="6370840">buf</span><span class="op" id="6370843">,</span>&nbsp;<span class="ident" id="6370845">r</span><span class="op" id="6370846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370850">r</span><span class="op" id="6370851">.</span><span class="ident" id="6370852">Close</span><span class="op" id="6370857">(</span><span class="op" id="6370858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6370862">if</span>&nbsp;<span class="ident" id="6370865">err</span>&nbsp;<span class="op" id="6370869">!=</span>&nbsp;<span class="ident" id="6370872">nil</span>&nbsp;<span class="op" id="6370876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370881">fmt</span><span class="op" id="6370884">.</span><span class="ident" id="6370885">Fprintf</span><span class="op" id="6370892">(</span><span class="ident" id="6370893">os</span><span class="op" id="6370895">.</span><span class="ident" id="6370896">Stderr</span><span class="op" id="6370902">,</span>&nbsp;<span class="string" id="6370904">&#34;testing:&nbsp;copying&nbsp;pipe:&nbsp;%v\n&#34;</span><span class="op" id="6370933">,</span>&nbsp;<span class="ident" id="6370935">err</span><span class="op" id="6370938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370943">os</span><span class="op" id="6370945">.</span><span class="ident" id="6370946">Exit</span><span class="op" id="6370950">(</span><span class="num" id="6370951">1</span><span class="op" id="6370952">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370960">outC</span>&nbsp;<span class="op" id="6370965">&lt;-</span>&nbsp;<span class="ident" id="6370968">buf</span><span class="op" id="6370971">.</span><span class="ident" id="6370972">String</span><span class="op" id="6370978">(</span><span class="op" id="6370979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6370982">}</span><span class="op" id="6370983">(</span><span class="op" id="6370984">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6370988">start</span>&nbsp;<span class="op" id="6370994">:=</span>&nbsp;<span class="ident" id="6370997">time</span><span class="op" id="6371001">.</span><span class="ident" id="6371002">Now</span><span class="op" id="6371005">(</span><span class="op" id="6371006">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371009">ok</span>&nbsp;<span class="op" id="6371012">=</span>&nbsp;<span class="builtintype" id="6371014">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6371021">//&nbsp;Clean&nbsp;up&nbsp;in&nbsp;a&nbsp;deferred&nbsp;call&nbsp;so&nbsp;we&nbsp;can&nbsp;recover&nbsp;if&nbsp;the&nbsp;example&nbsp;panics.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371094">defer</span>&nbsp;<span class="keyword" id="6371100">func</span><span class="op" id="6371104">(</span><span class="op" id="6371105">)</span>&nbsp;<span class="op" id="6371107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371111">dstr</span>&nbsp;<span class="op" id="6371116">:=</span>&nbsp;<span class="ident" id="6371119">fmtDuration</span><span class="op" id="6371130">(</span><span class="ident" id="6371131">time</span><span class="op" id="6371135">.</span><span class="ident" id="6371136">Now</span><span class="op" id="6371139">(</span><span class="op" id="6371140">)</span><span class="op" id="6371141">.</span><span class="ident" id="6371142">Sub</span><span class="op" id="6371145">(</span><span class="ident" id="6371146">start</span><span class="op" id="6371151">)</span><span class="op" id="6371152">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6371157">//&nbsp;Close&nbsp;pipe,&nbsp;restore&nbsp;stdout,&nbsp;get&nbsp;output.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371202">w</span><span class="op" id="6371203">.</span><span class="ident" id="6371204">Close</span><span class="op" id="6371209">(</span><span class="op" id="6371210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371214">os</span><span class="op" id="6371216">.</span><span class="ident" id="6371217">Stdout</span>&nbsp;<span class="op" id="6371224">=</span>&nbsp;<span class="ident" id="6371226">stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371235">out</span>&nbsp;<span class="op" id="6371239">:=</span>&nbsp;<span class="op" id="6371242">&lt;-</span><span class="ident" id="6371244">outC</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371252">var</span>&nbsp;<span class="ident" id="6371256">fail</span>&nbsp;<span class="builtintype" id="6371261">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371270">err</span>&nbsp;<span class="op" id="6371274">:=</span>&nbsp;<span class="builtinfunc" id="6371277">recover</span><span class="op" id="6371284">(</span><span class="op" id="6371285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371289">if</span>&nbsp;<span class="ident" id="6371292">g</span><span class="op" id="6371293">,</span>&nbsp;<span class="ident" id="6371295">e</span>&nbsp;<span class="op" id="6371297">:=</span>&nbsp;<span class="ident" id="6371300">strings</span><span class="op" id="6371307">.</span><span class="ident" id="6371308">TrimSpace</span><span class="op" id="6371317">(</span><span class="ident" id="6371318">out</span><span class="op" id="6371321">)</span><span class="op" id="6371322">,</span>&nbsp;<span class="ident" id="6371324">strings</span><span class="op" id="6371331">.</span><span class="ident" id="6371332">TrimSpace</span><span class="op" id="6371341">(</span><span class="ident" id="6371342">eg</span><span class="op" id="6371344">.</span><span class="ident" id="6371345">Output</span><span class="op" id="6371351">)</span><span class="op" id="6371352">;</span>&nbsp;<span class="ident" id="6371354">g</span>&nbsp;<span class="op" id="6371356">!=</span>&nbsp;<span class="ident" id="6371359">e</span>&nbsp;<span class="op" id="6371361">&amp;&amp;</span>&nbsp;<span class="ident" id="6371364">err</span>&nbsp;<span class="op" id="6371368">==</span>&nbsp;<span class="ident" id="6371371">nil</span>&nbsp;<span class="op" id="6371375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371380">fail</span>&nbsp;<span class="op" id="6371385">=</span>&nbsp;<span class="ident" id="6371387">fmt</span><span class="op" id="6371390">.</span><span class="ident" id="6371391">Sprintf</span><span class="op" id="6371398">(</span><span class="string" id="6371399">&#34;got:\n%s\nwant:\n%s\n&#34;</span><span class="op" id="6371422">,</span>&nbsp;<span class="ident" id="6371424">g</span><span class="op" id="6371425">,</span>&nbsp;<span class="ident" id="6371427">e</span><span class="op" id="6371428">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371436">if</span>&nbsp;<span class="ident" id="6371439">fail</span>&nbsp;<span class="op" id="6371444">!=</span>&nbsp;<span class="string" id="6371447">&#34;&#34;</span>&nbsp;<span class="op" id="6371450">||</span>&nbsp;<span class="ident" id="6371453">err</span>&nbsp;<span class="op" id="6371457">!=</span>&nbsp;<span class="ident" id="6371460">nil</span>&nbsp;<span class="op" id="6371464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371469">fmt</span><span class="op" id="6371472">.</span><span class="ident" id="6371473">Printf</span><span class="op" id="6371479">(</span><span class="string" id="6371480">&#34;---&nbsp;FAIL:&nbsp;%s&nbsp;(%s)\n%s&#34;</span><span class="op" id="6371503">,</span>&nbsp;<span class="ident" id="6371505">eg</span><span class="op" id="6371507">.</span><span class="ident" id="6371508">Name</span><span class="op" id="6371512">,</span>&nbsp;<span class="ident" id="6371514">dstr</span><span class="op" id="6371518">,</span>&nbsp;<span class="ident" id="6371520">fail</span><span class="op" id="6371524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371529">ok</span>&nbsp;<span class="op" id="6371532">=</span>&nbsp;<span class="builtintype" id="6371534">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371542">}</span>&nbsp;<span class="keyword" id="6371544">else</span>&nbsp;<span class="keyword" id="6371549">if</span>&nbsp;<span class="op" id="6371552">*</span><span class="ident" id="6371553">chatty</span>&nbsp;<span class="op" id="6371560">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371565">fmt</span><span class="op" id="6371568">.</span><span class="ident" id="6371569">Printf</span><span class="op" id="6371575">(</span><span class="string" id="6371576">&#34;---&nbsp;PASS:&nbsp;%s&nbsp;(%s)\n&#34;</span><span class="op" id="6371597">,</span>&nbsp;<span class="ident" id="6371599">eg</span><span class="op" id="6371601">.</span><span class="ident" id="6371602">Name</span><span class="op" id="6371606">,</span>&nbsp;<span class="ident" id="6371608">dstr</span><span class="op" id="6371612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371620">if</span>&nbsp;<span class="ident" id="6371623">err</span>&nbsp;<span class="op" id="6371627">!=</span>&nbsp;<span class="ident" id="6371630">nil</span>&nbsp;<span class="op" id="6371634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6371639">panic</span><span class="op" id="6371644">(</span><span class="ident" id="6371645">err</span><span class="op" id="6371648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371652">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6371655">}</span><span class="op" id="6371656">(</span><span class="op" id="6371657">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6371661">//&nbsp;Run&nbsp;example.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6371678">eg</span><span class="op" id="6371680">.</span><span class="ident" id="6371681">F</span><span class="op" id="6371682">(</span><span class="op" id="6371683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6371686">return</span><br>
<span class="lineno">100</span><span class="op" id="6371693">}</span>
</div>
</body>
</html>
