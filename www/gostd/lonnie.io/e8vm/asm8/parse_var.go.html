<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5111547">package</span>&nbsp;<span class="ident" id="5111555">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5111561">import</span>&nbsp;<span class="op" id="5111568">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5111571">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5111593">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5111596">func</span>&nbsp;<span class="ident" id="5111601">parseVarStmts</span><span class="op" id="5111614">(</span><span class="ident" id="5111615">p</span>&nbsp;<span class="op" id="5111617">*</span><span class="ident" id="5111618">parser</span><span class="op" id="5111624">,</span>&nbsp;<span class="ident" id="5111626">v</span>&nbsp;<span class="op" id="5111628">*</span><span class="ident" id="5111629">varDecl</span><span class="op" id="5111636">)</span>&nbsp;<span class="op" id="5111638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5111641">for</span>&nbsp;<span class="op" id="5111645">!</span><span class="op" id="5111646">(</span><span class="ident" id="5111647">p</span><span class="op" id="5111648">.</span><span class="ident" id="5111649">see</span><span class="op" id="5111652">(</span><span class="ident" id="5111653">Rbrace</span><span class="op" id="5111659">)</span>&nbsp;<span class="op" id="5111661">||</span>&nbsp;<span class="ident" id="5111664">p</span><span class="op" id="5111665">.</span><span class="ident" id="5111666">see</span><span class="op" id="5111669">(</span><span class="ident" id="5111670">lex8</span><span class="op" id="5111674">.</span><span class="ident" id="5111675">EOF</span><span class="op" id="5111678">)</span><span class="op" id="5111679">)</span>&nbsp;<span class="op" id="5111681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111685">stmt</span>&nbsp;<span class="op" id="5111690">:=</span>&nbsp;<span class="ident" id="5111693">parseVarStmt</span><span class="op" id="5111705">(</span><span class="ident" id="5111706">p</span><span class="op" id="5111707">)</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5111711">if</span>&nbsp;<span class="ident" id="5111714">stmt</span>&nbsp;<span class="op" id="5111719">!=</span>&nbsp;<span class="ident" id="5111722">nil</span>&nbsp;<span class="op" id="5111726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111731">v</span><span class="op" id="5111732">.</span><span class="ident" id="5111733">stmts</span>&nbsp;<span class="op" id="5111739">=</span>&nbsp;<span class="builtinfunc" id="5111741">append</span><span class="op" id="5111747">(</span><span class="ident" id="5111748">v</span><span class="op" id="5111749">.</span><span class="ident" id="5111750">stmts</span><span class="op" id="5111755">,</span>&nbsp;<span class="ident" id="5111757">stmt</span><span class="op" id="5111761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5111765">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111769">p</span><span class="op" id="5111770">.</span><span class="ident" id="5111771">clearErr</span><span class="op" id="5111779">(</span><span class="op" id="5111780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5111783">}</span><br>
<span class="lineno">15</span><span class="op" id="5111785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5111788">func</span>&nbsp;<span class="ident" id="5111793">parseVar</span><span class="op" id="5111801">(</span><span class="ident" id="5111802">p</span>&nbsp;<span class="op" id="5111804">*</span><span class="ident" id="5111805">parser</span><span class="op" id="5111811">)</span>&nbsp;<span class="op" id="5111813">*</span><span class="ident" id="5111814">varDecl</span>&nbsp;<span class="op" id="5111822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111825">ret</span>&nbsp;<span class="op" id="5111829">:=</span>&nbsp;<span class="builtinfunc" id="5111832">new</span><span class="op" id="5111835">(</span><span class="ident" id="5111836">varDecl</span><span class="op" id="5111843">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111847">ret</span><span class="op" id="5111850">.</span><span class="ident" id="5111851">kw</span>&nbsp;<span class="op" id="5111854">=</span>&nbsp;<span class="ident" id="5111856">p</span><span class="op" id="5111857">.</span><span class="ident" id="5111858">expectKeyword</span><span class="op" id="5111871">(</span><span class="string" id="5111872">&#34;var&#34;</span><span class="op" id="5111877">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111880">ret</span><span class="op" id="5111883">.</span><span class="ident" id="5111884">name</span>&nbsp;<span class="op" id="5111889">=</span>&nbsp;<span class="ident" id="5111891">p</span><span class="op" id="5111892">.</span><span class="ident" id="5111893">expect</span><span class="op" id="5111899">(</span><span class="ident" id="5111900">Operand</span><span class="op" id="5111907">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5111911">if</span>&nbsp;<span class="ident" id="5111914">ret</span><span class="op" id="5111917">.</span><span class="ident" id="5111918">name</span>&nbsp;<span class="op" id="5111923">!=</span>&nbsp;<span class="ident" id="5111926">nil</span>&nbsp;<span class="op" id="5111930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111934">name</span>&nbsp;<span class="op" id="5111939">:=</span>&nbsp;<span class="ident" id="5111942">ret</span><span class="op" id="5111945">.</span><span class="ident" id="5111946">name</span><span class="op" id="5111950">.</span><span class="ident" id="5111951">Lit</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5111957">if</span>&nbsp;<span class="op" id="5111960">!</span><span class="ident" id="5111961">isIdent</span><span class="op" id="5111968">(</span><span class="ident" id="5111969">name</span><span class="op" id="5111973">)</span>&nbsp;<span class="op" id="5111975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5111980">p</span><span class="op" id="5111981">.</span><span class="ident" id="5111982">err</span><span class="op" id="5111985">(</span><span class="ident" id="5111986">ret</span><span class="op" id="5111989">.</span><span class="ident" id="5111990">name</span><span class="op" id="5111994">.</span><span class="ident" id="5111995">Pos</span><span class="op" id="5111998">,</span>&nbsp;<span class="string" id="5112000">&#34;invalid&nbsp;var&nbsp;name&nbsp;%q&#34;</span><span class="op" id="5112021">,</span>&nbsp;<span class="ident" id="5112023">name</span><span class="op" id="5112027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5112031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5112034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5112038">ret</span><span class="op" id="5112041">.</span><span class="ident" id="5112042">lbrace</span>&nbsp;<span class="op" id="5112049">=</span>&nbsp;<span class="ident" id="5112051">p</span><span class="op" id="5112052">.</span><span class="ident" id="5112053">expect</span><span class="op" id="5112059">(</span><span class="ident" id="5112060">Lbrace</span><span class="op" id="5112066">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5112069">if</span>&nbsp;<span class="ident" id="5112072">p</span><span class="op" id="5112073">.</span><span class="ident" id="5112074">skipErrStmt</span><span class="op" id="5112085">(</span><span class="op" id="5112086">)</span>&nbsp;<span class="op" id="5112088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5112092">return</span>&nbsp;<span class="ident" id="5112099">ret</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5112104">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5112108">parseVarStmts</span><span class="op" id="5112121">(</span><span class="ident" id="5112122">p</span><span class="op" id="5112123">,</span>&nbsp;<span class="ident" id="5112125">ret</span><span class="op" id="5112128">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5112132">ret</span><span class="op" id="5112135">.</span><span class="ident" id="5112136">rbrace</span>&nbsp;<span class="op" id="5112143">=</span>&nbsp;<span class="ident" id="5112145">p</span><span class="op" id="5112146">.</span><span class="ident" id="5112147">expect</span><span class="op" id="5112153">(</span><span class="ident" id="5112154">Rbrace</span><span class="op" id="5112160">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5112163">ret</span><span class="op" id="5112166">.</span><span class="ident" id="5112167">semi</span>&nbsp;<span class="op" id="5112172">=</span>&nbsp;<span class="ident" id="5112174">p</span><span class="op" id="5112175">.</span><span class="ident" id="5112176">expect</span><span class="op" id="5112182">(</span><span class="ident" id="5112183">Semi</span><span class="op" id="5112187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5112190">p</span><span class="op" id="5112191">.</span><span class="ident" id="5112192">skipErrStmt</span><span class="op" id="5112203">(</span><span class="op" id="5112204">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5112208">return</span>&nbsp;<span class="ident" id="5112215">ret</span><br>
<span class="lineno"></span><span class="op" id="5112219">}</span>
</div>
</body>
</html>
