<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>math/big</h2>
<ul>
<li><a href="/gostd/math/big/arith.go.html">arith.go</a></li>
<li><a href="/gostd/math/big/arith_decl.go.html">arith_decl.go</a></li>
<li><a href="/gostd/math/big/arith_test.go.html">arith_test.go</a></li>
<li><a href="/gostd/math/big/calibrate_test.go.html">calibrate_test.go</a></li>
<li><a href="/gostd/math/big/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/math/big/gcd_test.go.html">gcd_test.go</a></li>
<li><a href="/gostd/math/big/hilbert_test.go.html" class="current">hilbert_test.go</a></li>
<li><a href="/gostd/math/big/int.go.html">int.go</a></li>
<li><a href="/gostd/math/big/int_test.go.html">int_test.go</a></li>
<li><a href="/gostd/math/big/nat.go.html">nat.go</a></li>
<li><a href="/gostd/math/big/nat_test.go.html">nat_test.go</a></li>
<li><a href="/gostd/math/big/rat.go.html">rat.go</a></li>
<li><a href="/gostd/math/big/rat_test.go.html">rat_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6907021">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6907076">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6907130">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6907181">//&nbsp;A&nbsp;little&nbsp;test&nbsp;program&nbsp;and&nbsp;benchmark&nbsp;for&nbsp;rational&nbsp;arithmetics.</span><br>
<span class="lineno"></span><span class="comment" id="6907246">//&nbsp;Computes&nbsp;a&nbsp;Hilbert&nbsp;matrix,&nbsp;its&nbsp;inverse,&nbsp;multiplies&nbsp;them</span><br>
<span class="lineno"></span><span class="comment" id="6907305">//&nbsp;and&nbsp;verifies&nbsp;that&nbsp;the&nbsp;product&nbsp;is&nbsp;the&nbsp;identity&nbsp;matrix.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6907363">package</span>&nbsp;<span class="ident" id="6907371">big</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6907376">import</span>&nbsp;<span class="op" id="6907383">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6907386">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6907393">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6907403">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6907406">type</span>&nbsp;<span class="ident" id="6907411">matrix</span>&nbsp;<span class="keyword" id="6907418">struct</span>&nbsp;<span class="op" id="6907425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907428">n</span><span class="op" id="6907429">,</span>&nbsp;<span class="ident" id="6907431">m</span>&nbsp;<span class="builtintype" id="6907433">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907438">a</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6907443">[</span><span class="op" id="6907444">]</span><span class="op" id="6907445">*</span><span class="ident" id="6907446">Rat</span><br>
<span class="lineno"></span><span class="op" id="6907450">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="6907453">func</span>&nbsp;<span class="op" id="6907458">(</span><span class="ident" id="6907459">a</span>&nbsp;<span class="op" id="6907461">*</span><span class="ident" id="6907462">matrix</span><span class="op" id="6907468">)</span>&nbsp;<span class="ident" id="6907470">at</span><span class="op" id="6907472">(</span><span class="ident" id="6907473">i</span><span class="op" id="6907474">,</span>&nbsp;<span class="ident" id="6907476">j</span>&nbsp;<span class="builtintype" id="6907478">int</span><span class="op" id="6907481">)</span>&nbsp;<span class="op" id="6907483">*</span><span class="ident" id="6907484">Rat</span>&nbsp;<span class="op" id="6907488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907491">if</span>&nbsp;<span class="op" id="6907494">!</span><span class="op" id="6907495">(</span><span class="num" id="6907496">0</span>&nbsp;<span class="op" id="6907498">&lt;=</span>&nbsp;<span class="ident" id="6907501">i</span>&nbsp;<span class="op" id="6907503">&amp;&amp;</span>&nbsp;<span class="ident" id="6907506">i</span>&nbsp;<span class="op" id="6907508">&lt;</span>&nbsp;<span class="ident" id="6907510">a</span><span class="op" id="6907511">.</span><span class="ident" id="6907512">n</span>&nbsp;<span class="op" id="6907514">&amp;&amp;</span>&nbsp;<span class="num" id="6907517">0</span>&nbsp;<span class="op" id="6907519">&lt;=</span>&nbsp;<span class="ident" id="6907522">j</span>&nbsp;<span class="op" id="6907524">&amp;&amp;</span>&nbsp;<span class="ident" id="6907527">j</span>&nbsp;<span class="op" id="6907529">&lt;</span>&nbsp;<span class="ident" id="6907531">a</span><span class="op" id="6907532">.</span><span class="ident" id="6907533">m</span><span class="op" id="6907534">)</span>&nbsp;<span class="op" id="6907536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6907540">panic</span><span class="op" id="6907545">(</span><span class="string" id="6907546">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="6907566">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6907569">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907572">return</span>&nbsp;<span class="ident" id="6907579">a</span><span class="op" id="6907580">.</span><span class="ident" id="6907581">a</span><span class="op" id="6907582">[</span><span class="ident" id="6907583">i</span><span class="op" id="6907584">*</span><span class="ident" id="6907585">a</span><span class="op" id="6907586">.</span><span class="ident" id="6907587">m</span><span class="op" id="6907588">+</span><span class="ident" id="6907589">j</span><span class="op" id="6907590">]</span><br>
<span class="lineno"></span><span class="op" id="6907592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6907595">func</span>&nbsp;<span class="op" id="6907600">(</span><span class="ident" id="6907601">a</span>&nbsp;<span class="op" id="6907603">*</span><span class="ident" id="6907604">matrix</span><span class="op" id="6907610">)</span>&nbsp;<span class="ident" id="6907612">set</span><span class="op" id="6907615">(</span><span class="ident" id="6907616">i</span><span class="op" id="6907617">,</span>&nbsp;<span class="ident" id="6907619">j</span>&nbsp;<span class="builtintype" id="6907621">int</span><span class="op" id="6907624">,</span>&nbsp;<span class="ident" id="6907626">x</span>&nbsp;<span class="op" id="6907628">*</span><span class="ident" id="6907629">Rat</span><span class="op" id="6907632">)</span>&nbsp;<span class="op" id="6907634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907637">if</span>&nbsp;<span class="op" id="6907640">!</span><span class="op" id="6907641">(</span><span class="num" id="6907642">0</span>&nbsp;<span class="op" id="6907644">&lt;=</span>&nbsp;<span class="ident" id="6907647">i</span>&nbsp;<span class="op" id="6907649">&amp;&amp;</span>&nbsp;<span class="ident" id="6907652">i</span>&nbsp;<span class="op" id="6907654">&lt;</span>&nbsp;<span class="ident" id="6907656">a</span><span class="op" id="6907657">.</span><span class="ident" id="6907658">n</span>&nbsp;<span class="op" id="6907660">&amp;&amp;</span>&nbsp;<span class="num" id="6907663">0</span>&nbsp;<span class="op" id="6907665">&lt;=</span>&nbsp;<span class="ident" id="6907668">j</span>&nbsp;<span class="op" id="6907670">&amp;&amp;</span>&nbsp;<span class="ident" id="6907673">j</span>&nbsp;<span class="op" id="6907675">&lt;</span>&nbsp;<span class="ident" id="6907677">a</span><span class="op" id="6907678">.</span><span class="ident" id="6907679">m</span><span class="op" id="6907680">)</span>&nbsp;<span class="op" id="6907682">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6907686">panic</span><span class="op" id="6907691">(</span><span class="string" id="6907692">&#34;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="6907712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6907715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907718">a</span><span class="op" id="6907719">.</span><span class="ident" id="6907720">a</span><span class="op" id="6907721">[</span><span class="ident" id="6907722">i</span><span class="op" id="6907723">*</span><span class="ident" id="6907724">a</span><span class="op" id="6907725">.</span><span class="ident" id="6907726">m</span><span class="op" id="6907727">+</span><span class="ident" id="6907728">j</span><span class="op" id="6907729">]</span>&nbsp;<span class="op" id="6907731">=</span>&nbsp;<span class="ident" id="6907733">x</span><br>
<span class="lineno"></span><span class="op" id="6907735">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span><span class="keyword" id="6907738">func</span>&nbsp;<span class="ident" id="6907743">newMatrix</span><span class="op" id="6907752">(</span><span class="ident" id="6907753">n</span><span class="op" id="6907754">,</span>&nbsp;<span class="ident" id="6907756">m</span>&nbsp;<span class="builtintype" id="6907758">int</span><span class="op" id="6907761">)</span>&nbsp;<span class="op" id="6907763">*</span><span class="ident" id="6907764">matrix</span>&nbsp;<span class="op" id="6907771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907774">if</span>&nbsp;<span class="op" id="6907777">!</span><span class="op" id="6907778">(</span><span class="num" id="6907779">0</span>&nbsp;<span class="op" id="6907781">&lt;=</span>&nbsp;<span class="ident" id="6907784">n</span>&nbsp;<span class="op" id="6907786">&amp;&amp;</span>&nbsp;<span class="num" id="6907789">0</span>&nbsp;<span class="op" id="6907791">&lt;=</span>&nbsp;<span class="ident" id="6907794">m</span><span class="op" id="6907795">)</span>&nbsp;<span class="op" id="6907797">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6907801">panic</span><span class="op" id="6907806">(</span><span class="string" id="6907807">&#34;illegal&nbsp;matrix&#34;</span><span class="op" id="6907823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6907826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907829">a</span>&nbsp;<span class="op" id="6907831">:=</span>&nbsp;<span class="builtinfunc" id="6907834">new</span><span class="op" id="6907837">(</span><span class="ident" id="6907838">matrix</span><span class="op" id="6907844">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907847">a</span><span class="op" id="6907848">.</span><span class="ident" id="6907849">n</span>&nbsp;<span class="op" id="6907851">=</span>&nbsp;<span class="ident" id="6907853">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907856">a</span><span class="op" id="6907857">.</span><span class="ident" id="6907858">m</span>&nbsp;<span class="op" id="6907860">=</span>&nbsp;<span class="ident" id="6907862">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907865">a</span><span class="op" id="6907866">.</span><span class="ident" id="6907867">a</span>&nbsp;<span class="op" id="6907869">=</span>&nbsp;<span class="builtinfunc" id="6907871">make</span><span class="op" id="6907875">(</span><span class="op" id="6907876">[</span><span class="op" id="6907877">]</span><span class="op" id="6907878">*</span><span class="ident" id="6907879">Rat</span><span class="op" id="6907882">,</span>&nbsp;<span class="ident" id="6907884">n</span><span class="op" id="6907885">*</span><span class="ident" id="6907886">m</span><span class="op" id="6907887">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907890">return</span>&nbsp;<span class="ident" id="6907897">a</span><br>
<span class="lineno"></span><span class="op" id="6907899">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="keyword" id="6907902">func</span>&nbsp;<span class="ident" id="6907907">newUnit</span><span class="op" id="6907914">(</span><span class="ident" id="6907915">n</span>&nbsp;<span class="builtintype" id="6907917">int</span><span class="op" id="6907920">)</span>&nbsp;<span class="op" id="6907922">*</span><span class="ident" id="6907923">matrix</span>&nbsp;<span class="op" id="6907930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6907933">a</span>&nbsp;<span class="op" id="6907935">:=</span>&nbsp;<span class="ident" id="6907938">newMatrix</span><span class="op" id="6907947">(</span><span class="ident" id="6907948">n</span><span class="op" id="6907949">,</span>&nbsp;<span class="ident" id="6907951">n</span><span class="op" id="6907952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907955">for</span>&nbsp;<span class="ident" id="6907959">i</span>&nbsp;<span class="op" id="6907961">:=</span>&nbsp;<span class="num" id="6907964">0</span><span class="op" id="6907965">;</span>&nbsp;<span class="ident" id="6907967">i</span>&nbsp;<span class="op" id="6907969">&lt;</span>&nbsp;<span class="ident" id="6907971">n</span><span class="op" id="6907972">;</span>&nbsp;<span class="ident" id="6907974">i</span><span class="op" id="6907975">++</span>&nbsp;<span class="op" id="6907978">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6907982">for</span>&nbsp;<span class="ident" id="6907986">j</span>&nbsp;<span class="op" id="6907988">:=</span>&nbsp;<span class="num" id="6907991">0</span><span class="op" id="6907992">;</span>&nbsp;<span class="ident" id="6907994">j</span>&nbsp;<span class="op" id="6907996">&lt;</span>&nbsp;<span class="ident" id="6907998">n</span><span class="op" id="6907999">;</span>&nbsp;<span class="ident" id="6908001">j</span><span class="op" id="6908002">++</span>&nbsp;<span class="op" id="6908005">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908010">x</span>&nbsp;<span class="op" id="6908012">:=</span>&nbsp;<span class="ident" id="6908015">NewRat</span><span class="op" id="6908021">(</span><span class="num" id="6908022">0</span><span class="op" id="6908023">,</span>&nbsp;<span class="num" id="6908025">1</span><span class="op" id="6908026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908031">if</span>&nbsp;<span class="ident" id="6908034">i</span>&nbsp;<span class="op" id="6908036">==</span>&nbsp;<span class="ident" id="6908039">j</span>&nbsp;<span class="op" id="6908041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908047">x</span><span class="op" id="6908048">.</span><span class="ident" id="6908049">SetInt64</span><span class="op" id="6908057">(</span><span class="num" id="6908058">1</span><span class="op" id="6908059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908064">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908069">a</span><span class="op" id="6908070">.</span><span class="ident" id="6908071">set</span><span class="op" id="6908074">(</span><span class="ident" id="6908075">i</span><span class="op" id="6908076">,</span>&nbsp;<span class="ident" id="6908078">j</span><span class="op" id="6908079">,</span>&nbsp;<span class="ident" id="6908081">x</span><span class="op" id="6908082">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908092">return</span>&nbsp;<span class="ident" id="6908099">a</span><br>
<span class="lineno"></span><span class="op" id="6908101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="6908104">func</span>&nbsp;<span class="ident" id="6908109">newHilbert</span><span class="op" id="6908119">(</span><span class="ident" id="6908120">n</span>&nbsp;<span class="builtintype" id="6908122">int</span><span class="op" id="6908125">)</span>&nbsp;<span class="op" id="6908127">*</span><span class="ident" id="6908128">matrix</span>&nbsp;<span class="op" id="6908135">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908138">a</span>&nbsp;<span class="op" id="6908140">:=</span>&nbsp;<span class="ident" id="6908143">newMatrix</span><span class="op" id="6908152">(</span><span class="ident" id="6908153">n</span><span class="op" id="6908154">,</span>&nbsp;<span class="ident" id="6908156">n</span><span class="op" id="6908157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908160">for</span>&nbsp;<span class="ident" id="6908164">i</span>&nbsp;<span class="op" id="6908166">:=</span>&nbsp;<span class="num" id="6908169">0</span><span class="op" id="6908170">;</span>&nbsp;<span class="ident" id="6908172">i</span>&nbsp;<span class="op" id="6908174">&lt;</span>&nbsp;<span class="ident" id="6908176">n</span><span class="op" id="6908177">;</span>&nbsp;<span class="ident" id="6908179">i</span><span class="op" id="6908180">++</span>&nbsp;<span class="op" id="6908183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908187">for</span>&nbsp;<span class="ident" id="6908191">j</span>&nbsp;<span class="op" id="6908193">:=</span>&nbsp;<span class="num" id="6908196">0</span><span class="op" id="6908197">;</span>&nbsp;<span class="ident" id="6908199">j</span>&nbsp;<span class="op" id="6908201">&lt;</span>&nbsp;<span class="ident" id="6908203">n</span><span class="op" id="6908204">;</span>&nbsp;<span class="ident" id="6908206">j</span><span class="op" id="6908207">++</span>&nbsp;<span class="op" id="6908210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908215">a</span><span class="op" id="6908216">.</span><span class="ident" id="6908217">set</span><span class="op" id="6908220">(</span><span class="ident" id="6908221">i</span><span class="op" id="6908222">,</span>&nbsp;<span class="ident" id="6908224">j</span><span class="op" id="6908225">,</span>&nbsp;<span class="ident" id="6908227">NewRat</span><span class="op" id="6908233">(</span><span class="num" id="6908234">1</span><span class="op" id="6908235">,</span>&nbsp;<span class="builtintype" id="6908237">int64</span><span class="op" id="6908242">(</span><span class="ident" id="6908243">i</span><span class="op" id="6908244">+</span><span class="ident" id="6908245">j</span><span class="op" id="6908246">+</span><span class="num" id="6908247">1</span><span class="op" id="6908248">)</span><span class="op" id="6908249">)</span><span class="op" id="6908250">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908257">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908260">return</span>&nbsp;<span class="ident" id="6908267">a</span><br>
<span class="lineno"></span><span class="op" id="6908269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="6908272">func</span>&nbsp;<span class="ident" id="6908277">newInverseHilbert</span><span class="op" id="6908294">(</span><span class="ident" id="6908295">n</span>&nbsp;<span class="builtintype" id="6908297">int</span><span class="op" id="6908300">)</span>&nbsp;<span class="op" id="6908302">*</span><span class="ident" id="6908303">matrix</span>&nbsp;<span class="op" id="6908310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908313">a</span>&nbsp;<span class="op" id="6908315">:=</span>&nbsp;<span class="ident" id="6908318">newMatrix</span><span class="op" id="6908327">(</span><span class="ident" id="6908328">n</span><span class="op" id="6908329">,</span>&nbsp;<span class="ident" id="6908331">n</span><span class="op" id="6908332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908335">for</span>&nbsp;<span class="ident" id="6908339">i</span>&nbsp;<span class="op" id="6908341">:=</span>&nbsp;<span class="num" id="6908344">0</span><span class="op" id="6908345">;</span>&nbsp;<span class="ident" id="6908347">i</span>&nbsp;<span class="op" id="6908349">&lt;</span>&nbsp;<span class="ident" id="6908351">n</span><span class="op" id="6908352">;</span>&nbsp;<span class="ident" id="6908354">i</span><span class="op" id="6908355">++</span>&nbsp;<span class="op" id="6908358">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908362">for</span>&nbsp;<span class="ident" id="6908366">j</span>&nbsp;<span class="op" id="6908368">:=</span>&nbsp;<span class="num" id="6908371">0</span><span class="op" id="6908372">;</span>&nbsp;<span class="ident" id="6908374">j</span>&nbsp;<span class="op" id="6908376">&lt;</span>&nbsp;<span class="ident" id="6908378">n</span><span class="op" id="6908379">;</span>&nbsp;<span class="ident" id="6908381">j</span><span class="op" id="6908382">++</span>&nbsp;<span class="op" id="6908385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908390">x1</span>&nbsp;<span class="op" id="6908393">:=</span>&nbsp;<span class="builtinfunc" id="6908396">new</span><span class="op" id="6908399">(</span><span class="ident" id="6908400">Rat</span><span class="op" id="6908403">)</span><span class="op" id="6908404">.</span><span class="ident" id="6908405">SetInt64</span><span class="op" id="6908413">(</span><span class="builtintype" id="6908414">int64</span><span class="op" id="6908419">(</span><span class="ident" id="6908420">i</span>&nbsp;<span class="op" id="6908422">+</span>&nbsp;<span class="ident" id="6908424">j</span>&nbsp;<span class="op" id="6908426">+</span>&nbsp;<span class="num" id="6908428">1</span><span class="op" id="6908429">)</span><span class="op" id="6908430">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908435">x2</span>&nbsp;<span class="op" id="6908438">:=</span>&nbsp;<span class="builtinfunc" id="6908441">new</span><span class="op" id="6908444">(</span><span class="ident" id="6908445">Rat</span><span class="op" id="6908448">)</span><span class="op" id="6908449">.</span><span class="ident" id="6908450">SetInt</span><span class="op" id="6908456">(</span><span class="builtinfunc" id="6908457">new</span><span class="op" id="6908460">(</span><span class="ident" id="6908461">Int</span><span class="op" id="6908464">)</span><span class="op" id="6908465">.</span><span class="ident" id="6908466">Binomial</span><span class="op" id="6908474">(</span><span class="builtintype" id="6908475">int64</span><span class="op" id="6908480">(</span><span class="ident" id="6908481">n</span><span class="op" id="6908482">+</span><span class="ident" id="6908483">i</span><span class="op" id="6908484">)</span><span class="op" id="6908485">,</span>&nbsp;<span class="builtintype" id="6908487">int64</span><span class="op" id="6908492">(</span><span class="ident" id="6908493">n</span><span class="op" id="6908494">-</span><span class="ident" id="6908495">j</span><span class="op" id="6908496">-</span><span class="num" id="6908497">1</span><span class="op" id="6908498">)</span><span class="op" id="6908499">)</span><span class="op" id="6908500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908505">x3</span>&nbsp;<span class="op" id="6908508">:=</span>&nbsp;<span class="builtinfunc" id="6908511">new</span><span class="op" id="6908514">(</span><span class="ident" id="6908515">Rat</span><span class="op" id="6908518">)</span><span class="op" id="6908519">.</span><span class="ident" id="6908520">SetInt</span><span class="op" id="6908526">(</span><span class="builtinfunc" id="6908527">new</span><span class="op" id="6908530">(</span><span class="ident" id="6908531">Int</span><span class="op" id="6908534">)</span><span class="op" id="6908535">.</span><span class="ident" id="6908536">Binomial</span><span class="op" id="6908544">(</span><span class="builtintype" id="6908545">int64</span><span class="op" id="6908550">(</span><span class="ident" id="6908551">n</span><span class="op" id="6908552">+</span><span class="ident" id="6908553">j</span><span class="op" id="6908554">)</span><span class="op" id="6908555">,</span>&nbsp;<span class="builtintype" id="6908557">int64</span><span class="op" id="6908562">(</span><span class="ident" id="6908563">n</span><span class="op" id="6908564">-</span><span class="ident" id="6908565">i</span><span class="op" id="6908566">-</span><span class="num" id="6908567">1</span><span class="op" id="6908568">)</span><span class="op" id="6908569">)</span><span class="op" id="6908570">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908575">x4</span>&nbsp;<span class="op" id="6908578">:=</span>&nbsp;<span class="builtinfunc" id="6908581">new</span><span class="op" id="6908584">(</span><span class="ident" id="6908585">Rat</span><span class="op" id="6908588">)</span><span class="op" id="6908589">.</span><span class="ident" id="6908590">SetInt</span><span class="op" id="6908596">(</span><span class="builtinfunc" id="6908597">new</span><span class="op" id="6908600">(</span><span class="ident" id="6908601">Int</span><span class="op" id="6908604">)</span><span class="op" id="6908605">.</span><span class="ident" id="6908606">Binomial</span><span class="op" id="6908614">(</span><span class="builtintype" id="6908615">int64</span><span class="op" id="6908620">(</span><span class="ident" id="6908621">i</span><span class="op" id="6908622">+</span><span class="ident" id="6908623">j</span><span class="op" id="6908624">)</span><span class="op" id="6908625">,</span>&nbsp;<span class="builtintype" id="6908627">int64</span><span class="op" id="6908632">(</span><span class="ident" id="6908633">i</span><span class="op" id="6908634">)</span><span class="op" id="6908635">)</span><span class="op" id="6908636">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908642">x1</span><span class="op" id="6908644">.</span><span class="ident" id="6908645">Mul</span><span class="op" id="6908648">(</span><span class="ident" id="6908649">x1</span><span class="op" id="6908651">,</span>&nbsp;<span class="ident" id="6908653">x2</span><span class="op" id="6908655">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908660">x1</span><span class="op" id="6908662">.</span><span class="ident" id="6908663">Mul</span><span class="op" id="6908666">(</span><span class="ident" id="6908667">x1</span><span class="op" id="6908669">,</span>&nbsp;<span class="ident" id="6908671">x3</span><span class="op" id="6908673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908678">x1</span><span class="op" id="6908680">.</span><span class="ident" id="6908681">Mul</span><span class="op" id="6908684">(</span><span class="ident" id="6908685">x1</span><span class="op" id="6908687">,</span>&nbsp;<span class="ident" id="6908689">x4</span><span class="op" id="6908691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908696">x1</span><span class="op" id="6908698">.</span><span class="ident" id="6908699">Mul</span><span class="op" id="6908702">(</span><span class="ident" id="6908703">x1</span><span class="op" id="6908705">,</span>&nbsp;<span class="ident" id="6908707">x4</span><span class="op" id="6908709">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908715">if</span>&nbsp;<span class="op" id="6908718">(</span><span class="ident" id="6908719">i</span><span class="op" id="6908720">+</span><span class="ident" id="6908721">j</span><span class="op" id="6908722">)</span><span class="op" id="6908723">&amp;</span><span class="num" id="6908724">1</span>&nbsp;<span class="op" id="6908726">!=</span>&nbsp;<span class="num" id="6908729">0</span>&nbsp;<span class="op" id="6908731">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908737">x1</span><span class="op" id="6908739">.</span><span class="ident" id="6908740">Neg</span><span class="op" id="6908743">(</span><span class="ident" id="6908744">x1</span><span class="op" id="6908746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908757">a</span><span class="op" id="6908758">.</span><span class="ident" id="6908759">set</span><span class="op" id="6908762">(</span><span class="ident" id="6908763">i</span><span class="op" id="6908764">,</span>&nbsp;<span class="ident" id="6908766">j</span><span class="op" id="6908767">,</span>&nbsp;<span class="ident" id="6908769">x1</span><span class="op" id="6908771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908775">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908781">return</span>&nbsp;<span class="ident" id="6908788">a</span><br>
<span class="lineno"></span><span class="op" id="6908790">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6908793">func</span>&nbsp;<span class="op" id="6908798">(</span><span class="ident" id="6908799">a</span>&nbsp;<span class="op" id="6908801">*</span><span class="ident" id="6908802">matrix</span><span class="op" id="6908808">)</span>&nbsp;<span class="ident" id="6908810">mul</span><span class="op" id="6908813">(</span><span class="ident" id="6908814">b</span>&nbsp;<span class="op" id="6908816">*</span><span class="ident" id="6908817">matrix</span><span class="op" id="6908823">)</span>&nbsp;<span class="op" id="6908825">*</span><span class="ident" id="6908826">matrix</span>&nbsp;<span class="op" id="6908833">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908836">if</span>&nbsp;<span class="ident" id="6908839">a</span><span class="op" id="6908840">.</span><span class="ident" id="6908841">m</span>&nbsp;<span class="op" id="6908843">!=</span>&nbsp;<span class="ident" id="6908846">b</span><span class="op" id="6908847">.</span><span class="ident" id="6908848">n</span>&nbsp;<span class="op" id="6908850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6908854">panic</span><span class="op" id="6908859">(</span><span class="string" id="6908860">&#34;illegal&nbsp;matrix&nbsp;multiply&#34;</span><span class="op" id="6908885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6908888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908891">c</span>&nbsp;<span class="op" id="6908893">:=</span>&nbsp;<span class="ident" id="6908896">newMatrix</span><span class="op" id="6908905">(</span><span class="ident" id="6908906">a</span><span class="op" id="6908907">.</span><span class="ident" id="6908908">n</span><span class="op" id="6908909">,</span>&nbsp;<span class="ident" id="6908911">b</span><span class="op" id="6908912">.</span><span class="ident" id="6908913">m</span><span class="op" id="6908914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908917">for</span>&nbsp;<span class="ident" id="6908921">i</span>&nbsp;<span class="op" id="6908923">:=</span>&nbsp;<span class="num" id="6908926">0</span><span class="op" id="6908927">;</span>&nbsp;<span class="ident" id="6908929">i</span>&nbsp;<span class="op" id="6908931">&lt;</span>&nbsp;<span class="ident" id="6908933">c</span><span class="op" id="6908934">.</span><span class="ident" id="6908935">n</span><span class="op" id="6908936">;</span>&nbsp;<span class="ident" id="6908938">i</span><span class="op" id="6908939">++</span>&nbsp;<span class="op" id="6908942">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908946">for</span>&nbsp;<span class="ident" id="6908950">j</span>&nbsp;<span class="op" id="6908952">:=</span>&nbsp;<span class="num" id="6908955">0</span><span class="op" id="6908956">;</span>&nbsp;<span class="ident" id="6908958">j</span>&nbsp;<span class="op" id="6908960">&lt;</span>&nbsp;<span class="ident" id="6908962">c</span><span class="op" id="6908963">.</span><span class="ident" id="6908964">m</span><span class="op" id="6908965">;</span>&nbsp;<span class="ident" id="6908967">j</span><span class="op" id="6908968">++</span>&nbsp;<span class="op" id="6908971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6908976">x</span>&nbsp;<span class="op" id="6908978">:=</span>&nbsp;<span class="ident" id="6908981">NewRat</span><span class="op" id="6908987">(</span><span class="num" id="6908988">0</span><span class="op" id="6908989">,</span>&nbsp;<span class="num" id="6908991">1</span><span class="op" id="6908992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6908997">for</span>&nbsp;<span class="ident" id="6909001">k</span>&nbsp;<span class="op" id="6909003">:=</span>&nbsp;<span class="num" id="6909006">0</span><span class="op" id="6909007">;</span>&nbsp;<span class="ident" id="6909009">k</span>&nbsp;<span class="op" id="6909011">&lt;</span>&nbsp;<span class="ident" id="6909013">a</span><span class="op" id="6909014">.</span><span class="ident" id="6909015">m</span><span class="op" id="6909016">;</span>&nbsp;<span class="ident" id="6909018">k</span><span class="op" id="6909019">++</span>&nbsp;<span class="op" id="6909022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909028">x</span><span class="op" id="6909029">.</span><span class="ident" id="6909030">Add</span><span class="op" id="6909033">(</span><span class="ident" id="6909034">x</span><span class="op" id="6909035">,</span>&nbsp;<span class="builtinfunc" id="6909037">new</span><span class="op" id="6909040">(</span><span class="ident" id="6909041">Rat</span><span class="op" id="6909044">)</span><span class="op" id="6909045">.</span><span class="ident" id="6909046">Mul</span><span class="op" id="6909049">(</span><span class="ident" id="6909050">a</span><span class="op" id="6909051">.</span><span class="ident" id="6909052">at</span><span class="op" id="6909054">(</span><span class="ident" id="6909055">i</span><span class="op" id="6909056">,</span>&nbsp;<span class="ident" id="6909058">k</span><span class="op" id="6909059">)</span><span class="op" id="6909060">,</span>&nbsp;<span class="ident" id="6909062">b</span><span class="op" id="6909063">.</span><span class="ident" id="6909064">at</span><span class="op" id="6909066">(</span><span class="ident" id="6909067">k</span><span class="op" id="6909068">,</span>&nbsp;<span class="ident" id="6909070">j</span><span class="op" id="6909071">)</span><span class="op" id="6909072">)</span><span class="op" id="6909073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909078">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909083">c</span><span class="op" id="6909084">.</span><span class="ident" id="6909085">set</span><span class="op" id="6909088">(</span><span class="ident" id="6909089">i</span><span class="op" id="6909090">,</span>&nbsp;<span class="ident" id="6909092">j</span><span class="op" id="6909093">,</span>&nbsp;<span class="ident" id="6909095">x</span><span class="op" id="6909096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909106">return</span>&nbsp;<span class="ident" id="6909113">c</span><br>
<span class="lineno"></span><span class="op" id="6909115">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span><span class="keyword" id="6909118">func</span>&nbsp;<span class="op" id="6909123">(</span><span class="ident" id="6909124">a</span>&nbsp;<span class="op" id="6909126">*</span><span class="ident" id="6909127">matrix</span><span class="op" id="6909133">)</span>&nbsp;<span class="ident" id="6909135">eql</span><span class="op" id="6909138">(</span><span class="ident" id="6909139">b</span>&nbsp;<span class="op" id="6909141">*</span><span class="ident" id="6909142">matrix</span><span class="op" id="6909148">)</span>&nbsp;<span class="builtintype" id="6909150">bool</span>&nbsp;<span class="op" id="6909155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909158">if</span>&nbsp;<span class="ident" id="6909161">a</span><span class="op" id="6909162">.</span><span class="ident" id="6909163">n</span>&nbsp;<span class="op" id="6909165">!=</span>&nbsp;<span class="ident" id="6909168">b</span><span class="op" id="6909169">.</span><span class="ident" id="6909170">n</span>&nbsp;<span class="op" id="6909172">||</span>&nbsp;<span class="ident" id="6909175">a</span><span class="op" id="6909176">.</span><span class="ident" id="6909177">m</span>&nbsp;<span class="op" id="6909179">!=</span>&nbsp;<span class="ident" id="6909182">b</span><span class="op" id="6909183">.</span><span class="ident" id="6909184">m</span>&nbsp;<span class="op" id="6909186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909190">return</span>&nbsp;<span class="builtintype" id="6909197">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909204">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909207">for</span>&nbsp;<span class="ident" id="6909211">i</span>&nbsp;<span class="op" id="6909213">:=</span>&nbsp;<span class="num" id="6909216">0</span><span class="op" id="6909217">;</span>&nbsp;<span class="ident" id="6909219">i</span>&nbsp;<span class="op" id="6909221">&lt;</span>&nbsp;<span class="ident" id="6909223">a</span><span class="op" id="6909224">.</span><span class="ident" id="6909225">n</span><span class="op" id="6909226">;</span>&nbsp;<span class="ident" id="6909228">i</span><span class="op" id="6909229">++</span>&nbsp;<span class="op" id="6909232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909236">for</span>&nbsp;<span class="ident" id="6909240">j</span>&nbsp;<span class="op" id="6909242">:=</span>&nbsp;<span class="num" id="6909245">0</span><span class="op" id="6909246">;</span>&nbsp;<span class="ident" id="6909248">j</span>&nbsp;<span class="op" id="6909250">&lt;</span>&nbsp;<span class="ident" id="6909252">a</span><span class="op" id="6909253">.</span><span class="ident" id="6909254">m</span><span class="op" id="6909255">;</span>&nbsp;<span class="ident" id="6909257">j</span><span class="op" id="6909258">++</span>&nbsp;<span class="op" id="6909261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909266">if</span>&nbsp;<span class="ident" id="6909269">a</span><span class="op" id="6909270">.</span><span class="ident" id="6909271">at</span><span class="op" id="6909273">(</span><span class="ident" id="6909274">i</span><span class="op" id="6909275">,</span>&nbsp;<span class="ident" id="6909277">j</span><span class="op" id="6909278">)</span><span class="op" id="6909279">.</span><span class="ident" id="6909280">Cmp</span><span class="op" id="6909283">(</span><span class="ident" id="6909284">b</span><span class="op" id="6909285">.</span><span class="ident" id="6909286">at</span><span class="op" id="6909288">(</span><span class="ident" id="6909289">i</span><span class="op" id="6909290">,</span>&nbsp;<span class="ident" id="6909292">j</span><span class="op" id="6909293">)</span><span class="op" id="6909294">)</span>&nbsp;<span class="op" id="6909296">!=</span>&nbsp;<span class="num" id="6909299">0</span>&nbsp;<span class="op" id="6909301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909307">return</span>&nbsp;<span class="builtintype" id="6909314">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909323">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909327">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909333">return</span>&nbsp;<span class="builtintype" id="6909340">true</span><br>
<span class="lineno"></span><span class="op" id="6909345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="6909348">func</span>&nbsp;<span class="op" id="6909353">(</span><span class="ident" id="6909354">a</span>&nbsp;<span class="op" id="6909356">*</span><span class="ident" id="6909357">matrix</span><span class="op" id="6909363">)</span>&nbsp;<span class="ident" id="6909365">String</span><span class="op" id="6909371">(</span><span class="op" id="6909372">)</span>&nbsp;<span class="builtintype" id="6909374">string</span>&nbsp;<span class="op" id="6909381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909384">s</span>&nbsp;<span class="op" id="6909386">:=</span>&nbsp;<span class="string" id="6909389">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909393">for</span>&nbsp;<span class="ident" id="6909397">i</span>&nbsp;<span class="op" id="6909399">:=</span>&nbsp;<span class="num" id="6909402">0</span><span class="op" id="6909403">;</span>&nbsp;<span class="ident" id="6909405">i</span>&nbsp;<span class="op" id="6909407">&lt;</span>&nbsp;<span class="ident" id="6909409">a</span><span class="op" id="6909410">.</span><span class="ident" id="6909411">n</span><span class="op" id="6909412">;</span>&nbsp;<span class="ident" id="6909414">i</span><span class="op" id="6909415">++</span>&nbsp;<span class="op" id="6909418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909422">for</span>&nbsp;<span class="ident" id="6909426">j</span>&nbsp;<span class="op" id="6909428">:=</span>&nbsp;<span class="num" id="6909431">0</span><span class="op" id="6909432">;</span>&nbsp;<span class="ident" id="6909434">j</span>&nbsp;<span class="op" id="6909436">&lt;</span>&nbsp;<span class="ident" id="6909438">a</span><span class="op" id="6909439">.</span><span class="ident" id="6909440">m</span><span class="op" id="6909441">;</span>&nbsp;<span class="ident" id="6909443">j</span><span class="op" id="6909444">++</span>&nbsp;<span class="op" id="6909447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909452">s</span>&nbsp;<span class="op" id="6909454">+=</span>&nbsp;<span class="ident" id="6909457">fmt</span><span class="op" id="6909460">.</span><span class="ident" id="6909461">Sprintf</span><span class="op" id="6909468">(</span><span class="string" id="6909469">&#34;\t%s&#34;</span><span class="op" id="6909475">,</span>&nbsp;<span class="ident" id="6909477">a</span><span class="op" id="6909478">.</span><span class="ident" id="6909479">at</span><span class="op" id="6909481">(</span><span class="ident" id="6909482">i</span><span class="op" id="6909483">,</span>&nbsp;<span class="ident" id="6909485">j</span><span class="op" id="6909486">)</span><span class="op" id="6909487">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909491">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909495">s</span>&nbsp;<span class="op" id="6909497">+=</span>&nbsp;<span class="string" id="6909500">&#34;\n&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909509">return</span>&nbsp;<span class="ident" id="6909516">s</span><br>
<span class="lineno"></span><span class="op" id="6909518">}</span><br>
<span class="lineno">135</span><br>
<span class="lineno"></span><span class="keyword" id="6909521">func</span>&nbsp;<span class="ident" id="6909526">doHilbert</span><span class="op" id="6909535">(</span><span class="ident" id="6909536">t</span>&nbsp;<span class="op" id="6909538">*</span><span class="ident" id="6909539">testing</span><span class="op" id="6909546">.</span><span class="ident" id="6909547">T</span><span class="op" id="6909548">,</span>&nbsp;<span class="ident" id="6909550">n</span>&nbsp;<span class="builtintype" id="6909552">int</span><span class="op" id="6909555">)</span>&nbsp;<span class="op" id="6909557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909560">a</span>&nbsp;<span class="op" id="6909562">:=</span>&nbsp;<span class="ident" id="6909565">newHilbert</span><span class="op" id="6909575">(</span><span class="ident" id="6909576">n</span><span class="op" id="6909577">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909580">b</span>&nbsp;<span class="op" id="6909582">:=</span>&nbsp;<span class="ident" id="6909585">newInverseHilbert</span><span class="op" id="6909602">(</span><span class="ident" id="6909603">n</span><span class="op" id="6909604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909607">I</span>&nbsp;<span class="op" id="6909609">:=</span>&nbsp;<span class="ident" id="6909612">newUnit</span><span class="op" id="6909619">(</span><span class="ident" id="6909620">n</span><span class="op" id="6909621">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909624">ab</span>&nbsp;<span class="op" id="6909627">:=</span>&nbsp;<span class="ident" id="6909630">a</span><span class="op" id="6909631">.</span><span class="ident" id="6909632">mul</span><span class="op" id="6909635">(</span><span class="ident" id="6909636">b</span><span class="op" id="6909637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909640">if</span>&nbsp;<span class="op" id="6909643">!</span><span class="ident" id="6909644">ab</span><span class="op" id="6909646">.</span><span class="ident" id="6909647">eql</span><span class="op" id="6909650">(</span><span class="ident" id="6909651">I</span><span class="op" id="6909652">)</span>&nbsp;<span class="op" id="6909654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909658">if</span>&nbsp;<span class="ident" id="6909661">t</span>&nbsp;<span class="op" id="6909663">==</span>&nbsp;<span class="builtintype" id="6909666">nil</span>&nbsp;<span class="op" id="6909670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6909675">panic</span><span class="op" id="6909680">(</span><span class="string" id="6909681">&#34;Hilbert&nbsp;failed&#34;</span><span class="op" id="6909697">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909701">}</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909705">t</span><span class="op" id="6909706">.</span><span class="ident" id="6909707">Errorf</span><span class="op" id="6909713">(</span><span class="string" id="6909714">&#34;a&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6909726">,</span>&nbsp;<span class="ident" id="6909728">a</span><span class="op" id="6909729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909733">t</span><span class="op" id="6909734">.</span><span class="ident" id="6909735">Errorf</span><span class="op" id="6909741">(</span><span class="string" id="6909742">&#34;b&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6909754">,</span>&nbsp;<span class="ident" id="6909756">b</span><span class="op" id="6909757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909761">t</span><span class="op" id="6909762">.</span><span class="ident" id="6909763">Errorf</span><span class="op" id="6909769">(</span><span class="string" id="6909770">&#34;a*b&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6909782">,</span>&nbsp;<span class="ident" id="6909784">ab</span><span class="op" id="6909786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909790">t</span><span class="op" id="6909791">.</span><span class="ident" id="6909792">Errorf</span><span class="op" id="6909798">(</span><span class="string" id="6909799">&#34;I&nbsp;&nbsp;&nbsp;=&nbsp;%s\n&#34;</span><span class="op" id="6909811">,</span>&nbsp;<span class="ident" id="6909813">I</span><span class="op" id="6909814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909817">}</span><br>
<span class="lineno">150</span><span class="op" id="6909819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6909822">func</span>&nbsp;<span class="ident" id="6909827">TestHilbert</span><span class="op" id="6909838">(</span><span class="ident" id="6909839">t</span>&nbsp;<span class="op" id="6909841">*</span><span class="ident" id="6909842">testing</span><span class="op" id="6909849">.</span><span class="ident" id="6909850">T</span><span class="op" id="6909851">)</span>&nbsp;<span class="op" id="6909853">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909856">doHilbert</span><span class="op" id="6909865">(</span><span class="ident" id="6909866">t</span><span class="op" id="6909867">,</span>&nbsp;<span class="num" id="6909869">10</span><span class="op" id="6909871">)</span><br>
<span class="lineno"></span><span class="op" id="6909873">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="6909876">func</span>&nbsp;<span class="ident" id="6909881">BenchmarkHilbert</span><span class="op" id="6909897">(</span><span class="ident" id="6909898">b</span>&nbsp;<span class="op" id="6909900">*</span><span class="ident" id="6909901">testing</span><span class="op" id="6909908">.</span><span class="ident" id="6909909">B</span><span class="op" id="6909910">)</span>&nbsp;<span class="op" id="6909912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6909915">for</span>&nbsp;<span class="ident" id="6909919">i</span>&nbsp;<span class="op" id="6909921">:=</span>&nbsp;<span class="num" id="6909924">0</span><span class="op" id="6909925">;</span>&nbsp;<span class="ident" id="6909927">i</span>&nbsp;<span class="op" id="6909929">&lt;</span>&nbsp;<span class="ident" id="6909931">b</span><span class="op" id="6909932">.</span><span class="ident" id="6909933">N</span><span class="op" id="6909934">;</span>&nbsp;<span class="ident" id="6909936">i</span><span class="op" id="6909937">++</span>&nbsp;<span class="op" id="6909940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6909944">doHilbert</span><span class="op" id="6909953">(</span><span class="builtintype" id="6909954">nil</span><span class="op" id="6909957">,</span>&nbsp;<span class="num" id="6909959">10</span><span class="op" id="6909961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6909964">}</span><br>
<span class="lineno">160</span><span class="op" id="6909966">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
