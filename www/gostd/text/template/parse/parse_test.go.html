<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/template/parse</h2>
<ul>
<li><a href="/gostd/text/template/parse/lex.go.html">lex.go</a></li>
<li><a href="/gostd/text/template/parse/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/text/template/parse/node.go.html">node.go</a></li>
<li><a href="/gostd/text/template/parse/parse.go.html">parse.go</a></li>
<li><a href="/gostd/text/template/parse/parse_test.go.html" class="current">parse_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7256205">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7256260">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7256314">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7256365">package</span>&nbsp;<span class="ident" id="7256373">parse</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7256380">import</span>&nbsp;<span class="op" id="7256387">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7256390">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7256398">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7256405">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7256416">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7256426">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7256429">var</span>&nbsp;<span class="ident" id="7256433">debug</span>&nbsp;<span class="op" id="7256439">=</span>&nbsp;<span class="ident" id="7256441">flag</span><span class="op" id="7256445">.</span><span class="ident" id="7256446">Bool</span><span class="op" id="7256450">(</span><span class="string" id="7256451">&#34;debug&#34;</span><span class="op" id="7256458">,</span>&nbsp;<span class="builtintype" id="7256460">false</span><span class="op" id="7256465">,</span>&nbsp;<span class="string" id="7256467">&#34;show&nbsp;the&nbsp;errors&nbsp;produced&nbsp;by&nbsp;the&nbsp;main&nbsp;tests&#34;</span><span class="op" id="7256511">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7256514">type</span>&nbsp;<span class="ident" id="7256519">numberTest</span>&nbsp;<span class="keyword" id="7256530">struct</span>&nbsp;<span class="op" id="7256537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256540">text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7256550">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256558">isInt</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7256568">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256574">isUint</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7256584">bool</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256590">isFloat</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7256600">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256606">isComplex</span>&nbsp;<span class="builtintype" id="7256616">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256622">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7256629">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7256637">float64</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7256646">complex128</span><br>
<span class="lineno"></span><span class="op" id="7256657">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7256660">var</span>&nbsp;<span class="ident" id="7256664">numberTests</span>&nbsp;<span class="op" id="7256676">=</span>&nbsp;<span class="op" id="7256678">[</span><span class="op" id="7256679">]</span><span class="ident" id="7256680">numberTest</span><span class="op" id="7256690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7256693">//&nbsp;basics</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256704">{</span><span class="string" id="7256705">&#34;0&#34;</span><span class="op" id="7256708">,</span>&nbsp;<span class="builtintype" id="7256710">true</span><span class="op" id="7256714">,</span>&nbsp;<span class="builtintype" id="7256716">true</span><span class="op" id="7256720">,</span>&nbsp;<span class="builtintype" id="7256722">true</span><span class="op" id="7256726">,</span>&nbsp;<span class="builtintype" id="7256728">false</span><span class="op" id="7256733">,</span>&nbsp;<span class="num" id="7256735">0</span><span class="op" id="7256736">,</span>&nbsp;<span class="num" id="7256738">0</span><span class="op" id="7256739">,</span>&nbsp;<span class="num" id="7256741">0</span><span class="op" id="7256742">,</span>&nbsp;<span class="num" id="7256744">0</span><span class="op" id="7256745">}</span><span class="op" id="7256746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256749">{</span><span class="string" id="7256750">&#34;-0&#34;</span><span class="op" id="7256754">,</span>&nbsp;<span class="builtintype" id="7256756">true</span><span class="op" id="7256760">,</span>&nbsp;<span class="builtintype" id="7256762">true</span><span class="op" id="7256766">,</span>&nbsp;<span class="builtintype" id="7256768">true</span><span class="op" id="7256772">,</span>&nbsp;<span class="builtintype" id="7256774">false</span><span class="op" id="7256779">,</span>&nbsp;<span class="num" id="7256781">0</span><span class="op" id="7256782">,</span>&nbsp;<span class="num" id="7256784">0</span><span class="op" id="7256785">,</span>&nbsp;<span class="num" id="7256787">0</span><span class="op" id="7256788">,</span>&nbsp;<span class="num" id="7256790">0</span><span class="op" id="7256791">}</span><span class="op" id="7256792">,</span>&nbsp;<span class="comment" id="7256794">//&nbsp;check&nbsp;that&nbsp;-0&nbsp;is&nbsp;a&nbsp;uint.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256823">{</span><span class="string" id="7256824">&#34;73&#34;</span><span class="op" id="7256828">,</span>&nbsp;<span class="builtintype" id="7256830">true</span><span class="op" id="7256834">,</span>&nbsp;<span class="builtintype" id="7256836">true</span><span class="op" id="7256840">,</span>&nbsp;<span class="builtintype" id="7256842">true</span><span class="op" id="7256846">,</span>&nbsp;<span class="builtintype" id="7256848">false</span><span class="op" id="7256853">,</span>&nbsp;<span class="num" id="7256855">73</span><span class="op" id="7256857">,</span>&nbsp;<span class="num" id="7256859">73</span><span class="op" id="7256861">,</span>&nbsp;<span class="num" id="7256863">73</span><span class="op" id="7256865">,</span>&nbsp;<span class="num" id="7256867">0</span><span class="op" id="7256868">}</span><span class="op" id="7256869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256872">{</span><span class="string" id="7256873">&#34;073&#34;</span><span class="op" id="7256878">,</span>&nbsp;<span class="builtintype" id="7256880">true</span><span class="op" id="7256884">,</span>&nbsp;<span class="builtintype" id="7256886">true</span><span class="op" id="7256890">,</span>&nbsp;<span class="builtintype" id="7256892">true</span><span class="op" id="7256896">,</span>&nbsp;<span class="builtintype" id="7256898">false</span><span class="op" id="7256903">,</span>&nbsp;<span class="num" id="7256905">073</span><span class="op" id="7256908">,</span>&nbsp;<span class="num" id="7256910">073</span><span class="op" id="7256913">,</span>&nbsp;<span class="num" id="7256915">073</span><span class="op" id="7256918">,</span>&nbsp;<span class="num" id="7256920">0</span><span class="op" id="7256921">}</span><span class="op" id="7256922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256925">{</span><span class="string" id="7256926">&#34;0x73&#34;</span><span class="op" id="7256932">,</span>&nbsp;<span class="builtintype" id="7256934">true</span><span class="op" id="7256938">,</span>&nbsp;<span class="builtintype" id="7256940">true</span><span class="op" id="7256944">,</span>&nbsp;<span class="builtintype" id="7256946">true</span><span class="op" id="7256950">,</span>&nbsp;<span class="builtintype" id="7256952">false</span><span class="op" id="7256957">,</span>&nbsp;<span class="num" id="7256959">0x73</span><span class="op" id="7256963">,</span>&nbsp;<span class="num" id="7256965">0x73</span><span class="op" id="7256969">,</span>&nbsp;<span class="num" id="7256971">0x73</span><span class="op" id="7256975">,</span>&nbsp;<span class="num" id="7256977">0</span><span class="op" id="7256978">}</span><span class="op" id="7256979">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7256982">{</span><span class="string" id="7256983">&#34;-73&#34;</span><span class="op" id="7256988">,</span>&nbsp;<span class="builtintype" id="7256990">true</span><span class="op" id="7256994">,</span>&nbsp;<span class="builtintype" id="7256996">false</span><span class="op" id="7257001">,</span>&nbsp;<span class="builtintype" id="7257003">true</span><span class="op" id="7257007">,</span>&nbsp;<span class="builtintype" id="7257009">false</span><span class="op" id="7257014">,</span>&nbsp;<span class="op" id="7257016">-</span><span class="num" id="7257017">73</span><span class="op" id="7257019">,</span>&nbsp;<span class="num" id="7257021">0</span><span class="op" id="7257022">,</span>&nbsp;<span class="op" id="7257024">-</span><span class="num" id="7257025">73</span><span class="op" id="7257027">,</span>&nbsp;<span class="num" id="7257029">0</span><span class="op" id="7257030">}</span><span class="op" id="7257031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257034">{</span><span class="string" id="7257035">&#34;+73&#34;</span><span class="op" id="7257040">,</span>&nbsp;<span class="builtintype" id="7257042">true</span><span class="op" id="7257046">,</span>&nbsp;<span class="builtintype" id="7257048">false</span><span class="op" id="7257053">,</span>&nbsp;<span class="builtintype" id="7257055">true</span><span class="op" id="7257059">,</span>&nbsp;<span class="builtintype" id="7257061">false</span><span class="op" id="7257066">,</span>&nbsp;<span class="num" id="7257068">73</span><span class="op" id="7257070">,</span>&nbsp;<span class="num" id="7257072">0</span><span class="op" id="7257073">,</span>&nbsp;<span class="num" id="7257075">73</span><span class="op" id="7257077">,</span>&nbsp;<span class="num" id="7257079">0</span><span class="op" id="7257080">}</span><span class="op" id="7257081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257084">{</span><span class="string" id="7257085">&#34;100&#34;</span><span class="op" id="7257090">,</span>&nbsp;<span class="builtintype" id="7257092">true</span><span class="op" id="7257096">,</span>&nbsp;<span class="builtintype" id="7257098">true</span><span class="op" id="7257102">,</span>&nbsp;<span class="builtintype" id="7257104">true</span><span class="op" id="7257108">,</span>&nbsp;<span class="builtintype" id="7257110">false</span><span class="op" id="7257115">,</span>&nbsp;<span class="num" id="7257117">100</span><span class="op" id="7257120">,</span>&nbsp;<span class="num" id="7257122">100</span><span class="op" id="7257125">,</span>&nbsp;<span class="num" id="7257127">100</span><span class="op" id="7257130">,</span>&nbsp;<span class="num" id="7257132">0</span><span class="op" id="7257133">}</span><span class="op" id="7257134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257137">{</span><span class="string" id="7257138">&#34;1e9&#34;</span><span class="op" id="7257143">,</span>&nbsp;<span class="builtintype" id="7257145">true</span><span class="op" id="7257149">,</span>&nbsp;<span class="builtintype" id="7257151">true</span><span class="op" id="7257155">,</span>&nbsp;<span class="builtintype" id="7257157">true</span><span class="op" id="7257161">,</span>&nbsp;<span class="builtintype" id="7257163">false</span><span class="op" id="7257168">,</span>&nbsp;<span class="num" id="7257170">1e9</span><span class="op" id="7257173">,</span>&nbsp;<span class="num" id="7257175">1e9</span><span class="op" id="7257178">,</span>&nbsp;<span class="num" id="7257180">1e9</span><span class="op" id="7257183">,</span>&nbsp;<span class="num" id="7257185">0</span><span class="op" id="7257186">}</span><span class="op" id="7257187">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257190">{</span><span class="string" id="7257191">&#34;-1e9&#34;</span><span class="op" id="7257197">,</span>&nbsp;<span class="builtintype" id="7257199">true</span><span class="op" id="7257203">,</span>&nbsp;<span class="builtintype" id="7257205">false</span><span class="op" id="7257210">,</span>&nbsp;<span class="builtintype" id="7257212">true</span><span class="op" id="7257216">,</span>&nbsp;<span class="builtintype" id="7257218">false</span><span class="op" id="7257223">,</span>&nbsp;<span class="op" id="7257225">-</span><span class="num" id="7257226">1e9</span><span class="op" id="7257229">,</span>&nbsp;<span class="num" id="7257231">0</span><span class="op" id="7257232">,</span>&nbsp;<span class="op" id="7257234">-</span><span class="num" id="7257235">1e9</span><span class="op" id="7257238">,</span>&nbsp;<span class="num" id="7257240">0</span><span class="op" id="7257241">}</span><span class="op" id="7257242">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257245">{</span><span class="string" id="7257246">&#34;-1.2&#34;</span><span class="op" id="7257252">,</span>&nbsp;<span class="builtintype" id="7257254">false</span><span class="op" id="7257259">,</span>&nbsp;<span class="builtintype" id="7257261">false</span><span class="op" id="7257266">,</span>&nbsp;<span class="builtintype" id="7257268">true</span><span class="op" id="7257272">,</span>&nbsp;<span class="builtintype" id="7257274">false</span><span class="op" id="7257279">,</span>&nbsp;<span class="num" id="7257281">0</span><span class="op" id="7257282">,</span>&nbsp;<span class="num" id="7257284">0</span><span class="op" id="7257285">,</span>&nbsp;<span class="op" id="7257287">-</span><span class="num" id="7257288">1.2</span><span class="op" id="7257291">,</span>&nbsp;<span class="num" id="7257293">0</span><span class="op" id="7257294">}</span><span class="op" id="7257295">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257298">{</span><span class="string" id="7257299">&#34;1e19&#34;</span><span class="op" id="7257305">,</span>&nbsp;<span class="builtintype" id="7257307">false</span><span class="op" id="7257312">,</span>&nbsp;<span class="builtintype" id="7257314">true</span><span class="op" id="7257318">,</span>&nbsp;<span class="builtintype" id="7257320">true</span><span class="op" id="7257324">,</span>&nbsp;<span class="builtintype" id="7257326">false</span><span class="op" id="7257331">,</span>&nbsp;<span class="num" id="7257333">0</span><span class="op" id="7257334">,</span>&nbsp;<span class="num" id="7257336">1e19</span><span class="op" id="7257340">,</span>&nbsp;<span class="num" id="7257342">1e19</span><span class="op" id="7257346">,</span>&nbsp;<span class="num" id="7257348">0</span><span class="op" id="7257349">}</span><span class="op" id="7257350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257353">{</span><span class="string" id="7257354">&#34;-1e19&#34;</span><span class="op" id="7257361">,</span>&nbsp;<span class="builtintype" id="7257363">false</span><span class="op" id="7257368">,</span>&nbsp;<span class="builtintype" id="7257370">false</span><span class="op" id="7257375">,</span>&nbsp;<span class="builtintype" id="7257377">true</span><span class="op" id="7257381">,</span>&nbsp;<span class="builtintype" id="7257383">false</span><span class="op" id="7257388">,</span>&nbsp;<span class="num" id="7257390">0</span><span class="op" id="7257391">,</span>&nbsp;<span class="num" id="7257393">0</span><span class="op" id="7257394">,</span>&nbsp;<span class="op" id="7257396">-</span><span class="num" id="7257397">1e19</span><span class="op" id="7257401">,</span>&nbsp;<span class="num" id="7257403">0</span><span class="op" id="7257404">}</span><span class="op" id="7257405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257408">{</span><span class="string" id="7257409">&#34;4i&#34;</span><span class="op" id="7257413">,</span>&nbsp;<span class="builtintype" id="7257415">false</span><span class="op" id="7257420">,</span>&nbsp;<span class="builtintype" id="7257422">false</span><span class="op" id="7257427">,</span>&nbsp;<span class="builtintype" id="7257429">false</span><span class="op" id="7257434">,</span>&nbsp;<span class="builtintype" id="7257436">true</span><span class="op" id="7257440">,</span>&nbsp;<span class="num" id="7257442">0</span><span class="op" id="7257443">,</span>&nbsp;<span class="num" id="7257445">0</span><span class="op" id="7257446">,</span>&nbsp;<span class="num" id="7257448">0</span><span class="op" id="7257449">,</span>&nbsp;<span class="num" id="7257451">4i</span><span class="op" id="7257453">}</span><span class="op" id="7257454">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257457">{</span><span class="string" id="7257458">&#34;-1.2+4.2i&#34;</span><span class="op" id="7257469">,</span>&nbsp;<span class="builtintype" id="7257471">false</span><span class="op" id="7257476">,</span>&nbsp;<span class="builtintype" id="7257478">false</span><span class="op" id="7257483">,</span>&nbsp;<span class="builtintype" id="7257485">false</span><span class="op" id="7257490">,</span>&nbsp;<span class="builtintype" id="7257492">true</span><span class="op" id="7257496">,</span>&nbsp;<span class="num" id="7257498">0</span><span class="op" id="7257499">,</span>&nbsp;<span class="num" id="7257501">0</span><span class="op" id="7257502">,</span>&nbsp;<span class="num" id="7257504">0</span><span class="op" id="7257505">,</span>&nbsp;<span class="op" id="7257507">-</span><span class="num" id="7257508">1.2</span>&nbsp;<span class="op" id="7257512">+</span>&nbsp;<span class="num" id="7257514">4.2i</span><span class="op" id="7257518">}</span><span class="op" id="7257519">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257522">{</span><span class="string" id="7257523">&#34;073i&#34;</span><span class="op" id="7257529">,</span>&nbsp;<span class="builtintype" id="7257531">false</span><span class="op" id="7257536">,</span>&nbsp;<span class="builtintype" id="7257538">false</span><span class="op" id="7257543">,</span>&nbsp;<span class="builtintype" id="7257545">false</span><span class="op" id="7257550">,</span>&nbsp;<span class="builtintype" id="7257552">true</span><span class="op" id="7257556">,</span>&nbsp;<span class="num" id="7257558">0</span><span class="op" id="7257559">,</span>&nbsp;<span class="num" id="7257561">0</span><span class="op" id="7257562">,</span>&nbsp;<span class="num" id="7257564">0</span><span class="op" id="7257565">,</span>&nbsp;<span class="num" id="7257567">73i</span><span class="op" id="7257570">}</span><span class="op" id="7257571">,</span>&nbsp;<span class="comment" id="7257573">//&nbsp;not&nbsp;octal!</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7257588">//&nbsp;complex&nbsp;with&nbsp;0&nbsp;imaginary&nbsp;are&nbsp;float&nbsp;(and&nbsp;maybe&nbsp;integer)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257647">{</span><span class="string" id="7257648">&#34;0i&#34;</span><span class="op" id="7257652">,</span>&nbsp;<span class="builtintype" id="7257654">true</span><span class="op" id="7257658">,</span>&nbsp;<span class="builtintype" id="7257660">true</span><span class="op" id="7257664">,</span>&nbsp;<span class="builtintype" id="7257666">true</span><span class="op" id="7257670">,</span>&nbsp;<span class="builtintype" id="7257672">true</span><span class="op" id="7257676">,</span>&nbsp;<span class="num" id="7257678">0</span><span class="op" id="7257679">,</span>&nbsp;<span class="num" id="7257681">0</span><span class="op" id="7257682">,</span>&nbsp;<span class="num" id="7257684">0</span><span class="op" id="7257685">,</span>&nbsp;<span class="num" id="7257687">0</span><span class="op" id="7257688">}</span><span class="op" id="7257689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257692">{</span><span class="string" id="7257693">&#34;-1.2+0i&#34;</span><span class="op" id="7257702">,</span>&nbsp;<span class="builtintype" id="7257704">false</span><span class="op" id="7257709">,</span>&nbsp;<span class="builtintype" id="7257711">false</span><span class="op" id="7257716">,</span>&nbsp;<span class="builtintype" id="7257718">true</span><span class="op" id="7257722">,</span>&nbsp;<span class="builtintype" id="7257724">true</span><span class="op" id="7257728">,</span>&nbsp;<span class="num" id="7257730">0</span><span class="op" id="7257731">,</span>&nbsp;<span class="num" id="7257733">0</span><span class="op" id="7257734">,</span>&nbsp;<span class="op" id="7257736">-</span><span class="num" id="7257737">1.2</span><span class="op" id="7257740">,</span>&nbsp;<span class="op" id="7257742">-</span><span class="num" id="7257743">1.2</span><span class="op" id="7257746">}</span><span class="op" id="7257747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257750">{</span><span class="string" id="7257751">&#34;-12+0i&#34;</span><span class="op" id="7257759">,</span>&nbsp;<span class="builtintype" id="7257761">true</span><span class="op" id="7257765">,</span>&nbsp;<span class="builtintype" id="7257767">false</span><span class="op" id="7257772">,</span>&nbsp;<span class="builtintype" id="7257774">true</span><span class="op" id="7257778">,</span>&nbsp;<span class="builtintype" id="7257780">true</span><span class="op" id="7257784">,</span>&nbsp;<span class="op" id="7257786">-</span><span class="num" id="7257787">12</span><span class="op" id="7257789">,</span>&nbsp;<span class="num" id="7257791">0</span><span class="op" id="7257792">,</span>&nbsp;<span class="op" id="7257794">-</span><span class="num" id="7257795">12</span><span class="op" id="7257797">,</span>&nbsp;<span class="op" id="7257799">-</span><span class="num" id="7257800">12</span><span class="op" id="7257802">}</span><span class="op" id="7257803">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257806">{</span><span class="string" id="7257807">&#34;13+0i&#34;</span><span class="op" id="7257814">,</span>&nbsp;<span class="builtintype" id="7257816">true</span><span class="op" id="7257820">,</span>&nbsp;<span class="builtintype" id="7257822">true</span><span class="op" id="7257826">,</span>&nbsp;<span class="builtintype" id="7257828">true</span><span class="op" id="7257832">,</span>&nbsp;<span class="builtintype" id="7257834">true</span><span class="op" id="7257838">,</span>&nbsp;<span class="num" id="7257840">13</span><span class="op" id="7257842">,</span>&nbsp;<span class="num" id="7257844">13</span><span class="op" id="7257846">,</span>&nbsp;<span class="num" id="7257848">13</span><span class="op" id="7257850">,</span>&nbsp;<span class="num" id="7257852">13</span><span class="op" id="7257854">}</span><span class="op" id="7257855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7257858">//&nbsp;funny&nbsp;bases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257874">{</span><span class="string" id="7257875">&#34;0123&#34;</span><span class="op" id="7257881">,</span>&nbsp;<span class="builtintype" id="7257883">true</span><span class="op" id="7257887">,</span>&nbsp;<span class="builtintype" id="7257889">true</span><span class="op" id="7257893">,</span>&nbsp;<span class="builtintype" id="7257895">true</span><span class="op" id="7257899">,</span>&nbsp;<span class="builtintype" id="7257901">false</span><span class="op" id="7257906">,</span>&nbsp;<span class="num" id="7257908">0123</span><span class="op" id="7257912">,</span>&nbsp;<span class="num" id="7257914">0123</span><span class="op" id="7257918">,</span>&nbsp;<span class="num" id="7257920">0123</span><span class="op" id="7257924">,</span>&nbsp;<span class="num" id="7257926">0</span><span class="op" id="7257927">}</span><span class="op" id="7257928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257931">{</span><span class="string" id="7257932">&#34;-0x0&#34;</span><span class="op" id="7257938">,</span>&nbsp;<span class="builtintype" id="7257940">true</span><span class="op" id="7257944">,</span>&nbsp;<span class="builtintype" id="7257946">true</span><span class="op" id="7257950">,</span>&nbsp;<span class="builtintype" id="7257952">true</span><span class="op" id="7257956">,</span>&nbsp;<span class="builtintype" id="7257958">false</span><span class="op" id="7257963">,</span>&nbsp;<span class="num" id="7257965">0</span><span class="op" id="7257966">,</span>&nbsp;<span class="num" id="7257968">0</span><span class="op" id="7257969">,</span>&nbsp;<span class="num" id="7257971">0</span><span class="op" id="7257972">,</span>&nbsp;<span class="num" id="7257974">0</span><span class="op" id="7257975">}</span><span class="op" id="7257976">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7257979">{</span><span class="string" id="7257980">&#34;0xdeadbeef&#34;</span><span class="op" id="7257992">,</span>&nbsp;<span class="builtintype" id="7257994">true</span><span class="op" id="7257998">,</span>&nbsp;<span class="builtintype" id="7258000">true</span><span class="op" id="7258004">,</span>&nbsp;<span class="builtintype" id="7258006">true</span><span class="op" id="7258010">,</span>&nbsp;<span class="builtintype" id="7258012">false</span><span class="op" id="7258017">,</span>&nbsp;<span class="num" id="7258019">0xdeadbeef</span><span class="op" id="7258029">,</span>&nbsp;<span class="num" id="7258031">0xdeadbeef</span><span class="op" id="7258041">,</span>&nbsp;<span class="num" id="7258043">0xdeadbeef</span><span class="op" id="7258053">,</span>&nbsp;<span class="num" id="7258055">0</span><span class="op" id="7258056">}</span><span class="op" id="7258057">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7258060">//&nbsp;character&nbsp;constants</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258084">{</span><span class="string" id="7258085">`&#39;a&#39;`</span><span class="op" id="7258090">,</span>&nbsp;<span class="builtintype" id="7258092">true</span><span class="op" id="7258096">,</span>&nbsp;<span class="builtintype" id="7258098">true</span><span class="op" id="7258102">,</span>&nbsp;<span class="builtintype" id="7258104">true</span><span class="op" id="7258108">,</span>&nbsp;<span class="builtintype" id="7258110">false</span><span class="op" id="7258115">,</span>&nbsp;<span class="string" id="7258117">&#39;a&#39;</span><span class="op" id="7258120">,</span>&nbsp;<span class="string" id="7258122">&#39;a&#39;</span><span class="op" id="7258125">,</span>&nbsp;<span class="string" id="7258127">&#39;a&#39;</span><span class="op" id="7258130">,</span>&nbsp;<span class="num" id="7258132">0</span><span class="op" id="7258133">}</span><span class="op" id="7258134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258137">{</span><span class="string" id="7258138">`&#39;\n&#39;`</span><span class="op" id="7258144">,</span>&nbsp;<span class="builtintype" id="7258146">true</span><span class="op" id="7258150">,</span>&nbsp;<span class="builtintype" id="7258152">true</span><span class="op" id="7258156">,</span>&nbsp;<span class="builtintype" id="7258158">true</span><span class="op" id="7258162">,</span>&nbsp;<span class="builtintype" id="7258164">false</span><span class="op" id="7258169">,</span>&nbsp;<span class="string" id="7258171">&#39;\n&#39;</span><span class="op" id="7258175">,</span>&nbsp;<span class="string" id="7258177">&#39;\n&#39;</span><span class="op" id="7258181">,</span>&nbsp;<span class="string" id="7258183">&#39;\n&#39;</span><span class="op" id="7258187">,</span>&nbsp;<span class="num" id="7258189">0</span><span class="op" id="7258190">}</span><span class="op" id="7258191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258194">{</span><span class="string" id="7258195">`&#39;\\&#39;`</span><span class="op" id="7258201">,</span>&nbsp;<span class="builtintype" id="7258203">true</span><span class="op" id="7258207">,</span>&nbsp;<span class="builtintype" id="7258209">true</span><span class="op" id="7258213">,</span>&nbsp;<span class="builtintype" id="7258215">true</span><span class="op" id="7258219">,</span>&nbsp;<span class="builtintype" id="7258221">false</span><span class="op" id="7258226">,</span>&nbsp;<span class="string" id="7258228">&#39;\\&#39;</span><span class="op" id="7258232">,</span>&nbsp;<span class="string" id="7258234">&#39;\\&#39;</span><span class="op" id="7258238">,</span>&nbsp;<span class="string" id="7258240">&#39;\\&#39;</span><span class="op" id="7258244">,</span>&nbsp;<span class="num" id="7258246">0</span><span class="op" id="7258247">}</span><span class="op" id="7258248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258251">{</span><span class="string" id="7258252">`&#39;\&#39;&#39;`</span><span class="op" id="7258258">,</span>&nbsp;<span class="builtintype" id="7258260">true</span><span class="op" id="7258264">,</span>&nbsp;<span class="builtintype" id="7258266">true</span><span class="op" id="7258270">,</span>&nbsp;<span class="builtintype" id="7258272">true</span><span class="op" id="7258276">,</span>&nbsp;<span class="builtintype" id="7258278">false</span><span class="op" id="7258283">,</span>&nbsp;<span class="string" id="7258285">&#39;\&#39;&#39;</span><span class="op" id="7258289">,</span>&nbsp;<span class="string" id="7258291">&#39;\&#39;&#39;</span><span class="op" id="7258295">,</span>&nbsp;<span class="string" id="7258297">&#39;\&#39;&#39;</span><span class="op" id="7258301">,</span>&nbsp;<span class="num" id="7258303">0</span><span class="op" id="7258304">}</span><span class="op" id="7258305">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258308">{</span><span class="string" id="7258309">`&#39;\xFF&#39;`</span><span class="op" id="7258317">,</span>&nbsp;<span class="builtintype" id="7258319">true</span><span class="op" id="7258323">,</span>&nbsp;<span class="builtintype" id="7258325">true</span><span class="op" id="7258329">,</span>&nbsp;<span class="builtintype" id="7258331">true</span><span class="op" id="7258335">,</span>&nbsp;<span class="builtintype" id="7258337">false</span><span class="op" id="7258342">,</span>&nbsp;<span class="num" id="7258344">0xFF</span><span class="op" id="7258348">,</span>&nbsp;<span class="num" id="7258350">0xFF</span><span class="op" id="7258354">,</span>&nbsp;<span class="num" id="7258356">0xFF</span><span class="op" id="7258360">,</span>&nbsp;<span class="num" id="7258362">0</span><span class="op" id="7258363">}</span><span class="op" id="7258364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258367">{</span><span class="string" id="7258368">`&#39;ãƒ‘&#39;`</span><span class="op" id="7258375">,</span>&nbsp;<span class="builtintype" id="7258377">true</span><span class="op" id="7258381">,</span>&nbsp;<span class="builtintype" id="7258383">true</span><span class="op" id="7258387">,</span>&nbsp;<span class="builtintype" id="7258389">true</span><span class="op" id="7258393">,</span>&nbsp;<span class="builtintype" id="7258395">false</span><span class="op" id="7258400">,</span>&nbsp;<span class="num" id="7258402">0x30d1</span><span class="op" id="7258408">,</span>&nbsp;<span class="num" id="7258410">0x30d1</span><span class="op" id="7258416">,</span>&nbsp;<span class="num" id="7258418">0x30d1</span><span class="op" id="7258424">,</span>&nbsp;<span class="num" id="7258426">0</span><span class="op" id="7258427">}</span><span class="op" id="7258428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258431">{</span><span class="string" id="7258432">`&#39;\u30d1&#39;`</span><span class="op" id="7258442">,</span>&nbsp;<span class="builtintype" id="7258444">true</span><span class="op" id="7258448">,</span>&nbsp;<span class="builtintype" id="7258450">true</span><span class="op" id="7258454">,</span>&nbsp;<span class="builtintype" id="7258456">true</span><span class="op" id="7258460">,</span>&nbsp;<span class="builtintype" id="7258462">false</span><span class="op" id="7258467">,</span>&nbsp;<span class="num" id="7258469">0x30d1</span><span class="op" id="7258475">,</span>&nbsp;<span class="num" id="7258477">0x30d1</span><span class="op" id="7258483">,</span>&nbsp;<span class="num" id="7258485">0x30d1</span><span class="op" id="7258491">,</span>&nbsp;<span class="num" id="7258493">0</span><span class="op" id="7258494">}</span><span class="op" id="7258495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258498">{</span><span class="string" id="7258499">`&#39;\U000030d1&#39;`</span><span class="op" id="7258513">,</span>&nbsp;<span class="builtintype" id="7258515">true</span><span class="op" id="7258519">,</span>&nbsp;<span class="builtintype" id="7258521">true</span><span class="op" id="7258525">,</span>&nbsp;<span class="builtintype" id="7258527">true</span><span class="op" id="7258531">,</span>&nbsp;<span class="builtintype" id="7258533">false</span><span class="op" id="7258538">,</span>&nbsp;<span class="num" id="7258540">0x30d1</span><span class="op" id="7258546">,</span>&nbsp;<span class="num" id="7258548">0x30d1</span><span class="op" id="7258554">,</span>&nbsp;<span class="num" id="7258556">0x30d1</span><span class="op" id="7258562">,</span>&nbsp;<span class="num" id="7258564">0</span><span class="op" id="7258565">}</span><span class="op" id="7258566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7258569">//&nbsp;some&nbsp;broken&nbsp;syntax</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258592">{</span><span class="ident" id="7258593">text</span><span class="op" id="7258597">:</span>&nbsp;<span class="string" id="7258599">&#34;+-2&#34;</span><span class="op" id="7258604">}</span><span class="op" id="7258605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258608">{</span><span class="ident" id="7258609">text</span><span class="op" id="7258613">:</span>&nbsp;<span class="string" id="7258615">&#34;0x123.&#34;</span><span class="op" id="7258623">}</span><span class="op" id="7258624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258627">{</span><span class="ident" id="7258628">text</span><span class="op" id="7258632">:</span>&nbsp;<span class="string" id="7258634">&#34;1e.&#34;</span><span class="op" id="7258639">}</span><span class="op" id="7258640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258643">{</span><span class="ident" id="7258644">text</span><span class="op" id="7258648">:</span>&nbsp;<span class="string" id="7258650">&#34;0xi.&#34;</span><span class="op" id="7258656">}</span><span class="op" id="7258657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258660">{</span><span class="ident" id="7258661">text</span><span class="op" id="7258665">:</span>&nbsp;<span class="string" id="7258667">&#34;1+2.&#34;</span><span class="op" id="7258673">}</span><span class="op" id="7258674">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258677">{</span><span class="ident" id="7258678">text</span><span class="op" id="7258682">:</span>&nbsp;<span class="string" id="7258684">&#34;&#39;x&#34;</span><span class="op" id="7258688">}</span><span class="op" id="7258689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258692">{</span><span class="ident" id="7258693">text</span><span class="op" id="7258697">:</span>&nbsp;<span class="string" id="7258699">&#34;&#39;xx&#39;&#34;</span><span class="op" id="7258705">}</span><span class="op" id="7258706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7258709">//&nbsp;Issue&nbsp;8622&nbsp;-&nbsp;0xe&nbsp;parsed&nbsp;as&nbsp;floating&nbsp;point.&nbsp;Very&nbsp;embarrassing.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7258775">{</span><span class="string" id="7258776">&#34;0xef&#34;</span><span class="op" id="7258782">,</span>&nbsp;<span class="builtintype" id="7258784">true</span><span class="op" id="7258788">,</span>&nbsp;<span class="builtintype" id="7258790">true</span><span class="op" id="7258794">,</span>&nbsp;<span class="builtintype" id="7258796">true</span><span class="op" id="7258800">,</span>&nbsp;<span class="builtintype" id="7258802">false</span><span class="op" id="7258807">,</span>&nbsp;<span class="num" id="7258809">0xef</span><span class="op" id="7258813">,</span>&nbsp;<span class="num" id="7258815">0xef</span><span class="op" id="7258819">,</span>&nbsp;<span class="num" id="7258821">0xef</span><span class="op" id="7258825">,</span>&nbsp;<span class="num" id="7258827">0</span><span class="op" id="7258828">}</span><span class="op" id="7258829">,</span><br>
<span class="lineno"></span><span class="op" id="7258831">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="7258834">func</span>&nbsp;<span class="ident" id="7258839">TestNumberParse</span><span class="op" id="7258854">(</span><span class="ident" id="7258855">t</span>&nbsp;<span class="op" id="7258857">*</span><span class="ident" id="7258858">testing</span><span class="op" id="7258865">.</span><span class="ident" id="7258866">T</span><span class="op" id="7258867">)</span>&nbsp;<span class="op" id="7258869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7258872">for</span>&nbsp;<span class="ident" id="7258876">_</span><span class="op" id="7258877">,</span>&nbsp;<span class="ident" id="7258879">test</span>&nbsp;<span class="op" id="7258884">:=</span>&nbsp;<span class="keyword" id="7258887">range</span>&nbsp;<span class="ident" id="7258893">numberTests</span>&nbsp;<span class="op" id="7258905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7258909">//&nbsp;If&nbsp;fmt.Sscan&nbsp;thinks&nbsp;it&#39;s&nbsp;complex,&nbsp;it&#39;s&nbsp;complex.&nbsp;&nbsp;We&nbsp;can&#39;t&nbsp;trust&nbsp;the&nbsp;output</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7258989">//&nbsp;because&nbsp;imaginary&nbsp;comes&nbsp;out&nbsp;as&nbsp;a&nbsp;number.</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259035">var</span>&nbsp;<span class="ident" id="7259039">c</span>&nbsp;<span class="builtintype" id="7259041">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259054">typ</span>&nbsp;<span class="op" id="7259058">:=</span>&nbsp;<span class="ident" id="7259061">itemNumber</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259074">var</span>&nbsp;<span class="ident" id="7259078">tree</span>&nbsp;<span class="op" id="7259083">*</span><span class="ident" id="7259084">Tree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259091">if</span>&nbsp;<span class="ident" id="7259094">test</span><span class="op" id="7259098">.</span><span class="ident" id="7259099">text</span><span class="op" id="7259103">[</span><span class="num" id="7259104">0</span><span class="op" id="7259105">]</span>&nbsp;<span class="op" id="7259107">==</span>&nbsp;<span class="string" id="7259110">&#39;\&#39;&#39;</span>&nbsp;<span class="op" id="7259115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259120">typ</span>&nbsp;<span class="op" id="7259124">=</span>&nbsp;<span class="ident" id="7259126">itemCharConstant</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259145">}</span>&nbsp;<span class="keyword" id="7259147">else</span>&nbsp;<span class="op" id="7259152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259157">_</span><span class="op" id="7259158">,</span>&nbsp;<span class="ident" id="7259160">err</span>&nbsp;<span class="op" id="7259164">:=</span>&nbsp;<span class="ident" id="7259167">fmt</span><span class="op" id="7259170">.</span><span class="ident" id="7259171">Sscan</span><span class="op" id="7259176">(</span><span class="ident" id="7259177">test</span><span class="op" id="7259181">.</span><span class="ident" id="7259182">text</span><span class="op" id="7259186">,</span>&nbsp;<span class="op" id="7259188">&amp;</span><span class="ident" id="7259189">c</span><span class="op" id="7259190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259195">if</span>&nbsp;<span class="ident" id="7259198">err</span>&nbsp;<span class="op" id="7259202">==</span>&nbsp;<span class="builtintype" id="7259205">nil</span>&nbsp;<span class="op" id="7259209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259215">typ</span>&nbsp;<span class="op" id="7259219">=</span>&nbsp;<span class="ident" id="7259221">itemComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259236">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259240">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259244">n</span><span class="op" id="7259245">,</span>&nbsp;<span class="ident" id="7259247">err</span>&nbsp;<span class="op" id="7259251">:=</span>&nbsp;<span class="ident" id="7259254">tree</span><span class="op" id="7259258">.</span><span class="ident" id="7259259">newNumber</span><span class="op" id="7259268">(</span><span class="num" id="7259269">0</span><span class="op" id="7259270">,</span>&nbsp;<span class="ident" id="7259272">test</span><span class="op" id="7259276">.</span><span class="ident" id="7259277">text</span><span class="op" id="7259281">,</span>&nbsp;<span class="ident" id="7259283">typ</span><span class="op" id="7259286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259290">ok</span>&nbsp;<span class="op" id="7259293">:=</span>&nbsp;<span class="ident" id="7259296">test</span><span class="op" id="7259300">.</span><span class="ident" id="7259301">isInt</span>&nbsp;<span class="op" id="7259307">||</span>&nbsp;<span class="ident" id="7259310">test</span><span class="op" id="7259314">.</span><span class="ident" id="7259315">isUint</span>&nbsp;<span class="op" id="7259322">||</span>&nbsp;<span class="ident" id="7259325">test</span><span class="op" id="7259329">.</span><span class="ident" id="7259330">isFloat</span>&nbsp;<span class="op" id="7259338">||</span>&nbsp;<span class="ident" id="7259341">test</span><span class="op" id="7259345">.</span><span class="ident" id="7259346">isComplex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259358">if</span>&nbsp;<span class="ident" id="7259361">ok</span>&nbsp;<span class="op" id="7259364">&amp;&amp;</span>&nbsp;<span class="ident" id="7259367">err</span>&nbsp;<span class="op" id="7259371">!=</span>&nbsp;<span class="builtintype" id="7259374">nil</span>&nbsp;<span class="op" id="7259378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259383">t</span><span class="op" id="7259384">.</span><span class="ident" id="7259385">Errorf</span><span class="op" id="7259391">(</span><span class="string" id="7259392">&#34;unexpected&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="7259421">,</span>&nbsp;<span class="ident" id="7259423">test</span><span class="op" id="7259427">.</span><span class="ident" id="7259428">text</span><span class="op" id="7259432">,</span>&nbsp;<span class="ident" id="7259434">err</span><span class="op" id="7259437">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259442">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259453">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259457">if</span>&nbsp;<span class="op" id="7259460">!</span><span class="ident" id="7259461">ok</span>&nbsp;<span class="op" id="7259464">&amp;&amp;</span>&nbsp;<span class="ident" id="7259467">err</span>&nbsp;<span class="op" id="7259471">==</span>&nbsp;<span class="builtintype" id="7259474">nil</span>&nbsp;<span class="op" id="7259478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259483">t</span><span class="op" id="7259484">.</span><span class="ident" id="7259485">Errorf</span><span class="op" id="7259491">(</span><span class="string" id="7259492">&#34;expected&nbsp;error&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7259515">,</span>&nbsp;<span class="ident" id="7259517">test</span><span class="op" id="7259521">.</span><span class="ident" id="7259522">text</span><span class="op" id="7259526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259531">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259546">if</span>&nbsp;<span class="op" id="7259549">!</span><span class="ident" id="7259550">ok</span>&nbsp;<span class="op" id="7259553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259558">if</span>&nbsp;<span class="op" id="7259561">*</span><span class="ident" id="7259562">debug</span>&nbsp;<span class="op" id="7259568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259574">fmt</span><span class="op" id="7259577">.</span><span class="ident" id="7259578">Printf</span><span class="op" id="7259584">(</span><span class="string" id="7259585">&#34;%s\n\t%s\n&#34;</span><span class="op" id="7259597">,</span>&nbsp;<span class="ident" id="7259599">test</span><span class="op" id="7259603">.</span><span class="ident" id="7259604">text</span><span class="op" id="7259608">,</span>&nbsp;<span class="ident" id="7259610">err</span><span class="op" id="7259613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259618">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259623">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259638">if</span>&nbsp;<span class="ident" id="7259641">n</span><span class="op" id="7259642">.</span><span class="ident" id="7259643">IsComplex</span>&nbsp;<span class="op" id="7259653">!=</span>&nbsp;<span class="ident" id="7259656">test</span><span class="op" id="7259660">.</span><span class="ident" id="7259661">isComplex</span>&nbsp;<span class="op" id="7259671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259676">t</span><span class="op" id="7259677">.</span><span class="ident" id="7259678">Errorf</span><span class="op" id="7259684">(</span><span class="string" id="7259685">&#34;complex&nbsp;incorrect&nbsp;for&nbsp;%q;&nbsp;should&nbsp;be&nbsp;%t&#34;</span><span class="op" id="7259725">,</span>&nbsp;<span class="ident" id="7259727">test</span><span class="op" id="7259731">.</span><span class="ident" id="7259732">text</span><span class="op" id="7259736">,</span>&nbsp;<span class="ident" id="7259738">test</span><span class="op" id="7259742">.</span><span class="ident" id="7259743">isComplex</span><span class="op" id="7259752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259756">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259760">if</span>&nbsp;<span class="ident" id="7259763">test</span><span class="op" id="7259767">.</span><span class="ident" id="7259768">isInt</span>&nbsp;<span class="op" id="7259774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259779">if</span>&nbsp;<span class="op" id="7259782">!</span><span class="ident" id="7259783">n</span><span class="op" id="7259784">.</span><span class="ident" id="7259785">IsInt</span>&nbsp;<span class="op" id="7259791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259797">t</span><span class="op" id="7259798">.</span><span class="ident" id="7259799">Errorf</span><span class="op" id="7259805">(</span><span class="string" id="7259806">&#34;expected&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7259831">,</span>&nbsp;<span class="ident" id="7259833">test</span><span class="op" id="7259837">.</span><span class="ident" id="7259838">text</span><span class="op" id="7259842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7259852">if</span>&nbsp;<span class="ident" id="7259855">n</span><span class="op" id="7259856">.</span><span class="ident" id="7259857">Int64</span>&nbsp;<span class="op" id="7259863">!=</span>&nbsp;<span class="ident" id="7259866">test</span><span class="op" id="7259870">.</span><span class="ident" id="7259871">int64</span>&nbsp;<span class="op" id="7259877">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259883">t</span><span class="op" id="7259884">.</span><span class="ident" id="7259885">Errorf</span><span class="op" id="7259891">(</span><span class="string" id="7259892">&#34;int64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7259925">,</span>&nbsp;<span class="ident" id="7259927">test</span><span class="op" id="7259931">.</span><span class="ident" id="7259932">text</span><span class="op" id="7259936">,</span>&nbsp;<span class="ident" id="7259938">test</span><span class="op" id="7259942">.</span><span class="ident" id="7259943">int64</span><span class="op" id="7259948">,</span>&nbsp;<span class="ident" id="7259950">n</span><span class="op" id="7259951">.</span><span class="ident" id="7259952">Int64</span><span class="op" id="7259957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259962">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7259966">}</span>&nbsp;<span class="keyword" id="7259968">else</span>&nbsp;<span class="keyword" id="7259973">if</span>&nbsp;<span class="ident" id="7259976">n</span><span class="op" id="7259977">.</span><span class="ident" id="7259978">IsInt</span>&nbsp;<span class="op" id="7259984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7259989">t</span><span class="op" id="7259990">.</span><span class="ident" id="7259991">Errorf</span><span class="op" id="7259997">(</span><span class="string" id="7259998">&#34;did&nbsp;not&nbsp;expect&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260029">,</span>&nbsp;<span class="ident" id="7260031">test</span><span class="op" id="7260035">.</span><span class="ident" id="7260036">text</span><span class="op" id="7260040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260044">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260048">if</span>&nbsp;<span class="ident" id="7260051">test</span><span class="op" id="7260055">.</span><span class="ident" id="7260056">isUint</span>&nbsp;<span class="op" id="7260063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260068">if</span>&nbsp;<span class="op" id="7260071">!</span><span class="ident" id="7260072">n</span><span class="op" id="7260073">.</span><span class="ident" id="7260074">IsUint</span>&nbsp;<span class="op" id="7260081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260087">t</span><span class="op" id="7260088">.</span><span class="ident" id="7260089">Errorf</span><span class="op" id="7260095">(</span><span class="string" id="7260096">&#34;expected&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260130">,</span>&nbsp;<span class="ident" id="7260132">test</span><span class="op" id="7260136">.</span><span class="ident" id="7260137">text</span><span class="op" id="7260141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260146">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260151">if</span>&nbsp;<span class="ident" id="7260154">n</span><span class="op" id="7260155">.</span><span class="ident" id="7260156">Uint64</span>&nbsp;<span class="op" id="7260163">!=</span>&nbsp;<span class="ident" id="7260166">test</span><span class="op" id="7260170">.</span><span class="ident" id="7260171">uint64</span>&nbsp;<span class="op" id="7260178">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260184">t</span><span class="op" id="7260185">.</span><span class="ident" id="7260186">Errorf</span><span class="op" id="7260192">(</span><span class="string" id="7260193">&#34;uint64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%d&nbsp;Is&nbsp;%d&#34;</span><span class="op" id="7260227">,</span>&nbsp;<span class="ident" id="7260229">test</span><span class="op" id="7260233">.</span><span class="ident" id="7260234">text</span><span class="op" id="7260238">,</span>&nbsp;<span class="ident" id="7260240">test</span><span class="op" id="7260244">.</span><span class="ident" id="7260245">uint64</span><span class="op" id="7260251">,</span>&nbsp;<span class="ident" id="7260253">n</span><span class="op" id="7260254">.</span><span class="ident" id="7260255">Uint64</span><span class="op" id="7260261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260270">}</span>&nbsp;<span class="keyword" id="7260272">else</span>&nbsp;<span class="keyword" id="7260277">if</span>&nbsp;<span class="ident" id="7260280">n</span><span class="op" id="7260281">.</span><span class="ident" id="7260282">IsUint</span>&nbsp;<span class="op" id="7260289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260294">t</span><span class="op" id="7260295">.</span><span class="ident" id="7260296">Errorf</span><span class="op" id="7260302">(</span><span class="string" id="7260303">&#34;did&nbsp;not&nbsp;expect&nbsp;unsigned&nbsp;integer&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260343">,</span>&nbsp;<span class="ident" id="7260345">test</span><span class="op" id="7260349">.</span><span class="ident" id="7260350">text</span><span class="op" id="7260354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260358">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260362">if</span>&nbsp;<span class="ident" id="7260365">test</span><span class="op" id="7260369">.</span><span class="ident" id="7260370">isFloat</span>&nbsp;<span class="op" id="7260378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260383">if</span>&nbsp;<span class="op" id="7260386">!</span><span class="ident" id="7260387">n</span><span class="op" id="7260388">.</span><span class="ident" id="7260389">IsFloat</span>&nbsp;<span class="op" id="7260397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260403">t</span><span class="op" id="7260404">.</span><span class="ident" id="7260405">Errorf</span><span class="op" id="7260411">(</span><span class="string" id="7260412">&#34;expected&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260435">,</span>&nbsp;<span class="ident" id="7260437">test</span><span class="op" id="7260441">.</span><span class="ident" id="7260442">text</span><span class="op" id="7260446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260456">if</span>&nbsp;<span class="ident" id="7260459">n</span><span class="op" id="7260460">.</span><span class="ident" id="7260461">Float64</span>&nbsp;<span class="op" id="7260469">!=</span>&nbsp;<span class="ident" id="7260472">test</span><span class="op" id="7260476">.</span><span class="builtintype" id="7260477">float64</span>&nbsp;<span class="op" id="7260485">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260491">t</span><span class="op" id="7260492">.</span><span class="ident" id="7260493">Errorf</span><span class="op" id="7260499">(</span><span class="string" id="7260500">&#34;float64&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7260535">,</span>&nbsp;<span class="ident" id="7260537">test</span><span class="op" id="7260541">.</span><span class="ident" id="7260542">text</span><span class="op" id="7260546">,</span>&nbsp;<span class="ident" id="7260548">test</span><span class="op" id="7260552">.</span><span class="builtintype" id="7260553">float64</span><span class="op" id="7260560">,</span>&nbsp;<span class="ident" id="7260562">n</span><span class="op" id="7260563">.</span><span class="ident" id="7260564">Float64</span><span class="op" id="7260571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260580">}</span>&nbsp;<span class="keyword" id="7260582">else</span>&nbsp;<span class="keyword" id="7260587">if</span>&nbsp;<span class="ident" id="7260590">n</span><span class="op" id="7260591">.</span><span class="ident" id="7260592">IsFloat</span>&nbsp;<span class="op" id="7260600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260605">t</span><span class="op" id="7260606">.</span><span class="ident" id="7260607">Errorf</span><span class="op" id="7260613">(</span><span class="string" id="7260614">&#34;did&nbsp;not&nbsp;expect&nbsp;float&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260643">,</span>&nbsp;<span class="ident" id="7260645">test</span><span class="op" id="7260649">.</span><span class="ident" id="7260650">text</span><span class="op" id="7260654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260658">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260662">if</span>&nbsp;<span class="ident" id="7260665">test</span><span class="op" id="7260669">.</span><span class="ident" id="7260670">isComplex</span>&nbsp;<span class="op" id="7260680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260685">if</span>&nbsp;<span class="op" id="7260688">!</span><span class="ident" id="7260689">n</span><span class="op" id="7260690">.</span><span class="ident" id="7260691">IsComplex</span>&nbsp;<span class="op" id="7260701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260707">t</span><span class="op" id="7260708">.</span><span class="ident" id="7260709">Errorf</span><span class="op" id="7260715">(</span><span class="string" id="7260716">&#34;expected&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260741">,</span>&nbsp;<span class="ident" id="7260743">test</span><span class="op" id="7260747">.</span><span class="ident" id="7260748">text</span><span class="op" id="7260752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260757">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7260762">if</span>&nbsp;<span class="ident" id="7260765">n</span><span class="op" id="7260766">.</span><span class="ident" id="7260767">Complex128</span>&nbsp;<span class="op" id="7260778">!=</span>&nbsp;<span class="ident" id="7260781">test</span><span class="op" id="7260785">.</span><span class="builtintype" id="7260786">complex128</span>&nbsp;<span class="op" id="7260797">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260803">t</span><span class="op" id="7260804">.</span><span class="ident" id="7260805">Errorf</span><span class="op" id="7260811">(</span><span class="string" id="7260812">&#34;complex128&nbsp;for&nbsp;%q&nbsp;should&nbsp;be&nbsp;%g&nbsp;Is&nbsp;%g&#34;</span><span class="op" id="7260850">,</span>&nbsp;<span class="ident" id="7260852">test</span><span class="op" id="7260856">.</span><span class="ident" id="7260857">text</span><span class="op" id="7260861">,</span>&nbsp;<span class="ident" id="7260863">test</span><span class="op" id="7260867">.</span><span class="builtintype" id="7260868">complex128</span><span class="op" id="7260878">,</span>&nbsp;<span class="ident" id="7260880">n</span><span class="op" id="7260881">.</span><span class="ident" id="7260882">Complex128</span><span class="op" id="7260892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260901">}</span>&nbsp;<span class="keyword" id="7260903">else</span>&nbsp;<span class="keyword" id="7260908">if</span>&nbsp;<span class="ident" id="7260911">n</span><span class="op" id="7260912">.</span><span class="ident" id="7260913">IsComplex</span>&nbsp;<span class="op" id="7260923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7260928">t</span><span class="op" id="7260929">.</span><span class="ident" id="7260930">Errorf</span><span class="op" id="7260936">(</span><span class="string" id="7260937">&#34;did&nbsp;not&nbsp;expect&nbsp;complex&nbsp;for&nbsp;%q&#34;</span><span class="op" id="7260968">,</span>&nbsp;<span class="ident" id="7260970">test</span><span class="op" id="7260974">.</span><span class="ident" id="7260975">text</span><span class="op" id="7260979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260983">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7260986">}</span><br>
<span class="lineno"></span><span class="op" id="7260988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7260991">type</span>&nbsp;<span class="ident" id="7260996">parseTest</span>&nbsp;<span class="keyword" id="7261006">struct</span>&nbsp;<span class="op" id="7261013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7261016">name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7261023">string</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7261031">input</span>&nbsp;&nbsp;<span class="builtintype" id="7261038">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7261046">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7261053">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7261059">result</span>&nbsp;<span class="builtintype" id="7261066">string</span>&nbsp;<span class="comment" id="7261073">//&nbsp;what&nbsp;the&nbsp;user&nbsp;would&nbsp;see&nbsp;in&nbsp;an&nbsp;error&nbsp;message.</span><br>
<span class="lineno"></span><span class="op" id="7261121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="7261124">const</span>&nbsp;<span class="op" id="7261130">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7261133">noError</span>&nbsp;&nbsp;<span class="op" id="7261142">=</span>&nbsp;<span class="builtintype" id="7261144">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7261150">hasError</span>&nbsp;<span class="op" id="7261159">=</span>&nbsp;<span class="builtintype" id="7261161">false</span><br>
<span class="lineno"></span><span class="op" id="7261167">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span><span class="keyword" id="7261170">var</span>&nbsp;<span class="ident" id="7261174">parseTests</span>&nbsp;<span class="op" id="7261185">=</span>&nbsp;<span class="op" id="7261187">[</span><span class="op" id="7261188">]</span><span class="ident" id="7261189">parseTest</span><span class="op" id="7261198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261201">{</span><span class="string" id="7261202">&#34;empty&#34;</span><span class="op" id="7261209">,</span>&nbsp;<span class="string" id="7261211">&#34;&#34;</span><span class="op" id="7261213">,</span>&nbsp;<span class="ident" id="7261215">noError</span><span class="op" id="7261222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261226">``</span><span class="op" id="7261228">}</span><span class="op" id="7261229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261232">{</span><span class="string" id="7261233">&#34;comment&#34;</span><span class="op" id="7261242">,</span>&nbsp;<span class="string" id="7261244">&#34;{{/*\n\n\n*/}}&#34;</span><span class="op" id="7261260">,</span>&nbsp;<span class="ident" id="7261262">noError</span><span class="op" id="7261269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261273">``</span><span class="op" id="7261275">}</span><span class="op" id="7261276">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261279">{</span><span class="string" id="7261280">&#34;spaces&#34;</span><span class="op" id="7261288">,</span>&nbsp;<span class="string" id="7261290">&#34;&nbsp;\t\n&#34;</span><span class="op" id="7261297">,</span>&nbsp;<span class="ident" id="7261299">noError</span><span class="op" id="7261306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261310">`&#34;&nbsp;\t\n&#34;`</span><span class="op" id="7261319">}</span><span class="op" id="7261320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261323">{</span><span class="string" id="7261324">&#34;text&#34;</span><span class="op" id="7261330">,</span>&nbsp;<span class="string" id="7261332">&#34;some&nbsp;text&#34;</span><span class="op" id="7261343">,</span>&nbsp;<span class="ident" id="7261345">noError</span><span class="op" id="7261352">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261356">`&#34;some&nbsp;text&#34;`</span><span class="op" id="7261369">}</span><span class="op" id="7261370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261373">{</span><span class="string" id="7261374">&#34;emptyAction&#34;</span><span class="op" id="7261387">,</span>&nbsp;<span class="string" id="7261389">&#34;{{}}&#34;</span><span class="op" id="7261395">,</span>&nbsp;<span class="ident" id="7261397">hasError</span><span class="op" id="7261405">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261409">`{{}}`</span><span class="op" id="7261415">}</span><span class="op" id="7261416">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261419">{</span><span class="string" id="7261420">&#34;field&#34;</span><span class="op" id="7261427">,</span>&nbsp;<span class="string" id="7261429">&#34;{{.X}}&#34;</span><span class="op" id="7261437">,</span>&nbsp;<span class="ident" id="7261439">noError</span><span class="op" id="7261446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261450">`{{.X}}`</span><span class="op" id="7261458">}</span><span class="op" id="7261459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261462">{</span><span class="string" id="7261463">&#34;simple&nbsp;command&#34;</span><span class="op" id="7261479">,</span>&nbsp;<span class="string" id="7261481">&#34;{{printf}}&#34;</span><span class="op" id="7261493">,</span>&nbsp;<span class="ident" id="7261495">noError</span><span class="op" id="7261502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261506">`{{printf}}`</span><span class="op" id="7261518">}</span><span class="op" id="7261519">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261522">{</span><span class="string" id="7261523">&#34;$&nbsp;invocation&#34;</span><span class="op" id="7261537">,</span>&nbsp;<span class="string" id="7261539">&#34;{{$}}&#34;</span><span class="op" id="7261546">,</span>&nbsp;<span class="ident" id="7261548">noError</span><span class="op" id="7261555">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261559">&#34;{{$}}&#34;</span><span class="op" id="7261566">}</span><span class="op" id="7261567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261570">{</span><span class="string" id="7261571">&#34;variable&nbsp;invocation&#34;</span><span class="op" id="7261592">,</span>&nbsp;<span class="string" id="7261594">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7261628">,</span>&nbsp;<span class="ident" id="7261630">noError</span><span class="op" id="7261637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261641">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7261675">}</span><span class="op" id="7261676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261679">{</span><span class="string" id="7261680">&#34;variable&nbsp;with&nbsp;fields&#34;</span><span class="op" id="7261702">,</span>&nbsp;<span class="string" id="7261704">&#34;{{$.I}}&#34;</span><span class="op" id="7261713">,</span>&nbsp;<span class="ident" id="7261715">noError</span><span class="op" id="7261722">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261726">&#34;{{$.I}}&#34;</span><span class="op" id="7261735">}</span><span class="op" id="7261736">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261739">{</span><span class="string" id="7261740">&#34;multi-word&nbsp;command&#34;</span><span class="op" id="7261760">,</span>&nbsp;<span class="string" id="7261762">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7261782">,</span>&nbsp;<span class="ident" id="7261784">noError</span><span class="op" id="7261791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261795">&#34;{{printf&nbsp;`%d`&nbsp;23}}&#34;</span><span class="op" id="7261815">}</span><span class="op" id="7261816">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261819">{</span><span class="string" id="7261820">&#34;pipeline&#34;</span><span class="op" id="7261830">,</span>&nbsp;<span class="string" id="7261832">&#34;{{.X|.Y}}&#34;</span><span class="op" id="7261843">,</span>&nbsp;<span class="ident" id="7261845">noError</span><span class="op" id="7261852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261856">`{{.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7261869">}</span><span class="op" id="7261870">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261873">{</span><span class="string" id="7261874">&#34;pipeline&nbsp;with&nbsp;decl&#34;</span><span class="op" id="7261894">,</span>&nbsp;<span class="string" id="7261896">&#34;{{$x&nbsp;:=&nbsp;.X|.Y}}&#34;</span><span class="op" id="7261913">,</span>&nbsp;<span class="ident" id="7261915">noError</span><span class="op" id="7261922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7261926">`{{$x&nbsp;:=&nbsp;.X&nbsp;|&nbsp;.Y}}`</span><span class="op" id="7261945">}</span><span class="op" id="7261946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7261949">{</span><span class="string" id="7261950">&#34;nested&nbsp;pipeline&#34;</span><span class="op" id="7261967">,</span>&nbsp;<span class="string" id="7261969">&#34;{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}&#34;</span><span class="op" id="7262003">,</span>&nbsp;<span class="ident" id="7262005">noError</span><span class="op" id="7262012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262016">`{{.X&nbsp;(.Y&nbsp;.Z)&nbsp;(.A&nbsp;|&nbsp;.B&nbsp;.C)&nbsp;(.E)}}`</span><span class="op" id="7262050">}</span><span class="op" id="7262051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262054">{</span><span class="string" id="7262055">&#34;field&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7262085">,</span>&nbsp;<span class="string" id="7262087">&#34;{{(.Y&nbsp;.Z).Field}}&#34;</span><span class="op" id="7262106">,</span>&nbsp;<span class="ident" id="7262108">noError</span><span class="op" id="7262115">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262119">`{{(.Y&nbsp;.Z).Field}}`</span><span class="op" id="7262138">}</span><span class="op" id="7262139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262142">{</span><span class="string" id="7262143">&#34;simple&nbsp;if&#34;</span><span class="op" id="7262154">,</span>&nbsp;<span class="string" id="7262156">&#34;{{if&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7262179">,</span>&nbsp;<span class="ident" id="7262181">noError</span><span class="op" id="7262188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262192">`{{if&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7262217">}</span><span class="op" id="7262218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262221">{</span><span class="string" id="7262222">&#34;if&nbsp;with&nbsp;else&#34;</span><span class="op" id="7262236">,</span>&nbsp;<span class="string" id="7262238">&#34;{{if&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7262273">,</span>&nbsp;<span class="ident" id="7262275">noError</span><span class="op" id="7262282">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262286">`{{if&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7262325">}</span><span class="op" id="7262326">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262329">{</span><span class="string" id="7262330">&#34;if&nbsp;with&nbsp;else&nbsp;if&#34;</span><span class="op" id="7262347">,</span>&nbsp;<span class="string" id="7262349">&#34;{{if&nbsp;.X}}true{{else&nbsp;if&nbsp;.Y}}false{{end}}&#34;</span><span class="op" id="7262390">,</span>&nbsp;<span class="ident" id="7262392">noError</span><span class="op" id="7262399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262403">`{{if&nbsp;.X}}&#34;true&#34;{{else}}{{if&nbsp;.Y}}&#34;false&#34;{{end}}{{end}}`</span><span class="op" id="7262458">}</span><span class="op" id="7262459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262462">{</span><span class="string" id="7262463">&#34;if&nbsp;else&nbsp;chain&#34;</span><span class="op" id="7262478">,</span>&nbsp;<span class="string" id="7262480">&#34;+{{if&nbsp;.X}}X{{else&nbsp;if&nbsp;.Y}}Y{{else&nbsp;if&nbsp;.Z}}Z{{end}}+&#34;</span><span class="op" id="7262531">,</span>&nbsp;<span class="ident" id="7262533">noError</span><span class="op" id="7262540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262544">`&#34;+&#34;{{if&nbsp;.X}}&#34;X&#34;{{else}}{{if&nbsp;.Y}}&#34;Y&#34;{{else}}{{if&nbsp;.Z}}&#34;Z&#34;{{end}}{{end}}{{end}}&#34;+&#34;`</span><span class="op" id="7262625">}</span><span class="op" id="7262626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262629">{</span><span class="string" id="7262630">&#34;simple&nbsp;range&#34;</span><span class="op" id="7262644">,</span>&nbsp;<span class="string" id="7262646">&#34;{{range&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7262672">,</span>&nbsp;<span class="ident" id="7262674">noError</span><span class="op" id="7262681">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262685">`{{range&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7262713">}</span><span class="op" id="7262714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262717">{</span><span class="string" id="7262718">&#34;chained&nbsp;field&nbsp;range&#34;</span><span class="op" id="7262739">,</span>&nbsp;<span class="string" id="7262741">&#34;{{range&nbsp;.X.Y.Z}}hello{{end}}&#34;</span><span class="op" id="7262771">,</span>&nbsp;<span class="ident" id="7262773">noError</span><span class="op" id="7262780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262784">`{{range&nbsp;.X.Y.Z}}&#34;hello&#34;{{end}}`</span><span class="op" id="7262816">}</span><span class="op" id="7262817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262820">{</span><span class="string" id="7262821">&#34;nested&nbsp;range&#34;</span><span class="op" id="7262835">,</span>&nbsp;<span class="string" id="7262837">&#34;{{range&nbsp;.X}}hello{{range&nbsp;.Y}}goodbye{{end}}{{end}}&#34;</span><span class="op" id="7262889">,</span>&nbsp;<span class="ident" id="7262891">noError</span><span class="op" id="7262898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7262902">`{{range&nbsp;.X}}&#34;hello&#34;{{range&nbsp;.Y}}&#34;goodbye&#34;{{end}}{{end}}`</span><span class="op" id="7262958">}</span><span class="op" id="7262959">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7262962">{</span><span class="string" id="7262963">&#34;range&nbsp;with&nbsp;else&#34;</span><span class="op" id="7262980">,</span>&nbsp;<span class="string" id="7262982">&#34;{{range&nbsp;.X}}true{{else}}false{{end}}&#34;</span><span class="op" id="7263020">,</span>&nbsp;<span class="ident" id="7263022">noError</span><span class="op" id="7263029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263033">`{{range&nbsp;.X}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7263075">}</span><span class="op" id="7263076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263079">{</span><span class="string" id="7263080">&#34;range&nbsp;over&nbsp;pipeline&#34;</span><span class="op" id="7263101">,</span>&nbsp;<span class="string" id="7263103">&#34;{{range&nbsp;.X|.M}}true{{else}}false{{end}}&#34;</span><span class="op" id="7263144">,</span>&nbsp;<span class="ident" id="7263146">noError</span><span class="op" id="7263153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263157">`{{range&nbsp;.X&nbsp;|&nbsp;.M}}&#34;true&#34;{{else}}&#34;false&#34;{{end}}`</span><span class="op" id="7263204">}</span><span class="op" id="7263205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263208">{</span><span class="string" id="7263209">&#34;range&nbsp;[]int&#34;</span><span class="op" id="7263222">,</span>&nbsp;<span class="string" id="7263224">&#34;{{range&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7263251">,</span>&nbsp;<span class="ident" id="7263253">noError</span><span class="op" id="7263260">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263264">`{{range&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7263291">}</span><span class="op" id="7263292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263295">{</span><span class="string" id="7263296">&#34;range&nbsp;1&nbsp;var&#34;</span><span class="op" id="7263309">,</span>&nbsp;<span class="string" id="7263311">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7263344">,</span>&nbsp;<span class="ident" id="7263346">noError</span><span class="op" id="7263353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263357">`{{range&nbsp;$x&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7263390">}</span><span class="op" id="7263391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263394">{</span><span class="string" id="7263395">&#34;range&nbsp;2&nbsp;vars&#34;</span><span class="op" id="7263409">,</span>&nbsp;<span class="string" id="7263411">&#34;{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}&#34;</span><span class="op" id="7263448">,</span>&nbsp;<span class="ident" id="7263450">noError</span><span class="op" id="7263457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263461">`{{range&nbsp;$x,&nbsp;$y&nbsp;:=&nbsp;.SI}}{{.}}{{end}}`</span><span class="op" id="7263498">}</span><span class="op" id="7263499">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263502">{</span><span class="string" id="7263503">&#34;constants&#34;</span><span class="op" id="7263514">,</span>&nbsp;<span class="string" id="7263516">&#34;{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}&#34;</span><span class="op" id="7263565">,</span>&nbsp;<span class="ident" id="7263567">noError</span><span class="op" id="7263574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263578">`{{range&nbsp;.SI&nbsp;1&nbsp;-3.2i&nbsp;true&nbsp;false&nbsp;&#39;a&#39;&nbsp;nil}}{{end}}`</span><span class="op" id="7263627">}</span><span class="op" id="7263628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263631">{</span><span class="string" id="7263632">&#34;template&#34;</span><span class="op" id="7263642">,</span>&nbsp;<span class="string" id="7263644">&#34;{{template&nbsp;`x`}}&#34;</span><span class="op" id="7263662">,</span>&nbsp;<span class="ident" id="7263664">noError</span><span class="op" id="7263671">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263675">`{{template&nbsp;&#34;x&#34;}}`</span><span class="op" id="7263693">}</span><span class="op" id="7263694">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263697">{</span><span class="string" id="7263698">&#34;template&nbsp;with&nbsp;arg&#34;</span><span class="op" id="7263717">,</span>&nbsp;<span class="string" id="7263719">&#34;{{template&nbsp;`x`&nbsp;.Y}}&#34;</span><span class="op" id="7263740">,</span>&nbsp;<span class="ident" id="7263742">noError</span><span class="op" id="7263749">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263753">`{{template&nbsp;&#34;x&#34;&nbsp;.Y}}`</span><span class="op" id="7263774">}</span><span class="op" id="7263775">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263778">{</span><span class="string" id="7263779">&#34;with&#34;</span><span class="op" id="7263785">,</span>&nbsp;<span class="string" id="7263787">&#34;{{with&nbsp;.X}}hello{{end}}&#34;</span><span class="op" id="7263812">,</span>&nbsp;<span class="ident" id="7263814">noError</span><span class="op" id="7263821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263825">`{{with&nbsp;.X}}&#34;hello&#34;{{end}}`</span><span class="op" id="7263852">}</span><span class="op" id="7263853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263856">{</span><span class="string" id="7263857">&#34;with&nbsp;with&nbsp;else&#34;</span><span class="op" id="7263873">,</span>&nbsp;<span class="string" id="7263875">&#34;{{with&nbsp;.X}}hello{{else}}goodbye{{end}}&#34;</span><span class="op" id="7263915">,</span>&nbsp;<span class="ident" id="7263917">noError</span><span class="op" id="7263924">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7263928">`{{with&nbsp;.X}}&#34;hello&#34;{{else}}&#34;goodbye&#34;{{end}}`</span><span class="op" id="7263972">}</span><span class="op" id="7263973">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7263976">//&nbsp;Errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7263988">{</span><span class="string" id="7263989">&#34;unclosed&nbsp;action&#34;</span><span class="op" id="7264006">,</span>&nbsp;<span class="string" id="7264008">&#34;hello{{range&#34;</span><span class="op" id="7264022">,</span>&nbsp;<span class="ident" id="7264024">hasError</span><span class="op" id="7264032">,</span>&nbsp;<span class="string" id="7264034">&#34;&#34;</span><span class="op" id="7264036">}</span><span class="op" id="7264037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264040">{</span><span class="string" id="7264041">&#34;unmatched&nbsp;end&#34;</span><span class="op" id="7264056">,</span>&nbsp;<span class="string" id="7264058">&#34;{{end}}&#34;</span><span class="op" id="7264067">,</span>&nbsp;<span class="ident" id="7264069">hasError</span><span class="op" id="7264077">,</span>&nbsp;<span class="string" id="7264079">&#34;&#34;</span><span class="op" id="7264081">}</span><span class="op" id="7264082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264085">{</span><span class="string" id="7264086">&#34;missing&nbsp;end&#34;</span><span class="op" id="7264099">,</span>&nbsp;<span class="string" id="7264101">&#34;hello{{range&nbsp;.x}}&#34;</span><span class="op" id="7264120">,</span>&nbsp;<span class="ident" id="7264122">hasError</span><span class="op" id="7264130">,</span>&nbsp;<span class="string" id="7264132">&#34;&#34;</span><span class="op" id="7264134">}</span><span class="op" id="7264135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264138">{</span><span class="string" id="7264139">&#34;missing&nbsp;end&nbsp;after&nbsp;else&#34;</span><span class="op" id="7264163">,</span>&nbsp;<span class="string" id="7264165">&#34;hello{{range&nbsp;.x}}{{else}}&#34;</span><span class="op" id="7264192">,</span>&nbsp;<span class="ident" id="7264194">hasError</span><span class="op" id="7264202">,</span>&nbsp;<span class="string" id="7264204">&#34;&#34;</span><span class="op" id="7264206">}</span><span class="op" id="7264207">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264210">{</span><span class="string" id="7264211">&#34;undefined&nbsp;function&#34;</span><span class="op" id="7264231">,</span>&nbsp;<span class="string" id="7264233">&#34;hello{{undefined}}&#34;</span><span class="op" id="7264253">,</span>&nbsp;<span class="ident" id="7264255">hasError</span><span class="op" id="7264263">,</span>&nbsp;<span class="string" id="7264265">&#34;&#34;</span><span class="op" id="7264267">}</span><span class="op" id="7264268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264271">{</span><span class="string" id="7264272">&#34;undefined&nbsp;variable&#34;</span><span class="op" id="7264292">,</span>&nbsp;<span class="string" id="7264294">&#34;{{$x}}&#34;</span><span class="op" id="7264302">,</span>&nbsp;<span class="ident" id="7264304">hasError</span><span class="op" id="7264312">,</span>&nbsp;<span class="string" id="7264314">&#34;&#34;</span><span class="op" id="7264316">}</span><span class="op" id="7264317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264320">{</span><span class="string" id="7264321">&#34;variable&nbsp;undefined&nbsp;after&nbsp;end&#34;</span><span class="op" id="7264351">,</span>&nbsp;<span class="string" id="7264353">&#34;{{with&nbsp;$x&nbsp;:=&nbsp;4}}{{end}}{{$x}}&#34;</span><span class="op" id="7264384">,</span>&nbsp;<span class="ident" id="7264386">hasError</span><span class="op" id="7264394">,</span>&nbsp;<span class="string" id="7264396">&#34;&#34;</span><span class="op" id="7264398">}</span><span class="op" id="7264399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264402">{</span><span class="string" id="7264403">&#34;variable&nbsp;undefined&nbsp;in&nbsp;template&#34;</span><span class="op" id="7264435">,</span>&nbsp;<span class="string" id="7264437">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7264454">,</span>&nbsp;<span class="ident" id="7264456">hasError</span><span class="op" id="7264464">,</span>&nbsp;<span class="string" id="7264466">&#34;&#34;</span><span class="op" id="7264468">}</span><span class="op" id="7264469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264472">{</span><span class="string" id="7264473">&#34;declare&nbsp;with&nbsp;field&#34;</span><span class="op" id="7264493">,</span>&nbsp;<span class="string" id="7264495">&#34;{{with&nbsp;$x.Y&nbsp;:=&nbsp;4}}{{end}}&#34;</span><span class="op" id="7264522">,</span>&nbsp;<span class="ident" id="7264524">hasError</span><span class="op" id="7264532">,</span>&nbsp;<span class="string" id="7264534">&#34;&#34;</span><span class="op" id="7264536">}</span><span class="op" id="7264537">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264540">{</span><span class="string" id="7264541">&#34;template&nbsp;with&nbsp;field&nbsp;ref&#34;</span><span class="op" id="7264566">,</span>&nbsp;<span class="string" id="7264568">&#34;{{template&nbsp;.X}}&#34;</span><span class="op" id="7264585">,</span>&nbsp;<span class="ident" id="7264587">hasError</span><span class="op" id="7264595">,</span>&nbsp;<span class="string" id="7264597">&#34;&#34;</span><span class="op" id="7264599">}</span><span class="op" id="7264600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264603">{</span><span class="string" id="7264604">&#34;template&nbsp;with&nbsp;var&#34;</span><span class="op" id="7264623">,</span>&nbsp;<span class="string" id="7264625">&#34;{{template&nbsp;$v}}&#34;</span><span class="op" id="7264642">,</span>&nbsp;<span class="ident" id="7264644">hasError</span><span class="op" id="7264652">,</span>&nbsp;<span class="string" id="7264654">&#34;&#34;</span><span class="op" id="7264656">}</span><span class="op" id="7264657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264660">{</span><span class="string" id="7264661">&#34;invalid&nbsp;punctuation&#34;</span><span class="op" id="7264682">,</span>&nbsp;<span class="string" id="7264684">&#34;{{printf&nbsp;3,&nbsp;4}}&#34;</span><span class="op" id="7264701">,</span>&nbsp;<span class="ident" id="7264703">hasError</span><span class="op" id="7264711">,</span>&nbsp;<span class="string" id="7264713">&#34;&#34;</span><span class="op" id="7264715">}</span><span class="op" id="7264716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264719">{</span><span class="string" id="7264720">&#34;multidecl&nbsp;outside&nbsp;range&#34;</span><span class="op" id="7264745">,</span>&nbsp;<span class="string" id="7264747">&#34;{{with&nbsp;$v,&nbsp;$u&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7264776">,</span>&nbsp;<span class="ident" id="7264778">hasError</span><span class="op" id="7264786">,</span>&nbsp;<span class="string" id="7264788">&#34;&#34;</span><span class="op" id="7264790">}</span><span class="op" id="7264791">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264794">{</span><span class="string" id="7264795">&#34;too&nbsp;many&nbsp;decls&nbsp;in&nbsp;range&#34;</span><span class="op" id="7264820">,</span>&nbsp;<span class="string" id="7264822">&#34;{{range&nbsp;$u,&nbsp;$v,&nbsp;$w&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7264856">,</span>&nbsp;<span class="ident" id="7264858">hasError</span><span class="op" id="7264866">,</span>&nbsp;<span class="string" id="7264868">&#34;&#34;</span><span class="op" id="7264870">}</span><span class="op" id="7264871">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264874">{</span><span class="string" id="7264875">&#34;dot&nbsp;applied&nbsp;to&nbsp;parentheses&#34;</span><span class="op" id="7264903">,</span>&nbsp;<span class="string" id="7264905">&#34;{{printf&nbsp;(printf&nbsp;.).}}&#34;</span><span class="op" id="7264929">,</span>&nbsp;<span class="ident" id="7264931">hasError</span><span class="op" id="7264939">,</span>&nbsp;<span class="string" id="7264941">&#34;&#34;</span><span class="op" id="7264943">}</span><span class="op" id="7264944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7264947">{</span><span class="string" id="7264948">&#34;adjacent&nbsp;args&#34;</span><span class="op" id="7264963">,</span>&nbsp;<span class="string" id="7264965">&#34;{{printf&nbsp;3`x`}}&#34;</span><span class="op" id="7264982">,</span>&nbsp;<span class="ident" id="7264984">hasError</span><span class="op" id="7264992">,</span>&nbsp;<span class="string" id="7264994">&#34;&#34;</span><span class="op" id="7264996">}</span><span class="op" id="7264997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265000">{</span><span class="string" id="7265001">&#34;adjacent&nbsp;args&nbsp;with&nbsp;.&#34;</span><span class="op" id="7265023">,</span>&nbsp;<span class="string" id="7265025">&#34;{{printf&nbsp;`x`.}}&#34;</span><span class="op" id="7265042">,</span>&nbsp;<span class="ident" id="7265044">hasError</span><span class="op" id="7265052">,</span>&nbsp;<span class="string" id="7265054">&#34;&#34;</span><span class="op" id="7265056">}</span><span class="op" id="7265057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265060">{</span><span class="string" id="7265061">&#34;extra&nbsp;end&nbsp;after&nbsp;if&#34;</span><span class="op" id="7265081">,</span>&nbsp;<span class="string" id="7265083">&#34;{{if&nbsp;.X}}a{{else&nbsp;if&nbsp;.Y}}b{{end}}{{end}}&#34;</span><span class="op" id="7265124">,</span>&nbsp;<span class="ident" id="7265126">hasError</span><span class="op" id="7265134">,</span>&nbsp;<span class="string" id="7265136">&#34;&#34;</span><span class="op" id="7265138">}</span><span class="op" id="7265139">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7265142">//&nbsp;Equals&nbsp;(and&nbsp;other&nbsp;chars)&nbsp;do&nbsp;not&nbsp;assignments&nbsp;make&nbsp;(yet).</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265202">{</span><span class="string" id="7265203">&#34;bug0a&#34;</span><span class="op" id="7265210">,</span>&nbsp;<span class="string" id="7265212">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7265231">,</span>&nbsp;<span class="ident" id="7265233">noError</span><span class="op" id="7265240">,</span>&nbsp;<span class="string" id="7265242">&#34;{{$x&nbsp;:=&nbsp;0}}{{$x}}&#34;</span><span class="op" id="7265261">}</span><span class="op" id="7265262">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265265">{</span><span class="string" id="7265266">&#34;bug0b&#34;</span><span class="op" id="7265273">,</span>&nbsp;<span class="string" id="7265275">&#34;{{$x&nbsp;=&nbsp;1}}{{$x}}&#34;</span><span class="op" id="7265293">,</span>&nbsp;<span class="ident" id="7265295">hasError</span><span class="op" id="7265303">,</span>&nbsp;<span class="string" id="7265305">&#34;&#34;</span><span class="op" id="7265307">}</span><span class="op" id="7265308">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265311">{</span><span class="string" id="7265312">&#34;bug0c&#34;</span><span class="op" id="7265319">,</span>&nbsp;<span class="string" id="7265321">&#34;{{$x&nbsp;!&nbsp;2}}{{$x}}&#34;</span><span class="op" id="7265339">,</span>&nbsp;<span class="ident" id="7265341">hasError</span><span class="op" id="7265349">,</span>&nbsp;<span class="string" id="7265351">&#34;&#34;</span><span class="op" id="7265353">}</span><span class="op" id="7265354">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265357">{</span><span class="string" id="7265358">&#34;bug0d&#34;</span><span class="op" id="7265365">,</span>&nbsp;<span class="string" id="7265367">&#34;{{$x&nbsp;%&nbsp;3}}{{$x}}&#34;</span><span class="op" id="7265385">,</span>&nbsp;<span class="ident" id="7265387">hasError</span><span class="op" id="7265395">,</span>&nbsp;<span class="string" id="7265397">&#34;&#34;</span><span class="op" id="7265399">}</span><span class="op" id="7265400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7265403">//&nbsp;Check&nbsp;the&nbsp;parse&nbsp;fails&nbsp;for&nbsp;:=&nbsp;rather&nbsp;than&nbsp;comma.</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265455">{</span><span class="string" id="7265456">&#34;bug0e&#34;</span><span class="op" id="7265463">,</span>&nbsp;<span class="string" id="7265465">&#34;{{range&nbsp;$x&nbsp;:=&nbsp;$y&nbsp;:=&nbsp;3}}{{end}}&#34;</span><span class="op" id="7265497">,</span>&nbsp;<span class="ident" id="7265499">hasError</span><span class="op" id="7265507">,</span>&nbsp;<span class="string" id="7265509">&#34;&#34;</span><span class="op" id="7265511">}</span><span class="op" id="7265512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7265515">//&nbsp;Another&nbsp;bug:&nbsp;variable&nbsp;read&nbsp;must&nbsp;ignore&nbsp;following&nbsp;punctuation.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265581">{</span><span class="string" id="7265582">&#34;bug1a&#34;</span><span class="op" id="7265589">,</span>&nbsp;<span class="string" id="7265591">&#34;{{$x:=.}}{{$x!2}}&#34;</span><span class="op" id="7265610">,</span>&nbsp;<span class="ident" id="7265612">hasError</span><span class="op" id="7265620">,</span>&nbsp;<span class="string" id="7265622">&#34;&#34;</span><span class="op" id="7265624">}</span><span class="op" id="7265625">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7265647">//&nbsp;!&nbsp;is&nbsp;just&nbsp;illegal&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265675">{</span><span class="string" id="7265676">&#34;bug1b&#34;</span><span class="op" id="7265683">,</span>&nbsp;<span class="string" id="7265685">&#34;{{$x:=.}}{{$x+2}}&#34;</span><span class="op" id="7265704">,</span>&nbsp;<span class="ident" id="7265706">hasError</span><span class="op" id="7265714">,</span>&nbsp;<span class="string" id="7265716">&#34;&#34;</span><span class="op" id="7265718">}</span><span class="op" id="7265719">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7265741">//&nbsp;$x+2&nbsp;should&nbsp;not&nbsp;parse&nbsp;as&nbsp;($x)&nbsp;(+2).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7265781">{</span><span class="string" id="7265782">&#34;bug1c&#34;</span><span class="op" id="7265789">,</span>&nbsp;<span class="string" id="7265791">&#34;{{$x:=.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7265811">,</span>&nbsp;<span class="ident" id="7265813">noError</span><span class="op" id="7265820">,</span>&nbsp;<span class="string" id="7265822">&#34;{{$x&nbsp;:=&nbsp;.}}{{$x&nbsp;+2}}&#34;</span><span class="op" id="7265844">}</span><span class="op" id="7265845">,</span>&nbsp;<span class="comment" id="7265847">//&nbsp;It&#39;s&nbsp;OK&nbsp;with&nbsp;a&nbsp;space.</span><br>
<span class="lineno">260</span><span class="op" id="7265872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7265875">var</span>&nbsp;<span class="ident" id="7265879">builtins</span>&nbsp;<span class="op" id="7265888">=</span>&nbsp;<span class="keyword" id="7265890">map</span><span class="op" id="7265893">[</span><span class="builtintype" id="7265894">string</span><span class="op" id="7265900">]</span><span class="keyword" id="7265901">interface</span><span class="op" id="7265910">{</span><span class="op" id="7265911">}</span><span class="op" id="7265912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7265915">&#34;printf&#34;</span><span class="op" id="7265923">:</span>&nbsp;<span class="ident" id="7265925">fmt</span><span class="op" id="7265928">.</span><span class="ident" id="7265929">Sprintf</span><span class="op" id="7265936">,</span><br>
<span class="lineno"></span><span class="op" id="7265938">}</span><br>
<span class="lineno">265</span><br>
<span class="lineno"></span><span class="keyword" id="7265941">func</span>&nbsp;<span class="ident" id="7265946">testParse</span><span class="op" id="7265955">(</span><span class="ident" id="7265956">doCopy</span>&nbsp;<span class="builtintype" id="7265963">bool</span><span class="op" id="7265967">,</span>&nbsp;<span class="ident" id="7265969">t</span>&nbsp;<span class="op" id="7265971">*</span><span class="ident" id="7265972">testing</span><span class="op" id="7265979">.</span><span class="ident" id="7265980">T</span><span class="op" id="7265981">)</span>&nbsp;<span class="op" id="7265983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7265986">textFormat</span>&nbsp;<span class="op" id="7265997">=</span>&nbsp;<span class="string" id="7265999">&#34;%q&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266005">defer</span>&nbsp;<span class="keyword" id="7266011">func</span><span class="op" id="7266015">(</span><span class="op" id="7266016">)</span>&nbsp;<span class="op" id="7266018">{</span>&nbsp;<span class="ident" id="7266020">textFormat</span>&nbsp;<span class="op" id="7266031">=</span>&nbsp;<span class="string" id="7266033">&#34;%s&#34;</span>&nbsp;<span class="op" id="7266038">}</span><span class="op" id="7266039">(</span><span class="op" id="7266040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266043">for</span>&nbsp;<span class="ident" id="7266047">_</span><span class="op" id="7266048">,</span>&nbsp;<span class="ident" id="7266050">test</span>&nbsp;<span class="op" id="7266055">:=</span>&nbsp;<span class="keyword" id="7266058">range</span>&nbsp;<span class="ident" id="7266064">parseTests</span>&nbsp;<span class="op" id="7266075">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266079">tmpl</span><span class="op" id="7266083">,</span>&nbsp;<span class="ident" id="7266085">err</span>&nbsp;<span class="op" id="7266089">:=</span>&nbsp;<span class="ident" id="7266092">New</span><span class="op" id="7266095">(</span><span class="ident" id="7266096">test</span><span class="op" id="7266100">.</span><span class="ident" id="7266101">name</span><span class="op" id="7266105">)</span><span class="op" id="7266106">.</span><span class="ident" id="7266107">Parse</span><span class="op" id="7266112">(</span><span class="ident" id="7266113">test</span><span class="op" id="7266117">.</span><span class="ident" id="7266118">input</span><span class="op" id="7266123">,</span>&nbsp;<span class="string" id="7266125">&#34;&#34;</span><span class="op" id="7266127">,</span>&nbsp;<span class="string" id="7266129">&#34;&#34;</span><span class="op" id="7266131">,</span>&nbsp;<span class="builtinfunc" id="7266133">make</span><span class="op" id="7266137">(</span><span class="keyword" id="7266138">map</span><span class="op" id="7266141">[</span><span class="builtintype" id="7266142">string</span><span class="op" id="7266148">]</span><span class="op" id="7266149">*</span><span class="ident" id="7266150">Tree</span><span class="op" id="7266154">)</span><span class="op" id="7266155">,</span>&nbsp;<span class="ident" id="7266157">builtins</span><span class="op" id="7266165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266169">switch</span>&nbsp;<span class="op" id="7266176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266180">case</span>&nbsp;<span class="ident" id="7266185">err</span>&nbsp;<span class="op" id="7266189">==</span>&nbsp;<span class="builtintype" id="7266192">nil</span>&nbsp;<span class="op" id="7266196">&amp;&amp;</span>&nbsp;<span class="op" id="7266199">!</span><span class="ident" id="7266200">test</span><span class="op" id="7266204">.</span><span class="ident" id="7266205">ok</span><span class="op" id="7266207">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266212">t</span><span class="op" id="7266213">.</span><span class="ident" id="7266214">Errorf</span><span class="op" id="7266220">(</span><span class="string" id="7266221">&#34;%q:&nbsp;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="7266251">,</span>&nbsp;<span class="ident" id="7266253">test</span><span class="op" id="7266257">.</span><span class="ident" id="7266258">name</span><span class="op" id="7266262">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266267">continue</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266278">case</span>&nbsp;<span class="ident" id="7266283">err</span>&nbsp;<span class="op" id="7266287">!=</span>&nbsp;<span class="builtintype" id="7266290">nil</span>&nbsp;<span class="op" id="7266294">&amp;&amp;</span>&nbsp;<span class="ident" id="7266297">test</span><span class="op" id="7266301">.</span><span class="ident" id="7266302">ok</span><span class="op" id="7266304">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266309">t</span><span class="op" id="7266310">.</span><span class="ident" id="7266311">Errorf</span><span class="op" id="7266317">(</span><span class="string" id="7266318">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7266344">,</span>&nbsp;<span class="ident" id="7266346">test</span><span class="op" id="7266350">.</span><span class="ident" id="7266351">name</span><span class="op" id="7266355">,</span>&nbsp;<span class="ident" id="7266357">err</span><span class="op" id="7266360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266365">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266376">case</span>&nbsp;<span class="ident" id="7266381">err</span>&nbsp;<span class="op" id="7266385">!=</span>&nbsp;<span class="builtintype" id="7266388">nil</span>&nbsp;<span class="op" id="7266392">&amp;&amp;</span>&nbsp;<span class="op" id="7266395">!</span><span class="ident" id="7266396">test</span><span class="op" id="7266400">.</span><span class="ident" id="7266401">ok</span><span class="op" id="7266403">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7266408">//&nbsp;expected&nbsp;error,&nbsp;got&nbsp;one</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266438">if</span>&nbsp;<span class="op" id="7266441">*</span><span class="ident" id="7266442">debug</span>&nbsp;<span class="op" id="7266448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266454">fmt</span><span class="op" id="7266457">.</span><span class="ident" id="7266458">Printf</span><span class="op" id="7266464">(</span><span class="string" id="7266465">&#34;%s:&nbsp;%s\n\t%s\n&#34;</span><span class="op" id="7266481">,</span>&nbsp;<span class="ident" id="7266483">test</span><span class="op" id="7266487">.</span><span class="ident" id="7266488">name</span><span class="op" id="7266492">,</span>&nbsp;<span class="ident" id="7266494">test</span><span class="op" id="7266498">.</span><span class="ident" id="7266499">input</span><span class="op" id="7266504">,</span>&nbsp;<span class="ident" id="7266506">err</span><span class="op" id="7266509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7266514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266519">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7266530">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266534">var</span>&nbsp;<span class="ident" id="7266538">result</span>&nbsp;<span class="builtintype" id="7266545">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266554">if</span>&nbsp;<span class="ident" id="7266557">doCopy</span>&nbsp;<span class="op" id="7266564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266569">result</span>&nbsp;<span class="op" id="7266576">=</span>&nbsp;<span class="ident" id="7266578">tmpl</span><span class="op" id="7266582">.</span><span class="ident" id="7266583">Root</span><span class="op" id="7266587">.</span><span class="ident" id="7266588">Copy</span><span class="op" id="7266592">(</span><span class="op" id="7266593">)</span><span class="op" id="7266594">.</span><span class="ident" id="7266595">String</span><span class="op" id="7266601">(</span><span class="op" id="7266602">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7266606">}</span>&nbsp;<span class="keyword" id="7266608">else</span>&nbsp;<span class="op" id="7266613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266618">result</span>&nbsp;<span class="op" id="7266625">=</span>&nbsp;<span class="ident" id="7266627">tmpl</span><span class="op" id="7266631">.</span><span class="ident" id="7266632">Root</span><span class="op" id="7266636">.</span><span class="ident" id="7266637">String</span><span class="op" id="7266643">(</span><span class="op" id="7266644">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7266648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7266652">if</span>&nbsp;<span class="ident" id="7266655">result</span>&nbsp;<span class="op" id="7266662">!=</span>&nbsp;<span class="ident" id="7266665">test</span><span class="op" id="7266669">.</span><span class="ident" id="7266670">result</span>&nbsp;<span class="op" id="7266677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266682">t</span><span class="op" id="7266683">.</span><span class="ident" id="7266684">Errorf</span><span class="op" id="7266690">(</span><span class="string" id="7266691">&#34;%s=(%q):&nbsp;got\n\t%v\nexpected\n\t%v&#34;</span><span class="op" id="7266727">,</span>&nbsp;<span class="ident" id="7266729">test</span><span class="op" id="7266733">.</span><span class="ident" id="7266734">name</span><span class="op" id="7266738">,</span>&nbsp;<span class="ident" id="7266740">test</span><span class="op" id="7266744">.</span><span class="ident" id="7266745">input</span><span class="op" id="7266750">,</span>&nbsp;<span class="ident" id="7266752">result</span><span class="op" id="7266758">,</span>&nbsp;<span class="ident" id="7266760">test</span><span class="op" id="7266764">.</span><span class="ident" id="7266765">result</span><span class="op" id="7266771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7266775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7266778">}</span><br>
<span class="lineno">295</span><span class="op" id="7266780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7266783">func</span>&nbsp;<span class="ident" id="7266788">TestParse</span><span class="op" id="7266797">(</span><span class="ident" id="7266798">t</span>&nbsp;<span class="op" id="7266800">*</span><span class="ident" id="7266801">testing</span><span class="op" id="7266808">.</span><span class="ident" id="7266809">T</span><span class="op" id="7266810">)</span>&nbsp;<span class="op" id="7266812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266815">testParse</span><span class="op" id="7266824">(</span><span class="builtintype" id="7266825">false</span><span class="op" id="7266830">,</span>&nbsp;<span class="ident" id="7266832">t</span><span class="op" id="7266833">)</span><br>
<span class="lineno"></span><span class="op" id="7266835">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span><span class="comment" id="7266838">//&nbsp;Same&nbsp;as&nbsp;TestParse,&nbsp;but&nbsp;we&nbsp;copy&nbsp;the&nbsp;node&nbsp;first</span><br>
<span class="lineno"></span><span class="keyword" id="7266887">func</span>&nbsp;<span class="ident" id="7266892">TestParseCopy</span><span class="op" id="7266905">(</span><span class="ident" id="7266906">t</span>&nbsp;<span class="op" id="7266908">*</span><span class="ident" id="7266909">testing</span><span class="op" id="7266916">.</span><span class="ident" id="7266917">T</span><span class="op" id="7266918">)</span>&nbsp;<span class="op" id="7266920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266923">testParse</span><span class="op" id="7266932">(</span><span class="builtintype" id="7266933">true</span><span class="op" id="7266937">,</span>&nbsp;<span class="ident" id="7266939">t</span><span class="op" id="7266940">)</span><br>
<span class="lineno"></span><span class="op" id="7266942">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="7266945">type</span>&nbsp;<span class="ident" id="7266950">isEmptyTest</span>&nbsp;<span class="keyword" id="7266962">struct</span>&nbsp;<span class="op" id="7266969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266972">name</span>&nbsp;&nbsp;<span class="builtintype" id="7266978">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7266986">input</span>&nbsp;<span class="builtintype" id="7266992">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7267000">empty</span>&nbsp;<span class="builtintype" id="7267006">bool</span><br>
<span class="lineno">310</span><span class="op" id="7267011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7267014">var</span>&nbsp;<span class="ident" id="7267018">isEmptyTests</span>&nbsp;<span class="op" id="7267031">=</span>&nbsp;<span class="op" id="7267033">[</span><span class="op" id="7267034">]</span><span class="ident" id="7267035">isEmptyTest</span><span class="op" id="7267046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267049">{</span><span class="string" id="7267050">&#34;empty&#34;</span><span class="op" id="7267057">,</span>&nbsp;<span class="string" id="7267059">``</span><span class="op" id="7267061">,</span>&nbsp;<span class="builtintype" id="7267063">true</span><span class="op" id="7267067">}</span><span class="op" id="7267068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267071">{</span><span class="string" id="7267072">&#34;nonempty&#34;</span><span class="op" id="7267082">,</span>&nbsp;<span class="string" id="7267084">`hello`</span><span class="op" id="7267091">,</span>&nbsp;<span class="builtintype" id="7267093">false</span><span class="op" id="7267098">}</span><span class="op" id="7267099">,</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267102">{</span><span class="string" id="7267103">&#34;spaces&nbsp;only&#34;</span><span class="op" id="7267116">,</span>&nbsp;<span class="string" id="7267118">&#34;&nbsp;\t\n&nbsp;\t\n&#34;</span><span class="op" id="7267130">,</span>&nbsp;<span class="builtintype" id="7267132">true</span><span class="op" id="7267136">}</span><span class="op" id="7267137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267140">{</span><span class="string" id="7267141">&#34;definition&#34;</span><span class="op" id="7267153">,</span>&nbsp;<span class="string" id="7267155">`{{define&nbsp;&#34;x&#34;}}something{{end}}`</span><span class="op" id="7267187">,</span>&nbsp;<span class="builtintype" id="7267189">true</span><span class="op" id="7267193">}</span><span class="op" id="7267194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267197">{</span><span class="string" id="7267198">&#34;definitions&nbsp;and&nbsp;space&#34;</span><span class="op" id="7267221">,</span>&nbsp;<span class="string" id="7267223">&#34;{{define&nbsp;`x`}}something{{end}}\n\n{{define&nbsp;`y`}}something{{end}}\n\n&#34;</span><span class="op" id="7267293">,</span>&nbsp;<span class="builtintype" id="7267295">true</span><span class="op" id="7267299">}</span><span class="op" id="7267300">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267303">{</span><span class="string" id="7267304">&#34;definitions&nbsp;and&nbsp;text&#34;</span><span class="op" id="7267326">,</span>&nbsp;<span class="string" id="7267328">&#34;{{define&nbsp;`x`}}something{{end}}\nx\n{{define&nbsp;`y`}}something{{end}}\ny\n&#34;</span><span class="op" id="7267400">,</span>&nbsp;<span class="builtintype" id="7267402">false</span><span class="op" id="7267407">}</span><span class="op" id="7267408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267411">{</span><span class="string" id="7267412">&#34;definition&nbsp;and&nbsp;action&#34;</span><span class="op" id="7267435">,</span>&nbsp;<span class="string" id="7267437">&#34;{{define&nbsp;`x`}}something{{end}}{{if&nbsp;3}}foo{{end}}&#34;</span><span class="op" id="7267487">,</span>&nbsp;<span class="builtintype" id="7267489">false</span><span class="op" id="7267494">}</span><span class="op" id="7267495">,</span><br>
<span class="lineno">320</span><span class="op" id="7267497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7267500">func</span>&nbsp;<span class="ident" id="7267505">TestIsEmpty</span><span class="op" id="7267516">(</span><span class="ident" id="7267517">t</span>&nbsp;<span class="op" id="7267519">*</span><span class="ident" id="7267520">testing</span><span class="op" id="7267527">.</span><span class="ident" id="7267528">T</span><span class="op" id="7267529">)</span>&nbsp;<span class="op" id="7267531">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7267534">if</span>&nbsp;<span class="op" id="7267537">!</span><span class="ident" id="7267538">IsEmptyTree</span><span class="op" id="7267549">(</span><span class="builtintype" id="7267550">nil</span><span class="op" id="7267553">)</span>&nbsp;<span class="op" id="7267555">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7267559">t</span><span class="op" id="7267560">.</span><span class="ident" id="7267561">Errorf</span><span class="op" id="7267567">(</span><span class="string" id="7267568">&#34;nil&nbsp;tree&nbsp;is&nbsp;not&nbsp;empty&#34;</span><span class="op" id="7267591">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267594">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7267597">for</span>&nbsp;<span class="ident" id="7267601">_</span><span class="op" id="7267602">,</span>&nbsp;<span class="ident" id="7267604">test</span>&nbsp;<span class="op" id="7267609">:=</span>&nbsp;<span class="keyword" id="7267612">range</span>&nbsp;<span class="ident" id="7267618">isEmptyTests</span>&nbsp;<span class="op" id="7267631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7267635">tree</span><span class="op" id="7267639">,</span>&nbsp;<span class="ident" id="7267641">err</span>&nbsp;<span class="op" id="7267645">:=</span>&nbsp;<span class="ident" id="7267648">New</span><span class="op" id="7267651">(</span><span class="string" id="7267652">&#34;root&#34;</span><span class="op" id="7267658">)</span><span class="op" id="7267659">.</span><span class="ident" id="7267660">Parse</span><span class="op" id="7267665">(</span><span class="ident" id="7267666">test</span><span class="op" id="7267670">.</span><span class="ident" id="7267671">input</span><span class="op" id="7267676">,</span>&nbsp;<span class="string" id="7267678">&#34;&#34;</span><span class="op" id="7267680">,</span>&nbsp;<span class="string" id="7267682">&#34;&#34;</span><span class="op" id="7267684">,</span>&nbsp;<span class="builtinfunc" id="7267686">make</span><span class="op" id="7267690">(</span><span class="keyword" id="7267691">map</span><span class="op" id="7267694">[</span><span class="builtintype" id="7267695">string</span><span class="op" id="7267701">]</span><span class="op" id="7267702">*</span><span class="ident" id="7267703">Tree</span><span class="op" id="7267707">)</span><span class="op" id="7267708">,</span>&nbsp;<span class="builtintype" id="7267710">nil</span><span class="op" id="7267713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7267717">if</span>&nbsp;<span class="ident" id="7267720">err</span>&nbsp;<span class="op" id="7267724">!=</span>&nbsp;<span class="builtintype" id="7267727">nil</span>&nbsp;<span class="op" id="7267731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7267736">t</span><span class="op" id="7267737">.</span><span class="ident" id="7267738">Errorf</span><span class="op" id="7267744">(</span><span class="string" id="7267745">&#34;%q:&nbsp;unexpected&nbsp;error:&nbsp;%v&#34;</span><span class="op" id="7267771">,</span>&nbsp;<span class="ident" id="7267773">test</span><span class="op" id="7267777">.</span><span class="ident" id="7267778">name</span><span class="op" id="7267782">,</span>&nbsp;<span class="ident" id="7267784">err</span><span class="op" id="7267787">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7267792">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7267807">if</span>&nbsp;<span class="ident" id="7267810">empty</span>&nbsp;<span class="op" id="7267816">:=</span>&nbsp;<span class="ident" id="7267819">IsEmptyTree</span><span class="op" id="7267830">(</span><span class="ident" id="7267831">tree</span><span class="op" id="7267835">.</span><span class="ident" id="7267836">Root</span><span class="op" id="7267840">)</span><span class="op" id="7267841">;</span>&nbsp;<span class="ident" id="7267843">empty</span>&nbsp;<span class="op" id="7267849">!=</span>&nbsp;<span class="ident" id="7267852">test</span><span class="op" id="7267856">.</span><span class="ident" id="7267857">empty</span>&nbsp;<span class="op" id="7267863">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7267868">t</span><span class="op" id="7267869">.</span><span class="ident" id="7267870">Errorf</span><span class="op" id="7267876">(</span><span class="string" id="7267877">&#34;%q:&nbsp;expected&nbsp;%t&nbsp;got&nbsp;%t&#34;</span><span class="op" id="7267901">,</span>&nbsp;<span class="ident" id="7267903">test</span><span class="op" id="7267907">.</span><span class="ident" id="7267908">name</span><span class="op" id="7267912">,</span>&nbsp;<span class="ident" id="7267914">test</span><span class="op" id="7267918">.</span><span class="ident" id="7267919">empty</span><span class="op" id="7267924">,</span>&nbsp;<span class="ident" id="7267926">empty</span><span class="op" id="7267931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267935">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7267938">}</span><br>
<span class="lineno"></span><span class="op" id="7267940">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7267943">func</span>&nbsp;<span class="ident" id="7267948">TestErrorContextWithTreeCopy</span><span class="op" id="7267976">(</span><span class="ident" id="7267977">t</span>&nbsp;<span class="op" id="7267979">*</span><span class="ident" id="7267980">testing</span><span class="op" id="7267987">.</span><span class="ident" id="7267988">T</span><span class="op" id="7267989">)</span>&nbsp;<span class="op" id="7267991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7267994">tree</span><span class="op" id="7267998">,</span>&nbsp;<span class="ident" id="7268000">err</span>&nbsp;<span class="op" id="7268004">:=</span>&nbsp;<span class="ident" id="7268007">New</span><span class="op" id="7268010">(</span><span class="string" id="7268011">&#34;root&#34;</span><span class="op" id="7268017">)</span><span class="op" id="7268018">.</span><span class="ident" id="7268019">Parse</span><span class="op" id="7268024">(</span><span class="string" id="7268025">&#34;{{if&nbsp;true}}{{end}}&#34;</span><span class="op" id="7268045">,</span>&nbsp;<span class="string" id="7268047">&#34;&#34;</span><span class="op" id="7268049">,</span>&nbsp;<span class="string" id="7268051">&#34;&#34;</span><span class="op" id="7268053">,</span>&nbsp;<span class="builtinfunc" id="7268055">make</span><span class="op" id="7268059">(</span><span class="keyword" id="7268060">map</span><span class="op" id="7268063">[</span><span class="builtintype" id="7268064">string</span><span class="op" id="7268070">]</span><span class="op" id="7268071">*</span><span class="ident" id="7268072">Tree</span><span class="op" id="7268076">)</span><span class="op" id="7268077">,</span>&nbsp;<span class="builtintype" id="7268079">nil</span><span class="op" id="7268082">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7268085">if</span>&nbsp;<span class="ident" id="7268088">err</span>&nbsp;<span class="op" id="7268092">!=</span>&nbsp;<span class="builtintype" id="7268095">nil</span>&nbsp;<span class="op" id="7268099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268103">t</span><span class="op" id="7268104">.</span><span class="ident" id="7268105">Fatalf</span><span class="op" id="7268111">(</span><span class="string" id="7268112">&#34;unexpected&nbsp;tree&nbsp;parse&nbsp;failure:&nbsp;%v&#34;</span><span class="op" id="7268147">,</span>&nbsp;<span class="ident" id="7268149">err</span><span class="op" id="7268152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7268155">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268158">treeCopy</span>&nbsp;<span class="op" id="7268167">:=</span>&nbsp;<span class="ident" id="7268170">tree</span><span class="op" id="7268174">.</span><span class="ident" id="7268175">Copy</span><span class="op" id="7268179">(</span><span class="op" id="7268180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268183">wantLocation</span><span class="op" id="7268195">,</span>&nbsp;<span class="ident" id="7268197">wantContext</span>&nbsp;<span class="op" id="7268209">:=</span>&nbsp;<span class="ident" id="7268212">tree</span><span class="op" id="7268216">.</span><span class="ident" id="7268217">ErrorContext</span><span class="op" id="7268229">(</span><span class="ident" id="7268230">tree</span><span class="op" id="7268234">.</span><span class="ident" id="7268235">Root</span><span class="op" id="7268239">.</span><span class="ident" id="7268240">Nodes</span><span class="op" id="7268245">[</span><span class="num" id="7268246">0</span><span class="op" id="7268247">]</span><span class="op" id="7268248">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268251">gotLocation</span><span class="op" id="7268262">,</span>&nbsp;<span class="ident" id="7268264">gotContext</span>&nbsp;<span class="op" id="7268275">:=</span>&nbsp;<span class="ident" id="7268278">treeCopy</span><span class="op" id="7268286">.</span><span class="ident" id="7268287">ErrorContext</span><span class="op" id="7268299">(</span><span class="ident" id="7268300">treeCopy</span><span class="op" id="7268308">.</span><span class="ident" id="7268309">Root</span><span class="op" id="7268313">.</span><span class="ident" id="7268314">Nodes</span><span class="op" id="7268319">[</span><span class="num" id="7268320">0</span><span class="op" id="7268321">]</span><span class="op" id="7268322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7268325">if</span>&nbsp;<span class="ident" id="7268328">wantLocation</span>&nbsp;<span class="op" id="7268341">!=</span>&nbsp;<span class="ident" id="7268344">gotLocation</span>&nbsp;<span class="op" id="7268356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268360">t</span><span class="op" id="7268361">.</span><span class="ident" id="7268362">Errorf</span><span class="op" id="7268368">(</span><span class="string" id="7268369">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7268406">,</span>&nbsp;<span class="ident" id="7268408">wantLocation</span><span class="op" id="7268420">,</span>&nbsp;<span class="ident" id="7268422">gotLocation</span><span class="op" id="7268433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7268436">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7268439">if</span>&nbsp;<span class="ident" id="7268442">wantContext</span>&nbsp;<span class="op" id="7268454">!=</span>&nbsp;<span class="ident" id="7268457">gotContext</span>&nbsp;<span class="op" id="7268468">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268472">t</span><span class="op" id="7268473">.</span><span class="ident" id="7268474">Errorf</span><span class="op" id="7268480">(</span><span class="string" id="7268481">&#34;wrong&nbsp;error&nbsp;location&nbsp;want&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7268518">,</span>&nbsp;<span class="ident" id="7268520">wantContext</span><span class="op" id="7268531">,</span>&nbsp;<span class="ident" id="7268533">gotContext</span><span class="op" id="7268543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7268546">}</span><br>
<span class="lineno"></span><span class="op" id="7268548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7268551">//&nbsp;All&nbsp;failures,&nbsp;and&nbsp;the&nbsp;result&nbsp;is&nbsp;a&nbsp;string&nbsp;that&nbsp;must&nbsp;appear&nbsp;in&nbsp;the&nbsp;error&nbsp;message.</span><br>
<span class="lineno">355</span><span class="keyword" id="7268634">var</span>&nbsp;<span class="ident" id="7268638">errorTests</span>&nbsp;<span class="op" id="7268649">=</span>&nbsp;<span class="op" id="7268651">[</span><span class="op" id="7268652">]</span><span class="ident" id="7268653">parseTest</span><span class="op" id="7268662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7268665">//&nbsp;Check&nbsp;line&nbsp;numbers&nbsp;are&nbsp;accurate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7268702">{</span><span class="string" id="7268703">&#34;unclosed1&#34;</span><span class="op" id="7268714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7268718">&#34;line1\n{{&#34;</span><span class="op" id="7268729">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268733">hasError</span><span class="op" id="7268741">,</span>&nbsp;<span class="string" id="7268743">`unclosed1:2:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7268795">}</span><span class="op" id="7268796">,</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7268799">{</span><span class="string" id="7268800">&#34;unclosed2&#34;</span><span class="op" id="7268811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7268815">&#34;line1\n{{define&nbsp;`x`}}line2\n{{&#34;</span><span class="op" id="7268847">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268851">hasError</span><span class="op" id="7268859">,</span>&nbsp;<span class="string" id="7268861">`unclosed2:3:&nbsp;unexpected&nbsp;unclosed&nbsp;action&nbsp;in&nbsp;command`</span><span class="op" id="7268913">}</span><span class="op" id="7268914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7268917">//&nbsp;Specific&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7268938">{</span><span class="string" id="7268939">&#34;function&#34;</span><span class="op" id="7268949">,</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7268953">&#34;{{foo}}&#34;</span><span class="op" id="7268962">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7268966">hasError</span><span class="op" id="7268974">,</span>&nbsp;<span class="string" id="7268976">`function&nbsp;&#34;foo&#34;&nbsp;not&nbsp;defined`</span><span class="op" id="7269004">}</span><span class="op" id="7269005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269008">{</span><span class="string" id="7269009">&#34;comment&#34;</span><span class="op" id="7269018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269022">&#34;{{/*}}&#34;</span><span class="op" id="7269030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269034">hasError</span><span class="op" id="7269042">,</span>&nbsp;<span class="string" id="7269044">`unclosed&nbsp;comment`</span><span class="op" id="7269062">}</span><span class="op" id="7269063">,</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269066">{</span><span class="string" id="7269067">&#34;lparen&#34;</span><span class="op" id="7269075">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269079">&#34;{{.X&nbsp;(1&nbsp;2&nbsp;3}}&#34;</span><span class="op" id="7269094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269098">hasError</span><span class="op" id="7269106">,</span>&nbsp;<span class="string" id="7269108">`unclosed&nbsp;left&nbsp;paren`</span><span class="op" id="7269129">}</span><span class="op" id="7269130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269133">{</span><span class="string" id="7269134">&#34;rparen&#34;</span><span class="op" id="7269142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269146">&#34;{{.X&nbsp;1&nbsp;2&nbsp;3)}}&#34;</span><span class="op" id="7269161">,</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269165">hasError</span><span class="op" id="7269173">,</span>&nbsp;<span class="string" id="7269175">`unexpected&nbsp;&#34;)&#34;`</span><span class="op" id="7269191">}</span><span class="op" id="7269192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269195">{</span><span class="string" id="7269196">&#34;space&#34;</span><span class="op" id="7269203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269207">&#34;{{`x`3}}&#34;</span><span class="op" id="7269217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269221">hasError</span><span class="op" id="7269229">,</span>&nbsp;<span class="string" id="7269231">`missing&nbsp;space?`</span><span class="op" id="7269247">}</span><span class="op" id="7269248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269251">{</span><span class="string" id="7269252">&#34;idchar&#34;</span><span class="op" id="7269260">,</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269264">&#34;{{a#}}&#34;</span><span class="op" id="7269272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269276">hasError</span><span class="op" id="7269284">,</span>&nbsp;<span class="string" id="7269286">`&#39;#&#39;`</span><span class="op" id="7269291">}</span><span class="op" id="7269292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269295">{</span><span class="string" id="7269296">&#34;charconst&#34;</span><span class="op" id="7269307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269311">&#34;{{&#39;a}}&#34;</span><span class="op" id="7269319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269323">hasError</span><span class="op" id="7269331">,</span>&nbsp;<span class="string" id="7269333">`unterminated&nbsp;character&nbsp;constant`</span><span class="op" id="7269366">}</span><span class="op" id="7269367">,</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269370">{</span><span class="string" id="7269371">&#34;stringconst&#34;</span><span class="op" id="7269384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269388">`{{&#34;a}}`</span><span class="op" id="7269396">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269400">hasError</span><span class="op" id="7269408">,</span>&nbsp;<span class="string" id="7269410">`unterminated&nbsp;quoted&nbsp;string`</span><span class="op" id="7269438">}</span><span class="op" id="7269439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269442">{</span><span class="string" id="7269443">&#34;rawstringconst&#34;</span><span class="op" id="7269459">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269463">&#34;{{`a}}&#34;</span><span class="op" id="7269471">,</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269475">hasError</span><span class="op" id="7269483">,</span>&nbsp;<span class="string" id="7269485">`unterminated&nbsp;raw&nbsp;quoted&nbsp;string`</span><span class="op" id="7269517">}</span><span class="op" id="7269518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269521">{</span><span class="string" id="7269522">&#34;number&#34;</span><span class="op" id="7269530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269534">&#34;{{0xi}}&#34;</span><span class="op" id="7269543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269547">hasError</span><span class="op" id="7269555">,</span>&nbsp;<span class="string" id="7269557">`number&nbsp;syntax`</span><span class="op" id="7269572">}</span><span class="op" id="7269573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269576">{</span><span class="string" id="7269577">&#34;multidefine&#34;</span><span class="op" id="7269590">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269594">&#34;{{define&nbsp;`a`}}a{{end}}{{define&nbsp;`a`}}b{{end}}&#34;</span><span class="op" id="7269640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269644">hasError</span><span class="op" id="7269652">,</span>&nbsp;<span class="string" id="7269654">`multiple&nbsp;definition&nbsp;of&nbsp;template`</span><span class="op" id="7269687">}</span><span class="op" id="7269688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269691">{</span><span class="string" id="7269692">&#34;eof&#34;</span><span class="op" id="7269697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269701">&#34;{{range&nbsp;.X}}&#34;</span><span class="op" id="7269715">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269719">hasError</span><span class="op" id="7269727">,</span>&nbsp;<span class="string" id="7269729">`unexpected&nbsp;EOF`</span><span class="op" id="7269745">}</span><span class="op" id="7269746">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269749">{</span><span class="string" id="7269750">&#34;variable&#34;</span><span class="op" id="7269760">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7269764">//&nbsp;Declare&nbsp;$x&nbsp;so&nbsp;it&#39;s&nbsp;defined,&nbsp;to&nbsp;avoid&nbsp;that&nbsp;error,&nbsp;and&nbsp;then&nbsp;check&nbsp;we&nbsp;don&#39;t&nbsp;parse&nbsp;a&nbsp;declaration.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269863">&#34;{{$x&nbsp;:=&nbsp;23}}{{with&nbsp;$x.y&nbsp;:=&nbsp;3}}{{$x&nbsp;23}}{{end}}&#34;</span><span class="op" id="7269911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269915">hasError</span><span class="op" id="7269923">,</span>&nbsp;<span class="string" id="7269925">`unexpected&nbsp;&#34;:=&#34;`</span><span class="op" id="7269942">}</span><span class="op" id="7269943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7269946">{</span><span class="string" id="7269947">&#34;multidecl&#34;</span><span class="op" id="7269958">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7269962">&#34;{{$a,$b,$c&nbsp;:=&nbsp;23}}&#34;</span><span class="op" id="7269982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7269986">hasError</span><span class="op" id="7269994">,</span>&nbsp;<span class="string" id="7269996">`too&nbsp;many&nbsp;declarations`</span><span class="op" id="7270019">}</span><span class="op" id="7270020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7270023">{</span><span class="string" id="7270024">&#34;undefvar&#34;</span><span class="op" id="7270034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7270038">&#34;{{$a}}&#34;</span><span class="op" id="7270046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7270050">hasError</span><span class="op" id="7270058">,</span>&nbsp;<span class="string" id="7270060">`undefined&nbsp;variable`</span><span class="op" id="7270080">}</span><span class="op" id="7270081">,</span><br>
<span class="lineno">410</span><span class="op" id="7270083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7270086">func</span>&nbsp;<span class="ident" id="7270091">TestErrors</span><span class="op" id="7270101">(</span><span class="ident" id="7270102">t</span>&nbsp;<span class="op" id="7270104">*</span><span class="ident" id="7270105">testing</span><span class="op" id="7270112">.</span><span class="ident" id="7270113">T</span><span class="op" id="7270114">)</span>&nbsp;<span class="op" id="7270116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7270119">for</span>&nbsp;<span class="ident" id="7270123">_</span><span class="op" id="7270124">,</span>&nbsp;<span class="ident" id="7270126">test</span>&nbsp;<span class="op" id="7270131">:=</span>&nbsp;<span class="keyword" id="7270134">range</span>&nbsp;<span class="ident" id="7270140">errorTests</span>&nbsp;<span class="op" id="7270151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7270155">_</span><span class="op" id="7270156">,</span>&nbsp;<span class="ident" id="7270158">err</span>&nbsp;<span class="op" id="7270162">:=</span>&nbsp;<span class="ident" id="7270165">New</span><span class="op" id="7270168">(</span><span class="ident" id="7270169">test</span><span class="op" id="7270173">.</span><span class="ident" id="7270174">name</span><span class="op" id="7270178">)</span><span class="op" id="7270179">.</span><span class="ident" id="7270180">Parse</span><span class="op" id="7270185">(</span><span class="ident" id="7270186">test</span><span class="op" id="7270190">.</span><span class="ident" id="7270191">input</span><span class="op" id="7270196">,</span>&nbsp;<span class="string" id="7270198">&#34;&#34;</span><span class="op" id="7270200">,</span>&nbsp;<span class="string" id="7270202">&#34;&#34;</span><span class="op" id="7270204">,</span>&nbsp;<span class="builtinfunc" id="7270206">make</span><span class="op" id="7270210">(</span><span class="keyword" id="7270211">map</span><span class="op" id="7270214">[</span><span class="builtintype" id="7270215">string</span><span class="op" id="7270221">]</span><span class="op" id="7270222">*</span><span class="ident" id="7270223">Tree</span><span class="op" id="7270227">)</span><span class="op" id="7270228">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7270232">if</span>&nbsp;<span class="ident" id="7270235">err</span>&nbsp;<span class="op" id="7270239">==</span>&nbsp;<span class="builtintype" id="7270242">nil</span>&nbsp;<span class="op" id="7270246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7270251">t</span><span class="op" id="7270252">.</span><span class="ident" id="7270253">Errorf</span><span class="op" id="7270259">(</span><span class="string" id="7270260">&#34;%q:&nbsp;expected&nbsp;error&#34;</span><span class="op" id="7270280">,</span>&nbsp;<span class="ident" id="7270282">test</span><span class="op" id="7270286">.</span><span class="ident" id="7270287">name</span><span class="op" id="7270291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7270296">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7270307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7270311">if</span>&nbsp;<span class="op" id="7270314">!</span><span class="ident" id="7270315">strings</span><span class="op" id="7270322">.</span><span class="ident" id="7270323">Contains</span><span class="op" id="7270331">(</span><span class="ident" id="7270332">err</span><span class="op" id="7270335">.</span><span class="ident" id="7270336">Error</span><span class="op" id="7270341">(</span><span class="op" id="7270342">)</span><span class="op" id="7270343">,</span>&nbsp;<span class="ident" id="7270345">test</span><span class="op" id="7270349">.</span><span class="ident" id="7270350">result</span><span class="op" id="7270356">)</span>&nbsp;<span class="op" id="7270358">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7270363">t</span><span class="op" id="7270364">.</span><span class="ident" id="7270365">Errorf</span><span class="op" id="7270371">(</span><span class="string" id="7270372">&#34;%q:&nbsp;error&nbsp;%q&nbsp;does&nbsp;not&nbsp;contain&nbsp;%q&#34;</span><span class="op" id="7270406">,</span>&nbsp;<span class="ident" id="7270408">test</span><span class="op" id="7270412">.</span><span class="ident" id="7270413">name</span><span class="op" id="7270417">,</span>&nbsp;<span class="ident" id="7270419">err</span><span class="op" id="7270422">,</span>&nbsp;<span class="ident" id="7270424">test</span><span class="op" id="7270428">.</span><span class="ident" id="7270429">result</span><span class="op" id="7270435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7270439">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7270442">}</span><br>
<span class="lineno"></span><span class="op" id="7270444">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
