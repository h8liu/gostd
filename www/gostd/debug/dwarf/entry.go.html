<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6126407">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6126463">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6126517">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6126568">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="6126609">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="6126668">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="6126727">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="6126791">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6126870">package</span>&nbsp;<span class="ident" id="6126878">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6126885">import</span>&nbsp;<span class="op" id="6126892">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6126895">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6126905">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="6126915">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6126918">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="6126976">type</span>&nbsp;<span class="ident" id="6126981">abbrev</span>&nbsp;<span class="keyword" id="6126988">struct</span>&nbsp;<span class="op" id="6126995">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6126998">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6127007">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127012">children</span>&nbsp;<span class="builtintype" id="6127021">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127027">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6127036">[</span><span class="op" id="6127037">]</span><span class="ident" id="6127038">afield</span><br>
<span class="lineno"></span><span class="op" id="6127045">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="6127048">type</span>&nbsp;<span class="ident" id="6127053">afield</span>&nbsp;<span class="keyword" id="6127060">struct</span>&nbsp;<span class="op" id="6127067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127070">attr</span>&nbsp;<span class="ident" id="6127075">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127081">fmt</span>&nbsp;&nbsp;<span class="ident" id="6127086">format</span><br>
<span class="lineno"></span><span class="op" id="6127093">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="6127096">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="6127149">type</span>&nbsp;<span class="ident" id="6127154">abbrevTable</span>&nbsp;<span class="keyword" id="6127166">map</span><span class="op" id="6127169">[</span><span class="builtintype" id="6127170">uint32</span><span class="op" id="6127176">]</span><span class="ident" id="6127177">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6127185">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="6127255">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="6127288">func</span>&nbsp;<span class="op" id="6127293">(</span><span class="ident" id="6127294">d</span>&nbsp;<span class="op" id="6127296">*</span><span class="ident" id="6127297">Data</span><span class="op" id="6127301">)</span>&nbsp;<span class="ident" id="6127303">parseAbbrev</span><span class="op" id="6127314">(</span><span class="ident" id="6127315">off</span>&nbsp;<span class="builtintype" id="6127319">uint32</span><span class="op" id="6127325">)</span>&nbsp;<span class="op" id="6127327">(</span><span class="ident" id="6127328">abbrevTable</span><span class="op" id="6127339">,</span>&nbsp;<span class="builtintype" id="6127341">error</span><span class="op" id="6127346">)</span>&nbsp;<span class="op" id="6127348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127351">if</span>&nbsp;<span class="ident" id="6127354">m</span><span class="op" id="6127355">,</span>&nbsp;<span class="ident" id="6127357">ok</span>&nbsp;<span class="op" id="6127360">:=</span>&nbsp;<span class="ident" id="6127363">d</span><span class="op" id="6127364">.</span><span class="ident" id="6127365">abbrevCache</span><span class="op" id="6127376">[</span><span class="ident" id="6127377">off</span><span class="op" id="6127380">]</span><span class="op" id="6127381">;</span>&nbsp;<span class="ident" id="6127383">ok</span>&nbsp;<span class="op" id="6127386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127390">return</span>&nbsp;<span class="ident" id="6127397">m</span><span class="op" id="6127398">,</span>&nbsp;<span class="ident" id="6127400">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6127405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127409">data</span>&nbsp;<span class="op" id="6127414">:=</span>&nbsp;<span class="ident" id="6127417">d</span><span class="op" id="6127418">.</span><span class="ident" id="6127419">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127427">if</span>&nbsp;<span class="ident" id="6127430">off</span>&nbsp;<span class="op" id="6127434">&gt;</span>&nbsp;<span class="builtintype" id="6127436">uint32</span><span class="op" id="6127442">(</span><span class="builtinfunc" id="6127443">len</span><span class="op" id="6127446">(</span><span class="ident" id="6127447">data</span><span class="op" id="6127451">)</span><span class="op" id="6127452">)</span>&nbsp;<span class="op" id="6127454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127458">data</span>&nbsp;<span class="op" id="6127463">=</span>&nbsp;<span class="ident" id="6127465">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6127470">}</span>&nbsp;<span class="keyword" id="6127472">else</span>&nbsp;<span class="op" id="6127477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127481">data</span>&nbsp;<span class="op" id="6127486">=</span>&nbsp;<span class="ident" id="6127488">data</span><span class="op" id="6127492">[</span><span class="ident" id="6127493">off</span><span class="op" id="6127496">:</span><span class="op" id="6127497">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6127500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127503">b</span>&nbsp;<span class="op" id="6127505">:=</span>&nbsp;<span class="ident" id="6127508">makeBuf</span><span class="op" id="6127515">(</span><span class="ident" id="6127516">d</span><span class="op" id="6127517">,</span>&nbsp;<span class="ident" id="6127519">unknownFormat</span><span class="op" id="6127532">{</span><span class="op" id="6127533">}</span><span class="op" id="6127534">,</span>&nbsp;<span class="string" id="6127536">&#34;abbrev&#34;</span><span class="op" id="6127544">,</span>&nbsp;<span class="num" id="6127546">0</span><span class="op" id="6127547">,</span>&nbsp;<span class="ident" id="6127549">data</span><span class="op" id="6127553">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6127557">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6127609">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127663">m</span>&nbsp;<span class="op" id="6127665">:=</span>&nbsp;<span class="builtinfunc" id="6127668">make</span><span class="op" id="6127672">(</span><span class="ident" id="6127673">abbrevTable</span><span class="op" id="6127684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127687">for</span>&nbsp;<span class="op" id="6127691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6127695">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127725">id</span>&nbsp;<span class="op" id="6127728">:=</span>&nbsp;<span class="builtintype" id="6127731">uint32</span><span class="op" id="6127737">(</span><span class="ident" id="6127738">b</span><span class="op" id="6127739">.</span><span class="builtintype" id="6127740">uint</span><span class="op" id="6127744">(</span><span class="op" id="6127745">)</span><span class="op" id="6127746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127750">if</span>&nbsp;<span class="ident" id="6127753">id</span>&nbsp;<span class="op" id="6127756">==</span>&nbsp;<span class="num" id="6127759">0</span>&nbsp;<span class="op" id="6127761">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127766">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6127774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6127779">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127816">n</span>&nbsp;<span class="op" id="6127818">:=</span>&nbsp;<span class="num" id="6127821">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127825">b1</span>&nbsp;<span class="op" id="6127828">:=</span>&nbsp;<span class="ident" id="6127831">b</span>&nbsp;<span class="comment" id="6127833">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127859">b1</span><span class="op" id="6127861">.</span><span class="builtintype" id="6127862">uint</span><span class="op" id="6127866">(</span><span class="op" id="6127867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127871">b1</span><span class="op" id="6127873">.</span><span class="builtintype" id="6127874">uint8</span><span class="op" id="6127879">(</span><span class="op" id="6127880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127884">for</span>&nbsp;<span class="op" id="6127888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127893">tag</span>&nbsp;<span class="op" id="6127897">:=</span>&nbsp;<span class="ident" id="6127900">b1</span><span class="op" id="6127902">.</span><span class="builtintype" id="6127903">uint</span><span class="op" id="6127907">(</span><span class="op" id="6127908">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127913">fmt</span>&nbsp;<span class="op" id="6127917">:=</span>&nbsp;<span class="ident" id="6127920">b1</span><span class="op" id="6127922">.</span><span class="builtintype" id="6127923">uint</span><span class="op" id="6127927">(</span><span class="op" id="6127928">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127933">if</span>&nbsp;<span class="ident" id="6127936">tag</span>&nbsp;<span class="op" id="6127940">==</span>&nbsp;<span class="num" id="6127943">0</span>&nbsp;<span class="op" id="6127945">&amp;&amp;</span>&nbsp;<span class="ident" id="6127948">fmt</span>&nbsp;<span class="op" id="6127952">==</span>&nbsp;<span class="num" id="6127955">0</span>&nbsp;<span class="op" id="6127957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127963">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6127972">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6127977">n</span><span class="op" id="6127978">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6127983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6127987">if</span>&nbsp;<span class="ident" id="6127990">b1</span><span class="op" id="6127992">.</span><span class="ident" id="6127993">err</span>&nbsp;<span class="op" id="6127997">!=</span>&nbsp;<span class="ident" id="6128000">nil</span>&nbsp;<span class="op" id="6128004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6128009">return</span>&nbsp;<span class="ident" id="6128016">nil</span><span class="op" id="6128019">,</span>&nbsp;<span class="ident" id="6128021">b1</span><span class="op" id="6128023">.</span><span class="ident" id="6128024">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6128030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6128035">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6128097">var</span>&nbsp;<span class="ident" id="6128101">a</span>&nbsp;<span class="ident" id="6128103">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128112">a</span><span class="op" id="6128113">.</span><span class="ident" id="6128114">tag</span>&nbsp;<span class="op" id="6128118">=</span>&nbsp;<span class="ident" id="6128120">Tag</span><span class="op" id="6128123">(</span><span class="ident" id="6128124">b</span><span class="op" id="6128125">.</span><span class="builtintype" id="6128126">uint</span><span class="op" id="6128130">(</span><span class="op" id="6128131">)</span><span class="op" id="6128132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128136">a</span><span class="op" id="6128137">.</span><span class="ident" id="6128138">children</span>&nbsp;<span class="op" id="6128147">=</span>&nbsp;<span class="ident" id="6128149">b</span><span class="op" id="6128150">.</span><span class="builtintype" id="6128151">uint8</span><span class="op" id="6128156">(</span><span class="op" id="6128157">)</span>&nbsp;<span class="op" id="6128159">!=</span>&nbsp;<span class="num" id="6128162">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128166">a</span><span class="op" id="6128167">.</span><span class="ident" id="6128168">field</span>&nbsp;<span class="op" id="6128174">=</span>&nbsp;<span class="builtinfunc" id="6128176">make</span><span class="op" id="6128180">(</span><span class="op" id="6128181">[</span><span class="op" id="6128182">]</span><span class="ident" id="6128183">afield</span><span class="op" id="6128189">,</span>&nbsp;<span class="ident" id="6128191">n</span><span class="op" id="6128192">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6128196">for</span>&nbsp;<span class="ident" id="6128200">i</span>&nbsp;<span class="op" id="6128202">:=</span>&nbsp;<span class="keyword" id="6128205">range</span>&nbsp;<span class="ident" id="6128211">a</span><span class="op" id="6128212">.</span><span class="ident" id="6128213">field</span>&nbsp;<span class="op" id="6128219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128224">a</span><span class="op" id="6128225">.</span><span class="ident" id="6128226">field</span><span class="op" id="6128231">[</span><span class="ident" id="6128232">i</span><span class="op" id="6128233">]</span><span class="op" id="6128234">.</span><span class="ident" id="6128235">attr</span>&nbsp;<span class="op" id="6128240">=</span>&nbsp;<span class="ident" id="6128242">Attr</span><span class="op" id="6128246">(</span><span class="ident" id="6128247">b</span><span class="op" id="6128248">.</span><span class="builtintype" id="6128249">uint</span><span class="op" id="6128253">(</span><span class="op" id="6128254">)</span><span class="op" id="6128255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128260">a</span><span class="op" id="6128261">.</span><span class="ident" id="6128262">field</span><span class="op" id="6128267">[</span><span class="ident" id="6128268">i</span><span class="op" id="6128269">]</span><span class="op" id="6128270">.</span><span class="ident" id="6128271">fmt</span>&nbsp;<span class="op" id="6128275">=</span>&nbsp;<span class="ident" id="6128277">format</span><span class="op" id="6128283">(</span><span class="ident" id="6128284">b</span><span class="op" id="6128285">.</span><span class="builtintype" id="6128286">uint</span><span class="op" id="6128290">(</span><span class="op" id="6128291">)</span><span class="op" id="6128292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6128296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128300">b</span><span class="op" id="6128301">.</span><span class="builtintype" id="6128302">uint</span><span class="op" id="6128306">(</span><span class="op" id="6128307">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128311">b</span><span class="op" id="6128312">.</span><span class="builtintype" id="6128313">uint</span><span class="op" id="6128317">(</span><span class="op" id="6128318">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128323">m</span><span class="op" id="6128324">[</span><span class="ident" id="6128325">id</span><span class="op" id="6128327">]</span>&nbsp;<span class="op" id="6128329">=</span>&nbsp;<span class="ident" id="6128331">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6128334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6128337">if</span>&nbsp;<span class="ident" id="6128340">b</span><span class="op" id="6128341">.</span><span class="ident" id="6128342">err</span>&nbsp;<span class="op" id="6128346">!=</span>&nbsp;<span class="ident" id="6128349">nil</span>&nbsp;<span class="op" id="6128353">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6128357">return</span>&nbsp;<span class="ident" id="6128364">nil</span><span class="op" id="6128367">,</span>&nbsp;<span class="ident" id="6128369">b</span><span class="op" id="6128370">.</span><span class="ident" id="6128371">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6128376">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128379">d</span><span class="op" id="6128380">.</span><span class="ident" id="6128381">abbrevCache</span><span class="op" id="6128392">[</span><span class="ident" id="6128393">off</span><span class="op" id="6128396">]</span>&nbsp;<span class="op" id="6128398">=</span>&nbsp;<span class="ident" id="6128400">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6128403">return</span>&nbsp;<span class="ident" id="6128410">m</span><span class="op" id="6128411">,</span>&nbsp;<span class="ident" id="6128413">nil</span><br>
<span class="lineno"></span><span class="op" id="6128417">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="6128420">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="6128472">type</span>&nbsp;<span class="ident" id="6128477">Entry</span>&nbsp;<span class="keyword" id="6128483">struct</span>&nbsp;<span class="op" id="6128490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128493">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6128502">Offset</span>&nbsp;<span class="comment" id="6128509">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128543">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6128552">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6128559">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128583">Children</span>&nbsp;<span class="builtintype" id="6128592">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6128599">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128641">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6128650">[</span><span class="op" id="6128651">]</span><span class="ident" id="6128652">Field</span><br>
<span class="lineno"></span><span class="op" id="6128658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6128661">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="6128718">type</span>&nbsp;<span class="ident" id="6128723">Field</span>&nbsp;<span class="keyword" id="6128729">struct</span>&nbsp;<span class="op" id="6128736">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128739">Attr</span>&nbsp;<span class="ident" id="6128744">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6128750">Val</span>&nbsp;&nbsp;<span class="keyword" id="6128755">interface</span><span class="op" id="6128764">{</span><span class="op" id="6128765">}</span><br>
<span class="lineno"></span><span class="op" id="6128767">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="6128770">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="6128836">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="6128877">//</span><br>
<span class="lineno"></span><span class="comment" id="6128880">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6128940">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="6129006">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="6129046">//</span><br>
<span class="lineno"></span><span class="keyword" id="6129049">func</span>&nbsp;<span class="op" id="6129054">(</span><span class="ident" id="6129055">e</span>&nbsp;<span class="op" id="6129057">*</span><span class="ident" id="6129058">Entry</span><span class="op" id="6129063">)</span>&nbsp;<span class="ident" id="6129065">Val</span><span class="op" id="6129068">(</span><span class="ident" id="6129069">a</span>&nbsp;<span class="ident" id="6129071">Attr</span><span class="op" id="6129075">)</span>&nbsp;<span class="keyword" id="6129077">interface</span><span class="op" id="6129086">{</span><span class="op" id="6129087">}</span>&nbsp;<span class="op" id="6129089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129092">for</span>&nbsp;<span class="ident" id="6129096">_</span><span class="op" id="6129097">,</span>&nbsp;<span class="ident" id="6129099">f</span>&nbsp;<span class="op" id="6129101">:=</span>&nbsp;<span class="keyword" id="6129104">range</span>&nbsp;<span class="ident" id="6129110">e</span><span class="op" id="6129111">.</span><span class="ident" id="6129112">Field</span>&nbsp;<span class="op" id="6129118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129122">if</span>&nbsp;<span class="ident" id="6129125">f</span><span class="op" id="6129126">.</span><span class="ident" id="6129127">Attr</span>&nbsp;<span class="op" id="6129132">==</span>&nbsp;<span class="ident" id="6129135">a</span>&nbsp;<span class="op" id="6129137">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129142">return</span>&nbsp;<span class="ident" id="6129149">f</span><span class="op" id="6129150">.</span><span class="ident" id="6129151">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6129157">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6129160">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129163">return</span>&nbsp;<span class="ident" id="6129170">nil</span><br>
<span class="lineno"></span><span class="op" id="6129174">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="6129177">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="6129249">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="6129271">type</span>&nbsp;<span class="ident" id="6129276">Offset</span>&nbsp;<span class="builtintype" id="6129283">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="6129291">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="6129340">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="6129386">func</span>&nbsp;<span class="op" id="6129391">(</span><span class="ident" id="6129392">b</span>&nbsp;<span class="op" id="6129394">*</span><span class="ident" id="6129395">buf</span><span class="op" id="6129398">)</span>&nbsp;<span class="ident" id="6129400">entry</span><span class="op" id="6129405">(</span><span class="ident" id="6129406">atab</span>&nbsp;<span class="ident" id="6129411">abbrevTable</span><span class="op" id="6129422">,</span>&nbsp;<span class="ident" id="6129424">ubase</span>&nbsp;<span class="ident" id="6129430">Offset</span><span class="op" id="6129436">)</span>&nbsp;<span class="op" id="6129438">*</span><span class="ident" id="6129439">Entry</span>&nbsp;<span class="op" id="6129445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129448">off</span>&nbsp;<span class="op" id="6129452">:=</span>&nbsp;<span class="ident" id="6129455">b</span><span class="op" id="6129456">.</span><span class="ident" id="6129457">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129462">id</span>&nbsp;<span class="op" id="6129465">:=</span>&nbsp;<span class="builtintype" id="6129468">uint32</span><span class="op" id="6129474">(</span><span class="ident" id="6129475">b</span><span class="op" id="6129476">.</span><span class="builtintype" id="6129477">uint</span><span class="op" id="6129481">(</span><span class="op" id="6129482">)</span><span class="op" id="6129483">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129486">if</span>&nbsp;<span class="ident" id="6129489">id</span>&nbsp;<span class="op" id="6129492">==</span>&nbsp;<span class="num" id="6129495">0</span>&nbsp;<span class="op" id="6129497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129501">return</span>&nbsp;<span class="op" id="6129508">&amp;</span><span class="ident" id="6129509">Entry</span><span class="op" id="6129514">{</span><span class="op" id="6129515">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6129518">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129521">a</span><span class="op" id="6129522">,</span>&nbsp;<span class="ident" id="6129524">ok</span>&nbsp;<span class="op" id="6129527">:=</span>&nbsp;<span class="ident" id="6129530">atab</span><span class="op" id="6129534">[</span><span class="ident" id="6129535">id</span><span class="op" id="6129537">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129540">if</span>&nbsp;<span class="op" id="6129543">!</span><span class="ident" id="6129544">ok</span>&nbsp;<span class="op" id="6129547">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129551">b</span><span class="op" id="6129552">.</span><span class="builtintype" id="6129553">error</span><span class="op" id="6129558">(</span><span class="string" id="6129559">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="6129593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129597">return</span>&nbsp;<span class="ident" id="6129604">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6129609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129612">e</span>&nbsp;<span class="op" id="6129614">:=</span>&nbsp;<span class="op" id="6129617">&amp;</span><span class="ident" id="6129618">Entry</span><span class="op" id="6129623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129627">Offset</span><span class="op" id="6129633">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6129637">off</span><span class="op" id="6129640">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129644">Tag</span><span class="op" id="6129647">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6129654">a</span><span class="op" id="6129655">.</span><span class="ident" id="6129656">tag</span><span class="op" id="6129659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129663">Children</span><span class="op" id="6129671">:</span>&nbsp;<span class="ident" id="6129673">a</span><span class="op" id="6129674">.</span><span class="ident" id="6129675">children</span><span class="op" id="6129683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129687">Field</span><span class="op" id="6129692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="6129697">make</span><span class="op" id="6129701">(</span><span class="op" id="6129702">[</span><span class="op" id="6129703">]</span><span class="ident" id="6129704">Field</span><span class="op" id="6129709">,</span>&nbsp;<span class="builtinfunc" id="6129711">len</span><span class="op" id="6129714">(</span><span class="ident" id="6129715">a</span><span class="op" id="6129716">.</span><span class="ident" id="6129717">field</span><span class="op" id="6129722">)</span><span class="op" id="6129723">)</span><span class="op" id="6129724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6129727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129730">for</span>&nbsp;<span class="ident" id="6129734">i</span>&nbsp;<span class="op" id="6129736">:=</span>&nbsp;<span class="keyword" id="6129739">range</span>&nbsp;<span class="ident" id="6129745">e</span><span class="op" id="6129746">.</span><span class="ident" id="6129747">Field</span>&nbsp;<span class="op" id="6129753">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129757">e</span><span class="op" id="6129758">.</span><span class="ident" id="6129759">Field</span><span class="op" id="6129764">[</span><span class="ident" id="6129765">i</span><span class="op" id="6129766">]</span><span class="op" id="6129767">.</span><span class="ident" id="6129768">Attr</span>&nbsp;<span class="op" id="6129773">=</span>&nbsp;<span class="ident" id="6129775">a</span><span class="op" id="6129776">.</span><span class="ident" id="6129777">field</span><span class="op" id="6129782">[</span><span class="ident" id="6129783">i</span><span class="op" id="6129784">]</span><span class="op" id="6129785">.</span><span class="ident" id="6129786">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129793">fmt</span>&nbsp;<span class="op" id="6129797">:=</span>&nbsp;<span class="ident" id="6129800">a</span><span class="op" id="6129801">.</span><span class="ident" id="6129802">field</span><span class="op" id="6129807">[</span><span class="ident" id="6129808">i</span><span class="op" id="6129809">]</span><span class="op" id="6129810">.</span><span class="ident" id="6129811">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129817">if</span>&nbsp;<span class="ident" id="6129820">fmt</span>&nbsp;<span class="op" id="6129824">==</span>&nbsp;<span class="ident" id="6129827">formIndirect</span>&nbsp;<span class="op" id="6129840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129845">fmt</span>&nbsp;<span class="op" id="6129849">=</span>&nbsp;<span class="ident" id="6129851">format</span><span class="op" id="6129857">(</span><span class="ident" id="6129858">b</span><span class="op" id="6129859">.</span><span class="builtintype" id="6129860">uint</span><span class="op" id="6129864">(</span><span class="op" id="6129865">)</span><span class="op" id="6129866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6129870">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129874">var</span>&nbsp;<span class="ident" id="6129878">val</span>&nbsp;<span class="keyword" id="6129882">interface</span><span class="op" id="6129891">{</span><span class="op" id="6129892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129896">switch</span>&nbsp;<span class="ident" id="6129903">fmt</span>&nbsp;<span class="op" id="6129907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6129911">default</span><span class="op" id="6129918">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6129923">b</span><span class="op" id="6129924">.</span><span class="builtintype" id="6129925">error</span><span class="op" id="6129930">(</span><span class="string" id="6129931">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="6129962">+</span>&nbsp;<span class="ident" id="6129964">strconv</span><span class="op" id="6129971">.</span><span class="ident" id="6129972">FormatInt</span><span class="op" id="6129981">(</span><span class="ident" id="6129982">int64</span><span class="op" id="6129987">(</span><span class="ident" id="6129988">fmt</span><span class="op" id="6129991">)</span><span class="op" id="6129992">,</span>&nbsp;<span class="num" id="6129994">16</span><span class="op" id="6129996">)</span><span class="op" id="6129997">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130002">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130015">case</span>&nbsp;<span class="ident" id="6130020">formAddr</span><span class="op" id="6130028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130033">val</span>&nbsp;<span class="op" id="6130037">=</span>&nbsp;<span class="ident" id="6130039">b</span><span class="op" id="6130040">.</span><span class="ident" id="6130041">addr</span><span class="op" id="6130045">(</span><span class="op" id="6130046">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130051">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130062">case</span>&nbsp;<span class="ident" id="6130067">formDwarfBlock1</span><span class="op" id="6130082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130087">val</span>&nbsp;<span class="op" id="6130091">=</span>&nbsp;<span class="ident" id="6130093">b</span><span class="op" id="6130094">.</span><span class="ident" id="6130095">bytes</span><span class="op" id="6130100">(</span><span class="builtintype" id="6130101">int</span><span class="op" id="6130104">(</span><span class="ident" id="6130105">b</span><span class="op" id="6130106">.</span><span class="builtintype" id="6130107">uint8</span><span class="op" id="6130112">(</span><span class="op" id="6130113">)</span><span class="op" id="6130114">)</span><span class="op" id="6130115">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130119">case</span>&nbsp;<span class="ident" id="6130124">formDwarfBlock2</span><span class="op" id="6130139">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130144">val</span>&nbsp;<span class="op" id="6130148">=</span>&nbsp;<span class="ident" id="6130150">b</span><span class="op" id="6130151">.</span><span class="ident" id="6130152">bytes</span><span class="op" id="6130157">(</span><span class="builtintype" id="6130158">int</span><span class="op" id="6130161">(</span><span class="ident" id="6130162">b</span><span class="op" id="6130163">.</span><span class="builtintype" id="6130164">uint16</span><span class="op" id="6130170">(</span><span class="op" id="6130171">)</span><span class="op" id="6130172">)</span><span class="op" id="6130173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130177">case</span>&nbsp;<span class="ident" id="6130182">formDwarfBlock4</span><span class="op" id="6130197">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130202">val</span>&nbsp;<span class="op" id="6130206">=</span>&nbsp;<span class="ident" id="6130208">b</span><span class="op" id="6130209">.</span><span class="ident" id="6130210">bytes</span><span class="op" id="6130215">(</span><span class="builtintype" id="6130216">int</span><span class="op" id="6130219">(</span><span class="ident" id="6130220">b</span><span class="op" id="6130221">.</span><span class="builtintype" id="6130222">uint32</span><span class="op" id="6130228">(</span><span class="op" id="6130229">)</span><span class="op" id="6130230">)</span><span class="op" id="6130231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130235">case</span>&nbsp;<span class="ident" id="6130240">formDwarfBlock</span><span class="op" id="6130254">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130259">val</span>&nbsp;<span class="op" id="6130263">=</span>&nbsp;<span class="ident" id="6130265">b</span><span class="op" id="6130266">.</span><span class="ident" id="6130267">bytes</span><span class="op" id="6130272">(</span><span class="builtintype" id="6130273">int</span><span class="op" id="6130276">(</span><span class="ident" id="6130277">b</span><span class="op" id="6130278">.</span><span class="builtintype" id="6130279">uint</span><span class="op" id="6130283">(</span><span class="op" id="6130284">)</span><span class="op" id="6130285">)</span><span class="op" id="6130286">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130291">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130305">case</span>&nbsp;<span class="ident" id="6130310">formData1</span><span class="op" id="6130319">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130324">val</span>&nbsp;<span class="op" id="6130328">=</span>&nbsp;<span class="ident" id="6130330">int64</span><span class="op" id="6130335">(</span><span class="ident" id="6130336">b</span><span class="op" id="6130337">.</span><span class="builtintype" id="6130338">uint8</span><span class="op" id="6130343">(</span><span class="op" id="6130344">)</span><span class="op" id="6130345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130349">case</span>&nbsp;<span class="ident" id="6130354">formData2</span><span class="op" id="6130363">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130368">val</span>&nbsp;<span class="op" id="6130372">=</span>&nbsp;<span class="ident" id="6130374">int64</span><span class="op" id="6130379">(</span><span class="ident" id="6130380">b</span><span class="op" id="6130381">.</span><span class="builtintype" id="6130382">uint16</span><span class="op" id="6130388">(</span><span class="op" id="6130389">)</span><span class="op" id="6130390">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130394">case</span>&nbsp;<span class="ident" id="6130399">formData4</span><span class="op" id="6130408">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130413">val</span>&nbsp;<span class="op" id="6130417">=</span>&nbsp;<span class="ident" id="6130419">int64</span><span class="op" id="6130424">(</span><span class="ident" id="6130425">b</span><span class="op" id="6130426">.</span><span class="builtintype" id="6130427">uint32</span><span class="op" id="6130433">(</span><span class="op" id="6130434">)</span><span class="op" id="6130435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130439">case</span>&nbsp;<span class="ident" id="6130444">formData8</span><span class="op" id="6130453">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130458">val</span>&nbsp;<span class="op" id="6130462">=</span>&nbsp;<span class="ident" id="6130464">int64</span><span class="op" id="6130469">(</span><span class="ident" id="6130470">b</span><span class="op" id="6130471">.</span><span class="ident" id="6130472">uint64</span><span class="op" id="6130478">(</span><span class="op" id="6130479">)</span><span class="op" id="6130480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130484">case</span>&nbsp;<span class="ident" id="6130489">formSdata</span><span class="op" id="6130498">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130503">val</span>&nbsp;<span class="op" id="6130507">=</span>&nbsp;<span class="ident" id="6130509">int64</span><span class="op" id="6130514">(</span><span class="ident" id="6130515">b</span><span class="op" id="6130516">.</span><span class="builtintype" id="6130517">int</span><span class="op" id="6130520">(</span><span class="op" id="6130521">)</span><span class="op" id="6130522">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130526">case</span>&nbsp;<span class="ident" id="6130531">formUdata</span><span class="op" id="6130540">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130545">val</span>&nbsp;<span class="op" id="6130549">=</span>&nbsp;<span class="ident" id="6130551">int64</span><span class="op" id="6130556">(</span><span class="ident" id="6130557">b</span><span class="op" id="6130558">.</span><span class="builtintype" id="6130559">uint</span><span class="op" id="6130563">(</span><span class="op" id="6130564">)</span><span class="op" id="6130565">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130570">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130580">case</span>&nbsp;<span class="ident" id="6130585">formFlag</span><span class="op" id="6130593">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130598">val</span>&nbsp;<span class="op" id="6130602">=</span>&nbsp;<span class="ident" id="6130604">b</span><span class="op" id="6130605">.</span><span class="builtintype" id="6130606">uint8</span><span class="op" id="6130611">(</span><span class="op" id="6130612">)</span>&nbsp;<span class="op" id="6130614">==</span>&nbsp;<span class="num" id="6130617">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130621">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130642">case</span>&nbsp;<span class="ident" id="6130647">formFlagPresent</span><span class="op" id="6130662">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130667">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130739">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130796">val</span>&nbsp;<span class="op" id="6130800">=</span>&nbsp;<span class="builtintype" id="6130802">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6130810">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130840">case</span>&nbsp;<span class="ident" id="6130845">formRefAddr</span><span class="op" id="6130856">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130861">vers</span>&nbsp;<span class="op" id="6130866">:=</span>&nbsp;<span class="ident" id="6130869">b</span><span class="op" id="6130870">.</span><span class="ident" id="6130871">format</span><span class="op" id="6130877">.</span><span class="ident" id="6130878">version</span><span class="op" id="6130885">(</span><span class="op" id="6130886">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6130891">if</span>&nbsp;<span class="ident" id="6130894">vers</span>&nbsp;<span class="op" id="6130899">==</span>&nbsp;<span class="num" id="6130902">0</span>&nbsp;<span class="op" id="6130904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130910">b</span><span class="op" id="6130911">.</span><span class="builtintype" id="6130912">error</span><span class="op" id="6130917">(</span><span class="string" id="6130918">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="6130956">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6130961">}</span>&nbsp;<span class="keyword" id="6130963">else</span>&nbsp;<span class="keyword" id="6130968">if</span>&nbsp;<span class="ident" id="6130971">vers</span>&nbsp;<span class="op" id="6130976">==</span>&nbsp;<span class="num" id="6130979">2</span>&nbsp;<span class="op" id="6130981">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6130987">val</span>&nbsp;<span class="op" id="6130991">=</span>&nbsp;<span class="ident" id="6130993">Offset</span><span class="op" id="6130999">(</span><span class="ident" id="6131000">b</span><span class="op" id="6131001">.</span><span class="ident" id="6131002">addr</span><span class="op" id="6131006">(</span><span class="op" id="6131007">)</span><span class="op" id="6131008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131013">}</span>&nbsp;<span class="keyword" id="6131015">else</span>&nbsp;<span class="op" id="6131020">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131026">is64</span><span class="op" id="6131030">,</span>&nbsp;<span class="ident" id="6131032">known</span>&nbsp;<span class="op" id="6131038">:=</span>&nbsp;<span class="ident" id="6131041">b</span><span class="op" id="6131042">.</span><span class="ident" id="6131043">format</span><span class="op" id="6131049">.</span><span class="ident" id="6131050">dwarf64</span><span class="op" id="6131057">(</span><span class="op" id="6131058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131064">if</span>&nbsp;<span class="op" id="6131067">!</span><span class="ident" id="6131068">known</span>&nbsp;<span class="op" id="6131074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131081">b</span><span class="op" id="6131082">.</span><span class="builtintype" id="6131083">error</span><span class="op" id="6131088">(</span><span class="string" id="6131089">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="6131124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131130">}</span>&nbsp;<span class="keyword" id="6131132">else</span>&nbsp;<span class="keyword" id="6131137">if</span>&nbsp;<span class="ident" id="6131140">is64</span>&nbsp;<span class="op" id="6131145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131152">val</span>&nbsp;<span class="op" id="6131156">=</span>&nbsp;<span class="ident" id="6131158">Offset</span><span class="op" id="6131164">(</span><span class="ident" id="6131165">b</span><span class="op" id="6131166">.</span><span class="ident" id="6131167">uint64</span><span class="op" id="6131173">(</span><span class="op" id="6131174">)</span><span class="op" id="6131175">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131181">}</span>&nbsp;<span class="keyword" id="6131183">else</span>&nbsp;<span class="op" id="6131188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131195">val</span>&nbsp;<span class="op" id="6131199">=</span>&nbsp;<span class="ident" id="6131201">Offset</span><span class="op" id="6131207">(</span><span class="ident" id="6131208">b</span><span class="op" id="6131209">.</span><span class="builtintype" id="6131210">uint32</span><span class="op" id="6131216">(</span><span class="op" id="6131217">)</span><span class="op" id="6131218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131233">case</span>&nbsp;<span class="ident" id="6131238">formRef1</span><span class="op" id="6131246">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131251">val</span>&nbsp;<span class="op" id="6131255">=</span>&nbsp;<span class="ident" id="6131257">Offset</span><span class="op" id="6131263">(</span><span class="ident" id="6131264">b</span><span class="op" id="6131265">.</span><span class="builtintype" id="6131266">uint8</span><span class="op" id="6131271">(</span><span class="op" id="6131272">)</span><span class="op" id="6131273">)</span>&nbsp;<span class="op" id="6131275">+</span>&nbsp;<span class="ident" id="6131277">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131285">case</span>&nbsp;<span class="ident" id="6131290">formRef2</span><span class="op" id="6131298">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131303">val</span>&nbsp;<span class="op" id="6131307">=</span>&nbsp;<span class="ident" id="6131309">Offset</span><span class="op" id="6131315">(</span><span class="ident" id="6131316">b</span><span class="op" id="6131317">.</span><span class="builtintype" id="6131318">uint16</span><span class="op" id="6131324">(</span><span class="op" id="6131325">)</span><span class="op" id="6131326">)</span>&nbsp;<span class="op" id="6131328">+</span>&nbsp;<span class="ident" id="6131330">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131338">case</span>&nbsp;<span class="ident" id="6131343">formRef4</span><span class="op" id="6131351">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131356">val</span>&nbsp;<span class="op" id="6131360">=</span>&nbsp;<span class="ident" id="6131362">Offset</span><span class="op" id="6131368">(</span><span class="ident" id="6131369">b</span><span class="op" id="6131370">.</span><span class="builtintype" id="6131371">uint32</span><span class="op" id="6131377">(</span><span class="op" id="6131378">)</span><span class="op" id="6131379">)</span>&nbsp;<span class="op" id="6131381">+</span>&nbsp;<span class="ident" id="6131383">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131391">case</span>&nbsp;<span class="ident" id="6131396">formRef8</span><span class="op" id="6131404">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131409">val</span>&nbsp;<span class="op" id="6131413">=</span>&nbsp;<span class="ident" id="6131415">Offset</span><span class="op" id="6131421">(</span><span class="ident" id="6131422">b</span><span class="op" id="6131423">.</span><span class="ident" id="6131424">uint64</span><span class="op" id="6131430">(</span><span class="op" id="6131431">)</span><span class="op" id="6131432">)</span>&nbsp;<span class="op" id="6131434">+</span>&nbsp;<span class="ident" id="6131436">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131444">case</span>&nbsp;<span class="ident" id="6131449">formRefUdata</span><span class="op" id="6131461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131466">val</span>&nbsp;<span class="op" id="6131470">=</span>&nbsp;<span class="ident" id="6131472">Offset</span><span class="op" id="6131478">(</span><span class="ident" id="6131479">b</span><span class="op" id="6131480">.</span><span class="builtintype" id="6131481">uint</span><span class="op" id="6131485">(</span><span class="op" id="6131486">)</span><span class="op" id="6131487">)</span>&nbsp;<span class="op" id="6131489">+</span>&nbsp;<span class="ident" id="6131491">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6131500">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131512">case</span>&nbsp;<span class="ident" id="6131517">formString</span><span class="op" id="6131527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131532">val</span>&nbsp;<span class="op" id="6131536">=</span>&nbsp;<span class="ident" id="6131538">b</span><span class="op" id="6131539">.</span><span class="builtintype" id="6131540">string</span><span class="op" id="6131546">(</span><span class="op" id="6131547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131551">case</span>&nbsp;<span class="ident" id="6131556">formStrp</span><span class="op" id="6131564">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131569">off</span>&nbsp;<span class="op" id="6131573">:=</span>&nbsp;<span class="ident" id="6131576">b</span><span class="op" id="6131577">.</span><span class="builtintype" id="6131578">uint32</span><span class="op" id="6131584">(</span><span class="op" id="6131585">)</span>&nbsp;<span class="comment" id="6131587">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131616">if</span>&nbsp;<span class="ident" id="6131619">b</span><span class="op" id="6131620">.</span><span class="ident" id="6131621">err</span>&nbsp;<span class="op" id="6131625">!=</span>&nbsp;<span class="ident" id="6131628">nil</span>&nbsp;<span class="op" id="6131632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131638">return</span>&nbsp;<span class="ident" id="6131645">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131657">b1</span>&nbsp;<span class="op" id="6131660">:=</span>&nbsp;<span class="ident" id="6131663">makeBuf</span><span class="op" id="6131670">(</span><span class="ident" id="6131671">b</span><span class="op" id="6131672">.</span><span class="ident" id="6131673">dwarf</span><span class="op" id="6131678">,</span>&nbsp;<span class="ident" id="6131680">unknownFormat</span><span class="op" id="6131693">{</span><span class="op" id="6131694">}</span><span class="op" id="6131695">,</span>&nbsp;<span class="string" id="6131697">&#34;str&#34;</span><span class="op" id="6131702">,</span>&nbsp;<span class="num" id="6131704">0</span><span class="op" id="6131705">,</span>&nbsp;<span class="ident" id="6131707">b</span><span class="op" id="6131708">.</span><span class="ident" id="6131709">dwarf</span><span class="op" id="6131714">.</span><span class="ident" id="6131715">str</span><span class="op" id="6131718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131723">b1</span><span class="op" id="6131725">.</span><span class="ident" id="6131726">skip</span><span class="op" id="6131730">(</span><span class="builtintype" id="6131731">int</span><span class="op" id="6131734">(</span><span class="ident" id="6131735">off</span><span class="op" id="6131738">)</span><span class="op" id="6131739">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131744">val</span>&nbsp;<span class="op" id="6131748">=</span>&nbsp;<span class="ident" id="6131750">b1</span><span class="op" id="6131752">.</span><span class="builtintype" id="6131753">string</span><span class="op" id="6131759">(</span><span class="op" id="6131760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131765">if</span>&nbsp;<span class="ident" id="6131768">b1</span><span class="op" id="6131770">.</span><span class="ident" id="6131771">err</span>&nbsp;<span class="op" id="6131775">!=</span>&nbsp;<span class="ident" id="6131778">nil</span>&nbsp;<span class="op" id="6131782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6131788">b</span><span class="op" id="6131789">.</span><span class="ident" id="6131790">err</span>&nbsp;<span class="op" id="6131794">=</span>&nbsp;<span class="ident" id="6131796">b1</span><span class="op" id="6131798">.</span><span class="ident" id="6131799">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6131807">return</span>&nbsp;<span class="ident" id="6131814">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6131821">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6131826">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6131873">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6131938">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132004">case</span>&nbsp;<span class="ident" id="6132009">formSecOffset</span><span class="op" id="6132022">,</span>&nbsp;<span class="ident" id="6132024">formGnuRefAlt</span><span class="op" id="6132037">,</span>&nbsp;<span class="ident" id="6132039">formGnuStrpAlt</span><span class="op" id="6132053">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132058">is64</span><span class="op" id="6132062">,</span>&nbsp;<span class="ident" id="6132064">known</span>&nbsp;<span class="op" id="6132070">:=</span>&nbsp;<span class="ident" id="6132073">b</span><span class="op" id="6132074">.</span><span class="ident" id="6132075">format</span><span class="op" id="6132081">.</span><span class="ident" id="6132082">dwarf64</span><span class="op" id="6132089">(</span><span class="op" id="6132090">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132095">if</span>&nbsp;<span class="op" id="6132098">!</span><span class="ident" id="6132099">known</span>&nbsp;<span class="op" id="6132105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132111">b</span><span class="op" id="6132112">.</span><span class="builtintype" id="6132113">error</span><span class="op" id="6132118">(</span><span class="string" id="6132119">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="6132146">+</span>&nbsp;<span class="ident" id="6132148">strconv</span><span class="op" id="6132155">.</span><span class="ident" id="6132156">FormatInt</span><span class="op" id="6132165">(</span><span class="ident" id="6132166">int64</span><span class="op" id="6132171">(</span><span class="ident" id="6132172">fmt</span><span class="op" id="6132175">)</span><span class="op" id="6132176">,</span>&nbsp;<span class="num" id="6132178">16</span><span class="op" id="6132180">)</span><span class="op" id="6132181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6132186">}</span>&nbsp;<span class="keyword" id="6132188">else</span>&nbsp;<span class="keyword" id="6132193">if</span>&nbsp;<span class="ident" id="6132196">is64</span>&nbsp;<span class="op" id="6132201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132207">val</span>&nbsp;<span class="op" id="6132211">=</span>&nbsp;<span class="ident" id="6132213">int64</span><span class="op" id="6132218">(</span><span class="ident" id="6132219">b</span><span class="op" id="6132220">.</span><span class="ident" id="6132221">uint64</span><span class="op" id="6132227">(</span><span class="op" id="6132228">)</span><span class="op" id="6132229">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6132234">}</span>&nbsp;<span class="keyword" id="6132236">else</span>&nbsp;<span class="op" id="6132241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132247">val</span>&nbsp;<span class="op" id="6132251">=</span>&nbsp;<span class="ident" id="6132253">int64</span><span class="op" id="6132258">(</span><span class="ident" id="6132259">b</span><span class="op" id="6132260">.</span><span class="builtintype" id="6132261">uint32</span><span class="op" id="6132267">(</span><span class="op" id="6132268">)</span><span class="op" id="6132269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6132274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6132279">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6132292">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132313">case</span>&nbsp;<span class="ident" id="6132318">formExprloc</span><span class="op" id="6132329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132334">val</span>&nbsp;<span class="op" id="6132338">=</span>&nbsp;<span class="ident" id="6132340">b</span><span class="op" id="6132341">.</span><span class="ident" id="6132342">bytes</span><span class="op" id="6132347">(</span><span class="builtintype" id="6132348">int</span><span class="op" id="6132351">(</span><span class="ident" id="6132352">b</span><span class="op" id="6132353">.</span><span class="builtintype" id="6132354">uint</span><span class="op" id="6132358">(</span><span class="op" id="6132359">)</span><span class="op" id="6132360">)</span><span class="op" id="6132361">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6132366">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6132381">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132402">case</span>&nbsp;<span class="ident" id="6132407">formRefSig8</span><span class="op" id="6132418">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6132423">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132452">val</span>&nbsp;<span class="op" id="6132456">=</span>&nbsp;<span class="ident" id="6132458">b</span><span class="op" id="6132459">.</span><span class="ident" id="6132460">uint64</span><span class="op" id="6132466">(</span><span class="op" id="6132467">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6132471">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132475">e</span><span class="op" id="6132476">.</span><span class="ident" id="6132477">Field</span><span class="op" id="6132482">[</span><span class="ident" id="6132483">i</span><span class="op" id="6132484">]</span><span class="op" id="6132485">.</span><span class="ident" id="6132486">Val</span>&nbsp;<span class="op" id="6132490">=</span>&nbsp;<span class="ident" id="6132492">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6132497">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132500">if</span>&nbsp;<span class="ident" id="6132503">b</span><span class="op" id="6132504">.</span><span class="ident" id="6132505">err</span>&nbsp;<span class="op" id="6132509">!=</span>&nbsp;<span class="ident" id="6132512">nil</span>&nbsp;<span class="op" id="6132516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132520">return</span>&nbsp;<span class="ident" id="6132527">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6132532">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6132535">return</span>&nbsp;<span class="ident" id="6132542">e</span><br>
<span class="lineno"></span><span class="op" id="6132544">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6132547">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="6132622">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="6132698">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="6132767">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="6132846">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="6132892">type</span>&nbsp;<span class="ident" id="6132897">Reader</span>&nbsp;<span class="keyword" id="6132904">struct</span>&nbsp;<span class="op" id="6132911">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132914">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6132927">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132932">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6132945">*</span><span class="ident" id="6132946">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132952">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6132965">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132972">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6132985">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6132990">lastChildren</span>&nbsp;<span class="builtintype" id="6133003">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6133010">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133055">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="6133068">Offset</span>&nbsp;<span class="comment" id="6133075">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="6133127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6133130">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="6133171">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="6133247">func</span>&nbsp;<span class="op" id="6133252">(</span><span class="ident" id="6133253">d</span>&nbsp;<span class="op" id="6133255">*</span><span class="ident" id="6133256">Data</span><span class="op" id="6133260">)</span>&nbsp;<span class="ident" id="6133262">Reader</span><span class="op" id="6133268">(</span><span class="op" id="6133269">)</span>&nbsp;<span class="op" id="6133271">*</span><span class="ident" id="6133272">Reader</span>&nbsp;<span class="op" id="6133279">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133282">r</span>&nbsp;<span class="op" id="6133284">:=</span>&nbsp;<span class="op" id="6133287">&amp;</span><span class="ident" id="6133288">Reader</span><span class="op" id="6133294">{</span><span class="ident" id="6133295">d</span><span class="op" id="6133296">:</span>&nbsp;<span class="ident" id="6133298">d</span><span class="op" id="6133299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133302">r</span><span class="op" id="6133303">.</span><span class="ident" id="6133304">Seek</span><span class="op" id="6133308">(</span><span class="num" id="6133309">0</span><span class="op" id="6133310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133313">return</span>&nbsp;<span class="ident" id="6133320">r</span><br>
<span class="lineno"></span><span class="op" id="6133322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="6133325">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="6133397">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="6133448">func</span>&nbsp;<span class="op" id="6133453">(</span><span class="ident" id="6133454">r</span>&nbsp;<span class="op" id="6133456">*</span><span class="ident" id="6133457">Reader</span><span class="op" id="6133463">)</span>&nbsp;<span class="ident" id="6133465">Seek</span><span class="op" id="6133469">(</span><span class="ident" id="6133470">off</span>&nbsp;<span class="ident" id="6133474">Offset</span><span class="op" id="6133480">)</span>&nbsp;<span class="op" id="6133482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133485">d</span>&nbsp;<span class="op" id="6133487">:=</span>&nbsp;<span class="ident" id="6133490">r</span><span class="op" id="6133491">.</span><span class="ident" id="6133492">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133495">r</span><span class="op" id="6133496">.</span><span class="ident" id="6133497">err</span>&nbsp;<span class="op" id="6133501">=</span>&nbsp;<span class="ident" id="6133503">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133508">r</span><span class="op" id="6133509">.</span><span class="ident" id="6133510">lastChildren</span>&nbsp;<span class="op" id="6133523">=</span>&nbsp;<span class="builtintype" id="6133525">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133532">if</span>&nbsp;<span class="ident" id="6133535">off</span>&nbsp;<span class="op" id="6133539">==</span>&nbsp;<span class="num" id="6133542">0</span>&nbsp;<span class="op" id="6133544">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133548">if</span>&nbsp;<span class="builtinfunc" id="6133551">len</span><span class="op" id="6133554">(</span><span class="ident" id="6133555">d</span><span class="op" id="6133556">.</span><span class="ident" id="6133557">unit</span><span class="op" id="6133561">)</span>&nbsp;<span class="op" id="6133563">==</span>&nbsp;<span class="num" id="6133566">0</span>&nbsp;<span class="op" id="6133568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133573">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6133582">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133586">u</span>&nbsp;<span class="op" id="6133588">:=</span>&nbsp;<span class="op" id="6133591">&amp;</span><span class="ident" id="6133592">d</span><span class="op" id="6133593">.</span><span class="ident" id="6133594">unit</span><span class="op" id="6133598">[</span><span class="num" id="6133599">0</span><span class="op" id="6133600">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133604">r</span><span class="op" id="6133605">.</span><span class="ident" id="6133606">unit</span>&nbsp;<span class="op" id="6133611">=</span>&nbsp;<span class="num" id="6133613">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133617">r</span><span class="op" id="6133618">.</span><span class="ident" id="6133619">b</span>&nbsp;<span class="op" id="6133621">=</span>&nbsp;<span class="ident" id="6133623">makeBuf</span><span class="op" id="6133630">(</span><span class="ident" id="6133631">r</span><span class="op" id="6133632">.</span><span class="ident" id="6133633">d</span><span class="op" id="6133634">,</span>&nbsp;<span class="ident" id="6133636">u</span><span class="op" id="6133637">,</span>&nbsp;<span class="string" id="6133639">&#34;info&#34;</span><span class="op" id="6133645">,</span>&nbsp;<span class="ident" id="6133647">u</span><span class="op" id="6133648">.</span><span class="ident" id="6133649">off</span><span class="op" id="6133652">,</span>&nbsp;<span class="ident" id="6133654">u</span><span class="op" id="6133655">.</span><span class="ident" id="6133656">data</span><span class="op" id="6133660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133664">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6133672">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6133676">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133727">var</span>&nbsp;<span class="ident" id="6133731">i</span>&nbsp;<span class="builtintype" id="6133733">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133738">var</span>&nbsp;<span class="ident" id="6133742">u</span>&nbsp;<span class="op" id="6133744">*</span><span class="ident" id="6133745">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133751">for</span>&nbsp;<span class="ident" id="6133755">i</span>&nbsp;<span class="op" id="6133757">=</span>&nbsp;<span class="keyword" id="6133759">range</span>&nbsp;<span class="ident" id="6133765">d</span><span class="op" id="6133766">.</span><span class="ident" id="6133767">unit</span>&nbsp;<span class="op" id="6133772">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133776">u</span>&nbsp;<span class="op" id="6133778">=</span>&nbsp;<span class="op" id="6133780">&amp;</span><span class="ident" id="6133781">d</span><span class="op" id="6133782">.</span><span class="ident" id="6133783">unit</span><span class="op" id="6133787">[</span><span class="ident" id="6133788">i</span><span class="op" id="6133789">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133793">if</span>&nbsp;<span class="ident" id="6133796">u</span><span class="op" id="6133797">.</span><span class="ident" id="6133798">off</span>&nbsp;<span class="op" id="6133802">&lt;=</span>&nbsp;<span class="ident" id="6133805">off</span>&nbsp;<span class="op" id="6133809">&amp;&amp;</span>&nbsp;<span class="ident" id="6133812">off</span>&nbsp;<span class="op" id="6133816">&lt;</span>&nbsp;<span class="ident" id="6133818">u</span><span class="op" id="6133819">.</span><span class="ident" id="6133820">off</span><span class="op" id="6133823">+</span><span class="ident" id="6133824">Offset</span><span class="op" id="6133830">(</span><span class="builtinfunc" id="6133831">len</span><span class="op" id="6133834">(</span><span class="ident" id="6133835">u</span><span class="op" id="6133836">.</span><span class="ident" id="6133837">data</span><span class="op" id="6133841">)</span><span class="op" id="6133842">)</span>&nbsp;<span class="op" id="6133844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133849">r</span><span class="op" id="6133850">.</span><span class="ident" id="6133851">unit</span>&nbsp;<span class="op" id="6133856">=</span>&nbsp;<span class="ident" id="6133858">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133863">r</span><span class="op" id="6133864">.</span><span class="ident" id="6133865">b</span>&nbsp;<span class="op" id="6133867">=</span>&nbsp;<span class="ident" id="6133869">makeBuf</span><span class="op" id="6133876">(</span><span class="ident" id="6133877">r</span><span class="op" id="6133878">.</span><span class="ident" id="6133879">d</span><span class="op" id="6133880">,</span>&nbsp;<span class="ident" id="6133882">u</span><span class="op" id="6133883">,</span>&nbsp;<span class="string" id="6133885">&#34;info&#34;</span><span class="op" id="6133891">,</span>&nbsp;<span class="ident" id="6133893">off</span><span class="op" id="6133896">,</span>&nbsp;<span class="ident" id="6133898">u</span><span class="op" id="6133899">.</span><span class="ident" id="6133900">data</span><span class="op" id="6133904">[</span><span class="ident" id="6133905">off</span><span class="op" id="6133908">-</span><span class="ident" id="6133909">u</span><span class="op" id="6133910">.</span><span class="ident" id="6133911">off</span><span class="op" id="6133914">:</span><span class="op" id="6133915">]</span><span class="op" id="6133916">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6133921">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6133930">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6133933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6133936">r</span><span class="op" id="6133937">.</span><span class="ident" id="6133938">err</span>&nbsp;<span class="op" id="6133942">=</span>&nbsp;<span class="ident" id="6133944">errors</span><span class="op" id="6133950">.</span><span class="ident" id="6133951">New</span><span class="op" id="6133954">(</span><span class="string" id="6133955">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="6133976">)</span><br>
<span class="lineno"></span><span class="op" id="6133978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="6133981">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="6134049">func</span>&nbsp;<span class="op" id="6134054">(</span><span class="ident" id="6134055">r</span>&nbsp;<span class="op" id="6134057">*</span><span class="ident" id="6134058">Reader</span><span class="op" id="6134064">)</span>&nbsp;<span class="ident" id="6134066">maybeNextUnit</span><span class="op" id="6134079">(</span><span class="op" id="6134080">)</span>&nbsp;<span class="op" id="6134082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134085">for</span>&nbsp;<span class="builtinfunc" id="6134089">len</span><span class="op" id="6134092">(</span><span class="ident" id="6134093">r</span><span class="op" id="6134094">.</span><span class="ident" id="6134095">b</span><span class="op" id="6134096">.</span><span class="ident" id="6134097">data</span><span class="op" id="6134101">)</span>&nbsp;<span class="op" id="6134103">==</span>&nbsp;<span class="num" id="6134106">0</span>&nbsp;<span class="op" id="6134108">&amp;&amp;</span>&nbsp;<span class="ident" id="6134111">r</span><span class="op" id="6134112">.</span><span class="ident" id="6134113">unit</span><span class="op" id="6134117">+</span><span class="num" id="6134118">1</span>&nbsp;<span class="op" id="6134120">&lt;</span>&nbsp;<span class="builtinfunc" id="6134122">len</span><span class="op" id="6134125">(</span><span class="ident" id="6134126">r</span><span class="op" id="6134127">.</span><span class="ident" id="6134128">d</span><span class="op" id="6134129">.</span><span class="ident" id="6134130">unit</span><span class="op" id="6134134">)</span>&nbsp;<span class="op" id="6134136">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134140">r</span><span class="op" id="6134141">.</span><span class="ident" id="6134142">unit</span><span class="op" id="6134146">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134151">u</span>&nbsp;<span class="op" id="6134153">:=</span>&nbsp;<span class="op" id="6134156">&amp;</span><span class="ident" id="6134157">r</span><span class="op" id="6134158">.</span><span class="ident" id="6134159">d</span><span class="op" id="6134160">.</span><span class="ident" id="6134161">unit</span><span class="op" id="6134165">[</span><span class="ident" id="6134166">r</span><span class="op" id="6134167">.</span><span class="ident" id="6134168">unit</span><span class="op" id="6134172">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134176">r</span><span class="op" id="6134177">.</span><span class="ident" id="6134178">b</span>&nbsp;<span class="op" id="6134180">=</span>&nbsp;<span class="ident" id="6134182">makeBuf</span><span class="op" id="6134189">(</span><span class="ident" id="6134190">r</span><span class="op" id="6134191">.</span><span class="ident" id="6134192">d</span><span class="op" id="6134193">,</span>&nbsp;<span class="ident" id="6134195">u</span><span class="op" id="6134196">,</span>&nbsp;<span class="string" id="6134198">&#34;info&#34;</span><span class="op" id="6134204">,</span>&nbsp;<span class="ident" id="6134206">u</span><span class="op" id="6134207">.</span><span class="ident" id="6134208">off</span><span class="op" id="6134211">,</span>&nbsp;<span class="ident" id="6134213">u</span><span class="op" id="6134214">.</span><span class="ident" id="6134215">data</span><span class="op" id="6134219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134222">}</span><br>
<span class="lineno"></span><span class="op" id="6134224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6134227">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="6134287">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="6134350">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6134425">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="6134471">func</span>&nbsp;<span class="op" id="6134476">(</span><span class="ident" id="6134477">r</span>&nbsp;<span class="op" id="6134479">*</span><span class="ident" id="6134480">Reader</span><span class="op" id="6134486">)</span>&nbsp;<span class="ident" id="6134488">Next</span><span class="op" id="6134492">(</span><span class="op" id="6134493">)</span>&nbsp;<span class="op" id="6134495">(</span><span class="op" id="6134496">*</span><span class="ident" id="6134497">Entry</span><span class="op" id="6134502">,</span>&nbsp;<span class="builtintype" id="6134504">error</span><span class="op" id="6134509">)</span>&nbsp;<span class="op" id="6134511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134514">if</span>&nbsp;<span class="ident" id="6134517">r</span><span class="op" id="6134518">.</span><span class="ident" id="6134519">err</span>&nbsp;<span class="op" id="6134523">!=</span>&nbsp;<span class="ident" id="6134526">nil</span>&nbsp;<span class="op" id="6134530">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134534">return</span>&nbsp;<span class="ident" id="6134541">nil</span><span class="op" id="6134544">,</span>&nbsp;<span class="ident" id="6134546">r</span><span class="op" id="6134547">.</span><span class="ident" id="6134548">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134553">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134556">r</span><span class="op" id="6134557">.</span><span class="ident" id="6134558">maybeNextUnit</span><span class="op" id="6134571">(</span><span class="op" id="6134572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134575">if</span>&nbsp;<span class="builtinfunc" id="6134578">len</span><span class="op" id="6134581">(</span><span class="ident" id="6134582">r</span><span class="op" id="6134583">.</span><span class="ident" id="6134584">b</span><span class="op" id="6134585">.</span><span class="ident" id="6134586">data</span><span class="op" id="6134590">)</span>&nbsp;<span class="op" id="6134592">==</span>&nbsp;<span class="num" id="6134595">0</span>&nbsp;<span class="op" id="6134597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134601">return</span>&nbsp;<span class="ident" id="6134608">nil</span><span class="op" id="6134611">,</span>&nbsp;<span class="ident" id="6134613">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134621">u</span>&nbsp;<span class="op" id="6134623">:=</span>&nbsp;<span class="op" id="6134626">&amp;</span><span class="ident" id="6134627">r</span><span class="op" id="6134628">.</span><span class="ident" id="6134629">d</span><span class="op" id="6134630">.</span><span class="ident" id="6134631">unit</span><span class="op" id="6134635">[</span><span class="ident" id="6134636">r</span><span class="op" id="6134637">.</span><span class="ident" id="6134638">unit</span><span class="op" id="6134642">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134645">e</span>&nbsp;<span class="op" id="6134647">:=</span>&nbsp;<span class="ident" id="6134650">r</span><span class="op" id="6134651">.</span><span class="ident" id="6134652">b</span><span class="op" id="6134653">.</span><span class="ident" id="6134654">entry</span><span class="op" id="6134659">(</span><span class="ident" id="6134660">u</span><span class="op" id="6134661">.</span><span class="ident" id="6134662">atable</span><span class="op" id="6134668">,</span>&nbsp;<span class="ident" id="6134670">u</span><span class="op" id="6134671">.</span><span class="ident" id="6134672">base</span><span class="op" id="6134676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134679">if</span>&nbsp;<span class="ident" id="6134682">r</span><span class="op" id="6134683">.</span><span class="ident" id="6134684">b</span><span class="op" id="6134685">.</span><span class="ident" id="6134686">err</span>&nbsp;<span class="op" id="6134690">!=</span>&nbsp;<span class="ident" id="6134693">nil</span>&nbsp;<span class="op" id="6134697">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134701">r</span><span class="op" id="6134702">.</span><span class="ident" id="6134703">err</span>&nbsp;<span class="op" id="6134707">=</span>&nbsp;<span class="ident" id="6134709">r</span><span class="op" id="6134710">.</span><span class="ident" id="6134711">b</span><span class="op" id="6134712">.</span><span class="ident" id="6134713">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134719">return</span>&nbsp;<span class="ident" id="6134726">nil</span><span class="op" id="6134729">,</span>&nbsp;<span class="ident" id="6134731">r</span><span class="op" id="6134732">.</span><span class="ident" id="6134733">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134738">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134741">if</span>&nbsp;<span class="ident" id="6134744">e</span>&nbsp;<span class="op" id="6134746">!=</span>&nbsp;<span class="ident" id="6134749">nil</span>&nbsp;<span class="op" id="6134753">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134757">r</span><span class="op" id="6134758">.</span><span class="ident" id="6134759">lastChildren</span>&nbsp;<span class="op" id="6134772">=</span>&nbsp;<span class="ident" id="6134774">e</span><span class="op" id="6134775">.</span><span class="ident" id="6134776">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134787">if</span>&nbsp;<span class="ident" id="6134790">r</span><span class="op" id="6134791">.</span><span class="ident" id="6134792">lastChildren</span>&nbsp;<span class="op" id="6134805">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134810">r</span><span class="op" id="6134811">.</span><span class="ident" id="6134812">lastSibling</span><span class="op" id="6134823">,</span>&nbsp;<span class="ident" id="6134825">_</span>&nbsp;<span class="op" id="6134827">=</span>&nbsp;<span class="ident" id="6134829">e</span><span class="op" id="6134830">.</span><span class="ident" id="6134831">Val</span><span class="op" id="6134834">(</span><span class="ident" id="6134835">AttrSibling</span><span class="op" id="6134846">)</span><span class="op" id="6134847">.</span><span class="op" id="6134848">(</span><span class="ident" id="6134849">Offset</span><span class="op" id="6134855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134862">}</span>&nbsp;<span class="keyword" id="6134864">else</span>&nbsp;<span class="op" id="6134869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6134873">r</span><span class="op" id="6134874">.</span><span class="ident" id="6134875">lastChildren</span>&nbsp;<span class="op" id="6134888">=</span>&nbsp;<span class="builtintype" id="6134890">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6134897">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6134900">return</span>&nbsp;<span class="ident" id="6134907">e</span><span class="op" id="6134908">,</span>&nbsp;<span class="ident" id="6134910">nil</span><br>
<span class="lineno"></span><span class="op" id="6134914">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6134917">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="6134978">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="6135042">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="6135108">func</span>&nbsp;<span class="op" id="6135113">(</span><span class="ident" id="6135114">r</span>&nbsp;<span class="op" id="6135116">*</span><span class="ident" id="6135117">Reader</span><span class="op" id="6135123">)</span>&nbsp;<span class="ident" id="6135125">SkipChildren</span><span class="op" id="6135137">(</span><span class="op" id="6135138">)</span>&nbsp;<span class="op" id="6135140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135143">if</span>&nbsp;<span class="ident" id="6135146">r</span><span class="op" id="6135147">.</span><span class="ident" id="6135148">err</span>&nbsp;<span class="op" id="6135152">!=</span>&nbsp;<span class="ident" id="6135155">nil</span>&nbsp;<span class="op" id="6135159">||</span>&nbsp;<span class="op" id="6135162">!</span><span class="ident" id="6135163">r</span><span class="op" id="6135164">.</span><span class="ident" id="6135165">lastChildren</span>&nbsp;<span class="op" id="6135178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135182">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6135190">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6135194">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6135241">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6135289">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6135331">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135351">if</span>&nbsp;<span class="ident" id="6135354">r</span><span class="op" id="6135355">.</span><span class="ident" id="6135356">lastSibling</span>&nbsp;<span class="op" id="6135368">&gt;=</span>&nbsp;<span class="ident" id="6135371">r</span><span class="op" id="6135372">.</span><span class="ident" id="6135373">b</span><span class="op" id="6135374">.</span><span class="ident" id="6135375">off</span>&nbsp;<span class="op" id="6135379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6135383">r</span><span class="op" id="6135384">.</span><span class="ident" id="6135385">Seek</span><span class="op" id="6135389">(</span><span class="ident" id="6135390">r</span><span class="op" id="6135391">.</span><span class="ident" id="6135392">lastSibling</span><span class="op" id="6135403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135407">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6135415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135419">for</span>&nbsp;<span class="op" id="6135423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6135427">e</span><span class="op" id="6135428">,</span>&nbsp;<span class="ident" id="6135430">err</span>&nbsp;<span class="op" id="6135434">:=</span>&nbsp;<span class="ident" id="6135437">r</span><span class="op" id="6135438">.</span><span class="ident" id="6135439">Next</span><span class="op" id="6135443">(</span><span class="op" id="6135444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135448">if</span>&nbsp;<span class="ident" id="6135451">err</span>&nbsp;<span class="op" id="6135455">!=</span>&nbsp;<span class="ident" id="6135458">nil</span>&nbsp;<span class="op" id="6135462">||</span>&nbsp;<span class="ident" id="6135465">e</span>&nbsp;<span class="op" id="6135467">==</span>&nbsp;<span class="ident" id="6135470">nil</span>&nbsp;<span class="op" id="6135474">||</span>&nbsp;<span class="ident" id="6135477">e</span><span class="op" id="6135478">.</span><span class="ident" id="6135479">Tag</span>&nbsp;<span class="op" id="6135483">==</span>&nbsp;<span class="num" id="6135486">0</span>&nbsp;<span class="op" id="6135488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135493">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6135501">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135505">if</span>&nbsp;<span class="ident" id="6135508">e</span><span class="op" id="6135509">.</span><span class="ident" id="6135510">Children</span>&nbsp;<span class="op" id="6135519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6135524">r</span><span class="op" id="6135525">.</span><span class="ident" id="6135526">SkipChildren</span><span class="op" id="6135538">(</span><span class="op" id="6135539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6135543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6135546">}</span><br>
<span class="lineno"></span><span class="op" id="6135548">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="6135551">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="6135622">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="6135636">func</span>&nbsp;<span class="op" id="6135641">(</span><span class="ident" id="6135642">r</span>&nbsp;<span class="op" id="6135644">*</span><span class="ident" id="6135645">Reader</span><span class="op" id="6135651">)</span>&nbsp;<span class="ident" id="6135653">clone</span><span class="op" id="6135658">(</span><span class="op" id="6135659">)</span>&nbsp;<span class="ident" id="6135661">typeReader</span>&nbsp;<span class="op" id="6135672">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135675">return</span>&nbsp;<span class="ident" id="6135682">r</span><span class="op" id="6135683">.</span><span class="ident" id="6135684">d</span><span class="op" id="6135685">.</span><span class="ident" id="6135686">Reader</span><span class="op" id="6135692">(</span><span class="op" id="6135693">)</span><br>
<span class="lineno">395</span><span class="op" id="6135695">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6135698">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6135764">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="6135789">func</span>&nbsp;<span class="op" id="6135794">(</span><span class="ident" id="6135795">r</span>&nbsp;<span class="op" id="6135797">*</span><span class="ident" id="6135798">Reader</span><span class="op" id="6135804">)</span>&nbsp;<span class="ident" id="6135806">offset</span><span class="op" id="6135812">(</span><span class="op" id="6135813">)</span>&nbsp;<span class="ident" id="6135815">Offset</span>&nbsp;<span class="op" id="6135822">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6135825">return</span>&nbsp;<span class="ident" id="6135832">r</span><span class="op" id="6135833">.</span><span class="ident" id="6135834">b</span><span class="op" id="6135835">.</span><span class="ident" id="6135836">off</span><br>
<span class="lineno"></span><span class="op" id="6135840">}</span>
</div>
</body>
</html>
