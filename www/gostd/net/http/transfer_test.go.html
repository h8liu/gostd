<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7839876">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7839931">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7839985">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7840036">package</span>&nbsp;<span class="ident" id="7840044">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7840050">import</span>&nbsp;<span class="op" id="7840057">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840060">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840069">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840075">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840086">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7840096">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7840099">func</span>&nbsp;<span class="ident" id="7840104">TestBodyReadBadTrailer</span><span class="op" id="7840126">(</span><span class="ident" id="7840127">t</span>&nbsp;<span class="op" id="7840129">*</span><span class="ident" id="7840130">testing</span><span class="op" id="7840137">.</span><span class="ident" id="7840138">T</span><span class="op" id="7840139">)</span>&nbsp;<span class="op" id="7840141">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840144">b</span>&nbsp;<span class="op" id="7840146">:=</span>&nbsp;<span class="op" id="7840149">&amp;</span><span class="ident" id="7840150">body</span><span class="op" id="7840154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840158">src</span><span class="op" id="7840161">:</span>&nbsp;<span class="ident" id="7840163">strings</span><span class="op" id="7840170">.</span><span class="ident" id="7840171">NewReader</span><span class="op" id="7840180">(</span><span class="string" id="7840181">&#34;foobar&#34;</span><span class="op" id="7840189">)</span><span class="op" id="7840190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840194">hdr</span><span class="op" id="7840197">:</span>&nbsp;<span class="builtintype" id="7840199">true</span><span class="op" id="7840203">,</span>&nbsp;<span class="comment" id="7840205">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840236">r</span><span class="op" id="7840237">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7840241">bufio</span><span class="op" id="7840246">.</span><span class="ident" id="7840247">NewReader</span><span class="op" id="7840256">(</span><span class="ident" id="7840257">strings</span><span class="op" id="7840264">.</span><span class="ident" id="7840265">NewReader</span><span class="op" id="7840274">(</span><span class="string" id="7840275">&#34;&#34;</span><span class="op" id="7840277">)</span><span class="op" id="7840278">)</span><span class="op" id="7840279">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7840282">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840285">buf</span>&nbsp;<span class="op" id="7840289">:=</span>&nbsp;<span class="builtinfunc" id="7840292">make</span><span class="op" id="7840296">(</span><span class="op" id="7840297">[</span><span class="op" id="7840298">]</span><span class="builtintype" id="7840299">byte</span><span class="op" id="7840303">,</span>&nbsp;<span class="num" id="7840305">7</span><span class="op" id="7840306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840309">n</span><span class="op" id="7840310">,</span>&nbsp;<span class="ident" id="7840312">err</span>&nbsp;<span class="op" id="7840316">:=</span>&nbsp;<span class="ident" id="7840319">b</span><span class="op" id="7840320">.</span><span class="ident" id="7840321">Read</span><span class="op" id="7840325">(</span><span class="ident" id="7840326">buf</span><span class="op" id="7840329">[</span><span class="op" id="7840330">:</span><span class="num" id="7840331">3</span><span class="op" id="7840332">]</span><span class="op" id="7840333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840336">got</span>&nbsp;<span class="op" id="7840340">:=</span>&nbsp;<span class="builtintype" id="7840343">string</span><span class="op" id="7840349">(</span><span class="ident" id="7840350">buf</span><span class="op" id="7840353">[</span><span class="op" id="7840354">:</span><span class="ident" id="7840355">n</span><span class="op" id="7840356">]</span><span class="op" id="7840357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7840360">if</span>&nbsp;<span class="ident" id="7840363">got</span>&nbsp;<span class="op" id="7840367">!=</span>&nbsp;<span class="string" id="7840370">&#34;foo&#34;</span>&nbsp;<span class="op" id="7840376">||</span>&nbsp;<span class="ident" id="7840379">err</span>&nbsp;<span class="op" id="7840383">!=</span>&nbsp;<span class="ident" id="7840386">nil</span>&nbsp;<span class="op" id="7840390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840394">t</span><span class="op" id="7840395">.</span><span class="ident" id="7840396">Fatalf</span><span class="op" id="7840402">(</span><span class="string" id="7840403">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7840445">,</span>&nbsp;<span class="ident" id="7840447">n</span><span class="op" id="7840448">,</span>&nbsp;<span class="ident" id="7840450">got</span><span class="op" id="7840453">,</span>&nbsp;<span class="ident" id="7840455">err</span><span class="op" id="7840458">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7840461">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840465">n</span><span class="op" id="7840466">,</span>&nbsp;<span class="ident" id="7840468">err</span>&nbsp;<span class="op" id="7840472">=</span>&nbsp;<span class="ident" id="7840474">b</span><span class="op" id="7840475">.</span><span class="ident" id="7840476">Read</span><span class="op" id="7840480">(</span><span class="ident" id="7840481">buf</span><span class="op" id="7840484">[</span><span class="op" id="7840485">:</span><span class="op" id="7840486">]</span><span class="op" id="7840487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840490">got</span>&nbsp;<span class="op" id="7840494">=</span>&nbsp;<span class="builtintype" id="7840496">string</span><span class="op" id="7840502">(</span><span class="ident" id="7840503">buf</span><span class="op" id="7840506">[</span><span class="op" id="7840507">:</span><span class="ident" id="7840508">n</span><span class="op" id="7840509">]</span><span class="op" id="7840510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7840513">if</span>&nbsp;<span class="ident" id="7840516">got</span>&nbsp;<span class="op" id="7840520">!=</span>&nbsp;<span class="string" id="7840523">&#34;bar&#34;</span>&nbsp;<span class="op" id="7840529">||</span>&nbsp;<span class="ident" id="7840532">err</span>&nbsp;<span class="op" id="7840536">!=</span>&nbsp;<span class="ident" id="7840539">nil</span>&nbsp;<span class="op" id="7840543">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840547">t</span><span class="op" id="7840548">.</span><span class="ident" id="7840549">Fatalf</span><span class="op" id="7840555">(</span><span class="string" id="7840556">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7840599">,</span>&nbsp;<span class="ident" id="7840601">n</span><span class="op" id="7840602">,</span>&nbsp;<span class="ident" id="7840604">got</span><span class="op" id="7840607">,</span>&nbsp;<span class="ident" id="7840609">err</span><span class="op" id="7840612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7840615">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840619">n</span><span class="op" id="7840620">,</span>&nbsp;<span class="ident" id="7840622">err</span>&nbsp;<span class="op" id="7840626">=</span>&nbsp;<span class="ident" id="7840628">b</span><span class="op" id="7840629">.</span><span class="ident" id="7840630">Read</span><span class="op" id="7840634">(</span><span class="ident" id="7840635">buf</span><span class="op" id="7840638">[</span><span class="op" id="7840639">:</span><span class="op" id="7840640">]</span><span class="op" id="7840641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840644">got</span>&nbsp;<span class="op" id="7840648">=</span>&nbsp;<span class="builtintype" id="7840650">string</span><span class="op" id="7840656">(</span><span class="ident" id="7840657">buf</span><span class="op" id="7840660">[</span><span class="op" id="7840661">:</span><span class="ident" id="7840662">n</span><span class="op" id="7840663">]</span><span class="op" id="7840664">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7840667">if</span>&nbsp;<span class="ident" id="7840670">err</span>&nbsp;<span class="op" id="7840674">==</span>&nbsp;<span class="ident" id="7840677">nil</span>&nbsp;<span class="op" id="7840681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840685">t</span><span class="op" id="7840686">.</span><span class="ident" id="7840687">Errorf</span><span class="op" id="7840693">(</span><span class="string" id="7840694">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7840760">,</span>&nbsp;<span class="ident" id="7840762">got</span><span class="op" id="7840765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7840768">}</span><br>
<span class="lineno"></span><span class="op" id="7840770">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7840773">func</span>&nbsp;<span class="ident" id="7840778">TestFinalChunkedBodyReadEOF</span><span class="op" id="7840805">(</span><span class="ident" id="7840806">t</span>&nbsp;<span class="op" id="7840808">*</span><span class="ident" id="7840809">testing</span><span class="op" id="7840816">.</span><span class="ident" id="7840817">T</span><span class="op" id="7840818">)</span>&nbsp;<span class="op" id="7840820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7840823">res</span><span class="op" id="7840826">,</span>&nbsp;<span class="ident" id="7840828">err</span>&nbsp;<span class="op" id="7840832">:=</span>&nbsp;<span class="ident" id="7840835">ReadResponse</span><span class="op" id="7840847">(</span><span class="ident" id="7840848">bufio</span><span class="op" id="7840853">.</span><span class="ident" id="7840854">NewReader</span><span class="op" id="7840863">(</span><span class="ident" id="7840864">strings</span><span class="op" id="7840871">.</span><span class="ident" id="7840872">NewReader</span><span class="op" id="7840881">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840885">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7840906">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840911">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7840943">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840948">&#34;\r\n&#34;</span><span class="op" id="7840954">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840959">&#34;0a\r\n&#34;</span><span class="op" id="7840967">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840972">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7840989">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7840994">&#34;09\r\n&#34;</span><span class="op" id="7841002">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841007">&#34;continued\r\n&#34;</span><span class="op" id="7841022">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841027">&#34;0\r\n&#34;</span><span class="op" id="7841034">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7841039">&#34;\r\n&#34;</span><span class="op" id="7841045">)</span><span class="op" id="7841046">)</span><span class="op" id="7841047">,</span>&nbsp;<span class="ident" id="7841049">nil</span><span class="op" id="7841052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841055">if</span>&nbsp;<span class="ident" id="7841058">err</span>&nbsp;<span class="op" id="7841062">!=</span>&nbsp;<span class="ident" id="7841065">nil</span>&nbsp;<span class="op" id="7841069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841073">t</span><span class="op" id="7841074">.</span><span class="ident" id="7841075">Fatal</span><span class="op" id="7841080">(</span><span class="ident" id="7841081">err</span><span class="op" id="7841084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7841087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841090">want</span>&nbsp;<span class="op" id="7841095">:=</span>&nbsp;<span class="string" id="7841098">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841122">buf</span>&nbsp;<span class="op" id="7841126">:=</span>&nbsp;<span class="builtinfunc" id="7841129">make</span><span class="op" id="7841133">(</span><span class="op" id="7841134">[</span><span class="op" id="7841135">]</span><span class="builtintype" id="7841136">byte</span><span class="op" id="7841140">,</span>&nbsp;<span class="builtinfunc" id="7841142">len</span><span class="op" id="7841145">(</span><span class="ident" id="7841146">want</span><span class="op" id="7841150">)</span><span class="op" id="7841151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841154">n</span><span class="op" id="7841155">,</span>&nbsp;<span class="ident" id="7841157">err</span>&nbsp;<span class="op" id="7841161">:=</span>&nbsp;<span class="ident" id="7841164">res</span><span class="op" id="7841167">.</span><span class="ident" id="7841168">Body</span><span class="op" id="7841172">.</span><span class="ident" id="7841173">Read</span><span class="op" id="7841177">(</span><span class="ident" id="7841178">buf</span><span class="op" id="7841181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841184">if</span>&nbsp;<span class="ident" id="7841187">n</span>&nbsp;<span class="op" id="7841189">!=</span>&nbsp;<span class="builtinfunc" id="7841192">len</span><span class="op" id="7841195">(</span><span class="ident" id="7841196">want</span><span class="op" id="7841200">)</span>&nbsp;<span class="op" id="7841202">||</span>&nbsp;<span class="ident" id="7841205">err</span>&nbsp;<span class="op" id="7841209">!=</span>&nbsp;<span class="ident" id="7841212">io</span><span class="op" id="7841214">.</span><span class="ident" id="7841215">EOF</span>&nbsp;<span class="op" id="7841219">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841223">t</span><span class="op" id="7841224">.</span><span class="ident" id="7841225">Logf</span><span class="op" id="7841229">(</span><span class="string" id="7841230">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7841242">,</span>&nbsp;<span class="ident" id="7841244">res</span><span class="op" id="7841247">.</span><span class="ident" id="7841248">Body</span><span class="op" id="7841252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841256">t</span><span class="op" id="7841257">.</span><span class="ident" id="7841258">Errorf</span><span class="op" id="7841264">(</span><span class="string" id="7841265">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7841294">,</span>&nbsp;<span class="ident" id="7841296">n</span><span class="op" id="7841297">,</span>&nbsp;<span class="ident" id="7841299">err</span><span class="op" id="7841302">,</span>&nbsp;<span class="builtinfunc" id="7841304">len</span><span class="op" id="7841307">(</span><span class="ident" id="7841308">want</span><span class="op" id="7841312">)</span><span class="op" id="7841313">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7841316">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7841319">if</span>&nbsp;<span class="builtintype" id="7841322">string</span><span class="op" id="7841328">(</span><span class="ident" id="7841329">buf</span><span class="op" id="7841332">)</span>&nbsp;<span class="op" id="7841334">!=</span>&nbsp;<span class="ident" id="7841337">want</span>&nbsp;<span class="op" id="7841342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7841346">t</span><span class="op" id="7841347">.</span><span class="ident" id="7841348">Errorf</span><span class="op" id="7841354">(</span><span class="string" id="7841355">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7841374">,</span>&nbsp;<span class="ident" id="7841376">buf</span><span class="op" id="7841379">,</span>&nbsp;<span class="ident" id="7841381">want</span><span class="op" id="7841385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7841388">}</span><br>
<span class="lineno"></span><span class="op" id="7841390">}</span>
</div>
</body>
</html>
