<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2352155">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2352210">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2352264">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2352315">package</span>&nbsp;<span class="ident" id="2352323">math</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2352329">//&nbsp;Nextafter32&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float32&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="2352408">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno"></span><span class="comment" id="2352426">//&nbsp;&nbsp;&nbsp;&nbspNextafter32(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno">10</span><span class="comment" id="2352453">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2352487">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter32(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2352521">func</span>&nbsp;<span class="ident" id="2352526">Nextafter32</span><span class="op" id="2352537">(</span><span class="ident" id="2352538">x</span><span class="op" id="2352539">,</span>&nbsp;<span class="ident" id="2352541">y</span>&nbsp;<span class="builtintype" id="2352543">float32</span><span class="op" id="2352550">)</span>&nbsp;<span class="op" id="2352552">(</span><span class="ident" id="2352553">r</span>&nbsp;<span class="builtintype" id="2352555">float32</span><span class="op" id="2352562">)</span>&nbsp;<span class="op" id="2352564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352567">switch</span>&nbsp;<span class="op" id="2352574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352577">case</span>&nbsp;<span class="ident" id="2352582"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2352587">(</span><span class="builtintype" id="2352588">float64</span><span class="op" id="2352595">(</span><span class="ident" id="2352596"><a href="/math/nextafter.go.html#2352538">x</a></span><span class="op" id="2352597">)</span><span class="op" id="2352598">)</span>&nbsp;<span class="op" id="2352600">||</span>&nbsp;<span class="ident" id="2352603"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2352608">(</span><span class="builtintype" id="2352609">float64</span><span class="op" id="2352616">(</span><span class="ident" id="2352617"><a href="/math/nextafter.go.html#2352541">y</a></span><span class="op" id="2352618">)</span><span class="op" id="2352619">)</span><span class="op" id="2352620">:</span>&nbsp;<span class="comment" id="2352622">//&nbsp;special&nbsp;case</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2352640"><a href="/math/nextafter.go.html#2352553">r</a></span>&nbsp;<span class="op" id="2352642">=</span>&nbsp;<span class="builtintype" id="2352644">float32</span><span class="op" id="2352651">(</span><span class="ident" id="2352652"><a href="/math/bits.go.html#2251945">NaN</a></span><span class="op" id="2352655">(</span><span class="op" id="2352656">)</span><span class="op" id="2352657">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352660">case</span>&nbsp;<span class="ident" id="2352665"><a href="/math/nextafter.go.html#2352538">x</a></span>&nbsp;<span class="op" id="2352667">==</span>&nbsp;<span class="ident" id="2352670"><a href="/math/nextafter.go.html#2352541">y</a></span><span class="op" id="2352671">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2352675"><a href="/math/nextafter.go.html#2352553">r</a></span>&nbsp;<span class="op" id="2352677">=</span>&nbsp;<span class="ident" id="2352679"><a href="/math/nextafter.go.html#2352538">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352682">case</span>&nbsp;<span class="ident" id="2352687"><a href="/math/nextafter.go.html#2352538">x</a></span>&nbsp;<span class="op" id="2352689">==</span>&nbsp;<span class="num" id="2352692">0</span><span class="op" id="2352693">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2352697"><a href="/math/nextafter.go.html#2352553">r</a></span>&nbsp;<span class="op" id="2352699">=</span>&nbsp;<span class="builtintype" id="2352701">float32</span><span class="op" id="2352708">(</span><span class="ident" id="2352709"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2352717">(</span><span class="builtintype" id="2352718">float64</span><span class="op" id="2352725">(</span><span class="ident" id="2352726"><a href="/math/unsafe.go.html#2380556">Float32frombits</a></span><span class="op" id="2352741">(</span><span class="num" id="2352742">1</span><span class="op" id="2352743">)</span><span class="op" id="2352744">)</span><span class="op" id="2352745">,</span>&nbsp;<span class="builtintype" id="2352747">float64</span><span class="op" id="2352754">(</span><span class="ident" id="2352755"><a href="/math/nextafter.go.html#2352541">y</a></span><span class="op" id="2352756">)</span><span class="op" id="2352757">)</span><span class="op" id="2352758">)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352761">case</span>&nbsp;<span class="op" id="2352766">(</span><span class="ident" id="2352767"><a href="/math/nextafter.go.html#2352541">y</a></span>&nbsp;<span class="op" id="2352769">&gt;</span>&nbsp;<span class="ident" id="2352771"><a href="/math/nextafter.go.html#2352538">x</a></span><span class="op" id="2352772">)</span>&nbsp;<span class="op" id="2352774">==</span>&nbsp;<span class="op" id="2352777">(</span><span class="ident" id="2352778"><a href="/math/nextafter.go.html#2352538">x</a></span>&nbsp;<span class="op" id="2352780">&gt;</span>&nbsp;<span class="num" id="2352782">0</span><span class="op" id="2352783">)</span><span class="op" id="2352784">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2352788"><a href="/math/nextafter.go.html#2352553">r</a></span>&nbsp;<span class="op" id="2352790">=</span>&nbsp;<span class="ident" id="2352792"><a href="/math/unsafe.go.html#2380556">Float32frombits</a></span><span class="op" id="2352807">(</span><span class="ident" id="2352808"><a href="/math/unsafe.go.html#2380367">Float32bits</a></span><span class="op" id="2352819">(</span><span class="ident" id="2352820"><a href="/math/nextafter.go.html#2352538">x</a></span><span class="op" id="2352821">)</span>&nbsp;<span class="op" id="2352823">+</span>&nbsp;<span class="num" id="2352825">1</span><span class="op" id="2352826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352829">default</span><span class="op" id="2352836">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2352840"><a href="/math/nextafter.go.html#2352553">r</a></span>&nbsp;<span class="op" id="2352842">=</span>&nbsp;<span class="ident" id="2352844"><a href="/math/unsafe.go.html#2380556">Float32frombits</a></span><span class="op" id="2352859">(</span><span class="ident" id="2352860"><a href="/math/unsafe.go.html#2380367">Float32bits</a></span><span class="op" id="2352871">(</span><span class="ident" id="2352872"><a href="/math/nextafter.go.html#2352538">x</a></span><span class="op" id="2352873">)</span>&nbsp;<span class="op" id="2352875">-</span>&nbsp;<span class="num" id="2352877">1</span><span class="op" id="2352878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2352881">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2352884">return</span><br>
<span class="lineno"></span><span class="op" id="2352891">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2352894">//&nbsp;Nextafter&nbsp;returns&nbsp;the&nbsp;next&nbsp;representable&nbsp;float64&nbsp;value&nbsp;after&nbsp;x&nbsp;towards&nbsp;y.</span><br>
<span class="lineno"></span><span class="comment" id="2352971">//&nbsp;Special&nbsp;cases:</span><br>
<span class="lineno">30</span><span class="comment" id="2352989">//&nbsp;&nbsp;&nbsp;&nbspNextafter64(x,&nbsp;x)&nbsp;&nbsp;&nbsp;=&nbsp;x</span><br>
<span class="lineno"></span><span class="comment" id="2353016">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(NaN,&nbsp;y)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="comment" id="2353050">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nextafter64(x,&nbsp;NaN)&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span><span class="keyword" id="2353084">func</span>&nbsp;<span class="ident" id="2353089">Nextafter</span><span class="op" id="2353098">(</span><span class="ident" id="2353099">x</span><span class="op" id="2353100">,</span>&nbsp;<span class="ident" id="2353102">y</span>&nbsp;<span class="builtintype" id="2353104">float64</span><span class="op" id="2353111">)</span>&nbsp;<span class="op" id="2353113">(</span><span class="ident" id="2353114">r</span>&nbsp;<span class="builtintype" id="2353116">float64</span><span class="op" id="2353123">)</span>&nbsp;<span class="op" id="2353125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353128">switch</span>&nbsp;<span class="op" id="2353135">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353138">case</span>&nbsp;<span class="ident" id="2353143"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2353148">(</span><span class="ident" id="2353149"><a href="/math/nextafter.go.html#2353099">x</a></span><span class="op" id="2353150">)</span>&nbsp;<span class="op" id="2353152">||</span>&nbsp;<span class="ident" id="2353155"><a href="/math/bits.go.html#2252065">IsNaN</a></span><span class="op" id="2353160">(</span><span class="ident" id="2353161"><a href="/math/nextafter.go.html#2353102">y</a></span><span class="op" id="2353162">)</span><span class="op" id="2353163">:</span>&nbsp;<span class="comment" id="2353165">//&nbsp;special&nbsp;case</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2353183"><a href="/math/nextafter.go.html#2353114">r</a></span>&nbsp;<span class="op" id="2353185">=</span>&nbsp;<span class="ident" id="2353187"><a href="/math/bits.go.html#2251945">NaN</a></span><span class="op" id="2353190">(</span><span class="op" id="2353191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353194">case</span>&nbsp;<span class="ident" id="2353199"><a href="/math/nextafter.go.html#2353099">x</a></span>&nbsp;<span class="op" id="2353201">==</span>&nbsp;<span class="ident" id="2353204"><a href="/math/nextafter.go.html#2353102">y</a></span><span class="op" id="2353205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2353209"><a href="/math/nextafter.go.html#2353114">r</a></span>&nbsp;<span class="op" id="2353211">=</span>&nbsp;<span class="ident" id="2353213"><a href="/math/nextafter.go.html#2353099">x</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353216">case</span>&nbsp;<span class="ident" id="2353221"><a href="/math/nextafter.go.html#2353099">x</a></span>&nbsp;<span class="op" id="2353223">==</span>&nbsp;<span class="num" id="2353226">0</span><span class="op" id="2353227">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2353231"><a href="/math/nextafter.go.html#2353114">r</a></span>&nbsp;<span class="op" id="2353233">=</span>&nbsp;<span class="ident" id="2353235"><a href="/math/copysign.go.html#2257108">Copysign</a></span><span class="op" id="2353243">(</span><span class="ident" id="2353244"><a href="/math/unsafe.go.html#2380889">Float64frombits</a></span><span class="op" id="2353259">(</span><span class="num" id="2353260">1</span><span class="op" id="2353261">)</span><span class="op" id="2353262">,</span>&nbsp;<span class="ident" id="2353264"><a href="/math/nextafter.go.html#2353102">y</a></span><span class="op" id="2353265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353268">case</span>&nbsp;<span class="op" id="2353273">(</span><span class="ident" id="2353274"><a href="/math/nextafter.go.html#2353102">y</a></span>&nbsp;<span class="op" id="2353276">&gt;</span>&nbsp;<span class="ident" id="2353278"><a href="/math/nextafter.go.html#2353099">x</a></span><span class="op" id="2353279">)</span>&nbsp;<span class="op" id="2353281">==</span>&nbsp;<span class="op" id="2353284">(</span><span class="ident" id="2353285"><a href="/math/nextafter.go.html#2353099">x</a></span>&nbsp;<span class="op" id="2353287">&gt;</span>&nbsp;<span class="num" id="2353289">0</span><span class="op" id="2353290">)</span><span class="op" id="2353291">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2353295"><a href="/math/nextafter.go.html#2353114">r</a></span>&nbsp;<span class="op" id="2353297">=</span>&nbsp;<span class="ident" id="2353299"><a href="/math/unsafe.go.html#2380889">Float64frombits</a></span><span class="op" id="2353314">(</span><span class="ident" id="2353315"><a href="/math/unsafe.go.html#2380703">Float64bits</a></span><span class="op" id="2353326">(</span><span class="ident" id="2353327"><a href="/math/nextafter.go.html#2353099">x</a></span><span class="op" id="2353328">)</span>&nbsp;<span class="op" id="2353330">+</span>&nbsp;<span class="num" id="2353332">1</span><span class="op" id="2353333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353336">default</span><span class="op" id="2353343">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2353347"><a href="/math/nextafter.go.html#2353114">r</a></span>&nbsp;<span class="op" id="2353349">=</span>&nbsp;<span class="ident" id="2353351"><a href="/math/unsafe.go.html#2380889">Float64frombits</a></span><span class="op" id="2353366">(</span><span class="ident" id="2353367"><a href="/math/unsafe.go.html#2380703">Float64bits</a></span><span class="op" id="2353378">(</span><span class="ident" id="2353379"><a href="/math/nextafter.go.html#2353099">x</a></span><span class="op" id="2353380">)</span>&nbsp;<span class="op" id="2353382">-</span>&nbsp;<span class="num" id="2353384">1</span><span class="op" id="2353385">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2353388">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2353391">return</span><br>
<span class="lineno"></span><span class="op" id="2353398">}</span>
</div>
</body>
</html>
