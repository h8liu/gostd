<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2828683">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2828738">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2828792">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2828843">package</span>&nbsp;<span class="ident" id="2828851">asn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2828857">import</span>&nbsp;<span class="op" id="2828864">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828867">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828876">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828886">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828893">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828899">&#34;math/big&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828911">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828922">&#34;time&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2828930">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="2828945">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2828948">//&nbsp;A&nbsp;forkableWriter&nbsp;is&nbsp;an&nbsp;in-memory&nbsp;buffer&nbsp;that&nbsp;can&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="2829003">//&nbsp;&#39;forked&#39;&nbsp;to&nbsp;create&nbsp;new&nbsp;forkableWriters&nbsp;that&nbsp;bracket&nbsp;the</span><br>
<span class="lineno">20</span><span class="comment" id="2829062">//&nbsp;original.&nbsp;&nbsp;After</span><br>
<span class="lineno"></span><span class="comment" id="2829082">//&nbsp;&nbsp;&nbsp;&nbsp;pre,&nbsp;post&nbsp;:=&nbsp;w.fork();</span><br>
<span class="lineno"></span><span class="comment" id="2829111">//&nbsp;the&nbsp;overall&nbsp;sequence&nbsp;of&nbsp;bytes&nbsp;represented&nbsp;is&nbsp;logically&nbsp;w+pre+post.</span><br>
<span class="lineno"></span><span class="keyword" id="2829181">type</span>&nbsp;<span class="ident" id="2829186">forkableWriter</span>&nbsp;<span class="keyword" id="2829201">struct</span>&nbsp;<span class="op" id="2829208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829211">*</span><span class="ident" id="2829212"><a href="/encoding/asn1/marshal.go.html#2828867">bytes</a></span><span class="op" id="2829217">.</span><span class="ident" id="2829218">Buffer</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829226">pre</span><span class="op" id="2829229">,</span>&nbsp;<span class="ident" id="2829231">post</span>&nbsp;<span class="op" id="2829236">*</span><span class="ident" id="2829237"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><br>
<span class="lineno"></span><span class="op" id="2829252">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2829255">func</span>&nbsp;<span class="ident" id="2829260">newForkableWriter</span><span class="op" id="2829277">(</span><span class="op" id="2829278">)</span>&nbsp;<span class="op" id="2829280">*</span><span class="ident" id="2829281"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span>&nbsp;<span class="op" id="2829296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829299">return</span>&nbsp;<span class="op" id="2829306">&amp;</span><span class="ident" id="2829307"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2829321">{</span><span class="builtinfunc" id="2829322">new</span><span class="op" id="2829325">(</span><span class="ident" id="2829326"><a href="/encoding/asn1/marshal.go.html#2828867">bytes</a></span><span class="op" id="2829331">.</span><span class="ident" id="2829332">Buffer</span><span class="op" id="2829338">)</span><span class="op" id="2829339">,</span>&nbsp;<span class="ident" id="2829341">nil</span><span class="op" id="2829344">,</span>&nbsp;<span class="ident" id="2829346">nil</span><span class="op" id="2829349">}</span><br>
<span class="lineno">30</span><span class="op" id="2829351">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2829354">func</span>&nbsp;<span class="op" id="2829359">(</span><span class="ident" id="2829360">f</span>&nbsp;<span class="op" id="2829362">*</span><span class="ident" id="2829363"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2829377">)</span>&nbsp;<span class="ident" id="2829379">fork</span><span class="op" id="2829383">(</span><span class="op" id="2829384">)</span>&nbsp;<span class="op" id="2829386">(</span><span class="ident" id="2829387">pre</span><span class="op" id="2829390">,</span>&nbsp;<span class="ident" id="2829392">post</span>&nbsp;<span class="op" id="2829397">*</span><span class="ident" id="2829398"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2829412">)</span>&nbsp;<span class="op" id="2829414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829417">if</span>&nbsp;<span class="ident" id="2829420"><a href="/encoding/asn1/marshal.go.html#2829360">f</a></span><span class="op" id="2829421">.</span><span class="ident" id="2829422">pre</span>&nbsp;<span class="op" id="2829426">!=</span>&nbsp;<span class="ident" id="2829429">nil</span>&nbsp;<span class="op" id="2829433">||</span>&nbsp;<span class="ident" id="2829436"><a href="/encoding/asn1/marshal.go.html#2829360">f</a></span><span class="op" id="2829437">.</span><span class="ident" id="2829438">post</span>&nbsp;<span class="op" id="2829443">!=</span>&nbsp;<span class="ident" id="2829446">nil</span>&nbsp;<span class="op" id="2829450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2829454">panic</span><span class="op" id="2829459">(</span><span class="string" id="2829460">&#34;have&nbsp;already&nbsp;forked&#34;</span><span class="op" id="2829481">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829487"><a href="/encoding/asn1/marshal.go.html#2829360">f</a></span><span class="op" id="2829488">.</span><span class="ident" id="2829489">pre</span>&nbsp;<span class="op" id="2829493">=</span>&nbsp;<span class="ident" id="2829495"><a href="/encoding/asn1/marshal.go.html#2829260">newForkableWriter</a></span><span class="op" id="2829512">(</span><span class="op" id="2829513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829516"><a href="/encoding/asn1/marshal.go.html#2829360">f</a></span><span class="op" id="2829517">.</span><span class="ident" id="2829518">post</span>&nbsp;<span class="op" id="2829523">=</span>&nbsp;<span class="ident" id="2829525"><a href="/encoding/asn1/marshal.go.html#2829260">newForkableWriter</a></span><span class="op" id="2829542">(</span><span class="op" id="2829543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829546">return</span>&nbsp;<span class="ident" id="2829553"><a href="/encoding/asn1/marshal.go.html#2829360">f</a></span><span class="op" id="2829554">.</span><span class="ident" id="2829555">pre</span><span class="op" id="2829558">,</span>&nbsp;<span class="ident" id="2829560"><a href="/encoding/asn1/marshal.go.html#2829360">f</a></span><span class="op" id="2829561">.</span><span class="ident" id="2829562">post</span><br>
<span class="lineno"></span><span class="op" id="2829567">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="keyword" id="2829570">func</span>&nbsp;<span class="op" id="2829575">(</span><span class="ident" id="2829576">f</span>&nbsp;<span class="op" id="2829578">*</span><span class="ident" id="2829579"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2829593">)</span>&nbsp;<span class="ident" id="2829595">Len</span><span class="op" id="2829598">(</span><span class="op" id="2829599">)</span>&nbsp;<span class="op" id="2829601">(</span><span class="ident" id="2829602">l</span>&nbsp;<span class="builtintype" id="2829604">int</span><span class="op" id="2829607">)</span>&nbsp;<span class="op" id="2829609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829612"><a href="/encoding/asn1/marshal.go.html#2829602">l</a></span>&nbsp;<span class="op" id="2829614">+=</span>&nbsp;<span class="ident" id="2829617"><a href="/encoding/asn1/marshal.go.html#2829576">f</a></span><span class="op" id="2829618">.</span><span class="ident" id="2829619">Buffer</span><span class="op" id="2829625">.</span><span class="ident" id="2829626">Len</span><span class="op" id="2829629">(</span><span class="op" id="2829630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829633">if</span>&nbsp;<span class="ident" id="2829636"><a href="/encoding/asn1/marshal.go.html#2829576">f</a></span><span class="op" id="2829637">.</span><span class="ident" id="2829638">pre</span>&nbsp;<span class="op" id="2829642">!=</span>&nbsp;<span class="ident" id="2829645">nil</span>&nbsp;<span class="op" id="2829649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829653"><a href="/encoding/asn1/marshal.go.html#2829602">l</a></span>&nbsp;<span class="op" id="2829655">+=</span>&nbsp;<span class="ident" id="2829658"><a href="/encoding/asn1/marshal.go.html#2829576">f</a></span><span class="op" id="2829659">.</span><span class="ident" id="2829660">pre</span><span class="op" id="2829663">.</span><span class="ident" id="2829664">Len</span><span class="op" id="2829667">(</span><span class="op" id="2829668">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829674">if</span>&nbsp;<span class="ident" id="2829677"><a href="/encoding/asn1/marshal.go.html#2829576">f</a></span><span class="op" id="2829678">.</span><span class="ident" id="2829679">post</span>&nbsp;<span class="op" id="2829684">!=</span>&nbsp;<span class="ident" id="2829687">nil</span>&nbsp;<span class="op" id="2829691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829695"><a href="/encoding/asn1/marshal.go.html#2829602">l</a></span>&nbsp;<span class="op" id="2829697">+=</span>&nbsp;<span class="ident" id="2829700"><a href="/encoding/asn1/marshal.go.html#2829576">f</a></span><span class="op" id="2829701">.</span><span class="ident" id="2829702">post</span><span class="op" id="2829706">.</span><span class="ident" id="2829707">Len</span><span class="op" id="2829710">(</span><span class="op" id="2829711">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829714">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829717">return</span><br>
<span class="lineno">50</span><span class="op" id="2829724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2829727">func</span>&nbsp;<span class="op" id="2829732">(</span><span class="ident" id="2829733">f</span>&nbsp;<span class="op" id="2829735">*</span><span class="ident" id="2829736"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2829750">)</span>&nbsp;<span class="ident" id="2829752">writeTo</span><span class="op" id="2829759">(</span><span class="ident" id="2829760">out</span>&nbsp;<span class="ident" id="2829764"><a href="/encoding/asn1/marshal.go.html#2828893">io</a></span><span class="op" id="2829766">.</span><span class="ident" id="2829767">Writer</span><span class="op" id="2829773">)</span>&nbsp;<span class="op" id="2829775">(</span><span class="ident" id="2829776">n</span>&nbsp;<span class="builtintype" id="2829778">int</span><span class="op" id="2829781">,</span>&nbsp;<span class="ident" id="2829783">err</span>&nbsp;<span class="builtintype" id="2829787">error</span><span class="op" id="2829792">)</span>&nbsp;<span class="op" id="2829794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829797"><a href="/encoding/asn1/marshal.go.html#2829776">n</a></span><span class="op" id="2829798">,</span>&nbsp;<span class="ident" id="2829800"><a href="/encoding/asn1/marshal.go.html#2829783">err</a></span>&nbsp;<span class="op" id="2829804">=</span>&nbsp;<span class="ident" id="2829806"><a href="/encoding/asn1/marshal.go.html#2829760">out</a></span><span class="op" id="2829809">.</span><span class="ident" id="2829810">Write</span><span class="op" id="2829815">(</span><span class="ident" id="2829816"><a href="/encoding/asn1/marshal.go.html#2829733">f</a></span><span class="op" id="2829817">.</span><span class="ident" id="2829818">Bytes</span><span class="op" id="2829823">(</span><span class="op" id="2829824">)</span><span class="op" id="2829825">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829828">if</span>&nbsp;<span class="ident" id="2829831"><a href="/encoding/asn1/marshal.go.html#2829783">err</a></span>&nbsp;<span class="op" id="2829835">!=</span>&nbsp;<span class="ident" id="2829838">nil</span>&nbsp;<span class="op" id="2829842">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829846">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829854">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829858">var</span>&nbsp;<span class="ident" id="2829862">nn</span>&nbsp;<span class="builtintype" id="2829865">int</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829871">if</span>&nbsp;<span class="ident" id="2829874"><a href="/encoding/asn1/marshal.go.html#2829733">f</a></span><span class="op" id="2829875">.</span><span class="ident" id="2829876">pre</span>&nbsp;<span class="op" id="2829880">!=</span>&nbsp;<span class="ident" id="2829883">nil</span>&nbsp;<span class="op" id="2829887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829891"><a href="/encoding/asn1/marshal.go.html#2829862">nn</a></span><span class="op" id="2829893">,</span>&nbsp;<span class="ident" id="2829895"><a href="/encoding/asn1/marshal.go.html#2829783">err</a></span>&nbsp;<span class="op" id="2829899">=</span>&nbsp;<span class="ident" id="2829901"><a href="/encoding/asn1/marshal.go.html#2829733">f</a></span><span class="op" id="2829902">.</span><span class="ident" id="2829903">pre</span><span class="op" id="2829906">.</span><span class="ident" id="2829907">writeTo</span><span class="op" id="2829914">(</span><span class="ident" id="2829915"><a href="/encoding/asn1/marshal.go.html#2829760">out</a></span><span class="op" id="2829918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829922"><a href="/encoding/asn1/marshal.go.html#2829776">n</a></span>&nbsp;<span class="op" id="2829924">+=</span>&nbsp;<span class="ident" id="2829927"><a href="/encoding/asn1/marshal.go.html#2829862">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829932">if</span>&nbsp;<span class="ident" id="2829935"><a href="/encoding/asn1/marshal.go.html#2829783">err</a></span>&nbsp;<span class="op" id="2829939">!=</span>&nbsp;<span class="ident" id="2829942">nil</span>&nbsp;<span class="op" id="2829946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829951">return</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2829963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2829967">if</span>&nbsp;<span class="ident" id="2829970"><a href="/encoding/asn1/marshal.go.html#2829733">f</a></span><span class="op" id="2829971">.</span><span class="ident" id="2829972">post</span>&nbsp;<span class="op" id="2829977">!=</span>&nbsp;<span class="ident" id="2829980">nil</span>&nbsp;<span class="op" id="2829984">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2829988"><a href="/encoding/asn1/marshal.go.html#2829862">nn</a></span><span class="op" id="2829990">,</span>&nbsp;<span class="ident" id="2829992"><a href="/encoding/asn1/marshal.go.html#2829783">err</a></span>&nbsp;<span class="op" id="2829996">=</span>&nbsp;<span class="ident" id="2829998"><a href="/encoding/asn1/marshal.go.html#2829733">f</a></span><span class="op" id="2829999">.</span><span class="ident" id="2830000">post</span><span class="op" id="2830004">.</span><span class="ident" id="2830005">writeTo</span><span class="op" id="2830012">(</span><span class="ident" id="2830013"><a href="/encoding/asn1/marshal.go.html#2829760">out</a></span><span class="op" id="2830016">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830020"><a href="/encoding/asn1/marshal.go.html#2829776">n</a></span>&nbsp;<span class="op" id="2830022">+=</span>&nbsp;<span class="ident" id="2830025"><a href="/encoding/asn1/marshal.go.html#2829862">nn</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830032">return</span><br>
<span class="lineno"></span><span class="op" id="2830039">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="keyword" id="2830042">func</span>&nbsp;<span class="ident" id="2830047">marshalBase128Int</span><span class="op" id="2830064">(</span><span class="ident" id="2830065">out</span>&nbsp;<span class="op" id="2830069">*</span><span class="ident" id="2830070"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2830084">,</span>&nbsp;<span class="ident" id="2830086">n</span>&nbsp;<span class="ident" id="2830088">int64</span><span class="op" id="2830093">)</span>&nbsp;<span class="op" id="2830095">(</span><span class="ident" id="2830096">err</span>&nbsp;<span class="builtintype" id="2830100">error</span><span class="op" id="2830105">)</span>&nbsp;<span class="op" id="2830107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830110">if</span>&nbsp;<span class="ident" id="2830113"><a href="/encoding/asn1/marshal.go.html#2830086">n</a></span>&nbsp;<span class="op" id="2830115">==</span>&nbsp;<span class="num" id="2830118">0</span>&nbsp;<span class="op" id="2830120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830124"><a href="/encoding/asn1/marshal.go.html#2830096">err</a></span>&nbsp;<span class="op" id="2830128">=</span>&nbsp;<span class="ident" id="2830130"><a href="/encoding/asn1/marshal.go.html#2830065">out</a></span><span class="op" id="2830133">.</span><span class="ident" id="2830134">WriteByte</span><span class="op" id="2830143">(</span><span class="num" id="2830144">0</span><span class="op" id="2830145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830149">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830157">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830161">l</span>&nbsp;<span class="op" id="2830163">:=</span>&nbsp;<span class="num" id="2830166">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830169">for</span>&nbsp;<span class="ident" id="2830173">i</span>&nbsp;<span class="op" id="2830175">:=</span>&nbsp;<span class="ident" id="2830178"><a href="/encoding/asn1/marshal.go.html#2830086">n</a></span><span class="op" id="2830179">;</span>&nbsp;<span class="ident" id="2830181"><a href="/encoding/asn1/marshal.go.html#2830173">i</a></span>&nbsp;<span class="op" id="2830183">&gt;</span>&nbsp;<span class="num" id="2830185">0</span><span class="op" id="2830186">;</span>&nbsp;<span class="ident" id="2830188"><a href="/encoding/asn1/marshal.go.html#2830173">i</a></span>&nbsp;<span class="op" id="2830190">&gt;&gt;=</span>&nbsp;<span class="num" id="2830194">7</span>&nbsp;<span class="op" id="2830196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830200"><a href="/encoding/asn1/marshal.go.html#2830161">l</a></span><span class="op" id="2830201">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830205">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830209">for</span>&nbsp;<span class="ident" id="2830213">i</span>&nbsp;<span class="op" id="2830215">:=</span>&nbsp;<span class="ident" id="2830218"><a href="/encoding/asn1/marshal.go.html#2830161">l</a></span>&nbsp;<span class="op" id="2830220">-</span>&nbsp;<span class="num" id="2830222">1</span><span class="op" id="2830223">;</span>&nbsp;<span class="ident" id="2830225"><a href="/encoding/asn1/marshal.go.html#2830213">i</a></span>&nbsp;<span class="op" id="2830227">&gt;=</span>&nbsp;<span class="num" id="2830230">0</span><span class="op" id="2830231">;</span>&nbsp;<span class="ident" id="2830233"><a href="/encoding/asn1/marshal.go.html#2830213">i</a></span><span class="op" id="2830234">--</span>&nbsp;<span class="op" id="2830237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830241">o</span>&nbsp;<span class="op" id="2830243">:=</span>&nbsp;<span class="builtintype" id="2830246">byte</span><span class="op" id="2830250">(</span><span class="ident" id="2830251"><a href="/encoding/asn1/marshal.go.html#2830086">n</a></span>&nbsp;<span class="op" id="2830253">&gt;&gt;</span>&nbsp;<span class="builtintype" id="2830256">uint</span><span class="op" id="2830260">(</span><span class="ident" id="2830261"><a href="/encoding/asn1/marshal.go.html#2830213">i</a></span><span class="op" id="2830262">*</span><span class="num" id="2830263">7</span><span class="op" id="2830264">)</span><span class="op" id="2830265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830269"><a href="/encoding/asn1/marshal.go.html#2830241">o</a></span>&nbsp;<span class="op" id="2830271">&amp;=</span>&nbsp;<span class="num" id="2830274">0x7f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830281">if</span>&nbsp;<span class="ident" id="2830284"><a href="/encoding/asn1/marshal.go.html#2830213">i</a></span>&nbsp;<span class="op" id="2830286">!=</span>&nbsp;<span class="num" id="2830289">0</span>&nbsp;<span class="op" id="2830291">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830296"><a href="/encoding/asn1/marshal.go.html#2830241">o</a></span>&nbsp;<span class="op" id="2830298">|=</span>&nbsp;<span class="num" id="2830301">0x80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830308">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830312"><a href="/encoding/asn1/marshal.go.html#2830096">err</a></span>&nbsp;<span class="op" id="2830316">=</span>&nbsp;<span class="ident" id="2830318"><a href="/encoding/asn1/marshal.go.html#2830065">out</a></span><span class="op" id="2830321">.</span><span class="ident" id="2830322">WriteByte</span><span class="op" id="2830331">(</span><span class="ident" id="2830332"><a href="/encoding/asn1/marshal.go.html#2830241">o</a></span><span class="op" id="2830333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830337">if</span>&nbsp;<span class="ident" id="2830340"><a href="/encoding/asn1/marshal.go.html#2830096">err</a></span>&nbsp;<span class="op" id="2830344">!=</span>&nbsp;<span class="ident" id="2830347">nil</span>&nbsp;<span class="op" id="2830351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830356">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830365">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830372">return</span>&nbsp;<span class="ident" id="2830379">nil</span><br>
<span class="lineno"></span><span class="op" id="2830383">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="2830386">func</span>&nbsp;<span class="ident" id="2830391">marshalInt64</span><span class="op" id="2830403">(</span><span class="ident" id="2830404">out</span>&nbsp;<span class="op" id="2830408">*</span><span class="ident" id="2830409"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2830423">,</span>&nbsp;<span class="ident" id="2830425">i</span>&nbsp;<span class="ident" id="2830427">int64</span><span class="op" id="2830432">)</span>&nbsp;<span class="op" id="2830434">(</span><span class="ident" id="2830435">err</span>&nbsp;<span class="builtintype" id="2830439">error</span><span class="op" id="2830444">)</span>&nbsp;<span class="op" id="2830446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830449">n</span>&nbsp;<span class="op" id="2830451">:=</span>&nbsp;<span class="ident" id="2830454"><a href="/encoding/asn1/marshal.go.html#2830594">int64Length</a></span><span class="op" id="2830465">(</span><span class="ident" id="2830466"><a href="/encoding/asn1/marshal.go.html#2830425">i</a></span><span class="op" id="2830467">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830471">for</span>&nbsp;<span class="op" id="2830475">;</span>&nbsp;<span class="ident" id="2830477"><a href="/encoding/asn1/marshal.go.html#2830449">n</a></span>&nbsp;<span class="op" id="2830479">&gt;</span>&nbsp;<span class="num" id="2830481">0</span><span class="op" id="2830482">;</span>&nbsp;<span class="ident" id="2830484"><a href="/encoding/asn1/marshal.go.html#2830449">n</a></span><span class="op" id="2830485">--</span>&nbsp;<span class="op" id="2830488">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830492"><a href="/encoding/asn1/marshal.go.html#2830435">err</a></span>&nbsp;<span class="op" id="2830496">=</span>&nbsp;<span class="ident" id="2830498"><a href="/encoding/asn1/marshal.go.html#2830404">out</a></span><span class="op" id="2830501">.</span><span class="ident" id="2830502">WriteByte</span><span class="op" id="2830511">(</span><span class="builtintype" id="2830512">byte</span><span class="op" id="2830516">(</span><span class="ident" id="2830517"><a href="/encoding/asn1/marshal.go.html#2830425">i</a></span>&nbsp;<span class="op" id="2830519">&gt;&gt;</span>&nbsp;<span class="builtintype" id="2830522">uint</span><span class="op" id="2830526">(</span><span class="op" id="2830527">(</span><span class="ident" id="2830528"><a href="/encoding/asn1/marshal.go.html#2830449">n</a></span><span class="op" id="2830529">-</span><span class="num" id="2830530">1</span><span class="op" id="2830531">)</span><span class="op" id="2830532">*</span><span class="num" id="2830533">8</span><span class="op" id="2830534">)</span><span class="op" id="2830535">)</span><span class="op" id="2830536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830540">if</span>&nbsp;<span class="ident" id="2830543"><a href="/encoding/asn1/marshal.go.html#2830435">err</a></span>&nbsp;<span class="op" id="2830547">!=</span>&nbsp;<span class="ident" id="2830550">nil</span>&nbsp;<span class="op" id="2830554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830559">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830571">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830575">return</span>&nbsp;<span class="ident" id="2830582">nil</span><br>
<span class="lineno"></span><span class="op" id="2830586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2830589">func</span>&nbsp;<span class="ident" id="2830594">int64Length</span><span class="op" id="2830605">(</span><span class="ident" id="2830606">i</span>&nbsp;<span class="ident" id="2830608">int64</span><span class="op" id="2830613">)</span>&nbsp;<span class="op" id="2830615">(</span><span class="ident" id="2830616">numBytes</span>&nbsp;<span class="builtintype" id="2830625">int</span><span class="op" id="2830628">)</span>&nbsp;<span class="op" id="2830630">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830633"><a href="/encoding/asn1/marshal.go.html#2830616">numBytes</a></span>&nbsp;<span class="op" id="2830642">=</span>&nbsp;<span class="num" id="2830644">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830648">for</span>&nbsp;<span class="ident" id="2830652"><a href="/encoding/asn1/marshal.go.html#2830606">i</a></span>&nbsp;<span class="op" id="2830654">&gt;</span>&nbsp;<span class="num" id="2830656">127</span>&nbsp;<span class="op" id="2830660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830664"><a href="/encoding/asn1/marshal.go.html#2830616">numBytes</a></span><span class="op" id="2830672">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830677"><a href="/encoding/asn1/marshal.go.html#2830606">i</a></span>&nbsp;<span class="op" id="2830679">&gt;&gt;=</span>&nbsp;<span class="num" id="2830683">8</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830690">for</span>&nbsp;<span class="ident" id="2830694"><a href="/encoding/asn1/marshal.go.html#2830606">i</a></span>&nbsp;<span class="op" id="2830696">&lt;</span>&nbsp;<span class="op" id="2830698">-</span><span class="num" id="2830699">128</span>&nbsp;<span class="op" id="2830703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830707"><a href="/encoding/asn1/marshal.go.html#2830616">numBytes</a></span><span class="op" id="2830715">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2830720"><a href="/encoding/asn1/marshal.go.html#2830606">i</a></span>&nbsp;<span class="op" id="2830722">&gt;&gt;=</span>&nbsp;<span class="num" id="2830726">8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2830729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830733">return</span><br>
<span class="lineno"></span><span class="op" id="2830740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="keyword" id="2830743">func</span>&nbsp;<span class="ident" id="2830748">marshalBigInt</span><span class="op" id="2830761">(</span><span class="ident" id="2830762">out</span>&nbsp;<span class="op" id="2830766">*</span><span class="ident" id="2830767"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2830781">,</span>&nbsp;<span class="ident" id="2830783">n</span>&nbsp;<span class="op" id="2830785">*</span><span class="ident" id="2830786"><a href="/encoding/asn1/marshal.go.html#2828899">big</a></span><span class="op" id="2830789">.</span><span class="ident" id="2830790">Int</span><span class="op" id="2830793">)</span>&nbsp;<span class="op" id="2830795">(</span><span class="ident" id="2830796">err</span>&nbsp;<span class="builtintype" id="2830800">error</span><span class="op" id="2830805">)</span>&nbsp;<span class="op" id="2830807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2830810">if</span>&nbsp;<span class="ident" id="2830813"><a href="/encoding/asn1/marshal.go.html#2830783">n</a></span><span class="op" id="2830814">.</span><span class="ident" id="2830815">Sign</span><span class="op" id="2830819">(</span><span class="op" id="2830820">)</span>&nbsp;<span class="op" id="2830822">&lt;</span>&nbsp;<span class="num" id="2830824">0</span>&nbsp;<span class="op" id="2830826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2830830">//&nbsp;A&nbsp;negative&nbsp;number&nbsp;has&nbsp;to&nbsp;be&nbsp;converted&nbsp;to&nbsp;two&#39;s-complement</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2830893">//&nbsp;form.&nbsp;So&nbsp;we&#39;ll&nbsp;subtract&nbsp;1&nbsp;and&nbsp;invert.&nbsp;If&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2830943">//&nbsp;most-significant-bit&nbsp;isn&#39;t&nbsp;set&nbsp;then&nbsp;we&#39;ll&nbsp;need&nbsp;to&nbsp;pad&nbsp;the</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831006">//&nbsp;beginning&nbsp;with&nbsp;0xff&nbsp;in&nbsp;order&nbsp;to&nbsp;keep&nbsp;the&nbsp;number&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831069">nMinus1</span>&nbsp;<span class="op" id="2831077">:=</span>&nbsp;<span class="builtinfunc" id="2831080">new</span><span class="op" id="2831083">(</span><span class="ident" id="2831084"><a href="/encoding/asn1/marshal.go.html#2828899">big</a></span><span class="op" id="2831087">.</span><span class="ident" id="2831088">Int</span><span class="op" id="2831091">)</span><span class="op" id="2831092">.</span><span class="ident" id="2831093">Neg</span><span class="op" id="2831096">(</span><span class="ident" id="2831097"><a href="/encoding/asn1/marshal.go.html#2830783">n</a></span><span class="op" id="2831098">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831102"><a href="/encoding/asn1/marshal.go.html#2831069">nMinus1</a></span><span class="op" id="2831109">.</span><span class="ident" id="2831110">Sub</span><span class="op" id="2831113">(</span><span class="ident" id="2831114"><a href="/encoding/asn1/marshal.go.html#2831069">nMinus1</a></span><span class="op" id="2831121">,</span>&nbsp;<span class="ident" id="2831123"><a href="/encoding/asn1/asn1.go.html#2800814">bigOne</a></span><span class="op" id="2831129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831133">bytes</span>&nbsp;<span class="op" id="2831139">:=</span>&nbsp;<span class="ident" id="2831142"><a href="/encoding/asn1/marshal.go.html#2831069">nMinus1</a></span><span class="op" id="2831149">.</span><span class="ident" id="2831150">Bytes</span><span class="op" id="2831155">(</span><span class="op" id="2831156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831160">for</span>&nbsp;<span class="ident" id="2831164">i</span>&nbsp;<span class="op" id="2831166">:=</span>&nbsp;<span class="keyword" id="2831169">range</span>&nbsp;<span class="ident" id="2831175"><a href="/encoding/asn1/marshal.go.html#2831133">bytes</a></span>&nbsp;<span class="op" id="2831181">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831186"><a href="/encoding/asn1/marshal.go.html#2831133">bytes</a></span><span class="op" id="2831191">[</span><span class="ident" id="2831192"><a href="/encoding/asn1/marshal.go.html#2831164">i</a></span><span class="op" id="2831193">]</span>&nbsp;<span class="op" id="2831195">^=</span>&nbsp;<span class="num" id="2831198">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831205">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831209">if</span>&nbsp;<span class="builtinfunc" id="2831212">len</span><span class="op" id="2831215">(</span><span class="ident" id="2831216"><a href="/encoding/asn1/marshal.go.html#2831133">bytes</a></span><span class="op" id="2831221">)</span>&nbsp;<span class="op" id="2831223">==</span>&nbsp;<span class="num" id="2831226">0</span>&nbsp;<span class="op" id="2831228">||</span>&nbsp;<span class="ident" id="2831231"><a href="/encoding/asn1/marshal.go.html#2831133">bytes</a></span><span class="op" id="2831236">[</span><span class="num" id="2831237">0</span><span class="op" id="2831238">]</span><span class="op" id="2831239">&amp;</span><span class="num" id="2831240">0x80</span>&nbsp;<span class="op" id="2831245">==</span>&nbsp;<span class="num" id="2831248">0</span>&nbsp;<span class="op" id="2831250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831255"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831259">=</span>&nbsp;<span class="ident" id="2831261"><a href="/encoding/asn1/marshal.go.html#2830762">out</a></span><span class="op" id="2831264">.</span><span class="ident" id="2831265">WriteByte</span><span class="op" id="2831274">(</span><span class="num" id="2831275">0xff</span><span class="op" id="2831279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831284">if</span>&nbsp;<span class="ident" id="2831287"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831291">!=</span>&nbsp;<span class="ident" id="2831294">nil</span>&nbsp;<span class="op" id="2831298">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831304">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831322">_</span><span class="op" id="2831323">,</span>&nbsp;<span class="ident" id="2831325"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831329">=</span>&nbsp;<span class="ident" id="2831331"><a href="/encoding/asn1/marshal.go.html#2830762">out</a></span><span class="op" id="2831334">.</span><span class="ident" id="2831335">Write</span><span class="op" id="2831340">(</span><span class="ident" id="2831341"><a href="/encoding/asn1/marshal.go.html#2831133">bytes</a></span><span class="op" id="2831346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831349">}</span>&nbsp;<span class="keyword" id="2831351">else</span>&nbsp;<span class="keyword" id="2831356">if</span>&nbsp;<span class="ident" id="2831359"><a href="/encoding/asn1/marshal.go.html#2830783">n</a></span><span class="op" id="2831360">.</span><span class="ident" id="2831361">Sign</span><span class="op" id="2831365">(</span><span class="op" id="2831366">)</span>&nbsp;<span class="op" id="2831368">==</span>&nbsp;<span class="num" id="2831371">0</span>&nbsp;<span class="op" id="2831373">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831377">//&nbsp;Zero&nbsp;is&nbsp;written&nbsp;as&nbsp;a&nbsp;single&nbsp;0&nbsp;zero&nbsp;rather&nbsp;than&nbsp;no&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831439"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831443">=</span>&nbsp;<span class="ident" id="2831445"><a href="/encoding/asn1/marshal.go.html#2830762">out</a></span><span class="op" id="2831448">.</span><span class="ident" id="2831449">WriteByte</span><span class="op" id="2831458">(</span><span class="num" id="2831459">0x00</span><span class="op" id="2831463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831466">}</span>&nbsp;<span class="keyword" id="2831468">else</span>&nbsp;<span class="op" id="2831473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831477">bytes</span>&nbsp;<span class="op" id="2831483">:=</span>&nbsp;<span class="ident" id="2831486"><a href="/encoding/asn1/marshal.go.html#2830783">n</a></span><span class="op" id="2831487">.</span><span class="ident" id="2831488">Bytes</span><span class="op" id="2831493">(</span><span class="op" id="2831494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831498">if</span>&nbsp;<span class="builtinfunc" id="2831501">len</span><span class="op" id="2831504">(</span><span class="ident" id="2831505"><a href="/encoding/asn1/marshal.go.html#2831477">bytes</a></span><span class="op" id="2831510">)</span>&nbsp;<span class="op" id="2831512">&gt;</span>&nbsp;<span class="num" id="2831514">0</span>&nbsp;<span class="op" id="2831516">&amp;&amp;</span>&nbsp;<span class="ident" id="2831519"><a href="/encoding/asn1/marshal.go.html#2831477">bytes</a></span><span class="op" id="2831524">[</span><span class="num" id="2831525">0</span><span class="op" id="2831526">]</span><span class="op" id="2831527">&amp;</span><span class="num" id="2831528">0x80</span>&nbsp;<span class="op" id="2831533">!=</span>&nbsp;<span class="num" id="2831536">0</span>&nbsp;<span class="op" id="2831538">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831543">//&nbsp;We&#39;ll&nbsp;have&nbsp;to&nbsp;pad&nbsp;this&nbsp;with&nbsp;0x00&nbsp;in&nbsp;order&nbsp;to&nbsp;stop&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2831602">//&nbsp;looking&nbsp;like&nbsp;a&nbsp;negative&nbsp;number.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831640"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831644">=</span>&nbsp;<span class="ident" id="2831646"><a href="/encoding/asn1/marshal.go.html#2830762">out</a></span><span class="op" id="2831649">.</span><span class="ident" id="2831650">WriteByte</span><span class="op" id="2831659">(</span><span class="num" id="2831660">0</span><span class="op" id="2831661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831666">if</span>&nbsp;<span class="ident" id="2831669"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831673">!=</span>&nbsp;<span class="ident" id="2831676">nil</span>&nbsp;<span class="op" id="2831680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831686">return</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831696">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831700">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831704">_</span><span class="op" id="2831705">,</span>&nbsp;<span class="ident" id="2831707"><a href="/encoding/asn1/marshal.go.html#2830796">err</a></span>&nbsp;<span class="op" id="2831711">=</span>&nbsp;<span class="ident" id="2831713"><a href="/encoding/asn1/marshal.go.html#2830762">out</a></span><span class="op" id="2831716">.</span><span class="ident" id="2831717">Write</span><span class="op" id="2831722">(</span><span class="ident" id="2831723"><a href="/encoding/asn1/marshal.go.html#2831477">bytes</a></span><span class="op" id="2831728">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831731">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831734">return</span><br>
<span class="lineno">165</span><span class="op" id="2831741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2831744">func</span>&nbsp;<span class="ident" id="2831749">marshalLength</span><span class="op" id="2831762">(</span><span class="ident" id="2831763">out</span>&nbsp;<span class="op" id="2831767">*</span><span class="ident" id="2831768"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2831782">,</span>&nbsp;<span class="ident" id="2831784">i</span>&nbsp;<span class="builtintype" id="2831786">int</span><span class="op" id="2831789">)</span>&nbsp;<span class="op" id="2831791">(</span><span class="ident" id="2831792">err</span>&nbsp;<span class="builtintype" id="2831796">error</span><span class="op" id="2831801">)</span>&nbsp;<span class="op" id="2831803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831806">n</span>&nbsp;<span class="op" id="2831808">:=</span>&nbsp;<span class="ident" id="2831811"><a href="/encoding/asn1/marshal.go.html#2831952">lengthLength</a></span><span class="op" id="2831823">(</span><span class="ident" id="2831824"><a href="/encoding/asn1/marshal.go.html#2831784">i</a></span><span class="op" id="2831825">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831829">for</span>&nbsp;<span class="op" id="2831833">;</span>&nbsp;<span class="ident" id="2831835"><a href="/encoding/asn1/marshal.go.html#2831806">n</a></span>&nbsp;<span class="op" id="2831837">&gt;</span>&nbsp;<span class="num" id="2831839">0</span><span class="op" id="2831840">;</span>&nbsp;<span class="ident" id="2831842"><a href="/encoding/asn1/marshal.go.html#2831806">n</a></span><span class="op" id="2831843">--</span>&nbsp;<span class="op" id="2831846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831850"><a href="/encoding/asn1/marshal.go.html#2831792">err</a></span>&nbsp;<span class="op" id="2831854">=</span>&nbsp;<span class="ident" id="2831856"><a href="/encoding/asn1/marshal.go.html#2831763">out</a></span><span class="op" id="2831859">.</span><span class="ident" id="2831860">WriteByte</span><span class="op" id="2831869">(</span><span class="builtintype" id="2831870">byte</span><span class="op" id="2831874">(</span><span class="ident" id="2831875"><a href="/encoding/asn1/marshal.go.html#2831784">i</a></span>&nbsp;<span class="op" id="2831877">&gt;&gt;</span>&nbsp;<span class="builtintype" id="2831880">uint</span><span class="op" id="2831884">(</span><span class="op" id="2831885">(</span><span class="ident" id="2831886"><a href="/encoding/asn1/marshal.go.html#2831806">n</a></span><span class="op" id="2831887">-</span><span class="num" id="2831888">1</span><span class="op" id="2831889">)</span><span class="op" id="2831890">*</span><span class="num" id="2831891">8</span><span class="op" id="2831892">)</span><span class="op" id="2831893">)</span><span class="op" id="2831894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831898">if</span>&nbsp;<span class="ident" id="2831901"><a href="/encoding/asn1/marshal.go.html#2831792">err</a></span>&nbsp;<span class="op" id="2831905">!=</span>&nbsp;<span class="ident" id="2831908">nil</span>&nbsp;<span class="op" id="2831912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831917">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831926">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2831929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2831933">return</span>&nbsp;<span class="ident" id="2831940">nil</span><br>
<span class="lineno"></span><span class="op" id="2831944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="keyword" id="2831947">func</span>&nbsp;<span class="ident" id="2831952">lengthLength</span><span class="op" id="2831964">(</span><span class="ident" id="2831965">i</span>&nbsp;<span class="builtintype" id="2831967">int</span><span class="op" id="2831970">)</span>&nbsp;<span class="op" id="2831972">(</span><span class="ident" id="2831973">numBytes</span>&nbsp;<span class="builtintype" id="2831982">int</span><span class="op" id="2831985">)</span>&nbsp;<span class="op" id="2831987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2831990"><a href="/encoding/asn1/marshal.go.html#2831973">numBytes</a></span>&nbsp;<span class="op" id="2831999">=</span>&nbsp;<span class="num" id="2832001">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832004">for</span>&nbsp;<span class="ident" id="2832008"><a href="/encoding/asn1/marshal.go.html#2831965">i</a></span>&nbsp;<span class="op" id="2832010">&gt;</span>&nbsp;<span class="num" id="2832012">255</span>&nbsp;<span class="op" id="2832016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832020"><a href="/encoding/asn1/marshal.go.html#2831973">numBytes</a></span><span class="op" id="2832028">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832033"><a href="/encoding/asn1/marshal.go.html#2831965">i</a></span>&nbsp;<span class="op" id="2832035">&gt;&gt;=</span>&nbsp;<span class="num" id="2832039">8</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832045">return</span><br>
<span class="lineno"></span><span class="op" id="2832052">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2832055">func</span>&nbsp;<span class="ident" id="2832060">marshalTagAndLength</span><span class="op" id="2832079">(</span><span class="ident" id="2832080">out</span>&nbsp;<span class="op" id="2832084">*</span><span class="ident" id="2832085"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2832099">,</span>&nbsp;<span class="ident" id="2832101">t</span>&nbsp;<span class="ident" id="2832103"><a href="/encoding/asn1/common.go.html#2824828">tagAndLength</a></span><span class="op" id="2832115">)</span>&nbsp;<span class="op" id="2832117">(</span><span class="ident" id="2832118">err</span>&nbsp;<span class="builtintype" id="2832122">error</span><span class="op" id="2832127">)</span>&nbsp;<span class="op" id="2832129">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832132">b</span>&nbsp;<span class="op" id="2832134">:=</span>&nbsp;<span class="builtintype" id="2832137">uint8</span><span class="op" id="2832142">(</span><span class="ident" id="2832143"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832144">.</span><span class="ident" id="2832145">class</span><span class="op" id="2832150">)</span>&nbsp;<span class="op" id="2832152">&lt;&lt;</span>&nbsp;<span class="num" id="2832155">6</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832158">if</span>&nbsp;<span class="ident" id="2832161"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832162">.</span><span class="ident" id="2832163">isCompound</span>&nbsp;<span class="op" id="2832174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832178"><a href="/encoding/asn1/marshal.go.html#2832132">b</a></span>&nbsp;<span class="op" id="2832180">|=</span>&nbsp;<span class="num" id="2832183">0x20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832189">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832192">if</span>&nbsp;<span class="ident" id="2832195"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832196">.</span><span class="ident" id="2832197">tag</span>&nbsp;<span class="op" id="2832201">&gt;=</span>&nbsp;<span class="num" id="2832204">31</span>&nbsp;<span class="op" id="2832207">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832211"><a href="/encoding/asn1/marshal.go.html#2832132">b</a></span>&nbsp;<span class="op" id="2832213">|=</span>&nbsp;<span class="num" id="2832216">0x1f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832223"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832227">=</span>&nbsp;<span class="ident" id="2832229"><a href="/encoding/asn1/marshal.go.html#2832080">out</a></span><span class="op" id="2832232">.</span><span class="ident" id="2832233">WriteByte</span><span class="op" id="2832242">(</span><span class="ident" id="2832243"><a href="/encoding/asn1/marshal.go.html#2832132">b</a></span><span class="op" id="2832244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832248">if</span>&nbsp;<span class="ident" id="2832251"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832255">!=</span>&nbsp;<span class="ident" id="2832258">nil</span>&nbsp;<span class="op" id="2832262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832267">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832276">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832280"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832284">=</span>&nbsp;<span class="ident" id="2832286"><a href="/encoding/asn1/marshal.go.html#2830047">marshalBase128Int</a></span><span class="op" id="2832303">(</span><span class="ident" id="2832304"><a href="/encoding/asn1/marshal.go.html#2832080">out</a></span><span class="op" id="2832307">,</span>&nbsp;<span class="ident" id="2832309">int64</span><span class="op" id="2832314">(</span><span class="ident" id="2832315"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832316">.</span><span class="ident" id="2832317">tag</span><span class="op" id="2832320">)</span><span class="op" id="2832321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832325">if</span>&nbsp;<span class="ident" id="2832328"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832332">!=</span>&nbsp;<span class="ident" id="2832335">nil</span>&nbsp;<span class="op" id="2832339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832344">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832353">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832356">}</span>&nbsp;<span class="keyword" id="2832358">else</span>&nbsp;<span class="op" id="2832363">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832367"><a href="/encoding/asn1/marshal.go.html#2832132">b</a></span>&nbsp;<span class="op" id="2832369">|=</span>&nbsp;<span class="builtintype" id="2832372">uint8</span><span class="op" id="2832377">(</span><span class="ident" id="2832378"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832379">.</span><span class="ident" id="2832380">tag</span><span class="op" id="2832383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832387"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832391">=</span>&nbsp;<span class="ident" id="2832393"><a href="/encoding/asn1/marshal.go.html#2832080">out</a></span><span class="op" id="2832396">.</span><span class="ident" id="2832397">WriteByte</span><span class="op" id="2832406">(</span><span class="ident" id="2832407"><a href="/encoding/asn1/marshal.go.html#2832132">b</a></span><span class="op" id="2832408">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832412">if</span>&nbsp;<span class="ident" id="2832415"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832419">!=</span>&nbsp;<span class="ident" id="2832422">nil</span>&nbsp;<span class="op" id="2832426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832431">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832440">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832443">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832447">if</span>&nbsp;<span class="ident" id="2832450"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832451">.</span><span class="ident" id="2832452">length</span>&nbsp;<span class="op" id="2832459">&gt;=</span>&nbsp;<span class="num" id="2832462">128</span>&nbsp;<span class="op" id="2832466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832470">l</span>&nbsp;<span class="op" id="2832472">:=</span>&nbsp;<span class="ident" id="2832475"><a href="/encoding/asn1/marshal.go.html#2831952">lengthLength</a></span><span class="op" id="2832487">(</span><span class="ident" id="2832488"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832489">.</span><span class="ident" id="2832490">length</span><span class="op" id="2832496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832500"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832504">=</span>&nbsp;<span class="ident" id="2832506"><a href="/encoding/asn1/marshal.go.html#2832080">out</a></span><span class="op" id="2832509">.</span><span class="ident" id="2832510">WriteByte</span><span class="op" id="2832519">(</span><span class="num" id="2832520">0x80</span>&nbsp;<span class="op" id="2832525">|</span>&nbsp;<span class="builtintype" id="2832527">byte</span><span class="op" id="2832531">(</span><span class="ident" id="2832532"><a href="/encoding/asn1/marshal.go.html#2832470">l</a></span><span class="op" id="2832533">)</span><span class="op" id="2832534">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832538">if</span>&nbsp;<span class="ident" id="2832541"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832545">!=</span>&nbsp;<span class="ident" id="2832548">nil</span>&nbsp;<span class="op" id="2832552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832557">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832570"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832574">=</span>&nbsp;<span class="ident" id="2832576"><a href="/encoding/asn1/marshal.go.html#2831749">marshalLength</a></span><span class="op" id="2832589">(</span><span class="ident" id="2832590"><a href="/encoding/asn1/marshal.go.html#2832080">out</a></span><span class="op" id="2832593">,</span>&nbsp;<span class="ident" id="2832595"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832596">.</span><span class="ident" id="2832597">length</span><span class="op" id="2832603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832607">if</span>&nbsp;<span class="ident" id="2832610"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832614">!=</span>&nbsp;<span class="ident" id="2832617">nil</span>&nbsp;<span class="op" id="2832621">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832626">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832638">}</span>&nbsp;<span class="keyword" id="2832640">else</span>&nbsp;<span class="op" id="2832645">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832649"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832653">=</span>&nbsp;<span class="ident" id="2832655"><a href="/encoding/asn1/marshal.go.html#2832080">out</a></span><span class="op" id="2832658">.</span><span class="ident" id="2832659">WriteByte</span><span class="op" id="2832668">(</span><span class="builtintype" id="2832669">byte</span><span class="op" id="2832673">(</span><span class="ident" id="2832674"><a href="/encoding/asn1/marshal.go.html#2832101">t</a></span><span class="op" id="2832675">.</span><span class="ident" id="2832676">length</span><span class="op" id="2832682">)</span><span class="op" id="2832683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832687">if</span>&nbsp;<span class="ident" id="2832690"><a href="/encoding/asn1/marshal.go.html#2832118">err</a></span>&nbsp;<span class="op" id="2832694">!=</span>&nbsp;<span class="ident" id="2832697">nil</span>&nbsp;<span class="op" id="2832701">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832706">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832722">return</span>&nbsp;<span class="ident" id="2832729">nil</span><br>
<span class="lineno">230</span><span class="op" id="2832733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2832736">func</span>&nbsp;<span class="ident" id="2832741">marshalBitString</span><span class="op" id="2832757">(</span><span class="ident" id="2832758">out</span>&nbsp;<span class="op" id="2832762">*</span><span class="ident" id="2832763"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2832777">,</span>&nbsp;<span class="ident" id="2832779">b</span>&nbsp;<span class="ident" id="2832781"><a href="/encoding/asn1/asn1.go.html#2801517">BitString</a></span><span class="op" id="2832790">)</span>&nbsp;<span class="op" id="2832792">(</span><span class="ident" id="2832793">err</span>&nbsp;<span class="builtintype" id="2832797">error</span><span class="op" id="2832802">)</span>&nbsp;<span class="op" id="2832804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832807">paddingBits</span>&nbsp;<span class="op" id="2832819">:=</span>&nbsp;<span class="builtintype" id="2832822">byte</span><span class="op" id="2832826">(</span><span class="op" id="2832827">(</span><span class="num" id="2832828">8</span>&nbsp;<span class="op" id="2832830">-</span>&nbsp;<span class="ident" id="2832832"><a href="/encoding/asn1/marshal.go.html#2832779">b</a></span><span class="op" id="2832833">.</span><span class="ident" id="2832834">BitLength</span><span class="op" id="2832843">%</span><span class="num" id="2832844">8</span><span class="op" id="2832845">)</span>&nbsp;<span class="op" id="2832847">%</span>&nbsp;<span class="num" id="2832849">8</span><span class="op" id="2832850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832853"><a href="/encoding/asn1/marshal.go.html#2832793">err</a></span>&nbsp;<span class="op" id="2832857">=</span>&nbsp;<span class="ident" id="2832859"><a href="/encoding/asn1/marshal.go.html#2832758">out</a></span><span class="op" id="2832862">.</span><span class="ident" id="2832863">WriteByte</span><span class="op" id="2832872">(</span><span class="ident" id="2832873"><a href="/encoding/asn1/marshal.go.html#2832807">paddingBits</a></span><span class="op" id="2832884">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832887">if</span>&nbsp;<span class="ident" id="2832890"><a href="/encoding/asn1/marshal.go.html#2832793">err</a></span>&nbsp;<span class="op" id="2832894">!=</span>&nbsp;<span class="ident" id="2832897">nil</span>&nbsp;<span class="op" id="2832901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832905">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2832913">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2832916">_</span><span class="op" id="2832917">,</span>&nbsp;<span class="ident" id="2832919"><a href="/encoding/asn1/marshal.go.html#2832793">err</a></span>&nbsp;<span class="op" id="2832923">=</span>&nbsp;<span class="ident" id="2832925"><a href="/encoding/asn1/marshal.go.html#2832758">out</a></span><span class="op" id="2832928">.</span><span class="ident" id="2832929">Write</span><span class="op" id="2832934">(</span><span class="ident" id="2832935"><a href="/encoding/asn1/marshal.go.html#2832779">b</a></span><span class="op" id="2832936">.</span><span class="ident" id="2832937">Bytes</span><span class="op" id="2832942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2832945">return</span><br>
<span class="lineno">240</span><span class="op" id="2832952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2832955">func</span>&nbsp;<span class="ident" id="2832960">marshalObjectIdentifier</span><span class="op" id="2832983">(</span><span class="ident" id="2832984">out</span>&nbsp;<span class="op" id="2832988">*</span><span class="ident" id="2832989"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2833003">,</span>&nbsp;<span class="ident" id="2833005">oid</span>&nbsp;<span class="op" id="2833009">[</span><span class="op" id="2833010">]</span><span class="builtintype" id="2833011">int</span><span class="op" id="2833014">)</span>&nbsp;<span class="op" id="2833016">(</span><span class="ident" id="2833017">err</span>&nbsp;<span class="builtintype" id="2833021">error</span><span class="op" id="2833026">)</span>&nbsp;<span class="op" id="2833028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833031">if</span>&nbsp;<span class="builtinfunc" id="2833034">len</span><span class="op" id="2833037">(</span><span class="ident" id="2833038"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833041">)</span>&nbsp;<span class="op" id="2833043">&lt;</span>&nbsp;<span class="num" id="2833045">2</span>&nbsp;<span class="op" id="2833047">||</span>&nbsp;<span class="ident" id="2833050"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833053">[</span><span class="num" id="2833054">0</span><span class="op" id="2833055">]</span>&nbsp;<span class="op" id="2833057">&gt;</span>&nbsp;<span class="num" id="2833059">2</span>&nbsp;<span class="op" id="2833061">||</span>&nbsp;<span class="op" id="2833064">(</span><span class="ident" id="2833065"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833068">[</span><span class="num" id="2833069">0</span><span class="op" id="2833070">]</span>&nbsp;<span class="op" id="2833072">&lt;</span>&nbsp;<span class="num" id="2833074">2</span>&nbsp;<span class="op" id="2833076">&amp;&amp;</span>&nbsp;<span class="ident" id="2833079"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833082">[</span><span class="num" id="2833083">1</span><span class="op" id="2833084">]</span>&nbsp;<span class="op" id="2833086">&gt;=</span>&nbsp;<span class="num" id="2833089">40</span><span class="op" id="2833091">)</span>&nbsp;<span class="op" id="2833093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833097">return</span>&nbsp;<span class="ident" id="2833104"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2833119">{</span><span class="string" id="2833120">&#34;invalid&nbsp;object&nbsp;identifier&#34;</span><span class="op" id="2833147">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833154"><a href="/encoding/asn1/marshal.go.html#2833017">err</a></span>&nbsp;<span class="op" id="2833158">=</span>&nbsp;<span class="ident" id="2833160"><a href="/encoding/asn1/marshal.go.html#2830047">marshalBase128Int</a></span><span class="op" id="2833177">(</span><span class="ident" id="2833178"><a href="/encoding/asn1/marshal.go.html#2832984">out</a></span><span class="op" id="2833181">,</span>&nbsp;<span class="ident" id="2833183">int64</span><span class="op" id="2833188">(</span><span class="ident" id="2833189"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833192">[</span><span class="num" id="2833193">0</span><span class="op" id="2833194">]</span><span class="op" id="2833195">*</span><span class="num" id="2833196">40</span><span class="op" id="2833198">+</span><span class="ident" id="2833199"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833202">[</span><span class="num" id="2833203">1</span><span class="op" id="2833204">]</span><span class="op" id="2833205">)</span><span class="op" id="2833206">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833209">if</span>&nbsp;<span class="ident" id="2833212"><a href="/encoding/asn1/marshal.go.html#2833017">err</a></span>&nbsp;<span class="op" id="2833216">!=</span>&nbsp;<span class="ident" id="2833219">nil</span>&nbsp;<span class="op" id="2833223">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833227">return</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833235">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833238">for</span>&nbsp;<span class="ident" id="2833242">i</span>&nbsp;<span class="op" id="2833244">:=</span>&nbsp;<span class="num" id="2833247">2</span><span class="op" id="2833248">;</span>&nbsp;<span class="ident" id="2833250"><a href="/encoding/asn1/marshal.go.html#2833242">i</a></span>&nbsp;<span class="op" id="2833252">&lt;</span>&nbsp;<span class="builtinfunc" id="2833254">len</span><span class="op" id="2833257">(</span><span class="ident" id="2833258"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833261">)</span><span class="op" id="2833262">;</span>&nbsp;<span class="ident" id="2833264"><a href="/encoding/asn1/marshal.go.html#2833242">i</a></span><span class="op" id="2833265">++</span>&nbsp;<span class="op" id="2833268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833272"><a href="/encoding/asn1/marshal.go.html#2833017">err</a></span>&nbsp;<span class="op" id="2833276">=</span>&nbsp;<span class="ident" id="2833278"><a href="/encoding/asn1/marshal.go.html#2830047">marshalBase128Int</a></span><span class="op" id="2833295">(</span><span class="ident" id="2833296"><a href="/encoding/asn1/marshal.go.html#2832984">out</a></span><span class="op" id="2833299">,</span>&nbsp;<span class="ident" id="2833301">int64</span><span class="op" id="2833306">(</span><span class="ident" id="2833307"><a href="/encoding/asn1/marshal.go.html#2833005">oid</a></span><span class="op" id="2833310">[</span><span class="ident" id="2833311"><a href="/encoding/asn1/marshal.go.html#2833242">i</a></span><span class="op" id="2833312">]</span><span class="op" id="2833313">)</span><span class="op" id="2833314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833318">if</span>&nbsp;<span class="ident" id="2833321"><a href="/encoding/asn1/marshal.go.html#2833017">err</a></span>&nbsp;<span class="op" id="2833325">!=</span>&nbsp;<span class="ident" id="2833328">nil</span>&nbsp;<span class="op" id="2833332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833337">return</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833346">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833353">return</span><br>
<span class="lineno"></span><span class="op" id="2833360">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="2833363">func</span>&nbsp;<span class="ident" id="2833368">marshalPrintableString</span><span class="op" id="2833390">(</span><span class="ident" id="2833391">out</span>&nbsp;<span class="op" id="2833395">*</span><span class="ident" id="2833396"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2833410">,</span>&nbsp;<span class="ident" id="2833412">s</span>&nbsp;<span class="builtintype" id="2833414">string</span><span class="op" id="2833420">)</span>&nbsp;<span class="op" id="2833422">(</span><span class="ident" id="2833423">err</span>&nbsp;<span class="builtintype" id="2833427">error</span><span class="op" id="2833432">)</span>&nbsp;<span class="op" id="2833434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833437">b</span>&nbsp;<span class="op" id="2833439">:=</span>&nbsp;<span class="op" id="2833442">[</span><span class="op" id="2833443">]</span><span class="builtintype" id="2833444">byte</span><span class="op" id="2833448">(</span><span class="ident" id="2833449"><a href="/encoding/asn1/marshal.go.html#2833412">s</a></span><span class="op" id="2833450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833453">for</span>&nbsp;<span class="ident" id="2833457">_</span><span class="op" id="2833458">,</span>&nbsp;<span class="ident" id="2833460">c</span>&nbsp;<span class="op" id="2833462">:=</span>&nbsp;<span class="keyword" id="2833465">range</span>&nbsp;<span class="ident" id="2833471"><a href="/encoding/asn1/marshal.go.html#2833437">b</a></span>&nbsp;<span class="op" id="2833473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833477">if</span>&nbsp;<span class="op" id="2833480">!</span><span class="ident" id="2833481"><a href="/encoding/asn1/asn1.go.html#2806238">isPrintable</a></span><span class="op" id="2833492">(</span><span class="ident" id="2833493"><a href="/encoding/asn1/marshal.go.html#2833460">c</a></span><span class="op" id="2833494">)</span>&nbsp;<span class="op" id="2833496">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833501">return</span>&nbsp;<span class="ident" id="2833508"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2833523">{</span><span class="string" id="2833524">&#34;PrintableString&nbsp;contains&nbsp;invalid&nbsp;character&#34;</span><span class="op" id="2833568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833579">_</span><span class="op" id="2833580">,</span>&nbsp;<span class="ident" id="2833582"><a href="/encoding/asn1/marshal.go.html#2833423">err</a></span>&nbsp;<span class="op" id="2833586">=</span>&nbsp;<span class="ident" id="2833588"><a href="/encoding/asn1/marshal.go.html#2833391">out</a></span><span class="op" id="2833591">.</span><span class="ident" id="2833592">Write</span><span class="op" id="2833597">(</span><span class="ident" id="2833598"><a href="/encoding/asn1/marshal.go.html#2833437">b</a></span><span class="op" id="2833599">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833602">return</span><br>
<span class="lineno"></span><span class="op" id="2833609">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2833612">func</span>&nbsp;<span class="ident" id="2833617">marshalIA5String</span><span class="op" id="2833633">(</span><span class="ident" id="2833634">out</span>&nbsp;<span class="op" id="2833638">*</span><span class="ident" id="2833639"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2833653">,</span>&nbsp;<span class="ident" id="2833655">s</span>&nbsp;<span class="builtintype" id="2833657">string</span><span class="op" id="2833663">)</span>&nbsp;<span class="op" id="2833665">(</span><span class="ident" id="2833666">err</span>&nbsp;<span class="builtintype" id="2833670">error</span><span class="op" id="2833675">)</span>&nbsp;<span class="op" id="2833677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833680">b</span>&nbsp;<span class="op" id="2833682">:=</span>&nbsp;<span class="op" id="2833685">[</span><span class="op" id="2833686">]</span><span class="builtintype" id="2833687">byte</span><span class="op" id="2833691">(</span><span class="ident" id="2833692"><a href="/encoding/asn1/marshal.go.html#2833655">s</a></span><span class="op" id="2833693">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833696">for</span>&nbsp;<span class="ident" id="2833700">_</span><span class="op" id="2833701">,</span>&nbsp;<span class="ident" id="2833703">c</span>&nbsp;<span class="op" id="2833705">:=</span>&nbsp;<span class="keyword" id="2833708">range</span>&nbsp;<span class="ident" id="2833714"><a href="/encoding/asn1/marshal.go.html#2833680">b</a></span>&nbsp;<span class="op" id="2833716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833720">if</span>&nbsp;<span class="ident" id="2833723"><a href="/encoding/asn1/marshal.go.html#2833703">c</a></span>&nbsp;<span class="op" id="2833725">&gt;</span>&nbsp;<span class="num" id="2833727">127</span>&nbsp;<span class="op" id="2833731">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833736">return</span>&nbsp;<span class="ident" id="2833743"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2833758">{</span><span class="string" id="2833759">&#34;IA5String&nbsp;contains&nbsp;invalid&nbsp;character&#34;</span><span class="op" id="2833797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833801">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2833804">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833808">_</span><span class="op" id="2833809">,</span>&nbsp;<span class="ident" id="2833811"><a href="/encoding/asn1/marshal.go.html#2833666">err</a></span>&nbsp;<span class="op" id="2833815">=</span>&nbsp;<span class="ident" id="2833817"><a href="/encoding/asn1/marshal.go.html#2833634">out</a></span><span class="op" id="2833820">.</span><span class="ident" id="2833821">Write</span><span class="op" id="2833826">(</span><span class="ident" id="2833827"><a href="/encoding/asn1/marshal.go.html#2833680">b</a></span><span class="op" id="2833828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833831">return</span><br>
<span class="lineno"></span><span class="op" id="2833838">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="2833841">func</span>&nbsp;<span class="ident" id="2833846">marshalUTF8String</span><span class="op" id="2833863">(</span><span class="ident" id="2833864">out</span>&nbsp;<span class="op" id="2833868">*</span><span class="ident" id="2833869"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2833883">,</span>&nbsp;<span class="ident" id="2833885">s</span>&nbsp;<span class="builtintype" id="2833887">string</span><span class="op" id="2833893">)</span>&nbsp;<span class="op" id="2833895">(</span><span class="ident" id="2833896">err</span>&nbsp;<span class="builtintype" id="2833900">error</span><span class="op" id="2833905">)</span>&nbsp;<span class="op" id="2833907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2833910">_</span><span class="op" id="2833911">,</span>&nbsp;<span class="ident" id="2833913"><a href="/encoding/asn1/marshal.go.html#2833896">err</a></span>&nbsp;<span class="op" id="2833917">=</span>&nbsp;<span class="ident" id="2833919"><a href="/encoding/asn1/marshal.go.html#2833864">out</a></span><span class="op" id="2833922">.</span><span class="ident" id="2833923">Write</span><span class="op" id="2833928">(</span><span class="op" id="2833929">[</span><span class="op" id="2833930">]</span><span class="builtintype" id="2833931">byte</span><span class="op" id="2833935">(</span><span class="ident" id="2833936"><a href="/encoding/asn1/marshal.go.html#2833885">s</a></span><span class="op" id="2833937">)</span><span class="op" id="2833938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2833941">return</span><br>
<span class="lineno"></span><span class="op" id="2833948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">290</span><span class="keyword" id="2833951">func</span>&nbsp;<span class="ident" id="2833956">marshalTwoDigits</span><span class="op" id="2833972">(</span><span class="ident" id="2833973">out</span>&nbsp;<span class="op" id="2833977">*</span><span class="ident" id="2833978"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2833992">,</span>&nbsp;<span class="ident" id="2833994">v</span>&nbsp;<span class="builtintype" id="2833996">int</span><span class="op" id="2833999">)</span>&nbsp;<span class="op" id="2834001">(</span><span class="ident" id="2834002">err</span>&nbsp;<span class="builtintype" id="2834006">error</span><span class="op" id="2834011">)</span>&nbsp;<span class="op" id="2834013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834016"><a href="/encoding/asn1/marshal.go.html#2834002">err</a></span>&nbsp;<span class="op" id="2834020">=</span>&nbsp;<span class="ident" id="2834022"><a href="/encoding/asn1/marshal.go.html#2833973">out</a></span><span class="op" id="2834025">.</span><span class="ident" id="2834026">WriteByte</span><span class="op" id="2834035">(</span><span class="builtintype" id="2834036">byte</span><span class="op" id="2834040">(</span><span class="string" id="2834041">&#39;0&#39;</span>&nbsp;<span class="op" id="2834045">+</span>&nbsp;<span class="op" id="2834047">(</span><span class="ident" id="2834048"><a href="/encoding/asn1/marshal.go.html#2833994">v</a></span><span class="op" id="2834049">/</span><span class="num" id="2834050">10</span><span class="op" id="2834052">)</span><span class="op" id="2834053">%</span><span class="num" id="2834054">10</span><span class="op" id="2834056">)</span><span class="op" id="2834057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834060">if</span>&nbsp;<span class="ident" id="2834063"><a href="/encoding/asn1/marshal.go.html#2834002">err</a></span>&nbsp;<span class="op" id="2834067">!=</span>&nbsp;<span class="ident" id="2834070">nil</span>&nbsp;<span class="op" id="2834074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834078">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2834086">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834089">return</span>&nbsp;<span class="ident" id="2834096"><a href="/encoding/asn1/marshal.go.html#2833973">out</a></span><span class="op" id="2834099">.</span><span class="ident" id="2834100">WriteByte</span><span class="op" id="2834109">(</span><span class="builtintype" id="2834110">byte</span><span class="op" id="2834114">(</span><span class="string" id="2834115">&#39;0&#39;</span>&nbsp;<span class="op" id="2834119">+</span>&nbsp;<span class="ident" id="2834121"><a href="/encoding/asn1/marshal.go.html#2833994">v</a></span><span class="op" id="2834122">%</span><span class="num" id="2834123">10</span><span class="op" id="2834125">)</span><span class="op" id="2834126">)</span><br>
<span class="lineno"></span><span class="op" id="2834128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2834131">func</span>&nbsp;<span class="ident" id="2834136">marshalFourDigits</span><span class="op" id="2834153">(</span><span class="ident" id="2834154">out</span>&nbsp;<span class="op" id="2834158">*</span><span class="ident" id="2834159"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2834173">,</span>&nbsp;<span class="ident" id="2834175">v</span>&nbsp;<span class="builtintype" id="2834177">int</span><span class="op" id="2834180">)</span>&nbsp;<span class="op" id="2834182">(</span><span class="ident" id="2834183">err</span>&nbsp;<span class="builtintype" id="2834187">error</span><span class="op" id="2834192">)</span>&nbsp;<span class="op" id="2834194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834197">var</span>&nbsp;<span class="ident" id="2834201">bytes</span>&nbsp;<span class="op" id="2834207">[</span><span class="num" id="2834208">4</span><span class="op" id="2834209">]</span><span class="builtintype" id="2834210">byte</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834216">for</span>&nbsp;<span class="ident" id="2834220">i</span>&nbsp;<span class="op" id="2834222">:=</span>&nbsp;<span class="keyword" id="2834225">range</span>&nbsp;<span class="ident" id="2834231"><a href="/encoding/asn1/marshal.go.html#2834201">bytes</a></span>&nbsp;<span class="op" id="2834237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834241"><a href="/encoding/asn1/marshal.go.html#2834201">bytes</a></span><span class="op" id="2834246">[</span><span class="num" id="2834247">3</span><span class="op" id="2834248">-</span><span class="ident" id="2834249"><a href="/encoding/asn1/marshal.go.html#2834220">i</a></span><span class="op" id="2834250">]</span>&nbsp;<span class="op" id="2834252">=</span>&nbsp;<span class="string" id="2834254">&#39;0&#39;</span>&nbsp;<span class="op" id="2834258">+</span>&nbsp;<span class="builtintype" id="2834260">byte</span><span class="op" id="2834264">(</span><span class="ident" id="2834265"><a href="/encoding/asn1/marshal.go.html#2834175">v</a></span><span class="op" id="2834266">%</span><span class="num" id="2834267">10</span><span class="op" id="2834269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834273"><a href="/encoding/asn1/marshal.go.html#2834175">v</a></span>&nbsp;<span class="op" id="2834275">/=</span>&nbsp;<span class="num" id="2834278">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2834282">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834285">_</span><span class="op" id="2834286">,</span>&nbsp;<span class="ident" id="2834288"><a href="/encoding/asn1/marshal.go.html#2834183">err</a></span>&nbsp;<span class="op" id="2834292">=</span>&nbsp;<span class="ident" id="2834294"><a href="/encoding/asn1/marshal.go.html#2834154">out</a></span><span class="op" id="2834297">.</span><span class="ident" id="2834298">Write</span><span class="op" id="2834303">(</span><span class="ident" id="2834304"><a href="/encoding/asn1/marshal.go.html#2834201">bytes</a></span><span class="op" id="2834309">[</span><span class="op" id="2834310">:</span><span class="op" id="2834311">]</span><span class="op" id="2834312">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834315">return</span><br>
<span class="lineno"></span><span class="op" id="2834322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2834325">func</span>&nbsp;<span class="ident" id="2834330">outsideUTCRange</span><span class="op" id="2834345">(</span><span class="ident" id="2834346">t</span>&nbsp;<span class="ident" id="2834348"><a href="/encoding/asn1/marshal.go.html#2828922">time</a></span><span class="op" id="2834352">.</span><span class="ident" id="2834353">Time</span><span class="op" id="2834357">)</span>&nbsp;<span class="builtintype" id="2834359">bool</span>&nbsp;<span class="op" id="2834364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834367">year</span>&nbsp;<span class="op" id="2834372">:=</span>&nbsp;<span class="ident" id="2834375"><a href="/encoding/asn1/marshal.go.html#2834346">t</a></span><span class="op" id="2834376">.</span><span class="ident" id="2834377">Year</span><span class="op" id="2834381">(</span><span class="op" id="2834382">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834385">return</span>&nbsp;<span class="ident" id="2834392"><a href="/encoding/asn1/marshal.go.html#2834367">year</a></span>&nbsp;<span class="op" id="2834397">&lt;</span>&nbsp;<span class="num" id="2834399">1950</span>&nbsp;<span class="op" id="2834404">||</span>&nbsp;<span class="ident" id="2834407"><a href="/encoding/asn1/marshal.go.html#2834367">year</a></span>&nbsp;<span class="op" id="2834412">&gt;=</span>&nbsp;<span class="num" id="2834415">2050</span><br>
<span class="lineno"></span><span class="op" id="2834420">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2834423">func</span>&nbsp;<span class="ident" id="2834428">marshalUTCTime</span><span class="op" id="2834442">(</span><span class="ident" id="2834443">out</span>&nbsp;<span class="op" id="2834447">*</span><span class="ident" id="2834448"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2834462">,</span>&nbsp;<span class="ident" id="2834464">t</span>&nbsp;<span class="ident" id="2834466"><a href="/encoding/asn1/marshal.go.html#2828922">time</a></span><span class="op" id="2834470">.</span><span class="ident" id="2834471">Time</span><span class="op" id="2834475">)</span>&nbsp;<span class="op" id="2834477">(</span><span class="ident" id="2834478">err</span>&nbsp;<span class="builtintype" id="2834482">error</span><span class="op" id="2834487">)</span>&nbsp;<span class="op" id="2834489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834492">year</span>&nbsp;<span class="op" id="2834497">:=</span>&nbsp;<span class="ident" id="2834500"><a href="/encoding/asn1/marshal.go.html#2834464">t</a></span><span class="op" id="2834501">.</span><span class="ident" id="2834502">Year</span><span class="op" id="2834506">(</span><span class="op" id="2834507">)</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834511">switch</span>&nbsp;<span class="op" id="2834518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834521">case</span>&nbsp;<span class="num" id="2834526">1950</span>&nbsp;<span class="op" id="2834531">&lt;=</span>&nbsp;<span class="ident" id="2834534"><a href="/encoding/asn1/marshal.go.html#2834492">year</a></span>&nbsp;<span class="op" id="2834539">&amp;&amp;</span>&nbsp;<span class="ident" id="2834542"><a href="/encoding/asn1/marshal.go.html#2834492">year</a></span>&nbsp;<span class="op" id="2834547">&lt;</span>&nbsp;<span class="num" id="2834549">2000</span><span class="op" id="2834553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834557"><a href="/encoding/asn1/marshal.go.html#2834478">err</a></span>&nbsp;<span class="op" id="2834561">=</span>&nbsp;<span class="ident" id="2834563"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2834579">(</span><span class="ident" id="2834580"><a href="/encoding/asn1/marshal.go.html#2834443">out</a></span><span class="op" id="2834583">,</span>&nbsp;<span class="builtintype" id="2834585">int</span><span class="op" id="2834588">(</span><span class="ident" id="2834589"><a href="/encoding/asn1/marshal.go.html#2834492">year</a></span><span class="op" id="2834593">-</span><span class="num" id="2834594">1900</span><span class="op" id="2834598">)</span><span class="op" id="2834599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834602">case</span>&nbsp;<span class="num" id="2834607">2000</span>&nbsp;<span class="op" id="2834612">&lt;=</span>&nbsp;<span class="ident" id="2834615"><a href="/encoding/asn1/marshal.go.html#2834492">year</a></span>&nbsp;<span class="op" id="2834620">&amp;&amp;</span>&nbsp;<span class="ident" id="2834623"><a href="/encoding/asn1/marshal.go.html#2834492">year</a></span>&nbsp;<span class="op" id="2834628">&lt;</span>&nbsp;<span class="num" id="2834630">2050</span><span class="op" id="2834634">:</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834638"><a href="/encoding/asn1/marshal.go.html#2834478">err</a></span>&nbsp;<span class="op" id="2834642">=</span>&nbsp;<span class="ident" id="2834644"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2834660">(</span><span class="ident" id="2834661"><a href="/encoding/asn1/marshal.go.html#2834443">out</a></span><span class="op" id="2834664">,</span>&nbsp;<span class="builtintype" id="2834666">int</span><span class="op" id="2834669">(</span><span class="ident" id="2834670"><a href="/encoding/asn1/marshal.go.html#2834492">year</a></span><span class="op" id="2834674">-</span><span class="num" id="2834675">2000</span><span class="op" id="2834679">)</span><span class="op" id="2834680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834683">default</span><span class="op" id="2834690">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834694">return</span>&nbsp;<span class="ident" id="2834701"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2834716">{</span><span class="string" id="2834717">&#34;cannot&nbsp;represent&nbsp;time&nbsp;as&nbsp;UTCTime&#34;</span><span class="op" id="2834751">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2834754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834757">if</span>&nbsp;<span class="ident" id="2834760"><a href="/encoding/asn1/marshal.go.html#2834478">err</a></span>&nbsp;<span class="op" id="2834764">!=</span>&nbsp;<span class="ident" id="2834767">nil</span>&nbsp;<span class="op" id="2834771">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834775">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2834783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834787">return</span>&nbsp;<span class="ident" id="2834794"><a href="/encoding/asn1/marshal.go.html#2835127">marshalTimeCommon</a></span><span class="op" id="2834811">(</span><span class="ident" id="2834812"><a href="/encoding/asn1/marshal.go.html#2834443">out</a></span><span class="op" id="2834815">,</span>&nbsp;<span class="ident" id="2834817"><a href="/encoding/asn1/marshal.go.html#2834464">t</a></span><span class="op" id="2834818">)</span><br>
<span class="lineno"></span><span class="op" id="2834820">}</span><br>
<span class="lineno">330</span><br>
<span class="lineno"></span><span class="keyword" id="2834823">func</span>&nbsp;<span class="ident" id="2834828">marshalGeneralizedTime</span><span class="op" id="2834850">(</span><span class="ident" id="2834851">out</span>&nbsp;<span class="op" id="2834855">*</span><span class="ident" id="2834856"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2834870">,</span>&nbsp;<span class="ident" id="2834872">t</span>&nbsp;<span class="ident" id="2834874"><a href="/encoding/asn1/marshal.go.html#2828922">time</a></span><span class="op" id="2834878">.</span><span class="ident" id="2834879">Time</span><span class="op" id="2834883">)</span>&nbsp;<span class="op" id="2834885">(</span><span class="ident" id="2834886">err</span>&nbsp;<span class="builtintype" id="2834890">error</span><span class="op" id="2834895">)</span>&nbsp;<span class="op" id="2834897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2834900">year</span>&nbsp;<span class="op" id="2834905">:=</span>&nbsp;<span class="ident" id="2834908"><a href="/encoding/asn1/marshal.go.html#2834872">t</a></span><span class="op" id="2834909">.</span><span class="ident" id="2834910">Year</span><span class="op" id="2834914">(</span><span class="op" id="2834915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834918">if</span>&nbsp;<span class="ident" id="2834921"><a href="/encoding/asn1/marshal.go.html#2834900">year</a></span>&nbsp;<span class="op" id="2834926">&lt;</span>&nbsp;<span class="num" id="2834928">0</span>&nbsp;<span class="op" id="2834930">||</span>&nbsp;<span class="ident" id="2834933"><a href="/encoding/asn1/marshal.go.html#2834900">year</a></span>&nbsp;<span class="op" id="2834938">&gt;</span>&nbsp;<span class="num" id="2834940">9999</span>&nbsp;<span class="op" id="2834945">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2834949">return</span>&nbsp;<span class="ident" id="2834956"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2834971">{</span><span class="string" id="2834972">&#34;cannot&nbsp;represent&nbsp;time&nbsp;as&nbsp;GeneralizedTime&#34;</span><span class="op" id="2835014">}</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835020">if</span>&nbsp;<span class="ident" id="2835023"><a href="/encoding/asn1/marshal.go.html#2834886">err</a></span>&nbsp;<span class="op" id="2835027">=</span>&nbsp;<span class="ident" id="2835029"><a href="/encoding/asn1/marshal.go.html#2834136">marshalFourDigits</a></span><span class="op" id="2835046">(</span><span class="ident" id="2835047"><a href="/encoding/asn1/marshal.go.html#2834851">out</a></span><span class="op" id="2835050">,</span>&nbsp;<span class="ident" id="2835052"><a href="/encoding/asn1/marshal.go.html#2834900">year</a></span><span class="op" id="2835056">)</span><span class="op" id="2835057">;</span>&nbsp;<span class="ident" id="2835059"><a href="/encoding/asn1/marshal.go.html#2834886">err</a></span>&nbsp;<span class="op" id="2835063">!=</span>&nbsp;<span class="ident" id="2835066">nil</span>&nbsp;<span class="op" id="2835070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835074">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835086">return</span>&nbsp;<span class="ident" id="2835093"><a href="/encoding/asn1/marshal.go.html#2835127">marshalTimeCommon</a></span><span class="op" id="2835110">(</span><span class="ident" id="2835111"><a href="/encoding/asn1/marshal.go.html#2834851">out</a></span><span class="op" id="2835114">,</span>&nbsp;<span class="ident" id="2835116"><a href="/encoding/asn1/marshal.go.html#2834872">t</a></span><span class="op" id="2835117">)</span><br>
<span class="lineno"></span><span class="op" id="2835119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2835122">func</span>&nbsp;<span class="ident" id="2835127">marshalTimeCommon</span><span class="op" id="2835144">(</span><span class="ident" id="2835145">out</span>&nbsp;<span class="op" id="2835149">*</span><span class="ident" id="2835150"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2835164">,</span>&nbsp;<span class="ident" id="2835166">t</span>&nbsp;<span class="ident" id="2835168"><a href="/encoding/asn1/marshal.go.html#2828922">time</a></span><span class="op" id="2835172">.</span><span class="ident" id="2835173">Time</span><span class="op" id="2835177">)</span>&nbsp;<span class="op" id="2835179">(</span><span class="ident" id="2835180">err</span>&nbsp;<span class="builtintype" id="2835184">error</span><span class="op" id="2835189">)</span>&nbsp;<span class="op" id="2835191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835194">_</span><span class="op" id="2835195">,</span>&nbsp;<span class="ident" id="2835197">month</span><span class="op" id="2835202">,</span>&nbsp;<span class="ident" id="2835204">day</span>&nbsp;<span class="op" id="2835208">:=</span>&nbsp;<span class="ident" id="2835211"><a href="/encoding/asn1/marshal.go.html#2835166">t</a></span><span class="op" id="2835212">.</span><span class="ident" id="2835213">Date</span><span class="op" id="2835217">(</span><span class="op" id="2835218">)</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835222"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835226">=</span>&nbsp;<span class="ident" id="2835228"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835244">(</span><span class="ident" id="2835245"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835248">,</span>&nbsp;<span class="builtintype" id="2835250">int</span><span class="op" id="2835253">(</span><span class="ident" id="2835254"><a href="/encoding/asn1/marshal.go.html#2835197">month</a></span><span class="op" id="2835259">)</span><span class="op" id="2835260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835263">if</span>&nbsp;<span class="ident" id="2835266"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835270">!=</span>&nbsp;<span class="ident" id="2835273">nil</span>&nbsp;<span class="op" id="2835277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835281">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835289">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835293"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835297">=</span>&nbsp;<span class="ident" id="2835299"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835315">(</span><span class="ident" id="2835316"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835319">,</span>&nbsp;<span class="ident" id="2835321"><a href="/encoding/asn1/marshal.go.html#2835204">day</a></span><span class="op" id="2835324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835327">if</span>&nbsp;<span class="ident" id="2835330"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835334">!=</span>&nbsp;<span class="ident" id="2835337">nil</span>&nbsp;<span class="op" id="2835341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835345">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835353">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835357">hour</span><span class="op" id="2835361">,</span>&nbsp;<span class="ident" id="2835363">min</span><span class="op" id="2835366">,</span>&nbsp;<span class="ident" id="2835368">sec</span>&nbsp;<span class="op" id="2835372">:=</span>&nbsp;<span class="ident" id="2835375"><a href="/encoding/asn1/marshal.go.html#2835166">t</a></span><span class="op" id="2835376">.</span><span class="ident" id="2835377">Clock</span><span class="op" id="2835382">(</span><span class="op" id="2835383">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835387"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835391">=</span>&nbsp;<span class="ident" id="2835393"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835409">(</span><span class="ident" id="2835410"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835413">,</span>&nbsp;<span class="ident" id="2835415"><a href="/encoding/asn1/marshal.go.html#2835357">hour</a></span><span class="op" id="2835419">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835422">if</span>&nbsp;<span class="ident" id="2835425"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835429">!=</span>&nbsp;<span class="ident" id="2835432">nil</span>&nbsp;<span class="op" id="2835436">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835440">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835452"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835456">=</span>&nbsp;<span class="ident" id="2835458"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835474">(</span><span class="ident" id="2835475"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835478">,</span>&nbsp;<span class="ident" id="2835480"><a href="/encoding/asn1/marshal.go.html#2835363">min</a></span><span class="op" id="2835483">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835486">if</span>&nbsp;<span class="ident" id="2835489"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835493">!=</span>&nbsp;<span class="ident" id="2835496">nil</span>&nbsp;<span class="op" id="2835500">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835504">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835512">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835516"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835520">=</span>&nbsp;<span class="ident" id="2835522"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835538">(</span><span class="ident" id="2835539"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835542">,</span>&nbsp;<span class="ident" id="2835544"><a href="/encoding/asn1/marshal.go.html#2835368">sec</a></span><span class="op" id="2835547">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835550">if</span>&nbsp;<span class="ident" id="2835553"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835557">!=</span>&nbsp;<span class="ident" id="2835560">nil</span>&nbsp;<span class="op" id="2835564">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835568">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835580">_</span><span class="op" id="2835581">,</span>&nbsp;<span class="ident" id="2835583">offset</span>&nbsp;<span class="op" id="2835590">:=</span>&nbsp;<span class="ident" id="2835593"><a href="/encoding/asn1/marshal.go.html#2835166">t</a></span><span class="op" id="2835594">.</span><span class="ident" id="2835595">Zone</span><span class="op" id="2835599">(</span><span class="op" id="2835600">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835604">switch</span>&nbsp;<span class="op" id="2835611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835614">case</span>&nbsp;<span class="ident" id="2835619"><a href="/encoding/asn1/marshal.go.html#2835583">offset</a></span><span class="op" id="2835625">/</span><span class="num" id="2835626">60</span>&nbsp;<span class="op" id="2835629">==</span>&nbsp;<span class="num" id="2835632">0</span><span class="op" id="2835633">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835637"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835641">=</span>&nbsp;<span class="ident" id="2835643"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835646">.</span><span class="ident" id="2835647">WriteByte</span><span class="op" id="2835656">(</span><span class="string" id="2835657">&#39;Z&#39;</span><span class="op" id="2835660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835664">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835672">case</span>&nbsp;<span class="ident" id="2835677"><a href="/encoding/asn1/marshal.go.html#2835583">offset</a></span>&nbsp;<span class="op" id="2835684">&gt;</span>&nbsp;<span class="num" id="2835686">0</span><span class="op" id="2835687">:</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835691"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835695">=</span>&nbsp;<span class="ident" id="2835697"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835700">.</span><span class="ident" id="2835701">WriteByte</span><span class="op" id="2835710">(</span><span class="string" id="2835711">&#39;+&#39;</span><span class="op" id="2835714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835717">case</span>&nbsp;<span class="ident" id="2835722"><a href="/encoding/asn1/marshal.go.html#2835583">offset</a></span>&nbsp;<span class="op" id="2835729">&lt;</span>&nbsp;<span class="num" id="2835731">0</span><span class="op" id="2835732">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835736"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835740">=</span>&nbsp;<span class="ident" id="2835742"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835745">.</span><span class="ident" id="2835746">WriteByte</span><span class="op" id="2835755">(</span><span class="string" id="2835756">&#39;-&#39;</span><span class="op" id="2835759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835766">if</span>&nbsp;<span class="ident" id="2835769"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835773">!=</span>&nbsp;<span class="ident" id="2835776">nil</span>&nbsp;<span class="op" id="2835780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835784">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835792">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835796">offsetMinutes</span>&nbsp;<span class="op" id="2835810">:=</span>&nbsp;<span class="ident" id="2835813"><a href="/encoding/asn1/marshal.go.html#2835583">offset</a></span>&nbsp;<span class="op" id="2835820">/</span>&nbsp;<span class="num" id="2835822">60</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835826">if</span>&nbsp;<span class="ident" id="2835829"><a href="/encoding/asn1/marshal.go.html#2835796">offsetMinutes</a></span>&nbsp;<span class="op" id="2835843">&lt;</span>&nbsp;<span class="num" id="2835845">0</span>&nbsp;<span class="op" id="2835847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835851"><a href="/encoding/asn1/marshal.go.html#2835796">offsetMinutes</a></span>&nbsp;<span class="op" id="2835865">=</span>&nbsp;<span class="op" id="2835867">-</span><span class="ident" id="2835868"><a href="/encoding/asn1/marshal.go.html#2835796">offsetMinutes</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835883">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835887"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835891">=</span>&nbsp;<span class="ident" id="2835893"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835909">(</span><span class="ident" id="2835910"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835913">,</span>&nbsp;<span class="ident" id="2835915"><a href="/encoding/asn1/marshal.go.html#2835796">offsetMinutes</a></span><span class="op" id="2835928">/</span><span class="num" id="2835929">60</span><span class="op" id="2835931">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835934">if</span>&nbsp;<span class="ident" id="2835937"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835941">!=</span>&nbsp;<span class="ident" id="2835944">nil</span>&nbsp;<span class="op" id="2835948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2835952">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2835960">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2835964"><a href="/encoding/asn1/marshal.go.html#2835180">err</a></span>&nbsp;<span class="op" id="2835968">=</span>&nbsp;<span class="ident" id="2835970"><a href="/encoding/asn1/marshal.go.html#2833956">marshalTwoDigits</a></span><span class="op" id="2835986">(</span><span class="ident" id="2835987"><a href="/encoding/asn1/marshal.go.html#2835145">out</a></span><span class="op" id="2835990">,</span>&nbsp;<span class="ident" id="2835992"><a href="/encoding/asn1/marshal.go.html#2835796">offsetMinutes</a></span><span class="op" id="2836005">%</span><span class="num" id="2836006">60</span><span class="op" id="2836008">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836011">return</span><br>
<span class="lineno"></span><span class="op" id="2836018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2836021">func</span>&nbsp;<span class="ident" id="2836026">stripTagAndLength</span><span class="op" id="2836043">(</span><span class="ident" id="2836044">in</span>&nbsp;<span class="op" id="2836047">[</span><span class="op" id="2836048">]</span><span class="builtintype" id="2836049">byte</span><span class="op" id="2836053">)</span>&nbsp;<span class="op" id="2836055">[</span><span class="op" id="2836056">]</span><span class="builtintype" id="2836057">byte</span>&nbsp;<span class="op" id="2836062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836065">_</span><span class="op" id="2836066">,</span>&nbsp;<span class="ident" id="2836068">offset</span><span class="op" id="2836074">,</span>&nbsp;<span class="ident" id="2836076">err</span>&nbsp;<span class="op" id="2836080">:=</span>&nbsp;<span class="ident" id="2836083"><a href="/encoding/asn1/asn1.go.html#2808152">parseTagAndLength</a></span><span class="op" id="2836100">(</span><span class="ident" id="2836101"><a href="/encoding/asn1/marshal.go.html#2836044">in</a></span><span class="op" id="2836103">,</span>&nbsp;<span class="num" id="2836105">0</span><span class="op" id="2836106">)</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836109">if</span>&nbsp;<span class="ident" id="2836112"><a href="/encoding/asn1/marshal.go.html#2836076">err</a></span>&nbsp;<span class="op" id="2836116">!=</span>&nbsp;<span class="ident" id="2836119">nil</span>&nbsp;<span class="op" id="2836123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836127">return</span>&nbsp;<span class="ident" id="2836134"><a href="/encoding/asn1/marshal.go.html#2836044">in</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836138">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836141">return</span>&nbsp;<span class="ident" id="2836148"><a href="/encoding/asn1/marshal.go.html#2836044">in</a></span><span class="op" id="2836150">[</span><span class="ident" id="2836151"><a href="/encoding/asn1/marshal.go.html#2836068">offset</a></span><span class="op" id="2836157">:</span><span class="op" id="2836158">]</span><br>
<span class="lineno"></span><span class="op" id="2836160">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="2836163">func</span>&nbsp;<span class="ident" id="2836168">marshalBody</span><span class="op" id="2836179">(</span><span class="ident" id="2836180">out</span>&nbsp;<span class="op" id="2836184">*</span><span class="ident" id="2836185"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2836199">,</span>&nbsp;<span class="ident" id="2836201">value</span>&nbsp;<span class="ident" id="2836207"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836214">.</span><span class="ident" id="2836215">Value</span><span class="op" id="2836220">,</span>&nbsp;<span class="ident" id="2836222">params</span>&nbsp;<span class="ident" id="2836229"><a href="/encoding/asn1/common.go.html#2825887">fieldParameters</a></span><span class="op" id="2836244">)</span>&nbsp;<span class="op" id="2836246">(</span><span class="ident" id="2836247">err</span>&nbsp;<span class="builtintype" id="2836251">error</span><span class="op" id="2836256">)</span>&nbsp;<span class="op" id="2836258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836261">switch</span>&nbsp;<span class="ident" id="2836268"><a href="/encoding/asn1/marshal.go.html#2836201">value</a></span><span class="op" id="2836273">.</span><span class="ident" id="2836274">Type</span><span class="op" id="2836278">(</span><span class="op" id="2836279">)</span>&nbsp;<span class="op" id="2836281">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836284">case</span>&nbsp;<span class="ident" id="2836289"><a href="/encoding/asn1/asn1.go.html#2811430">timeType</a></span><span class="op" id="2836297">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2836301">t</span>&nbsp;<span class="op" id="2836303">:=</span>&nbsp;<span class="ident" id="2836306"><a href="/encoding/asn1/marshal.go.html#2836201">value</a></span><span class="op" id="2836311">.</span><span class="ident" id="2836312">Interface</span><span class="op" id="2836321">(</span><span class="op" id="2836322">)</span><span class="op" id="2836323">.</span><span class="op" id="2836324">(</span><span class="ident" id="2836325"><a href="/encoding/asn1/marshal.go.html#2828922">time</a></span><span class="op" id="2836329">.</span><span class="ident" id="2836330">Time</span><span class="op" id="2836334">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836338">if</span>&nbsp;<span class="ident" id="2836341"><a href="/encoding/asn1/marshal.go.html#2834330">outsideUTCRange</a></span><span class="op" id="2836356">(</span><span class="ident" id="2836357"><a href="/encoding/asn1/marshal.go.html#2836301">t</a></span><span class="op" id="2836358">)</span>&nbsp;<span class="op" id="2836360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836365">return</span>&nbsp;<span class="ident" id="2836372"><a href="/encoding/asn1/marshal.go.html#2834828">marshalGeneralizedTime</a></span><span class="op" id="2836394">(</span><span class="ident" id="2836395"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836398">,</span>&nbsp;<span class="ident" id="2836400"><a href="/encoding/asn1/marshal.go.html#2836301">t</a></span><span class="op" id="2836401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836405">}</span>&nbsp;<span class="keyword" id="2836407">else</span>&nbsp;<span class="op" id="2836412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836417">return</span>&nbsp;<span class="ident" id="2836424"><a href="/encoding/asn1/marshal.go.html#2834428">marshalUTCTime</a></span><span class="op" id="2836438">(</span><span class="ident" id="2836439"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836442">,</span>&nbsp;<span class="ident" id="2836444"><a href="/encoding/asn1/marshal.go.html#2836301">t</a></span><span class="op" id="2836445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836449">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836452">case</span>&nbsp;<span class="ident" id="2836457"><a href="/encoding/asn1/asn1.go.html#2811213">bitStringType</a></span><span class="op" id="2836470">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836474">return</span>&nbsp;<span class="ident" id="2836481"><a href="/encoding/asn1/marshal.go.html#2832741">marshalBitString</a></span><span class="op" id="2836497">(</span><span class="ident" id="2836498"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836501">,</span>&nbsp;<span class="ident" id="2836503"><a href="/encoding/asn1/marshal.go.html#2836201">value</a></span><span class="op" id="2836508">.</span><span class="ident" id="2836509">Interface</span><span class="op" id="2836518">(</span><span class="op" id="2836519">)</span><span class="op" id="2836520">.</span><span class="op" id="2836521">(</span><span class="ident" id="2836522"><a href="/encoding/asn1/asn1.go.html#2801517">BitString</a></span><span class="op" id="2836531">)</span><span class="op" id="2836532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836535">case</span>&nbsp;<span class="ident" id="2836540"><a href="/encoding/asn1/asn1.go.html#2811265">objectIdentifierType</a></span><span class="op" id="2836560">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836564">return</span>&nbsp;<span class="ident" id="2836571"><a href="/encoding/asn1/marshal.go.html#2832960">marshalObjectIdentifier</a></span><span class="op" id="2836594">(</span><span class="ident" id="2836595"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836598">,</span>&nbsp;<span class="ident" id="2836600"><a href="/encoding/asn1/marshal.go.html#2836201">value</a></span><span class="op" id="2836605">.</span><span class="ident" id="2836606">Interface</span><span class="op" id="2836615">(</span><span class="op" id="2836616">)</span><span class="op" id="2836617">.</span><span class="op" id="2836618">(</span><span class="ident" id="2836619"><a href="/encoding/asn1/asn1.go.html#2802916">ObjectIdentifier</a></span><span class="op" id="2836635">)</span><span class="op" id="2836636">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836639">case</span>&nbsp;<span class="ident" id="2836644"><a href="/encoding/asn1/asn1.go.html#2811589">bigIntType</a></span><span class="op" id="2836654">:</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836658">return</span>&nbsp;<span class="ident" id="2836665"><a href="/encoding/asn1/marshal.go.html#2830748">marshalBigInt</a></span><span class="op" id="2836678">(</span><span class="ident" id="2836679"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836682">,</span>&nbsp;<span class="ident" id="2836684"><a href="/encoding/asn1/marshal.go.html#2836201">value</a></span><span class="op" id="2836689">.</span><span class="ident" id="2836690">Interface</span><span class="op" id="2836699">(</span><span class="op" id="2836700">)</span><span class="op" id="2836701">.</span><span class="op" id="2836702">(</span><span class="op" id="2836703">*</span><span class="ident" id="2836704"><a href="/encoding/asn1/marshal.go.html#2828899">big</a></span><span class="op" id="2836707">.</span><span class="ident" id="2836708">Int</span><span class="op" id="2836711">)</span><span class="op" id="2836712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836715">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836719">switch</span>&nbsp;<span class="ident" id="2836726">v</span>&nbsp;<span class="op" id="2836728">:=</span>&nbsp;<span class="ident" id="2836731"><a href="/encoding/asn1/marshal.go.html#2836201">value</a></span><span class="op" id="2836736">;</span>&nbsp;<span class="ident" id="2836738"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2836739">.</span><span class="ident" id="2836740">Kind</span><span class="op" id="2836744">(</span><span class="op" id="2836745">)</span>&nbsp;<span class="op" id="2836747">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836750">case</span>&nbsp;<span class="ident" id="2836755"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836762">.</span><span class="ident" id="2836763">Bool</span><span class="op" id="2836767">:</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836771">if</span>&nbsp;<span class="ident" id="2836774"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2836775">.</span><span class="ident" id="2836776">Bool</span><span class="op" id="2836780">(</span><span class="op" id="2836781">)</span>&nbsp;<span class="op" id="2836783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836788">return</span>&nbsp;<span class="ident" id="2836795"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836798">.</span><span class="ident" id="2836799">WriteByte</span><span class="op" id="2836808">(</span><span class="num" id="2836809">255</span><span class="op" id="2836812">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836816">}</span>&nbsp;<span class="keyword" id="2836818">else</span>&nbsp;<span class="op" id="2836823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836828">return</span>&nbsp;<span class="ident" id="2836835"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836838">.</span><span class="ident" id="2836839">WriteByte</span><span class="op" id="2836848">(</span><span class="num" id="2836849">0</span><span class="op" id="2836850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2836854">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836857">case</span>&nbsp;<span class="ident" id="2836862"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836869">.</span><span class="ident" id="2836870">Int</span><span class="op" id="2836873">,</span>&nbsp;<span class="ident" id="2836875"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836882">.</span><span class="ident" id="2836883">Int8</span><span class="op" id="2836887">,</span>&nbsp;<span class="ident" id="2836889"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836896">.</span><span class="ident" id="2836897">Int16</span><span class="op" id="2836902">,</span>&nbsp;<span class="ident" id="2836904"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836911">.</span><span class="ident" id="2836912">Int32</span><span class="op" id="2836917">,</span>&nbsp;<span class="ident" id="2836919"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836926">.</span><span class="ident" id="2836927">Int64</span><span class="op" id="2836932">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836936">return</span>&nbsp;<span class="ident" id="2836943"><a href="/encoding/asn1/marshal.go.html#2830391">marshalInt64</a></span><span class="op" id="2836955">(</span><span class="ident" id="2836956"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2836959">,</span>&nbsp;<span class="ident" id="2836961">int64</span><span class="op" id="2836966">(</span><span class="ident" id="2836967"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2836968">.</span><span class="ident" id="2836969">Int</span><span class="op" id="2836972">(</span><span class="op" id="2836973">)</span><span class="op" id="2836974">)</span><span class="op" id="2836975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2836978">case</span>&nbsp;<span class="ident" id="2836983"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2836990">.</span><span class="ident" id="2836991">Struct</span><span class="op" id="2836997">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837001">t</span>&nbsp;<span class="op" id="2837003">:=</span>&nbsp;<span class="ident" id="2837006"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2837007">.</span><span class="ident" id="2837008">Type</span><span class="op" id="2837012">(</span><span class="op" id="2837013">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837018">startingField</span>&nbsp;<span class="op" id="2837032">:=</span>&nbsp;<span class="num" id="2837035">0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2837040">//&nbsp;If&nbsp;the&nbsp;first&nbsp;element&nbsp;of&nbsp;the&nbsp;structure&nbsp;is&nbsp;a&nbsp;non-empty</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2837098">//&nbsp;RawContents,&nbsp;then&nbsp;we&nbsp;don&#39;t&nbsp;bother&nbsp;serializing&nbsp;the&nbsp;rest.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837159">if</span>&nbsp;<span class="ident" id="2837162"><a href="/encoding/asn1/marshal.go.html#2837001">t</a></span><span class="op" id="2837163">.</span><span class="ident" id="2837164">NumField</span><span class="op" id="2837172">(</span><span class="op" id="2837173">)</span>&nbsp;<span class="op" id="2837175">&gt;</span>&nbsp;<span class="num" id="2837177">0</span>&nbsp;<span class="op" id="2837179">&amp;&amp;</span>&nbsp;<span class="ident" id="2837182"><a href="/encoding/asn1/marshal.go.html#2837001">t</a></span><span class="op" id="2837183">.</span><span class="ident" id="2837184">Field</span><span class="op" id="2837189">(</span><span class="num" id="2837190">0</span><span class="op" id="2837191">)</span><span class="op" id="2837192">.</span><span class="ident" id="2837193">Type</span>&nbsp;<span class="op" id="2837198">==</span>&nbsp;<span class="ident" id="2837201"><a href="/encoding/asn1/asn1.go.html#2811533">rawContentsType</a></span>&nbsp;<span class="op" id="2837217">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837222">s</span>&nbsp;<span class="op" id="2837224">:=</span>&nbsp;<span class="ident" id="2837227"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2837228">.</span><span class="ident" id="2837229">Field</span><span class="op" id="2837234">(</span><span class="num" id="2837235">0</span><span class="op" id="2837236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837241">if</span>&nbsp;<span class="ident" id="2837244"><a href="/encoding/asn1/marshal.go.html#2837222">s</a></span><span class="op" id="2837245">.</span><span class="ident" id="2837246">Len</span><span class="op" id="2837249">(</span><span class="op" id="2837250">)</span>&nbsp;<span class="op" id="2837252">&gt;</span>&nbsp;<span class="num" id="2837254">0</span>&nbsp;<span class="op" id="2837256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837262">bytes</span>&nbsp;<span class="op" id="2837268">:=</span>&nbsp;<span class="builtinfunc" id="2837271">make</span><span class="op" id="2837275">(</span><span class="op" id="2837276">[</span><span class="op" id="2837277">]</span><span class="builtintype" id="2837278">byte</span><span class="op" id="2837282">,</span>&nbsp;<span class="ident" id="2837284"><a href="/encoding/asn1/marshal.go.html#2837222">s</a></span><span class="op" id="2837285">.</span><span class="ident" id="2837286">Len</span><span class="op" id="2837289">(</span><span class="op" id="2837290">)</span><span class="op" id="2837291">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837297">for</span>&nbsp;<span class="ident" id="2837301">i</span>&nbsp;<span class="op" id="2837303">:=</span>&nbsp;<span class="num" id="2837306">0</span><span class="op" id="2837307">;</span>&nbsp;<span class="ident" id="2837309"><a href="/encoding/asn1/marshal.go.html#2837301">i</a></span>&nbsp;<span class="op" id="2837311">&lt;</span>&nbsp;<span class="ident" id="2837313"><a href="/encoding/asn1/marshal.go.html#2837222">s</a></span><span class="op" id="2837314">.</span><span class="ident" id="2837315">Len</span><span class="op" id="2837318">(</span><span class="op" id="2837319">)</span><span class="op" id="2837320">;</span>&nbsp;<span class="ident" id="2837322"><a href="/encoding/asn1/marshal.go.html#2837301">i</a></span><span class="op" id="2837323">++</span>&nbsp;<span class="op" id="2837326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837333"><a href="/encoding/asn1/marshal.go.html#2837262">bytes</a></span><span class="op" id="2837338">[</span><span class="ident" id="2837339"><a href="/encoding/asn1/marshal.go.html#2837301">i</a></span><span class="op" id="2837340">]</span>&nbsp;<span class="op" id="2837342">=</span>&nbsp;<span class="builtintype" id="2837344">uint8</span><span class="op" id="2837349">(</span><span class="ident" id="2837350"><a href="/encoding/asn1/marshal.go.html#2837222">s</a></span><span class="op" id="2837351">.</span><span class="ident" id="2837352">Index</span><span class="op" id="2837357">(</span><span class="ident" id="2837358"><a href="/encoding/asn1/marshal.go.html#2837301">i</a></span><span class="op" id="2837359">)</span><span class="op" id="2837360">.</span><span class="ident" id="2837361">Uint</span><span class="op" id="2837365">(</span><span class="op" id="2837366">)</span><span class="op" id="2837367">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837373">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2837379">/*&nbsp;The&nbsp;RawContents&nbsp;will&nbsp;contain&nbsp;the&nbsp;tag&nbsp;and<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;length&nbsp;fields&nbsp;but&nbsp;we&#39;ll&nbsp;also&nbsp;be&nbsp;writing<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;those&nbsp;ourselves,&nbsp;so&nbsp;we&nbsp;strip&nbsp;them&nbsp;out&nbsp;of<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;*&nbsp;bytes&nbsp;*/</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837538">_</span><span class="op" id="2837539">,</span>&nbsp;<span class="ident" id="2837541"><a href="/encoding/asn1/marshal.go.html#2836247">err</a></span>&nbsp;<span class="op" id="2837545">=</span>&nbsp;<span class="ident" id="2837547"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2837550">.</span><span class="ident" id="2837551">Write</span><span class="op" id="2837556">(</span><span class="ident" id="2837557"><a href="/encoding/asn1/marshal.go.html#2836026">stripTagAndLength</a></span><span class="op" id="2837574">(</span><span class="ident" id="2837575"><a href="/encoding/asn1/marshal.go.html#2837262">bytes</a></span><span class="op" id="2837580">)</span><span class="op" id="2837581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837587">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837597">}</span>&nbsp;<span class="keyword" id="2837599">else</span>&nbsp;<span class="op" id="2837604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837610"><a href="/encoding/asn1/marshal.go.html#2837018">startingField</a></span>&nbsp;<span class="op" id="2837624">=</span>&nbsp;<span class="num" id="2837626">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837631">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837635">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837640">for</span>&nbsp;<span class="ident" id="2837644">i</span>&nbsp;<span class="op" id="2837646">:=</span>&nbsp;<span class="ident" id="2837649"><a href="/encoding/asn1/marshal.go.html#2837018">startingField</a></span><span class="op" id="2837662">;</span>&nbsp;<span class="ident" id="2837664"><a href="/encoding/asn1/marshal.go.html#2837644">i</a></span>&nbsp;<span class="op" id="2837666">&lt;</span>&nbsp;<span class="ident" id="2837668"><a href="/encoding/asn1/marshal.go.html#2837001">t</a></span><span class="op" id="2837669">.</span><span class="ident" id="2837670">NumField</span><span class="op" id="2837678">(</span><span class="op" id="2837679">)</span><span class="op" id="2837680">;</span>&nbsp;<span class="ident" id="2837682"><a href="/encoding/asn1/marshal.go.html#2837644">i</a></span><span class="op" id="2837683">++</span>&nbsp;<span class="op" id="2837686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837691">var</span>&nbsp;<span class="ident" id="2837695">pre</span>&nbsp;<span class="op" id="2837699">*</span><span class="ident" id="2837700"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837718"><a href="/encoding/asn1/marshal.go.html#2837695">pre</a></span><span class="op" id="2837721">,</span>&nbsp;<span class="ident" id="2837723"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span>&nbsp;<span class="op" id="2837727">=</span>&nbsp;<span class="ident" id="2837729"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2837732">.</span><span class="ident" id="2837733">fork</span><span class="op" id="2837737">(</span><span class="op" id="2837738">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837743"><a href="/encoding/asn1/marshal.go.html#2836247">err</a></span>&nbsp;<span class="op" id="2837747">=</span>&nbsp;<span class="ident" id="2837749"><a href="/encoding/asn1/marshal.go.html#2838636">marshalField</a></span><span class="op" id="2837761">(</span><span class="ident" id="2837762"><a href="/encoding/asn1/marshal.go.html#2837695">pre</a></span><span class="op" id="2837765">,</span>&nbsp;<span class="ident" id="2837767"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2837768">.</span><span class="ident" id="2837769">Field</span><span class="op" id="2837774">(</span><span class="ident" id="2837775"><a href="/encoding/asn1/marshal.go.html#2837644">i</a></span><span class="op" id="2837776">)</span><span class="op" id="2837777">,</span>&nbsp;<span class="ident" id="2837779"><a href="/encoding/asn1/common.go.html#2826696">parseFieldParameters</a></span><span class="op" id="2837799">(</span><span class="ident" id="2837800"><a href="/encoding/asn1/marshal.go.html#2837001">t</a></span><span class="op" id="2837801">.</span><span class="ident" id="2837802">Field</span><span class="op" id="2837807">(</span><span class="ident" id="2837808"><a href="/encoding/asn1/marshal.go.html#2837644">i</a></span><span class="op" id="2837809">)</span><span class="op" id="2837810">.</span><span class="ident" id="2837811">Tag</span><span class="op" id="2837814">.</span><span class="ident" id="2837815">Get</span><span class="op" id="2837818">(</span><span class="string" id="2837819">&#34;asn1&#34;</span><span class="op" id="2837825">)</span><span class="op" id="2837826">)</span><span class="op" id="2837827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837832">if</span>&nbsp;<span class="ident" id="2837835"><a href="/encoding/asn1/marshal.go.html#2836247">err</a></span>&nbsp;<span class="op" id="2837839">!=</span>&nbsp;<span class="ident" id="2837842">nil</span>&nbsp;<span class="op" id="2837846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837852">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837862">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2837866">}</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837870">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837878">case</span>&nbsp;<span class="ident" id="2837883"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2837890">.</span><span class="ident" id="2837891">Slice</span><span class="op" id="2837896">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837900">sliceType</span>&nbsp;<span class="op" id="2837910">:=</span>&nbsp;<span class="ident" id="2837913"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2837914">.</span><span class="ident" id="2837915">Type</span><span class="op" id="2837919">(</span><span class="op" id="2837920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2837924">if</span>&nbsp;<span class="ident" id="2837927"><a href="/encoding/asn1/marshal.go.html#2837900">sliceType</a></span><span class="op" id="2837936">.</span><span class="ident" id="2837937">Elem</span><span class="op" id="2837941">(</span><span class="op" id="2837942">)</span><span class="op" id="2837943">.</span><span class="ident" id="2837944">Kind</span><span class="op" id="2837948">(</span><span class="op" id="2837949">)</span>&nbsp;<span class="op" id="2837951">==</span>&nbsp;<span class="ident" id="2837954"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2837961">.</span><span class="ident" id="2837962">Uint8</span>&nbsp;<span class="op" id="2837968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2837973">bytes</span>&nbsp;<span class="op" id="2837979">:=</span>&nbsp;<span class="builtinfunc" id="2837982">make</span><span class="op" id="2837986">(</span><span class="op" id="2837987">[</span><span class="op" id="2837988">]</span><span class="builtintype" id="2837989">byte</span><span class="op" id="2837993">,</span>&nbsp;<span class="ident" id="2837995"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2837996">.</span><span class="ident" id="2837997">Len</span><span class="op" id="2838000">(</span><span class="op" id="2838001">)</span><span class="op" id="2838002">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838007">for</span>&nbsp;<span class="ident" id="2838011">i</span>&nbsp;<span class="op" id="2838013">:=</span>&nbsp;<span class="num" id="2838016">0</span><span class="op" id="2838017">;</span>&nbsp;<span class="ident" id="2838019"><a href="/encoding/asn1/marshal.go.html#2838011">i</a></span>&nbsp;<span class="op" id="2838021">&lt;</span>&nbsp;<span class="ident" id="2838023"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838024">.</span><span class="ident" id="2838025">Len</span><span class="op" id="2838028">(</span><span class="op" id="2838029">)</span><span class="op" id="2838030">;</span>&nbsp;<span class="ident" id="2838032"><a href="/encoding/asn1/marshal.go.html#2838011">i</a></span><span class="op" id="2838033">++</span>&nbsp;<span class="op" id="2838036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838042"><a href="/encoding/asn1/marshal.go.html#2837973">bytes</a></span><span class="op" id="2838047">[</span><span class="ident" id="2838048"><a href="/encoding/asn1/marshal.go.html#2838011">i</a></span><span class="op" id="2838049">]</span>&nbsp;<span class="op" id="2838051">=</span>&nbsp;<span class="builtintype" id="2838053">uint8</span><span class="op" id="2838058">(</span><span class="ident" id="2838059"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838060">.</span><span class="ident" id="2838061">Index</span><span class="op" id="2838066">(</span><span class="ident" id="2838067"><a href="/encoding/asn1/marshal.go.html#2838011">i</a></span><span class="op" id="2838068">)</span><span class="op" id="2838069">.</span><span class="ident" id="2838070">Uint</span><span class="op" id="2838074">(</span><span class="op" id="2838075">)</span><span class="op" id="2838076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838081">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838086">_</span><span class="op" id="2838087">,</span>&nbsp;<span class="ident" id="2838089"><a href="/encoding/asn1/marshal.go.html#2836247">err</a></span>&nbsp;<span class="op" id="2838093">=</span>&nbsp;<span class="ident" id="2838095"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2838098">.</span><span class="ident" id="2838099">Write</span><span class="op" id="2838104">(</span><span class="ident" id="2838105"><a href="/encoding/asn1/marshal.go.html#2837973">bytes</a></span><span class="op" id="2838110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838115">return</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838124">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838129">var</span>&nbsp;<span class="ident" id="2838133">fp</span>&nbsp;<span class="ident" id="2838136"><a href="/encoding/asn1/common.go.html#2825887">fieldParameters</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838154">for</span>&nbsp;<span class="ident" id="2838158">i</span>&nbsp;<span class="op" id="2838160">:=</span>&nbsp;<span class="num" id="2838163">0</span><span class="op" id="2838164">;</span>&nbsp;<span class="ident" id="2838166"><a href="/encoding/asn1/marshal.go.html#2838158">i</a></span>&nbsp;<span class="op" id="2838168">&lt;</span>&nbsp;<span class="ident" id="2838170"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838171">.</span><span class="ident" id="2838172">Len</span><span class="op" id="2838175">(</span><span class="op" id="2838176">)</span><span class="op" id="2838177">;</span>&nbsp;<span class="ident" id="2838179"><a href="/encoding/asn1/marshal.go.html#2838158">i</a></span><span class="op" id="2838180">++</span>&nbsp;<span class="op" id="2838183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838188">var</span>&nbsp;<span class="ident" id="2838192">pre</span>&nbsp;<span class="op" id="2838196">*</span><span class="ident" id="2838197"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838215"><a href="/encoding/asn1/marshal.go.html#2838192">pre</a></span><span class="op" id="2838218">,</span>&nbsp;<span class="ident" id="2838220"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span>&nbsp;<span class="op" id="2838224">=</span>&nbsp;<span class="ident" id="2838226"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2838229">.</span><span class="ident" id="2838230">fork</span><span class="op" id="2838234">(</span><span class="op" id="2838235">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2838240"><a href="/encoding/asn1/marshal.go.html#2836247">err</a></span>&nbsp;<span class="op" id="2838244">=</span>&nbsp;<span class="ident" id="2838246"><a href="/encoding/asn1/marshal.go.html#2838636">marshalField</a></span><span class="op" id="2838258">(</span><span class="ident" id="2838259"><a href="/encoding/asn1/marshal.go.html#2838192">pre</a></span><span class="op" id="2838262">,</span>&nbsp;<span class="ident" id="2838264"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838265">.</span><span class="ident" id="2838266">Index</span><span class="op" id="2838271">(</span><span class="ident" id="2838272"><a href="/encoding/asn1/marshal.go.html#2838158">i</a></span><span class="op" id="2838273">)</span><span class="op" id="2838274">,</span>&nbsp;<span class="ident" id="2838276"><a href="/encoding/asn1/marshal.go.html#2838133">fp</a></span><span class="op" id="2838278">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838283">if</span>&nbsp;<span class="ident" id="2838286"><a href="/encoding/asn1/marshal.go.html#2836247">err</a></span>&nbsp;<span class="op" id="2838290">!=</span>&nbsp;<span class="ident" id="2838293">nil</span>&nbsp;<span class="op" id="2838297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838303">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838313">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838321">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838329">case</span>&nbsp;<span class="ident" id="2838334"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2838341">.</span><span class="ident" id="2838342">String</span><span class="op" id="2838348">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838352">switch</span>&nbsp;<span class="ident" id="2838359"><a href="/encoding/asn1/marshal.go.html#2836222">params</a></span><span class="op" id="2838365">.</span><span class="ident" id="2838366">stringType</span>&nbsp;<span class="op" id="2838377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838381">case</span>&nbsp;<span class="ident" id="2838386"><a href="/encoding/asn1/common.go.html#2824606">tagIA5String</a></span><span class="op" id="2838398">:</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838403">return</span>&nbsp;<span class="ident" id="2838410"><a href="/encoding/asn1/marshal.go.html#2833617">marshalIA5String</a></span><span class="op" id="2838426">(</span><span class="ident" id="2838427"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2838430">,</span>&nbsp;<span class="ident" id="2838432"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838433">.</span><span class="ident" id="2838434">String</span><span class="op" id="2838440">(</span><span class="op" id="2838441">)</span><span class="op" id="2838442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838446">case</span>&nbsp;<span class="ident" id="2838451"><a href="/encoding/asn1/common.go.html#2824556">tagPrintableString</a></span><span class="op" id="2838469">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838474">return</span>&nbsp;<span class="ident" id="2838481"><a href="/encoding/asn1/marshal.go.html#2833368">marshalPrintableString</a></span><span class="op" id="2838503">(</span><span class="ident" id="2838504"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2838507">,</span>&nbsp;<span class="ident" id="2838509"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838510">.</span><span class="ident" id="2838511">String</span><span class="op" id="2838517">(</span><span class="op" id="2838518">)</span><span class="op" id="2838519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838523">default</span><span class="op" id="2838530">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838535">return</span>&nbsp;<span class="ident" id="2838542"><a href="/encoding/asn1/marshal.go.html#2833846">marshalUTF8String</a></span><span class="op" id="2838559">(</span><span class="ident" id="2838560"><a href="/encoding/asn1/marshal.go.html#2836180">out</a></span><span class="op" id="2838563">,</span>&nbsp;<span class="ident" id="2838565"><a href="/encoding/asn1/marshal.go.html#2836726">v</a></span><span class="op" id="2838566">.</span><span class="ident" id="2838567">String</span><span class="op" id="2838573">(</span><span class="op" id="2838574">)</span><span class="op" id="2838575">)</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838586">return</span>&nbsp;<span class="ident" id="2838593"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2838608">{</span><span class="string" id="2838609">&#34;unknown&nbsp;Go&nbsp;type&#34;</span><span class="op" id="2838626">}</span><br>
<span class="lineno"></span><span class="op" id="2838628">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="2838631">func</span>&nbsp;<span class="ident" id="2838636">marshalField</span><span class="op" id="2838648">(</span><span class="ident" id="2838649">out</span>&nbsp;<span class="op" id="2838653">*</span><span class="ident" id="2838654"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><span class="op" id="2838668">,</span>&nbsp;<span class="ident" id="2838670">v</span>&nbsp;<span class="ident" id="2838672"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2838679">.</span><span class="ident" id="2838680">Value</span><span class="op" id="2838685">,</span>&nbsp;<span class="ident" id="2838687">params</span>&nbsp;<span class="ident" id="2838694"><a href="/encoding/asn1/common.go.html#2825887">fieldParameters</a></span><span class="op" id="2838709">)</span>&nbsp;<span class="op" id="2838711">(</span><span class="ident" id="2838712">err</span>&nbsp;<span class="builtintype" id="2838716">error</span><span class="op" id="2838721">)</span>&nbsp;<span class="op" id="2838723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2838726">//&nbsp;If&nbsp;the&nbsp;field&nbsp;is&nbsp;an&nbsp;interface{}&nbsp;then&nbsp;recurse&nbsp;into&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838783">if</span>&nbsp;<span class="ident" id="2838786"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2838787">.</span><span class="ident" id="2838788">Kind</span><span class="op" id="2838792">(</span><span class="op" id="2838793">)</span>&nbsp;<span class="op" id="2838795">==</span>&nbsp;<span class="ident" id="2838798"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2838805">.</span><span class="ident" id="2838806">Interface</span>&nbsp;<span class="op" id="2838816">&amp;&amp;</span>&nbsp;<span class="ident" id="2838819"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2838820">.</span><span class="ident" id="2838821">Type</span><span class="op" id="2838825">(</span><span class="op" id="2838826">)</span><span class="op" id="2838827">.</span><span class="ident" id="2838828">NumMethod</span><span class="op" id="2838837">(</span><span class="op" id="2838838">)</span>&nbsp;<span class="op" id="2838840">==</span>&nbsp;<span class="num" id="2838843">0</span>&nbsp;<span class="op" id="2838845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838849">return</span>&nbsp;<span class="ident" id="2838856"><a href="/encoding/asn1/marshal.go.html#2838636">marshalField</a></span><span class="op" id="2838868">(</span><span class="ident" id="2838869"><a href="/encoding/asn1/marshal.go.html#2838649">out</a></span><span class="op" id="2838872">,</span>&nbsp;<span class="ident" id="2838874"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2838875">.</span><span class="ident" id="2838876">Elem</span><span class="op" id="2838880">(</span><span class="op" id="2838881">)</span><span class="op" id="2838882">,</span>&nbsp;<span class="ident" id="2838884"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2838890">)</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838893">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838897">if</span>&nbsp;<span class="ident" id="2838900"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2838901">.</span><span class="ident" id="2838902">Kind</span><span class="op" id="2838906">(</span><span class="op" id="2838907">)</span>&nbsp;<span class="op" id="2838909">==</span>&nbsp;<span class="ident" id="2838912"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2838919">.</span><span class="ident" id="2838920">Slice</span>&nbsp;<span class="op" id="2838926">&amp;&amp;</span>&nbsp;<span class="ident" id="2838929"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2838930">.</span><span class="ident" id="2838931">Len</span><span class="op" id="2838934">(</span><span class="op" id="2838935">)</span>&nbsp;<span class="op" id="2838937">==</span>&nbsp;<span class="num" id="2838940">0</span>&nbsp;<span class="op" id="2838942">&amp;&amp;</span>&nbsp;<span class="ident" id="2838945"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2838951">.</span><span class="ident" id="2838952">omitEmpty</span>&nbsp;<span class="op" id="2838962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838966">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2838974">}</span><br>
<span class="lineno">515</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2838978">if</span>&nbsp;<span class="ident" id="2838981"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2838987">.</span><span class="ident" id="2838988">optional</span>&nbsp;<span class="op" id="2838997">&amp;&amp;</span>&nbsp;<span class="ident" id="2839000"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2839006">.</span><span class="ident" id="2839007">defaultValue</span>&nbsp;<span class="op" id="2839020">!=</span>&nbsp;<span class="ident" id="2839023">nil</span>&nbsp;<span class="op" id="2839027">&amp;&amp;</span>&nbsp;<span class="ident" id="2839030"><a href="/encoding/asn1/asn1.go.html#2820498">canHaveDefaultValue</a></span><span class="op" id="2839049">(</span><span class="ident" id="2839050"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839051">.</span><span class="ident" id="2839052">Kind</span><span class="op" id="2839056">(</span><span class="op" id="2839057">)</span><span class="op" id="2839058">)</span>&nbsp;<span class="op" id="2839060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839064">defaultValue</span>&nbsp;<span class="op" id="2839077">:=</span>&nbsp;<span class="ident" id="2839080"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2839087">.</span><span class="ident" id="2839088">New</span><span class="op" id="2839091">(</span><span class="ident" id="2839092"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839093">.</span><span class="ident" id="2839094">Type</span><span class="op" id="2839098">(</span><span class="op" id="2839099">)</span><span class="op" id="2839100">)</span><span class="op" id="2839101">.</span><span class="ident" id="2839102">Elem</span><span class="op" id="2839106">(</span><span class="op" id="2839107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839111"><a href="/encoding/asn1/marshal.go.html#2839064">defaultValue</a></span><span class="op" id="2839123">.</span><span class="ident" id="2839124">SetInt</span><span class="op" id="2839130">(</span><span class="op" id="2839131">*</span><span class="ident" id="2839132"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2839138">.</span><span class="ident" id="2839139">defaultValue</span><span class="op" id="2839151">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839156">if</span>&nbsp;<span class="ident" id="2839159"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2839166">.</span><span class="ident" id="2839167">DeepEqual</span><span class="op" id="2839176">(</span><span class="ident" id="2839177"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839178">.</span><span class="ident" id="2839179">Interface</span><span class="op" id="2839188">(</span><span class="op" id="2839189">)</span><span class="op" id="2839190">,</span>&nbsp;<span class="ident" id="2839192"><a href="/encoding/asn1/marshal.go.html#2839064">defaultValue</a></span><span class="op" id="2839204">.</span><span class="ident" id="2839205">Interface</span><span class="op" id="2839214">(</span><span class="op" id="2839215">)</span><span class="op" id="2839216">)</span>&nbsp;<span class="op" id="2839218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839223">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839232">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839235">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2839239">//&nbsp;If&nbsp;no&nbsp;default&nbsp;value&nbsp;is&nbsp;given&nbsp;then&nbsp;the&nbsp;zero&nbsp;value&nbsp;for&nbsp;the&nbsp;type&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2839308">//&nbsp;assumed&nbsp;to&nbsp;be&nbsp;the&nbsp;default&nbsp;value.&nbsp;This&nbsp;isn&#39;t&nbsp;obviously&nbsp;the&nbsp;correct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2839378">//&nbsp;behaviour,&nbsp;but&nbsp;it&#39;s&nbsp;what&nbsp;Go&nbsp;has&nbsp;traditionally&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839434">if</span>&nbsp;<span class="ident" id="2839437"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2839443">.</span><span class="ident" id="2839444">optional</span>&nbsp;<span class="op" id="2839453">&amp;&amp;</span>&nbsp;<span class="ident" id="2839456"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2839462">.</span><span class="ident" id="2839463">defaultValue</span>&nbsp;<span class="op" id="2839476">==</span>&nbsp;<span class="ident" id="2839479">nil</span>&nbsp;<span class="op" id="2839483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839487">if</span>&nbsp;<span class="ident" id="2839490"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2839497">.</span><span class="ident" id="2839498">DeepEqual</span><span class="op" id="2839507">(</span><span class="ident" id="2839508"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839509">.</span><span class="ident" id="2839510">Interface</span><span class="op" id="2839519">(</span><span class="op" id="2839520">)</span><span class="op" id="2839521">,</span>&nbsp;<span class="ident" id="2839523"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2839530">.</span><span class="ident" id="2839531">Zero</span><span class="op" id="2839535">(</span><span class="ident" id="2839536"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839537">.</span><span class="ident" id="2839538">Type</span><span class="op" id="2839542">(</span><span class="op" id="2839543">)</span><span class="op" id="2839544">)</span><span class="op" id="2839545">.</span><span class="ident" id="2839546">Interface</span><span class="op" id="2839555">(</span><span class="op" id="2839556">)</span><span class="op" id="2839557">)</span>&nbsp;<span class="op" id="2839559">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839564">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839573">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839580">if</span>&nbsp;<span class="ident" id="2839583"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839584">.</span><span class="ident" id="2839585">Type</span><span class="op" id="2839589">(</span><span class="op" id="2839590">)</span>&nbsp;<span class="op" id="2839592">==</span>&nbsp;<span class="ident" id="2839595"><a href="/encoding/asn1/asn1.go.html#2811482">rawValueType</a></span>&nbsp;<span class="op" id="2839608">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839612">rv</span>&nbsp;<span class="op" id="2839615">:=</span>&nbsp;<span class="ident" id="2839618"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839619">.</span><span class="ident" id="2839620">Interface</span><span class="op" id="2839629">(</span><span class="op" id="2839630">)</span><span class="op" id="2839631">.</span><span class="op" id="2839632">(</span><span class="ident" id="2839633"><a href="/encoding/asn1/asn1.go.html#2807457">RawValue</a></span><span class="op" id="2839641">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839645">if</span>&nbsp;<span class="builtinfunc" id="2839648">len</span><span class="op" id="2839651">(</span><span class="ident" id="2839652"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839654">.</span><span class="ident" id="2839655">FullBytes</span><span class="op" id="2839664">)</span>&nbsp;<span class="op" id="2839666">!=</span>&nbsp;<span class="num" id="2839669">0</span>&nbsp;<span class="op" id="2839671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839676">_</span><span class="op" id="2839677">,</span>&nbsp;<span class="ident" id="2839679"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2839683">=</span>&nbsp;<span class="ident" id="2839685"><a href="/encoding/asn1/marshal.go.html#2838649">out</a></span><span class="op" id="2839688">.</span><span class="ident" id="2839689">Write</span><span class="op" id="2839694">(</span><span class="ident" id="2839695"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839697">.</span><span class="ident" id="2839698">FullBytes</span><span class="op" id="2839707">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839711">}</span>&nbsp;<span class="keyword" id="2839713">else</span>&nbsp;<span class="op" id="2839718">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839723"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2839727">=</span>&nbsp;<span class="ident" id="2839729"><a href="/encoding/asn1/marshal.go.html#2832060">marshalTagAndLength</a></span><span class="op" id="2839748">(</span><span class="ident" id="2839749"><a href="/encoding/asn1/marshal.go.html#2838649">out</a></span><span class="op" id="2839752">,</span>&nbsp;<span class="ident" id="2839754"><a href="/encoding/asn1/common.go.html#2824828">tagAndLength</a></span><span class="op" id="2839766">{</span><span class="ident" id="2839767"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839769">.</span><span class="ident" id="2839770">Class</span><span class="op" id="2839775">,</span>&nbsp;<span class="ident" id="2839777"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839779">.</span><span class="ident" id="2839780">Tag</span><span class="op" id="2839783">,</span>&nbsp;<span class="builtinfunc" id="2839785">len</span><span class="op" id="2839788">(</span><span class="ident" id="2839789"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839791">.</span><span class="ident" id="2839792">Bytes</span><span class="op" id="2839797">)</span><span class="op" id="2839798">,</span>&nbsp;<span class="ident" id="2839800"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839802">.</span><span class="ident" id="2839803">IsCompound</span><span class="op" id="2839813">}</span><span class="op" id="2839814">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839819">if</span>&nbsp;<span class="ident" id="2839822"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2839826">!=</span>&nbsp;<span class="ident" id="2839829">nil</span>&nbsp;<span class="op" id="2839833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839839">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839854">_</span><span class="op" id="2839855">,</span>&nbsp;<span class="ident" id="2839857"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2839861">=</span>&nbsp;<span class="ident" id="2839863"><a href="/encoding/asn1/marshal.go.html#2838649">out</a></span><span class="op" id="2839866">.</span><span class="ident" id="2839867">Write</span><span class="op" id="2839872">(</span><span class="ident" id="2839873"><a href="/encoding/asn1/marshal.go.html#2839612">rv</a></span><span class="op" id="2839875">.</span><span class="ident" id="2839876">Bytes</span><span class="op" id="2839881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839885">}</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839889">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2839897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839901">tag</span><span class="op" id="2839904">,</span>&nbsp;<span class="ident" id="2839906">isCompound</span><span class="op" id="2839916">,</span>&nbsp;<span class="ident" id="2839918">ok</span>&nbsp;<span class="op" id="2839921">:=</span>&nbsp;<span class="ident" id="2839924"><a href="/encoding/asn1/common.go.html#2827789">getUniversalType</a></span><span class="op" id="2839940">(</span><span class="ident" id="2839941"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2839942">.</span><span class="ident" id="2839943">Type</span><span class="op" id="2839947">(</span><span class="op" id="2839948">)</span><span class="op" id="2839949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2839952">if</span>&nbsp;<span class="op" id="2839955">!</span><span class="ident" id="2839956"><a href="/encoding/asn1/marshal.go.html#2839918">ok</a></span>&nbsp;<span class="op" id="2839959">{</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2839963"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2839967">=</span>&nbsp;<span class="ident" id="2839969"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2839984">{</span><span class="ident" id="2839985"><a href="/encoding/asn1/marshal.go.html#2828886">fmt</a></span><span class="op" id="2839988">.</span><span class="ident" id="2839989">Sprintf</span><span class="op" id="2839996">(</span><span class="string" id="2839997">&#34;unknown&nbsp;Go&nbsp;type:&nbsp;%v&#34;</span><span class="op" id="2840018">,</span>&nbsp;<span class="ident" id="2840020"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2840021">.</span><span class="ident" id="2840022">Type</span><span class="op" id="2840026">(</span><span class="op" id="2840027">)</span><span class="op" id="2840028">)</span><span class="op" id="2840029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840033">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840044">class</span>&nbsp;<span class="op" id="2840050">:=</span>&nbsp;<span class="ident" id="2840053"><a href="/encoding/asn1/common.go.html#2824717">classUniversal</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840070">if</span>&nbsp;<span class="ident" id="2840073"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2840079">.</span><span class="ident" id="2840080">stringType</span>&nbsp;<span class="op" id="2840091">!=</span>&nbsp;<span class="num" id="2840094">0</span>&nbsp;<span class="op" id="2840096">&amp;&amp;</span>&nbsp;<span class="ident" id="2840099"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840103">!=</span>&nbsp;<span class="ident" id="2840106"><a href="/encoding/asn1/common.go.html#2824556">tagPrintableString</a></span>&nbsp;<span class="op" id="2840125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840129">return</span>&nbsp;<span class="ident" id="2840136"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2840151">{</span><span class="string" id="2840152">&#34;explicit&nbsp;string&nbsp;type&nbsp;given&nbsp;to&nbsp;non-string&nbsp;member&#34;</span><span class="op" id="2840201">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840208">switch</span>&nbsp;<span class="ident" id="2840215"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840219">{</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840222">case</span>&nbsp;<span class="ident" id="2840227"><a href="/encoding/asn1/common.go.html#2824556">tagPrintableString</a></span><span class="op" id="2840245">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840249">if</span>&nbsp;<span class="ident" id="2840252"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2840258">.</span><span class="ident" id="2840259">stringType</span>&nbsp;<span class="op" id="2840270">==</span>&nbsp;<span class="num" id="2840273">0</span>&nbsp;<span class="op" id="2840275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2840280">//&nbsp;This&nbsp;is&nbsp;a&nbsp;string&nbsp;without&nbsp;an&nbsp;explicit&nbsp;string&nbsp;type.&nbsp;We&#39;ll&nbsp;use</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2840346">//&nbsp;a&nbsp;PrintableString&nbsp;if&nbsp;the&nbsp;character&nbsp;set&nbsp;in&nbsp;the&nbsp;string&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2840408">//&nbsp;sufficiently&nbsp;limited,&nbsp;otherwise&nbsp;we&#39;ll&nbsp;use&nbsp;a&nbsp;UTF8String.</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840470">for</span>&nbsp;<span class="ident" id="2840474">_</span><span class="op" id="2840475">,</span>&nbsp;<span class="ident" id="2840477">r</span>&nbsp;<span class="op" id="2840479">:=</span>&nbsp;<span class="keyword" id="2840482">range</span>&nbsp;<span class="ident" id="2840488"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2840489">.</span><span class="ident" id="2840490">String</span><span class="op" id="2840496">(</span><span class="op" id="2840497">)</span>&nbsp;<span class="op" id="2840499">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840505">if</span>&nbsp;<span class="ident" id="2840508"><a href="/encoding/asn1/marshal.go.html#2840477">r</a></span>&nbsp;<span class="op" id="2840510">&gt;=</span>&nbsp;<span class="ident" id="2840513"><a href="/encoding/asn1/marshal.go.html#2828930">utf8</a></span><span class="op" id="2840517">.</span><span class="ident" id="2840518">RuneSelf</span>&nbsp;<span class="op" id="2840527">||</span>&nbsp;<span class="op" id="2840530">!</span><span class="ident" id="2840531"><a href="/encoding/asn1/asn1.go.html#2806238">isPrintable</a></span><span class="op" id="2840542">(</span><span class="builtintype" id="2840543">byte</span><span class="op" id="2840547">(</span><span class="ident" id="2840548"><a href="/encoding/asn1/marshal.go.html#2840477">r</a></span><span class="op" id="2840549">)</span><span class="op" id="2840550">)</span>&nbsp;<span class="op" id="2840552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840559">if</span>&nbsp;<span class="op" id="2840562">!</span><span class="ident" id="2840563"><a href="/encoding/asn1/marshal.go.html#2828930">utf8</a></span><span class="op" id="2840567">.</span><span class="ident" id="2840568">ValidString</span><span class="op" id="2840579">(</span><span class="ident" id="2840580"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2840581">.</span><span class="ident" id="2840582">String</span><span class="op" id="2840588">(</span><span class="op" id="2840589">)</span><span class="op" id="2840590">)</span>&nbsp;<span class="op" id="2840592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840600">return</span>&nbsp;<span class="ident" id="2840607"><a href="/encoding/asn1/marshal.go.html#2828876">errors</a></span><span class="op" id="2840613">.</span><span class="ident" id="2840614">New</span><span class="op" id="2840617">(</span><span class="string" id="2840618">&#34;asn1:&nbsp;string&nbsp;not&nbsp;valid&nbsp;UTF-8&#34;</span><span class="op" id="2840648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840655">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840662"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840666">=</span>&nbsp;<span class="ident" id="2840668"><a href="/encoding/asn1/common.go.html#2824481">tagUTF8String</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840687">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840697">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840706">}</span>&nbsp;<span class="keyword" id="2840708">else</span>&nbsp;<span class="op" id="2840713">{</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840718"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840722">=</span>&nbsp;<span class="ident" id="2840724"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2840730">.</span><span class="ident" id="2840731">stringType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840744">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840747">case</span>&nbsp;<span class="ident" id="2840752"><a href="/encoding/asn1/common.go.html#2824631">tagUTCTime</a></span><span class="op" id="2840762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840766">if</span>&nbsp;<span class="ident" id="2840769"><a href="/encoding/asn1/marshal.go.html#2834330">outsideUTCRange</a></span><span class="op" id="2840784">(</span><span class="ident" id="2840785"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2840786">.</span><span class="ident" id="2840787">Interface</span><span class="op" id="2840796">(</span><span class="op" id="2840797">)</span><span class="op" id="2840798">.</span><span class="op" id="2840799">(</span><span class="ident" id="2840800"><a href="/encoding/asn1/marshal.go.html#2828922">time</a></span><span class="op" id="2840804">.</span><span class="ident" id="2840805">Time</span><span class="op" id="2840809">)</span><span class="op" id="2840810">)</span>&nbsp;<span class="op" id="2840812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840817"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840821">=</span>&nbsp;<span class="ident" id="2840823"><a href="/encoding/asn1/common.go.html#2824656">tagGeneralizedTime</a></span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840847">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840851">if</span>&nbsp;<span class="ident" id="2840854"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2840860">.</span><span class="ident" id="2840861">set</span>&nbsp;<span class="op" id="2840865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840869">if</span>&nbsp;<span class="ident" id="2840872"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840876">!=</span>&nbsp;<span class="ident" id="2840879"><a href="/encoding/asn1/common.go.html#2824506">tagSequence</a></span>&nbsp;<span class="op" id="2840891">{</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2840896">return</span>&nbsp;<span class="ident" id="2840903"><a href="/encoding/asn1/asn1.go.html#2799123">StructuralError</a></span><span class="op" id="2840918">{</span><span class="string" id="2840919">&#34;non&nbsp;sequence&nbsp;tagged&nbsp;as&nbsp;set&#34;</span><span class="op" id="2840947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840955"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2840959">=</span>&nbsp;<span class="ident" id="2840961"><a href="/encoding/asn1/common.go.html#2824531">tagSet</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2840969">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2840973">tags</span><span class="op" id="2840977">,</span>&nbsp;<span class="ident" id="2840979">body</span>&nbsp;<span class="op" id="2840984">:=</span>&nbsp;<span class="ident" id="2840987"><a href="/encoding/asn1/marshal.go.html#2838649">out</a></span><span class="op" id="2840990">.</span><span class="ident" id="2840991">fork</span><span class="op" id="2840995">(</span><span class="op" id="2840996">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841000"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2841004">=</span>&nbsp;<span class="ident" id="2841006"><a href="/encoding/asn1/marshal.go.html#2836168">marshalBody</a></span><span class="op" id="2841017">(</span><span class="ident" id="2841018"><a href="/encoding/asn1/marshal.go.html#2840979">body</a></span><span class="op" id="2841022">,</span>&nbsp;<span class="ident" id="2841024"><a href="/encoding/asn1/marshal.go.html#2838670">v</a></span><span class="op" id="2841025">,</span>&nbsp;<span class="ident" id="2841027"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841036">if</span>&nbsp;<span class="ident" id="2841039"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2841043">!=</span>&nbsp;<span class="ident" id="2841046">nil</span>&nbsp;<span class="op" id="2841050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841054">return</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841062">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841066">bodyLen</span>&nbsp;<span class="op" id="2841074">:=</span>&nbsp;<span class="ident" id="2841077"><a href="/encoding/asn1/marshal.go.html#2840979">body</a></span><span class="op" id="2841081">.</span><span class="ident" id="2841082">Len</span><span class="op" id="2841085">(</span><span class="op" id="2841086">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841090">var</span>&nbsp;<span class="ident" id="2841094">explicitTag</span>&nbsp;<span class="op" id="2841106">*</span><span class="ident" id="2841107"><a href="/encoding/asn1/marshal.go.html#2829186">forkableWriter</a></span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841123">if</span>&nbsp;<span class="ident" id="2841126"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841132">.</span><span class="ident" id="2841133">explicit</span>&nbsp;<span class="op" id="2841142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841146"><a href="/encoding/asn1/marshal.go.html#2841094">explicitTag</a></span><span class="op" id="2841157">,</span>&nbsp;<span class="ident" id="2841159"><a href="/encoding/asn1/marshal.go.html#2840973">tags</a></span>&nbsp;<span class="op" id="2841164">=</span>&nbsp;<span class="ident" id="2841166"><a href="/encoding/asn1/marshal.go.html#2840973">tags</a></span><span class="op" id="2841170">.</span><span class="ident" id="2841171">fork</span><span class="op" id="2841175">(</span><span class="op" id="2841176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841179">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841183">if</span>&nbsp;<span class="op" id="2841186">!</span><span class="ident" id="2841187"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841193">.</span><span class="ident" id="2841194">explicit</span>&nbsp;<span class="op" id="2841203">&amp;&amp;</span>&nbsp;<span class="ident" id="2841206"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841212">.</span><span class="ident" id="2841213">tag</span>&nbsp;<span class="op" id="2841217">!=</span>&nbsp;<span class="ident" id="2841220">nil</span>&nbsp;<span class="op" id="2841224">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2841228">//&nbsp;implicit&nbsp;tag.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841247"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span>&nbsp;<span class="op" id="2841251">=</span>&nbsp;<span class="op" id="2841253">*</span><span class="ident" id="2841254"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841260">.</span><span class="ident" id="2841261">tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841267"><a href="/encoding/asn1/marshal.go.html#2840044">class</a></span>&nbsp;<span class="op" id="2841273">=</span>&nbsp;<span class="ident" id="2841275"><a href="/encoding/asn1/common.go.html#2824769">classContextSpecific</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841301"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2841305">=</span>&nbsp;<span class="ident" id="2841307"><a href="/encoding/asn1/marshal.go.html#2832060">marshalTagAndLength</a></span><span class="op" id="2841326">(</span><span class="ident" id="2841327"><a href="/encoding/asn1/marshal.go.html#2840973">tags</a></span><span class="op" id="2841331">,</span>&nbsp;<span class="ident" id="2841333"><a href="/encoding/asn1/common.go.html#2824828">tagAndLength</a></span><span class="op" id="2841345">{</span><span class="ident" id="2841346"><a href="/encoding/asn1/marshal.go.html#2840044">class</a></span><span class="op" id="2841351">,</span>&nbsp;<span class="ident" id="2841353"><a href="/encoding/asn1/marshal.go.html#2839901">tag</a></span><span class="op" id="2841356">,</span>&nbsp;<span class="ident" id="2841358"><a href="/encoding/asn1/marshal.go.html#2841066">bodyLen</a></span><span class="op" id="2841365">,</span>&nbsp;<span class="ident" id="2841367"><a href="/encoding/asn1/marshal.go.html#2839906">isCompound</a></span><span class="op" id="2841377">}</span><span class="op" id="2841378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841381">if</span>&nbsp;<span class="ident" id="2841384"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2841388">!=</span>&nbsp;<span class="ident" id="2841391">nil</span>&nbsp;<span class="op" id="2841395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841399">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841407">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841411">if</span>&nbsp;<span class="ident" id="2841414"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841420">.</span><span class="ident" id="2841421">explicit</span>&nbsp;<span class="op" id="2841430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841434"><a href="/encoding/asn1/marshal.go.html#2838712">err</a></span>&nbsp;<span class="op" id="2841438">=</span>&nbsp;<span class="ident" id="2841440"><a href="/encoding/asn1/marshal.go.html#2832060">marshalTagAndLength</a></span><span class="op" id="2841459">(</span><span class="ident" id="2841460"><a href="/encoding/asn1/marshal.go.html#2841094">explicitTag</a></span><span class="op" id="2841471">,</span>&nbsp;<span class="ident" id="2841473"><a href="/encoding/asn1/common.go.html#2824828">tagAndLength</a></span><span class="op" id="2841485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841490">class</span><span class="op" id="2841495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2841502"><a href="/encoding/asn1/common.go.html#2824769">classContextSpecific</a></span><span class="op" id="2841522">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841527">tag</span><span class="op" id="2841530">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2841539">*</span><span class="ident" id="2841540"><a href="/encoding/asn1/marshal.go.html#2838687">params</a></span><span class="op" id="2841546">.</span><span class="ident" id="2841547">tag</span><span class="op" id="2841550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841555">length</span><span class="op" id="2841561">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2841567"><a href="/encoding/asn1/marshal.go.html#2841066">bodyLen</a></span>&nbsp;<span class="op" id="2841575">+</span>&nbsp;<span class="ident" id="2841577"><a href="/encoding/asn1/marshal.go.html#2840973">tags</a></span><span class="op" id="2841581">.</span><span class="ident" id="2841582">Len</span><span class="op" id="2841585">(</span><span class="op" id="2841586">)</span><span class="op" id="2841587">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2841592">isCompound</span><span class="op" id="2841602">:</span>&nbsp;<span class="ident" id="2841604">true</span><span class="op" id="2841608">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841612">}</span><span class="op" id="2841613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2841616">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2841620">return</span>&nbsp;<span class="ident" id="2841627">nil</span><br>
<span class="lineno">625</span><span class="op" id="2841631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2841634">//&nbsp;Marshal&nbsp;returns&nbsp;the&nbsp;ASN.1&nbsp;encoding&nbsp;of&nbsp;val.</span><br>
<span class="lineno"></span><span class="comment" id="2841680">//</span><br>
<span class="lineno"></span><span class="comment" id="2841683">//&nbsp;In&nbsp;addition&nbsp;to&nbsp;the&nbsp;struct&nbsp;tags&nbsp;recognised&nbsp;by&nbsp;Unmarshal,&nbsp;the&nbsp;following&nbsp;can&nbsp;be</span><br>
<span class="lineno">630</span><span class="comment" id="2841763">//&nbsp;used:</span><br>
<span class="lineno"></span><span class="comment" id="2841772">//</span><br>
<span class="lineno"></span><span class="comment" id="2841775">//&nbsp;&nbsp;&nbsp;&nbspia5:&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;IA5&nbsp;strings</span><br>
<span class="lineno"></span><span class="comment" id="2841837">//&nbsp;&nbsp;&nbsp;&nbspomitempty:&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;empty&nbsp;slices&nbsp;to&nbsp;be&nbsp;skipped</span><br>
<span class="lineno"></span><span class="comment" id="2841885">//&nbsp;&nbsp;&nbsp;&nbspprintable:&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;PrintableString&nbsp;strings.</span><br>
<span class="lineno">635</span><span class="comment" id="2841965">//&nbsp;&nbsp;&nbsp;&nbsputf8:&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspcauses&nbsp;strings&nbsp;to&nbsp;be&nbsp;marshaled&nbsp;as&nbsp;ASN.1,&nbsp;UTF8&nbsp;strings</span><br>
<span class="lineno"></span><span class="keyword" id="2842029">func</span>&nbsp;<span class="ident" id="2842034">Marshal</span><span class="op" id="2842041">(</span><span class="ident" id="2842042">val</span>&nbsp;<span class="keyword" id="2842046">interface</span><span class="op" id="2842055">{</span><span class="op" id="2842056">}</span><span class="op" id="2842057">)</span>&nbsp;<span class="op" id="2842059">(</span><span class="op" id="2842060">[</span><span class="op" id="2842061">]</span><span class="builtintype" id="2842062">byte</span><span class="op" id="2842066">,</span>&nbsp;<span class="builtintype" id="2842068">error</span><span class="op" id="2842073">)</span>&nbsp;<span class="op" id="2842075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842078">var</span>&nbsp;<span class="ident" id="2842082">out</span>&nbsp;<span class="ident" id="2842086"><a href="/encoding/asn1/marshal.go.html#2828867">bytes</a></span><span class="op" id="2842091">.</span><span class="ident" id="2842092">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842100">v</span>&nbsp;<span class="op" id="2842102">:=</span>&nbsp;<span class="ident" id="2842105"><a href="/encoding/asn1/marshal.go.html#2828911">reflect</a></span><span class="op" id="2842112">.</span><span class="ident" id="2842113">ValueOf</span><span class="op" id="2842120">(</span><span class="ident" id="2842121"><a href="/encoding/asn1/marshal.go.html#2842042">val</a></span><span class="op" id="2842124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842127">f</span>&nbsp;<span class="op" id="2842129">:=</span>&nbsp;<span class="ident" id="2842132"><a href="/encoding/asn1/marshal.go.html#2829260">newForkableWriter</a></span><span class="op" id="2842149">(</span><span class="op" id="2842150">)</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842153">err</span>&nbsp;<span class="op" id="2842157">:=</span>&nbsp;<span class="ident" id="2842160"><a href="/encoding/asn1/marshal.go.html#2838636">marshalField</a></span><span class="op" id="2842172">(</span><span class="ident" id="2842173"><a href="/encoding/asn1/marshal.go.html#2842127">f</a></span><span class="op" id="2842174">,</span>&nbsp;<span class="ident" id="2842176"><a href="/encoding/asn1/marshal.go.html#2842100">v</a></span><span class="op" id="2842177">,</span>&nbsp;<span class="ident" id="2842179"><a href="/encoding/asn1/common.go.html#2825887">fieldParameters</a></span><span class="op" id="2842194">{</span><span class="op" id="2842195">}</span><span class="op" id="2842196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842199">if</span>&nbsp;<span class="ident" id="2842202"><a href="/encoding/asn1/marshal.go.html#2842153">err</a></span>&nbsp;<span class="op" id="2842206">!=</span>&nbsp;<span class="ident" id="2842209">nil</span>&nbsp;<span class="op" id="2842213">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842217">return</span>&nbsp;<span class="ident" id="2842224">nil</span><span class="op" id="2842227">,</span>&nbsp;<span class="ident" id="2842229"><a href="/encoding/asn1/marshal.go.html#2842153">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2842234">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2842237">_</span><span class="op" id="2842238">,</span>&nbsp;<span class="ident" id="2842240"><a href="/encoding/asn1/marshal.go.html#2842153">err</a></span>&nbsp;<span class="op" id="2842244">=</span>&nbsp;<span class="ident" id="2842246"><a href="/encoding/asn1/marshal.go.html#2842127">f</a></span><span class="op" id="2842247">.</span><span class="ident" id="2842248">writeTo</span><span class="op" id="2842255">(</span><span class="op" id="2842256">&amp;</span><span class="ident" id="2842257"><a href="/encoding/asn1/marshal.go.html#2842082">out</a></span><span class="op" id="2842260">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2842263">return</span>&nbsp;<span class="ident" id="2842270"><a href="/encoding/asn1/marshal.go.html#2842082">out</a></span><span class="op" id="2842273">.</span><span class="ident" id="2842274">Bytes</span><span class="op" id="2842279">(</span><span class="op" id="2842280">)</span><span class="op" id="2842281">,</span>&nbsp;<span class="ident" id="2842283">nil</span><br>
<span class="lineno"></span><span class="op" id="2842287">}</span>
</div>
</body>
</html>
