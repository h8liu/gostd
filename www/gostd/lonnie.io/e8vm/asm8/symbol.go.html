<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5119616">package</span>&nbsp;<span class="ident" id="5119624">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5119630">import</span>&nbsp;<span class="op" id="5119637">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5119640">&#34;lonnie.io/e8vm/lex8&#34;</span><br>
<span class="lineno">5</span><span class="op" id="5119662">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5119665">//&nbsp;Symbol&nbsp;is&nbsp;a&nbsp;data&nbsp;structure&nbsp;for&nbsp;saving&nbsp;a&nbsp;symbol.</span><br>
<span class="lineno"></span><span class="keyword" id="5119716">type</span>&nbsp;<span class="ident" id="5119721">symbol</span>&nbsp;<span class="keyword" id="5119728">struct</span>&nbsp;<span class="op" id="5119735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5119738">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5119746">string</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5119754">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5119762">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5119767">Item</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5119775">interface</span><span class="op" id="5119784">{</span><span class="op" id="5119785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5119788">Pos</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5119796">*</span><span class="ident" id="5119797">lex8</span><span class="op" id="5119801">.</span><span class="ident" id="5119802">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5119807">Package</span>&nbsp;<span class="builtintype" id="5119815">string</span>&nbsp;<span class="comment" id="5119822">//&nbsp;Package&nbsp;path</span><br>
<span class="lineno"></span><span class="op" id="5119838">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="5119841">func</span>&nbsp;<span class="op" id="5119846">(</span><span class="ident" id="5119847">s</span>&nbsp;<span class="op" id="5119849">*</span><span class="ident" id="5119850">symbol</span><span class="op" id="5119856">)</span>&nbsp;<span class="ident" id="5119858">clone</span><span class="op" id="5119863">(</span><span class="op" id="5119864">)</span>&nbsp;<span class="op" id="5119866">*</span><span class="ident" id="5119867">symbol</span>&nbsp;<span class="op" id="5119874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5119877">return</span>&nbsp;<span class="op" id="5119884">&amp;</span><span class="ident" id="5119885">symbol</span><span class="op" id="5119891">{</span><span class="ident" id="5119892">s</span><span class="op" id="5119893">.</span><span class="ident" id="5119894">Name</span><span class="op" id="5119898">,</span>&nbsp;<span class="ident" id="5119900">s</span><span class="op" id="5119901">.</span><span class="ident" id="5119902">Type</span><span class="op" id="5119906">,</span>&nbsp;<span class="ident" id="5119908">s</span><span class="op" id="5119909">.</span><span class="ident" id="5119910">Item</span><span class="op" id="5119914">,</span>&nbsp;<span class="ident" id="5119916">s</span><span class="op" id="5119917">.</span><span class="ident" id="5119918">Pos</span><span class="op" id="5119921">,</span>&nbsp;<span class="ident" id="5119923">s</span><span class="op" id="5119924">.</span><span class="ident" id="5119925">Package</span><span class="op" id="5119932">}</span><br>
<span class="lineno"></span><span class="op" id="5119934">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="5119937">//&nbsp;asm8&nbsp;symbol&nbsp;types</span><br>
<span class="lineno"></span><span class="keyword" id="5119958">const</span>&nbsp;<span class="op" id="5119964">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5119967">SymImport</span>&nbsp;<span class="op" id="5119977">=</span>&nbsp;<span class="ident" id="5119979">iota</span>&nbsp;<span class="comment" id="5119984">//&nbsp;Item.type&nbsp;==&nbsp;*PkgObj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5120009">SymFunc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5120026">//&nbsp;Item.type&nbsp;==&nbsp;*Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5120049">SymConst</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5120066">//&nbsp;Item.type&nbsp;==&nbsp;*Const</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5120090">SymVar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5120107">//&nbsp;Item.type&nbsp;==&nbsp;*Var</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5120129">SymLabel</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5120146">//&nbsp;Item.type&nbsp;==&nbsp;*stmt</span><br>
<span class="lineno"></span><span class="op" id="5120168">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5120171">func</span>&nbsp;<span class="ident" id="5120176">symStr</span><span class="op" id="5120182">(</span><span class="ident" id="5120183">s</span>&nbsp;<span class="builtintype" id="5120185">int</span><span class="op" id="5120188">)</span>&nbsp;<span class="builtintype" id="5120190">string</span>&nbsp;<span class="op" id="5120197">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120200">switch</span>&nbsp;<span class="ident" id="5120207">s</span>&nbsp;<span class="op" id="5120209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120212">case</span>&nbsp;<span class="ident" id="5120217">SymImport</span><span class="op" id="5120226">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120230">return</span>&nbsp;<span class="string" id="5120237">&#34;import&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120247">case</span>&nbsp;<span class="ident" id="5120252">SymFunc</span><span class="op" id="5120259">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120263">return</span>&nbsp;<span class="string" id="5120270">&#34;function&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120282">case</span>&nbsp;<span class="ident" id="5120287">SymConst</span><span class="op" id="5120295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120299">return</span>&nbsp;<span class="string" id="5120306">&#34;constant&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120318">case</span>&nbsp;<span class="ident" id="5120323">SymVar</span><span class="op" id="5120329">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120333">return</span>&nbsp;<span class="string" id="5120340">&#34;variable&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120352">case</span>&nbsp;<span class="ident" id="5120357">SymLabel</span><span class="op" id="5120365">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120369">return</span>&nbsp;<span class="string" id="5120376">&#34;label&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5120385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120388">return</span>&nbsp;<span class="string" id="5120395">&#34;unknown&#34;</span><br>
<span class="lineno"></span><span class="op" id="5120405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="comment" id="5120408">//&nbsp;IsPublic&nbsp;checks&nbsp;if&nbsp;a&nbsp;symbol&nbsp;name&nbsp;is&nbsp;public.</span><br>
<span class="lineno"></span><span class="keyword" id="5120455">func</span>&nbsp;<span class="ident" id="5120460">isPublic</span><span class="op" id="5120468">(</span><span class="ident" id="5120469">name</span>&nbsp;<span class="builtintype" id="5120474">string</span><span class="op" id="5120480">)</span>&nbsp;<span class="builtintype" id="5120482">bool</span>&nbsp;<span class="op" id="5120487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120490">if</span>&nbsp;<span class="ident" id="5120493">name</span>&nbsp;<span class="op" id="5120498">==</span>&nbsp;<span class="string" id="5120501">&#34;&#34;</span>&nbsp;<span class="op" id="5120504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120508">return</span>&nbsp;<span class="builtintype" id="5120515">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5120522">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5120525">r</span>&nbsp;<span class="op" id="5120527">:=</span>&nbsp;<span class="ident" id="5120530">name</span><span class="op" id="5120534">[</span><span class="num" id="5120535">0</span><span class="op" id="5120536">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5120539">return</span>&nbsp;<span class="ident" id="5120546">r</span>&nbsp;<span class="op" id="5120548">&gt;=</span>&nbsp;<span class="string" id="5120551">&#39;A&#39;</span>&nbsp;<span class="op" id="5120555">&amp;&amp;</span>&nbsp;<span class="ident" id="5120558">r</span>&nbsp;<span class="op" id="5120560">&lt;=</span>&nbsp;<span class="string" id="5120563">&#39;Z&#39;</span><br>
<span class="lineno"></span><span class="op" id="5120567">}</span>
</div>
</body>
</html>
