<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>strings</h2>
<ul>
<li><a href="/gostd/strings/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/strings/export_test.go.html" class="current">export_test.go</a></li>
<li><a href="/gostd/strings/reader.go.html">reader.go</a></li>
<li><a href="/gostd/strings/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/strings/replace.go.html">replace.go</a></li>
<li><a href="/gostd/strings/replace_test.go.html">replace_test.go</a></li>
<li><a href="/gostd/strings/search.go.html">search.go</a></li>
<li><a href="/gostd/strings/search_test.go.html">search_test.go</a></li>
<li><a href="/gostd/strings/strings.go.html">strings.go</a></li>
<li><a href="/gostd/strings/strings_decl.go.html">strings_decl.go</a></li>
<li><a href="/gostd/strings/strings_test.go.html">strings_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7964851">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7964906">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7964960">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7965011">package</span>&nbsp;<span class="ident" id="7965019">strings</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7965028">func</span>&nbsp;<span class="op" id="7965033">(</span><span class="ident" id="7965034">r</span>&nbsp;<span class="op" id="7965036">*</span><span class="ident" id="7965037">Replacer</span><span class="op" id="7965045">)</span>&nbsp;<span class="ident" id="7965047">Replacer</span><span class="op" id="7965055">(</span><span class="op" id="7965056">)</span>&nbsp;<span class="keyword" id="7965058">interface</span><span class="op" id="7965067">{</span><span class="op" id="7965068">}</span>&nbsp;<span class="op" id="7965070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965073">return</span>&nbsp;<span class="ident" id="7965080">r</span><span class="op" id="7965081">.</span><span class="ident" id="7965082">r</span><br>
<span class="lineno"></span><span class="op" id="7965084">}</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7965087">func</span>&nbsp;<span class="op" id="7965092">(</span><span class="ident" id="7965093">r</span>&nbsp;<span class="op" id="7965095">*</span><span class="ident" id="7965096">Replacer</span><span class="op" id="7965104">)</span>&nbsp;<span class="ident" id="7965106">PrintTrie</span><span class="op" id="7965115">(</span><span class="op" id="7965116">)</span>&nbsp;<span class="builtintype" id="7965118">string</span>&nbsp;<span class="op" id="7965125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965128">gen</span>&nbsp;<span class="op" id="7965132">:=</span>&nbsp;<span class="ident" id="7965135">r</span><span class="op" id="7965136">.</span><span class="ident" id="7965137">r</span><span class="op" id="7965138">.</span><span class="op" id="7965139">(</span><span class="op" id="7965140">*</span><span class="ident" id="7965141">genericReplacer</span><span class="op" id="7965156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965159">return</span>&nbsp;<span class="ident" id="7965166">gen</span><span class="op" id="7965169">.</span><span class="ident" id="7965170">printNode</span><span class="op" id="7965179">(</span><span class="op" id="7965180">&amp;</span><span class="ident" id="7965181">gen</span><span class="op" id="7965184">.</span><span class="ident" id="7965185">root</span><span class="op" id="7965189">,</span>&nbsp;<span class="num" id="7965191">0</span><span class="op" id="7965192">)</span><br>
<span class="lineno"></span><span class="op" id="7965194">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7965197">func</span>&nbsp;<span class="op" id="7965202">(</span><span class="ident" id="7965203">r</span>&nbsp;<span class="op" id="7965205">*</span><span class="ident" id="7965206">genericReplacer</span><span class="op" id="7965221">)</span>&nbsp;<span class="ident" id="7965223">printNode</span><span class="op" id="7965232">(</span><span class="ident" id="7965233">t</span>&nbsp;<span class="op" id="7965235">*</span><span class="ident" id="7965236">trieNode</span><span class="op" id="7965244">,</span>&nbsp;<span class="ident" id="7965246">depth</span>&nbsp;<span class="builtintype" id="7965252">int</span><span class="op" id="7965255">)</span>&nbsp;<span class="op" id="7965257">(</span><span class="ident" id="7965258">s</span>&nbsp;<span class="builtintype" id="7965260">string</span><span class="op" id="7965266">)</span>&nbsp;<span class="op" id="7965268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965271">if</span>&nbsp;<span class="ident" id="7965274">t</span><span class="op" id="7965275">.</span><span class="ident" id="7965276">priority</span>&nbsp;<span class="op" id="7965285">&gt;</span>&nbsp;<span class="num" id="7965287">0</span>&nbsp;<span class="op" id="7965289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965293">s</span>&nbsp;<span class="op" id="7965295">+=</span>&nbsp;<span class="string" id="7965298">&#34;+&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7965303">}</span>&nbsp;<span class="keyword" id="7965305">else</span>&nbsp;<span class="op" id="7965310">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965314">s</span>&nbsp;<span class="op" id="7965316">+=</span>&nbsp;<span class="string" id="7965319">&#34;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7965324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965327">s</span>&nbsp;<span class="op" id="7965329">+=</span>&nbsp;<span class="string" id="7965332">&#34;\n&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965339">if</span>&nbsp;<span class="ident" id="7965342">t</span><span class="op" id="7965343">.</span><span class="ident" id="7965344">prefix</span>&nbsp;<span class="op" id="7965351">!=</span>&nbsp;<span class="string" id="7965354">&#34;&#34;</span>&nbsp;<span class="op" id="7965357">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965361">s</span>&nbsp;<span class="op" id="7965363">+=</span>&nbsp;<span class="ident" id="7965366">Repeat</span><span class="op" id="7965372">(</span><span class="string" id="7965373">&#34;.&#34;</span><span class="op" id="7965376">,</span>&nbsp;<span class="ident" id="7965378">depth</span><span class="op" id="7965383">)</span>&nbsp;<span class="op" id="7965385">+</span>&nbsp;<span class="ident" id="7965387">t</span><span class="op" id="7965388">.</span><span class="ident" id="7965389">prefix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965398">s</span>&nbsp;<span class="op" id="7965400">+=</span>&nbsp;<span class="ident" id="7965403">r</span><span class="op" id="7965404">.</span><span class="ident" id="7965405">printNode</span><span class="op" id="7965414">(</span><span class="ident" id="7965415">t</span><span class="op" id="7965416">.</span><span class="ident" id="7965417">next</span><span class="op" id="7965421">,</span>&nbsp;<span class="ident" id="7965423">depth</span><span class="op" id="7965428">+</span><span class="builtinfunc" id="7965429">len</span><span class="op" id="7965432">(</span><span class="ident" id="7965433">t</span><span class="op" id="7965434">.</span><span class="ident" id="7965435">prefix</span><span class="op" id="7965441">)</span><span class="op" id="7965442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7965445">}</span>&nbsp;<span class="keyword" id="7965447">else</span>&nbsp;<span class="keyword" id="7965452">if</span>&nbsp;<span class="ident" id="7965455">t</span><span class="op" id="7965456">.</span><span class="ident" id="7965457">table</span>&nbsp;<span class="op" id="7965463">!=</span>&nbsp;<span class="builtintype" id="7965466">nil</span>&nbsp;<span class="op" id="7965470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965474">for</span>&nbsp;<span class="ident" id="7965478">b</span><span class="op" id="7965479">,</span>&nbsp;<span class="ident" id="7965481">m</span>&nbsp;<span class="op" id="7965483">:=</span>&nbsp;<span class="keyword" id="7965486">range</span>&nbsp;<span class="ident" id="7965492">r</span><span class="op" id="7965493">.</span><span class="ident" id="7965494">mapping</span>&nbsp;<span class="op" id="7965502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965507">if</span>&nbsp;<span class="builtintype" id="7965510">int</span><span class="op" id="7965513">(</span><span class="ident" id="7965514">m</span><span class="op" id="7965515">)</span>&nbsp;<span class="op" id="7965517">!=</span>&nbsp;<span class="ident" id="7965520">r</span><span class="op" id="7965521">.</span><span class="ident" id="7965522">tableSize</span>&nbsp;<span class="op" id="7965532">&amp;&amp;</span>&nbsp;<span class="ident" id="7965535">t</span><span class="op" id="7965536">.</span><span class="ident" id="7965537">table</span><span class="op" id="7965542">[</span><span class="ident" id="7965543">m</span><span class="op" id="7965544">]</span>&nbsp;<span class="op" id="7965546">!=</span>&nbsp;<span class="builtintype" id="7965549">nil</span>&nbsp;<span class="op" id="7965553">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965559">s</span>&nbsp;<span class="op" id="7965561">+=</span>&nbsp;<span class="ident" id="7965564">Repeat</span><span class="op" id="7965570">(</span><span class="string" id="7965571">&#34;.&#34;</span><span class="op" id="7965574">,</span>&nbsp;<span class="ident" id="7965576">depth</span><span class="op" id="7965581">)</span>&nbsp;<span class="op" id="7965583">+</span>&nbsp;<span class="builtintype" id="7965585">string</span><span class="op" id="7965591">(</span><span class="op" id="7965592">[</span><span class="op" id="7965593">]</span><span class="builtintype" id="7965594">byte</span><span class="op" id="7965598">{</span><span class="builtintype" id="7965599">byte</span><span class="op" id="7965603">(</span><span class="ident" id="7965604">b</span><span class="op" id="7965605">)</span><span class="op" id="7965606">}</span><span class="op" id="7965607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965613">s</span>&nbsp;<span class="op" id="7965615">+=</span>&nbsp;<span class="ident" id="7965618">r</span><span class="op" id="7965619">.</span><span class="ident" id="7965620">printNode</span><span class="op" id="7965629">(</span><span class="ident" id="7965630">t</span><span class="op" id="7965631">.</span><span class="ident" id="7965632">table</span><span class="op" id="7965637">[</span><span class="ident" id="7965638">m</span><span class="op" id="7965639">]</span><span class="op" id="7965640">,</span>&nbsp;<span class="ident" id="7965642">depth</span><span class="op" id="7965647">+</span><span class="num" id="7965648">1</span><span class="op" id="7965649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7965654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7965658">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7965661">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965664">return</span><br>
<span class="lineno"></span><span class="op" id="7965671">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7965674">func</span>&nbsp;<span class="ident" id="7965679">StringFind</span><span class="op" id="7965689">(</span><span class="ident" id="7965690">pattern</span><span class="op" id="7965697">,</span>&nbsp;<span class="ident" id="7965699">text</span>&nbsp;<span class="builtintype" id="7965704">string</span><span class="op" id="7965710">)</span>&nbsp;<span class="builtintype" id="7965712">int</span>&nbsp;<span class="op" id="7965716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965719">return</span>&nbsp;<span class="ident" id="7965726">makeStringFinder</span><span class="op" id="7965742">(</span><span class="ident" id="7965743">pattern</span><span class="op" id="7965750">)</span><span class="op" id="7965751">.</span><span class="ident" id="7965752">next</span><span class="op" id="7965756">(</span><span class="ident" id="7965757">text</span><span class="op" id="7965761">)</span><br>
<span class="lineno">40</span><span class="op" id="7965763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7965766">func</span>&nbsp;<span class="ident" id="7965771">DumpTables</span><span class="op" id="7965781">(</span><span class="ident" id="7965782">pattern</span>&nbsp;<span class="builtintype" id="7965790">string</span><span class="op" id="7965796">)</span>&nbsp;<span class="op" id="7965798">(</span><span class="op" id="7965799">[</span><span class="op" id="7965800">]</span><span class="builtintype" id="7965801">int</span><span class="op" id="7965804">,</span>&nbsp;<span class="op" id="7965806">[</span><span class="op" id="7965807">]</span><span class="builtintype" id="7965808">int</span><span class="op" id="7965811">)</span>&nbsp;<span class="op" id="7965813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7965816">finder</span>&nbsp;<span class="op" id="7965823">:=</span>&nbsp;<span class="ident" id="7965826">makeStringFinder</span><span class="op" id="7965842">(</span><span class="ident" id="7965843">pattern</span><span class="op" id="7965850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7965853">return</span>&nbsp;<span class="ident" id="7965860">finder</span><span class="op" id="7965866">.</span><span class="ident" id="7965867">badCharSkip</span><span class="op" id="7965878">[</span><span class="op" id="7965879">:</span><span class="op" id="7965880">]</span><span class="op" id="7965881">,</span>&nbsp;<span class="ident" id="7965883">finder</span><span class="op" id="7965889">.</span><span class="ident" id="7965890">goodSuffixSkip</span><br>
<span class="lineno">45</span><span class="op" id="7965905">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
