<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7982554">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7982609">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7982663">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7982714">package</span>&nbsp;<span class="ident" id="7982722">template</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7982732">import</span>&nbsp;<span class="op" id="7982739">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7982742">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7982751">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7982758">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7982769">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7982779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7982782">func</span>&nbsp;<span class="ident" id="7982787">TestTypedContent</span><span class="op" id="7982803">(</span><span class="ident" id="7982804">t</span>&nbsp;<span class="op" id="7982806">*</span><span class="ident" id="7982807">testing</span><span class="op" id="7982814">.</span><span class="ident" id="7982815">T</span><span class="op" id="7982816">)</span>&nbsp;<span class="op" id="7982818">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982821">data</span>&nbsp;<span class="op" id="7982826">:=</span>&nbsp;<span class="op" id="7982829">[</span><span class="op" id="7982830">]</span><span class="keyword" id="7982831">interface</span><span class="op" id="7982840">{</span><span class="op" id="7982841">}</span><span class="op" id="7982842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7982846">`&lt;b&gt;&nbsp;&#34;foo%&#34;&nbsp;O&#39;Reilly&nbsp;&amp;bar;`</span><span class="op" id="7982873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982877">CSS</span><span class="op" id="7982880">(</span><span class="string" id="7982881">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="7982913">)</span><span class="op" id="7982914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982918">HTML</span><span class="op" id="7982922">(</span><span class="string" id="7982923">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="7982953">)</span><span class="op" id="7982954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982958">HTMLAttr</span><span class="op" id="7982966">(</span><span class="string" id="7982967">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="7982979">)</span><span class="op" id="7982980">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7982984">JS</span><span class="op" id="7982986">(</span><span class="string" id="7982987">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="7983017">)</span><span class="op" id="7983018">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983022">JSStr</span><span class="op" id="7983027">(</span><span class="string" id="7983028">`Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21`</span><span class="op" id="7983057">)</span><span class="op" id="7983058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983062">URL</span><span class="op" id="7983065">(</span><span class="string" id="7983066">`greeting=H%69&amp;addressee=(World)`</span><span class="op" id="7983099">)</span><span class="op" id="7983100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7983107">//&nbsp;For&nbsp;each&nbsp;content&nbsp;sensitive&nbsp;escaper,&nbsp;see&nbsp;how&nbsp;it&nbsp;does&nbsp;on</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7983166">//&nbsp;each&nbsp;of&nbsp;the&nbsp;typed&nbsp;strings&nbsp;above.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983203">tests</span>&nbsp;<span class="op" id="7983209">:=</span>&nbsp;<span class="op" id="7983212">[</span><span class="op" id="7983213">]</span><span class="keyword" id="7983214">struct</span>&nbsp;<span class="op" id="7983221">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7983225">//&nbsp;A&nbsp;template&nbsp;containing&nbsp;a&nbsp;single&nbsp;{{.}}.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983268">input</span>&nbsp;<span class="builtintype" id="7983274">string</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7983283">want</span>&nbsp;&nbsp;<span class="op" id="7983289">[</span><span class="op" id="7983290">]</span><span class="builtintype" id="7983291">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983299">}</span><span class="op" id="7983300">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983309">`&lt;style&gt;{{.}}&nbsp;{&nbsp;color:&nbsp;blue&nbsp;}&lt;/style&gt;`</span><span class="op" id="7983347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983352">[</span><span class="op" id="7983353">]</span><span class="builtintype" id="7983354">string</span><span class="op" id="7983360">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983366">`ZgotmplZ`</span><span class="op" id="7983376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7983382">//&nbsp;Allowed&nbsp;but&nbsp;not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983414">`a[href&nbsp;=~&nbsp;&#34;//example.com&#34;]#foo`</span><span class="op" id="7983446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983452">`ZgotmplZ`</span><span class="op" id="7983462">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983468">`ZgotmplZ`</span><span class="op" id="7983478">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983484">`ZgotmplZ`</span><span class="op" id="7983494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983500">`ZgotmplZ`</span><span class="op" id="7983510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983516">`ZgotmplZ`</span><span class="op" id="7983526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983531">}</span><span class="op" id="7983532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983536">}</span><span class="op" id="7983537">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983546">`&lt;div&nbsp;style=&#34;{{.}}&#34;&gt;`</span><span class="op" id="7983567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983572">[</span><span class="op" id="7983573">]</span><span class="builtintype" id="7983574">string</span><span class="op" id="7983580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983586">`ZgotmplZ`</span><span class="op" id="7983596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7983602">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983635">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="7983675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983681">`ZgotmplZ`</span><span class="op" id="7983691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983697">`ZgotmplZ`</span><span class="op" id="7983707">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983713">`ZgotmplZ`</span><span class="op" id="7983723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983729">`ZgotmplZ`</span><span class="op" id="7983739">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983745">`ZgotmplZ`</span><span class="op" id="7983755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983760">}</span><span class="op" id="7983761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983765">}</span><span class="op" id="7983766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983775">`{{.}}`</span><span class="op" id="7983782">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7983787">[</span><span class="op" id="7983788">]</span><span class="builtintype" id="7983789">string</span><span class="op" id="7983795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983801">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="7983850">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983856">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="7983896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7983902">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983922">`Hello,&nbsp;&lt;b&gt;World&lt;/b&gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="7983952">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983958">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="7983978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7983984">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="7984030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984036">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="7984073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984079">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="7984116">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984121">}</span><span class="op" id="7984122">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984126">}</span><span class="op" id="7984127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984136">`&lt;a{{.}}&gt;`</span><span class="op" id="7984146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984151">[</span><span class="op" id="7984152">]</span><span class="builtintype" id="7984153">string</span><span class="op" id="7984159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984165">`ZgotmplZ`</span><span class="op" id="7984175">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984181">`ZgotmplZ`</span><span class="op" id="7984191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984197">`ZgotmplZ`</span><span class="op" id="7984207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7984213">//&nbsp;Allowed&nbsp;and&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984246">`&nbsp;dir=&#34;ltr&#34;`</span><span class="op" id="7984258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984264">`ZgotmplZ`</span><span class="op" id="7984274">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984280">`ZgotmplZ`</span><span class="op" id="7984290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984296">`ZgotmplZ`</span><span class="op" id="7984306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984311">}</span><span class="op" id="7984312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984316">}</span><span class="op" id="7984317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984321">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984326">`&lt;a&nbsp;title={{.}}&gt;`</span><span class="op" id="7984343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984348">[</span><span class="op" id="7984349">]</span><span class="builtintype" id="7984350">string</span><span class="op" id="7984356">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984362">`&amp;lt;b&amp;gt;&amp;#32;&amp;#34;foo%&amp;#34;&amp;#32;O&amp;#39;Reilly&amp;#32;&amp;amp;bar;`</span><span class="op" id="7984423">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984429">`a[href&amp;#32;&amp;#61;~&amp;#32;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="7984481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7984487">//&nbsp;Tags&nbsp;stripped,&nbsp;spaces&nbsp;escaped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984548">`Hello,&amp;#32;World&amp;#32;&amp;amp;tc!`</span><span class="op" id="7984579">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984585">`&amp;#32;dir&amp;#61;&amp;#34;ltr&amp;#34;`</span><span class="op" id="7984613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984619">`c&amp;#32;&amp;amp;&amp;amp;&amp;#32;alert(&amp;#34;Hello,&amp;#32;World!&amp;#34;);`</span><span class="op" id="7984677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984683">`Hello,&amp;#32;World&amp;#32;&amp;amp;&amp;#32;O&amp;#39;Reilly\x21`</span><span class="op" id="7984732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984738">`greeting&amp;#61;H%69&amp;amp;addressee&amp;#61;(World)`</span><span class="op" id="7984783">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984788">}</span><span class="op" id="7984789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984793">}</span><span class="op" id="7984794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984803">`&lt;a&nbsp;title=&#39;{{.}}&#39;&gt;`</span><span class="op" id="7984822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7984827">[</span><span class="op" id="7984828">]</span><span class="builtintype" id="7984829">string</span><span class="op" id="7984835">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984841">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="7984890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984896">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="7984936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7984942">//&nbsp;Tags&nbsp;stripped,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7984987">`Hello,&nbsp;World&nbsp;&amp;amp;tc!`</span><span class="op" id="7985010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985016">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="7985036">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985042">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="7985088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985094">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="7985131">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985137">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="7985174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985179">}</span><span class="op" id="7985180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985184">}</span><span class="op" id="7985185">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985194">`&lt;textarea&gt;{{.}}&lt;/textarea&gt;`</span><span class="op" id="7985222">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985227">[</span><span class="op" id="7985228">]</span><span class="builtintype" id="7985229">string</span><span class="op" id="7985235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985241">`&amp;lt;b&amp;gt;&nbsp;&amp;#34;foo%&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;&amp;amp;bar;`</span><span class="op" id="7985290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985296">`a[href&nbsp;=~&nbsp;&amp;#34;//example.com&amp;#34;]#foo`</span><span class="op" id="7985336">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7985342">//&nbsp;Angle&nbsp;brackets&nbsp;escaped&nbsp;to&nbsp;prevent&nbsp;injection&nbsp;of&nbsp;close&nbsp;tags,&nbsp;entity&nbsp;not&nbsp;re-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985431">`Hello,&nbsp;&amp;lt;b&amp;gt;World&amp;lt;/b&amp;gt;&nbsp;&amp;amp;tc!`</span><span class="op" id="7985473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985479">`&nbsp;dir=&amp;#34;ltr&amp;#34;`</span><span class="op" id="7985499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985505">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="7985551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985557">`Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21`</span><span class="op" id="7985594">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985600">`greeting=H%69&amp;amp;addressee=(World)`</span><span class="op" id="7985637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985642">}</span><span class="op" id="7985643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985647">}</span><span class="op" id="7985648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985657">`&lt;script&gt;alert({{.}})&lt;/script&gt;`</span><span class="op" id="7985688">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7985693">[</span><span class="op" id="7985694">]</span><span class="builtintype" id="7985695">string</span><span class="op" id="7985701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985707">`&#34;\u003cb\u003e&nbsp;\&#34;foo%\&#34;&nbsp;O&#39;Reilly&nbsp;\u0026bar;&#34;`</span><span class="op" id="7985753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985759">`&#34;a[href&nbsp;=~&nbsp;\&#34;//example.com\&#34;]#foo&#34;`</span><span class="op" id="7985795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985801">`&#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&#34;`</span><span class="op" id="7985858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985864">`&#34;&nbsp;dir=\&#34;ltr\&#34;&#34;`</span><span class="op" id="7985880">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7985886">//&nbsp;Not&nbsp;escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985906">`c&nbsp;&amp;&amp;&nbsp;alert(&#34;Hello,&nbsp;World!&#34;);`</span><span class="op" id="7985936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7985942">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7985983">`&#34;Hello,&nbsp;World&nbsp;&amp;&nbsp;O&#39;Reilly\x21&#34;`</span><span class="op" id="7986014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986020">`&#34;greeting=H%69\u0026addressee=(World)&#34;`</span><span class="op" id="7986060">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986065">}</span><span class="op" id="7986066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986070">}</span><span class="op" id="7986071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986080">`&lt;button&nbsp;onclick=&#34;alert({{.}})&#34;&gt;`</span><span class="op" id="7986113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986118">[</span><span class="op" id="7986119">]</span><span class="builtintype" id="7986120">string</span><span class="op" id="7986126">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986132">`&amp;#34;\u003cb\u003e&nbsp;\&amp;#34;foo%\&amp;#34;&nbsp;O&amp;#39;Reilly&nbsp;\u0026bar;&amp;#34;`</span><span class="op" id="7986198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986204">`&amp;#34;a[href&nbsp;=~&nbsp;\&amp;#34;//example.com\&amp;#34;]#foo&amp;#34;`</span><span class="op" id="7986256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986262">`&amp;#34;Hello,&nbsp;\u003cb\u003eWorld\u003c/b\u003e&nbsp;\u0026amp;tc!&amp;#34;`</span><span class="op" id="7986327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986333">`&amp;#34;&nbsp;dir=\&amp;#34;ltr\&amp;#34;&amp;#34;`</span><span class="op" id="7986365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986371">//&nbsp;Not&nbsp;JS&nbsp;escaped&nbsp;but&nbsp;HTML&nbsp;escaped.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986411">`c&nbsp;&amp;amp;&amp;amp;&nbsp;alert(&amp;#34;Hello,&nbsp;World!&amp;#34;);`</span><span class="op" id="7986457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986463">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986504">`&amp;#34;Hello,&nbsp;World&nbsp;&amp;amp;&nbsp;O&amp;#39;Reilly\x21&amp;#34;`</span><span class="op" id="7986551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986557">`&amp;#34;greeting=H%69\u0026addressee=(World)&amp;#34;`</span><span class="op" id="7986605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986610">}</span><span class="op" id="7986611">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986615">}</span><span class="op" id="7986616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986625">`&lt;script&gt;alert(&#34;{{.}}&#34;)&lt;/script&gt;`</span><span class="op" id="7986658">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7986663">[</span><span class="op" id="7986664">]</span><span class="builtintype" id="7986665">string</span><span class="op" id="7986671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986677">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="7986722">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986728">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="7986768">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986774">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="7986820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986826">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="7986844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986850">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="7986892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7986898">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986939">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="7986974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7986980">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="7987016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987021">}</span><span class="op" id="7987022">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987026">}</span><span class="op" id="7987027">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987031">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987036">`&lt;button&nbsp;onclick=&#39;alert(&#34;{{.}}&#34;)&#39;&gt;`</span><span class="op" id="7987071">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987076">[</span><span class="op" id="7987077">]</span><span class="builtintype" id="7987078">string</span><span class="op" id="7987084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987090">`\x3cb\x3e&nbsp;\x22foo%\x22&nbsp;O\x27Reilly&nbsp;\x26bar;`</span><span class="op" id="7987135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987141">`a[href&nbsp;=~&nbsp;\x22\/\/example.com\x22]#foo`</span><span class="op" id="7987181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987187">`Hello,&nbsp;\x3cb\x3eWorld\x3c\/b\x3e&nbsp;\x26amp;tc!`</span><span class="op" id="7987233">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987239">`&nbsp;dir=\x22ltr\x22`</span><span class="op" id="7987257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987263">`c&nbsp;\x26\x26&nbsp;alert(\x22Hello,&nbsp;World!\x22);`</span><span class="op" id="7987305">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7987311">//&nbsp;Escape&nbsp;sequence&nbsp;not&nbsp;over-escaped.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987352">`Hello,&nbsp;World&nbsp;\x26&nbsp;O\x27Reilly\x21`</span><span class="op" id="7987387">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987393">`greeting=H%69\x26addressee=(World)`</span><span class="op" id="7987429">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987434">}</span><span class="op" id="7987435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987439">}</span><span class="op" id="7987440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987449">`&lt;a&nbsp;href=&#34;?q={{.}}&#34;&gt;`</span><span class="op" id="7987470">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987475">[</span><span class="op" id="7987476">]</span><span class="builtintype" id="7987477">string</span><span class="op" id="7987483">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987489">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="7987538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987544">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="7987596">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987602">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="7987654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987660">`%20dir%3d%22ltr%22`</span><span class="op" id="7987680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987686">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="7987740">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987746">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="7987789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7987795">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;done.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987884">`greeting=H%69&amp;amp;addressee=%28World%29`</span><span class="op" id="7987925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987930">}</span><span class="op" id="7987931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987935">}</span><span class="op" id="7987936">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7987940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7987945">`&lt;style&gt;body&nbsp;{&nbsp;background:&nbsp;url(&#39;?img={{.}}&#39;)&nbsp;}&lt;/style&gt;`</span><span class="op" id="7988000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988005">[</span><span class="op" id="7988006">]</span><span class="builtintype" id="7988007">string</span><span class="op" id="7988013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988019">`%3cb%3e%20%22foo%25%22%20O%27Reilly%20%26bar%3b`</span><span class="op" id="7988068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988074">`a%5bhref%20%3d~%20%22%2f%2fexample.com%22%5d%23foo`</span><span class="op" id="7988126">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988132">`Hello%2c%20%3cb%3eWorld%3c%2fb%3e%20%26amp%3btc%21`</span><span class="op" id="7988184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988190">`%20dir%3d%22ltr%22`</span><span class="op" id="7988210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988216">`c%20%26%26%20alert%28%22Hello%2c%20World%21%22%29%3b`</span><span class="op" id="7988270">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988276">`Hello%2c%20World%20%26%20O%27Reilly%5cx21`</span><span class="op" id="7988319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7988325">//&nbsp;Quotes&nbsp;and&nbsp;parens&nbsp;are&nbsp;escaped&nbsp;but&nbsp;%69&nbsp;is&nbsp;not&nbsp;over-escaped.&nbsp;HTML&nbsp;escaping&nbsp;is&nbsp;not&nbsp;done.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7988418">`greeting=H%69&amp;addressee=%28World%29`</span><span class="op" id="7988455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988460">}</span><span class="op" id="7988461">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988465">}</span><span class="op" id="7988466">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988469">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988473">for</span>&nbsp;<span class="ident" id="7988477">_</span><span class="op" id="7988478">,</span>&nbsp;<span class="ident" id="7988480">test</span>&nbsp;<span class="op" id="7988485">:=</span>&nbsp;<span class="keyword" id="7988488">range</span>&nbsp;<span class="ident" id="7988494">tests</span>&nbsp;<span class="op" id="7988500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988504">tmpl</span>&nbsp;<span class="op" id="7988509">:=</span>&nbsp;<span class="ident" id="7988512">Must</span><span class="op" id="7988516">(</span><span class="ident" id="7988517">New</span><span class="op" id="7988520">(</span><span class="string" id="7988521">&#34;x&#34;</span><span class="op" id="7988524">)</span><span class="op" id="7988525">.</span><span class="ident" id="7988526">Parse</span><span class="op" id="7988531">(</span><span class="ident" id="7988532">test</span><span class="op" id="7988536">.</span><span class="ident" id="7988537">input</span><span class="op" id="7988542">)</span><span class="op" id="7988543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988547">pre</span>&nbsp;<span class="op" id="7988551">:=</span>&nbsp;<span class="ident" id="7988554">strings</span><span class="op" id="7988561">.</span><span class="ident" id="7988562">Index</span><span class="op" id="7988567">(</span><span class="ident" id="7988568">test</span><span class="op" id="7988572">.</span><span class="ident" id="7988573">input</span><span class="op" id="7988578">,</span>&nbsp;<span class="string" id="7988580">&#34;{{.}}&#34;</span><span class="op" id="7988587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988591">post</span>&nbsp;<span class="op" id="7988596">:=</span>&nbsp;<span class="builtinfunc" id="7988599">len</span><span class="op" id="7988602">(</span><span class="ident" id="7988603">test</span><span class="op" id="7988607">.</span><span class="ident" id="7988608">input</span><span class="op" id="7988613">)</span>&nbsp;<span class="op" id="7988615">-</span>&nbsp;<span class="op" id="7988617">(</span><span class="ident" id="7988618">pre</span>&nbsp;<span class="op" id="7988622">+</span>&nbsp;<span class="num" id="7988624">5</span><span class="op" id="7988625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988629">var</span>&nbsp;<span class="ident" id="7988633">b</span>&nbsp;<span class="ident" id="7988635">bytes</span><span class="op" id="7988640">.</span><span class="ident" id="7988641">Buffer</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988650">for</span>&nbsp;<span class="ident" id="7988654">i</span><span class="op" id="7988655">,</span>&nbsp;<span class="ident" id="7988657">x</span>&nbsp;<span class="op" id="7988659">:=</span>&nbsp;<span class="keyword" id="7988662">range</span>&nbsp;<span class="ident" id="7988668">data</span>&nbsp;<span class="op" id="7988673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988678">b</span><span class="op" id="7988679">.</span><span class="ident" id="7988680">Reset</span><span class="op" id="7988685">(</span><span class="op" id="7988686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988691">if</span>&nbsp;<span class="ident" id="7988694">err</span>&nbsp;<span class="op" id="7988698">:=</span>&nbsp;<span class="ident" id="7988701">tmpl</span><span class="op" id="7988705">.</span><span class="ident" id="7988706">Execute</span><span class="op" id="7988713">(</span><span class="op" id="7988714">&amp;</span><span class="ident" id="7988715">b</span><span class="op" id="7988716">,</span>&nbsp;<span class="ident" id="7988718">x</span><span class="op" id="7988719">)</span><span class="op" id="7988720">;</span>&nbsp;<span class="ident" id="7988722">err</span>&nbsp;<span class="op" id="7988726">!=</span>&nbsp;<span class="ident" id="7988729">nil</span>&nbsp;<span class="op" id="7988733">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988739">t</span><span class="op" id="7988740">.</span><span class="ident" id="7988741">Errorf</span><span class="op" id="7988747">(</span><span class="string" id="7988748">&#34;%q&nbsp;with&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="7988764">,</span>&nbsp;<span class="ident" id="7988766">test</span><span class="op" id="7988770">.</span><span class="ident" id="7988771">input</span><span class="op" id="7988776">,</span>&nbsp;<span class="ident" id="7988778">x</span><span class="op" id="7988779">,</span>&nbsp;<span class="ident" id="7988781">err</span><span class="op" id="7988784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988790">continue</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988807">if</span>&nbsp;<span class="ident" id="7988810">want</span><span class="op" id="7988814">,</span>&nbsp;<span class="ident" id="7988816">got</span>&nbsp;<span class="op" id="7988820">:=</span>&nbsp;<span class="ident" id="7988823">test</span><span class="op" id="7988827">.</span><span class="ident" id="7988828">want</span><span class="op" id="7988832">[</span><span class="ident" id="7988833">i</span><span class="op" id="7988834">]</span><span class="op" id="7988835">,</span>&nbsp;<span class="ident" id="7988837">b</span><span class="op" id="7988838">.</span><span class="ident" id="7988839">String</span><span class="op" id="7988845">(</span><span class="op" id="7988846">)</span><span class="op" id="7988847">[</span><span class="ident" id="7988848">pre</span><span class="op" id="7988851">:</span><span class="ident" id="7988852">b</span><span class="op" id="7988853">.</span><span class="ident" id="7988854">Len</span><span class="op" id="7988857">(</span><span class="op" id="7988858">)</span><span class="op" id="7988859">-</span><span class="ident" id="7988860">post</span><span class="op" id="7988864">]</span><span class="op" id="7988865">;</span>&nbsp;<span class="ident" id="7988867">want</span>&nbsp;<span class="op" id="7988872">!=</span>&nbsp;<span class="ident" id="7988875">got</span>&nbsp;<span class="op" id="7988879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7988885">t</span><span class="op" id="7988886">.</span><span class="ident" id="7988887">Errorf</span><span class="op" id="7988893">(</span><span class="string" id="7988894">&#34;%q&nbsp;with&nbsp;%v:\nwant\n\t%q,\ngot\n\t%q\n&#34;</span><span class="op" id="7988933">,</span>&nbsp;<span class="ident" id="7988935">test</span><span class="op" id="7988939">.</span><span class="ident" id="7988940">input</span><span class="op" id="7988945">,</span>&nbsp;<span class="ident" id="7988947">x</span><span class="op" id="7988948">,</span>&nbsp;<span class="ident" id="7988950">want</span><span class="op" id="7988954">,</span>&nbsp;<span class="ident" id="7988956">got</span><span class="op" id="7988959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7988965">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988977">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7988984">}</span><br>
<span class="lineno"></span><span class="op" id="7988986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7988989">//&nbsp;Test&nbsp;that&nbsp;we&nbsp;print&nbsp;using&nbsp;the&nbsp;String&nbsp;method.&nbsp;Was&nbsp;issue&nbsp;3073.</span><br>
<span class="lineno">225</span><span class="keyword" id="7989052">type</span>&nbsp;<span class="ident" id="7989057">stringer</span>&nbsp;<span class="keyword" id="7989066">struct</span>&nbsp;<span class="op" id="7989073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989076">v</span>&nbsp;<span class="builtintype" id="7989078">int</span><br>
<span class="lineno"></span><span class="op" id="7989082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7989085">func</span>&nbsp;<span class="op" id="7989090">(</span><span class="ident" id="7989091">s</span>&nbsp;<span class="op" id="7989093">*</span><span class="ident" id="7989094">stringer</span><span class="op" id="7989102">)</span>&nbsp;<span class="ident" id="7989104">String</span><span class="op" id="7989110">(</span><span class="op" id="7989111">)</span>&nbsp;<span class="builtintype" id="7989113">string</span>&nbsp;<span class="op" id="7989120">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989123">return</span>&nbsp;<span class="ident" id="7989130">fmt</span><span class="op" id="7989133">.</span><span class="ident" id="7989134">Sprintf</span><span class="op" id="7989141">(</span><span class="string" id="7989142">&#34;string=%d&#34;</span><span class="op" id="7989153">,</span>&nbsp;<span class="ident" id="7989155">s</span><span class="op" id="7989156">.</span><span class="ident" id="7989157">v</span><span class="op" id="7989158">)</span><br>
<span class="lineno"></span><span class="op" id="7989160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7989163">type</span>&nbsp;<span class="ident" id="7989168">errorer</span>&nbsp;<span class="keyword" id="7989176">struct</span>&nbsp;<span class="op" id="7989183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989186">v</span>&nbsp;<span class="builtintype" id="7989188">int</span><br>
<span class="lineno">235</span><span class="op" id="7989192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7989195">func</span>&nbsp;<span class="op" id="7989200">(</span><span class="ident" id="7989201">s</span>&nbsp;<span class="op" id="7989203">*</span><span class="ident" id="7989204">errorer</span><span class="op" id="7989211">)</span>&nbsp;<span class="ident" id="7989213">Error</span><span class="op" id="7989218">(</span><span class="op" id="7989219">)</span>&nbsp;<span class="builtintype" id="7989221">string</span>&nbsp;<span class="op" id="7989228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989231">return</span>&nbsp;<span class="ident" id="7989238">fmt</span><span class="op" id="7989241">.</span><span class="ident" id="7989242">Sprintf</span><span class="op" id="7989249">(</span><span class="string" id="7989250">&#34;error=%d&#34;</span><span class="op" id="7989260">,</span>&nbsp;<span class="ident" id="7989262">s</span><span class="op" id="7989263">.</span><span class="ident" id="7989264">v</span><span class="op" id="7989265">)</span><br>
<span class="lineno"></span><span class="op" id="7989267">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span><span class="keyword" id="7989270">func</span>&nbsp;<span class="ident" id="7989275">TestStringer</span><span class="op" id="7989287">(</span><span class="ident" id="7989288">t</span>&nbsp;<span class="op" id="7989290">*</span><span class="ident" id="7989291">testing</span><span class="op" id="7989298">.</span><span class="ident" id="7989299">T</span><span class="op" id="7989300">)</span>&nbsp;<span class="op" id="7989302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989305">s</span>&nbsp;<span class="op" id="7989307">:=</span>&nbsp;<span class="op" id="7989310">&amp;</span><span class="ident" id="7989311">stringer</span><span class="op" id="7989319">{</span><span class="num" id="7989320">3</span><span class="op" id="7989321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989324">b</span>&nbsp;<span class="op" id="7989326">:=</span>&nbsp;<span class="builtinfunc" id="7989329">new</span><span class="op" id="7989332">(</span><span class="ident" id="7989333">bytes</span><span class="op" id="7989338">.</span><span class="ident" id="7989339">Buffer</span><span class="op" id="7989345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989348">tmpl</span>&nbsp;<span class="op" id="7989353">:=</span>&nbsp;<span class="ident" id="7989356">Must</span><span class="op" id="7989360">(</span><span class="ident" id="7989361">New</span><span class="op" id="7989364">(</span><span class="string" id="7989365">&#34;x&#34;</span><span class="op" id="7989368">)</span><span class="op" id="7989369">.</span><span class="ident" id="7989370">Parse</span><span class="op" id="7989375">(</span><span class="string" id="7989376">&#34;{{.}}&#34;</span><span class="op" id="7989383">)</span><span class="op" id="7989384">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989387">if</span>&nbsp;<span class="ident" id="7989390">err</span>&nbsp;<span class="op" id="7989394">:=</span>&nbsp;<span class="ident" id="7989397">tmpl</span><span class="op" id="7989401">.</span><span class="ident" id="7989402">Execute</span><span class="op" id="7989409">(</span><span class="ident" id="7989410">b</span><span class="op" id="7989411">,</span>&nbsp;<span class="ident" id="7989413">s</span><span class="op" id="7989414">)</span><span class="op" id="7989415">;</span>&nbsp;<span class="ident" id="7989417">err</span>&nbsp;<span class="op" id="7989421">!=</span>&nbsp;<span class="ident" id="7989424">nil</span>&nbsp;<span class="op" id="7989428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989432">t</span><span class="op" id="7989433">.</span><span class="ident" id="7989434">Fatal</span><span class="op" id="7989439">(</span><span class="ident" id="7989440">err</span><span class="op" id="7989443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989446">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989449">var</span>&nbsp;<span class="ident" id="7989453">expect</span>&nbsp;<span class="op" id="7989460">=</span>&nbsp;<span class="string" id="7989462">&#34;string=3&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989474">if</span>&nbsp;<span class="ident" id="7989477">b</span><span class="op" id="7989478">.</span><span class="ident" id="7989479">String</span><span class="op" id="7989485">(</span><span class="op" id="7989486">)</span>&nbsp;<span class="op" id="7989488">!=</span>&nbsp;<span class="ident" id="7989491">expect</span>&nbsp;<span class="op" id="7989498">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989502">t</span><span class="op" id="7989503">.</span><span class="ident" id="7989504">Errorf</span><span class="op" id="7989510">(</span><span class="string" id="7989511">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7989531">,</span>&nbsp;<span class="ident" id="7989533">expect</span><span class="op" id="7989539">,</span>&nbsp;<span class="ident" id="7989541">b</span><span class="op" id="7989542">.</span><span class="ident" id="7989543">String</span><span class="op" id="7989549">(</span><span class="op" id="7989550">)</span><span class="op" id="7989551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989557">e</span>&nbsp;<span class="op" id="7989559">:=</span>&nbsp;<span class="op" id="7989562">&amp;</span><span class="ident" id="7989563">errorer</span><span class="op" id="7989570">{</span><span class="num" id="7989571">7</span><span class="op" id="7989572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989575">b</span><span class="op" id="7989576">.</span><span class="ident" id="7989577">Reset</span><span class="op" id="7989582">(</span><span class="op" id="7989583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989586">if</span>&nbsp;<span class="ident" id="7989589">err</span>&nbsp;<span class="op" id="7989593">:=</span>&nbsp;<span class="ident" id="7989596">tmpl</span><span class="op" id="7989600">.</span><span class="ident" id="7989601">Execute</span><span class="op" id="7989608">(</span><span class="ident" id="7989609">b</span><span class="op" id="7989610">,</span>&nbsp;<span class="ident" id="7989612">e</span><span class="op" id="7989613">)</span><span class="op" id="7989614">;</span>&nbsp;<span class="ident" id="7989616">err</span>&nbsp;<span class="op" id="7989620">!=</span>&nbsp;<span class="ident" id="7989623">nil</span>&nbsp;<span class="op" id="7989627">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989631">t</span><span class="op" id="7989632">.</span><span class="ident" id="7989633">Fatal</span><span class="op" id="7989638">(</span><span class="ident" id="7989639">err</span><span class="op" id="7989642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989648">expect</span>&nbsp;<span class="op" id="7989655">=</span>&nbsp;<span class="string" id="7989657">&#34;error=7&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7989668">if</span>&nbsp;<span class="ident" id="7989671">b</span><span class="op" id="7989672">.</span><span class="ident" id="7989673">String</span><span class="op" id="7989679">(</span><span class="op" id="7989680">)</span>&nbsp;<span class="op" id="7989682">!=</span>&nbsp;<span class="ident" id="7989685">expect</span>&nbsp;<span class="op" id="7989692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989696">t</span><span class="op" id="7989697">.</span><span class="ident" id="7989698">Errorf</span><span class="op" id="7989704">(</span><span class="string" id="7989705">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7989725">,</span>&nbsp;<span class="ident" id="7989727">expect</span><span class="op" id="7989733">,</span>&nbsp;<span class="ident" id="7989735">b</span><span class="op" id="7989736">.</span><span class="ident" id="7989737">String</span><span class="op" id="7989743">(</span><span class="op" id="7989744">)</span><span class="op" id="7989745">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7989748">}</span><br>
<span class="lineno"></span><span class="op" id="7989750">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7989753">//&nbsp;https://code.google.com/p/go/issues/detail?id=5982</span><br>
<span class="lineno"></span><span class="keyword" id="7989807">func</span>&nbsp;<span class="ident" id="7989812">TestEscapingNilNonemptyInterfaces</span><span class="op" id="7989845">(</span><span class="ident" id="7989846">t</span>&nbsp;<span class="op" id="7989848">*</span><span class="ident" id="7989849">testing</span><span class="op" id="7989856">.</span><span class="ident" id="7989857">T</span><span class="op" id="7989858">)</span>&nbsp;<span class="op" id="7989860">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989863">tmpl</span>&nbsp;<span class="op" id="7989868">:=</span>&nbsp;<span class="ident" id="7989871">Must</span><span class="op" id="7989875">(</span><span class="ident" id="7989876">New</span><span class="op" id="7989879">(</span><span class="string" id="7989880">&#34;x&#34;</span><span class="op" id="7989883">)</span><span class="op" id="7989884">.</span><span class="ident" id="7989885">Parse</span><span class="op" id="7989890">(</span><span class="string" id="7989891">&#34;{{.E}}&#34;</span><span class="op" id="7989899">)</span><span class="op" id="7989900">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989904">got</span>&nbsp;<span class="op" id="7989908">:=</span>&nbsp;<span class="builtinfunc" id="7989911">new</span><span class="op" id="7989914">(</span><span class="ident" id="7989915">bytes</span><span class="op" id="7989920">.</span><span class="ident" id="7989921">Buffer</span><span class="op" id="7989927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7989930">testData</span>&nbsp;<span class="op" id="7989939">:=</span>&nbsp;<span class="keyword" id="7989942">struct</span><span class="op" id="7989948">{</span>&nbsp;<span class="ident" id="7989950">E</span>&nbsp;<span class="builtintype" id="7989952">error</span>&nbsp;<span class="op" id="7989958">}</span><span class="op" id="7989959">{</span><span class="op" id="7989960">}</span>&nbsp;<span class="comment" id="7989962">//&nbsp;any&nbsp;non-empty&nbsp;interface&nbsp;here&nbsp;will&nbsp;do;&nbsp;error&nbsp;is&nbsp;just&nbsp;ready&nbsp;at&nbsp;hand</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990032">tmpl</span><span class="op" id="7990036">.</span><span class="ident" id="7990037">Execute</span><span class="op" id="7990044">(</span><span class="ident" id="7990045">got</span><span class="op" id="7990048">,</span>&nbsp;<span class="ident" id="7990050">testData</span><span class="op" id="7990058">)</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7990062">//&nbsp;Use&nbsp;this&nbsp;data&nbsp;instead&nbsp;of&nbsp;just&nbsp;hard-coding&nbsp;&#34;&amp;lt;nil&amp;gt;&#34;&nbsp;to&nbsp;avoid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7990131">//&nbsp;dependencies&nbsp;on&nbsp;the&nbsp;html&nbsp;escaper&nbsp;and&nbsp;the&nbsp;behavior&nbsp;of&nbsp;fmt&nbsp;w.r.t.&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990204">want</span>&nbsp;<span class="op" id="7990209">:=</span>&nbsp;<span class="builtinfunc" id="7990212">new</span><span class="op" id="7990215">(</span><span class="ident" id="7990216">bytes</span><span class="op" id="7990221">.</span><span class="ident" id="7990222">Buffer</span><span class="op" id="7990228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990231">data</span>&nbsp;<span class="op" id="7990236">:=</span>&nbsp;<span class="keyword" id="7990239">struct</span><span class="op" id="7990245">{</span>&nbsp;<span class="ident" id="7990247">E</span>&nbsp;<span class="builtintype" id="7990249">string</span>&nbsp;<span class="op" id="7990256">}</span><span class="op" id="7990257">{</span><span class="ident" id="7990258">E</span><span class="op" id="7990259">:</span>&nbsp;<span class="ident" id="7990261">fmt</span><span class="op" id="7990264">.</span><span class="ident" id="7990265">Sprint</span><span class="op" id="7990271">(</span><span class="ident" id="7990272">nil</span><span class="op" id="7990275">)</span><span class="op" id="7990276">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990279">tmpl</span><span class="op" id="7990283">.</span><span class="ident" id="7990284">Execute</span><span class="op" id="7990291">(</span><span class="ident" id="7990292">want</span><span class="op" id="7990296">,</span>&nbsp;<span class="ident" id="7990298">data</span><span class="op" id="7990302">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7990306">if</span>&nbsp;<span class="op" id="7990309">!</span><span class="ident" id="7990310">bytes</span><span class="op" id="7990315">.</span><span class="ident" id="7990316">Equal</span><span class="op" id="7990321">(</span><span class="ident" id="7990322">want</span><span class="op" id="7990326">.</span><span class="ident" id="7990327">Bytes</span><span class="op" id="7990332">(</span><span class="op" id="7990333">)</span><span class="op" id="7990334">,</span>&nbsp;<span class="ident" id="7990336">got</span><span class="op" id="7990339">.</span><span class="ident" id="7990340">Bytes</span><span class="op" id="7990345">(</span><span class="op" id="7990346">)</span><span class="op" id="7990347">)</span>&nbsp;<span class="op" id="7990349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7990353">t</span><span class="op" id="7990354">.</span><span class="ident" id="7990355">Errorf</span><span class="op" id="7990361">(</span><span class="string" id="7990362">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7990382">,</span>&nbsp;<span class="builtintype" id="7990384">string</span><span class="op" id="7990390">(</span><span class="ident" id="7990391">want</span><span class="op" id="7990395">.</span><span class="ident" id="7990396">Bytes</span><span class="op" id="7990401">(</span><span class="op" id="7990402">)</span><span class="op" id="7990403">)</span><span class="op" id="7990404">,</span>&nbsp;<span class="builtintype" id="7990406">string</span><span class="op" id="7990412">(</span><span class="ident" id="7990413">got</span><span class="op" id="7990416">.</span><span class="ident" id="7990417">Bytes</span><span class="op" id="7990422">(</span><span class="op" id="7990423">)</span><span class="op" id="7990424">)</span><span class="op" id="7990425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7990428">}</span><br>
<span class="lineno">280</span><span class="op" id="7990430">}</span>
</div>
</body>
</html>
