<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/textproto</h2>
<ul>
<li><a href="/gostd/net/textproto/header.go.html" class="current">header.go</a></li>
<li><a href="/gostd/net/textproto/pipeline.go.html">pipeline.go</a></li>
<li><a href="/gostd/net/textproto/reader.go.html">reader.go</a></li>
<li><a href="/gostd/net/textproto/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/net/textproto/textproto.go.html">textproto.go</a></li>
<li><a href="/gostd/net/textproto/writer.go.html">writer.go</a></li>
<li><a href="/gostd/net/textproto/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3395224">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3395280">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3395334">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3395385">package</span>&nbsp;<span class="ident" id="3395393">textproto</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3395404">//&nbsp;A&nbsp;MIMEHeader&nbsp;represents&nbsp;a&nbsp;MIME-style&nbsp;header&nbsp;mapping</span><br>
<span class="lineno"></span><span class="comment" id="3395459">//&nbsp;keys&nbsp;to&nbsp;sets&nbsp;of&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="3395486">type</span>&nbsp;<span class="ident" id="3395491">MIMEHeader</span>&nbsp;<span class="keyword" id="3395502">map</span><span class="op" id="3395505">[</span><span class="builtintype" id="3395506">string</span><span class="op" id="3395512">]</span><span class="op" id="3395513">[</span><span class="op" id="3395514">]</span><span class="builtintype" id="3395515">string</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="3395523">//&nbsp;Add&nbsp;adds&nbsp;the&nbsp;key,&nbsp;value&nbsp;pair&nbsp;to&nbsp;the&nbsp;header.</span><br>
<span class="lineno"></span><span class="comment" id="3395570">//&nbsp;It&nbsp;appends&nbsp;to&nbsp;any&nbsp;existing&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="3395628">func</span>&nbsp;<span class="op" id="3395633">(</span><span class="ident" id="3395634">h</span>&nbsp;<span class="ident" id="3395636">MIMEHeader</span><span class="op" id="3395646">)</span>&nbsp;<span class="ident" id="3395648">Add</span><span class="op" id="3395651">(</span><span class="ident" id="3395652">key</span><span class="op" id="3395655">,</span>&nbsp;<span class="ident" id="3395657">value</span>&nbsp;<span class="builtintype" id="3395663">string</span><span class="op" id="3395669">)</span>&nbsp;<span class="op" id="3395671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3395674">key</span>&nbsp;<span class="op" id="3395678">=</span>&nbsp;<span class="ident" id="3395680">CanonicalMIMEHeaderKey</span><span class="op" id="3395702">(</span><span class="ident" id="3395703">key</span><span class="op" id="3395706">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3395709">h</span><span class="op" id="3395710">[</span><span class="ident" id="3395711">key</span><span class="op" id="3395714">]</span>&nbsp;<span class="op" id="3395716">=</span>&nbsp;<span class="builtinfunc" id="3395718">append</span><span class="op" id="3395724">(</span><span class="ident" id="3395725">h</span><span class="op" id="3395726">[</span><span class="ident" id="3395727">key</span><span class="op" id="3395730">]</span><span class="op" id="3395731">,</span>&nbsp;<span class="ident" id="3395733">value</span><span class="op" id="3395738">)</span><br>
<span class="lineno"></span><span class="op" id="3395740">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3395743">//&nbsp;Set&nbsp;sets&nbsp;the&nbsp;header&nbsp;entries&nbsp;associated&nbsp;with&nbsp;key&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="3395797">//&nbsp;the&nbsp;single&nbsp;element&nbsp;value.&nbsp;&nbsp;It&nbsp;replaces&nbsp;any&nbsp;existing</span><br>
<span class="lineno">20</span><span class="comment" id="3395852">//&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="3395883">func</span>&nbsp;<span class="op" id="3395888">(</span><span class="ident" id="3395889">h</span>&nbsp;<span class="ident" id="3395891">MIMEHeader</span><span class="op" id="3395901">)</span>&nbsp;<span class="ident" id="3395903">Set</span><span class="op" id="3395906">(</span><span class="ident" id="3395907">key</span><span class="op" id="3395910">,</span>&nbsp;<span class="ident" id="3395912">value</span>&nbsp;<span class="builtintype" id="3395918">string</span><span class="op" id="3395924">)</span>&nbsp;<span class="op" id="3395926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3395929">h</span><span class="op" id="3395930">[</span><span class="ident" id="3395931">CanonicalMIMEHeaderKey</span><span class="op" id="3395953">(</span><span class="ident" id="3395954">key</span><span class="op" id="3395957">)</span><span class="op" id="3395958">]</span>&nbsp;<span class="op" id="3395960">=</span>&nbsp;<span class="op" id="3395962">[</span><span class="op" id="3395963">]</span><span class="builtintype" id="3395964">string</span><span class="op" id="3395970">{</span><span class="ident" id="3395971">value</span><span class="op" id="3395976">}</span><br>
<span class="lineno"></span><span class="op" id="3395978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="3395981">//&nbsp;Get&nbsp;gets&nbsp;the&nbsp;first&nbsp;value&nbsp;associated&nbsp;with&nbsp;the&nbsp;given&nbsp;key.</span><br>
<span class="lineno"></span><span class="comment" id="3396040">//&nbsp;If&nbsp;there&nbsp;are&nbsp;no&nbsp;values&nbsp;associated&nbsp;with&nbsp;the&nbsp;key,&nbsp;Get&nbsp;returns&nbsp;&#34;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3396107">//&nbsp;Get&nbsp;is&nbsp;a&nbsp;convenience&nbsp;method.&nbsp;&nbsp;For&nbsp;more&nbsp;complex&nbsp;queries,</span><br>
<span class="lineno"></span><span class="comment" id="3396166">//&nbsp;access&nbsp;the&nbsp;map&nbsp;directly.</span><br>
<span class="lineno"></span><span class="keyword" id="3396194">func</span>&nbsp;<span class="op" id="3396199">(</span><span class="ident" id="3396200">h</span>&nbsp;<span class="ident" id="3396202">MIMEHeader</span><span class="op" id="3396212">)</span>&nbsp;<span class="ident" id="3396214">Get</span><span class="op" id="3396217">(</span><span class="ident" id="3396218">key</span>&nbsp;<span class="builtintype" id="3396222">string</span><span class="op" id="3396228">)</span>&nbsp;<span class="builtintype" id="3396230">string</span>&nbsp;<span class="op" id="3396237">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3396240">if</span>&nbsp;<span class="ident" id="3396243">h</span>&nbsp;<span class="op" id="3396245">==</span>&nbsp;<span class="ident" id="3396248">nil</span>&nbsp;<span class="op" id="3396252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3396256">return</span>&nbsp;<span class="string" id="3396263">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3396267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3396270">v</span>&nbsp;<span class="op" id="3396272">:=</span>&nbsp;<span class="ident" id="3396275">h</span><span class="op" id="3396276">[</span><span class="ident" id="3396277">CanonicalMIMEHeaderKey</span><span class="op" id="3396299">(</span><span class="ident" id="3396300">key</span><span class="op" id="3396303">)</span><span class="op" id="3396304">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3396307">if</span>&nbsp;<span class="builtinfunc" id="3396310">len</span><span class="op" id="3396313">(</span><span class="ident" id="3396314">v</span><span class="op" id="3396315">)</span>&nbsp;<span class="op" id="3396317">==</span>&nbsp;<span class="num" id="3396320">0</span>&nbsp;<span class="op" id="3396322">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3396326">return</span>&nbsp;<span class="string" id="3396333">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3396337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3396340">return</span>&nbsp;<span class="ident" id="3396347">v</span><span class="op" id="3396348">[</span><span class="num" id="3396349">0</span><span class="op" id="3396350">]</span><br>
<span class="lineno"></span><span class="op" id="3396352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="comment" id="3396355">//&nbsp;Del&nbsp;deletes&nbsp;the&nbsp;values&nbsp;associated&nbsp;with&nbsp;key.</span><br>
<span class="lineno"></span><span class="keyword" id="3396402">func</span>&nbsp;<span class="op" id="3396407">(</span><span class="ident" id="3396408">h</span>&nbsp;<span class="ident" id="3396410">MIMEHeader</span><span class="op" id="3396420">)</span>&nbsp;<span class="ident" id="3396422">Del</span><span class="op" id="3396425">(</span><span class="ident" id="3396426">key</span>&nbsp;<span class="builtintype" id="3396430">string</span><span class="op" id="3396436">)</span>&nbsp;<span class="op" id="3396438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="3396441">delete</span><span class="op" id="3396447">(</span><span class="ident" id="3396448">h</span><span class="op" id="3396449">,</span>&nbsp;<span class="ident" id="3396451">CanonicalMIMEHeaderKey</span><span class="op" id="3396473">(</span><span class="ident" id="3396474">key</span><span class="op" id="3396477">)</span><span class="op" id="3396478">)</span><br>
<span class="lineno"></span><span class="op" id="3396480">}</span>
</div>
</body>
</html>
