<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os</h2>
<ul>
<li><a href="/gostd/os/dir_unix.go.html">dir_unix.go</a></li>
<li><a href="/gostd/os/doc.go.html">doc.go</a></li>
<li><a href="/gostd/os/env.go.html">env.go</a></li>
<li><a href="/gostd/os/env_test.go.html">env_test.go</a></li>
<li><a href="/gostd/os/env_unix_test.go.html">env_unix_test.go</a></li>
<li><a href="/gostd/os/error.go.html" class="current">error.go</a></li>
<li><a href="/gostd/os/error_test.go.html">error_test.go</a></li>
<li><a href="/gostd/os/error_unix.go.html">error_unix.go</a></li>
<li><a href="/gostd/os/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec_posix.go.html">exec_posix.go</a></li>
<li><a href="/gostd/os/exec_unix.go.html">exec_unix.go</a></li>
<li><a href="/gostd/os/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/os/file.go.html">file.go</a></li>
<li><a href="/gostd/os/file_posix.go.html">file_posix.go</a></li>
<li><a href="/gostd/os/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/os/getwd.go.html">getwd.go</a></li>
<li><a href="/gostd/os/os_test.go.html">os_test.go</a></li>
<li><a href="/gostd/os/os_unix_test.go.html">os_unix_test.go</a></li>
<li><a href="/gostd/os/path.go.html">path.go</a></li>
<li><a href="/gostd/os/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/os/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/os/pipe_linux.go.html">pipe_linux.go</a></li>
<li><a href="/gostd/os/proc.go.html">proc.go</a></li>
<li><a href="/gostd/os/stat_linux.go.html">stat_linux.go</a></li>
<li><a href="/gostd/os/sys_linux.go.html">sys_linux.go</a></li>
<li><a href="/gostd/os/sys_unix.go.html">sys_unix.go</a></li>
<li><a href="/gostd/os/types.go.html">types.go</a></li>
<li><a href="/gostd/os/types_notwin.go.html">types_notwin.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="2487536">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2487591">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2487645">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="2487696">package</span>&nbsp;<span class="ident" id="2487704">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2487708">import</span>&nbsp;<span class="op" id="2487715">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2487718">&#34;errors&#34;</span><br>
<span class="lineno"></span><span class="op" id="2487727">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="comment" id="2487730">//&nbsp;Portable&nbsp;analogs&nbsp;of&nbsp;some&nbsp;common&nbsp;system&nbsp;call&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2487785">var</span>&nbsp;<span class="op" id="2487789">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2487792">ErrInvalid</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2487806">=</span>&nbsp;<span class="ident" id="2487808">errors</span><span class="op" id="2487814">.</span><span class="ident" id="2487815">New</span><span class="op" id="2487818">(</span><span class="string" id="2487819">&#34;invalid&nbsp;argument&#34;</span><span class="op" id="2487837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2487840">ErrPermission</span>&nbsp;<span class="op" id="2487854">=</span>&nbsp;<span class="ident" id="2487856">errors</span><span class="op" id="2487862">.</span><span class="ident" id="2487863">New</span><span class="op" id="2487866">(</span><span class="string" id="2487867">&#34;permission&nbsp;denied&#34;</span><span class="op" id="2487886">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2487889">ErrExist</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2487903">=</span>&nbsp;<span class="ident" id="2487905">errors</span><span class="op" id="2487911">.</span><span class="ident" id="2487912">New</span><span class="op" id="2487915">(</span><span class="string" id="2487916">&#34;file&nbsp;already&nbsp;exists&#34;</span><span class="op" id="2487937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2487940">ErrNotExist</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2487954">=</span>&nbsp;<span class="ident" id="2487956">errors</span><span class="op" id="2487962">.</span><span class="ident" id="2487963">New</span><span class="op" id="2487966">(</span><span class="string" id="2487967">&#34;file&nbsp;does&nbsp;not&nbsp;exist&#34;</span><span class="op" id="2487988">)</span><br>
<span class="lineno"></span><span class="op" id="2487990">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2487993">//&nbsp;PathError&nbsp;records&nbsp;an&nbsp;error&nbsp;and&nbsp;the&nbsp;operation&nbsp;and&nbsp;file&nbsp;path&nbsp;that&nbsp;caused&nbsp;it.</span><br>
<span class="lineno">20</span><span class="keyword" id="2488071">type</span>&nbsp;<span class="ident" id="2488076">PathError</span>&nbsp;<span class="keyword" id="2488086">struct</span>&nbsp;<span class="op" id="2488093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2488096">Op</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2488101">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2488109">Path</span>&nbsp;<span class="builtintype" id="2488114">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2488122">Err</span>&nbsp;&nbsp;<span class="builtintype" id="2488127">error</span><br>
<span class="lineno"></span><span class="op" id="2488133">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="2488136">func</span>&nbsp;<span class="op" id="2488141">(</span><span class="ident" id="2488142">e</span>&nbsp;<span class="op" id="2488144">*</span><span class="ident" id="2488145">PathError</span><span class="op" id="2488154">)</span>&nbsp;<span class="ident" id="2488156">Error</span><span class="op" id="2488161">(</span><span class="op" id="2488162">)</span>&nbsp;<span class="builtintype" id="2488164">string</span>&nbsp;<span class="op" id="2488171">{</span>&nbsp;<span class="keyword" id="2488173">return</span>&nbsp;<span class="ident" id="2488180">e</span><span class="op" id="2488181">.</span><span class="ident" id="2488182">Op</span>&nbsp;<span class="op" id="2488185">+</span>&nbsp;<span class="string" id="2488187">&#34;&nbsp;&#34;</span>&nbsp;<span class="op" id="2488191">+</span>&nbsp;<span class="ident" id="2488193">e</span><span class="op" id="2488194">.</span><span class="ident" id="2488195">Path</span>&nbsp;<span class="op" id="2488200">+</span>&nbsp;<span class="string" id="2488202">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2488207">+</span>&nbsp;<span class="ident" id="2488209">e</span><span class="op" id="2488210">.</span><span class="ident" id="2488211">Err</span><span class="op" id="2488214">.</span><span class="ident" id="2488215">Error</span><span class="op" id="2488220">(</span><span class="op" id="2488221">)</span>&nbsp;<span class="op" id="2488223">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488226">//&nbsp;SyscallError&nbsp;records&nbsp;an&nbsp;error&nbsp;from&nbsp;a&nbsp;specific&nbsp;system&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="2488288">type</span>&nbsp;<span class="ident" id="2488293">SyscallError</span>&nbsp;<span class="keyword" id="2488306">struct</span>&nbsp;<span class="op" id="2488313">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2488316">Syscall</span>&nbsp;<span class="builtintype" id="2488324">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2488332">Err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2488340">error</span><br>
<span class="lineno"></span><span class="op" id="2488346">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2488349">func</span>&nbsp;<span class="op" id="2488354">(</span><span class="ident" id="2488355">e</span>&nbsp;<span class="op" id="2488357">*</span><span class="ident" id="2488358">SyscallError</span><span class="op" id="2488370">)</span>&nbsp;<span class="ident" id="2488372">Error</span><span class="op" id="2488377">(</span><span class="op" id="2488378">)</span>&nbsp;<span class="builtintype" id="2488380">string</span>&nbsp;<span class="op" id="2488387">{</span>&nbsp;<span class="keyword" id="2488389">return</span>&nbsp;<span class="ident" id="2488396">e</span><span class="op" id="2488397">.</span><span class="ident" id="2488398">Syscall</span>&nbsp;<span class="op" id="2488406">+</span>&nbsp;<span class="string" id="2488408">&#34;:&nbsp;&#34;</span>&nbsp;<span class="op" id="2488413">+</span>&nbsp;<span class="ident" id="2488415">e</span><span class="op" id="2488416">.</span><span class="ident" id="2488417">Err</span><span class="op" id="2488420">.</span><span class="ident" id="2488421">Error</span><span class="op" id="2488426">(</span><span class="op" id="2488427">)</span>&nbsp;<span class="op" id="2488429">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="2488432">//&nbsp;NewSyscallError&nbsp;returns,&nbsp;as&nbsp;an&nbsp;error,&nbsp;a&nbsp;new&nbsp;SyscallError</span><br>
<span class="lineno"></span><span class="comment" id="2488492">//&nbsp;with&nbsp;the&nbsp;given&nbsp;system&nbsp;call&nbsp;name&nbsp;and&nbsp;error&nbsp;details.</span><br>
<span class="lineno"></span><span class="comment" id="2488546">//&nbsp;As&nbsp;a&nbsp;convenience,&nbsp;if&nbsp;err&nbsp;is&nbsp;nil,&nbsp;NewSyscallError&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2488611">func</span>&nbsp;<span class="ident" id="2488616">NewSyscallError</span><span class="op" id="2488631">(</span><span class="ident" id="2488632">syscall</span>&nbsp;<span class="builtintype" id="2488640">string</span><span class="op" id="2488646">,</span>&nbsp;<span class="ident" id="2488648">err</span>&nbsp;<span class="builtintype" id="2488652">error</span><span class="op" id="2488657">)</span>&nbsp;<span class="builtintype" id="2488659">error</span>&nbsp;<span class="op" id="2488665">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2488668">if</span>&nbsp;<span class="ident" id="2488671">err</span>&nbsp;<span class="op" id="2488675">==</span>&nbsp;<span class="ident" id="2488678">nil</span>&nbsp;<span class="op" id="2488682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2488686">return</span>&nbsp;<span class="ident" id="2488693">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2488698">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2488701">return</span>&nbsp;<span class="op" id="2488708">&amp;</span><span class="ident" id="2488709">SyscallError</span><span class="op" id="2488721">{</span><span class="ident" id="2488722">syscall</span><span class="op" id="2488729">,</span>&nbsp;<span class="ident" id="2488731">err</span><span class="op" id="2488734">}</span><br>
<span class="lineno"></span><span class="op" id="2488736">}</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="2488739">//&nbsp;IsExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to&nbsp;report</span><br>
<span class="lineno"></span><span class="comment" id="2488816">//&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;already&nbsp;exists.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrExist&nbsp;as</span><br>
<span class="lineno"></span><span class="comment" id="2488891">//&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2488923">func</span>&nbsp;<span class="ident" id="2488928">IsExist</span><span class="op" id="2488935">(</span><span class="ident" id="2488936">err</span>&nbsp;<span class="builtintype" id="2488940">error</span><span class="op" id="2488945">)</span>&nbsp;<span class="builtintype" id="2488947">bool</span>&nbsp;<span class="op" id="2488952">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2488955">return</span>&nbsp;<span class="ident" id="2488962">isExist</span><span class="op" id="2488969">(</span><span class="ident" id="2488970">err</span><span class="op" id="2488973">)</span><br>
<span class="lineno"></span><span class="op" id="2488975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2488978">//&nbsp;IsNotExist&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2489051">//&nbsp;report&nbsp;that&nbsp;a&nbsp;file&nbsp;or&nbsp;directory&nbsp;does&nbsp;not&nbsp;exist.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by</span><br>
<span class="lineno">55</span><span class="comment" id="2489121">//&nbsp;ErrNotExist&nbsp;as&nbsp;well&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2489168">func</span>&nbsp;<span class="ident" id="2489173">IsNotExist</span><span class="op" id="2489183">(</span><span class="ident" id="2489184">err</span>&nbsp;<span class="builtintype" id="2489188">error</span><span class="op" id="2489193">)</span>&nbsp;<span class="builtintype" id="2489195">bool</span>&nbsp;<span class="op" id="2489200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2489203">return</span>&nbsp;<span class="ident" id="2489210">isNotExist</span><span class="op" id="2489220">(</span><span class="ident" id="2489221">err</span><span class="op" id="2489224">)</span><br>
<span class="lineno"></span><span class="op" id="2489226">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="comment" id="2489229">//&nbsp;IsPermission&nbsp;returns&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;whether&nbsp;the&nbsp;error&nbsp;is&nbsp;known&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2489304">//&nbsp;report&nbsp;that&nbsp;permission&nbsp;is&nbsp;denied.&nbsp;It&nbsp;is&nbsp;satisfied&nbsp;by&nbsp;ErrPermission&nbsp;as&nbsp;well</span><br>
<span class="lineno"></span><span class="comment" id="2489382">//&nbsp;as&nbsp;some&nbsp;syscall&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="2489409">func</span>&nbsp;<span class="ident" id="2489414">IsPermission</span><span class="op" id="2489426">(</span><span class="ident" id="2489427">err</span>&nbsp;<span class="builtintype" id="2489431">error</span><span class="op" id="2489436">)</span>&nbsp;<span class="builtintype" id="2489438">bool</span>&nbsp;<span class="op" id="2489443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="2489446">return</span>&nbsp;<span class="ident" id="2489453">isPermission</span><span class="op" id="2489465">(</span><span class="ident" id="2489466">err</span><span class="op" id="2489469">)</span><br>
<span class="lineno">65</span><span class="op" id="2489471">}</span>
</div>
</body>
</html>
