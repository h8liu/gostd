<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>lonnie.io/e8vm/asm8</h2>
<ul>
<li><a href="/gostd/lonnie.io/e8vm/asm8/bare_func.go.html">bare_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_file.go.html">build_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_func.go.html">build_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_lib.go.html">build_lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/build_var.go.html">build_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/builder.go.html">builder.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/check_type.go.html">check_type.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_hex.go.html">data_hex.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_nums.go.html">data_nums.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/data_str.go.html">data_str.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/file.go.html">file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_decl.go.html">func_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/func_stmt.go.html">func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst.go.html">inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_all.go.html">inst_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_br.go.html">inst_br.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_imm.go.html">inst_imm.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_jmp.go.html">inst_jmp.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_reg.go.html">inst_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/inst_sys.go.html">inst_sys.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all.go.html">lex_all.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_all_test.go.html">lex_all_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_comment.go.html">lex_comment.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_operand.go.html">lex_operand.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lex_string.go.html">lex_string.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/lib.go.html">lib.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/package.go.html">package.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_arg.go.html">parse_arg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_file.go.html">parse_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func.go.html">parse_func.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_stmt.go.html">parse_func_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_func_test.go.html">parse_func_test.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_inst.go.html">parse_inst.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_label.go.html">parse_label.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_reg.go.html">parse_reg.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_sym.go.html">parse_sym.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var.go.html">parse_var.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parse_var_stmt.go.html">parse_var_stmt.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/parser.go.html">parser.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/single_file.go.html">single_file.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/stmt_lexer.go.html">stmt_lexer.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_scope.go.html">sym_scope.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/sym_table.go.html">sym_table.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/symbol.go.html">symbol.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/token.go.html">token.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_decl.go.html">var_decl.go</a></li>
<li><a href="/gostd/lonnie.io/e8vm/asm8/var_stmt.go.html">var_stmt.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="keyword" id="3663906">package</span>&nbsp;<span class="ident" id="3663914">asm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3663920">//&nbsp;SymTable&nbsp;save&nbsp;the&nbsp;symbol</span><br>
<span class="lineno"></span><span class="keyword" id="3663948">type</span>&nbsp;<span class="ident" id="3663953">symTabel</span>&nbsp;<span class="keyword" id="3663962">struct</span>&nbsp;<span class="op" id="3663969">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3663972">m</span>&nbsp;<span class="keyword" id="3663974">map</span><span class="op" id="3663977">[</span><span class="builtintype" id="3663978">string</span><span class="op" id="3663984">]</span><span class="op" id="3663985">*</span><span class="ident" id="3663986">symbol</span><br>
<span class="lineno"></span><span class="op" id="3663993">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3663996">//&nbsp;NewSymTable&nbsp;creates&nbsp;an&nbsp;empty&nbsp;symbol&nbsp;table</span><br>
<span class="lineno"></span><span class="keyword" id="3664041">func</span>&nbsp;<span class="ident" id="3664046">newSymTable</span><span class="op" id="3664057">(</span><span class="op" id="3664058">)</span>&nbsp;<span class="op" id="3664060">*</span><span class="ident" id="3664061">symTabel</span>&nbsp;<span class="op" id="3664070">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664073">ret</span>&nbsp;<span class="op" id="3664077">:=</span>&nbsp;<span class="builtinfunc" id="3664080">new</span><span class="op" id="3664083">(</span><span class="ident" id="3664084">symTabel</span><span class="op" id="3664092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664095">ret</span><span class="op" id="3664098">.</span><span class="ident" id="3664099">m</span>&nbsp;<span class="op" id="3664101">=</span>&nbsp;<span class="builtinfunc" id="3664103">make</span><span class="op" id="3664107">(</span><span class="keyword" id="3664108">map</span><span class="op" id="3664111">[</span><span class="builtintype" id="3664112">string</span><span class="op" id="3664118">]</span><span class="op" id="3664119">*</span><span class="ident" id="3664120">symbol</span><span class="op" id="3664126">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664130">return</span>&nbsp;<span class="ident" id="3664137">ret</span><br>
<span class="lineno"></span><span class="op" id="3664141">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3664144">//&nbsp;Query&nbsp;searches&nbsp;for&nbsp;a&nbsp;symbol&nbsp;with&nbsp;a&nbsp;particular&nbsp;name.</span><br>
<span class="lineno"></span><span class="keyword" id="3664199">func</span>&nbsp;<span class="op" id="3664204">(</span><span class="ident" id="3664205">tab</span>&nbsp;<span class="op" id="3664209">*</span><span class="ident" id="3664210">symTabel</span><span class="op" id="3664218">)</span>&nbsp;<span class="ident" id="3664220">Query</span><span class="op" id="3664225">(</span><span class="ident" id="3664226">n</span>&nbsp;<span class="builtintype" id="3664228">string</span><span class="op" id="3664234">)</span>&nbsp;<span class="op" id="3664236">*</span><span class="ident" id="3664237">symbol</span>&nbsp;<span class="op" id="3664244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664247">s</span>&nbsp;<span class="op" id="3664249">:=</span>&nbsp;<span class="ident" id="3664252">tab</span><span class="op" id="3664255">.</span><span class="ident" id="3664256">m</span><span class="op" id="3664257">[</span><span class="ident" id="3664258">n</span><span class="op" id="3664259">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664262">if</span>&nbsp;<span class="ident" id="3664265">s</span>&nbsp;<span class="op" id="3664267">==</span>&nbsp;<span class="ident" id="3664270">nil</span>&nbsp;<span class="op" id="3664274">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664278">return</span>&nbsp;<span class="ident" id="3664285">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3664290">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664294">return</span>&nbsp;<span class="ident" id="3664301">s</span><span class="op" id="3664302">.</span><span class="ident" id="3664303">clone</span><span class="op" id="3664308">(</span><span class="op" id="3664309">)</span><br>
<span class="lineno"></span><span class="op" id="3664311">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="3664314">//&nbsp;Declare&nbsp;adds&nbsp;a&nbsp;symbol&nbsp;into&nbsp;the&nbsp;table.</span><br>
<span class="lineno"></span><span class="comment" id="3664355">//&nbsp;It&nbsp;returns&nbsp;nil&nbsp;on&nbsp;successful,&nbsp;and&nbsp;returns&nbsp;the&nbsp;conflict&nbsp;symbol</span><br>
<span class="lineno"></span><span class="comment" id="3664420">//&nbsp;when&nbsp;it&nbsp;is&nbsp;already&nbsp;declared.</span><br>
<span class="lineno"></span><span class="keyword" id="3664452">func</span>&nbsp;<span class="op" id="3664457">(</span><span class="ident" id="3664458">tab</span>&nbsp;<span class="op" id="3664462">*</span><span class="ident" id="3664463">symTabel</span><span class="op" id="3664471">)</span>&nbsp;<span class="ident" id="3664473">Declare</span><span class="op" id="3664480">(</span><span class="ident" id="3664481">s</span>&nbsp;<span class="op" id="3664483">*</span><span class="ident" id="3664484">symbol</span><span class="op" id="3664490">)</span>&nbsp;<span class="op" id="3664492">*</span><span class="ident" id="3664493">symbol</span>&nbsp;<span class="op" id="3664500">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664503">n</span>&nbsp;<span class="op" id="3664505">:=</span>&nbsp;<span class="ident" id="3664508">s</span><span class="op" id="3664509">.</span><span class="ident" id="3664510">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664516">p</span>&nbsp;<span class="op" id="3664518">:=</span>&nbsp;<span class="ident" id="3664521">tab</span><span class="op" id="3664524">.</span><span class="ident" id="3664525">m</span><span class="op" id="3664526">[</span><span class="ident" id="3664527">n</span><span class="op" id="3664528">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664531">if</span>&nbsp;<span class="ident" id="3664534">p</span>&nbsp;<span class="op" id="3664536">!=</span>&nbsp;<span class="ident" id="3664539">nil</span>&nbsp;<span class="op" id="3664543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664547">return</span>&nbsp;<span class="ident" id="3664554">p</span><span class="op" id="3664555">.</span><span class="ident" id="3664556">clone</span><span class="op" id="3664561">(</span><span class="op" id="3664562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3664565">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3664569">tab</span><span class="op" id="3664572">.</span><span class="ident" id="3664573">m</span><span class="op" id="3664574">[</span><span class="ident" id="3664575">n</span><span class="op" id="3664576">]</span>&nbsp;<span class="op" id="3664578">=</span>&nbsp;<span class="ident" id="3664580">s</span><span class="op" id="3664581">.</span><span class="ident" id="3664582">clone</span><span class="op" id="3664587">(</span><span class="op" id="3664588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3664591">return</span>&nbsp;<span class="ident" id="3664598">nil</span><br>
<span class="lineno"></span><span class="op" id="3664602">}</span>
</div>
</body>
</html>
