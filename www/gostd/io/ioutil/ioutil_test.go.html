<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>io/ioutil</h2>
<ul>
<li><a href="/gostd/io/ioutil/ioutil.go.html">ioutil.go</a></li>
<li><a href="/gostd/io/ioutil/ioutil_test.go.html" class="current">ioutil_test.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile.go.html">tempfile.go</a></li>
<li><a href="/gostd/io/ioutil/tempfile_test.go.html">tempfile_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7120012">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7120067">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7120121">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7120172">package</span>&nbsp;<span class="ident" id="7120180">ioutil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120188">import</span>&nbsp;<span class="op" id="7120195">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7120198">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7120204">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7120214">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120217">func</span>&nbsp;<span class="ident" id="7120222">checkSize</span><span class="op" id="7120231">(</span><span class="ident" id="7120232">t</span>&nbsp;<span class="op" id="7120234">*</span><span class="ident" id="7120235">testing</span><span class="op" id="7120242">.</span><span class="ident" id="7120243">T</span><span class="op" id="7120244">,</span>&nbsp;<span class="ident" id="7120246">path</span>&nbsp;<span class="builtintype" id="7120251">string</span><span class="op" id="7120257">,</span>&nbsp;<span class="ident" id="7120259">size</span>&nbsp;<span class="ident" id="7120264">int64</span><span class="op" id="7120269">)</span>&nbsp;<span class="op" id="7120271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120274">dir</span><span class="op" id="7120277">,</span>&nbsp;<span class="ident" id="7120279">err</span>&nbsp;<span class="op" id="7120283">:=</span>&nbsp;<span class="ident" id="7120286">os</span><span class="op" id="7120288">.</span><span class="ident" id="7120289">Stat</span><span class="op" id="7120293">(</span><span class="ident" id="7120294">path</span><span class="op" id="7120298">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7120301">if</span>&nbsp;<span class="ident" id="7120304">err</span>&nbsp;<span class="op" id="7120308">!=</span>&nbsp;<span class="builtintype" id="7120311">nil</span>&nbsp;<span class="op" id="7120315">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120319">t</span><span class="op" id="7120320">.</span><span class="ident" id="7120321">Fatalf</span><span class="op" id="7120327">(</span><span class="string" id="7120328">&#34;Stat&nbsp;%q&nbsp;(looking&nbsp;for&nbsp;size&nbsp;%d):&nbsp;%s&#34;</span><span class="op" id="7120363">,</span>&nbsp;<span class="ident" id="7120365">path</span><span class="op" id="7120369">,</span>&nbsp;<span class="ident" id="7120371">size</span><span class="op" id="7120375">,</span>&nbsp;<span class="ident" id="7120377">err</span><span class="op" id="7120380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7120383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7120386">if</span>&nbsp;<span class="ident" id="7120389">dir</span><span class="op" id="7120392">.</span><span class="ident" id="7120393">Size</span><span class="op" id="7120397">(</span><span class="op" id="7120398">)</span>&nbsp;<span class="op" id="7120400">!=</span>&nbsp;<span class="ident" id="7120403">size</span>&nbsp;<span class="op" id="7120408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120412">t</span><span class="op" id="7120413">.</span><span class="ident" id="7120414">Errorf</span><span class="op" id="7120420">(</span><span class="string" id="7120421">&#34;Stat&nbsp;%q:&nbsp;size&nbsp;%d&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7120447">,</span>&nbsp;<span class="ident" id="7120449">path</span><span class="op" id="7120453">,</span>&nbsp;<span class="ident" id="7120455">dir</span><span class="op" id="7120458">.</span><span class="ident" id="7120459">Size</span><span class="op" id="7120463">(</span><span class="op" id="7120464">)</span><span class="op" id="7120465">,</span>&nbsp;<span class="ident" id="7120467">size</span><span class="op" id="7120471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7120474">}</span><br>
<span class="lineno">20</span><span class="op" id="7120476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120479">func</span>&nbsp;<span class="ident" id="7120484">TestReadFile</span><span class="op" id="7120496">(</span><span class="ident" id="7120497">t</span>&nbsp;<span class="op" id="7120499">*</span><span class="ident" id="7120500">testing</span><span class="op" id="7120507">.</span><span class="ident" id="7120508">T</span><span class="op" id="7120509">)</span>&nbsp;<span class="op" id="7120511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120514">filename</span>&nbsp;<span class="op" id="7120523">:=</span>&nbsp;<span class="string" id="7120526">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120545">contents</span><span class="op" id="7120553">,</span>&nbsp;<span class="ident" id="7120555">err</span>&nbsp;<span class="op" id="7120559">:=</span>&nbsp;<span class="ident" id="7120562">ReadFile</span><span class="op" id="7120570">(</span><span class="ident" id="7120571">filename</span><span class="op" id="7120579">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7120582">if</span>&nbsp;<span class="ident" id="7120585">err</span>&nbsp;<span class="op" id="7120589">==</span>&nbsp;<span class="builtintype" id="7120592">nil</span>&nbsp;<span class="op" id="7120596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120600">t</span><span class="op" id="7120601">.</span><span class="ident" id="7120602">Fatalf</span><span class="op" id="7120608">(</span><span class="string" id="7120609">&#34;ReadFile&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7120650">,</span>&nbsp;<span class="ident" id="7120652">filename</span><span class="op" id="7120660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7120663">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120667">filename</span>&nbsp;<span class="op" id="7120676">=</span>&nbsp;<span class="string" id="7120678">&#34;ioutil_test.go&#34;</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120696">contents</span><span class="op" id="7120704">,</span>&nbsp;<span class="ident" id="7120706">err</span>&nbsp;<span class="op" id="7120710">=</span>&nbsp;<span class="ident" id="7120712">ReadFile</span><span class="op" id="7120720">(</span><span class="ident" id="7120721">filename</span><span class="op" id="7120729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7120732">if</span>&nbsp;<span class="ident" id="7120735">err</span>&nbsp;<span class="op" id="7120739">!=</span>&nbsp;<span class="builtintype" id="7120742">nil</span>&nbsp;<span class="op" id="7120746">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120750">t</span><span class="op" id="7120751">.</span><span class="ident" id="7120752">Fatalf</span><span class="op" id="7120758">(</span><span class="string" id="7120759">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7120776">,</span>&nbsp;<span class="ident" id="7120778">filename</span><span class="op" id="7120786">,</span>&nbsp;<span class="ident" id="7120788">err</span><span class="op" id="7120791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7120794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120798">checkSize</span><span class="op" id="7120807">(</span><span class="ident" id="7120808">t</span><span class="op" id="7120809">,</span>&nbsp;<span class="ident" id="7120811">filename</span><span class="op" id="7120819">,</span>&nbsp;<span class="ident" id="7120821">int64</span><span class="op" id="7120826">(</span><span class="builtinfunc" id="7120827">len</span><span class="op" id="7120830">(</span><span class="ident" id="7120831">contents</span><span class="op" id="7120839">)</span><span class="op" id="7120840">)</span><span class="op" id="7120841">)</span><br>
<span class="lineno"></span><span class="op" id="7120843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7120846">func</span>&nbsp;<span class="ident" id="7120851">TestWriteFile</span><span class="op" id="7120864">(</span><span class="ident" id="7120865">t</span>&nbsp;<span class="op" id="7120867">*</span><span class="ident" id="7120868">testing</span><span class="op" id="7120875">.</span><span class="ident" id="7120876">T</span><span class="op" id="7120877">)</span>&nbsp;<span class="op" id="7120879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120882">f</span><span class="op" id="7120883">,</span>&nbsp;<span class="ident" id="7120885">err</span>&nbsp;<span class="op" id="7120889">:=</span>&nbsp;<span class="ident" id="7120892">TempFile</span><span class="op" id="7120900">(</span><span class="string" id="7120901">&#34;&#34;</span><span class="op" id="7120903">,</span>&nbsp;<span class="string" id="7120905">&#34;ioutil-test&#34;</span><span class="op" id="7120918">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7120921">if</span>&nbsp;<span class="ident" id="7120924">err</span>&nbsp;<span class="op" id="7120928">!=</span>&nbsp;<span class="builtintype" id="7120931">nil</span>&nbsp;<span class="op" id="7120935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120939">t</span><span class="op" id="7120940">.</span><span class="ident" id="7120941">Fatal</span><span class="op" id="7120946">(</span><span class="ident" id="7120947">err</span><span class="op" id="7120950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7120953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120956">filename</span>&nbsp;<span class="op" id="7120965">:=</span>&nbsp;<span class="ident" id="7120968">f</span><span class="op" id="7120969">.</span><span class="ident" id="7120970">Name</span><span class="op" id="7120974">(</span><span class="op" id="7120975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7120978">data</span>&nbsp;<span class="op" id="7120983">:=</span>&nbsp;<span class="string" id="7120986">&#34;Programming&nbsp;today&nbsp;is&nbsp;a&nbsp;race&nbsp;between&nbsp;software&nbsp;engineers&nbsp;striving&nbsp;to&nbsp;&#34;</span>&nbsp;<span class="op" id="7121056">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7121060">&#34;build&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiot-proof&nbsp;programs,&nbsp;and&nbsp;the&nbsp;Universe&nbsp;trying&nbsp;&#34;</span>&nbsp;<span class="op" id="7121133">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7121137">&#34;to&nbsp;produce&nbsp;bigger&nbsp;and&nbsp;better&nbsp;idiots.&nbsp;So&nbsp;far,&nbsp;the&nbsp;Universe&nbsp;is&nbsp;winning.&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121211">if</span>&nbsp;<span class="ident" id="7121214">err</span>&nbsp;<span class="op" id="7121218">:=</span>&nbsp;<span class="ident" id="7121221">WriteFile</span><span class="op" id="7121230">(</span><span class="ident" id="7121231">filename</span><span class="op" id="7121239">,</span>&nbsp;<span class="op" id="7121241">[</span><span class="op" id="7121242">]</span><span class="builtintype" id="7121243">byte</span><span class="op" id="7121247">(</span><span class="ident" id="7121248">data</span><span class="op" id="7121252">)</span><span class="op" id="7121253">,</span>&nbsp;<span class="num" id="7121255">0644</span><span class="op" id="7121259">)</span><span class="op" id="7121260">;</span>&nbsp;<span class="ident" id="7121262">err</span>&nbsp;<span class="op" id="7121266">!=</span>&nbsp;<span class="builtintype" id="7121269">nil</span>&nbsp;<span class="op" id="7121273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121277">t</span><span class="op" id="7121278">.</span><span class="ident" id="7121279">Fatalf</span><span class="op" id="7121285">(</span><span class="string" id="7121286">&#34;WriteFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7121304">,</span>&nbsp;<span class="ident" id="7121306">filename</span><span class="op" id="7121314">,</span>&nbsp;<span class="ident" id="7121316">err</span><span class="op" id="7121319">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7121322">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121326">contents</span><span class="op" id="7121334">,</span>&nbsp;<span class="ident" id="7121336">err</span>&nbsp;<span class="op" id="7121340">:=</span>&nbsp;<span class="ident" id="7121343">ReadFile</span><span class="op" id="7121351">(</span><span class="ident" id="7121352">filename</span><span class="op" id="7121360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121363">if</span>&nbsp;<span class="ident" id="7121366">err</span>&nbsp;<span class="op" id="7121370">!=</span>&nbsp;<span class="builtintype" id="7121373">nil</span>&nbsp;<span class="op" id="7121377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121381">t</span><span class="op" id="7121382">.</span><span class="ident" id="7121383">Fatalf</span><span class="op" id="7121389">(</span><span class="string" id="7121390">&#34;ReadFile&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7121407">,</span>&nbsp;<span class="ident" id="7121409">filename</span><span class="op" id="7121417">,</span>&nbsp;<span class="ident" id="7121419">err</span><span class="op" id="7121422">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7121425">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121429">if</span>&nbsp;<span class="builtintype" id="7121432">string</span><span class="op" id="7121438">(</span><span class="ident" id="7121439">contents</span><span class="op" id="7121447">)</span>&nbsp;<span class="op" id="7121449">!=</span>&nbsp;<span class="ident" id="7121452">data</span>&nbsp;<span class="op" id="7121457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121461">t</span><span class="op" id="7121462">.</span><span class="ident" id="7121463">Fatalf</span><span class="op" id="7121469">(</span><span class="string" id="7121470">&#34;contents&nbsp;=&nbsp;%q\nexpected&nbsp;=&nbsp;%q&#34;</span><span class="op" id="7121500">,</span>&nbsp;<span class="builtintype" id="7121502">string</span><span class="op" id="7121508">(</span><span class="ident" id="7121509">contents</span><span class="op" id="7121517">)</span><span class="op" id="7121518">,</span>&nbsp;<span class="ident" id="7121520">data</span><span class="op" id="7121524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7121527">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7121531">//&nbsp;cleanup</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121543">f</span><span class="op" id="7121544">.</span><span class="ident" id="7121545">Close</span><span class="op" id="7121550">(</span><span class="op" id="7121551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121554">os</span><span class="op" id="7121556">.</span><span class="ident" id="7121557">Remove</span><span class="op" id="7121563">(</span><span class="ident" id="7121564">filename</span><span class="op" id="7121572">)</span>&nbsp;<span class="comment" id="7121574">//&nbsp;ignore&nbsp;error</span><br>
<span class="lineno"></span><span class="op" id="7121590">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7121593">func</span>&nbsp;<span class="ident" id="7121598">TestReadDir</span><span class="op" id="7121609">(</span><span class="ident" id="7121610">t</span>&nbsp;<span class="op" id="7121612">*</span><span class="ident" id="7121613">testing</span><span class="op" id="7121620">.</span><span class="ident" id="7121621">T</span><span class="op" id="7121622">)</span>&nbsp;<span class="op" id="7121624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121627">dirname</span>&nbsp;<span class="op" id="7121635">:=</span>&nbsp;<span class="string" id="7121638">&#34;rumpelstilzchen&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121657">_</span><span class="op" id="7121658">,</span>&nbsp;<span class="ident" id="7121660">err</span>&nbsp;<span class="op" id="7121664">:=</span>&nbsp;<span class="ident" id="7121667">ReadDir</span><span class="op" id="7121674">(</span><span class="ident" id="7121675">dirname</span><span class="op" id="7121682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121685">if</span>&nbsp;<span class="ident" id="7121688">err</span>&nbsp;<span class="op" id="7121692">==</span>&nbsp;<span class="builtintype" id="7121695">nil</span>&nbsp;<span class="op" id="7121699">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121703">t</span><span class="op" id="7121704">.</span><span class="ident" id="7121705">Fatalf</span><span class="op" id="7121711">(</span><span class="string" id="7121712">&#34;ReadDir&nbsp;%s:&nbsp;error&nbsp;expected,&nbsp;none&nbsp;found&#34;</span><span class="op" id="7121752">,</span>&nbsp;<span class="ident" id="7121754">dirname</span><span class="op" id="7121761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7121764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121768">dirname</span>&nbsp;<span class="op" id="7121776">=</span>&nbsp;<span class="string" id="7121778">&#34;..&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121784">list</span><span class="op" id="7121788">,</span>&nbsp;<span class="ident" id="7121790">err</span>&nbsp;<span class="op" id="7121794">:=</span>&nbsp;<span class="ident" id="7121797">ReadDir</span><span class="op" id="7121804">(</span><span class="ident" id="7121805">dirname</span><span class="op" id="7121812">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121815">if</span>&nbsp;<span class="ident" id="7121818">err</span>&nbsp;<span class="op" id="7121822">!=</span>&nbsp;<span class="builtintype" id="7121825">nil</span>&nbsp;<span class="op" id="7121829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121833">t</span><span class="op" id="7121834">.</span><span class="ident" id="7121835">Fatalf</span><span class="op" id="7121841">(</span><span class="string" id="7121842">&#34;ReadDir&nbsp;%s:&nbsp;%v&#34;</span><span class="op" id="7121858">,</span>&nbsp;<span class="ident" id="7121860">dirname</span><span class="op" id="7121867">,</span>&nbsp;<span class="ident" id="7121869">err</span><span class="op" id="7121872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7121875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121879">foundFile</span>&nbsp;<span class="op" id="7121889">:=</span>&nbsp;<span class="builtintype" id="7121892">false</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7121899">foundSubDir</span>&nbsp;<span class="op" id="7121911">:=</span>&nbsp;<span class="builtintype" id="7121914">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121921">for</span>&nbsp;<span class="ident" id="7121925">_</span><span class="op" id="7121926">,</span>&nbsp;<span class="ident" id="7121928">dir</span>&nbsp;<span class="op" id="7121932">:=</span>&nbsp;<span class="keyword" id="7121935">range</span>&nbsp;<span class="ident" id="7121941">list</span>&nbsp;<span class="op" id="7121946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121950">switch</span>&nbsp;<span class="op" id="7121957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7121961">case</span>&nbsp;<span class="op" id="7121966">!</span><span class="ident" id="7121967">dir</span><span class="op" id="7121970">.</span><span class="ident" id="7121971">IsDir</span><span class="op" id="7121976">(</span><span class="op" id="7121977">)</span>&nbsp;<span class="op" id="7121979">&amp;&amp;</span>&nbsp;<span class="ident" id="7121982">dir</span><span class="op" id="7121985">.</span><span class="ident" id="7121986">Name</span><span class="op" id="7121990">(</span><span class="op" id="7121991">)</span>&nbsp;<span class="op" id="7121993">==</span>&nbsp;<span class="string" id="7121996">&#34;io_test.go&#34;</span><span class="op" id="7122008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7122013">foundFile</span>&nbsp;<span class="op" id="7122023">=</span>&nbsp;<span class="builtintype" id="7122025">true</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7122032">case</span>&nbsp;<span class="ident" id="7122037">dir</span><span class="op" id="7122040">.</span><span class="ident" id="7122041">IsDir</span><span class="op" id="7122046">(</span><span class="op" id="7122047">)</span>&nbsp;<span class="op" id="7122049">&amp;&amp;</span>&nbsp;<span class="ident" id="7122052">dir</span><span class="op" id="7122055">.</span><span class="ident" id="7122056">Name</span><span class="op" id="7122060">(</span><span class="op" id="7122061">)</span>&nbsp;<span class="op" id="7122063">==</span>&nbsp;<span class="string" id="7122066">&#34;ioutil&#34;</span><span class="op" id="7122074">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7122079">foundSubDir</span>&nbsp;<span class="op" id="7122091">=</span>&nbsp;<span class="builtintype" id="7122093">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7122100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7122103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7122106">if</span>&nbsp;<span class="op" id="7122109">!</span><span class="ident" id="7122110">foundFile</span>&nbsp;<span class="op" id="7122120">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7122124">t</span><span class="op" id="7122125">.</span><span class="ident" id="7122126">Fatalf</span><span class="op" id="7122132">(</span><span class="string" id="7122133">&#34;ReadDir&nbsp;%s:&nbsp;io_test.go&nbsp;file&nbsp;not&nbsp;found&#34;</span><span class="op" id="7122172">,</span>&nbsp;<span class="ident" id="7122174">dirname</span><span class="op" id="7122181">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7122184">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7122187">if</span>&nbsp;<span class="op" id="7122190">!</span><span class="ident" id="7122191">foundSubDir</span>&nbsp;<span class="op" id="7122203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7122207">t</span><span class="op" id="7122208">.</span><span class="ident" id="7122209">Fatalf</span><span class="op" id="7122215">(</span><span class="string" id="7122216">&#34;ReadDir&nbsp;%s:&nbsp;ioutil&nbsp;directory&nbsp;not&nbsp;found&#34;</span><span class="op" id="7122256">,</span>&nbsp;<span class="ident" id="7122258">dirname</span><span class="op" id="7122265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7122268">}</span><br>
<span class="lineno">95</span><span class="op" id="7122270">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
