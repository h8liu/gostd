<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/json</h2>
<ul>
<li><a href="/gostd/encoding/json/bench_test.go.html">bench_test.go</a></li>
<li><a href="/gostd/encoding/json/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/json/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/encoding/json/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/json/encode_test.go.html">encode_test.go</a></li>
<li><a href="/gostd/encoding/json/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/json/fold.go.html">fold.go</a></li>
<li><a href="/gostd/encoding/json/fold_test.go.html">fold_test.go</a></li>
<li><a href="/gostd/encoding/json/indent.go.html">indent.go</a></li>
<li><a href="/gostd/encoding/json/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/encoding/json/scanner_test.go.html">scanner_test.go</a></li>
<li><a href="/gostd/encoding/json/stream.go.html">stream.go</a></li>
<li><a href="/gostd/encoding/json/stream_test.go.html">stream_test.go</a></li>
<li><a href="/gostd/encoding/json/tagkey_test.go.html">tagkey_test.go</a></li>
<li><a href="/gostd/encoding/json/tags.go.html">tags.go</a></li>
<li><a href="/gostd/encoding/json/tags_test.go.html" class="current">tags_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7418740">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7418796">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7418850">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7418901">package</span>&nbsp;<span class="ident" id="7418909">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7418915">import</span>&nbsp;<span class="op" id="7418922">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7418925">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7418935">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7418938">func</span>&nbsp;<span class="ident" id="7418943">TestTagParsing</span><span class="op" id="7418957">(</span><span class="ident" id="7418958">t</span>&nbsp;<span class="op" id="7418960">*</span><span class="ident" id="7418961">testing</span><span class="op" id="7418968">.</span><span class="ident" id="7418969">T</span><span class="op" id="7418970">)</span>&nbsp;<span class="op" id="7418972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7418975">name</span><span class="op" id="7418979">,</span>&nbsp;<span class="ident" id="7418981">opts</span>&nbsp;<span class="op" id="7418986">:=</span>&nbsp;<span class="ident" id="7418989">parseTag</span><span class="op" id="7418997">(</span><span class="string" id="7418998">&#34;field,foobar,foo&#34;</span><span class="op" id="7419016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419019">if</span>&nbsp;<span class="ident" id="7419022">name</span>&nbsp;<span class="op" id="7419027">!=</span>&nbsp;<span class="string" id="7419030">&#34;field&#34;</span>&nbsp;<span class="op" id="7419038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419042">t</span><span class="op" id="7419043">.</span><span class="ident" id="7419044">Fatalf</span><span class="op" id="7419050">(</span><span class="string" id="7419051">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="7419074">,</span>&nbsp;<span class="ident" id="7419076">name</span><span class="op" id="7419080">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419086">for</span>&nbsp;<span class="ident" id="7419090">_</span><span class="op" id="7419091">,</span>&nbsp;<span class="ident" id="7419093">tt</span>&nbsp;<span class="op" id="7419096">:=</span>&nbsp;<span class="keyword" id="7419099">range</span>&nbsp;<span class="op" id="7419105">[</span><span class="op" id="7419106">]</span><span class="keyword" id="7419107">struct</span>&nbsp;<span class="op" id="7419114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419118">opt</span>&nbsp;&nbsp;<span class="builtintype" id="7419123">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419132">want</span>&nbsp;<span class="builtintype" id="7419137">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419143">}</span><span class="op" id="7419144">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419148">{</span><span class="string" id="7419149">&#34;foobar&#34;</span><span class="op" id="7419157">,</span>&nbsp;<span class="builtintype" id="7419159">true</span><span class="op" id="7419163">}</span><span class="op" id="7419164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419168">{</span><span class="string" id="7419169">&#34;foo&#34;</span><span class="op" id="7419174">,</span>&nbsp;<span class="builtintype" id="7419176">true</span><span class="op" id="7419180">}</span><span class="op" id="7419181">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419185">{</span><span class="string" id="7419186">&#34;bar&#34;</span><span class="op" id="7419191">,</span>&nbsp;<span class="builtintype" id="7419193">false</span><span class="op" id="7419198">}</span><span class="op" id="7419199">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419202">}</span>&nbsp;<span class="op" id="7419204">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7419208">if</span>&nbsp;<span class="ident" id="7419211">opts</span><span class="op" id="7419215">.</span><span class="ident" id="7419216">Contains</span><span class="op" id="7419224">(</span><span class="ident" id="7419225">tt</span><span class="op" id="7419227">.</span><span class="ident" id="7419228">opt</span><span class="op" id="7419231">)</span>&nbsp;<span class="op" id="7419233">!=</span>&nbsp;<span class="ident" id="7419236">tt</span><span class="op" id="7419238">.</span><span class="ident" id="7419239">want</span>&nbsp;<span class="op" id="7419244">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7419249">t</span><span class="op" id="7419250">.</span><span class="ident" id="7419251">Errorf</span><span class="op" id="7419257">(</span><span class="string" id="7419258">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="7419277">,</span>&nbsp;<span class="ident" id="7419279">tt</span><span class="op" id="7419281">.</span><span class="ident" id="7419282">opt</span><span class="op" id="7419285">,</span>&nbsp;<span class="op" id="7419287">!</span><span class="ident" id="7419288">tt</span><span class="op" id="7419290">.</span><span class="ident" id="7419291">want</span><span class="op" id="7419295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7419302">}</span><br>
<span class="lineno"></span><span class="op" id="7419304">}</span>
</div>
</body>
</html>
