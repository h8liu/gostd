<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp/syntax</h2>
<ul>
<li><a href="/gostd/regexp/syntax/compile.go.html">compile.go</a></li>
<li><a href="/gostd/regexp/syntax/doc.go.html">doc.go</a></li>
<li><a href="/gostd/regexp/syntax/parse.go.html">parse.go</a></li>
<li><a href="/gostd/regexp/syntax/parse_test.go.html" class="current">parse_test.go</a></li>
<li><a href="/gostd/regexp/syntax/perl_groups.go.html">perl_groups.go</a></li>
<li><a href="/gostd/regexp/syntax/prog.go.html">prog.go</a></li>
<li><a href="/gostd/regexp/syntax/prog_test.go.html">prog_test.go</a></li>
<li><a href="/gostd/regexp/syntax/regexp.go.html">regexp.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify.go.html">simplify.go</a></li>
<li><a href="/gostd/regexp/syntax/simplify_test.go.html">simplify_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7171395">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7171451">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7171505">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7171556">package</span>&nbsp;<span class="ident" id="7171564">syntax</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7171572">import</span>&nbsp;<span class="op" id="7171579">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171582">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171591">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171598">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7171609">&#34;unicode&#34;</span><br>
<span class="lineno"></span><span class="op" id="7171619">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7171622">type</span>&nbsp;<span class="ident" id="7171627">parseTest</span>&nbsp;<span class="keyword" id="7171637">struct</span>&nbsp;<span class="op" id="7171644">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7171647">Regexp</span>&nbsp;<span class="builtintype" id="7171654">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7171662">Dump</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7171669">string</span><br>
<span class="lineno"></span><span class="op" id="7171676">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7171679">var</span>&nbsp;<span class="ident" id="7171683">parseTests</span>&nbsp;<span class="op" id="7171694">=</span>&nbsp;<span class="op" id="7171696">[</span><span class="op" id="7171697">]</span><span class="ident" id="7171698">parseTest</span><span class="op" id="7171707">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7171710">//&nbsp;Base&nbsp;cases</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171725">{</span><span class="string" id="7171726">`a`</span><span class="op" id="7171729">,</span>&nbsp;<span class="string" id="7171731">`lit{a}`</span><span class="op" id="7171739">}</span><span class="op" id="7171740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171743">{</span><span class="string" id="7171744">`a.`</span><span class="op" id="7171748">,</span>&nbsp;<span class="string" id="7171750">`cat{lit{a}dot{}}`</span><span class="op" id="7171768">}</span><span class="op" id="7171769">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171772">{</span><span class="string" id="7171773">`a.b`</span><span class="op" id="7171778">,</span>&nbsp;<span class="string" id="7171780">`cat{lit{a}dot{}lit{b}}`</span><span class="op" id="7171804">}</span><span class="op" id="7171805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171808">{</span><span class="string" id="7171809">`ab`</span><span class="op" id="7171813">,</span>&nbsp;<span class="string" id="7171815">`str{ab}`</span><span class="op" id="7171824">}</span><span class="op" id="7171825">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171828">{</span><span class="string" id="7171829">`a.b.c`</span><span class="op" id="7171836">,</span>&nbsp;<span class="string" id="7171838">`cat{lit{a}dot{}lit{b}dot{}lit{c}}`</span><span class="op" id="7171873">}</span><span class="op" id="7171874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171877">{</span><span class="string" id="7171878">`abc`</span><span class="op" id="7171883">,</span>&nbsp;<span class="string" id="7171885">`str{abc}`</span><span class="op" id="7171895">}</span><span class="op" id="7171896">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171899">{</span><span class="string" id="7171900">`a|^`</span><span class="op" id="7171905">,</span>&nbsp;<span class="string" id="7171907">`alt{lit{a}bol{}}`</span><span class="op" id="7171925">}</span><span class="op" id="7171926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171929">{</span><span class="string" id="7171930">`a|b`</span><span class="op" id="7171935">,</span>&nbsp;<span class="string" id="7171937">`cc{0x61-0x62}`</span><span class="op" id="7171952">}</span><span class="op" id="7171953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171956">{</span><span class="string" id="7171957">`(a)`</span><span class="op" id="7171962">,</span>&nbsp;<span class="string" id="7171964">`cap{lit{a}}`</span><span class="op" id="7171977">}</span><span class="op" id="7171978">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7171981">{</span><span class="string" id="7171982">`(a)|b`</span><span class="op" id="7171989">,</span>&nbsp;<span class="string" id="7171991">`alt{cap{lit{a}}lit{b}}`</span><span class="op" id="7172015">}</span><span class="op" id="7172016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172019">{</span><span class="string" id="7172020">`a*`</span><span class="op" id="7172024">,</span>&nbsp;<span class="string" id="7172026">`star{lit{a}}`</span><span class="op" id="7172040">}</span><span class="op" id="7172041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172044">{</span><span class="string" id="7172045">`a+`</span><span class="op" id="7172049">,</span>&nbsp;<span class="string" id="7172051">`plus{lit{a}}`</span><span class="op" id="7172065">}</span><span class="op" id="7172066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172069">{</span><span class="string" id="7172070">`a?`</span><span class="op" id="7172074">,</span>&nbsp;<span class="string" id="7172076">`que{lit{a}}`</span><span class="op" id="7172089">}</span><span class="op" id="7172090">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172093">{</span><span class="string" id="7172094">`a{2}`</span><span class="op" id="7172100">,</span>&nbsp;<span class="string" id="7172102">`rep{2,2&nbsp;lit{a}}`</span><span class="op" id="7172119">}</span><span class="op" id="7172120">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172123">{</span><span class="string" id="7172124">`a{2,3}`</span><span class="op" id="7172132">,</span>&nbsp;<span class="string" id="7172134">`rep{2,3&nbsp;lit{a}}`</span><span class="op" id="7172151">}</span><span class="op" id="7172152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172155">{</span><span class="string" id="7172156">`a{2,}`</span><span class="op" id="7172163">,</span>&nbsp;<span class="string" id="7172165">`rep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7172183">}</span><span class="op" id="7172184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172187">{</span><span class="string" id="7172188">`a*?`</span><span class="op" id="7172193">,</span>&nbsp;<span class="string" id="7172195">`nstar{lit{a}}`</span><span class="op" id="7172210">}</span><span class="op" id="7172211">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172214">{</span><span class="string" id="7172215">`a+?`</span><span class="op" id="7172220">,</span>&nbsp;<span class="string" id="7172222">`nplus{lit{a}}`</span><span class="op" id="7172237">}</span><span class="op" id="7172238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172241">{</span><span class="string" id="7172242">`a??`</span><span class="op" id="7172247">,</span>&nbsp;<span class="string" id="7172249">`nque{lit{a}}`</span><span class="op" id="7172263">}</span><span class="op" id="7172264">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172267">{</span><span class="string" id="7172268">`a{2}?`</span><span class="op" id="7172275">,</span>&nbsp;<span class="string" id="7172277">`nrep{2,2&nbsp;lit{a}}`</span><span class="op" id="7172295">}</span><span class="op" id="7172296">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172299">{</span><span class="string" id="7172300">`a{2,3}?`</span><span class="op" id="7172309">,</span>&nbsp;<span class="string" id="7172311">`nrep{2,3&nbsp;lit{a}}`</span><span class="op" id="7172329">}</span><span class="op" id="7172330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172333">{</span><span class="string" id="7172334">`a{2,}?`</span><span class="op" id="7172342">,</span>&nbsp;<span class="string" id="7172344">`nrep{2,-1&nbsp;lit{a}}`</span><span class="op" id="7172363">}</span><span class="op" id="7172364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7172367">//&nbsp;Malformed&nbsp;{&nbsp;}&nbsp;are&nbsp;treated&nbsp;as&nbsp;literals.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172410">{</span><span class="string" id="7172411">`x{1001`</span><span class="op" id="7172419">,</span>&nbsp;<span class="string" id="7172421">`str{x{1001}`</span><span class="op" id="7172434">}</span><span class="op" id="7172435">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172438">{</span><span class="string" id="7172439">`x{9876543210`</span><span class="op" id="7172453">,</span>&nbsp;<span class="string" id="7172455">`str{x{9876543210}`</span><span class="op" id="7172474">}</span><span class="op" id="7172475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172478">{</span><span class="string" id="7172479">`x{9876543210,`</span><span class="op" id="7172494">,</span>&nbsp;<span class="string" id="7172496">`str{x{9876543210,}`</span><span class="op" id="7172516">}</span><span class="op" id="7172517">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172520">{</span><span class="string" id="7172521">`x{2,1`</span><span class="op" id="7172528">,</span>&nbsp;<span class="string" id="7172530">`str{x{2,1}`</span><span class="op" id="7172542">}</span><span class="op" id="7172543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172546">{</span><span class="string" id="7172547">`x{1,9876543210`</span><span class="op" id="7172563">,</span>&nbsp;<span class="string" id="7172565">`str{x{1,9876543210}`</span><span class="op" id="7172586">}</span><span class="op" id="7172587">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172590">{</span><span class="string" id="7172591">``</span><span class="op" id="7172593">,</span>&nbsp;<span class="string" id="7172595">`emp{}`</span><span class="op" id="7172602">}</span><span class="op" id="7172603">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172606">{</span><span class="string" id="7172607">`|`</span><span class="op" id="7172610">,</span>&nbsp;<span class="string" id="7172612">`emp{}`</span><span class="op" id="7172619">}</span><span class="op" id="7172620">,</span>&nbsp;<span class="comment" id="7172622">//&nbsp;alt{emp{}emp{}}&nbsp;but&nbsp;got&nbsp;factored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172659">{</span><span class="string" id="7172660">`|x|`</span><span class="op" id="7172665">,</span>&nbsp;<span class="string" id="7172667">`alt{emp{}lit{x}emp{}}`</span><span class="op" id="7172690">}</span><span class="op" id="7172691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172694">{</span><span class="string" id="7172695">`.`</span><span class="op" id="7172698">,</span>&nbsp;<span class="string" id="7172700">`dot{}`</span><span class="op" id="7172707">}</span><span class="op" id="7172708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172711">{</span><span class="string" id="7172712">`^`</span><span class="op" id="7172715">,</span>&nbsp;<span class="string" id="7172717">`bol{}`</span><span class="op" id="7172724">}</span><span class="op" id="7172725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172728">{</span><span class="string" id="7172729">`$`</span><span class="op" id="7172732">,</span>&nbsp;<span class="string" id="7172734">`eol{}`</span><span class="op" id="7172741">}</span><span class="op" id="7172742">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172745">{</span><span class="string" id="7172746">`\|`</span><span class="op" id="7172750">,</span>&nbsp;<span class="string" id="7172752">`lit{|}`</span><span class="op" id="7172760">}</span><span class="op" id="7172761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172764">{</span><span class="string" id="7172765">`\(`</span><span class="op" id="7172769">,</span>&nbsp;<span class="string" id="7172771">`lit{(}`</span><span class="op" id="7172779">}</span><span class="op" id="7172780">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172783">{</span><span class="string" id="7172784">`\)`</span><span class="op" id="7172788">,</span>&nbsp;<span class="string" id="7172790">`lit{)}`</span><span class="op" id="7172798">}</span><span class="op" id="7172799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172802">{</span><span class="string" id="7172803">`\*`</span><span class="op" id="7172807">,</span>&nbsp;<span class="string" id="7172809">`lit{*}`</span><span class="op" id="7172817">}</span><span class="op" id="7172818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172821">{</span><span class="string" id="7172822">`\+`</span><span class="op" id="7172826">,</span>&nbsp;<span class="string" id="7172828">`lit{+}`</span><span class="op" id="7172836">}</span><span class="op" id="7172837">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172840">{</span><span class="string" id="7172841">`\?`</span><span class="op" id="7172845">,</span>&nbsp;<span class="string" id="7172847">`lit{?}`</span><span class="op" id="7172855">}</span><span class="op" id="7172856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172859">{</span><span class="string" id="7172860">`{`</span><span class="op" id="7172863">,</span>&nbsp;<span class="string" id="7172865">`lit{{}`</span><span class="op" id="7172873">}</span><span class="op" id="7172874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172877">{</span><span class="string" id="7172878">`}`</span><span class="op" id="7172881">,</span>&nbsp;<span class="string" id="7172883">`lit{}}`</span><span class="op" id="7172891">}</span><span class="op" id="7172892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172895">{</span><span class="string" id="7172896">`\.`</span><span class="op" id="7172900">,</span>&nbsp;<span class="string" id="7172902">`lit{.}`</span><span class="op" id="7172910">}</span><span class="op" id="7172911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172914">{</span><span class="string" id="7172915">`\^`</span><span class="op" id="7172919">,</span>&nbsp;<span class="string" id="7172921">`lit{^}`</span><span class="op" id="7172929">}</span><span class="op" id="7172930">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172933">{</span><span class="string" id="7172934">`\$`</span><span class="op" id="7172938">,</span>&nbsp;<span class="string" id="7172940">`lit{$}`</span><span class="op" id="7172948">}</span><span class="op" id="7172949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172952">{</span><span class="string" id="7172953">`\\`</span><span class="op" id="7172957">,</span>&nbsp;<span class="string" id="7172959">`lit{\}`</span><span class="op" id="7172967">}</span><span class="op" id="7172968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7172971">{</span><span class="string" id="7172972">`[ace]`</span><span class="op" id="7172979">,</span>&nbsp;<span class="string" id="7172981">`cc{0x61&nbsp;0x63&nbsp;0x65}`</span><span class="op" id="7173001">}</span><span class="op" id="7173002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173005">{</span><span class="string" id="7173006">`[abc]`</span><span class="op" id="7173013">,</span>&nbsp;<span class="string" id="7173015">`cc{0x61-0x63}`</span><span class="op" id="7173030">}</span><span class="op" id="7173031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173034">{</span><span class="string" id="7173035">`[a-z]`</span><span class="op" id="7173042">,</span>&nbsp;<span class="string" id="7173044">`cc{0x61-0x7a}`</span><span class="op" id="7173059">}</span><span class="op" id="7173060">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173063">{</span><span class="string" id="7173064">`[a]`</span><span class="op" id="7173069">,</span>&nbsp;<span class="string" id="7173071">`lit{a}`</span><span class="op" id="7173079">}</span><span class="op" id="7173080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173083">{</span><span class="string" id="7173084">`\-`</span><span class="op" id="7173088">,</span>&nbsp;<span class="string" id="7173090">`lit{-}`</span><span class="op" id="7173098">}</span><span class="op" id="7173099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173102">{</span><span class="string" id="7173103">`-`</span><span class="op" id="7173106">,</span>&nbsp;<span class="string" id="7173108">`lit{-}`</span><span class="op" id="7173116">}</span><span class="op" id="7173117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173120">{</span><span class="string" id="7173121">`\_`</span><span class="op" id="7173125">,</span>&nbsp;<span class="string" id="7173127">`lit{_}`</span><span class="op" id="7173135">}</span><span class="op" id="7173136">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173139">{</span><span class="string" id="7173140">`abc`</span><span class="op" id="7173145">,</span>&nbsp;<span class="string" id="7173147">`str{abc}`</span><span class="op" id="7173157">}</span><span class="op" id="7173158">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173161">{</span><span class="string" id="7173162">`abc|def`</span><span class="op" id="7173171">,</span>&nbsp;<span class="string" id="7173173">`alt{str{abc}str{def}}`</span><span class="op" id="7173196">}</span><span class="op" id="7173197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173200">{</span><span class="string" id="7173201">`abc|def|ghi`</span><span class="op" id="7173214">,</span>&nbsp;<span class="string" id="7173216">`alt{str{abc}str{def}str{ghi}}`</span><span class="op" id="7173247">}</span><span class="op" id="7173248">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7173252">//&nbsp;Posix&nbsp;and&nbsp;Perl&nbsp;extensions</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173282">{</span><span class="string" id="7173283">`[[:lower:]]`</span><span class="op" id="7173296">,</span>&nbsp;<span class="string" id="7173298">`cc{0x61-0x7a}`</span><span class="op" id="7173313">}</span><span class="op" id="7173314">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173317">{</span><span class="string" id="7173318">`[a-z]`</span><span class="op" id="7173325">,</span>&nbsp;<span class="string" id="7173327">`cc{0x61-0x7a}`</span><span class="op" id="7173342">}</span><span class="op" id="7173343">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173346">{</span><span class="string" id="7173347">`[^[:lower:]]`</span><span class="op" id="7173361">,</span>&nbsp;<span class="string" id="7173363">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7173391">}</span><span class="op" id="7173392">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173395">{</span><span class="string" id="7173396">`[[:^lower:]]`</span><span class="op" id="7173410">,</span>&nbsp;<span class="string" id="7173412">`cc{0x0-0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7173440">}</span><span class="op" id="7173441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173444">{</span><span class="string" id="7173445">`(?i)[[:lower:]]`</span><span class="op" id="7173462">,</span>&nbsp;<span class="string" id="7173464">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7173502">}</span><span class="op" id="7173503">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173506">{</span><span class="string" id="7173507">`(?i)[a-z]`</span><span class="op" id="7173518">,</span>&nbsp;<span class="string" id="7173520">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7173558">}</span><span class="op" id="7173559">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173562">{</span><span class="string" id="7173563">`(?i)[^[:lower:]]`</span><span class="op" id="7173581">,</span>&nbsp;<span class="string" id="7173583">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7173647">}</span><span class="op" id="7173648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173651">{</span><span class="string" id="7173652">`(?i)[[:^lower:]]`</span><span class="op" id="7173670">,</span>&nbsp;<span class="string" id="7173672">`cc{0x0-0x40&nbsp;0x5b-0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7173736">}</span><span class="op" id="7173737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173740">{</span><span class="string" id="7173741">`\d`</span><span class="op" id="7173745">,</span>&nbsp;<span class="string" id="7173747">`cc{0x30-0x39}`</span><span class="op" id="7173762">}</span><span class="op" id="7173763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173766">{</span><span class="string" id="7173767">`\D`</span><span class="op" id="7173771">,</span>&nbsp;<span class="string" id="7173773">`cc{0x0-0x2f&nbsp;0x3a-0x10ffff}`</span><span class="op" id="7173801">}</span><span class="op" id="7173802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173805">{</span><span class="string" id="7173806">`\s`</span><span class="op" id="7173810">,</span>&nbsp;<span class="string" id="7173812">`cc{0x9-0xa&nbsp;0xc-0xd&nbsp;0x20}`</span><span class="op" id="7173838">}</span><span class="op" id="7173839">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173842">{</span><span class="string" id="7173843">`\S`</span><span class="op" id="7173847">,</span>&nbsp;<span class="string" id="7173849">`cc{0x0-0x8&nbsp;0xb&nbsp;0xe-0x1f&nbsp;0x21-0x10ffff}`</span><span class="op" id="7173889">}</span><span class="op" id="7173890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173893">{</span><span class="string" id="7173894">`\w`</span><span class="op" id="7173898">,</span>&nbsp;<span class="string" id="7173900">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a}`</span><span class="op" id="7173940">}</span><span class="op" id="7173941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7173944">{</span><span class="string" id="7173945">`\W`</span><span class="op" id="7173949">,</span>&nbsp;<span class="string" id="7173951">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x10ffff}`</span><span class="op" id="7174004">}</span><span class="op" id="7174005">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174008">{</span><span class="string" id="7174009">`(?i)\w`</span><span class="op" id="7174017">,</span>&nbsp;<span class="string" id="7174019">`cc{0x30-0x39&nbsp;0x41-0x5a&nbsp;0x5f&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7174072">}</span><span class="op" id="7174073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174076">{</span><span class="string" id="7174077">`(?i)\W`</span><span class="op" id="7174085">,</span>&nbsp;<span class="string" id="7174087">`cc{0x0-0x2f&nbsp;0x3a-0x40&nbsp;0x5b-0x5e&nbsp;0x60&nbsp;0x7b-0x17e&nbsp;0x180-0x2129&nbsp;0x212b-0x10ffff}`</span><span class="op" id="7174166">}</span><span class="op" id="7174167">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174170">{</span><span class="string" id="7174171">`[^\\]`</span><span class="op" id="7174178">,</span>&nbsp;<span class="string" id="7174180">`cc{0x0-0x5b&nbsp;0x5d-0x10ffff}`</span><span class="op" id="7174208">}</span><span class="op" id="7174209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7174212">//&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;`\C`,&nbsp;`byte{}`&nbsp;},&nbsp;&nbsp;//&nbsp;probably&nbsp;never</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7174256">//&nbsp;Unicode,&nbsp;negatives,&nbsp;and&nbsp;a&nbsp;double&nbsp;negative.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174303">{</span><span class="string" id="7174304">`\p{Braille}`</span><span class="op" id="7174317">,</span>&nbsp;<span class="string" id="7174319">`cc{0x2800-0x28ff}`</span><span class="op" id="7174338">}</span><span class="op" id="7174339">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174342">{</span><span class="string" id="7174343">`\P{Braille}`</span><span class="op" id="7174356">,</span>&nbsp;<span class="string" id="7174358">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7174390">}</span><span class="op" id="7174391">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174394">{</span><span class="string" id="7174395">`\p{^Braille}`</span><span class="op" id="7174409">,</span>&nbsp;<span class="string" id="7174411">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7174443">}</span><span class="op" id="7174444">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174447">{</span><span class="string" id="7174448">`\P{^Braille}`</span><span class="op" id="7174462">,</span>&nbsp;<span class="string" id="7174464">`cc{0x2800-0x28ff}`</span><span class="op" id="7174483">}</span><span class="op" id="7174484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174487">{</span><span class="string" id="7174488">`\pZ`</span><span class="op" id="7174493">,</span>&nbsp;<span class="string" id="7174495">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7174566">}</span><span class="op" id="7174567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174570">{</span><span class="string" id="7174571">`[\p{Braille}]`</span><span class="op" id="7174586">,</span>&nbsp;<span class="string" id="7174588">`cc{0x2800-0x28ff}`</span><span class="op" id="7174607">}</span><span class="op" id="7174608">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174611">{</span><span class="string" id="7174612">`[\P{Braille}]`</span><span class="op" id="7174627">,</span>&nbsp;<span class="string" id="7174629">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7174661">}</span><span class="op" id="7174662">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174665">{</span><span class="string" id="7174666">`[\p{^Braille}]`</span><span class="op" id="7174682">,</span>&nbsp;<span class="string" id="7174684">`cc{0x0-0x27ff&nbsp;0x2900-0x10ffff}`</span><span class="op" id="7174716">}</span><span class="op" id="7174717">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174720">{</span><span class="string" id="7174721">`[\P{^Braille}]`</span><span class="op" id="7174737">,</span>&nbsp;<span class="string" id="7174739">`cc{0x2800-0x28ff}`</span><span class="op" id="7174758">}</span><span class="op" id="7174759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174762">{</span><span class="string" id="7174763">`[\pZ]`</span><span class="op" id="7174770">,</span>&nbsp;<span class="string" id="7174772">`cc{0x20&nbsp;0xa0&nbsp;0x1680&nbsp;0x2000-0x200a&nbsp;0x2028-0x2029&nbsp;0x202f&nbsp;0x205f&nbsp;0x3000}`</span><span class="op" id="7174843">}</span><span class="op" id="7174844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174847">{</span><span class="string" id="7174848">`\p{Lu}`</span><span class="op" id="7174856">,</span>&nbsp;<span class="ident" id="7174858">mkCharClass</span><span class="op" id="7174869">(</span><span class="ident" id="7174870">unicode</span><span class="op" id="7174877">.</span><span class="ident" id="7174878">IsUpper</span><span class="op" id="7174885">)</span><span class="op" id="7174886">}</span><span class="op" id="7174887">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174890">{</span><span class="string" id="7174891">`[\p{Lu}]`</span><span class="op" id="7174901">,</span>&nbsp;<span class="ident" id="7174903">mkCharClass</span><span class="op" id="7174914">(</span><span class="ident" id="7174915">unicode</span><span class="op" id="7174922">.</span><span class="ident" id="7174923">IsUpper</span><span class="op" id="7174930">)</span><span class="op" id="7174931">}</span><span class="op" id="7174932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174935">{</span><span class="string" id="7174936">`(?i)[\p{Lu}]`</span><span class="op" id="7174950">,</span>&nbsp;<span class="ident" id="7174952">mkCharClass</span><span class="op" id="7174963">(</span><span class="ident" id="7174964">isUpperFold</span><span class="op" id="7174975">)</span><span class="op" id="7174976">}</span><span class="op" id="7174977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7174980">{</span><span class="string" id="7174981">`\p{Any}`</span><span class="op" id="7174990">,</span>&nbsp;<span class="string" id="7174992">`dot{}`</span><span class="op" id="7174999">}</span><span class="op" id="7175000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175003">{</span><span class="string" id="7175004">`\p{^Any}`</span><span class="op" id="7175014">,</span>&nbsp;<span class="string" id="7175016">`cc{}`</span><span class="op" id="7175022">}</span><span class="op" id="7175023">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7175027">//&nbsp;Hex,&nbsp;octal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175043">{</span><span class="string" id="7175044">`[\012-\234]\141`</span><span class="op" id="7175061">,</span>&nbsp;<span class="string" id="7175063">`cat{cc{0xa-0x9c}lit{a}}`</span><span class="op" id="7175088">}</span><span class="op" id="7175089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175092">{</span><span class="string" id="7175093">`[\x{41}-\x7a]\x61`</span><span class="op" id="7175112">,</span>&nbsp;<span class="string" id="7175114">`cat{cc{0x41-0x7a}lit{a}}`</span><span class="op" id="7175140">}</span><span class="op" id="7175141">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7175145">//&nbsp;More&nbsp;interesting&nbsp;regular&nbsp;expressions.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175187">{</span><span class="string" id="7175188">`a{,2}`</span><span class="op" id="7175195">,</span>&nbsp;<span class="string" id="7175197">`str{a{,2}}`</span><span class="op" id="7175209">}</span><span class="op" id="7175210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175213">{</span><span class="string" id="7175214">`\.\^\$\\`</span><span class="op" id="7175224">,</span>&nbsp;<span class="string" id="7175226">`str{.^$\}`</span><span class="op" id="7175237">}</span><span class="op" id="7175238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175241">{</span><span class="string" id="7175242">`[a-zABC]`</span><span class="op" id="7175252">,</span>&nbsp;<span class="string" id="7175254">`cc{0x41-0x43&nbsp;0x61-0x7a}`</span><span class="op" id="7175279">}</span><span class="op" id="7175280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175283">{</span><span class="string" id="7175284">`[^a]`</span><span class="op" id="7175290">,</span>&nbsp;<span class="string" id="7175292">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7175320">}</span><span class="op" id="7175321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175324">{</span><span class="string" id="7175325">`[α-ε☺]`</span><span class="op" id="7175337">,</span>&nbsp;<span class="string" id="7175339">`cc{0x3b1-0x3b5&nbsp;0x263a}`</span><span class="op" id="7175363">}</span><span class="op" id="7175364">,</span>&nbsp;<span class="comment" id="7175366">//&nbsp;utf-8</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175376">{</span><span class="string" id="7175377">`a*{`</span><span class="op" id="7175382">,</span>&nbsp;<span class="string" id="7175384">`cat{star{lit{a}}lit{{}}`</span><span class="op" id="7175409">}</span><span class="op" id="7175410">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7175414">//&nbsp;Test&nbsp;precedences</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175435">{</span><span class="string" id="7175436">`(?:ab)*`</span><span class="op" id="7175445">,</span>&nbsp;<span class="string" id="7175447">`star{str{ab}}`</span><span class="op" id="7175462">}</span><span class="op" id="7175463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175466">{</span><span class="string" id="7175467">`(ab)*`</span><span class="op" id="7175474">,</span>&nbsp;<span class="string" id="7175476">`star{cap{str{ab}}}`</span><span class="op" id="7175496">}</span><span class="op" id="7175497">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175500">{</span><span class="string" id="7175501">`ab|cd`</span><span class="op" id="7175508">,</span>&nbsp;<span class="string" id="7175510">`alt{str{ab}str{cd}}`</span><span class="op" id="7175531">}</span><span class="op" id="7175532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175535">{</span><span class="string" id="7175536">`a(b|c)d`</span><span class="op" id="7175545">,</span>&nbsp;<span class="string" id="7175547">`cat{lit{a}cap{cc{0x62-0x63}}lit{d}}`</span><span class="op" id="7175584">}</span><span class="op" id="7175585">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7175589">//&nbsp;Test&nbsp;flattening.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175610">{</span><span class="string" id="7175611">`(?:a)`</span><span class="op" id="7175618">,</span>&nbsp;<span class="string" id="7175620">`lit{a}`</span><span class="op" id="7175628">}</span><span class="op" id="7175629">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175632">{</span><span class="string" id="7175633">`(?:ab)(?:cd)`</span><span class="op" id="7175647">,</span>&nbsp;<span class="string" id="7175649">`str{abcd}`</span><span class="op" id="7175660">}</span><span class="op" id="7175661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175664">{</span><span class="string" id="7175665">`(?:a+b+)(?:c+d+)`</span><span class="op" id="7175683">,</span>&nbsp;<span class="string" id="7175685">`cat{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7175740">}</span><span class="op" id="7175741">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175744">{</span><span class="string" id="7175745">`(?:a+|b+)|(?:c+|d+)`</span><span class="op" id="7175766">,</span>&nbsp;<span class="string" id="7175768">`alt{plus{lit{a}}plus{lit{b}}plus{lit{c}}plus{lit{d}}}`</span><span class="op" id="7175823">}</span><span class="op" id="7175824">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175827">{</span><span class="string" id="7175828">`(?:a|b)|(?:c|d)`</span><span class="op" id="7175845">,</span>&nbsp;<span class="string" id="7175847">`cc{0x61-0x64}`</span><span class="op" id="7175862">}</span><span class="op" id="7175863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175866">{</span><span class="string" id="7175867">`a|.`</span><span class="op" id="7175872">,</span>&nbsp;<span class="string" id="7175874">`dot{}`</span><span class="op" id="7175881">}</span><span class="op" id="7175882">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175885">{</span><span class="string" id="7175886">`.|a`</span><span class="op" id="7175891">,</span>&nbsp;<span class="string" id="7175893">`dot{}`</span><span class="op" id="7175900">}</span><span class="op" id="7175901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175904">{</span><span class="string" id="7175905">`(?:[abc]|A|Z|hello|world)`</span><span class="op" id="7175932">,</span>&nbsp;<span class="string" id="7175934">`alt{cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}str{hello}str{world}}`</span><span class="op" id="7175984">}</span><span class="op" id="7175985">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7175988">{</span><span class="string" id="7175989">`(?:[abc]|A|Z)`</span><span class="op" id="7176004">,</span>&nbsp;<span class="string" id="7176006">`cc{0x41&nbsp;0x5a&nbsp;0x61-0x63}`</span><span class="op" id="7176031">}</span><span class="op" id="7176032">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176036">//&nbsp;Test&nbsp;Perl&nbsp;quoted&nbsp;literals</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176066">{</span><span class="string" id="7176067">`\Q+|*?{[\E`</span><span class="op" id="7176079">,</span>&nbsp;<span class="string" id="7176081">`str{+|*?{[}`</span><span class="op" id="7176094">}</span><span class="op" id="7176095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176098">{</span><span class="string" id="7176099">`\Q+\E+`</span><span class="op" id="7176107">,</span>&nbsp;<span class="string" id="7176109">`plus{lit{+}}`</span><span class="op" id="7176123">}</span><span class="op" id="7176124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176127">{</span><span class="string" id="7176128">`\Q\\E`</span><span class="op" id="7176135">,</span>&nbsp;<span class="string" id="7176137">`lit{\}`</span><span class="op" id="7176145">}</span><span class="op" id="7176146">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176149">{</span><span class="string" id="7176150">`\Q\\\E`</span><span class="op" id="7176158">,</span>&nbsp;<span class="string" id="7176160">`str{\\}`</span><span class="op" id="7176169">}</span><span class="op" id="7176170">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176174">//&nbsp;Test&nbsp;Perl&nbsp;\A&nbsp;and&nbsp;\z</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176198">{</span><span class="string" id="7176199">`(?m)^`</span><span class="op" id="7176206">,</span>&nbsp;<span class="string" id="7176208">`bol{}`</span><span class="op" id="7176215">}</span><span class="op" id="7176216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176219">{</span><span class="string" id="7176220">`(?m)$`</span><span class="op" id="7176227">,</span>&nbsp;<span class="string" id="7176229">`eol{}`</span><span class="op" id="7176236">}</span><span class="op" id="7176237">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176240">{</span><span class="string" id="7176241">`(?-m)^`</span><span class="op" id="7176249">,</span>&nbsp;<span class="string" id="7176251">`bot{}`</span><span class="op" id="7176258">}</span><span class="op" id="7176259">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176262">{</span><span class="string" id="7176263">`(?-m)$`</span><span class="op" id="7176271">,</span>&nbsp;<span class="string" id="7176273">`eot{}`</span><span class="op" id="7176280">}</span><span class="op" id="7176281">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176284">{</span><span class="string" id="7176285">`(?m)\A`</span><span class="op" id="7176293">,</span>&nbsp;<span class="string" id="7176295">`bot{}`</span><span class="op" id="7176302">}</span><span class="op" id="7176303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176306">{</span><span class="string" id="7176307">`(?m)\z`</span><span class="op" id="7176315">,</span>&nbsp;<span class="string" id="7176317">`eot{\z}`</span><span class="op" id="7176326">}</span><span class="op" id="7176327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176330">{</span><span class="string" id="7176331">`(?-m)\A`</span><span class="op" id="7176340">,</span>&nbsp;<span class="string" id="7176342">`bot{}`</span><span class="op" id="7176349">}</span><span class="op" id="7176350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176353">{</span><span class="string" id="7176354">`(?-m)\z`</span><span class="op" id="7176363">,</span>&nbsp;<span class="string" id="7176365">`eot{\z}`</span><span class="op" id="7176374">}</span><span class="op" id="7176375">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176379">//&nbsp;Test&nbsp;named&nbsp;captures</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176403">{</span><span class="string" id="7176404">`(?P&lt;name&gt;a)`</span><span class="op" id="7176417">,</span>&nbsp;<span class="string" id="7176419">`cap{name:lit{a}}`</span><span class="op" id="7176437">}</span><span class="op" id="7176438">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176442">//&nbsp;Case-folded&nbsp;literals</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176467">{</span><span class="string" id="7176468">`[Aa]`</span><span class="op" id="7176474">,</span>&nbsp;<span class="string" id="7176476">`litfold{A}`</span><span class="op" id="7176488">}</span><span class="op" id="7176489">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176492">{</span><span class="string" id="7176493">`[\x{100}\x{101}]`</span><span class="op" id="7176511">,</span>&nbsp;<span class="string" id="7176513">`litfold{Ā}`</span><span class="op" id="7176526">}</span><span class="op" id="7176527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176530">{</span><span class="string" id="7176531">`[Δδ]`</span><span class="op" id="7176539">,</span>&nbsp;<span class="string" id="7176541">`litfold{Δ}`</span><span class="op" id="7176554">}</span><span class="op" id="7176555">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176559">//&nbsp;Strings</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176571">{</span><span class="string" id="7176572">`abcde`</span><span class="op" id="7176579">,</span>&nbsp;<span class="string" id="7176581">`str{abcde}`</span><span class="op" id="7176593">}</span><span class="op" id="7176594">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176597">{</span><span class="string" id="7176598">`[Aa][Bb]cd`</span><span class="op" id="7176610">,</span>&nbsp;<span class="string" id="7176612">`cat{strfold{AB}str{cd}}`</span><span class="op" id="7176637">}</span><span class="op" id="7176638">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176642">//&nbsp;Factoring.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176657">{</span><span class="string" id="7176658">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7176679">,</span>&nbsp;<span class="string" id="7176681">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7176760">}</span><span class="op" id="7176761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176764">{</span><span class="string" id="7176765">`ax+y|ax+z|ay+w`</span><span class="op" id="7176781">,</span>&nbsp;<span class="string" id="7176783">`cat{lit{a}alt{cat{plus{lit{x}}cc{0x79-0x7a}}cat{plus{lit{y}}lit{w}}}}`</span><span class="op" id="7176854">}</span><span class="op" id="7176855">,</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7176859">//&nbsp;Bug&nbsp;fixes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176874">{</span><span class="string" id="7176875">`(?:.)`</span><span class="op" id="7176882">,</span>&nbsp;<span class="string" id="7176884">`dot{}`</span><span class="op" id="7176891">}</span><span class="op" id="7176892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176895">{</span><span class="string" id="7176896">`(?:x|(?:xa))`</span><span class="op" id="7176910">,</span>&nbsp;<span class="string" id="7176912">`cat{lit{x}alt{emp{}lit{a}}}`</span><span class="op" id="7176941">}</span><span class="op" id="7176942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176945">{</span><span class="string" id="7176946">`(?:.|(?:.a))`</span><span class="op" id="7176960">,</span>&nbsp;<span class="string" id="7176962">`cat{dot{}alt{emp{}lit{a}}}`</span><span class="op" id="7176990">}</span><span class="op" id="7176991">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7176994">{</span><span class="string" id="7176995">`(?:A(?:A|a))`</span><span class="op" id="7177009">,</span>&nbsp;<span class="string" id="7177011">`cat{lit{A}litfold{A}}`</span><span class="op" id="7177034">}</span><span class="op" id="7177035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177038">{</span><span class="string" id="7177039">`(?:A|a)`</span><span class="op" id="7177048">,</span>&nbsp;<span class="string" id="7177050">`litfold{A}`</span><span class="op" id="7177062">}</span><span class="op" id="7177063">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177066">{</span><span class="string" id="7177067">`A|(?:A|a)`</span><span class="op" id="7177078">,</span>&nbsp;<span class="string" id="7177080">`litfold{A}`</span><span class="op" id="7177092">}</span><span class="op" id="7177093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177096">{</span><span class="string" id="7177097">`(?s).`</span><span class="op" id="7177104">,</span>&nbsp;<span class="string" id="7177106">`dot{}`</span><span class="op" id="7177113">}</span><span class="op" id="7177114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177117">{</span><span class="string" id="7177118">`(?-s).`</span><span class="op" id="7177126">,</span>&nbsp;<span class="string" id="7177128">`dnl{}`</span><span class="op" id="7177135">}</span><span class="op" id="7177136">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177139">{</span><span class="string" id="7177140">`(?:(?:^).)`</span><span class="op" id="7177152">,</span>&nbsp;<span class="string" id="7177154">`cat{bol{}dot{}}`</span><span class="op" id="7177171">}</span><span class="op" id="7177172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177175">{</span><span class="string" id="7177176">`(?-s)(?:(?:^).)`</span><span class="op" id="7177193">,</span>&nbsp;<span class="string" id="7177195">`cat{bol{}dnl{}}`</span><span class="op" id="7177212">}</span><span class="op" id="7177213">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7177217">//&nbsp;RE2&nbsp;prefix_tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177238">{</span><span class="string" id="7177239">`abc|abd`</span><span class="op" id="7177248">,</span>&nbsp;<span class="string" id="7177250">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7177277">}</span><span class="op" id="7177278">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177281">{</span><span class="string" id="7177282">`a(?:b)c|abd`</span><span class="op" id="7177295">,</span>&nbsp;<span class="string" id="7177297">`cat{str{ab}cc{0x63-0x64}}`</span><span class="op" id="7177324">}</span><span class="op" id="7177325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177328">{</span><span class="string" id="7177329">`abc|abd|aef|bcx|bcy`</span><span class="op" id="7177350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7177354">`alt{cat{lit{a}alt{cat{lit{b}cc{0x63-0x64}}str{ef}}}`</span>&nbsp;<span class="op" id="7177408">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7177413">`cat{str{bc}cc{0x78-0x79}}}`</span><span class="op" id="7177441">}</span><span class="op" id="7177442">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177445">{</span><span class="string" id="7177446">`abc|x|abd`</span><span class="op" id="7177457">,</span>&nbsp;<span class="string" id="7177459">`alt{str{abc}lit{x}str{abd}}`</span><span class="op" id="7177488">}</span><span class="op" id="7177489">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177492">{</span><span class="string" id="7177493">`(?i)abc|ABD`</span><span class="op" id="7177506">,</span>&nbsp;<span class="string" id="7177508">`cat{strfold{AB}cc{0x43-0x44&nbsp;0x63-0x64}}`</span><span class="op" id="7177549">}</span><span class="op" id="7177550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177553">{</span><span class="string" id="7177554">`[ab]c|[ab]d`</span><span class="op" id="7177567">,</span>&nbsp;<span class="string" id="7177569">`cat{cc{0x61-0x62}cc{0x63-0x64}}`</span><span class="op" id="7177602">}</span><span class="op" id="7177603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177606">{</span><span class="string" id="7177607">`(?:xx|yy)c|(?:xx|yy)d`</span><span class="op" id="7177630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7177634">`cat{alt{str{xx}str{yy}}cc{0x63-0x64}}`</span><span class="op" id="7177673">}</span><span class="op" id="7177674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177677">{</span><span class="string" id="7177678">`x{2}|x{2}[0-9]`</span><span class="op" id="7177694">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7177698">`cat{rep{2,2&nbsp;lit{x}}alt{emp{}cc{0x30-0x39}}}`</span><span class="op" id="7177743">}</span><span class="op" id="7177744">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177747">{</span><span class="string" id="7177748">`x{2}y|x{2}[0-9]y`</span><span class="op" id="7177766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7177770">`cat{rep{2,2&nbsp;lit{x}}alt{lit{y}cat{cc{0x30-0x39}lit{y}}}}`</span><span class="op" id="7177827">}</span><span class="op" id="7177828">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7177832">//&nbsp;Valid&nbsp;repetitions.</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177855">{</span><span class="string" id="7177856">`((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}))`</span><span class="op" id="7177906">,</span>&nbsp;<span class="string" id="7177908">``</span><span class="op" id="7177910">}</span><span class="op" id="7177911">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7177914">{</span><span class="string" id="7177915">`((((((((((x{1}){2}){2}){2}){2}){2}){2}){2}){2}){2})`</span><span class="op" id="7177968">,</span>&nbsp;<span class="string" id="7177970">``</span><span class="op" id="7177972">}</span><span class="op" id="7177973">,</span><br>
<span class="lineno"></span><span class="op" id="7177975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7177978">const</span>&nbsp;<span class="ident" id="7177984">testFlags</span>&nbsp;<span class="op" id="7177994">=</span>&nbsp;<span class="ident" id="7177996">MatchNL</span>&nbsp;<span class="op" id="7178004">|</span>&nbsp;<span class="ident" id="7178006">PerlX</span>&nbsp;<span class="op" id="7178012">|</span>&nbsp;<span class="ident" id="7178014">UnicodeGroups</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7178029">func</span>&nbsp;<span class="ident" id="7178034">TestParseSimple</span><span class="op" id="7178049">(</span><span class="ident" id="7178050">t</span>&nbsp;<span class="op" id="7178052">*</span><span class="ident" id="7178053">testing</span><span class="op" id="7178060">.</span><span class="ident" id="7178061">T</span><span class="op" id="7178062">)</span>&nbsp;<span class="op" id="7178064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7178067">testParseDump</span><span class="op" id="7178080">(</span><span class="ident" id="7178081">t</span><span class="op" id="7178082">,</span>&nbsp;<span class="ident" id="7178084">parseTests</span><span class="op" id="7178094">,</span>&nbsp;<span class="ident" id="7178096">testFlags</span><span class="op" id="7178105">)</span><br>
<span class="lineno"></span><span class="op" id="7178107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="7178110">var</span>&nbsp;<span class="ident" id="7178114">foldcaseTests</span>&nbsp;<span class="op" id="7178128">=</span>&nbsp;<span class="op" id="7178130">[</span><span class="op" id="7178131">]</span><span class="ident" id="7178132">parseTest</span><span class="op" id="7178141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178144">{</span><span class="string" id="7178145">`AbCdE`</span><span class="op" id="7178152">,</span>&nbsp;<span class="string" id="7178154">`strfold{ABCDE}`</span><span class="op" id="7178170">}</span><span class="op" id="7178171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178174">{</span><span class="string" id="7178175">`[Aa]`</span><span class="op" id="7178181">,</span>&nbsp;<span class="string" id="7178183">`litfold{A}`</span><span class="op" id="7178195">}</span><span class="op" id="7178196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178199">{</span><span class="string" id="7178200">`a`</span><span class="op" id="7178203">,</span>&nbsp;<span class="string" id="7178205">`litfold{A}`</span><span class="op" id="7178217">}</span><span class="op" id="7178218">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7178222">//&nbsp;0x17F&nbsp;is&nbsp;an&nbsp;old&nbsp;English&nbsp;long&nbsp;s&nbsp;(looks&nbsp;like&nbsp;an&nbsp;f)&nbsp;and&nbsp;folds&nbsp;to&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7178291">//&nbsp;0x212A&nbsp;is&nbsp;the&nbsp;Kelvin&nbsp;symbol&nbsp;and&nbsp;folds&nbsp;to&nbsp;k.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178339">{</span><span class="string" id="7178340">`A[F-g]`</span><span class="op" id="7178348">,</span>&nbsp;<span class="string" id="7178350">`cat{litfold{A}cc{0x41-0x7a&nbsp;0x17f&nbsp;0x212a}}`</span><span class="op" id="7178393">}</span><span class="op" id="7178394">,</span>&nbsp;<span class="comment" id="7178396">//&nbsp;[Aa][A-z...]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178413">{</span><span class="string" id="7178414">`[[:upper:]]`</span><span class="op" id="7178427">,</span>&nbsp;<span class="string" id="7178429">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7178467">}</span><span class="op" id="7178468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178471">{</span><span class="string" id="7178472">`[[:lower:]]`</span><span class="op" id="7178485">,</span>&nbsp;<span class="string" id="7178487">`cc{0x41-0x5a&nbsp;0x61-0x7a&nbsp;0x17f&nbsp;0x212a}`</span><span class="op" id="7178525">}</span><span class="op" id="7178526">,</span><br>
<span class="lineno">225</span><span class="op" id="7178528">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7178531">func</span>&nbsp;<span class="ident" id="7178536">TestParseFoldCase</span><span class="op" id="7178553">(</span><span class="ident" id="7178554">t</span>&nbsp;<span class="op" id="7178556">*</span><span class="ident" id="7178557">testing</span><span class="op" id="7178564">.</span><span class="ident" id="7178565">T</span><span class="op" id="7178566">)</span>&nbsp;<span class="op" id="7178568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7178571">testParseDump</span><span class="op" id="7178584">(</span><span class="ident" id="7178585">t</span><span class="op" id="7178586">,</span>&nbsp;<span class="ident" id="7178588">foldcaseTests</span><span class="op" id="7178601">,</span>&nbsp;<span class="ident" id="7178603">FoldCase</span><span class="op" id="7178611">)</span><br>
<span class="lineno"></span><span class="op" id="7178613">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span><span class="keyword" id="7178616">var</span>&nbsp;<span class="ident" id="7178620">literalTests</span>&nbsp;<span class="op" id="7178633">=</span>&nbsp;<span class="op" id="7178635">[</span><span class="op" id="7178636">]</span><span class="ident" id="7178637">parseTest</span><span class="op" id="7178646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178649">{</span><span class="string" id="7178650">&#34;(|)^$.[*+?]{5,10},\\&#34;</span><span class="op" id="7178672">,</span>&nbsp;<span class="string" id="7178674">&#34;str{(|)^$.[*+?]{5,10},\\}&#34;</span><span class="op" id="7178701">}</span><span class="op" id="7178702">,</span><br>
<span class="lineno"></span><span class="op" id="7178704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7178707">func</span>&nbsp;<span class="ident" id="7178712">TestParseLiteral</span><span class="op" id="7178728">(</span><span class="ident" id="7178729">t</span>&nbsp;<span class="op" id="7178731">*</span><span class="ident" id="7178732">testing</span><span class="op" id="7178739">.</span><span class="ident" id="7178740">T</span><span class="op" id="7178741">)</span>&nbsp;<span class="op" id="7178743">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7178746">testParseDump</span><span class="op" id="7178759">(</span><span class="ident" id="7178760">t</span><span class="op" id="7178761">,</span>&nbsp;<span class="ident" id="7178763">literalTests</span><span class="op" id="7178775">,</span>&nbsp;<span class="ident" id="7178777">Literal</span><span class="op" id="7178784">)</span><br>
<span class="lineno"></span><span class="op" id="7178786">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7178789">var</span>&nbsp;<span class="ident" id="7178793">matchnlTests</span>&nbsp;<span class="op" id="7178806">=</span>&nbsp;<span class="op" id="7178808">[</span><span class="op" id="7178809">]</span><span class="ident" id="7178810">parseTest</span><span class="op" id="7178819">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178822">{</span><span class="string" id="7178823">`.`</span><span class="op" id="7178826">,</span>&nbsp;<span class="string" id="7178828">`dot{}`</span><span class="op" id="7178835">}</span><span class="op" id="7178836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178839">{</span><span class="string" id="7178840">&#34;\n&#34;</span><span class="op" id="7178844">,</span>&nbsp;<span class="string" id="7178846">&#34;lit{\n}&#34;</span><span class="op" id="7178855">}</span><span class="op" id="7178856">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178859">{</span><span class="string" id="7178860">`[^a]`</span><span class="op" id="7178866">,</span>&nbsp;<span class="string" id="7178868">`cc{0x0-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7178896">}</span><span class="op" id="7178897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7178900">{</span><span class="string" id="7178901">`[a\n]`</span><span class="op" id="7178908">,</span>&nbsp;<span class="string" id="7178910">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7178924">}</span><span class="op" id="7178925">,</span><br>
<span class="lineno"></span><span class="op" id="7178927">}</span><br>
<span class="lineno">245</span><br>
<span class="lineno"></span><span class="keyword" id="7178930">func</span>&nbsp;<span class="ident" id="7178935">TestParseMatchNL</span><span class="op" id="7178951">(</span><span class="ident" id="7178952">t</span>&nbsp;<span class="op" id="7178954">*</span><span class="ident" id="7178955">testing</span><span class="op" id="7178962">.</span><span class="ident" id="7178963">T</span><span class="op" id="7178964">)</span>&nbsp;<span class="op" id="7178966">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7178969">testParseDump</span><span class="op" id="7178982">(</span><span class="ident" id="7178983">t</span><span class="op" id="7178984">,</span>&nbsp;<span class="ident" id="7178986">matchnlTests</span><span class="op" id="7178998">,</span>&nbsp;<span class="ident" id="7179000">MatchNL</span><span class="op" id="7179007">)</span><br>
<span class="lineno"></span><span class="op" id="7179009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="7179012">var</span>&nbsp;<span class="ident" id="7179016">nomatchnlTests</span>&nbsp;<span class="op" id="7179031">=</span>&nbsp;<span class="op" id="7179033">[</span><span class="op" id="7179034">]</span><span class="ident" id="7179035">parseTest</span><span class="op" id="7179044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179047">{</span><span class="string" id="7179048">`.`</span><span class="op" id="7179051">,</span>&nbsp;<span class="string" id="7179053">`dnl{}`</span><span class="op" id="7179060">}</span><span class="op" id="7179061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179064">{</span><span class="string" id="7179065">&#34;\n&#34;</span><span class="op" id="7179069">,</span>&nbsp;<span class="string" id="7179071">&#34;lit{\n}&#34;</span><span class="op" id="7179080">}</span><span class="op" id="7179081">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179084">{</span><span class="string" id="7179085">`[^a]`</span><span class="op" id="7179091">,</span>&nbsp;<span class="string" id="7179093">`cc{0x0-0x9&nbsp;0xb-0x60&nbsp;0x62-0x10ffff}`</span><span class="op" id="7179129">}</span><span class="op" id="7179130">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179133">{</span><span class="string" id="7179134">`[a\n]`</span><span class="op" id="7179141">,</span>&nbsp;<span class="string" id="7179143">`cc{0xa&nbsp;0x61}`</span><span class="op" id="7179157">}</span><span class="op" id="7179158">,</span><br>
<span class="lineno">255</span><span class="op" id="7179160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7179163">func</span>&nbsp;<span class="ident" id="7179168">TestParseNoMatchNL</span><span class="op" id="7179186">(</span><span class="ident" id="7179187">t</span>&nbsp;<span class="op" id="7179189">*</span><span class="ident" id="7179190">testing</span><span class="op" id="7179197">.</span><span class="ident" id="7179198">T</span><span class="op" id="7179199">)</span>&nbsp;<span class="op" id="7179201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179204">testParseDump</span><span class="op" id="7179217">(</span><span class="ident" id="7179218">t</span><span class="op" id="7179219">,</span>&nbsp;<span class="ident" id="7179221">nomatchnlTests</span><span class="op" id="7179235">,</span>&nbsp;<span class="num" id="7179237">0</span><span class="op" id="7179238">)</span><br>
<span class="lineno"></span><span class="op" id="7179240">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="7179243">//&nbsp;Test&nbsp;Parse&nbsp;-&gt;&nbsp;Dump.</span><br>
<span class="lineno"></span><span class="keyword" id="7179266">func</span>&nbsp;<span class="ident" id="7179271">testParseDump</span><span class="op" id="7179284">(</span><span class="ident" id="7179285">t</span>&nbsp;<span class="op" id="7179287">*</span><span class="ident" id="7179288">testing</span><span class="op" id="7179295">.</span><span class="ident" id="7179296">T</span><span class="op" id="7179297">,</span>&nbsp;<span class="ident" id="7179299">tests</span>&nbsp;<span class="op" id="7179305">[</span><span class="op" id="7179306">]</span><span class="ident" id="7179307">parseTest</span><span class="op" id="7179316">,</span>&nbsp;<span class="ident" id="7179318">flags</span>&nbsp;<span class="ident" id="7179324">Flags</span><span class="op" id="7179329">)</span>&nbsp;<span class="op" id="7179331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179334">for</span>&nbsp;<span class="ident" id="7179338">_</span><span class="op" id="7179339">,</span>&nbsp;<span class="ident" id="7179341">tt</span>&nbsp;<span class="op" id="7179344">:=</span>&nbsp;<span class="keyword" id="7179347">range</span>&nbsp;<span class="ident" id="7179353">tests</span>&nbsp;<span class="op" id="7179359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179363">re</span><span class="op" id="7179365">,</span>&nbsp;<span class="ident" id="7179367">err</span>&nbsp;<span class="op" id="7179371">:=</span>&nbsp;<span class="ident" id="7179374">Parse</span><span class="op" id="7179379">(</span><span class="ident" id="7179380">tt</span><span class="op" id="7179382">.</span><span class="ident" id="7179383">Regexp</span><span class="op" id="7179389">,</span>&nbsp;<span class="ident" id="7179391">flags</span><span class="op" id="7179396">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179400">if</span>&nbsp;<span class="ident" id="7179403">err</span>&nbsp;<span class="op" id="7179407">!=</span>&nbsp;<span class="ident" id="7179410">nil</span>&nbsp;<span class="op" id="7179414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179419">t</span><span class="op" id="7179420">.</span><span class="ident" id="7179421">Errorf</span><span class="op" id="7179427">(</span><span class="string" id="7179428">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7179444">,</span>&nbsp;<span class="ident" id="7179446">tt</span><span class="op" id="7179448">.</span><span class="ident" id="7179449">Regexp</span><span class="op" id="7179455">,</span>&nbsp;<span class="ident" id="7179457">err</span><span class="op" id="7179460">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179465">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179480">if</span>&nbsp;<span class="ident" id="7179483">tt</span><span class="op" id="7179485">.</span><span class="ident" id="7179486">Dump</span>&nbsp;<span class="op" id="7179491">==</span>&nbsp;<span class="string" id="7179494">&#34;&#34;</span>&nbsp;<span class="op" id="7179497">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7179502">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179545">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179560">d</span>&nbsp;<span class="op" id="7179562">:=</span>&nbsp;<span class="ident" id="7179565">dump</span><span class="op" id="7179569">(</span><span class="ident" id="7179570">re</span><span class="op" id="7179572">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179576">if</span>&nbsp;<span class="ident" id="7179579">d</span>&nbsp;<span class="op" id="7179581">!=</span>&nbsp;<span class="ident" id="7179584">tt</span><span class="op" id="7179586">.</span><span class="ident" id="7179587">Dump</span>&nbsp;<span class="op" id="7179592">{</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179597">t</span><span class="op" id="7179598">.</span><span class="ident" id="7179599">Errorf</span><span class="op" id="7179605">(</span><span class="string" id="7179606">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7179640">,</span>&nbsp;<span class="ident" id="7179642">tt</span><span class="op" id="7179644">.</span><span class="ident" id="7179645">Regexp</span><span class="op" id="7179651">,</span>&nbsp;<span class="ident" id="7179653">d</span><span class="op" id="7179654">,</span>&nbsp;<span class="ident" id="7179656">tt</span><span class="op" id="7179658">.</span><span class="ident" id="7179659">Dump</span><span class="op" id="7179663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7179670">}</span><br>
<span class="lineno"></span><span class="op" id="7179672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="comment" id="7179675">//&nbsp;dump&nbsp;prints&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;regexp&nbsp;showing</span><br>
<span class="lineno"></span><span class="comment" id="7179736">//&nbsp;the&nbsp;structure&nbsp;explicitly.</span><br>
<span class="lineno"></span><span class="keyword" id="7179765">func</span>&nbsp;<span class="ident" id="7179770">dump</span><span class="op" id="7179774">(</span><span class="ident" id="7179775">re</span>&nbsp;<span class="op" id="7179778">*</span><span class="ident" id="7179779">Regexp</span><span class="op" id="7179785">)</span>&nbsp;<span class="builtintype" id="7179787">string</span>&nbsp;<span class="op" id="7179794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179797">var</span>&nbsp;<span class="ident" id="7179801">b</span>&nbsp;<span class="ident" id="7179803">bytes</span><span class="op" id="7179808">.</span><span class="ident" id="7179809">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179817">dumpRegexp</span><span class="op" id="7179827">(</span><span class="op" id="7179828">&amp;</span><span class="ident" id="7179829">b</span><span class="op" id="7179830">,</span>&nbsp;<span class="ident" id="7179832">re</span><span class="op" id="7179834">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7179837">return</span>&nbsp;<span class="ident" id="7179844">b</span><span class="op" id="7179845">.</span><span class="ident" id="7179846">String</span><span class="op" id="7179852">(</span><span class="op" id="7179853">)</span><br>
<span class="lineno"></span><span class="op" id="7179855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7179858">var</span>&nbsp;<span class="ident" id="7179862">opNames</span>&nbsp;<span class="op" id="7179870">=</span>&nbsp;<span class="op" id="7179872">[</span><span class="op" id="7179873">]</span><span class="builtintype" id="7179874">string</span><span class="op" id="7179880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179883">OpNoMatch</span><span class="op" id="7179892">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7179901">&#34;no&#34;</span><span class="op" id="7179905">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179908">OpEmptyMatch</span><span class="op" id="7179920">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7179926">&#34;emp&#34;</span><span class="op" id="7179931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179934">OpLiteral</span><span class="op" id="7179943">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7179952">&#34;lit&#34;</span><span class="op" id="7179957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179960">OpCharClass</span><span class="op" id="7179971">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7179978">&#34;cc&#34;</span><span class="op" id="7179982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7179985">OpAnyCharNotNL</span><span class="op" id="7179999">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7180003">&#34;dnl&#34;</span><span class="op" id="7180008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180011">OpAnyChar</span><span class="op" id="7180020">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180029">&#34;dot&#34;</span><span class="op" id="7180034">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180037">OpBeginLine</span><span class="op" id="7180048">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180055">&#34;bol&#34;</span><span class="op" id="7180060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180063">OpEndLine</span><span class="op" id="7180072">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180081">&#34;eol&#34;</span><span class="op" id="7180086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180089">OpBeginText</span><span class="op" id="7180100">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180107">&#34;bot&#34;</span><span class="op" id="7180112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180115">OpEndText</span><span class="op" id="7180124">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180133">&#34;eot&#34;</span><span class="op" id="7180138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180141">OpWordBoundary</span><span class="op" id="7180155">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7180159">&#34;wb&#34;</span><span class="op" id="7180163">,</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180166">OpNoWordBoundary</span><span class="op" id="7180182">:</span>&nbsp;<span class="string" id="7180184">&#34;nwb&#34;</span><span class="op" id="7180189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180192">OpCapture</span><span class="op" id="7180201">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180210">&#34;cap&#34;</span><span class="op" id="7180215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180218">OpStar</span><span class="op" id="7180224">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180236">&#34;star&#34;</span><span class="op" id="7180242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180245">OpPlus</span><span class="op" id="7180251">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180263">&#34;plus&#34;</span><span class="op" id="7180269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180272">OpQuest</span><span class="op" id="7180279">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180290">&#34;que&#34;</span><span class="op" id="7180295">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180298">OpRepeat</span><span class="op" id="7180306">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180316">&#34;rep&#34;</span><span class="op" id="7180321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180324">OpConcat</span><span class="op" id="7180332">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180342">&#34;cat&#34;</span><span class="op" id="7180347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180350">OpAlternate</span><span class="op" id="7180361">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7180368">&#34;alt&#34;</span><span class="op" id="7180373">,</span><br>
<span class="lineno"></span><span class="op" id="7180375">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="comment" id="7180378">//&nbsp;dumpRegexp&nbsp;writes&nbsp;an&nbsp;encoding&nbsp;of&nbsp;the&nbsp;syntax&nbsp;tree&nbsp;for&nbsp;the&nbsp;regexp&nbsp;re&nbsp;to&nbsp;b.</span><br>
<span class="lineno"></span><span class="comment" id="7180454">//&nbsp;It&nbsp;is&nbsp;used&nbsp;during&nbsp;testing&nbsp;to&nbsp;distinguish&nbsp;between&nbsp;parses&nbsp;that&nbsp;might&nbsp;print</span><br>
<span class="lineno"></span><span class="comment" id="7180530">//&nbsp;the&nbsp;same&nbsp;using&nbsp;re&#39;s&nbsp;String&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="7180568">func</span>&nbsp;<span class="ident" id="7180573">dumpRegexp</span><span class="op" id="7180583">(</span><span class="ident" id="7180584">b</span>&nbsp;<span class="op" id="7180586">*</span><span class="ident" id="7180587">bytes</span><span class="op" id="7180592">.</span><span class="ident" id="7180593">Buffer</span><span class="op" id="7180599">,</span>&nbsp;<span class="ident" id="7180601">re</span>&nbsp;<span class="op" id="7180604">*</span><span class="ident" id="7180605">Regexp</span><span class="op" id="7180611">)</span>&nbsp;<span class="op" id="7180613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180616">if</span>&nbsp;<span class="builtintype" id="7180619">int</span><span class="op" id="7180622">(</span><span class="ident" id="7180623">re</span><span class="op" id="7180625">.</span><span class="ident" id="7180626">Op</span><span class="op" id="7180628">)</span>&nbsp;<span class="op" id="7180630">&gt;=</span>&nbsp;<span class="builtinfunc" id="7180633">len</span><span class="op" id="7180636">(</span><span class="ident" id="7180637">opNames</span><span class="op" id="7180644">)</span>&nbsp;<span class="op" id="7180646">||</span>&nbsp;<span class="ident" id="7180649">opNames</span><span class="op" id="7180656">[</span><span class="ident" id="7180657">re</span><span class="op" id="7180659">.</span><span class="ident" id="7180660">Op</span><span class="op" id="7180662">]</span>&nbsp;<span class="op" id="7180664">==</span>&nbsp;<span class="string" id="7180667">&#34;&#34;</span>&nbsp;<span class="op" id="7180670">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180674">fmt</span><span class="op" id="7180677">.</span><span class="ident" id="7180678">Fprintf</span><span class="op" id="7180685">(</span><span class="ident" id="7180686">b</span><span class="op" id="7180687">,</span>&nbsp;<span class="string" id="7180689">&#34;op%d&#34;</span><span class="op" id="7180695">,</span>&nbsp;<span class="ident" id="7180697">re</span><span class="op" id="7180699">.</span><span class="ident" id="7180700">Op</span><span class="op" id="7180702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7180705">}</span>&nbsp;<span class="keyword" id="7180707">else</span>&nbsp;<span class="op" id="7180712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180716">switch</span>&nbsp;<span class="ident" id="7180723">re</span><span class="op" id="7180725">.</span><span class="ident" id="7180726">Op</span>&nbsp;<span class="op" id="7180729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180733">default</span><span class="op" id="7180740">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180745">b</span><span class="op" id="7180746">.</span><span class="ident" id="7180747">WriteString</span><span class="op" id="7180758">(</span><span class="ident" id="7180759">opNames</span><span class="op" id="7180766">[</span><span class="ident" id="7180767">re</span><span class="op" id="7180769">.</span><span class="ident" id="7180770">Op</span><span class="op" id="7180772">]</span><span class="op" id="7180773">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180777">case</span>&nbsp;<span class="ident" id="7180782">OpStar</span><span class="op" id="7180788">,</span>&nbsp;<span class="ident" id="7180790">OpPlus</span><span class="op" id="7180796">,</span>&nbsp;<span class="ident" id="7180798">OpQuest</span><span class="op" id="7180805">,</span>&nbsp;<span class="ident" id="7180807">OpRepeat</span><span class="op" id="7180815">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180820">if</span>&nbsp;<span class="ident" id="7180823">re</span><span class="op" id="7180825">.</span><span class="ident" id="7180826">Flags</span><span class="op" id="7180831">&amp;</span><span class="ident" id="7180832">NonGreedy</span>&nbsp;<span class="op" id="7180842">!=</span>&nbsp;<span class="num" id="7180845">0</span>&nbsp;<span class="op" id="7180847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180853">b</span><span class="op" id="7180854">.</span><span class="ident" id="7180855">WriteByte</span><span class="op" id="7180864">(</span><span class="string" id="7180865">&#39;n&#39;</span><span class="op" id="7180868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7180873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180878">b</span><span class="op" id="7180879">.</span><span class="ident" id="7180880">WriteString</span><span class="op" id="7180891">(</span><span class="ident" id="7180892">opNames</span><span class="op" id="7180899">[</span><span class="ident" id="7180900">re</span><span class="op" id="7180902">.</span><span class="ident" id="7180903">Op</span><span class="op" id="7180905">]</span><span class="op" id="7180906">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180910">case</span>&nbsp;<span class="ident" id="7180915">OpLiteral</span><span class="op" id="7180924">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7180929">if</span>&nbsp;<span class="builtinfunc" id="7180932">len</span><span class="op" id="7180935">(</span><span class="ident" id="7180936">re</span><span class="op" id="7180938">.</span><span class="ident" id="7180939">Rune</span><span class="op" id="7180943">)</span>&nbsp;<span class="op" id="7180945">&gt;</span>&nbsp;<span class="num" id="7180947">1</span>&nbsp;<span class="op" id="7180949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180955">b</span><span class="op" id="7180956">.</span><span class="ident" id="7180957">WriteString</span><span class="op" id="7180968">(</span><span class="string" id="7180969">&#34;str&#34;</span><span class="op" id="7180974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7180979">}</span>&nbsp;<span class="keyword" id="7180981">else</span>&nbsp;<span class="op" id="7180986">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7180992">b</span><span class="op" id="7180993">.</span><span class="ident" id="7180994">WriteString</span><span class="op" id="7181005">(</span><span class="string" id="7181006">&#34;lit&#34;</span><span class="op" id="7181011">)</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181021">if</span>&nbsp;<span class="ident" id="7181024">re</span><span class="op" id="7181026">.</span><span class="ident" id="7181027">Flags</span><span class="op" id="7181032">&amp;</span><span class="ident" id="7181033">FoldCase</span>&nbsp;<span class="op" id="7181042">!=</span>&nbsp;<span class="num" id="7181045">0</span>&nbsp;<span class="op" id="7181047">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181053">for</span>&nbsp;<span class="ident" id="7181057">_</span><span class="op" id="7181058">,</span>&nbsp;<span class="ident" id="7181060">r</span>&nbsp;<span class="op" id="7181062">:=</span>&nbsp;<span class="keyword" id="7181065">range</span>&nbsp;<span class="ident" id="7181071">re</span><span class="op" id="7181073">.</span><span class="ident" id="7181074">Rune</span>&nbsp;<span class="op" id="7181079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181086">if</span>&nbsp;<span class="ident" id="7181089">unicode</span><span class="op" id="7181096">.</span><span class="ident" id="7181097">SimpleFold</span><span class="op" id="7181107">(</span><span class="ident" id="7181108">r</span><span class="op" id="7181109">)</span>&nbsp;<span class="op" id="7181111">!=</span>&nbsp;<span class="ident" id="7181114">r</span>&nbsp;<span class="op" id="7181116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181124">b</span><span class="op" id="7181125">.</span><span class="ident" id="7181126">WriteString</span><span class="op" id="7181137">(</span><span class="string" id="7181138">&#34;fold&#34;</span><span class="op" id="7181144">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181152">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181163">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181178">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181184">b</span><span class="op" id="7181185">.</span><span class="ident" id="7181186">WriteByte</span><span class="op" id="7181195">(</span><span class="string" id="7181196">&#39;{&#39;</span><span class="op" id="7181199">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181202">switch</span>&nbsp;<span class="ident" id="7181209">re</span><span class="op" id="7181211">.</span><span class="ident" id="7181212">Op</span>&nbsp;<span class="op" id="7181215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181218">case</span>&nbsp;<span class="ident" id="7181223">OpEndText</span><span class="op" id="7181232">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181236">if</span>&nbsp;<span class="ident" id="7181239">re</span><span class="op" id="7181241">.</span><span class="ident" id="7181242">Flags</span><span class="op" id="7181247">&amp;</span><span class="ident" id="7181248">WasDollar</span>&nbsp;<span class="op" id="7181258">==</span>&nbsp;<span class="num" id="7181261">0</span>&nbsp;<span class="op" id="7181263">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181268">b</span><span class="op" id="7181269">.</span><span class="ident" id="7181270">WriteString</span><span class="op" id="7181281">(</span><span class="string" id="7181282">`\z`</span><span class="op" id="7181286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181293">case</span>&nbsp;<span class="ident" id="7181298">OpLiteral</span><span class="op" id="7181307">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181311">for</span>&nbsp;<span class="ident" id="7181315">_</span><span class="op" id="7181316">,</span>&nbsp;<span class="ident" id="7181318">r</span>&nbsp;<span class="op" id="7181320">:=</span>&nbsp;<span class="keyword" id="7181323">range</span>&nbsp;<span class="ident" id="7181329">re</span><span class="op" id="7181331">.</span><span class="ident" id="7181332">Rune</span>&nbsp;<span class="op" id="7181337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181342">b</span><span class="op" id="7181343">.</span><span class="ident" id="7181344">WriteRune</span><span class="op" id="7181353">(</span><span class="ident" id="7181354">r</span><span class="op" id="7181355">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181359">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181362">case</span>&nbsp;<span class="ident" id="7181367">OpConcat</span><span class="op" id="7181375">,</span>&nbsp;<span class="ident" id="7181377">OpAlternate</span><span class="op" id="7181388">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181392">for</span>&nbsp;<span class="ident" id="7181396">_</span><span class="op" id="7181397">,</span>&nbsp;<span class="ident" id="7181399">sub</span>&nbsp;<span class="op" id="7181403">:=</span>&nbsp;<span class="keyword" id="7181406">range</span>&nbsp;<span class="ident" id="7181412">re</span><span class="op" id="7181414">.</span><span class="ident" id="7181415">Sub</span>&nbsp;<span class="op" id="7181419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181424">dumpRegexp</span><span class="op" id="7181434">(</span><span class="ident" id="7181435">b</span><span class="op" id="7181436">,</span>&nbsp;<span class="ident" id="7181438">sub</span><span class="op" id="7181441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181445">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181448">case</span>&nbsp;<span class="ident" id="7181453">OpStar</span><span class="op" id="7181459">,</span>&nbsp;<span class="ident" id="7181461">OpPlus</span><span class="op" id="7181467">,</span>&nbsp;<span class="ident" id="7181469">OpQuest</span><span class="op" id="7181476">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181480">dumpRegexp</span><span class="op" id="7181490">(</span><span class="ident" id="7181491">b</span><span class="op" id="7181492">,</span>&nbsp;<span class="ident" id="7181494">re</span><span class="op" id="7181496">.</span><span class="ident" id="7181497">Sub</span><span class="op" id="7181500">[</span><span class="num" id="7181501">0</span><span class="op" id="7181502">]</span><span class="op" id="7181503">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181506">case</span>&nbsp;<span class="ident" id="7181511">OpRepeat</span><span class="op" id="7181519">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181523">fmt</span><span class="op" id="7181526">.</span><span class="ident" id="7181527">Fprintf</span><span class="op" id="7181534">(</span><span class="ident" id="7181535">b</span><span class="op" id="7181536">,</span>&nbsp;<span class="string" id="7181538">&#34;%d,%d&nbsp;&#34;</span><span class="op" id="7181546">,</span>&nbsp;<span class="ident" id="7181548">re</span><span class="op" id="7181550">.</span><span class="ident" id="7181551">Min</span><span class="op" id="7181554">,</span>&nbsp;<span class="ident" id="7181556">re</span><span class="op" id="7181558">.</span><span class="ident" id="7181559">Max</span><span class="op" id="7181562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181566">dumpRegexp</span><span class="op" id="7181576">(</span><span class="ident" id="7181577">b</span><span class="op" id="7181578">,</span>&nbsp;<span class="ident" id="7181580">re</span><span class="op" id="7181582">.</span><span class="ident" id="7181583">Sub</span><span class="op" id="7181586">[</span><span class="num" id="7181587">0</span><span class="op" id="7181588">]</span><span class="op" id="7181589">)</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181592">case</span>&nbsp;<span class="ident" id="7181597">OpCapture</span><span class="op" id="7181606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181610">if</span>&nbsp;<span class="ident" id="7181613">re</span><span class="op" id="7181615">.</span><span class="ident" id="7181616">Name</span>&nbsp;<span class="op" id="7181621">!=</span>&nbsp;<span class="string" id="7181624">&#34;&#34;</span>&nbsp;<span class="op" id="7181627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181632">b</span><span class="op" id="7181633">.</span><span class="ident" id="7181634">WriteString</span><span class="op" id="7181645">(</span><span class="ident" id="7181646">re</span><span class="op" id="7181648">.</span><span class="ident" id="7181649">Name</span><span class="op" id="7181653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181658">b</span><span class="op" id="7181659">.</span><span class="ident" id="7181660">WriteByte</span><span class="op" id="7181669">(</span><span class="string" id="7181670">&#39;:&#39;</span><span class="op" id="7181673">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181677">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181681">dumpRegexp</span><span class="op" id="7181691">(</span><span class="ident" id="7181692">b</span><span class="op" id="7181693">,</span>&nbsp;<span class="ident" id="7181695">re</span><span class="op" id="7181697">.</span><span class="ident" id="7181698">Sub</span><span class="op" id="7181701">[</span><span class="num" id="7181702">0</span><span class="op" id="7181703">]</span><span class="op" id="7181704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181707">case</span>&nbsp;<span class="ident" id="7181712">OpCharClass</span><span class="op" id="7181723">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181727">sep</span>&nbsp;<span class="op" id="7181731">:=</span>&nbsp;<span class="string" id="7181734">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181739">for</span>&nbsp;<span class="ident" id="7181743">i</span>&nbsp;<span class="op" id="7181745">:=</span>&nbsp;<span class="num" id="7181748">0</span><span class="op" id="7181749">;</span>&nbsp;<span class="ident" id="7181751">i</span>&nbsp;<span class="op" id="7181753">&lt;</span>&nbsp;<span class="builtinfunc" id="7181755">len</span><span class="op" id="7181758">(</span><span class="ident" id="7181759">re</span><span class="op" id="7181761">.</span><span class="ident" id="7181762">Rune</span><span class="op" id="7181766">)</span><span class="op" id="7181767">;</span>&nbsp;<span class="ident" id="7181769">i</span>&nbsp;<span class="op" id="7181771">+=</span>&nbsp;<span class="num" id="7181774">2</span>&nbsp;<span class="op" id="7181776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181781">b</span><span class="op" id="7181782">.</span><span class="ident" id="7181783">WriteString</span><span class="op" id="7181794">(</span><span class="ident" id="7181795">sep</span><span class="op" id="7181798">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181803">sep</span>&nbsp;<span class="op" id="7181807">=</span>&nbsp;<span class="string" id="7181809">&#34;&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181816">lo</span><span class="op" id="7181818">,</span>&nbsp;<span class="ident" id="7181820">hi</span>&nbsp;<span class="op" id="7181823">:=</span>&nbsp;<span class="ident" id="7181826">re</span><span class="op" id="7181828">.</span><span class="ident" id="7181829">Rune</span><span class="op" id="7181833">[</span><span class="ident" id="7181834">i</span><span class="op" id="7181835">]</span><span class="op" id="7181836">,</span>&nbsp;<span class="ident" id="7181838">re</span><span class="op" id="7181840">.</span><span class="ident" id="7181841">Rune</span><span class="op" id="7181845">[</span><span class="ident" id="7181846">i</span><span class="op" id="7181847">+</span><span class="num" id="7181848">1</span><span class="op" id="7181849">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7181854">if</span>&nbsp;<span class="ident" id="7181857">lo</span>&nbsp;<span class="op" id="7181860">==</span>&nbsp;<span class="ident" id="7181863">hi</span>&nbsp;<span class="op" id="7181866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181872">fmt</span><span class="op" id="7181875">.</span><span class="ident" id="7181876">Fprintf</span><span class="op" id="7181883">(</span><span class="ident" id="7181884">b</span><span class="op" id="7181885">,</span>&nbsp;<span class="string" id="7181887">&#34;%#x&#34;</span><span class="op" id="7181892">,</span>&nbsp;<span class="ident" id="7181894">lo</span><span class="op" id="7181896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181901">}</span>&nbsp;<span class="keyword" id="7181903">else</span>&nbsp;<span class="op" id="7181908">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181914">fmt</span><span class="op" id="7181917">.</span><span class="ident" id="7181918">Fprintf</span><span class="op" id="7181925">(</span><span class="ident" id="7181926">b</span><span class="op" id="7181927">,</span>&nbsp;<span class="string" id="7181929">&#34;%#x-%#x&#34;</span><span class="op" id="7181938">,</span>&nbsp;<span class="ident" id="7181940">lo</span><span class="op" id="7181942">,</span>&nbsp;<span class="ident" id="7181944">hi</span><span class="op" id="7181946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7181958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7181961">b</span><span class="op" id="7181962">.</span><span class="ident" id="7181963">WriteByte</span><span class="op" id="7181972">(</span><span class="string" id="7181973">&#39;}&#39;</span><span class="op" id="7181976">)</span><br>
<span class="lineno">380</span><span class="op" id="7181978">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7181981">func</span>&nbsp;<span class="ident" id="7181986">mkCharClass</span><span class="op" id="7181997">(</span><span class="ident" id="7181998">f</span>&nbsp;<span class="keyword" id="7182000">func</span><span class="op" id="7182004">(</span><span class="builtintype" id="7182005">rune</span><span class="op" id="7182009">)</span>&nbsp;<span class="builtintype" id="7182011">bool</span><span class="op" id="7182015">)</span>&nbsp;<span class="builtintype" id="7182017">string</span>&nbsp;<span class="op" id="7182024">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182027">re</span>&nbsp;<span class="op" id="7182030">:=</span>&nbsp;<span class="op" id="7182033">&amp;</span><span class="ident" id="7182034">Regexp</span><span class="op" id="7182040">{</span><span class="ident" id="7182041">Op</span><span class="op" id="7182043">:</span>&nbsp;<span class="ident" id="7182045">OpCharClass</span><span class="op" id="7182056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182059">lo</span>&nbsp;<span class="op" id="7182062">:=</span>&nbsp;<span class="builtintype" id="7182065">rune</span><span class="op" id="7182069">(</span><span class="op" id="7182070">-</span><span class="num" id="7182071">1</span><span class="op" id="7182072">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182075">for</span>&nbsp;<span class="ident" id="7182079">i</span>&nbsp;<span class="op" id="7182081">:=</span>&nbsp;<span class="builtintype" id="7182084">rune</span><span class="op" id="7182088">(</span><span class="num" id="7182089">0</span><span class="op" id="7182090">)</span><span class="op" id="7182091">;</span>&nbsp;<span class="ident" id="7182093">i</span>&nbsp;<span class="op" id="7182095">&lt;=</span>&nbsp;<span class="ident" id="7182098">unicode</span><span class="op" id="7182105">.</span><span class="ident" id="7182106">MaxRune</span><span class="op" id="7182113">;</span>&nbsp;<span class="ident" id="7182115">i</span><span class="op" id="7182116">++</span>&nbsp;<span class="op" id="7182119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182123">if</span>&nbsp;<span class="ident" id="7182126">f</span><span class="op" id="7182127">(</span><span class="ident" id="7182128">i</span><span class="op" id="7182129">)</span>&nbsp;<span class="op" id="7182131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182136">if</span>&nbsp;<span class="ident" id="7182139">lo</span>&nbsp;<span class="op" id="7182142">&lt;</span>&nbsp;<span class="num" id="7182144">0</span>&nbsp;<span class="op" id="7182146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182152">lo</span>&nbsp;<span class="op" id="7182155">=</span>&nbsp;<span class="ident" id="7182157">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182162">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182166">}</span>&nbsp;<span class="keyword" id="7182168">else</span>&nbsp;<span class="op" id="7182173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182178">if</span>&nbsp;<span class="ident" id="7182181">lo</span>&nbsp;<span class="op" id="7182184">&gt;=</span>&nbsp;<span class="num" id="7182187">0</span>&nbsp;<span class="op" id="7182189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182195">re</span><span class="op" id="7182197">.</span><span class="ident" id="7182198">Rune</span>&nbsp;<span class="op" id="7182203">=</span>&nbsp;<span class="builtinfunc" id="7182205">append</span><span class="op" id="7182211">(</span><span class="ident" id="7182212">re</span><span class="op" id="7182214">.</span><span class="ident" id="7182215">Rune</span><span class="op" id="7182219">,</span>&nbsp;<span class="ident" id="7182221">lo</span><span class="op" id="7182223">,</span>&nbsp;<span class="ident" id="7182225">i</span><span class="op" id="7182226">-</span><span class="num" id="7182227">1</span><span class="op" id="7182228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182234">lo</span>&nbsp;<span class="op" id="7182237">=</span>&nbsp;<span class="op" id="7182239">-</span><span class="num" id="7182240">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182245">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182249">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182252">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182255">if</span>&nbsp;<span class="ident" id="7182258">lo</span>&nbsp;<span class="op" id="7182261">&gt;=</span>&nbsp;<span class="num" id="7182264">0</span>&nbsp;<span class="op" id="7182266">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182270">re</span><span class="op" id="7182272">.</span><span class="ident" id="7182273">Rune</span>&nbsp;<span class="op" id="7182278">=</span>&nbsp;<span class="builtinfunc" id="7182280">append</span><span class="op" id="7182286">(</span><span class="ident" id="7182287">re</span><span class="op" id="7182289">.</span><span class="ident" id="7182290">Rune</span><span class="op" id="7182294">,</span>&nbsp;<span class="ident" id="7182296">lo</span><span class="op" id="7182298">,</span>&nbsp;<span class="ident" id="7182300">unicode</span><span class="op" id="7182307">.</span><span class="ident" id="7182308">MaxRune</span><span class="op" id="7182315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182318">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182321">return</span>&nbsp;<span class="ident" id="7182328">dump</span><span class="op" id="7182332">(</span><span class="ident" id="7182333">re</span><span class="op" id="7182335">)</span><br>
<span class="lineno"></span><span class="op" id="7182337">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7182340">func</span>&nbsp;<span class="ident" id="7182345">isUpperFold</span><span class="op" id="7182356">(</span><span class="ident" id="7182357">r</span>&nbsp;<span class="builtintype" id="7182359">rune</span><span class="op" id="7182363">)</span>&nbsp;<span class="builtintype" id="7182365">bool</span>&nbsp;<span class="op" id="7182370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182373">if</span>&nbsp;<span class="ident" id="7182376">unicode</span><span class="op" id="7182383">.</span><span class="ident" id="7182384">IsUpper</span><span class="op" id="7182391">(</span><span class="ident" id="7182392">r</span><span class="op" id="7182393">)</span>&nbsp;<span class="op" id="7182395">{</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182399">return</span>&nbsp;<span class="builtintype" id="7182406">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182415">c</span>&nbsp;<span class="op" id="7182417">:=</span>&nbsp;<span class="ident" id="7182420">unicode</span><span class="op" id="7182427">.</span><span class="ident" id="7182428">SimpleFold</span><span class="op" id="7182438">(</span><span class="ident" id="7182439">r</span><span class="op" id="7182440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182443">for</span>&nbsp;<span class="ident" id="7182447">c</span>&nbsp;<span class="op" id="7182449">!=</span>&nbsp;<span class="ident" id="7182452">r</span>&nbsp;<span class="op" id="7182454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182458">if</span>&nbsp;<span class="ident" id="7182461">unicode</span><span class="op" id="7182468">.</span><span class="ident" id="7182469">IsUpper</span><span class="op" id="7182476">(</span><span class="ident" id="7182477">c</span><span class="op" id="7182478">)</span>&nbsp;<span class="op" id="7182480">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182485">return</span>&nbsp;<span class="builtintype" id="7182492">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182503">c</span>&nbsp;<span class="op" id="7182505">=</span>&nbsp;<span class="ident" id="7182507">unicode</span><span class="op" id="7182514">.</span><span class="ident" id="7182515">SimpleFold</span><span class="op" id="7182525">(</span><span class="ident" id="7182526">c</span><span class="op" id="7182527">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182533">return</span>&nbsp;<span class="builtintype" id="7182540">false</span><br>
<span class="lineno">415</span><span class="op" id="7182546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7182549">func</span>&nbsp;<span class="ident" id="7182554">TestFoldConstants</span><span class="op" id="7182571">(</span><span class="ident" id="7182572">t</span>&nbsp;<span class="op" id="7182574">*</span><span class="ident" id="7182575">testing</span><span class="op" id="7182582">.</span><span class="ident" id="7182583">T</span><span class="op" id="7182584">)</span>&nbsp;<span class="op" id="7182586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182589">last</span>&nbsp;<span class="op" id="7182594">:=</span>&nbsp;<span class="builtintype" id="7182597">rune</span><span class="op" id="7182601">(</span><span class="op" id="7182602">-</span><span class="num" id="7182603">1</span><span class="op" id="7182604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182607">for</span>&nbsp;<span class="ident" id="7182611">i</span>&nbsp;<span class="op" id="7182613">:=</span>&nbsp;<span class="builtintype" id="7182616">rune</span><span class="op" id="7182620">(</span><span class="num" id="7182621">0</span><span class="op" id="7182622">)</span><span class="op" id="7182623">;</span>&nbsp;<span class="ident" id="7182625">i</span>&nbsp;<span class="op" id="7182627">&lt;=</span>&nbsp;<span class="ident" id="7182630">unicode</span><span class="op" id="7182637">.</span><span class="ident" id="7182638">MaxRune</span><span class="op" id="7182645">;</span>&nbsp;<span class="ident" id="7182647">i</span><span class="op" id="7182648">++</span>&nbsp;<span class="op" id="7182651">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182655">if</span>&nbsp;<span class="ident" id="7182658">unicode</span><span class="op" id="7182665">.</span><span class="ident" id="7182666">SimpleFold</span><span class="op" id="7182676">(</span><span class="ident" id="7182677">i</span><span class="op" id="7182678">)</span>&nbsp;<span class="op" id="7182680">==</span>&nbsp;<span class="ident" id="7182683">i</span>&nbsp;<span class="op" id="7182685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182690">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182701">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182705">if</span>&nbsp;<span class="ident" id="7182708">last</span>&nbsp;<span class="op" id="7182713">==</span>&nbsp;<span class="op" id="7182716">-</span><span class="num" id="7182717">1</span>&nbsp;<span class="op" id="7182719">&amp;&amp;</span>&nbsp;<span class="ident" id="7182722">minFold</span>&nbsp;<span class="op" id="7182730">!=</span>&nbsp;<span class="ident" id="7182733">i</span>&nbsp;<span class="op" id="7182735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182740">t</span><span class="op" id="7182741">.</span><span class="ident" id="7182742">Errorf</span><span class="op" id="7182748">(</span><span class="string" id="7182749">&#34;minFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7182776">,</span>&nbsp;<span class="ident" id="7182778">minFold</span><span class="op" id="7182785">,</span>&nbsp;<span class="ident" id="7182787">i</span><span class="op" id="7182788">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182792">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182796">last</span>&nbsp;<span class="op" id="7182801">=</span>&nbsp;<span class="ident" id="7182803">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182806">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7182809">if</span>&nbsp;<span class="ident" id="7182812">maxFold</span>&nbsp;<span class="op" id="7182820">!=</span>&nbsp;<span class="ident" id="7182823">last</span>&nbsp;<span class="op" id="7182828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7182832">t</span><span class="op" id="7182833">.</span><span class="ident" id="7182834">Errorf</span><span class="op" id="7182840">(</span><span class="string" id="7182841">&#34;maxFold=%#U&nbsp;should&nbsp;be&nbsp;%#U&#34;</span><span class="op" id="7182868">,</span>&nbsp;<span class="ident" id="7182870">maxFold</span><span class="op" id="7182877">,</span>&nbsp;<span class="ident" id="7182879">last</span><span class="op" id="7182883">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7182886">}</span><br>
<span class="lineno"></span><span class="op" id="7182888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7182891">func</span>&nbsp;<span class="ident" id="7182896">TestAppendRangeCollapse</span><span class="op" id="7182919">(</span><span class="ident" id="7182920">t</span>&nbsp;<span class="op" id="7182922">*</span><span class="ident" id="7182923">testing</span><span class="op" id="7182930">.</span><span class="ident" id="7182931">T</span><span class="op" id="7182932">)</span>&nbsp;<span class="op" id="7182934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7182937">//&nbsp;AppendRange&nbsp;should&nbsp;collapse&nbsp;each&nbsp;of&nbsp;the&nbsp;new&nbsp;ranges</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7182992">//&nbsp;into&nbsp;the&nbsp;earlier&nbsp;ones&nbsp;(it&nbsp;looks&nbsp;back&nbsp;two&nbsp;ranges),&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7183054">//&nbsp;the&nbsp;slice&nbsp;never&nbsp;grows&nbsp;very&nbsp;large.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7183092">//&nbsp;Note&nbsp;that&nbsp;we&nbsp;are&nbsp;not&nbsp;calling&nbsp;cleanClass.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7183137">var</span>&nbsp;<span class="ident" id="7183141">r</span>&nbsp;<span class="op" id="7183143">[</span><span class="op" id="7183144">]</span><span class="builtintype" id="7183145">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7183151">for</span>&nbsp;<span class="ident" id="7183155">i</span>&nbsp;<span class="op" id="7183157">:=</span>&nbsp;<span class="builtintype" id="7183160">rune</span><span class="op" id="7183164">(</span><span class="string" id="7183165">&#39;A&#39;</span><span class="op" id="7183168">)</span><span class="op" id="7183169">;</span>&nbsp;<span class="ident" id="7183171">i</span>&nbsp;<span class="op" id="7183173">&lt;=</span>&nbsp;<span class="string" id="7183176">&#39;Z&#39;</span><span class="op" id="7183179">;</span>&nbsp;<span class="ident" id="7183181">i</span><span class="op" id="7183182">++</span>&nbsp;<span class="op" id="7183185">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7183189">r</span>&nbsp;<span class="op" id="7183191">=</span>&nbsp;<span class="ident" id="7183193">appendRange</span><span class="op" id="7183204">(</span><span class="ident" id="7183205">r</span><span class="op" id="7183206">,</span>&nbsp;<span class="ident" id="7183208">i</span><span class="op" id="7183209">,</span>&nbsp;<span class="ident" id="7183211">i</span><span class="op" id="7183212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7183216">r</span>&nbsp;<span class="op" id="7183218">=</span>&nbsp;<span class="ident" id="7183220">appendRange</span><span class="op" id="7183231">(</span><span class="ident" id="7183232">r</span><span class="op" id="7183233">,</span>&nbsp;<span class="ident" id="7183235">i</span><span class="op" id="7183236">+</span><span class="string" id="7183237">&#39;a&#39;</span><span class="op" id="7183240">-</span><span class="string" id="7183241">&#39;A&#39;</span><span class="op" id="7183244">,</span>&nbsp;<span class="ident" id="7183246">i</span><span class="op" id="7183247">+</span><span class="string" id="7183248">&#39;a&#39;</span><span class="op" id="7183251">-</span><span class="string" id="7183252">&#39;A&#39;</span><span class="op" id="7183255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7183258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7183261">if</span>&nbsp;<span class="builtintype" id="7183264">string</span><span class="op" id="7183270">(</span><span class="ident" id="7183271">r</span><span class="op" id="7183272">)</span>&nbsp;<span class="op" id="7183274">!=</span>&nbsp;<span class="string" id="7183277">&#34;AZaz&#34;</span>&nbsp;<span class="op" id="7183284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7183288">t</span><span class="op" id="7183289">.</span><span class="ident" id="7183290">Errorf</span><span class="op" id="7183296">(</span><span class="string" id="7183297">&#34;appendRange&nbsp;interlaced&nbsp;A-Z&nbsp;a-z&nbsp;=&nbsp;%s,&nbsp;want&nbsp;AZaz&#34;</span><span class="op" id="7183345">,</span>&nbsp;<span class="builtintype" id="7183347">string</span><span class="op" id="7183353">(</span><span class="ident" id="7183354">r</span><span class="op" id="7183355">)</span><span class="op" id="7183356">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7183359">}</span><br>
<span class="lineno"></span><span class="op" id="7183361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7183364">var</span>&nbsp;<span class="ident" id="7183368">invalidRegexps</span>&nbsp;<span class="op" id="7183383">=</span>&nbsp;<span class="op" id="7183385">[</span><span class="op" id="7183386">]</span><span class="builtintype" id="7183387">string</span><span class="op" id="7183393">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183396">`(`</span><span class="op" id="7183399">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183402">`)`</span><span class="op" id="7183405">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183408">`(a`</span><span class="op" id="7183412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183415">`a)`</span><span class="op" id="7183419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183422">`(a))`</span><span class="op" id="7183428">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183431">`(a|b|`</span><span class="op" id="7183438">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183441">`a|b|)`</span><span class="op" id="7183448">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183451">`(a|b|))`</span><span class="op" id="7183460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183463">`(a|b`</span><span class="op" id="7183469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183472">`a|b)`</span><span class="op" id="7183478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183481">`(a|b))`</span><span class="op" id="7183489">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183492">`[a-z`</span><span class="op" id="7183498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183501">`([a-z)`</span><span class="op" id="7183509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183512">`[a-z)`</span><span class="op" id="7183519">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183522">`([a-z]))`</span><span class="op" id="7183532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183535">`x{1001}`</span><span class="op" id="7183544">,</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183547">`x{9876543210}`</span><span class="op" id="7183562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183565">`x{2,1}`</span><span class="op" id="7183573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183576">`x{1,9876543210}`</span><span class="op" id="7183593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183596">&#34;\xff&#34;</span><span class="op" id="7183602">,</span>&nbsp;<span class="comment" id="7183604">//&nbsp;Invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183622">&#34;[\xff]&#34;</span><span class="op" id="7183630">,</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183633">&#34;[\\\xff]&#34;</span><span class="op" id="7183643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183646">&#34;\\\xff&#34;</span><span class="op" id="7183654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183657">`(?P&lt;name&gt;a`</span><span class="op" id="7183669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183672">`(?P&lt;name&gt;`</span><span class="op" id="7183683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183686">`(?P&lt;name`</span><span class="op" id="7183696">,</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183699">`(?P&lt;x&nbsp;y&gt;a)`</span><span class="op" id="7183711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183714">`(?P&lt;&gt;a)`</span><span class="op" id="7183723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183726">`[a-Z]`</span><span class="op" id="7183733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183736">`(?i)[a-Z]`</span><span class="op" id="7183747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183750">`a{100000}`</span><span class="op" id="7183761">,</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183764">`a{100000,}`</span><span class="op" id="7183776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183779">&#34;((((((((((x{2}){2}){2}){2}){2}){2}){2}){2}){2}){2})&#34;</span><span class="op" id="7183832">,</span><br>
<span class="lineno"></span><span class="op" id="7183834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7183837">var</span>&nbsp;<span class="ident" id="7183841">onlyPerl</span>&nbsp;<span class="op" id="7183850">=</span>&nbsp;<span class="op" id="7183852">[</span><span class="op" id="7183853">]</span><span class="builtintype" id="7183854">string</span><span class="op" id="7183860">{</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183863">`[a-b-c]`</span><span class="op" id="7183872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183875">`\Qabc\E`</span><span class="op" id="7183884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183887">`\Q*+?{[\E`</span><span class="op" id="7183898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183901">`\Q\\E`</span><span class="op" id="7183908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183911">`\Q\\\E`</span><span class="op" id="7183919">,</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183922">`\Q\\\\E`</span><span class="op" id="7183931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183934">`\Q\\\\\E`</span><span class="op" id="7183944">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183947">`(?:a)`</span><span class="op" id="7183954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7183957">`(?P&lt;name&gt;a)`</span><span class="op" id="7183970">,</span><br>
<span class="lineno"></span><span class="op" id="7183972">}</span><br>
<span class="lineno">495</span><br>
<span class="lineno"></span><span class="keyword" id="7183975">var</span>&nbsp;<span class="ident" id="7183979">onlyPOSIX</span>&nbsp;<span class="op" id="7183989">=</span>&nbsp;<span class="op" id="7183991">[</span><span class="op" id="7183992">]</span><span class="builtintype" id="7183993">string</span><span class="op" id="7183999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7184002">&#34;a++&#34;</span><span class="op" id="7184007">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7184010">&#34;a**&#34;</span><span class="op" id="7184015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7184018">&#34;a?*&#34;</span><span class="op" id="7184023">,</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7184026">&#34;a+*&#34;</span><span class="op" id="7184031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7184034">&#34;a{1}*&#34;</span><span class="op" id="7184041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7184044">&#34;.{1}{2}.{3}&#34;</span><span class="op" id="7184057">,</span><br>
<span class="lineno"></span><span class="op" id="7184059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">505</span><span class="keyword" id="7184062">func</span>&nbsp;<span class="ident" id="7184067">TestParseInvalidRegexps</span><span class="op" id="7184090">(</span><span class="ident" id="7184091">t</span>&nbsp;<span class="op" id="7184093">*</span><span class="ident" id="7184094">testing</span><span class="op" id="7184101">.</span><span class="ident" id="7184102">T</span><span class="op" id="7184103">)</span>&nbsp;<span class="op" id="7184105">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184108">for</span>&nbsp;<span class="ident" id="7184112">_</span><span class="op" id="7184113">,</span>&nbsp;<span class="ident" id="7184115">regexp</span>&nbsp;<span class="op" id="7184122">:=</span>&nbsp;<span class="keyword" id="7184125">range</span>&nbsp;<span class="ident" id="7184131">invalidRegexps</span>&nbsp;<span class="op" id="7184146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184150">if</span>&nbsp;<span class="ident" id="7184153">re</span><span class="op" id="7184155">,</span>&nbsp;<span class="ident" id="7184157">err</span>&nbsp;<span class="op" id="7184161">:=</span>&nbsp;<span class="ident" id="7184164">Parse</span><span class="op" id="7184169">(</span><span class="ident" id="7184170">regexp</span><span class="op" id="7184176">,</span>&nbsp;<span class="ident" id="7184178">Perl</span><span class="op" id="7184182">)</span><span class="op" id="7184183">;</span>&nbsp;<span class="ident" id="7184185">err</span>&nbsp;<span class="op" id="7184189">==</span>&nbsp;<span class="ident" id="7184192">nil</span>&nbsp;<span class="op" id="7184196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7184201">t</span><span class="op" id="7184202">.</span><span class="ident" id="7184203">Errorf</span><span class="op" id="7184209">(</span><span class="string" id="7184210">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7184253">,</span>&nbsp;<span class="ident" id="7184255">regexp</span><span class="op" id="7184261">,</span>&nbsp;<span class="ident" id="7184263">dump</span><span class="op" id="7184267">(</span><span class="ident" id="7184268">re</span><span class="op" id="7184270">)</span><span class="op" id="7184271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184275">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184279">if</span>&nbsp;<span class="ident" id="7184282">re</span><span class="op" id="7184284">,</span>&nbsp;<span class="ident" id="7184286">err</span>&nbsp;<span class="op" id="7184290">:=</span>&nbsp;<span class="ident" id="7184293">Parse</span><span class="op" id="7184298">(</span><span class="ident" id="7184299">regexp</span><span class="op" id="7184305">,</span>&nbsp;<span class="ident" id="7184307">POSIX</span><span class="op" id="7184312">)</span><span class="op" id="7184313">;</span>&nbsp;<span class="ident" id="7184315">err</span>&nbsp;<span class="op" id="7184319">==</span>&nbsp;<span class="ident" id="7184322">nil</span>&nbsp;<span class="op" id="7184326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7184331">t</span><span class="op" id="7184332">.</span><span class="ident" id="7184333">Errorf</span><span class="op" id="7184339">(</span><span class="string" id="7184340">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7184384">,</span>&nbsp;<span class="ident" id="7184386">regexp</span><span class="op" id="7184392">,</span>&nbsp;<span class="ident" id="7184394">dump</span><span class="op" id="7184398">(</span><span class="ident" id="7184399">re</span><span class="op" id="7184401">)</span><span class="op" id="7184402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184406">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184412">for</span>&nbsp;<span class="ident" id="7184416">_</span><span class="op" id="7184417">,</span>&nbsp;<span class="ident" id="7184419">regexp</span>&nbsp;<span class="op" id="7184426">:=</span>&nbsp;<span class="keyword" id="7184429">range</span>&nbsp;<span class="ident" id="7184435">onlyPerl</span>&nbsp;<span class="op" id="7184444">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184448">if</span>&nbsp;<span class="ident" id="7184451">_</span><span class="op" id="7184452">,</span>&nbsp;<span class="ident" id="7184454">err</span>&nbsp;<span class="op" id="7184458">:=</span>&nbsp;<span class="ident" id="7184461">Parse</span><span class="op" id="7184466">(</span><span class="ident" id="7184467">regexp</span><span class="op" id="7184473">,</span>&nbsp;<span class="ident" id="7184475">Perl</span><span class="op" id="7184479">)</span><span class="op" id="7184480">;</span>&nbsp;<span class="ident" id="7184482">err</span>&nbsp;<span class="op" id="7184486">!=</span>&nbsp;<span class="ident" id="7184489">nil</span>&nbsp;<span class="op" id="7184493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7184498">t</span><span class="op" id="7184499">.</span><span class="ident" id="7184500">Errorf</span><span class="op" id="7184506">(</span><span class="string" id="7184507">&#34;Parse(%#q,&nbsp;Perl):&nbsp;%v&#34;</span><span class="op" id="7184529">,</span>&nbsp;<span class="ident" id="7184531">regexp</span><span class="op" id="7184537">,</span>&nbsp;<span class="ident" id="7184539">err</span><span class="op" id="7184542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184546">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184550">if</span>&nbsp;<span class="ident" id="7184553">re</span><span class="op" id="7184555">,</span>&nbsp;<span class="ident" id="7184557">err</span>&nbsp;<span class="op" id="7184561">:=</span>&nbsp;<span class="ident" id="7184564">Parse</span><span class="op" id="7184569">(</span><span class="ident" id="7184570">regexp</span><span class="op" id="7184576">,</span>&nbsp;<span class="ident" id="7184578">POSIX</span><span class="op" id="7184583">)</span><span class="op" id="7184584">;</span>&nbsp;<span class="ident" id="7184586">err</span>&nbsp;<span class="op" id="7184590">==</span>&nbsp;<span class="ident" id="7184593">nil</span>&nbsp;<span class="op" id="7184597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7184602">t</span><span class="op" id="7184603">.</span><span class="ident" id="7184604">Errorf</span><span class="op" id="7184610">(</span><span class="string" id="7184611">&#34;Parse(%#q,&nbsp;POSIX)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7184655">,</span>&nbsp;<span class="ident" id="7184657">regexp</span><span class="op" id="7184663">,</span>&nbsp;<span class="ident" id="7184665">dump</span><span class="op" id="7184669">(</span><span class="ident" id="7184670">re</span><span class="op" id="7184672">)</span><span class="op" id="7184673">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184677">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184683">for</span>&nbsp;<span class="ident" id="7184687">_</span><span class="op" id="7184688">,</span>&nbsp;<span class="ident" id="7184690">regexp</span>&nbsp;<span class="op" id="7184697">:=</span>&nbsp;<span class="keyword" id="7184700">range</span>&nbsp;<span class="ident" id="7184706">onlyPOSIX</span>&nbsp;<span class="op" id="7184716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184720">if</span>&nbsp;<span class="ident" id="7184723">re</span><span class="op" id="7184725">,</span>&nbsp;<span class="ident" id="7184727">err</span>&nbsp;<span class="op" id="7184731">:=</span>&nbsp;<span class="ident" id="7184734">Parse</span><span class="op" id="7184739">(</span><span class="ident" id="7184740">regexp</span><span class="op" id="7184746">,</span>&nbsp;<span class="ident" id="7184748">Perl</span><span class="op" id="7184752">)</span><span class="op" id="7184753">;</span>&nbsp;<span class="ident" id="7184755">err</span>&nbsp;<span class="op" id="7184759">==</span>&nbsp;<span class="ident" id="7184762">nil</span>&nbsp;<span class="op" id="7184766">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7184771">t</span><span class="op" id="7184772">.</span><span class="ident" id="7184773">Errorf</span><span class="op" id="7184779">(</span><span class="string" id="7184780">&#34;Parse(%#q,&nbsp;Perl)&nbsp;=&nbsp;%s,&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="7184823">,</span>&nbsp;<span class="ident" id="7184825">regexp</span><span class="op" id="7184831">,</span>&nbsp;<span class="ident" id="7184833">dump</span><span class="op" id="7184837">(</span><span class="ident" id="7184838">re</span><span class="op" id="7184840">)</span><span class="op" id="7184841">)</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7184849">if</span>&nbsp;<span class="ident" id="7184852">_</span><span class="op" id="7184853">,</span>&nbsp;<span class="ident" id="7184855">err</span>&nbsp;<span class="op" id="7184859">:=</span>&nbsp;<span class="ident" id="7184862">Parse</span><span class="op" id="7184867">(</span><span class="ident" id="7184868">regexp</span><span class="op" id="7184874">,</span>&nbsp;<span class="ident" id="7184876">POSIX</span><span class="op" id="7184881">)</span><span class="op" id="7184882">;</span>&nbsp;<span class="ident" id="7184884">err</span>&nbsp;<span class="op" id="7184888">!=</span>&nbsp;<span class="ident" id="7184891">nil</span>&nbsp;<span class="op" id="7184895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7184900">t</span><span class="op" id="7184901">.</span><span class="ident" id="7184902">Errorf</span><span class="op" id="7184908">(</span><span class="string" id="7184909">&#34;Parse(%#q,&nbsp;POSIX):&nbsp;%v&#34;</span><span class="op" id="7184932">,</span>&nbsp;<span class="ident" id="7184934">regexp</span><span class="op" id="7184940">,</span>&nbsp;<span class="ident" id="7184942">err</span><span class="op" id="7184945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7184952">}</span><br>
<span class="lineno">530</span><span class="op" id="7184954">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7184957">func</span>&nbsp;<span class="ident" id="7184962">TestToStringEquivalentParse</span><span class="op" id="7184989">(</span><span class="ident" id="7184990">t</span>&nbsp;<span class="op" id="7184992">*</span><span class="ident" id="7184993">testing</span><span class="op" id="7185000">.</span><span class="ident" id="7185001">T</span><span class="op" id="7185002">)</span>&nbsp;<span class="op" id="7185004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185007">for</span>&nbsp;<span class="ident" id="7185011">_</span><span class="op" id="7185012">,</span>&nbsp;<span class="ident" id="7185014">tt</span>&nbsp;<span class="op" id="7185017">:=</span>&nbsp;<span class="keyword" id="7185020">range</span>&nbsp;<span class="ident" id="7185026">parseTests</span>&nbsp;<span class="op" id="7185037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185041">re</span><span class="op" id="7185043">,</span>&nbsp;<span class="ident" id="7185045">err</span>&nbsp;<span class="op" id="7185049">:=</span>&nbsp;<span class="ident" id="7185052">Parse</span><span class="op" id="7185057">(</span><span class="ident" id="7185058">tt</span><span class="op" id="7185060">.</span><span class="ident" id="7185061">Regexp</span><span class="op" id="7185067">,</span>&nbsp;<span class="ident" id="7185069">testFlags</span><span class="op" id="7185078">)</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185082">if</span>&nbsp;<span class="ident" id="7185085">err</span>&nbsp;<span class="op" id="7185089">!=</span>&nbsp;<span class="ident" id="7185092">nil</span>&nbsp;<span class="op" id="7185096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185101">t</span><span class="op" id="7185102">.</span><span class="ident" id="7185103">Errorf</span><span class="op" id="7185109">(</span><span class="string" id="7185110">&#34;Parse(%#q):&nbsp;%v&#34;</span><span class="op" id="7185126">,</span>&nbsp;<span class="ident" id="7185128">tt</span><span class="op" id="7185130">.</span><span class="ident" id="7185131">Regexp</span><span class="op" id="7185137">,</span>&nbsp;<span class="ident" id="7185139">err</span><span class="op" id="7185142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185147">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7185158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185162">if</span>&nbsp;<span class="ident" id="7185165">tt</span><span class="op" id="7185167">.</span><span class="ident" id="7185168">Dump</span>&nbsp;<span class="op" id="7185173">==</span>&nbsp;<span class="string" id="7185176">&#34;&#34;</span>&nbsp;<span class="op" id="7185179">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7185184">//&nbsp;It&nbsp;parsed.&nbsp;That&#39;s&nbsp;all&nbsp;we&nbsp;care&nbsp;about.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185227">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7185238">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185242">d</span>&nbsp;<span class="op" id="7185244">:=</span>&nbsp;<span class="ident" id="7185247">dump</span><span class="op" id="7185251">(</span><span class="ident" id="7185252">re</span><span class="op" id="7185254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185258">if</span>&nbsp;<span class="ident" id="7185261">d</span>&nbsp;<span class="op" id="7185263">!=</span>&nbsp;<span class="ident" id="7185266">tt</span><span class="op" id="7185268">.</span><span class="ident" id="7185269">Dump</span>&nbsp;<span class="op" id="7185274">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185279">t</span><span class="op" id="7185280">.</span><span class="ident" id="7185281">Errorf</span><span class="op" id="7185287">(</span><span class="string" id="7185288">&#34;Parse(%#q).Dump()&nbsp;=&nbsp;%#q&nbsp;want&nbsp;%#q&#34;</span><span class="op" id="7185322">,</span>&nbsp;<span class="ident" id="7185324">tt</span><span class="op" id="7185326">.</span><span class="ident" id="7185327">Regexp</span><span class="op" id="7185333">,</span>&nbsp;<span class="ident" id="7185335">d</span><span class="op" id="7185336">,</span>&nbsp;<span class="ident" id="7185338">tt</span><span class="op" id="7185340">.</span><span class="ident" id="7185341">Dump</span><span class="op" id="7185345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185350">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7185361">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185366">s</span>&nbsp;<span class="op" id="7185368">:=</span>&nbsp;<span class="ident" id="7185371">re</span><span class="op" id="7185373">.</span><span class="ident" id="7185374">String</span><span class="op" id="7185380">(</span><span class="op" id="7185381">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185385">if</span>&nbsp;<span class="ident" id="7185388">s</span>&nbsp;<span class="op" id="7185390">!=</span>&nbsp;<span class="ident" id="7185393">tt</span><span class="op" id="7185395">.</span><span class="ident" id="7185396">Regexp</span>&nbsp;<span class="op" id="7185403">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7185408">//&nbsp;If&nbsp;ToString&nbsp;didn&#39;t&nbsp;return&nbsp;the&nbsp;original&nbsp;regexp,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7185461">//&nbsp;it&nbsp;must&nbsp;have&nbsp;found&nbsp;one&nbsp;with&nbsp;fewer&nbsp;parens.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7185509">//&nbsp;Unfortunately&nbsp;we&nbsp;can&#39;t&nbsp;check&nbsp;the&nbsp;length&nbsp;here,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7185569">//&nbsp;ToString&nbsp;produces&nbsp;&#34;\\{&#34;&nbsp;for&nbsp;a&nbsp;literal&nbsp;brace,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7185620">//&nbsp;but&nbsp;&#34;{&#34;&nbsp;is&nbsp;a&nbsp;shorter&nbsp;equivalent&nbsp;in&nbsp;some&nbsp;contexts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185676">nre</span><span class="op" id="7185679">,</span>&nbsp;<span class="ident" id="7185681">err</span>&nbsp;<span class="op" id="7185685">:=</span>&nbsp;<span class="ident" id="7185688">Parse</span><span class="op" id="7185693">(</span><span class="ident" id="7185694">s</span><span class="op" id="7185695">,</span>&nbsp;<span class="ident" id="7185697">testFlags</span><span class="op" id="7185706">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185711">if</span>&nbsp;<span class="ident" id="7185714">err</span>&nbsp;<span class="op" id="7185718">!=</span>&nbsp;<span class="ident" id="7185721">nil</span>&nbsp;<span class="op" id="7185725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185731">t</span><span class="op" id="7185732">.</span><span class="ident" id="7185733">Errorf</span><span class="op" id="7185739">(</span><span class="string" id="7185740">&#34;Parse(%#q.String()&nbsp;=&nbsp;%#q):&nbsp;%v&#34;</span><span class="op" id="7185771">,</span>&nbsp;<span class="ident" id="7185773">tt</span><span class="op" id="7185775">.</span><span class="ident" id="7185776">Regexp</span><span class="op" id="7185782">,</span>&nbsp;<span class="ident" id="7185784">s</span><span class="op" id="7185785">,</span>&nbsp;<span class="ident" id="7185787">err</span><span class="op" id="7185790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185796">continue</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7185808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185813">nd</span>&nbsp;<span class="op" id="7185816">:=</span>&nbsp;<span class="ident" id="7185819">dump</span><span class="op" id="7185823">(</span><span class="ident" id="7185824">nre</span><span class="op" id="7185827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185832">if</span>&nbsp;<span class="ident" id="7185835">d</span>&nbsp;<span class="op" id="7185837">!=</span>&nbsp;<span class="ident" id="7185840">nd</span>&nbsp;<span class="op" id="7185843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185849">t</span><span class="op" id="7185850">.</span><span class="ident" id="7185851">Errorf</span><span class="op" id="7185857">(</span><span class="string" id="7185858">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q;&nbsp;%#q&nbsp;vs&nbsp;%#q&#34;</span><span class="op" id="7185889">,</span>&nbsp;<span class="ident" id="7185891">tt</span><span class="op" id="7185893">.</span><span class="ident" id="7185894">Regexp</span><span class="op" id="7185900">,</span>&nbsp;<span class="ident" id="7185902">s</span><span class="op" id="7185903">,</span>&nbsp;<span class="ident" id="7185905">d</span><span class="op" id="7185906">,</span>&nbsp;<span class="ident" id="7185908">nd</span><span class="op" id="7185910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7185915">}</span><br>
<span class="lineno">565</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185921">ns</span>&nbsp;<span class="op" id="7185924">:=</span>&nbsp;<span class="ident" id="7185927">nre</span><span class="op" id="7185930">.</span><span class="ident" id="7185931">String</span><span class="op" id="7185937">(</span><span class="op" id="7185938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7185943">if</span>&nbsp;<span class="ident" id="7185946">s</span>&nbsp;<span class="op" id="7185948">!=</span>&nbsp;<span class="ident" id="7185951">ns</span>&nbsp;<span class="op" id="7185954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7185960">t</span><span class="op" id="7185961">.</span><span class="ident" id="7185962">Errorf</span><span class="op" id="7185968">(</span><span class="string" id="7185969">&#34;Parse(%#q)&nbsp;-&gt;&nbsp;%#q&nbsp;-&gt;&nbsp;%#q&#34;</span><span class="op" id="7185995">,</span>&nbsp;<span class="ident" id="7185997">tt</span><span class="op" id="7185999">.</span><span class="ident" id="7186000">Regexp</span><span class="op" id="7186006">,</span>&nbsp;<span class="ident" id="7186008">s</span><span class="op" id="7186009">,</span>&nbsp;<span class="ident" id="7186011">ns</span><span class="op" id="7186013">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7186018">}</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7186022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7186025">}</span><br>
<span class="lineno"></span><span class="op" id="7186027">}</span>
</div>
</body>
</html>
