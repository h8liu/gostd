<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html" class="current">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5824188">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5824244">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5824298">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5824349">package</span>&nbsp;<span class="ident" id="5824357">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5824364">import</span>&nbsp;<span class="op" id="5824371">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5824374">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5824381">&#34;strconv&#34;</span><br>
<span class="lineno">10</span><span class="op" id="5824391">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5824394">//&nbsp;Parse&nbsp;the&nbsp;type&nbsp;units&nbsp;stored&nbsp;in&nbsp;a&nbsp;DWARF4&nbsp;.debug_types&nbsp;section.&nbsp;&nbsp;Each</span><br>
<span class="lineno"></span><span class="comment" id="5824465">//&nbsp;type&nbsp;unit&nbsp;defines&nbsp;a&nbsp;single&nbsp;primary&nbsp;type&nbsp;and&nbsp;an&nbsp;8-byte&nbsp;signature.</span><br>
<span class="lineno"></span><span class="comment" id="5824533">//&nbsp;Other&nbsp;sections&nbsp;may&nbsp;then&nbsp;use&nbsp;formRefSig8&nbsp;to&nbsp;refer&nbsp;to&nbsp;the&nbsp;type.</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="5824599">//&nbsp;The&nbsp;typeUnit&nbsp;format&nbsp;is&nbsp;a&nbsp;single&nbsp;type&nbsp;with&nbsp;a&nbsp;signature.&nbsp;&nbsp;It&nbsp;holds</span><br>
<span class="lineno"></span><span class="comment" id="5824667">//&nbsp;the&nbsp;same&nbsp;data&nbsp;as&nbsp;a&nbsp;compilation&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="5824707">type</span>&nbsp;<span class="ident" id="5824712">typeUnit</span>&nbsp;<span class="keyword" id="5824721">struct</span>&nbsp;<span class="op" id="5824728">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824731">unit</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824737">toff</span>&nbsp;&nbsp;<span class="ident" id="5824743">Offset</span>&nbsp;<span class="comment" id="5824750">//&nbsp;Offset&nbsp;to&nbsp;signature&nbsp;type&nbsp;within&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824792">name</span>&nbsp;&nbsp;<span class="builtintype" id="5824798">string</span>&nbsp;<span class="comment" id="5824805">//&nbsp;Name&nbsp;of&nbsp;.debug_type&nbsp;section.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824838">cache</span>&nbsp;<span class="ident" id="5824844">Type</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5824851">//&nbsp;Cache&nbsp;the&nbsp;type,&nbsp;nil&nbsp;to&nbsp;start.</span><br>
<span class="lineno"></span><span class="op" id="5824884">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="5824887">//&nbsp;Parse&nbsp;a&nbsp;.debug_types&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5824920">func</span>&nbsp;<span class="op" id="5824925">(</span><span class="ident" id="5824926">d</span>&nbsp;<span class="op" id="5824928">*</span><span class="ident" id="5824929">Data</span><span class="op" id="5824933">)</span>&nbsp;<span class="ident" id="5824935">parseTypes</span><span class="op" id="5824945">(</span><span class="ident" id="5824946">name</span>&nbsp;<span class="builtintype" id="5824951">string</span><span class="op" id="5824957">,</span>&nbsp;<span class="ident" id="5824959">types</span>&nbsp;<span class="op" id="5824965">[</span><span class="op" id="5824966">]</span><span class="builtintype" id="5824967">byte</span><span class="op" id="5824971">)</span>&nbsp;<span class="builtintype" id="5824973">error</span>&nbsp;<span class="op" id="5824979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5824982">b</span>&nbsp;<span class="op" id="5824984">:=</span>&nbsp;<span class="ident" id="5824987">makeBuf</span><span class="op" id="5824994">(</span><span class="ident" id="5824995">d</span><span class="op" id="5824996">,</span>&nbsp;<span class="ident" id="5824998">unknownFormat</span><span class="op" id="5825011">{</span><span class="op" id="5825012">}</span><span class="op" id="5825013">,</span>&nbsp;<span class="ident" id="5825015">name</span><span class="op" id="5825019">,</span>&nbsp;<span class="num" id="5825021">0</span><span class="op" id="5825022">,</span>&nbsp;<span class="ident" id="5825024">types</span><span class="op" id="5825029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825032">for</span>&nbsp;<span class="builtinfunc" id="5825036">len</span><span class="op" id="5825039">(</span><span class="ident" id="5825040">b</span><span class="op" id="5825041">.</span><span class="ident" id="5825042">data</span><span class="op" id="5825046">)</span>&nbsp;<span class="op" id="5825048">&gt;</span>&nbsp;<span class="num" id="5825050">0</span>&nbsp;<span class="op" id="5825052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825056">base</span>&nbsp;<span class="op" id="5825061">:=</span>&nbsp;<span class="ident" id="5825064">b</span><span class="op" id="5825065">.</span><span class="ident" id="5825066">off</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825072">dwarf64</span>&nbsp;<span class="op" id="5825080">:=</span>&nbsp;<span class="builtintype" id="5825083">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825091">n</span>&nbsp;<span class="op" id="5825093">:=</span>&nbsp;<span class="ident" id="5825096">b</span><span class="op" id="5825097">.</span><span class="builtintype" id="5825098">uint32</span><span class="op" id="5825104">(</span><span class="op" id="5825105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825109">if</span>&nbsp;<span class="ident" id="5825112">n</span>&nbsp;<span class="op" id="5825114">==</span>&nbsp;<span class="num" id="5825117">0xffffffff</span>&nbsp;<span class="op" id="5825128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825133">n64</span>&nbsp;<span class="op" id="5825137">:=</span>&nbsp;<span class="ident" id="5825140">b</span><span class="op" id="5825141">.</span><span class="ident" id="5825142">uint64</span><span class="op" id="5825148">(</span><span class="op" id="5825149">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825154">if</span>&nbsp;<span class="ident" id="5825157">n64</span>&nbsp;<span class="op" id="5825161">!=</span>&nbsp;<span class="ident" id="5825164">uint64</span><span class="op" id="5825170">(</span><span class="builtintype" id="5825171">uint32</span><span class="op" id="5825177">(</span><span class="ident" id="5825178">n64</span><span class="op" id="5825181">)</span><span class="op" id="5825182">)</span>&nbsp;<span class="op" id="5825184">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825190">b</span><span class="op" id="5825191">.</span><span class="builtintype" id="5825192">error</span><span class="op" id="5825197">(</span><span class="string" id="5825198">&#34;type&nbsp;unit&nbsp;length&nbsp;overflow&#34;</span><span class="op" id="5825225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825231">return</span>&nbsp;<span class="ident" id="5825238">b</span><span class="op" id="5825239">.</span><span class="ident" id="5825240">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825252">n</span>&nbsp;<span class="op" id="5825254">=</span>&nbsp;<span class="builtintype" id="5825256">uint32</span><span class="op" id="5825262">(</span><span class="ident" id="5825263">n64</span><span class="op" id="5825266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825271">dwarf64</span>&nbsp;<span class="op" id="5825279">=</span>&nbsp;<span class="builtintype" id="5825281">true</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825288">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825292">hdroff</span>&nbsp;<span class="op" id="5825299">:=</span>&nbsp;<span class="ident" id="5825302">b</span><span class="op" id="5825303">.</span><span class="ident" id="5825304">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825310">vers</span>&nbsp;<span class="op" id="5825315">:=</span>&nbsp;<span class="ident" id="5825318">b</span><span class="op" id="5825319">.</span><span class="builtintype" id="5825320">uint16</span><span class="op" id="5825326">(</span><span class="op" id="5825327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825331">if</span>&nbsp;<span class="ident" id="5825334">vers</span>&nbsp;<span class="op" id="5825339">!=</span>&nbsp;<span class="num" id="5825342">4</span>&nbsp;<span class="op" id="5825344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825349">b</span><span class="op" id="5825350">.</span><span class="builtintype" id="5825351">error</span><span class="op" id="5825356">(</span><span class="string" id="5825357">&#34;unsupported&nbsp;DWARF&nbsp;version&nbsp;&#34;</span>&nbsp;<span class="op" id="5825386">+</span>&nbsp;<span class="ident" id="5825388">strconv</span><span class="op" id="5825395">.</span><span class="ident" id="5825396">Itoa</span><span class="op" id="5825400">(</span><span class="builtintype" id="5825401">int</span><span class="op" id="5825404">(</span><span class="ident" id="5825405">vers</span><span class="op" id="5825409">)</span><span class="op" id="5825410">)</span><span class="op" id="5825411">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825416">return</span>&nbsp;<span class="ident" id="5825423">b</span><span class="op" id="5825424">.</span><span class="ident" id="5825425">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825435">var</span>&nbsp;<span class="ident" id="5825439">ao</span>&nbsp;<span class="builtintype" id="5825442">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825451">if</span>&nbsp;<span class="op" id="5825454">!</span><span class="ident" id="5825455">dwarf64</span>&nbsp;<span class="op" id="5825463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825468">ao</span>&nbsp;<span class="op" id="5825471">=</span>&nbsp;<span class="ident" id="5825473">b</span><span class="op" id="5825474">.</span><span class="builtintype" id="5825475">uint32</span><span class="op" id="5825481">(</span><span class="op" id="5825482">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825486">}</span>&nbsp;<span class="keyword" id="5825488">else</span>&nbsp;<span class="op" id="5825493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825498">ao64</span>&nbsp;<span class="op" id="5825503">:=</span>&nbsp;<span class="ident" id="5825506">b</span><span class="op" id="5825507">.</span><span class="ident" id="5825508">uint64</span><span class="op" id="5825514">(</span><span class="op" id="5825515">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825520">if</span>&nbsp;<span class="ident" id="5825523">ao64</span>&nbsp;<span class="op" id="5825528">!=</span>&nbsp;<span class="ident" id="5825531">uint64</span><span class="op" id="5825537">(</span><span class="builtintype" id="5825538">uint32</span><span class="op" id="5825544">(</span><span class="ident" id="5825545">ao64</span><span class="op" id="5825549">)</span><span class="op" id="5825550">)</span>&nbsp;<span class="op" id="5825552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825558">b</span><span class="op" id="5825559">.</span><span class="builtintype" id="5825560">error</span><span class="op" id="5825565">(</span><span class="string" id="5825566">&#34;type&nbsp;unit&nbsp;abbrev&nbsp;offset&nbsp;overflow&#34;</span><span class="op" id="5825600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825606">return</span>&nbsp;<span class="ident" id="5825613">b</span><span class="op" id="5825614">.</span><span class="ident" id="5825615">err</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825627">ao</span>&nbsp;<span class="op" id="5825630">=</span>&nbsp;<span class="builtintype" id="5825632">uint32</span><span class="op" id="5825638">(</span><span class="ident" id="5825639">ao64</span><span class="op" id="5825643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825651">atable</span><span class="op" id="5825657">,</span>&nbsp;<span class="ident" id="5825659">err</span>&nbsp;<span class="op" id="5825663">:=</span>&nbsp;<span class="ident" id="5825666">d</span><span class="op" id="5825667">.</span><span class="ident" id="5825668">parseAbbrev</span><span class="op" id="5825679">(</span><span class="ident" id="5825680">ao</span><span class="op" id="5825682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825686">if</span>&nbsp;<span class="ident" id="5825689">err</span>&nbsp;<span class="op" id="5825693">!=</span>&nbsp;<span class="builtintype" id="5825696">nil</span>&nbsp;<span class="op" id="5825700">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825705">return</span>&nbsp;<span class="ident" id="5825712">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825722">asize</span>&nbsp;<span class="op" id="5825728">:=</span>&nbsp;<span class="ident" id="5825731">b</span><span class="op" id="5825732">.</span><span class="builtintype" id="5825733">uint8</span><span class="op" id="5825738">(</span><span class="op" id="5825739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825743">sig</span>&nbsp;<span class="op" id="5825747">:=</span>&nbsp;<span class="ident" id="5825750">b</span><span class="op" id="5825751">.</span><span class="ident" id="5825752">uint64</span><span class="op" id="5825758">(</span><span class="op" id="5825759">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825764">var</span>&nbsp;<span class="ident" id="5825768">toff</span>&nbsp;<span class="builtintype" id="5825773">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825782">if</span>&nbsp;<span class="op" id="5825785">!</span><span class="ident" id="5825786">dwarf64</span>&nbsp;<span class="op" id="5825794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825799">toff</span>&nbsp;<span class="op" id="5825804">=</span>&nbsp;<span class="ident" id="5825806">b</span><span class="op" id="5825807">.</span><span class="builtintype" id="5825808">uint32</span><span class="op" id="5825814">(</span><span class="op" id="5825815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825819">}</span>&nbsp;<span class="keyword" id="5825821">else</span>&nbsp;<span class="op" id="5825826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825831">to64</span>&nbsp;<span class="op" id="5825836">:=</span>&nbsp;<span class="ident" id="5825839">b</span><span class="op" id="5825840">.</span><span class="ident" id="5825841">uint64</span><span class="op" id="5825847">(</span><span class="op" id="5825848">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825853">if</span>&nbsp;<span class="ident" id="5825856">to64</span>&nbsp;<span class="op" id="5825861">!=</span>&nbsp;<span class="ident" id="5825864">uint64</span><span class="op" id="5825870">(</span><span class="builtintype" id="5825871">uint32</span><span class="op" id="5825877">(</span><span class="ident" id="5825878">to64</span><span class="op" id="5825882">)</span><span class="op" id="5825883">)</span>&nbsp;<span class="op" id="5825885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825891">b</span><span class="op" id="5825892">.</span><span class="builtintype" id="5825893">error</span><span class="op" id="5825898">(</span><span class="string" id="5825899">&#34;type&nbsp;unit&nbsp;type&nbsp;offset&nbsp;overflow&#34;</span><span class="op" id="5825931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5825937">return</span>&nbsp;<span class="ident" id="5825944">b</span><span class="op" id="5825945">.</span><span class="ident" id="5825946">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825958">toff</span>&nbsp;<span class="op" id="5825963">=</span>&nbsp;<span class="builtintype" id="5825965">uint32</span><span class="op" id="5825971">(</span><span class="ident" id="5825972">to64</span><span class="op" id="5825976">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5825980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5825985">boff</span>&nbsp;<span class="op" id="5825990">:=</span>&nbsp;<span class="ident" id="5825993">b</span><span class="op" id="5825994">.</span><span class="ident" id="5825995">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826001">d</span><span class="op" id="5826002">.</span><span class="ident" id="5826003">typeSigs</span><span class="op" id="5826011">[</span><span class="ident" id="5826012">sig</span><span class="op" id="5826015">]</span>&nbsp;<span class="op" id="5826017">=</span>&nbsp;<span class="op" id="5826019">&amp;</span><span class="ident" id="5826020">typeUnit</span><span class="op" id="5826028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826033">unit</span><span class="op" id="5826037">:</span>&nbsp;<span class="ident" id="5826039">unit</span><span class="op" id="5826043">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826049">base</span><span class="op" id="5826053">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5826057">base</span><span class="op" id="5826061">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826067">off</span><span class="op" id="5826070">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826075">boff</span><span class="op" id="5826079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826085">data</span><span class="op" id="5826089">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5826093">b</span><span class="op" id="5826094">.</span><span class="ident" id="5826095">bytes</span><span class="op" id="5826100">(</span><span class="builtintype" id="5826101">int</span><span class="op" id="5826104">(</span><span class="ident" id="5826105">Offset</span><span class="op" id="5826111">(</span><span class="ident" id="5826112">n</span><span class="op" id="5826113">)</span>&nbsp;<span class="op" id="5826115">-</span>&nbsp;<span class="op" id="5826117">(</span><span class="ident" id="5826118">b</span><span class="op" id="5826119">.</span><span class="ident" id="5826120">off</span>&nbsp;<span class="op" id="5826124">-</span>&nbsp;<span class="ident" id="5826126">hdroff</span><span class="op" id="5826132">)</span><span class="op" id="5826133">)</span><span class="op" id="5826134">)</span><span class="op" id="5826135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826141">atable</span><span class="op" id="5826147">:</span>&nbsp;<span class="ident" id="5826149">atable</span><span class="op" id="5826155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826161">asize</span><span class="op" id="5826166">:</span>&nbsp;&nbsp;<span class="builtintype" id="5826169">int</span><span class="op" id="5826172">(</span><span class="ident" id="5826173">asize</span><span class="op" id="5826178">)</span><span class="op" id="5826179">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826185">vers</span><span class="op" id="5826189">:</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5826193">int</span><span class="op" id="5826196">(</span><span class="ident" id="5826197">vers</span><span class="op" id="5826201">)</span><span class="op" id="5826202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826208">is64</span><span class="op" id="5826212">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5826216">dwarf64</span><span class="op" id="5826223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826228">}</span><span class="op" id="5826229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826234">toff</span><span class="op" id="5826238">:</span>&nbsp;<span class="ident" id="5826240">Offset</span><span class="op" id="5826246">(</span><span class="ident" id="5826247">toff</span><span class="op" id="5826251">)</span><span class="op" id="5826252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826257">name</span><span class="op" id="5826261">:</span>&nbsp;<span class="ident" id="5826263">name</span><span class="op" id="5826267">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826275">if</span>&nbsp;<span class="ident" id="5826278">b</span><span class="op" id="5826279">.</span><span class="ident" id="5826280">err</span>&nbsp;<span class="op" id="5826284">!=</span>&nbsp;<span class="builtintype" id="5826287">nil</span>&nbsp;<span class="op" id="5826291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826296">return</span>&nbsp;<span class="ident" id="5826303">b</span><span class="op" id="5826304">.</span><span class="ident" id="5826305">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826314">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826317">return</span>&nbsp;<span class="builtintype" id="5826324">nil</span><br>
<span class="lineno"></span><span class="op" id="5826328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826331">//&nbsp;Return&nbsp;the&nbsp;type&nbsp;for&nbsp;a&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span><span class="keyword" id="5826372">func</span>&nbsp;<span class="op" id="5826377">(</span><span class="ident" id="5826378">d</span>&nbsp;<span class="op" id="5826380">*</span><span class="ident" id="5826381">Data</span><span class="op" id="5826385">)</span>&nbsp;<span class="ident" id="5826387">sigToType</span><span class="op" id="5826396">(</span><span class="ident" id="5826397">sig</span>&nbsp;<span class="ident" id="5826401">uint64</span><span class="op" id="5826407">)</span>&nbsp;<span class="op" id="5826409">(</span><span class="ident" id="5826410">Type</span><span class="op" id="5826414">,</span>&nbsp;<span class="builtintype" id="5826416">error</span><span class="op" id="5826421">)</span>&nbsp;<span class="op" id="5826423">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826426">tu</span>&nbsp;<span class="op" id="5826429">:=</span>&nbsp;<span class="ident" id="5826432">d</span><span class="op" id="5826433">.</span><span class="ident" id="5826434">typeSigs</span><span class="op" id="5826442">[</span><span class="ident" id="5826443">sig</span><span class="op" id="5826446">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826449">if</span>&nbsp;<span class="ident" id="5826452">tu</span>&nbsp;<span class="op" id="5826455">==</span>&nbsp;<span class="builtintype" id="5826458">nil</span>&nbsp;<span class="op" id="5826462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826466">return</span>&nbsp;<span class="builtintype" id="5826473">nil</span><span class="op" id="5826476">,</span>&nbsp;<span class="ident" id="5826478">fmt</span><span class="op" id="5826481">.</span><span class="ident" id="5826482">Errorf</span><span class="op" id="5826488">(</span><span class="string" id="5826489">&#34;no&nbsp;type&nbsp;unit&nbsp;with&nbsp;signature&nbsp;%v&#34;</span><span class="op" id="5826521">,</span>&nbsp;<span class="ident" id="5826523">sig</span><span class="op" id="5826526">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826529">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826532">if</span>&nbsp;<span class="ident" id="5826535">tu</span><span class="op" id="5826537">.</span><span class="ident" id="5826538">cache</span>&nbsp;<span class="op" id="5826544">!=</span>&nbsp;<span class="builtintype" id="5826547">nil</span>&nbsp;<span class="op" id="5826551">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826555">return</span>&nbsp;<span class="ident" id="5826562">tu</span><span class="op" id="5826564">.</span><span class="ident" id="5826565">cache</span><span class="op" id="5826570">,</span>&nbsp;<span class="builtintype" id="5826572">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826577">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826581">b</span>&nbsp;<span class="op" id="5826583">:=</span>&nbsp;<span class="ident" id="5826586">makeBuf</span><span class="op" id="5826593">(</span><span class="ident" id="5826594">d</span><span class="op" id="5826595">,</span>&nbsp;<span class="ident" id="5826597">tu</span><span class="op" id="5826599">,</span>&nbsp;<span class="ident" id="5826601">tu</span><span class="op" id="5826603">.</span><span class="ident" id="5826604">name</span><span class="op" id="5826608">,</span>&nbsp;<span class="ident" id="5826610">tu</span><span class="op" id="5826612">.</span><span class="ident" id="5826613">off</span><span class="op" id="5826616">,</span>&nbsp;<span class="ident" id="5826618">tu</span><span class="op" id="5826620">.</span><span class="ident" id="5826621">data</span><span class="op" id="5826625">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826628">r</span>&nbsp;<span class="op" id="5826630">:=</span>&nbsp;<span class="op" id="5826633">&amp;</span><span class="ident" id="5826634">typeUnitReader</span><span class="op" id="5826648">{</span><span class="ident" id="5826649">d</span><span class="op" id="5826650">:</span>&nbsp;<span class="ident" id="5826652">d</span><span class="op" id="5826653">,</span>&nbsp;<span class="ident" id="5826655">tu</span><span class="op" id="5826657">:</span>&nbsp;<span class="ident" id="5826659">tu</span><span class="op" id="5826661">,</span>&nbsp;<span class="ident" id="5826663">b</span><span class="op" id="5826664">:</span>&nbsp;<span class="ident" id="5826666">b</span><span class="op" id="5826667">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826670">t</span><span class="op" id="5826671">,</span>&nbsp;<span class="ident" id="5826673">err</span>&nbsp;<span class="op" id="5826677">:=</span>&nbsp;<span class="ident" id="5826680">d</span><span class="op" id="5826681">.</span><span class="ident" id="5826682">readType</span><span class="op" id="5826690">(</span><span class="ident" id="5826691">tu</span><span class="op" id="5826693">.</span><span class="ident" id="5826694">name</span><span class="op" id="5826698">,</span>&nbsp;<span class="ident" id="5826700">r</span><span class="op" id="5826701">,</span>&nbsp;<span class="ident" id="5826703">Offset</span><span class="op" id="5826709">(</span><span class="ident" id="5826710">tu</span><span class="op" id="5826712">.</span><span class="ident" id="5826713">toff</span><span class="op" id="5826717">)</span><span class="op" id="5826718">,</span>&nbsp;<span class="builtinfunc" id="5826720">make</span><span class="op" id="5826724">(</span><span class="keyword" id="5826725">map</span><span class="op" id="5826728">[</span><span class="ident" id="5826729">Offset</span><span class="op" id="5826735">]</span><span class="ident" id="5826736">Type</span><span class="op" id="5826740">)</span><span class="op" id="5826741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826744">if</span>&nbsp;<span class="ident" id="5826747">err</span>&nbsp;<span class="op" id="5826751">!=</span>&nbsp;<span class="builtintype" id="5826754">nil</span>&nbsp;<span class="op" id="5826758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826762">return</span>&nbsp;<span class="builtintype" id="5826769">nil</span><span class="op" id="5826772">,</span>&nbsp;<span class="ident" id="5826774">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5826779">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826783">tu</span><span class="op" id="5826785">.</span><span class="ident" id="5826786">cache</span>&nbsp;<span class="op" id="5826792">=</span>&nbsp;<span class="ident" id="5826794">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5826797">return</span>&nbsp;<span class="ident" id="5826804">t</span><span class="op" id="5826805">,</span>&nbsp;<span class="builtintype" id="5826807">nil</span><br>
<span class="lineno"></span><span class="op" id="5826811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826814">//&nbsp;typeUnitReader&nbsp;is&nbsp;a&nbsp;typeReader&nbsp;for&nbsp;a&nbsp;tagTypeUnit.</span><br>
<span class="lineno">120</span><span class="keyword" id="5826867">type</span>&nbsp;<span class="ident" id="5826872">typeUnitReader</span>&nbsp;<span class="keyword" id="5826887">struct</span>&nbsp;<span class="op" id="5826894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826897">d</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5826901">*</span><span class="ident" id="5826902">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826908">tu</span>&nbsp;&nbsp;<span class="op" id="5826912">*</span><span class="ident" id="5826913">typeUnit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826923">b</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5826927">buf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5826932">err</span>&nbsp;<span class="builtintype" id="5826936">error</span><br>
<span class="lineno">125</span><span class="op" id="5826942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5826945">//&nbsp;Seek&nbsp;to&nbsp;a&nbsp;new&nbsp;position&nbsp;in&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="5826989">func</span>&nbsp;<span class="op" id="5826994">(</span><span class="ident" id="5826995">tur</span>&nbsp;<span class="op" id="5826999">*</span><span class="ident" id="5827000">typeUnitReader</span><span class="op" id="5827014">)</span>&nbsp;<span class="ident" id="5827016">Seek</span><span class="op" id="5827020">(</span><span class="ident" id="5827021">off</span>&nbsp;<span class="ident" id="5827025">Offset</span><span class="op" id="5827031">)</span>&nbsp;<span class="op" id="5827033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827036">tur</span><span class="op" id="5827039">.</span><span class="ident" id="5827040">err</span>&nbsp;<span class="op" id="5827044">=</span>&nbsp;<span class="builtintype" id="5827046">nil</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827051">doff</span>&nbsp;<span class="op" id="5827056">:=</span>&nbsp;<span class="ident" id="5827059">off</span>&nbsp;<span class="op" id="5827063">-</span>&nbsp;<span class="ident" id="5827065">tur</span><span class="op" id="5827068">.</span><span class="ident" id="5827069">tu</span><span class="op" id="5827071">.</span><span class="ident" id="5827072">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827077">if</span>&nbsp;<span class="ident" id="5827080">doff</span>&nbsp;<span class="op" id="5827085">&lt;</span>&nbsp;<span class="num" id="5827087">0</span>&nbsp;<span class="op" id="5827089">||</span>&nbsp;<span class="ident" id="5827092">doff</span>&nbsp;<span class="op" id="5827097">&gt;=</span>&nbsp;<span class="ident" id="5827100">Offset</span><span class="op" id="5827106">(</span><span class="builtinfunc" id="5827107">len</span><span class="op" id="5827110">(</span><span class="ident" id="5827111">tur</span><span class="op" id="5827114">.</span><span class="ident" id="5827115">tu</span><span class="op" id="5827117">.</span><span class="ident" id="5827118">data</span><span class="op" id="5827122">)</span><span class="op" id="5827123">)</span>&nbsp;<span class="op" id="5827125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827129">tur</span><span class="op" id="5827132">.</span><span class="ident" id="5827133">err</span>&nbsp;<span class="op" id="5827137">=</span>&nbsp;<span class="ident" id="5827139">fmt</span><span class="op" id="5827142">.</span><span class="ident" id="5827143">Errorf</span><span class="op" id="5827149">(</span><span class="string" id="5827150">&#34;%s:&nbsp;offset&nbsp;%d&nbsp;out&nbsp;of&nbsp;range;&nbsp;max&nbsp;%d&#34;</span><span class="op" id="5827186">,</span>&nbsp;<span class="ident" id="5827188">tur</span><span class="op" id="5827191">.</span><span class="ident" id="5827192">tu</span><span class="op" id="5827194">.</span><span class="ident" id="5827195">name</span><span class="op" id="5827199">,</span>&nbsp;<span class="ident" id="5827201">doff</span><span class="op" id="5827205">,</span>&nbsp;<span class="builtinfunc" id="5827207">len</span><span class="op" id="5827210">(</span><span class="ident" id="5827211">tur</span><span class="op" id="5827214">.</span><span class="ident" id="5827215">tu</span><span class="op" id="5827217">.</span><span class="ident" id="5827218">data</span><span class="op" id="5827222">)</span><span class="op" id="5827223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827227">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827235">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827238">tur</span><span class="op" id="5827241">.</span><span class="ident" id="5827242">b</span>&nbsp;<span class="op" id="5827244">=</span>&nbsp;<span class="ident" id="5827246">makeBuf</span><span class="op" id="5827253">(</span><span class="ident" id="5827254">tur</span><span class="op" id="5827257">.</span><span class="ident" id="5827258">d</span><span class="op" id="5827259">,</span>&nbsp;<span class="ident" id="5827261">tur</span><span class="op" id="5827264">.</span><span class="ident" id="5827265">tu</span><span class="op" id="5827267">,</span>&nbsp;<span class="ident" id="5827269">tur</span><span class="op" id="5827272">.</span><span class="ident" id="5827273">tu</span><span class="op" id="5827275">.</span><span class="ident" id="5827276">name</span><span class="op" id="5827280">,</span>&nbsp;<span class="ident" id="5827282">off</span><span class="op" id="5827285">,</span>&nbsp;<span class="ident" id="5827287">tur</span><span class="op" id="5827290">.</span><span class="ident" id="5827291">tu</span><span class="op" id="5827293">.</span><span class="ident" id="5827294">data</span><span class="op" id="5827298">[</span><span class="ident" id="5827299">doff</span><span class="op" id="5827303">:</span><span class="op" id="5827304">]</span><span class="op" id="5827305">)</span><br>
<span class="lineno"></span><span class="op" id="5827307">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5827310">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;Entry&nbsp;from&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno"></span><span class="keyword" id="5827359">func</span>&nbsp;<span class="op" id="5827364">(</span><span class="ident" id="5827365">tur</span>&nbsp;<span class="op" id="5827369">*</span><span class="ident" id="5827370">typeUnitReader</span><span class="op" id="5827384">)</span>&nbsp;<span class="ident" id="5827386">Next</span><span class="op" id="5827390">(</span><span class="op" id="5827391">)</span>&nbsp;<span class="op" id="5827393">(</span><span class="op" id="5827394">*</span><span class="ident" id="5827395">Entry</span><span class="op" id="5827400">,</span>&nbsp;<span class="builtintype" id="5827402">error</span><span class="op" id="5827407">)</span>&nbsp;<span class="op" id="5827409">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827412">if</span>&nbsp;<span class="ident" id="5827415">tur</span><span class="op" id="5827418">.</span><span class="ident" id="5827419">err</span>&nbsp;<span class="op" id="5827423">!=</span>&nbsp;<span class="builtintype" id="5827426">nil</span>&nbsp;<span class="op" id="5827430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827434">return</span>&nbsp;<span class="builtintype" id="5827441">nil</span><span class="op" id="5827444">,</span>&nbsp;<span class="ident" id="5827446">tur</span><span class="op" id="5827449">.</span><span class="ident" id="5827450">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827458">if</span>&nbsp;<span class="builtinfunc" id="5827461">len</span><span class="op" id="5827464">(</span><span class="ident" id="5827465">tur</span><span class="op" id="5827468">.</span><span class="ident" id="5827469">tu</span><span class="op" id="5827471">.</span><span class="ident" id="5827472">data</span><span class="op" id="5827476">)</span>&nbsp;<span class="op" id="5827478">==</span>&nbsp;<span class="num" id="5827481">0</span>&nbsp;<span class="op" id="5827483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827487">return</span>&nbsp;<span class="builtintype" id="5827494">nil</span><span class="op" id="5827497">,</span>&nbsp;<span class="builtintype" id="5827499">nil</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827507">e</span>&nbsp;<span class="op" id="5827509">:=</span>&nbsp;<span class="ident" id="5827512">tur</span><span class="op" id="5827515">.</span><span class="ident" id="5827516">b</span><span class="op" id="5827517">.</span><span class="ident" id="5827518">entry</span><span class="op" id="5827523">(</span><span class="ident" id="5827524">tur</span><span class="op" id="5827527">.</span><span class="ident" id="5827528">tu</span><span class="op" id="5827530">.</span><span class="ident" id="5827531">atable</span><span class="op" id="5827537">,</span>&nbsp;<span class="ident" id="5827539">tur</span><span class="op" id="5827542">.</span><span class="ident" id="5827543">tu</span><span class="op" id="5827545">.</span><span class="ident" id="5827546">base</span><span class="op" id="5827550">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827553">if</span>&nbsp;<span class="ident" id="5827556">tur</span><span class="op" id="5827559">.</span><span class="ident" id="5827560">b</span><span class="op" id="5827561">.</span><span class="ident" id="5827562">err</span>&nbsp;<span class="op" id="5827566">!=</span>&nbsp;<span class="builtintype" id="5827569">nil</span>&nbsp;<span class="op" id="5827573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827577">tur</span><span class="op" id="5827580">.</span><span class="ident" id="5827581">err</span>&nbsp;<span class="op" id="5827585">=</span>&nbsp;<span class="ident" id="5827587">tur</span><span class="op" id="5827590">.</span><span class="ident" id="5827591">b</span><span class="op" id="5827592">.</span><span class="ident" id="5827593">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827599">return</span>&nbsp;<span class="builtintype" id="5827606">nil</span><span class="op" id="5827609">,</span>&nbsp;<span class="ident" id="5827611">tur</span><span class="op" id="5827614">.</span><span class="ident" id="5827615">err</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827623">return</span>&nbsp;<span class="ident" id="5827630">e</span><span class="op" id="5827631">,</span>&nbsp;<span class="builtintype" id="5827633">nil</span><br>
<span class="lineno"></span><span class="op" id="5827637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5827640">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;new&nbsp;reader&nbsp;for&nbsp;the&nbsp;type&nbsp;unit.</span><br>
<span class="lineno">155</span><span class="keyword" id="5827689">func</span>&nbsp;<span class="op" id="5827694">(</span><span class="ident" id="5827695">tur</span>&nbsp;<span class="op" id="5827699">*</span><span class="ident" id="5827700">typeUnitReader</span><span class="op" id="5827714">)</span>&nbsp;<span class="ident" id="5827716">clone</span><span class="op" id="5827721">(</span><span class="op" id="5827722">)</span>&nbsp;<span class="ident" id="5827724">typeReader</span>&nbsp;<span class="op" id="5827735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827738">return</span>&nbsp;<span class="op" id="5827745">&amp;</span><span class="ident" id="5827746">typeUnitReader</span><span class="op" id="5827760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827764">d</span><span class="op" id="5827765">:</span>&nbsp;&nbsp;<span class="ident" id="5827768">tur</span><span class="op" id="5827771">.</span><span class="ident" id="5827772">d</span><span class="op" id="5827773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827777">tu</span><span class="op" id="5827779">:</span>&nbsp;<span class="ident" id="5827781">tur</span><span class="op" id="5827784">.</span><span class="ident" id="5827785">tu</span><span class="op" id="5827787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5827791">b</span><span class="op" id="5827792">:</span>&nbsp;&nbsp;<span class="ident" id="5827795">makeBuf</span><span class="op" id="5827802">(</span><span class="ident" id="5827803">tur</span><span class="op" id="5827806">.</span><span class="ident" id="5827807">d</span><span class="op" id="5827808">,</span>&nbsp;<span class="ident" id="5827810">tur</span><span class="op" id="5827813">.</span><span class="ident" id="5827814">tu</span><span class="op" id="5827816">,</span>&nbsp;<span class="ident" id="5827818">tur</span><span class="op" id="5827821">.</span><span class="ident" id="5827822">tu</span><span class="op" id="5827824">.</span><span class="ident" id="5827825">name</span><span class="op" id="5827829">,</span>&nbsp;<span class="ident" id="5827831">tur</span><span class="op" id="5827834">.</span><span class="ident" id="5827835">tu</span><span class="op" id="5827837">.</span><span class="ident" id="5827838">off</span><span class="op" id="5827841">,</span>&nbsp;<span class="ident" id="5827843">tur</span><span class="op" id="5827846">.</span><span class="ident" id="5827847">tu</span><span class="op" id="5827849">.</span><span class="ident" id="5827850">data</span><span class="op" id="5827854">)</span><span class="op" id="5827855">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5827858">}</span><br>
<span class="lineno"></span><span class="op" id="5827860">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5827863">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;offset.</span><br>
<span class="lineno"></span><span class="keyword" id="5827901">func</span>&nbsp;<span class="op" id="5827906">(</span><span class="ident" id="5827907">tur</span>&nbsp;<span class="op" id="5827911">*</span><span class="ident" id="5827912">typeUnitReader</span><span class="op" id="5827926">)</span>&nbsp;<span class="ident" id="5827928">offset</span><span class="op" id="5827934">(</span><span class="op" id="5827935">)</span>&nbsp;<span class="ident" id="5827937">Offset</span>&nbsp;<span class="op" id="5827944">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5827947">return</span>&nbsp;<span class="ident" id="5827954">tur</span><span class="op" id="5827957">.</span><span class="ident" id="5827958">b</span><span class="op" id="5827959">.</span><span class="ident" id="5827960">off</span><br>
<span class="lineno"></span><span class="op" id="5827964">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
