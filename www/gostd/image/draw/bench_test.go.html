<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image/draw</h2>
<ul>
<li><a href="/gostd/image/draw/bench_test.go.html" class="current">bench_test.go</a></li>
<li><a href="/gostd/image/draw/clip_test.go.html">clip_test.go</a></li>
<li><a href="/gostd/image/draw/draw.go.html">draw.go</a></li>
<li><a href="/gostd/image/draw/draw_test.go.html">draw_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6866728">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6866783">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6866837">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6866888">package</span>&nbsp;<span class="ident" id="6866896">draw</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6866902">import</span>&nbsp;<span class="op" id="6866909">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6866912">&#34;image&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6866921">&#34;image/color&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6866936">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6866946">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6866949">const</span>&nbsp;<span class="op" id="6866955">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866958">dstw</span><span class="op" id="6866962">,</span>&nbsp;<span class="ident" id="6866964">dsth</span>&nbsp;<span class="op" id="6866969">=</span>&nbsp;<span class="num" id="6866971">640</span><span class="op" id="6866974">,</span>&nbsp;<span class="num" id="6866976">480</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6866981">srcw</span><span class="op" id="6866985">,</span>&nbsp;<span class="ident" id="6866987">srch</span>&nbsp;<span class="op" id="6866992">=</span>&nbsp;<span class="num" id="6866994">400</span><span class="op" id="6866997">,</span>&nbsp;<span class="num" id="6866999">300</span><br>
<span class="lineno"></span><span class="op" id="6867003">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6867006">//&nbsp;bench&nbsp;benchmarks&nbsp;drawing&nbsp;src&nbsp;and&nbsp;mask&nbsp;images&nbsp;onto&nbsp;a&nbsp;dst&nbsp;image&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="6867080">//&nbsp;given&nbsp;op&nbsp;and&nbsp;the&nbsp;color&nbsp;models&nbsp;to&nbsp;create&nbsp;those&nbsp;images&nbsp;from.</span><br>
<span class="lineno">20</span><span class="comment" id="6867142">//&nbsp;The&nbsp;created&nbsp;images&#39;&nbsp;pixels&nbsp;are&nbsp;initialized&nbsp;to&nbsp;non-zero&nbsp;values.</span><br>
<span class="lineno"></span><span class="keyword" id="6867208">func</span>&nbsp;<span class="ident" id="6867213">bench</span><span class="op" id="6867218">(</span><span class="ident" id="6867219">b</span>&nbsp;<span class="op" id="6867221">*</span><span class="ident" id="6867222">testing</span><span class="op" id="6867229">.</span><span class="ident" id="6867230">B</span><span class="op" id="6867231">,</span>&nbsp;<span class="ident" id="6867233">dcm</span><span class="op" id="6867236">,</span>&nbsp;<span class="ident" id="6867238">scm</span><span class="op" id="6867241">,</span>&nbsp;<span class="ident" id="6867243">mcm</span>&nbsp;<span class="ident" id="6867247">color</span><span class="op" id="6867252">.</span><span class="ident" id="6867253">Model</span><span class="op" id="6867258">,</span>&nbsp;<span class="ident" id="6867260">op</span>&nbsp;<span class="ident" id="6867263">Op</span><span class="op" id="6867265">)</span>&nbsp;<span class="op" id="6867267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867270">b</span><span class="op" id="6867271">.</span><span class="ident" id="6867272">StopTimer</span><span class="op" id="6867281">(</span><span class="op" id="6867282">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867286">var</span>&nbsp;<span class="ident" id="6867290">dst</span>&nbsp;<span class="ident" id="6867294">Image</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867301">switch</span>&nbsp;<span class="ident" id="6867308">dcm</span>&nbsp;<span class="op" id="6867312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867315">case</span>&nbsp;<span class="ident" id="6867320">color</span><span class="op" id="6867325">.</span><span class="ident" id="6867326">RGBAModel</span><span class="op" id="6867335">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867339">dst1</span>&nbsp;<span class="op" id="6867344">:=</span>&nbsp;<span class="ident" id="6867347">image</span><span class="op" id="6867352">.</span><span class="ident" id="6867353">NewRGBA</span><span class="op" id="6867360">(</span><span class="ident" id="6867361">image</span><span class="op" id="6867366">.</span><span class="ident" id="6867367">Rect</span><span class="op" id="6867371">(</span><span class="num" id="6867372">0</span><span class="op" id="6867373">,</span>&nbsp;<span class="num" id="6867375">0</span><span class="op" id="6867376">,</span>&nbsp;<span class="ident" id="6867378">dstw</span><span class="op" id="6867382">,</span>&nbsp;<span class="ident" id="6867384">dsth</span><span class="op" id="6867388">)</span><span class="op" id="6867389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867393">for</span>&nbsp;<span class="ident" id="6867397">y</span>&nbsp;<span class="op" id="6867399">:=</span>&nbsp;<span class="num" id="6867402">0</span><span class="op" id="6867403">;</span>&nbsp;<span class="ident" id="6867405">y</span>&nbsp;<span class="op" id="6867407">&lt;</span>&nbsp;<span class="ident" id="6867409">dsth</span><span class="op" id="6867413">;</span>&nbsp;<span class="ident" id="6867415">y</span><span class="op" id="6867416">++</span>&nbsp;<span class="op" id="6867419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867424">for</span>&nbsp;<span class="ident" id="6867428">x</span>&nbsp;<span class="op" id="6867430">:=</span>&nbsp;<span class="num" id="6867433">0</span><span class="op" id="6867434">;</span>&nbsp;<span class="ident" id="6867436">x</span>&nbsp;<span class="op" id="6867438">&lt;</span>&nbsp;<span class="ident" id="6867440">dstw</span><span class="op" id="6867444">;</span>&nbsp;<span class="ident" id="6867446">x</span><span class="op" id="6867447">++</span>&nbsp;<span class="op" id="6867450">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867456">dst1</span><span class="op" id="6867460">.</span><span class="ident" id="6867461">SetRGBA</span><span class="op" id="6867468">(</span><span class="ident" id="6867469">x</span><span class="op" id="6867470">,</span>&nbsp;<span class="ident" id="6867472">y</span><span class="op" id="6867473">,</span>&nbsp;<span class="ident" id="6867475">color</span><span class="op" id="6867480">.</span><span class="ident" id="6867481">RGBA</span><span class="op" id="6867485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6867492">uint8</span><span class="op" id="6867497">(</span><span class="num" id="6867498">5</span>&nbsp;<span class="op" id="6867500">*</span>&nbsp;<span class="ident" id="6867502">x</span>&nbsp;<span class="op" id="6867504">%</span>&nbsp;<span class="num" id="6867506">0x100</span><span class="op" id="6867511">)</span><span class="op" id="6867512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6867519">uint8</span><span class="op" id="6867524">(</span><span class="num" id="6867525">7</span>&nbsp;<span class="op" id="6867527">*</span>&nbsp;<span class="ident" id="6867529">y</span>&nbsp;<span class="op" id="6867531">%</span>&nbsp;<span class="num" id="6867533">0x100</span><span class="op" id="6867538">)</span><span class="op" id="6867539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6867546">uint8</span><span class="op" id="6867551">(</span><span class="op" id="6867552">(</span><span class="num" id="6867553">7</span><span class="op" id="6867554">*</span><span class="ident" id="6867555">x</span>&nbsp;<span class="op" id="6867557">+</span>&nbsp;<span class="num" id="6867559">5</span><span class="op" id="6867560">*</span><span class="ident" id="6867561">y</span><span class="op" id="6867562">)</span>&nbsp;<span class="op" id="6867564">%</span>&nbsp;<span class="num" id="6867566">0x100</span><span class="op" id="6867571">)</span><span class="op" id="6867572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6867579">0xff</span><span class="op" id="6867583">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867589">}</span><span class="op" id="6867590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867595">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867603">dst</span>&nbsp;<span class="op" id="6867607">=</span>&nbsp;<span class="ident" id="6867609">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867615">case</span>&nbsp;<span class="ident" id="6867620">color</span><span class="op" id="6867625">.</span><span class="ident" id="6867626">RGBA64Model</span><span class="op" id="6867637">:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867641">dst1</span>&nbsp;<span class="op" id="6867646">:=</span>&nbsp;<span class="ident" id="6867649">image</span><span class="op" id="6867654">.</span><span class="ident" id="6867655">NewRGBA64</span><span class="op" id="6867664">(</span><span class="ident" id="6867665">image</span><span class="op" id="6867670">.</span><span class="ident" id="6867671">Rect</span><span class="op" id="6867675">(</span><span class="num" id="6867676">0</span><span class="op" id="6867677">,</span>&nbsp;<span class="num" id="6867679">0</span><span class="op" id="6867680">,</span>&nbsp;<span class="ident" id="6867682">dstw</span><span class="op" id="6867686">,</span>&nbsp;<span class="ident" id="6867688">dsth</span><span class="op" id="6867692">)</span><span class="op" id="6867693">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867697">for</span>&nbsp;<span class="ident" id="6867701">y</span>&nbsp;<span class="op" id="6867703">:=</span>&nbsp;<span class="num" id="6867706">0</span><span class="op" id="6867707">;</span>&nbsp;<span class="ident" id="6867709">y</span>&nbsp;<span class="op" id="6867711">&lt;</span>&nbsp;<span class="ident" id="6867713">dsth</span><span class="op" id="6867717">;</span>&nbsp;<span class="ident" id="6867719">y</span><span class="op" id="6867720">++</span>&nbsp;<span class="op" id="6867723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867728">for</span>&nbsp;<span class="ident" id="6867732">x</span>&nbsp;<span class="op" id="6867734">:=</span>&nbsp;<span class="num" id="6867737">0</span><span class="op" id="6867738">;</span>&nbsp;<span class="ident" id="6867740">x</span>&nbsp;<span class="op" id="6867742">&lt;</span>&nbsp;<span class="ident" id="6867744">dstw</span><span class="op" id="6867748">;</span>&nbsp;<span class="ident" id="6867750">x</span><span class="op" id="6867751">++</span>&nbsp;<span class="op" id="6867754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867760">dst1</span><span class="op" id="6867764">.</span><span class="ident" id="6867765">SetRGBA64</span><span class="op" id="6867774">(</span><span class="ident" id="6867775">x</span><span class="op" id="6867776">,</span>&nbsp;<span class="ident" id="6867778">y</span><span class="op" id="6867779">,</span>&nbsp;<span class="ident" id="6867781">color</span><span class="op" id="6867786">.</span><span class="ident" id="6867787">RGBA64</span><span class="op" id="6867793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6867800">uint16</span><span class="op" id="6867806">(</span><span class="num" id="6867807">53</span>&nbsp;<span class="op" id="6867810">*</span>&nbsp;<span class="ident" id="6867812">x</span>&nbsp;<span class="op" id="6867814">%</span>&nbsp;<span class="num" id="6867816">0x10000</span><span class="op" id="6867823">)</span><span class="op" id="6867824">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6867831">uint16</span><span class="op" id="6867837">(</span><span class="num" id="6867838">59</span>&nbsp;<span class="op" id="6867841">*</span>&nbsp;<span class="ident" id="6867843">y</span>&nbsp;<span class="op" id="6867845">%</span>&nbsp;<span class="num" id="6867847">0x10000</span><span class="op" id="6867854">)</span><span class="op" id="6867855">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6867862">uint16</span><span class="op" id="6867868">(</span><span class="op" id="6867869">(</span><span class="num" id="6867870">59</span><span class="op" id="6867872">*</span><span class="ident" id="6867873">x</span>&nbsp;<span class="op" id="6867875">+</span>&nbsp;<span class="num" id="6867877">53</span><span class="op" id="6867879">*</span><span class="ident" id="6867880">y</span><span class="op" id="6867881">)</span>&nbsp;<span class="op" id="6867883">%</span>&nbsp;<span class="num" id="6867885">0x10000</span><span class="op" id="6867892">)</span><span class="op" id="6867893">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6867900">0xffff</span><span class="op" id="6867906">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867912">}</span><span class="op" id="6867913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867918">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867922">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867926">dst</span>&nbsp;<span class="op" id="6867930">=</span>&nbsp;<span class="ident" id="6867932">dst1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6867938">default</span><span class="op" id="6867945">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6867949">b</span><span class="op" id="6867950">.</span><span class="ident" id="6867951">Fatal</span><span class="op" id="6867956">(</span><span class="string" id="6867957">&#34;unknown&nbsp;destination&nbsp;color&nbsp;model&#34;</span><span class="op" id="6867990">,</span>&nbsp;<span class="ident" id="6867992">dcm</span><span class="op" id="6867995">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6867998">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868002">var</span>&nbsp;<span class="ident" id="6868006">src</span>&nbsp;<span class="ident" id="6868010">image</span><span class="op" id="6868015">.</span><span class="ident" id="6868016">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868023">switch</span>&nbsp;<span class="ident" id="6868030">scm</span>&nbsp;<span class="op" id="6868034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868037">case</span>&nbsp;<span class="builtintype" id="6868042">nil</span><span class="op" id="6868045">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868049">src</span>&nbsp;<span class="op" id="6868053">=</span>&nbsp;<span class="op" id="6868055">&amp;</span><span class="ident" id="6868056">image</span><span class="op" id="6868061">.</span><span class="ident" id="6868062">Uniform</span><span class="op" id="6868069">{</span><span class="ident" id="6868070">C</span><span class="op" id="6868071">:</span>&nbsp;<span class="ident" id="6868073">color</span><span class="op" id="6868078">.</span><span class="ident" id="6868079">RGBA</span><span class="op" id="6868083">{</span><span class="num" id="6868084">0x11</span><span class="op" id="6868088">,</span>&nbsp;<span class="num" id="6868090">0x22</span><span class="op" id="6868094">,</span>&nbsp;<span class="num" id="6868096">0x33</span><span class="op" id="6868100">,</span>&nbsp;<span class="num" id="6868102">0xff</span><span class="op" id="6868106">}</span><span class="op" id="6868107">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868110">case</span>&nbsp;<span class="ident" id="6868115">color</span><span class="op" id="6868120">.</span><span class="ident" id="6868121">RGBAModel</span><span class="op" id="6868130">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868134">src1</span>&nbsp;<span class="op" id="6868139">:=</span>&nbsp;<span class="ident" id="6868142">image</span><span class="op" id="6868147">.</span><span class="ident" id="6868148">NewRGBA</span><span class="op" id="6868155">(</span><span class="ident" id="6868156">image</span><span class="op" id="6868161">.</span><span class="ident" id="6868162">Rect</span><span class="op" id="6868166">(</span><span class="num" id="6868167">0</span><span class="op" id="6868168">,</span>&nbsp;<span class="num" id="6868170">0</span><span class="op" id="6868171">,</span>&nbsp;<span class="ident" id="6868173">srcw</span><span class="op" id="6868177">,</span>&nbsp;<span class="ident" id="6868179">srch</span><span class="op" id="6868183">)</span><span class="op" id="6868184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868188">for</span>&nbsp;<span class="ident" id="6868192">y</span>&nbsp;<span class="op" id="6868194">:=</span>&nbsp;<span class="num" id="6868197">0</span><span class="op" id="6868198">;</span>&nbsp;<span class="ident" id="6868200">y</span>&nbsp;<span class="op" id="6868202">&lt;</span>&nbsp;<span class="ident" id="6868204">srch</span><span class="op" id="6868208">;</span>&nbsp;<span class="ident" id="6868210">y</span><span class="op" id="6868211">++</span>&nbsp;<span class="op" id="6868214">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868219">for</span>&nbsp;<span class="ident" id="6868223">x</span>&nbsp;<span class="op" id="6868225">:=</span>&nbsp;<span class="num" id="6868228">0</span><span class="op" id="6868229">;</span>&nbsp;<span class="ident" id="6868231">x</span>&nbsp;<span class="op" id="6868233">&lt;</span>&nbsp;<span class="ident" id="6868235">srcw</span><span class="op" id="6868239">;</span>&nbsp;<span class="ident" id="6868241">x</span><span class="op" id="6868242">++</span>&nbsp;<span class="op" id="6868245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868251">src1</span><span class="op" id="6868255">.</span><span class="ident" id="6868256">SetRGBA</span><span class="op" id="6868263">(</span><span class="ident" id="6868264">x</span><span class="op" id="6868265">,</span>&nbsp;<span class="ident" id="6868267">y</span><span class="op" id="6868268">,</span>&nbsp;<span class="ident" id="6868270">color</span><span class="op" id="6868275">.</span><span class="ident" id="6868276">RGBA</span><span class="op" id="6868280">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868287">uint8</span><span class="op" id="6868292">(</span><span class="num" id="6868293">13</span>&nbsp;<span class="op" id="6868296">*</span>&nbsp;<span class="ident" id="6868298">x</span>&nbsp;<span class="op" id="6868300">%</span>&nbsp;<span class="num" id="6868302">0x80</span><span class="op" id="6868306">)</span><span class="op" id="6868307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868314">uint8</span><span class="op" id="6868319">(</span><span class="num" id="6868320">11</span>&nbsp;<span class="op" id="6868323">*</span>&nbsp;<span class="ident" id="6868325">y</span>&nbsp;<span class="op" id="6868327">%</span>&nbsp;<span class="num" id="6868329">0x80</span><span class="op" id="6868333">)</span><span class="op" id="6868334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868341">uint8</span><span class="op" id="6868346">(</span><span class="op" id="6868347">(</span><span class="num" id="6868348">11</span><span class="op" id="6868350">*</span><span class="ident" id="6868351">x</span>&nbsp;<span class="op" id="6868353">+</span>&nbsp;<span class="num" id="6868355">13</span><span class="op" id="6868357">*</span><span class="ident" id="6868358">y</span><span class="op" id="6868359">)</span>&nbsp;<span class="op" id="6868361">%</span>&nbsp;<span class="num" id="6868363">0x80</span><span class="op" id="6868367">)</span><span class="op" id="6868368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6868375">0x7f</span><span class="op" id="6868379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6868385">}</span><span class="op" id="6868386">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6868391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6868395">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868399">src</span>&nbsp;<span class="op" id="6868403">=</span>&nbsp;<span class="ident" id="6868405">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868411">case</span>&nbsp;<span class="ident" id="6868416">color</span><span class="op" id="6868421">.</span><span class="ident" id="6868422">RGBA64Model</span><span class="op" id="6868433">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868437">src1</span>&nbsp;<span class="op" id="6868442">:=</span>&nbsp;<span class="ident" id="6868445">image</span><span class="op" id="6868450">.</span><span class="ident" id="6868451">NewRGBA64</span><span class="op" id="6868460">(</span><span class="ident" id="6868461">image</span><span class="op" id="6868466">.</span><span class="ident" id="6868467">Rect</span><span class="op" id="6868471">(</span><span class="num" id="6868472">0</span><span class="op" id="6868473">,</span>&nbsp;<span class="num" id="6868475">0</span><span class="op" id="6868476">,</span>&nbsp;<span class="ident" id="6868478">srcw</span><span class="op" id="6868482">,</span>&nbsp;<span class="ident" id="6868484">srch</span><span class="op" id="6868488">)</span><span class="op" id="6868489">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868493">for</span>&nbsp;<span class="ident" id="6868497">y</span>&nbsp;<span class="op" id="6868499">:=</span>&nbsp;<span class="num" id="6868502">0</span><span class="op" id="6868503">;</span>&nbsp;<span class="ident" id="6868505">y</span>&nbsp;<span class="op" id="6868507">&lt;</span>&nbsp;<span class="ident" id="6868509">srch</span><span class="op" id="6868513">;</span>&nbsp;<span class="ident" id="6868515">y</span><span class="op" id="6868516">++</span>&nbsp;<span class="op" id="6868519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868524">for</span>&nbsp;<span class="ident" id="6868528">x</span>&nbsp;<span class="op" id="6868530">:=</span>&nbsp;<span class="num" id="6868533">0</span><span class="op" id="6868534">;</span>&nbsp;<span class="ident" id="6868536">x</span>&nbsp;<span class="op" id="6868538">&lt;</span>&nbsp;<span class="ident" id="6868540">srcw</span><span class="op" id="6868544">;</span>&nbsp;<span class="ident" id="6868546">x</span><span class="op" id="6868547">++</span>&nbsp;<span class="op" id="6868550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868556">src1</span><span class="op" id="6868560">.</span><span class="ident" id="6868561">SetRGBA64</span><span class="op" id="6868570">(</span><span class="ident" id="6868571">x</span><span class="op" id="6868572">,</span>&nbsp;<span class="ident" id="6868574">y</span><span class="op" id="6868575">,</span>&nbsp;<span class="ident" id="6868577">color</span><span class="op" id="6868582">.</span><span class="ident" id="6868583">RGBA64</span><span class="op" id="6868589">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868596">uint16</span><span class="op" id="6868602">(</span><span class="num" id="6868603">103</span>&nbsp;<span class="op" id="6868607">*</span>&nbsp;<span class="ident" id="6868609">x</span>&nbsp;<span class="op" id="6868611">%</span>&nbsp;<span class="num" id="6868613">0x8000</span><span class="op" id="6868619">)</span><span class="op" id="6868620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868627">uint16</span><span class="op" id="6868633">(</span><span class="num" id="6868634">101</span>&nbsp;<span class="op" id="6868638">*</span>&nbsp;<span class="ident" id="6868640">y</span>&nbsp;<span class="op" id="6868642">%</span>&nbsp;<span class="num" id="6868644">0x8000</span><span class="op" id="6868650">)</span><span class="op" id="6868651">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868658">uint16</span><span class="op" id="6868664">(</span><span class="op" id="6868665">(</span><span class="num" id="6868666">101</span><span class="op" id="6868669">*</span><span class="ident" id="6868670">x</span>&nbsp;<span class="op" id="6868672">+</span>&nbsp;<span class="num" id="6868674">103</span><span class="op" id="6868677">*</span><span class="ident" id="6868678">y</span><span class="op" id="6868679">)</span>&nbsp;<span class="op" id="6868681">%</span>&nbsp;<span class="num" id="6868683">0x8000</span><span class="op" id="6868689">)</span><span class="op" id="6868690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6868697">0x7fff</span><span class="op" id="6868703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6868709">}</span><span class="op" id="6868710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6868715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6868719">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868723">src</span>&nbsp;<span class="op" id="6868727">=</span>&nbsp;<span class="ident" id="6868729">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868735">case</span>&nbsp;<span class="ident" id="6868740">color</span><span class="op" id="6868745">.</span><span class="ident" id="6868746">NRGBAModel</span><span class="op" id="6868756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868760">src1</span>&nbsp;<span class="op" id="6868765">:=</span>&nbsp;<span class="ident" id="6868768">image</span><span class="op" id="6868773">.</span><span class="ident" id="6868774">NewNRGBA</span><span class="op" id="6868782">(</span><span class="ident" id="6868783">image</span><span class="op" id="6868788">.</span><span class="ident" id="6868789">Rect</span><span class="op" id="6868793">(</span><span class="num" id="6868794">0</span><span class="op" id="6868795">,</span>&nbsp;<span class="num" id="6868797">0</span><span class="op" id="6868798">,</span>&nbsp;<span class="ident" id="6868800">srcw</span><span class="op" id="6868804">,</span>&nbsp;<span class="ident" id="6868806">srch</span><span class="op" id="6868810">)</span><span class="op" id="6868811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868815">for</span>&nbsp;<span class="ident" id="6868819">y</span>&nbsp;<span class="op" id="6868821">:=</span>&nbsp;<span class="num" id="6868824">0</span><span class="op" id="6868825">;</span>&nbsp;<span class="ident" id="6868827">y</span>&nbsp;<span class="op" id="6868829">&lt;</span>&nbsp;<span class="ident" id="6868831">srch</span><span class="op" id="6868835">;</span>&nbsp;<span class="ident" id="6868837">y</span><span class="op" id="6868838">++</span>&nbsp;<span class="op" id="6868841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6868846">for</span>&nbsp;<span class="ident" id="6868850">x</span>&nbsp;<span class="op" id="6868852">:=</span>&nbsp;<span class="num" id="6868855">0</span><span class="op" id="6868856">;</span>&nbsp;<span class="ident" id="6868858">x</span>&nbsp;<span class="op" id="6868860">&lt;</span>&nbsp;<span class="ident" id="6868862">srcw</span><span class="op" id="6868866">;</span>&nbsp;<span class="ident" id="6868868">x</span><span class="op" id="6868869">++</span>&nbsp;<span class="op" id="6868872">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6868878">src1</span><span class="op" id="6868882">.</span><span class="ident" id="6868883">SetNRGBA</span><span class="op" id="6868891">(</span><span class="ident" id="6868892">x</span><span class="op" id="6868893">,</span>&nbsp;<span class="ident" id="6868895">y</span><span class="op" id="6868896">,</span>&nbsp;<span class="ident" id="6868898">color</span><span class="op" id="6868903">.</span><span class="ident" id="6868904">NRGBA</span><span class="op" id="6868909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868916">uint8</span><span class="op" id="6868921">(</span><span class="num" id="6868922">13</span>&nbsp;<span class="op" id="6868925">*</span>&nbsp;<span class="ident" id="6868927">x</span>&nbsp;<span class="op" id="6868929">%</span>&nbsp;<span class="num" id="6868931">0x100</span><span class="op" id="6868936">)</span><span class="op" id="6868937">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868944">uint8</span><span class="op" id="6868949">(</span><span class="num" id="6868950">11</span>&nbsp;<span class="op" id="6868953">*</span>&nbsp;<span class="ident" id="6868955">y</span>&nbsp;<span class="op" id="6868957">%</span>&nbsp;<span class="num" id="6868959">0x100</span><span class="op" id="6868964">)</span><span class="op" id="6868965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6868972">uint8</span><span class="op" id="6868977">(</span><span class="op" id="6868978">(</span><span class="num" id="6868979">11</span><span class="op" id="6868981">*</span><span class="ident" id="6868982">x</span>&nbsp;<span class="op" id="6868984">+</span>&nbsp;<span class="num" id="6868986">13</span><span class="op" id="6868988">*</span><span class="ident" id="6868989">y</span><span class="op" id="6868990">)</span>&nbsp;<span class="op" id="6868992">%</span>&nbsp;<span class="num" id="6868994">0x100</span><span class="op" id="6868999">)</span><span class="op" id="6869000">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="6869007">0x7f</span><span class="op" id="6869011">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869017">}</span><span class="op" id="6869018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869027">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869031">src</span>&nbsp;<span class="op" id="6869035">=</span>&nbsp;<span class="ident" id="6869037">src1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869043">case</span>&nbsp;<span class="ident" id="6869048">color</span><span class="op" id="6869053">.</span><span class="ident" id="6869054">YCbCrModel</span><span class="op" id="6869064">:</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869068">yy</span>&nbsp;<span class="op" id="6869071">:=</span>&nbsp;<span class="builtinfunc" id="6869074">make</span><span class="op" id="6869078">(</span><span class="op" id="6869079">[</span><span class="op" id="6869080">]</span><span class="builtintype" id="6869081">uint8</span><span class="op" id="6869086">,</span>&nbsp;<span class="ident" id="6869088">srcw</span><span class="op" id="6869092">*</span><span class="ident" id="6869093">srch</span><span class="op" id="6869097">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869101">cb</span>&nbsp;<span class="op" id="6869104">:=</span>&nbsp;<span class="builtinfunc" id="6869107">make</span><span class="op" id="6869111">(</span><span class="op" id="6869112">[</span><span class="op" id="6869113">]</span><span class="builtintype" id="6869114">uint8</span><span class="op" id="6869119">,</span>&nbsp;<span class="ident" id="6869121">srcw</span><span class="op" id="6869125">*</span><span class="ident" id="6869126">srch</span><span class="op" id="6869130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869134">cr</span>&nbsp;<span class="op" id="6869137">:=</span>&nbsp;<span class="builtinfunc" id="6869140">make</span><span class="op" id="6869144">(</span><span class="op" id="6869145">[</span><span class="op" id="6869146">]</span><span class="builtintype" id="6869147">uint8</span><span class="op" id="6869152">,</span>&nbsp;<span class="ident" id="6869154">srcw</span><span class="op" id="6869158">*</span><span class="ident" id="6869159">srch</span><span class="op" id="6869163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869167">for</span>&nbsp;<span class="ident" id="6869171">i</span>&nbsp;<span class="op" id="6869173">:=</span>&nbsp;<span class="keyword" id="6869176">range</span>&nbsp;<span class="ident" id="6869182">yy</span>&nbsp;<span class="op" id="6869185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869190">yy</span><span class="op" id="6869192">[</span><span class="ident" id="6869193">i</span><span class="op" id="6869194">]</span>&nbsp;<span class="op" id="6869196">=</span>&nbsp;<span class="builtintype" id="6869198">uint8</span><span class="op" id="6869203">(</span><span class="num" id="6869204">3</span>&nbsp;<span class="op" id="6869206">*</span>&nbsp;<span class="ident" id="6869208">i</span>&nbsp;<span class="op" id="6869210">%</span>&nbsp;<span class="num" id="6869212">0x100</span><span class="op" id="6869217">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869222">cb</span><span class="op" id="6869224">[</span><span class="ident" id="6869225">i</span><span class="op" id="6869226">]</span>&nbsp;<span class="op" id="6869228">=</span>&nbsp;<span class="builtintype" id="6869230">uint8</span><span class="op" id="6869235">(</span><span class="num" id="6869236">5</span>&nbsp;<span class="op" id="6869238">*</span>&nbsp;<span class="ident" id="6869240">i</span>&nbsp;<span class="op" id="6869242">%</span>&nbsp;<span class="num" id="6869244">0x100</span><span class="op" id="6869249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869254">cr</span><span class="op" id="6869256">[</span><span class="ident" id="6869257">i</span><span class="op" id="6869258">]</span>&nbsp;<span class="op" id="6869260">=</span>&nbsp;<span class="builtintype" id="6869262">uint8</span><span class="op" id="6869267">(</span><span class="num" id="6869268">7</span>&nbsp;<span class="op" id="6869270">*</span>&nbsp;<span class="ident" id="6869272">i</span>&nbsp;<span class="op" id="6869274">%</span>&nbsp;<span class="num" id="6869276">0x100</span><span class="op" id="6869281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869289">src</span>&nbsp;<span class="op" id="6869293">=</span>&nbsp;<span class="op" id="6869295">&amp;</span><span class="ident" id="6869296">image</span><span class="op" id="6869301">.</span><span class="ident" id="6869302">YCbCr</span><span class="op" id="6869307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869312">Y</span><span class="op" id="6869313">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869328">yy</span><span class="op" id="6869330">,</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869335">Cb</span><span class="op" id="6869337">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869351">cb</span><span class="op" id="6869353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869358">Cr</span><span class="op" id="6869360">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869374">cr</span><span class="op" id="6869376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869381">YStride</span><span class="op" id="6869388">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869397">srcw</span><span class="op" id="6869401">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869406">CStride</span><span class="op" id="6869413">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869422">srcw</span><span class="op" id="6869426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869431">SubsampleRatio</span><span class="op" id="6869445">:</span>&nbsp;<span class="ident" id="6869447">image</span><span class="op" id="6869452">.</span><span class="ident" id="6869453">YCbCrSubsampleRatio444</span><span class="op" id="6869475">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869480">Rect</span><span class="op" id="6869484">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869496">image</span><span class="op" id="6869501">.</span><span class="ident" id="6869502">Rect</span><span class="op" id="6869506">(</span><span class="num" id="6869507">0</span><span class="op" id="6869508">,</span>&nbsp;<span class="num" id="6869510">0</span><span class="op" id="6869511">,</span>&nbsp;<span class="ident" id="6869513">srcw</span><span class="op" id="6869517">,</span>&nbsp;<span class="ident" id="6869519">srch</span><span class="op" id="6869523">)</span><span class="op" id="6869524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869528">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869531">default</span><span class="op" id="6869538">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869542">b</span><span class="op" id="6869543">.</span><span class="ident" id="6869544">Fatal</span><span class="op" id="6869549">(</span><span class="string" id="6869550">&#34;unknown&nbsp;source&nbsp;color&nbsp;model&#34;</span><span class="op" id="6869578">,</span>&nbsp;<span class="ident" id="6869580">scm</span><span class="op" id="6869583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869586">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869590">var</span>&nbsp;<span class="ident" id="6869594">mask</span>&nbsp;<span class="ident" id="6869599">image</span><span class="op" id="6869604">.</span><span class="ident" id="6869605">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869612">switch</span>&nbsp;<span class="ident" id="6869619">mcm</span>&nbsp;<span class="op" id="6869623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869626">case</span>&nbsp;<span class="builtintype" id="6869631">nil</span><span class="op" id="6869634">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6869638">//&nbsp;No-op.</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869649">case</span>&nbsp;<span class="ident" id="6869654">color</span><span class="op" id="6869659">.</span><span class="ident" id="6869660">AlphaModel</span><span class="op" id="6869670">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869674">mask1</span>&nbsp;<span class="op" id="6869680">:=</span>&nbsp;<span class="ident" id="6869683">image</span><span class="op" id="6869688">.</span><span class="ident" id="6869689">NewAlpha</span><span class="op" id="6869697">(</span><span class="ident" id="6869698">image</span><span class="op" id="6869703">.</span><span class="ident" id="6869704">Rect</span><span class="op" id="6869708">(</span><span class="num" id="6869709">0</span><span class="op" id="6869710">,</span>&nbsp;<span class="num" id="6869712">0</span><span class="op" id="6869713">,</span>&nbsp;<span class="ident" id="6869715">srcw</span><span class="op" id="6869719">,</span>&nbsp;<span class="ident" id="6869721">srch</span><span class="op" id="6869725">)</span><span class="op" id="6869726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869730">for</span>&nbsp;<span class="ident" id="6869734">y</span>&nbsp;<span class="op" id="6869736">:=</span>&nbsp;<span class="num" id="6869739">0</span><span class="op" id="6869740">;</span>&nbsp;<span class="ident" id="6869742">y</span>&nbsp;<span class="op" id="6869744">&lt;</span>&nbsp;<span class="ident" id="6869746">srch</span><span class="op" id="6869750">;</span>&nbsp;<span class="ident" id="6869752">y</span><span class="op" id="6869753">++</span>&nbsp;<span class="op" id="6869756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869761">for</span>&nbsp;<span class="ident" id="6869765">x</span>&nbsp;<span class="op" id="6869767">:=</span>&nbsp;<span class="num" id="6869770">0</span><span class="op" id="6869771">;</span>&nbsp;<span class="ident" id="6869773">x</span>&nbsp;<span class="op" id="6869775">&lt;</span>&nbsp;<span class="ident" id="6869777">srcw</span><span class="op" id="6869781">;</span>&nbsp;<span class="ident" id="6869783">x</span><span class="op" id="6869784">++</span>&nbsp;<span class="op" id="6869787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869793">a</span>&nbsp;<span class="op" id="6869795">:=</span>&nbsp;<span class="builtintype" id="6869798">uint8</span><span class="op" id="6869803">(</span><span class="op" id="6869804">(</span><span class="num" id="6869805">23</span><span class="op" id="6869807">*</span><span class="ident" id="6869808">x</span>&nbsp;<span class="op" id="6869810">+</span>&nbsp;<span class="num" id="6869812">29</span><span class="op" id="6869814">*</span><span class="ident" id="6869815">y</span><span class="op" id="6869816">)</span>&nbsp;<span class="op" id="6869818">%</span>&nbsp;<span class="num" id="6869820">0x100</span><span class="op" id="6869825">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6869831">//&nbsp;Glyph&nbsp;masks&nbsp;are&nbsp;typically&nbsp;mostly&nbsp;zero,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6869877">//&nbsp;so&nbsp;we&nbsp;only&nbsp;set&nbsp;a&nbsp;quarter&nbsp;of&nbsp;mask1&#39;s&nbsp;pixels.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6869928">if</span>&nbsp;<span class="ident" id="6869931">a</span>&nbsp;<span class="op" id="6869933">&gt;=</span>&nbsp;<span class="num" id="6869936">0xc0</span>&nbsp;<span class="op" id="6869941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6869948">mask1</span><span class="op" id="6869953">.</span><span class="ident" id="6869954">SetAlpha</span><span class="op" id="6869962">(</span><span class="ident" id="6869963">x</span><span class="op" id="6869964">,</span>&nbsp;<span class="ident" id="6869966">y</span><span class="op" id="6869967">,</span>&nbsp;<span class="ident" id="6869969">color</span><span class="op" id="6869974">.</span><span class="ident" id="6869975">Alpha</span><span class="op" id="6869980">{</span><span class="ident" id="6869981">a</span><span class="op" id="6869982">}</span><span class="op" id="6869983">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869989">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6869998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870002">mask</span>&nbsp;<span class="op" id="6870007">=</span>&nbsp;<span class="ident" id="6870009">mask1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6870016">default</span><span class="op" id="6870023">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870027">b</span><span class="op" id="6870028">.</span><span class="ident" id="6870029">Fatal</span><span class="op" id="6870034">(</span><span class="string" id="6870035">&#34;unknown&nbsp;mask&nbsp;color&nbsp;model&#34;</span><span class="op" id="6870061">,</span>&nbsp;<span class="ident" id="6870063">mcm</span><span class="op" id="6870066">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6870069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870073">b</span><span class="op" id="6870074">.</span><span class="ident" id="6870075">StartTimer</span><span class="op" id="6870085">(</span><span class="op" id="6870086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6870089">for</span>&nbsp;<span class="ident" id="6870093">i</span>&nbsp;<span class="op" id="6870095">:=</span>&nbsp;<span class="num" id="6870098">0</span><span class="op" id="6870099">;</span>&nbsp;<span class="ident" id="6870101">i</span>&nbsp;<span class="op" id="6870103">&lt;</span>&nbsp;<span class="ident" id="6870105">b</span><span class="op" id="6870106">.</span><span class="ident" id="6870107">N</span><span class="op" id="6870108">;</span>&nbsp;<span class="ident" id="6870110">i</span><span class="op" id="6870111">++</span>&nbsp;<span class="op" id="6870114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6870118">//&nbsp;Scatter&nbsp;the&nbsp;destination&nbsp;rectangle&nbsp;to&nbsp;draw&nbsp;into.</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870171">x</span>&nbsp;<span class="op" id="6870173">:=</span>&nbsp;<span class="num" id="6870176">3</span>&nbsp;<span class="op" id="6870178">*</span>&nbsp;<span class="ident" id="6870180">i</span>&nbsp;<span class="op" id="6870182">%</span>&nbsp;<span class="op" id="6870184">(</span><span class="ident" id="6870185">dstw</span>&nbsp;<span class="op" id="6870190">-</span>&nbsp;<span class="ident" id="6870192">srcw</span><span class="op" id="6870196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870200">y</span>&nbsp;<span class="op" id="6870202">:=</span>&nbsp;<span class="num" id="6870205">7</span>&nbsp;<span class="op" id="6870207">*</span>&nbsp;<span class="ident" id="6870209">i</span>&nbsp;<span class="op" id="6870211">%</span>&nbsp;<span class="op" id="6870213">(</span><span class="ident" id="6870214">dsth</span>&nbsp;<span class="op" id="6870219">-</span>&nbsp;<span class="ident" id="6870221">srch</span><span class="op" id="6870225">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870230">DrawMask</span><span class="op" id="6870238">(</span><span class="ident" id="6870239">dst</span><span class="op" id="6870242">,</span>&nbsp;<span class="ident" id="6870244">dst</span><span class="op" id="6870247">.</span><span class="ident" id="6870248">Bounds</span><span class="op" id="6870254">(</span><span class="op" id="6870255">)</span><span class="op" id="6870256">.</span><span class="ident" id="6870257">Add</span><span class="op" id="6870260">(</span><span class="ident" id="6870261">image</span><span class="op" id="6870266">.</span><span class="ident" id="6870267">Pt</span><span class="op" id="6870269">(</span><span class="ident" id="6870270">x</span><span class="op" id="6870271">,</span>&nbsp;<span class="ident" id="6870273">y</span><span class="op" id="6870274">)</span><span class="op" id="6870275">)</span><span class="op" id="6870276">,</span>&nbsp;<span class="ident" id="6870278">src</span><span class="op" id="6870281">,</span>&nbsp;<span class="ident" id="6870283">image</span><span class="op" id="6870288">.</span><span class="ident" id="6870289">ZP</span><span class="op" id="6870291">,</span>&nbsp;<span class="ident" id="6870293">mask</span><span class="op" id="6870297">,</span>&nbsp;<span class="ident" id="6870299">image</span><span class="op" id="6870304">.</span><span class="ident" id="6870305">ZP</span><span class="op" id="6870307">,</span>&nbsp;<span class="ident" id="6870309">op</span><span class="op" id="6870311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6870314">}</span><br>
<span class="lineno">150</span><span class="op" id="6870316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6870319">//&nbsp;The&nbsp;BenchmarkFoo&nbsp;functions&nbsp;exercise&nbsp;a&nbsp;drawFoo&nbsp;fast-path&nbsp;function&nbsp;in&nbsp;draw.go.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6870400">func</span>&nbsp;<span class="ident" id="6870405">BenchmarkFillOver</span><span class="op" id="6870422">(</span><span class="ident" id="6870423">b</span>&nbsp;<span class="op" id="6870425">*</span><span class="ident" id="6870426">testing</span><span class="op" id="6870433">.</span><span class="ident" id="6870434">B</span><span class="op" id="6870435">)</span>&nbsp;<span class="op" id="6870437">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870440">bench</span><span class="op" id="6870445">(</span><span class="ident" id="6870446">b</span><span class="op" id="6870447">,</span>&nbsp;<span class="ident" id="6870449">color</span><span class="op" id="6870454">.</span><span class="ident" id="6870455">RGBAModel</span><span class="op" id="6870464">,</span>&nbsp;<span class="builtintype" id="6870466">nil</span><span class="op" id="6870469">,</span>&nbsp;<span class="builtintype" id="6870471">nil</span><span class="op" id="6870474">,</span>&nbsp;<span class="ident" id="6870476">Over</span><span class="op" id="6870480">)</span><br>
<span class="lineno"></span><span class="op" id="6870482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6870485">func</span>&nbsp;<span class="ident" id="6870490">BenchmarkFillSrc</span><span class="op" id="6870506">(</span><span class="ident" id="6870507">b</span>&nbsp;<span class="op" id="6870509">*</span><span class="ident" id="6870510">testing</span><span class="op" id="6870517">.</span><span class="ident" id="6870518">B</span><span class="op" id="6870519">)</span>&nbsp;<span class="op" id="6870521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870524">bench</span><span class="op" id="6870529">(</span><span class="ident" id="6870530">b</span><span class="op" id="6870531">,</span>&nbsp;<span class="ident" id="6870533">color</span><span class="op" id="6870538">.</span><span class="ident" id="6870539">RGBAModel</span><span class="op" id="6870548">,</span>&nbsp;<span class="builtintype" id="6870550">nil</span><span class="op" id="6870553">,</span>&nbsp;<span class="builtintype" id="6870555">nil</span><span class="op" id="6870558">,</span>&nbsp;<span class="ident" id="6870560">Src</span><span class="op" id="6870563">)</span><br>
<span class="lineno">160</span><span class="op" id="6870565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6870568">func</span>&nbsp;<span class="ident" id="6870573">BenchmarkCopyOver</span><span class="op" id="6870590">(</span><span class="ident" id="6870591">b</span>&nbsp;<span class="op" id="6870593">*</span><span class="ident" id="6870594">testing</span><span class="op" id="6870601">.</span><span class="ident" id="6870602">B</span><span class="op" id="6870603">)</span>&nbsp;<span class="op" id="6870605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870608">bench</span><span class="op" id="6870613">(</span><span class="ident" id="6870614">b</span><span class="op" id="6870615">,</span>&nbsp;<span class="ident" id="6870617">color</span><span class="op" id="6870622">.</span><span class="ident" id="6870623">RGBAModel</span><span class="op" id="6870632">,</span>&nbsp;<span class="ident" id="6870634">color</span><span class="op" id="6870639">.</span><span class="ident" id="6870640">RGBAModel</span><span class="op" id="6870649">,</span>&nbsp;<span class="builtintype" id="6870651">nil</span><span class="op" id="6870654">,</span>&nbsp;<span class="ident" id="6870656">Over</span><span class="op" id="6870660">)</span><br>
<span class="lineno"></span><span class="op" id="6870662">}</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="keyword" id="6870665">func</span>&nbsp;<span class="ident" id="6870670">BenchmarkCopySrc</span><span class="op" id="6870686">(</span><span class="ident" id="6870687">b</span>&nbsp;<span class="op" id="6870689">*</span><span class="ident" id="6870690">testing</span><span class="op" id="6870697">.</span><span class="ident" id="6870698">B</span><span class="op" id="6870699">)</span>&nbsp;<span class="op" id="6870701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870704">bench</span><span class="op" id="6870709">(</span><span class="ident" id="6870710">b</span><span class="op" id="6870711">,</span>&nbsp;<span class="ident" id="6870713">color</span><span class="op" id="6870718">.</span><span class="ident" id="6870719">RGBAModel</span><span class="op" id="6870728">,</span>&nbsp;<span class="ident" id="6870730">color</span><span class="op" id="6870735">.</span><span class="ident" id="6870736">RGBAModel</span><span class="op" id="6870745">,</span>&nbsp;<span class="builtintype" id="6870747">nil</span><span class="op" id="6870750">,</span>&nbsp;<span class="ident" id="6870752">Src</span><span class="op" id="6870755">)</span><br>
<span class="lineno"></span><span class="op" id="6870757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="keyword" id="6870760">func</span>&nbsp;<span class="ident" id="6870765">BenchmarkNRGBAOver</span><span class="op" id="6870783">(</span><span class="ident" id="6870784">b</span>&nbsp;<span class="op" id="6870786">*</span><span class="ident" id="6870787">testing</span><span class="op" id="6870794">.</span><span class="ident" id="6870795">B</span><span class="op" id="6870796">)</span>&nbsp;<span class="op" id="6870798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870801">bench</span><span class="op" id="6870806">(</span><span class="ident" id="6870807">b</span><span class="op" id="6870808">,</span>&nbsp;<span class="ident" id="6870810">color</span><span class="op" id="6870815">.</span><span class="ident" id="6870816">RGBAModel</span><span class="op" id="6870825">,</span>&nbsp;<span class="ident" id="6870827">color</span><span class="op" id="6870832">.</span><span class="ident" id="6870833">NRGBAModel</span><span class="op" id="6870843">,</span>&nbsp;<span class="builtintype" id="6870845">nil</span><span class="op" id="6870848">,</span>&nbsp;<span class="ident" id="6870850">Over</span><span class="op" id="6870854">)</span><br>
<span class="lineno"></span><span class="op" id="6870856">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6870859">func</span>&nbsp;<span class="ident" id="6870864">BenchmarkNRGBASrc</span><span class="op" id="6870881">(</span><span class="ident" id="6870882">b</span>&nbsp;<span class="op" id="6870884">*</span><span class="ident" id="6870885">testing</span><span class="op" id="6870892">.</span><span class="ident" id="6870893">B</span><span class="op" id="6870894">)</span>&nbsp;<span class="op" id="6870896">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870899">bench</span><span class="op" id="6870904">(</span><span class="ident" id="6870905">b</span><span class="op" id="6870906">,</span>&nbsp;<span class="ident" id="6870908">color</span><span class="op" id="6870913">.</span><span class="ident" id="6870914">RGBAModel</span><span class="op" id="6870923">,</span>&nbsp;<span class="ident" id="6870925">color</span><span class="op" id="6870930">.</span><span class="ident" id="6870931">NRGBAModel</span><span class="op" id="6870941">,</span>&nbsp;<span class="builtintype" id="6870943">nil</span><span class="op" id="6870946">,</span>&nbsp;<span class="ident" id="6870948">Src</span><span class="op" id="6870951">)</span><br>
<span class="lineno"></span><span class="op" id="6870953">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6870956">func</span>&nbsp;<span class="ident" id="6870961">BenchmarkYCbCr</span><span class="op" id="6870975">(</span><span class="ident" id="6870976">b</span>&nbsp;<span class="op" id="6870978">*</span><span class="ident" id="6870979">testing</span><span class="op" id="6870986">.</span><span class="ident" id="6870987">B</span><span class="op" id="6870988">)</span>&nbsp;<span class="op" id="6870990">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6870993">bench</span><span class="op" id="6870998">(</span><span class="ident" id="6870999">b</span><span class="op" id="6871000">,</span>&nbsp;<span class="ident" id="6871002">color</span><span class="op" id="6871007">.</span><span class="ident" id="6871008">RGBAModel</span><span class="op" id="6871017">,</span>&nbsp;<span class="ident" id="6871019">color</span><span class="op" id="6871024">.</span><span class="ident" id="6871025">YCbCrModel</span><span class="op" id="6871035">,</span>&nbsp;<span class="builtintype" id="6871037">nil</span><span class="op" id="6871040">,</span>&nbsp;<span class="ident" id="6871042">Over</span><span class="op" id="6871046">)</span><br>
<span class="lineno">180</span><span class="op" id="6871048">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871051">func</span>&nbsp;<span class="ident" id="6871056">BenchmarkGlyphOver</span><span class="op" id="6871074">(</span><span class="ident" id="6871075">b</span>&nbsp;<span class="op" id="6871077">*</span><span class="ident" id="6871078">testing</span><span class="op" id="6871085">.</span><span class="ident" id="6871086">B</span><span class="op" id="6871087">)</span>&nbsp;<span class="op" id="6871089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871092">bench</span><span class="op" id="6871097">(</span><span class="ident" id="6871098">b</span><span class="op" id="6871099">,</span>&nbsp;<span class="ident" id="6871101">color</span><span class="op" id="6871106">.</span><span class="ident" id="6871107">RGBAModel</span><span class="op" id="6871116">,</span>&nbsp;<span class="builtintype" id="6871118">nil</span><span class="op" id="6871121">,</span>&nbsp;<span class="ident" id="6871123">color</span><span class="op" id="6871128">.</span><span class="ident" id="6871129">AlphaModel</span><span class="op" id="6871139">,</span>&nbsp;<span class="ident" id="6871141">Over</span><span class="op" id="6871145">)</span><br>
<span class="lineno"></span><span class="op" id="6871147">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6871150">func</span>&nbsp;<span class="ident" id="6871155">BenchmarkRGBA</span><span class="op" id="6871168">(</span><span class="ident" id="6871169">b</span>&nbsp;<span class="op" id="6871171">*</span><span class="ident" id="6871172">testing</span><span class="op" id="6871179">.</span><span class="ident" id="6871180">B</span><span class="op" id="6871181">)</span>&nbsp;<span class="op" id="6871183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871186">bench</span><span class="op" id="6871191">(</span><span class="ident" id="6871192">b</span><span class="op" id="6871193">,</span>&nbsp;<span class="ident" id="6871195">color</span><span class="op" id="6871200">.</span><span class="ident" id="6871201">RGBAModel</span><span class="op" id="6871210">,</span>&nbsp;<span class="ident" id="6871212">color</span><span class="op" id="6871217">.</span><span class="ident" id="6871218">RGBA64Model</span><span class="op" id="6871229">,</span>&nbsp;<span class="builtintype" id="6871231">nil</span><span class="op" id="6871234">,</span>&nbsp;<span class="ident" id="6871236">Src</span><span class="op" id="6871239">)</span><br>
<span class="lineno"></span><span class="op" id="6871241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="comment" id="6871244">//&nbsp;The&nbsp;BenchmarkGenericFoo&nbsp;functions&nbsp;exercise&nbsp;the&nbsp;generic,&nbsp;slow-path&nbsp;code.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871320">func</span>&nbsp;<span class="ident" id="6871325">BenchmarkGenericOver</span><span class="op" id="6871345">(</span><span class="ident" id="6871346">b</span>&nbsp;<span class="op" id="6871348">*</span><span class="ident" id="6871349">testing</span><span class="op" id="6871356">.</span><span class="ident" id="6871357">B</span><span class="op" id="6871358">)</span>&nbsp;<span class="op" id="6871360">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871363">bench</span><span class="op" id="6871368">(</span><span class="ident" id="6871369">b</span><span class="op" id="6871370">,</span>&nbsp;<span class="ident" id="6871372">color</span><span class="op" id="6871377">.</span><span class="ident" id="6871378">RGBA64Model</span><span class="op" id="6871389">,</span>&nbsp;<span class="ident" id="6871391">color</span><span class="op" id="6871396">.</span><span class="ident" id="6871397">RGBA64Model</span><span class="op" id="6871408">,</span>&nbsp;<span class="builtintype" id="6871410">nil</span><span class="op" id="6871413">,</span>&nbsp;<span class="ident" id="6871415">Over</span><span class="op" id="6871419">)</span><br>
<span class="lineno"></span><span class="op" id="6871421">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="6871424">func</span>&nbsp;<span class="ident" id="6871429">BenchmarkGenericMaskOver</span><span class="op" id="6871453">(</span><span class="ident" id="6871454">b</span>&nbsp;<span class="op" id="6871456">*</span><span class="ident" id="6871457">testing</span><span class="op" id="6871464">.</span><span class="ident" id="6871465">B</span><span class="op" id="6871466">)</span>&nbsp;<span class="op" id="6871468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871471">bench</span><span class="op" id="6871476">(</span><span class="ident" id="6871477">b</span><span class="op" id="6871478">,</span>&nbsp;<span class="ident" id="6871480">color</span><span class="op" id="6871485">.</span><span class="ident" id="6871486">RGBA64Model</span><span class="op" id="6871497">,</span>&nbsp;<span class="ident" id="6871499">color</span><span class="op" id="6871504">.</span><span class="ident" id="6871505">RGBA64Model</span><span class="op" id="6871516">,</span>&nbsp;<span class="ident" id="6871518">color</span><span class="op" id="6871523">.</span><span class="ident" id="6871524">AlphaModel</span><span class="op" id="6871534">,</span>&nbsp;<span class="ident" id="6871536">Over</span><span class="op" id="6871540">)</span><br>
<span class="lineno"></span><span class="op" id="6871542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="keyword" id="6871545">func</span>&nbsp;<span class="ident" id="6871550">BenchmarkGenericSrc</span><span class="op" id="6871569">(</span><span class="ident" id="6871570">b</span>&nbsp;<span class="op" id="6871572">*</span><span class="ident" id="6871573">testing</span><span class="op" id="6871580">.</span><span class="ident" id="6871581">B</span><span class="op" id="6871582">)</span>&nbsp;<span class="op" id="6871584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871587">bench</span><span class="op" id="6871592">(</span><span class="ident" id="6871593">b</span><span class="op" id="6871594">,</span>&nbsp;<span class="ident" id="6871596">color</span><span class="op" id="6871601">.</span><span class="ident" id="6871602">RGBA64Model</span><span class="op" id="6871613">,</span>&nbsp;<span class="ident" id="6871615">color</span><span class="op" id="6871620">.</span><span class="ident" id="6871621">RGBA64Model</span><span class="op" id="6871632">,</span>&nbsp;<span class="builtintype" id="6871634">nil</span><span class="op" id="6871637">,</span>&nbsp;<span class="ident" id="6871639">Src</span><span class="op" id="6871642">)</span><br>
<span class="lineno"></span><span class="op" id="6871644">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6871647">func</span>&nbsp;<span class="ident" id="6871652">BenchmarkGenericMaskSrc</span><span class="op" id="6871675">(</span><span class="ident" id="6871676">b</span>&nbsp;<span class="op" id="6871678">*</span><span class="ident" id="6871679">testing</span><span class="op" id="6871686">.</span><span class="ident" id="6871687">B</span><span class="op" id="6871688">)</span>&nbsp;<span class="op" id="6871690">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6871693">bench</span><span class="op" id="6871698">(</span><span class="ident" id="6871699">b</span><span class="op" id="6871700">,</span>&nbsp;<span class="ident" id="6871702">color</span><span class="op" id="6871707">.</span><span class="ident" id="6871708">RGBA64Model</span><span class="op" id="6871719">,</span>&nbsp;<span class="ident" id="6871721">color</span><span class="op" id="6871726">.</span><span class="ident" id="6871727">RGBA64Model</span><span class="op" id="6871738">,</span>&nbsp;<span class="ident" id="6871740">color</span><span class="op" id="6871745">.</span><span class="ident" id="6871746">AlphaModel</span><span class="op" id="6871756">,</span>&nbsp;<span class="ident" id="6871758">Src</span><span class="op" id="6871761">)</span><br>
<span class="lineno"></span><span class="op" id="6871763">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
