<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="1384430">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1384485">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1384539">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1384590">package</span>&nbsp;<span class="ident" id="1384598">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1384603">import</span>&nbsp;<span class="op" id="1384610">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1384613">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1384625">&#34;sort&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="1384633">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="1384643">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1384646">//&nbsp;SortImports&nbsp;sorts&nbsp;runs&nbsp;of&nbsp;consecutive&nbsp;import&nbsp;lines&nbsp;in&nbsp;import&nbsp;blocks&nbsp;in&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="1384723">//&nbsp;It&nbsp;also&nbsp;removes&nbsp;duplicate&nbsp;imports&nbsp;when&nbsp;it&nbsp;is&nbsp;possible&nbsp;to&nbsp;do&nbsp;so&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno">15</span><span class="keyword" id="1384808">func</span>&nbsp;<span class="ident" id="1384813">SortImports</span><span class="op" id="1384824">(</span><span class="ident" id="1384825">fset</span>&nbsp;<span class="op" id="1384830">*</span><span class="ident" id="1384831">token</span><span class="op" id="1384836">.</span><span class="ident" id="1384837">FileSet</span><span class="op" id="1384844">,</span>&nbsp;<span class="ident" id="1384846">f</span>&nbsp;<span class="op" id="1384848">*</span><span class="ident" id="1384849">File</span><span class="op" id="1384853">)</span>&nbsp;<span class="op" id="1384855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1384858">for</span>&nbsp;<span class="ident" id="1384862">_</span><span class="op" id="1384863">,</span>&nbsp;<span class="ident" id="1384865">d</span>&nbsp;<span class="op" id="1384867">:=</span>&nbsp;<span class="keyword" id="1384870">range</span>&nbsp;<span class="ident" id="1384876">f</span><span class="op" id="1384877">.</span><span class="ident" id="1384878">Decls</span>&nbsp;<span class="op" id="1384884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1384888">d</span><span class="op" id="1384889">,</span>&nbsp;<span class="ident" id="1384891">ok</span>&nbsp;<span class="op" id="1384894">:=</span>&nbsp;<span class="ident" id="1384897">d</span><span class="op" id="1384898">.</span><span class="op" id="1384899">(</span><span class="op" id="1384900">*</span><span class="ident" id="1384901">GenDecl</span><span class="op" id="1384908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1384912">if</span>&nbsp;<span class="op" id="1384915">!</span><span class="ident" id="1384916">ok</span>&nbsp;<span class="op" id="1384919">||</span>&nbsp;<span class="ident" id="1384922">d</span><span class="op" id="1384923">.</span><span class="ident" id="1384924">Tok</span>&nbsp;<span class="op" id="1384928">!=</span>&nbsp;<span class="ident" id="1384931">token</span><span class="op" id="1384936">.</span><span class="ident" id="1384937">IMPORT</span>&nbsp;<span class="op" id="1384944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1384949">//&nbsp;Not&nbsp;an&nbsp;import&nbsp;declaration,&nbsp;so&nbsp;we&#39;re&nbsp;done.</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1384997">//&nbsp;Imports&nbsp;are&nbsp;always&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385029">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385037">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385042">if</span>&nbsp;<span class="op" id="1385045">!</span><span class="ident" id="1385046">d</span><span class="op" id="1385047">.</span><span class="ident" id="1385048">Lparen</span><span class="op" id="1385054">.</span><span class="ident" id="1385055">IsValid</span><span class="op" id="1385062">(</span><span class="op" id="1385063">)</span>&nbsp;<span class="op" id="1385065">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1385070">//&nbsp;Not&nbsp;a&nbsp;block:&nbsp;sorted&nbsp;by&nbsp;default.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385108">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385119">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1385124">//&nbsp;Identify&nbsp;and&nbsp;sort&nbsp;runs&nbsp;of&nbsp;specs&nbsp;on&nbsp;successive&nbsp;lines.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385182">i</span>&nbsp;<span class="op" id="1385184">:=</span>&nbsp;<span class="num" id="1385187">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385191">specs</span>&nbsp;<span class="op" id="1385197">:=</span>&nbsp;<span class="ident" id="1385200">d</span><span class="op" id="1385201">.</span><span class="ident" id="1385202">Specs</span><span class="op" id="1385207">[</span><span class="op" id="1385208">:</span><span class="num" id="1385209">0</span><span class="op" id="1385210">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385214">for</span>&nbsp;<span class="ident" id="1385218">j</span><span class="op" id="1385219">,</span>&nbsp;<span class="ident" id="1385221">s</span>&nbsp;<span class="op" id="1385223">:=</span>&nbsp;<span class="keyword" id="1385226">range</span>&nbsp;<span class="ident" id="1385232">d</span><span class="op" id="1385233">.</span><span class="ident" id="1385234">Specs</span>&nbsp;<span class="op" id="1385240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385245">if</span>&nbsp;<span class="ident" id="1385248">j</span>&nbsp;<span class="op" id="1385250">&gt;</span>&nbsp;<span class="ident" id="1385252">i</span>&nbsp;<span class="op" id="1385254">&amp;&amp;</span>&nbsp;<span class="ident" id="1385257">fset</span><span class="op" id="1385261">.</span><span class="ident" id="1385262">Position</span><span class="op" id="1385270">(</span><span class="ident" id="1385271">s</span><span class="op" id="1385272">.</span><span class="ident" id="1385273">Pos</span><span class="op" id="1385276">(</span><span class="op" id="1385277">)</span><span class="op" id="1385278">)</span><span class="op" id="1385279">.</span><span class="ident" id="1385280">Line</span>&nbsp;<span class="op" id="1385285">&gt;</span>&nbsp;<span class="num" id="1385287">1</span><span class="op" id="1385288">+</span><span class="ident" id="1385289">fset</span><span class="op" id="1385293">.</span><span class="ident" id="1385294">Position</span><span class="op" id="1385302">(</span><span class="ident" id="1385303">d</span><span class="op" id="1385304">.</span><span class="ident" id="1385305">Specs</span><span class="op" id="1385310">[</span><span class="ident" id="1385311">j</span><span class="op" id="1385312">-</span><span class="num" id="1385313">1</span><span class="op" id="1385314">]</span><span class="op" id="1385315">.</span><span class="ident" id="1385316">End</span><span class="op" id="1385319">(</span><span class="op" id="1385320">)</span><span class="op" id="1385321">)</span><span class="op" id="1385322">.</span><span class="ident" id="1385323">Line</span>&nbsp;<span class="op" id="1385328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1385334">//&nbsp;j&nbsp;begins&nbsp;a&nbsp;new&nbsp;run.&nbsp;&nbsp;End&nbsp;this&nbsp;one.</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385376">specs</span>&nbsp;<span class="op" id="1385382">=</span>&nbsp;<span class="builtinfunc" id="1385384">append</span><span class="op" id="1385390">(</span><span class="ident" id="1385391">specs</span><span class="op" id="1385396">,</span>&nbsp;<span class="ident" id="1385398">sortSpecs</span><span class="op" id="1385407">(</span><span class="ident" id="1385408">fset</span><span class="op" id="1385412">,</span>&nbsp;<span class="ident" id="1385414">f</span><span class="op" id="1385415">,</span>&nbsp;<span class="ident" id="1385417">d</span><span class="op" id="1385418">.</span><span class="ident" id="1385419">Specs</span><span class="op" id="1385424">[</span><span class="ident" id="1385425">i</span><span class="op" id="1385426">:</span><span class="ident" id="1385427">j</span><span class="op" id="1385428">]</span><span class="op" id="1385429">)</span><span class="op" id="1385430">...</span><span class="op" id="1385433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385439">i</span>&nbsp;<span class="op" id="1385441">=</span>&nbsp;<span class="ident" id="1385443">j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385456">specs</span>&nbsp;<span class="op" id="1385462">=</span>&nbsp;<span class="builtinfunc" id="1385464">append</span><span class="op" id="1385470">(</span><span class="ident" id="1385471">specs</span><span class="op" id="1385476">,</span>&nbsp;<span class="ident" id="1385478">sortSpecs</span><span class="op" id="1385487">(</span><span class="ident" id="1385488">fset</span><span class="op" id="1385492">,</span>&nbsp;<span class="ident" id="1385494">f</span><span class="op" id="1385495">,</span>&nbsp;<span class="ident" id="1385497">d</span><span class="op" id="1385498">.</span><span class="ident" id="1385499">Specs</span><span class="op" id="1385504">[</span><span class="ident" id="1385505">i</span><span class="op" id="1385506">:</span><span class="op" id="1385507">]</span><span class="op" id="1385508">)</span><span class="op" id="1385509">...</span><span class="op" id="1385512">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385516">d</span><span class="op" id="1385517">.</span><span class="ident" id="1385518">Specs</span>&nbsp;<span class="op" id="1385524">=</span>&nbsp;<span class="ident" id="1385526">specs</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1385535">//&nbsp;Deduping&nbsp;can&nbsp;leave&nbsp;a&nbsp;blank&nbsp;line&nbsp;before&nbsp;the&nbsp;rparen;&nbsp;clean&nbsp;that&nbsp;up.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385606">if</span>&nbsp;<span class="builtinfunc" id="1385609">len</span><span class="op" id="1385612">(</span><span class="ident" id="1385613">d</span><span class="op" id="1385614">.</span><span class="ident" id="1385615">Specs</span><span class="op" id="1385620">)</span>&nbsp;<span class="op" id="1385622">&gt;</span>&nbsp;<span class="num" id="1385624">0</span>&nbsp;<span class="op" id="1385626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385631">lastSpec</span>&nbsp;<span class="op" id="1385640">:=</span>&nbsp;<span class="ident" id="1385643">d</span><span class="op" id="1385644">.</span><span class="ident" id="1385645">Specs</span><span class="op" id="1385650">[</span><span class="builtinfunc" id="1385651">len</span><span class="op" id="1385654">(</span><span class="ident" id="1385655">d</span><span class="op" id="1385656">.</span><span class="ident" id="1385657">Specs</span><span class="op" id="1385662">)</span><span class="op" id="1385663">-</span><span class="num" id="1385664">1</span><span class="op" id="1385665">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385670">lastLine</span>&nbsp;<span class="op" id="1385679">:=</span>&nbsp;<span class="ident" id="1385682">fset</span><span class="op" id="1385686">.</span><span class="ident" id="1385687">Position</span><span class="op" id="1385695">(</span><span class="ident" id="1385696">lastSpec</span><span class="op" id="1385704">.</span><span class="ident" id="1385705">Pos</span><span class="op" id="1385708">(</span><span class="op" id="1385709">)</span><span class="op" id="1385710">)</span><span class="op" id="1385711">.</span><span class="ident" id="1385712">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385720">if</span>&nbsp;<span class="ident" id="1385723">rParenLine</span>&nbsp;<span class="op" id="1385734">:=</span>&nbsp;<span class="ident" id="1385737">fset</span><span class="op" id="1385741">.</span><span class="ident" id="1385742">Position</span><span class="op" id="1385750">(</span><span class="ident" id="1385751">d</span><span class="op" id="1385752">.</span><span class="ident" id="1385753">Rparen</span><span class="op" id="1385759">)</span><span class="op" id="1385760">.</span><span class="ident" id="1385761">Line</span><span class="op" id="1385765">;</span>&nbsp;<span class="ident" id="1385767">rParenLine</span>&nbsp;<span class="op" id="1385778">&gt;</span>&nbsp;<span class="ident" id="1385780">lastLine</span><span class="op" id="1385788">+</span><span class="num" id="1385789">1</span>&nbsp;<span class="op" id="1385791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385797">fset</span><span class="op" id="1385801">.</span><span class="ident" id="1385802">File</span><span class="op" id="1385806">(</span><span class="ident" id="1385807">d</span><span class="op" id="1385808">.</span><span class="ident" id="1385809">Rparen</span><span class="op" id="1385815">)</span><span class="op" id="1385816">.</span><span class="ident" id="1385817">MergeLine</span><span class="op" id="1385826">(</span><span class="ident" id="1385827">rParenLine</span>&nbsp;<span class="op" id="1385838">-</span>&nbsp;<span class="num" id="1385840">1</span><span class="op" id="1385841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385846">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385850">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385853">}</span><br>
<span class="lineno"></span><span class="op" id="1385855">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1385858">func</span>&nbsp;<span class="ident" id="1385863">importPath</span><span class="op" id="1385873">(</span><span class="ident" id="1385874">s</span>&nbsp;<span class="ident" id="1385876">Spec</span><span class="op" id="1385880">)</span>&nbsp;<span class="builtintype" id="1385882">string</span>&nbsp;<span class="op" id="1385889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1385892">t</span><span class="op" id="1385893">,</span>&nbsp;<span class="ident" id="1385895">err</span>&nbsp;<span class="op" id="1385899">:=</span>&nbsp;<span class="ident" id="1385902">strconv</span><span class="op" id="1385909">.</span><span class="ident" id="1385910">Unquote</span><span class="op" id="1385917">(</span><span class="ident" id="1385918">s</span><span class="op" id="1385919">.</span><span class="op" id="1385920">(</span><span class="op" id="1385921">*</span><span class="ident" id="1385922">ImportSpec</span><span class="op" id="1385932">)</span><span class="op" id="1385933">.</span><span class="ident" id="1385934">Path</span><span class="op" id="1385938">.</span><span class="ident" id="1385939">Value</span><span class="op" id="1385944">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385947">if</span>&nbsp;<span class="ident" id="1385950">err</span>&nbsp;<span class="op" id="1385954">==</span>&nbsp;<span class="ident" id="1385957">nil</span>&nbsp;<span class="op" id="1385961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385965">return</span>&nbsp;<span class="ident" id="1385972">t</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1385975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1385978">return</span>&nbsp;<span class="string" id="1385985">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="1385988">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="1385991">func</span>&nbsp;<span class="ident" id="1385996">importName</span><span class="op" id="1386006">(</span><span class="ident" id="1386007">s</span>&nbsp;<span class="ident" id="1386009">Spec</span><span class="op" id="1386013">)</span>&nbsp;<span class="builtintype" id="1386015">string</span>&nbsp;<span class="op" id="1386022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1386025">n</span>&nbsp;<span class="op" id="1386027">:=</span>&nbsp;<span class="ident" id="1386030">s</span><span class="op" id="1386031">.</span><span class="op" id="1386032">(</span><span class="op" id="1386033">*</span><span class="ident" id="1386034">ImportSpec</span><span class="op" id="1386044">)</span><span class="op" id="1386045">.</span><span class="ident" id="1386046">Name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386052">if</span>&nbsp;<span class="ident" id="1386055">n</span>&nbsp;<span class="op" id="1386057">==</span>&nbsp;<span class="ident" id="1386060">nil</span>&nbsp;<span class="op" id="1386064">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386068">return</span>&nbsp;<span class="string" id="1386075">&#34;&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1386079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386082">return</span>&nbsp;<span class="ident" id="1386089">n</span><span class="op" id="1386090">.</span><span class="ident" id="1386091">Name</span><br>
<span class="lineno"></span><span class="op" id="1386096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1386099">func</span>&nbsp;<span class="ident" id="1386104">importComment</span><span class="op" id="1386117">(</span><span class="ident" id="1386118">s</span>&nbsp;<span class="ident" id="1386120">Spec</span><span class="op" id="1386124">)</span>&nbsp;<span class="builtintype" id="1386126">string</span>&nbsp;<span class="op" id="1386133">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1386136">c</span>&nbsp;<span class="op" id="1386138">:=</span>&nbsp;<span class="ident" id="1386141">s</span><span class="op" id="1386142">.</span><span class="op" id="1386143">(</span><span class="op" id="1386144">*</span><span class="ident" id="1386145">ImportSpec</span><span class="op" id="1386155">)</span><span class="op" id="1386156">.</span><span class="ident" id="1386157">Comment</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386166">if</span>&nbsp;<span class="ident" id="1386169">c</span>&nbsp;<span class="op" id="1386171">==</span>&nbsp;<span class="ident" id="1386174">nil</span>&nbsp;<span class="op" id="1386178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386182">return</span>&nbsp;<span class="string" id="1386189">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1386193">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386196">return</span>&nbsp;<span class="ident" id="1386203">c</span><span class="op" id="1386204">.</span><span class="ident" id="1386205">Text</span><span class="op" id="1386209">(</span><span class="op" id="1386210">)</span><br>
<span class="lineno">75</span><span class="op" id="1386212">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1386215">//&nbsp;collapse&nbsp;indicates&nbsp;whether&nbsp;prev&nbsp;may&nbsp;be&nbsp;removed,&nbsp;leaving&nbsp;only&nbsp;next.</span><br>
<span class="lineno"></span><span class="keyword" id="1386285">func</span>&nbsp;<span class="ident" id="1386290">collapse</span><span class="op" id="1386298">(</span><span class="ident" id="1386299">prev</span><span class="op" id="1386303">,</span>&nbsp;<span class="ident" id="1386305">next</span>&nbsp;<span class="ident" id="1386310">Spec</span><span class="op" id="1386314">)</span>&nbsp;<span class="builtintype" id="1386316">bool</span>&nbsp;<span class="op" id="1386321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386324">if</span>&nbsp;<span class="ident" id="1386327">importPath</span><span class="op" id="1386337">(</span><span class="ident" id="1386338">next</span><span class="op" id="1386342">)</span>&nbsp;<span class="op" id="1386344">!=</span>&nbsp;<span class="ident" id="1386347">importPath</span><span class="op" id="1386357">(</span><span class="ident" id="1386358">prev</span><span class="op" id="1386362">)</span>&nbsp;<span class="op" id="1386364">||</span>&nbsp;<span class="ident" id="1386367">importName</span><span class="op" id="1386377">(</span><span class="ident" id="1386378">next</span><span class="op" id="1386382">)</span>&nbsp;<span class="op" id="1386384">!=</span>&nbsp;<span class="ident" id="1386387">importName</span><span class="op" id="1386397">(</span><span class="ident" id="1386398">prev</span><span class="op" id="1386402">)</span>&nbsp;<span class="op" id="1386404">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386408">return</span>&nbsp;<span class="builtintype" id="1386415">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1386422">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386425">return</span>&nbsp;<span class="ident" id="1386432">prev</span><span class="op" id="1386436">.</span><span class="op" id="1386437">(</span><span class="op" id="1386438">*</span><span class="ident" id="1386439">ImportSpec</span><span class="op" id="1386449">)</span><span class="op" id="1386450">.</span><span class="ident" id="1386451">Comment</span>&nbsp;<span class="op" id="1386459">==</span>&nbsp;<span class="ident" id="1386462">nil</span><br>
<span class="lineno"></span><span class="op" id="1386466">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="1386469">type</span>&nbsp;<span class="ident" id="1386474">posSpan</span>&nbsp;<span class="keyword" id="1386482">struct</span>&nbsp;<span class="op" id="1386489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1386492">Start</span>&nbsp;<span class="ident" id="1386498">token</span><span class="op" id="1386503">.</span><span class="ident" id="1386504">Pos</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1386509">End</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="1386515">token</span><span class="op" id="1386520">.</span><span class="ident" id="1386521">Pos</span><br>
<span class="lineno"></span><span class="op" id="1386525">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="1386528">func</span>&nbsp;<span class="ident" id="1386533">sortSpecs</span><span class="op" id="1386542">(</span><span class="ident" id="1386543">fset</span>&nbsp;<span class="op" id="1386548">*</span><span class="ident" id="1386549">token</span><span class="op" id="1386554">.</span><span class="ident" id="1386555">FileSet</span><span class="op" id="1386562">,</span>&nbsp;<span class="ident" id="1386564">f</span>&nbsp;<span class="op" id="1386566">*</span><span class="ident" id="1386567">File</span><span class="op" id="1386571">,</span>&nbsp;<span class="ident" id="1386573">specs</span>&nbsp;<span class="op" id="1386579">[</span><span class="op" id="1386580">]</span><span class="ident" id="1386581">Spec</span><span class="op" id="1386585">)</span>&nbsp;<span class="op" id="1386587">[</span><span class="op" id="1386588">]</span><span class="ident" id="1386589">Spec</span>&nbsp;<span class="op" id="1386594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1386597">//&nbsp;Can&#39;t&nbsp;short-circuit&nbsp;here&nbsp;even&nbsp;if&nbsp;specs&nbsp;are&nbsp;already&nbsp;sorted,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1386660">//&nbsp;since&nbsp;they&nbsp;might&nbsp;yet&nbsp;need&nbsp;deduplication.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1386705">//&nbsp;A&nbsp;lone&nbsp;import,&nbsp;however,&nbsp;may&nbsp;be&nbsp;safely&nbsp;ignored.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386756">if</span>&nbsp;<span class="builtinfunc" id="1386759">len</span><span class="op" id="1386762">(</span><span class="ident" id="1386763">specs</span><span class="op" id="1386768">)</span>&nbsp;<span class="op" id="1386770">&lt;=</span>&nbsp;<span class="num" id="1386773">1</span>&nbsp;<span class="op" id="1386775">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386779">return</span>&nbsp;<span class="ident" id="1386786">specs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1386793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1386797">//&nbsp;Record&nbsp;positions&nbsp;for&nbsp;specs.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1386829">pos</span>&nbsp;<span class="op" id="1386833">:=</span>&nbsp;<span class="builtinfunc" id="1386836">make</span><span class="op" id="1386840">(</span><span class="op" id="1386841">[</span><span class="op" id="1386842">]</span><span class="ident" id="1386843">posSpan</span><span class="op" id="1386850">,</span>&nbsp;<span class="builtinfunc" id="1386852">len</span><span class="op" id="1386855">(</span><span class="ident" id="1386856">specs</span><span class="op" id="1386861">)</span><span class="op" id="1386862">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1386865">for</span>&nbsp;<span class="ident" id="1386869">i</span><span class="op" id="1386870">,</span>&nbsp;<span class="ident" id="1386872">s</span>&nbsp;<span class="op" id="1386874">:=</span>&nbsp;<span class="keyword" id="1386877">range</span>&nbsp;<span class="ident" id="1386883">specs</span>&nbsp;<span class="op" id="1386889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1386893">pos</span><span class="op" id="1386896">[</span><span class="ident" id="1386897">i</span><span class="op" id="1386898">]</span>&nbsp;<span class="op" id="1386900">=</span>&nbsp;<span class="ident" id="1386902">posSpan</span><span class="op" id="1386909">{</span><span class="ident" id="1386910">s</span><span class="op" id="1386911">.</span><span class="ident" id="1386912">Pos</span><span class="op" id="1386915">(</span><span class="op" id="1386916">)</span><span class="op" id="1386917">,</span>&nbsp;<span class="ident" id="1386919">s</span><span class="op" id="1386920">.</span><span class="ident" id="1386921">End</span><span class="op" id="1386924">(</span><span class="op" id="1386925">)</span><span class="op" id="1386926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1386929">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1386933">//&nbsp;Identify&nbsp;comments&nbsp;in&nbsp;this&nbsp;range.</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1386970">//&nbsp;Any&nbsp;comment&nbsp;from&nbsp;pos[0].Start&nbsp;to&nbsp;the&nbsp;final&nbsp;line&nbsp;counts.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387030">lastLine</span>&nbsp;<span class="op" id="1387039">:=</span>&nbsp;<span class="ident" id="1387042">fset</span><span class="op" id="1387046">.</span><span class="ident" id="1387047">Position</span><span class="op" id="1387055">(</span><span class="ident" id="1387056">pos</span><span class="op" id="1387059">[</span><span class="builtinfunc" id="1387060">len</span><span class="op" id="1387063">(</span><span class="ident" id="1387064">pos</span><span class="op" id="1387067">)</span><span class="op" id="1387068">-</span><span class="num" id="1387069">1</span><span class="op" id="1387070">]</span><span class="op" id="1387071">.</span><span class="ident" id="1387072">End</span><span class="op" id="1387075">)</span><span class="op" id="1387076">.</span><span class="ident" id="1387077">Line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387083">cstart</span>&nbsp;<span class="op" id="1387090">:=</span>&nbsp;<span class="builtinfunc" id="1387093">len</span><span class="op" id="1387096">(</span><span class="ident" id="1387097">f</span><span class="op" id="1387098">.</span><span class="ident" id="1387099">Comments</span><span class="op" id="1387107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387110">cend</span>&nbsp;<span class="op" id="1387115">:=</span>&nbsp;<span class="builtinfunc" id="1387118">len</span><span class="op" id="1387121">(</span><span class="ident" id="1387122">f</span><span class="op" id="1387123">.</span><span class="ident" id="1387124">Comments</span><span class="op" id="1387132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387135">for</span>&nbsp;<span class="ident" id="1387139">i</span><span class="op" id="1387140">,</span>&nbsp;<span class="ident" id="1387142">g</span>&nbsp;<span class="op" id="1387144">:=</span>&nbsp;<span class="keyword" id="1387147">range</span>&nbsp;<span class="ident" id="1387153">f</span><span class="op" id="1387154">.</span><span class="ident" id="1387155">Comments</span>&nbsp;<span class="op" id="1387164">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387168">if</span>&nbsp;<span class="ident" id="1387171">g</span><span class="op" id="1387172">.</span><span class="ident" id="1387173">Pos</span><span class="op" id="1387176">(</span><span class="op" id="1387177">)</span>&nbsp;<span class="op" id="1387179">&lt;</span>&nbsp;<span class="ident" id="1387181">pos</span><span class="op" id="1387184">[</span><span class="num" id="1387185">0</span><span class="op" id="1387186">]</span><span class="op" id="1387187">.</span><span class="ident" id="1387188">Start</span>&nbsp;<span class="op" id="1387194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387199">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1387210">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387214">if</span>&nbsp;<span class="ident" id="1387217">i</span>&nbsp;<span class="op" id="1387219">&lt;</span>&nbsp;<span class="ident" id="1387221">cstart</span>&nbsp;<span class="op" id="1387228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387233">cstart</span>&nbsp;<span class="op" id="1387240">=</span>&nbsp;<span class="ident" id="1387242">i</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1387246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387250">if</span>&nbsp;<span class="ident" id="1387253">fset</span><span class="op" id="1387257">.</span><span class="ident" id="1387258">Position</span><span class="op" id="1387266">(</span><span class="ident" id="1387267">g</span><span class="op" id="1387268">.</span><span class="ident" id="1387269">End</span><span class="op" id="1387272">(</span><span class="op" id="1387273">)</span><span class="op" id="1387274">)</span><span class="op" id="1387275">.</span><span class="ident" id="1387276">Line</span>&nbsp;<span class="op" id="1387281">&gt;</span>&nbsp;<span class="ident" id="1387283">lastLine</span>&nbsp;<span class="op" id="1387292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387297">cend</span>&nbsp;<span class="op" id="1387302">=</span>&nbsp;<span class="ident" id="1387304">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387309">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1387317">}</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1387320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387323">comments</span>&nbsp;<span class="op" id="1387332">:=</span>&nbsp;<span class="ident" id="1387335">f</span><span class="op" id="1387336">.</span><span class="ident" id="1387337">Comments</span><span class="op" id="1387345">[</span><span class="ident" id="1387346">cstart</span><span class="op" id="1387352">:</span><span class="ident" id="1387353">cend</span><span class="op" id="1387357">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387361">//&nbsp;Assign&nbsp;each&nbsp;comment&nbsp;to&nbsp;the&nbsp;import&nbsp;spec&nbsp;preceding&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387418">importComment</span>&nbsp;<span class="op" id="1387432">:=</span>&nbsp;<span class="keyword" id="1387435">map</span><span class="op" id="1387438">[</span><span class="op" id="1387439">*</span><span class="ident" id="1387440">ImportSpec</span><span class="op" id="1387450">]</span><span class="op" id="1387451">[</span><span class="op" id="1387452">]</span><span class="op" id="1387453">*</span><span class="ident" id="1387454">CommentGroup</span><span class="op" id="1387466">{</span><span class="op" id="1387467">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387470">specIndex</span>&nbsp;<span class="op" id="1387480">:=</span>&nbsp;<span class="num" id="1387483">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387486">for</span>&nbsp;<span class="ident" id="1387490">_</span><span class="op" id="1387491">,</span>&nbsp;<span class="ident" id="1387493">g</span>&nbsp;<span class="op" id="1387495">:=</span>&nbsp;<span class="keyword" id="1387498">range</span>&nbsp;<span class="ident" id="1387504">comments</span>&nbsp;<span class="op" id="1387513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1387517">for</span>&nbsp;<span class="ident" id="1387521">specIndex</span><span class="op" id="1387530">+</span><span class="num" id="1387531">1</span>&nbsp;<span class="op" id="1387533">&lt;</span>&nbsp;<span class="builtinfunc" id="1387535">len</span><span class="op" id="1387538">(</span><span class="ident" id="1387539">specs</span><span class="op" id="1387544">)</span>&nbsp;<span class="op" id="1387546">&amp;&amp;</span>&nbsp;<span class="ident" id="1387549">pos</span><span class="op" id="1387552">[</span><span class="ident" id="1387553">specIndex</span><span class="op" id="1387562">+</span><span class="num" id="1387563">1</span><span class="op" id="1387564">]</span><span class="op" id="1387565">.</span><span class="ident" id="1387566">Start</span>&nbsp;<span class="op" id="1387572">&lt;=</span>&nbsp;<span class="ident" id="1387575">g</span><span class="op" id="1387576">.</span><span class="ident" id="1387577">Pos</span><span class="op" id="1387580">(</span><span class="op" id="1387581">)</span>&nbsp;<span class="op" id="1387583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387588">specIndex</span><span class="op" id="1387597">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1387602">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387606">s</span>&nbsp;<span class="op" id="1387608">:=</span>&nbsp;<span class="ident" id="1387611">specs</span><span class="op" id="1387616">[</span><span class="ident" id="1387617">specIndex</span><span class="op" id="1387626">]</span><span class="op" id="1387627">.</span><span class="op" id="1387628">(</span><span class="op" id="1387629">*</span><span class="ident" id="1387630">ImportSpec</span><span class="op" id="1387640">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387644">importComment</span><span class="op" id="1387657">[</span><span class="ident" id="1387658">s</span><span class="op" id="1387659">]</span>&nbsp;<span class="op" id="1387661">=</span>&nbsp;<span class="builtinfunc" id="1387663">append</span><span class="op" id="1387669">(</span><span class="ident" id="1387670">importComment</span><span class="op" id="1387683">[</span><span class="ident" id="1387684">s</span><span class="op" id="1387685">]</span><span class="op" id="1387686">,</span>&nbsp;<span class="ident" id="1387688">g</span><span class="op" id="1387689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1387692">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387696">//&nbsp;Sort&nbsp;the&nbsp;import&nbsp;specs&nbsp;by&nbsp;import&nbsp;path.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387738">//&nbsp;Remove&nbsp;duplicates,&nbsp;when&nbsp;possible&nbsp;without&nbsp;data&nbsp;loss.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387794">//&nbsp;Reassign&nbsp;the&nbsp;import&nbsp;paths&nbsp;to&nbsp;have&nbsp;the&nbsp;same&nbsp;position&nbsp;sequence.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387860">//&nbsp;Reassign&nbsp;each&nbsp;comment&nbsp;to&nbsp;abut&nbsp;the&nbsp;end&nbsp;of&nbsp;its&nbsp;spec.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387915">//&nbsp;Sort&nbsp;the&nbsp;comments&nbsp;by&nbsp;new&nbsp;position.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1387954">sort</span><span class="op" id="1387958">.</span><span class="ident" id="1387959">Sort</span><span class="op" id="1387963">(</span><span class="ident" id="1387964">byImportSpec</span><span class="op" id="1387976">(</span><span class="ident" id="1387977">specs</span><span class="op" id="1387982">)</span><span class="op" id="1387983">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1387987">//&nbsp;Dedup.&nbsp;Thanks&nbsp;to&nbsp;our&nbsp;sorting,&nbsp;we&nbsp;can&nbsp;just&nbsp;consider</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1388042">//&nbsp;adjacent&nbsp;pairs&nbsp;of&nbsp;imports.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388073">deduped</span>&nbsp;<span class="op" id="1388081">:=</span>&nbsp;<span class="ident" id="1388084">specs</span><span class="op" id="1388089">[</span><span class="op" id="1388090">:</span><span class="num" id="1388091">0</span><span class="op" id="1388092">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388095">for</span>&nbsp;<span class="ident" id="1388099">i</span><span class="op" id="1388100">,</span>&nbsp;<span class="ident" id="1388102">s</span>&nbsp;<span class="op" id="1388104">:=</span>&nbsp;<span class="keyword" id="1388107">range</span>&nbsp;<span class="ident" id="1388113">specs</span>&nbsp;<span class="op" id="1388119">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388123">if</span>&nbsp;<span class="ident" id="1388126">i</span>&nbsp;<span class="op" id="1388128">==</span>&nbsp;<span class="builtinfunc" id="1388131">len</span><span class="op" id="1388134">(</span><span class="ident" id="1388135">specs</span><span class="op" id="1388140">)</span><span class="op" id="1388141">-</span><span class="num" id="1388142">1</span>&nbsp;<span class="op" id="1388144">||</span>&nbsp;<span class="op" id="1388147">!</span><span class="ident" id="1388148">collapse</span><span class="op" id="1388156">(</span><span class="ident" id="1388157">s</span><span class="op" id="1388158">,</span>&nbsp;<span class="ident" id="1388160">specs</span><span class="op" id="1388165">[</span><span class="ident" id="1388166">i</span><span class="op" id="1388167">+</span><span class="num" id="1388168">1</span><span class="op" id="1388169">]</span><span class="op" id="1388170">)</span>&nbsp;<span class="op" id="1388172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388177">deduped</span>&nbsp;<span class="op" id="1388185">=</span>&nbsp;<span class="builtinfunc" id="1388187">append</span><span class="op" id="1388193">(</span><span class="ident" id="1388194">deduped</span><span class="op" id="1388201">,</span>&nbsp;<span class="ident" id="1388203">s</span><span class="op" id="1388204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388208">}</span>&nbsp;<span class="keyword" id="1388210">else</span>&nbsp;<span class="op" id="1388215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388220">p</span>&nbsp;<span class="op" id="1388222">:=</span>&nbsp;<span class="ident" id="1388225">s</span><span class="op" id="1388226">.</span><span class="ident" id="1388227">Pos</span><span class="op" id="1388230">(</span><span class="op" id="1388231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388236">fset</span><span class="op" id="1388240">.</span><span class="ident" id="1388241">File</span><span class="op" id="1388245">(</span><span class="ident" id="1388246">p</span><span class="op" id="1388247">)</span><span class="op" id="1388248">.</span><span class="ident" id="1388249">MergeLine</span><span class="op" id="1388258">(</span><span class="ident" id="1388259">fset</span><span class="op" id="1388263">.</span><span class="ident" id="1388264">Position</span><span class="op" id="1388272">(</span><span class="ident" id="1388273">p</span><span class="op" id="1388274">)</span><span class="op" id="1388275">.</span><span class="ident" id="1388276">Line</span><span class="op" id="1388280">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388287">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388290">specs</span>&nbsp;<span class="op" id="1388296">=</span>&nbsp;<span class="ident" id="1388298">deduped</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1388308">//&nbsp;Fix&nbsp;up&nbsp;comment&nbsp;positions</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388337">for</span>&nbsp;<span class="ident" id="1388341">i</span><span class="op" id="1388342">,</span>&nbsp;<span class="ident" id="1388344">s</span>&nbsp;<span class="op" id="1388346">:=</span>&nbsp;<span class="keyword" id="1388349">range</span>&nbsp;<span class="ident" id="1388355">specs</span>&nbsp;<span class="op" id="1388361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388365">s</span>&nbsp;<span class="op" id="1388367">:=</span>&nbsp;<span class="ident" id="1388370">s</span><span class="op" id="1388371">.</span><span class="op" id="1388372">(</span><span class="op" id="1388373">*</span><span class="ident" id="1388374">ImportSpec</span><span class="op" id="1388384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388388">if</span>&nbsp;<span class="ident" id="1388391">s</span><span class="op" id="1388392">.</span><span class="ident" id="1388393">Name</span>&nbsp;<span class="op" id="1388398">!=</span>&nbsp;<span class="ident" id="1388401">nil</span>&nbsp;<span class="op" id="1388405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388410">s</span><span class="op" id="1388411">.</span><span class="ident" id="1388412">Name</span><span class="op" id="1388416">.</span><span class="ident" id="1388417">NamePos</span>&nbsp;<span class="op" id="1388425">=</span>&nbsp;<span class="ident" id="1388427">pos</span><span class="op" id="1388430">[</span><span class="ident" id="1388431">i</span><span class="op" id="1388432">]</span><span class="op" id="1388433">.</span><span class="ident" id="1388434">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388442">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388446">s</span><span class="op" id="1388447">.</span><span class="ident" id="1388448">Path</span><span class="op" id="1388452">.</span><span class="ident" id="1388453">ValuePos</span>&nbsp;<span class="op" id="1388462">=</span>&nbsp;<span class="ident" id="1388464">pos</span><span class="op" id="1388467">[</span><span class="ident" id="1388468">i</span><span class="op" id="1388469">]</span><span class="op" id="1388470">.</span><span class="ident" id="1388471">Start</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388479">s</span><span class="op" id="1388480">.</span><span class="ident" id="1388481">EndPos</span>&nbsp;<span class="op" id="1388488">=</span>&nbsp;<span class="ident" id="1388490">pos</span><span class="op" id="1388493">[</span><span class="ident" id="1388494">i</span><span class="op" id="1388495">]</span><span class="op" id="1388496">.</span><span class="ident" id="1388497">End</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388503">for</span>&nbsp;<span class="ident" id="1388507">_</span><span class="op" id="1388508">,</span>&nbsp;<span class="ident" id="1388510">g</span>&nbsp;<span class="op" id="1388512">:=</span>&nbsp;<span class="keyword" id="1388515">range</span>&nbsp;<span class="ident" id="1388521">importComment</span><span class="op" id="1388534">[</span><span class="ident" id="1388535">s</span><span class="op" id="1388536">]</span>&nbsp;<span class="op" id="1388538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388543">for</span>&nbsp;<span class="ident" id="1388547">_</span><span class="op" id="1388548">,</span>&nbsp;<span class="ident" id="1388550">c</span>&nbsp;<span class="op" id="1388552">:=</span>&nbsp;<span class="keyword" id="1388555">range</span>&nbsp;<span class="ident" id="1388561">g</span><span class="op" id="1388562">.</span><span class="ident" id="1388563">List</span>&nbsp;<span class="op" id="1388568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388574">c</span><span class="op" id="1388575">.</span><span class="ident" id="1388576">Slash</span>&nbsp;<span class="op" id="1388582">=</span>&nbsp;<span class="ident" id="1388584">pos</span><span class="op" id="1388587">[</span><span class="ident" id="1388588">i</span><span class="op" id="1388589">]</span><span class="op" id="1388590">.</span><span class="ident" id="1388591">End</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388598">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388602">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388605">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388609">sort</span><span class="op" id="1388613">.</span><span class="ident" id="1388614">Sort</span><span class="op" id="1388618">(</span><span class="ident" id="1388619">byCommentPos</span><span class="op" id="1388631">(</span><span class="ident" id="1388632">comments</span><span class="op" id="1388640">)</span><span class="op" id="1388641">)</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388645">return</span>&nbsp;<span class="ident" id="1388652">specs</span><br>
<span class="lineno"></span><span class="op" id="1388658">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1388661">type</span>&nbsp;<span class="ident" id="1388666">byImportSpec</span>&nbsp;<span class="op" id="1388679">[</span><span class="op" id="1388680">]</span><span class="ident" id="1388681">Spec</span>&nbsp;<span class="comment" id="1388686">//&nbsp;slice&nbsp;of&nbsp;*ImportSpec</span><br>
<span class="lineno">175</span><br>
<span class="lineno"></span><span class="keyword" id="1388711">func</span>&nbsp;<span class="op" id="1388716">(</span><span class="ident" id="1388717">x</span>&nbsp;<span class="ident" id="1388719">byImportSpec</span><span class="op" id="1388731">)</span>&nbsp;<span class="ident" id="1388733">Len</span><span class="op" id="1388736">(</span><span class="op" id="1388737">)</span>&nbsp;<span class="builtintype" id="1388739">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1388748">{</span>&nbsp;<span class="keyword" id="1388750">return</span>&nbsp;<span class="builtinfunc" id="1388757">len</span><span class="op" id="1388760">(</span><span class="ident" id="1388761">x</span><span class="op" id="1388762">)</span>&nbsp;<span class="op" id="1388764">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388766">func</span>&nbsp;<span class="op" id="1388771">(</span><span class="ident" id="1388772">x</span>&nbsp;<span class="ident" id="1388774">byImportSpec</span><span class="op" id="1388786">)</span>&nbsp;<span class="ident" id="1388788">Swap</span><span class="op" id="1388792">(</span><span class="ident" id="1388793">i</span><span class="op" id="1388794">,</span>&nbsp;<span class="ident" id="1388796">j</span>&nbsp;<span class="builtintype" id="1388798">int</span><span class="op" id="1388801">)</span>&nbsp;<span class="op" id="1388803">{</span>&nbsp;<span class="ident" id="1388805">x</span><span class="op" id="1388806">[</span><span class="ident" id="1388807">i</span><span class="op" id="1388808">]</span><span class="op" id="1388809">,</span>&nbsp;<span class="ident" id="1388811">x</span><span class="op" id="1388812">[</span><span class="ident" id="1388813">j</span><span class="op" id="1388814">]</span>&nbsp;<span class="op" id="1388816">=</span>&nbsp;<span class="ident" id="1388818">x</span><span class="op" id="1388819">[</span><span class="ident" id="1388820">j</span><span class="op" id="1388821">]</span><span class="op" id="1388822">,</span>&nbsp;<span class="ident" id="1388824">x</span><span class="op" id="1388825">[</span><span class="ident" id="1388826">i</span><span class="op" id="1388827">]</span>&nbsp;<span class="op" id="1388829">}</span><br>
<span class="lineno"></span><span class="keyword" id="1388831">func</span>&nbsp;<span class="op" id="1388836">(</span><span class="ident" id="1388837">x</span>&nbsp;<span class="ident" id="1388839">byImportSpec</span><span class="op" id="1388851">)</span>&nbsp;<span class="ident" id="1388853">Less</span><span class="op" id="1388857">(</span><span class="ident" id="1388858">i</span><span class="op" id="1388859">,</span>&nbsp;<span class="ident" id="1388861">j</span>&nbsp;<span class="builtintype" id="1388863">int</span><span class="op" id="1388866">)</span>&nbsp;<span class="builtintype" id="1388868">bool</span>&nbsp;<span class="op" id="1388873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388876">ipath</span>&nbsp;<span class="op" id="1388882">:=</span>&nbsp;<span class="ident" id="1388885">importPath</span><span class="op" id="1388895">(</span><span class="ident" id="1388896">x</span><span class="op" id="1388897">[</span><span class="ident" id="1388898">i</span><span class="op" id="1388899">]</span><span class="op" id="1388900">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388903">jpath</span>&nbsp;<span class="op" id="1388909">:=</span>&nbsp;<span class="ident" id="1388912">importPath</span><span class="op" id="1388922">(</span><span class="ident" id="1388923">x</span><span class="op" id="1388924">[</span><span class="ident" id="1388925">j</span><span class="op" id="1388926">]</span><span class="op" id="1388927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388930">if</span>&nbsp;<span class="ident" id="1388933">ipath</span>&nbsp;<span class="op" id="1388939">!=</span>&nbsp;<span class="ident" id="1388942">jpath</span>&nbsp;<span class="op" id="1388948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1388952">return</span>&nbsp;<span class="ident" id="1388959">ipath</span>&nbsp;<span class="op" id="1388965">&lt;</span>&nbsp;<span class="ident" id="1388967">jpath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1388974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1388977">iname</span>&nbsp;<span class="op" id="1388983">:=</span>&nbsp;<span class="ident" id="1388986">importName</span><span class="op" id="1388996">(</span><span class="ident" id="1388997">x</span><span class="op" id="1388998">[</span><span class="ident" id="1388999">i</span><span class="op" id="1389000">]</span><span class="op" id="1389001">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1389004">jname</span>&nbsp;<span class="op" id="1389010">:=</span>&nbsp;<span class="ident" id="1389013">importName</span><span class="op" id="1389023">(</span><span class="ident" id="1389024">x</span><span class="op" id="1389025">[</span><span class="ident" id="1389026">j</span><span class="op" id="1389027">]</span><span class="op" id="1389028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1389031">if</span>&nbsp;<span class="ident" id="1389034">iname</span>&nbsp;<span class="op" id="1389040">!=</span>&nbsp;<span class="ident" id="1389043">jname</span>&nbsp;<span class="op" id="1389049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1389053">return</span>&nbsp;<span class="ident" id="1389060">iname</span>&nbsp;<span class="op" id="1389066">&lt;</span>&nbsp;<span class="ident" id="1389068">jname</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1389075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1389078">return</span>&nbsp;<span class="ident" id="1389085">importComment</span><span class="op" id="1389098">(</span><span class="ident" id="1389099">x</span><span class="op" id="1389100">[</span><span class="ident" id="1389101">i</span><span class="op" id="1389102">]</span><span class="op" id="1389103">)</span>&nbsp;<span class="op" id="1389105">&lt;</span>&nbsp;<span class="ident" id="1389107">importComment</span><span class="op" id="1389120">(</span><span class="ident" id="1389121">x</span><span class="op" id="1389122">[</span><span class="ident" id="1389123">j</span><span class="op" id="1389124">]</span><span class="op" id="1389125">)</span><br>
<span class="lineno">190</span><span class="op" id="1389127">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1389130">type</span>&nbsp;<span class="ident" id="1389135">byCommentPos</span>&nbsp;<span class="op" id="1389148">[</span><span class="op" id="1389149">]</span><span class="op" id="1389150">*</span><span class="ident" id="1389151">CommentGroup</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1389165">func</span>&nbsp;<span class="op" id="1389170">(</span><span class="ident" id="1389171">x</span>&nbsp;<span class="ident" id="1389173">byCommentPos</span><span class="op" id="1389185">)</span>&nbsp;<span class="ident" id="1389187">Len</span><span class="op" id="1389190">(</span><span class="op" id="1389191">)</span>&nbsp;<span class="builtintype" id="1389193">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389207">{</span>&nbsp;<span class="keyword" id="1389209">return</span>&nbsp;<span class="builtinfunc" id="1389216">len</span><span class="op" id="1389219">(</span><span class="ident" id="1389220">x</span><span class="op" id="1389221">)</span>&nbsp;<span class="op" id="1389223">}</span><br>
<span class="lineno">195</span><span class="keyword" id="1389225">func</span>&nbsp;<span class="op" id="1389230">(</span><span class="ident" id="1389231">x</span>&nbsp;<span class="ident" id="1389233">byCommentPos</span><span class="op" id="1389245">)</span>&nbsp;<span class="ident" id="1389247">Swap</span><span class="op" id="1389251">(</span><span class="ident" id="1389252">i</span><span class="op" id="1389253">,</span>&nbsp;<span class="ident" id="1389255">j</span>&nbsp;<span class="builtintype" id="1389257">int</span><span class="op" id="1389260">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1389267">{</span>&nbsp;<span class="ident" id="1389269">x</span><span class="op" id="1389270">[</span><span class="ident" id="1389271">i</span><span class="op" id="1389272">]</span><span class="op" id="1389273">,</span>&nbsp;<span class="ident" id="1389275">x</span><span class="op" id="1389276">[</span><span class="ident" id="1389277">j</span><span class="op" id="1389278">]</span>&nbsp;<span class="op" id="1389280">=</span>&nbsp;<span class="ident" id="1389282">x</span><span class="op" id="1389283">[</span><span class="ident" id="1389284">j</span><span class="op" id="1389285">]</span><span class="op" id="1389286">,</span>&nbsp;<span class="ident" id="1389288">x</span><span class="op" id="1389289">[</span><span class="ident" id="1389290">i</span><span class="op" id="1389291">]</span>&nbsp;<span class="op" id="1389293">}</span><br>
<span class="lineno"></span><span class="keyword" id="1389295">func</span>&nbsp;<span class="op" id="1389300">(</span><span class="ident" id="1389301">x</span>&nbsp;<span class="ident" id="1389303">byCommentPos</span><span class="op" id="1389315">)</span>&nbsp;<span class="ident" id="1389317">Less</span><span class="op" id="1389321">(</span><span class="ident" id="1389322">i</span><span class="op" id="1389323">,</span>&nbsp;<span class="ident" id="1389325">j</span>&nbsp;<span class="builtintype" id="1389327">int</span><span class="op" id="1389330">)</span>&nbsp;<span class="builtintype" id="1389332">bool</span>&nbsp;<span class="op" id="1389337">{</span>&nbsp;<span class="keyword" id="1389339">return</span>&nbsp;<span class="ident" id="1389346">x</span><span class="op" id="1389347">[</span><span class="ident" id="1389348">i</span><span class="op" id="1389349">]</span><span class="op" id="1389350">.</span><span class="ident" id="1389351">Pos</span><span class="op" id="1389354">(</span><span class="op" id="1389355">)</span>&nbsp;<span class="op" id="1389357">&lt;</span>&nbsp;<span class="ident" id="1389359">x</span><span class="op" id="1389360">[</span><span class="ident" id="1389361">j</span><span class="op" id="1389362">]</span><span class="op" id="1389363">.</span><span class="ident" id="1389364">Pos</span><span class="op" id="1389367">(</span><span class="op" id="1389368">)</span>&nbsp;<span class="op" id="1389370">}</span>
</div>
</body>
</html>
