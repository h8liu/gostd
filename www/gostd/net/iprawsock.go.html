<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html" class="current">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3935855">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3935911">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3935965">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3936016">package</span>&nbsp;<span class="ident" id="3936024">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3936029">//&nbsp;IPAddr&nbsp;represents&nbsp;the&nbsp;address&nbsp;of&nbsp;an&nbsp;IP&nbsp;end&nbsp;point.</span><br>
<span class="lineno"></span><span class="keyword" id="3936082">type</span>&nbsp;<span class="ident" id="3936087">IPAddr</span>&nbsp;<span class="keyword" id="3936094">struct</span>&nbsp;<span class="op" id="3936101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3936104">IP</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3936109">IP</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3936113">Zone</span>&nbsp;<span class="builtintype" id="3936118">string</span>&nbsp;<span class="comment" id="3936125">//&nbsp;IPv6&nbsp;scoped&nbsp;addressing&nbsp;zone</span><br>
<span class="lineno"></span><span class="op" id="3936156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3936159">//&nbsp;Network&nbsp;returns&nbsp;the&nbsp;address&#39;s&nbsp;network&nbsp;name,&nbsp;&#34;ip&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3936212">func</span>&nbsp;<span class="op" id="3936217">(</span><span class="ident" id="3936218">a</span>&nbsp;<span class="op" id="3936220">*</span><span class="ident" id="3936221">IPAddr</span><span class="op" id="3936227">)</span>&nbsp;<span class="ident" id="3936229">Network</span><span class="op" id="3936236">(</span><span class="op" id="3936237">)</span>&nbsp;<span class="builtintype" id="3936239">string</span>&nbsp;<span class="op" id="3936246">{</span>&nbsp;<span class="keyword" id="3936248">return</span>&nbsp;<span class="string" id="3936255">&#34;ip&#34;</span>&nbsp;<span class="op" id="3936260">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="3936263">func</span>&nbsp;<span class="op" id="3936268">(</span><span class="ident" id="3936269">a</span>&nbsp;<span class="op" id="3936271">*</span><span class="ident" id="3936272">IPAddr</span><span class="op" id="3936278">)</span>&nbsp;<span class="ident" id="3936280">String</span><span class="op" id="3936286">(</span><span class="op" id="3936287">)</span>&nbsp;<span class="builtintype" id="3936289">string</span>&nbsp;<span class="op" id="3936296">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936299">if</span>&nbsp;<span class="ident" id="3936302">a</span>&nbsp;<span class="op" id="3936304">==</span>&nbsp;<span class="builtintype" id="3936307">nil</span>&nbsp;<span class="op" id="3936311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936315">return</span>&nbsp;<span class="string" id="3936322">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3936331">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936334">if</span>&nbsp;<span class="ident" id="3936337">a</span><span class="op" id="3936338">.</span><span class="ident" id="3936339">Zone</span>&nbsp;<span class="op" id="3936344">!=</span>&nbsp;<span class="string" id="3936347">&#34;&#34;</span>&nbsp;<span class="op" id="3936350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936354">return</span>&nbsp;<span class="ident" id="3936361">a</span><span class="op" id="3936362">.</span><span class="ident" id="3936363">IP</span><span class="op" id="3936365">.</span><span class="ident" id="3936366">String</span><span class="op" id="3936372">(</span><span class="op" id="3936373">)</span>&nbsp;<span class="op" id="3936375">+</span>&nbsp;<span class="string" id="3936377">&#34;%&#34;</span>&nbsp;<span class="op" id="3936381">+</span>&nbsp;<span class="ident" id="3936383">a</span><span class="op" id="3936384">.</span><span class="ident" id="3936385">Zone</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3936391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936394">return</span>&nbsp;<span class="ident" id="3936401">a</span><span class="op" id="3936402">.</span><span class="ident" id="3936403">IP</span><span class="op" id="3936405">.</span><span class="ident" id="3936406">String</span><span class="op" id="3936412">(</span><span class="op" id="3936413">)</span><br>
<span class="lineno"></span><span class="op" id="3936415">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="keyword" id="3936418">func</span>&nbsp;<span class="op" id="3936423">(</span><span class="ident" id="3936424">a</span>&nbsp;<span class="op" id="3936426">*</span><span class="ident" id="3936427">IPAddr</span><span class="op" id="3936433">)</span>&nbsp;<span class="ident" id="3936435">toAddr</span><span class="op" id="3936441">(</span><span class="op" id="3936442">)</span>&nbsp;<span class="ident" id="3936444">Addr</span>&nbsp;<span class="op" id="3936449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936452">if</span>&nbsp;<span class="ident" id="3936455">a</span>&nbsp;<span class="op" id="3936457">==</span>&nbsp;<span class="builtintype" id="3936460">nil</span>&nbsp;<span class="op" id="3936464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936468">return</span>&nbsp;<span class="builtintype" id="3936475">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3936480">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936483">return</span>&nbsp;<span class="ident" id="3936490">a</span><br>
<span class="lineno"></span><span class="op" id="3936492">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3936495">//&nbsp;ResolveIPAddr&nbsp;parses&nbsp;addr&nbsp;as&nbsp;an&nbsp;IP&nbsp;address&nbsp;of&nbsp;the&nbsp;form&nbsp;&#34;host&#34;&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="3936563">//&nbsp;&#34;ipv6-host%zone&#34;&nbsp;and&nbsp;resolves&nbsp;the&nbsp;domain&nbsp;name&nbsp;on&nbsp;the&nbsp;network&nbsp;net,</span><br>
<span class="lineno">35</span><span class="comment" id="3936632">//&nbsp;which&nbsp;must&nbsp;be&nbsp;&#34;ip&#34;,&nbsp;&#34;ip4&#34;&nbsp;or&nbsp;&#34;ip6&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="3936671">func</span>&nbsp;<span class="ident" id="3936676">ResolveIPAddr</span><span class="op" id="3936689">(</span><span class="ident" id="3936690">net</span><span class="op" id="3936693">,</span>&nbsp;<span class="ident" id="3936695">addr</span>&nbsp;<span class="builtintype" id="3936700">string</span><span class="op" id="3936706">)</span>&nbsp;<span class="op" id="3936708">(</span><span class="op" id="3936709">*</span><span class="ident" id="3936710">IPAddr</span><span class="op" id="3936716">,</span>&nbsp;<span class="builtintype" id="3936718">error</span><span class="op" id="3936723">)</span>&nbsp;<span class="op" id="3936725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936728">if</span>&nbsp;<span class="ident" id="3936731">net</span>&nbsp;<span class="op" id="3936735">==</span>&nbsp;<span class="string" id="3936738">&#34;&#34;</span>&nbsp;<span class="op" id="3936741">{</span>&nbsp;<span class="comment" id="3936743">//&nbsp;a&nbsp;hint&nbsp;wildcard&nbsp;for&nbsp;Go&nbsp;1.0&nbsp;undocumented&nbsp;behavior</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3936797">net</span>&nbsp;<span class="op" id="3936801">=</span>&nbsp;<span class="string" id="3936803">&#34;ip&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3936809">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3936812">afnet</span><span class="op" id="3936817">,</span>&nbsp;<span class="ident" id="3936819">_</span><span class="op" id="3936820">,</span>&nbsp;<span class="ident" id="3936822">err</span>&nbsp;<span class="op" id="3936826">:=</span>&nbsp;<span class="ident" id="3936829">parseNetwork</span><span class="op" id="3936841">(</span><span class="ident" id="3936842">net</span><span class="op" id="3936845">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936848">if</span>&nbsp;<span class="ident" id="3936851">err</span>&nbsp;<span class="op" id="3936855">!=</span>&nbsp;<span class="builtintype" id="3936858">nil</span>&nbsp;<span class="op" id="3936862">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936866">return</span>&nbsp;<span class="builtintype" id="3936873">nil</span><span class="op" id="3936876">,</span>&nbsp;<span class="ident" id="3936878">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3936883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936886">switch</span>&nbsp;<span class="ident" id="3936893">afnet</span>&nbsp;<span class="op" id="3936899">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936902">case</span>&nbsp;<span class="string" id="3936907">&#34;ip&#34;</span><span class="op" id="3936911">,</span>&nbsp;<span class="string" id="3936913">&#34;ip4&#34;</span><span class="op" id="3936918">,</span>&nbsp;<span class="string" id="3936920">&#34;ip6&#34;</span><span class="op" id="3936925">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936928">default</span><span class="op" id="3936935">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3936939">return</span>&nbsp;<span class="builtintype" id="3936946">nil</span><span class="op" id="3936949">,</span>&nbsp;<span class="ident" id="3936951">UnknownNetworkError</span><span class="op" id="3936970">(</span><span class="ident" id="3936971">net</span><span class="op" id="3936974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3936977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3936980">a</span><span class="op" id="3936981">,</span>&nbsp;<span class="ident" id="3936983">err</span>&nbsp;<span class="op" id="3936987">:=</span>&nbsp;<span class="ident" id="3936990">resolveInternetAddr</span><span class="op" id="3937009">(</span><span class="ident" id="3937010">afnet</span><span class="op" id="3937015">,</span>&nbsp;<span class="ident" id="3937017">addr</span><span class="op" id="3937021">,</span>&nbsp;<span class="ident" id="3937023">noDeadline</span><span class="op" id="3937033">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3937036">if</span>&nbsp;<span class="ident" id="3937039">err</span>&nbsp;<span class="op" id="3937043">!=</span>&nbsp;<span class="builtintype" id="3937046">nil</span>&nbsp;<span class="op" id="3937050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3937054">return</span>&nbsp;<span class="builtintype" id="3937061">nil</span><span class="op" id="3937064">,</span>&nbsp;<span class="ident" id="3937066">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3937071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3937074">return</span>&nbsp;<span class="ident" id="3937081">a</span><span class="op" id="3937082">.</span><span class="ident" id="3937083">toAddr</span><span class="op" id="3937089">(</span><span class="op" id="3937090">)</span><span class="op" id="3937091">.</span><span class="op" id="3937092">(</span><span class="op" id="3937093">*</span><span class="ident" id="3937094">IPAddr</span><span class="op" id="3937100">)</span><span class="op" id="3937101">,</span>&nbsp;<span class="builtintype" id="3937103">nil</span><br>
<span class="lineno"></span><span class="op" id="3937107">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
