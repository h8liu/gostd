<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2393658">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2393713">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2393767">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2393818">//&nbsp;Package&nbsp;reflect&nbsp;implements&nbsp;run-time&nbsp;reflection,&nbsp;allowing&nbsp;a&nbsp;program&nbsp;to</span><br>
<span class="lineno"></span><span class="comment" id="2393891">//&nbsp;manipulate&nbsp;objects&nbsp;with&nbsp;arbitrary&nbsp;types.&nbsp;&nbsp;The&nbsp;typical&nbsp;use&nbsp;is&nbsp;to&nbsp;take&nbsp;a&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2393971">//&nbsp;with&nbsp;static&nbsp;type&nbsp;interface{}&nbsp;and&nbsp;extract&nbsp;its&nbsp;dynamic&nbsp;type&nbsp;information&nbsp;by</span><br>
<span class="lineno"></span><span class="comment" id="2394047">//&nbsp;calling&nbsp;TypeOf,&nbsp;which&nbsp;returns&nbsp;a&nbsp;Type.</span><br>
<span class="lineno"></span><span class="comment" id="2394088">//</span><br>
<span class="lineno">10</span><span class="comment" id="2394091">//&nbsp;A&nbsp;call&nbsp;to&nbsp;ValueOf&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;the&nbsp;run-time&nbsp;data.</span><br>
<span class="lineno"></span><span class="comment" id="2394160">//&nbsp;Zero&nbsp;takes&nbsp;a&nbsp;Type&nbsp;and&nbsp;returns&nbsp;a&nbsp;Value&nbsp;representing&nbsp;a&nbsp;zero&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2394227">//&nbsp;for&nbsp;that&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2394245">//</span><br>
<span class="lineno"></span><span class="comment" id="2394248">//&nbsp;See&nbsp;&#34;The&nbsp;Laws&nbsp;of&nbsp;Reflection&#34;&nbsp;for&nbsp;an&nbsp;introduction&nbsp;to&nbsp;reflection&nbsp;in&nbsp;Go:</span><br>
<span class="lineno">15</span><span class="comment" id="2394321">//&nbsp;http://golang.org/doc/articles/laws_of_reflection.html</span><br>
<span class="lineno"></span><span class="keyword" id="2394379">package</span>&nbsp;<span class="ident" id="2394387">reflect</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2394396">import</span>&nbsp;<span class="op" id="2394403">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2394406">&#34;runtime&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2394417">&#34;strconv&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2394428">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="2394436">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><span class="op" id="2394445">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="comment" id="2394448">//&nbsp;Type&nbsp;is&nbsp;the&nbsp;representation&nbsp;of&nbsp;a&nbsp;Go&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2394492">//</span><br>
<span class="lineno"></span><span class="comment" id="2394495">//&nbsp;Not&nbsp;all&nbsp;methods&nbsp;apply&nbsp;to&nbsp;all&nbsp;kinds&nbsp;of&nbsp;types.&nbsp;&nbsp;Restrictions,</span><br>
<span class="lineno"></span><span class="comment" id="2394558">//&nbsp;if&nbsp;any,&nbsp;are&nbsp;noted&nbsp;in&nbsp;the&nbsp;documentation&nbsp;for&nbsp;each&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="2394617">//&nbsp;Use&nbsp;the&nbsp;Kind&nbsp;method&nbsp;to&nbsp;find&nbsp;out&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;before</span><br>
<span class="lineno">30</span><span class="comment" id="2394676">//&nbsp;calling&nbsp;kind-specific&nbsp;methods.&nbsp;&nbsp;Calling&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span><span class="comment" id="2394728">//&nbsp;inappropriate&nbsp;to&nbsp;the&nbsp;kind&nbsp;of&nbsp;type&nbsp;causes&nbsp;a&nbsp;run-time&nbsp;panic.</span><br>
<span class="lineno"></span><span class="keyword" id="2394790">type</span>&nbsp;<span class="ident" id="2394795">Type</span>&nbsp;<span class="keyword" id="2394800">interface</span>&nbsp;<span class="op" id="2394810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394813">//&nbsp;Methods&nbsp;applicable&nbsp;to&nbsp;all&nbsp;types.</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394851">//&nbsp;Align&nbsp;returns&nbsp;the&nbsp;alignment&nbsp;in&nbsp;bytes&nbsp;of&nbsp;a&nbsp;value&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394906">//&nbsp;this&nbsp;type&nbsp;when&nbsp;allocated&nbsp;in&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2394946">Align</span><span class="op" id="2394951">(</span><span class="op" id="2394952">)</span>&nbsp;<span class="builtintype" id="2394954">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2394960">//&nbsp;FieldAlign&nbsp;returns&nbsp;the&nbsp;alignment&nbsp;in&nbsp;bytes&nbsp;of&nbsp;a&nbsp;value&nbsp;of</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395020">//&nbsp;this&nbsp;type&nbsp;when&nbsp;used&nbsp;as&nbsp;a&nbsp;field&nbsp;in&nbsp;a&nbsp;struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395068">FieldAlign</span><span class="op" id="2395078">(</span><span class="op" id="2395079">)</span>&nbsp;<span class="builtintype" id="2395081">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395087">//&nbsp;Method&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;method&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395148">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumMethod()).</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395205">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395209">//&nbsp;For&nbsp;a&nbsp;non-interface&nbsp;type&nbsp;T&nbsp;or&nbsp;*T,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;and&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395283">//&nbsp;fields&nbsp;describe&nbsp;a&nbsp;function&nbsp;whose&nbsp;first&nbsp;argument&nbsp;is&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395352">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395356">//&nbsp;For&nbsp;an&nbsp;interface&nbsp;type,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;field&nbsp;gives&nbsp;the</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395426">//&nbsp;method&nbsp;signature,&nbsp;without&nbsp;a&nbsp;receiver,&nbsp;and&nbsp;the&nbsp;Func&nbsp;field&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395495">Method</span><span class="op" id="2395501">(</span><span class="builtintype" id="2395502">int</span><span class="op" id="2395505">)</span>&nbsp;<span class="ident" id="2395507"><a href="/reflect/type.go.html#2406285">Method</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395516">//&nbsp;MethodByName&nbsp;returns&nbsp;the&nbsp;method&nbsp;with&nbsp;that&nbsp;name&nbsp;in&nbsp;the&nbsp;type&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395581">//&nbsp;method&nbsp;set&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if&nbsp;the&nbsp;method&nbsp;was&nbsp;found.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395646">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395650">//&nbsp;For&nbsp;a&nbsp;non-interface&nbsp;type&nbsp;T&nbsp;or&nbsp;*T,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;and&nbsp;Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395724">//&nbsp;fields&nbsp;describe&nbsp;a&nbsp;function&nbsp;whose&nbsp;first&nbsp;argument&nbsp;is&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395793">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395797">//&nbsp;For&nbsp;an&nbsp;interface&nbsp;type,&nbsp;the&nbsp;returned&nbsp;Method&#39;s&nbsp;Type&nbsp;field&nbsp;gives&nbsp;the</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395867">//&nbsp;method&nbsp;signature,&nbsp;without&nbsp;a&nbsp;receiver,&nbsp;and&nbsp;the&nbsp;Func&nbsp;field&nbsp;is&nbsp;nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2395936">MethodByName</span><span class="op" id="2395948">(</span><span class="builtintype" id="2395949">string</span><span class="op" id="2395955">)</span>&nbsp;<span class="op" id="2395957">(</span><span class="ident" id="2395958"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2395964">,</span>&nbsp;<span class="builtintype" id="2395966">bool</span><span class="op" id="2395970">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2395974">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;methods&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396044">NumMethod</span><span class="op" id="2396053">(</span><span class="op" id="2396054">)</span>&nbsp;<span class="builtintype" id="2396056">int</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396062">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;type&#39;s&nbsp;name&nbsp;within&nbsp;its&nbsp;package.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396115">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;empty&nbsp;string&nbsp;for&nbsp;unnamed&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396165">Name</span><span class="op" id="2396169">(</span><span class="op" id="2396170">)</span>&nbsp;<span class="builtintype" id="2396172">string</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396181">//&nbsp;PkgPath&nbsp;returns&nbsp;a&nbsp;named&nbsp;type&#39;s&nbsp;package&nbsp;path,&nbsp;that&nbsp;is,&nbsp;the&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396255">//&nbsp;that&nbsp;uniquely&nbsp;identifies&nbsp;the&nbsp;package,&nbsp;such&nbsp;as&nbsp;&#34;encoding/base64&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396324">//&nbsp;If&nbsp;the&nbsp;type&nbsp;was&nbsp;predeclared&nbsp;(string,&nbsp;error)&nbsp;or&nbsp;unnamed&nbsp;(*T,&nbsp;struct{},&nbsp;[]int),</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396406">//&nbsp;the&nbsp;package&nbsp;path&nbsp;will&nbsp;be&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396453">PkgPath</span><span class="op" id="2396460">(</span><span class="op" id="2396461">)</span>&nbsp;<span class="builtintype" id="2396463">string</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396472">//&nbsp;Size&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;bytes&nbsp;needed&nbsp;to&nbsp;store</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396525">//&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;given&nbsp;type;&nbsp;it&nbsp;is&nbsp;analogous&nbsp;to&nbsp;unsafe.Sizeof.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396590">Size</span><span class="op" id="2396594">(</span><span class="op" id="2396595">)</span>&nbsp;<span class="builtintype" id="2396597">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396607">//&nbsp;String&nbsp;returns&nbsp;a&nbsp;string&nbsp;representation&nbsp;of&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396663">//&nbsp;The&nbsp;string&nbsp;representation&nbsp;may&nbsp;use&nbsp;shortened&nbsp;package&nbsp;names</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396725">//&nbsp;(e.g.,&nbsp;base64&nbsp;instead&nbsp;of&nbsp;&#34;encoding/base64&#34;)&nbsp;and&nbsp;is&nbsp;not</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396784">//&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;unique&nbsp;among&nbsp;types.&nbsp;&nbsp;To&nbsp;test&nbsp;for&nbsp;equality,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396848">//&nbsp;compare&nbsp;the&nbsp;Types&nbsp;directly.</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396880">String</span><span class="op" id="2396886">(</span><span class="op" id="2396887">)</span>&nbsp;<span class="builtintype" id="2396889">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396898">//&nbsp;Kind&nbsp;returns&nbsp;the&nbsp;specific&nbsp;kind&nbsp;of&nbsp;this&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2396947">Kind</span><span class="op" id="2396951">(</span><span class="op" id="2396952">)</span>&nbsp;<span class="ident" id="2396954"><a href="/reflect/type.go.html#2401184">Kind</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2396961">//&nbsp;Implements&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;implements&nbsp;the&nbsp;interface&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397034">Implements</span><span class="op" id="2397044">(</span><span class="ident" id="2397045">u</span>&nbsp;<span class="ident" id="2397047"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2397051">)</span>&nbsp;<span class="builtintype" id="2397053">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397060">//&nbsp;AssignableTo&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;type&nbsp;is&nbsp;assignable&nbsp;to&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397138">AssignableTo</span><span class="op" id="2397150">(</span><span class="ident" id="2397151">u</span>&nbsp;<span class="ident" id="2397153"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2397157">)</span>&nbsp;<span class="builtintype" id="2397159">bool</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397166">//&nbsp;ConvertibleTo&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;of&nbsp;the&nbsp;type&nbsp;is&nbsp;convertible&nbsp;to&nbsp;type&nbsp;u.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397246">ConvertibleTo</span><span class="op" id="2397259">(</span><span class="ident" id="2397260">u</span>&nbsp;<span class="ident" id="2397262"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2397266">)</span>&nbsp;<span class="builtintype" id="2397268">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397275">//&nbsp;Comparable&nbsp;returns&nbsp;true&nbsp;if&nbsp;values&nbsp;of&nbsp;this&nbsp;type&nbsp;are&nbsp;comparable.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397342">Comparable</span><span class="op" id="2397352">(</span><span class="op" id="2397353">)</span>&nbsp;<span class="builtintype" id="2397355">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397362">//&nbsp;Methods&nbsp;applicable&nbsp;only&nbsp;to&nbsp;some&nbsp;types,&nbsp;depending&nbsp;on&nbsp;Kind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397424">//&nbsp;The&nbsp;methods&nbsp;allowed&nbsp;for&nbsp;each&nbsp;kind&nbsp;are:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397467">//</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397471">//&nbsp;&nbsp;&nbsp;&nbspInt*,&nbsp;Uint*,&nbsp;Float*,&nbsp;Complex*:&nbsp;Bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397511">//&nbsp;&nbsp;&nbsp;&nbspArray:&nbsp;Elem,&nbsp;Len</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397532">//&nbsp;&nbsp;&nbsp;&nbspChan:&nbsp;ChanDir,&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397556">//&nbsp;&nbsp;&nbsp;&nbspFunc:&nbsp;In,&nbsp;NumIn,&nbsp;Out,&nbsp;NumOut,&nbsp;IsVariadic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397602">//&nbsp;&nbsp;&nbsp;&nbspMap:&nbsp;Key,&nbsp;Elem</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397621">//&nbsp;&nbsp;&nbsp;&nbspPtr:&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397635">//&nbsp;&nbsp;&nbsp;&nbspSlice:&nbsp;Elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397651">//&nbsp;&nbsp;&nbsp;&nbspStruct:&nbsp;Field,&nbsp;FieldByIndex,&nbsp;FieldByName,&nbsp;FieldByNameFunc,&nbsp;NumField</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397724">//&nbsp;Bits&nbsp;returns&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;type&nbsp;in&nbsp;bits.</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397771">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;one&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397822">//&nbsp;sized&nbsp;or&nbsp;unsized&nbsp;Int,&nbsp;Uint,&nbsp;Float,&nbsp;or&nbsp;Complex&nbsp;kinds.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397879">Bits</span><span class="op" id="2397883">(</span><span class="op" id="2397884">)</span>&nbsp;<span class="builtintype" id="2397886">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397892">//&nbsp;ChanDir&nbsp;returns&nbsp;a&nbsp;channel&nbsp;type&#39;s&nbsp;direction.</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2397940">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Chan.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2397986">ChanDir</span><span class="op" id="2397993">(</span><span class="op" id="2397994">)</span>&nbsp;<span class="ident" id="2397996"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398006">//&nbsp;IsVariadic&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;final&nbsp;input&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398077">//&nbsp;is&nbsp;a&nbsp;&#34;...&#34;&nbsp;parameter.&nbsp;&nbsp;If&nbsp;so,&nbsp;t.In(t.NumIn()&nbsp;-&nbsp;1)&nbsp;returns&nbsp;the&nbsp;parameter&#39;s</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398155">//&nbsp;implicit&nbsp;actual&nbsp;type&nbsp;[]T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398185">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398189">//&nbsp;For&nbsp;concreteness,&nbsp;if&nbsp;t&nbsp;represents&nbsp;func(x&nbsp;int,&nbsp;y&nbsp;...&nbsp;float64),&nbsp;then</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398260">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398264">//&nbsp;&nbsp;&nbsp;&nbspt.NumIn()&nbsp;==&nbsp;2</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398283">//&nbsp;&nbsp;&nbsp;&nbspt.In(0)&nbsp;is&nbsp;the&nbsp;reflect.Type&nbsp;for&nbsp;&#34;int&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398325">//&nbsp;&nbsp;&nbsp;&nbspt.In(1)&nbsp;is&nbsp;the&nbsp;reflect.Type&nbsp;for&nbsp;&#34;[]float64&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398373">//&nbsp;&nbsp;&nbsp;&nbspt.IsVariadic()&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398400">//</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398404">//&nbsp;IsVariadic&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398458">IsVariadic</span><span class="op" id="2398468">(</span><span class="op" id="2398469">)</span>&nbsp;<span class="builtintype" id="2398471">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398478">//&nbsp;Elem&nbsp;returns&nbsp;a&nbsp;type&#39;s&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398518">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array,&nbsp;Chan,&nbsp;Map,&nbsp;Ptr,&nbsp;or&nbsp;Slice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398591">Elem</span><span class="op" id="2398595">(</span><span class="op" id="2398596">)</span>&nbsp;<span class="ident" id="2398598"><a href="/reflect/type.go.html#2394795">Type</a></span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398605">//&nbsp;Field&nbsp;returns&nbsp;a&nbsp;struct&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;field.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398651">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398699">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumField()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398755">Field</span><span class="op" id="2398760">(</span><span class="ident" id="2398761">i</span>&nbsp;<span class="builtintype" id="2398763">int</span><span class="op" id="2398766">)</span>&nbsp;<span class="ident" id="2398768"><a href="/reflect/type.go.html#2414077">StructField</a></span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398782">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398838">//&nbsp;to&nbsp;the&nbsp;index&nbsp;sequence.&nbsp;&nbsp;It&nbsp;is&nbsp;equivalent&nbsp;to&nbsp;calling&nbsp;Field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398900">//&nbsp;successively&nbsp;for&nbsp;each&nbsp;index&nbsp;i.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2398935">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2398983">FieldByIndex</span><span class="op" id="2398995">(</span><span class="ident" id="2398996">index</span>&nbsp;<span class="op" id="2399002">[</span><span class="op" id="2399003">]</span><span class="builtintype" id="2399004">int</span><span class="op" id="2399007">)</span>&nbsp;<span class="ident" id="2399009"><a href="/reflect/type.go.html#2414077">StructField</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399023">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399084">//&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399137">FieldByName</span><span class="op" id="2399148">(</span><span class="ident" id="2399149">name</span>&nbsp;<span class="builtintype" id="2399154">string</span><span class="op" id="2399160">)</span>&nbsp;<span class="op" id="2399162">(</span><span class="ident" id="2399163"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2399174">,</span>&nbsp;<span class="builtintype" id="2399176">bool</span><span class="op" id="2399180">)</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399184">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;first&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399247">//&nbsp;that&nbsp;satisfies&nbsp;the&nbsp;match&nbsp;function&nbsp;and&nbsp;a&nbsp;boolean&nbsp;indicating&nbsp;if</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399313">//&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399338">FieldByNameFunc</span><span class="op" id="2399353">(</span><span class="ident" id="2399354">match</span>&nbsp;<span class="keyword" id="2399360">func</span><span class="op" id="2399364">(</span><span class="builtintype" id="2399365">string</span><span class="op" id="2399371">)</span>&nbsp;<span class="builtintype" id="2399373">bool</span><span class="op" id="2399377">)</span>&nbsp;<span class="op" id="2399379">(</span><span class="ident" id="2399380"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2399391">,</span>&nbsp;<span class="builtintype" id="2399393">bool</span><span class="op" id="2399397">)</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399401">//&nbsp;In&nbsp;returns&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;input&nbsp;parameter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399468">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399514">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumIn()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399567">In</span><span class="op" id="2399569">(</span><span class="ident" id="2399570">i</span>&nbsp;<span class="builtintype" id="2399572">int</span><span class="op" id="2399575">)</span>&nbsp;<span class="ident" id="2399577"><a href="/reflect/type.go.html#2394795">Type</a></span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399584">//&nbsp;Key&nbsp;returns&nbsp;a&nbsp;map&nbsp;type&#39;s&nbsp;key&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399623">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399668">Key</span><span class="op" id="2399671">(</span><span class="op" id="2399672">)</span>&nbsp;<span class="ident" id="2399674"><a href="/reflect/type.go.html#2394795">Type</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399681">//&nbsp;Len&nbsp;returns&nbsp;an&nbsp;array&nbsp;type&#39;s&nbsp;length.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399721">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Array.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399768">Len</span><span class="op" id="2399771">(</span><span class="op" id="2399772">)</span>&nbsp;<span class="builtintype" id="2399774">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399780">//&nbsp;NumField&nbsp;returns&nbsp;a&nbsp;struct&nbsp;type&#39;s&nbsp;field&nbsp;count.</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399830">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Struct.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2399878">NumField</span><span class="op" id="2399886">(</span><span class="op" id="2399887">)</span>&nbsp;<span class="builtintype" id="2399889">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399895">//&nbsp;NumIn&nbsp;returns&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;input&nbsp;parameter&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2399954">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400000">NumIn</span><span class="op" id="2400005">(</span><span class="op" id="2400006">)</span>&nbsp;<span class="builtintype" id="2400008">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400014">//&nbsp;NumOut&nbsp;returns&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;output&nbsp;parameter&nbsp;count.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400075">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400121">NumOut</span><span class="op" id="2400127">(</span><span class="op" id="2400128">)</span>&nbsp;<span class="builtintype" id="2400130">int</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400136">//&nbsp;Out&nbsp;returns&nbsp;the&nbsp;type&nbsp;of&nbsp;a&nbsp;function&nbsp;type&#39;s&nbsp;i&#39;th&nbsp;output&nbsp;parameter.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400205">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;the&nbsp;type&#39;s&nbsp;Kind&nbsp;is&nbsp;not&nbsp;Func.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2400251">//&nbsp;It&nbsp;panics&nbsp;if&nbsp;i&nbsp;is&nbsp;not&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;NumOut()).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400305">Out</span><span class="op" id="2400308">(</span><span class="ident" id="2400309">i</span>&nbsp;<span class="builtintype" id="2400311">int</span><span class="op" id="2400314">)</span>&nbsp;<span class="ident" id="2400316"><a href="/reflect/type.go.html#2394795">Type</a></span><br>
<span class="lineno">190</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400323">common</span><span class="op" id="2400329">(</span><span class="op" id="2400330">)</span>&nbsp;<span class="op" id="2400332">*</span><span class="ident" id="2400333"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2400340">uncommon</span><span class="op" id="2400348">(</span><span class="op" id="2400349">)</span>&nbsp;<span class="op" id="2400351">*</span><span class="ident" id="2400352"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><br>
<span class="lineno"></span><span class="op" id="2400365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="comment" id="2400368">//&nbsp;BUG(rsc):&nbsp;FieldByName&nbsp;and&nbsp;related&nbsp;functions&nbsp;consider&nbsp;struct&nbsp;field&nbsp;names&nbsp;to&nbsp;be&nbsp;equal</span><br>
<span class="lineno"></span><span class="comment" id="2400455">//&nbsp;if&nbsp;the&nbsp;names&nbsp;are&nbsp;equal,&nbsp;even&nbsp;if&nbsp;they&nbsp;are&nbsp;unexported&nbsp;names&nbsp;originating</span><br>
<span class="lineno"></span><span class="comment" id="2400528">//&nbsp;in&nbsp;different&nbsp;packages.&nbsp;The&nbsp;practical&nbsp;effect&nbsp;of&nbsp;this&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2400605">//&nbsp;t.FieldByName(&#34;x&#34;)&nbsp;is&nbsp;not&nbsp;well&nbsp;defined&nbsp;if&nbsp;the&nbsp;struct&nbsp;type&nbsp;t&nbsp;contains</span><br>
<span class="lineno"></span><span class="comment" id="2400677">//&nbsp;multiple&nbsp;fields&nbsp;named&nbsp;x&nbsp;(embedded&nbsp;from&nbsp;different&nbsp;packages).</span><br>
<span class="lineno">200</span><span class="comment" id="2400740">//&nbsp;FieldByName&nbsp;may&nbsp;return&nbsp;one&nbsp;of&nbsp;the&nbsp;fields&nbsp;named&nbsp;x&nbsp;or&nbsp;may&nbsp;report&nbsp;that&nbsp;there&nbsp;are&nbsp;none.</span><br>
<span class="lineno"></span><span class="comment" id="2400827">//&nbsp;See&nbsp;golang.org/issue/4876&nbsp;for&nbsp;more&nbsp;details.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2400875">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;These&nbsp;data&nbsp;structures&nbsp;are&nbsp;known&nbsp;to&nbsp;the&nbsp;compiler&nbsp;(../../cmd/gc/reflect.c).<br>
<span class="lineno">205</span>&nbsp;*&nbsp;A&nbsp;few&nbsp;are&nbsp;known&nbsp;to&nbsp;../runtime/type.go&nbsp;to&nbsp;convey&nbsp;to&nbsp;debuggers.<br>
<span class="lineno"></span>&nbsp;*&nbsp;They&nbsp;are&nbsp;also&nbsp;known&nbsp;to&nbsp;../runtime/type.h.<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401070">//&nbsp;A&nbsp;Kind&nbsp;represents&nbsp;the&nbsp;specific&nbsp;kind&nbsp;of&nbsp;type&nbsp;that&nbsp;a&nbsp;Type&nbsp;represents.</span><br>
<span class="lineno">210</span><span class="comment" id="2401141">//&nbsp;The&nbsp;zero&nbsp;Kind&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;kind.</span><br>
<span class="lineno"></span><span class="keyword" id="2401179">type</span>&nbsp;<span class="ident" id="2401184">Kind</span>&nbsp;<span class="builtintype" id="2401189">uint</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2401195">const</span>&nbsp;<span class="op" id="2401201">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401204">Invalid</span>&nbsp;<span class="ident" id="2401212"><a href="/reflect/type.go.html#2401184">Kind</a></span>&nbsp;<span class="op" id="2401217">=</span>&nbsp;<span class="ident" id="2401219">iota</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401225">Bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401231">Int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401236">Int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401242">Int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401249">Int32</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401256">Int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401263">Uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401269">Uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401276">Uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401284">Uint32</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401292">Uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401300">Uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401309">Float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401318">Float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401327">Complex64</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401338">Complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401350">Array</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401357">Chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401363">Func</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401369">Interface</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401380">Map</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401385">Ptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401390">Slice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401397">String</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401405">Struct</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401413">UnsafePointer</span><br>
<span class="lineno"></span><span class="op" id="2401427">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2401430">//&nbsp;rtype&nbsp;is&nbsp;the&nbsp;common&nbsp;implementation&nbsp;of&nbsp;most&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="2401484">//&nbsp;It&nbsp;is&nbsp;embedded&nbsp;in&nbsp;other,&nbsp;public&nbsp;struct&nbsp;types,&nbsp;but&nbsp;always</span><br>
<span class="lineno">245</span><span class="comment" id="2401544">//&nbsp;with&nbsp;a&nbsp;unique&nbsp;tag&nbsp;like&nbsp;`reflect:&#34;array&#34;`&nbsp;or&nbsp;`reflect:&#34;ptr&#34;`</span><br>
<span class="lineno"></span><span class="comment" id="2401607">//&nbsp;so&nbsp;that&nbsp;code&nbsp;cannot&nbsp;convert&nbsp;from,&nbsp;say,&nbsp;*arrayType&nbsp;to&nbsp;*ptrType.</span><br>
<span class="lineno"></span><span class="keyword" id="2401673">type</span>&nbsp;<span class="ident" id="2401678">rtype</span>&nbsp;<span class="keyword" id="2401684">struct</span>&nbsp;<span class="op" id="2401691">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401694">size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2401708">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401717">hash</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2401731">uint32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2401749">//&nbsp;hash&nbsp;of&nbsp;type;&nbsp;avoids&nbsp;computation&nbsp;in&nbsp;hash&nbsp;tables</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401801">_</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2401815">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2401833">//&nbsp;unused/padding</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401852">align</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2401866">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2401884">//&nbsp;alignment&nbsp;of&nbsp;variable&nbsp;with&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2401925">fieldAlign</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2401939">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2401957">//&nbsp;alignment&nbsp;of&nbsp;struct&nbsp;field&nbsp;with&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402002">kind</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2402016">uint8</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402034">//&nbsp;enumeration&nbsp;for&nbsp;C</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402056">alg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2402070">*</span><span class="ident" id="2402071"><a href="/reflect/type.go.html#2402509">typeAlg</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402088">//&nbsp;algorithm&nbsp;table&nbsp;(../runtime/runtime.h:/Alg)</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402136">gc</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2402150">[</span><span class="num" id="2402151">2</span><span class="op" id="2402152">]</span><span class="ident" id="2402153"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2402159">.</span><span class="ident" id="2402160">Pointer</span>&nbsp;<span class="comment" id="2402168">//&nbsp;garbage&nbsp;collection&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="2402196">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2402210">*</span><span class="builtintype" id="2402211">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402228">//&nbsp;string&nbsp;form;&nbsp;unnecessary&nbsp;but&nbsp;undeniably&nbsp;useful</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2402279">*</span><span class="ident" id="2402280"><a href="/reflect/type.go.html#2403510">uncommonType</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402311">//&nbsp;(relatively)&nbsp;uncommon&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402344">ptrToThis</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2402358">*</span><span class="ident" id="2402359"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402376">//&nbsp;type&nbsp;for&nbsp;pointer&nbsp;to&nbsp;this&nbsp;type,&nbsp;if&nbsp;used&nbsp;in&nbsp;binary&nbsp;or&nbsp;has&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402444">zero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2402458"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2402464">.</span><span class="ident" id="2402465">Pointer</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402476">//&nbsp;pointer&nbsp;to&nbsp;zero&nbsp;value</span><br>
<span class="lineno">260</span><span class="op" id="2402501">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2402504">type</span>&nbsp;<span class="ident" id="2402509">typeAlg</span>&nbsp;<span class="keyword" id="2402517">struct</span>&nbsp;<span class="op" id="2402524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402527">//&nbsp;function&nbsp;for&nbsp;hashing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402573">//&nbsp;(ptr&nbsp;to&nbsp;object,&nbsp;size,&nbsp;seed)&nbsp;-&gt;&nbsp;hash</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402613">hash</span>&nbsp;<span class="keyword" id="2402618">func</span><span class="op" id="2402622">(</span><span class="ident" id="2402623"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2402629">.</span><span class="ident" id="2402630">Pointer</span><span class="op" id="2402637">,</span>&nbsp;<span class="builtintype" id="2402639">uintptr</span><span class="op" id="2402646">,</span>&nbsp;<span class="builtintype" id="2402648">uintptr</span><span class="op" id="2402655">)</span>&nbsp;<span class="builtintype" id="2402657">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402666">//&nbsp;function&nbsp;for&nbsp;comparing&nbsp;objects&nbsp;of&nbsp;this&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2402714">//&nbsp;(ptr&nbsp;to&nbsp;object&nbsp;A,&nbsp;ptr&nbsp;to&nbsp;object&nbsp;B,&nbsp;size)&nbsp;-&gt;&nbsp;==?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402766">equal</span>&nbsp;<span class="keyword" id="2402772">func</span><span class="op" id="2402776">(</span><span class="ident" id="2402777"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2402783">.</span><span class="ident" id="2402784">Pointer</span><span class="op" id="2402791">,</span>&nbsp;<span class="ident" id="2402793"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2402799">.</span><span class="ident" id="2402800">Pointer</span><span class="op" id="2402807">,</span>&nbsp;<span class="builtintype" id="2402809">uintptr</span><span class="op" id="2402816">)</span>&nbsp;<span class="builtintype" id="2402818">bool</span><br>
<span class="lineno"></span><span class="op" id="2402823">}</span><br>
<span class="lineno">270</span><br>
<span class="lineno"></span><span class="comment" id="2402826">//&nbsp;Method&nbsp;on&nbsp;non-interface&nbsp;type</span><br>
<span class="lineno"></span><span class="keyword" id="2402858">type</span>&nbsp;<span class="ident" id="2402863">method</span>&nbsp;<span class="keyword" id="2402870">struct</span>&nbsp;<span class="op" id="2402877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402880">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2402888">*</span><span class="builtintype" id="2402889">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402903">//&nbsp;name&nbsp;of&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402922">pkgPath</span>&nbsp;<span class="op" id="2402930">*</span><span class="builtintype" id="2402931">string</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2402945">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2402995">mtyp</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2403003">*</span><span class="ident" id="2403004"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2403018">//&nbsp;method&nbsp;type&nbsp;(without&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403053">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2403061">*</span><span class="ident" id="2403062"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2403076">//&nbsp;.(*FuncType)&nbsp;underneath&nbsp;(with&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403120">ifn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403128"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2403134">.</span><span class="ident" id="2403135">Pointer</span>&nbsp;<span class="comment" id="2403143">//&nbsp;fn&nbsp;used&nbsp;in&nbsp;interface&nbsp;call&nbsp;(one-word&nbsp;receiver)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403193">tfn</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2403201"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2403207">.</span><span class="ident" id="2403208">Pointer</span>&nbsp;<span class="comment" id="2403216">//&nbsp;fn&nbsp;used&nbsp;for&nbsp;normal&nbsp;method&nbsp;call</span><br>
<span class="lineno"></span><span class="op" id="2403250">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="comment" id="2403253">//&nbsp;uncommonType&nbsp;is&nbsp;present&nbsp;only&nbsp;for&nbsp;types&nbsp;with&nbsp;names&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span><span class="comment" id="2403317">//&nbsp;(if&nbsp;T&nbsp;is&nbsp;a&nbsp;named&nbsp;type,&nbsp;the&nbsp;uncommonTypes&nbsp;for&nbsp;T&nbsp;and&nbsp;*T&nbsp;have&nbsp;methods).</span><br>
<span class="lineno"></span><span class="comment" id="2403389">//&nbsp;Using&nbsp;a&nbsp;pointer&nbsp;to&nbsp;this&nbsp;struct&nbsp;reduces&nbsp;the&nbsp;overall&nbsp;size&nbsp;required</span><br>
<span class="lineno"></span><span class="comment" id="2403457">//&nbsp;to&nbsp;describe&nbsp;an&nbsp;unnamed&nbsp;type&nbsp;with&nbsp;no&nbsp;methods.</span><br>
<span class="lineno">285</span><span class="keyword" id="2403505">type</span>&nbsp;<span class="ident" id="2403510">uncommonType</span>&nbsp;<span class="keyword" id="2403523">struct</span>&nbsp;<span class="op" id="2403530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403533">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2403541">*</span><span class="builtintype" id="2403542">string</span>&nbsp;&nbsp;<span class="comment" id="2403550">//&nbsp;name&nbsp;of&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403567">pkgPath</span>&nbsp;<span class="op" id="2403575">*</span><span class="builtintype" id="2403576">string</span>&nbsp;&nbsp;<span class="comment" id="2403584">//&nbsp;import&nbsp;path;&nbsp;nil&nbsp;for&nbsp;built-in&nbsp;types&nbsp;like&nbsp;int,&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403641">methods</span>&nbsp;<span class="op" id="2403649">[</span><span class="op" id="2403650">]</span><span class="ident" id="2403651"><a href="/reflect/type.go.html#2402863">method</a></span>&nbsp;<span class="comment" id="2403658">//&nbsp;methods&nbsp;associated&nbsp;with&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="2403690">}</span><br>
<span class="lineno">290</span><br>
<span class="lineno"></span><span class="comment" id="2403693">//&nbsp;ChanDir&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type&#39;s&nbsp;direction.</span><br>
<span class="lineno"></span><span class="keyword" id="2403743">type</span>&nbsp;<span class="ident" id="2403748">ChanDir</span>&nbsp;<span class="builtintype" id="2403756">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2403761">const</span>&nbsp;<span class="op" id="2403767">(</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403770">RecvDir</span>&nbsp;<span class="ident" id="2403778"><a href="/reflect/type.go.html#2403748">ChanDir</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2403798">=</span>&nbsp;<span class="num" id="2403800">1</span>&nbsp;<span class="op" id="2403802">&lt;&lt;</span>&nbsp;<span class="ident" id="2403805">iota</span>&nbsp;<span class="comment" id="2403810">//&nbsp;&lt;-chan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403821">SendDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2403861">//&nbsp;chan&lt;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403872">BothDir</span>&nbsp;<span class="op" id="2403880">=</span>&nbsp;<span class="ident" id="2403882"><a href="/reflect/type.go.html#2403770">RecvDir</a></span>&nbsp;<span class="op" id="2403890">|</span>&nbsp;<span class="ident" id="2403892"><a href="/reflect/type.go.html#2403821">SendDir</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2403912">//&nbsp;chan</span><br>
<span class="lineno"></span><span class="op" id="2403920">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="comment" id="2403923">//&nbsp;arrayType&nbsp;represents&nbsp;a&nbsp;fixed&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2403967">type</span>&nbsp;<span class="ident" id="2403972">arrayType</span>&nbsp;<span class="keyword" id="2403982">struct</span>&nbsp;<span class="op" id="2403989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2403992"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="string" id="2403998">`reflect:&#34;array&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404017">elem</span>&nbsp;&nbsp;<span class="op" id="2404023">*</span><span class="ident" id="2404024"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2404030">//&nbsp;array&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404053">slice</span>&nbsp;<span class="op" id="2404059">*</span><span class="ident" id="2404060"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2404066">//&nbsp;slice&nbsp;type</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2404081">len</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2404087">uintptr</span><br>
<span class="lineno"></span><span class="op" id="2404095">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2404098">//&nbsp;chanType&nbsp;represents&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2404137">type</span>&nbsp;<span class="ident" id="2404142">chanType</span>&nbsp;<span class="keyword" id="2404151">struct</span>&nbsp;<span class="op" id="2404158">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404161"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="string" id="2404167">`reflect:&#34;chan&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404185">elem</span>&nbsp;&nbsp;<span class="op" id="2404191">*</span><span class="ident" id="2404192"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2404199">//&nbsp;channel&nbsp;element&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404224">dir</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2404230">uintptr</span>&nbsp;<span class="comment" id="2404238">//&nbsp;channel&nbsp;direction&nbsp;(ChanDir)</span><br>
<span class="lineno"></span><span class="op" id="2404269">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="comment" id="2404272">//&nbsp;funcType&nbsp;represents&nbsp;a&nbsp;function&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2404312">type</span>&nbsp;<span class="ident" id="2404317">funcType</span>&nbsp;<span class="keyword" id="2404326">struct</span>&nbsp;<span class="op" id="2404333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404336"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2404346">`reflect:&#34;func&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404364">dotdotdot</span>&nbsp;<span class="builtintype" id="2404374">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2404383">//&nbsp;last&nbsp;input&nbsp;parameter&nbsp;is&nbsp;...</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404415">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404425">[</span><span class="op" id="2404426">]</span><span class="op" id="2404427">*</span><span class="ident" id="2404428"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2404434">//&nbsp;input&nbsp;parameter&nbsp;types</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404460">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404470">[</span><span class="op" id="2404471">]</span><span class="op" id="2404472">*</span><span class="ident" id="2404473"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2404479">//&nbsp;output&nbsp;parameter&nbsp;types</span><br>
<span class="lineno"></span><span class="op" id="2404505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2404508">//&nbsp;imethod&nbsp;represents&nbsp;a&nbsp;method&nbsp;on&nbsp;an&nbsp;interface&nbsp;type</span><br>
<span class="lineno"></span><span class="keyword" id="2404560">type</span>&nbsp;<span class="ident" id="2404565">imethod</span>&nbsp;<span class="keyword" id="2404573">struct</span>&nbsp;<span class="op" id="2404580">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404583">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404591">*</span><span class="builtintype" id="2404592">string</span>&nbsp;<span class="comment" id="2404599">//&nbsp;name&nbsp;of&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404618">pkgPath</span>&nbsp;<span class="op" id="2404626">*</span><span class="builtintype" id="2404627">string</span>&nbsp;<span class="comment" id="2404634">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404684">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404692">*</span><span class="ident" id="2404693"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2404700">//&nbsp;.(*FuncType)&nbsp;underneath</span><br>
<span class="lineno"></span><span class="op" id="2404727">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="comment" id="2404730">//&nbsp;interfaceType&nbsp;represents&nbsp;an&nbsp;interface&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2404777">type</span>&nbsp;<span class="ident" id="2404782">interfaceType</span>&nbsp;<span class="keyword" id="2404796">struct</span>&nbsp;<span class="op" id="2404803">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404806"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;<span class="string" id="2404814">`reflect:&#34;interface&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404837">methods</span>&nbsp;<span class="op" id="2404845">[</span><span class="op" id="2404846">]</span><span class="ident" id="2404847"><a href="/reflect/type.go.html#2404565">imethod</a></span>&nbsp;<span class="comment" id="2404855">//&nbsp;sorted&nbsp;by&nbsp;hash</span><br>
<span class="lineno"></span><span class="op" id="2404873">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="comment" id="2404876">//&nbsp;mapType&nbsp;represents&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2404910">type</span>&nbsp;<span class="ident" id="2404915">mapType</span>&nbsp;<span class="keyword" id="2404923">struct</span>&nbsp;<span class="op" id="2404930">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404933"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2404947">`reflect:&#34;map&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2404964">key</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2404978">*</span><span class="ident" id="2404979"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2404985">//&nbsp;map&nbsp;key&nbsp;type</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405002">elem</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405016">*</span><span class="ident" id="2405017"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2405023">//&nbsp;map&nbsp;element&nbsp;(value)&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405052">bucket</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405066">*</span><span class="ident" id="2405067"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2405073">//&nbsp;internal&nbsp;bucket&nbsp;structure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405103">hmap</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405117">*</span><span class="ident" id="2405118"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2405124">//&nbsp;internal&nbsp;map&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405148">keysize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2405162">uint8</span>&nbsp;&nbsp;<span class="comment" id="2405169">//&nbsp;size&nbsp;of&nbsp;key&nbsp;slot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405190">indirectkey</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2405204">uint8</span>&nbsp;&nbsp;<span class="comment" id="2405211">//&nbsp;store&nbsp;ptr&nbsp;to&nbsp;key&nbsp;instead&nbsp;of&nbsp;key&nbsp;itself</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405254">valuesize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2405268">uint8</span>&nbsp;&nbsp;<span class="comment" id="2405275">//&nbsp;size&nbsp;of&nbsp;value&nbsp;slot</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405298">indirectvalue</span>&nbsp;<span class="builtintype" id="2405312">uint8</span>&nbsp;&nbsp;<span class="comment" id="2405319">//&nbsp;store&nbsp;ptr&nbsp;to&nbsp;value&nbsp;instead&nbsp;of&nbsp;value&nbsp;itself</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405366">bucketsize</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2405380">uint16</span>&nbsp;<span class="comment" id="2405387">//&nbsp;size&nbsp;of&nbsp;bucket</span><br>
<span class="lineno"></span><span class="op" id="2405405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="comment" id="2405408">//&nbsp;ptrType&nbsp;represents&nbsp;a&nbsp;pointer&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2405446">type</span>&nbsp;<span class="ident" id="2405451">ptrType</span>&nbsp;<span class="keyword" id="2405459">struct</span>&nbsp;<span class="op" id="2405466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405469"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="string" id="2405475">`reflect:&#34;ptr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405492">elem</span>&nbsp;&nbsp;<span class="op" id="2405498">*</span><span class="ident" id="2405499"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2405505">//&nbsp;pointer&nbsp;element&nbsp;(pointed&nbsp;at)&nbsp;type</span><br>
<span class="lineno"></span><span class="op" id="2405542">}</span><br>
<span class="lineno">355</span><br>
<span class="lineno"></span><span class="comment" id="2405545">//&nbsp;sliceType&nbsp;represents&nbsp;a&nbsp;slice&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2405583">type</span>&nbsp;<span class="ident" id="2405588">sliceType</span>&nbsp;<span class="keyword" id="2405598">struct</span>&nbsp;<span class="op" id="2405605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405608"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="string" id="2405614">`reflect:&#34;slice&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405633">elem</span>&nbsp;&nbsp;<span class="op" id="2405639">*</span><span class="ident" id="2405640"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2405646">//&nbsp;slice&nbsp;element&nbsp;type</span><br>
<span class="lineno">360</span><span class="op" id="2405668">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2405671">//&nbsp;Struct&nbsp;field</span><br>
<span class="lineno"></span><span class="keyword" id="2405687">type</span>&nbsp;<span class="ident" id="2405692">structField</span>&nbsp;<span class="keyword" id="2405704">struct</span>&nbsp;<span class="op" id="2405711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405714">name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405722">*</span><span class="builtintype" id="2405723">string</span>&nbsp;<span class="comment" id="2405730">//&nbsp;nil&nbsp;for&nbsp;embedded&nbsp;fields</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405758">pkgPath</span>&nbsp;<span class="op" id="2405766">*</span><span class="builtintype" id="2405767">string</span>&nbsp;<span class="comment" id="2405774">//&nbsp;nil&nbsp;for&nbsp;exported&nbsp;Names;&nbsp;otherwise&nbsp;import&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405824">typ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405832">*</span><span class="ident" id="2405833"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;<span class="comment" id="2405840">//&nbsp;type&nbsp;of&nbsp;field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405858">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2405866">*</span><span class="builtintype" id="2405867">string</span>&nbsp;<span class="comment" id="2405874">//&nbsp;nil&nbsp;if&nbsp;no&nbsp;tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2405892">offset</span>&nbsp;&nbsp;<span class="builtintype" id="2405900">uintptr</span>&nbsp;<span class="comment" id="2405908">//&nbsp;byte&nbsp;offset&nbsp;of&nbsp;field&nbsp;within&nbsp;struct</span><br>
<span class="lineno"></span><span class="op" id="2405946">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span><span class="comment" id="2405949">//&nbsp;structType&nbsp;represents&nbsp;a&nbsp;struct&nbsp;type.</span><br>
<span class="lineno"></span><span class="keyword" id="2405989">type</span>&nbsp;<span class="ident" id="2405994">structType</span>&nbsp;<span class="keyword" id="2406005">struct</span>&nbsp;<span class="op" id="2406012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406015"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;&nbsp;<span class="string" id="2406022">`reflect:&#34;struct&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406042">fields</span>&nbsp;<span class="op" id="2406049">[</span><span class="op" id="2406050">]</span><span class="ident" id="2406051"><a href="/reflect/type.go.html#2405692">structField</a></span>&nbsp;<span class="comment" id="2406063">//&nbsp;sorted&nbsp;by&nbsp;offset</span><br>
<span class="lineno">375</span><span class="op" id="2406083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2406086">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;compiler&nbsp;knows&nbsp;the&nbsp;exact&nbsp;layout&nbsp;of&nbsp;all&nbsp;the&nbsp;data&nbsp;structures&nbsp;above.<br>
<span class="lineno"></span>&nbsp;*&nbsp;The&nbsp;compiler&nbsp;does&nbsp;not&nbsp;know&nbsp;about&nbsp;the&nbsp;data&nbsp;structures&nbsp;and&nbsp;methods&nbsp;below.<br>
<span class="lineno">380</span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2406242">//&nbsp;Method&nbsp;represents&nbsp;a&nbsp;single&nbsp;method.</span><br>
<span class="lineno"></span><span class="keyword" id="2406280">type</span>&nbsp;<span class="ident" id="2406285">Method</span>&nbsp;<span class="keyword" id="2406292">struct</span>&nbsp;<span class="op" id="2406299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406302">//&nbsp;Name&nbsp;is&nbsp;the&nbsp;method&nbsp;name.</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406331">//&nbsp;PkgPath&nbsp;is&nbsp;the&nbsp;package&nbsp;path&nbsp;that&nbsp;qualifies&nbsp;a&nbsp;lower&nbsp;case&nbsp;(unexported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406404">//&nbsp;method&nbsp;name.&nbsp;&nbsp;It&nbsp;is&nbsp;empty&nbsp;for&nbsp;upper&nbsp;case&nbsp;(exported)&nbsp;method&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406474">//&nbsp;The&nbsp;combination&nbsp;of&nbsp;PkgPath&nbsp;and&nbsp;Name&nbsp;uniquely&nbsp;identifies&nbsp;a&nbsp;method</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406543">//&nbsp;in&nbsp;a&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2406564">//&nbsp;See&nbsp;http://golang.org/ref/spec#Uniqueness_of_identifiers</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406625">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2406633">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406641">PkgPath</span>&nbsp;<span class="builtintype" id="2406649">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406658">Type</span>&nbsp;&nbsp;<span class="ident" id="2406664"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;&nbsp;<span class="comment" id="2406670">//&nbsp;method&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406686">Func</span>&nbsp;&nbsp;<span class="ident" id="2406692"><a href="/reflect/value.go.html#2446885">Value</a></span>&nbsp;<span class="comment" id="2406698">//&nbsp;func&nbsp;with&nbsp;receiver&nbsp;as&nbsp;first&nbsp;argument</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406739">Index</span>&nbsp;<span class="builtintype" id="2406745">int</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2406751">//&nbsp;index&nbsp;for&nbsp;Type.Method</span><br>
<span class="lineno"></span><span class="op" id="2406776">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2406779">const</span>&nbsp;<span class="op" id="2406785">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406788">kindDirectIface</span>&nbsp;<span class="op" id="2406804">=</span>&nbsp;<span class="num" id="2406806">1</span>&nbsp;<span class="op" id="2406808">&lt;&lt;</span>&nbsp;<span class="num" id="2406811">5</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406814">kindGCProg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2406830">=</span>&nbsp;<span class="num" id="2406832">1</span>&nbsp;<span class="op" id="2406834">&lt;&lt;</span>&nbsp;<span class="num" id="2406837">6</span>&nbsp;<span class="comment" id="2406839">//&nbsp;Type.gc&nbsp;points&nbsp;to&nbsp;GC&nbsp;program</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406872">kindNoPointers</span>&nbsp;&nbsp;<span class="op" id="2406888">=</span>&nbsp;<span class="num" id="2406890">1</span>&nbsp;<span class="op" id="2406892">&lt;&lt;</span>&nbsp;<span class="num" id="2406895">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2406898">kindMask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2406914">=</span>&nbsp;<span class="op" id="2406916">(</span><span class="num" id="2406917">1</span>&nbsp;<span class="op" id="2406919">&lt;&lt;</span>&nbsp;<span class="num" id="2406922">5</span><span class="op" id="2406923">)</span>&nbsp;<span class="op" id="2406925">-</span>&nbsp;<span class="num" id="2406927">1</span><br>
<span class="lineno"></span><span class="op" id="2406929">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="2406932">func</span>&nbsp;<span class="op" id="2406937">(</span><span class="ident" id="2406938">k</span>&nbsp;<span class="ident" id="2406940"><a href="/reflect/type.go.html#2401184">Kind</a></span><span class="op" id="2406944">)</span>&nbsp;<span class="ident" id="2406946">String</span><span class="op" id="2406952">(</span><span class="op" id="2406953">)</span>&nbsp;<span class="builtintype" id="2406955">string</span>&nbsp;<span class="op" id="2406962">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406965">if</span>&nbsp;<span class="builtintype" id="2406968">int</span><span class="op" id="2406971">(</span><span class="ident" id="2406972"><a href="/reflect/type.go.html#2406938">k</a></span><span class="op" id="2406973">)</span>&nbsp;<span class="op" id="2406975">&lt;</span>&nbsp;<span class="builtinfunc" id="2406977">len</span><span class="op" id="2406980">(</span><span class="ident" id="2406981"><a href="/reflect/type.go.html#2407064">kindNames</a></span><span class="op" id="2406990">)</span>&nbsp;<span class="op" id="2406992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2406996">return</span>&nbsp;<span class="ident" id="2407003"><a href="/reflect/type.go.html#2407064">kindNames</a></span><span class="op" id="2407012">[</span><span class="ident" id="2407013"><a href="/reflect/type.go.html#2406938">k</a></span><span class="op" id="2407014">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407020">return</span>&nbsp;<span class="string" id="2407027">&#34;kind&#34;</span>&nbsp;<span class="op" id="2407034">+</span>&nbsp;<span class="ident" id="2407036"><a href="/reflect/type.go.html#2394417">strconv</a></span><span class="op" id="2407043">.</span><span class="ident" id="2407044">Itoa</span><span class="op" id="2407048">(</span><span class="builtintype" id="2407049">int</span><span class="op" id="2407052">(</span><span class="ident" id="2407053"><a href="/reflect/type.go.html#2406938">k</a></span><span class="op" id="2407054">)</span><span class="op" id="2407055">)</span><br>
<span class="lineno">410</span><span class="op" id="2407057">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2407060">var</span>&nbsp;<span class="ident" id="2407064">kindNames</span>&nbsp;<span class="op" id="2407074">=</span>&nbsp;<span class="op" id="2407076">[</span><span class="op" id="2407077">]</span><span class="builtintype" id="2407078">string</span><span class="op" id="2407084">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407087"><a href="/reflect/type.go.html#2401204">Invalid</a></span><span class="op" id="2407094">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407102">&#34;invalid&#34;</span><span class="op" id="2407111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407114"><a href="/reflect/type.go.html#2401225">Bool</a></span><span class="op" id="2407118">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407129">&#34;bool&#34;</span><span class="op" id="2407135">,</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407138"><a href="/reflect/type.go.html#2401231">Int</a></span><span class="op" id="2407141">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407153">&#34;int&#34;</span><span class="op" id="2407158">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407161"><a href="/reflect/type.go.html#2401236">Int8</a></span><span class="op" id="2407165">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407176">&#34;int8&#34;</span><span class="op" id="2407182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407185"><a href="/reflect/type.go.html#2401242">Int16</a></span><span class="op" id="2407190">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407200">&#34;int16&#34;</span><span class="op" id="2407207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407210"><a href="/reflect/type.go.html#2401249">Int32</a></span><span class="op" id="2407215">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407225">&#34;int32&#34;</span><span class="op" id="2407232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407235"><a href="/reflect/type.go.html#2401256">Int64</a></span><span class="op" id="2407240">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407250">&#34;int64&#34;</span><span class="op" id="2407257">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407260"><a href="/reflect/type.go.html#2401263">Uint</a></span><span class="op" id="2407264">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407275">&#34;uint&#34;</span><span class="op" id="2407281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407284"><a href="/reflect/type.go.html#2401269">Uint8</a></span><span class="op" id="2407289">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407299">&#34;uint8&#34;</span><span class="op" id="2407306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407309"><a href="/reflect/type.go.html#2401276">Uint16</a></span><span class="op" id="2407315">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407324">&#34;uint16&#34;</span><span class="op" id="2407332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407335"><a href="/reflect/type.go.html#2401284">Uint32</a></span><span class="op" id="2407341">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407350">&#34;uint32&#34;</span><span class="op" id="2407358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407361"><a href="/reflect/type.go.html#2401292">Uint64</a></span><span class="op" id="2407367">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407376">&#34;uint64&#34;</span><span class="op" id="2407384">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407387"><a href="/reflect/type.go.html#2401300">Uintptr</a></span><span class="op" id="2407394">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407402">&#34;uintptr&#34;</span><span class="op" id="2407411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407414"><a href="/reflect/type.go.html#2401309">Float32</a></span><span class="op" id="2407421">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407429">&#34;float32&#34;</span><span class="op" id="2407438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407441"><a href="/reflect/type.go.html#2401318">Float64</a></span><span class="op" id="2407448">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407456">&#34;float64&#34;</span><span class="op" id="2407465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407468"><a href="/reflect/type.go.html#2401327">Complex64</a></span><span class="op" id="2407477">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407483">&#34;complex64&#34;</span><span class="op" id="2407494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407497"><a href="/reflect/type.go.html#2401338">Complex128</a></span><span class="op" id="2407507">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407512">&#34;complex128&#34;</span><span class="op" id="2407524">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407527"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2407532">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407542">&#34;array&#34;</span><span class="op" id="2407549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407552"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2407556">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407567">&#34;chan&#34;</span><span class="op" id="2407573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407576"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2407580">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407591">&#34;func&#34;</span><span class="op" id="2407597">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407600"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2407609">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407615">&#34;interface&#34;</span><span class="op" id="2407626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407629"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2407632">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407644">&#34;map&#34;</span><span class="op" id="2407649">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407652"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2407655">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407667">&#34;ptr&#34;</span><span class="op" id="2407672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407675"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2407680">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407690">&#34;slice&#34;</span><span class="op" id="2407697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407700"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2407706">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407715">&#34;string&#34;</span><span class="op" id="2407723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407726"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2407732">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="2407741">&#34;struct&#34;</span><span class="op" id="2407749">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2407752"><a href="/reflect/type.go.html#2401413">UnsafePointer</a></span><span class="op" id="2407765">:</span>&nbsp;<span class="string" id="2407767">&#34;unsafe.Pointer&#34;</span><span class="op" id="2407783">,</span><br>
<span class="lineno">440</span><span class="op" id="2407785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2407788">func</span>&nbsp;<span class="op" id="2407793">(</span><span class="ident" id="2407794">t</span>&nbsp;<span class="op" id="2407796">*</span><span class="ident" id="2407797"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><span class="op" id="2407809">)</span>&nbsp;<span class="ident" id="2407811">uncommon</span><span class="op" id="2407819">(</span><span class="op" id="2407820">)</span>&nbsp;<span class="op" id="2407822">*</span><span class="ident" id="2407823"><a href="/reflect/type.go.html#2403510">uncommonType</a></span>&nbsp;<span class="op" id="2407836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407839">return</span>&nbsp;<span class="ident" id="2407846"><a href="/reflect/type.go.html#2407794">t</a></span><br>
<span class="lineno"></span><span class="op" id="2407848">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span><span class="keyword" id="2407851">func</span>&nbsp;<span class="op" id="2407856">(</span><span class="ident" id="2407857">t</span>&nbsp;<span class="op" id="2407859">*</span><span class="ident" id="2407860"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><span class="op" id="2407872">)</span>&nbsp;<span class="ident" id="2407874">PkgPath</span><span class="op" id="2407881">(</span><span class="op" id="2407882">)</span>&nbsp;<span class="builtintype" id="2407884">string</span>&nbsp;<span class="op" id="2407891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407894">if</span>&nbsp;<span class="ident" id="2407897"><a href="/reflect/type.go.html#2407857">t</a></span>&nbsp;<span class="op" id="2407899">==</span>&nbsp;<span class="ident" id="2407902">nil</span>&nbsp;<span class="op" id="2407906">||</span>&nbsp;<span class="ident" id="2407909"><a href="/reflect/type.go.html#2407857">t</a></span><span class="op" id="2407910">.</span><span class="ident" id="2407911">pkgPath</span>&nbsp;<span class="op" id="2407919">==</span>&nbsp;<span class="ident" id="2407922">nil</span>&nbsp;<span class="op" id="2407926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407930">return</span>&nbsp;<span class="string" id="2407937">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2407941">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2407944">return</span>&nbsp;<span class="op" id="2407951">*</span><span class="ident" id="2407952"><a href="/reflect/type.go.html#2407857">t</a></span><span class="op" id="2407953">.</span><span class="ident" id="2407954">pkgPath</span><br>
<span class="lineno"></span><span class="op" id="2407962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2407965">func</span>&nbsp;<span class="op" id="2407970">(</span><span class="ident" id="2407971">t</span>&nbsp;<span class="op" id="2407973">*</span><span class="ident" id="2407974"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><span class="op" id="2407986">)</span>&nbsp;<span class="ident" id="2407988">Name</span><span class="op" id="2407992">(</span><span class="op" id="2407993">)</span>&nbsp;<span class="builtintype" id="2407995">string</span>&nbsp;<span class="op" id="2408002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408005">if</span>&nbsp;<span class="ident" id="2408008"><a href="/reflect/type.go.html#2407971">t</a></span>&nbsp;<span class="op" id="2408010">==</span>&nbsp;<span class="ident" id="2408013">nil</span>&nbsp;<span class="op" id="2408017">||</span>&nbsp;<span class="ident" id="2408020"><a href="/reflect/type.go.html#2407971">t</a></span><span class="op" id="2408021">.</span><span class="ident" id="2408022">name</span>&nbsp;<span class="op" id="2408027">==</span>&nbsp;<span class="ident" id="2408030">nil</span>&nbsp;<span class="op" id="2408034">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408038">return</span>&nbsp;<span class="string" id="2408045">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408052">return</span>&nbsp;<span class="op" id="2408059">*</span><span class="ident" id="2408060"><a href="/reflect/type.go.html#2407971">t</a></span><span class="op" id="2408061">.</span><span class="ident" id="2408062">name</span><br>
<span class="lineno"></span><span class="op" id="2408067">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">460</span><span class="keyword" id="2408070">func</span>&nbsp;<span class="op" id="2408075">(</span><span class="ident" id="2408076">t</span>&nbsp;<span class="op" id="2408078">*</span><span class="ident" id="2408079"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408084">)</span>&nbsp;<span class="ident" id="2408086">String</span><span class="op" id="2408092">(</span><span class="op" id="2408093">)</span>&nbsp;<span class="builtintype" id="2408095">string</span>&nbsp;<span class="op" id="2408102">{</span>&nbsp;<span class="keyword" id="2408104">return</span>&nbsp;<span class="op" id="2408111">*</span><span class="ident" id="2408112"><a href="/reflect/type.go.html#2408076">t</a></span><span class="op" id="2408113">.</span><span class="builtintype" id="2408114">string</span>&nbsp;<span class="op" id="2408121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408124">func</span>&nbsp;<span class="op" id="2408129">(</span><span class="ident" id="2408130">t</span>&nbsp;<span class="op" id="2408132">*</span><span class="ident" id="2408133"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408138">)</span>&nbsp;<span class="ident" id="2408140">Size</span><span class="op" id="2408144">(</span><span class="op" id="2408145">)</span>&nbsp;<span class="builtintype" id="2408147">uintptr</span>&nbsp;<span class="op" id="2408155">{</span>&nbsp;<span class="keyword" id="2408157">return</span>&nbsp;<span class="ident" id="2408164"><a href="/reflect/type.go.html#2408130">t</a></span><span class="op" id="2408165">.</span><span class="ident" id="2408166">size</span>&nbsp;<span class="op" id="2408171">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408174">func</span>&nbsp;<span class="op" id="2408179">(</span><span class="ident" id="2408180">t</span>&nbsp;<span class="op" id="2408182">*</span><span class="ident" id="2408183"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408188">)</span>&nbsp;<span class="ident" id="2408190">Bits</span><span class="op" id="2408194">(</span><span class="op" id="2408195">)</span>&nbsp;<span class="builtintype" id="2408197">int</span>&nbsp;<span class="op" id="2408201">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408204">if</span>&nbsp;<span class="ident" id="2408207"><a href="/reflect/type.go.html#2408180">t</a></span>&nbsp;<span class="op" id="2408209">==</span>&nbsp;<span class="ident" id="2408212">nil</span>&nbsp;<span class="op" id="2408216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2408220">panic</span><span class="op" id="2408225">(</span><span class="string" id="2408226">&#34;reflect:&nbsp;Bits&nbsp;of&nbsp;nil&nbsp;Type&#34;</span><span class="op" id="2408253">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408259">k</span>&nbsp;<span class="op" id="2408261">:=</span>&nbsp;<span class="ident" id="2408264"><a href="/reflect/type.go.html#2408180">t</a></span><span class="op" id="2408265">.</span><span class="ident" id="2408266">Kind</span><span class="op" id="2408270">(</span><span class="op" id="2408271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408274">if</span>&nbsp;<span class="ident" id="2408277"><a href="/reflect/type.go.html#2408259">k</a></span>&nbsp;<span class="op" id="2408279">&lt;</span>&nbsp;<span class="ident" id="2408281"><a href="/reflect/type.go.html#2401231">Int</a></span>&nbsp;<span class="op" id="2408285">||</span>&nbsp;<span class="ident" id="2408288"><a href="/reflect/type.go.html#2408259">k</a></span>&nbsp;<span class="op" id="2408290">&gt;</span>&nbsp;<span class="ident" id="2408292"><a href="/reflect/type.go.html#2401338">Complex128</a></span>&nbsp;<span class="op" id="2408303">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2408307">panic</span><span class="op" id="2408312">(</span><span class="string" id="2408313">&#34;reflect:&nbsp;Bits&nbsp;of&nbsp;non-arithmetic&nbsp;Type&nbsp;&#34;</span>&nbsp;<span class="op" id="2408353">+</span>&nbsp;<span class="ident" id="2408355"><a href="/reflect/type.go.html#2408180">t</a></span><span class="op" id="2408356">.</span><span class="ident" id="2408357">String</span><span class="op" id="2408363">(</span><span class="op" id="2408364">)</span><span class="op" id="2408365">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408371">return</span>&nbsp;<span class="builtintype" id="2408378">int</span><span class="op" id="2408381">(</span><span class="ident" id="2408382"><a href="/reflect/type.go.html#2408180">t</a></span><span class="op" id="2408383">.</span><span class="ident" id="2408384">size</span><span class="op" id="2408388">)</span>&nbsp;<span class="op" id="2408390">*</span>&nbsp;<span class="num" id="2408392">8</span><br>
<span class="lineno"></span><span class="op" id="2408394">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="keyword" id="2408397">func</span>&nbsp;<span class="op" id="2408402">(</span><span class="ident" id="2408403">t</span>&nbsp;<span class="op" id="2408405">*</span><span class="ident" id="2408406"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408411">)</span>&nbsp;<span class="ident" id="2408413">Align</span><span class="op" id="2408418">(</span><span class="op" id="2408419">)</span>&nbsp;<span class="builtintype" id="2408421">int</span>&nbsp;<span class="op" id="2408425">{</span>&nbsp;<span class="keyword" id="2408427">return</span>&nbsp;<span class="builtintype" id="2408434">int</span><span class="op" id="2408437">(</span><span class="ident" id="2408438"><a href="/reflect/type.go.html#2408403">t</a></span><span class="op" id="2408439">.</span><span class="ident" id="2408440">align</span><span class="op" id="2408445">)</span>&nbsp;<span class="op" id="2408447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408450">func</span>&nbsp;<span class="op" id="2408455">(</span><span class="ident" id="2408456">t</span>&nbsp;<span class="op" id="2408458">*</span><span class="ident" id="2408459"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408464">)</span>&nbsp;<span class="ident" id="2408466">FieldAlign</span><span class="op" id="2408476">(</span><span class="op" id="2408477">)</span>&nbsp;<span class="builtintype" id="2408479">int</span>&nbsp;<span class="op" id="2408483">{</span>&nbsp;<span class="keyword" id="2408485">return</span>&nbsp;<span class="builtintype" id="2408492">int</span><span class="op" id="2408495">(</span><span class="ident" id="2408496"><a href="/reflect/type.go.html#2408456">t</a></span><span class="op" id="2408497">.</span><span class="ident" id="2408498">fieldAlign</span><span class="op" id="2408508">)</span>&nbsp;<span class="op" id="2408510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408513">func</span>&nbsp;<span class="op" id="2408518">(</span><span class="ident" id="2408519">t</span>&nbsp;<span class="op" id="2408521">*</span><span class="ident" id="2408522"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408527">)</span>&nbsp;<span class="ident" id="2408529">Kind</span><span class="op" id="2408533">(</span><span class="op" id="2408534">)</span>&nbsp;<span class="ident" id="2408536"><a href="/reflect/type.go.html#2401184">Kind</a></span>&nbsp;<span class="op" id="2408541">{</span>&nbsp;<span class="keyword" id="2408543">return</span>&nbsp;<span class="ident" id="2408550"><a href="/reflect/type.go.html#2401184">Kind</a></span><span class="op" id="2408554">(</span><span class="ident" id="2408555"><a href="/reflect/type.go.html#2408519">t</a></span><span class="op" id="2408556">.</span><span class="ident" id="2408557">kind</span>&nbsp;<span class="op" id="2408562">&amp;</span>&nbsp;<span class="ident" id="2408564"><a href="/reflect/type.go.html#2406898">kindMask</a></span><span class="op" id="2408572">)</span>&nbsp;<span class="op" id="2408574">}</span><br>
<span class="lineno">480</span><br>
<span class="lineno"></span><span class="keyword" id="2408577">func</span>&nbsp;<span class="op" id="2408582">(</span><span class="ident" id="2408583">t</span>&nbsp;<span class="op" id="2408585">*</span><span class="ident" id="2408586"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408591">)</span>&nbsp;<span class="ident" id="2408593">pointers</span><span class="op" id="2408601">(</span><span class="op" id="2408602">)</span>&nbsp;<span class="builtintype" id="2408604">bool</span>&nbsp;<span class="op" id="2408609">{</span>&nbsp;<span class="keyword" id="2408611">return</span>&nbsp;<span class="ident" id="2408618"><a href="/reflect/type.go.html#2408583">t</a></span><span class="op" id="2408619">.</span><span class="ident" id="2408620">kind</span><span class="op" id="2408624">&amp;</span><span class="ident" id="2408625"><a href="/reflect/type.go.html#2406872">kindNoPointers</a></span>&nbsp;<span class="op" id="2408640">==</span>&nbsp;<span class="num" id="2408643">0</span>&nbsp;<span class="op" id="2408645">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2408648">func</span>&nbsp;<span class="op" id="2408653">(</span><span class="ident" id="2408654">t</span>&nbsp;<span class="op" id="2408656">*</span><span class="ident" id="2408657"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2408662">)</span>&nbsp;<span class="ident" id="2408664">common</span><span class="op" id="2408670">(</span><span class="op" id="2408671">)</span>&nbsp;<span class="op" id="2408673">*</span><span class="ident" id="2408674"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="op" id="2408680">{</span>&nbsp;<span class="keyword" id="2408682">return</span>&nbsp;<span class="ident" id="2408689"><a href="/reflect/type.go.html#2408654">t</a></span>&nbsp;<span class="op" id="2408691">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">485</span><span class="keyword" id="2408694">func</span>&nbsp;<span class="op" id="2408699">(</span><span class="ident" id="2408700">t</span>&nbsp;<span class="op" id="2408702">*</span><span class="ident" id="2408703"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><span class="op" id="2408715">)</span>&nbsp;<span class="ident" id="2408717">Method</span><span class="op" id="2408723">(</span><span class="ident" id="2408724">i</span>&nbsp;<span class="builtintype" id="2408726">int</span><span class="op" id="2408729">)</span>&nbsp;<span class="op" id="2408731">(</span><span class="ident" id="2408732">m</span>&nbsp;<span class="ident" id="2408734"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2408740">)</span>&nbsp;<span class="op" id="2408742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408745">if</span>&nbsp;<span class="ident" id="2408748"><a href="/reflect/type.go.html#2408700">t</a></span>&nbsp;<span class="op" id="2408750">==</span>&nbsp;<span class="ident" id="2408753">nil</span>&nbsp;<span class="op" id="2408757">||</span>&nbsp;<span class="ident" id="2408760"><a href="/reflect/type.go.html#2408724">i</a></span>&nbsp;<span class="op" id="2408762">&lt;</span>&nbsp;<span class="num" id="2408764">0</span>&nbsp;<span class="op" id="2408766">||</span>&nbsp;<span class="ident" id="2408769"><a href="/reflect/type.go.html#2408724">i</a></span>&nbsp;<span class="op" id="2408771">&gt;=</span>&nbsp;<span class="builtinfunc" id="2408774">len</span><span class="op" id="2408777">(</span><span class="ident" id="2408778"><a href="/reflect/type.go.html#2408700">t</a></span><span class="op" id="2408779">.</span><span class="ident" id="2408780">methods</span><span class="op" id="2408787">)</span>&nbsp;<span class="op" id="2408789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2408793">panic</span><span class="op" id="2408798">(</span><span class="string" id="2408799">&#34;reflect:&nbsp;Method&nbsp;index&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="2408835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408841">p</span>&nbsp;<span class="op" id="2408843">:=</span>&nbsp;<span class="op" id="2408846">&amp;</span><span class="ident" id="2408847"><a href="/reflect/type.go.html#2408700">t</a></span><span class="op" id="2408848">.</span><span class="ident" id="2408849">methods</span><span class="op" id="2408856">[</span><span class="ident" id="2408857"><a href="/reflect/type.go.html#2408724">i</a></span><span class="op" id="2408858">]</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408861">if</span>&nbsp;<span class="ident" id="2408864"><a href="/reflect/type.go.html#2408841">p</a></span><span class="op" id="2408865">.</span><span class="ident" id="2408866">name</span>&nbsp;<span class="op" id="2408871">!=</span>&nbsp;<span class="ident" id="2408874">nil</span>&nbsp;<span class="op" id="2408878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408882"><a href="/reflect/type.go.html#2408732">m</a></span><span class="op" id="2408883">.</span><span class="ident" id="2408884">Name</span>&nbsp;<span class="op" id="2408889">=</span>&nbsp;<span class="op" id="2408891">*</span><span class="ident" id="2408892"><a href="/reflect/type.go.html#2408841">p</a></span><span class="op" id="2408893">.</span><span class="ident" id="2408894">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408903">fl</span>&nbsp;<span class="op" id="2408906">:=</span>&nbsp;<span class="ident" id="2408909"><a href="/reflect/value.go.html#2448016">flag</a></span><span class="op" id="2408913">(</span><span class="ident" id="2408914"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2408918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2408921">if</span>&nbsp;<span class="ident" id="2408924"><a href="/reflect/type.go.html#2408841">p</a></span><span class="op" id="2408925">.</span><span class="ident" id="2408926">pkgPath</span>&nbsp;<span class="op" id="2408934">!=</span>&nbsp;<span class="ident" id="2408937">nil</span>&nbsp;<span class="op" id="2408941">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408945"><a href="/reflect/type.go.html#2408732">m</a></span><span class="op" id="2408946">.</span><span class="ident" id="2408947">PkgPath</span>&nbsp;<span class="op" id="2408955">=</span>&nbsp;<span class="op" id="2408957">*</span><span class="ident" id="2408958"><a href="/reflect/type.go.html#2408841">p</a></span><span class="op" id="2408959">.</span><span class="ident" id="2408960">pkgPath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408970"><a href="/reflect/type.go.html#2408903">fl</a></span>&nbsp;<span class="op" id="2408973">|=</span>&nbsp;<span class="ident" id="2408976"><a href="/reflect/value.go.html#2448132">flagRO</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2408984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2408987">mt</span>&nbsp;<span class="op" id="2408990">:=</span>&nbsp;<span class="ident" id="2408993"><a href="/reflect/type.go.html#2408841">p</a></span><span class="op" id="2408994">.</span><span class="ident" id="2408995">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409000"><a href="/reflect/type.go.html#2408732">m</a></span><span class="op" id="2409001">.</span><span class="ident" id="2409002">Type</span>&nbsp;<span class="op" id="2409007">=</span>&nbsp;<span class="ident" id="2409009"><a href="/reflect/type.go.html#2408987">mt</a></span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409013">fn</span>&nbsp;<span class="op" id="2409016">:=</span>&nbsp;<span class="ident" id="2409019"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2409025">.</span><span class="ident" id="2409026">Pointer</span><span class="op" id="2409033">(</span><span class="op" id="2409034">&amp;</span><span class="ident" id="2409035"><a href="/reflect/type.go.html#2408841">p</a></span><span class="op" id="2409036">.</span><span class="ident" id="2409037">tfn</span><span class="op" id="2409040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409043"><a href="/reflect/type.go.html#2408732">m</a></span><span class="op" id="2409044">.</span><span class="ident" id="2409045">Func</span>&nbsp;<span class="op" id="2409050">=</span>&nbsp;<span class="ident" id="2409052"><a href="/reflect/value.go.html#2446885">Value</a></span><span class="op" id="2409057">{</span><span class="ident" id="2409058"><a href="/reflect/type.go.html#2408987">mt</a></span><span class="op" id="2409060">,</span>&nbsp;<span class="ident" id="2409062"><a href="/reflect/type.go.html#2409013">fn</a></span><span class="op" id="2409064">,</span>&nbsp;<span class="ident" id="2409066"><a href="/reflect/type.go.html#2408903">fl</a></span><span class="op" id="2409068">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409071"><a href="/reflect/type.go.html#2408732">m</a></span><span class="op" id="2409072">.</span><span class="ident" id="2409073">Index</span>&nbsp;<span class="op" id="2409079">=</span>&nbsp;<span class="ident" id="2409081"><a href="/reflect/type.go.html#2408724">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409084">return</span><br>
<span class="lineno"></span><span class="op" id="2409091">}</span><br>
<span class="lineno">505</span><br>
<span class="lineno"></span><span class="keyword" id="2409094">func</span>&nbsp;<span class="op" id="2409099">(</span><span class="ident" id="2409100">t</span>&nbsp;<span class="op" id="2409102">*</span><span class="ident" id="2409103"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><span class="op" id="2409115">)</span>&nbsp;<span class="ident" id="2409117">NumMethod</span><span class="op" id="2409126">(</span><span class="op" id="2409127">)</span>&nbsp;<span class="builtintype" id="2409129">int</span>&nbsp;<span class="op" id="2409133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409136">if</span>&nbsp;<span class="ident" id="2409139"><a href="/reflect/type.go.html#2409100">t</a></span>&nbsp;<span class="op" id="2409141">==</span>&nbsp;<span class="ident" id="2409144">nil</span>&nbsp;<span class="op" id="2409148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409152">return</span>&nbsp;<span class="num" id="2409159">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409162">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409165">return</span>&nbsp;<span class="builtinfunc" id="2409172">len</span><span class="op" id="2409175">(</span><span class="ident" id="2409176"><a href="/reflect/type.go.html#2409100">t</a></span><span class="op" id="2409177">.</span><span class="ident" id="2409178">methods</span><span class="op" id="2409185">)</span><br>
<span class="lineno"></span><span class="op" id="2409187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2409190">func</span>&nbsp;<span class="op" id="2409195">(</span><span class="ident" id="2409196">t</span>&nbsp;<span class="op" id="2409198">*</span><span class="ident" id="2409199"><a href="/reflect/type.go.html#2403510">uncommonType</a></span><span class="op" id="2409211">)</span>&nbsp;<span class="ident" id="2409213">MethodByName</span><span class="op" id="2409225">(</span><span class="ident" id="2409226">name</span>&nbsp;<span class="builtintype" id="2409231">string</span><span class="op" id="2409237">)</span>&nbsp;<span class="op" id="2409239">(</span><span class="ident" id="2409240">m</span>&nbsp;<span class="ident" id="2409242"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2409248">,</span>&nbsp;<span class="ident" id="2409250">ok</span>&nbsp;<span class="builtintype" id="2409253">bool</span><span class="op" id="2409257">)</span>&nbsp;<span class="op" id="2409259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409262">if</span>&nbsp;<span class="ident" id="2409265"><a href="/reflect/type.go.html#2409196">t</a></span>&nbsp;<span class="op" id="2409267">==</span>&nbsp;<span class="ident" id="2409270">nil</span>&nbsp;<span class="op" id="2409274">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409278">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409286">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409289">var</span>&nbsp;<span class="ident" id="2409293">p</span>&nbsp;<span class="op" id="2409295">*</span><span class="ident" id="2409296"><a href="/reflect/type.go.html#2402863">method</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409304">for</span>&nbsp;<span class="ident" id="2409308">i</span>&nbsp;<span class="op" id="2409310">:=</span>&nbsp;<span class="keyword" id="2409313">range</span>&nbsp;<span class="ident" id="2409319"><a href="/reflect/type.go.html#2409196">t</a></span><span class="op" id="2409320">.</span><span class="ident" id="2409321">methods</span>&nbsp;<span class="op" id="2409329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409333"><a href="/reflect/type.go.html#2409293">p</a></span>&nbsp;<span class="op" id="2409335">=</span>&nbsp;<span class="op" id="2409337">&amp;</span><span class="ident" id="2409338"><a href="/reflect/type.go.html#2409196">t</a></span><span class="op" id="2409339">.</span><span class="ident" id="2409340">methods</span><span class="op" id="2409347">[</span><span class="ident" id="2409348"><a href="/reflect/type.go.html#2409308">i</a></span><span class="op" id="2409349">]</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409353">if</span>&nbsp;<span class="ident" id="2409356"><a href="/reflect/type.go.html#2409293">p</a></span><span class="op" id="2409357">.</span><span class="ident" id="2409358">name</span>&nbsp;<span class="op" id="2409363">!=</span>&nbsp;<span class="ident" id="2409366">nil</span>&nbsp;<span class="op" id="2409370">&amp;&amp;</span>&nbsp;<span class="op" id="2409373">*</span><span class="ident" id="2409374"><a href="/reflect/type.go.html#2409293">p</a></span><span class="op" id="2409375">.</span><span class="ident" id="2409376">name</span>&nbsp;<span class="op" id="2409381">==</span>&nbsp;<span class="ident" id="2409384"><a href="/reflect/type.go.html#2409226">name</a></span>&nbsp;<span class="op" id="2409389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409394">return</span>&nbsp;<span class="ident" id="2409401"><a href="/reflect/type.go.html#2409196">t</a></span><span class="op" id="2409402">.</span><span class="ident" id="2409403">Method</span><span class="op" id="2409409">(</span><span class="ident" id="2409410"><a href="/reflect/type.go.html#2409308">i</a></span><span class="op" id="2409411">)</span><span class="op" id="2409412">,</span>&nbsp;<span class="ident" id="2409414">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409427">return</span><br>
<span class="lineno">525</span><span class="op" id="2409434">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2409437">//&nbsp;TODO(rsc):&nbsp;6g&nbsp;supplies&nbsp;these,&nbsp;but&nbsp;they&nbsp;are&nbsp;not</span><br>
<span class="lineno"></span><span class="comment" id="2409487">//&nbsp;as&nbsp;efficient&nbsp;as&nbsp;they&nbsp;could&nbsp;be:&nbsp;they&nbsp;have&nbsp;commonType</span><br>
<span class="lineno"></span><span class="comment" id="2409542">//&nbsp;as&nbsp;the&nbsp;receiver&nbsp;instead&nbsp;of&nbsp;*rtype.</span><br>
<span class="lineno">530</span><span class="keyword" id="2409580">func</span>&nbsp;<span class="op" id="2409585">(</span><span class="ident" id="2409586">t</span>&nbsp;<span class="op" id="2409588">*</span><span class="ident" id="2409589"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2409594">)</span>&nbsp;<span class="ident" id="2409596">NumMethod</span><span class="op" id="2409605">(</span><span class="op" id="2409606">)</span>&nbsp;<span class="builtintype" id="2409608">int</span>&nbsp;<span class="op" id="2409612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409615">if</span>&nbsp;<span class="ident" id="2409618"><a href="/reflect/type.go.html#2409586">t</a></span><span class="op" id="2409619">.</span><span class="ident" id="2409620">Kind</span><span class="op" id="2409624">(</span><span class="op" id="2409625">)</span>&nbsp;<span class="op" id="2409627">==</span>&nbsp;<span class="ident" id="2409630"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2409640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409644">tt</span>&nbsp;<span class="op" id="2409647">:=</span>&nbsp;<span class="op" id="2409650">(</span><span class="op" id="2409651">*</span><span class="ident" id="2409652"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2409665">)</span><span class="op" id="2409666">(</span><span class="ident" id="2409667"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2409673">.</span><span class="ident" id="2409674">Pointer</span><span class="op" id="2409681">(</span><span class="ident" id="2409682"><a href="/reflect/type.go.html#2409586">t</a></span><span class="op" id="2409683">)</span><span class="op" id="2409684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409688">return</span>&nbsp;<span class="ident" id="2409695"><a href="/reflect/type.go.html#2409644">tt</a></span><span class="op" id="2409697">.</span><span class="ident" id="2409698">NumMethod</span><span class="op" id="2409707">(</span><span class="op" id="2409708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409711">}</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409714">return</span>&nbsp;<span class="ident" id="2409721"><a href="/reflect/type.go.html#2409586">t</a></span><span class="op" id="2409722">.</span><span class="ident" id="2409723">uncommonType</span><span class="op" id="2409735">.</span><span class="ident" id="2409736">NumMethod</span><span class="op" id="2409745">(</span><span class="op" id="2409746">)</span><br>
<span class="lineno"></span><span class="op" id="2409748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2409751">func</span>&nbsp;<span class="op" id="2409756">(</span><span class="ident" id="2409757">t</span>&nbsp;<span class="op" id="2409759">*</span><span class="ident" id="2409760"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2409765">)</span>&nbsp;<span class="ident" id="2409767">Method</span><span class="op" id="2409773">(</span><span class="ident" id="2409774">i</span>&nbsp;<span class="builtintype" id="2409776">int</span><span class="op" id="2409779">)</span>&nbsp;<span class="op" id="2409781">(</span><span class="ident" id="2409782">m</span>&nbsp;<span class="ident" id="2409784"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2409790">)</span>&nbsp;<span class="op" id="2409792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409795">if</span>&nbsp;<span class="ident" id="2409798"><a href="/reflect/type.go.html#2409757">t</a></span><span class="op" id="2409799">.</span><span class="ident" id="2409800">Kind</span><span class="op" id="2409804">(</span><span class="op" id="2409805">)</span>&nbsp;<span class="op" id="2409807">==</span>&nbsp;<span class="ident" id="2409810"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2409820">{</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2409824">tt</span>&nbsp;<span class="op" id="2409827">:=</span>&nbsp;<span class="op" id="2409830">(</span><span class="op" id="2409831">*</span><span class="ident" id="2409832"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2409845">)</span><span class="op" id="2409846">(</span><span class="ident" id="2409847"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2409853">.</span><span class="ident" id="2409854">Pointer</span><span class="op" id="2409861">(</span><span class="ident" id="2409862"><a href="/reflect/type.go.html#2409757">t</a></span><span class="op" id="2409863">)</span><span class="op" id="2409864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409868">return</span>&nbsp;<span class="ident" id="2409875"><a href="/reflect/type.go.html#2409824">tt</a></span><span class="op" id="2409877">.</span><span class="ident" id="2409878">Method</span><span class="op" id="2409884">(</span><span class="ident" id="2409885"><a href="/reflect/type.go.html#2409774">i</a></span><span class="op" id="2409886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2409889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409892">return</span>&nbsp;<span class="ident" id="2409899"><a href="/reflect/type.go.html#2409757">t</a></span><span class="op" id="2409900">.</span><span class="ident" id="2409901">uncommonType</span><span class="op" id="2409913">.</span><span class="ident" id="2409914">Method</span><span class="op" id="2409920">(</span><span class="ident" id="2409921"><a href="/reflect/type.go.html#2409774">i</a></span><span class="op" id="2409922">)</span><br>
<span class="lineno"></span><span class="op" id="2409924">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="2409927">func</span>&nbsp;<span class="op" id="2409932">(</span><span class="ident" id="2409933">t</span>&nbsp;<span class="op" id="2409935">*</span><span class="ident" id="2409936"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2409941">)</span>&nbsp;<span class="ident" id="2409943">MethodByName</span><span class="op" id="2409955">(</span><span class="ident" id="2409956">name</span>&nbsp;<span class="builtintype" id="2409961">string</span><span class="op" id="2409967">)</span>&nbsp;<span class="op" id="2409969">(</span><span class="ident" id="2409970">m</span>&nbsp;<span class="ident" id="2409972"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2409978">,</span>&nbsp;<span class="ident" id="2409980">ok</span>&nbsp;<span class="builtintype" id="2409983">bool</span><span class="op" id="2409987">)</span>&nbsp;<span class="op" id="2409989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2409992">if</span>&nbsp;<span class="ident" id="2409995"><a href="/reflect/type.go.html#2409933">t</a></span><span class="op" id="2409996">.</span><span class="ident" id="2409997">Kind</span><span class="op" id="2410001">(</span><span class="op" id="2410002">)</span>&nbsp;<span class="op" id="2410004">==</span>&nbsp;<span class="ident" id="2410007"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2410017">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410021">tt</span>&nbsp;<span class="op" id="2410024">:=</span>&nbsp;<span class="op" id="2410027">(</span><span class="op" id="2410028">*</span><span class="ident" id="2410029"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2410042">)</span><span class="op" id="2410043">(</span><span class="ident" id="2410044"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410050">.</span><span class="ident" id="2410051">Pointer</span><span class="op" id="2410058">(</span><span class="ident" id="2410059"><a href="/reflect/type.go.html#2409933">t</a></span><span class="op" id="2410060">)</span><span class="op" id="2410061">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410065">return</span>&nbsp;<span class="ident" id="2410072"><a href="/reflect/type.go.html#2410021">tt</a></span><span class="op" id="2410074">.</span><span class="ident" id="2410075">MethodByName</span><span class="op" id="2410087">(</span><span class="ident" id="2410088"><a href="/reflect/type.go.html#2409956">name</a></span><span class="op" id="2410092">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410095">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410098">return</span>&nbsp;<span class="ident" id="2410105"><a href="/reflect/type.go.html#2409933">t</a></span><span class="op" id="2410106">.</span><span class="ident" id="2410107">uncommonType</span><span class="op" id="2410119">.</span><span class="ident" id="2410120">MethodByName</span><span class="op" id="2410132">(</span><span class="ident" id="2410133"><a href="/reflect/type.go.html#2409956">name</a></span><span class="op" id="2410137">)</span><br>
<span class="lineno"></span><span class="op" id="2410139">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2410142">func</span>&nbsp;<span class="op" id="2410147">(</span><span class="ident" id="2410148">t</span>&nbsp;<span class="op" id="2410150">*</span><span class="ident" id="2410151"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2410156">)</span>&nbsp;<span class="ident" id="2410158">PkgPath</span><span class="op" id="2410165">(</span><span class="op" id="2410166">)</span>&nbsp;<span class="builtintype" id="2410168">string</span>&nbsp;<span class="op" id="2410175">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410178">return</span>&nbsp;<span class="ident" id="2410185"><a href="/reflect/type.go.html#2410148">t</a></span><span class="op" id="2410186">.</span><span class="ident" id="2410187">uncommonType</span><span class="op" id="2410199">.</span><span class="ident" id="2410200">PkgPath</span><span class="op" id="2410207">(</span><span class="op" id="2410208">)</span><br>
<span class="lineno"></span><span class="op" id="2410210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2410213">func</span>&nbsp;<span class="op" id="2410218">(</span><span class="ident" id="2410219">t</span>&nbsp;<span class="op" id="2410221">*</span><span class="ident" id="2410222"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2410227">)</span>&nbsp;<span class="ident" id="2410229">Name</span><span class="op" id="2410233">(</span><span class="op" id="2410234">)</span>&nbsp;<span class="builtintype" id="2410236">string</span>&nbsp;<span class="op" id="2410243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410246">return</span>&nbsp;<span class="ident" id="2410253"><a href="/reflect/type.go.html#2410219">t</a></span><span class="op" id="2410254">.</span><span class="ident" id="2410255">uncommonType</span><span class="op" id="2410267">.</span><span class="ident" id="2410268">Name</span><span class="op" id="2410272">(</span><span class="op" id="2410273">)</span><br>
<span class="lineno">560</span><span class="op" id="2410275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2410278">func</span>&nbsp;<span class="op" id="2410283">(</span><span class="ident" id="2410284">t</span>&nbsp;<span class="op" id="2410286">*</span><span class="ident" id="2410287"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2410292">)</span>&nbsp;<span class="ident" id="2410294">ChanDir</span><span class="op" id="2410301">(</span><span class="op" id="2410302">)</span>&nbsp;<span class="ident" id="2410304"><a href="/reflect/type.go.html#2403748">ChanDir</a></span>&nbsp;<span class="op" id="2410312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410315">if</span>&nbsp;<span class="ident" id="2410318"><a href="/reflect/type.go.html#2410284">t</a></span><span class="op" id="2410319">.</span><span class="ident" id="2410320">Kind</span><span class="op" id="2410324">(</span><span class="op" id="2410325">)</span>&nbsp;<span class="op" id="2410327">!=</span>&nbsp;<span class="ident" id="2410330"><a href="/reflect/type.go.html#2401357">Chan</a></span>&nbsp;<span class="op" id="2410335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2410339">panic</span><span class="op" id="2410344">(</span><span class="string" id="2410345">&#34;reflect:&nbsp;ChanDir&nbsp;of&nbsp;non-chan&nbsp;type&#34;</span><span class="op" id="2410380">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410383">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410386">tt</span>&nbsp;<span class="op" id="2410389">:=</span>&nbsp;<span class="op" id="2410392">(</span><span class="op" id="2410393">*</span><span class="ident" id="2410394"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2410402">)</span><span class="op" id="2410403">(</span><span class="ident" id="2410404"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410410">.</span><span class="ident" id="2410411">Pointer</span><span class="op" id="2410418">(</span><span class="ident" id="2410419"><a href="/reflect/type.go.html#2410284">t</a></span><span class="op" id="2410420">)</span><span class="op" id="2410421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410424">return</span>&nbsp;<span class="ident" id="2410431"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2410438">(</span><span class="ident" id="2410439"><a href="/reflect/type.go.html#2410386">tt</a></span><span class="op" id="2410441">.</span><span class="ident" id="2410442">dir</span><span class="op" id="2410445">)</span><br>
<span class="lineno"></span><span class="op" id="2410447">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">570</span><span class="keyword" id="2410450">func</span>&nbsp;<span class="op" id="2410455">(</span><span class="ident" id="2410456">t</span>&nbsp;<span class="op" id="2410458">*</span><span class="ident" id="2410459"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2410464">)</span>&nbsp;<span class="ident" id="2410466">IsVariadic</span><span class="op" id="2410476">(</span><span class="op" id="2410477">)</span>&nbsp;<span class="builtintype" id="2410479">bool</span>&nbsp;<span class="op" id="2410484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410487">if</span>&nbsp;<span class="ident" id="2410490"><a href="/reflect/type.go.html#2410456">t</a></span><span class="op" id="2410491">.</span><span class="ident" id="2410492">Kind</span><span class="op" id="2410496">(</span><span class="op" id="2410497">)</span>&nbsp;<span class="op" id="2410499">!=</span>&nbsp;<span class="ident" id="2410502"><a href="/reflect/type.go.html#2401363">Func</a></span>&nbsp;<span class="op" id="2410507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2410511">panic</span><span class="op" id="2410516">(</span><span class="string" id="2410517">&#34;reflect:&nbsp;IsVariadic&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2410555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2410558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410561">tt</span>&nbsp;<span class="op" id="2410564">:=</span>&nbsp;<span class="op" id="2410567">(</span><span class="op" id="2410568">*</span><span class="ident" id="2410569"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2410577">)</span><span class="op" id="2410578">(</span><span class="ident" id="2410579"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410585">.</span><span class="ident" id="2410586">Pointer</span><span class="op" id="2410593">(</span><span class="ident" id="2410594"><a href="/reflect/type.go.html#2410456">t</a></span><span class="op" id="2410595">)</span><span class="op" id="2410596">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410599">return</span>&nbsp;<span class="ident" id="2410606"><a href="/reflect/type.go.html#2410561">tt</a></span><span class="op" id="2410608">.</span><span class="ident" id="2410609">dotdotdot</span><br>
<span class="lineno"></span><span class="op" id="2410619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2410622">func</span>&nbsp;<span class="op" id="2410627">(</span><span class="ident" id="2410628">t</span>&nbsp;<span class="op" id="2410630">*</span><span class="ident" id="2410631"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2410636">)</span>&nbsp;<span class="ident" id="2410638">Elem</span><span class="op" id="2410642">(</span><span class="op" id="2410643">)</span>&nbsp;<span class="ident" id="2410645"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2410650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410653">switch</span>&nbsp;<span class="ident" id="2410660"><a href="/reflect/type.go.html#2410628">t</a></span><span class="op" id="2410661">.</span><span class="ident" id="2410662">Kind</span><span class="op" id="2410666">(</span><span class="op" id="2410667">)</span>&nbsp;<span class="op" id="2410669">{</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410672">case</span>&nbsp;<span class="ident" id="2410677"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2410682">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410686">tt</span>&nbsp;<span class="op" id="2410689">:=</span>&nbsp;<span class="op" id="2410692">(</span><span class="op" id="2410693">*</span><span class="ident" id="2410694"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2410703">)</span><span class="op" id="2410704">(</span><span class="ident" id="2410705"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410711">.</span><span class="ident" id="2410712">Pointer</span><span class="op" id="2410719">(</span><span class="ident" id="2410720"><a href="/reflect/type.go.html#2410628">t</a></span><span class="op" id="2410721">)</span><span class="op" id="2410722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410726">return</span>&nbsp;<span class="ident" id="2410733"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2410739">(</span><span class="ident" id="2410740"><a href="/reflect/type.go.html#2410686">tt</a></span><span class="op" id="2410742">.</span><span class="ident" id="2410743">elem</span><span class="op" id="2410747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410750">case</span>&nbsp;<span class="ident" id="2410755"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2410759">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410763">tt</span>&nbsp;<span class="op" id="2410766">:=</span>&nbsp;<span class="op" id="2410769">(</span><span class="op" id="2410770">*</span><span class="ident" id="2410771"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2410779">)</span><span class="op" id="2410780">(</span><span class="ident" id="2410781"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410787">.</span><span class="ident" id="2410788">Pointer</span><span class="op" id="2410795">(</span><span class="ident" id="2410796"><a href="/reflect/type.go.html#2410628">t</a></span><span class="op" id="2410797">)</span><span class="op" id="2410798">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410802">return</span>&nbsp;<span class="ident" id="2410809"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2410815">(</span><span class="ident" id="2410816"><a href="/reflect/type.go.html#2410763">tt</a></span><span class="op" id="2410818">.</span><span class="ident" id="2410819">elem</span><span class="op" id="2410823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410826">case</span>&nbsp;<span class="ident" id="2410831"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2410834">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410838">tt</span>&nbsp;<span class="op" id="2410841">:=</span>&nbsp;<span class="op" id="2410844">(</span><span class="op" id="2410845">*</span><span class="ident" id="2410846"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2410853">)</span><span class="op" id="2410854">(</span><span class="ident" id="2410855"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410861">.</span><span class="ident" id="2410862">Pointer</span><span class="op" id="2410869">(</span><span class="ident" id="2410870"><a href="/reflect/type.go.html#2410628">t</a></span><span class="op" id="2410871">)</span><span class="op" id="2410872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410876">return</span>&nbsp;<span class="ident" id="2410883"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2410889">(</span><span class="ident" id="2410890"><a href="/reflect/type.go.html#2410838">tt</a></span><span class="op" id="2410892">.</span><span class="ident" id="2410893">elem</span><span class="op" id="2410897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410900">case</span>&nbsp;<span class="ident" id="2410905"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2410908">:</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410912">tt</span>&nbsp;<span class="op" id="2410915">:=</span>&nbsp;<span class="op" id="2410918">(</span><span class="op" id="2410919">*</span><span class="ident" id="2410920"><a href="/reflect/type.go.html#2405451">ptrType</a></span><span class="op" id="2410927">)</span><span class="op" id="2410928">(</span><span class="ident" id="2410929"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2410935">.</span><span class="ident" id="2410936">Pointer</span><span class="op" id="2410943">(</span><span class="ident" id="2410944"><a href="/reflect/type.go.html#2410628">t</a></span><span class="op" id="2410945">)</span><span class="op" id="2410946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410950">return</span>&nbsp;<span class="ident" id="2410957"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2410963">(</span><span class="ident" id="2410964"><a href="/reflect/type.go.html#2410912">tt</a></span><span class="op" id="2410966">.</span><span class="ident" id="2410967">elem</span><span class="op" id="2410971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2410974">case</span>&nbsp;<span class="ident" id="2410979"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2410984">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2410988">tt</span>&nbsp;<span class="op" id="2410991">:=</span>&nbsp;<span class="op" id="2410994">(</span><span class="op" id="2410995">*</span><span class="ident" id="2410996"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2411005">)</span><span class="op" id="2411006">(</span><span class="ident" id="2411007"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2411013">.</span><span class="ident" id="2411014">Pointer</span><span class="op" id="2411021">(</span><span class="ident" id="2411022"><a href="/reflect/type.go.html#2410628">t</a></span><span class="op" id="2411023">)</span><span class="op" id="2411024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411028">return</span>&nbsp;<span class="ident" id="2411035"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2411041">(</span><span class="ident" id="2411042"><a href="/reflect/type.go.html#2410988">tt</a></span><span class="op" id="2411044">.</span><span class="ident" id="2411045">elem</span><span class="op" id="2411049">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411052">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2411055">panic</span><span class="op" id="2411060">(</span><span class="string" id="2411061">&#34;reflect:&nbsp;Elem&nbsp;of&nbsp;invalid&nbsp;type&#34;</span><span class="op" id="2411092">)</span><br>
<span class="lineno"></span><span class="op" id="2411094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2411097">func</span>&nbsp;<span class="op" id="2411102">(</span><span class="ident" id="2411103">t</span>&nbsp;<span class="op" id="2411105">*</span><span class="ident" id="2411106"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2411111">)</span>&nbsp;<span class="ident" id="2411113">Field</span><span class="op" id="2411118">(</span><span class="ident" id="2411119">i</span>&nbsp;<span class="builtintype" id="2411121">int</span><span class="op" id="2411124">)</span>&nbsp;<span class="ident" id="2411126"><a href="/reflect/type.go.html#2414077">StructField</a></span>&nbsp;<span class="op" id="2411138">{</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411141">if</span>&nbsp;<span class="ident" id="2411144"><a href="/reflect/type.go.html#2411103">t</a></span><span class="op" id="2411145">.</span><span class="ident" id="2411146">Kind</span><span class="op" id="2411150">(</span><span class="op" id="2411151">)</span>&nbsp;<span class="op" id="2411153">!=</span>&nbsp;<span class="ident" id="2411156"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2411163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2411167">panic</span><span class="op" id="2411172">(</span><span class="string" id="2411173">&#34;reflect:&nbsp;Field&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2411208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411211">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411214">tt</span>&nbsp;<span class="op" id="2411217">:=</span>&nbsp;<span class="op" id="2411220">(</span><span class="op" id="2411221">*</span><span class="ident" id="2411222"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2411232">)</span><span class="op" id="2411233">(</span><span class="ident" id="2411234"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2411240">.</span><span class="ident" id="2411241">Pointer</span><span class="op" id="2411248">(</span><span class="ident" id="2411249"><a href="/reflect/type.go.html#2411103">t</a></span><span class="op" id="2411250">)</span><span class="op" id="2411251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411254">return</span>&nbsp;<span class="ident" id="2411261"><a href="/reflect/type.go.html#2411214">tt</a></span><span class="op" id="2411263">.</span><span class="ident" id="2411264">Field</span><span class="op" id="2411269">(</span><span class="ident" id="2411270"><a href="/reflect/type.go.html#2411119">i</a></span><span class="op" id="2411271">)</span><br>
<span class="lineno">605</span><span class="op" id="2411273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2411276">func</span>&nbsp;<span class="op" id="2411281">(</span><span class="ident" id="2411282">t</span>&nbsp;<span class="op" id="2411284">*</span><span class="ident" id="2411285"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2411290">)</span>&nbsp;<span class="ident" id="2411292">FieldByIndex</span><span class="op" id="2411304">(</span><span class="ident" id="2411305">index</span>&nbsp;<span class="op" id="2411311">[</span><span class="op" id="2411312">]</span><span class="builtintype" id="2411313">int</span><span class="op" id="2411316">)</span>&nbsp;<span class="ident" id="2411318"><a href="/reflect/type.go.html#2414077">StructField</a></span>&nbsp;<span class="op" id="2411330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411333">if</span>&nbsp;<span class="ident" id="2411336"><a href="/reflect/type.go.html#2411282">t</a></span><span class="op" id="2411337">.</span><span class="ident" id="2411338">Kind</span><span class="op" id="2411342">(</span><span class="op" id="2411343">)</span>&nbsp;<span class="op" id="2411345">!=</span>&nbsp;<span class="ident" id="2411348"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2411355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2411359">panic</span><span class="op" id="2411364">(</span><span class="string" id="2411365">&#34;reflect:&nbsp;FieldByIndex&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2411407">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411413">tt</span>&nbsp;<span class="op" id="2411416">:=</span>&nbsp;<span class="op" id="2411419">(</span><span class="op" id="2411420">*</span><span class="ident" id="2411421"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2411431">)</span><span class="op" id="2411432">(</span><span class="ident" id="2411433"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2411439">.</span><span class="ident" id="2411440">Pointer</span><span class="op" id="2411447">(</span><span class="ident" id="2411448"><a href="/reflect/type.go.html#2411282">t</a></span><span class="op" id="2411449">)</span><span class="op" id="2411450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411453">return</span>&nbsp;<span class="ident" id="2411460"><a href="/reflect/type.go.html#2411413">tt</a></span><span class="op" id="2411462">.</span><span class="ident" id="2411463">FieldByIndex</span><span class="op" id="2411475">(</span><span class="ident" id="2411476"><a href="/reflect/type.go.html#2411305">index</a></span><span class="op" id="2411481">)</span><br>
<span class="lineno"></span><span class="op" id="2411483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">615</span><span class="keyword" id="2411486">func</span>&nbsp;<span class="op" id="2411491">(</span><span class="ident" id="2411492">t</span>&nbsp;<span class="op" id="2411494">*</span><span class="ident" id="2411495"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2411500">)</span>&nbsp;<span class="ident" id="2411502">FieldByName</span><span class="op" id="2411513">(</span><span class="ident" id="2411514">name</span>&nbsp;<span class="builtintype" id="2411519">string</span><span class="op" id="2411525">)</span>&nbsp;<span class="op" id="2411527">(</span><span class="ident" id="2411528"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2411539">,</span>&nbsp;<span class="builtintype" id="2411541">bool</span><span class="op" id="2411545">)</span>&nbsp;<span class="op" id="2411547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411550">if</span>&nbsp;<span class="ident" id="2411553"><a href="/reflect/type.go.html#2411492">t</a></span><span class="op" id="2411554">.</span><span class="ident" id="2411555">Kind</span><span class="op" id="2411559">(</span><span class="op" id="2411560">)</span>&nbsp;<span class="op" id="2411562">!=</span>&nbsp;<span class="ident" id="2411565"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2411572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2411576">panic</span><span class="op" id="2411581">(</span><span class="string" id="2411582">&#34;reflect:&nbsp;FieldByName&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2411623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411629">tt</span>&nbsp;<span class="op" id="2411632">:=</span>&nbsp;<span class="op" id="2411635">(</span><span class="op" id="2411636">*</span><span class="ident" id="2411637"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2411647">)</span><span class="op" id="2411648">(</span><span class="ident" id="2411649"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2411655">.</span><span class="ident" id="2411656">Pointer</span><span class="op" id="2411663">(</span><span class="ident" id="2411664"><a href="/reflect/type.go.html#2411492">t</a></span><span class="op" id="2411665">)</span><span class="op" id="2411666">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411669">return</span>&nbsp;<span class="ident" id="2411676"><a href="/reflect/type.go.html#2411629">tt</a></span><span class="op" id="2411678">.</span><span class="ident" id="2411679">FieldByName</span><span class="op" id="2411690">(</span><span class="ident" id="2411691"><a href="/reflect/type.go.html#2411514">name</a></span><span class="op" id="2411695">)</span><br>
<span class="lineno"></span><span class="op" id="2411697">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2411700">func</span>&nbsp;<span class="op" id="2411705">(</span><span class="ident" id="2411706">t</span>&nbsp;<span class="op" id="2411708">*</span><span class="ident" id="2411709"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2411714">)</span>&nbsp;<span class="ident" id="2411716">FieldByNameFunc</span><span class="op" id="2411731">(</span><span class="ident" id="2411732">match</span>&nbsp;<span class="keyword" id="2411738">func</span><span class="op" id="2411742">(</span><span class="builtintype" id="2411743">string</span><span class="op" id="2411749">)</span>&nbsp;<span class="builtintype" id="2411751">bool</span><span class="op" id="2411755">)</span>&nbsp;<span class="op" id="2411757">(</span><span class="ident" id="2411758"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2411769">,</span>&nbsp;<span class="builtintype" id="2411771">bool</span><span class="op" id="2411775">)</span>&nbsp;<span class="op" id="2411777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411780">if</span>&nbsp;<span class="ident" id="2411783"><a href="/reflect/type.go.html#2411706">t</a></span><span class="op" id="2411784">.</span><span class="ident" id="2411785">Kind</span><span class="op" id="2411789">(</span><span class="op" id="2411790">)</span>&nbsp;<span class="op" id="2411792">!=</span>&nbsp;<span class="ident" id="2411795"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2411802">{</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2411806">panic</span><span class="op" id="2411811">(</span><span class="string" id="2411812">&#34;reflect:&nbsp;FieldByNameFunc&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2411857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2411860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2411863">tt</span>&nbsp;<span class="op" id="2411866">:=</span>&nbsp;<span class="op" id="2411869">(</span><span class="op" id="2411870">*</span><span class="ident" id="2411871"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2411881">)</span><span class="op" id="2411882">(</span><span class="ident" id="2411883"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2411889">.</span><span class="ident" id="2411890">Pointer</span><span class="op" id="2411897">(</span><span class="ident" id="2411898"><a href="/reflect/type.go.html#2411706">t</a></span><span class="op" id="2411899">)</span><span class="op" id="2411900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411903">return</span>&nbsp;<span class="ident" id="2411910"><a href="/reflect/type.go.html#2411863">tt</a></span><span class="op" id="2411912">.</span><span class="ident" id="2411913">FieldByNameFunc</span><span class="op" id="2411928">(</span><span class="ident" id="2411929"><a href="/reflect/type.go.html#2411732">match</a></span><span class="op" id="2411934">)</span><br>
<span class="lineno"></span><span class="op" id="2411936">}</span><br>
<span class="lineno">630</span><br>
<span class="lineno"></span><span class="keyword" id="2411939">func</span>&nbsp;<span class="op" id="2411944">(</span><span class="ident" id="2411945">t</span>&nbsp;<span class="op" id="2411947">*</span><span class="ident" id="2411948"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2411953">)</span>&nbsp;<span class="ident" id="2411955">In</span><span class="op" id="2411957">(</span><span class="ident" id="2411958">i</span>&nbsp;<span class="builtintype" id="2411960">int</span><span class="op" id="2411963">)</span>&nbsp;<span class="ident" id="2411965"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2411970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2411973">if</span>&nbsp;<span class="ident" id="2411976"><a href="/reflect/type.go.html#2411945">t</a></span><span class="op" id="2411977">.</span><span class="ident" id="2411978">Kind</span><span class="op" id="2411982">(</span><span class="op" id="2411983">)</span>&nbsp;<span class="op" id="2411985">!=</span>&nbsp;<span class="ident" id="2411988"><a href="/reflect/type.go.html#2401363">Func</a></span>&nbsp;<span class="op" id="2411993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2411997">panic</span><span class="op" id="2412002">(</span><span class="string" id="2412003">&#34;reflect:&nbsp;In&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2412033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412036">}</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412039">tt</span>&nbsp;<span class="op" id="2412042">:=</span>&nbsp;<span class="op" id="2412045">(</span><span class="op" id="2412046">*</span><span class="ident" id="2412047"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2412055">)</span><span class="op" id="2412056">(</span><span class="ident" id="2412057"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2412063">.</span><span class="ident" id="2412064">Pointer</span><span class="op" id="2412071">(</span><span class="ident" id="2412072"><a href="/reflect/type.go.html#2411945">t</a></span><span class="op" id="2412073">)</span><span class="op" id="2412074">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412077">return</span>&nbsp;<span class="ident" id="2412084"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2412090">(</span><span class="ident" id="2412091"><a href="/reflect/type.go.html#2412039">tt</a></span><span class="op" id="2412093">.</span><span class="ident" id="2412094">in</span><span class="op" id="2412096">[</span><span class="ident" id="2412097"><a href="/reflect/type.go.html#2411958">i</a></span><span class="op" id="2412098">]</span><span class="op" id="2412099">)</span><br>
<span class="lineno"></span><span class="op" id="2412101">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412104">func</span>&nbsp;<span class="op" id="2412109">(</span><span class="ident" id="2412110">t</span>&nbsp;<span class="op" id="2412112">*</span><span class="ident" id="2412113"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2412118">)</span>&nbsp;<span class="ident" id="2412120">Key</span><span class="op" id="2412123">(</span><span class="op" id="2412124">)</span>&nbsp;<span class="ident" id="2412126"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2412131">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412134">if</span>&nbsp;<span class="ident" id="2412137"><a href="/reflect/type.go.html#2412110">t</a></span><span class="op" id="2412138">.</span><span class="ident" id="2412139">Kind</span><span class="op" id="2412143">(</span><span class="op" id="2412144">)</span>&nbsp;<span class="op" id="2412146">!=</span>&nbsp;<span class="ident" id="2412149"><a href="/reflect/type.go.html#2401380">Map</a></span>&nbsp;<span class="op" id="2412153">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2412157">panic</span><span class="op" id="2412162">(</span><span class="string" id="2412163">&#34;reflect:&nbsp;Key&nbsp;of&nbsp;non-map&nbsp;type&#34;</span><span class="op" id="2412193">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412199">tt</span>&nbsp;<span class="op" id="2412202">:=</span>&nbsp;<span class="op" id="2412205">(</span><span class="op" id="2412206">*</span><span class="ident" id="2412207"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2412214">)</span><span class="op" id="2412215">(</span><span class="ident" id="2412216"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2412222">.</span><span class="ident" id="2412223">Pointer</span><span class="op" id="2412230">(</span><span class="ident" id="2412231"><a href="/reflect/type.go.html#2412110">t</a></span><span class="op" id="2412232">)</span><span class="op" id="2412233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412236">return</span>&nbsp;<span class="ident" id="2412243"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2412249">(</span><span class="ident" id="2412250"><a href="/reflect/type.go.html#2412199">tt</a></span><span class="op" id="2412252">.</span><span class="ident" id="2412253">key</span><span class="op" id="2412256">)</span><br>
<span class="lineno">645</span><span class="op" id="2412258">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412261">func</span>&nbsp;<span class="op" id="2412266">(</span><span class="ident" id="2412267">t</span>&nbsp;<span class="op" id="2412269">*</span><span class="ident" id="2412270"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2412275">)</span>&nbsp;<span class="ident" id="2412277">Len</span><span class="op" id="2412280">(</span><span class="op" id="2412281">)</span>&nbsp;<span class="builtintype" id="2412283">int</span>&nbsp;<span class="op" id="2412287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412290">if</span>&nbsp;<span class="ident" id="2412293"><a href="/reflect/type.go.html#2412267">t</a></span><span class="op" id="2412294">.</span><span class="ident" id="2412295">Kind</span><span class="op" id="2412299">(</span><span class="op" id="2412300">)</span>&nbsp;<span class="op" id="2412302">!=</span>&nbsp;<span class="ident" id="2412305"><a href="/reflect/type.go.html#2401350">Array</a></span>&nbsp;<span class="op" id="2412311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2412315">panic</span><span class="op" id="2412320">(</span><span class="string" id="2412321">&#34;reflect:&nbsp;Len&nbsp;of&nbsp;non-array&nbsp;type&#34;</span><span class="op" id="2412353">)</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412359">tt</span>&nbsp;<span class="op" id="2412362">:=</span>&nbsp;<span class="op" id="2412365">(</span><span class="op" id="2412366">*</span><span class="ident" id="2412367"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2412376">)</span><span class="op" id="2412377">(</span><span class="ident" id="2412378"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2412384">.</span><span class="ident" id="2412385">Pointer</span><span class="op" id="2412392">(</span><span class="ident" id="2412393"><a href="/reflect/type.go.html#2412267">t</a></span><span class="op" id="2412394">)</span><span class="op" id="2412395">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412398">return</span>&nbsp;<span class="builtintype" id="2412405">int</span><span class="op" id="2412408">(</span><span class="ident" id="2412409"><a href="/reflect/type.go.html#2412359">tt</a></span><span class="op" id="2412411">.</span><span class="builtinfunc" id="2412412">len</span><span class="op" id="2412415">)</span><br>
<span class="lineno"></span><span class="op" id="2412417">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">655</span><span class="keyword" id="2412420">func</span>&nbsp;<span class="op" id="2412425">(</span><span class="ident" id="2412426">t</span>&nbsp;<span class="op" id="2412428">*</span><span class="ident" id="2412429"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2412434">)</span>&nbsp;<span class="ident" id="2412436">NumField</span><span class="op" id="2412444">(</span><span class="op" id="2412445">)</span>&nbsp;<span class="builtintype" id="2412447">int</span>&nbsp;<span class="op" id="2412451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412454">if</span>&nbsp;<span class="ident" id="2412457"><a href="/reflect/type.go.html#2412426">t</a></span><span class="op" id="2412458">.</span><span class="ident" id="2412459">Kind</span><span class="op" id="2412463">(</span><span class="op" id="2412464">)</span>&nbsp;<span class="op" id="2412466">!=</span>&nbsp;<span class="ident" id="2412469"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2412476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2412480">panic</span><span class="op" id="2412485">(</span><span class="string" id="2412486">&#34;reflect:&nbsp;NumField&nbsp;of&nbsp;non-struct&nbsp;type&#34;</span><span class="op" id="2412524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412530">tt</span>&nbsp;<span class="op" id="2412533">:=</span>&nbsp;<span class="op" id="2412536">(</span><span class="op" id="2412537">*</span><span class="ident" id="2412538"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2412548">)</span><span class="op" id="2412549">(</span><span class="ident" id="2412550"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2412556">.</span><span class="ident" id="2412557">Pointer</span><span class="op" id="2412564">(</span><span class="ident" id="2412565"><a href="/reflect/type.go.html#2412426">t</a></span><span class="op" id="2412566">)</span><span class="op" id="2412567">)</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412570">return</span>&nbsp;<span class="builtinfunc" id="2412577">len</span><span class="op" id="2412580">(</span><span class="ident" id="2412581"><a href="/reflect/type.go.html#2412530">tt</a></span><span class="op" id="2412583">.</span><span class="ident" id="2412584">fields</span><span class="op" id="2412590">)</span><br>
<span class="lineno"></span><span class="op" id="2412592">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412595">func</span>&nbsp;<span class="op" id="2412600">(</span><span class="ident" id="2412601">t</span>&nbsp;<span class="op" id="2412603">*</span><span class="ident" id="2412604"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2412609">)</span>&nbsp;<span class="ident" id="2412611">NumIn</span><span class="op" id="2412616">(</span><span class="op" id="2412617">)</span>&nbsp;<span class="builtintype" id="2412619">int</span>&nbsp;<span class="op" id="2412623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412626">if</span>&nbsp;<span class="ident" id="2412629"><a href="/reflect/type.go.html#2412601">t</a></span><span class="op" id="2412630">.</span><span class="ident" id="2412631">Kind</span><span class="op" id="2412635">(</span><span class="op" id="2412636">)</span>&nbsp;<span class="op" id="2412638">!=</span>&nbsp;<span class="ident" id="2412641"><a href="/reflect/type.go.html#2401363">Func</a></span>&nbsp;<span class="op" id="2412646">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2412650">panic</span><span class="op" id="2412655">(</span><span class="string" id="2412656">&#34;reflect:&nbsp;NumIn&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2412689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412692">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412695">tt</span>&nbsp;<span class="op" id="2412698">:=</span>&nbsp;<span class="op" id="2412701">(</span><span class="op" id="2412702">*</span><span class="ident" id="2412703"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2412711">)</span><span class="op" id="2412712">(</span><span class="ident" id="2412713"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2412719">.</span><span class="ident" id="2412720">Pointer</span><span class="op" id="2412727">(</span><span class="ident" id="2412728"><a href="/reflect/type.go.html#2412601">t</a></span><span class="op" id="2412729">)</span><span class="op" id="2412730">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412733">return</span>&nbsp;<span class="builtinfunc" id="2412740">len</span><span class="op" id="2412743">(</span><span class="ident" id="2412744"><a href="/reflect/type.go.html#2412695">tt</a></span><span class="op" id="2412746">.</span><span class="ident" id="2412747">in</span><span class="op" id="2412749">)</span><br>
<span class="lineno"></span><span class="op" id="2412751">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="2412754">func</span>&nbsp;<span class="op" id="2412759">(</span><span class="ident" id="2412760">t</span>&nbsp;<span class="op" id="2412762">*</span><span class="ident" id="2412763"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2412768">)</span>&nbsp;<span class="ident" id="2412770">NumOut</span><span class="op" id="2412776">(</span><span class="op" id="2412777">)</span>&nbsp;<span class="builtintype" id="2412779">int</span>&nbsp;<span class="op" id="2412783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412786">if</span>&nbsp;<span class="ident" id="2412789"><a href="/reflect/type.go.html#2412760">t</a></span><span class="op" id="2412790">.</span><span class="ident" id="2412791">Kind</span><span class="op" id="2412795">(</span><span class="op" id="2412796">)</span>&nbsp;<span class="op" id="2412798">!=</span>&nbsp;<span class="ident" id="2412801"><a href="/reflect/type.go.html#2401363">Func</a></span>&nbsp;<span class="op" id="2412806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2412810">panic</span><span class="op" id="2412815">(</span><span class="string" id="2412816">&#34;reflect:&nbsp;NumOut&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2412850">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2412853">}</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2412856">tt</span>&nbsp;<span class="op" id="2412859">:=</span>&nbsp;<span class="op" id="2412862">(</span><span class="op" id="2412863">*</span><span class="ident" id="2412864"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2412872">)</span><span class="op" id="2412873">(</span><span class="ident" id="2412874"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2412880">.</span><span class="ident" id="2412881">Pointer</span><span class="op" id="2412888">(</span><span class="ident" id="2412889"><a href="/reflect/type.go.html#2412760">t</a></span><span class="op" id="2412890">)</span><span class="op" id="2412891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412894">return</span>&nbsp;<span class="builtinfunc" id="2412901">len</span><span class="op" id="2412904">(</span><span class="ident" id="2412905"><a href="/reflect/type.go.html#2412856">tt</a></span><span class="op" id="2412907">.</span><span class="ident" id="2412908">out</span><span class="op" id="2412911">)</span><br>
<span class="lineno"></span><span class="op" id="2412913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2412916">func</span>&nbsp;<span class="op" id="2412921">(</span><span class="ident" id="2412922">t</span>&nbsp;<span class="op" id="2412924">*</span><span class="ident" id="2412925"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2412930">)</span>&nbsp;<span class="ident" id="2412932">Out</span><span class="op" id="2412935">(</span><span class="ident" id="2412936">i</span>&nbsp;<span class="builtintype" id="2412938">int</span><span class="op" id="2412941">)</span>&nbsp;<span class="ident" id="2412943"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2412948">{</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2412951">if</span>&nbsp;<span class="ident" id="2412954"><a href="/reflect/type.go.html#2412922">t</a></span><span class="op" id="2412955">.</span><span class="ident" id="2412956">Kind</span><span class="op" id="2412960">(</span><span class="op" id="2412961">)</span>&nbsp;<span class="op" id="2412963">!=</span>&nbsp;<span class="ident" id="2412966"><a href="/reflect/type.go.html#2401363">Func</a></span>&nbsp;<span class="op" id="2412971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2412975">panic</span><span class="op" id="2412980">(</span><span class="string" id="2412981">&#34;reflect:&nbsp;Out&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2413012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413015">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413018">tt</span>&nbsp;<span class="op" id="2413021">:=</span>&nbsp;<span class="op" id="2413024">(</span><span class="op" id="2413025">*</span><span class="ident" id="2413026"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2413034">)</span><span class="op" id="2413035">(</span><span class="ident" id="2413036"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2413042">.</span><span class="ident" id="2413043">Pointer</span><span class="op" id="2413050">(</span><span class="ident" id="2413051"><a href="/reflect/type.go.html#2412922">t</a></span><span class="op" id="2413052">)</span><span class="op" id="2413053">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413056">return</span>&nbsp;<span class="ident" id="2413063"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2413069">(</span><span class="ident" id="2413070"><a href="/reflect/type.go.html#2413018">tt</a></span><span class="op" id="2413072">.</span><span class="ident" id="2413073">out</span><span class="op" id="2413076">[</span><span class="ident" id="2413077"><a href="/reflect/type.go.html#2412936">i</a></span><span class="op" id="2413078">]</span><span class="op" id="2413079">)</span><br>
<span class="lineno">685</span><span class="op" id="2413081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2413084">func</span>&nbsp;<span class="op" id="2413089">(</span><span class="ident" id="2413090">d</span>&nbsp;<span class="ident" id="2413092"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2413099">)</span>&nbsp;<span class="ident" id="2413101">String</span><span class="op" id="2413107">(</span><span class="op" id="2413108">)</span>&nbsp;<span class="builtintype" id="2413110">string</span>&nbsp;<span class="op" id="2413117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413120">switch</span>&nbsp;<span class="ident" id="2413127"><a href="/reflect/type.go.html#2413090">d</a></span>&nbsp;<span class="op" id="2413129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413132">case</span>&nbsp;<span class="ident" id="2413137"><a href="/reflect/type.go.html#2403821">SendDir</a></span><span class="op" id="2413144">:</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413148">return</span>&nbsp;<span class="string" id="2413155">&#34;chan&lt;-&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413165">case</span>&nbsp;<span class="ident" id="2413170"><a href="/reflect/type.go.html#2403770">RecvDir</a></span><span class="op" id="2413177">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413181">return</span>&nbsp;<span class="string" id="2413188">&#34;&lt;-chan&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413198">case</span>&nbsp;<span class="ident" id="2413203"><a href="/reflect/type.go.html#2403872">BothDir</a></span><span class="op" id="2413210">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413214">return</span>&nbsp;<span class="string" id="2413221">&#34;chan&#34;</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413232">return</span>&nbsp;<span class="string" id="2413239">&#34;ChanDir&#34;</span>&nbsp;<span class="op" id="2413249">+</span>&nbsp;<span class="ident" id="2413251"><a href="/reflect/type.go.html#2394417">strconv</a></span><span class="op" id="2413258">.</span><span class="ident" id="2413259">Itoa</span><span class="op" id="2413263">(</span><span class="builtintype" id="2413264">int</span><span class="op" id="2413267">(</span><span class="ident" id="2413268"><a href="/reflect/type.go.html#2413090">d</a></span><span class="op" id="2413269">)</span><span class="op" id="2413270">)</span><br>
<span class="lineno"></span><span class="op" id="2413272">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2413275">//&nbsp;Method&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;method&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">700</span><span class="keyword" id="2413335">func</span>&nbsp;<span class="op" id="2413340">(</span><span class="ident" id="2413341">t</span>&nbsp;<span class="op" id="2413343">*</span><span class="ident" id="2413344"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2413357">)</span>&nbsp;<span class="ident" id="2413359">Method</span><span class="op" id="2413365">(</span><span class="ident" id="2413366">i</span>&nbsp;<span class="builtintype" id="2413368">int</span><span class="op" id="2413371">)</span>&nbsp;<span class="op" id="2413373">(</span><span class="ident" id="2413374">m</span>&nbsp;<span class="ident" id="2413376"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2413382">)</span>&nbsp;<span class="op" id="2413384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413387">if</span>&nbsp;<span class="ident" id="2413390"><a href="/reflect/type.go.html#2413366">i</a></span>&nbsp;<span class="op" id="2413392">&lt;</span>&nbsp;<span class="num" id="2413394">0</span>&nbsp;<span class="op" id="2413396">||</span>&nbsp;<span class="ident" id="2413399"><a href="/reflect/type.go.html#2413366">i</a></span>&nbsp;<span class="op" id="2413401">&gt;=</span>&nbsp;<span class="builtinfunc" id="2413404">len</span><span class="op" id="2413407">(</span><span class="ident" id="2413408"><a href="/reflect/type.go.html#2413341">t</a></span><span class="op" id="2413409">.</span><span class="ident" id="2413410">methods</span><span class="op" id="2413417">)</span>&nbsp;<span class="op" id="2413419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413423">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413434">p</span>&nbsp;<span class="op" id="2413436">:=</span>&nbsp;<span class="op" id="2413439">&amp;</span><span class="ident" id="2413440"><a href="/reflect/type.go.html#2413341">t</a></span><span class="op" id="2413441">.</span><span class="ident" id="2413442">methods</span><span class="op" id="2413449">[</span><span class="ident" id="2413450"><a href="/reflect/type.go.html#2413366">i</a></span><span class="op" id="2413451">]</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413454"><a href="/reflect/type.go.html#2413374">m</a></span><span class="op" id="2413455">.</span><span class="ident" id="2413456">Name</span>&nbsp;<span class="op" id="2413461">=</span>&nbsp;<span class="op" id="2413463">*</span><span class="ident" id="2413464"><a href="/reflect/type.go.html#2413434">p</a></span><span class="op" id="2413465">.</span><span class="ident" id="2413466">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413472">if</span>&nbsp;<span class="ident" id="2413475"><a href="/reflect/type.go.html#2413434">p</a></span><span class="op" id="2413476">.</span><span class="ident" id="2413477">pkgPath</span>&nbsp;<span class="op" id="2413485">!=</span>&nbsp;<span class="ident" id="2413488">nil</span>&nbsp;<span class="op" id="2413492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413496"><a href="/reflect/type.go.html#2413374">m</a></span><span class="op" id="2413497">.</span><span class="ident" id="2413498">PkgPath</span>&nbsp;<span class="op" id="2413506">=</span>&nbsp;<span class="op" id="2413508">*</span><span class="ident" id="2413509"><a href="/reflect/type.go.html#2413434">p</a></span><span class="op" id="2413510">.</span><span class="ident" id="2413511">pkgPath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413523"><a href="/reflect/type.go.html#2413374">m</a></span><span class="op" id="2413524">.</span><span class="ident" id="2413525">Type</span>&nbsp;<span class="op" id="2413530">=</span>&nbsp;<span class="ident" id="2413532"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2413538">(</span><span class="ident" id="2413539"><a href="/reflect/type.go.html#2413434">p</a></span><span class="op" id="2413540">.</span><span class="ident" id="2413541">typ</span><span class="op" id="2413544">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413547"><a href="/reflect/type.go.html#2413374">m</a></span><span class="op" id="2413548">.</span><span class="ident" id="2413549">Index</span>&nbsp;<span class="op" id="2413555">=</span>&nbsp;<span class="ident" id="2413557"><a href="/reflect/type.go.html#2413366">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413560">return</span><br>
<span class="lineno"></span><span class="op" id="2413567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2413570">//&nbsp;NumMethod&nbsp;returns&nbsp;the&nbsp;number&nbsp;of&nbsp;interface&nbsp;methods&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno">715</span><span class="keyword" id="2413649">func</span>&nbsp;<span class="op" id="2413654">(</span><span class="ident" id="2413655">t</span>&nbsp;<span class="op" id="2413657">*</span><span class="ident" id="2413658"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2413671">)</span>&nbsp;<span class="ident" id="2413673">NumMethod</span><span class="op" id="2413682">(</span><span class="op" id="2413683">)</span>&nbsp;<span class="builtintype" id="2413685">int</span>&nbsp;<span class="op" id="2413689">{</span>&nbsp;<span class="keyword" id="2413691">return</span>&nbsp;<span class="builtinfunc" id="2413698">len</span><span class="op" id="2413701">(</span><span class="ident" id="2413702"><a href="/reflect/type.go.html#2413655">t</a></span><span class="op" id="2413703">.</span><span class="ident" id="2413704">methods</span><span class="op" id="2413711">)</span>&nbsp;<span class="op" id="2413713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2413716">//&nbsp;MethodByName&nbsp;method&nbsp;with&nbsp;the&nbsp;given&nbsp;name&nbsp;in&nbsp;the&nbsp;type&#39;s&nbsp;method&nbsp;set.</span><br>
<span class="lineno"></span><span class="keyword" id="2413785">func</span>&nbsp;<span class="op" id="2413790">(</span><span class="ident" id="2413791">t</span>&nbsp;<span class="op" id="2413793">*</span><span class="ident" id="2413794"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2413807">)</span>&nbsp;<span class="ident" id="2413809">MethodByName</span><span class="op" id="2413821">(</span><span class="ident" id="2413822">name</span>&nbsp;<span class="builtintype" id="2413827">string</span><span class="op" id="2413833">)</span>&nbsp;<span class="op" id="2413835">(</span><span class="ident" id="2413836">m</span>&nbsp;<span class="ident" id="2413838"><a href="/reflect/type.go.html#2406285">Method</a></span><span class="op" id="2413844">,</span>&nbsp;<span class="ident" id="2413846">ok</span>&nbsp;<span class="builtintype" id="2413849">bool</span><span class="op" id="2413853">)</span>&nbsp;<span class="op" id="2413855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413858">if</span>&nbsp;<span class="ident" id="2413861"><a href="/reflect/type.go.html#2413791">t</a></span>&nbsp;<span class="op" id="2413863">==</span>&nbsp;<span class="ident" id="2413866">nil</span>&nbsp;<span class="op" id="2413870">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413874">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2413882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413885">var</span>&nbsp;<span class="ident" id="2413889">p</span>&nbsp;<span class="op" id="2413891">*</span><span class="ident" id="2413892"><a href="/reflect/type.go.html#2404565">imethod</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413901">for</span>&nbsp;<span class="ident" id="2413905">i</span>&nbsp;<span class="op" id="2413907">:=</span>&nbsp;<span class="keyword" id="2413910">range</span>&nbsp;<span class="ident" id="2413916"><a href="/reflect/type.go.html#2413791">t</a></span><span class="op" id="2413917">.</span><span class="ident" id="2413918">methods</span>&nbsp;<span class="op" id="2413926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2413930"><a href="/reflect/type.go.html#2413889">p</a></span>&nbsp;<span class="op" id="2413932">=</span>&nbsp;<span class="op" id="2413934">&amp;</span><span class="ident" id="2413935"><a href="/reflect/type.go.html#2413791">t</a></span><span class="op" id="2413936">.</span><span class="ident" id="2413937">methods</span><span class="op" id="2413944">[</span><span class="ident" id="2413945"><a href="/reflect/type.go.html#2413905">i</a></span><span class="op" id="2413946">]</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413950">if</span>&nbsp;<span class="op" id="2413953">*</span><span class="ident" id="2413954"><a href="/reflect/type.go.html#2413889">p</a></span><span class="op" id="2413955">.</span><span class="ident" id="2413956">name</span>&nbsp;<span class="op" id="2413961">==</span>&nbsp;<span class="ident" id="2413964"><a href="/reflect/type.go.html#2413822">name</a></span>&nbsp;<span class="op" id="2413969">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2413974">return</span>&nbsp;<span class="ident" id="2413981"><a href="/reflect/type.go.html#2413791">t</a></span><span class="op" id="2413982">.</span><span class="ident" id="2413983">Method</span><span class="op" id="2413989">(</span><span class="ident" id="2413990"><a href="/reflect/type.go.html#2413905">i</a></span><span class="op" id="2413991">)</span><span class="op" id="2413992">,</span>&nbsp;<span class="ident" id="2413994">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2414004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2414007">return</span><br>
<span class="lineno">730</span><span class="op" id="2414014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2414017">//&nbsp;A&nbsp;StructField&nbsp;describes&nbsp;a&nbsp;single&nbsp;field&nbsp;in&nbsp;a&nbsp;struct.</span><br>
<span class="lineno"></span><span class="keyword" id="2414072">type</span>&nbsp;<span class="ident" id="2414077">StructField</span>&nbsp;<span class="keyword" id="2414089">struct</span>&nbsp;<span class="op" id="2414096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414099">//&nbsp;Name&nbsp;is&nbsp;the&nbsp;field&nbsp;name.</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414127">//&nbsp;PkgPath&nbsp;is&nbsp;the&nbsp;package&nbsp;path&nbsp;that&nbsp;qualifies&nbsp;a&nbsp;lower&nbsp;case&nbsp;(unexported)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414200">//&nbsp;field&nbsp;name.&nbsp;&nbsp;It&nbsp;is&nbsp;empty&nbsp;for&nbsp;upper&nbsp;case&nbsp;(exported)&nbsp;field&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2414268">//&nbsp;See&nbsp;http://golang.org/ref/spec#Uniqueness_of_identifiers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414329">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2414337">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414345">PkgPath</span>&nbsp;<span class="builtintype" id="2414353">string</span><br>
<span class="lineno">740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414362">Type</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414372"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2414382">//&nbsp;field&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414397">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2414407"><a href="/reflect/type.go.html#2414998">StructTag</a></span>&nbsp;<span class="comment" id="2414417">//&nbsp;field&nbsp;tag&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414438">Offset</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2414448">uintptr</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="2414458">//&nbsp;offset&nbsp;within&nbsp;struct,&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414493">Index</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2414503">[</span><span class="op" id="2414504">]</span><span class="builtintype" id="2414505">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2414513">//&nbsp;index&nbsp;sequence&nbsp;for&nbsp;Type.FieldByIndex</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2414554">Anonymous</span>&nbsp;<span class="builtintype" id="2414564">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="2414574">//&nbsp;is&nbsp;an&nbsp;embedded&nbsp;field</span><br>
<span class="lineno"></span><span class="op" id="2414598">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2414601">//&nbsp;A&nbsp;StructTag&nbsp;is&nbsp;the&nbsp;tag&nbsp;string&nbsp;in&nbsp;a&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="comment" id="2414653">//</span><br>
<span class="lineno">750</span><span class="comment" id="2414656">//&nbsp;By&nbsp;convention,&nbsp;tag&nbsp;strings&nbsp;are&nbsp;a&nbsp;concatenation&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="2414709">//&nbsp;optionally&nbsp;space-separated&nbsp;key:&#34;value&#34;&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="comment" id="2414758">//&nbsp;Each&nbsp;key&nbsp;is&nbsp;a&nbsp;non-empty&nbsp;string&nbsp;consisting&nbsp;of&nbsp;non-control</span><br>
<span class="lineno"></span><span class="comment" id="2414818">//&nbsp;characters&nbsp;other&nbsp;than&nbsp;space&nbsp;(U+0020&nbsp;&#39;&nbsp;&#39;),&nbsp;quote&nbsp;(U+0022&nbsp;&#39;&#34;&#39;),</span><br>
<span class="lineno"></span><span class="comment" id="2414883">//&nbsp;and&nbsp;colon&nbsp;(U+003A&nbsp;&#39;:&#39;).&nbsp;&nbsp;Each&nbsp;value&nbsp;is&nbsp;quoted&nbsp;using&nbsp;U+0022&nbsp;&#39;&#34;&#39;</span><br>
<span class="lineno">755</span><span class="comment" id="2414949">//&nbsp;characters&nbsp;and&nbsp;Go&nbsp;string&nbsp;literal&nbsp;syntax.</span><br>
<span class="lineno"></span><span class="keyword" id="2414993">type</span>&nbsp;<span class="ident" id="2414998">StructTag</span>&nbsp;<span class="builtintype" id="2415008">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2415016">//&nbsp;Get&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;key&nbsp;in&nbsp;the&nbsp;tag&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2415080">//&nbsp;If&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;key&nbsp;in&nbsp;the&nbsp;tag,&nbsp;Get&nbsp;returns&nbsp;the&nbsp;empty&nbsp;string.</span><br>
<span class="lineno">760</span><span class="comment" id="2415149">//&nbsp;If&nbsp;the&nbsp;tag&nbsp;does&nbsp;not&nbsp;have&nbsp;the&nbsp;conventional&nbsp;format,&nbsp;the&nbsp;value</span><br>
<span class="lineno"></span><span class="comment" id="2415212">//&nbsp;returned&nbsp;by&nbsp;Get&nbsp;is&nbsp;unspecified.</span><br>
<span class="lineno"></span><span class="keyword" id="2415247">func</span>&nbsp;<span class="op" id="2415252">(</span><span class="ident" id="2415253">tag</span>&nbsp;<span class="ident" id="2415257"><a href="/reflect/type.go.html#2414998">StructTag</a></span><span class="op" id="2415266">)</span>&nbsp;<span class="ident" id="2415268">Get</span><span class="op" id="2415271">(</span><span class="ident" id="2415272">key</span>&nbsp;<span class="builtintype" id="2415276">string</span><span class="op" id="2415282">)</span>&nbsp;<span class="builtintype" id="2415284">string</span>&nbsp;<span class="op" id="2415291">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415294">for</span>&nbsp;<span class="ident" id="2415298"><a href="/reflect/type.go.html#2415253">tag</a></span>&nbsp;<span class="op" id="2415302">!=</span>&nbsp;<span class="string" id="2415305">&#34;&#34;</span>&nbsp;<span class="op" id="2415308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415312">//&nbsp;skip&nbsp;leading&nbsp;space</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415336">i</span>&nbsp;<span class="op" id="2415338">:=</span>&nbsp;<span class="num" id="2415341">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415345">for</span>&nbsp;<span class="ident" id="2415349"><a href="/reflect/type.go.html#2415336">i</a></span>&nbsp;<span class="op" id="2415351">&lt;</span>&nbsp;<span class="builtinfunc" id="2415353">len</span><span class="op" id="2415356">(</span><span class="ident" id="2415357"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415360">)</span>&nbsp;<span class="op" id="2415362">&amp;&amp;</span>&nbsp;<span class="ident" id="2415365"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415368">[</span><span class="ident" id="2415369"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415370">]</span>&nbsp;<span class="op" id="2415372">==</span>&nbsp;<span class="string" id="2415375">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="2415379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415384"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415385">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415394"><a href="/reflect/type.go.html#2415253">tag</a></span>&nbsp;<span class="op" id="2415398">=</span>&nbsp;<span class="ident" id="2415400"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415403">[</span><span class="ident" id="2415404"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415405">:</span><span class="op" id="2415406">]</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415410">if</span>&nbsp;<span class="ident" id="2415413"><a href="/reflect/type.go.html#2415253">tag</a></span>&nbsp;<span class="op" id="2415417">==</span>&nbsp;<span class="string" id="2415420">&#34;&#34;</span>&nbsp;<span class="op" id="2415423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415428">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415441">//&nbsp;scan&nbsp;to&nbsp;colon.</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415461">//&nbsp;a&nbsp;space&nbsp;or&nbsp;a&nbsp;quote&nbsp;is&nbsp;a&nbsp;syntax&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415503"><a href="/reflect/type.go.html#2415336">i</a></span>&nbsp;<span class="op" id="2415505">=</span>&nbsp;<span class="num" id="2415507">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415511">for</span>&nbsp;<span class="ident" id="2415515"><a href="/reflect/type.go.html#2415336">i</a></span>&nbsp;<span class="op" id="2415517">&lt;</span>&nbsp;<span class="builtinfunc" id="2415519">len</span><span class="op" id="2415522">(</span><span class="ident" id="2415523"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415526">)</span>&nbsp;<span class="op" id="2415528">&amp;&amp;</span>&nbsp;<span class="ident" id="2415531"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415534">[</span><span class="ident" id="2415535"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415536">]</span>&nbsp;<span class="op" id="2415538">!=</span>&nbsp;<span class="string" id="2415541">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="2415545">&amp;&amp;</span>&nbsp;<span class="ident" id="2415548"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415551">[</span><span class="ident" id="2415552"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415553">]</span>&nbsp;<span class="op" id="2415555">!=</span>&nbsp;<span class="string" id="2415558">&#39;:&#39;</span>&nbsp;<span class="op" id="2415562">&amp;&amp;</span>&nbsp;<span class="ident" id="2415565"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415568">[</span><span class="ident" id="2415569"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415570">]</span>&nbsp;<span class="op" id="2415572">!=</span>&nbsp;<span class="string" id="2415575">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2415579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415584"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415585">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415590">}</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415594">if</span>&nbsp;<span class="ident" id="2415597"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415598">+</span><span class="num" id="2415599">1</span>&nbsp;<span class="op" id="2415601">&gt;=</span>&nbsp;<span class="builtinfunc" id="2415604">len</span><span class="op" id="2415607">(</span><span class="ident" id="2415608"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415611">)</span>&nbsp;<span class="op" id="2415613">||</span>&nbsp;<span class="ident" id="2415616"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415619">[</span><span class="ident" id="2415620"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415621">]</span>&nbsp;<span class="op" id="2415623">!=</span>&nbsp;<span class="string" id="2415626">&#39;:&#39;</span>&nbsp;<span class="op" id="2415630">||</span>&nbsp;<span class="ident" id="2415633"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415636">[</span><span class="ident" id="2415637"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415638">+</span><span class="num" id="2415639">1</span><span class="op" id="2415640">]</span>&nbsp;<span class="op" id="2415642">!=</span>&nbsp;<span class="string" id="2415645">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2415649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415654">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415662">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415666">name</span>&nbsp;<span class="op" id="2415671">:=</span>&nbsp;<span class="builtintype" id="2415674">string</span><span class="op" id="2415680">(</span><span class="ident" id="2415681"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415684">[</span><span class="op" id="2415685">:</span><span class="ident" id="2415686"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415687">]</span><span class="op" id="2415688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415692"><a href="/reflect/type.go.html#2415253">tag</a></span>&nbsp;<span class="op" id="2415696">=</span>&nbsp;<span class="ident" id="2415698"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415701">[</span><span class="ident" id="2415702"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415703">+</span><span class="num" id="2415704">1</span><span class="op" id="2415705">:</span><span class="op" id="2415706">]</span><br>
<span class="lineno">785</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2415711">//&nbsp;scan&nbsp;quoted&nbsp;string&nbsp;to&nbsp;find&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415749"><a href="/reflect/type.go.html#2415336">i</a></span>&nbsp;<span class="op" id="2415751">=</span>&nbsp;<span class="num" id="2415753">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415757">for</span>&nbsp;<span class="ident" id="2415761"><a href="/reflect/type.go.html#2415336">i</a></span>&nbsp;<span class="op" id="2415763">&lt;</span>&nbsp;<span class="builtinfunc" id="2415765">len</span><span class="op" id="2415768">(</span><span class="ident" id="2415769"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415772">)</span>&nbsp;<span class="op" id="2415774">&amp;&amp;</span>&nbsp;<span class="ident" id="2415777"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415780">[</span><span class="ident" id="2415781"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415782">]</span>&nbsp;<span class="op" id="2415784">!=</span>&nbsp;<span class="string" id="2415787">&#39;&#34;&#39;</span>&nbsp;<span class="op" id="2415791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415796">if</span>&nbsp;<span class="ident" id="2415799"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415802">[</span><span class="ident" id="2415803"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415804">]</span>&nbsp;<span class="op" id="2415806">==</span>&nbsp;<span class="string" id="2415809">&#39;\\&#39;</span>&nbsp;<span class="op" id="2415814">{</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415820"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415821">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415832"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415833">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415838">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415842">if</span>&nbsp;<span class="ident" id="2415845"><a href="/reflect/type.go.html#2415336">i</a></span>&nbsp;<span class="op" id="2415847">&gt;=</span>&nbsp;<span class="builtinfunc" id="2415850">len</span><span class="op" id="2415853">(</span><span class="ident" id="2415854"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415857">)</span>&nbsp;<span class="op" id="2415859">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415864">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415872">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415876">qvalue</span>&nbsp;<span class="op" id="2415883">:=</span>&nbsp;<span class="builtintype" id="2415886">string</span><span class="op" id="2415892">(</span><span class="ident" id="2415893"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415896">[</span><span class="op" id="2415897">:</span><span class="ident" id="2415898"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415899">+</span><span class="num" id="2415900">1</span><span class="op" id="2415901">]</span><span class="op" id="2415902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415906"><a href="/reflect/type.go.html#2415253">tag</a></span>&nbsp;<span class="op" id="2415910">=</span>&nbsp;<span class="ident" id="2415912"><a href="/reflect/type.go.html#2415253">tag</a></span><span class="op" id="2415915">[</span><span class="ident" id="2415916"><a href="/reflect/type.go.html#2415336">i</a></span><span class="op" id="2415917">+</span><span class="num" id="2415918">1</span><span class="op" id="2415919">:</span><span class="op" id="2415920">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">800</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415925">if</span>&nbsp;<span class="ident" id="2415928"><a href="/reflect/type.go.html#2415272">key</a></span>&nbsp;<span class="op" id="2415932">==</span>&nbsp;<span class="ident" id="2415935"><a href="/reflect/type.go.html#2415666">name</a></span>&nbsp;<span class="op" id="2415940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2415945">value</span><span class="op" id="2415950">,</span>&nbsp;<span class="ident" id="2415952">_</span>&nbsp;<span class="op" id="2415954">:=</span>&nbsp;<span class="ident" id="2415957"><a href="/reflect/type.go.html#2394417">strconv</a></span><span class="op" id="2415964">.</span><span class="ident" id="2415965">Unquote</span><span class="op" id="2415972">(</span><span class="ident" id="2415973"><a href="/reflect/type.go.html#2415876">qvalue</a></span><span class="op" id="2415979">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2415984">return</span>&nbsp;<span class="ident" id="2415991"><a href="/reflect/type.go.html#2415945">value</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2415999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416002">}</span><br>
<span class="lineno">805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416005">return</span>&nbsp;<span class="string" id="2416012">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="2416015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2416018">//&nbsp;Field&nbsp;returns&nbsp;the&nbsp;i&#39;th&nbsp;struct&nbsp;field.</span><br>
<span class="lineno"></span><span class="keyword" id="2416058">func</span>&nbsp;<span class="op" id="2416063">(</span><span class="ident" id="2416064">t</span>&nbsp;<span class="op" id="2416066">*</span><span class="ident" id="2416067"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2416077">)</span>&nbsp;<span class="ident" id="2416079">Field</span><span class="op" id="2416084">(</span><span class="ident" id="2416085">i</span>&nbsp;<span class="builtintype" id="2416087">int</span><span class="op" id="2416090">)</span>&nbsp;<span class="op" id="2416092">(</span><span class="ident" id="2416093">f</span>&nbsp;<span class="ident" id="2416095"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2416106">)</span>&nbsp;<span class="op" id="2416108">{</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416111">if</span>&nbsp;<span class="ident" id="2416114"><a href="/reflect/type.go.html#2416085">i</a></span>&nbsp;<span class="op" id="2416116">&lt;</span>&nbsp;<span class="num" id="2416118">0</span>&nbsp;<span class="op" id="2416120">||</span>&nbsp;<span class="ident" id="2416123"><a href="/reflect/type.go.html#2416085">i</a></span>&nbsp;<span class="op" id="2416125">&gt;=</span>&nbsp;<span class="builtinfunc" id="2416128">len</span><span class="op" id="2416131">(</span><span class="ident" id="2416132"><a href="/reflect/type.go.html#2416064">t</a></span><span class="op" id="2416133">.</span><span class="ident" id="2416134">fields</span><span class="op" id="2416140">)</span>&nbsp;<span class="op" id="2416142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416146">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416154">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416157">p</span>&nbsp;<span class="op" id="2416159">:=</span>&nbsp;<span class="op" id="2416162">&amp;</span><span class="ident" id="2416163"><a href="/reflect/type.go.html#2416064">t</a></span><span class="op" id="2416164">.</span><span class="ident" id="2416165">fields</span><span class="op" id="2416171">[</span><span class="ident" id="2416172"><a href="/reflect/type.go.html#2416085">i</a></span><span class="op" id="2416173">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416176"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416177">.</span><span class="ident" id="2416178">Type</span>&nbsp;<span class="op" id="2416183">=</span>&nbsp;<span class="ident" id="2416185"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2416191">(</span><span class="ident" id="2416192"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416193">.</span><span class="ident" id="2416194">typ</span><span class="op" id="2416197">)</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416200">if</span>&nbsp;<span class="ident" id="2416203"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416204">.</span><span class="ident" id="2416205">name</span>&nbsp;<span class="op" id="2416210">!=</span>&nbsp;<span class="ident" id="2416213">nil</span>&nbsp;<span class="op" id="2416217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416221"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416222">.</span><span class="ident" id="2416223">Name</span>&nbsp;<span class="op" id="2416228">=</span>&nbsp;<span class="op" id="2416230">*</span><span class="ident" id="2416231"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416232">.</span><span class="ident" id="2416233">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416239">}</span>&nbsp;<span class="keyword" id="2416241">else</span>&nbsp;<span class="op" id="2416246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416250">t</span>&nbsp;<span class="op" id="2416252">:=</span>&nbsp;<span class="ident" id="2416255"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416256">.</span><span class="ident" id="2416257">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416264">if</span>&nbsp;<span class="ident" id="2416267"><a href="/reflect/type.go.html#2416250">t</a></span><span class="op" id="2416268">.</span><span class="ident" id="2416269">Kind</span><span class="op" id="2416273">(</span><span class="op" id="2416274">)</span>&nbsp;<span class="op" id="2416276">==</span>&nbsp;<span class="ident" id="2416279"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2416283">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416288"><a href="/reflect/type.go.html#2416250">t</a></span>&nbsp;<span class="op" id="2416290">=</span>&nbsp;<span class="ident" id="2416292"><a href="/reflect/type.go.html#2416250">t</a></span><span class="op" id="2416293">.</span><span class="ident" id="2416294">Elem</span><span class="op" id="2416298">(</span><span class="op" id="2416299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416307"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416308">.</span><span class="ident" id="2416309">Name</span>&nbsp;<span class="op" id="2416314">=</span>&nbsp;<span class="ident" id="2416316"><a href="/reflect/type.go.html#2416250">t</a></span><span class="op" id="2416317">.</span><span class="ident" id="2416318">Name</span><span class="op" id="2416322">(</span><span class="op" id="2416323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416327"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416328">.</span><span class="ident" id="2416329">Anonymous</span>&nbsp;<span class="op" id="2416339">=</span>&nbsp;<span class="ident" id="2416341">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416347">}</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416350">if</span>&nbsp;<span class="ident" id="2416353"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416354">.</span><span class="ident" id="2416355">pkgPath</span>&nbsp;<span class="op" id="2416363">!=</span>&nbsp;<span class="ident" id="2416366">nil</span>&nbsp;<span class="op" id="2416370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416374"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416375">.</span><span class="ident" id="2416376">PkgPath</span>&nbsp;<span class="op" id="2416384">=</span>&nbsp;<span class="op" id="2416386">*</span><span class="ident" id="2416387"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416388">.</span><span class="ident" id="2416389">pkgPath</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416401">if</span>&nbsp;<span class="ident" id="2416404"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416405">.</span><span class="ident" id="2416406">tag</span>&nbsp;<span class="op" id="2416410">!=</span>&nbsp;<span class="ident" id="2416413">nil</span>&nbsp;<span class="op" id="2416417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416421"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416422">.</span><span class="ident" id="2416423">Tag</span>&nbsp;<span class="op" id="2416427">=</span>&nbsp;<span class="ident" id="2416429"><a href="/reflect/type.go.html#2414998">StructTag</a></span><span class="op" id="2416438">(</span><span class="op" id="2416439">*</span><span class="ident" id="2416440"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416441">.</span><span class="ident" id="2416442">tag</span><span class="op" id="2416445">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2416448">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416451"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416452">.</span><span class="ident" id="2416453">Offset</span>&nbsp;<span class="op" id="2416460">=</span>&nbsp;<span class="ident" id="2416462"><a href="/reflect/type.go.html#2416157">p</a></span><span class="op" id="2416463">.</span><span class="ident" id="2416464">offset</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416473">//&nbsp;NOTE(rsc):&nbsp;This&nbsp;is&nbsp;the&nbsp;only&nbsp;allocation&nbsp;in&nbsp;the&nbsp;interface</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416533">//&nbsp;presented&nbsp;by&nbsp;a&nbsp;reflect.Type.&nbsp;&nbsp;It&nbsp;would&nbsp;be&nbsp;nice&nbsp;to&nbsp;avoid,</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416594">//&nbsp;at&nbsp;least&nbsp;in&nbsp;the&nbsp;common&nbsp;cases,&nbsp;but&nbsp;we&nbsp;need&nbsp;to&nbsp;make&nbsp;sure</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416653">//&nbsp;that&nbsp;misbehaving&nbsp;clients&nbsp;of&nbsp;reflect&nbsp;cannot&nbsp;affect&nbsp;other</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416713">//&nbsp;uses&nbsp;of&nbsp;reflect.&nbsp;&nbsp;One&nbsp;possibility&nbsp;is&nbsp;CL&nbsp;5371098,&nbsp;but&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416773">//&nbsp;postponed&nbsp;that&nbsp;ugliness&nbsp;until&nbsp;there&nbsp;is&nbsp;a&nbsp;demonstrated</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2416831">//&nbsp;need&nbsp;for&nbsp;the&nbsp;performance.&nbsp;&nbsp;This&nbsp;is&nbsp;issue&nbsp;2320.</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2416882"><a href="/reflect/type.go.html#2416093">f</a></span><span class="op" id="2416883">.</span><span class="ident" id="2416884">Index</span>&nbsp;<span class="op" id="2416890">=</span>&nbsp;<span class="op" id="2416892">[</span><span class="op" id="2416893">]</span><span class="builtintype" id="2416894">int</span><span class="op" id="2416897">{</span><span class="ident" id="2416898"><a href="/reflect/type.go.html#2416085">i</a></span><span class="op" id="2416899">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2416902">return</span><br>
<span class="lineno"></span><span class="op" id="2416909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2416912">//&nbsp;TODO(gri):&nbsp;Should&nbsp;there&nbsp;be&nbsp;an&nbsp;error/bool&nbsp;indicator&nbsp;if&nbsp;the&nbsp;index</span><br>
<span class="lineno">845</span><span class="comment" id="2416979">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is&nbsp;wrong&nbsp;for&nbsp;FieldByIndex?</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2417021">//&nbsp;FieldByIndex&nbsp;returns&nbsp;the&nbsp;nested&nbsp;field&nbsp;corresponding&nbsp;to&nbsp;index.</span><br>
<span class="lineno"></span><span class="keyword" id="2417086">func</span>&nbsp;<span class="op" id="2417091">(</span><span class="ident" id="2417092">t</span>&nbsp;<span class="op" id="2417094">*</span><span class="ident" id="2417095"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2417105">)</span>&nbsp;<span class="ident" id="2417107">FieldByIndex</span><span class="op" id="2417119">(</span><span class="ident" id="2417120">index</span>&nbsp;<span class="op" id="2417126">[</span><span class="op" id="2417127">]</span><span class="builtintype" id="2417128">int</span><span class="op" id="2417131">)</span>&nbsp;<span class="op" id="2417133">(</span><span class="ident" id="2417134">f</span>&nbsp;<span class="ident" id="2417136"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2417147">)</span>&nbsp;<span class="op" id="2417149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417152"><a href="/reflect/type.go.html#2417134">f</a></span><span class="op" id="2417153">.</span><span class="ident" id="2417154">Type</span>&nbsp;<span class="op" id="2417159">=</span>&nbsp;<span class="ident" id="2417161"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2417167">(</span><span class="op" id="2417168">&amp;</span><span class="ident" id="2417169"><a href="/reflect/type.go.html#2417092">t</a></span><span class="op" id="2417170">.</span><span class="ident" id="2417171">rtype</span><span class="op" id="2417176">)</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417179">for</span>&nbsp;<span class="ident" id="2417183">i</span><span class="op" id="2417184">,</span>&nbsp;<span class="ident" id="2417186">x</span>&nbsp;<span class="op" id="2417188">:=</span>&nbsp;<span class="keyword" id="2417191">range</span>&nbsp;<span class="ident" id="2417197"><a href="/reflect/type.go.html#2417120">index</a></span>&nbsp;<span class="op" id="2417203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417207">if</span>&nbsp;<span class="ident" id="2417210"><a href="/reflect/type.go.html#2417183">i</a></span>&nbsp;<span class="op" id="2417212">&gt;</span>&nbsp;<span class="num" id="2417214">0</span>&nbsp;<span class="op" id="2417216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417221">ft</span>&nbsp;<span class="op" id="2417224">:=</span>&nbsp;<span class="ident" id="2417227"><a href="/reflect/type.go.html#2417134">f</a></span><span class="op" id="2417228">.</span><span class="ident" id="2417229">Type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417237">if</span>&nbsp;<span class="ident" id="2417240"><a href="/reflect/type.go.html#2417221">ft</a></span><span class="op" id="2417242">.</span><span class="ident" id="2417243">Kind</span><span class="op" id="2417247">(</span><span class="op" id="2417248">)</span>&nbsp;<span class="op" id="2417250">==</span>&nbsp;<span class="ident" id="2417253"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2417257">&amp;&amp;</span>&nbsp;<span class="ident" id="2417260"><a href="/reflect/type.go.html#2417221">ft</a></span><span class="op" id="2417262">.</span><span class="ident" id="2417263">Elem</span><span class="op" id="2417267">(</span><span class="op" id="2417268">)</span><span class="op" id="2417269">.</span><span class="ident" id="2417270">Kind</span><span class="op" id="2417274">(</span><span class="op" id="2417275">)</span>&nbsp;<span class="op" id="2417277">==</span>&nbsp;<span class="ident" id="2417280"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2417287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417293"><a href="/reflect/type.go.html#2417221">ft</a></span>&nbsp;<span class="op" id="2417296">=</span>&nbsp;<span class="ident" id="2417298"><a href="/reflect/type.go.html#2417221">ft</a></span><span class="op" id="2417300">.</span><span class="ident" id="2417301">Elem</span><span class="op" id="2417305">(</span><span class="op" id="2417306">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2417311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417316"><a href="/reflect/type.go.html#2417134">f</a></span><span class="op" id="2417317">.</span><span class="ident" id="2417318">Type</span>&nbsp;<span class="op" id="2417323">=</span>&nbsp;<span class="ident" id="2417325"><a href="/reflect/type.go.html#2417221">ft</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2417330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417334"><a href="/reflect/type.go.html#2417134">f</a></span>&nbsp;<span class="op" id="2417336">=</span>&nbsp;<span class="ident" id="2417338"><a href="/reflect/type.go.html#2417134">f</a></span><span class="op" id="2417339">.</span><span class="ident" id="2417340">Type</span><span class="op" id="2417344">.</span><span class="ident" id="2417345">Field</span><span class="op" id="2417350">(</span><span class="ident" id="2417351"><a href="/reflect/type.go.html#2417186">x</a></span><span class="op" id="2417352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2417355">}</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2417358">return</span><br>
<span class="lineno"></span><span class="op" id="2417365">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2417368">//&nbsp;A&nbsp;fieldScan&nbsp;represents&nbsp;an&nbsp;item&nbsp;on&nbsp;the&nbsp;fieldByNameFunc&nbsp;scan&nbsp;work&nbsp;list.</span><br>
<span class="lineno"></span><span class="keyword" id="2417441">type</span>&nbsp;<span class="ident" id="2417446">fieldScan</span>&nbsp;<span class="keyword" id="2417456">struct</span>&nbsp;<span class="op" id="2417463">{</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417466">typ</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2417472">*</span><span class="ident" id="2417473"><a href="/reflect/type.go.html#2405994">structType</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2417485">index</span>&nbsp;<span class="op" id="2417491">[</span><span class="op" id="2417492">]</span><span class="builtintype" id="2417493">int</span><br>
<span class="lineno"></span><span class="op" id="2417497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2417500">//&nbsp;FieldByNameFunc&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;a&nbsp;name&nbsp;that&nbsp;satisfies&nbsp;the</span><br>
<span class="lineno">870</span><span class="comment" id="2417575">//&nbsp;match&nbsp;function&nbsp;and&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="2417643">func</span>&nbsp;<span class="op" id="2417648">(</span><span class="ident" id="2417649">t</span>&nbsp;<span class="op" id="2417651">*</span><span class="ident" id="2417652"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2417662">)</span>&nbsp;<span class="ident" id="2417664">FieldByNameFunc</span><span class="op" id="2417679">(</span><span class="ident" id="2417680">match</span>&nbsp;<span class="keyword" id="2417686">func</span><span class="op" id="2417690">(</span><span class="builtintype" id="2417691">string</span><span class="op" id="2417697">)</span>&nbsp;<span class="builtintype" id="2417699">bool</span><span class="op" id="2417703">)</span>&nbsp;<span class="op" id="2417705">(</span><span class="ident" id="2417706">result</span>&nbsp;<span class="ident" id="2417713"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2417724">,</span>&nbsp;<span class="ident" id="2417726">ok</span>&nbsp;<span class="builtintype" id="2417729">bool</span><span class="op" id="2417733">)</span>&nbsp;<span class="op" id="2417735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2417738">//&nbsp;This&nbsp;uses&nbsp;the&nbsp;same&nbsp;condition&nbsp;that&nbsp;the&nbsp;Go&nbsp;language&nbsp;does:&nbsp;there&nbsp;must&nbsp;be&nbsp;a&nbsp;unique&nbsp;instance</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2417830">//&nbsp;of&nbsp;the&nbsp;match&nbsp;at&nbsp;a&nbsp;given&nbsp;depth&nbsp;level.&nbsp;If&nbsp;there&nbsp;are&nbsp;multiple&nbsp;instances&nbsp;of&nbsp;a&nbsp;match&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2417921">//&nbsp;same&nbsp;depth,&nbsp;they&nbsp;annihilate&nbsp;each&nbsp;other&nbsp;and&nbsp;inhibit&nbsp;any&nbsp;possible&nbsp;match&nbsp;at&nbsp;a&nbsp;lower&nbsp;level.</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418013">//&nbsp;The&nbsp;algorithm&nbsp;is&nbsp;breadth&nbsp;first&nbsp;search,&nbsp;one&nbsp;depth&nbsp;level&nbsp;at&nbsp;a&nbsp;time.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418084">//&nbsp;The&nbsp;current&nbsp;and&nbsp;next&nbsp;slices&nbsp;are&nbsp;work&nbsp;queues:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418133">//&nbsp;current&nbsp;lists&nbsp;the&nbsp;fields&nbsp;to&nbsp;visit&nbsp;on&nbsp;this&nbsp;depth&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418192">//&nbsp;and&nbsp;next&nbsp;lists&nbsp;the&nbsp;fields&nbsp;on&nbsp;the&nbsp;next&nbsp;lower&nbsp;level.</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418247">current</span>&nbsp;<span class="op" id="2418255">:=</span>&nbsp;<span class="op" id="2418258">[</span><span class="op" id="2418259">]</span><span class="ident" id="2418260"><a href="/reflect/type.go.html#2417446">fieldScan</a></span><span class="op" id="2418269">{</span><span class="op" id="2418270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2418273">next</span>&nbsp;<span class="op" id="2418278">:=</span>&nbsp;<span class="op" id="2418281">[</span><span class="op" id="2418282">]</span><span class="ident" id="2418283"><a href="/reflect/type.go.html#2417446">fieldScan</a></span><span class="op" id="2418292">{</span><span class="op" id="2418293">{</span><span class="ident" id="2418294">typ</span><span class="op" id="2418297">:</span>&nbsp;<span class="ident" id="2418299"><a href="/reflect/type.go.html#2417649">t</a></span><span class="op" id="2418300">}</span><span class="op" id="2418301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418305">//&nbsp;nextCount&nbsp;records&nbsp;the&nbsp;number&nbsp;of&nbsp;times&nbsp;an&nbsp;embedded&nbsp;type&nbsp;has&nbsp;been</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418373">//&nbsp;encountered&nbsp;and&nbsp;considered&nbsp;for&nbsp;queueing&nbsp;in&nbsp;the&nbsp;&#39;next&#39;&nbsp;slice.</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418438">//&nbsp;We&nbsp;only&nbsp;queue&nbsp;the&nbsp;first&nbsp;one,&nbsp;but&nbsp;we&nbsp;increment&nbsp;the&nbsp;count&nbsp;on&nbsp;each.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418507">//&nbsp;If&nbsp;a&nbsp;struct&nbsp;type&nbsp;T&nbsp;can&nbsp;be&nbsp;reached&nbsp;more&nbsp;than&nbsp;once&nbsp;at&nbsp;a&nbsp;given&nbsp;depth&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418584">//&nbsp;then&nbsp;it&nbsp;annihilates&nbsp;itself&nbsp;and&nbsp;need&nbsp;not&nbsp;be&nbsp;considered&nbsp;at&nbsp;all&nbsp;when&nbsp;we</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418657">//&nbsp;process&nbsp;that&nbsp;next&nbsp;depth&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2418692">var</span>&nbsp;<span class="ident" id="2418696">nextCount</span>&nbsp;<span class="keyword" id="2418706">map</span><span class="op" id="2418709">[</span><span class="op" id="2418710">*</span><span class="ident" id="2418711"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2418721">]</span><span class="builtintype" id="2418722">int</span><br>
<span class="lineno">890</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418728">//&nbsp;visited&nbsp;records&nbsp;the&nbsp;structs&nbsp;that&nbsp;have&nbsp;been&nbsp;considered&nbsp;already.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418795">//&nbsp;Embedded&nbsp;pointer&nbsp;fields&nbsp;can&nbsp;create&nbsp;cycles&nbsp;in&nbsp;the&nbsp;graph&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418857">//&nbsp;reachable&nbsp;embedded&nbsp;types;&nbsp;visited&nbsp;avoids&nbsp;following&nbsp;those&nbsp;cycles.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418926">//&nbsp;It&nbsp;also&nbsp;avoids&nbsp;duplicated&nbsp;effort:&nbsp;if&nbsp;we&nbsp;didn&#39;t&nbsp;find&nbsp;the&nbsp;field&nbsp;in&nbsp;an</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2418998">//&nbsp;embedded&nbsp;type&nbsp;T&nbsp;at&nbsp;level&nbsp;2,&nbsp;we&nbsp;won&#39;t&nbsp;find&nbsp;it&nbsp;in&nbsp;one&nbsp;at&nbsp;level&nbsp;4&nbsp;either.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419073">visited</span>&nbsp;<span class="op" id="2419081">:=</span>&nbsp;<span class="keyword" id="2419084">map</span><span class="op" id="2419087">[</span><span class="op" id="2419088">*</span><span class="ident" id="2419089"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2419099">]</span><span class="builtintype" id="2419100">bool</span><span class="op" id="2419104">{</span><span class="op" id="2419105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419109">for</span>&nbsp;<span class="builtinfunc" id="2419113">len</span><span class="op" id="2419116">(</span><span class="ident" id="2419117"><a href="/reflect/type.go.html#2418273">next</a></span><span class="op" id="2419121">)</span>&nbsp;<span class="op" id="2419123">&gt;</span>&nbsp;<span class="num" id="2419125">0</span>&nbsp;<span class="op" id="2419127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419131"><a href="/reflect/type.go.html#2418247">current</a></span><span class="op" id="2419138">,</span>&nbsp;<span class="ident" id="2419140"><a href="/reflect/type.go.html#2418273">next</a></span>&nbsp;<span class="op" id="2419145">=</span>&nbsp;<span class="ident" id="2419147"><a href="/reflect/type.go.html#2418273">next</a></span><span class="op" id="2419151">,</span>&nbsp;<span class="ident" id="2419153"><a href="/reflect/type.go.html#2418247">current</a></span><span class="op" id="2419160">[</span><span class="op" id="2419161">:</span><span class="num" id="2419162">0</span><span class="op" id="2419163">]</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419167">count</span>&nbsp;<span class="op" id="2419173">:=</span>&nbsp;<span class="ident" id="2419176"><a href="/reflect/type.go.html#2418696">nextCount</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419188"><a href="/reflect/type.go.html#2418696">nextCount</a></span>&nbsp;<span class="op" id="2419198">=</span>&nbsp;<span class="ident" id="2419200">nil</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419207">//&nbsp;Process&nbsp;all&nbsp;the&nbsp;fields&nbsp;at&nbsp;this&nbsp;depth,&nbsp;now&nbsp;listed&nbsp;in&nbsp;&#39;current&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419275">//&nbsp;The&nbsp;loop&nbsp;queues&nbsp;embedded&nbsp;fields&nbsp;found&nbsp;in&nbsp;&#39;next&#39;,&nbsp;for&nbsp;processing&nbsp;during&nbsp;the&nbsp;next</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419360">//&nbsp;iteration.&nbsp;The&nbsp;multiplicity&nbsp;of&nbsp;the&nbsp;&#39;current&#39;&nbsp;field&nbsp;counts&nbsp;is&nbsp;recorded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419435">//&nbsp;in&nbsp;&#39;count&#39;;&nbsp;the&nbsp;multiplicity&nbsp;of&nbsp;the&nbsp;&#39;next&#39;&nbsp;field&nbsp;counts&nbsp;is&nbsp;recorded&nbsp;in&nbsp;&#39;nextCount&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419524">for</span>&nbsp;<span class="ident" id="2419528">_</span><span class="op" id="2419529">,</span>&nbsp;<span class="ident" id="2419531">scan</span>&nbsp;<span class="op" id="2419536">:=</span>&nbsp;<span class="keyword" id="2419539">range</span>&nbsp;<span class="ident" id="2419545"><a href="/reflect/type.go.html#2418247">current</a></span>&nbsp;<span class="op" id="2419553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419558">t</span>&nbsp;<span class="op" id="2419560">:=</span>&nbsp;<span class="ident" id="2419563"><a href="/reflect/type.go.html#2419531">scan</a></span><span class="op" id="2419567">.</span><span class="ident" id="2419568">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419575">if</span>&nbsp;<span class="ident" id="2419578"><a href="/reflect/type.go.html#2419073">visited</a></span><span class="op" id="2419585">[</span><span class="ident" id="2419586"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2419587">]</span>&nbsp;<span class="op" id="2419589">{</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419595">//&nbsp;We&#39;ve&nbsp;looked&nbsp;through&nbsp;this&nbsp;type&nbsp;before,&nbsp;at&nbsp;a&nbsp;higher&nbsp;level.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419660">//&nbsp;That&nbsp;higher&nbsp;level&nbsp;would&nbsp;shadow&nbsp;the&nbsp;lower&nbsp;level&nbsp;we&#39;re&nbsp;now&nbsp;at,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419728">//&nbsp;so&nbsp;this&nbsp;one&nbsp;can&#39;t&nbsp;be&nbsp;useful&nbsp;to&nbsp;us.&nbsp;Ignore&nbsp;it.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419781">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419793">}</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419798"><a href="/reflect/type.go.html#2419073">visited</a></span><span class="op" id="2419805">[</span><span class="ident" id="2419806"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2419807">]</span>&nbsp;<span class="op" id="2419809">=</span>&nbsp;<span class="ident" id="2419811">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419819">for</span>&nbsp;<span class="ident" id="2419823">i</span>&nbsp;<span class="op" id="2419825">:=</span>&nbsp;<span class="keyword" id="2419828">range</span>&nbsp;<span class="ident" id="2419834"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2419835">.</span><span class="ident" id="2419836">fields</span>&nbsp;<span class="op" id="2419843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419849">f</span>&nbsp;<span class="op" id="2419851">:=</span>&nbsp;<span class="op" id="2419854">&amp;</span><span class="ident" id="2419855"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2419856">.</span><span class="ident" id="2419857">fields</span><span class="op" id="2419863">[</span><span class="ident" id="2419864"><a href="/reflect/type.go.html#2419823">i</a></span><span class="op" id="2419865">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2419871">//&nbsp;Find&nbsp;name&nbsp;and&nbsp;type&nbsp;for&nbsp;field&nbsp;f.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419910">var</span>&nbsp;<span class="ident" id="2419914">fname</span>&nbsp;<span class="builtintype" id="2419920">string</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419931">var</span>&nbsp;<span class="ident" id="2419935">ntyp</span>&nbsp;<span class="op" id="2419940">*</span><span class="ident" id="2419941"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2419951">if</span>&nbsp;<span class="ident" id="2419954"><a href="/reflect/type.go.html#2419849">f</a></span><span class="op" id="2419955">.</span><span class="ident" id="2419956">name</span>&nbsp;<span class="op" id="2419961">!=</span>&nbsp;<span class="ident" id="2419964">nil</span>&nbsp;<span class="op" id="2419968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2419975"><a href="/reflect/type.go.html#2419914">fname</a></span>&nbsp;<span class="op" id="2419981">=</span>&nbsp;<span class="op" id="2419983">*</span><span class="ident" id="2419984"><a href="/reflect/type.go.html#2419849">f</a></span><span class="op" id="2419985">.</span><span class="ident" id="2419986">name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2419995">}</span>&nbsp;<span class="keyword" id="2419997">else</span>&nbsp;<span class="op" id="2420002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420009">//&nbsp;Anonymous&nbsp;field&nbsp;of&nbsp;type&nbsp;T&nbsp;or&nbsp;*T.</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420050">//&nbsp;Name&nbsp;taken&nbsp;from&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420080"><a href="/reflect/type.go.html#2419935">ntyp</a></span>&nbsp;<span class="op" id="2420085">=</span>&nbsp;<span class="ident" id="2420087"><a href="/reflect/type.go.html#2419849">f</a></span><span class="op" id="2420088">.</span><span class="ident" id="2420089">typ</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420098">if</span>&nbsp;<span class="ident" id="2420101"><a href="/reflect/type.go.html#2419935">ntyp</a></span><span class="op" id="2420105">.</span><span class="ident" id="2420106">Kind</span><span class="op" id="2420110">(</span><span class="op" id="2420111">)</span>&nbsp;<span class="op" id="2420113">==</span>&nbsp;<span class="ident" id="2420116"><a href="/reflect/type.go.html#2401385">Ptr</a></span>&nbsp;<span class="op" id="2420120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420128"><a href="/reflect/type.go.html#2419935">ntyp</a></span>&nbsp;<span class="op" id="2420133">=</span>&nbsp;<span class="ident" id="2420135"><a href="/reflect/type.go.html#2419935">ntyp</a></span><span class="op" id="2420139">.</span><span class="ident" id="2420140">Elem</span><span class="op" id="2420144">(</span><span class="op" id="2420145">)</span><span class="op" id="2420146">.</span><span class="ident" id="2420147">common</span><span class="op" id="2420153">(</span><span class="op" id="2420154">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420161">}</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420168"><a href="/reflect/type.go.html#2419914">fname</a></span>&nbsp;<span class="op" id="2420174">=</span>&nbsp;<span class="ident" id="2420176"><a href="/reflect/type.go.html#2419935">ntyp</a></span><span class="op" id="2420180">.</span><span class="ident" id="2420181">Name</span><span class="op" id="2420185">(</span><span class="op" id="2420186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420199">//&nbsp;Does&nbsp;it&nbsp;match?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420221">if</span>&nbsp;<span class="ident" id="2420224"><a href="/reflect/type.go.html#2417680">match</a></span><span class="op" id="2420229">(</span><span class="ident" id="2420230"><a href="/reflect/type.go.html#2419914">fname</a></span><span class="op" id="2420235">)</span>&nbsp;<span class="op" id="2420237">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420244">//&nbsp;Potential&nbsp;match</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420268">if</span>&nbsp;<span class="ident" id="2420271"><a href="/reflect/type.go.html#2419167">count</a></span><span class="op" id="2420276">[</span><span class="ident" id="2420277"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2420278">]</span>&nbsp;<span class="op" id="2420280">&gt;</span>&nbsp;<span class="num" id="2420282">1</span>&nbsp;<span class="op" id="2420284">||</span>&nbsp;<span class="ident" id="2420287"><a href="/reflect/type.go.html#2417726">ok</a></span>&nbsp;<span class="op" id="2420290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420298">//&nbsp;Name&nbsp;appeared&nbsp;multiple&nbsp;times&nbsp;at&nbsp;this&nbsp;level:&nbsp;annihilate.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420363">return</span>&nbsp;<span class="ident" id="2420370"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2420381">{</span><span class="op" id="2420382">}</span><span class="op" id="2420383">,</span>&nbsp;<span class="ident" id="2420385">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420396">}</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420403"><a href="/reflect/type.go.html#2417706">result</a></span>&nbsp;<span class="op" id="2420410">=</span>&nbsp;<span class="ident" id="2420412"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2420413">.</span><span class="ident" id="2420414">Field</span><span class="op" id="2420419">(</span><span class="ident" id="2420420"><a href="/reflect/type.go.html#2419823">i</a></span><span class="op" id="2420421">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420428"><a href="/reflect/type.go.html#2417706">result</a></span><span class="op" id="2420434">.</span><span class="ident" id="2420435">Index</span>&nbsp;<span class="op" id="2420441">=</span>&nbsp;<span class="ident" id="2420443">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420452"><a href="/reflect/type.go.html#2417706">result</a></span><span class="op" id="2420458">.</span><span class="ident" id="2420459">Index</span>&nbsp;<span class="op" id="2420465">=</span>&nbsp;<span class="builtinfunc" id="2420467">append</span><span class="op" id="2420473">(</span><span class="ident" id="2420474"><a href="/reflect/type.go.html#2417706">result</a></span><span class="op" id="2420480">.</span><span class="ident" id="2420481">Index</span><span class="op" id="2420486">,</span>&nbsp;<span class="ident" id="2420488"><a href="/reflect/type.go.html#2419531">scan</a></span><span class="op" id="2420492">.</span><span class="ident" id="2420493">index</span><span class="op" id="2420498">...</span><span class="op" id="2420501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420508"><a href="/reflect/type.go.html#2417706">result</a></span><span class="op" id="2420514">.</span><span class="ident" id="2420515">Index</span>&nbsp;<span class="op" id="2420521">=</span>&nbsp;<span class="builtinfunc" id="2420523">append</span><span class="op" id="2420529">(</span><span class="ident" id="2420530"><a href="/reflect/type.go.html#2417706">result</a></span><span class="op" id="2420536">.</span><span class="ident" id="2420537">Index</span><span class="op" id="2420542">,</span>&nbsp;<span class="ident" id="2420544"><a href="/reflect/type.go.html#2419823">i</a></span><span class="op" id="2420545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420552"><a href="/reflect/type.go.html#2417726">ok</a></span>&nbsp;<span class="op" id="2420555">=</span>&nbsp;<span class="ident" id="2420557">true</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420567">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420587">//&nbsp;Queue&nbsp;embedded&nbsp;struct&nbsp;fields&nbsp;for&nbsp;processing&nbsp;with&nbsp;next&nbsp;level,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420655">//&nbsp;but&nbsp;only&nbsp;if&nbsp;we&nbsp;haven&#39;t&nbsp;seen&nbsp;a&nbsp;match&nbsp;yet&nbsp;at&nbsp;this&nbsp;level&nbsp;and&nbsp;only</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2420725">//&nbsp;if&nbsp;the&nbsp;embedded&nbsp;types&nbsp;haven&#39;t&nbsp;already&nbsp;been&nbsp;queued.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420783">if</span>&nbsp;<span class="ident" id="2420786"><a href="/reflect/type.go.html#2417726">ok</a></span>&nbsp;<span class="op" id="2420789">||</span>&nbsp;<span class="ident" id="2420792"><a href="/reflect/type.go.html#2419935">ntyp</a></span>&nbsp;<span class="op" id="2420797">==</span>&nbsp;<span class="ident" id="2420800">nil</span>&nbsp;<span class="op" id="2420804">||</span>&nbsp;<span class="ident" id="2420807"><a href="/reflect/type.go.html#2419935">ntyp</a></span><span class="op" id="2420811">.</span><span class="ident" id="2420812">Kind</span><span class="op" id="2420816">(</span><span class="op" id="2420817">)</span>&nbsp;<span class="op" id="2420819">!=</span>&nbsp;<span class="ident" id="2420822"><a href="/reflect/type.go.html#2401405">Struct</a></span>&nbsp;<span class="op" id="2420829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420836">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2420849">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420855">styp</span>&nbsp;<span class="op" id="2420860">:=</span>&nbsp;<span class="op" id="2420863">(</span><span class="op" id="2420864">*</span><span class="ident" id="2420865"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2420875">)</span><span class="op" id="2420876">(</span><span class="ident" id="2420877"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2420883">.</span><span class="ident" id="2420884">Pointer</span><span class="op" id="2420891">(</span><span class="ident" id="2420892"><a href="/reflect/type.go.html#2419935">ntyp</a></span><span class="op" id="2420896">)</span><span class="op" id="2420897">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420903">if</span>&nbsp;<span class="ident" id="2420906"><a href="/reflect/type.go.html#2418696">nextCount</a></span><span class="op" id="2420915">[</span><span class="ident" id="2420916"><a href="/reflect/type.go.html#2420855">styp</a></span><span class="op" id="2420920">]</span>&nbsp;<span class="op" id="2420922">&gt;</span>&nbsp;<span class="num" id="2420924">0</span>&nbsp;<span class="op" id="2420926">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2420933"><a href="/reflect/type.go.html#2418696">nextCount</a></span><span class="op" id="2420942">[</span><span class="ident" id="2420943"><a href="/reflect/type.go.html#2420855">styp</a></span><span class="op" id="2420947">]</span>&nbsp;<span class="op" id="2420949">=</span>&nbsp;<span class="num" id="2420951">2</span>&nbsp;<span class="comment" id="2420953">//&nbsp;exact&nbsp;multiple&nbsp;doesn&#39;t&nbsp;matter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2420991">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421010">if</span>&nbsp;<span class="ident" id="2421013"><a href="/reflect/type.go.html#2418696">nextCount</a></span>&nbsp;<span class="op" id="2421023">==</span>&nbsp;<span class="ident" id="2421026">nil</span>&nbsp;<span class="op" id="2421030">{</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421037"><a href="/reflect/type.go.html#2418696">nextCount</a></span>&nbsp;<span class="op" id="2421047">=</span>&nbsp;<span class="keyword" id="2421049">map</span><span class="op" id="2421052">[</span><span class="op" id="2421053">*</span><span class="ident" id="2421054"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2421064">]</span><span class="builtintype" id="2421065">int</span><span class="op" id="2421068">{</span><span class="op" id="2421069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421081"><a href="/reflect/type.go.html#2418696">nextCount</a></span><span class="op" id="2421090">[</span><span class="ident" id="2421091"><a href="/reflect/type.go.html#2420855">styp</a></span><span class="op" id="2421095">]</span>&nbsp;<span class="op" id="2421097">=</span>&nbsp;<span class="num" id="2421099">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421105">if</span>&nbsp;<span class="ident" id="2421108"><a href="/reflect/type.go.html#2419167">count</a></span><span class="op" id="2421113">[</span><span class="ident" id="2421114"><a href="/reflect/type.go.html#2419558">t</a></span><span class="op" id="2421115">]</span>&nbsp;<span class="op" id="2421117">&gt;</span>&nbsp;<span class="num" id="2421119">1</span>&nbsp;<span class="op" id="2421121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421128"><a href="/reflect/type.go.html#2418696">nextCount</a></span><span class="op" id="2421137">[</span><span class="ident" id="2421138"><a href="/reflect/type.go.html#2420855">styp</a></span><span class="op" id="2421142">]</span>&nbsp;<span class="op" id="2421144">=</span>&nbsp;<span class="num" id="2421146">2</span>&nbsp;<span class="comment" id="2421148">//&nbsp;exact&nbsp;multiple&nbsp;doesn&#39;t&nbsp;matter</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421191">var</span>&nbsp;<span class="ident" id="2421195">index</span>&nbsp;<span class="op" id="2421201">[</span><span class="op" id="2421202">]</span><span class="builtintype" id="2421203">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421211"><a href="/reflect/type.go.html#2421195">index</a></span>&nbsp;<span class="op" id="2421217">=</span>&nbsp;<span class="builtinfunc" id="2421219">append</span><span class="op" id="2421225">(</span><span class="ident" id="2421226"><a href="/reflect/type.go.html#2421195">index</a></span><span class="op" id="2421231">,</span>&nbsp;<span class="ident" id="2421233"><a href="/reflect/type.go.html#2419531">scan</a></span><span class="op" id="2421237">.</span><span class="ident" id="2421238">index</span><span class="op" id="2421243">...</span><span class="op" id="2421246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421252"><a href="/reflect/type.go.html#2421195">index</a></span>&nbsp;<span class="op" id="2421258">=</span>&nbsp;<span class="builtinfunc" id="2421260">append</span><span class="op" id="2421266">(</span><span class="ident" id="2421267"><a href="/reflect/type.go.html#2421195">index</a></span><span class="op" id="2421272">,</span>&nbsp;<span class="ident" id="2421274"><a href="/reflect/type.go.html#2419823">i</a></span><span class="op" id="2421275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421281"><a href="/reflect/type.go.html#2418273">next</a></span>&nbsp;<span class="op" id="2421286">=</span>&nbsp;<span class="builtinfunc" id="2421288">append</span><span class="op" id="2421294">(</span><span class="ident" id="2421295"><a href="/reflect/type.go.html#2418273">next</a></span><span class="op" id="2421299">,</span>&nbsp;<span class="ident" id="2421301"><a href="/reflect/type.go.html#2417446">fieldScan</a></span><span class="op" id="2421310">{</span><span class="ident" id="2421311"><a href="/reflect/type.go.html#2420855">styp</a></span><span class="op" id="2421315">,</span>&nbsp;<span class="ident" id="2421317"><a href="/reflect/type.go.html#2421195">index</a></span><span class="op" id="2421322">}</span><span class="op" id="2421323">)</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421328">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421336">if</span>&nbsp;<span class="ident" id="2421339"><a href="/reflect/type.go.html#2417726">ok</a></span>&nbsp;<span class="op" id="2421342">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421347">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421355">}</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421361">return</span><br>
<span class="lineno"></span><span class="op" id="2421368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2421371">//&nbsp;FieldByName&nbsp;returns&nbsp;the&nbsp;struct&nbsp;field&nbsp;with&nbsp;the&nbsp;given&nbsp;name</span><br>
<span class="lineno">980</span><span class="comment" id="2421431">//&nbsp;and&nbsp;a&nbsp;boolean&nbsp;to&nbsp;indicate&nbsp;if&nbsp;the&nbsp;field&nbsp;was&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="2421484">func</span>&nbsp;<span class="op" id="2421489">(</span><span class="ident" id="2421490">t</span>&nbsp;<span class="op" id="2421492">*</span><span class="ident" id="2421493"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2421503">)</span>&nbsp;<span class="ident" id="2421505">FieldByName</span><span class="op" id="2421516">(</span><span class="ident" id="2421517">name</span>&nbsp;<span class="builtintype" id="2421522">string</span><span class="op" id="2421528">)</span>&nbsp;<span class="op" id="2421530">(</span><span class="ident" id="2421531">f</span>&nbsp;<span class="ident" id="2421533"><a href="/reflect/type.go.html#2414077">StructField</a></span><span class="op" id="2421544">,</span>&nbsp;<span class="ident" id="2421546">present</span>&nbsp;<span class="builtintype" id="2421554">bool</span><span class="op" id="2421558">)</span>&nbsp;<span class="op" id="2421560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2421563">//&nbsp;Quick&nbsp;check&nbsp;for&nbsp;top-level&nbsp;name,&nbsp;or&nbsp;struct&nbsp;without&nbsp;anonymous&nbsp;fields.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421635">hasAnon</span>&nbsp;<span class="op" id="2421643">:=</span>&nbsp;<span class="ident" id="2421646">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421653">if</span>&nbsp;<span class="ident" id="2421656"><a href="/reflect/type.go.html#2421517">name</a></span>&nbsp;<span class="op" id="2421661">!=</span>&nbsp;<span class="string" id="2421664">&#34;&#34;</span>&nbsp;<span class="op" id="2421667">{</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421671">for</span>&nbsp;<span class="ident" id="2421675">i</span>&nbsp;<span class="op" id="2421677">:=</span>&nbsp;<span class="keyword" id="2421680">range</span>&nbsp;<span class="ident" id="2421686"><a href="/reflect/type.go.html#2421490">t</a></span><span class="op" id="2421687">.</span><span class="ident" id="2421688">fields</span>&nbsp;<span class="op" id="2421695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421700">tf</span>&nbsp;<span class="op" id="2421703">:=</span>&nbsp;<span class="op" id="2421706">&amp;</span><span class="ident" id="2421707"><a href="/reflect/type.go.html#2421490">t</a></span><span class="op" id="2421708">.</span><span class="ident" id="2421709">fields</span><span class="op" id="2421715">[</span><span class="ident" id="2421716"><a href="/reflect/type.go.html#2421675">i</a></span><span class="op" id="2421717">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421722">if</span>&nbsp;<span class="ident" id="2421725"><a href="/reflect/type.go.html#2421700">tf</a></span><span class="op" id="2421727">.</span><span class="ident" id="2421728">name</span>&nbsp;<span class="op" id="2421733">==</span>&nbsp;<span class="ident" id="2421736">nil</span>&nbsp;<span class="op" id="2421740">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2421746"><a href="/reflect/type.go.html#2421635">hasAnon</a></span>&nbsp;<span class="op" id="2421754">=</span>&nbsp;<span class="ident" id="2421756">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421765">continue</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421782">if</span>&nbsp;<span class="op" id="2421785">*</span><span class="ident" id="2421786"><a href="/reflect/type.go.html#2421700">tf</a></span><span class="op" id="2421788">.</span><span class="ident" id="2421789">name</span>&nbsp;<span class="op" id="2421794">==</span>&nbsp;<span class="ident" id="2421797"><a href="/reflect/type.go.html#2421517">name</a></span>&nbsp;<span class="op" id="2421802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421808">return</span>&nbsp;<span class="ident" id="2421815"><a href="/reflect/type.go.html#2421490">t</a></span><span class="op" id="2421816">.</span><span class="ident" id="2421817">Field</span><span class="op" id="2421822">(</span><span class="ident" id="2421823"><a href="/reflect/type.go.html#2421675">i</a></span><span class="op" id="2421824">)</span><span class="op" id="2421825">,</span>&nbsp;<span class="ident" id="2421827">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421839">}</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421845">if</span>&nbsp;<span class="op" id="2421848">!</span><span class="ident" id="2421849"><a href="/reflect/type.go.html#2421635">hasAnon</a></span>&nbsp;<span class="op" id="2421857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421861">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2421869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2421872">return</span>&nbsp;<span class="ident" id="2421879"><a href="/reflect/type.go.html#2421490">t</a></span><span class="op" id="2421880">.</span><span class="ident" id="2421881">FieldByNameFunc</span><span class="op" id="2421896">(</span><span class="keyword" id="2421897">func</span><span class="op" id="2421901">(</span><span class="ident" id="2421902">s</span>&nbsp;<span class="builtintype" id="2421904">string</span><span class="op" id="2421910">)</span>&nbsp;<span class="builtintype" id="2421912">bool</span>&nbsp;<span class="op" id="2421917">{</span>&nbsp;<span class="keyword" id="2421919">return</span>&nbsp;<span class="ident" id="2421926"><a href="/reflect/type.go.html#2421902">s</a></span>&nbsp;<span class="op" id="2421928">==</span>&nbsp;<span class="ident" id="2421931"><a href="/reflect/type.go.html#2421517">name</a></span>&nbsp;<span class="op" id="2421936">}</span><span class="op" id="2421937">)</span><br>
<span class="lineno">1000</span><span class="op" id="2421939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2421942">//&nbsp;TypeOf&nbsp;returns&nbsp;the&nbsp;reflection&nbsp;Type&nbsp;of&nbsp;the&nbsp;value&nbsp;in&nbsp;the&nbsp;interface{}.</span><br>
<span class="lineno"></span><span class="comment" id="2422013">//&nbsp;TypeOf(nil)&nbsp;returns&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2422041">func</span>&nbsp;<span class="ident" id="2422046">TypeOf</span><span class="op" id="2422052">(</span><span class="ident" id="2422053">i</span>&nbsp;<span class="keyword" id="2422055">interface</span><span class="op" id="2422064">{</span><span class="op" id="2422065">}</span><span class="op" id="2422066">)</span>&nbsp;<span class="ident" id="2422068"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2422073">{</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422076">eface</span>&nbsp;<span class="op" id="2422082">:=</span>&nbsp;<span class="op" id="2422085">*</span><span class="op" id="2422086">(</span><span class="op" id="2422087">*</span><span class="ident" id="2422088"><a href="/reflect/value.go.html#2450885">emptyInterface</a></span><span class="op" id="2422102">)</span><span class="op" id="2422103">(</span><span class="ident" id="2422104"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2422110">.</span><span class="ident" id="2422111">Pointer</span><span class="op" id="2422118">(</span><span class="op" id="2422119">&amp;</span><span class="ident" id="2422120"><a href="/reflect/type.go.html#2422053">i</a></span><span class="op" id="2422121">)</span><span class="op" id="2422122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422125">return</span>&nbsp;<span class="ident" id="2422132"><a href="/reflect/type.go.html#2441231">toType</a></span><span class="op" id="2422138">(</span><span class="ident" id="2422139"><a href="/reflect/type.go.html#2422076">eface</a></span><span class="op" id="2422144">.</span><span class="ident" id="2422145">typ</span><span class="op" id="2422148">)</span><br>
<span class="lineno"></span><span class="op" id="2422150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2422153">//&nbsp;ptrMap&nbsp;is&nbsp;the&nbsp;cache&nbsp;for&nbsp;PtrTo.</span><br>
<span class="lineno">1010</span><span class="keyword" id="2422187">var</span>&nbsp;<span class="ident" id="2422191">ptrMap</span>&nbsp;<span class="keyword" id="2422198">struct</span>&nbsp;<span class="op" id="2422205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422208"><a href="/reflect/type.go.html#2394428">sync</a></span><span class="op" id="2422212">.</span><span class="ident" id="2422213">RWMutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422222">m</span>&nbsp;<span class="keyword" id="2422224">map</span><span class="op" id="2422227">[</span><span class="op" id="2422228">*</span><span class="ident" id="2422229"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2422234">]</span><span class="op" id="2422235">*</span><span class="ident" id="2422236"><a href="/reflect/type.go.html#2405451">ptrType</a></span><br>
<span class="lineno"></span><span class="op" id="2422244">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1015</span><span class="comment" id="2422247">//&nbsp;PtrTo&nbsp;returns&nbsp;the&nbsp;pointer&nbsp;type&nbsp;with&nbsp;element&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2422297">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;type&nbsp;Foo,&nbsp;PtrTo(t)&nbsp;represents&nbsp;*Foo.</span><br>
<span class="lineno"></span><span class="keyword" id="2422365">func</span>&nbsp;<span class="ident" id="2422370">PtrTo</span><span class="op" id="2422375">(</span><span class="ident" id="2422376">t</span>&nbsp;<span class="ident" id="2422378"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2422382">)</span>&nbsp;<span class="ident" id="2422384"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2422389">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422392">return</span>&nbsp;<span class="ident" id="2422399"><a href="/reflect/type.go.html#2422376">t</a></span><span class="op" id="2422400">.</span><span class="op" id="2422401">(</span><span class="op" id="2422402">*</span><span class="ident" id="2422403"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2422408">)</span><span class="op" id="2422409">.</span><span class="ident" id="2422410">ptrTo</span><span class="op" id="2422415">(</span><span class="op" id="2422416">)</span><br>
<span class="lineno"></span><span class="op" id="2422418">}</span><br>
<span class="lineno">1020</span><br>
<span class="lineno"></span><span class="keyword" id="2422421">func</span>&nbsp;<span class="op" id="2422426">(</span><span class="ident" id="2422427">t</span>&nbsp;<span class="op" id="2422429">*</span><span class="ident" id="2422430"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2422435">)</span>&nbsp;<span class="ident" id="2422437">ptrTo</span><span class="op" id="2422442">(</span><span class="op" id="2422443">)</span>&nbsp;<span class="op" id="2422445">*</span><span class="ident" id="2422446"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="op" id="2422452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422455">if</span>&nbsp;<span class="ident" id="2422458">p</span>&nbsp;<span class="op" id="2422460">:=</span>&nbsp;<span class="ident" id="2422463"><a href="/reflect/type.go.html#2422427">t</a></span><span class="op" id="2422464">.</span><span class="ident" id="2422465">ptrToThis</span><span class="op" id="2422474">;</span>&nbsp;<span class="ident" id="2422476"><a href="/reflect/type.go.html#2422458">p</a></span>&nbsp;<span class="op" id="2422478">!=</span>&nbsp;<span class="ident" id="2422481">nil</span>&nbsp;<span class="op" id="2422485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422489">return</span>&nbsp;<span class="ident" id="2422496"><a href="/reflect/type.go.html#2422458">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2422499">}</span><br>
<span class="lineno">1025</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2422503">//&nbsp;Otherwise,&nbsp;synthesize&nbsp;one.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2422534">//&nbsp;This&nbsp;only&nbsp;happens&nbsp;for&nbsp;pointers&nbsp;with&nbsp;no&nbsp;methods.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2422586">//&nbsp;We&nbsp;keep&nbsp;the&nbsp;mapping&nbsp;in&nbsp;a&nbsp;map&nbsp;on&nbsp;the&nbsp;side,&nbsp;because</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2422640">//&nbsp;this&nbsp;operation&nbsp;is&nbsp;rare&nbsp;and&nbsp;a&nbsp;separate&nbsp;map&nbsp;lets&nbsp;us&nbsp;keep</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2422699">//&nbsp;the&nbsp;type&nbsp;structures&nbsp;in&nbsp;read-only&nbsp;memory.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422744"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422750">.</span><span class="ident" id="2422751">RLock</span><span class="op" id="2422756">(</span><span class="op" id="2422757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422760">if</span>&nbsp;<span class="ident" id="2422763">m</span>&nbsp;<span class="op" id="2422765">:=</span>&nbsp;<span class="ident" id="2422768"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422774">.</span><span class="ident" id="2422775">m</span><span class="op" id="2422776">;</span>&nbsp;<span class="ident" id="2422778"><a href="/reflect/type.go.html#2422763">m</a></span>&nbsp;<span class="op" id="2422780">!=</span>&nbsp;<span class="ident" id="2422783">nil</span>&nbsp;<span class="op" id="2422787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422791">if</span>&nbsp;<span class="ident" id="2422794">p</span>&nbsp;<span class="op" id="2422796">:=</span>&nbsp;<span class="ident" id="2422799"><a href="/reflect/type.go.html#2422763">m</a></span><span class="op" id="2422800">[</span><span class="ident" id="2422801"><a href="/reflect/type.go.html#2422427">t</a></span><span class="op" id="2422802">]</span><span class="op" id="2422803">;</span>&nbsp;<span class="ident" id="2422805"><a href="/reflect/type.go.html#2422794">p</a></span>&nbsp;<span class="op" id="2422807">!=</span>&nbsp;<span class="ident" id="2422810">nil</span>&nbsp;<span class="op" id="2422814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422819"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422825">.</span><span class="ident" id="2422826">RUnlock</span><span class="op" id="2422833">(</span><span class="op" id="2422834">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422839">return</span>&nbsp;<span class="op" id="2422846">&amp;</span><span class="ident" id="2422847"><a href="/reflect/type.go.html#2422794">p</a></span><span class="op" id="2422848">.</span><span class="ident" id="2422849">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2422857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2422860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422863"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422869">.</span><span class="ident" id="2422870">RUnlock</span><span class="op" id="2422877">(</span><span class="op" id="2422878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422881"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422887">.</span><span class="ident" id="2422888">Lock</span><span class="op" id="2422892">(</span><span class="op" id="2422893">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422896">if</span>&nbsp;<span class="ident" id="2422899"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422905">.</span><span class="ident" id="2422906">m</span>&nbsp;<span class="op" id="2422908">==</span>&nbsp;<span class="ident" id="2422911">nil</span>&nbsp;<span class="op" id="2422915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422919"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422925">.</span><span class="ident" id="2422926">m</span>&nbsp;<span class="op" id="2422928">=</span>&nbsp;<span class="builtinfunc" id="2422930">make</span><span class="op" id="2422934">(</span><span class="keyword" id="2422935">map</span><span class="op" id="2422938">[</span><span class="op" id="2422939">*</span><span class="ident" id="2422940"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2422945">]</span><span class="op" id="2422946">*</span><span class="ident" id="2422947"><a href="/reflect/type.go.html#2405451">ptrType</a></span><span class="op" id="2422954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2422957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2422960">p</span>&nbsp;<span class="op" id="2422962">:=</span>&nbsp;<span class="ident" id="2422965"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2422971">.</span><span class="ident" id="2422972">m</span><span class="op" id="2422973">[</span><span class="ident" id="2422974"><a href="/reflect/type.go.html#2422427">t</a></span><span class="op" id="2422975">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2422978">if</span>&nbsp;<span class="ident" id="2422981"><a href="/reflect/type.go.html#2422960">p</a></span>&nbsp;<span class="op" id="2422983">!=</span>&nbsp;<span class="ident" id="2422986">nil</span>&nbsp;<span class="op" id="2422990">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2422994">//&nbsp;some&nbsp;other&nbsp;goroutine&nbsp;won&nbsp;the&nbsp;race&nbsp;and&nbsp;created&nbsp;it</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423048"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2423054">.</span><span class="ident" id="2423055">Unlock</span><span class="op" id="2423061">(</span><span class="op" id="2423062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2423066">return</span>&nbsp;<span class="op" id="2423073">&amp;</span><span class="ident" id="2423074"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423075">.</span><span class="ident" id="2423076">rtype</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2423083">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423087">//&nbsp;Create&nbsp;a&nbsp;new&nbsp;ptrType&nbsp;starting&nbsp;with&nbsp;the&nbsp;description</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423142">//&nbsp;of&nbsp;an&nbsp;*unsafe.Pointer.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423169"><a href="/reflect/type.go.html#2422960">p</a></span>&nbsp;<span class="op" id="2423171">=</span>&nbsp;<span class="builtinfunc" id="2423173">new</span><span class="op" id="2423176">(</span><span class="ident" id="2423177"><a href="/reflect/type.go.html#2405451">ptrType</a></span><span class="op" id="2423184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2423187">var</span>&nbsp;<span class="ident" id="2423191">iptr</span>&nbsp;<span class="keyword" id="2423196">interface</span><span class="op" id="2423205">{</span><span class="op" id="2423206">}</span>&nbsp;<span class="op" id="2423208">=</span>&nbsp;<span class="op" id="2423210">(</span><span class="op" id="2423211">*</span><span class="ident" id="2423212"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2423218">.</span><span class="ident" id="2423219">Pointer</span><span class="op" id="2423226">)</span><span class="op" id="2423227">(</span><span class="ident" id="2423228">nil</span><span class="op" id="2423231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423234">prototype</span>&nbsp;<span class="op" id="2423244">:=</span>&nbsp;<span class="op" id="2423247">*</span><span class="op" id="2423248">(</span><span class="op" id="2423249">*</span><span class="op" id="2423250">*</span><span class="ident" id="2423251"><a href="/reflect/type.go.html#2405451">ptrType</a></span><span class="op" id="2423258">)</span><span class="op" id="2423259">(</span><span class="ident" id="2423260"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2423266">.</span><span class="ident" id="2423267">Pointer</span><span class="op" id="2423274">(</span><span class="op" id="2423275">&amp;</span><span class="ident" id="2423276"><a href="/reflect/type.go.html#2423191">iptr</a></span><span class="op" id="2423280">)</span><span class="op" id="2423281">)</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2423284">*</span><span class="ident" id="2423285"><a href="/reflect/type.go.html#2422960">p</a></span>&nbsp;<span class="op" id="2423287">=</span>&nbsp;<span class="op" id="2423289">*</span><span class="ident" id="2423290"><a href="/reflect/type.go.html#2423234">prototype</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423302">s</span>&nbsp;<span class="op" id="2423304">:=</span>&nbsp;<span class="string" id="2423307">&#34;*&#34;</span>&nbsp;<span class="op" id="2423311">+</span>&nbsp;<span class="op" id="2423313">*</span><span class="ident" id="2423314"><a href="/reflect/type.go.html#2422427">t</a></span><span class="op" id="2423315">.</span><span class="builtintype" id="2423316">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423324"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423325">.</span><span class="builtintype" id="2423326">string</span>&nbsp;<span class="op" id="2423333">=</span>&nbsp;<span class="op" id="2423335">&amp;</span><span class="ident" id="2423336"><a href="/reflect/type.go.html#2423302">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423340">//&nbsp;For&nbsp;the&nbsp;type&nbsp;structures&nbsp;linked&nbsp;into&nbsp;the&nbsp;binary,&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423396">//&nbsp;compiler&nbsp;provides&nbsp;a&nbsp;good&nbsp;hash&nbsp;of&nbsp;the&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423445">//&nbsp;Create&nbsp;a&nbsp;good&nbsp;hash&nbsp;for&nbsp;the&nbsp;new&nbsp;string&nbsp;by&nbsp;using</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423496">//&nbsp;the&nbsp;FNV-1&nbsp;hash&#39;s&nbsp;mixing&nbsp;function&nbsp;to&nbsp;combine&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2423548">//&nbsp;old&nbsp;hash&nbsp;and&nbsp;the&nbsp;new&nbsp;&#34;*&#34;.</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423578"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423579">.</span><span class="ident" id="2423580">hash</span>&nbsp;<span class="op" id="2423585">=</span>&nbsp;<span class="ident" id="2423587"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2423591">(</span><span class="ident" id="2423592"><a href="/reflect/type.go.html#2422427">t</a></span><span class="op" id="2423593">.</span><span class="ident" id="2423594">hash</span><span class="op" id="2423598">,</span>&nbsp;<span class="string" id="2423600">&#39;*&#39;</span><span class="op" id="2423603">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423607"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423608">.</span><span class="ident" id="2423609">uncommonType</span>&nbsp;<span class="op" id="2423622">=</span>&nbsp;<span class="ident" id="2423624">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423629"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423630">.</span><span class="ident" id="2423631">ptrToThis</span>&nbsp;<span class="op" id="2423641">=</span>&nbsp;<span class="ident" id="2423643">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423648"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423649">.</span><span class="ident" id="2423650">zero</span>&nbsp;<span class="op" id="2423655">=</span>&nbsp;<span class="ident" id="2423657"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2423663">.</span><span class="ident" id="2423664">Pointer</span><span class="op" id="2423671">(</span><span class="op" id="2423672">&amp;</span><span class="builtinfunc" id="2423673">make</span><span class="op" id="2423677">(</span><span class="op" id="2423678">[</span><span class="op" id="2423679">]</span><span class="builtintype" id="2423680">byte</span><span class="op" id="2423684">,</span>&nbsp;<span class="ident" id="2423686"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423687">.</span><span class="ident" id="2423688">size</span><span class="op" id="2423692">)</span><span class="op" id="2423693">[</span><span class="num" id="2423694">0</span><span class="op" id="2423695">]</span><span class="op" id="2423696">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423699"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423700">.</span><span class="ident" id="2423701">elem</span>&nbsp;<span class="op" id="2423706">=</span>&nbsp;<span class="ident" id="2423708"><a href="/reflect/type.go.html#2422427">t</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423712"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2423718">.</span><span class="ident" id="2423719">m</span><span class="op" id="2423720">[</span><span class="ident" id="2423721"><a href="/reflect/type.go.html#2422427">t</a></span><span class="op" id="2423722">]</span>&nbsp;<span class="op" id="2423724">=</span>&nbsp;<span class="ident" id="2423726"><a href="/reflect/type.go.html#2422960">p</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423729"><a href="/reflect/type.go.html#2422191">ptrMap</a></span><span class="op" id="2423735">.</span><span class="ident" id="2423736">Unlock</span><span class="op" id="2423742">(</span><span class="op" id="2423743">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2423746">return</span>&nbsp;<span class="op" id="2423753">&amp;</span><span class="ident" id="2423754"><a href="/reflect/type.go.html#2422960">p</a></span><span class="op" id="2423755">.</span><span class="ident" id="2423756">rtype</span><br>
<span class="lineno">1075</span><span class="op" id="2423762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2423765">//&nbsp;fnv1&nbsp;incorporates&nbsp;the&nbsp;list&nbsp;of&nbsp;bytes&nbsp;into&nbsp;the&nbsp;hash&nbsp;x&nbsp;using&nbsp;the&nbsp;FNV-1&nbsp;hash&nbsp;function.</span><br>
<span class="lineno"></span><span class="keyword" id="2423851">func</span>&nbsp;<span class="ident" id="2423856">fnv1</span><span class="op" id="2423860">(</span><span class="ident" id="2423861">x</span>&nbsp;<span class="builtintype" id="2423863">uint32</span><span class="op" id="2423869">,</span>&nbsp;<span class="ident" id="2423871">list</span>&nbsp;<span class="op" id="2423876">...</span><span class="builtintype" id="2423879">byte</span><span class="op" id="2423883">)</span>&nbsp;<span class="builtintype" id="2423885">uint32</span>&nbsp;<span class="op" id="2423892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2423895">for</span>&nbsp;<span class="ident" id="2423899">_</span><span class="op" id="2423900">,</span>&nbsp;<span class="ident" id="2423902">b</span>&nbsp;<span class="op" id="2423904">:=</span>&nbsp;<span class="keyword" id="2423907">range</span>&nbsp;<span class="ident" id="2423913"><a href="/reflect/type.go.html#2423871">list</a></span>&nbsp;<span class="op" id="2423918">{</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2423922"><a href="/reflect/type.go.html#2423861">x</a></span>&nbsp;<span class="op" id="2423924">=</span>&nbsp;<span class="ident" id="2423926"><a href="/reflect/type.go.html#2423861">x</a></span><span class="op" id="2423927">*</span><span class="num" id="2423928">16777619</span>&nbsp;<span class="op" id="2423937">^</span>&nbsp;<span class="builtintype" id="2423939">uint32</span><span class="op" id="2423945">(</span><span class="ident" id="2423946"><a href="/reflect/type.go.html#2423902">b</a></span><span class="op" id="2423947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2423950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2423953">return</span>&nbsp;<span class="ident" id="2423960"><a href="/reflect/type.go.html#2423861">x</a></span><br>
<span class="lineno"></span><span class="op" id="2423962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1085</span><span class="keyword" id="2423965">func</span>&nbsp;<span class="op" id="2423970">(</span><span class="ident" id="2423971">t</span>&nbsp;<span class="op" id="2423973">*</span><span class="ident" id="2423974"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2423979">)</span>&nbsp;<span class="ident" id="2423981">Implements</span><span class="op" id="2423991">(</span><span class="ident" id="2423992">u</span>&nbsp;<span class="ident" id="2423994"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2423998">)</span>&nbsp;<span class="builtintype" id="2424000">bool</span>&nbsp;<span class="op" id="2424005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424008">if</span>&nbsp;<span class="ident" id="2424011"><a href="/reflect/type.go.html#2423992">u</a></span>&nbsp;<span class="op" id="2424013">==</span>&nbsp;<span class="ident" id="2424016">nil</span>&nbsp;<span class="op" id="2424020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2424024">panic</span><span class="op" id="2424029">(</span><span class="string" id="2424030">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.Implements&#34;</span><span class="op" id="2424075">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2424078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424081">if</span>&nbsp;<span class="ident" id="2424084"><a href="/reflect/type.go.html#2423992">u</a></span><span class="op" id="2424085">.</span><span class="ident" id="2424086">Kind</span><span class="op" id="2424090">(</span><span class="op" id="2424091">)</span>&nbsp;<span class="op" id="2424093">!=</span>&nbsp;<span class="ident" id="2424096"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2424106">{</span><br>
<span class="lineno">1090</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2424110">panic</span><span class="op" id="2424115">(</span><span class="string" id="2424116">&#34;reflect:&nbsp;non-interface&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.Implements&#34;</span><span class="op" id="2424171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2424174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424177">return</span>&nbsp;<span class="ident" id="2424184"><a href="/reflect/type.go.html#2424743">implements</a></span><span class="op" id="2424194">(</span><span class="ident" id="2424195"><a href="/reflect/type.go.html#2423992">u</a></span><span class="op" id="2424196">.</span><span class="op" id="2424197">(</span><span class="op" id="2424198">*</span><span class="ident" id="2424199"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424204">)</span><span class="op" id="2424205">,</span>&nbsp;<span class="ident" id="2424207"><a href="/reflect/type.go.html#2423971">t</a></span><span class="op" id="2424208">)</span><br>
<span class="lineno"></span><span class="op" id="2424210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1095</span><span class="keyword" id="2424213">func</span>&nbsp;<span class="op" id="2424218">(</span><span class="ident" id="2424219">t</span>&nbsp;<span class="op" id="2424221">*</span><span class="ident" id="2424222"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424227">)</span>&nbsp;<span class="ident" id="2424229">AssignableTo</span><span class="op" id="2424241">(</span><span class="ident" id="2424242">u</span>&nbsp;<span class="ident" id="2424244"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2424248">)</span>&nbsp;<span class="builtintype" id="2424250">bool</span>&nbsp;<span class="op" id="2424255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424258">if</span>&nbsp;<span class="ident" id="2424261"><a href="/reflect/type.go.html#2424242">u</a></span>&nbsp;<span class="op" id="2424263">==</span>&nbsp;<span class="ident" id="2424266">nil</span>&nbsp;<span class="op" id="2424270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2424274">panic</span><span class="op" id="2424279">(</span><span class="string" id="2424280">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.AssignableTo&#34;</span><span class="op" id="2424327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2424330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2424333">uu</span>&nbsp;<span class="op" id="2424336">:=</span>&nbsp;<span class="ident" id="2424339"><a href="/reflect/type.go.html#2424242">u</a></span><span class="op" id="2424340">.</span><span class="op" id="2424341">(</span><span class="op" id="2424342">*</span><span class="ident" id="2424343"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424348">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424351">return</span>&nbsp;<span class="ident" id="2424358"><a href="/reflect/type.go.html#2426499">directlyAssignable</a></span><span class="op" id="2424376">(</span><span class="ident" id="2424377"><a href="/reflect/type.go.html#2424333">uu</a></span><span class="op" id="2424379">,</span>&nbsp;<span class="ident" id="2424381"><a href="/reflect/type.go.html#2424219">t</a></span><span class="op" id="2424382">)</span>&nbsp;<span class="op" id="2424384">||</span>&nbsp;<span class="ident" id="2424387"><a href="/reflect/type.go.html#2424743">implements</a></span><span class="op" id="2424397">(</span><span class="ident" id="2424398"><a href="/reflect/type.go.html#2424333">uu</a></span><span class="op" id="2424400">,</span>&nbsp;<span class="ident" id="2424402"><a href="/reflect/type.go.html#2424219">t</a></span><span class="op" id="2424403">)</span><br>
<span class="lineno"></span><span class="op" id="2424405">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2424408">func</span>&nbsp;<span class="op" id="2424413">(</span><span class="ident" id="2424414">t</span>&nbsp;<span class="op" id="2424416">*</span><span class="ident" id="2424417"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424422">)</span>&nbsp;<span class="ident" id="2424424">ConvertibleTo</span><span class="op" id="2424437">(</span><span class="ident" id="2424438">u</span>&nbsp;<span class="ident" id="2424440"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2424444">)</span>&nbsp;<span class="builtintype" id="2424446">bool</span>&nbsp;<span class="op" id="2424451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424454">if</span>&nbsp;<span class="ident" id="2424457"><a href="/reflect/type.go.html#2424438">u</a></span>&nbsp;<span class="op" id="2424459">==</span>&nbsp;<span class="ident" id="2424462">nil</span>&nbsp;<span class="op" id="2424466">{</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2424470">panic</span><span class="op" id="2424475">(</span><span class="string" id="2424476">&#34;reflect:&nbsp;nil&nbsp;type&nbsp;passed&nbsp;to&nbsp;Type.ConvertibleTo&#34;</span><span class="op" id="2424524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2424527">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2424530">uu</span>&nbsp;<span class="op" id="2424533">:=</span>&nbsp;<span class="ident" id="2424536"><a href="/reflect/type.go.html#2424438">u</a></span><span class="op" id="2424537">.</span><span class="op" id="2424538">(</span><span class="op" id="2424539">*</span><span class="ident" id="2424540"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424548">return</span>&nbsp;<span class="ident" id="2424555"><a href="/reflect/value.go.html#2508881">convertOp</a></span><span class="op" id="2424564">(</span><span class="ident" id="2424565"><a href="/reflect/type.go.html#2424530">uu</a></span><span class="op" id="2424567">,</span>&nbsp;<span class="ident" id="2424569"><a href="/reflect/type.go.html#2424414">t</a></span><span class="op" id="2424570">)</span>&nbsp;<span class="op" id="2424572">!=</span>&nbsp;<span class="ident" id="2424575">nil</span><br>
<span class="lineno"></span><span class="op" id="2424579">}</span><br>
<span class="lineno">1110</span><br>
<span class="lineno"></span><span class="keyword" id="2424582">func</span>&nbsp;<span class="op" id="2424587">(</span><span class="ident" id="2424588">t</span>&nbsp;<span class="op" id="2424590">*</span><span class="ident" id="2424591"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424596">)</span>&nbsp;<span class="ident" id="2424598">Comparable</span><span class="op" id="2424608">(</span><span class="op" id="2424609">)</span>&nbsp;<span class="builtintype" id="2424611">bool</span>&nbsp;<span class="op" id="2424616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424619">return</span>&nbsp;<span class="ident" id="2424626"><a href="/reflect/type.go.html#2424588">t</a></span><span class="op" id="2424627">.</span><span class="ident" id="2424628">alg</span>&nbsp;<span class="op" id="2424632">!=</span>&nbsp;<span class="ident" id="2424635">nil</span>&nbsp;<span class="op" id="2424639">&amp;&amp;</span>&nbsp;<span class="ident" id="2424642"><a href="/reflect/type.go.html#2424588">t</a></span><span class="op" id="2424643">.</span><span class="ident" id="2424644">alg</span><span class="op" id="2424647">.</span><span class="ident" id="2424648">equal</span>&nbsp;<span class="op" id="2424654">!=</span>&nbsp;<span class="ident" id="2424657">nil</span><br>
<span class="lineno"></span><span class="op" id="2424661">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span><span class="comment" id="2424664">//&nbsp;implements&nbsp;returns&nbsp;true&nbsp;if&nbsp;the&nbsp;type&nbsp;V&nbsp;implements&nbsp;the&nbsp;interface&nbsp;type&nbsp;T.</span><br>
<span class="lineno"></span><span class="keyword" id="2424738">func</span>&nbsp;<span class="ident" id="2424743">implements</span><span class="op" id="2424753">(</span><span class="ident" id="2424754">T</span><span class="op" id="2424755">,</span>&nbsp;<span class="ident" id="2424757">V</span>&nbsp;<span class="op" id="2424759">*</span><span class="ident" id="2424760"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2424765">)</span>&nbsp;<span class="builtintype" id="2424767">bool</span>&nbsp;<span class="op" id="2424772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424775">if</span>&nbsp;<span class="ident" id="2424778"><a href="/reflect/type.go.html#2424754">T</a></span><span class="op" id="2424779">.</span><span class="ident" id="2424780">Kind</span><span class="op" id="2424784">(</span><span class="op" id="2424785">)</span>&nbsp;<span class="op" id="2424787">!=</span>&nbsp;<span class="ident" id="2424790"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2424800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424804">return</span>&nbsp;<span class="ident" id="2424811">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2424818">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2424821">t</span>&nbsp;<span class="op" id="2424823">:=</span>&nbsp;<span class="op" id="2424826">(</span><span class="op" id="2424827">*</span><span class="ident" id="2424828"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2424841">)</span><span class="op" id="2424842">(</span><span class="ident" id="2424843"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2424849">.</span><span class="ident" id="2424850">Pointer</span><span class="op" id="2424857">(</span><span class="ident" id="2424858"><a href="/reflect/type.go.html#2424754">T</a></span><span class="op" id="2424859">)</span><span class="op" id="2424860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424863">if</span>&nbsp;<span class="builtinfunc" id="2424866">len</span><span class="op" id="2424869">(</span><span class="ident" id="2424870"><a href="/reflect/type.go.html#2424821">t</a></span><span class="op" id="2424871">.</span><span class="ident" id="2424872">methods</span><span class="op" id="2424879">)</span>&nbsp;<span class="op" id="2424881">==</span>&nbsp;<span class="num" id="2424884">0</span>&nbsp;<span class="op" id="2424886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2424890">return</span>&nbsp;<span class="ident" id="2424897">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2424903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2424907">//&nbsp;The&nbsp;same&nbsp;algorithm&nbsp;applies&nbsp;in&nbsp;both&nbsp;cases,&nbsp;but&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2424961">//&nbsp;method&nbsp;tables&nbsp;for&nbsp;an&nbsp;interface&nbsp;type&nbsp;and&nbsp;a&nbsp;concrete&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425021">//&nbsp;are&nbsp;different,&nbsp;so&nbsp;the&nbsp;code&nbsp;is&nbsp;duplicated.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425067">//&nbsp;In&nbsp;both&nbsp;cases&nbsp;the&nbsp;algorithm&nbsp;is&nbsp;a&nbsp;linear&nbsp;scan&nbsp;over&nbsp;the&nbsp;two</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425129">//&nbsp;lists&nbsp;-&nbsp;T&#39;s&nbsp;methods&nbsp;and&nbsp;V&#39;s&nbsp;methods&nbsp;-&nbsp;simultaneously.</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425187">//&nbsp;Since&nbsp;method&nbsp;tables&nbsp;are&nbsp;stored&nbsp;in&nbsp;a&nbsp;unique&nbsp;sorted&nbsp;order</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425247">//&nbsp;(alphabetical,&nbsp;with&nbsp;no&nbsp;duplicate&nbsp;method&nbsp;names),&nbsp;the&nbsp;scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425308">//&nbsp;through&nbsp;V&#39;s&nbsp;methods&nbsp;must&nbsp;hit&nbsp;a&nbsp;match&nbsp;for&nbsp;each&nbsp;of&nbsp;T&#39;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425365">//&nbsp;methods&nbsp;along&nbsp;the&nbsp;way,&nbsp;or&nbsp;else&nbsp;V&nbsp;does&nbsp;not&nbsp;implement&nbsp;T.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425424">//&nbsp;This&nbsp;lets&nbsp;us&nbsp;run&nbsp;the&nbsp;scan&nbsp;in&nbsp;overall&nbsp;linear&nbsp;time&nbsp;instead&nbsp;of</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425488">//&nbsp;the&nbsp;quadratic&nbsp;time&nbsp;&nbsp;a&nbsp;naive&nbsp;search&nbsp;would&nbsp;require.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2425542">//&nbsp;See&nbsp;also&nbsp;../runtime/iface.c.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425575">if</span>&nbsp;<span class="ident" id="2425578"><a href="/reflect/type.go.html#2424757">V</a></span><span class="op" id="2425579">.</span><span class="ident" id="2425580">Kind</span><span class="op" id="2425584">(</span><span class="op" id="2425585">)</span>&nbsp;<span class="op" id="2425587">==</span>&nbsp;<span class="ident" id="2425590"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2425600">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2425604">v</span>&nbsp;<span class="op" id="2425606">:=</span>&nbsp;<span class="op" id="2425609">(</span><span class="op" id="2425610">*</span><span class="ident" id="2425611"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2425624">)</span><span class="op" id="2425625">(</span><span class="ident" id="2425626"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2425632">.</span><span class="ident" id="2425633">Pointer</span><span class="op" id="2425640">(</span><span class="ident" id="2425641"><a href="/reflect/type.go.html#2424757">V</a></span><span class="op" id="2425642">)</span><span class="op" id="2425643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2425647">i</span>&nbsp;<span class="op" id="2425649">:=</span>&nbsp;<span class="num" id="2425652">0</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425656">for</span>&nbsp;<span class="ident" id="2425660">j</span>&nbsp;<span class="op" id="2425662">:=</span>&nbsp;<span class="num" id="2425665">0</span><span class="op" id="2425666">;</span>&nbsp;<span class="ident" id="2425668"><a href="/reflect/type.go.html#2425660">j</a></span>&nbsp;<span class="op" id="2425670">&lt;</span>&nbsp;<span class="builtinfunc" id="2425672">len</span><span class="op" id="2425675">(</span><span class="ident" id="2425676"><a href="/reflect/type.go.html#2425604">v</a></span><span class="op" id="2425677">.</span><span class="ident" id="2425678">methods</span><span class="op" id="2425685">)</span><span class="op" id="2425686">;</span>&nbsp;<span class="ident" id="2425688"><a href="/reflect/type.go.html#2425660">j</a></span><span class="op" id="2425689">++</span>&nbsp;<span class="op" id="2425692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2425697">tm</span>&nbsp;<span class="op" id="2425700">:=</span>&nbsp;<span class="op" id="2425703">&amp;</span><span class="ident" id="2425704"><a href="/reflect/type.go.html#2424821">t</a></span><span class="op" id="2425705">.</span><span class="ident" id="2425706">methods</span><span class="op" id="2425713">[</span><span class="ident" id="2425714"><a href="/reflect/type.go.html#2425647">i</a></span><span class="op" id="2425715">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2425720">vm</span>&nbsp;<span class="op" id="2425723">:=</span>&nbsp;<span class="op" id="2425726">&amp;</span><span class="ident" id="2425727"><a href="/reflect/type.go.html#2425604">v</a></span><span class="op" id="2425728">.</span><span class="ident" id="2425729">methods</span><span class="op" id="2425736">[</span><span class="ident" id="2425737"><a href="/reflect/type.go.html#2425660">j</a></span><span class="op" id="2425738">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425743">if</span>&nbsp;<span class="ident" id="2425746"><a href="/reflect/type.go.html#2425720">vm</a></span><span class="op" id="2425748">.</span><span class="ident" id="2425749">name</span>&nbsp;<span class="op" id="2425754">==</span>&nbsp;<span class="ident" id="2425757"><a href="/reflect/type.go.html#2425697">tm</a></span><span class="op" id="2425759">.</span><span class="ident" id="2425760">name</span>&nbsp;<span class="op" id="2425765">&amp;&amp;</span>&nbsp;<span class="ident" id="2425768"><a href="/reflect/type.go.html#2425720">vm</a></span><span class="op" id="2425770">.</span><span class="ident" id="2425771">pkgPath</span>&nbsp;<span class="op" id="2425779">==</span>&nbsp;<span class="ident" id="2425782"><a href="/reflect/type.go.html#2425697">tm</a></span><span class="op" id="2425784">.</span><span class="ident" id="2425785">pkgPath</span>&nbsp;<span class="op" id="2425793">&amp;&amp;</span>&nbsp;<span class="ident" id="2425796"><a href="/reflect/type.go.html#2425720">vm</a></span><span class="op" id="2425798">.</span><span class="ident" id="2425799">typ</span>&nbsp;<span class="op" id="2425803">==</span>&nbsp;<span class="ident" id="2425806"><a href="/reflect/type.go.html#2425697">tm</a></span><span class="op" id="2425808">.</span><span class="ident" id="2425809">typ</span>&nbsp;<span class="op" id="2425813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425819">if</span>&nbsp;<span class="ident" id="2425822"><a href="/reflect/type.go.html#2425647">i</a></span><span class="op" id="2425823">++</span><span class="op" id="2425825">;</span>&nbsp;<span class="ident" id="2425827"><a href="/reflect/type.go.html#2425647">i</a></span>&nbsp;<span class="op" id="2425829">&gt;=</span>&nbsp;<span class="builtinfunc" id="2425832">len</span><span class="op" id="2425835">(</span><span class="ident" id="2425836"><a href="/reflect/type.go.html#2424821">t</a></span><span class="op" id="2425837">.</span><span class="ident" id="2425838">methods</span><span class="op" id="2425845">)</span>&nbsp;<span class="op" id="2425847">{</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425854">return</span>&nbsp;<span class="ident" id="2425861">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2425870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2425875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2425879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425883">return</span>&nbsp;<span class="ident" id="2425890">false</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2425897">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2425901">v</span>&nbsp;<span class="op" id="2425903">:=</span>&nbsp;<span class="ident" id="2425906"><a href="/reflect/type.go.html#2424757">V</a></span><span class="op" id="2425907">.</span><span class="ident" id="2425908">uncommon</span><span class="op" id="2425916">(</span><span class="op" id="2425917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425920">if</span>&nbsp;<span class="ident" id="2425923"><a href="/reflect/type.go.html#2425901">v</a></span>&nbsp;<span class="op" id="2425925">==</span>&nbsp;<span class="ident" id="2425928">nil</span>&nbsp;<span class="op" id="2425932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425936">return</span>&nbsp;<span class="ident" id="2425943">false</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2425950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2425953">i</span>&nbsp;<span class="op" id="2425955">:=</span>&nbsp;<span class="num" id="2425958">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2425961">for</span>&nbsp;<span class="ident" id="2425965">j</span>&nbsp;<span class="op" id="2425967">:=</span>&nbsp;<span class="num" id="2425970">0</span><span class="op" id="2425971">;</span>&nbsp;<span class="ident" id="2425973"><a href="/reflect/type.go.html#2425965">j</a></span>&nbsp;<span class="op" id="2425975">&lt;</span>&nbsp;<span class="builtinfunc" id="2425977">len</span><span class="op" id="2425980">(</span><span class="ident" id="2425981"><a href="/reflect/type.go.html#2425901">v</a></span><span class="op" id="2425982">.</span><span class="ident" id="2425983">methods</span><span class="op" id="2425990">)</span><span class="op" id="2425991">;</span>&nbsp;<span class="ident" id="2425993"><a href="/reflect/type.go.html#2425965">j</a></span><span class="op" id="2425994">++</span>&nbsp;<span class="op" id="2425997">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426001">tm</span>&nbsp;<span class="op" id="2426004">:=</span>&nbsp;<span class="op" id="2426007">&amp;</span><span class="ident" id="2426008"><a href="/reflect/type.go.html#2424821">t</a></span><span class="op" id="2426009">.</span><span class="ident" id="2426010">methods</span><span class="op" id="2426017">[</span><span class="ident" id="2426018"><a href="/reflect/type.go.html#2425953">i</a></span><span class="op" id="2426019">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426023">vm</span>&nbsp;<span class="op" id="2426026">:=</span>&nbsp;<span class="op" id="2426029">&amp;</span><span class="ident" id="2426030"><a href="/reflect/type.go.html#2425901">v</a></span><span class="op" id="2426031">.</span><span class="ident" id="2426032">methods</span><span class="op" id="2426039">[</span><span class="ident" id="2426040"><a href="/reflect/type.go.html#2425965">j</a></span><span class="op" id="2426041">]</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426045">if</span>&nbsp;<span class="ident" id="2426048"><a href="/reflect/type.go.html#2426023">vm</a></span><span class="op" id="2426050">.</span><span class="ident" id="2426051">name</span>&nbsp;<span class="op" id="2426056">==</span>&nbsp;<span class="ident" id="2426059"><a href="/reflect/type.go.html#2426001">tm</a></span><span class="op" id="2426061">.</span><span class="ident" id="2426062">name</span>&nbsp;<span class="op" id="2426067">&amp;&amp;</span>&nbsp;<span class="ident" id="2426070"><a href="/reflect/type.go.html#2426023">vm</a></span><span class="op" id="2426072">.</span><span class="ident" id="2426073">pkgPath</span>&nbsp;<span class="op" id="2426081">==</span>&nbsp;<span class="ident" id="2426084"><a href="/reflect/type.go.html#2426001">tm</a></span><span class="op" id="2426086">.</span><span class="ident" id="2426087">pkgPath</span>&nbsp;<span class="op" id="2426095">&amp;&amp;</span>&nbsp;<span class="ident" id="2426098"><a href="/reflect/type.go.html#2426023">vm</a></span><span class="op" id="2426100">.</span><span class="ident" id="2426101">mtyp</span>&nbsp;<span class="op" id="2426106">==</span>&nbsp;<span class="ident" id="2426109"><a href="/reflect/type.go.html#2426001">tm</a></span><span class="op" id="2426111">.</span><span class="ident" id="2426112">typ</span>&nbsp;<span class="op" id="2426116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426121">if</span>&nbsp;<span class="ident" id="2426124"><a href="/reflect/type.go.html#2425953">i</a></span><span class="op" id="2426125">++</span><span class="op" id="2426127">;</span>&nbsp;<span class="ident" id="2426129"><a href="/reflect/type.go.html#2425953">i</a></span>&nbsp;<span class="op" id="2426131">&gt;=</span>&nbsp;<span class="builtinfunc" id="2426134">len</span><span class="op" id="2426137">(</span><span class="ident" id="2426138"><a href="/reflect/type.go.html#2424821">t</a></span><span class="op" id="2426139">.</span><span class="ident" id="2426140">methods</span><span class="op" id="2426147">)</span>&nbsp;<span class="op" id="2426149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426155">return</span>&nbsp;<span class="ident" id="2426162">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2426170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2426174">}</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2426177">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426180">return</span>&nbsp;<span class="ident" id="2426187">false</span><br>
<span class="lineno"></span><span class="op" id="2426193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2426196">//&nbsp;directlyAssignable&nbsp;returns&nbsp;true&nbsp;if&nbsp;a&nbsp;value&nbsp;x&nbsp;of&nbsp;type&nbsp;V&nbsp;can&nbsp;be&nbsp;directly</span><br>
<span class="lineno">1170</span><span class="comment" id="2426270">//&nbsp;assigned&nbsp;(using&nbsp;memmove)&nbsp;to&nbsp;a&nbsp;value&nbsp;of&nbsp;type&nbsp;T.</span><br>
<span class="lineno"></span><span class="comment" id="2426320">//&nbsp;http://golang.org/doc/go_spec.html#Assignability</span><br>
<span class="lineno"></span><span class="comment" id="2426372">//&nbsp;Ignoring&nbsp;the&nbsp;interface&nbsp;rules&nbsp;(implemented&nbsp;elsewhere)</span><br>
<span class="lineno"></span><span class="comment" id="2426428">//&nbsp;and&nbsp;the&nbsp;ideal&nbsp;constant&nbsp;rules&nbsp;(no&nbsp;ideal&nbsp;constants&nbsp;at&nbsp;run&nbsp;time).</span><br>
<span class="lineno"></span><span class="keyword" id="2426494">func</span>&nbsp;<span class="ident" id="2426499">directlyAssignable</span><span class="op" id="2426517">(</span><span class="ident" id="2426518">T</span><span class="op" id="2426519">,</span>&nbsp;<span class="ident" id="2426521">V</span>&nbsp;<span class="op" id="2426523">*</span><span class="ident" id="2426524"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2426529">)</span>&nbsp;<span class="builtintype" id="2426531">bool</span>&nbsp;<span class="op" id="2426536">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2426539">//&nbsp;x&#39;s&nbsp;type&nbsp;V&nbsp;is&nbsp;identical&nbsp;to&nbsp;T?</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426573">if</span>&nbsp;<span class="ident" id="2426576"><a href="/reflect/type.go.html#2426518">T</a></span>&nbsp;<span class="op" id="2426578">==</span>&nbsp;<span class="ident" id="2426581"><a href="/reflect/type.go.html#2426521">V</a></span>&nbsp;<span class="op" id="2426583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426587">return</span>&nbsp;<span class="ident" id="2426594">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2426600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2426604">//&nbsp;Otherwise&nbsp;at&nbsp;least&nbsp;one&nbsp;of&nbsp;T&nbsp;and&nbsp;V&nbsp;must&nbsp;be&nbsp;unnamed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2426658">//&nbsp;and&nbsp;they&nbsp;must&nbsp;have&nbsp;the&nbsp;same&nbsp;kind.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426696">if</span>&nbsp;<span class="ident" id="2426699"><a href="/reflect/type.go.html#2426518">T</a></span><span class="op" id="2426700">.</span><span class="ident" id="2426701">Name</span><span class="op" id="2426705">(</span><span class="op" id="2426706">)</span>&nbsp;<span class="op" id="2426708">!=</span>&nbsp;<span class="string" id="2426711">&#34;&#34;</span>&nbsp;<span class="op" id="2426714">&amp;&amp;</span>&nbsp;<span class="ident" id="2426717"><a href="/reflect/type.go.html#2426521">V</a></span><span class="op" id="2426718">.</span><span class="ident" id="2426719">Name</span><span class="op" id="2426723">(</span><span class="op" id="2426724">)</span>&nbsp;<span class="op" id="2426726">!=</span>&nbsp;<span class="string" id="2426729">&#34;&#34;</span>&nbsp;<span class="op" id="2426732">||</span>&nbsp;<span class="ident" id="2426735"><a href="/reflect/type.go.html#2426518">T</a></span><span class="op" id="2426736">.</span><span class="ident" id="2426737">Kind</span><span class="op" id="2426741">(</span><span class="op" id="2426742">)</span>&nbsp;<span class="op" id="2426744">!=</span>&nbsp;<span class="ident" id="2426747"><a href="/reflect/type.go.html#2426521">V</a></span><span class="op" id="2426748">.</span><span class="ident" id="2426749">Kind</span><span class="op" id="2426753">(</span><span class="op" id="2426754">)</span>&nbsp;<span class="op" id="2426756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426760">return</span>&nbsp;<span class="ident" id="2426767">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2426774">}</span><br>
<span class="lineno">1185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2426778">//&nbsp;x&#39;s&nbsp;type&nbsp;T&nbsp;and&nbsp;V&nbsp;must&nbsp;&nbsp;have&nbsp;identical&nbsp;underlying&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426838">return</span>&nbsp;<span class="ident" id="2426845"><a href="/reflect/type.go.html#2426887">haveIdenticalUnderlyingType</a></span><span class="op" id="2426872">(</span><span class="ident" id="2426873"><a href="/reflect/type.go.html#2426518">T</a></span><span class="op" id="2426874">,</span>&nbsp;<span class="ident" id="2426876"><a href="/reflect/type.go.html#2426521">V</a></span><span class="op" id="2426877">)</span><br>
<span class="lineno"></span><span class="op" id="2426879">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1190</span><span class="keyword" id="2426882">func</span>&nbsp;<span class="ident" id="2426887">haveIdenticalUnderlyingType</span><span class="op" id="2426914">(</span><span class="ident" id="2426915">T</span><span class="op" id="2426916">,</span>&nbsp;<span class="ident" id="2426918">V</span>&nbsp;<span class="op" id="2426920">*</span><span class="ident" id="2426921"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2426926">)</span>&nbsp;<span class="builtintype" id="2426928">bool</span>&nbsp;<span class="op" id="2426933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426936">if</span>&nbsp;<span class="ident" id="2426939"><a href="/reflect/type.go.html#2426915">T</a></span>&nbsp;<span class="op" id="2426941">==</span>&nbsp;<span class="ident" id="2426944"><a href="/reflect/type.go.html#2426918">V</a></span>&nbsp;<span class="op" id="2426946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426950">return</span>&nbsp;<span class="ident" id="2426957">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2426963">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2426967">kind</span>&nbsp;<span class="op" id="2426972">:=</span>&nbsp;<span class="ident" id="2426975"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2426976">.</span><span class="ident" id="2426977">Kind</span><span class="op" id="2426981">(</span><span class="op" id="2426982">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2426985">if</span>&nbsp;<span class="ident" id="2426988"><a href="/reflect/type.go.html#2426967">kind</a></span>&nbsp;<span class="op" id="2426993">!=</span>&nbsp;<span class="ident" id="2426996"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2426997">.</span><span class="ident" id="2426998">Kind</span><span class="op" id="2427002">(</span><span class="op" id="2427003">)</span>&nbsp;<span class="op" id="2427005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427009">return</span>&nbsp;<span class="ident" id="2427016">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427027">//&nbsp;Non-composite&nbsp;types&nbsp;of&nbsp;equal&nbsp;kind&nbsp;have&nbsp;same&nbsp;underlying&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427091">//&nbsp;(the&nbsp;predefined&nbsp;instance&nbsp;of&nbsp;the&nbsp;type).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427134">if</span>&nbsp;<span class="ident" id="2427137"><a href="/reflect/type.go.html#2401225">Bool</a></span>&nbsp;<span class="op" id="2427142">&lt;=</span>&nbsp;<span class="ident" id="2427145"><a href="/reflect/type.go.html#2426967">kind</a></span>&nbsp;<span class="op" id="2427150">&amp;&amp;</span>&nbsp;<span class="ident" id="2427153"><a href="/reflect/type.go.html#2426967">kind</a></span>&nbsp;<span class="op" id="2427158">&lt;=</span>&nbsp;<span class="ident" id="2427161"><a href="/reflect/type.go.html#2401338">Complex128</a></span>&nbsp;<span class="op" id="2427172">||</span>&nbsp;<span class="ident" id="2427175"><a href="/reflect/type.go.html#2426967">kind</a></span>&nbsp;<span class="op" id="2427180">==</span>&nbsp;<span class="ident" id="2427183"><a href="/reflect/type.go.html#2401397">String</a></span>&nbsp;<span class="op" id="2427190">||</span>&nbsp;<span class="ident" id="2427193"><a href="/reflect/type.go.html#2426967">kind</a></span>&nbsp;<span class="op" id="2427198">==</span>&nbsp;<span class="ident" id="2427201"><a href="/reflect/type.go.html#2401413">UnsafePointer</a></span>&nbsp;<span class="op" id="2427215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427219">return</span>&nbsp;<span class="ident" id="2427226">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427232">}</span><br>
<span class="lineno">1205</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427236">//&nbsp;Composite&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427257">switch</span>&nbsp;<span class="ident" id="2427264"><a href="/reflect/type.go.html#2426967">kind</a></span>&nbsp;<span class="op" id="2427269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427272">case</span>&nbsp;<span class="ident" id="2427277"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2427282">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427286">return</span>&nbsp;<span class="ident" id="2427293"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2427294">.</span><span class="ident" id="2427295">Elem</span><span class="op" id="2427299">(</span><span class="op" id="2427300">)</span>&nbsp;<span class="op" id="2427302">==</span>&nbsp;<span class="ident" id="2427305"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427306">.</span><span class="ident" id="2427307">Elem</span><span class="op" id="2427311">(</span><span class="op" id="2427312">)</span>&nbsp;<span class="op" id="2427314">&amp;&amp;</span>&nbsp;<span class="ident" id="2427317"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2427318">.</span><span class="ident" id="2427319">Len</span><span class="op" id="2427322">(</span><span class="op" id="2427323">)</span>&nbsp;<span class="op" id="2427325">==</span>&nbsp;<span class="ident" id="2427328"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427329">.</span><span class="ident" id="2427330">Len</span><span class="op" id="2427333">(</span><span class="op" id="2427334">)</span><br>
<span class="lineno">1210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427338">case</span>&nbsp;<span class="ident" id="2427343"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2427347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427351">//&nbsp;Special&nbsp;case:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427370">//&nbsp;x&nbsp;is&nbsp;a&nbsp;bidirectional&nbsp;channel&nbsp;value,&nbsp;T&nbsp;is&nbsp;a&nbsp;channel&nbsp;type,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427432">//&nbsp;and&nbsp;x&#39;s&nbsp;type&nbsp;V&nbsp;and&nbsp;T&nbsp;have&nbsp;identical&nbsp;element&nbsp;types.</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427488">if</span>&nbsp;<span class="ident" id="2427491"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427492">.</span><span class="ident" id="2427493">ChanDir</span><span class="op" id="2427500">(</span><span class="op" id="2427501">)</span>&nbsp;<span class="op" id="2427503">==</span>&nbsp;<span class="ident" id="2427506"><a href="/reflect/type.go.html#2403872">BothDir</a></span>&nbsp;<span class="op" id="2427514">&amp;&amp;</span>&nbsp;<span class="ident" id="2427517"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2427518">.</span><span class="ident" id="2427519">Elem</span><span class="op" id="2427523">(</span><span class="op" id="2427524">)</span>&nbsp;<span class="op" id="2427526">==</span>&nbsp;<span class="ident" id="2427529"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427530">.</span><span class="ident" id="2427531">Elem</span><span class="op" id="2427535">(</span><span class="op" id="2427536">)</span>&nbsp;<span class="op" id="2427538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427543">return</span>&nbsp;<span class="ident" id="2427550">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2427562">//&nbsp;Otherwise&nbsp;continue&nbsp;test&nbsp;for&nbsp;identical&nbsp;underlying&nbsp;type.</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427622">return</span>&nbsp;<span class="ident" id="2427629"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427630">.</span><span class="ident" id="2427631">ChanDir</span><span class="op" id="2427638">(</span><span class="op" id="2427639">)</span>&nbsp;<span class="op" id="2427641">==</span>&nbsp;<span class="ident" id="2427644"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2427645">.</span><span class="ident" id="2427646">ChanDir</span><span class="op" id="2427653">(</span><span class="op" id="2427654">)</span>&nbsp;<span class="op" id="2427656">&amp;&amp;</span>&nbsp;<span class="ident" id="2427659"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2427660">.</span><span class="ident" id="2427661">Elem</span><span class="op" id="2427665">(</span><span class="op" id="2427666">)</span>&nbsp;<span class="op" id="2427668">==</span>&nbsp;<span class="ident" id="2427671"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427672">.</span><span class="ident" id="2427673">Elem</span><span class="op" id="2427677">(</span><span class="op" id="2427678">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427682">case</span>&nbsp;<span class="ident" id="2427687"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2427691">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427695">t</span>&nbsp;<span class="op" id="2427697">:=</span>&nbsp;<span class="op" id="2427700">(</span><span class="op" id="2427701">*</span><span class="ident" id="2427702"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2427710">)</span><span class="op" id="2427711">(</span><span class="ident" id="2427712"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2427718">.</span><span class="ident" id="2427719">Pointer</span><span class="op" id="2427726">(</span><span class="ident" id="2427727"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2427728">)</span><span class="op" id="2427729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2427733">v</span>&nbsp;<span class="op" id="2427735">:=</span>&nbsp;<span class="op" id="2427738">(</span><span class="op" id="2427739">*</span><span class="ident" id="2427740"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2427748">)</span><span class="op" id="2427749">(</span><span class="ident" id="2427750"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2427756">.</span><span class="ident" id="2427757">Pointer</span><span class="op" id="2427764">(</span><span class="ident" id="2427765"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2427766">)</span><span class="op" id="2427767">)</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427771">if</span>&nbsp;<span class="ident" id="2427774"><a href="/reflect/type.go.html#2427695">t</a></span><span class="op" id="2427775">.</span><span class="ident" id="2427776">dotdotdot</span>&nbsp;<span class="op" id="2427786">!=</span>&nbsp;<span class="ident" id="2427789"><a href="/reflect/type.go.html#2427733">v</a></span><span class="op" id="2427790">.</span><span class="ident" id="2427791">dotdotdot</span>&nbsp;<span class="op" id="2427801">||</span>&nbsp;<span class="builtinfunc" id="2427804">len</span><span class="op" id="2427807">(</span><span class="ident" id="2427808"><a href="/reflect/type.go.html#2427695">t</a></span><span class="op" id="2427809">.</span><span class="ident" id="2427810">in</span><span class="op" id="2427812">)</span>&nbsp;<span class="op" id="2427814">!=</span>&nbsp;<span class="builtinfunc" id="2427817">len</span><span class="op" id="2427820">(</span><span class="ident" id="2427821"><a href="/reflect/type.go.html#2427733">v</a></span><span class="op" id="2427822">.</span><span class="ident" id="2427823">in</span><span class="op" id="2427825">)</span>&nbsp;<span class="op" id="2427827">||</span>&nbsp;<span class="builtinfunc" id="2427830">len</span><span class="op" id="2427833">(</span><span class="ident" id="2427834"><a href="/reflect/type.go.html#2427695">t</a></span><span class="op" id="2427835">.</span><span class="ident" id="2427836">out</span><span class="op" id="2427839">)</span>&nbsp;<span class="op" id="2427841">!=</span>&nbsp;<span class="builtinfunc" id="2427844">len</span><span class="op" id="2427847">(</span><span class="ident" id="2427848"><a href="/reflect/type.go.html#2427733">v</a></span><span class="op" id="2427849">.</span><span class="ident" id="2427850">out</span><span class="op" id="2427853">)</span>&nbsp;<span class="op" id="2427855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427860">return</span>&nbsp;<span class="ident" id="2427867">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427879">for</span>&nbsp;<span class="ident" id="2427883">i</span><span class="op" id="2427884">,</span>&nbsp;<span class="ident" id="2427886">typ</span>&nbsp;<span class="op" id="2427890">:=</span>&nbsp;<span class="keyword" id="2427893">range</span>&nbsp;<span class="ident" id="2427899"><a href="/reflect/type.go.html#2427695">t</a></span><span class="op" id="2427900">.</span><span class="ident" id="2427901">in</span>&nbsp;<span class="op" id="2427904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427909">if</span>&nbsp;<span class="ident" id="2427912"><a href="/reflect/type.go.html#2427886">typ</a></span>&nbsp;<span class="op" id="2427916">!=</span>&nbsp;<span class="ident" id="2427919"><a href="/reflect/type.go.html#2427733">v</a></span><span class="op" id="2427920">.</span><span class="ident" id="2427921">in</span><span class="op" id="2427923">[</span><span class="ident" id="2427924"><a href="/reflect/type.go.html#2427883">i</a></span><span class="op" id="2427925">]</span>&nbsp;<span class="op" id="2427927">{</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427933">return</span>&nbsp;<span class="ident" id="2427940">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427949">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2427953">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427957">for</span>&nbsp;<span class="ident" id="2427961">i</span><span class="op" id="2427962">,</span>&nbsp;<span class="ident" id="2427964">typ</span>&nbsp;<span class="op" id="2427968">:=</span>&nbsp;<span class="keyword" id="2427971">range</span>&nbsp;<span class="ident" id="2427977"><a href="/reflect/type.go.html#2427695">t</a></span><span class="op" id="2427978">.</span><span class="ident" id="2427979">out</span>&nbsp;<span class="op" id="2427983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2427988">if</span>&nbsp;<span class="ident" id="2427991"><a href="/reflect/type.go.html#2427964">typ</a></span>&nbsp;<span class="op" id="2427995">!=</span>&nbsp;<span class="ident" id="2427998"><a href="/reflect/type.go.html#2427733">v</a></span><span class="op" id="2427999">.</span><span class="ident" id="2428000">out</span><span class="op" id="2428003">[</span><span class="ident" id="2428004"><a href="/reflect/type.go.html#2427961">i</a></span><span class="op" id="2428005">]</span>&nbsp;<span class="op" id="2428007">{</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428013">return</span>&nbsp;<span class="ident" id="2428020">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428029">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428033">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428037">return</span>&nbsp;<span class="ident" id="2428044">true</span><br>
<span class="lineno"></span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428051">case</span>&nbsp;<span class="ident" id="2428056"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2428065">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428069">t</span>&nbsp;<span class="op" id="2428071">:=</span>&nbsp;<span class="op" id="2428074">(</span><span class="op" id="2428075">*</span><span class="ident" id="2428076"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2428089">)</span><span class="op" id="2428090">(</span><span class="ident" id="2428091"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2428097">.</span><span class="ident" id="2428098">Pointer</span><span class="op" id="2428105">(</span><span class="ident" id="2428106"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2428107">)</span><span class="op" id="2428108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428112">v</span>&nbsp;<span class="op" id="2428114">:=</span>&nbsp;<span class="op" id="2428117">(</span><span class="op" id="2428118">*</span><span class="ident" id="2428119"><a href="/reflect/type.go.html#2404782">interfaceType</a></span><span class="op" id="2428132">)</span><span class="op" id="2428133">(</span><span class="ident" id="2428134"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2428140">.</span><span class="ident" id="2428141">Pointer</span><span class="op" id="2428148">(</span><span class="ident" id="2428149"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2428150">)</span><span class="op" id="2428151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428155">if</span>&nbsp;<span class="builtinfunc" id="2428158">len</span><span class="op" id="2428161">(</span><span class="ident" id="2428162"><a href="/reflect/type.go.html#2428069">t</a></span><span class="op" id="2428163">.</span><span class="ident" id="2428164">methods</span><span class="op" id="2428171">)</span>&nbsp;<span class="op" id="2428173">==</span>&nbsp;<span class="num" id="2428176">0</span>&nbsp;<span class="op" id="2428178">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="2428181">len</span><span class="op" id="2428184">(</span><span class="ident" id="2428185"><a href="/reflect/type.go.html#2428112">v</a></span><span class="op" id="2428186">.</span><span class="ident" id="2428187">methods</span><span class="op" id="2428194">)</span>&nbsp;<span class="op" id="2428196">==</span>&nbsp;<span class="num" id="2428199">0</span>&nbsp;<span class="op" id="2428201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428206">return</span>&nbsp;<span class="ident" id="2428213">true</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428220">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2428224">//&nbsp;Might&nbsp;have&nbsp;the&nbsp;same&nbsp;methods&nbsp;but&nbsp;still</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2428267">//&nbsp;need&nbsp;a&nbsp;run&nbsp;time&nbsp;conversion.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428300">return</span>&nbsp;<span class="ident" id="2428307">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428315">case</span>&nbsp;<span class="ident" id="2428320"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2428323">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428327">return</span>&nbsp;<span class="ident" id="2428334"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2428335">.</span><span class="ident" id="2428336">Key</span><span class="op" id="2428339">(</span><span class="op" id="2428340">)</span>&nbsp;<span class="op" id="2428342">==</span>&nbsp;<span class="ident" id="2428345"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2428346">.</span><span class="ident" id="2428347">Key</span><span class="op" id="2428350">(</span><span class="op" id="2428351">)</span>&nbsp;<span class="op" id="2428353">&amp;&amp;</span>&nbsp;<span class="ident" id="2428356"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2428357">.</span><span class="ident" id="2428358">Elem</span><span class="op" id="2428362">(</span><span class="op" id="2428363">)</span>&nbsp;<span class="op" id="2428365">==</span>&nbsp;<span class="ident" id="2428368"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2428369">.</span><span class="ident" id="2428370">Elem</span><span class="op" id="2428374">(</span><span class="op" id="2428375">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428379">case</span>&nbsp;<span class="ident" id="2428384"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2428387">,</span>&nbsp;<span class="ident" id="2428389"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2428394">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428398">return</span>&nbsp;<span class="ident" id="2428405"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2428406">.</span><span class="ident" id="2428407">Elem</span><span class="op" id="2428411">(</span><span class="op" id="2428412">)</span>&nbsp;<span class="op" id="2428414">==</span>&nbsp;<span class="ident" id="2428417"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2428418">.</span><span class="ident" id="2428419">Elem</span><span class="op" id="2428423">(</span><span class="op" id="2428424">)</span><br>
<span class="lineno">1255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428428">case</span>&nbsp;<span class="ident" id="2428433"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2428439">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428443">t</span>&nbsp;<span class="op" id="2428445">:=</span>&nbsp;<span class="op" id="2428448">(</span><span class="op" id="2428449">*</span><span class="ident" id="2428450"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2428460">)</span><span class="op" id="2428461">(</span><span class="ident" id="2428462"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2428468">.</span><span class="ident" id="2428469">Pointer</span><span class="op" id="2428476">(</span><span class="ident" id="2428477"><a href="/reflect/type.go.html#2426915">T</a></span><span class="op" id="2428478">)</span><span class="op" id="2428479">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428483">v</span>&nbsp;<span class="op" id="2428485">:=</span>&nbsp;<span class="op" id="2428488">(</span><span class="op" id="2428489">*</span><span class="ident" id="2428490"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2428500">)</span><span class="op" id="2428501">(</span><span class="ident" id="2428502"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2428508">.</span><span class="ident" id="2428509">Pointer</span><span class="op" id="2428516">(</span><span class="ident" id="2428517"><a href="/reflect/type.go.html#2426918">V</a></span><span class="op" id="2428518">)</span><span class="op" id="2428519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428523">if</span>&nbsp;<span class="builtinfunc" id="2428526">len</span><span class="op" id="2428529">(</span><span class="ident" id="2428530"><a href="/reflect/type.go.html#2428443">t</a></span><span class="op" id="2428531">.</span><span class="ident" id="2428532">fields</span><span class="op" id="2428538">)</span>&nbsp;<span class="op" id="2428540">!=</span>&nbsp;<span class="builtinfunc" id="2428543">len</span><span class="op" id="2428546">(</span><span class="ident" id="2428547"><a href="/reflect/type.go.html#2428483">v</a></span><span class="op" id="2428548">.</span><span class="ident" id="2428549">fields</span><span class="op" id="2428555">)</span>&nbsp;<span class="op" id="2428557">{</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428562">return</span>&nbsp;<span class="ident" id="2428569">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428577">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428581">for</span>&nbsp;<span class="ident" id="2428585">i</span>&nbsp;<span class="op" id="2428587">:=</span>&nbsp;<span class="keyword" id="2428590">range</span>&nbsp;<span class="ident" id="2428596"><a href="/reflect/type.go.html#2428443">t</a></span><span class="op" id="2428597">.</span><span class="ident" id="2428598">fields</span>&nbsp;<span class="op" id="2428605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428610">tf</span>&nbsp;<span class="op" id="2428613">:=</span>&nbsp;<span class="op" id="2428616">&amp;</span><span class="ident" id="2428617"><a href="/reflect/type.go.html#2428443">t</a></span><span class="op" id="2428618">.</span><span class="ident" id="2428619">fields</span><span class="op" id="2428625">[</span><span class="ident" id="2428626"><a href="/reflect/type.go.html#2428585">i</a></span><span class="op" id="2428627">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2428632">vf</span>&nbsp;<span class="op" id="2428635">:=</span>&nbsp;<span class="op" id="2428638">&amp;</span><span class="ident" id="2428639"><a href="/reflect/type.go.html#2428483">v</a></span><span class="op" id="2428640">.</span><span class="ident" id="2428641">fields</span><span class="op" id="2428647">[</span><span class="ident" id="2428648"><a href="/reflect/type.go.html#2428585">i</a></span><span class="op" id="2428649">]</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428654">if</span>&nbsp;<span class="ident" id="2428657"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428659">.</span><span class="ident" id="2428660">name</span>&nbsp;<span class="op" id="2428665">!=</span>&nbsp;<span class="ident" id="2428668"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428670">.</span><span class="ident" id="2428671">name</span>&nbsp;<span class="op" id="2428676">&amp;&amp;</span>&nbsp;<span class="op" id="2428679">(</span><span class="ident" id="2428680"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428682">.</span><span class="ident" id="2428683">name</span>&nbsp;<span class="op" id="2428688">==</span>&nbsp;<span class="ident" id="2428691">nil</span>&nbsp;<span class="op" id="2428695">||</span>&nbsp;<span class="ident" id="2428698"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428700">.</span><span class="ident" id="2428701">name</span>&nbsp;<span class="op" id="2428706">==</span>&nbsp;<span class="ident" id="2428709">nil</span>&nbsp;<span class="op" id="2428713">||</span>&nbsp;<span class="op" id="2428716">*</span><span class="ident" id="2428717"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428719">.</span><span class="ident" id="2428720">name</span>&nbsp;<span class="op" id="2428725">!=</span>&nbsp;<span class="op" id="2428728">*</span><span class="ident" id="2428729"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428731">.</span><span class="ident" id="2428732">name</span><span class="op" id="2428736">)</span>&nbsp;<span class="op" id="2428738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428744">return</span>&nbsp;<span class="ident" id="2428751">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428760">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428765">if</span>&nbsp;<span class="ident" id="2428768"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428770">.</span><span class="ident" id="2428771">pkgPath</span>&nbsp;<span class="op" id="2428779">!=</span>&nbsp;<span class="ident" id="2428782"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428784">.</span><span class="ident" id="2428785">pkgPath</span>&nbsp;<span class="op" id="2428793">&amp;&amp;</span>&nbsp;<span class="op" id="2428796">(</span><span class="ident" id="2428797"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428799">.</span><span class="ident" id="2428800">pkgPath</span>&nbsp;<span class="op" id="2428808">==</span>&nbsp;<span class="ident" id="2428811">nil</span>&nbsp;<span class="op" id="2428815">||</span>&nbsp;<span class="ident" id="2428818"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428820">.</span><span class="ident" id="2428821">pkgPath</span>&nbsp;<span class="op" id="2428829">==</span>&nbsp;<span class="ident" id="2428832">nil</span>&nbsp;<span class="op" id="2428836">||</span>&nbsp;<span class="op" id="2428839">*</span><span class="ident" id="2428840"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428842">.</span><span class="ident" id="2428843">pkgPath</span>&nbsp;<span class="op" id="2428851">!=</span>&nbsp;<span class="op" id="2428854">*</span><span class="ident" id="2428855"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428857">.</span><span class="ident" id="2428858">pkgPath</span><span class="op" id="2428865">)</span>&nbsp;<span class="op" id="2428867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428873">return</span>&nbsp;<span class="ident" id="2428880">false</span><br>
<span class="lineno">1270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428894">if</span>&nbsp;<span class="ident" id="2428897"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428899">.</span><span class="ident" id="2428900">typ</span>&nbsp;<span class="op" id="2428904">!=</span>&nbsp;<span class="ident" id="2428907"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428909">.</span><span class="ident" id="2428910">typ</span>&nbsp;<span class="op" id="2428914">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428920">return</span>&nbsp;<span class="ident" id="2428927">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2428936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2428941">if</span>&nbsp;<span class="ident" id="2428944"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428946">.</span><span class="ident" id="2428947">tag</span>&nbsp;<span class="op" id="2428951">!=</span>&nbsp;<span class="ident" id="2428954"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428956">.</span><span class="ident" id="2428957">tag</span>&nbsp;<span class="op" id="2428961">&amp;&amp;</span>&nbsp;<span class="op" id="2428964">(</span><span class="ident" id="2428965"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2428967">.</span><span class="ident" id="2428968">tag</span>&nbsp;<span class="op" id="2428972">==</span>&nbsp;<span class="ident" id="2428975">nil</span>&nbsp;<span class="op" id="2428979">||</span>&nbsp;<span class="ident" id="2428982"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2428984">.</span><span class="ident" id="2428985">tag</span>&nbsp;<span class="op" id="2428989">==</span>&nbsp;<span class="ident" id="2428992">nil</span>&nbsp;<span class="op" id="2428996">||</span>&nbsp;<span class="op" id="2428999">*</span><span class="ident" id="2429000"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2429002">.</span><span class="ident" id="2429003">tag</span>&nbsp;<span class="op" id="2429007">!=</span>&nbsp;<span class="op" id="2429010">*</span><span class="ident" id="2429011"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2429013">.</span><span class="ident" id="2429014">tag</span><span class="op" id="2429017">)</span>&nbsp;<span class="op" id="2429019">{</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429025">return</span>&nbsp;<span class="ident" id="2429032">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2429041">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429046">if</span>&nbsp;<span class="ident" id="2429049"><a href="/reflect/type.go.html#2428610">tf</a></span><span class="op" id="2429051">.</span><span class="ident" id="2429052">offset</span>&nbsp;<span class="op" id="2429059">!=</span>&nbsp;<span class="ident" id="2429062"><a href="/reflect/type.go.html#2428632">vf</a></span><span class="op" id="2429064">.</span><span class="ident" id="2429065">offset</span>&nbsp;<span class="op" id="2429072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429078">return</span>&nbsp;<span class="ident" id="2429085">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2429094">}</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2429098">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429102">return</span>&nbsp;<span class="ident" id="2429109">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2429115">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2429119">return</span>&nbsp;<span class="ident" id="2429126">false</span><br>
<span class="lineno">1285</span><span class="op" id="2429132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2429135">//&nbsp;typelinks&nbsp;is&nbsp;implemented&nbsp;in&nbsp;package&nbsp;runtime.</span><br>
<span class="lineno"></span><span class="comment" id="2429183">//&nbsp;It&nbsp;returns&nbsp;a&nbsp;slice&nbsp;of&nbsp;all&nbsp;the&nbsp;&#39;typelink&#39;&nbsp;information&nbsp;in&nbsp;the&nbsp;binary,</span><br>
<span class="lineno"></span><span class="comment" id="2429254">//&nbsp;which&nbsp;is&nbsp;to&nbsp;say&nbsp;a&nbsp;slice&nbsp;of&nbsp;known&nbsp;types,&nbsp;sorted&nbsp;by&nbsp;string.</span><br>
<span class="lineno">1290</span><span class="comment" id="2429315">//&nbsp;Note&nbsp;that&nbsp;strings&nbsp;are&nbsp;not&nbsp;unique&nbsp;identifiers&nbsp;for&nbsp;types:</span><br>
<span class="lineno"></span><span class="comment" id="2429374">//&nbsp;there&nbsp;can&nbsp;be&nbsp;more&nbsp;than&nbsp;one&nbsp;with&nbsp;a&nbsp;given&nbsp;string.</span><br>
<span class="lineno"></span><span class="comment" id="2429425">//&nbsp;Only&nbsp;types&nbsp;we&nbsp;might&nbsp;want&nbsp;to&nbsp;look&nbsp;up&nbsp;are&nbsp;included:</span><br>
<span class="lineno"></span><span class="comment" id="2429478">//&nbsp;channels,&nbsp;maps,&nbsp;slices,&nbsp;and&nbsp;arrays.</span><br>
<span class="lineno"></span><span class="keyword" id="2429517">func</span>&nbsp;<span class="ident" id="2429522">typelinks</span><span class="op" id="2429531">(</span><span class="op" id="2429532">)</span>&nbsp;<span class="op" id="2429534">[</span><span class="op" id="2429535">]</span><span class="op" id="2429536">*</span><span class="ident" id="2429537"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno">1295</span><br>
<span class="lineno"></span><span class="comment" id="2429544">//&nbsp;typesByString&nbsp;returns&nbsp;the&nbsp;subslice&nbsp;of&nbsp;typelinks()&nbsp;whose&nbsp;elements&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="2429617">//&nbsp;the&nbsp;given&nbsp;string&nbsp;representation.</span><br>
<span class="lineno"></span><span class="comment" id="2429653">//&nbsp;It&nbsp;may&nbsp;be&nbsp;empty&nbsp;(no&nbsp;known&nbsp;types&nbsp;with&nbsp;that&nbsp;string)&nbsp;or&nbsp;may&nbsp;have</span><br>
<span class="lineno"></span><span class="comment" id="2429718">//&nbsp;multiple&nbsp;elements&nbsp;(multiple&nbsp;types&nbsp;with&nbsp;that&nbsp;string).</span><br>
<span class="lineno">1300</span><span class="keyword" id="2429774">func</span>&nbsp;<span class="ident" id="2429779">typesByString</span><span class="op" id="2429792">(</span><span class="ident" id="2429793">s</span>&nbsp;<span class="builtintype" id="2429795">string</span><span class="op" id="2429801">)</span>&nbsp;<span class="op" id="2429803">[</span><span class="op" id="2429804">]</span><span class="op" id="2429805">*</span><span class="ident" id="2429806"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="op" id="2429812">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2429815">typ</span>&nbsp;<span class="op" id="2429819">:=</span>&nbsp;<span class="ident" id="2429822"><a href="/reflect/type.go.html#2429522">typelinks</a></span><span class="op" id="2429831">(</span><span class="op" id="2429832">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2429836">//&nbsp;We&nbsp;are&nbsp;looking&nbsp;for&nbsp;the&nbsp;first&nbsp;index&nbsp;i&nbsp;where&nbsp;the&nbsp;string&nbsp;becomes&nbsp;&gt;=&nbsp;s.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2429908">//&nbsp;This&nbsp;is&nbsp;a&nbsp;copy&nbsp;of&nbsp;sort.Search,&nbsp;with&nbsp;f(h)&nbsp;replaced&nbsp;by&nbsp;(*typ[h].string&nbsp;&gt;=&nbsp;s).</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2429988">i</span><span class="op" id="2429989">,</span>&nbsp;<span class="ident" id="2429991">j</span>&nbsp;<span class="op" id="2429993">:=</span>&nbsp;<span class="num" id="2429996">0</span><span class="op" id="2429997">,</span>&nbsp;<span class="builtinfunc" id="2429999">len</span><span class="op" id="2430002">(</span><span class="ident" id="2430003"><a href="/reflect/type.go.html#2429815">typ</a></span><span class="op" id="2430006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2430009">for</span>&nbsp;<span class="ident" id="2430013"><a href="/reflect/type.go.html#2429988">i</a></span>&nbsp;<span class="op" id="2430015">&lt;</span>&nbsp;<span class="ident" id="2430017"><a href="/reflect/type.go.html#2429991">j</a></span>&nbsp;<span class="op" id="2430019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430023">h</span>&nbsp;<span class="op" id="2430025">:=</span>&nbsp;<span class="ident" id="2430028"><a href="/reflect/type.go.html#2429988">i</a></span>&nbsp;<span class="op" id="2430030">+</span>&nbsp;<span class="op" id="2430032">(</span><span class="ident" id="2430033"><a href="/reflect/type.go.html#2429991">j</a></span><span class="op" id="2430034">-</span><span class="ident" id="2430035"><a href="/reflect/type.go.html#2429988">i</a></span><span class="op" id="2430036">)</span><span class="op" id="2430037">/</span><span class="num" id="2430038">2</span>&nbsp;<span class="comment" id="2430040">//&nbsp;avoid&nbsp;overflow&nbsp;when&nbsp;computing&nbsp;h</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2430077">//&nbsp;i&nbsp;≤&nbsp;h&nbsp;&lt;&nbsp;j</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2430094">if</span>&nbsp;<span class="op" id="2430097">!</span><span class="op" id="2430098">(</span><span class="op" id="2430099">*</span><span class="ident" id="2430100"><a href="/reflect/type.go.html#2429815">typ</a></span><span class="op" id="2430103">[</span><span class="ident" id="2430104"><a href="/reflect/type.go.html#2430023">h</a></span><span class="op" id="2430105">]</span><span class="op" id="2430106">.</span><span class="builtintype" id="2430107">string</span>&nbsp;<span class="op" id="2430114">&gt;=</span>&nbsp;<span class="ident" id="2430117"><a href="/reflect/type.go.html#2429793">s</a></span><span class="op" id="2430118">)</span>&nbsp;<span class="op" id="2430120">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430125"><a href="/reflect/type.go.html#2429988">i</a></span>&nbsp;<span class="op" id="2430127">=</span>&nbsp;<span class="ident" id="2430129"><a href="/reflect/type.go.html#2430023">h</a></span>&nbsp;<span class="op" id="2430131">+</span>&nbsp;<span class="num" id="2430133">1</span>&nbsp;<span class="comment" id="2430135">//&nbsp;preserves&nbsp;f(i-1)&nbsp;==&nbsp;false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2430166">}</span>&nbsp;<span class="keyword" id="2430168">else</span>&nbsp;<span class="op" id="2430173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430178"><a href="/reflect/type.go.html#2429991">j</a></span>&nbsp;<span class="op" id="2430180">=</span>&nbsp;<span class="ident" id="2430182"><a href="/reflect/type.go.html#2430023">h</a></span>&nbsp;<span class="comment" id="2430184">//&nbsp;preserves&nbsp;f(j)&nbsp;==&nbsp;true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2430212">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2430215">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2430218">//&nbsp;i&nbsp;==&nbsp;j,&nbsp;f(i-1)&nbsp;==&nbsp;false,&nbsp;and&nbsp;f(j)&nbsp;(=&nbsp;f(i))&nbsp;==&nbsp;true&nbsp;&nbsp;=&gt;&nbsp;&nbsp;answer&nbsp;is&nbsp;i.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2430292">//&nbsp;Having&nbsp;found&nbsp;the&nbsp;first,&nbsp;linear&nbsp;scan&nbsp;forward&nbsp;to&nbsp;find&nbsp;the&nbsp;last.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2430358">//&nbsp;We&nbsp;could&nbsp;do&nbsp;a&nbsp;second&nbsp;binary&nbsp;search,&nbsp;but&nbsp;the&nbsp;caller&nbsp;is&nbsp;going</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2430422">//&nbsp;to&nbsp;do&nbsp;a&nbsp;linear&nbsp;scan&nbsp;anyway.</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430454"><a href="/reflect/type.go.html#2429991">j</a></span>&nbsp;<span class="op" id="2430456">=</span>&nbsp;<span class="ident" id="2430458"><a href="/reflect/type.go.html#2429988">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2430461">for</span>&nbsp;<span class="ident" id="2430465"><a href="/reflect/type.go.html#2429991">j</a></span>&nbsp;<span class="op" id="2430467">&lt;</span>&nbsp;<span class="builtinfunc" id="2430469">len</span><span class="op" id="2430472">(</span><span class="ident" id="2430473"><a href="/reflect/type.go.html#2429815">typ</a></span><span class="op" id="2430476">)</span>&nbsp;<span class="op" id="2430478">&amp;&amp;</span>&nbsp;<span class="op" id="2430481">*</span><span class="ident" id="2430482"><a href="/reflect/type.go.html#2429815">typ</a></span><span class="op" id="2430485">[</span><span class="ident" id="2430486"><a href="/reflect/type.go.html#2429991">j</a></span><span class="op" id="2430487">]</span><span class="op" id="2430488">.</span><span class="builtintype" id="2430489">string</span>&nbsp;<span class="op" id="2430496">==</span>&nbsp;<span class="ident" id="2430499"><a href="/reflect/type.go.html#2429793">s</a></span>&nbsp;<span class="op" id="2430501">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430505"><a href="/reflect/type.go.html#2429991">j</a></span><span class="op" id="2430506">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2430510">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2430514">//&nbsp;This&nbsp;slice&nbsp;will&nbsp;be&nbsp;empty&nbsp;if&nbsp;the&nbsp;string&nbsp;is&nbsp;not&nbsp;found.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2430571">return</span>&nbsp;<span class="ident" id="2430578"><a href="/reflect/type.go.html#2429815">typ</a></span><span class="op" id="2430581">[</span><span class="ident" id="2430582"><a href="/reflect/type.go.html#2429988">i</a></span><span class="op" id="2430583">:</span><span class="ident" id="2430584"><a href="/reflect/type.go.html#2429991">j</a></span><span class="op" id="2430585">]</span><br>
<span class="lineno"></span><span class="op" id="2430587">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2430590">//&nbsp;The&nbsp;lookupCache&nbsp;caches&nbsp;ChanOf,&nbsp;MapOf,&nbsp;and&nbsp;SliceOf&nbsp;lookups.</span><br>
<span class="lineno">1330</span><span class="keyword" id="2430652">var</span>&nbsp;<span class="ident" id="2430656">lookupCache</span>&nbsp;<span class="keyword" id="2430668">struct</span>&nbsp;<span class="op" id="2430675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430678"><a href="/reflect/type.go.html#2394428">sync</a></span><span class="op" id="2430682">.</span><span class="ident" id="2430683">RWMutex</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430692">m</span>&nbsp;<span class="keyword" id="2430694">map</span><span class="op" id="2430697">[</span><span class="ident" id="2430698"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2430706">]</span><span class="op" id="2430707">*</span><span class="ident" id="2430708"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span><span class="op" id="2430714">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1335</span><span class="comment" id="2430717">//&nbsp;A&nbsp;cacheKey&nbsp;is&nbsp;the&nbsp;key&nbsp;for&nbsp;use&nbsp;in&nbsp;the&nbsp;lookupCache.</span><br>
<span class="lineno"></span><span class="comment" id="2430770">//&nbsp;Four&nbsp;values&nbsp;describe&nbsp;any&nbsp;of&nbsp;the&nbsp;types&nbsp;we&nbsp;are&nbsp;looking&nbsp;for:</span><br>
<span class="lineno"></span><span class="comment" id="2430831">//&nbsp;type&nbsp;kind,&nbsp;one&nbsp;or&nbsp;two&nbsp;subtypes,&nbsp;and&nbsp;an&nbsp;extra&nbsp;integer.</span><br>
<span class="lineno"></span><span class="keyword" id="2430888">type</span>&nbsp;<span class="ident" id="2430893">cacheKey</span>&nbsp;<span class="keyword" id="2430902">struct</span>&nbsp;<span class="op" id="2430909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430912">kind</span>&nbsp;&nbsp;<span class="ident" id="2430918"><a href="/reflect/type.go.html#2401184">Kind</a></span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430924">t1</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430930">*</span><span class="ident" id="2430931"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430938">t2</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2430944">*</span><span class="ident" id="2430945"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2430952">extra</span>&nbsp;<span class="builtintype" id="2430958">uintptr</span><br>
<span class="lineno"></span><span class="op" id="2430966">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1345</span><span class="comment" id="2430969">//&nbsp;cacheGet&nbsp;looks&nbsp;for&nbsp;a&nbsp;type&nbsp;under&nbsp;the&nbsp;key&nbsp;k&nbsp;in&nbsp;the&nbsp;lookupCache.</span><br>
<span class="lineno"></span><span class="comment" id="2431034">//&nbsp;If&nbsp;it&nbsp;finds&nbsp;one,&nbsp;it&nbsp;returns&nbsp;that&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2431076">//&nbsp;If&nbsp;not,&nbsp;it&nbsp;returns&nbsp;nil&nbsp;with&nbsp;the&nbsp;cache&nbsp;locked.</span><br>
<span class="lineno"></span><span class="comment" id="2431125">//&nbsp;The&nbsp;caller&nbsp;is&nbsp;expected&nbsp;to&nbsp;use&nbsp;cachePut&nbsp;to&nbsp;unlock&nbsp;the&nbsp;cache.</span><br>
<span class="lineno"></span><span class="keyword" id="2431188">func</span>&nbsp;<span class="ident" id="2431193">cacheGet</span><span class="op" id="2431201">(</span><span class="ident" id="2431202">k</span>&nbsp;<span class="ident" id="2431204"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2431212">)</span>&nbsp;<span class="ident" id="2431214"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2431219">{</span><br>
<span class="lineno">1350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431222"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431233">.</span><span class="ident" id="2431234">RLock</span><span class="op" id="2431239">(</span><span class="op" id="2431240">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431243">t</span>&nbsp;<span class="op" id="2431245">:=</span>&nbsp;<span class="ident" id="2431248"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431259">.</span><span class="ident" id="2431260">m</span><span class="op" id="2431261">[</span><span class="ident" id="2431262"><a href="/reflect/type.go.html#2431202">k</a></span><span class="op" id="2431263">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431266"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431277">.</span><span class="ident" id="2431278">RUnlock</span><span class="op" id="2431285">(</span><span class="op" id="2431286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431289">if</span>&nbsp;<span class="ident" id="2431292"><a href="/reflect/type.go.html#2431243">t</a></span>&nbsp;<span class="op" id="2431294">!=</span>&nbsp;<span class="ident" id="2431297">nil</span>&nbsp;<span class="op" id="2431301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431305">return</span>&nbsp;<span class="ident" id="2431312"><a href="/reflect/type.go.html#2431243">t</a></span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2431315">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431319"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431330">.</span><span class="ident" id="2431331">Lock</span><span class="op" id="2431335">(</span><span class="op" id="2431336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431339"><a href="/reflect/type.go.html#2431243">t</a></span>&nbsp;<span class="op" id="2431341">=</span>&nbsp;<span class="ident" id="2431343"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431354">.</span><span class="ident" id="2431355">m</span><span class="op" id="2431356">[</span><span class="ident" id="2431357"><a href="/reflect/type.go.html#2431202">k</a></span><span class="op" id="2431358">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431361">if</span>&nbsp;<span class="ident" id="2431364"><a href="/reflect/type.go.html#2431243">t</a></span>&nbsp;<span class="op" id="2431366">!=</span>&nbsp;<span class="ident" id="2431369">nil</span>&nbsp;<span class="op" id="2431373">{</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431377"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431388">.</span><span class="ident" id="2431389">Unlock</span><span class="op" id="2431395">(</span><span class="op" id="2431396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431400">return</span>&nbsp;<span class="ident" id="2431407"><a href="/reflect/type.go.html#2431243">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2431410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431414">if</span>&nbsp;<span class="ident" id="2431417"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431428">.</span><span class="ident" id="2431429">m</span>&nbsp;<span class="op" id="2431431">==</span>&nbsp;<span class="ident" id="2431434">nil</span>&nbsp;<span class="op" id="2431438">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431442"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431453">.</span><span class="ident" id="2431454">m</span>&nbsp;<span class="op" id="2431456">=</span>&nbsp;<span class="builtinfunc" id="2431458">make</span><span class="op" id="2431462">(</span><span class="keyword" id="2431463">map</span><span class="op" id="2431466">[</span><span class="ident" id="2431467"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2431475">]</span><span class="op" id="2431476">*</span><span class="ident" id="2431477"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2431482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2431485">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431489">return</span>&nbsp;<span class="ident" id="2431496">nil</span><br>
<span class="lineno"></span><span class="op" id="2431500">}</span><br>
<span class="lineno">1370</span><br>
<span class="lineno"></span><span class="comment" id="2431503">//&nbsp;cachePut&nbsp;stores&nbsp;the&nbsp;given&nbsp;type&nbsp;in&nbsp;the&nbsp;cache,&nbsp;unlocks&nbsp;the&nbsp;cache,</span><br>
<span class="lineno"></span><span class="comment" id="2431570">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;type.&nbsp;It&nbsp;is&nbsp;expected&nbsp;that&nbsp;the&nbsp;cache&nbsp;is&nbsp;locked</span><br>
<span class="lineno"></span><span class="comment" id="2431635">//&nbsp;because&nbsp;cacheGet&nbsp;returned&nbsp;nil.</span><br>
<span class="lineno"></span><span class="keyword" id="2431669">func</span>&nbsp;<span class="ident" id="2431674">cachePut</span><span class="op" id="2431682">(</span><span class="ident" id="2431683">k</span>&nbsp;<span class="ident" id="2431685"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2431693">,</span>&nbsp;<span class="ident" id="2431695">t</span>&nbsp;<span class="op" id="2431697">*</span><span class="ident" id="2431698"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2431703">)</span>&nbsp;<span class="ident" id="2431705"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2431710">{</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431713"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431724">.</span><span class="ident" id="2431725">m</span><span class="op" id="2431726">[</span><span class="ident" id="2431727"><a href="/reflect/type.go.html#2431683">k</a></span><span class="op" id="2431728">]</span>&nbsp;<span class="op" id="2431730">=</span>&nbsp;<span class="ident" id="2431732"><a href="/reflect/type.go.html#2431695">t</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2431735"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2431746">.</span><span class="ident" id="2431747">Unlock</span><span class="op" id="2431753">(</span><span class="op" id="2431754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2431757">return</span>&nbsp;<span class="ident" id="2431764"><a href="/reflect/type.go.html#2431695">t</a></span><br>
<span class="lineno"></span><span class="op" id="2431766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1380</span><span class="comment" id="2431769">//&nbsp;ChanOf&nbsp;returns&nbsp;the&nbsp;channel&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;direction&nbsp;and&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2431847">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;ChanOf(RecvDir,&nbsp;t)&nbsp;represents&nbsp;&lt;-chan&nbsp;int.</span><br>
<span class="lineno"></span><span class="comment" id="2431926">//</span><br>
<span class="lineno"></span><span class="comment" id="2431929">//&nbsp;The&nbsp;gc&nbsp;runtime&nbsp;imposes&nbsp;a&nbsp;limit&nbsp;of&nbsp;64&nbsp;kB&nbsp;on&nbsp;channel&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="2431998">//&nbsp;If&nbsp;t&#39;s&nbsp;size&nbsp;is&nbsp;equal&nbsp;to&nbsp;or&nbsp;exceeds&nbsp;this&nbsp;limit,&nbsp;ChanOf&nbsp;panics.</span><br>
<span class="lineno">1385</span><span class="keyword" id="2432063">func</span>&nbsp;<span class="ident" id="2432068">ChanOf</span><span class="op" id="2432074">(</span><span class="ident" id="2432075">dir</span>&nbsp;<span class="ident" id="2432079"><a href="/reflect/type.go.html#2403748">ChanDir</a></span><span class="op" id="2432086">,</span>&nbsp;<span class="ident" id="2432088">t</span>&nbsp;<span class="ident" id="2432090"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2432094">)</span>&nbsp;<span class="ident" id="2432096"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2432101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432104">typ</span>&nbsp;<span class="op" id="2432108">:=</span>&nbsp;<span class="ident" id="2432111"><a href="/reflect/type.go.html#2432088">t</a></span><span class="op" id="2432112">.</span><span class="op" id="2432113">(</span><span class="op" id="2432114">*</span><span class="ident" id="2432115"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2432120">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2432124">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432143">ckey</span>&nbsp;<span class="op" id="2432148">:=</span>&nbsp;<span class="ident" id="2432151"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2432159">{</span><span class="ident" id="2432160"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2432164">,</span>&nbsp;<span class="ident" id="2432166"><a href="/reflect/type.go.html#2432104">typ</a></span><span class="op" id="2432169">,</span>&nbsp;<span class="ident" id="2432171">nil</span><span class="op" id="2432174">,</span>&nbsp;<span class="builtintype" id="2432176">uintptr</span><span class="op" id="2432183">(</span><span class="ident" id="2432184"><a href="/reflect/type.go.html#2432075">dir</a></span><span class="op" id="2432187">)</span><span class="op" id="2432188">}</span><br>
<span class="lineno">1390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432191">if</span>&nbsp;<span class="ident" id="2432194">ch</span>&nbsp;<span class="op" id="2432197">:=</span>&nbsp;<span class="ident" id="2432200"><a href="/reflect/type.go.html#2431193">cacheGet</a></span><span class="op" id="2432208">(</span><span class="ident" id="2432209"><a href="/reflect/type.go.html#2432143">ckey</a></span><span class="op" id="2432213">)</span><span class="op" id="2432214">;</span>&nbsp;<span class="ident" id="2432216"><a href="/reflect/type.go.html#2432194">ch</a></span>&nbsp;<span class="op" id="2432219">!=</span>&nbsp;<span class="ident" id="2432222">nil</span>&nbsp;<span class="op" id="2432226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432230">return</span>&nbsp;<span class="ident" id="2432237"><a href="/reflect/type.go.html#2432194">ch</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2432241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2432245">//&nbsp;This&nbsp;restriction&nbsp;is&nbsp;imposed&nbsp;by&nbsp;the&nbsp;gc&nbsp;compiler&nbsp;and&nbsp;the&nbsp;runtime.</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432313">if</span>&nbsp;<span class="ident" id="2432316"><a href="/reflect/type.go.html#2432104">typ</a></span><span class="op" id="2432319">.</span><span class="ident" id="2432320">size</span>&nbsp;<span class="op" id="2432325">&gt;=</span>&nbsp;<span class="num" id="2432328">1</span><span class="op" id="2432329">&lt;&lt;</span><span class="num" id="2432331">16</span>&nbsp;<span class="op" id="2432334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432338"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2432349">.</span><span class="ident" id="2432350">Unlock</span><span class="op" id="2432356">(</span><span class="op" id="2432357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2432361">panic</span><span class="op" id="2432366">(</span><span class="string" id="2432367">&#34;reflect.ChanOf:&nbsp;element&nbsp;size&nbsp;too&nbsp;large&#34;</span><span class="op" id="2432407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2432410">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2432414">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2432439">//&nbsp;TODO:&nbsp;Precedence&nbsp;when&nbsp;constructing&nbsp;string.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432486">var</span>&nbsp;<span class="ident" id="2432490">s</span>&nbsp;<span class="builtintype" id="2432492">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432500">switch</span>&nbsp;<span class="ident" id="2432507"><a href="/reflect/type.go.html#2432075">dir</a></span>&nbsp;<span class="op" id="2432511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432514">default</span><span class="op" id="2432521">:</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432525"><a href="/reflect/type.go.html#2430656">lookupCache</a></span><span class="op" id="2432536">.</span><span class="ident" id="2432537">Unlock</span><span class="op" id="2432543">(</span><span class="op" id="2432544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2432548">panic</span><span class="op" id="2432553">(</span><span class="string" id="2432554">&#34;reflect.ChanOf:&nbsp;invalid&nbsp;dir&#34;</span><span class="op" id="2432583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432586">case</span>&nbsp;<span class="ident" id="2432591"><a href="/reflect/type.go.html#2403821">SendDir</a></span><span class="op" id="2432598">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432602"><a href="/reflect/type.go.html#2432490">s</a></span>&nbsp;<span class="op" id="2432604">=</span>&nbsp;<span class="string" id="2432606">&#34;chan&lt;-&nbsp;&#34;</span>&nbsp;<span class="op" id="2432616">+</span>&nbsp;<span class="op" id="2432618">*</span><span class="ident" id="2432619"><a href="/reflect/type.go.html#2432104">typ</a></span><span class="op" id="2432622">.</span><span class="builtintype" id="2432623">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432631">case</span>&nbsp;<span class="ident" id="2432636"><a href="/reflect/type.go.html#2403770">RecvDir</a></span><span class="op" id="2432643">:</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432647"><a href="/reflect/type.go.html#2432490">s</a></span>&nbsp;<span class="op" id="2432649">=</span>&nbsp;<span class="string" id="2432651">&#34;&lt;-chan&nbsp;&#34;</span>&nbsp;<span class="op" id="2432661">+</span>&nbsp;<span class="op" id="2432663">*</span><span class="ident" id="2432664"><a href="/reflect/type.go.html#2432104">typ</a></span><span class="op" id="2432667">.</span><span class="builtintype" id="2432668">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432676">case</span>&nbsp;<span class="ident" id="2432681"><a href="/reflect/type.go.html#2403872">BothDir</a></span><span class="op" id="2432688">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432692"><a href="/reflect/type.go.html#2432490">s</a></span>&nbsp;<span class="op" id="2432694">=</span>&nbsp;<span class="string" id="2432696">&#34;chan&nbsp;&#34;</span>&nbsp;<span class="op" id="2432704">+</span>&nbsp;<span class="op" id="2432706">*</span><span class="ident" id="2432707"><a href="/reflect/type.go.html#2432104">typ</a></span><span class="op" id="2432710">.</span><span class="builtintype" id="2432711">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2432719">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432722">for</span>&nbsp;<span class="ident" id="2432726">_</span><span class="op" id="2432727">,</span>&nbsp;<span class="ident" id="2432729">tt</span>&nbsp;<span class="op" id="2432732">:=</span>&nbsp;<span class="keyword" id="2432735">range</span>&nbsp;<span class="ident" id="2432741"><a href="/reflect/type.go.html#2429779">typesByString</a></span><span class="op" id="2432754">(</span><span class="ident" id="2432755"><a href="/reflect/type.go.html#2432490">s</a></span><span class="op" id="2432756">)</span>&nbsp;<span class="op" id="2432758">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432762">ch</span>&nbsp;<span class="op" id="2432765">:=</span>&nbsp;<span class="op" id="2432768">(</span><span class="op" id="2432769">*</span><span class="ident" id="2432770"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2432778">)</span><span class="op" id="2432779">(</span><span class="ident" id="2432780"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2432786">.</span><span class="ident" id="2432787">Pointer</span><span class="op" id="2432794">(</span><span class="ident" id="2432795"><a href="/reflect/type.go.html#2432729">tt</a></span><span class="op" id="2432797">)</span><span class="op" id="2432798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432802">if</span>&nbsp;<span class="ident" id="2432805"><a href="/reflect/type.go.html#2432762">ch</a></span><span class="op" id="2432807">.</span><span class="ident" id="2432808">elem</span>&nbsp;<span class="op" id="2432813">==</span>&nbsp;<span class="ident" id="2432816"><a href="/reflect/type.go.html#2432104">typ</a></span>&nbsp;<span class="op" id="2432820">&amp;&amp;</span>&nbsp;<span class="ident" id="2432823"><a href="/reflect/type.go.html#2432762">ch</a></span><span class="op" id="2432825">.</span><span class="ident" id="2432826">dir</span>&nbsp;<span class="op" id="2432830">==</span>&nbsp;<span class="builtintype" id="2432833">uintptr</span><span class="op" id="2432840">(</span><span class="ident" id="2432841"><a href="/reflect/type.go.html#2432075">dir</a></span><span class="op" id="2432844">)</span>&nbsp;<span class="op" id="2432846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432851">return</span>&nbsp;<span class="ident" id="2432858"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2432866">(</span><span class="ident" id="2432867"><a href="/reflect/type.go.html#2432143">ckey</a></span><span class="op" id="2432871">,</span>&nbsp;<span class="ident" id="2432873"><a href="/reflect/type.go.html#2432729">tt</a></span><span class="op" id="2432875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2432879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2432882">}</span><br>
<span class="lineno">1420</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2432886">//&nbsp;Make&nbsp;a&nbsp;channel&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2432911">var</span>&nbsp;<span class="ident" id="2432915">ichan</span>&nbsp;<span class="keyword" id="2432921">interface</span><span class="op" id="2432930">{</span><span class="op" id="2432931">}</span>&nbsp;<span class="op" id="2432933">=</span>&nbsp;<span class="op" id="2432935">(</span><span class="keyword" id="2432936">chan</span>&nbsp;<span class="ident" id="2432941"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2432947">.</span><span class="ident" id="2432948">Pointer</span><span class="op" id="2432955">)</span><span class="op" id="2432956">(</span><span class="ident" id="2432957">nil</span><span class="op" id="2432960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2432963">prototype</span>&nbsp;<span class="op" id="2432973">:=</span>&nbsp;<span class="op" id="2432976">*</span><span class="op" id="2432977">(</span><span class="op" id="2432978">*</span><span class="op" id="2432979">*</span><span class="ident" id="2432980"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2432988">)</span><span class="op" id="2432989">(</span><span class="ident" id="2432990"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2432996">.</span><span class="ident" id="2432997">Pointer</span><span class="op" id="2433004">(</span><span class="op" id="2433005">&amp;</span><span class="ident" id="2433006"><a href="/reflect/type.go.html#2432915">ichan</a></span><span class="op" id="2433011">)</span><span class="op" id="2433012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433015">ch</span>&nbsp;<span class="op" id="2433018">:=</span>&nbsp;<span class="builtinfunc" id="2433021">new</span><span class="op" id="2433024">(</span><span class="ident" id="2433025"><a href="/reflect/type.go.html#2404142">chanType</a></span><span class="op" id="2433033">)</span><br>
<span class="lineno">1425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2433036">*</span><span class="ident" id="2433037"><a href="/reflect/type.go.html#2433015">ch</a></span>&nbsp;<span class="op" id="2433040">=</span>&nbsp;<span class="op" id="2433042">*</span><span class="ident" id="2433043"><a href="/reflect/type.go.html#2432963">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433054"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433056">.</span><span class="builtintype" id="2433057">string</span>&nbsp;<span class="op" id="2433064">=</span>&nbsp;<span class="op" id="2433066">&amp;</span><span class="ident" id="2433067"><a href="/reflect/type.go.html#2432490">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433070"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433072">.</span><span class="ident" id="2433073">hash</span>&nbsp;<span class="op" id="2433078">=</span>&nbsp;<span class="ident" id="2433080"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2433084">(</span><span class="ident" id="2433085"><a href="/reflect/type.go.html#2432104">typ</a></span><span class="op" id="2433088">.</span><span class="ident" id="2433089">hash</span><span class="op" id="2433093">,</span>&nbsp;<span class="string" id="2433095">&#39;c&#39;</span><span class="op" id="2433098">,</span>&nbsp;<span class="builtintype" id="2433100">byte</span><span class="op" id="2433104">(</span><span class="ident" id="2433105"><a href="/reflect/type.go.html#2432075">dir</a></span><span class="op" id="2433108">)</span><span class="op" id="2433109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433112"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433114">.</span><span class="ident" id="2433115">elem</span>&nbsp;<span class="op" id="2433120">=</span>&nbsp;<span class="ident" id="2433122"><a href="/reflect/type.go.html#2432104">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433127"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433129">.</span><span class="ident" id="2433130">uncommonType</span>&nbsp;<span class="op" id="2433143">=</span>&nbsp;<span class="ident" id="2433145">nil</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433150"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433152">.</span><span class="ident" id="2433153">ptrToThis</span>&nbsp;<span class="op" id="2433163">=</span>&nbsp;<span class="ident" id="2433165">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433170"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433172">.</span><span class="ident" id="2433173">zero</span>&nbsp;<span class="op" id="2433178">=</span>&nbsp;<span class="ident" id="2433180"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2433186">.</span><span class="ident" id="2433187">Pointer</span><span class="op" id="2433194">(</span><span class="op" id="2433195">&amp;</span><span class="builtinfunc" id="2433196">make</span><span class="op" id="2433200">(</span><span class="op" id="2433201">[</span><span class="op" id="2433202">]</span><span class="builtintype" id="2433203">byte</span><span class="op" id="2433207">,</span>&nbsp;<span class="ident" id="2433209"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433211">.</span><span class="ident" id="2433212">size</span><span class="op" id="2433216">)</span><span class="op" id="2433217">[</span><span class="num" id="2433218">0</span><span class="op" id="2433219">]</span><span class="op" id="2433220">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2433224">return</span>&nbsp;<span class="ident" id="2433231"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2433239">(</span><span class="ident" id="2433240"><a href="/reflect/type.go.html#2432143">ckey</a></span><span class="op" id="2433244">,</span>&nbsp;<span class="op" id="2433246">&amp;</span><span class="ident" id="2433247"><a href="/reflect/type.go.html#2433015">ch</a></span><span class="op" id="2433249">.</span><span class="ident" id="2433250">rtype</span><span class="op" id="2433255">)</span><br>
<span class="lineno"></span><span class="op" id="2433257">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="keyword" id="2433260">func</span>&nbsp;<span class="ident" id="2433265">ismapkey</span><span class="op" id="2433273">(</span><span class="op" id="2433274">*</span><span class="ident" id="2433275"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2433280">)</span>&nbsp;<span class="builtintype" id="2433282">bool</span>&nbsp;<span class="comment" id="2433287">//&nbsp;implemented&nbsp;in&nbsp;runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2433314">//&nbsp;MapOf&nbsp;returns&nbsp;the&nbsp;map&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;key&nbsp;and&nbsp;element&nbsp;types.</span><br>
<span class="lineno"></span><span class="comment" id="2433382">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;k&nbsp;represents&nbsp;int&nbsp;and&nbsp;e&nbsp;represents&nbsp;string,</span><br>
<span class="lineno">1440</span><span class="comment" id="2433443">//&nbsp;MapOf(k,&nbsp;e)&nbsp;represents&nbsp;map[int]string.</span><br>
<span class="lineno"></span><span class="comment" id="2433485">//</span><br>
<span class="lineno"></span><span class="comment" id="2433488">//&nbsp;If&nbsp;the&nbsp;key&nbsp;type&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;map&nbsp;key&nbsp;type&nbsp;(that&nbsp;is,&nbsp;if&nbsp;it&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="2433556">//&nbsp;not&nbsp;implement&nbsp;Go&#39;s&nbsp;==&nbsp;operator),&nbsp;MapOf&nbsp;panics.</span><br>
<span class="lineno"></span><span class="keyword" id="2433606">func</span>&nbsp;<span class="ident" id="2433611">MapOf</span><span class="op" id="2433616">(</span><span class="ident" id="2433617">key</span><span class="op" id="2433620">,</span>&nbsp;<span class="ident" id="2433622">elem</span>&nbsp;<span class="ident" id="2433627"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2433631">)</span>&nbsp;<span class="ident" id="2433633"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2433638">{</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433641">ktyp</span>&nbsp;<span class="op" id="2433646">:=</span>&nbsp;<span class="ident" id="2433649"><a href="/reflect/type.go.html#2433617">key</a></span><span class="op" id="2433652">.</span><span class="op" id="2433653">(</span><span class="op" id="2433654">*</span><span class="ident" id="2433655"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2433660">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433663">etyp</span>&nbsp;<span class="op" id="2433668">:=</span>&nbsp;<span class="ident" id="2433671"><a href="/reflect/type.go.html#2433622">elem</a></span><span class="op" id="2433675">.</span><span class="op" id="2433676">(</span><span class="op" id="2433677">*</span><span class="ident" id="2433678"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2433683">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2433687">if</span>&nbsp;<span class="op" id="2433690">!</span><span class="ident" id="2433691"><a href="/reflect/type.go.html#2433265">ismapkey</a></span><span class="op" id="2433699">(</span><span class="ident" id="2433700"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2433704">)</span>&nbsp;<span class="op" id="2433706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2433710">panic</span><span class="op" id="2433715">(</span><span class="string" id="2433716">&#34;reflect.MapOf:&nbsp;invalid&nbsp;key&nbsp;type&nbsp;&#34;</span>&nbsp;<span class="op" id="2433751">+</span>&nbsp;<span class="ident" id="2433753"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2433757">.</span><span class="ident" id="2433758">String</span><span class="op" id="2433764">(</span><span class="op" id="2433765">)</span><span class="op" id="2433766">)</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2433769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2433773">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433792">ckey</span>&nbsp;<span class="op" id="2433797">:=</span>&nbsp;<span class="ident" id="2433800"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2433808">{</span><span class="ident" id="2433809"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2433812">,</span>&nbsp;<span class="ident" id="2433814"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2433818">,</span>&nbsp;<span class="ident" id="2433820"><a href="/reflect/type.go.html#2433663">etyp</a></span><span class="op" id="2433824">,</span>&nbsp;<span class="num" id="2433826">0</span><span class="op" id="2433827">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2433830">if</span>&nbsp;<span class="ident" id="2433833">mt</span>&nbsp;<span class="op" id="2433836">:=</span>&nbsp;<span class="ident" id="2433839"><a href="/reflect/type.go.html#2431193">cacheGet</a></span><span class="op" id="2433847">(</span><span class="ident" id="2433848"><a href="/reflect/type.go.html#2433792">ckey</a></span><span class="op" id="2433852">)</span><span class="op" id="2433853">;</span>&nbsp;<span class="ident" id="2433855"><a href="/reflect/type.go.html#2433833">mt</a></span>&nbsp;<span class="op" id="2433858">!=</span>&nbsp;<span class="ident" id="2433861">nil</span>&nbsp;<span class="op" id="2433865">{</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2433869">return</span>&nbsp;<span class="ident" id="2433876"><a href="/reflect/type.go.html#2433833">mt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2433880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2433884">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433909">s</span>&nbsp;<span class="op" id="2433911">:=</span>&nbsp;<span class="string" id="2433914">&#34;map[&#34;</span>&nbsp;<span class="op" id="2433921">+</span>&nbsp;<span class="op" id="2433923">*</span><span class="ident" id="2433924"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2433928">.</span><span class="builtintype" id="2433929">string</span>&nbsp;<span class="op" id="2433936">+</span>&nbsp;<span class="string" id="2433938">&#34;]&#34;</span>&nbsp;<span class="op" id="2433942">+</span>&nbsp;<span class="op" id="2433944">*</span><span class="ident" id="2433945"><a href="/reflect/type.go.html#2433663">etyp</a></span><span class="op" id="2433949">.</span><span class="builtintype" id="2433950">string</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2433958">for</span>&nbsp;<span class="ident" id="2433962">_</span><span class="op" id="2433963">,</span>&nbsp;<span class="ident" id="2433965">tt</span>&nbsp;<span class="op" id="2433968">:=</span>&nbsp;<span class="keyword" id="2433971">range</span>&nbsp;<span class="ident" id="2433977"><a href="/reflect/type.go.html#2429779">typesByString</a></span><span class="op" id="2433990">(</span><span class="ident" id="2433991"><a href="/reflect/type.go.html#2433909">s</a></span><span class="op" id="2433992">)</span>&nbsp;<span class="op" id="2433994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2433998">mt</span>&nbsp;<span class="op" id="2434001">:=</span>&nbsp;<span class="op" id="2434004">(</span><span class="op" id="2434005">*</span><span class="ident" id="2434006"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2434013">)</span><span class="op" id="2434014">(</span><span class="ident" id="2434015"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2434021">.</span><span class="ident" id="2434022">Pointer</span><span class="op" id="2434029">(</span><span class="ident" id="2434030"><a href="/reflect/type.go.html#2433965">tt</a></span><span class="op" id="2434032">)</span><span class="op" id="2434033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2434037">if</span>&nbsp;<span class="ident" id="2434040"><a href="/reflect/type.go.html#2433998">mt</a></span><span class="op" id="2434042">.</span><span class="ident" id="2434043">key</span>&nbsp;<span class="op" id="2434047">==</span>&nbsp;<span class="ident" id="2434050"><a href="/reflect/type.go.html#2433641">ktyp</a></span>&nbsp;<span class="op" id="2434055">&amp;&amp;</span>&nbsp;<span class="ident" id="2434058"><a href="/reflect/type.go.html#2433998">mt</a></span><span class="op" id="2434060">.</span><span class="ident" id="2434061">elem</span>&nbsp;<span class="op" id="2434066">==</span>&nbsp;<span class="ident" id="2434069"><a href="/reflect/type.go.html#2433663">etyp</a></span>&nbsp;<span class="op" id="2434074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2434079">return</span>&nbsp;<span class="ident" id="2434086"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2434094">(</span><span class="ident" id="2434095"><a href="/reflect/type.go.html#2433792">ckey</a></span><span class="op" id="2434099">,</span>&nbsp;<span class="ident" id="2434101"><a href="/reflect/type.go.html#2433965">tt</a></span><span class="op" id="2434103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434107">}</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434110">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2434114">//&nbsp;Make&nbsp;a&nbsp;map&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2434135">var</span>&nbsp;<span class="ident" id="2434139">imap</span>&nbsp;<span class="keyword" id="2434144">interface</span><span class="op" id="2434153">{</span><span class="op" id="2434154">}</span>&nbsp;<span class="op" id="2434156">=</span>&nbsp;<span class="op" id="2434158">(</span><span class="keyword" id="2434159">map</span><span class="op" id="2434162">[</span><span class="ident" id="2434163"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2434169">.</span><span class="ident" id="2434170">Pointer</span><span class="op" id="2434177">]</span><span class="ident" id="2434178"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2434184">.</span><span class="ident" id="2434185">Pointer</span><span class="op" id="2434192">)</span><span class="op" id="2434193">(</span><span class="ident" id="2434194">nil</span><span class="op" id="2434197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434200">prototype</span>&nbsp;<span class="op" id="2434210">:=</span>&nbsp;<span class="op" id="2434213">*</span><span class="op" id="2434214">(</span><span class="op" id="2434215">*</span><span class="op" id="2434216">*</span><span class="ident" id="2434217"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2434224">)</span><span class="op" id="2434225">(</span><span class="ident" id="2434226"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2434232">.</span><span class="ident" id="2434233">Pointer</span><span class="op" id="2434240">(</span><span class="op" id="2434241">&amp;</span><span class="ident" id="2434242"><a href="/reflect/type.go.html#2434139">imap</a></span><span class="op" id="2434246">)</span><span class="op" id="2434247">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434250">mt</span>&nbsp;<span class="op" id="2434253">:=</span>&nbsp;<span class="builtinfunc" id="2434256">new</span><span class="op" id="2434259">(</span><span class="ident" id="2434260"><a href="/reflect/type.go.html#2404915">mapType</a></span><span class="op" id="2434267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434270">*</span><span class="ident" id="2434271"><a href="/reflect/type.go.html#2434250">mt</a></span>&nbsp;<span class="op" id="2434274">=</span>&nbsp;<span class="op" id="2434276">*</span><span class="ident" id="2434277"><a href="/reflect/type.go.html#2434200">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434288"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434290">.</span><span class="builtintype" id="2434291">string</span>&nbsp;<span class="op" id="2434298">=</span>&nbsp;<span class="op" id="2434300">&amp;</span><span class="ident" id="2434301"><a href="/reflect/type.go.html#2433909">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434304"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434306">.</span><span class="ident" id="2434307">hash</span>&nbsp;<span class="op" id="2434312">=</span>&nbsp;<span class="ident" id="2434314"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2434318">(</span><span class="ident" id="2434319"><a href="/reflect/type.go.html#2433663">etyp</a></span><span class="op" id="2434323">.</span><span class="ident" id="2434324">hash</span><span class="op" id="2434328">,</span>&nbsp;<span class="string" id="2434330">&#39;m&#39;</span><span class="op" id="2434333">,</span>&nbsp;<span class="builtintype" id="2434335">byte</span><span class="op" id="2434339">(</span><span class="ident" id="2434340"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434344">.</span><span class="ident" id="2434345">hash</span><span class="op" id="2434349">&gt;&gt;</span><span class="num" id="2434351">24</span><span class="op" id="2434353">)</span><span class="op" id="2434354">,</span>&nbsp;<span class="builtintype" id="2434356">byte</span><span class="op" id="2434360">(</span><span class="ident" id="2434361"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434365">.</span><span class="ident" id="2434366">hash</span><span class="op" id="2434370">&gt;&gt;</span><span class="num" id="2434372">16</span><span class="op" id="2434374">)</span><span class="op" id="2434375">,</span>&nbsp;<span class="builtintype" id="2434377">byte</span><span class="op" id="2434381">(</span><span class="ident" id="2434382"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434386">.</span><span class="ident" id="2434387">hash</span><span class="op" id="2434391">&gt;&gt;</span><span class="num" id="2434393">8</span><span class="op" id="2434394">)</span><span class="op" id="2434395">,</span>&nbsp;<span class="builtintype" id="2434397">byte</span><span class="op" id="2434401">(</span><span class="ident" id="2434402"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434406">.</span><span class="ident" id="2434407">hash</span><span class="op" id="2434411">)</span><span class="op" id="2434412">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434415"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434417">.</span><span class="ident" id="2434418">key</span>&nbsp;<span class="op" id="2434422">=</span>&nbsp;<span class="ident" id="2434424"><a href="/reflect/type.go.html#2433641">ktyp</a></span><br>
<span class="lineno">1475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434430"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434432">.</span><span class="ident" id="2434433">elem</span>&nbsp;<span class="op" id="2434438">=</span>&nbsp;<span class="ident" id="2434440"><a href="/reflect/type.go.html#2433663">etyp</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434446"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434448">.</span><span class="ident" id="2434449">bucket</span>&nbsp;<span class="op" id="2434456">=</span>&nbsp;<span class="ident" id="2434458"><a href="/reflect/type.go.html#2437559">bucketOf</a></span><span class="op" id="2434466">(</span><span class="ident" id="2434467"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434471">,</span>&nbsp;<span class="ident" id="2434473"><a href="/reflect/type.go.html#2433663">etyp</a></span><span class="op" id="2434477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2434480">if</span>&nbsp;<span class="ident" id="2434483"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434487">.</span><span class="ident" id="2434488">size</span>&nbsp;<span class="op" id="2434493">&gt;</span>&nbsp;<span class="ident" id="2434495"><a href="/reflect/type.go.html#2437516">maxKeySize</a></span>&nbsp;<span class="op" id="2434506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434510"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434512">.</span><span class="ident" id="2434513">keysize</span>&nbsp;<span class="op" id="2434521">=</span>&nbsp;<span class="builtintype" id="2434523">uint8</span><span class="op" id="2434528">(</span><span class="ident" id="2434529"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2434536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434540"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434542">.</span><span class="ident" id="2434543">indirectkey</span>&nbsp;<span class="op" id="2434555">=</span>&nbsp;<span class="num" id="2434557">1</span><br>
<span class="lineno">1480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434560">}</span>&nbsp;<span class="keyword" id="2434562">else</span>&nbsp;<span class="op" id="2434567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434571"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434573">.</span><span class="ident" id="2434574">keysize</span>&nbsp;<span class="op" id="2434582">=</span>&nbsp;<span class="builtintype" id="2434584">uint8</span><span class="op" id="2434589">(</span><span class="ident" id="2434590"><a href="/reflect/type.go.html#2433641">ktyp</a></span><span class="op" id="2434594">.</span><span class="ident" id="2434595">size</span><span class="op" id="2434599">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434603"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434605">.</span><span class="ident" id="2434606">indirectkey</span>&nbsp;<span class="op" id="2434618">=</span>&nbsp;<span class="num" id="2434620">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2434626">if</span>&nbsp;<span class="ident" id="2434629"><a href="/reflect/type.go.html#2433663">etyp</a></span><span class="op" id="2434633">.</span><span class="ident" id="2434634">size</span>&nbsp;<span class="op" id="2434639">&gt;</span>&nbsp;<span class="ident" id="2434641"><a href="/reflect/type.go.html#2437534">maxValSize</a></span>&nbsp;<span class="op" id="2434652">{</span><br>
<span class="lineno">1485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434656"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434658">.</span><span class="ident" id="2434659">valuesize</span>&nbsp;<span class="op" id="2434669">=</span>&nbsp;<span class="builtintype" id="2434671">uint8</span><span class="op" id="2434676">(</span><span class="ident" id="2434677"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2434684">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434688"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434690">.</span><span class="ident" id="2434691">indirectvalue</span>&nbsp;<span class="op" id="2434705">=</span>&nbsp;<span class="num" id="2434707">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434710">}</span>&nbsp;<span class="keyword" id="2434712">else</span>&nbsp;<span class="op" id="2434717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434721"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434723">.</span><span class="ident" id="2434724">valuesize</span>&nbsp;<span class="op" id="2434734">=</span>&nbsp;<span class="builtintype" id="2434736">uint8</span><span class="op" id="2434741">(</span><span class="ident" id="2434742"><a href="/reflect/type.go.html#2433663">etyp</a></span><span class="op" id="2434746">.</span><span class="ident" id="2434747">size</span><span class="op" id="2434751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434755"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434757">.</span><span class="ident" id="2434758">indirectvalue</span>&nbsp;<span class="op" id="2434772">=</span>&nbsp;<span class="num" id="2434774">0</span><br>
<span class="lineno">1490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2434777">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434780"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434782">.</span><span class="ident" id="2434783">bucketsize</span>&nbsp;<span class="op" id="2434794">=</span>&nbsp;<span class="builtintype" id="2434796">uint16</span><span class="op" id="2434802">(</span><span class="ident" id="2434803"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434805">.</span><span class="ident" id="2434806">bucket</span><span class="op" id="2434812">.</span><span class="ident" id="2434813">size</span><span class="op" id="2434817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434820"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434822">.</span><span class="ident" id="2434823">uncommonType</span>&nbsp;<span class="op" id="2434836">=</span>&nbsp;<span class="ident" id="2434838">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434843"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434845">.</span><span class="ident" id="2434846">ptrToThis</span>&nbsp;<span class="op" id="2434856">=</span>&nbsp;<span class="ident" id="2434858">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2434863"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434865">.</span><span class="ident" id="2434866">zero</span>&nbsp;<span class="op" id="2434871">=</span>&nbsp;<span class="ident" id="2434873"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2434879">.</span><span class="ident" id="2434880">Pointer</span><span class="op" id="2434887">(</span><span class="op" id="2434888">&amp;</span><span class="builtinfunc" id="2434889">make</span><span class="op" id="2434893">(</span><span class="op" id="2434894">[</span><span class="op" id="2434895">]</span><span class="builtintype" id="2434896">byte</span><span class="op" id="2434900">,</span>&nbsp;<span class="ident" id="2434902"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434904">.</span><span class="ident" id="2434905">size</span><span class="op" id="2434909">)</span><span class="op" id="2434910">[</span><span class="num" id="2434911">0</span><span class="op" id="2434912">]</span><span class="op" id="2434913">)</span><br>
<span class="lineno">1495</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2434917">return</span>&nbsp;<span class="ident" id="2434924"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2434932">(</span><span class="ident" id="2434933"><a href="/reflect/type.go.html#2433792">ckey</a></span><span class="op" id="2434937">,</span>&nbsp;<span class="op" id="2434939">&amp;</span><span class="ident" id="2434940"><a href="/reflect/type.go.html#2434250">mt</a></span><span class="op" id="2434942">.</span><span class="ident" id="2434943">rtype</span><span class="op" id="2434948">)</span><br>
<span class="lineno"></span><span class="op" id="2434950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2434953">//&nbsp;gcProg&nbsp;is&nbsp;a&nbsp;helper&nbsp;type&nbsp;for&nbsp;generatation&nbsp;of&nbsp;GC&nbsp;pointer&nbsp;info.</span><br>
<span class="lineno">1500</span><span class="keyword" id="2435017">type</span>&nbsp;<span class="ident" id="2435022">gcProg</span>&nbsp;<span class="keyword" id="2435029">struct</span>&nbsp;<span class="op" id="2435036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435039">gc</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2435044">[</span><span class="op" id="2435045">]</span><span class="builtintype" id="2435046">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435052">size</span>&nbsp;<span class="builtintype" id="2435057">uintptr</span>&nbsp;<span class="comment" id="2435065">//&nbsp;size&nbsp;of&nbsp;type&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span><span class="op" id="2435090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1505</span><span class="keyword" id="2435093">func</span>&nbsp;<span class="op" id="2435098">(</span><span class="ident" id="2435099">gc</span>&nbsp;<span class="op" id="2435102">*</span><span class="ident" id="2435103"><a href="/reflect/type.go.html#2435022">gcProg</a></span><span class="op" id="2435109">)</span>&nbsp;<span class="builtinfunc" id="2435111">append</span><span class="op" id="2435117">(</span><span class="ident" id="2435118">v</span>&nbsp;<span class="builtintype" id="2435120">byte</span><span class="op" id="2435124">)</span>&nbsp;<span class="op" id="2435126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435129"><a href="/reflect/type.go.html#2435099">gc</a></span><span class="op" id="2435131">.</span><span class="ident" id="2435132">align</span><span class="op" id="2435137">(</span><span class="ident" id="2435138"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2435144">.</span><span class="ident" id="2435145">Sizeof</span><span class="op" id="2435151">(</span><span class="builtintype" id="2435152">uintptr</span><span class="op" id="2435159">(</span><span class="num" id="2435160">0</span><span class="op" id="2435161">)</span><span class="op" id="2435162">)</span><span class="op" id="2435163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435166"><a href="/reflect/type.go.html#2435099">gc</a></span><span class="op" id="2435168">.</span><span class="ident" id="2435169">appendWord</span><span class="op" id="2435179">(</span><span class="ident" id="2435180"><a href="/reflect/type.go.html#2435118">v</a></span><span class="op" id="2435181">)</span><br>
<span class="lineno"></span><span class="op" id="2435183">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1510</span><span class="comment" id="2435186">//&nbsp;Appends&nbsp;t&#39;s&nbsp;type&nbsp;info&nbsp;to&nbsp;the&nbsp;current&nbsp;program.</span><br>
<span class="lineno"></span><span class="keyword" id="2435235">func</span>&nbsp;<span class="op" id="2435240">(</span><span class="ident" id="2435241">gc</span>&nbsp;<span class="op" id="2435244">*</span><span class="ident" id="2435245"><a href="/reflect/type.go.html#2435022">gcProg</a></span><span class="op" id="2435251">)</span>&nbsp;<span class="ident" id="2435253">appendProg</span><span class="op" id="2435263">(</span><span class="ident" id="2435264">t</span>&nbsp;<span class="op" id="2435266">*</span><span class="ident" id="2435267"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2435272">)</span>&nbsp;<span class="op" id="2435274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435277"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435279">.</span><span class="ident" id="2435280">align</span><span class="op" id="2435285">(</span><span class="builtintype" id="2435286">uintptr</span><span class="op" id="2435293">(</span><span class="ident" id="2435294"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435295">.</span><span class="ident" id="2435296">align</span><span class="op" id="2435301">)</span><span class="op" id="2435302">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435305">if</span>&nbsp;<span class="op" id="2435308">!</span><span class="ident" id="2435309"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435310">.</span><span class="ident" id="2435311">pointers</span><span class="op" id="2435319">(</span><span class="op" id="2435320">)</span>&nbsp;<span class="op" id="2435322">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435326"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435328">.</span><span class="ident" id="2435329">size</span>&nbsp;<span class="op" id="2435334">+=</span>&nbsp;<span class="ident" id="2435337"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435338">.</span><span class="ident" id="2435339">size</span><br>
<span class="lineno">1515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435346">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435357">switch</span>&nbsp;<span class="ident" id="2435364"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435365">.</span><span class="ident" id="2435366">Kind</span><span class="op" id="2435370">(</span><span class="op" id="2435371">)</span>&nbsp;<span class="op" id="2435373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435376">default</span><span class="op" id="2435383">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2435387">panic</span><span class="op" id="2435392">(</span><span class="string" id="2435393">&#34;reflect:&nbsp;non-pointer&nbsp;type&nbsp;marked&nbsp;as&nbsp;having&nbsp;pointers&#34;</span><span class="op" id="2435446">)</span><br>
<span class="lineno">1520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435449">case</span>&nbsp;<span class="ident" id="2435454"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2435457">,</span>&nbsp;<span class="ident" id="2435459"><a href="/reflect/type.go.html#2401413">UnsafePointer</a></span><span class="op" id="2435472">,</span>&nbsp;<span class="ident" id="2435474"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2435478">,</span>&nbsp;<span class="ident" id="2435480"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2435484">,</span>&nbsp;<span class="ident" id="2435486"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2435489">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435493"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435495">.</span><span class="ident" id="2435496">appendWord</span><span class="op" id="2435506">(</span><span class="ident" id="2435507"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2435518">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435521">case</span>&nbsp;<span class="ident" id="2435526"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2435531">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435535"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435537">.</span><span class="ident" id="2435538">appendWord</span><span class="op" id="2435548">(</span><span class="ident" id="2435549"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2435560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435564"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435566">.</span><span class="ident" id="2435567">appendWord</span><span class="op" id="2435577">(</span><span class="ident" id="2435578"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2435588">)</span><br>
<span class="lineno">1525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435592"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435594">.</span><span class="ident" id="2435595">appendWord</span><span class="op" id="2435605">(</span><span class="ident" id="2435606"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2435616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435619">case</span>&nbsp;<span class="ident" id="2435624"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2435630">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435634"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435636">.</span><span class="ident" id="2435637">appendWord</span><span class="op" id="2435647">(</span><span class="ident" id="2435648"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2435659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435663"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435665">.</span><span class="ident" id="2435666">appendWord</span><span class="op" id="2435676">(</span><span class="ident" id="2435677"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2435687">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435690">case</span>&nbsp;<span class="ident" id="2435695"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2435700">:</span><br>
<span class="lineno">1530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435704">c</span>&nbsp;<span class="op" id="2435706">:=</span>&nbsp;<span class="ident" id="2435709"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435710">.</span><span class="ident" id="2435711">Len</span><span class="op" id="2435714">(</span><span class="op" id="2435715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435719">e</span>&nbsp;<span class="op" id="2435721">:=</span>&nbsp;<span class="ident" id="2435724"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435725">.</span><span class="ident" id="2435726">Elem</span><span class="op" id="2435730">(</span><span class="op" id="2435731">)</span><span class="op" id="2435732">.</span><span class="ident" id="2435733">common</span><span class="op" id="2435739">(</span><span class="op" id="2435740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435744">for</span>&nbsp;<span class="ident" id="2435748">i</span>&nbsp;<span class="op" id="2435750">:=</span>&nbsp;<span class="num" id="2435753">0</span><span class="op" id="2435754">;</span>&nbsp;<span class="ident" id="2435756"><a href="/reflect/type.go.html#2435748">i</a></span>&nbsp;<span class="op" id="2435758">&lt;</span>&nbsp;<span class="ident" id="2435760"><a href="/reflect/type.go.html#2435704">c</a></span><span class="op" id="2435761">;</span>&nbsp;<span class="ident" id="2435763"><a href="/reflect/type.go.html#2435748">i</a></span><span class="op" id="2435764">++</span>&nbsp;<span class="op" id="2435767">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435772"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435774">.</span><span class="ident" id="2435775">appendProg</span><span class="op" id="2435785">(</span><span class="ident" id="2435786"><a href="/reflect/type.go.html#2435719">e</a></span><span class="op" id="2435787">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435791">}</span><br>
<span class="lineno">1535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435794">case</span>&nbsp;<span class="ident" id="2435799"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2435808">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435812"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435814">.</span><span class="ident" id="2435815">appendWord</span><span class="op" id="2435825">(</span><span class="ident" id="2435826"><a href="/reflect/type.go.html#2437189">bitsMultiWord</a></span><span class="op" id="2435839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435843">if</span>&nbsp;<span class="ident" id="2435846"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435847">.</span><span class="ident" id="2435848">NumMethod</span><span class="op" id="2435857">(</span><span class="op" id="2435858">)</span>&nbsp;<span class="op" id="2435860">==</span>&nbsp;<span class="num" id="2435863">0</span>&nbsp;<span class="op" id="2435865">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435870"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435872">.</span><span class="ident" id="2435873">appendWord</span><span class="op" id="2435883">(</span><span class="ident" id="2435884"><a href="/reflect/type.go.html#2437224">bitsEface</a></span><span class="op" id="2435893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435897">}</span>&nbsp;<span class="keyword" id="2435899">else</span>&nbsp;<span class="op" id="2435904">{</span><br>
<span class="lineno">1540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435909"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2435911">.</span><span class="ident" id="2435912">appendWord</span><span class="op" id="2435922">(</span><span class="ident" id="2435923"><a href="/reflect/type.go.html#2437209">bitsIface</a></span><span class="op" id="2435932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2435936">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435939">case</span>&nbsp;<span class="ident" id="2435944"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2435950">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2435954">c</span>&nbsp;<span class="op" id="2435956">:=</span>&nbsp;<span class="ident" id="2435959"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2435960">.</span><span class="ident" id="2435961">NumField</span><span class="op" id="2435969">(</span><span class="op" id="2435970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2435974">for</span>&nbsp;<span class="ident" id="2435978">i</span>&nbsp;<span class="op" id="2435980">:=</span>&nbsp;<span class="num" id="2435983">0</span><span class="op" id="2435984">;</span>&nbsp;<span class="ident" id="2435986"><a href="/reflect/type.go.html#2435978">i</a></span>&nbsp;<span class="op" id="2435988">&lt;</span>&nbsp;<span class="ident" id="2435990"><a href="/reflect/type.go.html#2435954">c</a></span><span class="op" id="2435991">;</span>&nbsp;<span class="ident" id="2435993"><a href="/reflect/type.go.html#2435978">i</a></span><span class="op" id="2435994">++</span>&nbsp;<span class="op" id="2435997">{</span><br>
<span class="lineno">1545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436002"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2436004">.</span><span class="ident" id="2436005">appendProg</span><span class="op" id="2436015">(</span><span class="ident" id="2436016"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2436017">.</span><span class="ident" id="2436018">Field</span><span class="op" id="2436023">(</span><span class="ident" id="2436024"><a href="/reflect/type.go.html#2435978">i</a></span><span class="op" id="2436025">)</span><span class="op" id="2436026">.</span><span class="ident" id="2436027">Type</span><span class="op" id="2436031">.</span><span class="ident" id="2436032">common</span><span class="op" id="2436038">(</span><span class="op" id="2436039">)</span><span class="op" id="2436040">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436048"><a href="/reflect/type.go.html#2435241">gc</a></span><span class="op" id="2436050">.</span><span class="ident" id="2436051">align</span><span class="op" id="2436056">(</span><span class="builtintype" id="2436057">uintptr</span><span class="op" id="2436064">(</span><span class="ident" id="2436065"><a href="/reflect/type.go.html#2435264">t</a></span><span class="op" id="2436066">.</span><span class="ident" id="2436067">align</span><span class="op" id="2436072">)</span><span class="op" id="2436073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436076">}</span><br>
<span class="lineno"></span><span class="op" id="2436078">}</span><br>
<span class="lineno">1550</span><br>
<span class="lineno"></span><span class="keyword" id="2436081">func</span>&nbsp;<span class="op" id="2436086">(</span><span class="ident" id="2436087">gc</span>&nbsp;<span class="op" id="2436090">*</span><span class="ident" id="2436091"><a href="/reflect/type.go.html#2435022">gcProg</a></span><span class="op" id="2436097">)</span>&nbsp;<span class="ident" id="2436099">appendWord</span><span class="op" id="2436109">(</span><span class="ident" id="2436110">v</span>&nbsp;<span class="builtintype" id="2436112">byte</span><span class="op" id="2436116">)</span>&nbsp;<span class="op" id="2436118">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436121">ptrsize</span>&nbsp;<span class="op" id="2436129">:=</span>&nbsp;<span class="ident" id="2436132"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2436138">.</span><span class="ident" id="2436139">Sizeof</span><span class="op" id="2436145">(</span><span class="builtintype" id="2436146">uintptr</span><span class="op" id="2436153">(</span><span class="num" id="2436154">0</span><span class="op" id="2436155">)</span><span class="op" id="2436156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436159">if</span>&nbsp;<span class="ident" id="2436162"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436164">.</span><span class="ident" id="2436165">size</span><span class="op" id="2436169">%</span><span class="ident" id="2436170"><a href="/reflect/type.go.html#2436121">ptrsize</a></span>&nbsp;<span class="op" id="2436178">!=</span>&nbsp;<span class="num" id="2436181">0</span>&nbsp;<span class="op" id="2436183">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2436187">panic</span><span class="op" id="2436192">(</span><span class="string" id="2436193">&#34;reflect:&nbsp;unaligned&nbsp;GC&nbsp;program&#34;</span><span class="op" id="2436224">)</span><br>
<span class="lineno">1555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436230">nptr</span>&nbsp;<span class="op" id="2436235">:=</span>&nbsp;<span class="ident" id="2436238"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436240">.</span><span class="ident" id="2436241">size</span>&nbsp;<span class="op" id="2436246">/</span>&nbsp;<span class="ident" id="2436248"><a href="/reflect/type.go.html#2436121">ptrsize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436257">for</span>&nbsp;<span class="builtintype" id="2436261">uintptr</span><span class="op" id="2436268">(</span><span class="builtinfunc" id="2436269">len</span><span class="op" id="2436272">(</span><span class="ident" id="2436273"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436275">.</span><span class="ident" id="2436276">gc</span><span class="op" id="2436278">)</span><span class="op" id="2436279">)</span>&nbsp;<span class="op" id="2436281">&lt;</span>&nbsp;<span class="ident" id="2436283"><a href="/reflect/type.go.html#2436230">nptr</a></span><span class="op" id="2436287">/</span><span class="num" id="2436288">2</span><span class="op" id="2436289">+</span><span class="num" id="2436290">1</span>&nbsp;<span class="op" id="2436292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436296"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436298">.</span><span class="ident" id="2436299">gc</span>&nbsp;<span class="op" id="2436302">=</span>&nbsp;<span class="builtinfunc" id="2436304">append</span><span class="op" id="2436310">(</span><span class="ident" id="2436311"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436313">.</span><span class="ident" id="2436314">gc</span><span class="op" id="2436316">,</span>&nbsp;<span class="num" id="2436318">0x44</span><span class="op" id="2436322">)</span>&nbsp;<span class="comment" id="2436324">//&nbsp;BitsScalar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436339">}</span><br>
<span class="lineno">1560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436342"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436344">.</span><span class="ident" id="2436345">gc</span><span class="op" id="2436347">[</span><span class="ident" id="2436348"><a href="/reflect/type.go.html#2436230">nptr</a></span><span class="op" id="2436352">/</span><span class="num" id="2436353">2</span><span class="op" id="2436354">]</span>&nbsp;<span class="op" id="2436356">&amp;=</span>&nbsp;<span class="op" id="2436359">^</span><span class="op" id="2436360">(</span><span class="num" id="2436361">3</span>&nbsp;<span class="op" id="2436363">&lt;&lt;</span>&nbsp;<span class="op" id="2436366">(</span><span class="op" id="2436367">(</span><span class="ident" id="2436368"><a href="/reflect/type.go.html#2436230">nptr</a></span><span class="op" id="2436372">%</span><span class="num" id="2436373">2</span><span class="op" id="2436374">)</span><span class="op" id="2436375">*</span><span class="num" id="2436376">4</span>&nbsp;<span class="op" id="2436378">+</span>&nbsp;<span class="num" id="2436380">2</span><span class="op" id="2436381">)</span><span class="op" id="2436382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436385"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436387">.</span><span class="ident" id="2436388">gc</span><span class="op" id="2436390">[</span><span class="ident" id="2436391"><a href="/reflect/type.go.html#2436230">nptr</a></span><span class="op" id="2436395">/</span><span class="num" id="2436396">2</span><span class="op" id="2436397">]</span>&nbsp;<span class="op" id="2436399">|=</span>&nbsp;<span class="ident" id="2436402"><a href="/reflect/type.go.html#2436110">v</a></span>&nbsp;<span class="op" id="2436404">&lt;&lt;</span>&nbsp;<span class="op" id="2436407">(</span><span class="op" id="2436408">(</span><span class="ident" id="2436409"><a href="/reflect/type.go.html#2436230">nptr</a></span><span class="op" id="2436413">%</span><span class="num" id="2436414">2</span><span class="op" id="2436415">)</span><span class="op" id="2436416">*</span><span class="num" id="2436417">4</span>&nbsp;<span class="op" id="2436419">+</span>&nbsp;<span class="num" id="2436421">2</span><span class="op" id="2436422">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436425"><a href="/reflect/type.go.html#2436087">gc</a></span><span class="op" id="2436427">.</span><span class="ident" id="2436428">size</span>&nbsp;<span class="op" id="2436433">+=</span>&nbsp;<span class="ident" id="2436436"><a href="/reflect/type.go.html#2436121">ptrsize</a></span><br>
<span class="lineno"></span><span class="op" id="2436444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1565</span><span class="keyword" id="2436447">func</span>&nbsp;<span class="op" id="2436452">(</span><span class="ident" id="2436453">gc</span>&nbsp;<span class="op" id="2436456">*</span><span class="ident" id="2436457"><a href="/reflect/type.go.html#2435022">gcProg</a></span><span class="op" id="2436463">)</span>&nbsp;<span class="ident" id="2436465">finalize</span><span class="op" id="2436473">(</span><span class="op" id="2436474">)</span>&nbsp;<span class="ident" id="2436476"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2436482">.</span><span class="ident" id="2436483">Pointer</span>&nbsp;<span class="op" id="2436491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436494">if</span>&nbsp;<span class="ident" id="2436497"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436499">.</span><span class="ident" id="2436500">size</span>&nbsp;<span class="op" id="2436505">==</span>&nbsp;<span class="num" id="2436508">0</span>&nbsp;<span class="op" id="2436510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436514">return</span>&nbsp;<span class="ident" id="2436521">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436526">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436529">ptrsize</span>&nbsp;<span class="op" id="2436537">:=</span>&nbsp;<span class="ident" id="2436540"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2436546">.</span><span class="ident" id="2436547">Sizeof</span><span class="op" id="2436553">(</span><span class="builtintype" id="2436554">uintptr</span><span class="op" id="2436561">(</span><span class="num" id="2436562">0</span><span class="op" id="2436563">)</span><span class="op" id="2436564">)</span><br>
<span class="lineno">1570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436567"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436569">.</span><span class="ident" id="2436570">align</span><span class="op" id="2436575">(</span><span class="ident" id="2436576"><a href="/reflect/type.go.html#2436529">ptrsize</a></span><span class="op" id="2436583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436586">nptr</span>&nbsp;<span class="op" id="2436591">:=</span>&nbsp;<span class="ident" id="2436594"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436596">.</span><span class="ident" id="2436597">size</span>&nbsp;<span class="op" id="2436602">/</span>&nbsp;<span class="ident" id="2436604"><a href="/reflect/type.go.html#2436529">ptrsize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436613">for</span>&nbsp;<span class="builtintype" id="2436617">uintptr</span><span class="op" id="2436624">(</span><span class="builtinfunc" id="2436625">len</span><span class="op" id="2436628">(</span><span class="ident" id="2436629"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436631">.</span><span class="ident" id="2436632">gc</span><span class="op" id="2436634">)</span><span class="op" id="2436635">)</span>&nbsp;<span class="op" id="2436637">&lt;</span>&nbsp;<span class="ident" id="2436639"><a href="/reflect/type.go.html#2436586">nptr</a></span><span class="op" id="2436643">/</span><span class="num" id="2436644">2</span><span class="op" id="2436645">+</span><span class="num" id="2436646">1</span>&nbsp;<span class="op" id="2436648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436652"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436654">.</span><span class="ident" id="2436655">gc</span>&nbsp;<span class="op" id="2436658">=</span>&nbsp;<span class="builtinfunc" id="2436660">append</span><span class="op" id="2436666">(</span><span class="ident" id="2436667"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436669">.</span><span class="ident" id="2436670">gc</span><span class="op" id="2436672">,</span>&nbsp;<span class="num" id="2436674">0x44</span><span class="op" id="2436678">)</span>&nbsp;<span class="comment" id="2436680">//&nbsp;BitsScalar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436695">}</span><br>
<span class="lineno">1575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2436698">//&nbsp;If&nbsp;number&nbsp;of&nbsp;words&nbsp;is&nbsp;odd,&nbsp;repeat&nbsp;the&nbsp;mask&nbsp;twice.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2436752">//&nbsp;Compiler&nbsp;does&nbsp;the&nbsp;same.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436780">if</span>&nbsp;<span class="ident" id="2436783"><a href="/reflect/type.go.html#2436586">nptr</a></span><span class="op" id="2436787">%</span><span class="num" id="2436788">2</span>&nbsp;<span class="op" id="2436790">!=</span>&nbsp;<span class="num" id="2436793">0</span>&nbsp;<span class="op" id="2436795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436799">for</span>&nbsp;<span class="ident" id="2436803">i</span>&nbsp;<span class="op" id="2436805">:=</span>&nbsp;<span class="builtintype" id="2436808">uintptr</span><span class="op" id="2436815">(</span><span class="num" id="2436816">0</span><span class="op" id="2436817">)</span><span class="op" id="2436818">;</span>&nbsp;<span class="ident" id="2436820"><a href="/reflect/type.go.html#2436803">i</a></span>&nbsp;<span class="op" id="2436822">&lt;</span>&nbsp;<span class="ident" id="2436824"><a href="/reflect/type.go.html#2436586">nptr</a></span><span class="op" id="2436828">;</span>&nbsp;<span class="ident" id="2436830"><a href="/reflect/type.go.html#2436803">i</a></span><span class="op" id="2436831">++</span>&nbsp;<span class="op" id="2436834">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2436839"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436841">.</span><span class="ident" id="2436842">appendWord</span><span class="op" id="2436852">(</span><span class="ident" id="2436853"><a href="/reflect/type.go.html#2436927">extractGCWord</a></span><span class="op" id="2436866">(</span><span class="ident" id="2436867"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436869">.</span><span class="ident" id="2436870">gc</span><span class="op" id="2436872">,</span>&nbsp;<span class="ident" id="2436874"><a href="/reflect/type.go.html#2436803">i</a></span><span class="op" id="2436875">)</span><span class="op" id="2436876">)</span><br>
<span class="lineno">1580</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436880">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2436883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436886">return</span>&nbsp;<span class="ident" id="2436893"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2436899">.</span><span class="ident" id="2436900">Pointer</span><span class="op" id="2436907">(</span><span class="op" id="2436908">&amp;</span><span class="ident" id="2436909"><a href="/reflect/type.go.html#2436453">gc</a></span><span class="op" id="2436911">.</span><span class="ident" id="2436912">gc</span><span class="op" id="2436914">[</span><span class="num" id="2436915">0</span><span class="op" id="2436916">]</span><span class="op" id="2436917">)</span><br>
<span class="lineno"></span><span class="op" id="2436919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1585</span><span class="keyword" id="2436922">func</span>&nbsp;<span class="ident" id="2436927">extractGCWord</span><span class="op" id="2436940">(</span><span class="ident" id="2436941">gc</span>&nbsp;<span class="op" id="2436944">[</span><span class="op" id="2436945">]</span><span class="builtintype" id="2436946">byte</span><span class="op" id="2436950">,</span>&nbsp;<span class="ident" id="2436952">i</span>&nbsp;<span class="builtintype" id="2436954">uintptr</span><span class="op" id="2436961">)</span>&nbsp;<span class="builtintype" id="2436963">byte</span>&nbsp;<span class="op" id="2436968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2436971">return</span>&nbsp;<span class="op" id="2436978">(</span><span class="ident" id="2436979"><a href="/reflect/type.go.html#2436941">gc</a></span><span class="op" id="2436981">[</span><span class="ident" id="2436982"><a href="/reflect/type.go.html#2436952">i</a></span><span class="op" id="2436983">/</span><span class="num" id="2436984">2</span><span class="op" id="2436985">]</span>&nbsp;<span class="op" id="2436987">&gt;&gt;</span>&nbsp;<span class="op" id="2436990">(</span><span class="op" id="2436991">(</span><span class="ident" id="2436992"><a href="/reflect/type.go.html#2436952">i</a></span><span class="op" id="2436993">%</span><span class="num" id="2436994">2</span><span class="op" id="2436995">)</span><span class="op" id="2436996">*</span><span class="num" id="2436997">4</span>&nbsp;<span class="op" id="2436999">+</span>&nbsp;<span class="num" id="2437001">2</span><span class="op" id="2437002">)</span><span class="op" id="2437003">)</span>&nbsp;<span class="op" id="2437005">&amp;</span>&nbsp;<span class="num" id="2437007">3</span><br>
<span class="lineno"></span><span class="op" id="2437009">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2437012">func</span>&nbsp;<span class="op" id="2437017">(</span><span class="ident" id="2437018">gc</span>&nbsp;<span class="op" id="2437021">*</span><span class="ident" id="2437022"><a href="/reflect/type.go.html#2435022">gcProg</a></span><span class="op" id="2437028">)</span>&nbsp;<span class="ident" id="2437030">align</span><span class="op" id="2437035">(</span><span class="ident" id="2437036">a</span>&nbsp;<span class="builtintype" id="2437038">uintptr</span><span class="op" id="2437045">)</span>&nbsp;<span class="op" id="2437047">{</span><br>
<span class="lineno">1590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437050"><a href="/reflect/type.go.html#2437018">gc</a></span><span class="op" id="2437052">.</span><span class="ident" id="2437053">size</span>&nbsp;<span class="op" id="2437058">=</span>&nbsp;<span class="ident" id="2437060"><a href="/reflect/value.go.html#2463280">align</a></span><span class="op" id="2437065">(</span><span class="ident" id="2437066"><a href="/reflect/type.go.html#2437018">gc</a></span><span class="op" id="2437068">.</span><span class="ident" id="2437069">size</span><span class="op" id="2437073">,</span>&nbsp;<span class="ident" id="2437075"><a href="/reflect/type.go.html#2437036">a</a></span><span class="op" id="2437076">)</span><br>
<span class="lineno"></span><span class="op" id="2437078">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2437081">//&nbsp;These&nbsp;constants&nbsp;must&nbsp;stay&nbsp;in&nbsp;sync&nbsp;with&nbsp;../runtime/mgc0.h.</span><br>
<span class="lineno"></span><span class="keyword" id="2437142">const</span>&nbsp;<span class="op" id="2437148">(</span><br>
<span class="lineno">1595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437151">bitsScalar</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2437165">=</span>&nbsp;<span class="num" id="2437167">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437170">bitsPointer</span>&nbsp;&nbsp;&nbsp;<span class="op" id="2437184">=</span>&nbsp;<span class="num" id="2437186">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437189">bitsMultiWord</span>&nbsp;<span class="op" id="2437203">=</span>&nbsp;<span class="num" id="2437205">3</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437209">bitsIface</span>&nbsp;<span class="op" id="2437219">=</span>&nbsp;<span class="num" id="2437221">2</span><br>
<span class="lineno">1600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437224">bitsEface</span>&nbsp;<span class="op" id="2437234">=</span>&nbsp;<span class="num" id="2437236">3</span><br>
<span class="lineno"></span><span class="op" id="2437238">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2437241">//&nbsp;Make&nbsp;sure&nbsp;these&nbsp;routines&nbsp;stay&nbsp;in&nbsp;sync&nbsp;with&nbsp;../../runtime/hashmap.go!</span><br>
<span class="lineno"></span><span class="comment" id="2437313">//&nbsp;These&nbsp;types&nbsp;exist&nbsp;only&nbsp;for&nbsp;GC,&nbsp;so&nbsp;we&nbsp;only&nbsp;fill&nbsp;out&nbsp;GC&nbsp;relevant&nbsp;info.</span><br>
<span class="lineno">1605</span><span class="comment" id="2437385">//&nbsp;Currently,&nbsp;that&#39;s&nbsp;just&nbsp;size&nbsp;and&nbsp;the&nbsp;GC&nbsp;program.&nbsp;&nbsp;We&nbsp;also&nbsp;fill&nbsp;in&nbsp;string</span><br>
<span class="lineno"></span><span class="comment" id="2437460">//&nbsp;for&nbsp;possible&nbsp;debugging&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2437491">const</span>&nbsp;<span class="op" id="2437497">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437500">bucketSize</span>&nbsp;<span class="op" id="2437511">=</span>&nbsp;<span class="num" id="2437513">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437516">maxKeySize</span>&nbsp;<span class="op" id="2437527">=</span>&nbsp;<span class="num" id="2437529">128</span><br>
<span class="lineno">1610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437534">maxValSize</span>&nbsp;<span class="op" id="2437545">=</span>&nbsp;<span class="num" id="2437547">128</span><br>
<span class="lineno"></span><span class="op" id="2437551">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2437554">func</span>&nbsp;<span class="ident" id="2437559">bucketOf</span><span class="op" id="2437567">(</span><span class="ident" id="2437568">ktyp</span><span class="op" id="2437572">,</span>&nbsp;<span class="ident" id="2437574">etyp</span>&nbsp;<span class="op" id="2437579">*</span><span class="ident" id="2437580"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2437585">)</span>&nbsp;<span class="op" id="2437587">*</span><span class="ident" id="2437588"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="op" id="2437594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437597">if</span>&nbsp;<span class="ident" id="2437600"><a href="/reflect/type.go.html#2437568">ktyp</a></span><span class="op" id="2437604">.</span><span class="ident" id="2437605">size</span>&nbsp;<span class="op" id="2437610">&gt;</span>&nbsp;<span class="ident" id="2437612"><a href="/reflect/type.go.html#2437516">maxKeySize</a></span>&nbsp;<span class="op" id="2437623">{</span><br>
<span class="lineno">1615</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437627"><a href="/reflect/type.go.html#2437568">ktyp</a></span>&nbsp;<span class="op" id="2437632">=</span>&nbsp;<span class="ident" id="2437634"><a href="/reflect/type.go.html#2422370">PtrTo</a></span><span class="op" id="2437639">(</span><span class="ident" id="2437640"><a href="/reflect/type.go.html#2437568">ktyp</a></span><span class="op" id="2437644">)</span><span class="op" id="2437645">.</span><span class="op" id="2437646">(</span><span class="op" id="2437647">*</span><span class="ident" id="2437648"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2437653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437659">if</span>&nbsp;<span class="ident" id="2437662"><a href="/reflect/type.go.html#2437574">etyp</a></span><span class="op" id="2437666">.</span><span class="ident" id="2437667">size</span>&nbsp;<span class="op" id="2437672">&gt;</span>&nbsp;<span class="ident" id="2437674"><a href="/reflect/type.go.html#2437534">maxValSize</a></span>&nbsp;<span class="op" id="2437685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437689"><a href="/reflect/type.go.html#2437574">etyp</a></span>&nbsp;<span class="op" id="2437694">=</span>&nbsp;<span class="ident" id="2437696"><a href="/reflect/type.go.html#2422370">PtrTo</a></span><span class="op" id="2437701">(</span><span class="ident" id="2437702"><a href="/reflect/type.go.html#2437574">etyp</a></span><span class="op" id="2437706">)</span><span class="op" id="2437707">.</span><span class="op" id="2437708">(</span><span class="op" id="2437709">*</span><span class="ident" id="2437710"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2437715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437718">}</span><br>
<span class="lineno">1620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437721">ptrsize</span>&nbsp;<span class="op" id="2437729">:=</span>&nbsp;<span class="ident" id="2437732"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2437738">.</span><span class="ident" id="2437739">Sizeof</span><span class="op" id="2437745">(</span><span class="builtintype" id="2437746">uintptr</span><span class="op" id="2437753">(</span><span class="num" id="2437754">0</span><span class="op" id="2437755">)</span><span class="op" id="2437756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437760">var</span>&nbsp;<span class="ident" id="2437764">gc</span>&nbsp;<span class="ident" id="2437767"><a href="/reflect/type.go.html#2435022">gcProg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2437775">//&nbsp;topbits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437787">for</span>&nbsp;<span class="ident" id="2437791">i</span>&nbsp;<span class="op" id="2437793">:=</span>&nbsp;<span class="num" id="2437796">0</span><span class="op" id="2437797">;</span>&nbsp;<span class="ident" id="2437799"><a href="/reflect/type.go.html#2437791">i</a></span>&nbsp;<span class="op" id="2437801">&lt;</span>&nbsp;<span class="builtintype" id="2437803">int</span><span class="op" id="2437806">(</span><span class="ident" id="2437807"><a href="/reflect/type.go.html#2437500">bucketSize</a></span><span class="op" id="2437817">*</span><span class="ident" id="2437818"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2437824">.</span><span class="ident" id="2437825">Sizeof</span><span class="op" id="2437831">(</span><span class="builtintype" id="2437832">uint8</span><span class="op" id="2437837">(</span><span class="num" id="2437838">0</span><span class="op" id="2437839">)</span><span class="op" id="2437840">)</span><span class="op" id="2437841">/</span><span class="ident" id="2437842"><a href="/reflect/type.go.html#2437721">ptrsize</a></span><span class="op" id="2437849">)</span><span class="op" id="2437850">;</span>&nbsp;<span class="ident" id="2437852"><a href="/reflect/type.go.html#2437791">i</a></span><span class="op" id="2437853">++</span>&nbsp;<span class="op" id="2437856">{</span><br>
<span class="lineno">1625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437860"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2437862">.</span><span class="builtinfunc" id="2437863">append</span><span class="op" id="2437869">(</span><span class="ident" id="2437870"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2437880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437883">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437886"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2437888">.</span><span class="builtinfunc" id="2437889">append</span><span class="op" id="2437895">(</span><span class="ident" id="2437896"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2437907">)</span>&nbsp;<span class="comment" id="2437909">//&nbsp;overflow</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437922">if</span>&nbsp;<span class="ident" id="2437925"><a href="/reflect/type.go.html#2394406">runtime</a></span><span class="op" id="2437932">.</span><span class="ident" id="2437933">GOARCH</span>&nbsp;<span class="op" id="2437940">==</span>&nbsp;<span class="string" id="2437943">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2437954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2437958"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2437960">.</span><span class="builtinfunc" id="2437961">append</span><span class="op" id="2437967">(</span><span class="ident" id="2437968"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2437978">)</span><br>
<span class="lineno">1630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2437981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2437984">//&nbsp;keys</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2437993">for</span>&nbsp;<span class="ident" id="2437997">i</span>&nbsp;<span class="op" id="2437999">:=</span>&nbsp;<span class="num" id="2438002">0</span><span class="op" id="2438003">;</span>&nbsp;<span class="ident" id="2438005"><a href="/reflect/type.go.html#2437997">i</a></span>&nbsp;<span class="op" id="2438007">&lt;</span>&nbsp;<span class="ident" id="2438009"><a href="/reflect/type.go.html#2437500">bucketSize</a></span><span class="op" id="2438019">;</span>&nbsp;<span class="ident" id="2438021"><a href="/reflect/type.go.html#2437997">i</a></span><span class="op" id="2438022">++</span>&nbsp;<span class="op" id="2438025">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438029"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2438031">.</span><span class="ident" id="2438032">appendProg</span><span class="op" id="2438042">(</span><span class="ident" id="2438043"><a href="/reflect/type.go.html#2437568">ktyp</a></span><span class="op" id="2438047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2438050">}</span><br>
<span class="lineno">1635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2438053">//&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438064">for</span>&nbsp;<span class="ident" id="2438068">i</span>&nbsp;<span class="op" id="2438070">:=</span>&nbsp;<span class="num" id="2438073">0</span><span class="op" id="2438074">;</span>&nbsp;<span class="ident" id="2438076"><a href="/reflect/type.go.html#2438068">i</a></span>&nbsp;<span class="op" id="2438078">&lt;</span>&nbsp;<span class="ident" id="2438080"><a href="/reflect/type.go.html#2437500">bucketSize</a></span><span class="op" id="2438090">;</span>&nbsp;<span class="ident" id="2438092"><a href="/reflect/type.go.html#2438068">i</a></span><span class="op" id="2438093">++</span>&nbsp;<span class="op" id="2438096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438100"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2438102">.</span><span class="ident" id="2438103">appendProg</span><span class="op" id="2438113">(</span><span class="ident" id="2438114"><a href="/reflect/type.go.html#2437574">etyp</a></span><span class="op" id="2438118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2438121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438125">b</span>&nbsp;<span class="op" id="2438127">:=</span>&nbsp;<span class="builtinfunc" id="2438130">new</span><span class="op" id="2438133">(</span><span class="ident" id="2438134"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2438139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438142"><a href="/reflect/type.go.html#2438125">b</a></span><span class="op" id="2438143">.</span><span class="ident" id="2438144">size</span>&nbsp;<span class="op" id="2438149">=</span>&nbsp;<span class="ident" id="2438151"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2438153">.</span><span class="ident" id="2438154">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438160"><a href="/reflect/type.go.html#2438125">b</a></span><span class="op" id="2438161">.</span><span class="ident" id="2438162">gc</span><span class="op" id="2438164">[</span><span class="num" id="2438165">0</span><span class="op" id="2438166">]</span>&nbsp;<span class="op" id="2438168">=</span>&nbsp;<span class="ident" id="2438170"><a href="/reflect/type.go.html#2437764">gc</a></span><span class="op" id="2438172">.</span><span class="ident" id="2438173">finalize</span><span class="op" id="2438181">(</span><span class="op" id="2438182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438185">s</span>&nbsp;<span class="op" id="2438187">:=</span>&nbsp;<span class="string" id="2438190">&#34;bucket(&#34;</span>&nbsp;<span class="op" id="2438200">+</span>&nbsp;<span class="op" id="2438202">*</span><span class="ident" id="2438203"><a href="/reflect/type.go.html#2437568">ktyp</a></span><span class="op" id="2438207">.</span><span class="builtintype" id="2438208">string</span>&nbsp;<span class="op" id="2438215">+</span>&nbsp;<span class="string" id="2438217">&#34;,&#34;</span>&nbsp;<span class="op" id="2438221">+</span>&nbsp;<span class="op" id="2438223">*</span><span class="ident" id="2438224"><a href="/reflect/type.go.html#2437574">etyp</a></span><span class="op" id="2438228">.</span><span class="builtintype" id="2438229">string</span>&nbsp;<span class="op" id="2438236">+</span>&nbsp;<span class="string" id="2438238">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438243"><a href="/reflect/type.go.html#2438125">b</a></span><span class="op" id="2438244">.</span><span class="builtintype" id="2438245">string</span>&nbsp;<span class="op" id="2438252">=</span>&nbsp;<span class="op" id="2438254">&amp;</span><span class="ident" id="2438255"><a href="/reflect/type.go.html#2438185">s</a></span><br>
<span class="lineno">1645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438258">return</span>&nbsp;<span class="ident" id="2438265"><a href="/reflect/type.go.html#2438125">b</a></span><br>
<span class="lineno"></span><span class="op" id="2438267">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2438270">//&nbsp;SliceOf&nbsp;returns&nbsp;the&nbsp;slice&nbsp;type&nbsp;with&nbsp;element&nbsp;type&nbsp;t.</span><br>
<span class="lineno"></span><span class="comment" id="2438325">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;SliceOf(t)&nbsp;represents&nbsp;[]int.</span><br>
<span class="lineno">1650</span><span class="keyword" id="2438391">func</span>&nbsp;<span class="ident" id="2438396">SliceOf</span><span class="op" id="2438403">(</span><span class="ident" id="2438404">t</span>&nbsp;<span class="ident" id="2438406"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2438410">)</span>&nbsp;<span class="ident" id="2438412"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2438417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438420">typ</span>&nbsp;<span class="op" id="2438424">:=</span>&nbsp;<span class="ident" id="2438427"><a href="/reflect/type.go.html#2438404">t</a></span><span class="op" id="2438428">.</span><span class="op" id="2438429">(</span><span class="op" id="2438430">*</span><span class="ident" id="2438431"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2438436">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2438440">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438459">ckey</span>&nbsp;<span class="op" id="2438464">:=</span>&nbsp;<span class="ident" id="2438467"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2438475">{</span><span class="ident" id="2438476"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2438481">,</span>&nbsp;<span class="ident" id="2438483"><a href="/reflect/type.go.html#2438420">typ</a></span><span class="op" id="2438486">,</span>&nbsp;<span class="ident" id="2438488">nil</span><span class="op" id="2438491">,</span>&nbsp;<span class="num" id="2438493">0</span><span class="op" id="2438494">}</span><br>
<span class="lineno">1655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438497">if</span>&nbsp;<span class="ident" id="2438500">slice</span>&nbsp;<span class="op" id="2438506">:=</span>&nbsp;<span class="ident" id="2438509"><a href="/reflect/type.go.html#2431193">cacheGet</a></span><span class="op" id="2438517">(</span><span class="ident" id="2438518"><a href="/reflect/type.go.html#2438459">ckey</a></span><span class="op" id="2438522">)</span><span class="op" id="2438523">;</span>&nbsp;<span class="ident" id="2438525"><a href="/reflect/type.go.html#2438500">slice</a></span>&nbsp;<span class="op" id="2438531">!=</span>&nbsp;<span class="ident" id="2438534">nil</span>&nbsp;<span class="op" id="2438538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438542">return</span>&nbsp;<span class="ident" id="2438549"><a href="/reflect/type.go.html#2438500">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2438556">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2438560">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno">1660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438585">s</span>&nbsp;<span class="op" id="2438587">:=</span>&nbsp;<span class="string" id="2438590">&#34;[]&#34;</span>&nbsp;<span class="op" id="2438595">+</span>&nbsp;<span class="op" id="2438597">*</span><span class="ident" id="2438598"><a href="/reflect/type.go.html#2438420">typ</a></span><span class="op" id="2438601">.</span><span class="builtintype" id="2438602">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438610">for</span>&nbsp;<span class="ident" id="2438614">_</span><span class="op" id="2438615">,</span>&nbsp;<span class="ident" id="2438617">tt</span>&nbsp;<span class="op" id="2438620">:=</span>&nbsp;<span class="keyword" id="2438623">range</span>&nbsp;<span class="ident" id="2438629"><a href="/reflect/type.go.html#2429779">typesByString</a></span><span class="op" id="2438642">(</span><span class="ident" id="2438643"><a href="/reflect/type.go.html#2438585">s</a></span><span class="op" id="2438644">)</span>&nbsp;<span class="op" id="2438646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438650">slice</span>&nbsp;<span class="op" id="2438656">:=</span>&nbsp;<span class="op" id="2438659">(</span><span class="op" id="2438660">*</span><span class="ident" id="2438661"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2438670">)</span><span class="op" id="2438671">(</span><span class="ident" id="2438672"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2438678">.</span><span class="ident" id="2438679">Pointer</span><span class="op" id="2438686">(</span><span class="ident" id="2438687"><a href="/reflect/type.go.html#2438617">tt</a></span><span class="op" id="2438689">)</span><span class="op" id="2438690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438694">if</span>&nbsp;<span class="ident" id="2438697"><a href="/reflect/type.go.html#2438650">slice</a></span><span class="op" id="2438702">.</span><span class="ident" id="2438703">elem</span>&nbsp;<span class="op" id="2438708">==</span>&nbsp;<span class="ident" id="2438711"><a href="/reflect/type.go.html#2438420">typ</a></span>&nbsp;<span class="op" id="2438715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438720">return</span>&nbsp;<span class="ident" id="2438727"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2438735">(</span><span class="ident" id="2438736"><a href="/reflect/type.go.html#2438459">ckey</a></span><span class="op" id="2438740">,</span>&nbsp;<span class="ident" id="2438742"><a href="/reflect/type.go.html#2438617">tt</a></span><span class="op" id="2438744">)</span><br>
<span class="lineno">1665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2438748">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2438751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2438755">//&nbsp;Make&nbsp;a&nbsp;slice&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2438778">var</span>&nbsp;<span class="ident" id="2438782">islice</span>&nbsp;<span class="keyword" id="2438789">interface</span><span class="op" id="2438798">{</span><span class="op" id="2438799">}</span>&nbsp;<span class="op" id="2438801">=</span>&nbsp;<span class="op" id="2438803">(</span><span class="op" id="2438804">[</span><span class="op" id="2438805">]</span><span class="ident" id="2438806"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2438812">.</span><span class="ident" id="2438813">Pointer</span><span class="op" id="2438820">)</span><span class="op" id="2438821">(</span><span class="ident" id="2438822">nil</span><span class="op" id="2438825">)</span><br>
<span class="lineno">1670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438828">prototype</span>&nbsp;<span class="op" id="2438838">:=</span>&nbsp;<span class="op" id="2438841">*</span><span class="op" id="2438842">(</span><span class="op" id="2438843">*</span><span class="op" id="2438844">*</span><span class="ident" id="2438845"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2438854">)</span><span class="op" id="2438855">(</span><span class="ident" id="2438856"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2438862">.</span><span class="ident" id="2438863">Pointer</span><span class="op" id="2438870">(</span><span class="op" id="2438871">&amp;</span><span class="ident" id="2438872"><a href="/reflect/type.go.html#2438782">islice</a></span><span class="op" id="2438878">)</span><span class="op" id="2438879">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438882">slice</span>&nbsp;<span class="op" id="2438888">:=</span>&nbsp;<span class="builtinfunc" id="2438891">new</span><span class="op" id="2438894">(</span><span class="ident" id="2438895"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2438904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2438907">*</span><span class="ident" id="2438908"><a href="/reflect/type.go.html#2438882">slice</a></span>&nbsp;<span class="op" id="2438914">=</span>&nbsp;<span class="op" id="2438916">*</span><span class="ident" id="2438917"><a href="/reflect/type.go.html#2438828">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438928"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2438933">.</span><span class="builtintype" id="2438934">string</span>&nbsp;<span class="op" id="2438941">=</span>&nbsp;<span class="op" id="2438943">&amp;</span><span class="ident" id="2438944"><a href="/reflect/type.go.html#2438585">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438947"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2438952">.</span><span class="ident" id="2438953">hash</span>&nbsp;<span class="op" id="2438958">=</span>&nbsp;<span class="ident" id="2438960"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2438964">(</span><span class="ident" id="2438965"><a href="/reflect/type.go.html#2438420">typ</a></span><span class="op" id="2438968">.</span><span class="ident" id="2438969">hash</span><span class="op" id="2438973">,</span>&nbsp;<span class="string" id="2438975">&#39;[&#39;</span><span class="op" id="2438978">)</span><br>
<span class="lineno">1675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438981"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2438986">.</span><span class="ident" id="2438987">elem</span>&nbsp;<span class="op" id="2438992">=</span>&nbsp;<span class="ident" id="2438994"><a href="/reflect/type.go.html#2438420">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2438999"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2439004">.</span><span class="ident" id="2439005">uncommonType</span>&nbsp;<span class="op" id="2439018">=</span>&nbsp;<span class="ident" id="2439020">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439025"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2439030">.</span><span class="ident" id="2439031">ptrToThis</span>&nbsp;<span class="op" id="2439041">=</span>&nbsp;<span class="ident" id="2439043">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439048"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2439053">.</span><span class="ident" id="2439054">zero</span>&nbsp;<span class="op" id="2439059">=</span>&nbsp;<span class="ident" id="2439061"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2439067">.</span><span class="ident" id="2439068">Pointer</span><span class="op" id="2439075">(</span><span class="op" id="2439076">&amp;</span><span class="builtinfunc" id="2439077">make</span><span class="op" id="2439081">(</span><span class="op" id="2439082">[</span><span class="op" id="2439083">]</span><span class="builtintype" id="2439084">byte</span><span class="op" id="2439088">,</span>&nbsp;<span class="ident" id="2439090"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2439095">.</span><span class="ident" id="2439096">size</span><span class="op" id="2439100">)</span><span class="op" id="2439101">[</span><span class="num" id="2439102">0</span><span class="op" id="2439103">]</span><span class="op" id="2439104">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2439108">return</span>&nbsp;<span class="ident" id="2439115"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2439123">(</span><span class="ident" id="2439124"><a href="/reflect/type.go.html#2438459">ckey</a></span><span class="op" id="2439128">,</span>&nbsp;<span class="op" id="2439130">&amp;</span><span class="ident" id="2439131"><a href="/reflect/type.go.html#2438882">slice</a></span><span class="op" id="2439136">.</span><span class="ident" id="2439137">rtype</span><span class="op" id="2439142">)</span><br>
<span class="lineno"></span><span class="op" id="2439144">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2439147">//&nbsp;ArrayOf&nbsp;returns&nbsp;the&nbsp;array&nbsp;type&nbsp;with&nbsp;the&nbsp;given&nbsp;count&nbsp;and&nbsp;element&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="2439220">//&nbsp;For&nbsp;example,&nbsp;if&nbsp;t&nbsp;represents&nbsp;int,&nbsp;ArrayOf(5,&nbsp;t)&nbsp;represents&nbsp;[5]int.</span><br>
<span class="lineno">1685</span><span class="comment" id="2439290">//</span><br>
<span class="lineno"></span><span class="comment" id="2439293">//&nbsp;If&nbsp;the&nbsp;resulting&nbsp;type&nbsp;would&nbsp;be&nbsp;larger&nbsp;than&nbsp;the&nbsp;available&nbsp;address&nbsp;space,</span><br>
<span class="lineno"></span><span class="comment" id="2439368">//&nbsp;ArrayOf&nbsp;panics.</span><br>
<span class="lineno"></span><span class="comment" id="2439387">//</span><br>
<span class="lineno"></span><span class="comment" id="2439390">//&nbsp;TODO(rsc):&nbsp;Unexported&nbsp;for&nbsp;now.&nbsp;Export&nbsp;once&nbsp;the&nbsp;alg&nbsp;field&nbsp;is&nbsp;set&nbsp;correctly</span><br>
<span class="lineno">1690</span><span class="comment" id="2439467">//&nbsp;for&nbsp;the&nbsp;type.&nbsp;This&nbsp;may&nbsp;require&nbsp;significant&nbsp;work.</span><br>
<span class="lineno"></span><span class="comment" id="2439519">//</span><br>
<span class="lineno"></span><span class="comment" id="2439522">//&nbsp;TODO(rsc):&nbsp;TestArrayOf&nbsp;is&nbsp;also&nbsp;disabled.&nbsp;Re-enable.</span><br>
<span class="lineno"></span><span class="keyword" id="2439577">func</span>&nbsp;<span class="ident" id="2439582">arrayOf</span><span class="op" id="2439589">(</span><span class="ident" id="2439590">count</span>&nbsp;<span class="builtintype" id="2439596">int</span><span class="op" id="2439599">,</span>&nbsp;<span class="ident" id="2439601">elem</span>&nbsp;<span class="ident" id="2439606"><a href="/reflect/type.go.html#2394795">Type</a></span><span class="op" id="2439610">)</span>&nbsp;<span class="ident" id="2439612"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2439617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439620">typ</span>&nbsp;<span class="op" id="2439624">:=</span>&nbsp;<span class="ident" id="2439627"><a href="/reflect/type.go.html#2439601">elem</a></span><span class="op" id="2439631">.</span><span class="op" id="2439632">(</span><span class="op" id="2439633">*</span><span class="ident" id="2439634"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2439639">)</span><br>
<span class="lineno">1695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439642">slice</span>&nbsp;<span class="op" id="2439648">:=</span>&nbsp;<span class="ident" id="2439651"><a href="/reflect/type.go.html#2438396">SliceOf</a></span><span class="op" id="2439658">(</span><span class="ident" id="2439659"><a href="/reflect/type.go.html#2439601">elem</a></span><span class="op" id="2439663">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2439667">//&nbsp;Look&nbsp;in&nbsp;cache.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439686">ckey</span>&nbsp;<span class="op" id="2439691">:=</span>&nbsp;<span class="ident" id="2439694"><a href="/reflect/type.go.html#2430893">cacheKey</a></span><span class="op" id="2439702">{</span><span class="ident" id="2439703"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2439708">,</span>&nbsp;<span class="ident" id="2439710"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2439713">,</span>&nbsp;<span class="ident" id="2439715">nil</span><span class="op" id="2439718">,</span>&nbsp;<span class="builtintype" id="2439720">uintptr</span><span class="op" id="2439727">(</span><span class="ident" id="2439728"><a href="/reflect/type.go.html#2439590">count</a></span><span class="op" id="2439733">)</span><span class="op" id="2439734">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2439737">if</span>&nbsp;<span class="ident" id="2439740">slice</span>&nbsp;<span class="op" id="2439746">:=</span>&nbsp;<span class="ident" id="2439749"><a href="/reflect/type.go.html#2431193">cacheGet</a></span><span class="op" id="2439757">(</span><span class="ident" id="2439758"><a href="/reflect/type.go.html#2439686">ckey</a></span><span class="op" id="2439762">)</span><span class="op" id="2439763">;</span>&nbsp;<span class="ident" id="2439765"><a href="/reflect/type.go.html#2439740">slice</a></span>&nbsp;<span class="op" id="2439771">!=</span>&nbsp;<span class="ident" id="2439774">nil</span>&nbsp;<span class="op" id="2439778">{</span><br>
<span class="lineno">1700</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2439782">return</span>&nbsp;<span class="ident" id="2439789"><a href="/reflect/type.go.html#2439740">slice</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2439796">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2439800">//&nbsp;Look&nbsp;in&nbsp;known&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439825">s</span>&nbsp;<span class="op" id="2439827">:=</span>&nbsp;<span class="string" id="2439830">&#34;[&#34;</span>&nbsp;<span class="op" id="2439834">+</span>&nbsp;<span class="ident" id="2439836"><a href="/reflect/type.go.html#2394417">strconv</a></span><span class="op" id="2439843">.</span><span class="ident" id="2439844">Itoa</span><span class="op" id="2439848">(</span><span class="ident" id="2439849"><a href="/reflect/type.go.html#2439590">count</a></span><span class="op" id="2439854">)</span>&nbsp;<span class="op" id="2439856">+</span>&nbsp;<span class="string" id="2439858">&#34;]&#34;</span>&nbsp;<span class="op" id="2439862">+</span>&nbsp;<span class="op" id="2439864">*</span><span class="ident" id="2439865"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2439868">.</span><span class="builtintype" id="2439869">string</span><br>
<span class="lineno">1705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2439877">for</span>&nbsp;<span class="ident" id="2439881">_</span><span class="op" id="2439882">,</span>&nbsp;<span class="ident" id="2439884">tt</span>&nbsp;<span class="op" id="2439887">:=</span>&nbsp;<span class="keyword" id="2439890">range</span>&nbsp;<span class="ident" id="2439896"><a href="/reflect/type.go.html#2429779">typesByString</a></span><span class="op" id="2439909">(</span><span class="ident" id="2439910"><a href="/reflect/type.go.html#2439825">s</a></span><span class="op" id="2439911">)</span>&nbsp;<span class="op" id="2439913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2439917">slice</span>&nbsp;<span class="op" id="2439923">:=</span>&nbsp;<span class="op" id="2439926">(</span><span class="op" id="2439927">*</span><span class="ident" id="2439928"><a href="/reflect/type.go.html#2405588">sliceType</a></span><span class="op" id="2439937">)</span><span class="op" id="2439938">(</span><span class="ident" id="2439939"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2439945">.</span><span class="ident" id="2439946">Pointer</span><span class="op" id="2439953">(</span><span class="ident" id="2439954"><a href="/reflect/type.go.html#2439884">tt</a></span><span class="op" id="2439956">)</span><span class="op" id="2439957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2439961">if</span>&nbsp;<span class="ident" id="2439964"><a href="/reflect/type.go.html#2439917">slice</a></span><span class="op" id="2439969">.</span><span class="ident" id="2439970">elem</span>&nbsp;<span class="op" id="2439975">==</span>&nbsp;<span class="ident" id="2439978"><a href="/reflect/type.go.html#2439620">typ</a></span>&nbsp;<span class="op" id="2439982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2439987">return</span>&nbsp;<span class="ident" id="2439994"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2440002">(</span><span class="ident" id="2440003"><a href="/reflect/type.go.html#2439686">ckey</a></span><span class="op" id="2440007">,</span>&nbsp;<span class="ident" id="2440009"><a href="/reflect/type.go.html#2439884">tt</a></span><span class="op" id="2440011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2440015">}</span><br>
<span class="lineno">1710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2440018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2440022">//&nbsp;Make&nbsp;an&nbsp;array&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2440046">var</span>&nbsp;<span class="ident" id="2440050">iarray</span>&nbsp;<span class="keyword" id="2440057">interface</span><span class="op" id="2440066">{</span><span class="op" id="2440067">}</span>&nbsp;<span class="op" id="2440069">=</span>&nbsp;<span class="op" id="2440071">[</span><span class="num" id="2440072">1</span><span class="op" id="2440073">]</span><span class="ident" id="2440074"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2440080">.</span><span class="ident" id="2440081">Pointer</span><span class="op" id="2440088">{</span><span class="op" id="2440089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440092">prototype</span>&nbsp;<span class="op" id="2440102">:=</span>&nbsp;<span class="op" id="2440105">*</span><span class="op" id="2440106">(</span><span class="op" id="2440107">*</span><span class="op" id="2440108">*</span><span class="ident" id="2440109"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2440118">)</span><span class="op" id="2440119">(</span><span class="ident" id="2440120"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2440126">.</span><span class="ident" id="2440127">Pointer</span><span class="op" id="2440134">(</span><span class="op" id="2440135">&amp;</span><span class="ident" id="2440136"><a href="/reflect/type.go.html#2440050">iarray</a></span><span class="op" id="2440142">)</span><span class="op" id="2440143">)</span><br>
<span class="lineno">1715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440146">array</span>&nbsp;<span class="op" id="2440152">:=</span>&nbsp;<span class="builtinfunc" id="2440155">new</span><span class="op" id="2440158">(</span><span class="ident" id="2440159"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2440168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2440171">*</span><span class="ident" id="2440172"><a href="/reflect/type.go.html#2440146">array</a></span>&nbsp;<span class="op" id="2440178">=</span>&nbsp;<span class="op" id="2440180">*</span><span class="ident" id="2440181"><a href="/reflect/type.go.html#2440092">prototype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2440192">//&nbsp;TODO:&nbsp;Set&nbsp;extra&nbsp;kind&nbsp;bits&nbsp;correctly.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440233"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440238">.</span><span class="builtintype" id="2440239">string</span>&nbsp;<span class="op" id="2440246">=</span>&nbsp;<span class="op" id="2440248">&amp;</span><span class="ident" id="2440249"><a href="/reflect/type.go.html#2439825">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440252"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440257">.</span><span class="ident" id="2440258">hash</span>&nbsp;<span class="op" id="2440263">=</span>&nbsp;<span class="ident" id="2440265"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2440269">(</span><span class="ident" id="2440270"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2440273">.</span><span class="ident" id="2440274">hash</span><span class="op" id="2440278">,</span>&nbsp;<span class="string" id="2440280">&#39;[&#39;</span><span class="op" id="2440283">)</span><br>
<span class="lineno">1720</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2440286">for</span>&nbsp;<span class="ident" id="2440290">n</span>&nbsp;<span class="op" id="2440292">:=</span>&nbsp;<span class="builtintype" id="2440295">uint32</span><span class="op" id="2440301">(</span><span class="ident" id="2440302"><a href="/reflect/type.go.html#2439590">count</a></span><span class="op" id="2440307">)</span><span class="op" id="2440308">;</span>&nbsp;<span class="ident" id="2440310"><a href="/reflect/type.go.html#2440290">n</a></span>&nbsp;<span class="op" id="2440312">&gt;</span>&nbsp;<span class="num" id="2440314">0</span><span class="op" id="2440315">;</span>&nbsp;<span class="ident" id="2440317"><a href="/reflect/type.go.html#2440290">n</a></span>&nbsp;<span class="op" id="2440319">&gt;&gt;=</span>&nbsp;<span class="num" id="2440323">8</span>&nbsp;<span class="op" id="2440325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440329"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440334">.</span><span class="ident" id="2440335">hash</span>&nbsp;<span class="op" id="2440340">=</span>&nbsp;<span class="ident" id="2440342"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2440346">(</span><span class="ident" id="2440347"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440352">.</span><span class="ident" id="2440353">hash</span><span class="op" id="2440357">,</span>&nbsp;<span class="builtintype" id="2440359">byte</span><span class="op" id="2440363">(</span><span class="ident" id="2440364"><a href="/reflect/type.go.html#2440290">n</a></span><span class="op" id="2440365">)</span><span class="op" id="2440366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2440369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440372"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440377">.</span><span class="ident" id="2440378">hash</span>&nbsp;<span class="op" id="2440383">=</span>&nbsp;<span class="ident" id="2440385"><a href="/reflect/type.go.html#2423856">fnv1</a></span><span class="op" id="2440389">(</span><span class="ident" id="2440390"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440395">.</span><span class="ident" id="2440396">hash</span><span class="op" id="2440400">,</span>&nbsp;<span class="string" id="2440402">&#39;]&#39;</span><span class="op" id="2440405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440408"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440413">.</span><span class="ident" id="2440414">elem</span>&nbsp;<span class="op" id="2440419">=</span>&nbsp;<span class="ident" id="2440421"><a href="/reflect/type.go.html#2439620">typ</a></span><br>
<span class="lineno">1725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440426">max</span>&nbsp;<span class="op" id="2440430">:=</span>&nbsp;<span class="op" id="2440433">^</span><span class="builtintype" id="2440434">uintptr</span><span class="op" id="2440441">(</span><span class="num" id="2440442">0</span><span class="op" id="2440443">)</span>&nbsp;<span class="op" id="2440445">/</span>&nbsp;<span class="ident" id="2440447"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2440450">.</span><span class="ident" id="2440451">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2440457">if</span>&nbsp;<span class="builtintype" id="2440460">uintptr</span><span class="op" id="2440467">(</span><span class="ident" id="2440468"><a href="/reflect/type.go.html#2439590">count</a></span><span class="op" id="2440473">)</span>&nbsp;<span class="op" id="2440475">&gt;</span>&nbsp;<span class="ident" id="2440477"><a href="/reflect/type.go.html#2440426">max</a></span>&nbsp;<span class="op" id="2440481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2440485">panic</span><span class="op" id="2440490">(</span><span class="string" id="2440491">&#34;reflect.ArrayOf:&nbsp;array&nbsp;size&nbsp;would&nbsp;exceed&nbsp;virtual&nbsp;address&nbsp;space&#34;</span><span class="op" id="2440555">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2440558">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440561"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440566">.</span><span class="ident" id="2440567">size</span>&nbsp;<span class="op" id="2440572">=</span>&nbsp;<span class="ident" id="2440574"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2440577">.</span><span class="ident" id="2440578">size</span>&nbsp;<span class="op" id="2440583">*</span>&nbsp;<span class="builtintype" id="2440585">uintptr</span><span class="op" id="2440592">(</span><span class="ident" id="2440593"><a href="/reflect/type.go.html#2439590">count</a></span><span class="op" id="2440598">)</span><br>
<span class="lineno">1730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440601"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440606">.</span><span class="ident" id="2440607">align</span>&nbsp;<span class="op" id="2440613">=</span>&nbsp;<span class="ident" id="2440615"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2440618">.</span><span class="ident" id="2440619">align</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440626"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440631">.</span><span class="ident" id="2440632">fieldAlign</span>&nbsp;<span class="op" id="2440643">=</span>&nbsp;<span class="ident" id="2440645"><a href="/reflect/type.go.html#2439620">typ</a></span><span class="op" id="2440648">.</span><span class="ident" id="2440649">fieldAlign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2440661">//&nbsp;TODO:&nbsp;array.alg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2440681">//&nbsp;TODO:&nbsp;array.gc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2440700">//&nbsp;TODO:</span><br>
<span class="lineno">1735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440710"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440715">.</span><span class="ident" id="2440716">uncommonType</span>&nbsp;<span class="op" id="2440729">=</span>&nbsp;<span class="ident" id="2440731">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440736"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440741">.</span><span class="ident" id="2440742">ptrToThis</span>&nbsp;<span class="op" id="2440752">=</span>&nbsp;<span class="ident" id="2440754">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440759"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440764">.</span><span class="ident" id="2440765">zero</span>&nbsp;<span class="op" id="2440770">=</span>&nbsp;<span class="ident" id="2440772"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2440778">.</span><span class="ident" id="2440779">Pointer</span><span class="op" id="2440786">(</span><span class="op" id="2440787">&amp;</span><span class="builtinfunc" id="2440788">make</span><span class="op" id="2440792">(</span><span class="op" id="2440793">[</span><span class="op" id="2440794">]</span><span class="builtintype" id="2440795">byte</span><span class="op" id="2440799">,</span>&nbsp;<span class="ident" id="2440801"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440806">.</span><span class="ident" id="2440807">size</span><span class="op" id="2440811">)</span><span class="op" id="2440812">[</span><span class="num" id="2440813">0</span><span class="op" id="2440814">]</span><span class="op" id="2440815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440818"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440823">.</span><span class="builtinfunc" id="2440824">len</span>&nbsp;<span class="op" id="2440828">=</span>&nbsp;<span class="builtintype" id="2440830">uintptr</span><span class="op" id="2440837">(</span><span class="ident" id="2440838"><a href="/reflect/type.go.html#2439590">count</a></span><span class="op" id="2440843">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2440846"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440851">.</span><span class="ident" id="2440852">slice</span>&nbsp;<span class="op" id="2440858">=</span>&nbsp;<span class="ident" id="2440860"><a href="/reflect/type.go.html#2439642">slice</a></span><span class="op" id="2440865">.</span><span class="op" id="2440866">(</span><span class="op" id="2440867">*</span><span class="ident" id="2440868"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2440873">)</span><br>
<span class="lineno">1740</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2440877">return</span>&nbsp;<span class="ident" id="2440884"><a href="/reflect/type.go.html#2431674">cachePut</a></span><span class="op" id="2440892">(</span><span class="ident" id="2440893"><a href="/reflect/type.go.html#2439686">ckey</a></span><span class="op" id="2440897">,</span>&nbsp;<span class="op" id="2440899">&amp;</span><span class="ident" id="2440900"><a href="/reflect/type.go.html#2440146">array</a></span><span class="op" id="2440905">.</span><span class="ident" id="2440906">rtype</span><span class="op" id="2440911">)</span><br>
<span class="lineno"></span><span class="op" id="2440913">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2440916">//&nbsp;toType&nbsp;converts&nbsp;from&nbsp;a&nbsp;*rtype&nbsp;to&nbsp;a&nbsp;Type&nbsp;that&nbsp;can&nbsp;be&nbsp;returned</span><br>
<span class="lineno">1745</span><span class="comment" id="2440980">//&nbsp;to&nbsp;the&nbsp;client&nbsp;of&nbsp;package&nbsp;reflect.&nbsp;In&nbsp;gc,&nbsp;the&nbsp;only&nbsp;concern&nbsp;is&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="2441049">//&nbsp;a&nbsp;nil&nbsp;*rtype&nbsp;must&nbsp;be&nbsp;replaced&nbsp;by&nbsp;a&nbsp;nil&nbsp;Type,&nbsp;but&nbsp;in&nbsp;gccgo&nbsp;this</span><br>
<span class="lineno"></span><span class="comment" id="2441115">//&nbsp;function&nbsp;takes&nbsp;care&nbsp;of&nbsp;ensuring&nbsp;that&nbsp;multiple&nbsp;*rtype&nbsp;for&nbsp;the&nbsp;same</span><br>
<span class="lineno"></span><span class="comment" id="2441184">//&nbsp;type&nbsp;are&nbsp;coalesced&nbsp;into&nbsp;a&nbsp;single&nbsp;Type.</span><br>
<span class="lineno"></span><span class="keyword" id="2441226">func</span>&nbsp;<span class="ident" id="2441231">toType</span><span class="op" id="2441237">(</span><span class="ident" id="2441238">t</span>&nbsp;<span class="op" id="2441240">*</span><span class="ident" id="2441241"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2441246">)</span>&nbsp;<span class="ident" id="2441248"><a href="/reflect/type.go.html#2394795">Type</a></span>&nbsp;<span class="op" id="2441253">{</span><br>
<span class="lineno">1750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2441256">if</span>&nbsp;<span class="ident" id="2441259"><a href="/reflect/type.go.html#2441238">t</a></span>&nbsp;<span class="op" id="2441261">==</span>&nbsp;<span class="ident" id="2441264">nil</span>&nbsp;<span class="op" id="2441268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2441272">return</span>&nbsp;<span class="ident" id="2441279">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2441284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2441287">return</span>&nbsp;<span class="ident" id="2441294"><a href="/reflect/type.go.html#2441238">t</a></span><br>
<span class="lineno"></span><span class="op" id="2441296">}</span><br>
<span class="lineno">1755</span><br>
<span class="lineno"></span><span class="keyword" id="2441299">type</span>&nbsp;<span class="ident" id="2441304">layoutKey</span>&nbsp;<span class="keyword" id="2441314">struct</span>&nbsp;<span class="op" id="2441321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441324">t</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441329">*</span><span class="ident" id="2441330"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2441336">//&nbsp;function&nbsp;signature</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441359">rcvr</span>&nbsp;<span class="op" id="2441364">*</span><span class="ident" id="2441365"><a href="/reflect/type.go.html#2401678">rtype</a></span>&nbsp;<span class="comment" id="2441371">//&nbsp;receiver&nbsp;type,&nbsp;or&nbsp;nil&nbsp;if&nbsp;none</span><br>
<span class="lineno"></span><span class="op" id="2441404">}</span><br>
<span class="lineno">1760</span><br>
<span class="lineno"></span><span class="keyword" id="2441407">type</span>&nbsp;<span class="ident" id="2441412">layoutType</span>&nbsp;<span class="keyword" id="2441423">struct</span>&nbsp;<span class="op" id="2441430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441433">t</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441443">*</span><span class="ident" id="2441444"><a href="/reflect/type.go.html#2401678">rtype</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441451">argSize</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2441461">uintptr</span>&nbsp;<span class="comment" id="2441469">//&nbsp;size&nbsp;of&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441491">retOffset</span>&nbsp;<span class="builtintype" id="2441501">uintptr</span>&nbsp;<span class="comment" id="2441509">//&nbsp;offset&nbsp;of&nbsp;return&nbsp;values.</span><br>
<span class="lineno">1765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441538">stack</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="2441548">*</span><span class="ident" id="2441549"><a href="/reflect/type.go.html#2444416">bitVector</a></span><br>
<span class="lineno"></span><span class="op" id="2441559">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2441562">var</span>&nbsp;<span class="ident" id="2441566">layoutCache</span>&nbsp;<span class="keyword" id="2441578">struct</span>&nbsp;<span class="op" id="2441585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441588"><a href="/reflect/type.go.html#2394428">sync</a></span><span class="op" id="2441592">.</span><span class="ident" id="2441593">RWMutex</span><br>
<span class="lineno">1770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2441602">m</span>&nbsp;<span class="keyword" id="2441604">map</span><span class="op" id="2441607">[</span><span class="ident" id="2441608"><a href="/reflect/type.go.html#2441304">layoutKey</a></span><span class="op" id="2441617">]</span><span class="ident" id="2441618"><a href="/reflect/type.go.html#2441412">layoutType</a></span><br>
<span class="lineno"></span><span class="op" id="2441629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2441632">//&nbsp;funcLayout&nbsp;computes&nbsp;a&nbsp;struct&nbsp;type&nbsp;representing&nbsp;the&nbsp;layout&nbsp;of&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="2441700">//&nbsp;function&nbsp;arguments&nbsp;and&nbsp;return&nbsp;values&nbsp;for&nbsp;the&nbsp;function&nbsp;type&nbsp;t.</span><br>
<span class="lineno">1775</span><span class="comment" id="2441765">//&nbsp;If&nbsp;rcvr&nbsp;!=&nbsp;nil,&nbsp;rcvr&nbsp;specifies&nbsp;the&nbsp;type&nbsp;of&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span><span class="comment" id="2441825">//&nbsp;The&nbsp;returned&nbsp;type&nbsp;exists&nbsp;only&nbsp;for&nbsp;GC,&nbsp;so&nbsp;we&nbsp;only&nbsp;fill&nbsp;out&nbsp;GC&nbsp;relevant&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="2441904">//&nbsp;Currently,&nbsp;that&#39;s&nbsp;just&nbsp;size&nbsp;and&nbsp;the&nbsp;GC&nbsp;program.&nbsp;&nbsp;We&nbsp;also&nbsp;fill&nbsp;in</span><br>
<span class="lineno"></span><span class="comment" id="2441972">//&nbsp;the&nbsp;name&nbsp;for&nbsp;possible&nbsp;debugging&nbsp;use.</span><br>
<span class="lineno"></span><span class="keyword" id="2442012">func</span>&nbsp;<span class="ident" id="2442017">funcLayout</span><span class="op" id="2442027">(</span><span class="ident" id="2442028">t</span>&nbsp;<span class="op" id="2442030">*</span><span class="ident" id="2442031"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2442036">,</span>&nbsp;<span class="ident" id="2442038">rcvr</span>&nbsp;<span class="op" id="2442043">*</span><span class="ident" id="2442044"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2442049">)</span>&nbsp;<span class="op" id="2442051">(</span><span class="ident" id="2442052">frametype</span>&nbsp;<span class="op" id="2442062">*</span><span class="ident" id="2442063"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2442068">,</span>&nbsp;<span class="ident" id="2442070">argSize</span><span class="op" id="2442077">,</span>&nbsp;<span class="ident" id="2442079">retOffset</span>&nbsp;<span class="builtintype" id="2442089">uintptr</span><span class="op" id="2442096">,</span>&nbsp;<span class="ident" id="2442098">stack</span>&nbsp;<span class="op" id="2442104">*</span><span class="ident" id="2442105"><a href="/reflect/type.go.html#2444416">bitVector</a></span><span class="op" id="2442114">)</span>&nbsp;<span class="op" id="2442116">{</span><br>
<span class="lineno">1780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442119">if</span>&nbsp;<span class="ident" id="2442122"><a href="/reflect/type.go.html#2442028">t</a></span><span class="op" id="2442123">.</span><span class="ident" id="2442124">Kind</span><span class="op" id="2442128">(</span><span class="op" id="2442129">)</span>&nbsp;<span class="op" id="2442131">!=</span>&nbsp;<span class="ident" id="2442134"><a href="/reflect/type.go.html#2401363">Func</a></span>&nbsp;<span class="op" id="2442139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2442143">panic</span><span class="op" id="2442148">(</span><span class="string" id="2442149">&#34;reflect:&nbsp;funcLayout&nbsp;of&nbsp;non-func&nbsp;type&#34;</span><span class="op" id="2442187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442193">if</span>&nbsp;<span class="ident" id="2442196"><a href="/reflect/type.go.html#2442038">rcvr</a></span>&nbsp;<span class="op" id="2442201">!=</span>&nbsp;<span class="ident" id="2442204">nil</span>&nbsp;<span class="op" id="2442208">&amp;&amp;</span>&nbsp;<span class="ident" id="2442211"><a href="/reflect/type.go.html#2442038">rcvr</a></span><span class="op" id="2442215">.</span><span class="ident" id="2442216">Kind</span><span class="op" id="2442220">(</span><span class="op" id="2442221">)</span>&nbsp;<span class="op" id="2442223">==</span>&nbsp;<span class="ident" id="2442226"><a href="/reflect/type.go.html#2401369">Interface</a></span>&nbsp;<span class="op" id="2442236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="2442240">panic</span><span class="op" id="2442245">(</span><span class="string" id="2442246">&#34;reflect:&nbsp;funcLayout&nbsp;with&nbsp;interface&nbsp;receiver&nbsp;&#34;</span>&nbsp;<span class="op" id="2442293">+</span>&nbsp;<span class="ident" id="2442295"><a href="/reflect/type.go.html#2442038">rcvr</a></span><span class="op" id="2442299">.</span><span class="ident" id="2442300">String</span><span class="op" id="2442306">(</span><span class="op" id="2442307">)</span><span class="op" id="2442308">)</span><br>
<span class="lineno">1785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442314">k</span>&nbsp;<span class="op" id="2442316">:=</span>&nbsp;<span class="ident" id="2442319"><a href="/reflect/type.go.html#2441304">layoutKey</a></span><span class="op" id="2442328">{</span><span class="ident" id="2442329"><a href="/reflect/type.go.html#2442028">t</a></span><span class="op" id="2442330">,</span>&nbsp;<span class="ident" id="2442332"><a href="/reflect/type.go.html#2442038">rcvr</a></span><span class="op" id="2442336">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442339"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442350">.</span><span class="ident" id="2442351">RLock</span><span class="op" id="2442356">(</span><span class="op" id="2442357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442360">if</span>&nbsp;<span class="ident" id="2442363">x</span>&nbsp;<span class="op" id="2442365">:=</span>&nbsp;<span class="ident" id="2442368"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442379">.</span><span class="ident" id="2442380">m</span><span class="op" id="2442381">[</span><span class="ident" id="2442382"><a href="/reflect/type.go.html#2442314">k</a></span><span class="op" id="2442383">]</span><span class="op" id="2442384">;</span>&nbsp;<span class="ident" id="2442386"><a href="/reflect/type.go.html#2442363">x</a></span><span class="op" id="2442387">.</span><span class="ident" id="2442388">t</span>&nbsp;<span class="op" id="2442390">!=</span>&nbsp;<span class="ident" id="2442393">nil</span>&nbsp;<span class="op" id="2442397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442401"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442412">.</span><span class="ident" id="2442413">RUnlock</span><span class="op" id="2442420">(</span><span class="op" id="2442421">)</span><br>
<span class="lineno">1790</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442425">return</span>&nbsp;<span class="ident" id="2442432"><a href="/reflect/type.go.html#2442363">x</a></span><span class="op" id="2442433">.</span><span class="ident" id="2442434">t</span><span class="op" id="2442435">,</span>&nbsp;<span class="ident" id="2442437"><a href="/reflect/type.go.html#2442363">x</a></span><span class="op" id="2442438">.</span><span class="ident" id="2442439">argSize</span><span class="op" id="2442446">,</span>&nbsp;<span class="ident" id="2442448"><a href="/reflect/type.go.html#2442363">x</a></span><span class="op" id="2442449">.</span><span class="ident" id="2442450">retOffset</span><span class="op" id="2442459">,</span>&nbsp;<span class="ident" id="2442461"><a href="/reflect/type.go.html#2442363">x</a></span><span class="op" id="2442462">.</span><span class="ident" id="2442463">stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442473"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442484">.</span><span class="ident" id="2442485">RUnlock</span><span class="op" id="2442492">(</span><span class="op" id="2442493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442496"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442507">.</span><span class="ident" id="2442508">Lock</span><span class="op" id="2442512">(</span><span class="op" id="2442513">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442516">if</span>&nbsp;<span class="ident" id="2442519">x</span>&nbsp;<span class="op" id="2442521">:=</span>&nbsp;<span class="ident" id="2442524"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442535">.</span><span class="ident" id="2442536">m</span><span class="op" id="2442537">[</span><span class="ident" id="2442538"><a href="/reflect/type.go.html#2442314">k</a></span><span class="op" id="2442539">]</span><span class="op" id="2442540">;</span>&nbsp;<span class="ident" id="2442542"><a href="/reflect/type.go.html#2442519">x</a></span><span class="op" id="2442543">.</span><span class="ident" id="2442544">t</span>&nbsp;<span class="op" id="2442546">!=</span>&nbsp;<span class="ident" id="2442549">nil</span>&nbsp;<span class="op" id="2442553">{</span><br>
<span class="lineno">1795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442557"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2442568">.</span><span class="ident" id="2442569">Unlock</span><span class="op" id="2442575">(</span><span class="op" id="2442576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442580">return</span>&nbsp;<span class="ident" id="2442587"><a href="/reflect/type.go.html#2442519">x</a></span><span class="op" id="2442588">.</span><span class="ident" id="2442589">t</span><span class="op" id="2442590">,</span>&nbsp;<span class="ident" id="2442592"><a href="/reflect/type.go.html#2442519">x</a></span><span class="op" id="2442593">.</span><span class="ident" id="2442594">argSize</span><span class="op" id="2442601">,</span>&nbsp;<span class="ident" id="2442603"><a href="/reflect/type.go.html#2442519">x</a></span><span class="op" id="2442604">.</span><span class="ident" id="2442605">retOffset</span><span class="op" id="2442614">,</span>&nbsp;<span class="ident" id="2442616"><a href="/reflect/type.go.html#2442519">x</a></span><span class="op" id="2442617">.</span><span class="ident" id="2442618">stack</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2442625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442629">tt</span>&nbsp;<span class="op" id="2442632">:=</span>&nbsp;<span class="op" id="2442635">(</span><span class="op" id="2442636">*</span><span class="ident" id="2442637"><a href="/reflect/type.go.html#2404317">funcType</a></span><span class="op" id="2442645">)</span><span class="op" id="2442646">(</span><span class="ident" id="2442647"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2442653">.</span><span class="ident" id="2442654">Pointer</span><span class="op" id="2442661">(</span><span class="ident" id="2442662"><a href="/reflect/type.go.html#2442028">t</a></span><span class="op" id="2442663">)</span><span class="op" id="2442664">)</span><br>
<span class="lineno">1800</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2442668">//&nbsp;compute&nbsp;gc&nbsp;program&nbsp;&amp;&nbsp;stack&nbsp;bitmap&nbsp;for&nbsp;arguments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2442720"><a href="/reflect/type.go.html#2442098">stack</a></span>&nbsp;<span class="op" id="2442726">=</span>&nbsp;<span class="builtinfunc" id="2442728">new</span><span class="op" id="2442731">(</span><span class="ident" id="2442732"><a href="/reflect/type.go.html#2444416">bitVector</a></span><span class="op" id="2442741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442744">var</span>&nbsp;<span class="ident" id="2442748">gc</span>&nbsp;<span class="ident" id="2442751"><a href="/reflect/type.go.html#2435022">gcProg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442759">var</span>&nbsp;<span class="ident" id="2442763">offset</span>&nbsp;<span class="builtintype" id="2442770">uintptr</span><br>
<span class="lineno">1805</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442779">if</span>&nbsp;<span class="ident" id="2442782"><a href="/reflect/type.go.html#2442038">rcvr</a></span>&nbsp;<span class="op" id="2442787">!=</span>&nbsp;<span class="ident" id="2442790">nil</span>&nbsp;<span class="op" id="2442794">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2442798">//&nbsp;Reflect&nbsp;uses&nbsp;the&nbsp;&#34;interface&#34;&nbsp;calling&nbsp;convention&nbsp;for</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2442855">//&nbsp;methods,&nbsp;where&nbsp;receivers&nbsp;take&nbsp;one&nbsp;word&nbsp;of&nbsp;argument</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2442911">//&nbsp;space&nbsp;no&nbsp;matter&nbsp;how&nbsp;big&nbsp;they&nbsp;actually&nbsp;are.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2442959">if</span>&nbsp;<span class="ident" id="2442962"><a href="/reflect/type.go.html#2444293">ifaceIndir</a></span><span class="op" id="2442972">(</span><span class="ident" id="2442973"><a href="/reflect/type.go.html#2442038">rcvr</a></span><span class="op" id="2442977">)</span>&nbsp;<span class="op" id="2442979">{</span><br>
<span class="lineno">1810</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2442984">//&nbsp;we&nbsp;pass&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;receiver.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443025"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443027">.</span><span class="builtinfunc" id="2443028">append</span><span class="op" id="2443034">(</span><span class="ident" id="2443035"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2443046">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443051"><a href="/reflect/type.go.html#2442098">stack</a></span><span class="op" id="2443056">.</span><span class="ident" id="2443057">append2</span><span class="op" id="2443064">(</span><span class="ident" id="2443065"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2443076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443080">}</span>&nbsp;<span class="keyword" id="2443082">else</span>&nbsp;<span class="keyword" id="2443087">if</span>&nbsp;<span class="ident" id="2443090"><a href="/reflect/type.go.html#2442038">rcvr</a></span><span class="op" id="2443094">.</span><span class="ident" id="2443095">pointers</span><span class="op" id="2443103">(</span><span class="op" id="2443104">)</span>&nbsp;<span class="op" id="2443106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2443111">//&nbsp;rcvr&nbsp;is&nbsp;a&nbsp;one-word&nbsp;pointer&nbsp;object.&nbsp;&nbsp;Its&nbsp;gc&nbsp;program</span><br>
<span class="lineno">1815</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2443168">//&nbsp;is&nbsp;just&nbsp;what&nbsp;we&nbsp;need&nbsp;here.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443201"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443203">.</span><span class="builtinfunc" id="2443204">append</span><span class="op" id="2443210">(</span><span class="ident" id="2443211"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2443222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443227"><a href="/reflect/type.go.html#2442098">stack</a></span><span class="op" id="2443232">.</span><span class="ident" id="2443233">append2</span><span class="op" id="2443240">(</span><span class="ident" id="2443241"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2443252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443256">}</span>&nbsp;<span class="keyword" id="2443258">else</span>&nbsp;<span class="op" id="2443263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443268"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443270">.</span><span class="builtinfunc" id="2443271">append</span><span class="op" id="2443277">(</span><span class="ident" id="2443278"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2443288">)</span><br>
<span class="lineno">1820</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443293"><a href="/reflect/type.go.html#2442098">stack</a></span><span class="op" id="2443298">.</span><span class="ident" id="2443299">append2</span><span class="op" id="2443306">(</span><span class="ident" id="2443307"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2443317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443325"><a href="/reflect/type.go.html#2442763">offset</a></span>&nbsp;<span class="op" id="2443332">+=</span>&nbsp;<span class="ident" id="2443335"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443344">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443347">for</span>&nbsp;<span class="ident" id="2443351">_</span><span class="op" id="2443352">,</span>&nbsp;<span class="ident" id="2443354">arg</span>&nbsp;<span class="op" id="2443358">:=</span>&nbsp;<span class="keyword" id="2443361">range</span>&nbsp;<span class="ident" id="2443367"><a href="/reflect/type.go.html#2442629">tt</a></span><span class="op" id="2443369">.</span><span class="ident" id="2443370">in</span>&nbsp;<span class="op" id="2443373">{</span><br>
<span class="lineno">1825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443377"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443379">.</span><span class="ident" id="2443380">appendProg</span><span class="op" id="2443390">(</span><span class="ident" id="2443391"><a href="/reflect/type.go.html#2443354">arg</a></span><span class="op" id="2443394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443398"><a href="/reflect/type.go.html#2444744">addTypeBits</a></span><span class="op" id="2443409">(</span><span class="ident" id="2443410"><a href="/reflect/type.go.html#2442098">stack</a></span><span class="op" id="2443415">,</span>&nbsp;<span class="op" id="2443417">&amp;</span><span class="ident" id="2443418"><a href="/reflect/type.go.html#2442763">offset</a></span><span class="op" id="2443424">,</span>&nbsp;<span class="ident" id="2443426"><a href="/reflect/type.go.html#2443354">arg</a></span><span class="op" id="2443429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443432">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443435"><a href="/reflect/type.go.html#2442070">argSize</a></span>&nbsp;<span class="op" id="2443443">=</span>&nbsp;<span class="ident" id="2443445"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443447">.</span><span class="ident" id="2443448">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443454">if</span>&nbsp;<span class="ident" id="2443457"><a href="/reflect/type.go.html#2394406">runtime</a></span><span class="op" id="2443464">.</span><span class="ident" id="2443465">GOARCH</span>&nbsp;<span class="op" id="2443472">==</span>&nbsp;<span class="string" id="2443475">&#34;amd64p32&#34;</span>&nbsp;<span class="op" id="2443486">{</span><br>
<span class="lineno">1830</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443490"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443492">.</span><span class="ident" id="2443493">align</span><span class="op" id="2443498">(</span><span class="num" id="2443499">8</span><span class="op" id="2443500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443506"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443508">.</span><span class="ident" id="2443509">align</span><span class="op" id="2443514">(</span><span class="ident" id="2443515"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2443522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443525"><a href="/reflect/type.go.html#2442079">retOffset</a></span>&nbsp;<span class="op" id="2443535">=</span>&nbsp;<span class="ident" id="2443537"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443539">.</span><span class="ident" id="2443540">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443546">for</span>&nbsp;<span class="ident" id="2443550">_</span><span class="op" id="2443551">,</span>&nbsp;<span class="ident" id="2443553">res</span>&nbsp;<span class="op" id="2443557">:=</span>&nbsp;<span class="keyword" id="2443560">range</span>&nbsp;<span class="ident" id="2443566"><a href="/reflect/type.go.html#2442629">tt</a></span><span class="op" id="2443568">.</span><span class="ident" id="2443569">out</span>&nbsp;<span class="op" id="2443573">{</span><br>
<span class="lineno">1835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443577"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443579">.</span><span class="ident" id="2443580">appendProg</span><span class="op" id="2443590">(</span><span class="ident" id="2443591"><a href="/reflect/type.go.html#2443553">res</a></span><span class="op" id="2443594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2443598">//&nbsp;stack&nbsp;map&nbsp;does&nbsp;not&nbsp;need&nbsp;result&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443641"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443643">.</span><span class="ident" id="2443644">align</span><span class="op" id="2443649">(</span><span class="ident" id="2443650"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2443657">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2443661">//&nbsp;build&nbsp;dummy&nbsp;rtype&nbsp;holding&nbsp;gc&nbsp;program</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443702">x</span>&nbsp;<span class="op" id="2443704">:=</span>&nbsp;<span class="builtinfunc" id="2443707">new</span><span class="op" id="2443710">(</span><span class="ident" id="2443711"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2443716">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443719"><a href="/reflect/type.go.html#2443702">x</a></span><span class="op" id="2443720">.</span><span class="ident" id="2443721">size</span>&nbsp;<span class="op" id="2443726">=</span>&nbsp;<span class="ident" id="2443728"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443730">.</span><span class="ident" id="2443731">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443737"><a href="/reflect/type.go.html#2443702">x</a></span><span class="op" id="2443738">.</span><span class="ident" id="2443739">gc</span><span class="op" id="2443741">[</span><span class="num" id="2443742">0</span><span class="op" id="2443743">]</span>&nbsp;<span class="op" id="2443745">=</span>&nbsp;<span class="ident" id="2443747"><a href="/reflect/type.go.html#2442748">gc</a></span><span class="op" id="2443749">.</span><span class="ident" id="2443750">finalize</span><span class="op" id="2443758">(</span><span class="op" id="2443759">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443762">var</span>&nbsp;<span class="ident" id="2443766">s</span>&nbsp;<span class="builtintype" id="2443768">string</span><br>
<span class="lineno">1845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443776">if</span>&nbsp;<span class="ident" id="2443779"><a href="/reflect/type.go.html#2442038">rcvr</a></span>&nbsp;<span class="op" id="2443784">!=</span>&nbsp;<span class="ident" id="2443787">nil</span>&nbsp;<span class="op" id="2443791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443795"><a href="/reflect/type.go.html#2443766">s</a></span>&nbsp;<span class="op" id="2443797">=</span>&nbsp;<span class="string" id="2443799">&#34;methodargs(&#34;</span>&nbsp;<span class="op" id="2443813">+</span>&nbsp;<span class="op" id="2443815">*</span><span class="ident" id="2443816"><a href="/reflect/type.go.html#2442038">rcvr</a></span><span class="op" id="2443820">.</span><span class="builtintype" id="2443821">string</span>&nbsp;<span class="op" id="2443828">+</span>&nbsp;<span class="string" id="2443830">&#34;)(&#34;</span>&nbsp;<span class="op" id="2443835">+</span>&nbsp;<span class="op" id="2443837">*</span><span class="ident" id="2443838"><a href="/reflect/type.go.html#2442028">t</a></span><span class="op" id="2443839">.</span><span class="builtintype" id="2443840">string</span>&nbsp;<span class="op" id="2443847">+</span>&nbsp;<span class="string" id="2443849">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443854">}</span>&nbsp;<span class="keyword" id="2443856">else</span>&nbsp;<span class="op" id="2443861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443865"><a href="/reflect/type.go.html#2443766">s</a></span>&nbsp;<span class="op" id="2443867">=</span>&nbsp;<span class="string" id="2443869">&#34;funcargs(&#34;</span>&nbsp;<span class="op" id="2443881">+</span>&nbsp;<span class="op" id="2443883">*</span><span class="ident" id="2443884"><a href="/reflect/type.go.html#2442028">t</a></span><span class="op" id="2443885">.</span><span class="builtintype" id="2443886">string</span>&nbsp;<span class="op" id="2443893">+</span>&nbsp;<span class="string" id="2443895">&#34;)&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2443900">}</span><br>
<span class="lineno">1850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443903"><a href="/reflect/type.go.html#2443702">x</a></span><span class="op" id="2443904">.</span><span class="builtintype" id="2443905">string</span>&nbsp;<span class="op" id="2443912">=</span>&nbsp;<span class="op" id="2443914">&amp;</span><span class="ident" id="2443915"><a href="/reflect/type.go.html#2443766">s</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2443919">//&nbsp;cache&nbsp;result&nbsp;for&nbsp;future&nbsp;callers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2443955">if</span>&nbsp;<span class="ident" id="2443958"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2443969">.</span><span class="ident" id="2443970">m</span>&nbsp;<span class="op" id="2443972">==</span>&nbsp;<span class="ident" id="2443975">nil</span>&nbsp;<span class="op" id="2443979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2443983"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2443994">.</span><span class="ident" id="2443995">m</span>&nbsp;<span class="op" id="2443997">=</span>&nbsp;<span class="builtinfunc" id="2443999">make</span><span class="op" id="2444003">(</span><span class="keyword" id="2444004">map</span><span class="op" id="2444007">[</span><span class="ident" id="2444008"><a href="/reflect/type.go.html#2441304">layoutKey</a></span><span class="op" id="2444017">]</span><span class="ident" id="2444018"><a href="/reflect/type.go.html#2441412">layoutType</a></span><span class="op" id="2444028">)</span><br>
<span class="lineno">1855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444034"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2444045">.</span><span class="ident" id="2444046">m</span><span class="op" id="2444047">[</span><span class="ident" id="2444048"><a href="/reflect/type.go.html#2442314">k</a></span><span class="op" id="2444049">]</span>&nbsp;<span class="op" id="2444051">=</span>&nbsp;<span class="ident" id="2444053"><a href="/reflect/type.go.html#2441412">layoutType</a></span><span class="op" id="2444063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444067">t</span><span class="op" id="2444068">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444078"><a href="/reflect/type.go.html#2443702">x</a></span><span class="op" id="2444079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444083">argSize</span><span class="op" id="2444090">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="2444094"><a href="/reflect/type.go.html#2442070">argSize</a></span><span class="op" id="2444101">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444105">retOffset</span><span class="op" id="2444114">:</span>&nbsp;<span class="ident" id="2444116"><a href="/reflect/type.go.html#2442079">retOffset</a></span><span class="op" id="2444125">,</span><br>
<span class="lineno">1860</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444129">stack</span><span class="op" id="2444134">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="2444140"><a href="/reflect/type.go.html#2442098">stack</a></span><span class="op" id="2444145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444151"><a href="/reflect/type.go.html#2441566">layoutCache</a></span><span class="op" id="2444162">.</span><span class="ident" id="2444163">Unlock</span><span class="op" id="2444169">(</span><span class="op" id="2444170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444173">return</span>&nbsp;<span class="ident" id="2444180"><a href="/reflect/type.go.html#2443702">x</a></span><span class="op" id="2444181">,</span>&nbsp;<span class="ident" id="2444183"><a href="/reflect/type.go.html#2442070">argSize</a></span><span class="op" id="2444190">,</span>&nbsp;<span class="ident" id="2444192"><a href="/reflect/type.go.html#2442079">retOffset</a></span><span class="op" id="2444201">,</span>&nbsp;<span class="ident" id="2444203"><a href="/reflect/type.go.html#2442098">stack</a></span><br>
<span class="lineno"></span><span class="op" id="2444209">}</span><br>
<span class="lineno">1865</span><br>
<span class="lineno"></span><span class="comment" id="2444212">//&nbsp;ifaceIndir&nbsp;reports&nbsp;whether&nbsp;t&nbsp;is&nbsp;stored&nbsp;indirectly&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="2444288">func</span>&nbsp;<span class="ident" id="2444293">ifaceIndir</span><span class="op" id="2444303">(</span><span class="ident" id="2444304">t</span>&nbsp;<span class="op" id="2444306">*</span><span class="ident" id="2444307"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2444312">)</span>&nbsp;<span class="builtintype" id="2444314">bool</span>&nbsp;<span class="op" id="2444319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444322">return</span>&nbsp;<span class="ident" id="2444329"><a href="/reflect/type.go.html#2444304">t</a></span><span class="op" id="2444330">.</span><span class="ident" id="2444331">kind</span><span class="op" id="2444335">&amp;</span><span class="ident" id="2444336"><a href="/reflect/type.go.html#2406788">kindDirectIface</a></span>&nbsp;<span class="op" id="2444352">==</span>&nbsp;<span class="num" id="2444355">0</span><br>
<span class="lineno"></span><span class="op" id="2444357">}</span><br>
<span class="lineno">1870</span><br>
<span class="lineno"></span><span class="comment" id="2444360">//&nbsp;Layout&nbsp;matches&nbsp;runtime.BitVector&nbsp;(well&nbsp;enough).</span><br>
<span class="lineno"></span><span class="keyword" id="2444411">type</span>&nbsp;<span class="ident" id="2444416">bitVector</span>&nbsp;<span class="keyword" id="2444426">struct</span>&nbsp;<span class="op" id="2444433">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444436">n</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="2444441">uint32</span>&nbsp;<span class="comment" id="2444448">//&nbsp;number&nbsp;of&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444467">data</span>&nbsp;<span class="op" id="2444472">[</span><span class="op" id="2444473">]</span><span class="builtintype" id="2444474">byte</span><br>
<span class="lineno">1875</span><span class="op" id="2444479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="2444482">//&nbsp;append&nbsp;a&nbsp;bit&nbsp;pair&nbsp;to&nbsp;the&nbsp;bitmap.</span><br>
<span class="lineno"></span><span class="keyword" id="2444518">func</span>&nbsp;<span class="op" id="2444523">(</span><span class="ident" id="2444524">bv</span>&nbsp;<span class="op" id="2444527">*</span><span class="ident" id="2444528"><a href="/reflect/type.go.html#2444416">bitVector</a></span><span class="op" id="2444537">)</span>&nbsp;<span class="ident" id="2444539">append2</span><span class="op" id="2444546">(</span><span class="ident" id="2444547">bits</span>&nbsp;<span class="builtintype" id="2444552">uint8</span><span class="op" id="2444557">)</span>&nbsp;<span class="op" id="2444559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2444562">//&nbsp;assume&nbsp;bv.n&nbsp;is&nbsp;a&nbsp;multiple&nbsp;of&nbsp;2,&nbsp;since&nbsp;append2&nbsp;is&nbsp;the&nbsp;only&nbsp;operation.</span><br>
<span class="lineno">1880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444635">if</span>&nbsp;<span class="ident" id="2444638"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444640">.</span><span class="ident" id="2444641">n</span><span class="op" id="2444642">%</span><span class="num" id="2444643">8</span>&nbsp;<span class="op" id="2444645">==</span>&nbsp;<span class="num" id="2444648">0</span>&nbsp;<span class="op" id="2444650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444654"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444656">.</span><span class="ident" id="2444657">data</span>&nbsp;<span class="op" id="2444662">=</span>&nbsp;<span class="builtinfunc" id="2444664">append</span><span class="op" id="2444670">(</span><span class="ident" id="2444671"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444673">.</span><span class="ident" id="2444674">data</span><span class="op" id="2444678">,</span>&nbsp;<span class="num" id="2444680">0</span><span class="op" id="2444681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444684">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444687"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444689">.</span><span class="ident" id="2444690">data</span><span class="op" id="2444694">[</span><span class="ident" id="2444695"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444697">.</span><span class="ident" id="2444698">n</span><span class="op" id="2444699">/</span><span class="num" id="2444700">8</span><span class="op" id="2444701">]</span>&nbsp;<span class="op" id="2444703">|=</span>&nbsp;<span class="ident" id="2444706"><a href="/reflect/type.go.html#2444547">bits</a></span>&nbsp;<span class="op" id="2444711">&lt;&lt;</span>&nbsp;<span class="op" id="2444714">(</span><span class="ident" id="2444715"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444717">.</span><span class="ident" id="2444718">n</span>&nbsp;<span class="op" id="2444720">%</span>&nbsp;<span class="num" id="2444722">8</span><span class="op" id="2444723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2444726"><a href="/reflect/type.go.html#2444524">bv</a></span><span class="op" id="2444728">.</span><span class="ident" id="2444729">n</span>&nbsp;<span class="op" id="2444731">+=</span>&nbsp;<span class="num" id="2444734">2</span><br>
<span class="lineno">1885</span><span class="op" id="2444736">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2444739">func</span>&nbsp;<span class="ident" id="2444744">addTypeBits</span><span class="op" id="2444755">(</span><span class="ident" id="2444756">bv</span>&nbsp;<span class="op" id="2444759">*</span><span class="ident" id="2444760"><a href="/reflect/type.go.html#2444416">bitVector</a></span><span class="op" id="2444769">,</span>&nbsp;<span class="ident" id="2444771">offset</span>&nbsp;<span class="op" id="2444778">*</span><span class="builtintype" id="2444779">uintptr</span><span class="op" id="2444786">,</span>&nbsp;<span class="ident" id="2444788">t</span>&nbsp;<span class="op" id="2444790">*</span><span class="ident" id="2444791"><a href="/reflect/type.go.html#2401678">rtype</a></span><span class="op" id="2444796">)</span>&nbsp;<span class="op" id="2444798">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444801">*</span><span class="ident" id="2444802"><a href="/reflect/type.go.html#2444771">offset</a></span>&nbsp;<span class="op" id="2444809">=</span>&nbsp;<span class="ident" id="2444811"><a href="/reflect/value.go.html#2463280">align</a></span><span class="op" id="2444816">(</span><span class="op" id="2444817">*</span><span class="ident" id="2444818"><a href="/reflect/type.go.html#2444771">offset</a></span><span class="op" id="2444824">,</span>&nbsp;<span class="builtintype" id="2444826">uintptr</span><span class="op" id="2444833">(</span><span class="ident" id="2444834"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2444835">.</span><span class="ident" id="2444836">align</span><span class="op" id="2444841">)</span><span class="op" id="2444842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444845">if</span>&nbsp;<span class="ident" id="2444848"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2444849">.</span><span class="ident" id="2444850">kind</span><span class="op" id="2444854">&amp;</span><span class="ident" id="2444855"><a href="/reflect/type.go.html#2406872">kindNoPointers</a></span>&nbsp;<span class="op" id="2444870">!=</span>&nbsp;<span class="num" id="2444873">0</span>&nbsp;<span class="op" id="2444875">{</span><br>
<span class="lineno">1890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444879">*</span><span class="ident" id="2444880"><a href="/reflect/type.go.html#2444771">offset</a></span>&nbsp;<span class="op" id="2444887">+=</span>&nbsp;<span class="ident" id="2444890"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2444891">.</span><span class="ident" id="2444892">size</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444899">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2444907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444911">switch</span>&nbsp;<span class="ident" id="2444918"><a href="/reflect/type.go.html#2401184">Kind</a></span><span class="op" id="2444922">(</span><span class="ident" id="2444923"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2444924">.</span><span class="ident" id="2444925">kind</span>&nbsp;<span class="op" id="2444930">&amp;</span>&nbsp;<span class="ident" id="2444932"><a href="/reflect/type.go.html#2406898">kindMask</a></span><span class="op" id="2444940">)</span>&nbsp;<span class="op" id="2444942">{</span><br>
<span class="lineno">1895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2444945">case</span>&nbsp;<span class="ident" id="2444950"><a href="/reflect/type.go.html#2401357">Chan</a></span><span class="op" id="2444954">,</span>&nbsp;<span class="ident" id="2444956"><a href="/reflect/type.go.html#2401363">Func</a></span><span class="op" id="2444960">,</span>&nbsp;<span class="ident" id="2444962"><a href="/reflect/type.go.html#2401380">Map</a></span><span class="op" id="2444965">,</span>&nbsp;<span class="ident" id="2444967"><a href="/reflect/type.go.html#2401385">Ptr</a></span><span class="op" id="2444970">,</span>&nbsp;<span class="ident" id="2444972"><a href="/reflect/type.go.html#2401390">Slice</a></span><span class="op" id="2444977">,</span>&nbsp;<span class="ident" id="2444979"><a href="/reflect/type.go.html#2401397">String</a></span><span class="op" id="2444985">,</span>&nbsp;<span class="ident" id="2444987"><a href="/reflect/type.go.html#2401413">UnsafePointer</a></span><span class="op" id="2445000">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2445004">//&nbsp;1&nbsp;pointer&nbsp;at&nbsp;start&nbsp;of&nbsp;representation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445046">for</span>&nbsp;<span class="ident" id="2445050"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445052">.</span><span class="ident" id="2445053">n</span>&nbsp;<span class="op" id="2445055">&lt;</span>&nbsp;<span class="num" id="2445057">2</span><span class="op" id="2445058">*</span><span class="builtintype" id="2445059">uint32</span><span class="op" id="2445065">(</span><span class="op" id="2445066">*</span><span class="ident" id="2445067"><a href="/reflect/type.go.html#2444771">offset</a></span><span class="op" id="2445073">/</span><span class="builtintype" id="2445074">uintptr</span><span class="op" id="2445081">(</span><span class="ident" id="2445082"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2445089">)</span><span class="op" id="2445090">)</span>&nbsp;<span class="op" id="2445092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445097"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445099">.</span><span class="ident" id="2445100">append2</span><span class="op" id="2445107">(</span><span class="ident" id="2445108"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2445118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445122">}</span><br>
<span class="lineno">1900</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445126"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445128">.</span><span class="ident" id="2445129">append2</span><span class="op" id="2445136">(</span><span class="ident" id="2445137"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2445148">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445152">case</span>&nbsp;<span class="ident" id="2445157"><a href="/reflect/type.go.html#2401369">Interface</a></span><span class="op" id="2445166">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2445170">//&nbsp;2&nbsp;pointers</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445186">for</span>&nbsp;<span class="ident" id="2445190"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445192">.</span><span class="ident" id="2445193">n</span>&nbsp;<span class="op" id="2445195">&lt;</span>&nbsp;<span class="num" id="2445197">2</span><span class="op" id="2445198">*</span><span class="builtintype" id="2445199">uint32</span><span class="op" id="2445205">(</span><span class="op" id="2445206">*</span><span class="ident" id="2445207"><a href="/reflect/type.go.html#2444771">offset</a></span><span class="op" id="2445213">/</span><span class="builtintype" id="2445214">uintptr</span><span class="op" id="2445221">(</span><span class="ident" id="2445222"><a href="/reflect/value.go.html#2445927">ptrSize</a></span><span class="op" id="2445229">)</span><span class="op" id="2445230">)</span>&nbsp;<span class="op" id="2445232">{</span><br>
<span class="lineno">1905</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445237"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445239">.</span><span class="ident" id="2445240">append2</span><span class="op" id="2445247">(</span><span class="ident" id="2445248"><a href="/reflect/type.go.html#2437151">bitsScalar</a></span><span class="op" id="2445258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445262">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445266"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445268">.</span><span class="ident" id="2445269">append2</span><span class="op" id="2445276">(</span><span class="ident" id="2445277"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2445288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445292"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445294">.</span><span class="ident" id="2445295">append2</span><span class="op" id="2445302">(</span><span class="ident" id="2445303"><a href="/reflect/type.go.html#2437170">bitsPointer</a></span><span class="op" id="2445314">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445318">case</span>&nbsp;<span class="ident" id="2445323"><a href="/reflect/type.go.html#2401350">Array</a></span><span class="op" id="2445328">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2445332">//&nbsp;repeat&nbsp;inner&nbsp;type</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445355">tt</span>&nbsp;<span class="op" id="2445358">:=</span>&nbsp;<span class="op" id="2445361">(</span><span class="op" id="2445362">*</span><span class="ident" id="2445363"><a href="/reflect/type.go.html#2403972">arrayType</a></span><span class="op" id="2445372">)</span><span class="op" id="2445373">(</span><span class="ident" id="2445374"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2445380">.</span><span class="ident" id="2445381">Pointer</span><span class="op" id="2445388">(</span><span class="ident" id="2445389"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2445390">)</span><span class="op" id="2445391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445395">for</span>&nbsp;<span class="ident" id="2445399">i</span>&nbsp;<span class="op" id="2445401">:=</span>&nbsp;<span class="num" id="2445404">0</span><span class="op" id="2445405">;</span>&nbsp;<span class="ident" id="2445407"><a href="/reflect/type.go.html#2445399">i</a></span>&nbsp;<span class="op" id="2445409">&lt;</span>&nbsp;<span class="builtintype" id="2445411">int</span><span class="op" id="2445414">(</span><span class="ident" id="2445415"><a href="/reflect/type.go.html#2445355">tt</a></span><span class="op" id="2445417">.</span><span class="builtinfunc" id="2445418">len</span><span class="op" id="2445421">)</span><span class="op" id="2445422">;</span>&nbsp;<span class="ident" id="2445424"><a href="/reflect/type.go.html#2445399">i</a></span><span class="op" id="2445425">++</span>&nbsp;<span class="op" id="2445428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445433"><a href="/reflect/type.go.html#2444744">addTypeBits</a></span><span class="op" id="2445444">(</span><span class="ident" id="2445445"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445447">,</span>&nbsp;<span class="ident" id="2445449"><a href="/reflect/type.go.html#2444771">offset</a></span><span class="op" id="2445455">,</span>&nbsp;<span class="ident" id="2445457"><a href="/reflect/type.go.html#2445355">tt</a></span><span class="op" id="2445459">.</span><span class="ident" id="2445460">elem</span><span class="op" id="2445464">)</span><br>
<span class="lineno">1915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445472">case</span>&nbsp;<span class="ident" id="2445477"><a href="/reflect/type.go.html#2401405">Struct</a></span><span class="op" id="2445483">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="2445487">//&nbsp;apply&nbsp;fields</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445505">tt</span>&nbsp;<span class="op" id="2445508">:=</span>&nbsp;<span class="op" id="2445511">(</span><span class="op" id="2445512">*</span><span class="ident" id="2445513"><a href="/reflect/type.go.html#2405994">structType</a></span><span class="op" id="2445523">)</span><span class="op" id="2445524">(</span><span class="ident" id="2445525"><a href="/reflect/type.go.html#2394436">unsafe</a></span><span class="op" id="2445531">.</span><span class="ident" id="2445532">Pointer</span><span class="op" id="2445539">(</span><span class="ident" id="2445540"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2445541">)</span><span class="op" id="2445542">)</span><br>
<span class="lineno">1920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445546">start</span>&nbsp;<span class="op" id="2445552">:=</span>&nbsp;<span class="op" id="2445555">*</span><span class="ident" id="2445556"><a href="/reflect/type.go.html#2444771">offset</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2445565">for</span>&nbsp;<span class="ident" id="2445569">i</span>&nbsp;<span class="op" id="2445571">:=</span>&nbsp;<span class="keyword" id="2445574">range</span>&nbsp;<span class="ident" id="2445580"><a href="/reflect/type.go.html#2445505">tt</a></span><span class="op" id="2445582">.</span><span class="ident" id="2445583">fields</span>&nbsp;<span class="op" id="2445590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445595">f</span>&nbsp;<span class="op" id="2445597">:=</span>&nbsp;<span class="op" id="2445600">&amp;</span><span class="ident" id="2445601"><a href="/reflect/type.go.html#2445505">tt</a></span><span class="op" id="2445603">.</span><span class="ident" id="2445604">fields</span><span class="op" id="2445610">[</span><span class="ident" id="2445611"><a href="/reflect/type.go.html#2445569">i</a></span><span class="op" id="2445612">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445617">off</span>&nbsp;<span class="op" id="2445621">:=</span>&nbsp;<span class="ident" id="2445624"><a href="/reflect/type.go.html#2445546">start</a></span>&nbsp;<span class="op" id="2445630">+</span>&nbsp;<span class="ident" id="2445632"><a href="/reflect/type.go.html#2445595">f</a></span><span class="op" id="2445633">.</span><span class="ident" id="2445634">offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2445644"><a href="/reflect/type.go.html#2444744">addTypeBits</a></span><span class="op" id="2445655">(</span><span class="ident" id="2445656"><a href="/reflect/type.go.html#2444756">bv</a></span><span class="op" id="2445658">,</span>&nbsp;<span class="op" id="2445660">&amp;</span><span class="ident" id="2445661"><a href="/reflect/type.go.html#2445617">off</a></span><span class="op" id="2445664">,</span>&nbsp;<span class="ident" id="2445666"><a href="/reflect/type.go.html#2445595">f</a></span><span class="op" id="2445667">.</span><span class="ident" id="2445668">typ</span><span class="op" id="2445671">)</span><br>
<span class="lineno">1925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2445682">*</span><span class="ident" id="2445683"><a href="/reflect/type.go.html#2444771">offset</a></span>&nbsp;<span class="op" id="2445690">+=</span>&nbsp;<span class="ident" id="2445693"><a href="/reflect/type.go.html#2444788">t</a></span><span class="op" id="2445694">.</span><span class="ident" id="2445695">size</span><br>
<span class="lineno"></span><span class="op" id="2445700">}</span>
</div>
</body>
</html>
