<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6784283">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6784338">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6784392">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6784443">package</span>&nbsp;<span class="ident" id="6784451">adler32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6784460">import</span>&nbsp;<span class="op" id="6784467">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6784470">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6784481">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="6784491">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6784494">var</span>&nbsp;<span class="ident" id="6784498">golden</span>&nbsp;<span class="op" id="6784505">=</span>&nbsp;<span class="op" id="6784507">[</span><span class="op" id="6784508">]</span><span class="keyword" id="6784509">struct</span>&nbsp;<span class="op" id="6784516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6784519">out</span>&nbsp;<span class="builtintype" id="6784523">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6784531">in</span>&nbsp;&nbsp;<span class="builtintype" id="6784535">string</span><br>
<span class="lineno">15</span><span class="op" id="6784542">}</span><span class="op" id="6784543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784546">{</span><span class="num" id="6784547">0x00000001</span><span class="op" id="6784557">,</span>&nbsp;<span class="string" id="6784559">&#34;&#34;</span><span class="op" id="6784561">}</span><span class="op" id="6784562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784565">{</span><span class="num" id="6784566">0x00620062</span><span class="op" id="6784576">,</span>&nbsp;<span class="string" id="6784578">&#34;a&#34;</span><span class="op" id="6784581">}</span><span class="op" id="6784582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784585">{</span><span class="num" id="6784586">0x012600c4</span><span class="op" id="6784596">,</span>&nbsp;<span class="string" id="6784598">&#34;ab&#34;</span><span class="op" id="6784602">}</span><span class="op" id="6784603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784606">{</span><span class="num" id="6784607">0x024d0127</span><span class="op" id="6784617">,</span>&nbsp;<span class="string" id="6784619">&#34;abc&#34;</span><span class="op" id="6784624">}</span><span class="op" id="6784625">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784628">{</span><span class="num" id="6784629">0x03d8018b</span><span class="op" id="6784639">,</span>&nbsp;<span class="string" id="6784641">&#34;abcd&#34;</span><span class="op" id="6784647">}</span><span class="op" id="6784648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784651">{</span><span class="num" id="6784652">0x05c801f0</span><span class="op" id="6784662">,</span>&nbsp;<span class="string" id="6784664">&#34;abcde&#34;</span><span class="op" id="6784671">}</span><span class="op" id="6784672">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784675">{</span><span class="num" id="6784676">0x081e0256</span><span class="op" id="6784686">,</span>&nbsp;<span class="string" id="6784688">&#34;abcdef&#34;</span><span class="op" id="6784696">}</span><span class="op" id="6784697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784700">{</span><span class="num" id="6784701">0x0adb02bd</span><span class="op" id="6784711">,</span>&nbsp;<span class="string" id="6784713">&#34;abcdefg&#34;</span><span class="op" id="6784722">}</span><span class="op" id="6784723">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784726">{</span><span class="num" id="6784727">0x0e000325</span><span class="op" id="6784737">,</span>&nbsp;<span class="string" id="6784739">&#34;abcdefgh&#34;</span><span class="op" id="6784749">}</span><span class="op" id="6784750">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784753">{</span><span class="num" id="6784754">0x118e038e</span><span class="op" id="6784764">,</span>&nbsp;<span class="string" id="6784766">&#34;abcdefghi&#34;</span><span class="op" id="6784777">}</span><span class="op" id="6784778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784781">{</span><span class="num" id="6784782">0x158603f8</span><span class="op" id="6784792">,</span>&nbsp;<span class="string" id="6784794">&#34;abcdefghij&#34;</span><span class="op" id="6784806">}</span><span class="op" id="6784807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784810">{</span><span class="num" id="6784811">0x3f090f02</span><span class="op" id="6784821">,</span>&nbsp;<span class="string" id="6784823">&#34;Discard&nbsp;medicine&nbsp;more&nbsp;than&nbsp;two&nbsp;years&nbsp;old.&#34;</span><span class="op" id="6784866">}</span><span class="op" id="6784867">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784870">{</span><span class="num" id="6784871">0x46d81477</span><span class="op" id="6784881">,</span>&nbsp;<span class="string" id="6784883">&#34;He&nbsp;who&nbsp;has&nbsp;a&nbsp;shady&nbsp;past&nbsp;knows&nbsp;that&nbsp;nice&nbsp;guys&nbsp;finish&nbsp;last.&#34;</span><span class="op" id="6784942">}</span><span class="op" id="6784943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6784946">{</span><span class="num" id="6784947">0x40ee0ee1</span><span class="op" id="6784957">,</span>&nbsp;<span class="string" id="6784959">&#34;I&nbsp;wouldn&#39;t&nbsp;marry&nbsp;him&nbsp;with&nbsp;a&nbsp;ten&nbsp;foot&nbsp;pole.&#34;</span><span class="op" id="6785003">}</span><span class="op" id="6785004">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785007">{</span><span class="num" id="6785008">0x16661315</span><span class="op" id="6785018">,</span>&nbsp;<span class="string" id="6785020">&#34;Free!&nbsp;Free!/A&nbsp;trip/to&nbsp;Mars/for&nbsp;900/empty&nbsp;jars/Burma&nbsp;Shave&#34;</span><span class="op" id="6785079">}</span><span class="op" id="6785080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785083">{</span><span class="num" id="6785084">0x5b2e1480</span><span class="op" id="6785094">,</span>&nbsp;<span class="string" id="6785096">&#34;The&nbsp;days&nbsp;of&nbsp;the&nbsp;digital&nbsp;watch&nbsp;are&nbsp;numbered.&nbsp;&nbsp;-Tom&nbsp;Stoppard&#34;</span><span class="op" id="6785156">}</span><span class="op" id="6785157">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785160">{</span><span class="num" id="6785161">0x8c3c09ea</span><span class="op" id="6785171">,</span>&nbsp;<span class="string" id="6785173">&#34;Nepal&nbsp;premier&nbsp;won&#39;t&nbsp;resign.&#34;</span><span class="op" id="6785202">}</span><span class="op" id="6785203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785206">{</span><span class="num" id="6785207">0x45ac18fd</span><span class="op" id="6785217">,</span>&nbsp;<span class="string" id="6785219">&#34;For&nbsp;every&nbsp;action&nbsp;there&nbsp;is&nbsp;an&nbsp;equal&nbsp;and&nbsp;opposite&nbsp;government&nbsp;program.&#34;</span><span class="op" id="6785288">}</span><span class="op" id="6785289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785292">{</span><span class="num" id="6785293">0x53c61462</span><span class="op" id="6785303">,</span>&nbsp;<span class="string" id="6785305">&#34;His&nbsp;money&nbsp;is&nbsp;twice&nbsp;tainted:&nbsp;&#39;taint&nbsp;yours&nbsp;and&nbsp;&#39;taint&nbsp;mine.&#34;</span><span class="op" id="6785364">}</span><span class="op" id="6785365">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785368">{</span><span class="num" id="6785369">0x7e511e63</span><span class="op" id="6785379">,</span>&nbsp;<span class="string" id="6785381">&#34;There&nbsp;is&nbsp;no&nbsp;reason&nbsp;for&nbsp;any&nbsp;individual&nbsp;to&nbsp;have&nbsp;a&nbsp;computer&nbsp;in&nbsp;their&nbsp;home.&nbsp;-Ken&nbsp;Olsen,&nbsp;1977&#34;</span><span class="op" id="6785471">}</span><span class="op" id="6785472">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785475">{</span><span class="num" id="6785476">0xe4801a6a</span><span class="op" id="6785486">,</span>&nbsp;<span class="string" id="6785488">&#34;It&#39;s&nbsp;a&nbsp;tiny&nbsp;change&nbsp;to&nbsp;the&nbsp;code&nbsp;and&nbsp;not&nbsp;completely&nbsp;disgusting.&nbsp;-&nbsp;Bob&nbsp;Manchek&#34;</span><span class="op" id="6785565">}</span><span class="op" id="6785566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785569">{</span><span class="num" id="6785570">0x61b507df</span><span class="op" id="6785580">,</span>&nbsp;<span class="string" id="6785582">&#34;size:&nbsp;&nbsp;a.out:&nbsp;&nbsp;bad&nbsp;magic&#34;</span><span class="op" id="6785608">}</span><span class="op" id="6785609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785612">{</span><span class="num" id="6785613">0xb8631171</span><span class="op" id="6785623">,</span>&nbsp;<span class="string" id="6785625">&#34;The&nbsp;major&nbsp;problem&nbsp;is&nbsp;with&nbsp;sendmail.&nbsp;&nbsp;-Mark&nbsp;Horton&#34;</span><span class="op" id="6785676">}</span><span class="op" id="6785677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785680">{</span><span class="num" id="6785681">0x8b5e1904</span><span class="op" id="6785691">,</span>&nbsp;<span class="string" id="6785693">&#34;Give&nbsp;me&nbsp;a&nbsp;rock,&nbsp;paper&nbsp;and&nbsp;scissors&nbsp;and&nbsp;I&nbsp;will&nbsp;move&nbsp;the&nbsp;world.&nbsp;&nbsp;CCFestoon&#34;</span><span class="op" id="6785767">}</span><span class="op" id="6785768">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785771">{</span><span class="num" id="6785772">0x7cc6102b</span><span class="op" id="6785782">,</span>&nbsp;<span class="string" id="6785784">&#34;If&nbsp;the&nbsp;enemy&nbsp;is&nbsp;within&nbsp;range,&nbsp;then&nbsp;so&nbsp;are&nbsp;you.&#34;</span><span class="op" id="6785832">}</span><span class="op" id="6785833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785836">{</span><span class="num" id="6785837">0x700318e7</span><span class="op" id="6785847">,</span>&nbsp;<span class="string" id="6785849">&#34;It&#39;s&nbsp;well&nbsp;we&nbsp;cannot&nbsp;hear&nbsp;the&nbsp;screams/That&nbsp;we&nbsp;create&nbsp;in&nbsp;others&#39;&nbsp;dreams.&#34;</span><span class="op" id="6785921">}</span><span class="op" id="6785922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6785925">{</span><span class="num" id="6785926">0x1e601747</span><span class="op" id="6785936">,</span>&nbsp;<span class="string" id="6785938">&#34;You&nbsp;remind&nbsp;me&nbsp;of&nbsp;a&nbsp;TV&nbsp;show,&nbsp;but&nbsp;that&#39;s&nbsp;all&nbsp;right:&nbsp;I&nbsp;watch&nbsp;it&nbsp;anyway.&#34;</span><span class="op" id="6786008">}</span><span class="op" id="6786009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786012">{</span><span class="num" id="6786013">0xb55b0b09</span><span class="op" id="6786023">,</span>&nbsp;<span class="string" id="6786025">&#34;C&nbsp;is&nbsp;as&nbsp;portable&nbsp;as&nbsp;Stonehedge!!&#34;</span><span class="op" id="6786059">}</span><span class="op" id="6786060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786063">{</span><span class="num" id="6786064">0x39111dd0</span><span class="op" id="6786074">,</span>&nbsp;<span class="string" id="6786076">&#34;Even&nbsp;if&nbsp;I&nbsp;could&nbsp;be&nbsp;Shakespeare,&nbsp;I&nbsp;think&nbsp;I&nbsp;should&nbsp;still&nbsp;choose&nbsp;to&nbsp;be&nbsp;Faraday.&nbsp;-&nbsp;A.&nbsp;Huxley&#34;</span><span class="op" id="6786166">}</span><span class="op" id="6786167">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786170">{</span><span class="num" id="6786171">0x91dd304f</span><span class="op" id="6786181">,</span>&nbsp;<span class="string" id="6786183">&#34;The&nbsp;fugacity&nbsp;of&nbsp;a&nbsp;constituent&nbsp;in&nbsp;a&nbsp;mixture&nbsp;of&nbsp;gases&nbsp;at&nbsp;a&nbsp;given&nbsp;temperature&nbsp;is&nbsp;proportional&nbsp;to&nbsp;its&nbsp;mole&nbsp;fraction.&nbsp;&nbsp;Lewis-Randall&nbsp;Rule&#34;</span><span class="op" id="6786317">}</span><span class="op" id="6786318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786321">{</span><span class="num" id="6786322">0x2e5d1316</span><span class="op" id="6786332">,</span>&nbsp;<span class="string" id="6786334">&#34;How&nbsp;can&nbsp;you&nbsp;write&nbsp;a&nbsp;big&nbsp;system&nbsp;without&nbsp;C++?&nbsp;&nbsp;-Paul&nbsp;Glick&#34;</span><span class="op" id="6786392">}</span><span class="op" id="6786393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786396">{</span><span class="num" id="6786397">0xd0201df6</span><span class="op" id="6786407">,</span>&nbsp;<span class="string" id="6786409">&#34;&#39;Invariant&nbsp;assertions&#39;&nbsp;is&nbsp;the&nbsp;most&nbsp;elegant&nbsp;programming&nbsp;technique!&nbsp;&nbsp;-Tom&nbsp;Szymanski&#34;</span><span class="op" id="6786492">}</span><span class="op" id="6786493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786496">{</span><span class="num" id="6786497">0x211297c8</span><span class="op" id="6786507">,</span>&nbsp;<span class="ident" id="6786509">strings</span><span class="op" id="6786516">.</span><span class="ident" id="6786517">Repeat</span><span class="op" id="6786523">(</span><span class="string" id="6786524">&#34;\xff&#34;</span><span class="op" id="6786530">,</span>&nbsp;<span class="num" id="6786532">5548</span><span class="op" id="6786536">)</span>&nbsp;<span class="op" id="6786538">+</span>&nbsp;<span class="string" id="6786540">&#34;8&#34;</span><span class="op" id="6786543">}</span><span class="op" id="6786544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786547">{</span><span class="num" id="6786548">0xbaa198c8</span><span class="op" id="6786558">,</span>&nbsp;<span class="ident" id="6786560">strings</span><span class="op" id="6786567">.</span><span class="ident" id="6786568">Repeat</span><span class="op" id="6786574">(</span><span class="string" id="6786575">&#34;\xff&#34;</span><span class="op" id="6786581">,</span>&nbsp;<span class="num" id="6786583">5549</span><span class="op" id="6786587">)</span>&nbsp;<span class="op" id="6786589">+</span>&nbsp;<span class="string" id="6786591">&#34;9&#34;</span><span class="op" id="6786594">}</span><span class="op" id="6786595">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786598">{</span><span class="num" id="6786599">0x553499be</span><span class="op" id="6786609">,</span>&nbsp;<span class="ident" id="6786611">strings</span><span class="op" id="6786618">.</span><span class="ident" id="6786619">Repeat</span><span class="op" id="6786625">(</span><span class="string" id="6786626">&#34;\xff&#34;</span><span class="op" id="6786632">,</span>&nbsp;<span class="num" id="6786634">5550</span><span class="op" id="6786638">)</span>&nbsp;<span class="op" id="6786640">+</span>&nbsp;<span class="string" id="6786642">&#34;0&#34;</span><span class="op" id="6786645">}</span><span class="op" id="6786646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786649">{</span><span class="num" id="6786650">0xf0c19abe</span><span class="op" id="6786660">,</span>&nbsp;<span class="ident" id="6786662">strings</span><span class="op" id="6786669">.</span><span class="ident" id="6786670">Repeat</span><span class="op" id="6786676">(</span><span class="string" id="6786677">&#34;\xff&#34;</span><span class="op" id="6786683">,</span>&nbsp;<span class="num" id="6786685">5551</span><span class="op" id="6786689">)</span>&nbsp;<span class="op" id="6786691">+</span>&nbsp;<span class="string" id="6786693">&#34;1&#34;</span><span class="op" id="6786696">}</span><span class="op" id="6786697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786700">{</span><span class="num" id="6786701">0x8d5c9bbe</span><span class="op" id="6786711">,</span>&nbsp;<span class="ident" id="6786713">strings</span><span class="op" id="6786720">.</span><span class="ident" id="6786721">Repeat</span><span class="op" id="6786727">(</span><span class="string" id="6786728">&#34;\xff&#34;</span><span class="op" id="6786734">,</span>&nbsp;<span class="num" id="6786736">5552</span><span class="op" id="6786740">)</span>&nbsp;<span class="op" id="6786742">+</span>&nbsp;<span class="string" id="6786744">&#34;2&#34;</span><span class="op" id="6786747">}</span><span class="op" id="6786748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786751">{</span><span class="num" id="6786752">0x2af69cbe</span><span class="op" id="6786762">,</span>&nbsp;<span class="ident" id="6786764">strings</span><span class="op" id="6786771">.</span><span class="ident" id="6786772">Repeat</span><span class="op" id="6786778">(</span><span class="string" id="6786779">&#34;\xff&#34;</span><span class="op" id="6786785">,</span>&nbsp;<span class="num" id="6786787">5553</span><span class="op" id="6786791">)</span>&nbsp;<span class="op" id="6786793">+</span>&nbsp;<span class="string" id="6786795">&#34;3&#34;</span><span class="op" id="6786798">}</span><span class="op" id="6786799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786802">{</span><span class="num" id="6786803">0xc9809dbe</span><span class="op" id="6786813">,</span>&nbsp;<span class="ident" id="6786815">strings</span><span class="op" id="6786822">.</span><span class="ident" id="6786823">Repeat</span><span class="op" id="6786829">(</span><span class="string" id="6786830">&#34;\xff&#34;</span><span class="op" id="6786836">,</span>&nbsp;<span class="num" id="6786838">5554</span><span class="op" id="6786842">)</span>&nbsp;<span class="op" id="6786844">+</span>&nbsp;<span class="string" id="6786846">&#34;4&#34;</span><span class="op" id="6786849">}</span><span class="op" id="6786850">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786853">{</span><span class="num" id="6786854">0x69189ebe</span><span class="op" id="6786864">,</span>&nbsp;<span class="ident" id="6786866">strings</span><span class="op" id="6786873">.</span><span class="ident" id="6786874">Repeat</span><span class="op" id="6786880">(</span><span class="string" id="6786881">&#34;\xff&#34;</span><span class="op" id="6786887">,</span>&nbsp;<span class="num" id="6786889">5555</span><span class="op" id="6786893">)</span>&nbsp;<span class="op" id="6786895">+</span>&nbsp;<span class="string" id="6786897">&#34;5&#34;</span><span class="op" id="6786900">}</span><span class="op" id="6786901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786904">{</span><span class="num" id="6786905">0x86af0001</span><span class="op" id="6786915">,</span>&nbsp;<span class="ident" id="6786917">strings</span><span class="op" id="6786924">.</span><span class="ident" id="6786925">Repeat</span><span class="op" id="6786931">(</span><span class="string" id="6786932">&#34;\x00&#34;</span><span class="op" id="6786938">,</span>&nbsp;<span class="num" id="6786940">1e5</span><span class="op" id="6786943">)</span><span class="op" id="6786944">}</span><span class="op" id="6786945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786948">{</span><span class="num" id="6786949">0x79660b4d</span><span class="op" id="6786959">,</span>&nbsp;<span class="ident" id="6786961">strings</span><span class="op" id="6786968">.</span><span class="ident" id="6786969">Repeat</span><span class="op" id="6786975">(</span><span class="string" id="6786976">&#34;a&#34;</span><span class="op" id="6786979">,</span>&nbsp;<span class="num" id="6786981">1e5</span><span class="op" id="6786984">)</span><span class="op" id="6786985">}</span><span class="op" id="6786986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6786989">{</span><span class="num" id="6786990">0x110588ee</span><span class="op" id="6787000">,</span>&nbsp;<span class="ident" id="6787002">strings</span><span class="op" id="6787009">.</span><span class="ident" id="6787010">Repeat</span><span class="op" id="6787016">(</span><span class="string" id="6787017">&#34;ABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><span class="op" id="6787045">,</span>&nbsp;<span class="num" id="6787047">1e4</span><span class="op" id="6787050">)</span><span class="op" id="6787051">}</span><span class="op" id="6787052">,</span><br>
<span class="lineno"></span><span class="op" id="6787054">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="comment" id="6787057">//&nbsp;checksum&nbsp;is&nbsp;a&nbsp;slow&nbsp;but&nbsp;simple&nbsp;implementation&nbsp;of&nbsp;the&nbsp;Adler-32&nbsp;checksum.</span><br>
<span class="lineno"></span><span class="comment" id="6787131">//&nbsp;It&nbsp;is&nbsp;a&nbsp;straight&nbsp;port&nbsp;of&nbsp;the&nbsp;sample&nbsp;code&nbsp;in&nbsp;RFC&nbsp;1950&nbsp;section&nbsp;9.</span><br>
<span class="lineno"></span><span class="keyword" id="6787198">func</span>&nbsp;<span class="ident" id="6787203">checksum</span><span class="op" id="6787211">(</span><span class="ident" id="6787212">p</span>&nbsp;<span class="op" id="6787214">[</span><span class="op" id="6787215">]</span><span class="builtintype" id="6787216">byte</span><span class="op" id="6787220">)</span>&nbsp;<span class="builtintype" id="6787222">uint32</span>&nbsp;<span class="op" id="6787229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787232">s1</span><span class="op" id="6787234">,</span>&nbsp;<span class="ident" id="6787236">s2</span>&nbsp;<span class="op" id="6787239">:=</span>&nbsp;<span class="builtintype" id="6787242">uint32</span><span class="op" id="6787248">(</span><span class="num" id="6787249">1</span><span class="op" id="6787250">)</span><span class="op" id="6787251">,</span>&nbsp;<span class="builtintype" id="6787253">uint32</span><span class="op" id="6787259">(</span><span class="num" id="6787260">0</span><span class="op" id="6787261">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787264">for</span>&nbsp;<span class="ident" id="6787268">_</span><span class="op" id="6787269">,</span>&nbsp;<span class="ident" id="6787271">x</span>&nbsp;<span class="op" id="6787273">:=</span>&nbsp;<span class="keyword" id="6787276">range</span>&nbsp;<span class="ident" id="6787282">p</span>&nbsp;<span class="op" id="6787284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787288">s1</span>&nbsp;<span class="op" id="6787291">=</span>&nbsp;<span class="op" id="6787293">(</span><span class="ident" id="6787294">s1</span>&nbsp;<span class="op" id="6787297">+</span>&nbsp;<span class="builtintype" id="6787299">uint32</span><span class="op" id="6787305">(</span><span class="ident" id="6787306">x</span><span class="op" id="6787307">)</span><span class="op" id="6787308">)</span>&nbsp;<span class="op" id="6787310">%</span>&nbsp;<span class="ident" id="6787312">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787318">s2</span>&nbsp;<span class="op" id="6787321">=</span>&nbsp;<span class="op" id="6787323">(</span><span class="ident" id="6787324">s2</span>&nbsp;<span class="op" id="6787327">+</span>&nbsp;<span class="ident" id="6787329">s1</span><span class="op" id="6787331">)</span>&nbsp;<span class="op" id="6787333">%</span>&nbsp;<span class="ident" id="6787335">mod</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6787340">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787343">return</span>&nbsp;<span class="ident" id="6787350">s2</span><span class="op" id="6787352">&lt;&lt;</span><span class="num" id="6787354">16</span>&nbsp;<span class="op" id="6787357">|</span>&nbsp;<span class="ident" id="6787359">s1</span><br>
<span class="lineno">70</span><span class="op" id="6787362">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6787365">func</span>&nbsp;<span class="ident" id="6787370">TestGolden</span><span class="op" id="6787380">(</span><span class="ident" id="6787381">t</span>&nbsp;<span class="op" id="6787383">*</span><span class="ident" id="6787384">testing</span><span class="op" id="6787391">.</span><span class="ident" id="6787392">T</span><span class="op" id="6787393">)</span>&nbsp;<span class="op" id="6787395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787398">for</span>&nbsp;<span class="ident" id="6787402">_</span><span class="op" id="6787403">,</span>&nbsp;<span class="ident" id="6787405">g</span>&nbsp;<span class="op" id="6787407">:=</span>&nbsp;<span class="keyword" id="6787410">range</span>&nbsp;<span class="ident" id="6787416">golden</span>&nbsp;<span class="op" id="6787423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787427">in</span>&nbsp;<span class="op" id="6787430">:=</span>&nbsp;<span class="ident" id="6787433">g</span><span class="op" id="6787434">.</span><span class="ident" id="6787435">in</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787440">if</span>&nbsp;<span class="builtinfunc" id="6787443">len</span><span class="op" id="6787446">(</span><span class="ident" id="6787447">in</span><span class="op" id="6787449">)</span>&nbsp;<span class="op" id="6787451">&gt;</span>&nbsp;<span class="num" id="6787453">220</span>&nbsp;<span class="op" id="6787457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787462">in</span>&nbsp;<span class="op" id="6787465">=</span>&nbsp;<span class="ident" id="6787467">in</span><span class="op" id="6787469">[</span><span class="op" id="6787470">:</span><span class="num" id="6787471">100</span><span class="op" id="6787474">]</span>&nbsp;<span class="op" id="6787476">+</span>&nbsp;<span class="string" id="6787478">&#34;...&#34;</span>&nbsp;<span class="op" id="6787484">+</span>&nbsp;<span class="ident" id="6787486">in</span><span class="op" id="6787488">[</span><span class="builtinfunc" id="6787489">len</span><span class="op" id="6787492">(</span><span class="ident" id="6787493">in</span><span class="op" id="6787495">)</span><span class="op" id="6787496">-</span><span class="num" id="6787497">100</span><span class="op" id="6787500">:</span><span class="op" id="6787501">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6787505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787509">p</span>&nbsp;<span class="op" id="6787511">:=</span>&nbsp;<span class="op" id="6787514">[</span><span class="op" id="6787515">]</span><span class="builtintype" id="6787516">byte</span><span class="op" id="6787520">(</span><span class="ident" id="6787521">g</span><span class="op" id="6787522">.</span><span class="ident" id="6787523">in</span><span class="op" id="6787525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787529">if</span>&nbsp;<span class="ident" id="6787532">got</span>&nbsp;<span class="op" id="6787536">:=</span>&nbsp;<span class="ident" id="6787539">checksum</span><span class="op" id="6787547">(</span><span class="ident" id="6787548">p</span><span class="op" id="6787549">)</span><span class="op" id="6787550">;</span>&nbsp;<span class="ident" id="6787552">got</span>&nbsp;<span class="op" id="6787556">!=</span>&nbsp;<span class="ident" id="6787559">g</span><span class="op" id="6787560">.</span><span class="ident" id="6787561">out</span>&nbsp;<span class="op" id="6787565">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787570">t</span><span class="op" id="6787571">.</span><span class="ident" id="6787572">Errorf</span><span class="op" id="6787578">(</span><span class="string" id="6787579">&#34;simple&nbsp;implementation:&nbsp;checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6787633">,</span>&nbsp;<span class="ident" id="6787635">in</span><span class="op" id="6787637">,</span>&nbsp;<span class="ident" id="6787639">got</span><span class="op" id="6787642">,</span>&nbsp;<span class="ident" id="6787644">g</span><span class="op" id="6787645">.</span><span class="ident" id="6787646">out</span><span class="op" id="6787649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787654">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6787665">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787669">if</span>&nbsp;<span class="ident" id="6787672">got</span>&nbsp;<span class="op" id="6787676">:=</span>&nbsp;<span class="ident" id="6787679">Checksum</span><span class="op" id="6787687">(</span><span class="ident" id="6787688">p</span><span class="op" id="6787689">)</span><span class="op" id="6787690">;</span>&nbsp;<span class="ident" id="6787692">got</span>&nbsp;<span class="op" id="6787696">!=</span>&nbsp;<span class="ident" id="6787699">g</span><span class="op" id="6787700">.</span><span class="ident" id="6787701">out</span>&nbsp;<span class="op" id="6787705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787710">t</span><span class="op" id="6787711">.</span><span class="ident" id="6787712">Errorf</span><span class="op" id="6787718">(</span><span class="string" id="6787719">&#34;optimized&nbsp;implementation:&nbsp;Checksum(%q)&nbsp;=&nbsp;0x%x&nbsp;want&nbsp;0x%x&#34;</span><span class="op" id="6787776">,</span>&nbsp;<span class="ident" id="6787778">in</span><span class="op" id="6787780">,</span>&nbsp;<span class="ident" id="6787782">got</span><span class="op" id="6787785">,</span>&nbsp;<span class="ident" id="6787787">g</span><span class="op" id="6787788">.</span><span class="ident" id="6787789">out</span><span class="op" id="6787792">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787797">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6787808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6787811">}</span><br>
<span class="lineno"></span><span class="op" id="6787813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="6787816">func</span>&nbsp;<span class="ident" id="6787821">BenchmarkAdler32KB</span><span class="op" id="6787839">(</span><span class="ident" id="6787840">b</span>&nbsp;<span class="op" id="6787842">*</span><span class="ident" id="6787843">testing</span><span class="op" id="6787850">.</span><span class="ident" id="6787851">B</span><span class="op" id="6787852">)</span>&nbsp;<span class="op" id="6787854">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787857">b</span><span class="op" id="6787858">.</span><span class="ident" id="6787859">SetBytes</span><span class="op" id="6787867">(</span><span class="num" id="6787868">1024</span><span class="op" id="6787872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787875">data</span>&nbsp;<span class="op" id="6787880">:=</span>&nbsp;<span class="builtinfunc" id="6787883">make</span><span class="op" id="6787887">(</span><span class="op" id="6787888">[</span><span class="op" id="6787889">]</span><span class="builtintype" id="6787890">byte</span><span class="op" id="6787894">,</span>&nbsp;<span class="num" id="6787896">1024</span><span class="op" id="6787900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6787903">for</span>&nbsp;<span class="ident" id="6787907">i</span>&nbsp;<span class="op" id="6787909">:=</span>&nbsp;<span class="keyword" id="6787912">range</span>&nbsp;<span class="ident" id="6787918">data</span>&nbsp;<span class="op" id="6787923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787927">data</span><span class="op" id="6787931">[</span><span class="ident" id="6787932">i</span><span class="op" id="6787933">]</span>&nbsp;<span class="op" id="6787935">=</span>&nbsp;<span class="builtintype" id="6787937">byte</span><span class="op" id="6787941">(</span><span class="ident" id="6787942">i</span><span class="op" id="6787943">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6787946">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787949">h</span>&nbsp;<span class="op" id="6787951">:=</span>&nbsp;<span class="ident" id="6787954">New</span><span class="op" id="6787957">(</span><span class="op" id="6787958">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787961">in</span>&nbsp;<span class="op" id="6787964">:=</span>&nbsp;<span class="builtinfunc" id="6787967">make</span><span class="op" id="6787971">(</span><span class="op" id="6787972">[</span><span class="op" id="6787973">]</span><span class="builtintype" id="6787974">byte</span><span class="op" id="6787978">,</span>&nbsp;<span class="num" id="6787980">0</span><span class="op" id="6787981">,</span>&nbsp;<span class="ident" id="6787983">h</span><span class="op" id="6787984">.</span><span class="ident" id="6787985">Size</span><span class="op" id="6787989">(</span><span class="op" id="6787990">)</span><span class="op" id="6787991">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6787995">b</span><span class="op" id="6787996">.</span><span class="ident" id="6787997">ResetTimer</span><span class="op" id="6788007">(</span><span class="op" id="6788008">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6788011">for</span>&nbsp;<span class="ident" id="6788015">i</span>&nbsp;<span class="op" id="6788017">:=</span>&nbsp;<span class="num" id="6788020">0</span><span class="op" id="6788021">;</span>&nbsp;<span class="ident" id="6788023">i</span>&nbsp;<span class="op" id="6788025">&lt;</span>&nbsp;<span class="ident" id="6788027">b</span><span class="op" id="6788028">.</span><span class="ident" id="6788029">N</span><span class="op" id="6788030">;</span>&nbsp;<span class="ident" id="6788032">i</span><span class="op" id="6788033">++</span>&nbsp;<span class="op" id="6788036">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6788040">h</span><span class="op" id="6788041">.</span><span class="ident" id="6788042">Reset</span><span class="op" id="6788047">(</span><span class="op" id="6788048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6788052">h</span><span class="op" id="6788053">.</span><span class="ident" id="6788054">Write</span><span class="op" id="6788059">(</span><span class="ident" id="6788060">data</span><span class="op" id="6788064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6788068">h</span><span class="op" id="6788069">.</span><span class="ident" id="6788070">Sum</span><span class="op" id="6788073">(</span><span class="ident" id="6788074">in</span><span class="op" id="6788076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6788079">}</span><br>
<span class="lineno">105</span><span class="op" id="6788081">}</span>
</div>
</body>
</html>
