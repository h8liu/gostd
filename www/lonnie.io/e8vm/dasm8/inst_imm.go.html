<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="4959984">package</span>&nbsp;<span class="ident" id="4959992">dasm8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4959999">import</span>&nbsp;<span class="op" id="4960006">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4960009">&#34;fmt&#34;</span><br>
<span class="lineno">5</span><span class="op" id="4960015">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4960018">var</span>&nbsp;<span class="op" id="4960022">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960025">opImsMap</span>&nbsp;<span class="op" id="4960034">=</span>&nbsp;<span class="keyword" id="4960036">map</span><span class="op" id="4960039">[</span><span class="builtintype" id="4960040">uint32</span><span class="op" id="4960046">]</span><span class="builtintype" id="4960047">string</span><span class="op" id="4960053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960057">1</span><span class="op" id="4960058">:</span>&nbsp;<span class="string" id="4960060">&#34;addi&#34;</span><span class="op" id="4960066">,</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960070">2</span><span class="op" id="4960071">:</span>&nbsp;<span class="string" id="4960073">&#34;slti&#34;</span><span class="op" id="4960079">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960086">opMemMap</span>&nbsp;<span class="op" id="4960095">=</span>&nbsp;<span class="keyword" id="4960097">map</span><span class="op" id="4960100">[</span><span class="builtintype" id="4960101">uint32</span><span class="op" id="4960107">]</span><span class="builtintype" id="4960108">string</span><span class="op" id="4960114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960118">6</span><span class="op" id="4960119">:</span>&nbsp;&nbsp;<span class="string" id="4960122">&#34;lw&#34;</span><span class="op" id="4960126">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960130">7</span><span class="op" id="4960131">:</span>&nbsp;&nbsp;<span class="string" id="4960134">&#34;lb&#34;</span><span class="op" id="4960138">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960142">8</span><span class="op" id="4960143">:</span>&nbsp;&nbsp;<span class="string" id="4960146">&#34;lbu&#34;</span><span class="op" id="4960151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960155">9</span><span class="op" id="4960156">:</span>&nbsp;&nbsp;<span class="string" id="4960159">&#34;sw&#34;</span><span class="op" id="4960163">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960167">10</span><span class="op" id="4960169">:</span>&nbsp;<span class="string" id="4960171">&#34;sb&#34;</span><span class="op" id="4960175">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960178">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960182">opImuMap</span>&nbsp;<span class="op" id="4960191">=</span>&nbsp;<span class="keyword" id="4960193">map</span><span class="op" id="4960196">[</span><span class="builtintype" id="4960197">uint32</span><span class="op" id="4960203">]</span><span class="builtintype" id="4960204">string</span><span class="op" id="4960210">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960214">3</span><span class="op" id="4960215">:</span>&nbsp;<span class="string" id="4960217">&#34;andi&#34;</span><span class="op" id="4960223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960227">4</span><span class="op" id="4960228">:</span>&nbsp;<span class="string" id="4960230">&#34;ori&#34;</span><span class="op" id="4960235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960238">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960242">opImu2Map</span>&nbsp;<span class="op" id="4960252">=</span>&nbsp;<span class="keyword" id="4960254">map</span><span class="op" id="4960257">[</span><span class="builtintype" id="4960258">uint32</span><span class="op" id="4960264">]</span><span class="builtintype" id="4960265">string</span><span class="op" id="4960271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="4960275">5</span><span class="op" id="4960276">:</span>&nbsp;<span class="string" id="4960278">&#34;lui&#34;</span><span class="op" id="4960283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960286">}</span><br>
<span class="lineno"></span><span class="op" id="4960288">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="4960291">func</span>&nbsp;<span class="ident" id="4960296">instImm</span><span class="op" id="4960303">(</span><span class="ident" id="4960304">addr</span>&nbsp;<span class="builtintype" id="4960309">uint32</span><span class="op" id="4960315">,</span>&nbsp;<span class="ident" id="4960317">in</span>&nbsp;<span class="builtintype" id="4960320">uint32</span><span class="op" id="4960326">)</span>&nbsp;<span class="op" id="4960328">*</span><span class="ident" id="4960329">Line</span>&nbsp;<span class="op" id="4960334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960337">op</span>&nbsp;<span class="op" id="4960340">:=</span>&nbsp;<span class="op" id="4960343">(</span><span class="ident" id="4960344">in</span>&nbsp;<span class="op" id="4960347">&gt;&gt;</span>&nbsp;<span class="num" id="4960350">24</span><span class="op" id="4960352">)</span>&nbsp;<span class="op" id="4960354">&amp;</span>&nbsp;<span class="num" id="4960356">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960362">dest</span>&nbsp;<span class="op" id="4960367">:=</span>&nbsp;<span class="ident" id="4960370">regStr</span><span class="op" id="4960376">(</span><span class="op" id="4960377">(</span><span class="ident" id="4960378">in</span>&nbsp;<span class="op" id="4960381">&gt;&gt;</span>&nbsp;<span class="num" id="4960384">21</span><span class="op" id="4960386">)</span>&nbsp;<span class="op" id="4960388">&amp;</span>&nbsp;<span class="num" id="4960390">0x7</span><span class="op" id="4960393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960396">src</span>&nbsp;<span class="op" id="4960400">:=</span>&nbsp;<span class="ident" id="4960403">regStr</span><span class="op" id="4960409">(</span><span class="op" id="4960410">(</span><span class="ident" id="4960411">in</span>&nbsp;<span class="op" id="4960414">&gt;&gt;</span>&nbsp;<span class="num" id="4960417">18</span><span class="op" id="4960419">)</span>&nbsp;<span class="op" id="4960421">&amp;</span>&nbsp;<span class="num" id="4960423">0x7</span><span class="op" id="4960426">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960429">imu</span>&nbsp;<span class="op" id="4960433">:=</span>&nbsp;<span class="ident" id="4960436">in</span>&nbsp;<span class="op" id="4960439">&amp;</span>&nbsp;<span class="num" id="4960441">0xffff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960449">ims</span>&nbsp;<span class="op" id="4960453">:=</span>&nbsp;<span class="builtintype" id="4960456">int32</span><span class="op" id="4960461">(</span><span class="ident" id="4960462">imu</span><span class="op" id="4960465">&lt;&lt;</span><span class="num" id="4960467">16</span><span class="op" id="4960469">)</span>&nbsp;<span class="op" id="4960471">&gt;&gt;</span>&nbsp;<span class="num" id="4960474">16</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4960479">var</span>&nbsp;<span class="ident" id="4960483">s</span>&nbsp;<span class="builtintype" id="4960485">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4960493">if</span>&nbsp;<span class="ident" id="4960496">opStr</span><span class="op" id="4960501">,</span>&nbsp;<span class="ident" id="4960503">found</span>&nbsp;<span class="op" id="4960509">:=</span>&nbsp;<span class="ident" id="4960512">opImsMap</span><span class="op" id="4960520">[</span><span class="ident" id="4960521">op</span><span class="op" id="4960523">]</span><span class="op" id="4960524">;</span>&nbsp;<span class="ident" id="4960526">found</span>&nbsp;<span class="op" id="4960532">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960536">s</span>&nbsp;<span class="op" id="4960538">=</span>&nbsp;<span class="ident" id="4960540">fmt</span><span class="op" id="4960543">.</span><span class="ident" id="4960544">Sprintf</span><span class="op" id="4960551">(</span><span class="string" id="4960552">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="4960565">,</span>&nbsp;<span class="ident" id="4960567">opStr</span><span class="op" id="4960572">,</span>&nbsp;<span class="ident" id="4960574">dest</span><span class="op" id="4960578">,</span>&nbsp;<span class="ident" id="4960580">src</span><span class="op" id="4960583">,</span>&nbsp;<span class="ident" id="4960585">ims</span><span class="op" id="4960588">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960591">}</span>&nbsp;<span class="keyword" id="4960593">else</span>&nbsp;<span class="keyword" id="4960598">if</span>&nbsp;<span class="ident" id="4960601">opStr</span><span class="op" id="4960606">,</span>&nbsp;<span class="ident" id="4960608">found</span>&nbsp;<span class="op" id="4960614">:=</span>&nbsp;<span class="ident" id="4960617">opMemMap</span><span class="op" id="4960625">[</span><span class="ident" id="4960626">op</span><span class="op" id="4960628">]</span><span class="op" id="4960629">;</span>&nbsp;<span class="ident" id="4960631">found</span>&nbsp;<span class="op" id="4960637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4960641">if</span>&nbsp;<span class="ident" id="4960644">ims</span>&nbsp;<span class="op" id="4960648">==</span>&nbsp;<span class="num" id="4960651">0</span>&nbsp;<span class="op" id="4960653">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960658">s</span>&nbsp;<span class="op" id="4960660">=</span>&nbsp;<span class="ident" id="4960662">fmt</span><span class="op" id="4960665">.</span><span class="ident" id="4960666">Sprintf</span><span class="op" id="4960673">(</span><span class="string" id="4960674">&#34;%s&nbsp;%s&nbsp;%s&#34;</span><span class="op" id="4960684">,</span>&nbsp;<span class="ident" id="4960686">opStr</span><span class="op" id="4960691">,</span>&nbsp;<span class="ident" id="4960693">dest</span><span class="op" id="4960697">,</span>&nbsp;<span class="ident" id="4960699">src</span><span class="op" id="4960702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960706">}</span>&nbsp;<span class="keyword" id="4960708">else</span>&nbsp;<span class="op" id="4960713">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960718">s</span>&nbsp;<span class="op" id="4960720">=</span>&nbsp;<span class="ident" id="4960722">fmt</span><span class="op" id="4960725">.</span><span class="ident" id="4960726">Sprintf</span><span class="op" id="4960733">(</span><span class="string" id="4960734">&#34;%s&nbsp;%s&nbsp;%s&nbsp;%d&#34;</span><span class="op" id="4960747">,</span>&nbsp;<span class="ident" id="4960749">opStr</span><span class="op" id="4960754">,</span>&nbsp;<span class="ident" id="4960756">dest</span><span class="op" id="4960760">,</span>&nbsp;<span class="ident" id="4960762">src</span><span class="op" id="4960765">,</span>&nbsp;<span class="ident" id="4960767">ims</span><span class="op" id="4960770">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960777">}</span>&nbsp;<span class="keyword" id="4960779">else</span>&nbsp;<span class="keyword" id="4960784">if</span>&nbsp;<span class="ident" id="4960787">opStr</span><span class="op" id="4960792">,</span>&nbsp;<span class="ident" id="4960794">found</span>&nbsp;<span class="op" id="4960800">:=</span>&nbsp;<span class="ident" id="4960803">opImuMap</span><span class="op" id="4960811">[</span><span class="ident" id="4960812">op</span><span class="op" id="4960814">]</span><span class="op" id="4960815">;</span>&nbsp;<span class="ident" id="4960817">found</span>&nbsp;<span class="op" id="4960823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960827">s</span>&nbsp;<span class="op" id="4960829">=</span>&nbsp;<span class="ident" id="4960831">fmt</span><span class="op" id="4960834">.</span><span class="ident" id="4960835">Sprintf</span><span class="op" id="4960842">(</span><span class="string" id="4960843">&#34;%s&nbsp;%s&nbsp;%s&nbsp;0x%04x&#34;</span><span class="op" id="4960860">,</span>&nbsp;<span class="ident" id="4960862">opStr</span><span class="op" id="4960867">,</span>&nbsp;<span class="ident" id="4960869">dest</span><span class="op" id="4960873">,</span>&nbsp;<span class="ident" id="4960875">src</span><span class="op" id="4960878">,</span>&nbsp;<span class="ident" id="4960880">imu</span><span class="op" id="4960883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960886">}</span>&nbsp;<span class="keyword" id="4960888">else</span>&nbsp;<span class="keyword" id="4960893">if</span>&nbsp;<span class="ident" id="4960896">opStr</span><span class="op" id="4960901">,</span>&nbsp;<span class="ident" id="4960903">found</span>&nbsp;<span class="op" id="4960909">:=</span>&nbsp;<span class="ident" id="4960912">opImu2Map</span><span class="op" id="4960921">[</span><span class="ident" id="4960922">op</span><span class="op" id="4960924">]</span><span class="op" id="4960925">;</span>&nbsp;<span class="ident" id="4960927">found</span>&nbsp;<span class="op" id="4960933">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960937">s</span>&nbsp;<span class="op" id="4960939">=</span>&nbsp;<span class="ident" id="4960941">fmt</span><span class="op" id="4960944">.</span><span class="ident" id="4960945">Sprintf</span><span class="op" id="4960952">(</span><span class="string" id="4960953">&#34;%s&nbsp;%s&nbsp;0x%04x&#34;</span><span class="op" id="4960967">,</span>&nbsp;<span class="ident" id="4960969">opStr</span><span class="op" id="4960974">,</span>&nbsp;<span class="ident" id="4960976">dest</span><span class="op" id="4960980">,</span>&nbsp;<span class="ident" id="4960982">imu</span><span class="op" id="4960985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4960988">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4960992">ret</span>&nbsp;<span class="op" id="4960996">:=</span>&nbsp;<span class="ident" id="4960999">newLine</span><span class="op" id="4961006">(</span><span class="ident" id="4961007">addr</span><span class="op" id="4961011">,</span>&nbsp;<span class="ident" id="4961013">in</span><span class="op" id="4961015">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4961018">ret</span><span class="op" id="4961021">.</span><span class="ident" id="4961022">Str</span>&nbsp;<span class="op" id="4961026">=</span>&nbsp;<span class="ident" id="4961028">s</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4961032">return</span>&nbsp;<span class="ident" id="4961039">ret</span><br>
<span class="lineno"></span><span class="op" id="4961043">}</span>
</div>
</body>
</html>
