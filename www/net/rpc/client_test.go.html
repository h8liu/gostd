<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7195661">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7195716">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7195770">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7195821">package</span>&nbsp;<span class="ident" id="7195829">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7195834">import</span>&nbsp;<span class="op" id="7195841">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7195844">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7195854">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7195861">&#34;net&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7195868">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7195879">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7195890">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7195900">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7195903">type</span>&nbsp;<span class="ident" id="7195908">shutdownCodec</span>&nbsp;<span class="keyword" id="7195922">struct</span>&nbsp;<span class="op" id="7195929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195932">responded</span>&nbsp;<span class="keyword" id="7195942">chan</span>&nbsp;<span class="builtintype" id="7195947">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7195952">closed</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7195962">bool</span><br>
<span class="lineno"></span><span class="op" id="7195967">}</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="keyword" id="7195970">func</span>&nbsp;<span class="op" id="7195975">(</span><span class="ident" id="7195976">c</span>&nbsp;<span class="op" id="7195978">*</span><span class="ident" id="7195979"><a href="/net/rpc/client_test.go.html#7195908">shutdownCodec</a></span><span class="op" id="7195992">)</span>&nbsp;<span class="ident" id="7195994">WriteRequest</span><span class="op" id="7196006">(</span><span class="op" id="7196007">*</span><span class="ident" id="7196008"><a href="/net/rpc/server.go.html#5007827">Request</a></span><span class="op" id="7196015">,</span>&nbsp;<span class="keyword" id="7196017">interface</span><span class="op" id="7196026">{</span><span class="op" id="7196027">}</span><span class="op" id="7196028">)</span>&nbsp;<span class="builtintype" id="7196030">error</span>&nbsp;<span class="op" id="7196036">{</span>&nbsp;<span class="keyword" id="7196038">return</span>&nbsp;<span class="ident" id="7196045">nil</span>&nbsp;<span class="op" id="7196049">}</span><br>
<span class="lineno"></span><span class="keyword" id="7196051">func</span>&nbsp;<span class="op" id="7196056">(</span><span class="ident" id="7196057">c</span>&nbsp;<span class="op" id="7196059">*</span><span class="ident" id="7196060"><a href="/net/rpc/client_test.go.html#7195908">shutdownCodec</a></span><span class="op" id="7196073">)</span>&nbsp;<span class="ident" id="7196075">ReadResponseBody</span><span class="op" id="7196091">(</span><span class="keyword" id="7196092">interface</span><span class="op" id="7196101">{</span><span class="op" id="7196102">}</span><span class="op" id="7196103">)</span>&nbsp;<span class="builtintype" id="7196105">error</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7196117">{</span>&nbsp;<span class="keyword" id="7196119">return</span>&nbsp;<span class="ident" id="7196126">nil</span>&nbsp;<span class="op" id="7196130">}</span><br>
<span class="lineno"></span><span class="keyword" id="7196132">func</span>&nbsp;<span class="op" id="7196137">(</span><span class="ident" id="7196138">c</span>&nbsp;<span class="op" id="7196140">*</span><span class="ident" id="7196141"><a href="/net/rpc/client_test.go.html#7195908">shutdownCodec</a></span><span class="op" id="7196154">)</span>&nbsp;<span class="ident" id="7196156">ReadResponseHeader</span><span class="op" id="7196174">(</span><span class="op" id="7196175">*</span><span class="ident" id="7196176"><a href="/net/rpc/server.go.html#5008185">Response</a></span><span class="op" id="7196184">)</span>&nbsp;<span class="builtintype" id="7196186">error</span>&nbsp;<span class="op" id="7196192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196195"><a href="/net/rpc/client_test.go.html#7196138">c</a></span><span class="op" id="7196196">.</span><span class="ident" id="7196197">responded</span>&nbsp;<span class="op" id="7196207">&lt;-</span>&nbsp;<span class="num" id="7196210">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196213">return</span>&nbsp;<span class="ident" id="7196220"><a href="/net/rpc/client_test.go.html#7195844">errors</a></span><span class="op" id="7196226">.</span><span class="ident" id="7196227">New</span><span class="op" id="7196230">(</span><span class="string" id="7196231">&#34;shutdownCodec&nbsp;ReadResponseHeader&#34;</span><span class="op" id="7196265">)</span><br>
<span class="lineno"></span><span class="op" id="7196267">}</span><br>
<span class="lineno"></span><span class="keyword" id="7196269">func</span>&nbsp;<span class="op" id="7196274">(</span><span class="ident" id="7196275">c</span>&nbsp;<span class="op" id="7196277">*</span><span class="ident" id="7196278"><a href="/net/rpc/client_test.go.html#7195908">shutdownCodec</a></span><span class="op" id="7196291">)</span>&nbsp;<span class="ident" id="7196293">Close</span><span class="op" id="7196298">(</span><span class="op" id="7196299">)</span>&nbsp;<span class="builtintype" id="7196301">error</span>&nbsp;<span class="op" id="7196307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196310"><a href="/net/rpc/client_test.go.html#7196275">c</a></span><span class="op" id="7196311">.</span><span class="ident" id="7196312">closed</span>&nbsp;<span class="op" id="7196319">=</span>&nbsp;<span class="ident" id="7196321">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196327">return</span>&nbsp;<span class="ident" id="7196334">nil</span><br>
<span class="lineno">30</span><span class="op" id="7196338">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7196341">func</span>&nbsp;<span class="ident" id="7196346">TestCloseCodec</span><span class="op" id="7196360">(</span><span class="ident" id="7196361">t</span>&nbsp;<span class="op" id="7196363">*</span><span class="ident" id="7196364"><a href="/net/rpc/client_test.go.html#7195890">testing</a></span><span class="op" id="7196371">.</span><span class="ident" id="7196372">T</span><span class="op" id="7196373">)</span>&nbsp;<span class="op" id="7196375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196378">codec</span>&nbsp;<span class="op" id="7196384">:=</span>&nbsp;<span class="op" id="7196387">&amp;</span><span class="ident" id="7196388"><a href="/net/rpc/client_test.go.html#7195908">shutdownCodec</a></span><span class="op" id="7196401">{</span><span class="ident" id="7196402">responded</span><span class="op" id="7196411">:</span>&nbsp;<span class="builtinfunc" id="7196413">make</span><span class="op" id="7196417">(</span><span class="keyword" id="7196418">chan</span>&nbsp;<span class="builtintype" id="7196423">int</span><span class="op" id="7196426">)</span><span class="op" id="7196427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196430">client</span>&nbsp;<span class="op" id="7196437">:=</span>&nbsp;<span class="ident" id="7196440"><a href="/net/rpc/client.go.html#4997133">NewClientWithCodec</a></span><span class="op" id="7196458">(</span><span class="ident" id="7196459"><a href="/net/rpc/client_test.go.html#7196378">codec</a></span><span class="op" id="7196464">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196467">&lt;-</span><span class="ident" id="7196469"><a href="/net/rpc/client_test.go.html#7196378">codec</a></span><span class="op" id="7196474">.</span><span class="ident" id="7196475">responded</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196486"><a href="/net/rpc/client_test.go.html#7196430">client</a></span><span class="op" id="7196492">.</span><span class="ident" id="7196493">Close</span><span class="op" id="7196498">(</span><span class="op" id="7196499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196502">if</span>&nbsp;<span class="op" id="7196505">!</span><span class="ident" id="7196506"><a href="/net/rpc/client_test.go.html#7196378">codec</a></span><span class="op" id="7196511">.</span><span class="ident" id="7196512">closed</span>&nbsp;<span class="op" id="7196519">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196523"><a href="/net/rpc/client_test.go.html#7196361">t</a></span><span class="op" id="7196524">.</span><span class="ident" id="7196525">Error</span><span class="op" id="7196530">(</span><span class="string" id="7196531">&#34;client.Close&nbsp;did&nbsp;not&nbsp;close&nbsp;codec&#34;</span><span class="op" id="7196565">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196568">}</span><br>
<span class="lineno">40</span><span class="op" id="7196570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7196573">//&nbsp;Test&nbsp;that&nbsp;errors&nbsp;in&nbsp;gob&nbsp;shut&nbsp;down&nbsp;the&nbsp;connection.&nbsp;Issue&nbsp;7689.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7196639">type</span>&nbsp;<span class="ident" id="7196644">R</span>&nbsp;<span class="keyword" id="7196646">struct</span>&nbsp;<span class="op" id="7196653">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196656">msg</span>&nbsp;<span class="op" id="7196660">[</span><span class="op" id="7196661">]</span><span class="builtintype" id="7196662">byte</span>&nbsp;<span class="comment" id="7196667">//&nbsp;Not&nbsp;exported,&nbsp;so&nbsp;R&nbsp;does&nbsp;not&nbsp;work&nbsp;with&nbsp;gob.</span><br>
<span class="lineno"></span><span class="op" id="7196713">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7196716">type</span>&nbsp;<span class="ident" id="7196721">S</span>&nbsp;<span class="keyword" id="7196723">struct</span><span class="op" id="7196729">{</span><span class="op" id="7196730">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="7196733">func</span>&nbsp;<span class="op" id="7196738">(</span><span class="ident" id="7196739">s</span>&nbsp;<span class="op" id="7196741">*</span><span class="ident" id="7196742"><a href="/net/rpc/client_test.go.html#7196721">S</a></span><span class="op" id="7196743">)</span>&nbsp;<span class="ident" id="7196745">Recv</span><span class="op" id="7196749">(</span><span class="ident" id="7196750">nul</span>&nbsp;<span class="op" id="7196754">*</span><span class="keyword" id="7196755">struct</span><span class="op" id="7196761">{</span><span class="op" id="7196762">}</span><span class="op" id="7196763">,</span>&nbsp;<span class="ident" id="7196765">reply</span>&nbsp;<span class="op" id="7196771">*</span><span class="ident" id="7196772"><a href="/net/rpc/client_test.go.html#7196644">R</a></span><span class="op" id="7196773">)</span>&nbsp;<span class="builtintype" id="7196775">error</span>&nbsp;<span class="op" id="7196781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196784">*</span><span class="ident" id="7196785"><a href="/net/rpc/client_test.go.html#7196765">reply</a></span>&nbsp;<span class="op" id="7196791">=</span>&nbsp;<span class="ident" id="7196793"><a href="/net/rpc/client_test.go.html#7196644">R</a></span><span class="op" id="7196794">{</span><span class="op" id="7196795">[</span><span class="op" id="7196796">]</span><span class="builtintype" id="7196797">byte</span><span class="op" id="7196801">(</span><span class="string" id="7196802">&#34;foo&#34;</span><span class="op" id="7196807">)</span><span class="op" id="7196808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196811">return</span>&nbsp;<span class="ident" id="7196818">nil</span><br>
<span class="lineno"></span><span class="op" id="7196822">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="keyword" id="7196825">func</span>&nbsp;<span class="ident" id="7196830">TestGobError</span><span class="op" id="7196842">(</span><span class="ident" id="7196843">t</span>&nbsp;<span class="op" id="7196845">*</span><span class="ident" id="7196846"><a href="/net/rpc/client_test.go.html#7195890">testing</a></span><span class="op" id="7196853">.</span><span class="ident" id="7196854">T</span><span class="op" id="7196855">)</span>&nbsp;<span class="op" id="7196857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196860">if</span>&nbsp;<span class="ident" id="7196863"><a href="/net/rpc/client_test.go.html#7195868">runtime</a></span><span class="op" id="7196870">.</span><span class="ident" id="7196871">GOOS</span>&nbsp;<span class="op" id="7196876">==</span>&nbsp;<span class="string" id="7196879">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7196887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196891"><a href="/net/rpc/client_test.go.html#7196843">t</a></span><span class="op" id="7196892">.</span><span class="ident" id="7196893">Skip</span><span class="op" id="7196897">(</span><span class="string" id="7196898">&#34;skipping&nbsp;test;&nbsp;see&nbsp;http://golang.org/issue/8908&#34;</span><span class="op" id="7196947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7196950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196953">defer</span>&nbsp;<span class="keyword" id="7196959">func</span><span class="op" id="7196963">(</span><span class="op" id="7196964">)</span>&nbsp;<span class="op" id="7196966">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7196970">err</span>&nbsp;<span class="op" id="7196974">:=</span>&nbsp;<span class="builtinfunc" id="7196977">recover</span><span class="op" id="7196984">(</span><span class="op" id="7196985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7196989">if</span>&nbsp;<span class="ident" id="7196992"><a href="/net/rpc/client_test.go.html#7196970">err</a></span>&nbsp;<span class="op" id="7196996">==</span>&nbsp;<span class="ident" id="7196999">nil</span>&nbsp;<span class="op" id="7197003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197008"><a href="/net/rpc/client_test.go.html#7196843">t</a></span><span class="op" id="7197009">.</span><span class="ident" id="7197010">Fatal</span><span class="op" id="7197015">(</span><span class="string" id="7197016">&#34;no&nbsp;error&#34;</span><span class="op" id="7197026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197030">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197034">if</span>&nbsp;<span class="op" id="7197037">!</span><span class="ident" id="7197038"><a href="/net/rpc/client_test.go.html#7195879">strings</a></span><span class="op" id="7197045">.</span><span class="ident" id="7197046">Contains</span><span class="op" id="7197054">(</span><span class="string" id="7197055">&#34;reading&nbsp;body&nbsp;EOF&#34;</span><span class="op" id="7197073">,</span>&nbsp;<span class="ident" id="7197075"><a href="/net/rpc/client_test.go.html#7196970">err</a></span><span class="op" id="7197078">.</span><span class="op" id="7197079">(</span><span class="builtintype" id="7197080">error</span><span class="op" id="7197085">)</span><span class="op" id="7197086">.</span><span class="ident" id="7197087">Error</span><span class="op" id="7197092">(</span><span class="op" id="7197093">)</span><span class="op" id="7197094">)</span>&nbsp;<span class="op" id="7197096">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197101"><a href="/net/rpc/client_test.go.html#7196843">t</a></span><span class="op" id="7197102">.</span><span class="ident" id="7197103">Fatal</span><span class="op" id="7197108">(</span><span class="string" id="7197109">&#34;expected&nbsp;`reading&nbsp;body&nbsp;EOF&#39;,&nbsp;got&#34;</span><span class="op" id="7197143">,</span>&nbsp;<span class="ident" id="7197145"><a href="/net/rpc/client_test.go.html#7196970">err</a></span><span class="op" id="7197148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197155">}</span><span class="op" id="7197156">(</span><span class="op" id="7197157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197160"><a href="/net/rpc/server.go.html#5020981">Register</a></span><span class="op" id="7197168">(</span><span class="builtinfunc" id="7197169">new</span><span class="op" id="7197172">(</span><span class="ident" id="7197173"><a href="/net/rpc/client_test.go.html#7196721">S</a></span><span class="op" id="7197174">)</span><span class="op" id="7197175">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197179">listen</span><span class="op" id="7197185">,</span>&nbsp;<span class="ident" id="7197187">err</span>&nbsp;<span class="op" id="7197191">:=</span>&nbsp;<span class="ident" id="7197194"><a href="/net/rpc/client_test.go.html#7195861">net</a></span><span class="op" id="7197197">.</span><span class="ident" id="7197198">Listen</span><span class="op" id="7197204">(</span><span class="string" id="7197205">&#34;tcp&#34;</span><span class="op" id="7197210">,</span>&nbsp;<span class="string" id="7197212">&#34;127.0.0.1:0&#34;</span><span class="op" id="7197225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197228">if</span>&nbsp;<span class="ident" id="7197231"><a href="/net/rpc/client_test.go.html#7197187">err</a></span>&nbsp;<span class="op" id="7197235">!=</span>&nbsp;<span class="ident" id="7197238">nil</span>&nbsp;<span class="op" id="7197242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7197246">panic</span><span class="op" id="7197251">(</span><span class="ident" id="7197252"><a href="/net/rpc/client_test.go.html#7197187">err</a></span><span class="op" id="7197255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197261">go</span>&nbsp;<span class="ident" id="7197264"><a href="/net/rpc/server.go.html#5022952">Accept</a></span><span class="op" id="7197270">(</span><span class="ident" id="7197271"><a href="/net/rpc/client_test.go.html#7197179">listen</a></span><span class="op" id="7197277">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197281">client</span><span class="op" id="7197287">,</span>&nbsp;<span class="ident" id="7197289"><a href="/net/rpc/client_test.go.html#7197187">err</a></span>&nbsp;<span class="op" id="7197293">:=</span>&nbsp;<span class="ident" id="7197296"><a href="/net/rpc/client.go.html#4998961">Dial</a></span><span class="op" id="7197300">(</span><span class="string" id="7197301">&#34;tcp&#34;</span><span class="op" id="7197306">,</span>&nbsp;<span class="ident" id="7197308"><a href="/net/rpc/client_test.go.html#7197179">listen</a></span><span class="op" id="7197314">.</span><span class="ident" id="7197315">Addr</span><span class="op" id="7197319">(</span><span class="op" id="7197320">)</span><span class="op" id="7197321">.</span><span class="ident" id="7197322">String</span><span class="op" id="7197328">(</span><span class="op" id="7197329">)</span><span class="op" id="7197330">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197333">if</span>&nbsp;<span class="ident" id="7197336"><a href="/net/rpc/client_test.go.html#7197187">err</a></span>&nbsp;<span class="op" id="7197340">!=</span>&nbsp;<span class="ident" id="7197343">nil</span>&nbsp;<span class="op" id="7197347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7197351">panic</span><span class="op" id="7197356">(</span><span class="ident" id="7197357"><a href="/net/rpc/client_test.go.html#7197187">err</a></span><span class="op" id="7197360">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197363">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197367">var</span>&nbsp;<span class="ident" id="7197371">reply</span>&nbsp;<span class="ident" id="7197377"><a href="/net/rpc/server_test.go.html#7198057">Reply</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197384"><a href="/net/rpc/client_test.go.html#7197187">err</a></span>&nbsp;<span class="op" id="7197388">=</span>&nbsp;<span class="ident" id="7197390"><a href="/net/rpc/client_test.go.html#7197281">client</a></span><span class="op" id="7197396">.</span><span class="ident" id="7197397">Call</span><span class="op" id="7197401">(</span><span class="string" id="7197402">&#34;S.Recv&#34;</span><span class="op" id="7197410">,</span>&nbsp;<span class="op" id="7197412">&amp;</span><span class="keyword" id="7197413">struct</span><span class="op" id="7197419">{</span><span class="op" id="7197420">}</span><span class="op" id="7197421">{</span><span class="op" id="7197422">}</span><span class="op" id="7197423">,</span>&nbsp;<span class="op" id="7197425">&amp;</span><span class="ident" id="7197426"><a href="/net/rpc/client_test.go.html#7197371">reply</a></span><span class="op" id="7197431">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7197434">if</span>&nbsp;<span class="ident" id="7197437"><a href="/net/rpc/client_test.go.html#7197187">err</a></span>&nbsp;<span class="op" id="7197441">!=</span>&nbsp;<span class="ident" id="7197444">nil</span>&nbsp;<span class="op" id="7197448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7197452">panic</span><span class="op" id="7197457">(</span><span class="ident" id="7197458"><a href="/net/rpc/client_test.go.html#7197187">err</a></span><span class="op" id="7197461">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7197464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197468"><a href="/net/rpc/client_test.go.html#7195854">fmt</a></span><span class="op" id="7197471">.</span><span class="ident" id="7197472">Printf</span><span class="op" id="7197478">(</span><span class="string" id="7197479">&#34;%#v\n&#34;</span><span class="op" id="7197486">,</span>&nbsp;<span class="ident" id="7197488"><a href="/net/rpc/client_test.go.html#7197371">reply</a></span><span class="op" id="7197493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197496"><a href="/net/rpc/client_test.go.html#7197281">client</a></span><span class="op" id="7197502">.</span><span class="ident" id="7197503">Close</span><span class="op" id="7197508">(</span><span class="op" id="7197509">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7197513"><a href="/net/rpc/client_test.go.html#7197179">listen</a></span><span class="op" id="7197519">.</span><span class="ident" id="7197520">Close</span><span class="op" id="7197525">(</span><span class="op" id="7197526">)</span><br>
<span class="lineno"></span><span class="op" id="7197528">}</span>
</div>
</body>
</html>
