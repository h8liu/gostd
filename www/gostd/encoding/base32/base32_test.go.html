<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/base32</h2>
<ul>
<li><a href="/gostd/encoding/base32/base32.go.html">base32.go</a></li>
<li><a href="/gostd/encoding/base32/base32_test.go.html">base32_test.go</a></li>
<li><a href="/gostd/encoding/base32/example_test.go.html">example_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7663120">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7663175">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7663229">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7663280">package</span>&nbsp;<span class="ident" id="7663288">base32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7663296">import</span>&nbsp;<span class="op" id="7663303">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663306">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663315">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663321">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663334">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663345">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7663355">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="7663358">type</span>&nbsp;<span class="ident" id="7663363">testpair</span>&nbsp;<span class="keyword" id="7663372">struct</span>&nbsp;<span class="op" id="7663379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7663382">decoded</span><span class="op" id="7663389">,</span>&nbsp;<span class="ident" id="7663391">encoded</span>&nbsp;<span class="builtintype" id="7663399">string</span><br>
<span class="lineno"></span><span class="op" id="7663406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7663409">var</span>&nbsp;<span class="ident" id="7663413">pairs</span>&nbsp;<span class="op" id="7663419">=</span>&nbsp;<span class="op" id="7663421">[</span><span class="op" id="7663422">]</span><span class="ident" id="7663423">testpair</span><span class="op" id="7663431">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7663434">//&nbsp;RFC&nbsp;4648&nbsp;examples</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663456">{</span><span class="string" id="7663457">&#34;&#34;</span><span class="op" id="7663459">,</span>&nbsp;<span class="string" id="7663461">&#34;&#34;</span><span class="op" id="7663463">}</span><span class="op" id="7663464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663467">{</span><span class="string" id="7663468">&#34;f&#34;</span><span class="op" id="7663471">,</span>&nbsp;<span class="string" id="7663473">&#34;MY======&#34;</span><span class="op" id="7663483">}</span><span class="op" id="7663484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663487">{</span><span class="string" id="7663488">&#34;fo&#34;</span><span class="op" id="7663492">,</span>&nbsp;<span class="string" id="7663494">&#34;MZXQ====&#34;</span><span class="op" id="7663504">}</span><span class="op" id="7663505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663508">{</span><span class="string" id="7663509">&#34;foo&#34;</span><span class="op" id="7663514">,</span>&nbsp;<span class="string" id="7663516">&#34;MZXW6===&#34;</span><span class="op" id="7663526">}</span><span class="op" id="7663527">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663530">{</span><span class="string" id="7663531">&#34;foob&#34;</span><span class="op" id="7663537">,</span>&nbsp;<span class="string" id="7663539">&#34;MZXW6YQ=&#34;</span><span class="op" id="7663549">}</span><span class="op" id="7663550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663553">{</span><span class="string" id="7663554">&#34;fooba&#34;</span><span class="op" id="7663561">,</span>&nbsp;<span class="string" id="7663563">&#34;MZXW6YTB&#34;</span><span class="op" id="7663573">}</span><span class="op" id="7663574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663577">{</span><span class="string" id="7663578">&#34;foobar&#34;</span><span class="op" id="7663586">,</span>&nbsp;<span class="string" id="7663588">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7663606">}</span><span class="op" id="7663607">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7663611">//&nbsp;Wikipedia&nbsp;examples,&nbsp;converted&nbsp;to&nbsp;base32</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663655">{</span><span class="string" id="7663656">&#34;sure.&#34;</span><span class="op" id="7663663">,</span>&nbsp;<span class="string" id="7663665">&#34;ON2XEZJO&#34;</span><span class="op" id="7663675">}</span><span class="op" id="7663676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663679">{</span><span class="string" id="7663680">&#34;sure&#34;</span><span class="op" id="7663686">,</span>&nbsp;<span class="string" id="7663688">&#34;ON2XEZI=&#34;</span><span class="op" id="7663698">}</span><span class="op" id="7663699">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663702">{</span><span class="string" id="7663703">&#34;sur&#34;</span><span class="op" id="7663708">,</span>&nbsp;<span class="string" id="7663710">&#34;ON2XE===&#34;</span><span class="op" id="7663720">}</span><span class="op" id="7663721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663724">{</span><span class="string" id="7663725">&#34;su&#34;</span><span class="op" id="7663729">,</span>&nbsp;<span class="string" id="7663731">&#34;ON2Q====&#34;</span><span class="op" id="7663741">}</span><span class="op" id="7663742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663745">{</span><span class="string" id="7663746">&#34;leasure.&#34;</span><span class="op" id="7663756">,</span>&nbsp;<span class="string" id="7663758">&#34;NRSWC43VOJSS4===&#34;</span><span class="op" id="7663776">}</span><span class="op" id="7663777">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663780">{</span><span class="string" id="7663781">&#34;easure.&#34;</span><span class="op" id="7663790">,</span>&nbsp;<span class="string" id="7663792">&#34;MVQXG5LSMUXA====&#34;</span><span class="op" id="7663810">}</span><span class="op" id="7663811">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663814">{</span><span class="string" id="7663815">&#34;asure.&#34;</span><span class="op" id="7663823">,</span>&nbsp;<span class="string" id="7663825">&#34;MFZXK4TFFY======&#34;</span><span class="op" id="7663843">}</span><span class="op" id="7663844">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7663847">{</span><span class="string" id="7663848">&#34;sure.&#34;</span><span class="op" id="7663855">,</span>&nbsp;<span class="string" id="7663857">&#34;ON2XEZJO&#34;</span><span class="op" id="7663867">}</span><span class="op" id="7663868">,</span><br>
<span class="lineno"></span><span class="op" id="7663870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7663873">var</span>&nbsp;<span class="ident" id="7663877">bigtest</span>&nbsp;<span class="op" id="7663885">=</span>&nbsp;<span class="ident" id="7663887">testpair</span><span class="op" id="7663895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663898">&#34;Twas&nbsp;brillig,&nbsp;and&nbsp;the&nbsp;slithy&nbsp;toves&#34;</span><span class="op" id="7663934">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7663937">&#34;KR3WC4ZAMJZGS3DMNFTSYIDBNZSCA5DIMUQHG3DJORUHSIDUN53GK4Y=&#34;</span><span class="op" id="7663995">,</span><br>
<span class="lineno"></span><span class="op" id="7663997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span><span class="keyword" id="7664000">func</span>&nbsp;<span class="ident" id="7664005">testEqual</span><span class="op" id="7664014">(</span><span class="ident" id="7664015">t</span>&nbsp;<span class="op" id="7664017">*</span><span class="ident" id="7664018">testing</span><span class="op" id="7664025">.</span><span class="ident" id="7664026">T</span><span class="op" id="7664027">,</span>&nbsp;<span class="ident" id="7664029">msg</span>&nbsp;<span class="builtintype" id="7664033">string</span><span class="op" id="7664039">,</span>&nbsp;<span class="ident" id="7664041">args</span>&nbsp;<span class="op" id="7664046">...</span><span class="keyword" id="7664049">interface</span><span class="op" id="7664058">{</span><span class="op" id="7664059">}</span><span class="op" id="7664060">)</span>&nbsp;<span class="builtintype" id="7664062">bool</span>&nbsp;<span class="op" id="7664067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664070">if</span>&nbsp;<span class="ident" id="7664073">args</span><span class="op" id="7664077">[</span><span class="builtinfunc" id="7664078">len</span><span class="op" id="7664081">(</span><span class="ident" id="7664082">args</span><span class="op" id="7664086">)</span><span class="op" id="7664087">-</span><span class="num" id="7664088">2</span><span class="op" id="7664089">]</span>&nbsp;<span class="op" id="7664091">!=</span>&nbsp;<span class="ident" id="7664094">args</span><span class="op" id="7664098">[</span><span class="builtinfunc" id="7664099">len</span><span class="op" id="7664102">(</span><span class="ident" id="7664103">args</span><span class="op" id="7664107">)</span><span class="op" id="7664108">-</span><span class="num" id="7664109">1</span><span class="op" id="7664110">]</span>&nbsp;<span class="op" id="7664112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664116">t</span><span class="op" id="7664117">.</span><span class="ident" id="7664118">Errorf</span><span class="op" id="7664124">(</span><span class="ident" id="7664125">msg</span><span class="op" id="7664128">,</span>&nbsp;<span class="ident" id="7664130">args</span><span class="op" id="7664134">...</span><span class="op" id="7664137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664141">return</span>&nbsp;<span class="builtintype" id="7664148">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664155">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664158">return</span>&nbsp;<span class="builtintype" id="7664165">true</span><br>
<span class="lineno"></span><span class="op" id="7664170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7664173">func</span>&nbsp;<span class="ident" id="7664178">TestEncode</span><span class="op" id="7664188">(</span><span class="ident" id="7664189">t</span>&nbsp;<span class="op" id="7664191">*</span><span class="ident" id="7664192">testing</span><span class="op" id="7664199">.</span><span class="ident" id="7664200">T</span><span class="op" id="7664201">)</span>&nbsp;<span class="op" id="7664203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664206">for</span>&nbsp;<span class="ident" id="7664210">_</span><span class="op" id="7664211">,</span>&nbsp;<span class="ident" id="7664213">p</span>&nbsp;<span class="op" id="7664215">:=</span>&nbsp;<span class="keyword" id="7664218">range</span>&nbsp;<span class="ident" id="7664224">pairs</span>&nbsp;<span class="op" id="7664230">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664234">got</span>&nbsp;<span class="op" id="7664238">:=</span>&nbsp;<span class="ident" id="7664241">StdEncoding</span><span class="op" id="7664252">.</span><span class="ident" id="7664253">EncodeToString</span><span class="op" id="7664267">(</span><span class="op" id="7664268">[</span><span class="op" id="7664269">]</span><span class="builtintype" id="7664270">byte</span><span class="op" id="7664274">(</span><span class="ident" id="7664275">p</span><span class="op" id="7664276">.</span><span class="ident" id="7664277">decoded</span><span class="op" id="7664284">)</span><span class="op" id="7664285">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664289">testEqual</span><span class="op" id="7664298">(</span><span class="ident" id="7664299">t</span><span class="op" id="7664300">,</span>&nbsp;<span class="string" id="7664302">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7664328">,</span>&nbsp;<span class="ident" id="7664330">p</span><span class="op" id="7664331">.</span><span class="ident" id="7664332">decoded</span><span class="op" id="7664339">,</span>&nbsp;<span class="ident" id="7664341">got</span><span class="op" id="7664344">,</span>&nbsp;<span class="ident" id="7664346">p</span><span class="op" id="7664347">.</span><span class="ident" id="7664348">encoded</span><span class="op" id="7664355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664358">}</span><br>
<span class="lineno"></span><span class="op" id="7664360">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="7664363">func</span>&nbsp;<span class="ident" id="7664368">TestEncoder</span><span class="op" id="7664379">(</span><span class="ident" id="7664380">t</span>&nbsp;<span class="op" id="7664382">*</span><span class="ident" id="7664383">testing</span><span class="op" id="7664390">.</span><span class="ident" id="7664391">T</span><span class="op" id="7664392">)</span>&nbsp;<span class="op" id="7664394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664397">for</span>&nbsp;<span class="ident" id="7664401">_</span><span class="op" id="7664402">,</span>&nbsp;<span class="ident" id="7664404">p</span>&nbsp;<span class="op" id="7664406">:=</span>&nbsp;<span class="keyword" id="7664409">range</span>&nbsp;<span class="ident" id="7664415">pairs</span>&nbsp;<span class="op" id="7664421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664425">bb</span>&nbsp;<span class="op" id="7664428">:=</span>&nbsp;<span class="op" id="7664431">&amp;</span><span class="ident" id="7664432">bytes</span><span class="op" id="7664437">.</span><span class="ident" id="7664438">Buffer</span><span class="op" id="7664444">{</span><span class="op" id="7664445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664449">encoder</span>&nbsp;<span class="op" id="7664457">:=</span>&nbsp;<span class="ident" id="7664460">NewEncoder</span><span class="op" id="7664470">(</span><span class="ident" id="7664471">StdEncoding</span><span class="op" id="7664482">,</span>&nbsp;<span class="ident" id="7664484">bb</span><span class="op" id="7664486">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664490">encoder</span><span class="op" id="7664497">.</span><span class="ident" id="7664498">Write</span><span class="op" id="7664503">(</span><span class="op" id="7664504">[</span><span class="op" id="7664505">]</span><span class="builtintype" id="7664506">byte</span><span class="op" id="7664510">(</span><span class="ident" id="7664511">p</span><span class="op" id="7664512">.</span><span class="ident" id="7664513">decoded</span><span class="op" id="7664520">)</span><span class="op" id="7664521">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664525">encoder</span><span class="op" id="7664532">.</span><span class="ident" id="7664533">Close</span><span class="op" id="7664538">(</span><span class="op" id="7664539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664543">testEqual</span><span class="op" id="7664552">(</span><span class="ident" id="7664553">t</span><span class="op" id="7664554">,</span>&nbsp;<span class="string" id="7664556">&#34;Encode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7664582">,</span>&nbsp;<span class="ident" id="7664584">p</span><span class="op" id="7664585">.</span><span class="ident" id="7664586">decoded</span><span class="op" id="7664593">,</span>&nbsp;<span class="ident" id="7664595">bb</span><span class="op" id="7664597">.</span><span class="ident" id="7664598">String</span><span class="op" id="7664604">(</span><span class="op" id="7664605">)</span><span class="op" id="7664606">,</span>&nbsp;<span class="ident" id="7664608">p</span><span class="op" id="7664609">.</span><span class="ident" id="7664610">encoded</span><span class="op" id="7664617">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664620">}</span><br>
<span class="lineno"></span><span class="op" id="7664622">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="keyword" id="7664625">func</span>&nbsp;<span class="ident" id="7664630">TestEncoderBuffering</span><span class="op" id="7664650">(</span><span class="ident" id="7664651">t</span>&nbsp;<span class="op" id="7664653">*</span><span class="ident" id="7664654">testing</span><span class="op" id="7664661">.</span><span class="ident" id="7664662">T</span><span class="op" id="7664663">)</span>&nbsp;<span class="op" id="7664665">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664668">input</span>&nbsp;<span class="op" id="7664674">:=</span>&nbsp;<span class="op" id="7664677">[</span><span class="op" id="7664678">]</span><span class="builtintype" id="7664679">byte</span><span class="op" id="7664683">(</span><span class="ident" id="7664684">bigtest</span><span class="op" id="7664691">.</span><span class="ident" id="7664692">decoded</span><span class="op" id="7664699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664702">for</span>&nbsp;<span class="ident" id="7664706">bs</span>&nbsp;<span class="op" id="7664709">:=</span>&nbsp;<span class="num" id="7664712">1</span><span class="op" id="7664713">;</span>&nbsp;<span class="ident" id="7664715">bs</span>&nbsp;<span class="op" id="7664718">&lt;=</span>&nbsp;<span class="num" id="7664721">12</span><span class="op" id="7664723">;</span>&nbsp;<span class="ident" id="7664725">bs</span><span class="op" id="7664727">++</span>&nbsp;<span class="op" id="7664730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664734">bb</span>&nbsp;<span class="op" id="7664737">:=</span>&nbsp;<span class="op" id="7664740">&amp;</span><span class="ident" id="7664741">bytes</span><span class="op" id="7664746">.</span><span class="ident" id="7664747">Buffer</span><span class="op" id="7664753">{</span><span class="op" id="7664754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664758">encoder</span>&nbsp;<span class="op" id="7664766">:=</span>&nbsp;<span class="ident" id="7664769">NewEncoder</span><span class="op" id="7664779">(</span><span class="ident" id="7664780">StdEncoding</span><span class="op" id="7664791">,</span>&nbsp;<span class="ident" id="7664793">bb</span><span class="op" id="7664795">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664799">for</span>&nbsp;<span class="ident" id="7664803">pos</span>&nbsp;<span class="op" id="7664807">:=</span>&nbsp;<span class="num" id="7664810">0</span><span class="op" id="7664811">;</span>&nbsp;<span class="ident" id="7664813">pos</span>&nbsp;<span class="op" id="7664817">&lt;</span>&nbsp;<span class="builtinfunc" id="7664819">len</span><span class="op" id="7664822">(</span><span class="ident" id="7664823">input</span><span class="op" id="7664828">)</span><span class="op" id="7664829">;</span>&nbsp;<span class="ident" id="7664831">pos</span>&nbsp;<span class="op" id="7664835">+=</span>&nbsp;<span class="ident" id="7664838">bs</span>&nbsp;<span class="op" id="7664841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664846">end</span>&nbsp;<span class="op" id="7664850">:=</span>&nbsp;<span class="ident" id="7664853">pos</span>&nbsp;<span class="op" id="7664857">+</span>&nbsp;<span class="ident" id="7664859">bs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7664865">if</span>&nbsp;<span class="ident" id="7664868">end</span>&nbsp;<span class="op" id="7664872">&gt;</span>&nbsp;<span class="builtinfunc" id="7664874">len</span><span class="op" id="7664877">(</span><span class="ident" id="7664878">input</span><span class="op" id="7664883">)</span>&nbsp;<span class="op" id="7664885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664891">end</span>&nbsp;<span class="op" id="7664895">=</span>&nbsp;<span class="builtinfunc" id="7664897">len</span><span class="op" id="7664900">(</span><span class="ident" id="7664901">input</span><span class="op" id="7664906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7664911">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664916">n</span><span class="op" id="7664917">,</span>&nbsp;<span class="ident" id="7664919">err</span>&nbsp;<span class="op" id="7664923">:=</span>&nbsp;<span class="ident" id="7664926">encoder</span><span class="op" id="7664933">.</span><span class="ident" id="7664934">Write</span><span class="op" id="7664939">(</span><span class="ident" id="7664940">input</span><span class="op" id="7664945">[</span><span class="ident" id="7664946">pos</span><span class="op" id="7664949">:</span><span class="ident" id="7664950">end</span><span class="op" id="7664953">]</span><span class="op" id="7664954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7664959">testEqual</span><span class="op" id="7664968">(</span><span class="ident" id="7664969">t</span><span class="op" id="7664970">,</span>&nbsp;<span class="string" id="7664972">&#34;Write(%q)&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7665006">,</span>&nbsp;<span class="ident" id="7665008">input</span><span class="op" id="7665013">[</span><span class="ident" id="7665014">pos</span><span class="op" id="7665017">:</span><span class="ident" id="7665018">end</span><span class="op" id="7665021">]</span><span class="op" id="7665022">,</span>&nbsp;<span class="ident" id="7665024">err</span><span class="op" id="7665027">,</span>&nbsp;<span class="builtintype" id="7665029">error</span><span class="op" id="7665034">(</span><span class="ident" id="7665035">nil</span><span class="op" id="7665038">)</span><span class="op" id="7665039">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665044">testEqual</span><span class="op" id="7665053">(</span><span class="ident" id="7665054">t</span><span class="op" id="7665055">,</span>&nbsp;<span class="string" id="7665057">&#34;Write(%q)&nbsp;gave&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7665092">,</span>&nbsp;<span class="ident" id="7665094">input</span><span class="op" id="7665099">[</span><span class="ident" id="7665100">pos</span><span class="op" id="7665103">:</span><span class="ident" id="7665104">end</span><span class="op" id="7665107">]</span><span class="op" id="7665108">,</span>&nbsp;<span class="ident" id="7665110">n</span><span class="op" id="7665111">,</span>&nbsp;<span class="ident" id="7665113">end</span><span class="op" id="7665116">-</span><span class="ident" id="7665117">pos</span><span class="op" id="7665120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665128">err</span>&nbsp;<span class="op" id="7665132">:=</span>&nbsp;<span class="ident" id="7665135">encoder</span><span class="op" id="7665142">.</span><span class="ident" id="7665143">Close</span><span class="op" id="7665148">(</span><span class="op" id="7665149">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665153">testEqual</span><span class="op" id="7665162">(</span><span class="ident" id="7665163">t</span><span class="op" id="7665164">,</span>&nbsp;<span class="string" id="7665166">&#34;Close&nbsp;gave&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7665196">,</span>&nbsp;<span class="ident" id="7665198">err</span><span class="op" id="7665201">,</span>&nbsp;<span class="builtintype" id="7665203">error</span><span class="op" id="7665208">(</span><span class="ident" id="7665209">nil</span><span class="op" id="7665212">)</span><span class="op" id="7665213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665217">testEqual</span><span class="op" id="7665226">(</span><span class="ident" id="7665227">t</span><span class="op" id="7665228">,</span>&nbsp;<span class="string" id="7665230">&#34;Encoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7665263">,</span>&nbsp;<span class="ident" id="7665265">bs</span><span class="op" id="7665267">,</span>&nbsp;<span class="ident" id="7665269">bigtest</span><span class="op" id="7665276">.</span><span class="ident" id="7665277">decoded</span><span class="op" id="7665284">,</span>&nbsp;<span class="ident" id="7665286">bb</span><span class="op" id="7665288">.</span><span class="ident" id="7665289">String</span><span class="op" id="7665295">(</span><span class="op" id="7665296">)</span><span class="op" id="7665297">,</span>&nbsp;<span class="ident" id="7665299">bigtest</span><span class="op" id="7665306">.</span><span class="ident" id="7665307">encoded</span><span class="op" id="7665314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665317">}</span><br>
<span class="lineno"></span><span class="op" id="7665319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">90</span><span class="keyword" id="7665322">func</span>&nbsp;<span class="ident" id="7665327">TestDecode</span><span class="op" id="7665337">(</span><span class="ident" id="7665338">t</span>&nbsp;<span class="op" id="7665340">*</span><span class="ident" id="7665341">testing</span><span class="op" id="7665348">.</span><span class="ident" id="7665349">T</span><span class="op" id="7665350">)</span>&nbsp;<span class="op" id="7665352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665355">for</span>&nbsp;<span class="ident" id="7665359">_</span><span class="op" id="7665360">,</span>&nbsp;<span class="ident" id="7665362">p</span>&nbsp;<span class="op" id="7665364">:=</span>&nbsp;<span class="keyword" id="7665367">range</span>&nbsp;<span class="ident" id="7665373">pairs</span>&nbsp;<span class="op" id="7665379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665383">dbuf</span>&nbsp;<span class="op" id="7665388">:=</span>&nbsp;<span class="builtinfunc" id="7665391">make</span><span class="op" id="7665395">(</span><span class="op" id="7665396">[</span><span class="op" id="7665397">]</span><span class="builtintype" id="7665398">byte</span><span class="op" id="7665402">,</span>&nbsp;<span class="ident" id="7665404">StdEncoding</span><span class="op" id="7665415">.</span><span class="ident" id="7665416">DecodedLen</span><span class="op" id="7665426">(</span><span class="builtinfunc" id="7665427">len</span><span class="op" id="7665430">(</span><span class="ident" id="7665431">p</span><span class="op" id="7665432">.</span><span class="ident" id="7665433">encoded</span><span class="op" id="7665440">)</span><span class="op" id="7665441">)</span><span class="op" id="7665442">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665446">count</span><span class="op" id="7665451">,</span>&nbsp;<span class="ident" id="7665453">end</span><span class="op" id="7665456">,</span>&nbsp;<span class="ident" id="7665458">err</span>&nbsp;<span class="op" id="7665462">:=</span>&nbsp;<span class="ident" id="7665465">StdEncoding</span><span class="op" id="7665476">.</span><span class="ident" id="7665477">decode</span><span class="op" id="7665483">(</span><span class="ident" id="7665484">dbuf</span><span class="op" id="7665488">,</span>&nbsp;<span class="op" id="7665490">[</span><span class="op" id="7665491">]</span><span class="builtintype" id="7665492">byte</span><span class="op" id="7665496">(</span><span class="ident" id="7665497">p</span><span class="op" id="7665498">.</span><span class="ident" id="7665499">encoded</span><span class="op" id="7665506">)</span><span class="op" id="7665507">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665511">testEqual</span><span class="op" id="7665520">(</span><span class="ident" id="7665521">t</span><span class="op" id="7665522">,</span>&nbsp;<span class="string" id="7665524">&#34;Decode(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7665556">,</span>&nbsp;<span class="ident" id="7665558">p</span><span class="op" id="7665559">.</span><span class="ident" id="7665560">encoded</span><span class="op" id="7665567">,</span>&nbsp;<span class="ident" id="7665569">err</span><span class="op" id="7665572">,</span>&nbsp;<span class="builtintype" id="7665574">error</span><span class="op" id="7665579">(</span><span class="ident" id="7665580">nil</span><span class="op" id="7665583">)</span><span class="op" id="7665584">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665588">testEqual</span><span class="op" id="7665597">(</span><span class="ident" id="7665598">t</span><span class="op" id="7665599">,</span>&nbsp;<span class="string" id="7665601">&#34;Decode(%q)&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7665634">,</span>&nbsp;<span class="ident" id="7665636">p</span><span class="op" id="7665637">.</span><span class="ident" id="7665638">encoded</span><span class="op" id="7665645">,</span>&nbsp;<span class="ident" id="7665647">count</span><span class="op" id="7665652">,</span>&nbsp;<span class="builtinfunc" id="7665654">len</span><span class="op" id="7665657">(</span><span class="ident" id="7665658">p</span><span class="op" id="7665659">.</span><span class="ident" id="7665660">decoded</span><span class="op" id="7665667">)</span><span class="op" id="7665668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7665672">if</span>&nbsp;<span class="builtinfunc" id="7665675">len</span><span class="op" id="7665678">(</span><span class="ident" id="7665679">p</span><span class="op" id="7665680">.</span><span class="ident" id="7665681">encoded</span><span class="op" id="7665688">)</span>&nbsp;<span class="op" id="7665690">&gt;</span>&nbsp;<span class="num" id="7665692">0</span>&nbsp;<span class="op" id="7665694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665699">testEqual</span><span class="op" id="7665708">(</span><span class="ident" id="7665709">t</span><span class="op" id="7665710">,</span>&nbsp;<span class="string" id="7665712">&#34;Decode(%q)&nbsp;=&nbsp;end&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7665742">,</span>&nbsp;<span class="ident" id="7665744">p</span><span class="op" id="7665745">.</span><span class="ident" id="7665746">encoded</span><span class="op" id="7665753">,</span>&nbsp;<span class="ident" id="7665755">end</span><span class="op" id="7665758">,</span>&nbsp;<span class="op" id="7665760">(</span><span class="ident" id="7665761">p</span><span class="op" id="7665762">.</span><span class="ident" id="7665763">encoded</span><span class="op" id="7665770">[</span><span class="builtinfunc" id="7665771">len</span><span class="op" id="7665774">(</span><span class="ident" id="7665775">p</span><span class="op" id="7665776">.</span><span class="ident" id="7665777">encoded</span><span class="op" id="7665784">)</span><span class="op" id="7665785">-</span><span class="num" id="7665786">1</span><span class="op" id="7665787">]</span>&nbsp;<span class="op" id="7665789">==</span>&nbsp;<span class="string" id="7665792">&#39;=&#39;</span><span class="op" id="7665795">)</span><span class="op" id="7665796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7665800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665804">testEqual</span><span class="op" id="7665813">(</span><span class="ident" id="7665814">t</span><span class="op" id="7665815">,</span>&nbsp;<span class="string" id="7665817">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7665843">,</span>&nbsp;<span class="ident" id="7665845">p</span><span class="op" id="7665846">.</span><span class="ident" id="7665847">encoded</span><span class="op" id="7665854">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="7665859">string</span><span class="op" id="7665865">(</span><span class="ident" id="7665866">dbuf</span><span class="op" id="7665870">[</span><span class="num" id="7665871">0</span><span class="op" id="7665872">:</span><span class="ident" id="7665873">count</span><span class="op" id="7665878">]</span><span class="op" id="7665879">)</span><span class="op" id="7665880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665885">p</span><span class="op" id="7665886">.</span><span class="ident" id="7665887">decoded</span><span class="op" id="7665894">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665899">dbuf</span><span class="op" id="7665903">,</span>&nbsp;<span class="ident" id="7665905">err</span>&nbsp;<span class="op" id="7665909">=</span>&nbsp;<span class="ident" id="7665911">StdEncoding</span><span class="op" id="7665922">.</span><span class="ident" id="7665923">DecodeString</span><span class="op" id="7665935">(</span><span class="ident" id="7665936">p</span><span class="op" id="7665937">.</span><span class="ident" id="7665938">encoded</span><span class="op" id="7665945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7665949">testEqual</span><span class="op" id="7665958">(</span><span class="ident" id="7665959">t</span><span class="op" id="7665960">,</span>&nbsp;<span class="string" id="7665962">&#34;DecodeString(%q)&nbsp;=&nbsp;error&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7666000">,</span>&nbsp;<span class="ident" id="7666002">p</span><span class="op" id="7666003">.</span><span class="ident" id="7666004">encoded</span><span class="op" id="7666011">,</span>&nbsp;<span class="ident" id="7666013">err</span><span class="op" id="7666016">,</span>&nbsp;<span class="builtintype" id="7666018">error</span><span class="op" id="7666023">(</span><span class="ident" id="7666024">nil</span><span class="op" id="7666027">)</span><span class="op" id="7666028">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666032">testEqual</span><span class="op" id="7666041">(</span><span class="ident" id="7666042">t</span><span class="op" id="7666043">,</span>&nbsp;<span class="string" id="7666045">&#34;DecodeString(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7666077">,</span>&nbsp;<span class="ident" id="7666079">p</span><span class="op" id="7666080">.</span><span class="ident" id="7666081">encoded</span><span class="op" id="7666088">,</span>&nbsp;<span class="builtintype" id="7666090">string</span><span class="op" id="7666096">(</span><span class="ident" id="7666097">dbuf</span><span class="op" id="7666101">)</span><span class="op" id="7666102">,</span>&nbsp;<span class="ident" id="7666104">p</span><span class="op" id="7666105">.</span><span class="ident" id="7666106">decoded</span><span class="op" id="7666113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666116">}</span><br>
<span class="lineno"></span><span class="op" id="7666118">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7666121">func</span>&nbsp;<span class="ident" id="7666126">TestDecoder</span><span class="op" id="7666137">(</span><span class="ident" id="7666138">t</span>&nbsp;<span class="op" id="7666140">*</span><span class="ident" id="7666141">testing</span><span class="op" id="7666148">.</span><span class="ident" id="7666149">T</span><span class="op" id="7666150">)</span>&nbsp;<span class="op" id="7666152">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666155">for</span>&nbsp;<span class="ident" id="7666159">_</span><span class="op" id="7666160">,</span>&nbsp;<span class="ident" id="7666162">p</span>&nbsp;<span class="op" id="7666164">:=</span>&nbsp;<span class="keyword" id="7666167">range</span>&nbsp;<span class="ident" id="7666173">pairs</span>&nbsp;<span class="op" id="7666179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666183">decoder</span>&nbsp;<span class="op" id="7666191">:=</span>&nbsp;<span class="ident" id="7666194">NewDecoder</span><span class="op" id="7666204">(</span><span class="ident" id="7666205">StdEncoding</span><span class="op" id="7666216">,</span>&nbsp;<span class="ident" id="7666218">strings</span><span class="op" id="7666225">.</span><span class="ident" id="7666226">NewReader</span><span class="op" id="7666235">(</span><span class="ident" id="7666236">p</span><span class="op" id="7666237">.</span><span class="ident" id="7666238">encoded</span><span class="op" id="7666245">)</span><span class="op" id="7666246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666250">dbuf</span>&nbsp;<span class="op" id="7666255">:=</span>&nbsp;<span class="builtinfunc" id="7666258">make</span><span class="op" id="7666262">(</span><span class="op" id="7666263">[</span><span class="op" id="7666264">]</span><span class="builtintype" id="7666265">byte</span><span class="op" id="7666269">,</span>&nbsp;<span class="ident" id="7666271">StdEncoding</span><span class="op" id="7666282">.</span><span class="ident" id="7666283">DecodedLen</span><span class="op" id="7666293">(</span><span class="builtinfunc" id="7666294">len</span><span class="op" id="7666297">(</span><span class="ident" id="7666298">p</span><span class="op" id="7666299">.</span><span class="ident" id="7666300">encoded</span><span class="op" id="7666307">)</span><span class="op" id="7666308">)</span><span class="op" id="7666309">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666313">count</span><span class="op" id="7666318">,</span>&nbsp;<span class="ident" id="7666320">err</span>&nbsp;<span class="op" id="7666324">:=</span>&nbsp;<span class="ident" id="7666327">decoder</span><span class="op" id="7666334">.</span><span class="ident" id="7666335">Read</span><span class="op" id="7666339">(</span><span class="ident" id="7666340">dbuf</span><span class="op" id="7666344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666348">if</span>&nbsp;<span class="ident" id="7666351">err</span>&nbsp;<span class="op" id="7666355">!=</span>&nbsp;<span class="ident" id="7666358">nil</span>&nbsp;<span class="op" id="7666362">&amp;&amp;</span>&nbsp;<span class="ident" id="7666365">err</span>&nbsp;<span class="op" id="7666369">!=</span>&nbsp;<span class="ident" id="7666372">io</span><span class="op" id="7666374">.</span><span class="ident" id="7666375">EOF</span>&nbsp;<span class="op" id="7666379">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666384">t</span><span class="op" id="7666385">.</span><span class="ident" id="7666386">Fatal</span><span class="op" id="7666391">(</span><span class="string" id="7666392">&#34;Read&nbsp;failed&#34;</span><span class="op" id="7666405">,</span>&nbsp;<span class="ident" id="7666407">err</span><span class="op" id="7666410">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666414">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666418">testEqual</span><span class="op" id="7666427">(</span><span class="ident" id="7666428">t</span><span class="op" id="7666429">,</span>&nbsp;<span class="string" id="7666431">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;length&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7666466">,</span>&nbsp;<span class="ident" id="7666468">p</span><span class="op" id="7666469">.</span><span class="ident" id="7666470">encoded</span><span class="op" id="7666477">,</span>&nbsp;<span class="ident" id="7666479">count</span><span class="op" id="7666484">,</span>&nbsp;<span class="builtinfunc" id="7666486">len</span><span class="op" id="7666489">(</span><span class="ident" id="7666490">p</span><span class="op" id="7666491">.</span><span class="ident" id="7666492">decoded</span><span class="op" id="7666499">)</span><span class="op" id="7666500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666504">testEqual</span><span class="op" id="7666513">(</span><span class="ident" id="7666514">t</span><span class="op" id="7666515">,</span>&nbsp;<span class="string" id="7666517">&#34;Decoding&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7666547">,</span>&nbsp;<span class="ident" id="7666549">p</span><span class="op" id="7666550">.</span><span class="ident" id="7666551">encoded</span><span class="op" id="7666558">,</span>&nbsp;<span class="builtintype" id="7666560">string</span><span class="op" id="7666566">(</span><span class="ident" id="7666567">dbuf</span><span class="op" id="7666571">[</span><span class="num" id="7666572">0</span><span class="op" id="7666573">:</span><span class="ident" id="7666574">count</span><span class="op" id="7666579">]</span><span class="op" id="7666580">)</span><span class="op" id="7666581">,</span>&nbsp;<span class="ident" id="7666583">p</span><span class="op" id="7666584">.</span><span class="ident" id="7666585">decoded</span><span class="op" id="7666592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666596">if</span>&nbsp;<span class="ident" id="7666599">err</span>&nbsp;<span class="op" id="7666603">!=</span>&nbsp;<span class="ident" id="7666606">io</span><span class="op" id="7666608">.</span><span class="ident" id="7666609">EOF</span>&nbsp;<span class="op" id="7666613">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666618">count</span><span class="op" id="7666623">,</span>&nbsp;<span class="ident" id="7666625">err</span>&nbsp;<span class="op" id="7666629">=</span>&nbsp;<span class="ident" id="7666631">decoder</span><span class="op" id="7666638">.</span><span class="ident" id="7666639">Read</span><span class="op" id="7666643">(</span><span class="ident" id="7666644">dbuf</span><span class="op" id="7666648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666652">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666656">testEqual</span><span class="op" id="7666665">(</span><span class="ident" id="7666666">t</span><span class="op" id="7666667">,</span>&nbsp;<span class="string" id="7666669">&#34;Read&nbsp;from&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7666697">,</span>&nbsp;<span class="ident" id="7666699">p</span><span class="op" id="7666700">.</span><span class="ident" id="7666701">encoded</span><span class="op" id="7666708">,</span>&nbsp;<span class="ident" id="7666710">err</span><span class="op" id="7666713">,</span>&nbsp;<span class="ident" id="7666715">io</span><span class="op" id="7666717">.</span><span class="ident" id="7666718">EOF</span><span class="op" id="7666721">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7666724">}</span><br>
<span class="lineno"></span><span class="op" id="7666726">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="7666729">func</span>&nbsp;<span class="ident" id="7666734">TestDecoderBuffering</span><span class="op" id="7666754">(</span><span class="ident" id="7666755">t</span>&nbsp;<span class="op" id="7666757">*</span><span class="ident" id="7666758">testing</span><span class="op" id="7666765">.</span><span class="ident" id="7666766">T</span><span class="op" id="7666767">)</span>&nbsp;<span class="op" id="7666769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666772">for</span>&nbsp;<span class="ident" id="7666776">bs</span>&nbsp;<span class="op" id="7666779">:=</span>&nbsp;<span class="num" id="7666782">1</span><span class="op" id="7666783">;</span>&nbsp;<span class="ident" id="7666785">bs</span>&nbsp;<span class="op" id="7666788">&lt;=</span>&nbsp;<span class="num" id="7666791">12</span><span class="op" id="7666793">;</span>&nbsp;<span class="ident" id="7666795">bs</span><span class="op" id="7666797">++</span>&nbsp;<span class="op" id="7666800">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666804">decoder</span>&nbsp;<span class="op" id="7666812">:=</span>&nbsp;<span class="ident" id="7666815">NewDecoder</span><span class="op" id="7666825">(</span><span class="ident" id="7666826">StdEncoding</span><span class="op" id="7666837">,</span>&nbsp;<span class="ident" id="7666839">strings</span><span class="op" id="7666846">.</span><span class="ident" id="7666847">NewReader</span><span class="op" id="7666856">(</span><span class="ident" id="7666857">bigtest</span><span class="op" id="7666864">.</span><span class="ident" id="7666865">encoded</span><span class="op" id="7666872">)</span><span class="op" id="7666873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666877">buf</span>&nbsp;<span class="op" id="7666881">:=</span>&nbsp;<span class="builtinfunc" id="7666884">make</span><span class="op" id="7666888">(</span><span class="op" id="7666889">[</span><span class="op" id="7666890">]</span><span class="builtintype" id="7666891">byte</span><span class="op" id="7666895">,</span>&nbsp;<span class="builtinfunc" id="7666897">len</span><span class="op" id="7666900">(</span><span class="ident" id="7666901">bigtest</span><span class="op" id="7666908">.</span><span class="ident" id="7666909">decoded</span><span class="op" id="7666916">)</span><span class="op" id="7666917">+</span><span class="num" id="7666918">12</span><span class="op" id="7666920">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666924">var</span>&nbsp;<span class="ident" id="7666928">total</span>&nbsp;<span class="builtintype" id="7666934">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7666940">for</span>&nbsp;<span class="ident" id="7666944">total</span>&nbsp;<span class="op" id="7666950">=</span>&nbsp;<span class="num" id="7666952">0</span><span class="op" id="7666953">;</span>&nbsp;<span class="ident" id="7666955">total</span>&nbsp;<span class="op" id="7666961">&lt;</span>&nbsp;<span class="builtinfunc" id="7666963">len</span><span class="op" id="7666966">(</span><span class="ident" id="7666967">bigtest</span><span class="op" id="7666974">.</span><span class="ident" id="7666975">decoded</span><span class="op" id="7666982">)</span><span class="op" id="7666983">;</span>&nbsp;<span class="op" id="7666985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7666990">n</span><span class="op" id="7666991">,</span>&nbsp;<span class="ident" id="7666993">err</span>&nbsp;<span class="op" id="7666997">:=</span>&nbsp;<span class="ident" id="7667000">decoder</span><span class="op" id="7667007">.</span><span class="ident" id="7667008">Read</span><span class="op" id="7667012">(</span><span class="ident" id="7667013">buf</span><span class="op" id="7667016">[</span><span class="ident" id="7667017">total</span>&nbsp;<span class="op" id="7667023">:</span>&nbsp;<span class="ident" id="7667025">total</span><span class="op" id="7667030">+</span><span class="ident" id="7667031">bs</span><span class="op" id="7667033">]</span><span class="op" id="7667034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667039">testEqual</span><span class="op" id="7667048">(</span><span class="ident" id="7667049">t</span><span class="op" id="7667050">,</span>&nbsp;<span class="string" id="7667052">&#34;Read&nbsp;from&nbsp;%q&nbsp;at&nbsp;pos&nbsp;%d&nbsp;=&nbsp;%d,&nbsp;%v,&nbsp;want&nbsp;_,&nbsp;%v&#34;</span><span class="op" id="7667097">,</span>&nbsp;<span class="ident" id="7667099">bigtest</span><span class="op" id="7667106">.</span><span class="ident" id="7667107">encoded</span><span class="op" id="7667114">,</span>&nbsp;<span class="ident" id="7667116">total</span><span class="op" id="7667121">,</span>&nbsp;<span class="ident" id="7667123">n</span><span class="op" id="7667124">,</span>&nbsp;<span class="ident" id="7667126">err</span><span class="op" id="7667129">,</span>&nbsp;<span class="builtintype" id="7667131">error</span><span class="op" id="7667136">(</span><span class="ident" id="7667137">nil</span><span class="op" id="7667140">)</span><span class="op" id="7667141">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667146">total</span>&nbsp;<span class="op" id="7667152">+=</span>&nbsp;<span class="ident" id="7667155">n</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667159">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667163">testEqual</span><span class="op" id="7667172">(</span><span class="ident" id="7667173">t</span><span class="op" id="7667174">,</span>&nbsp;<span class="string" id="7667176">&#34;Decoding/%d&nbsp;of&nbsp;%q&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7667209">,</span>&nbsp;<span class="ident" id="7667211">bs</span><span class="op" id="7667213">,</span>&nbsp;<span class="ident" id="7667215">bigtest</span><span class="op" id="7667222">.</span><span class="ident" id="7667223">encoded</span><span class="op" id="7667230">,</span>&nbsp;<span class="builtintype" id="7667232">string</span><span class="op" id="7667238">(</span><span class="ident" id="7667239">buf</span><span class="op" id="7667242">[</span><span class="num" id="7667243">0</span><span class="op" id="7667244">:</span><span class="ident" id="7667245">total</span><span class="op" id="7667250">]</span><span class="op" id="7667251">)</span><span class="op" id="7667252">,</span>&nbsp;<span class="ident" id="7667254">bigtest</span><span class="op" id="7667261">.</span><span class="ident" id="7667262">decoded</span><span class="op" id="7667269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667272">}</span><br>
<span class="lineno"></span><span class="op" id="7667274">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="7667277">func</span>&nbsp;<span class="ident" id="7667282">TestDecodeCorrupt</span><span class="op" id="7667299">(</span><span class="ident" id="7667300">t</span>&nbsp;<span class="op" id="7667302">*</span><span class="ident" id="7667303">testing</span><span class="op" id="7667310">.</span><span class="ident" id="7667311">T</span><span class="op" id="7667312">)</span>&nbsp;<span class="op" id="7667314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667317">testCases</span>&nbsp;<span class="op" id="7667327">:=</span>&nbsp;<span class="op" id="7667330">[</span><span class="op" id="7667331">]</span><span class="keyword" id="7667332">struct</span>&nbsp;<span class="op" id="7667339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667343">input</span>&nbsp;&nbsp;<span class="builtintype" id="7667350">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667359">offset</span>&nbsp;<span class="builtintype" id="7667366">int</span>&nbsp;<span class="comment" id="7667370">//&nbsp;-1&nbsp;means&nbsp;no&nbsp;corruption.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667398">}</span><span class="op" id="7667399">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667403">{</span><span class="string" id="7667404">&#34;&#34;</span><span class="op" id="7667406">,</span>&nbsp;<span class="op" id="7667408">-</span><span class="num" id="7667409">1</span><span class="op" id="7667410">}</span><span class="op" id="7667411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667415">{</span><span class="string" id="7667416">&#34;!!!!&#34;</span><span class="op" id="7667422">,</span>&nbsp;<span class="num" id="7667424">0</span><span class="op" id="7667425">}</span><span class="op" id="7667426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667430">{</span><span class="string" id="7667431">&#34;x===&#34;</span><span class="op" id="7667437">,</span>&nbsp;<span class="num" id="7667439">0</span><span class="op" id="7667440">}</span><span class="op" id="7667441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667445">{</span><span class="string" id="7667446">&#34;AA=A====&#34;</span><span class="op" id="7667456">,</span>&nbsp;<span class="num" id="7667458">2</span><span class="op" id="7667459">}</span><span class="op" id="7667460">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667464">{</span><span class="string" id="7667465">&#34;AAA=AAAA&#34;</span><span class="op" id="7667475">,</span>&nbsp;<span class="num" id="7667477">3</span><span class="op" id="7667478">}</span><span class="op" id="7667479">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667483">{</span><span class="string" id="7667484">&#34;MMMMMMMMM&#34;</span><span class="op" id="7667495">,</span>&nbsp;<span class="num" id="7667497">8</span><span class="op" id="7667498">}</span><span class="op" id="7667499">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667503">{</span><span class="string" id="7667504">&#34;MMMMMM&#34;</span><span class="op" id="7667512">,</span>&nbsp;<span class="num" id="7667514">0</span><span class="op" id="7667515">}</span><span class="op" id="7667516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667520">{</span><span class="string" id="7667521">&#34;A=&#34;</span><span class="op" id="7667525">,</span>&nbsp;<span class="num" id="7667527">1</span><span class="op" id="7667528">}</span><span class="op" id="7667529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667533">{</span><span class="string" id="7667534">&#34;AA=&#34;</span><span class="op" id="7667539">,</span>&nbsp;<span class="num" id="7667541">3</span><span class="op" id="7667542">}</span><span class="op" id="7667543">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667547">{</span><span class="string" id="7667548">&#34;AA==&#34;</span><span class="op" id="7667554">,</span>&nbsp;<span class="num" id="7667556">4</span><span class="op" id="7667557">}</span><span class="op" id="7667558">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667562">{</span><span class="string" id="7667563">&#34;AA===&#34;</span><span class="op" id="7667570">,</span>&nbsp;<span class="num" id="7667572">5</span><span class="op" id="7667573">}</span><span class="op" id="7667574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667578">{</span><span class="string" id="7667579">&#34;AAAA=&#34;</span><span class="op" id="7667586">,</span>&nbsp;<span class="num" id="7667588">5</span><span class="op" id="7667589">}</span><span class="op" id="7667590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667594">{</span><span class="string" id="7667595">&#34;AAAA==&#34;</span><span class="op" id="7667603">,</span>&nbsp;<span class="num" id="7667605">6</span><span class="op" id="7667606">}</span><span class="op" id="7667607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667611">{</span><span class="string" id="7667612">&#34;AAAAA=&#34;</span><span class="op" id="7667620">,</span>&nbsp;<span class="num" id="7667622">6</span><span class="op" id="7667623">}</span><span class="op" id="7667624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667628">{</span><span class="string" id="7667629">&#34;AAAAA==&#34;</span><span class="op" id="7667638">,</span>&nbsp;<span class="num" id="7667640">7</span><span class="op" id="7667641">}</span><span class="op" id="7667642">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667646">{</span><span class="string" id="7667647">&#34;A=======&#34;</span><span class="op" id="7667657">,</span>&nbsp;<span class="num" id="7667659">1</span><span class="op" id="7667660">}</span><span class="op" id="7667661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667665">{</span><span class="string" id="7667666">&#34;AA======&#34;</span><span class="op" id="7667676">,</span>&nbsp;<span class="op" id="7667678">-</span><span class="num" id="7667679">1</span><span class="op" id="7667680">}</span><span class="op" id="7667681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667685">{</span><span class="string" id="7667686">&#34;AAA=====&#34;</span><span class="op" id="7667696">,</span>&nbsp;<span class="num" id="7667698">3</span><span class="op" id="7667699">}</span><span class="op" id="7667700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667704">{</span><span class="string" id="7667705">&#34;AAAA====&#34;</span><span class="op" id="7667715">,</span>&nbsp;<span class="op" id="7667717">-</span><span class="num" id="7667718">1</span><span class="op" id="7667719">}</span><span class="op" id="7667720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667724">{</span><span class="string" id="7667725">&#34;AAAAA===&#34;</span><span class="op" id="7667735">,</span>&nbsp;<span class="op" id="7667737">-</span><span class="num" id="7667738">1</span><span class="op" id="7667739">}</span><span class="op" id="7667740">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667744">{</span><span class="string" id="7667745">&#34;AAAAAA==&#34;</span><span class="op" id="7667755">,</span>&nbsp;<span class="num" id="7667757">6</span><span class="op" id="7667758">}</span><span class="op" id="7667759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667763">{</span><span class="string" id="7667764">&#34;AAAAAAA=&#34;</span><span class="op" id="7667774">,</span>&nbsp;<span class="op" id="7667776">-</span><span class="num" id="7667777">1</span><span class="op" id="7667778">}</span><span class="op" id="7667779">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667783">{</span><span class="string" id="7667784">&#34;AAAAAAAA&#34;</span><span class="op" id="7667794">,</span>&nbsp;<span class="op" id="7667796">-</span><span class="num" id="7667797">1</span><span class="op" id="7667798">}</span><span class="op" id="7667799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7667802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667805">for</span>&nbsp;<span class="ident" id="7667809">_</span><span class="op" id="7667810">,</span>&nbsp;<span class="ident" id="7667812">tc</span>&nbsp;<span class="op" id="7667815">:=</span>&nbsp;<span class="keyword" id="7667818">range</span>&nbsp;<span class="ident" id="7667824">testCases</span>&nbsp;<span class="op" id="7667834">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667838">dbuf</span>&nbsp;<span class="op" id="7667843">:=</span>&nbsp;<span class="builtinfunc" id="7667846">make</span><span class="op" id="7667850">(</span><span class="op" id="7667851">[</span><span class="op" id="7667852">]</span><span class="builtintype" id="7667853">byte</span><span class="op" id="7667857">,</span>&nbsp;<span class="ident" id="7667859">StdEncoding</span><span class="op" id="7667870">.</span><span class="ident" id="7667871">DecodedLen</span><span class="op" id="7667881">(</span><span class="builtinfunc" id="7667882">len</span><span class="op" id="7667885">(</span><span class="ident" id="7667886">tc</span><span class="op" id="7667888">.</span><span class="ident" id="7667889">input</span><span class="op" id="7667894">)</span><span class="op" id="7667895">)</span><span class="op" id="7667896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667900">_</span><span class="op" id="7667901">,</span>&nbsp;<span class="ident" id="7667903">err</span>&nbsp;<span class="op" id="7667907">:=</span>&nbsp;<span class="ident" id="7667910">StdEncoding</span><span class="op" id="7667921">.</span><span class="ident" id="7667922">Decode</span><span class="op" id="7667928">(</span><span class="ident" id="7667929">dbuf</span><span class="op" id="7667933">,</span>&nbsp;<span class="op" id="7667935">[</span><span class="op" id="7667936">]</span><span class="builtintype" id="7667937">byte</span><span class="op" id="7667941">(</span><span class="ident" id="7667942">tc</span><span class="op" id="7667944">.</span><span class="ident" id="7667945">input</span><span class="op" id="7667950">)</span><span class="op" id="7667951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667955">if</span>&nbsp;<span class="ident" id="7667958">tc</span><span class="op" id="7667960">.</span><span class="ident" id="7667961">offset</span>&nbsp;<span class="op" id="7667968">==</span>&nbsp;<span class="op" id="7667971">-</span><span class="num" id="7667972">1</span>&nbsp;<span class="op" id="7667974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7667979">if</span>&nbsp;<span class="ident" id="7667982">err</span>&nbsp;<span class="op" id="7667986">!=</span>&nbsp;<span class="ident" id="7667989">nil</span>&nbsp;<span class="op" id="7667993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7667999">t</span><span class="op" id="7668000">.</span><span class="ident" id="7668001">Error</span><span class="op" id="7668006">(</span><span class="string" id="7668007">&#34;Decoder&nbsp;wrongly&nbsp;detected&nbsp;coruption&nbsp;in&#34;</span><span class="op" id="7668046">,</span>&nbsp;<span class="ident" id="7668048">tc</span><span class="op" id="7668050">.</span><span class="ident" id="7668051">input</span><span class="op" id="7668056">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668061">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668066">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668081">switch</span>&nbsp;<span class="ident" id="7668088">err</span>&nbsp;<span class="op" id="7668092">:=</span>&nbsp;<span class="ident" id="7668095">err</span><span class="op" id="7668098">.</span><span class="op" id="7668099">(</span><span class="keyword" id="7668100">type</span><span class="op" id="7668104">)</span>&nbsp;<span class="op" id="7668106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668110">case</span>&nbsp;<span class="ident" id="7668115">CorruptInputError</span><span class="op" id="7668132">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668137">testEqual</span><span class="op" id="7668146">(</span><span class="ident" id="7668147">t</span><span class="op" id="7668148">,</span>&nbsp;<span class="string" id="7668150">&#34;Corruption&nbsp;in&nbsp;%q&nbsp;at&nbsp;offset&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7668190">,</span>&nbsp;<span class="ident" id="7668192">tc</span><span class="op" id="7668194">.</span><span class="ident" id="7668195">input</span><span class="op" id="7668200">,</span>&nbsp;<span class="builtintype" id="7668202">int</span><span class="op" id="7668205">(</span><span class="ident" id="7668206">err</span><span class="op" id="7668209">)</span><span class="op" id="7668210">,</span>&nbsp;<span class="ident" id="7668212">tc</span><span class="op" id="7668214">.</span><span class="ident" id="7668215">offset</span><span class="op" id="7668221">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668225">default</span><span class="op" id="7668232">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668237">t</span><span class="op" id="7668238">.</span><span class="ident" id="7668239">Error</span><span class="op" id="7668244">(</span><span class="string" id="7668245">&#34;Decoder&nbsp;failed&nbsp;to&nbsp;detect&nbsp;corruption&nbsp;in&#34;</span><span class="op" id="7668285">,</span>&nbsp;<span class="ident" id="7668287">tc</span><span class="op" id="7668289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668296">}</span><br>
<span class="lineno">185</span><span class="op" id="7668298">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7668301">func</span>&nbsp;<span class="ident" id="7668306">TestBig</span><span class="op" id="7668313">(</span><span class="ident" id="7668314">t</span>&nbsp;<span class="op" id="7668316">*</span><span class="ident" id="7668317">testing</span><span class="op" id="7668324">.</span><span class="ident" id="7668325">T</span><span class="op" id="7668326">)</span>&nbsp;<span class="op" id="7668328">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668331">n</span>&nbsp;<span class="op" id="7668333">:=</span>&nbsp;<span class="num" id="7668336">3</span><span class="op" id="7668337">*</span><span class="num" id="7668338">1000</span>&nbsp;<span class="op" id="7668343">+</span>&nbsp;<span class="num" id="7668345">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668348">raw</span>&nbsp;<span class="op" id="7668352">:=</span>&nbsp;<span class="builtinfunc" id="7668355">make</span><span class="op" id="7668359">(</span><span class="op" id="7668360">[</span><span class="op" id="7668361">]</span><span class="builtintype" id="7668362">byte</span><span class="op" id="7668366">,</span>&nbsp;<span class="ident" id="7668368">n</span><span class="op" id="7668369">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668372">const</span>&nbsp;<span class="ident" id="7668378">alpha</span>&nbsp;<span class="op" id="7668384">=</span>&nbsp;<span class="string" id="7668386">&#34;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668452">for</span>&nbsp;<span class="ident" id="7668456">i</span>&nbsp;<span class="op" id="7668458">:=</span>&nbsp;<span class="num" id="7668461">0</span><span class="op" id="7668462">;</span>&nbsp;<span class="ident" id="7668464">i</span>&nbsp;<span class="op" id="7668466">&lt;</span>&nbsp;<span class="ident" id="7668468">n</span><span class="op" id="7668469">;</span>&nbsp;<span class="ident" id="7668471">i</span><span class="op" id="7668472">++</span>&nbsp;<span class="op" id="7668475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668479">raw</span><span class="op" id="7668482">[</span><span class="ident" id="7668483">i</span><span class="op" id="7668484">]</span>&nbsp;<span class="op" id="7668486">=</span>&nbsp;<span class="ident" id="7668488">alpha</span><span class="op" id="7668493">[</span><span class="ident" id="7668494">i</span><span class="op" id="7668495">%</span><span class="builtinfunc" id="7668496">len</span><span class="op" id="7668499">(</span><span class="ident" id="7668500">alpha</span><span class="op" id="7668505">)</span><span class="op" id="7668506">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668509">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668512">encoded</span>&nbsp;<span class="op" id="7668520">:=</span>&nbsp;<span class="builtinfunc" id="7668523">new</span><span class="op" id="7668526">(</span><span class="ident" id="7668527">bytes</span><span class="op" id="7668532">.</span><span class="ident" id="7668533">Buffer</span><span class="op" id="7668539">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668542">w</span>&nbsp;<span class="op" id="7668544">:=</span>&nbsp;<span class="ident" id="7668547">NewEncoder</span><span class="op" id="7668557">(</span><span class="ident" id="7668558">StdEncoding</span><span class="op" id="7668569">,</span>&nbsp;<span class="ident" id="7668571">encoded</span><span class="op" id="7668578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668581">nn</span><span class="op" id="7668583">,</span>&nbsp;<span class="ident" id="7668585">err</span>&nbsp;<span class="op" id="7668589">:=</span>&nbsp;<span class="ident" id="7668592">w</span><span class="op" id="7668593">.</span><span class="ident" id="7668594">Write</span><span class="op" id="7668599">(</span><span class="ident" id="7668600">raw</span><span class="op" id="7668603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668606">if</span>&nbsp;<span class="ident" id="7668609">nn</span>&nbsp;<span class="op" id="7668612">!=</span>&nbsp;<span class="ident" id="7668615">n</span>&nbsp;<span class="op" id="7668617">||</span>&nbsp;<span class="ident" id="7668620">err</span>&nbsp;<span class="op" id="7668624">!=</span>&nbsp;<span class="ident" id="7668627">nil</span>&nbsp;<span class="op" id="7668631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668635">t</span><span class="op" id="7668636">.</span><span class="ident" id="7668637">Fatalf</span><span class="op" id="7668643">(</span><span class="string" id="7668644">&#34;Encoder.Write(raw)&nbsp;=&nbsp;%d,&nbsp;%v&nbsp;want&nbsp;%d,&nbsp;nil&#34;</span><span class="op" id="7668686">,</span>&nbsp;<span class="ident" id="7668688">nn</span><span class="op" id="7668690">,</span>&nbsp;<span class="ident" id="7668692">err</span><span class="op" id="7668695">,</span>&nbsp;<span class="ident" id="7668697">n</span><span class="op" id="7668698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668701">}</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668704">err</span>&nbsp;<span class="op" id="7668708">=</span>&nbsp;<span class="ident" id="7668710">w</span><span class="op" id="7668711">.</span><span class="ident" id="7668712">Close</span><span class="op" id="7668717">(</span><span class="op" id="7668718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668721">if</span>&nbsp;<span class="ident" id="7668724">err</span>&nbsp;<span class="op" id="7668728">!=</span>&nbsp;<span class="ident" id="7668731">nil</span>&nbsp;<span class="op" id="7668735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668739">t</span><span class="op" id="7668740">.</span><span class="ident" id="7668741">Fatalf</span><span class="op" id="7668747">(</span><span class="string" id="7668748">&#34;Encoder.Close()&nbsp;=&nbsp;%v&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7668779">,</span>&nbsp;<span class="ident" id="7668781">err</span><span class="op" id="7668784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668787">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668790">decoded</span><span class="op" id="7668797">,</span>&nbsp;<span class="ident" id="7668799">err</span>&nbsp;<span class="op" id="7668803">:=</span>&nbsp;<span class="ident" id="7668806">ioutil</span><span class="op" id="7668812">.</span><span class="ident" id="7668813">ReadAll</span><span class="op" id="7668820">(</span><span class="ident" id="7668821">NewDecoder</span><span class="op" id="7668831">(</span><span class="ident" id="7668832">StdEncoding</span><span class="op" id="7668843">,</span>&nbsp;<span class="ident" id="7668845">encoded</span><span class="op" id="7668852">)</span><span class="op" id="7668853">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668856">if</span>&nbsp;<span class="ident" id="7668859">err</span>&nbsp;<span class="op" id="7668863">!=</span>&nbsp;<span class="ident" id="7668866">nil</span>&nbsp;<span class="op" id="7668870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7668874">t</span><span class="op" id="7668875">.</span><span class="ident" id="7668876">Fatalf</span><span class="op" id="7668882">(</span><span class="string" id="7668883">&#34;ioutil.ReadAll(NewDecoder(...)):&nbsp;%v&#34;</span><span class="op" id="7668920">,</span>&nbsp;<span class="ident" id="7668922">err</span><span class="op" id="7668925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7668928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668932">if</span>&nbsp;<span class="op" id="7668935">!</span><span class="ident" id="7668936">bytes</span><span class="op" id="7668941">.</span><span class="ident" id="7668942">Equal</span><span class="op" id="7668947">(</span><span class="ident" id="7668948">raw</span><span class="op" id="7668951">,</span>&nbsp;<span class="ident" id="7668953">decoded</span><span class="op" id="7668960">)</span>&nbsp;<span class="op" id="7668962">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668966">var</span>&nbsp;<span class="ident" id="7668970">i</span>&nbsp;<span class="builtintype" id="7668972">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7668978">for</span>&nbsp;<span class="ident" id="7668982">i</span>&nbsp;<span class="op" id="7668984">=</span>&nbsp;<span class="num" id="7668986">0</span><span class="op" id="7668987">;</span>&nbsp;<span class="ident" id="7668989">i</span>&nbsp;<span class="op" id="7668991">&lt;</span>&nbsp;<span class="builtinfunc" id="7668993">len</span><span class="op" id="7668996">(</span><span class="ident" id="7668997">decoded</span><span class="op" id="7669004">)</span>&nbsp;<span class="op" id="7669006">&amp;&amp;</span>&nbsp;<span class="ident" id="7669009">i</span>&nbsp;<span class="op" id="7669011">&lt;</span>&nbsp;<span class="builtinfunc" id="7669013">len</span><span class="op" id="7669016">(</span><span class="ident" id="7669017">raw</span><span class="op" id="7669020">)</span><span class="op" id="7669021">;</span>&nbsp;<span class="ident" id="7669023">i</span><span class="op" id="7669024">++</span>&nbsp;<span class="op" id="7669027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669032">if</span>&nbsp;<span class="ident" id="7669035">decoded</span><span class="op" id="7669042">[</span><span class="ident" id="7669043">i</span><span class="op" id="7669044">]</span>&nbsp;<span class="op" id="7669046">!=</span>&nbsp;<span class="ident" id="7669049">raw</span><span class="op" id="7669052">[</span><span class="ident" id="7669053">i</span><span class="op" id="7669054">]</span>&nbsp;<span class="op" id="7669056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669062">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669071">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669079">t</span><span class="op" id="7669080">.</span><span class="ident" id="7669081">Errorf</span><span class="op" id="7669087">(</span><span class="string" id="7669088">&#34;Decode(Encode(%d-byte&nbsp;string))&nbsp;failed&nbsp;at&nbsp;offset&nbsp;%d&#34;</span><span class="op" id="7669140">,</span>&nbsp;<span class="ident" id="7669142">n</span><span class="op" id="7669143">,</span>&nbsp;<span class="ident" id="7669145">i</span><span class="op" id="7669146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669149">}</span><br>
<span class="lineno"></span><span class="op" id="7669151">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="keyword" id="7669154">func</span>&nbsp;<span class="ident" id="7669159">testStringEncoding</span><span class="op" id="7669177">(</span><span class="ident" id="7669178">t</span>&nbsp;<span class="op" id="7669180">*</span><span class="ident" id="7669181">testing</span><span class="op" id="7669188">.</span><span class="ident" id="7669189">T</span><span class="op" id="7669190">,</span>&nbsp;<span class="ident" id="7669192">expected</span>&nbsp;<span class="builtintype" id="7669201">string</span><span class="op" id="7669207">,</span>&nbsp;<span class="ident" id="7669209">examples</span>&nbsp;<span class="op" id="7669218">[</span><span class="op" id="7669219">]</span><span class="builtintype" id="7669220">string</span><span class="op" id="7669226">)</span>&nbsp;<span class="op" id="7669228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669231">for</span>&nbsp;<span class="ident" id="7669235">_</span><span class="op" id="7669236">,</span>&nbsp;<span class="ident" id="7669238">e</span>&nbsp;<span class="op" id="7669240">:=</span>&nbsp;<span class="keyword" id="7669243">range</span>&nbsp;<span class="ident" id="7669249">examples</span>&nbsp;<span class="op" id="7669258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669262">buf</span><span class="op" id="7669265">,</span>&nbsp;<span class="ident" id="7669267">err</span>&nbsp;<span class="op" id="7669271">:=</span>&nbsp;<span class="ident" id="7669274">StdEncoding</span><span class="op" id="7669285">.</span><span class="ident" id="7669286">DecodeString</span><span class="op" id="7669298">(</span><span class="ident" id="7669299">e</span><span class="op" id="7669300">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669304">if</span>&nbsp;<span class="ident" id="7669307">err</span>&nbsp;<span class="op" id="7669311">!=</span>&nbsp;<span class="ident" id="7669314">nil</span>&nbsp;<span class="op" id="7669318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669323">t</span><span class="op" id="7669324">.</span><span class="ident" id="7669325">Errorf</span><span class="op" id="7669331">(</span><span class="string" id="7669332">&#34;Decode(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7669355">,</span>&nbsp;<span class="ident" id="7669357">e</span><span class="op" id="7669358">,</span>&nbsp;<span class="ident" id="7669360">err</span><span class="op" id="7669363">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669368">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669379">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7669383">if</span>&nbsp;<span class="ident" id="7669386">s</span>&nbsp;<span class="op" id="7669388">:=</span>&nbsp;<span class="builtintype" id="7669391">string</span><span class="op" id="7669397">(</span><span class="ident" id="7669398">buf</span><span class="op" id="7669401">)</span><span class="op" id="7669402">;</span>&nbsp;<span class="ident" id="7669404">s</span>&nbsp;<span class="op" id="7669406">!=</span>&nbsp;<span class="ident" id="7669409">expected</span>&nbsp;<span class="op" id="7669418">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669423">t</span><span class="op" id="7669424">.</span><span class="ident" id="7669425">Errorf</span><span class="op" id="7669431">(</span><span class="string" id="7669432">&#34;Decode(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7669458">,</span>&nbsp;<span class="ident" id="7669460">e</span><span class="op" id="7669461">,</span>&nbsp;<span class="ident" id="7669463">s</span><span class="op" id="7669464">,</span>&nbsp;<span class="ident" id="7669466">expected</span><span class="op" id="7669474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669478">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669481">}</span><br>
<span class="lineno"></span><span class="op" id="7669483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7669486">func</span>&nbsp;<span class="ident" id="7669491">TestNewLineCharacters</span><span class="op" id="7669512">(</span><span class="ident" id="7669513">t</span>&nbsp;<span class="op" id="7669515">*</span><span class="ident" id="7669516">testing</span><span class="op" id="7669523">.</span><span class="ident" id="7669524">T</span><span class="op" id="7669525">)</span>&nbsp;<span class="op" id="7669527">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7669530">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;sure&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669600">examples</span>&nbsp;<span class="op" id="7669609">:=</span>&nbsp;<span class="op" id="7669612">[</span><span class="op" id="7669613">]</span><span class="builtintype" id="7669614">string</span><span class="op" id="7669620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669624">&#34;ON2XEZI=&#34;</span><span class="op" id="7669634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669638">&#34;ON2XEZI=\r&#34;</span><span class="op" id="7669650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669654">&#34;ON2XEZI=\n&#34;</span><span class="op" id="7669666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669670">&#34;ON2XEZI=\r\n&#34;</span><span class="op" id="7669684">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669688">&#34;ON2XEZ\r\nI=&#34;</span><span class="op" id="7669702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669706">&#34;ON2X\rEZ\nI=&#34;</span><span class="op" id="7669720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669724">&#34;ON2X\nEZ\rI=&#34;</span><span class="op" id="7669738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669742">&#34;ON2XEZ\nI=&#34;</span><span class="op" id="7669754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669758">&#34;ON2XEZI\n=&#34;</span><span class="op" id="7669770">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669776">testStringEncoding</span><span class="op" id="7669794">(</span><span class="ident" id="7669795">t</span><span class="op" id="7669796">,</span>&nbsp;<span class="string" id="7669798">&#34;sure&#34;</span><span class="op" id="7669804">,</span>&nbsp;<span class="ident" id="7669806">examples</span><span class="op" id="7669814">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7669818">//&nbsp;Each&nbsp;of&nbsp;these&nbsp;should&nbsp;decode&nbsp;to&nbsp;the&nbsp;string&nbsp;&#34;foobar&#34;,&nbsp;without&nbsp;errors.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669890">examples</span>&nbsp;<span class="op" id="7669899">=</span>&nbsp;<span class="op" id="7669901">[</span><span class="op" id="7669902">]</span><span class="builtintype" id="7669903">string</span><span class="op" id="7669909">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669913">&#34;MZXW6YTBOI======&#34;</span><span class="op" id="7669931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7669935">&#34;MZXW6YTBOI=\r\n=====&#34;</span><span class="op" id="7669957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7669960">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7669963">testStringEncoding</span><span class="op" id="7669981">(</span><span class="ident" id="7669982">t</span><span class="op" id="7669983">,</span>&nbsp;<span class="string" id="7669985">&#34;foobar&#34;</span><span class="op" id="7669993">,</span>&nbsp;<span class="ident" id="7669995">examples</span><span class="op" id="7670003">)</span><br>
<span class="lineno"></span><span class="op" id="7670005">}</span><br>
<span class="lineno">255</span><br>
<span class="lineno"></span><span class="keyword" id="7670008">func</span>&nbsp;<span class="ident" id="7670013">TestDecoderIssue4779</span><span class="op" id="7670033">(</span><span class="ident" id="7670034">t</span>&nbsp;<span class="op" id="7670036">*</span><span class="ident" id="7670037">testing</span><span class="op" id="7670044">.</span><span class="ident" id="7670045">T</span><span class="op" id="7670046">)</span>&nbsp;<span class="op" id="7670048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670051">encoded</span>&nbsp;<span class="op" id="7670059">:=</span>&nbsp;<span class="string" id="7670062">`JRXXEZLNEBUXA43VNUQGI33MN5ZCA43JOQQGC3LFOQWCAY3PNZZWKY3UMV2HK4<br>
<span class="lineno"></span>RAMFSGS4DJONUWG2LOM4QGK3DJOQWCA43FMQQGI3YKMVUXK43NN5SCA5DFNVYG64RANFXGG2LENFSH<br>
<span class="lineno"></span>K3TUEB2XIIDMMFRG64TFEBSXIIDEN5WG64TFEBWWCZ3OMEQGC3DJOF2WCLRAKV2CAZLONFWQUYLEEB<br>
<span class="lineno">260</span>WWS3TJNUQHMZLONFQW2LBAOF2WS4ZANZXXG5DSOVSCAZLYMVZGG2LUMF2GS33OEB2WY3DBNVRW6IDM<br>
<span class="lineno"></span>MFRG64TJOMQG42LTNEQHK5AKMFWGS4LVNFYCAZLYEBSWCIDDN5WW233EN4QGG33OONSXC5LBOQXCAR<br>
<span class="lineno"></span>DVNFZSAYLVORSSA2LSOVZGKIDEN5WG64RANFXAU4TFOBZGK2DFNZSGK4TJOQQGS3RAOZXWY5LQORQX<br>
<span class="lineno"></span>IZJAOZSWY2LUEBSXG43FEBRWS3DMOVWSAZDPNRXXEZJAMV2SAZTVM5UWC5BANZ2WY3DBBJYGC4TJMF<br>
<span class="lineno"></span>2HK4ROEBCXQY3FOB2GK5LSEBZWS3TUEBXWGY3BMVRWC5BAMN2XA2LEMF2GC5BANZXW4IDQOJXWSZDF<br>
<span class="lineno">265</span>NZ2CYIDTOVXHIIDJNYFGG5LMOBQSA4LVNEQG6ZTGNFRWSYJAMRSXGZLSOVXHIIDNN5WGY2LUEBQW42<br>
<span class="lineno"></span>LNEBUWIIDFON2CA3DBMJXXE5LNFY==<br>
<span class="lineno"></span>====`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670796">encodedShort</span>&nbsp;<span class="op" id="7670809">:=</span>&nbsp;<span class="ident" id="7670812">strings</span><span class="op" id="7670819">.</span><span class="ident" id="7670820">Replace</span><span class="op" id="7670827">(</span><span class="ident" id="7670828">encoded</span><span class="op" id="7670835">,</span>&nbsp;<span class="string" id="7670837">&#34;\n&#34;</span><span class="op" id="7670841">,</span>&nbsp;<span class="string" id="7670843">&#34;&#34;</span><span class="op" id="7670845">,</span>&nbsp;<span class="op" id="7670847">-</span><span class="num" id="7670848">1</span><span class="op" id="7670849">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670853">dec</span>&nbsp;<span class="op" id="7670857">:=</span>&nbsp;<span class="ident" id="7670860">NewDecoder</span><span class="op" id="7670870">(</span><span class="ident" id="7670871">StdEncoding</span><span class="op" id="7670882">,</span>&nbsp;<span class="ident" id="7670884">strings</span><span class="op" id="7670891">.</span><span class="ident" id="7670892">NewReader</span><span class="op" id="7670901">(</span><span class="ident" id="7670902">encoded</span><span class="op" id="7670909">)</span><span class="op" id="7670910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670913">res1</span><span class="op" id="7670917">,</span>&nbsp;<span class="ident" id="7670919">err</span>&nbsp;<span class="op" id="7670923">:=</span>&nbsp;<span class="ident" id="7670926">ioutil</span><span class="op" id="7670932">.</span><span class="ident" id="7670933">ReadAll</span><span class="op" id="7670940">(</span><span class="ident" id="7670941">dec</span><span class="op" id="7670944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7670947">if</span>&nbsp;<span class="ident" id="7670950">err</span>&nbsp;<span class="op" id="7670954">!=</span>&nbsp;<span class="ident" id="7670957">nil</span>&nbsp;<span class="op" id="7670961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7670965">t</span><span class="op" id="7670966">.</span><span class="ident" id="7670967">Errorf</span><span class="op" id="7670973">(</span><span class="string" id="7670974">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7670994">,</span>&nbsp;<span class="ident" id="7670996">err</span><span class="op" id="7670999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671002">}</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671006">dec</span>&nbsp;<span class="op" id="7671010">=</span>&nbsp;<span class="ident" id="7671012">NewDecoder</span><span class="op" id="7671022">(</span><span class="ident" id="7671023">StdEncoding</span><span class="op" id="7671034">,</span>&nbsp;<span class="ident" id="7671036">strings</span><span class="op" id="7671043">.</span><span class="ident" id="7671044">NewReader</span><span class="op" id="7671053">(</span><span class="ident" id="7671054">encodedShort</span><span class="op" id="7671066">)</span><span class="op" id="7671067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671070">var</span>&nbsp;<span class="ident" id="7671074">res2</span>&nbsp;<span class="op" id="7671079">[</span><span class="op" id="7671080">]</span><span class="builtintype" id="7671081">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671087">res2</span><span class="op" id="7671091">,</span>&nbsp;<span class="ident" id="7671093">err</span>&nbsp;<span class="op" id="7671097">=</span>&nbsp;<span class="ident" id="7671099">ioutil</span><span class="op" id="7671105">.</span><span class="ident" id="7671106">ReadAll</span><span class="op" id="7671113">(</span><span class="ident" id="7671114">dec</span><span class="op" id="7671117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671120">if</span>&nbsp;<span class="ident" id="7671123">err</span>&nbsp;<span class="op" id="7671127">!=</span>&nbsp;<span class="ident" id="7671130">nil</span>&nbsp;<span class="op" id="7671134">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671138">t</span><span class="op" id="7671139">.</span><span class="ident" id="7671140">Errorf</span><span class="op" id="7671146">(</span><span class="string" id="7671147">&#34;ReadAll&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="7671167">,</span>&nbsp;<span class="ident" id="7671169">err</span><span class="op" id="7671172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671175">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671179">if</span>&nbsp;<span class="op" id="7671182">!</span><span class="ident" id="7671183">bytes</span><span class="op" id="7671188">.</span><span class="ident" id="7671189">Equal</span><span class="op" id="7671194">(</span><span class="ident" id="7671195">res1</span><span class="op" id="7671199">,</span>&nbsp;<span class="ident" id="7671201">res2</span><span class="op" id="7671205">)</span>&nbsp;<span class="op" id="7671207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671211">t</span><span class="op" id="7671212">.</span><span class="ident" id="7671213">Error</span><span class="op" id="7671218">(</span><span class="string" id="7671219">&#34;Decoded&nbsp;results&nbsp;not&nbsp;equal&#34;</span><span class="op" id="7671246">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671249">}</span><br>
<span class="lineno"></span><span class="op" id="7671251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7671254">func</span>&nbsp;<span class="ident" id="7671259">BenchmarkEncodeToString</span><span class="op" id="7671282">(</span><span class="ident" id="7671283">b</span>&nbsp;<span class="op" id="7671285">*</span><span class="ident" id="7671286">testing</span><span class="op" id="7671293">.</span><span class="ident" id="7671294">B</span><span class="op" id="7671295">)</span>&nbsp;<span class="op" id="7671297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671300">data</span>&nbsp;<span class="op" id="7671305">:=</span>&nbsp;<span class="builtinfunc" id="7671308">make</span><span class="op" id="7671312">(</span><span class="op" id="7671313">[</span><span class="op" id="7671314">]</span><span class="builtintype" id="7671315">byte</span><span class="op" id="7671319">,</span>&nbsp;<span class="num" id="7671321">8192</span><span class="op" id="7671325">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671328">b</span><span class="op" id="7671329">.</span><span class="ident" id="7671330">SetBytes</span><span class="op" id="7671338">(</span><span class="ident" id="7671339">int64</span><span class="op" id="7671344">(</span><span class="builtinfunc" id="7671345">len</span><span class="op" id="7671348">(</span><span class="ident" id="7671349">data</span><span class="op" id="7671353">)</span><span class="op" id="7671354">)</span><span class="op" id="7671355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671358">for</span>&nbsp;<span class="ident" id="7671362">i</span>&nbsp;<span class="op" id="7671364">:=</span>&nbsp;<span class="num" id="7671367">0</span><span class="op" id="7671368">;</span>&nbsp;<span class="ident" id="7671370">i</span>&nbsp;<span class="op" id="7671372">&lt;</span>&nbsp;<span class="ident" id="7671374">b</span><span class="op" id="7671375">.</span><span class="ident" id="7671376">N</span><span class="op" id="7671377">;</span>&nbsp;<span class="ident" id="7671379">i</span><span class="op" id="7671380">++</span>&nbsp;<span class="op" id="7671383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671387">StdEncoding</span><span class="op" id="7671398">.</span><span class="ident" id="7671399">EncodeToString</span><span class="op" id="7671413">(</span><span class="ident" id="7671414">data</span><span class="op" id="7671418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671421">}</span><br>
<span class="lineno"></span><span class="op" id="7671423">}</span><br>
<span class="lineno">295</span><br>
<span class="lineno"></span><span class="keyword" id="7671426">func</span>&nbsp;<span class="ident" id="7671431">BenchmarkDecodeString</span><span class="op" id="7671452">(</span><span class="ident" id="7671453">b</span>&nbsp;<span class="op" id="7671455">*</span><span class="ident" id="7671456">testing</span><span class="op" id="7671463">.</span><span class="ident" id="7671464">B</span><span class="op" id="7671465">)</span>&nbsp;<span class="op" id="7671467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671470">data</span>&nbsp;<span class="op" id="7671475">:=</span>&nbsp;<span class="ident" id="7671478">StdEncoding</span><span class="op" id="7671489">.</span><span class="ident" id="7671490">EncodeToString</span><span class="op" id="7671504">(</span><span class="builtinfunc" id="7671505">make</span><span class="op" id="7671509">(</span><span class="op" id="7671510">[</span><span class="op" id="7671511">]</span><span class="builtintype" id="7671512">byte</span><span class="op" id="7671516">,</span>&nbsp;<span class="num" id="7671518">8192</span><span class="op" id="7671522">)</span><span class="op" id="7671523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671526">b</span><span class="op" id="7671527">.</span><span class="ident" id="7671528">SetBytes</span><span class="op" id="7671536">(</span><span class="ident" id="7671537">int64</span><span class="op" id="7671542">(</span><span class="builtinfunc" id="7671543">len</span><span class="op" id="7671546">(</span><span class="ident" id="7671547">data</span><span class="op" id="7671551">)</span><span class="op" id="7671552">)</span><span class="op" id="7671553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7671556">for</span>&nbsp;<span class="ident" id="7671560">i</span>&nbsp;<span class="op" id="7671562">:=</span>&nbsp;<span class="num" id="7671565">0</span><span class="op" id="7671566">;</span>&nbsp;<span class="ident" id="7671568">i</span>&nbsp;<span class="op" id="7671570">&lt;</span>&nbsp;<span class="ident" id="7671572">b</span><span class="op" id="7671573">.</span><span class="ident" id="7671574">N</span><span class="op" id="7671575">;</span>&nbsp;<span class="ident" id="7671577">i</span><span class="op" id="7671578">++</span>&nbsp;<span class="op" id="7671581">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7671585">StdEncoding</span><span class="op" id="7671596">.</span><span class="ident" id="7671597">DecodeString</span><span class="op" id="7671609">(</span><span class="ident" id="7671610">data</span><span class="op" id="7671614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7671617">}</span><br>
<span class="lineno"></span><span class="op" id="7671619">}</span>
</div>
</body>
</html>
