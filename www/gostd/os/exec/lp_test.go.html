<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html" class="current">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8213858">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8213913">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8213967">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8214018">package</span>&nbsp;<span class="ident" id="8214026">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8214032">import</span>&nbsp;<span class="op" id="8214039">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8214042">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8214052">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8214055">var</span>&nbsp;<span class="ident" id="8214059">nonExistentPaths</span>&nbsp;<span class="op" id="8214076">=</span>&nbsp;<span class="op" id="8214078">[</span><span class="op" id="8214079">]</span><span class="builtintype" id="8214080">string</span><span class="op" id="8214086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8214089">&#34;some-non-existent-path&#34;</span><span class="op" id="8214113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8214116">&#34;non-existent-path/slashed&#34;</span><span class="op" id="8214143">,</span><br>
<span class="lineno"></span><span class="op" id="8214145">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="8214148">func</span>&nbsp;<span class="ident" id="8214153">TestLookPathNotFound</span><span class="op" id="8214173">(</span><span class="ident" id="8214174">t</span>&nbsp;<span class="op" id="8214176">*</span><span class="ident" id="8214177">testing</span><span class="op" id="8214184">.</span><span class="ident" id="8214185">T</span><span class="op" id="8214186">)</span>&nbsp;<span class="op" id="8214188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214191">for</span>&nbsp;<span class="ident" id="8214195">_</span><span class="op" id="8214196">,</span>&nbsp;<span class="ident" id="8214198">name</span>&nbsp;<span class="op" id="8214203">:=</span>&nbsp;<span class="keyword" id="8214206">range</span>&nbsp;<span class="ident" id="8214212">nonExistentPaths</span>&nbsp;<span class="op" id="8214229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214233">path</span><span class="op" id="8214237">,</span>&nbsp;<span class="ident" id="8214239">err</span>&nbsp;<span class="op" id="8214243">:=</span>&nbsp;<span class="ident" id="8214246">LookPath</span><span class="op" id="8214254">(</span><span class="ident" id="8214255">name</span><span class="op" id="8214259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214263">if</span>&nbsp;<span class="ident" id="8214266">err</span>&nbsp;<span class="op" id="8214270">==</span>&nbsp;<span class="builtintype" id="8214273">nil</span>&nbsp;<span class="op" id="8214277">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214282">t</span><span class="op" id="8214283">.</span><span class="ident" id="8214284">Fatalf</span><span class="op" id="8214290">(</span><span class="string" id="8214291">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="8214319">,</span>&nbsp;<span class="ident" id="8214321">name</span><span class="op" id="8214325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214333">if</span>&nbsp;<span class="ident" id="8214336">path</span>&nbsp;<span class="op" id="8214341">!=</span>&nbsp;<span class="string" id="8214344">&#34;&#34;</span>&nbsp;<span class="op" id="8214347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214352">t</span><span class="op" id="8214353">.</span><span class="ident" id="8214354">Fatalf</span><span class="op" id="8214360">(</span><span class="string" id="8214361">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="8214398">,</span>&nbsp;<span class="ident" id="8214400">path</span><span class="op" id="8214404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214408">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214412">perr</span><span class="op" id="8214416">,</span>&nbsp;<span class="ident" id="8214418">ok</span>&nbsp;<span class="op" id="8214421">:=</span>&nbsp;<span class="ident" id="8214424">err</span><span class="op" id="8214427">.</span><span class="op" id="8214428">(</span><span class="op" id="8214429">*</span><span class="ident" id="8214430">Error</span><span class="op" id="8214435">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214439">if</span>&nbsp;<span class="op" id="8214442">!</span><span class="ident" id="8214443">ok</span>&nbsp;<span class="op" id="8214446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214451">t</span><span class="op" id="8214452">.</span><span class="ident" id="8214453">Fatal</span><span class="op" id="8214458">(</span><span class="string" id="8214459">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="8214496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8214504">if</span>&nbsp;<span class="ident" id="8214507">perr</span><span class="op" id="8214511">.</span><span class="ident" id="8214512">Name</span>&nbsp;<span class="op" id="8214517">!=</span>&nbsp;<span class="ident" id="8214520">name</span>&nbsp;<span class="op" id="8214525">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8214530">t</span><span class="op" id="8214531">.</span><span class="ident" id="8214532">Fatalf</span><span class="op" id="8214538">(</span><span class="string" id="8214539">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="8214567">,</span>&nbsp;<span class="ident" id="8214569">name</span><span class="op" id="8214573">,</span>&nbsp;<span class="ident" id="8214575">perr</span><span class="op" id="8214579">.</span><span class="ident" id="8214580">Name</span><span class="op" id="8214584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214588">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8214591">}</span><br>
<span class="lineno"></span><span class="op" id="8214593">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
