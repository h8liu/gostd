<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/gob</h2>
<ul>
<li><a href="/gostd/encoding/gob/codec_test.go.html" class="current">codec_test.go</a></li>
<li><a href="/gostd/encoding/gob/dec_helpers.go.html">dec_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/decode.go.html">decode.go</a></li>
<li><a href="/gostd/encoding/gob/decoder.go.html">decoder.go</a></li>
<li><a href="/gostd/encoding/gob/doc.go.html">doc.go</a></li>
<li><a href="/gostd/encoding/gob/enc_helpers.go.html">enc_helpers.go</a></li>
<li><a href="/gostd/encoding/gob/encode.go.html">encode.go</a></li>
<li><a href="/gostd/encoding/gob/encoder.go.html">encoder.go</a></li>
<li><a href="/gostd/encoding/gob/encoder_test.go.html">encoder_test.go</a></li>
<li><a href="/gostd/encoding/gob/error.go.html">error.go</a></li>
<li><a href="/gostd/encoding/gob/example_encdec_test.go.html">example_encdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_interface_test.go.html">example_interface_test.go</a></li>
<li><a href="/gostd/encoding/gob/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/gob/gobencdec_test.go.html">gobencdec_test.go</a></li>
<li><a href="/gostd/encoding/gob/timing_test.go.html">timing_test.go</a></li>
<li><a href="/gostd/encoding/gob/type.go.html">type.go</a></li>
<li><a href="/gostd/encoding/gob/type_test.go.html">type_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8419486">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8419541">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8419595">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8419646">package</span>&nbsp;<span class="ident" id="8419654">gob</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8419659">import</span>&nbsp;<span class="op" id="8419666">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419669">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419678">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419688">&#34;flag&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419696">&#34;math&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419704">&#34;math/rand&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419717">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419728">&#34;strings&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419739">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8419750">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="8419757">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8419760">var</span>&nbsp;<span class="ident" id="8419764">doFuzzTests</span>&nbsp;<span class="op" id="8419776">=</span>&nbsp;<span class="ident" id="8419778">flag</span><span class="op" id="8419782">.</span><span class="ident" id="8419783">Bool</span><span class="op" id="8419787">(</span><span class="string" id="8419788">&#34;gob.fuzz&#34;</span><span class="op" id="8419798">,</span>&nbsp;<span class="builtintype" id="8419800">false</span><span class="op" id="8419805">,</span>&nbsp;<span class="string" id="8419807">&#34;run&nbsp;the&nbsp;fuzz&nbsp;tests,&nbsp;which&nbsp;are&nbsp;large&nbsp;and&nbsp;very&nbsp;slow&#34;</span><span class="op" id="8419858">)</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span><span class="comment" id="8419861">//&nbsp;Guarantee&nbsp;encoding&nbsp;format&nbsp;by&nbsp;comparing&nbsp;some&nbsp;encodings&nbsp;to&nbsp;hand-written&nbsp;values</span><br>
<span class="lineno"></span><span class="keyword" id="8419941">type</span>&nbsp;<span class="ident" id="8419946">EncodeT</span>&nbsp;<span class="keyword" id="8419954">struct</span>&nbsp;<span class="op" id="8419961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8419964">x</span>&nbsp;<span class="ident" id="8419966">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8419974">b</span>&nbsp;<span class="op" id="8419976">[</span><span class="op" id="8419977">]</span><span class="builtintype" id="8419978">byte</span><br>
<span class="lineno">25</span><span class="op" id="8419983">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8419986">var</span>&nbsp;<span class="ident" id="8419990">encodeT</span>&nbsp;<span class="op" id="8419998">=</span>&nbsp;<span class="op" id="8420000">[</span><span class="op" id="8420001">]</span><span class="ident" id="8420002">EncodeT</span><span class="op" id="8420009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420012">{</span><span class="num" id="8420013">0x00</span><span class="op" id="8420017">,</span>&nbsp;<span class="op" id="8420019">[</span><span class="op" id="8420020">]</span><span class="builtintype" id="8420021">byte</span><span class="op" id="8420025">{</span><span class="num" id="8420026">0x00</span><span class="op" id="8420030">}</span><span class="op" id="8420031">}</span><span class="op" id="8420032">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420035">{</span><span class="num" id="8420036">0x0F</span><span class="op" id="8420040">,</span>&nbsp;<span class="op" id="8420042">[</span><span class="op" id="8420043">]</span><span class="builtintype" id="8420044">byte</span><span class="op" id="8420048">{</span><span class="num" id="8420049">0x0F</span><span class="op" id="8420053">}</span><span class="op" id="8420054">}</span><span class="op" id="8420055">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420058">{</span><span class="num" id="8420059">0xFF</span><span class="op" id="8420063">,</span>&nbsp;<span class="op" id="8420065">[</span><span class="op" id="8420066">]</span><span class="builtintype" id="8420067">byte</span><span class="op" id="8420071">{</span><span class="num" id="8420072">0xFF</span><span class="op" id="8420076">,</span>&nbsp;<span class="num" id="8420078">0xFF</span><span class="op" id="8420082">}</span><span class="op" id="8420083">}</span><span class="op" id="8420084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420087">{</span><span class="num" id="8420088">0xFFFF</span><span class="op" id="8420094">,</span>&nbsp;<span class="op" id="8420096">[</span><span class="op" id="8420097">]</span><span class="builtintype" id="8420098">byte</span><span class="op" id="8420102">{</span><span class="num" id="8420103">0xFE</span><span class="op" id="8420107">,</span>&nbsp;<span class="num" id="8420109">0xFF</span><span class="op" id="8420113">,</span>&nbsp;<span class="num" id="8420115">0xFF</span><span class="op" id="8420119">}</span><span class="op" id="8420120">}</span><span class="op" id="8420121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420124">{</span><span class="num" id="8420125">0xFFFFFF</span><span class="op" id="8420133">,</span>&nbsp;<span class="op" id="8420135">[</span><span class="op" id="8420136">]</span><span class="builtintype" id="8420137">byte</span><span class="op" id="8420141">{</span><span class="num" id="8420142">0xFD</span><span class="op" id="8420146">,</span>&nbsp;<span class="num" id="8420148">0xFF</span><span class="op" id="8420152">,</span>&nbsp;<span class="num" id="8420154">0xFF</span><span class="op" id="8420158">,</span>&nbsp;<span class="num" id="8420160">0xFF</span><span class="op" id="8420164">}</span><span class="op" id="8420165">}</span><span class="op" id="8420166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420169">{</span><span class="num" id="8420170">0xFFFFFFFF</span><span class="op" id="8420180">,</span>&nbsp;<span class="op" id="8420182">[</span><span class="op" id="8420183">]</span><span class="builtintype" id="8420184">byte</span><span class="op" id="8420188">{</span><span class="num" id="8420189">0xFC</span><span class="op" id="8420193">,</span>&nbsp;<span class="num" id="8420195">0xFF</span><span class="op" id="8420199">,</span>&nbsp;<span class="num" id="8420201">0xFF</span><span class="op" id="8420205">,</span>&nbsp;<span class="num" id="8420207">0xFF</span><span class="op" id="8420211">,</span>&nbsp;<span class="num" id="8420213">0xFF</span><span class="op" id="8420217">}</span><span class="op" id="8420218">}</span><span class="op" id="8420219">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420222">{</span><span class="num" id="8420223">0xFFFFFFFFFF</span><span class="op" id="8420235">,</span>&nbsp;<span class="op" id="8420237">[</span><span class="op" id="8420238">]</span><span class="builtintype" id="8420239">byte</span><span class="op" id="8420243">{</span><span class="num" id="8420244">0xFB</span><span class="op" id="8420248">,</span>&nbsp;<span class="num" id="8420250">0xFF</span><span class="op" id="8420254">,</span>&nbsp;<span class="num" id="8420256">0xFF</span><span class="op" id="8420260">,</span>&nbsp;<span class="num" id="8420262">0xFF</span><span class="op" id="8420266">,</span>&nbsp;<span class="num" id="8420268">0xFF</span><span class="op" id="8420272">,</span>&nbsp;<span class="num" id="8420274">0xFF</span><span class="op" id="8420278">}</span><span class="op" id="8420279">}</span><span class="op" id="8420280">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420283">{</span><span class="num" id="8420284">0xFFFFFFFFFFFF</span><span class="op" id="8420298">,</span>&nbsp;<span class="op" id="8420300">[</span><span class="op" id="8420301">]</span><span class="builtintype" id="8420302">byte</span><span class="op" id="8420306">{</span><span class="num" id="8420307">0xFA</span><span class="op" id="8420311">,</span>&nbsp;<span class="num" id="8420313">0xFF</span><span class="op" id="8420317">,</span>&nbsp;<span class="num" id="8420319">0xFF</span><span class="op" id="8420323">,</span>&nbsp;<span class="num" id="8420325">0xFF</span><span class="op" id="8420329">,</span>&nbsp;<span class="num" id="8420331">0xFF</span><span class="op" id="8420335">,</span>&nbsp;<span class="num" id="8420337">0xFF</span><span class="op" id="8420341">,</span>&nbsp;<span class="num" id="8420343">0xFF</span><span class="op" id="8420347">}</span><span class="op" id="8420348">}</span><span class="op" id="8420349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420352">{</span><span class="num" id="8420353">0xFFFFFFFFFFFFFF</span><span class="op" id="8420369">,</span>&nbsp;<span class="op" id="8420371">[</span><span class="op" id="8420372">]</span><span class="builtintype" id="8420373">byte</span><span class="op" id="8420377">{</span><span class="num" id="8420378">0xF9</span><span class="op" id="8420382">,</span>&nbsp;<span class="num" id="8420384">0xFF</span><span class="op" id="8420388">,</span>&nbsp;<span class="num" id="8420390">0xFF</span><span class="op" id="8420394">,</span>&nbsp;<span class="num" id="8420396">0xFF</span><span class="op" id="8420400">,</span>&nbsp;<span class="num" id="8420402">0xFF</span><span class="op" id="8420406">,</span>&nbsp;<span class="num" id="8420408">0xFF</span><span class="op" id="8420412">,</span>&nbsp;<span class="num" id="8420414">0xFF</span><span class="op" id="8420418">,</span>&nbsp;<span class="num" id="8420420">0xFF</span><span class="op" id="8420424">}</span><span class="op" id="8420425">}</span><span class="op" id="8420426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420429">{</span><span class="num" id="8420430">0xFFFFFFFFFFFFFFFF</span><span class="op" id="8420448">,</span>&nbsp;<span class="op" id="8420450">[</span><span class="op" id="8420451">]</span><span class="builtintype" id="8420452">byte</span><span class="op" id="8420456">{</span><span class="num" id="8420457">0xF8</span><span class="op" id="8420461">,</span>&nbsp;<span class="num" id="8420463">0xFF</span><span class="op" id="8420467">,</span>&nbsp;<span class="num" id="8420469">0xFF</span><span class="op" id="8420473">,</span>&nbsp;<span class="num" id="8420475">0xFF</span><span class="op" id="8420479">,</span>&nbsp;<span class="num" id="8420481">0xFF</span><span class="op" id="8420485">,</span>&nbsp;<span class="num" id="8420487">0xFF</span><span class="op" id="8420491">,</span>&nbsp;<span class="num" id="8420493">0xFF</span><span class="op" id="8420497">,</span>&nbsp;<span class="num" id="8420499">0xFF</span><span class="op" id="8420503">,</span>&nbsp;<span class="num" id="8420505">0xFF</span><span class="op" id="8420509">}</span><span class="op" id="8420510">}</span><span class="op" id="8420511">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420514">{</span><span class="num" id="8420515">0x1111</span><span class="op" id="8420521">,</span>&nbsp;<span class="op" id="8420523">[</span><span class="op" id="8420524">]</span><span class="builtintype" id="8420525">byte</span><span class="op" id="8420529">{</span><span class="num" id="8420530">0xFE</span><span class="op" id="8420534">,</span>&nbsp;<span class="num" id="8420536">0x11</span><span class="op" id="8420540">,</span>&nbsp;<span class="num" id="8420542">0x11</span><span class="op" id="8420546">}</span><span class="op" id="8420547">}</span><span class="op" id="8420548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420551">{</span><span class="num" id="8420552">0x1111111111111111</span><span class="op" id="8420570">,</span>&nbsp;<span class="op" id="8420572">[</span><span class="op" id="8420573">]</span><span class="builtintype" id="8420574">byte</span><span class="op" id="8420578">{</span><span class="num" id="8420579">0xF8</span><span class="op" id="8420583">,</span>&nbsp;<span class="num" id="8420585">0x11</span><span class="op" id="8420589">,</span>&nbsp;<span class="num" id="8420591">0x11</span><span class="op" id="8420595">,</span>&nbsp;<span class="num" id="8420597">0x11</span><span class="op" id="8420601">,</span>&nbsp;<span class="num" id="8420603">0x11</span><span class="op" id="8420607">,</span>&nbsp;<span class="num" id="8420609">0x11</span><span class="op" id="8420613">,</span>&nbsp;<span class="num" id="8420615">0x11</span><span class="op" id="8420619">,</span>&nbsp;<span class="num" id="8420621">0x11</span><span class="op" id="8420625">,</span>&nbsp;<span class="num" id="8420627">0x11</span><span class="op" id="8420631">}</span><span class="op" id="8420632">}</span><span class="op" id="8420633">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420636">{</span><span class="num" id="8420637">0x8888888888888888</span><span class="op" id="8420655">,</span>&nbsp;<span class="op" id="8420657">[</span><span class="op" id="8420658">]</span><span class="builtintype" id="8420659">byte</span><span class="op" id="8420663">{</span><span class="num" id="8420664">0xF8</span><span class="op" id="8420668">,</span>&nbsp;<span class="num" id="8420670">0x88</span><span class="op" id="8420674">,</span>&nbsp;<span class="num" id="8420676">0x88</span><span class="op" id="8420680">,</span>&nbsp;<span class="num" id="8420682">0x88</span><span class="op" id="8420686">,</span>&nbsp;<span class="num" id="8420688">0x88</span><span class="op" id="8420692">,</span>&nbsp;<span class="num" id="8420694">0x88</span><span class="op" id="8420698">,</span>&nbsp;<span class="num" id="8420700">0x88</span><span class="op" id="8420704">,</span>&nbsp;<span class="num" id="8420706">0x88</span><span class="op" id="8420710">,</span>&nbsp;<span class="num" id="8420712">0x88</span><span class="op" id="8420716">}</span><span class="op" id="8420717">}</span><span class="op" id="8420718">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8420721">{</span><span class="num" id="8420722">1</span>&nbsp;<span class="op" id="8420724">&lt;&lt;</span>&nbsp;<span class="num" id="8420727">63</span><span class="op" id="8420729">,</span>&nbsp;<span class="op" id="8420731">[</span><span class="op" id="8420732">]</span><span class="builtintype" id="8420733">byte</span><span class="op" id="8420737">{</span><span class="num" id="8420738">0xF8</span><span class="op" id="8420742">,</span>&nbsp;<span class="num" id="8420744">0x80</span><span class="op" id="8420748">,</span>&nbsp;<span class="num" id="8420750">0x00</span><span class="op" id="8420754">,</span>&nbsp;<span class="num" id="8420756">0x00</span><span class="op" id="8420760">,</span>&nbsp;<span class="num" id="8420762">0x00</span><span class="op" id="8420766">,</span>&nbsp;<span class="num" id="8420768">0x00</span><span class="op" id="8420772">,</span>&nbsp;<span class="num" id="8420774">0x00</span><span class="op" id="8420778">,</span>&nbsp;<span class="num" id="8420780">0x00</span><span class="op" id="8420784">,</span>&nbsp;<span class="num" id="8420786">0x00</span><span class="op" id="8420790">}</span><span class="op" id="8420791">}</span><span class="op" id="8420792">,</span><br>
<span class="lineno"></span><span class="op" id="8420794">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8420797">//&nbsp;testError&nbsp;is&nbsp;meant&nbsp;to&nbsp;be&nbsp;used&nbsp;as&nbsp;a&nbsp;deferred&nbsp;function&nbsp;to&nbsp;turn&nbsp;a&nbsp;panic(gobError)&nbsp;into&nbsp;a</span><br>
<span class="lineno">45</span><span class="comment" id="8420886">//&nbsp;plain&nbsp;test.Error&nbsp;call.</span><br>
<span class="lineno"></span><span class="keyword" id="8420912">func</span>&nbsp;<span class="ident" id="8420917">testError</span><span class="op" id="8420926">(</span><span class="ident" id="8420927">t</span>&nbsp;<span class="op" id="8420929">*</span><span class="ident" id="8420930">testing</span><span class="op" id="8420937">.</span><span class="ident" id="8420938">T</span><span class="op" id="8420939">)</span>&nbsp;<span class="op" id="8420941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8420944">if</span>&nbsp;<span class="ident" id="8420947">e</span>&nbsp;<span class="op" id="8420949">:=</span>&nbsp;<span class="builtinfunc" id="8420952">recover</span><span class="op" id="8420959">(</span><span class="op" id="8420960">)</span><span class="op" id="8420961">;</span>&nbsp;<span class="ident" id="8420963">e</span>&nbsp;<span class="op" id="8420965">!=</span>&nbsp;<span class="ident" id="8420968">nil</span>&nbsp;<span class="op" id="8420972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8420976">t</span><span class="op" id="8420977">.</span><span class="ident" id="8420978">Error</span><span class="op" id="8420983">(</span><span class="ident" id="8420984">e</span><span class="op" id="8420985">.</span><span class="op" id="8420986">(</span><span class="ident" id="8420987">gobError</span><span class="op" id="8420995">)</span><span class="op" id="8420996">.</span><span class="ident" id="8420997">err</span><span class="op" id="8421000">)</span>&nbsp;<span class="comment" id="8421002">//&nbsp;Will&nbsp;re-panic&nbsp;if&nbsp;not&nbsp;one&nbsp;of&nbsp;our&nbsp;errors,&nbsp;such&nbsp;as&nbsp;a&nbsp;runtime&nbsp;error.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421071">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421074">return</span><br>
<span class="lineno"></span><span class="op" id="8421081">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8421084">func</span>&nbsp;<span class="ident" id="8421089">newDecBuffer</span><span class="op" id="8421101">(</span><span class="ident" id="8421102">data</span>&nbsp;<span class="op" id="8421107">[</span><span class="op" id="8421108">]</span><span class="builtintype" id="8421109">byte</span><span class="op" id="8421113">)</span>&nbsp;<span class="op" id="8421115">*</span><span class="ident" id="8421116">decBuffer</span>&nbsp;<span class="op" id="8421126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421129">return</span>&nbsp;<span class="op" id="8421136">&amp;</span><span class="ident" id="8421137">decBuffer</span><span class="op" id="8421146">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421150">data</span><span class="op" id="8421154">:</span>&nbsp;<span class="ident" id="8421156">data</span><span class="op" id="8421160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421163">}</span><br>
<span class="lineno"></span><span class="op" id="8421165">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8421168">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;unsigned&nbsp;integers</span><br>
<span class="lineno">60</span><span class="keyword" id="8421227">func</span>&nbsp;<span class="ident" id="8421232">TestUintCodec</span><span class="op" id="8421245">(</span><span class="ident" id="8421246">t</span>&nbsp;<span class="op" id="8421248">*</span><span class="ident" id="8421249">testing</span><span class="op" id="8421256">.</span><span class="ident" id="8421257">T</span><span class="op" id="8421258">)</span>&nbsp;<span class="op" id="8421260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421263">defer</span>&nbsp;<span class="ident" id="8421269">testError</span><span class="op" id="8421278">(</span><span class="ident" id="8421279">t</span><span class="op" id="8421280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421283">b</span>&nbsp;<span class="op" id="8421285">:=</span>&nbsp;<span class="builtinfunc" id="8421288">new</span><span class="op" id="8421291">(</span><span class="ident" id="8421292">encBuffer</span><span class="op" id="8421301">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421304">encState</span>&nbsp;<span class="op" id="8421313">:=</span>&nbsp;<span class="ident" id="8421316">newEncoderState</span><span class="op" id="8421331">(</span><span class="ident" id="8421332">b</span><span class="op" id="8421333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421336">for</span>&nbsp;<span class="ident" id="8421340">_</span><span class="op" id="8421341">,</span>&nbsp;<span class="ident" id="8421343">tt</span>&nbsp;<span class="op" id="8421346">:=</span>&nbsp;<span class="keyword" id="8421349">range</span>&nbsp;<span class="ident" id="8421355">encodeT</span>&nbsp;<span class="op" id="8421363">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421367">b</span><span class="op" id="8421368">.</span><span class="ident" id="8421369">Reset</span><span class="op" id="8421374">(</span><span class="op" id="8421375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421379">encState</span><span class="op" id="8421387">.</span><span class="ident" id="8421388">encodeUint</span><span class="op" id="8421398">(</span><span class="ident" id="8421399">tt</span><span class="op" id="8421401">.</span><span class="ident" id="8421402">x</span><span class="op" id="8421403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421407">if</span>&nbsp;<span class="op" id="8421410">!</span><span class="ident" id="8421411">bytes</span><span class="op" id="8421416">.</span><span class="ident" id="8421417">Equal</span><span class="op" id="8421422">(</span><span class="ident" id="8421423">tt</span><span class="op" id="8421425">.</span><span class="ident" id="8421426">b</span><span class="op" id="8421427">,</span>&nbsp;<span class="ident" id="8421429">b</span><span class="op" id="8421430">.</span><span class="ident" id="8421431">Bytes</span><span class="op" id="8421436">(</span><span class="op" id="8421437">)</span><span class="op" id="8421438">)</span>&nbsp;<span class="op" id="8421440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421445">t</span><span class="op" id="8421446">.</span><span class="ident" id="8421447">Errorf</span><span class="op" id="8421453">(</span><span class="string" id="8421454">&#34;encodeUint:&nbsp;%#x&nbsp;encode:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8421500">,</span>&nbsp;<span class="ident" id="8421502">tt</span><span class="op" id="8421504">.</span><span class="ident" id="8421505">x</span><span class="op" id="8421506">,</span>&nbsp;<span class="ident" id="8421508">tt</span><span class="op" id="8421510">.</span><span class="ident" id="8421511">b</span><span class="op" id="8421512">,</span>&nbsp;<span class="ident" id="8421514">b</span><span class="op" id="8421515">.</span><span class="ident" id="8421516">Bytes</span><span class="op" id="8421521">(</span><span class="op" id="8421522">)</span><span class="op" id="8421523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421527">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421533">for</span>&nbsp;<span class="ident" id="8421537">u</span>&nbsp;<span class="op" id="8421539">:=</span>&nbsp;<span class="ident" id="8421542">uint64</span><span class="op" id="8421548">(</span><span class="num" id="8421549">0</span><span class="op" id="8421550">)</span><span class="op" id="8421551">;</span>&nbsp;<span class="op" id="8421553">;</span>&nbsp;<span class="ident" id="8421555">u</span>&nbsp;<span class="op" id="8421557">=</span>&nbsp;<span class="op" id="8421559">(</span><span class="ident" id="8421560">u</span>&nbsp;<span class="op" id="8421562">+</span>&nbsp;<span class="num" id="8421564">1</span><span class="op" id="8421565">)</span>&nbsp;<span class="op" id="8421567">*</span>&nbsp;<span class="num" id="8421569">7</span>&nbsp;<span class="op" id="8421571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421575">b</span><span class="op" id="8421576">.</span><span class="ident" id="8421577">Reset</span><span class="op" id="8421582">(</span><span class="op" id="8421583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421587">encState</span><span class="op" id="8421595">.</span><span class="ident" id="8421596">encodeUint</span><span class="op" id="8421606">(</span><span class="ident" id="8421607">u</span><span class="op" id="8421608">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421612">decState</span>&nbsp;<span class="op" id="8421621">:=</span>&nbsp;<span class="ident" id="8421624">newDecodeState</span><span class="op" id="8421638">(</span><span class="ident" id="8421639">newDecBuffer</span><span class="op" id="8421651">(</span><span class="ident" id="8421652">b</span><span class="op" id="8421653">.</span><span class="ident" id="8421654">Bytes</span><span class="op" id="8421659">(</span><span class="op" id="8421660">)</span><span class="op" id="8421661">)</span><span class="op" id="8421662">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421666">v</span>&nbsp;<span class="op" id="8421668">:=</span>&nbsp;<span class="ident" id="8421671">decState</span><span class="op" id="8421679">.</span><span class="ident" id="8421680">decodeUint</span><span class="op" id="8421690">(</span><span class="op" id="8421691">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421695">if</span>&nbsp;<span class="ident" id="8421698">u</span>&nbsp;<span class="op" id="8421700">!=</span>&nbsp;<span class="ident" id="8421703">v</span>&nbsp;<span class="op" id="8421705">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421710">t</span><span class="op" id="8421711">.</span><span class="ident" id="8421712">Errorf</span><span class="op" id="8421718">(</span><span class="string" id="8421719">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8421757">,</span>&nbsp;<span class="ident" id="8421759">u</span><span class="op" id="8421760">,</span>&nbsp;<span class="ident" id="8421762">v</span><span class="op" id="8421763">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421771">if</span>&nbsp;<span class="ident" id="8421774">u</span><span class="op" id="8421775">&amp;</span><span class="op" id="8421776">(</span><span class="num" id="8421777">1</span><span class="op" id="8421778">&lt;&lt;</span><span class="num" id="8421780">63</span><span class="op" id="8421782">)</span>&nbsp;<span class="op" id="8421784">!=</span>&nbsp;<span class="num" id="8421787">0</span>&nbsp;<span class="op" id="8421789">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421794">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8421805">}</span><br>
<span class="lineno"></span><span class="op" id="8421807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="keyword" id="8421810">func</span>&nbsp;<span class="ident" id="8421815">verifyInt</span><span class="op" id="8421824">(</span><span class="ident" id="8421825">i</span>&nbsp;<span class="ident" id="8421827">int64</span><span class="op" id="8421832">,</span>&nbsp;<span class="ident" id="8421834">t</span>&nbsp;<span class="op" id="8421836">*</span><span class="ident" id="8421837">testing</span><span class="op" id="8421844">.</span><span class="ident" id="8421845">T</span><span class="op" id="8421846">)</span>&nbsp;<span class="op" id="8421848">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421851">defer</span>&nbsp;<span class="ident" id="8421857">testError</span><span class="op" id="8421866">(</span><span class="ident" id="8421867">t</span><span class="op" id="8421868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8421871">var</span>&nbsp;<span class="ident" id="8421875">b</span>&nbsp;<span class="op" id="8421877">=</span>&nbsp;<span class="builtinfunc" id="8421879">new</span><span class="op" id="8421882">(</span><span class="ident" id="8421883">encBuffer</span><span class="op" id="8421892">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421895">encState</span>&nbsp;<span class="op" id="8421904">:=</span>&nbsp;<span class="ident" id="8421907">newEncoderState</span><span class="op" id="8421922">(</span><span class="ident" id="8421923">b</span><span class="op" id="8421924">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421927">encState</span><span class="op" id="8421935">.</span><span class="ident" id="8421936">encodeInt</span><span class="op" id="8421945">(</span><span class="ident" id="8421946">i</span><span class="op" id="8421947">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8421950">decState</span>&nbsp;<span class="op" id="8421959">:=</span>&nbsp;<span class="ident" id="8421962">newDecodeState</span><span class="op" id="8421976">(</span><span class="ident" id="8421977">newDecBuffer</span><span class="op" id="8421989">(</span><span class="ident" id="8421990">b</span><span class="op" id="8421991">.</span><span class="ident" id="8421992">Bytes</span><span class="op" id="8421997">(</span><span class="op" id="8421998">)</span><span class="op" id="8421999">)</span><span class="op" id="8422000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422003">decState</span><span class="op" id="8422011">.</span><span class="ident" id="8422012">buf</span>&nbsp;<span class="op" id="8422016">=</span>&nbsp;<span class="builtinfunc" id="8422018">make</span><span class="op" id="8422022">(</span><span class="op" id="8422023">[</span><span class="op" id="8422024">]</span><span class="builtintype" id="8422025">byte</span><span class="op" id="8422029">,</span>&nbsp;<span class="num" id="8422031">8</span><span class="op" id="8422032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422035">j</span>&nbsp;<span class="op" id="8422037">:=</span>&nbsp;<span class="ident" id="8422040">decState</span><span class="op" id="8422048">.</span><span class="ident" id="8422049">decodeInt</span><span class="op" id="8422058">(</span><span class="op" id="8422059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8422062">if</span>&nbsp;<span class="ident" id="8422065">i</span>&nbsp;<span class="op" id="8422067">!=</span>&nbsp;<span class="ident" id="8422070">j</span>&nbsp;<span class="op" id="8422072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422076">t</span><span class="op" id="8422077">.</span><span class="ident" id="8422078">Errorf</span><span class="op" id="8422084">(</span><span class="string" id="8422085">&#34;Encode/Decode:&nbsp;sent&nbsp;%#x&nbsp;received&nbsp;%#x&#34;</span><span class="op" id="8422123">,</span>&nbsp;<span class="ident" id="8422125">uint64</span><span class="op" id="8422131">(</span><span class="ident" id="8422132">i</span><span class="op" id="8422133">)</span><span class="op" id="8422134">,</span>&nbsp;<span class="ident" id="8422136">uint64</span><span class="op" id="8422142">(</span><span class="ident" id="8422143">j</span><span class="op" id="8422144">)</span><span class="op" id="8422145">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422148">}</span><br>
<span class="lineno"></span><span class="op" id="8422150">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8422153">//&nbsp;Test&nbsp;basic&nbsp;encode/decode&nbsp;routines&nbsp;for&nbsp;signed&nbsp;integers</span><br>
<span class="lineno"></span><span class="keyword" id="8422210">func</span>&nbsp;<span class="ident" id="8422215">TestIntCodec</span><span class="op" id="8422227">(</span><span class="ident" id="8422228">t</span>&nbsp;<span class="op" id="8422230">*</span><span class="ident" id="8422231">testing</span><span class="op" id="8422238">.</span><span class="ident" id="8422239">T</span><span class="op" id="8422240">)</span>&nbsp;<span class="op" id="8422242">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8422245">for</span>&nbsp;<span class="ident" id="8422249">u</span>&nbsp;<span class="op" id="8422251">:=</span>&nbsp;<span class="ident" id="8422254">uint64</span><span class="op" id="8422260">(</span><span class="num" id="8422261">0</span><span class="op" id="8422262">)</span><span class="op" id="8422263">;</span>&nbsp;<span class="op" id="8422265">;</span>&nbsp;<span class="ident" id="8422267">u</span>&nbsp;<span class="op" id="8422269">=</span>&nbsp;<span class="op" id="8422271">(</span><span class="ident" id="8422272">u</span>&nbsp;<span class="op" id="8422274">+</span>&nbsp;<span class="num" id="8422276">1</span><span class="op" id="8422277">)</span>&nbsp;<span class="op" id="8422279">*</span>&nbsp;<span class="num" id="8422281">7</span>&nbsp;<span class="op" id="8422283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8422287">//&nbsp;Do&nbsp;positive&nbsp;and&nbsp;negative&nbsp;values</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422324">i</span>&nbsp;<span class="op" id="8422326">:=</span>&nbsp;<span class="ident" id="8422329">int64</span><span class="op" id="8422334">(</span><span class="ident" id="8422335">u</span><span class="op" id="8422336">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422340">verifyInt</span><span class="op" id="8422349">(</span><span class="ident" id="8422350">i</span><span class="op" id="8422351">,</span>&nbsp;<span class="ident" id="8422353">t</span><span class="op" id="8422354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422358">verifyInt</span><span class="op" id="8422367">(</span><span class="op" id="8422368">-</span><span class="ident" id="8422369">i</span><span class="op" id="8422370">,</span>&nbsp;<span class="ident" id="8422372">t</span><span class="op" id="8422373">)</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422377">verifyInt</span><span class="op" id="8422386">(</span><span class="op" id="8422387">^</span><span class="ident" id="8422388">i</span><span class="op" id="8422389">,</span>&nbsp;<span class="ident" id="8422391">t</span><span class="op" id="8422392">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8422396">if</span>&nbsp;<span class="ident" id="8422399">u</span><span class="op" id="8422400">&amp;</span><span class="op" id="8422401">(</span><span class="num" id="8422402">1</span><span class="op" id="8422403">&lt;&lt;</span><span class="num" id="8422405">63</span><span class="op" id="8422407">)</span>&nbsp;<span class="op" id="8422409">!=</span>&nbsp;<span class="num" id="8422412">0</span>&nbsp;<span class="op" id="8422414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8422419">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422427">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8422430">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8422433">verifyInt</span><span class="op" id="8422442">(</span><span class="op" id="8422443">-</span><span class="num" id="8422444">1</span><span class="op" id="8422445">&lt;&lt;</span><span class="num" id="8422447">63</span><span class="op" id="8422449">,</span>&nbsp;<span class="ident" id="8422451">t</span><span class="op" id="8422452">)</span>&nbsp;<span class="comment" id="8422454">//&nbsp;a&nbsp;tricky&nbsp;case</span><br>
<span class="lineno"></span><span class="op" id="8422471">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8422474">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;true&nbsp;boolean&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8422535">var</span>&nbsp;<span class="ident" id="8422539">boolResult</span>&nbsp;<span class="op" id="8422550">=</span>&nbsp;<span class="op" id="8422552">[</span><span class="op" id="8422553">]</span><span class="builtintype" id="8422554">byte</span><span class="op" id="8422558">{</span><span class="num" id="8422559">0x07</span><span class="op" id="8422563">,</span>&nbsp;<span class="num" id="8422565">0x01</span><span class="op" id="8422569">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="8422572">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8422630">var</span>&nbsp;<span class="ident" id="8422634">signedResult</span>&nbsp;<span class="op" id="8422647">=</span>&nbsp;<span class="op" id="8422649">[</span><span class="op" id="8422650">]</span><span class="builtintype" id="8422651">byte</span><span class="op" id="8422655">{</span><span class="num" id="8422656">0x07</span><span class="op" id="8422660">,</span>&nbsp;<span class="num" id="8422662">2</span>&nbsp;<span class="op" id="8422664">*</span>&nbsp;<span class="num" id="8422666">17</span><span class="op" id="8422668">}</span><br>
<span class="lineno"></span><span class="keyword" id="8422670">var</span>&nbsp;<span class="ident" id="8422674">unsignedResult</span>&nbsp;<span class="op" id="8422689">=</span>&nbsp;<span class="op" id="8422691">[</span><span class="op" id="8422692">]</span><span class="builtintype" id="8422693">byte</span><span class="op" id="8422697">{</span><span class="num" id="8422698">0x07</span><span class="op" id="8422702">,</span>&nbsp;<span class="num" id="8422704">17</span><span class="op" id="8422706">}</span><br>
<span class="lineno"></span><span class="keyword" id="8422708">var</span>&nbsp;<span class="ident" id="8422712">floatResult</span>&nbsp;<span class="op" id="8422724">=</span>&nbsp;<span class="op" id="8422726">[</span><span class="op" id="8422727">]</span><span class="builtintype" id="8422728">byte</span><span class="op" id="8422732">{</span><span class="num" id="8422733">0x07</span><span class="op" id="8422737">,</span>&nbsp;<span class="num" id="8422739">0xFE</span><span class="op" id="8422743">,</span>&nbsp;<span class="num" id="8422745">0x31</span><span class="op" id="8422749">,</span>&nbsp;<span class="num" id="8422751">0x40</span><span class="op" id="8422755">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="8422758">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;a&nbsp;number&nbsp;17+19i&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno"></span><span class="keyword" id="8422820">var</span>&nbsp;<span class="ident" id="8422824">complexResult</span>&nbsp;<span class="op" id="8422838">=</span>&nbsp;<span class="op" id="8422840">[</span><span class="op" id="8422841">]</span><span class="builtintype" id="8422842">byte</span><span class="op" id="8422846">{</span><span class="num" id="8422847">0x07</span><span class="op" id="8422851">,</span>&nbsp;<span class="num" id="8422853">0xFE</span><span class="op" id="8422857">,</span>&nbsp;<span class="num" id="8422859">0x31</span><span class="op" id="8422863">,</span>&nbsp;<span class="num" id="8422865">0x40</span><span class="op" id="8422869">,</span>&nbsp;<span class="num" id="8422871">0xFE</span><span class="op" id="8422875">,</span>&nbsp;<span class="num" id="8422877">0x33</span><span class="op" id="8422881">,</span>&nbsp;<span class="num" id="8422883">0x40</span><span class="op" id="8422887">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8422890">//&nbsp;The&nbsp;result&nbsp;of&nbsp;encoding&nbsp;&#34;hello&#34;&nbsp;with&nbsp;field&nbsp;number&nbsp;7</span><br>
<span class="lineno">125</span><span class="keyword" id="8422944">var</span>&nbsp;<span class="ident" id="8422948">bytesResult</span>&nbsp;<span class="op" id="8422960">=</span>&nbsp;<span class="op" id="8422962">[</span><span class="op" id="8422963">]</span><span class="builtintype" id="8422964">byte</span><span class="op" id="8422968">{</span><span class="num" id="8422969">0x07</span><span class="op" id="8422973">,</span>&nbsp;<span class="num" id="8422975">0x05</span><span class="op" id="8422979">,</span>&nbsp;<span class="string" id="8422981">&#39;h&#39;</span><span class="op" id="8422984">,</span>&nbsp;<span class="string" id="8422986">&#39;e&#39;</span><span class="op" id="8422989">,</span>&nbsp;<span class="string" id="8422991">&#39;l&#39;</span><span class="op" id="8422994">,</span>&nbsp;<span class="string" id="8422996">&#39;l&#39;</span><span class="op" id="8422999">,</span>&nbsp;<span class="string" id="8423001">&#39;o&#39;</span><span class="op" id="8423004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8423007">func</span>&nbsp;<span class="ident" id="8423012">newDecodeState</span><span class="op" id="8423026">(</span><span class="ident" id="8423027">buf</span>&nbsp;<span class="op" id="8423031">*</span><span class="ident" id="8423032">decBuffer</span><span class="op" id="8423041">)</span>&nbsp;<span class="op" id="8423043">*</span><span class="ident" id="8423044">decoderState</span>&nbsp;<span class="op" id="8423057">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423060">d</span>&nbsp;<span class="op" id="8423062">:=</span>&nbsp;<span class="builtinfunc" id="8423065">new</span><span class="op" id="8423068">(</span><span class="ident" id="8423069">decoderState</span><span class="op" id="8423081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423084">d</span><span class="op" id="8423085">.</span><span class="ident" id="8423086">b</span>&nbsp;<span class="op" id="8423088">=</span>&nbsp;<span class="ident" id="8423090">buf</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423095">d</span><span class="op" id="8423096">.</span><span class="ident" id="8423097">buf</span>&nbsp;<span class="op" id="8423101">=</span>&nbsp;<span class="builtinfunc" id="8423103">make</span><span class="op" id="8423107">(</span><span class="op" id="8423108">[</span><span class="op" id="8423109">]</span><span class="builtintype" id="8423110">byte</span><span class="op" id="8423114">,</span>&nbsp;<span class="ident" id="8423116">uint64Size</span><span class="op" id="8423126">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423129">return</span>&nbsp;<span class="ident" id="8423136">d</span><br>
<span class="lineno"></span><span class="op" id="8423138">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8423141">func</span>&nbsp;<span class="ident" id="8423146">newEncoderState</span><span class="op" id="8423161">(</span><span class="ident" id="8423162">b</span>&nbsp;<span class="op" id="8423164">*</span><span class="ident" id="8423165">encBuffer</span><span class="op" id="8423174">)</span>&nbsp;<span class="op" id="8423176">*</span><span class="ident" id="8423177">encoderState</span>&nbsp;<span class="op" id="8423190">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423193">b</span><span class="op" id="8423194">.</span><span class="ident" id="8423195">Reset</span><span class="op" id="8423200">(</span><span class="op" id="8423201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423204">state</span>&nbsp;<span class="op" id="8423210">:=</span>&nbsp;<span class="op" id="8423213">&amp;</span><span class="ident" id="8423214">encoderState</span><span class="op" id="8423226">{</span><span class="ident" id="8423227">enc</span><span class="op" id="8423230">:</span>&nbsp;<span class="ident" id="8423232">nil</span><span class="op" id="8423235">,</span>&nbsp;<span class="ident" id="8423237">b</span><span class="op" id="8423238">:</span>&nbsp;<span class="ident" id="8423240">b</span><span class="op" id="8423241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423244">state</span><span class="op" id="8423249">.</span><span class="ident" id="8423250">fieldnum</span>&nbsp;<span class="op" id="8423259">=</span>&nbsp;<span class="op" id="8423261">-</span><span class="num" id="8423262">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423265">return</span>&nbsp;<span class="ident" id="8423272">state</span><br>
<span class="lineno"></span><span class="op" id="8423278">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="8423281">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;encoding.</span><br>
<span class="lineno"></span><span class="comment" id="8423325">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno"></span><span class="keyword" id="8423408">func</span>&nbsp;<span class="ident" id="8423413">TestScalarEncInstructions</span><span class="op" id="8423438">(</span><span class="ident" id="8423439">t</span>&nbsp;<span class="op" id="8423441">*</span><span class="ident" id="8423442">testing</span><span class="op" id="8423449">.</span><span class="ident" id="8423450">T</span><span class="op" id="8423451">)</span>&nbsp;<span class="op" id="8423453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423456">var</span>&nbsp;<span class="ident" id="8423460">b</span>&nbsp;<span class="op" id="8423462">=</span>&nbsp;<span class="builtinfunc" id="8423464">new</span><span class="op" id="8423467">(</span><span class="ident" id="8423468">encBuffer</span><span class="op" id="8423477">)</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423481">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423494">var</span>&nbsp;<span class="ident" id="8423498">data</span>&nbsp;<span class="builtintype" id="8423503">bool</span>&nbsp;<span class="op" id="8423508">=</span>&nbsp;<span class="builtintype" id="8423510">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423517">instr</span>&nbsp;<span class="op" id="8423523">:=</span>&nbsp;<span class="op" id="8423526">&amp;</span><span class="ident" id="8423527">encInstr</span><span class="op" id="8423535">{</span><span class="ident" id="8423536">encBool</span><span class="op" id="8423543">,</span>&nbsp;<span class="num" id="8423545">6</span><span class="op" id="8423546">,</span>&nbsp;<span class="ident" id="8423548">nil</span><span class="op" id="8423551">,</span>&nbsp;<span class="num" id="8423553">0</span><span class="op" id="8423554">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423558">state</span>&nbsp;<span class="op" id="8423564">:=</span>&nbsp;<span class="ident" id="8423567">newEncoderState</span><span class="op" id="8423582">(</span><span class="ident" id="8423583">b</span><span class="op" id="8423584">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423588">instr</span><span class="op" id="8423593">.</span><span class="ident" id="8423594">op</span><span class="op" id="8423596">(</span><span class="ident" id="8423597">instr</span><span class="op" id="8423602">,</span>&nbsp;<span class="ident" id="8423604">state</span><span class="op" id="8423609">,</span>&nbsp;<span class="ident" id="8423611">reflect</span><span class="op" id="8423618">.</span><span class="ident" id="8423619">ValueOf</span><span class="op" id="8423626">(</span><span class="ident" id="8423627">data</span><span class="op" id="8423631">)</span><span class="op" id="8423632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423636">if</span>&nbsp;<span class="op" id="8423639">!</span><span class="ident" id="8423640">bytes</span><span class="op" id="8423645">.</span><span class="ident" id="8423646">Equal</span><span class="op" id="8423651">(</span><span class="ident" id="8423652">boolResult</span><span class="op" id="8423662">,</span>&nbsp;<span class="ident" id="8423664">b</span><span class="op" id="8423665">.</span><span class="ident" id="8423666">Bytes</span><span class="op" id="8423671">(</span><span class="op" id="8423672">)</span><span class="op" id="8423673">)</span>&nbsp;<span class="op" id="8423675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423680">t</span><span class="op" id="8423681">.</span><span class="ident" id="8423682">Errorf</span><span class="op" id="8423688">(</span><span class="string" id="8423689">&#34;bool&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8423734">,</span>&nbsp;<span class="ident" id="8423736">boolResult</span><span class="op" id="8423746">,</span>&nbsp;<span class="ident" id="8423748">b</span><span class="op" id="8423749">.</span><span class="ident" id="8423750">Bytes</span><span class="op" id="8423755">(</span><span class="op" id="8423756">)</span><span class="op" id="8423757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423761">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423764">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8423768">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8423776">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423780">b</span><span class="op" id="8423781">.</span><span class="ident" id="8423782">Reset</span><span class="op" id="8423787">(</span><span class="op" id="8423788">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423792">var</span>&nbsp;<span class="ident" id="8423796">data</span>&nbsp;<span class="builtintype" id="8423801">int</span>&nbsp;<span class="op" id="8423805">=</span>&nbsp;<span class="num" id="8423807">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423812">instr</span>&nbsp;<span class="op" id="8423818">:=</span>&nbsp;<span class="op" id="8423821">&amp;</span><span class="ident" id="8423822">encInstr</span><span class="op" id="8423830">{</span><span class="ident" id="8423831">encInt</span><span class="op" id="8423837">,</span>&nbsp;<span class="num" id="8423839">6</span><span class="op" id="8423840">,</span>&nbsp;<span class="ident" id="8423842">nil</span><span class="op" id="8423845">,</span>&nbsp;<span class="num" id="8423847">0</span><span class="op" id="8423848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423852">state</span>&nbsp;<span class="op" id="8423858">:=</span>&nbsp;<span class="ident" id="8423861">newEncoderState</span><span class="op" id="8423876">(</span><span class="ident" id="8423877">b</span><span class="op" id="8423878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423882">instr</span><span class="op" id="8423887">.</span><span class="ident" id="8423888">op</span><span class="op" id="8423890">(</span><span class="ident" id="8423891">instr</span><span class="op" id="8423896">,</span>&nbsp;<span class="ident" id="8423898">state</span><span class="op" id="8423903">,</span>&nbsp;<span class="ident" id="8423905">reflect</span><span class="op" id="8423912">.</span><span class="ident" id="8423913">ValueOf</span><span class="op" id="8423920">(</span><span class="ident" id="8423921">data</span><span class="op" id="8423925">)</span><span class="op" id="8423926">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8423930">if</span>&nbsp;<span class="op" id="8423933">!</span><span class="ident" id="8423934">bytes</span><span class="op" id="8423939">.</span><span class="ident" id="8423940">Equal</span><span class="op" id="8423945">(</span><span class="ident" id="8423946">signedResult</span><span class="op" id="8423958">,</span>&nbsp;<span class="ident" id="8423960">b</span><span class="op" id="8423961">.</span><span class="ident" id="8423962">Bytes</span><span class="op" id="8423967">(</span><span class="op" id="8423968">)</span><span class="op" id="8423969">)</span>&nbsp;<span class="op" id="8423971">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8423976">t</span><span class="op" id="8423977">.</span><span class="ident" id="8423978">Errorf</span><span class="op" id="8423984">(</span><span class="string" id="8423985">&#34;int&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8424029">,</span>&nbsp;<span class="ident" id="8424031">signedResult</span><span class="op" id="8424043">,</span>&nbsp;<span class="ident" id="8424045">b</span><span class="op" id="8424046">.</span><span class="ident" id="8424047">Bytes</span><span class="op" id="8424052">(</span><span class="op" id="8424053">)</span><span class="op" id="8424054">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424058">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424065">//&nbsp;uint</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424078">b</span><span class="op" id="8424079">.</span><span class="ident" id="8424080">Reset</span><span class="op" id="8424085">(</span><span class="op" id="8424086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8424090">var</span>&nbsp;<span class="ident" id="8424094">data</span>&nbsp;<span class="builtintype" id="8424099">uint</span>&nbsp;<span class="op" id="8424104">=</span>&nbsp;<span class="num" id="8424106">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424111">instr</span>&nbsp;<span class="op" id="8424117">:=</span>&nbsp;<span class="op" id="8424120">&amp;</span><span class="ident" id="8424121">encInstr</span><span class="op" id="8424129">{</span><span class="ident" id="8424130">encUint</span><span class="op" id="8424137">,</span>&nbsp;<span class="num" id="8424139">6</span><span class="op" id="8424140">,</span>&nbsp;<span class="ident" id="8424142">nil</span><span class="op" id="8424145">,</span>&nbsp;<span class="num" id="8424147">0</span><span class="op" id="8424148">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424152">state</span>&nbsp;<span class="op" id="8424158">:=</span>&nbsp;<span class="ident" id="8424161">newEncoderState</span><span class="op" id="8424176">(</span><span class="ident" id="8424177">b</span><span class="op" id="8424178">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424182">instr</span><span class="op" id="8424187">.</span><span class="ident" id="8424188">op</span><span class="op" id="8424190">(</span><span class="ident" id="8424191">instr</span><span class="op" id="8424196">,</span>&nbsp;<span class="ident" id="8424198">state</span><span class="op" id="8424203">,</span>&nbsp;<span class="ident" id="8424205">reflect</span><span class="op" id="8424212">.</span><span class="ident" id="8424213">ValueOf</span><span class="op" id="8424220">(</span><span class="ident" id="8424221">data</span><span class="op" id="8424225">)</span><span class="op" id="8424226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8424230">if</span>&nbsp;<span class="op" id="8424233">!</span><span class="ident" id="8424234">bytes</span><span class="op" id="8424239">.</span><span class="ident" id="8424240">Equal</span><span class="op" id="8424245">(</span><span class="ident" id="8424246">unsignedResult</span><span class="op" id="8424260">,</span>&nbsp;<span class="ident" id="8424262">b</span><span class="op" id="8424263">.</span><span class="ident" id="8424264">Bytes</span><span class="op" id="8424269">(</span><span class="op" id="8424270">)</span><span class="op" id="8424271">)</span>&nbsp;<span class="op" id="8424273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424278">t</span><span class="op" id="8424279">.</span><span class="ident" id="8424280">Errorf</span><span class="op" id="8424286">(</span><span class="string" id="8424287">&#34;uint&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8424332">,</span>&nbsp;<span class="ident" id="8424334">unsignedResult</span><span class="op" id="8424348">,</span>&nbsp;<span class="ident" id="8424350">b</span><span class="op" id="8424351">.</span><span class="ident" id="8424352">Bytes</span><span class="op" id="8424357">(</span><span class="op" id="8424358">)</span><span class="op" id="8424359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424363">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424366">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424370">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424383">b</span><span class="op" id="8424384">.</span><span class="ident" id="8424385">Reset</span><span class="op" id="8424390">(</span><span class="op" id="8424391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8424395">var</span>&nbsp;<span class="ident" id="8424399">data</span>&nbsp;<span class="builtintype" id="8424404">int8</span>&nbsp;<span class="op" id="8424409">=</span>&nbsp;<span class="num" id="8424411">17</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424416">instr</span>&nbsp;<span class="op" id="8424422">:=</span>&nbsp;<span class="op" id="8424425">&amp;</span><span class="ident" id="8424426">encInstr</span><span class="op" id="8424434">{</span><span class="ident" id="8424435">encInt</span><span class="op" id="8424441">,</span>&nbsp;<span class="num" id="8424443">6</span><span class="op" id="8424444">,</span>&nbsp;<span class="ident" id="8424446">nil</span><span class="op" id="8424449">,</span>&nbsp;<span class="num" id="8424451">0</span><span class="op" id="8424452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424456">state</span>&nbsp;<span class="op" id="8424462">:=</span>&nbsp;<span class="ident" id="8424465">newEncoderState</span><span class="op" id="8424480">(</span><span class="ident" id="8424481">b</span><span class="op" id="8424482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424486">instr</span><span class="op" id="8424491">.</span><span class="ident" id="8424492">op</span><span class="op" id="8424494">(</span><span class="ident" id="8424495">instr</span><span class="op" id="8424500">,</span>&nbsp;<span class="ident" id="8424502">state</span><span class="op" id="8424507">,</span>&nbsp;<span class="ident" id="8424509">reflect</span><span class="op" id="8424516">.</span><span class="ident" id="8424517">ValueOf</span><span class="op" id="8424524">(</span><span class="ident" id="8424525">data</span><span class="op" id="8424529">)</span><span class="op" id="8424530">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8424534">if</span>&nbsp;<span class="op" id="8424537">!</span><span class="ident" id="8424538">bytes</span><span class="op" id="8424543">.</span><span class="ident" id="8424544">Equal</span><span class="op" id="8424549">(</span><span class="ident" id="8424550">signedResult</span><span class="op" id="8424562">,</span>&nbsp;<span class="ident" id="8424564">b</span><span class="op" id="8424565">.</span><span class="ident" id="8424566">Bytes</span><span class="op" id="8424571">(</span><span class="op" id="8424572">)</span><span class="op" id="8424573">)</span>&nbsp;<span class="op" id="8424575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424580">t</span><span class="op" id="8424581">.</span><span class="ident" id="8424582">Errorf</span><span class="op" id="8424588">(</span><span class="string" id="8424589">&#34;int8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8424634">,</span>&nbsp;<span class="ident" id="8424636">signedResult</span><span class="op" id="8424648">,</span>&nbsp;<span class="ident" id="8424650">b</span><span class="op" id="8424651">.</span><span class="ident" id="8424652">Bytes</span><span class="op" id="8424657">(</span><span class="op" id="8424658">)</span><span class="op" id="8424659">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424670">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424680">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424684">b</span><span class="op" id="8424685">.</span><span class="ident" id="8424686">Reset</span><span class="op" id="8424691">(</span><span class="op" id="8424692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8424696">var</span>&nbsp;<span class="ident" id="8424700">data</span>&nbsp;<span class="builtintype" id="8424705">uint8</span>&nbsp;<span class="op" id="8424711">=</span>&nbsp;<span class="num" id="8424713">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424718">instr</span>&nbsp;<span class="op" id="8424724">:=</span>&nbsp;<span class="op" id="8424727">&amp;</span><span class="ident" id="8424728">encInstr</span><span class="op" id="8424736">{</span><span class="ident" id="8424737">encUint</span><span class="op" id="8424744">,</span>&nbsp;<span class="num" id="8424746">6</span><span class="op" id="8424747">,</span>&nbsp;<span class="ident" id="8424749">nil</span><span class="op" id="8424752">,</span>&nbsp;<span class="num" id="8424754">0</span><span class="op" id="8424755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424759">state</span>&nbsp;<span class="op" id="8424765">:=</span>&nbsp;<span class="ident" id="8424768">newEncoderState</span><span class="op" id="8424783">(</span><span class="ident" id="8424784">b</span><span class="op" id="8424785">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424789">instr</span><span class="op" id="8424794">.</span><span class="ident" id="8424795">op</span><span class="op" id="8424797">(</span><span class="ident" id="8424798">instr</span><span class="op" id="8424803">,</span>&nbsp;<span class="ident" id="8424805">state</span><span class="op" id="8424810">,</span>&nbsp;<span class="ident" id="8424812">reflect</span><span class="op" id="8424819">.</span><span class="ident" id="8424820">ValueOf</span><span class="op" id="8424827">(</span><span class="ident" id="8424828">data</span><span class="op" id="8424832">)</span><span class="op" id="8424833">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8424837">if</span>&nbsp;<span class="op" id="8424840">!</span><span class="ident" id="8424841">bytes</span><span class="op" id="8424846">.</span><span class="ident" id="8424847">Equal</span><span class="op" id="8424852">(</span><span class="ident" id="8424853">unsignedResult</span><span class="op" id="8424867">,</span>&nbsp;<span class="ident" id="8424869">b</span><span class="op" id="8424870">.</span><span class="ident" id="8424871">Bytes</span><span class="op" id="8424876">(</span><span class="op" id="8424877">)</span><span class="op" id="8424878">)</span>&nbsp;<span class="op" id="8424880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424885">t</span><span class="op" id="8424886">.</span><span class="ident" id="8424887">Errorf</span><span class="op" id="8424893">(</span><span class="string" id="8424894">&#34;uint8&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8424940">,</span>&nbsp;<span class="ident" id="8424942">unsignedResult</span><span class="op" id="8424956">,</span>&nbsp;<span class="ident" id="8424958">b</span><span class="op" id="8424959">.</span><span class="ident" id="8424960">Bytes</span><span class="op" id="8424965">(</span><span class="op" id="8424966">)</span><span class="op" id="8424967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424971">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424974">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8424978">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8424988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8424992">b</span><span class="op" id="8424993">.</span><span class="ident" id="8424994">Reset</span><span class="op" id="8424999">(</span><span class="op" id="8425000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425004">var</span>&nbsp;<span class="ident" id="8425008">data</span>&nbsp;<span class="builtintype" id="8425013">int16</span>&nbsp;<span class="op" id="8425019">=</span>&nbsp;<span class="num" id="8425021">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425026">instr</span>&nbsp;<span class="op" id="8425032">:=</span>&nbsp;<span class="op" id="8425035">&amp;</span><span class="ident" id="8425036">encInstr</span><span class="op" id="8425044">{</span><span class="ident" id="8425045">encInt</span><span class="op" id="8425051">,</span>&nbsp;<span class="num" id="8425053">6</span><span class="op" id="8425054">,</span>&nbsp;<span class="ident" id="8425056">nil</span><span class="op" id="8425059">,</span>&nbsp;<span class="num" id="8425061">0</span><span class="op" id="8425062">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425066">state</span>&nbsp;<span class="op" id="8425072">:=</span>&nbsp;<span class="ident" id="8425075">newEncoderState</span><span class="op" id="8425090">(</span><span class="ident" id="8425091">b</span><span class="op" id="8425092">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425096">instr</span><span class="op" id="8425101">.</span><span class="ident" id="8425102">op</span><span class="op" id="8425104">(</span><span class="ident" id="8425105">instr</span><span class="op" id="8425110">,</span>&nbsp;<span class="ident" id="8425112">state</span><span class="op" id="8425117">,</span>&nbsp;<span class="ident" id="8425119">reflect</span><span class="op" id="8425126">.</span><span class="ident" id="8425127">ValueOf</span><span class="op" id="8425134">(</span><span class="ident" id="8425135">data</span><span class="op" id="8425139">)</span><span class="op" id="8425140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425144">if</span>&nbsp;<span class="op" id="8425147">!</span><span class="ident" id="8425148">bytes</span><span class="op" id="8425153">.</span><span class="ident" id="8425154">Equal</span><span class="op" id="8425159">(</span><span class="ident" id="8425160">signedResult</span><span class="op" id="8425172">,</span>&nbsp;<span class="ident" id="8425174">b</span><span class="op" id="8425175">.</span><span class="ident" id="8425176">Bytes</span><span class="op" id="8425181">(</span><span class="op" id="8425182">)</span><span class="op" id="8425183">)</span>&nbsp;<span class="op" id="8425185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425190">t</span><span class="op" id="8425191">.</span><span class="ident" id="8425192">Errorf</span><span class="op" id="8425198">(</span><span class="string" id="8425199">&#34;int16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8425245">,</span>&nbsp;<span class="ident" id="8425247">signedResult</span><span class="op" id="8425259">,</span>&nbsp;<span class="ident" id="8425261">b</span><span class="op" id="8425262">.</span><span class="ident" id="8425263">Bytes</span><span class="op" id="8425268">(</span><span class="op" id="8425269">)</span><span class="op" id="8425270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425274">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8425281">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425296">b</span><span class="op" id="8425297">.</span><span class="ident" id="8425298">Reset</span><span class="op" id="8425303">(</span><span class="op" id="8425304">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425308">var</span>&nbsp;<span class="ident" id="8425312">data</span>&nbsp;<span class="builtintype" id="8425317">uint16</span>&nbsp;<span class="op" id="8425324">=</span>&nbsp;<span class="num" id="8425326">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425331">instr</span>&nbsp;<span class="op" id="8425337">:=</span>&nbsp;<span class="op" id="8425340">&amp;</span><span class="ident" id="8425341">encInstr</span><span class="op" id="8425349">{</span><span class="ident" id="8425350">encUint</span><span class="op" id="8425357">,</span>&nbsp;<span class="num" id="8425359">6</span><span class="op" id="8425360">,</span>&nbsp;<span class="ident" id="8425362">nil</span><span class="op" id="8425365">,</span>&nbsp;<span class="num" id="8425367">0</span><span class="op" id="8425368">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425372">state</span>&nbsp;<span class="op" id="8425378">:=</span>&nbsp;<span class="ident" id="8425381">newEncoderState</span><span class="op" id="8425396">(</span><span class="ident" id="8425397">b</span><span class="op" id="8425398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425402">instr</span><span class="op" id="8425407">.</span><span class="ident" id="8425408">op</span><span class="op" id="8425410">(</span><span class="ident" id="8425411">instr</span><span class="op" id="8425416">,</span>&nbsp;<span class="ident" id="8425418">state</span><span class="op" id="8425423">,</span>&nbsp;<span class="ident" id="8425425">reflect</span><span class="op" id="8425432">.</span><span class="ident" id="8425433">ValueOf</span><span class="op" id="8425440">(</span><span class="ident" id="8425441">data</span><span class="op" id="8425445">)</span><span class="op" id="8425446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425450">if</span>&nbsp;<span class="op" id="8425453">!</span><span class="ident" id="8425454">bytes</span><span class="op" id="8425459">.</span><span class="ident" id="8425460">Equal</span><span class="op" id="8425465">(</span><span class="ident" id="8425466">unsignedResult</span><span class="op" id="8425480">,</span>&nbsp;<span class="ident" id="8425482">b</span><span class="op" id="8425483">.</span><span class="ident" id="8425484">Bytes</span><span class="op" id="8425489">(</span><span class="op" id="8425490">)</span><span class="op" id="8425491">)</span>&nbsp;<span class="op" id="8425493">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425498">t</span><span class="op" id="8425499">.</span><span class="ident" id="8425500">Errorf</span><span class="op" id="8425506">(</span><span class="string" id="8425507">&#34;uint16&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8425554">,</span>&nbsp;<span class="ident" id="8425556">unsignedResult</span><span class="op" id="8425570">,</span>&nbsp;<span class="ident" id="8425572">b</span><span class="op" id="8425573">.</span><span class="ident" id="8425574">Bytes</span><span class="op" id="8425579">(</span><span class="op" id="8425580">)</span><span class="op" id="8425581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425588">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8425592">//&nbsp;int32</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425602">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425606">b</span><span class="op" id="8425607">.</span><span class="ident" id="8425608">Reset</span><span class="op" id="8425613">(</span><span class="op" id="8425614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425618">var</span>&nbsp;<span class="ident" id="8425622">data</span>&nbsp;<span class="builtintype" id="8425627">int32</span>&nbsp;<span class="op" id="8425633">=</span>&nbsp;<span class="num" id="8425635">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425640">instr</span>&nbsp;<span class="op" id="8425646">:=</span>&nbsp;<span class="op" id="8425649">&amp;</span><span class="ident" id="8425650">encInstr</span><span class="op" id="8425658">{</span><span class="ident" id="8425659">encInt</span><span class="op" id="8425665">,</span>&nbsp;<span class="num" id="8425667">6</span><span class="op" id="8425668">,</span>&nbsp;<span class="ident" id="8425670">nil</span><span class="op" id="8425673">,</span>&nbsp;<span class="num" id="8425675">0</span><span class="op" id="8425676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425680">state</span>&nbsp;<span class="op" id="8425686">:=</span>&nbsp;<span class="ident" id="8425689">newEncoderState</span><span class="op" id="8425704">(</span><span class="ident" id="8425705">b</span><span class="op" id="8425706">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425710">instr</span><span class="op" id="8425715">.</span><span class="ident" id="8425716">op</span><span class="op" id="8425718">(</span><span class="ident" id="8425719">instr</span><span class="op" id="8425724">,</span>&nbsp;<span class="ident" id="8425726">state</span><span class="op" id="8425731">,</span>&nbsp;<span class="ident" id="8425733">reflect</span><span class="op" id="8425740">.</span><span class="ident" id="8425741">ValueOf</span><span class="op" id="8425748">(</span><span class="ident" id="8425749">data</span><span class="op" id="8425753">)</span><span class="op" id="8425754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425758">if</span>&nbsp;<span class="op" id="8425761">!</span><span class="ident" id="8425762">bytes</span><span class="op" id="8425767">.</span><span class="ident" id="8425768">Equal</span><span class="op" id="8425773">(</span><span class="ident" id="8425774">signedResult</span><span class="op" id="8425786">,</span>&nbsp;<span class="ident" id="8425788">b</span><span class="op" id="8425789">.</span><span class="ident" id="8425790">Bytes</span><span class="op" id="8425795">(</span><span class="op" id="8425796">)</span><span class="op" id="8425797">)</span>&nbsp;<span class="op" id="8425799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425804">t</span><span class="op" id="8425805">.</span><span class="ident" id="8425806">Errorf</span><span class="op" id="8425812">(</span><span class="string" id="8425813">&#34;int32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8425859">,</span>&nbsp;<span class="ident" id="8425861">signedResult</span><span class="op" id="8425873">,</span>&nbsp;<span class="ident" id="8425875">b</span><span class="op" id="8425876">.</span><span class="ident" id="8425877">Bytes</span><span class="op" id="8425882">(</span><span class="op" id="8425883">)</span><span class="op" id="8425884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425891">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8425895">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8425906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425910">b</span><span class="op" id="8425911">.</span><span class="ident" id="8425912">Reset</span><span class="op" id="8425917">(</span><span class="op" id="8425918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8425922">var</span>&nbsp;<span class="ident" id="8425926">data</span>&nbsp;<span class="builtintype" id="8425931">uint32</span>&nbsp;<span class="op" id="8425938">=</span>&nbsp;<span class="num" id="8425940">17</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425945">instr</span>&nbsp;<span class="op" id="8425951">:=</span>&nbsp;<span class="op" id="8425954">&amp;</span><span class="ident" id="8425955">encInstr</span><span class="op" id="8425963">{</span><span class="ident" id="8425964">encUint</span><span class="op" id="8425971">,</span>&nbsp;<span class="num" id="8425973">6</span><span class="op" id="8425974">,</span>&nbsp;<span class="ident" id="8425976">nil</span><span class="op" id="8425979">,</span>&nbsp;<span class="num" id="8425981">0</span><span class="op" id="8425982">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8425986">state</span>&nbsp;<span class="op" id="8425992">:=</span>&nbsp;<span class="ident" id="8425995">newEncoderState</span><span class="op" id="8426010">(</span><span class="ident" id="8426011">b</span><span class="op" id="8426012">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426016">instr</span><span class="op" id="8426021">.</span><span class="ident" id="8426022">op</span><span class="op" id="8426024">(</span><span class="ident" id="8426025">instr</span><span class="op" id="8426030">,</span>&nbsp;<span class="ident" id="8426032">state</span><span class="op" id="8426037">,</span>&nbsp;<span class="ident" id="8426039">reflect</span><span class="op" id="8426046">.</span><span class="ident" id="8426047">ValueOf</span><span class="op" id="8426054">(</span><span class="ident" id="8426055">data</span><span class="op" id="8426059">)</span><span class="op" id="8426060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426064">if</span>&nbsp;<span class="op" id="8426067">!</span><span class="ident" id="8426068">bytes</span><span class="op" id="8426073">.</span><span class="ident" id="8426074">Equal</span><span class="op" id="8426079">(</span><span class="ident" id="8426080">unsignedResult</span><span class="op" id="8426094">,</span>&nbsp;<span class="ident" id="8426096">b</span><span class="op" id="8426097">.</span><span class="ident" id="8426098">Bytes</span><span class="op" id="8426103">(</span><span class="op" id="8426104">)</span><span class="op" id="8426105">)</span>&nbsp;<span class="op" id="8426107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426112">t</span><span class="op" id="8426113">.</span><span class="ident" id="8426114">Errorf</span><span class="op" id="8426120">(</span><span class="string" id="8426121">&#34;uint32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8426168">,</span>&nbsp;<span class="ident" id="8426170">unsignedResult</span><span class="op" id="8426184">,</span>&nbsp;<span class="ident" id="8426186">b</span><span class="op" id="8426187">.</span><span class="ident" id="8426188">Bytes</span><span class="op" id="8426193">(</span><span class="op" id="8426194">)</span><span class="op" id="8426195">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426199">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426202">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8426206">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426216">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426220">b</span><span class="op" id="8426221">.</span><span class="ident" id="8426222">Reset</span><span class="op" id="8426227">(</span><span class="op" id="8426228">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426232">var</span>&nbsp;<span class="ident" id="8426236">data</span>&nbsp;<span class="ident" id="8426241">int64</span>&nbsp;<span class="op" id="8426247">=</span>&nbsp;<span class="num" id="8426249">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426254">instr</span>&nbsp;<span class="op" id="8426260">:=</span>&nbsp;<span class="op" id="8426263">&amp;</span><span class="ident" id="8426264">encInstr</span><span class="op" id="8426272">{</span><span class="ident" id="8426273">encInt</span><span class="op" id="8426279">,</span>&nbsp;<span class="num" id="8426281">6</span><span class="op" id="8426282">,</span>&nbsp;<span class="ident" id="8426284">nil</span><span class="op" id="8426287">,</span>&nbsp;<span class="num" id="8426289">0</span><span class="op" id="8426290">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426294">state</span>&nbsp;<span class="op" id="8426300">:=</span>&nbsp;<span class="ident" id="8426303">newEncoderState</span><span class="op" id="8426318">(</span><span class="ident" id="8426319">b</span><span class="op" id="8426320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426324">instr</span><span class="op" id="8426329">.</span><span class="ident" id="8426330">op</span><span class="op" id="8426332">(</span><span class="ident" id="8426333">instr</span><span class="op" id="8426338">,</span>&nbsp;<span class="ident" id="8426340">state</span><span class="op" id="8426345">,</span>&nbsp;<span class="ident" id="8426347">reflect</span><span class="op" id="8426354">.</span><span class="ident" id="8426355">ValueOf</span><span class="op" id="8426362">(</span><span class="ident" id="8426363">data</span><span class="op" id="8426367">)</span><span class="op" id="8426368">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426372">if</span>&nbsp;<span class="op" id="8426375">!</span><span class="ident" id="8426376">bytes</span><span class="op" id="8426381">.</span><span class="ident" id="8426382">Equal</span><span class="op" id="8426387">(</span><span class="ident" id="8426388">signedResult</span><span class="op" id="8426400">,</span>&nbsp;<span class="ident" id="8426402">b</span><span class="op" id="8426403">.</span><span class="ident" id="8426404">Bytes</span><span class="op" id="8426409">(</span><span class="op" id="8426410">)</span><span class="op" id="8426411">)</span>&nbsp;<span class="op" id="8426413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426418">t</span><span class="op" id="8426419">.</span><span class="ident" id="8426420">Errorf</span><span class="op" id="8426426">(</span><span class="string" id="8426427">&#34;int64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8426473">,</span>&nbsp;<span class="ident" id="8426475">signedResult</span><span class="op" id="8426487">,</span>&nbsp;<span class="ident" id="8426489">b</span><span class="op" id="8426490">.</span><span class="ident" id="8426491">Bytes</span><span class="op" id="8426496">(</span><span class="op" id="8426497">)</span><span class="op" id="8426498">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426505">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8426509">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426524">b</span><span class="op" id="8426525">.</span><span class="ident" id="8426526">Reset</span><span class="op" id="8426531">(</span><span class="op" id="8426532">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426536">var</span>&nbsp;<span class="ident" id="8426540">data</span>&nbsp;<span class="ident" id="8426545">uint64</span>&nbsp;<span class="op" id="8426552">=</span>&nbsp;<span class="num" id="8426554">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426559">instr</span>&nbsp;<span class="op" id="8426565">:=</span>&nbsp;<span class="op" id="8426568">&amp;</span><span class="ident" id="8426569">encInstr</span><span class="op" id="8426577">{</span><span class="ident" id="8426578">encUint</span><span class="op" id="8426585">,</span>&nbsp;<span class="num" id="8426587">6</span><span class="op" id="8426588">,</span>&nbsp;<span class="ident" id="8426590">nil</span><span class="op" id="8426593">,</span>&nbsp;<span class="num" id="8426595">0</span><span class="op" id="8426596">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426600">state</span>&nbsp;<span class="op" id="8426606">:=</span>&nbsp;<span class="ident" id="8426609">newEncoderState</span><span class="op" id="8426624">(</span><span class="ident" id="8426625">b</span><span class="op" id="8426626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426630">instr</span><span class="op" id="8426635">.</span><span class="ident" id="8426636">op</span><span class="op" id="8426638">(</span><span class="ident" id="8426639">instr</span><span class="op" id="8426644">,</span>&nbsp;<span class="ident" id="8426646">state</span><span class="op" id="8426651">,</span>&nbsp;<span class="ident" id="8426653">reflect</span><span class="op" id="8426660">.</span><span class="ident" id="8426661">ValueOf</span><span class="op" id="8426668">(</span><span class="ident" id="8426669">data</span><span class="op" id="8426673">)</span><span class="op" id="8426674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426678">if</span>&nbsp;<span class="op" id="8426681">!</span><span class="ident" id="8426682">bytes</span><span class="op" id="8426687">.</span><span class="ident" id="8426688">Equal</span><span class="op" id="8426693">(</span><span class="ident" id="8426694">unsignedResult</span><span class="op" id="8426708">,</span>&nbsp;<span class="ident" id="8426710">b</span><span class="op" id="8426711">.</span><span class="ident" id="8426712">Bytes</span><span class="op" id="8426717">(</span><span class="op" id="8426718">)</span><span class="op" id="8426719">)</span>&nbsp;<span class="op" id="8426721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426726">t</span><span class="op" id="8426727">.</span><span class="ident" id="8426728">Errorf</span><span class="op" id="8426734">(</span><span class="string" id="8426735">&#34;uint64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8426782">,</span>&nbsp;<span class="ident" id="8426784">unsignedResult</span><span class="op" id="8426798">,</span>&nbsp;<span class="ident" id="8426800">b</span><span class="op" id="8426801">.</span><span class="ident" id="8426802">Bytes</span><span class="op" id="8426807">(</span><span class="op" id="8426808">)</span><span class="op" id="8426809">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426813">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426816">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8426820">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8426832">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426836">b</span><span class="op" id="8426837">.</span><span class="ident" id="8426838">Reset</span><span class="op" id="8426843">(</span><span class="op" id="8426844">)</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426848">var</span>&nbsp;<span class="ident" id="8426852">data</span>&nbsp;<span class="builtintype" id="8426857">float32</span>&nbsp;<span class="op" id="8426865">=</span>&nbsp;<span class="num" id="8426867">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426872">instr</span>&nbsp;<span class="op" id="8426878">:=</span>&nbsp;<span class="op" id="8426881">&amp;</span><span class="ident" id="8426882">encInstr</span><span class="op" id="8426890">{</span><span class="ident" id="8426891">encFloat</span><span class="op" id="8426899">,</span>&nbsp;<span class="num" id="8426901">6</span><span class="op" id="8426902">,</span>&nbsp;<span class="ident" id="8426904">nil</span><span class="op" id="8426907">,</span>&nbsp;<span class="num" id="8426909">0</span><span class="op" id="8426910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426914">state</span>&nbsp;<span class="op" id="8426920">:=</span>&nbsp;<span class="ident" id="8426923">newEncoderState</span><span class="op" id="8426938">(</span><span class="ident" id="8426939">b</span><span class="op" id="8426940">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8426944">instr</span><span class="op" id="8426949">.</span><span class="ident" id="8426950">op</span><span class="op" id="8426952">(</span><span class="ident" id="8426953">instr</span><span class="op" id="8426958">,</span>&nbsp;<span class="ident" id="8426960">state</span><span class="op" id="8426965">,</span>&nbsp;<span class="ident" id="8426967">reflect</span><span class="op" id="8426974">.</span><span class="ident" id="8426975">ValueOf</span><span class="op" id="8426982">(</span><span class="ident" id="8426983">data</span><span class="op" id="8426987">)</span><span class="op" id="8426988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8426992">if</span>&nbsp;<span class="op" id="8426995">!</span><span class="ident" id="8426996">bytes</span><span class="op" id="8427001">.</span><span class="ident" id="8427002">Equal</span><span class="op" id="8427007">(</span><span class="ident" id="8427008">floatResult</span><span class="op" id="8427019">,</span>&nbsp;<span class="ident" id="8427021">b</span><span class="op" id="8427022">.</span><span class="ident" id="8427023">Bytes</span><span class="op" id="8427028">(</span><span class="op" id="8427029">)</span><span class="op" id="8427030">)</span>&nbsp;<span class="op" id="8427032">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427037">t</span><span class="op" id="8427038">.</span><span class="ident" id="8427039">Errorf</span><span class="op" id="8427045">(</span><span class="string" id="8427046">&#34;float32&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8427094">,</span>&nbsp;<span class="ident" id="8427096">floatResult</span><span class="op" id="8427107">,</span>&nbsp;<span class="ident" id="8427109">b</span><span class="op" id="8427110">.</span><span class="ident" id="8427111">Bytes</span><span class="op" id="8427116">(</span><span class="op" id="8427117">)</span><span class="op" id="8427118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427122">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427125">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8427129">//&nbsp;float64</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427145">b</span><span class="op" id="8427146">.</span><span class="ident" id="8427147">Reset</span><span class="op" id="8427152">(</span><span class="op" id="8427153">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427157">var</span>&nbsp;<span class="ident" id="8427161">data</span>&nbsp;<span class="builtintype" id="8427166">float64</span>&nbsp;<span class="op" id="8427174">=</span>&nbsp;<span class="num" id="8427176">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427181">instr</span>&nbsp;<span class="op" id="8427187">:=</span>&nbsp;<span class="op" id="8427190">&amp;</span><span class="ident" id="8427191">encInstr</span><span class="op" id="8427199">{</span><span class="ident" id="8427200">encFloat</span><span class="op" id="8427208">,</span>&nbsp;<span class="num" id="8427210">6</span><span class="op" id="8427211">,</span>&nbsp;<span class="ident" id="8427213">nil</span><span class="op" id="8427216">,</span>&nbsp;<span class="num" id="8427218">0</span><span class="op" id="8427219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427223">state</span>&nbsp;<span class="op" id="8427229">:=</span>&nbsp;<span class="ident" id="8427232">newEncoderState</span><span class="op" id="8427247">(</span><span class="ident" id="8427248">b</span><span class="op" id="8427249">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427253">instr</span><span class="op" id="8427258">.</span><span class="ident" id="8427259">op</span><span class="op" id="8427261">(</span><span class="ident" id="8427262">instr</span><span class="op" id="8427267">,</span>&nbsp;<span class="ident" id="8427269">state</span><span class="op" id="8427274">,</span>&nbsp;<span class="ident" id="8427276">reflect</span><span class="op" id="8427283">.</span><span class="ident" id="8427284">ValueOf</span><span class="op" id="8427291">(</span><span class="ident" id="8427292">data</span><span class="op" id="8427296">)</span><span class="op" id="8427297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427301">if</span>&nbsp;<span class="op" id="8427304">!</span><span class="ident" id="8427305">bytes</span><span class="op" id="8427310">.</span><span class="ident" id="8427311">Equal</span><span class="op" id="8427316">(</span><span class="ident" id="8427317">floatResult</span><span class="op" id="8427328">,</span>&nbsp;<span class="ident" id="8427330">b</span><span class="op" id="8427331">.</span><span class="ident" id="8427332">Bytes</span><span class="op" id="8427337">(</span><span class="op" id="8427338">)</span><span class="op" id="8427339">)</span>&nbsp;<span class="op" id="8427341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427346">t</span><span class="op" id="8427347">.</span><span class="ident" id="8427348">Errorf</span><span class="op" id="8427354">(</span><span class="string" id="8427355">&#34;float64&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8427403">,</span>&nbsp;<span class="ident" id="8427405">floatResult</span><span class="op" id="8427416">,</span>&nbsp;<span class="ident" id="8427418">b</span><span class="op" id="8427419">.</span><span class="ident" id="8427420">Bytes</span><span class="op" id="8427425">(</span><span class="op" id="8427426">)</span><span class="op" id="8427427">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427434">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8427438">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427463">b</span><span class="op" id="8427464">.</span><span class="ident" id="8427465">Reset</span><span class="op" id="8427470">(</span><span class="op" id="8427471">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427475">data</span>&nbsp;<span class="op" id="8427480">:=</span>&nbsp;<span class="op" id="8427483">[</span><span class="op" id="8427484">]</span><span class="builtintype" id="8427485">byte</span><span class="op" id="8427489">(</span><span class="string" id="8427490">&#34;hello&#34;</span><span class="op" id="8427497">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427501">instr</span>&nbsp;<span class="op" id="8427507">:=</span>&nbsp;<span class="op" id="8427510">&amp;</span><span class="ident" id="8427511">encInstr</span><span class="op" id="8427519">{</span><span class="ident" id="8427520">encUint8Array</span><span class="op" id="8427533">,</span>&nbsp;<span class="num" id="8427535">6</span><span class="op" id="8427536">,</span>&nbsp;<span class="ident" id="8427538">nil</span><span class="op" id="8427541">,</span>&nbsp;<span class="num" id="8427543">0</span><span class="op" id="8427544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427548">state</span>&nbsp;<span class="op" id="8427554">:=</span>&nbsp;<span class="ident" id="8427557">newEncoderState</span><span class="op" id="8427572">(</span><span class="ident" id="8427573">b</span><span class="op" id="8427574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427578">instr</span><span class="op" id="8427583">.</span><span class="ident" id="8427584">op</span><span class="op" id="8427586">(</span><span class="ident" id="8427587">instr</span><span class="op" id="8427592">,</span>&nbsp;<span class="ident" id="8427594">state</span><span class="op" id="8427599">,</span>&nbsp;<span class="ident" id="8427601">reflect</span><span class="op" id="8427608">.</span><span class="ident" id="8427609">ValueOf</span><span class="op" id="8427616">(</span><span class="ident" id="8427617">data</span><span class="op" id="8427621">)</span><span class="op" id="8427622">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427626">if</span>&nbsp;<span class="op" id="8427629">!</span><span class="ident" id="8427630">bytes</span><span class="op" id="8427635">.</span><span class="ident" id="8427636">Equal</span><span class="op" id="8427641">(</span><span class="ident" id="8427642">bytesResult</span><span class="op" id="8427653">,</span>&nbsp;<span class="ident" id="8427655">b</span><span class="op" id="8427656">.</span><span class="ident" id="8427657">Bytes</span><span class="op" id="8427662">(</span><span class="op" id="8427663">)</span><span class="op" id="8427664">)</span>&nbsp;<span class="op" id="8427666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427671">t</span><span class="op" id="8427672">.</span><span class="ident" id="8427673">Errorf</span><span class="op" id="8427679">(</span><span class="string" id="8427680">&#34;bytes&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8427726">,</span>&nbsp;<span class="ident" id="8427728">bytesResult</span><span class="op" id="8427739">,</span>&nbsp;<span class="ident" id="8427741">b</span><span class="op" id="8427742">.</span><span class="ident" id="8427743">Bytes</span><span class="op" id="8427748">(</span><span class="op" id="8427749">)</span><span class="op" id="8427750">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8427761">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8427772">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427776">b</span><span class="op" id="8427777">.</span><span class="ident" id="8427778">Reset</span><span class="op" id="8427783">(</span><span class="op" id="8427784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427788">var</span>&nbsp;<span class="ident" id="8427792">data</span>&nbsp;<span class="builtintype" id="8427797">string</span>&nbsp;<span class="op" id="8427804">=</span>&nbsp;<span class="string" id="8427806">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427816">instr</span>&nbsp;<span class="op" id="8427822">:=</span>&nbsp;<span class="op" id="8427825">&amp;</span><span class="ident" id="8427826">encInstr</span><span class="op" id="8427834">{</span><span class="ident" id="8427835">encString</span><span class="op" id="8427844">,</span>&nbsp;<span class="num" id="8427846">6</span><span class="op" id="8427847">,</span>&nbsp;<span class="ident" id="8427849">nil</span><span class="op" id="8427852">,</span>&nbsp;<span class="num" id="8427854">0</span><span class="op" id="8427855">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427859">state</span>&nbsp;<span class="op" id="8427865">:=</span>&nbsp;<span class="ident" id="8427868">newEncoderState</span><span class="op" id="8427883">(</span><span class="ident" id="8427884">b</span><span class="op" id="8427885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427889">instr</span><span class="op" id="8427894">.</span><span class="ident" id="8427895">op</span><span class="op" id="8427897">(</span><span class="ident" id="8427898">instr</span><span class="op" id="8427903">,</span>&nbsp;<span class="ident" id="8427905">state</span><span class="op" id="8427910">,</span>&nbsp;<span class="ident" id="8427912">reflect</span><span class="op" id="8427919">.</span><span class="ident" id="8427920">ValueOf</span><span class="op" id="8427927">(</span><span class="ident" id="8427928">data</span><span class="op" id="8427932">)</span><span class="op" id="8427933">)</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8427937">if</span>&nbsp;<span class="op" id="8427940">!</span><span class="ident" id="8427941">bytes</span><span class="op" id="8427946">.</span><span class="ident" id="8427947">Equal</span><span class="op" id="8427952">(</span><span class="ident" id="8427953">bytesResult</span><span class="op" id="8427964">,</span>&nbsp;<span class="ident" id="8427966">b</span><span class="op" id="8427967">.</span><span class="ident" id="8427968">Bytes</span><span class="op" id="8427973">(</span><span class="op" id="8427974">)</span><span class="op" id="8427975">)</span>&nbsp;<span class="op" id="8427977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8427982">t</span><span class="op" id="8427983">.</span><span class="ident" id="8427984">Errorf</span><span class="op" id="8427990">(</span><span class="string" id="8427991">&#34;string&nbsp;enc&nbsp;instructions:&nbsp;expected&nbsp;%&nbsp;x&nbsp;got&nbsp;%&nbsp;x&#34;</span><span class="op" id="8428038">,</span>&nbsp;<span class="ident" id="8428040">bytesResult</span><span class="op" id="8428051">,</span>&nbsp;<span class="ident" id="8428053">b</span><span class="op" id="8428054">.</span><span class="ident" id="8428055">Bytes</span><span class="op" id="8428060">(</span><span class="op" id="8428061">)</span><span class="op" id="8428062">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428066">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428069">}</span><br>
<span class="lineno"></span><span class="op" id="8428071">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="8428074">func</span>&nbsp;<span class="ident" id="8428079">execDec</span><span class="op" id="8428086">(</span><span class="ident" id="8428087">typ</span>&nbsp;<span class="builtintype" id="8428091">string</span><span class="op" id="8428097">,</span>&nbsp;<span class="ident" id="8428099">instr</span>&nbsp;<span class="op" id="8428105">*</span><span class="ident" id="8428106">decInstr</span><span class="op" id="8428114">,</span>&nbsp;<span class="ident" id="8428116">state</span>&nbsp;<span class="op" id="8428122">*</span><span class="ident" id="8428123">decoderState</span><span class="op" id="8428135">,</span>&nbsp;<span class="ident" id="8428137">t</span>&nbsp;<span class="op" id="8428139">*</span><span class="ident" id="8428140">testing</span><span class="op" id="8428147">.</span><span class="ident" id="8428148">T</span><span class="op" id="8428149">,</span>&nbsp;<span class="ident" id="8428151">value</span>&nbsp;<span class="ident" id="8428157">reflect</span><span class="op" id="8428164">.</span><span class="ident" id="8428165">Value</span><span class="op" id="8428170">)</span>&nbsp;<span class="op" id="8428172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428175">defer</span>&nbsp;<span class="ident" id="8428181">testError</span><span class="op" id="8428190">(</span><span class="ident" id="8428191">t</span><span class="op" id="8428192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428195">v</span>&nbsp;<span class="op" id="8428197">:=</span>&nbsp;<span class="builtintype" id="8428200">int</span><span class="op" id="8428203">(</span><span class="ident" id="8428204">state</span><span class="op" id="8428209">.</span><span class="ident" id="8428210">decodeUint</span><span class="op" id="8428220">(</span><span class="op" id="8428221">)</span><span class="op" id="8428222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428225">if</span>&nbsp;<span class="ident" id="8428228">v</span><span class="op" id="8428229">+</span><span class="ident" id="8428230">state</span><span class="op" id="8428235">.</span><span class="ident" id="8428236">fieldnum</span>&nbsp;<span class="op" id="8428245">!=</span>&nbsp;<span class="num" id="8428248">6</span>&nbsp;<span class="op" id="8428250">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428254">t</span><span class="op" id="8428255">.</span><span class="ident" id="8428256">Fatalf</span><span class="op" id="8428262">(</span><span class="string" id="8428263">&#34;decoding&nbsp;field&nbsp;number&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="8428297">,</span>&nbsp;<span class="num" id="8428299">6</span><span class="op" id="8428300">,</span>&nbsp;<span class="ident" id="8428302">v</span><span class="op" id="8428303">+</span><span class="ident" id="8428304">state</span><span class="op" id="8428309">.</span><span class="ident" id="8428310">fieldnum</span><span class="op" id="8428318">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428324">instr</span><span class="op" id="8428329">.</span><span class="ident" id="8428330">op</span><span class="op" id="8428332">(</span><span class="ident" id="8428333">instr</span><span class="op" id="8428338">,</span>&nbsp;<span class="ident" id="8428340">state</span><span class="op" id="8428345">,</span>&nbsp;<span class="ident" id="8428347">value</span><span class="op" id="8428352">.</span><span class="ident" id="8428353">Elem</span><span class="op" id="8428357">(</span><span class="op" id="8428358">)</span><span class="op" id="8428359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428362">state</span><span class="op" id="8428367">.</span><span class="ident" id="8428368">fieldnum</span>&nbsp;<span class="op" id="8428377">=</span>&nbsp;<span class="num" id="8428379">6</span><br>
<span class="lineno"></span><span class="op" id="8428381">}</span><br>
<span class="lineno">335</span><br>
<span class="lineno"></span><span class="keyword" id="8428384">func</span>&nbsp;<span class="ident" id="8428389">newDecodeStateFromData</span><span class="op" id="8428411">(</span><span class="ident" id="8428412">data</span>&nbsp;<span class="op" id="8428417">[</span><span class="op" id="8428418">]</span><span class="builtintype" id="8428419">byte</span><span class="op" id="8428423">)</span>&nbsp;<span class="op" id="8428425">*</span><span class="ident" id="8428426">decoderState</span>&nbsp;<span class="op" id="8428439">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428442">b</span>&nbsp;<span class="op" id="8428444">:=</span>&nbsp;<span class="ident" id="8428447">newDecBuffer</span><span class="op" id="8428459">(</span><span class="ident" id="8428460">data</span><span class="op" id="8428464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428467">state</span>&nbsp;<span class="op" id="8428473">:=</span>&nbsp;<span class="ident" id="8428476">newDecodeState</span><span class="op" id="8428490">(</span><span class="ident" id="8428491">b</span><span class="op" id="8428492">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428495">state</span><span class="op" id="8428500">.</span><span class="ident" id="8428501">fieldnum</span>&nbsp;<span class="op" id="8428510">=</span>&nbsp;<span class="op" id="8428512">-</span><span class="num" id="8428513">1</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428516">return</span>&nbsp;<span class="ident" id="8428523">state</span><br>
<span class="lineno"></span><span class="op" id="8428529">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8428532">//&nbsp;Test&nbsp;instruction&nbsp;execution&nbsp;for&nbsp;decoding.</span><br>
<span class="lineno"></span><span class="comment" id="8428576">//&nbsp;Do&nbsp;not&nbsp;run&nbsp;the&nbsp;machine&nbsp;yet;&nbsp;instead&nbsp;do&nbsp;individual&nbsp;instructions&nbsp;crafted&nbsp;by&nbsp;hand.</span><br>
<span class="lineno">345</span><span class="keyword" id="8428659">func</span>&nbsp;<span class="ident" id="8428664">TestScalarDecInstructions</span><span class="op" id="8428689">(</span><span class="ident" id="8428690">t</span>&nbsp;<span class="op" id="8428692">*</span><span class="ident" id="8428693">testing</span><span class="op" id="8428700">.</span><span class="ident" id="8428701">T</span><span class="op" id="8428702">)</span>&nbsp;<span class="op" id="8428704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428707">ovfl</span>&nbsp;<span class="op" id="8428712">:=</span>&nbsp;<span class="ident" id="8428715">errors</span><span class="op" id="8428721">.</span><span class="ident" id="8428722">New</span><span class="op" id="8428725">(</span><span class="string" id="8428726">&#34;overflow&#34;</span><span class="op" id="8428736">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8428740">//&nbsp;bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428749">{</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428753">var</span>&nbsp;<span class="ident" id="8428757">data</span>&nbsp;<span class="builtintype" id="8428762">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428769">instr</span>&nbsp;<span class="op" id="8428775">:=</span>&nbsp;<span class="op" id="8428778">&amp;</span><span class="ident" id="8428779">decInstr</span><span class="op" id="8428787">{</span><span class="ident" id="8428788">decBool</span><span class="op" id="8428795">,</span>&nbsp;<span class="num" id="8428797">6</span><span class="op" id="8428798">,</span>&nbsp;<span class="ident" id="8428800">nil</span><span class="op" id="8428803">,</span>&nbsp;<span class="ident" id="8428805">ovfl</span><span class="op" id="8428809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428813">state</span>&nbsp;<span class="op" id="8428819">:=</span>&nbsp;<span class="ident" id="8428822">newDecodeStateFromData</span><span class="op" id="8428844">(</span><span class="ident" id="8428845">boolResult</span><span class="op" id="8428855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428859">execDec</span><span class="op" id="8428866">(</span><span class="string" id="8428867">&#34;bool&#34;</span><span class="op" id="8428873">,</span>&nbsp;<span class="ident" id="8428875">instr</span><span class="op" id="8428880">,</span>&nbsp;<span class="ident" id="8428882">state</span><span class="op" id="8428887">,</span>&nbsp;<span class="ident" id="8428889">t</span><span class="op" id="8428890">,</span>&nbsp;<span class="ident" id="8428892">reflect</span><span class="op" id="8428899">.</span><span class="ident" id="8428900">ValueOf</span><span class="op" id="8428907">(</span><span class="op" id="8428908">&amp;</span><span class="ident" id="8428909">data</span><span class="op" id="8428913">)</span><span class="op" id="8428914">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428918">if</span>&nbsp;<span class="ident" id="8428921">data</span>&nbsp;<span class="op" id="8428926">!=</span>&nbsp;<span class="builtintype" id="8428929">true</span>&nbsp;<span class="op" id="8428934">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8428939">t</span><span class="op" id="8428940">.</span><span class="ident" id="8428941">Errorf</span><span class="op" id="8428947">(</span><span class="string" id="8428948">&#34;bool&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;true&#34;</span><span class="op" id="8428970">,</span>&nbsp;<span class="ident" id="8428972">data</span><span class="op" id="8428976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428980">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428983">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8428986">//&nbsp;int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8428994">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8428998">var</span>&nbsp;<span class="ident" id="8429002">data</span>&nbsp;<span class="builtintype" id="8429007">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429013">instr</span>&nbsp;<span class="op" id="8429019">:=</span>&nbsp;<span class="op" id="8429022">&amp;</span><span class="ident" id="8429023">decInstr</span><span class="op" id="8429031">{</span><span class="ident" id="8429032">decOpTable</span><span class="op" id="8429042">[</span><span class="ident" id="8429043">reflect</span><span class="op" id="8429050">.</span><span class="ident" id="8429051">Int</span><span class="op" id="8429054">]</span><span class="op" id="8429055">,</span>&nbsp;<span class="num" id="8429057">6</span><span class="op" id="8429058">,</span>&nbsp;<span class="ident" id="8429060">nil</span><span class="op" id="8429063">,</span>&nbsp;<span class="ident" id="8429065">ovfl</span><span class="op" id="8429069">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429073">state</span>&nbsp;<span class="op" id="8429079">:=</span>&nbsp;<span class="ident" id="8429082">newDecodeStateFromData</span><span class="op" id="8429104">(</span><span class="ident" id="8429105">signedResult</span><span class="op" id="8429117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429121">execDec</span><span class="op" id="8429128">(</span><span class="string" id="8429129">&#34;int&#34;</span><span class="op" id="8429134">,</span>&nbsp;<span class="ident" id="8429136">instr</span><span class="op" id="8429141">,</span>&nbsp;<span class="ident" id="8429143">state</span><span class="op" id="8429148">,</span>&nbsp;<span class="ident" id="8429150">t</span><span class="op" id="8429151">,</span>&nbsp;<span class="ident" id="8429153">reflect</span><span class="op" id="8429160">.</span><span class="ident" id="8429161">ValueOf</span><span class="op" id="8429168">(</span><span class="op" id="8429169">&amp;</span><span class="ident" id="8429170">data</span><span class="op" id="8429174">)</span><span class="op" id="8429175">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429179">if</span>&nbsp;<span class="ident" id="8429182">data</span>&nbsp;<span class="op" id="8429187">!=</span>&nbsp;<span class="num" id="8429190">17</span>&nbsp;<span class="op" id="8429193">{</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429198">t</span><span class="op" id="8429199">.</span><span class="ident" id="8429200">Errorf</span><span class="op" id="8429206">(</span><span class="string" id="8429207">&#34;int&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8429226">,</span>&nbsp;<span class="ident" id="8429228">data</span><span class="op" id="8429232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429239">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8429243">//&nbsp;uint</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429256">var</span>&nbsp;<span class="ident" id="8429260">data</span>&nbsp;<span class="builtintype" id="8429265">uint</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429272">instr</span>&nbsp;<span class="op" id="8429278">:=</span>&nbsp;<span class="op" id="8429281">&amp;</span><span class="ident" id="8429282">decInstr</span><span class="op" id="8429290">{</span><span class="ident" id="8429291">decOpTable</span><span class="op" id="8429301">[</span><span class="ident" id="8429302">reflect</span><span class="op" id="8429309">.</span><span class="ident" id="8429310">Uint</span><span class="op" id="8429314">]</span><span class="op" id="8429315">,</span>&nbsp;<span class="num" id="8429317">6</span><span class="op" id="8429318">,</span>&nbsp;<span class="ident" id="8429320">nil</span><span class="op" id="8429323">,</span>&nbsp;<span class="ident" id="8429325">ovfl</span><span class="op" id="8429329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429333">state</span>&nbsp;<span class="op" id="8429339">:=</span>&nbsp;<span class="ident" id="8429342">newDecodeStateFromData</span><span class="op" id="8429364">(</span><span class="ident" id="8429365">unsignedResult</span><span class="op" id="8429379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429383">execDec</span><span class="op" id="8429390">(</span><span class="string" id="8429391">&#34;uint&#34;</span><span class="op" id="8429397">,</span>&nbsp;<span class="ident" id="8429399">instr</span><span class="op" id="8429404">,</span>&nbsp;<span class="ident" id="8429406">state</span><span class="op" id="8429411">,</span>&nbsp;<span class="ident" id="8429413">t</span><span class="op" id="8429414">,</span>&nbsp;<span class="ident" id="8429416">reflect</span><span class="op" id="8429423">.</span><span class="ident" id="8429424">ValueOf</span><span class="op" id="8429431">(</span><span class="op" id="8429432">&amp;</span><span class="ident" id="8429433">data</span><span class="op" id="8429437">)</span><span class="op" id="8429438">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429442">if</span>&nbsp;<span class="ident" id="8429445">data</span>&nbsp;<span class="op" id="8429450">!=</span>&nbsp;<span class="num" id="8429453">17</span>&nbsp;<span class="op" id="8429456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429461">t</span><span class="op" id="8429462">.</span><span class="ident" id="8429463">Errorf</span><span class="op" id="8429469">(</span><span class="string" id="8429470">&#34;uint&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8429490">,</span>&nbsp;<span class="ident" id="8429492">data</span><span class="op" id="8429496">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429503">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8429507">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429520">var</span>&nbsp;<span class="ident" id="8429524">data</span>&nbsp;<span class="builtintype" id="8429529">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429536">instr</span>&nbsp;<span class="op" id="8429542">:=</span>&nbsp;<span class="op" id="8429545">&amp;</span><span class="ident" id="8429546">decInstr</span><span class="op" id="8429554">{</span><span class="ident" id="8429555">decInt8</span><span class="op" id="8429562">,</span>&nbsp;<span class="num" id="8429564">6</span><span class="op" id="8429565">,</span>&nbsp;<span class="ident" id="8429567">nil</span><span class="op" id="8429570">,</span>&nbsp;<span class="ident" id="8429572">ovfl</span><span class="op" id="8429576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429580">state</span>&nbsp;<span class="op" id="8429586">:=</span>&nbsp;<span class="ident" id="8429589">newDecodeStateFromData</span><span class="op" id="8429611">(</span><span class="ident" id="8429612">signedResult</span><span class="op" id="8429624">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429628">execDec</span><span class="op" id="8429635">(</span><span class="string" id="8429636">&#34;int8&#34;</span><span class="op" id="8429642">,</span>&nbsp;<span class="ident" id="8429644">instr</span><span class="op" id="8429649">,</span>&nbsp;<span class="ident" id="8429651">state</span><span class="op" id="8429656">,</span>&nbsp;<span class="ident" id="8429658">t</span><span class="op" id="8429659">,</span>&nbsp;<span class="ident" id="8429661">reflect</span><span class="op" id="8429668">.</span><span class="ident" id="8429669">ValueOf</span><span class="op" id="8429676">(</span><span class="op" id="8429677">&amp;</span><span class="ident" id="8429678">data</span><span class="op" id="8429682">)</span><span class="op" id="8429683">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429687">if</span>&nbsp;<span class="ident" id="8429690">data</span>&nbsp;<span class="op" id="8429695">!=</span>&nbsp;<span class="num" id="8429698">17</span>&nbsp;<span class="op" id="8429701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429706">t</span><span class="op" id="8429707">.</span><span class="ident" id="8429708">Errorf</span><span class="op" id="8429714">(</span><span class="string" id="8429715">&#34;int8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8429735">,</span>&nbsp;<span class="ident" id="8429737">data</span><span class="op" id="8429741">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429748">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8429752">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429766">var</span>&nbsp;<span class="ident" id="8429770">data</span>&nbsp;<span class="builtintype" id="8429775">uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429783">instr</span>&nbsp;<span class="op" id="8429789">:=</span>&nbsp;<span class="op" id="8429792">&amp;</span><span class="ident" id="8429793">decInstr</span><span class="op" id="8429801">{</span><span class="ident" id="8429802">decUint8</span><span class="op" id="8429810">,</span>&nbsp;<span class="num" id="8429812">6</span><span class="op" id="8429813">,</span>&nbsp;<span class="ident" id="8429815">nil</span><span class="op" id="8429818">,</span>&nbsp;<span class="ident" id="8429820">ovfl</span><span class="op" id="8429824">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429828">state</span>&nbsp;<span class="op" id="8429834">:=</span>&nbsp;<span class="ident" id="8429837">newDecodeStateFromData</span><span class="op" id="8429859">(</span><span class="ident" id="8429860">unsignedResult</span><span class="op" id="8429874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429878">execDec</span><span class="op" id="8429885">(</span><span class="string" id="8429886">&#34;uint8&#34;</span><span class="op" id="8429893">,</span>&nbsp;<span class="ident" id="8429895">instr</span><span class="op" id="8429900">,</span>&nbsp;<span class="ident" id="8429902">state</span><span class="op" id="8429907">,</span>&nbsp;<span class="ident" id="8429909">t</span><span class="op" id="8429910">,</span>&nbsp;<span class="ident" id="8429912">reflect</span><span class="op" id="8429919">.</span><span class="ident" id="8429920">ValueOf</span><span class="op" id="8429927">(</span><span class="op" id="8429928">&amp;</span><span class="ident" id="8429929">data</span><span class="op" id="8429933">)</span><span class="op" id="8429934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8429938">if</span>&nbsp;<span class="ident" id="8429941">data</span>&nbsp;<span class="op" id="8429946">!=</span>&nbsp;<span class="num" id="8429949">17</span>&nbsp;<span class="op" id="8429952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8429957">t</span><span class="op" id="8429958">.</span><span class="ident" id="8429959">Errorf</span><span class="op" id="8429965">(</span><span class="string" id="8429966">&#34;uint8&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8429987">,</span>&nbsp;<span class="ident" id="8429989">data</span><span class="op" id="8429993">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8429997">}</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430000">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430004">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430018">var</span>&nbsp;<span class="ident" id="8430022">data</span>&nbsp;<span class="builtintype" id="8430027">int16</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430035">instr</span>&nbsp;<span class="op" id="8430041">:=</span>&nbsp;<span class="op" id="8430044">&amp;</span><span class="ident" id="8430045">decInstr</span><span class="op" id="8430053">{</span><span class="ident" id="8430054">decInt16</span><span class="op" id="8430062">,</span>&nbsp;<span class="num" id="8430064">6</span><span class="op" id="8430065">,</span>&nbsp;<span class="ident" id="8430067">nil</span><span class="op" id="8430070">,</span>&nbsp;<span class="ident" id="8430072">ovfl</span><span class="op" id="8430076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430080">state</span>&nbsp;<span class="op" id="8430086">:=</span>&nbsp;<span class="ident" id="8430089">newDecodeStateFromData</span><span class="op" id="8430111">(</span><span class="ident" id="8430112">signedResult</span><span class="op" id="8430124">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430128">execDec</span><span class="op" id="8430135">(</span><span class="string" id="8430136">&#34;int16&#34;</span><span class="op" id="8430143">,</span>&nbsp;<span class="ident" id="8430145">instr</span><span class="op" id="8430150">,</span>&nbsp;<span class="ident" id="8430152">state</span><span class="op" id="8430157">,</span>&nbsp;<span class="ident" id="8430159">t</span><span class="op" id="8430160">,</span>&nbsp;<span class="ident" id="8430162">reflect</span><span class="op" id="8430169">.</span><span class="ident" id="8430170">ValueOf</span><span class="op" id="8430177">(</span><span class="op" id="8430178">&amp;</span><span class="ident" id="8430179">data</span><span class="op" id="8430183">)</span><span class="op" id="8430184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430188">if</span>&nbsp;<span class="ident" id="8430191">data</span>&nbsp;<span class="op" id="8430196">!=</span>&nbsp;<span class="num" id="8430199">17</span>&nbsp;<span class="op" id="8430202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430207">t</span><span class="op" id="8430208">.</span><span class="ident" id="8430209">Errorf</span><span class="op" id="8430215">(</span><span class="string" id="8430216">&#34;int16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8430237">,</span>&nbsp;<span class="ident" id="8430239">data</span><span class="op" id="8430243">)</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430247">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430254">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430265">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430269">var</span>&nbsp;<span class="ident" id="8430273">data</span>&nbsp;<span class="builtintype" id="8430278">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430287">instr</span>&nbsp;<span class="op" id="8430293">:=</span>&nbsp;<span class="op" id="8430296">&amp;</span><span class="ident" id="8430297">decInstr</span><span class="op" id="8430305">{</span><span class="ident" id="8430306">decUint16</span><span class="op" id="8430315">,</span>&nbsp;<span class="num" id="8430317">6</span><span class="op" id="8430318">,</span>&nbsp;<span class="ident" id="8430320">nil</span><span class="op" id="8430323">,</span>&nbsp;<span class="ident" id="8430325">ovfl</span><span class="op" id="8430329">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430333">state</span>&nbsp;<span class="op" id="8430339">:=</span>&nbsp;<span class="ident" id="8430342">newDecodeStateFromData</span><span class="op" id="8430364">(</span><span class="ident" id="8430365">unsignedResult</span><span class="op" id="8430379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430383">execDec</span><span class="op" id="8430390">(</span><span class="string" id="8430391">&#34;uint16&#34;</span><span class="op" id="8430399">,</span>&nbsp;<span class="ident" id="8430401">instr</span><span class="op" id="8430406">,</span>&nbsp;<span class="ident" id="8430408">state</span><span class="op" id="8430413">,</span>&nbsp;<span class="ident" id="8430415">t</span><span class="op" id="8430416">,</span>&nbsp;<span class="ident" id="8430418">reflect</span><span class="op" id="8430425">.</span><span class="ident" id="8430426">ValueOf</span><span class="op" id="8430433">(</span><span class="op" id="8430434">&amp;</span><span class="ident" id="8430435">data</span><span class="op" id="8430439">)</span><span class="op" id="8430440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430444">if</span>&nbsp;<span class="ident" id="8430447">data</span>&nbsp;<span class="op" id="8430452">!=</span>&nbsp;<span class="num" id="8430455">17</span>&nbsp;<span class="op" id="8430458">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430463">t</span><span class="op" id="8430464">.</span><span class="ident" id="8430465">Errorf</span><span class="op" id="8430471">(</span><span class="string" id="8430472">&#34;uint16&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8430494">,</span>&nbsp;<span class="ident" id="8430496">data</span><span class="op" id="8430500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430504">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430507">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430511">//&nbsp;int32</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430525">var</span>&nbsp;<span class="ident" id="8430529">data</span>&nbsp;<span class="builtintype" id="8430534">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430542">instr</span>&nbsp;<span class="op" id="8430548">:=</span>&nbsp;<span class="op" id="8430551">&amp;</span><span class="ident" id="8430552">decInstr</span><span class="op" id="8430560">{</span><span class="ident" id="8430561">decInt32</span><span class="op" id="8430569">,</span>&nbsp;<span class="num" id="8430571">6</span><span class="op" id="8430572">,</span>&nbsp;<span class="ident" id="8430574">nil</span><span class="op" id="8430577">,</span>&nbsp;<span class="ident" id="8430579">ovfl</span><span class="op" id="8430583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430587">state</span>&nbsp;<span class="op" id="8430593">:=</span>&nbsp;<span class="ident" id="8430596">newDecodeStateFromData</span><span class="op" id="8430618">(</span><span class="ident" id="8430619">signedResult</span><span class="op" id="8430631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430635">execDec</span><span class="op" id="8430642">(</span><span class="string" id="8430643">&#34;int32&#34;</span><span class="op" id="8430650">,</span>&nbsp;<span class="ident" id="8430652">instr</span><span class="op" id="8430657">,</span>&nbsp;<span class="ident" id="8430659">state</span><span class="op" id="8430664">,</span>&nbsp;<span class="ident" id="8430666">t</span><span class="op" id="8430667">,</span>&nbsp;<span class="ident" id="8430669">reflect</span><span class="op" id="8430676">.</span><span class="ident" id="8430677">ValueOf</span><span class="op" id="8430684">(</span><span class="op" id="8430685">&amp;</span><span class="ident" id="8430686">data</span><span class="op" id="8430690">)</span><span class="op" id="8430691">)</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430695">if</span>&nbsp;<span class="ident" id="8430698">data</span>&nbsp;<span class="op" id="8430703">!=</span>&nbsp;<span class="num" id="8430706">17</span>&nbsp;<span class="op" id="8430709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430714">t</span><span class="op" id="8430715">.</span><span class="ident" id="8430716">Errorf</span><span class="op" id="8430722">(</span><span class="string" id="8430723">&#34;int32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8430744">,</span>&nbsp;<span class="ident" id="8430746">data</span><span class="op" id="8430750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430754">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8430761">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8430772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430776">var</span>&nbsp;<span class="ident" id="8430780">data</span>&nbsp;<span class="builtintype" id="8430785">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430794">instr</span>&nbsp;<span class="op" id="8430800">:=</span>&nbsp;<span class="op" id="8430803">&amp;</span><span class="ident" id="8430804">decInstr</span><span class="op" id="8430812">{</span><span class="ident" id="8430813">decUint32</span><span class="op" id="8430822">,</span>&nbsp;<span class="num" id="8430824">6</span><span class="op" id="8430825">,</span>&nbsp;<span class="ident" id="8430827">nil</span><span class="op" id="8430830">,</span>&nbsp;<span class="ident" id="8430832">ovfl</span><span class="op" id="8430836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430840">state</span>&nbsp;<span class="op" id="8430846">:=</span>&nbsp;<span class="ident" id="8430849">newDecodeStateFromData</span><span class="op" id="8430871">(</span><span class="ident" id="8430872">unsignedResult</span><span class="op" id="8430886">)</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430890">execDec</span><span class="op" id="8430897">(</span><span class="string" id="8430898">&#34;uint32&#34;</span><span class="op" id="8430906">,</span>&nbsp;<span class="ident" id="8430908">instr</span><span class="op" id="8430913">,</span>&nbsp;<span class="ident" id="8430915">state</span><span class="op" id="8430920">,</span>&nbsp;<span class="ident" id="8430922">t</span><span class="op" id="8430923">,</span>&nbsp;<span class="ident" id="8430925">reflect</span><span class="op" id="8430932">.</span><span class="ident" id="8430933">ValueOf</span><span class="op" id="8430940">(</span><span class="op" id="8430941">&amp;</span><span class="ident" id="8430942">data</span><span class="op" id="8430946">)</span><span class="op" id="8430947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8430951">if</span>&nbsp;<span class="ident" id="8430954">data</span>&nbsp;<span class="op" id="8430959">!=</span>&nbsp;<span class="num" id="8430962">17</span>&nbsp;<span class="op" id="8430965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8430970">t</span><span class="op" id="8430971">.</span><span class="ident" id="8430972">Errorf</span><span class="op" id="8430978">(</span><span class="string" id="8430979">&#34;uint32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8431001">,</span>&nbsp;<span class="ident" id="8431003">data</span><span class="op" id="8431007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431014">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8431018">//&nbsp;uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431034">var</span>&nbsp;<span class="ident" id="8431038">data</span>&nbsp;<span class="builtintype" id="8431043">uintptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431053">instr</span>&nbsp;<span class="op" id="8431059">:=</span>&nbsp;<span class="op" id="8431062">&amp;</span><span class="ident" id="8431063">decInstr</span><span class="op" id="8431071">{</span><span class="ident" id="8431072">decOpTable</span><span class="op" id="8431082">[</span><span class="ident" id="8431083">reflect</span><span class="op" id="8431090">.</span><span class="ident" id="8431091">Uintptr</span><span class="op" id="8431098">]</span><span class="op" id="8431099">,</span>&nbsp;<span class="num" id="8431101">6</span><span class="op" id="8431102">,</span>&nbsp;<span class="ident" id="8431104">nil</span><span class="op" id="8431107">,</span>&nbsp;<span class="ident" id="8431109">ovfl</span><span class="op" id="8431113">}</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431117">state</span>&nbsp;<span class="op" id="8431123">:=</span>&nbsp;<span class="ident" id="8431126">newDecodeStateFromData</span><span class="op" id="8431148">(</span><span class="ident" id="8431149">unsignedResult</span><span class="op" id="8431163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431167">execDec</span><span class="op" id="8431174">(</span><span class="string" id="8431175">&#34;uintptr&#34;</span><span class="op" id="8431184">,</span>&nbsp;<span class="ident" id="8431186">instr</span><span class="op" id="8431191">,</span>&nbsp;<span class="ident" id="8431193">state</span><span class="op" id="8431198">,</span>&nbsp;<span class="ident" id="8431200">t</span><span class="op" id="8431201">,</span>&nbsp;<span class="ident" id="8431203">reflect</span><span class="op" id="8431210">.</span><span class="ident" id="8431211">ValueOf</span><span class="op" id="8431218">(</span><span class="op" id="8431219">&amp;</span><span class="ident" id="8431220">data</span><span class="op" id="8431224">)</span><span class="op" id="8431225">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431229">if</span>&nbsp;<span class="ident" id="8431232">data</span>&nbsp;<span class="op" id="8431237">!=</span>&nbsp;<span class="num" id="8431240">17</span>&nbsp;<span class="op" id="8431243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431248">t</span><span class="op" id="8431249">.</span><span class="ident" id="8431250">Errorf</span><span class="op" id="8431256">(</span><span class="string" id="8431257">&#34;uintptr&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8431280">,</span>&nbsp;<span class="ident" id="8431282">data</span><span class="op" id="8431286">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431290">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431293">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8431297">//&nbsp;int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431311">var</span>&nbsp;<span class="ident" id="8431315">data</span>&nbsp;<span class="ident" id="8431320">int64</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431328">instr</span>&nbsp;<span class="op" id="8431334">:=</span>&nbsp;<span class="op" id="8431337">&amp;</span><span class="ident" id="8431338">decInstr</span><span class="op" id="8431346">{</span><span class="ident" id="8431347">decInt64</span><span class="op" id="8431355">,</span>&nbsp;<span class="num" id="8431357">6</span><span class="op" id="8431358">,</span>&nbsp;<span class="ident" id="8431360">nil</span><span class="op" id="8431363">,</span>&nbsp;<span class="ident" id="8431365">ovfl</span><span class="op" id="8431369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431373">state</span>&nbsp;<span class="op" id="8431379">:=</span>&nbsp;<span class="ident" id="8431382">newDecodeStateFromData</span><span class="op" id="8431404">(</span><span class="ident" id="8431405">signedResult</span><span class="op" id="8431417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431421">execDec</span><span class="op" id="8431428">(</span><span class="string" id="8431429">&#34;int64&#34;</span><span class="op" id="8431436">,</span>&nbsp;<span class="ident" id="8431438">instr</span><span class="op" id="8431443">,</span>&nbsp;<span class="ident" id="8431445">state</span><span class="op" id="8431450">,</span>&nbsp;<span class="ident" id="8431452">t</span><span class="op" id="8431453">,</span>&nbsp;<span class="ident" id="8431455">reflect</span><span class="op" id="8431462">.</span><span class="ident" id="8431463">ValueOf</span><span class="op" id="8431470">(</span><span class="op" id="8431471">&amp;</span><span class="ident" id="8431472">data</span><span class="op" id="8431476">)</span><span class="op" id="8431477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431481">if</span>&nbsp;<span class="ident" id="8431484">data</span>&nbsp;<span class="op" id="8431489">!=</span>&nbsp;<span class="num" id="8431492">17</span>&nbsp;<span class="op" id="8431495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431500">t</span><span class="op" id="8431501">.</span><span class="ident" id="8431502">Errorf</span><span class="op" id="8431508">(</span><span class="string" id="8431509">&#34;int64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8431530">,</span>&nbsp;<span class="ident" id="8431532">data</span><span class="op" id="8431536">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431543">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8431547">//&nbsp;uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431558">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431562">var</span>&nbsp;<span class="ident" id="8431566">data</span>&nbsp;<span class="ident" id="8431571">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431580">instr</span>&nbsp;<span class="op" id="8431586">:=</span>&nbsp;<span class="op" id="8431589">&amp;</span><span class="ident" id="8431590">decInstr</span><span class="op" id="8431598">{</span><span class="ident" id="8431599">decUint64</span><span class="op" id="8431608">,</span>&nbsp;<span class="num" id="8431610">6</span><span class="op" id="8431611">,</span>&nbsp;<span class="ident" id="8431613">nil</span><span class="op" id="8431616">,</span>&nbsp;<span class="ident" id="8431618">ovfl</span><span class="op" id="8431622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431626">state</span>&nbsp;<span class="op" id="8431632">:=</span>&nbsp;<span class="ident" id="8431635">newDecodeStateFromData</span><span class="op" id="8431657">(</span><span class="ident" id="8431658">unsignedResult</span><span class="op" id="8431672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431676">execDec</span><span class="op" id="8431683">(</span><span class="string" id="8431684">&#34;uint64&#34;</span><span class="op" id="8431692">,</span>&nbsp;<span class="ident" id="8431694">instr</span><span class="op" id="8431699">,</span>&nbsp;<span class="ident" id="8431701">state</span><span class="op" id="8431706">,</span>&nbsp;<span class="ident" id="8431708">t</span><span class="op" id="8431709">,</span>&nbsp;<span class="ident" id="8431711">reflect</span><span class="op" id="8431718">.</span><span class="ident" id="8431719">ValueOf</span><span class="op" id="8431726">(</span><span class="op" id="8431727">&amp;</span><span class="ident" id="8431728">data</span><span class="op" id="8431732">)</span><span class="op" id="8431733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431737">if</span>&nbsp;<span class="ident" id="8431740">data</span>&nbsp;<span class="op" id="8431745">!=</span>&nbsp;<span class="num" id="8431748">17</span>&nbsp;<span class="op" id="8431751">{</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431756">t</span><span class="op" id="8431757">.</span><span class="ident" id="8431758">Errorf</span><span class="op" id="8431764">(</span><span class="string" id="8431765">&#34;uint64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8431787">,</span>&nbsp;<span class="ident" id="8431789">data</span><span class="op" id="8431793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431797">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431800">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8431804">//&nbsp;float32</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8431816">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431820">var</span>&nbsp;<span class="ident" id="8431824">data</span>&nbsp;<span class="builtintype" id="8431829">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431839">instr</span>&nbsp;<span class="op" id="8431845">:=</span>&nbsp;<span class="op" id="8431848">&amp;</span><span class="ident" id="8431849">decInstr</span><span class="op" id="8431857">{</span><span class="ident" id="8431858">decFloat32</span><span class="op" id="8431868">,</span>&nbsp;<span class="num" id="8431870">6</span><span class="op" id="8431871">,</span>&nbsp;<span class="ident" id="8431873">nil</span><span class="op" id="8431876">,</span>&nbsp;<span class="ident" id="8431878">ovfl</span><span class="op" id="8431882">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431886">state</span>&nbsp;<span class="op" id="8431892">:=</span>&nbsp;<span class="ident" id="8431895">newDecodeStateFromData</span><span class="op" id="8431917">(</span><span class="ident" id="8431918">floatResult</span><span class="op" id="8431929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8431933">execDec</span><span class="op" id="8431940">(</span><span class="string" id="8431941">&#34;float32&#34;</span><span class="op" id="8431950">,</span>&nbsp;<span class="ident" id="8431952">instr</span><span class="op" id="8431957">,</span>&nbsp;<span class="ident" id="8431959">state</span><span class="op" id="8431964">,</span>&nbsp;<span class="ident" id="8431966">t</span><span class="op" id="8431967">,</span>&nbsp;<span class="ident" id="8431969">reflect</span><span class="op" id="8431976">.</span><span class="ident" id="8431977">ValueOf</span><span class="op" id="8431984">(</span><span class="op" id="8431985">&amp;</span><span class="ident" id="8431986">data</span><span class="op" id="8431990">)</span><span class="op" id="8431991">)</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8431995">if</span>&nbsp;<span class="ident" id="8431998">data</span>&nbsp;<span class="op" id="8432003">!=</span>&nbsp;<span class="num" id="8432006">17</span>&nbsp;<span class="op" id="8432009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432014">t</span><span class="op" id="8432015">.</span><span class="ident" id="8432016">Errorf</span><span class="op" id="8432022">(</span><span class="string" id="8432023">&#34;float32&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8432046">,</span>&nbsp;<span class="ident" id="8432048">data</span><span class="op" id="8432052">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432056">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432059">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432063">//&nbsp;float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432079">var</span>&nbsp;<span class="ident" id="8432083">data</span>&nbsp;<span class="builtintype" id="8432088">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432098">instr</span>&nbsp;<span class="op" id="8432104">:=</span>&nbsp;<span class="op" id="8432107">&amp;</span><span class="ident" id="8432108">decInstr</span><span class="op" id="8432116">{</span><span class="ident" id="8432117">decFloat64</span><span class="op" id="8432127">,</span>&nbsp;<span class="num" id="8432129">6</span><span class="op" id="8432130">,</span>&nbsp;<span class="ident" id="8432132">nil</span><span class="op" id="8432135">,</span>&nbsp;<span class="ident" id="8432137">ovfl</span><span class="op" id="8432141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432145">state</span>&nbsp;<span class="op" id="8432151">:=</span>&nbsp;<span class="ident" id="8432154">newDecodeStateFromData</span><span class="op" id="8432176">(</span><span class="ident" id="8432177">floatResult</span><span class="op" id="8432188">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432192">execDec</span><span class="op" id="8432199">(</span><span class="string" id="8432200">&#34;float64&#34;</span><span class="op" id="8432209">,</span>&nbsp;<span class="ident" id="8432211">instr</span><span class="op" id="8432216">,</span>&nbsp;<span class="ident" id="8432218">state</span><span class="op" id="8432223">,</span>&nbsp;<span class="ident" id="8432225">t</span><span class="op" id="8432226">,</span>&nbsp;<span class="ident" id="8432228">reflect</span><span class="op" id="8432235">.</span><span class="ident" id="8432236">ValueOf</span><span class="op" id="8432243">(</span><span class="op" id="8432244">&amp;</span><span class="ident" id="8432245">data</span><span class="op" id="8432249">)</span><span class="op" id="8432250">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432254">if</span>&nbsp;<span class="ident" id="8432257">data</span>&nbsp;<span class="op" id="8432262">!=</span>&nbsp;<span class="num" id="8432265">17</span>&nbsp;<span class="op" id="8432268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432273">t</span><span class="op" id="8432274">.</span><span class="ident" id="8432275">Errorf</span><span class="op" id="8432281">(</span><span class="string" id="8432282">&#34;float64&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17&#34;</span><span class="op" id="8432305">,</span>&nbsp;<span class="ident" id="8432307">data</span><span class="op" id="8432311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432315">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432318">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432322">//&nbsp;complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432340">var</span>&nbsp;<span class="ident" id="8432344">data</span>&nbsp;<span class="builtintype" id="8432349">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432361">instr</span>&nbsp;<span class="op" id="8432367">:=</span>&nbsp;<span class="op" id="8432370">&amp;</span><span class="ident" id="8432371">decInstr</span><span class="op" id="8432379">{</span><span class="ident" id="8432380">decOpTable</span><span class="op" id="8432390">[</span><span class="ident" id="8432391">reflect</span><span class="op" id="8432398">.</span><span class="ident" id="8432399">Complex64</span><span class="op" id="8432408">]</span><span class="op" id="8432409">,</span>&nbsp;<span class="num" id="8432411">6</span><span class="op" id="8432412">,</span>&nbsp;<span class="ident" id="8432414">nil</span><span class="op" id="8432417">,</span>&nbsp;<span class="ident" id="8432419">ovfl</span><span class="op" id="8432423">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432427">state</span>&nbsp;<span class="op" id="8432433">:=</span>&nbsp;<span class="ident" id="8432436">newDecodeStateFromData</span><span class="op" id="8432458">(</span><span class="ident" id="8432459">complexResult</span><span class="op" id="8432472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432476">execDec</span><span class="op" id="8432483">(</span><span class="string" id="8432484">&#34;complex&#34;</span><span class="op" id="8432493">,</span>&nbsp;<span class="ident" id="8432495">instr</span><span class="op" id="8432500">,</span>&nbsp;<span class="ident" id="8432502">state</span><span class="op" id="8432507">,</span>&nbsp;<span class="ident" id="8432509">t</span><span class="op" id="8432510">,</span>&nbsp;<span class="ident" id="8432512">reflect</span><span class="op" id="8432519">.</span><span class="ident" id="8432520">ValueOf</span><span class="op" id="8432527">(</span><span class="op" id="8432528">&amp;</span><span class="ident" id="8432529">data</span><span class="op" id="8432533">)</span><span class="op" id="8432534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432538">if</span>&nbsp;<span class="ident" id="8432541">data</span>&nbsp;<span class="op" id="8432546">!=</span>&nbsp;<span class="num" id="8432549">17</span><span class="op" id="8432551">+</span><span class="num" id="8432552">19i</span>&nbsp;<span class="op" id="8432556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432561">t</span><span class="op" id="8432562">.</span><span class="ident" id="8432563">Errorf</span><span class="op" id="8432569">(</span><span class="string" id="8432570">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8432597">,</span>&nbsp;<span class="ident" id="8432599">data</span><span class="op" id="8432603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432607">}</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432614">//&nbsp;complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432633">var</span>&nbsp;<span class="ident" id="8432637">data</span>&nbsp;<span class="builtintype" id="8432642">complex128</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432655">instr</span>&nbsp;<span class="op" id="8432661">:=</span>&nbsp;<span class="op" id="8432664">&amp;</span><span class="ident" id="8432665">decInstr</span><span class="op" id="8432673">{</span><span class="ident" id="8432674">decOpTable</span><span class="op" id="8432684">[</span><span class="ident" id="8432685">reflect</span><span class="op" id="8432692">.</span><span class="ident" id="8432693">Complex128</span><span class="op" id="8432703">]</span><span class="op" id="8432704">,</span>&nbsp;<span class="num" id="8432706">6</span><span class="op" id="8432707">,</span>&nbsp;<span class="ident" id="8432709">nil</span><span class="op" id="8432712">,</span>&nbsp;<span class="ident" id="8432714">ovfl</span><span class="op" id="8432718">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432722">state</span>&nbsp;<span class="op" id="8432728">:=</span>&nbsp;<span class="ident" id="8432731">newDecodeStateFromData</span><span class="op" id="8432753">(</span><span class="ident" id="8432754">complexResult</span><span class="op" id="8432767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432771">execDec</span><span class="op" id="8432778">(</span><span class="string" id="8432779">&#34;complex&#34;</span><span class="op" id="8432788">,</span>&nbsp;<span class="ident" id="8432790">instr</span><span class="op" id="8432795">,</span>&nbsp;<span class="ident" id="8432797">state</span><span class="op" id="8432802">,</span>&nbsp;<span class="ident" id="8432804">t</span><span class="op" id="8432805">,</span>&nbsp;<span class="ident" id="8432807">reflect</span><span class="op" id="8432814">.</span><span class="ident" id="8432815">ValueOf</span><span class="op" id="8432822">(</span><span class="op" id="8432823">&amp;</span><span class="ident" id="8432824">data</span><span class="op" id="8432828">)</span><span class="op" id="8432829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432833">if</span>&nbsp;<span class="ident" id="8432836">data</span>&nbsp;<span class="op" id="8432841">!=</span>&nbsp;<span class="num" id="8432844">17</span><span class="op" id="8432846">+</span><span class="num" id="8432847">19i</span>&nbsp;<span class="op" id="8432851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432856">t</span><span class="op" id="8432857">.</span><span class="ident" id="8432858">Errorf</span><span class="op" id="8432864">(</span><span class="string" id="8432865">&#34;complex&nbsp;a&nbsp;=&nbsp;%v&nbsp;not&nbsp;17+19i&#34;</span><span class="op" id="8432892">,</span>&nbsp;<span class="ident" id="8432894">data</span><span class="op" id="8432898">)</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432902">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432905">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8432909">//&nbsp;bytes&nbsp;==&nbsp;[]uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8432930">{</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8432934">var</span>&nbsp;<span class="ident" id="8432938">data</span>&nbsp;<span class="op" id="8432943">[</span><span class="op" id="8432944">]</span><span class="builtintype" id="8432945">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8432952">instr</span>&nbsp;<span class="op" id="8432958">:=</span>&nbsp;<span class="op" id="8432961">&amp;</span><span class="ident" id="8432962">decInstr</span><span class="op" id="8432970">{</span><span class="ident" id="8432971">decUint8Slice</span><span class="op" id="8432984">,</span>&nbsp;<span class="num" id="8432986">6</span><span class="op" id="8432987">,</span>&nbsp;<span class="ident" id="8432989">nil</span><span class="op" id="8432992">,</span>&nbsp;<span class="ident" id="8432994">ovfl</span><span class="op" id="8432998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433002">state</span>&nbsp;<span class="op" id="8433008">:=</span>&nbsp;<span class="ident" id="8433011">newDecodeStateFromData</span><span class="op" id="8433033">(</span><span class="ident" id="8433034">bytesResult</span><span class="op" id="8433045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433049">execDec</span><span class="op" id="8433056">(</span><span class="string" id="8433057">&#34;bytes&#34;</span><span class="op" id="8433064">,</span>&nbsp;<span class="ident" id="8433066">instr</span><span class="op" id="8433071">,</span>&nbsp;<span class="ident" id="8433073">state</span><span class="op" id="8433078">,</span>&nbsp;<span class="ident" id="8433080">t</span><span class="op" id="8433081">,</span>&nbsp;<span class="ident" id="8433083">reflect</span><span class="op" id="8433090">.</span><span class="ident" id="8433091">ValueOf</span><span class="op" id="8433098">(</span><span class="op" id="8433099">&amp;</span><span class="ident" id="8433100">data</span><span class="op" id="8433104">)</span><span class="op" id="8433105">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433109">if</span>&nbsp;<span class="builtintype" id="8433112">string</span><span class="op" id="8433118">(</span><span class="ident" id="8433119">data</span><span class="op" id="8433123">)</span>&nbsp;<span class="op" id="8433125">!=</span>&nbsp;<span class="string" id="8433128">&#34;hello&#34;</span>&nbsp;<span class="op" id="8433136">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433141">t</span><span class="op" id="8433142">.</span><span class="ident" id="8433143">Errorf</span><span class="op" id="8433149">(</span><span class="string" id="8433150">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8433176">,</span>&nbsp;<span class="builtintype" id="8433178">string</span><span class="op" id="8433184">(</span><span class="ident" id="8433185">data</span><span class="op" id="8433189">)</span><span class="op" id="8433190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433197">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8433201">//&nbsp;string</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433216">var</span>&nbsp;<span class="ident" id="8433220">data</span>&nbsp;<span class="builtintype" id="8433225">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433234">instr</span>&nbsp;<span class="op" id="8433240">:=</span>&nbsp;<span class="op" id="8433243">&amp;</span><span class="ident" id="8433244">decInstr</span><span class="op" id="8433252">{</span><span class="ident" id="8433253">decString</span><span class="op" id="8433262">,</span>&nbsp;<span class="num" id="8433264">6</span><span class="op" id="8433265">,</span>&nbsp;<span class="ident" id="8433267">nil</span><span class="op" id="8433270">,</span>&nbsp;<span class="ident" id="8433272">ovfl</span><span class="op" id="8433276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433280">state</span>&nbsp;<span class="op" id="8433286">:=</span>&nbsp;<span class="ident" id="8433289">newDecodeStateFromData</span><span class="op" id="8433311">(</span><span class="ident" id="8433312">bytesResult</span><span class="op" id="8433323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433327">execDec</span><span class="op" id="8433334">(</span><span class="string" id="8433335">&#34;bytes&#34;</span><span class="op" id="8433342">,</span>&nbsp;<span class="ident" id="8433344">instr</span><span class="op" id="8433349">,</span>&nbsp;<span class="ident" id="8433351">state</span><span class="op" id="8433356">,</span>&nbsp;<span class="ident" id="8433358">t</span><span class="op" id="8433359">,</span>&nbsp;<span class="ident" id="8433361">reflect</span><span class="op" id="8433368">.</span><span class="ident" id="8433369">ValueOf</span><span class="op" id="8433376">(</span><span class="op" id="8433377">&amp;</span><span class="ident" id="8433378">data</span><span class="op" id="8433382">)</span><span class="op" id="8433383">)</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433387">if</span>&nbsp;<span class="ident" id="8433390">data</span>&nbsp;<span class="op" id="8433395">!=</span>&nbsp;<span class="string" id="8433398">&#34;hello&#34;</span>&nbsp;<span class="op" id="8433406">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433411">t</span><span class="op" id="8433412">.</span><span class="ident" id="8433413">Errorf</span><span class="op" id="8433419">(</span><span class="string" id="8433420">`bytes&nbsp;a&nbsp;=&nbsp;%q&nbsp;not&nbsp;&#34;hello&#34;`</span><span class="op" id="8433446">,</span>&nbsp;<span class="ident" id="8433448">data</span><span class="op" id="8433452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433456">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433459">}</span><br>
<span class="lineno"></span><span class="op" id="8433461">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="8433464">func</span>&nbsp;<span class="ident" id="8433469">TestEndToEnd</span><span class="op" id="8433481">(</span><span class="ident" id="8433482">t</span>&nbsp;<span class="op" id="8433484">*</span><span class="ident" id="8433485">testing</span><span class="op" id="8433492">.</span><span class="ident" id="8433493">T</span><span class="op" id="8433494">)</span>&nbsp;<span class="op" id="8433496">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433499">type</span>&nbsp;<span class="ident" id="8433504">T2</span>&nbsp;<span class="keyword" id="8433507">struct</span>&nbsp;<span class="op" id="8433514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433518">T</span>&nbsp;<span class="builtintype" id="8433520">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433528">}</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433531">s1</span>&nbsp;<span class="op" id="8433534">:=</span>&nbsp;<span class="string" id="8433537">&#34;string1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433548">s2</span>&nbsp;<span class="op" id="8433551">:=</span>&nbsp;<span class="string" id="8433554">&#34;string2&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8433565">type</span>&nbsp;<span class="ident" id="8433570">T1</span>&nbsp;<span class="keyword" id="8433573">struct</span>&nbsp;<span class="op" id="8433580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433584">A</span><span class="op" id="8433585">,</span>&nbsp;<span class="ident" id="8433587">B</span><span class="op" id="8433588">,</span>&nbsp;<span class="ident" id="8433590">C</span>&nbsp;&nbsp;<span class="builtintype" id="8433593">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433599">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8433608">map</span><span class="op" id="8433611">[</span><span class="builtintype" id="8433612">string</span><span class="op" id="8433618">]</span><span class="op" id="8433619">*</span><span class="builtintype" id="8433620">float64</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433630">EmptyMap</span>&nbsp;<span class="keyword" id="8433639">map</span><span class="op" id="8433642">[</span><span class="builtintype" id="8433643">string</span><span class="op" id="8433649">]</span><span class="builtintype" id="8433650">int</span>&nbsp;<span class="comment" id="8433654">//&nbsp;to&nbsp;check&nbsp;that&nbsp;we&nbsp;receive&nbsp;a&nbsp;non-nil&nbsp;map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433699">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433708">*</span><span class="op" id="8433709">[</span><span class="num" id="8433710">3</span><span class="op" id="8433711">]</span><span class="builtintype" id="8433712">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433722">Strs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433731">*</span><span class="op" id="8433732">[</span><span class="num" id="8433733">2</span><span class="op" id="8433734">]</span><span class="builtintype" id="8433735">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433744">Int64s</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8433753">*</span><span class="op" id="8433754">[</span><span class="op" id="8433755">]</span><span class="ident" id="8433756">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433764">RI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433773">complex64</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433785">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8433794">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433803">Y</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433812">[</span><span class="op" id="8433813">]</span><span class="builtintype" id="8433814">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433821">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433830">*</span><span class="ident" id="8433831">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8433835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433838">pi</span>&nbsp;<span class="op" id="8433841">:=</span>&nbsp;<span class="num" id="8433844">3.14159</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433853">e</span>&nbsp;<span class="op" id="8433855">:=</span>&nbsp;<span class="num" id="8433858">2.71828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433867">t1</span>&nbsp;<span class="op" id="8433870">:=</span>&nbsp;<span class="op" id="8433873">&amp;</span><span class="ident" id="8433874">T1</span><span class="op" id="8433876">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433880">A</span><span class="op" id="8433881">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8433890">17</span><span class="op" id="8433892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433896">B</span><span class="op" id="8433897">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8433906">18</span><span class="op" id="8433908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433912">C</span><span class="op" id="8433913">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8433922">-</span><span class="num" id="8433923">5</span><span class="op" id="8433924">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433928">M</span><span class="op" id="8433929">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8433938">map</span><span class="op" id="8433941">[</span><span class="builtintype" id="8433942">string</span><span class="op" id="8433948">]</span><span class="op" id="8433949">*</span><span class="builtintype" id="8433950">float64</span><span class="op" id="8433957">{</span><span class="string" id="8433958">&#34;pi&#34;</span><span class="op" id="8433962">:</span>&nbsp;<span class="op" id="8433964">&amp;</span><span class="ident" id="8433965">pi</span><span class="op" id="8433967">,</span>&nbsp;<span class="string" id="8433969">&#34;e&#34;</span><span class="op" id="8433972">:</span>&nbsp;<span class="op" id="8433974">&amp;</span><span class="ident" id="8433975">e</span><span class="op" id="8433976">}</span><span class="op" id="8433977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8433981">EmptyMap</span><span class="op" id="8433989">:</span>&nbsp;<span class="builtinfunc" id="8433991">make</span><span class="op" id="8433995">(</span><span class="keyword" id="8433996">map</span><span class="op" id="8433999">[</span><span class="builtintype" id="8434000">string</span><span class="op" id="8434006">]</span><span class="builtintype" id="8434007">int</span><span class="op" id="8434010">)</span><span class="op" id="8434011">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434015">N</span><span class="op" id="8434016">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434025">&amp;</span><span class="op" id="8434026">[</span><span class="num" id="8434027">3</span><span class="op" id="8434028">]</span><span class="builtintype" id="8434029">float64</span><span class="op" id="8434036">{</span><span class="num" id="8434037">1.5</span><span class="op" id="8434040">,</span>&nbsp;<span class="num" id="8434042">2.5</span><span class="op" id="8434045">,</span>&nbsp;<span class="num" id="8434047">3.5</span><span class="op" id="8434050">}</span><span class="op" id="8434051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434055">Strs</span><span class="op" id="8434059">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434065">&amp;</span><span class="op" id="8434066">[</span><span class="num" id="8434067">2</span><span class="op" id="8434068">]</span><span class="builtintype" id="8434069">string</span><span class="op" id="8434075">{</span><span class="ident" id="8434076">s1</span><span class="op" id="8434078">,</span>&nbsp;<span class="ident" id="8434080">s2</span><span class="op" id="8434082">}</span><span class="op" id="8434083">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434087">Int64s</span><span class="op" id="8434093">:</span>&nbsp;&nbsp;&nbsp;<span class="op" id="8434097">&amp;</span><span class="op" id="8434098">[</span><span class="op" id="8434099">]</span><span class="ident" id="8434100">int64</span><span class="op" id="8434105">{</span><span class="num" id="8434106">77</span><span class="op" id="8434108">,</span>&nbsp;<span class="num" id="8434110">89</span><span class="op" id="8434112">,</span>&nbsp;<span class="num" id="8434114">123412342134</span><span class="op" id="8434126">}</span><span class="op" id="8434127">,</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434131">RI</span><span class="op" id="8434133">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8434141">17</span>&nbsp;<span class="op" id="8434144">-</span>&nbsp;<span class="num" id="8434146">23i</span><span class="op" id="8434149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434153">S</span><span class="op" id="8434154">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8434163">&#34;Now&nbsp;is&nbsp;the&nbsp;time&#34;</span><span class="op" id="8434180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434184">Y</span><span class="op" id="8434185">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434194">[</span><span class="op" id="8434195">]</span><span class="builtintype" id="8434196">byte</span><span class="op" id="8434200">(</span><span class="string" id="8434201">&#34;hello,&nbsp;sailor&#34;</span><span class="op" id="8434216">)</span><span class="op" id="8434217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434221">T</span><span class="op" id="8434222">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8434231">&amp;</span><span class="ident" id="8434232">T2</span><span class="op" id="8434234">{</span><span class="string" id="8434235">&#34;this&nbsp;is&nbsp;T2&#34;</span><span class="op" id="8434247">}</span><span class="op" id="8434248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434251">}</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434254">b</span>&nbsp;<span class="op" id="8434256">:=</span>&nbsp;<span class="builtinfunc" id="8434259">new</span><span class="op" id="8434262">(</span><span class="ident" id="8434263">bytes</span><span class="op" id="8434268">.</span><span class="ident" id="8434269">Buffer</span><span class="op" id="8434275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434278">err</span>&nbsp;<span class="op" id="8434282">:=</span>&nbsp;<span class="ident" id="8434285">NewEncoder</span><span class="op" id="8434295">(</span><span class="ident" id="8434296">b</span><span class="op" id="8434297">)</span><span class="op" id="8434298">.</span><span class="ident" id="8434299">Encode</span><span class="op" id="8434305">(</span><span class="ident" id="8434306">t1</span><span class="op" id="8434308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434311">if</span>&nbsp;<span class="ident" id="8434314">err</span>&nbsp;<span class="op" id="8434318">!=</span>&nbsp;<span class="ident" id="8434321">nil</span>&nbsp;<span class="op" id="8434325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434329">t</span><span class="op" id="8434330">.</span><span class="ident" id="8434331">Error</span><span class="op" id="8434336">(</span><span class="string" id="8434337">&#34;encode:&#34;</span><span class="op" id="8434346">,</span>&nbsp;<span class="ident" id="8434348">err</span><span class="op" id="8434351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434354">}</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434357">var</span>&nbsp;<span class="ident" id="8434361">_t1</span>&nbsp;<span class="ident" id="8434365">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434369">err</span>&nbsp;<span class="op" id="8434373">=</span>&nbsp;<span class="ident" id="8434375">NewDecoder</span><span class="op" id="8434385">(</span><span class="ident" id="8434386">b</span><span class="op" id="8434387">)</span><span class="op" id="8434388">.</span><span class="ident" id="8434389">Decode</span><span class="op" id="8434395">(</span><span class="op" id="8434396">&amp;</span><span class="ident" id="8434397">_t1</span><span class="op" id="8434400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434403">if</span>&nbsp;<span class="ident" id="8434406">err</span>&nbsp;<span class="op" id="8434410">!=</span>&nbsp;<span class="ident" id="8434413">nil</span>&nbsp;<span class="op" id="8434417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434421">t</span><span class="op" id="8434422">.</span><span class="ident" id="8434423">Fatal</span><span class="op" id="8434428">(</span><span class="string" id="8434429">&#34;decode:&#34;</span><span class="op" id="8434438">,</span>&nbsp;<span class="ident" id="8434440">err</span><span class="op" id="8434443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434446">}</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434449">if</span>&nbsp;<span class="op" id="8434452">!</span><span class="ident" id="8434453">reflect</span><span class="op" id="8434460">.</span><span class="ident" id="8434461">DeepEqual</span><span class="op" id="8434470">(</span><span class="ident" id="8434471">t1</span><span class="op" id="8434473">,</span>&nbsp;<span class="op" id="8434475">&amp;</span><span class="ident" id="8434476">_t1</span><span class="op" id="8434479">)</span>&nbsp;<span class="op" id="8434481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434485">t</span><span class="op" id="8434486">.</span><span class="ident" id="8434487">Errorf</span><span class="op" id="8434493">(</span><span class="string" id="8434494">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8434521">,</span>&nbsp;<span class="op" id="8434523">*</span><span class="ident" id="8434524">t1</span><span class="op" id="8434526">,</span>&nbsp;<span class="ident" id="8434528">_t1</span><span class="op" id="8434531">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434534">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8434537">//&nbsp;Be&nbsp;absolutely&nbsp;sure&nbsp;the&nbsp;received&nbsp;map&nbsp;is&nbsp;non-nil.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434589">if</span>&nbsp;<span class="ident" id="8434592">t1</span><span class="op" id="8434594">.</span><span class="ident" id="8434595">EmptyMap</span>&nbsp;<span class="op" id="8434604">==</span>&nbsp;<span class="ident" id="8434607">nil</span>&nbsp;<span class="op" id="8434611">{</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434615">t</span><span class="op" id="8434616">.</span><span class="ident" id="8434617">Errorf</span><span class="op" id="8434623">(</span><span class="string" id="8434624">&#34;nil&nbsp;map&nbsp;sent&#34;</span><span class="op" id="8434638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434644">if</span>&nbsp;<span class="ident" id="8434647">_t1</span><span class="op" id="8434650">.</span><span class="ident" id="8434651">EmptyMap</span>&nbsp;<span class="op" id="8434660">==</span>&nbsp;<span class="ident" id="8434663">nil</span>&nbsp;<span class="op" id="8434667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434671">t</span><span class="op" id="8434672">.</span><span class="ident" id="8434673">Errorf</span><span class="op" id="8434679">(</span><span class="string" id="8434680">&#34;nil&nbsp;map&nbsp;received&#34;</span><span class="op" id="8434698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434701">}</span><br>
<span class="lineno">600</span><span class="op" id="8434703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8434706">func</span>&nbsp;<span class="ident" id="8434711">TestOverflow</span><span class="op" id="8434723">(</span><span class="ident" id="8434724">t</span>&nbsp;<span class="op" id="8434726">*</span><span class="ident" id="8434727">testing</span><span class="op" id="8434734">.</span><span class="ident" id="8434735">T</span><span class="op" id="8434736">)</span>&nbsp;<span class="op" id="8434738">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434741">type</span>&nbsp;<span class="ident" id="8434746">inputT</span>&nbsp;<span class="keyword" id="8434753">struct</span>&nbsp;<span class="op" id="8434760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434764">Maxi</span>&nbsp;<span class="ident" id="8434769">int64</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434777">Mini</span>&nbsp;<span class="ident" id="8434782">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434790">Maxu</span>&nbsp;<span class="ident" id="8434795">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434804">Maxf</span>&nbsp;<span class="builtintype" id="8434809">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434819">Minf</span>&nbsp;<span class="builtintype" id="8434824">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434834">Maxc</span>&nbsp;<span class="builtintype" id="8434839">complex128</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434852">Minc</span>&nbsp;<span class="builtintype" id="8434857">complex128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8434869">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434872">var</span>&nbsp;<span class="ident" id="8434876">it</span>&nbsp;<span class="ident" id="8434879">inputT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8434887">var</span>&nbsp;<span class="ident" id="8434891">err</span>&nbsp;<span class="builtintype" id="8434895">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434902">b</span>&nbsp;<span class="op" id="8434904">:=</span>&nbsp;<span class="builtinfunc" id="8434907">new</span><span class="op" id="8434910">(</span><span class="ident" id="8434911">bytes</span><span class="op" id="8434916">.</span><span class="ident" id="8434917">Buffer</span><span class="op" id="8434923">)</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434926">enc</span>&nbsp;<span class="op" id="8434930">:=</span>&nbsp;<span class="ident" id="8434933">NewEncoder</span><span class="op" id="8434943">(</span><span class="ident" id="8434944">b</span><span class="op" id="8434945">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434948">dec</span>&nbsp;<span class="op" id="8434952">:=</span>&nbsp;<span class="ident" id="8434955">NewDecoder</span><span class="op" id="8434965">(</span><span class="ident" id="8434966">b</span><span class="op" id="8434967">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8434971">//&nbsp;int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434980">b</span><span class="op" id="8434981">.</span><span class="ident" id="8434982">Reset</span><span class="op" id="8434987">(</span><span class="op" id="8434988">)</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8434991">it</span>&nbsp;<span class="op" id="8434994">=</span>&nbsp;<span class="ident" id="8434996">inputT</span><span class="op" id="8435002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435006">Maxi</span><span class="op" id="8435010">:</span>&nbsp;<span class="ident" id="8435012">math</span><span class="op" id="8435016">.</span><span class="ident" id="8435017">MaxInt8</span>&nbsp;<span class="op" id="8435025">+</span>&nbsp;<span class="num" id="8435027">1</span><span class="op" id="8435028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435031">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435034">type</span>&nbsp;<span class="ident" id="8435039">outi8</span>&nbsp;<span class="keyword" id="8435045">struct</span>&nbsp;<span class="op" id="8435052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435056">Maxi</span>&nbsp;<span class="builtintype" id="8435061">int8</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435068">Mini</span>&nbsp;<span class="builtintype" id="8435073">int8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435082">var</span>&nbsp;<span class="ident" id="8435086">o1</span>&nbsp;<span class="ident" id="8435089">outi8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435096">enc</span><span class="op" id="8435099">.</span><span class="ident" id="8435100">Encode</span><span class="op" id="8435106">(</span><span class="ident" id="8435107">it</span><span class="op" id="8435109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435112">err</span>&nbsp;<span class="op" id="8435116">=</span>&nbsp;<span class="ident" id="8435118">dec</span><span class="op" id="8435121">.</span><span class="ident" id="8435122">Decode</span><span class="op" id="8435128">(</span><span class="op" id="8435129">&amp;</span><span class="ident" id="8435130">o1</span><span class="op" id="8435132">)</span><br>
<span class="lineno">630</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435135">if</span>&nbsp;<span class="ident" id="8435138">err</span>&nbsp;<span class="op" id="8435142">==</span>&nbsp;<span class="ident" id="8435145">nil</span>&nbsp;<span class="op" id="8435149">||</span>&nbsp;<span class="ident" id="8435152">err</span><span class="op" id="8435155">.</span><span class="ident" id="8435156">Error</span><span class="op" id="8435161">(</span><span class="op" id="8435162">)</span>&nbsp;<span class="op" id="8435164">!=</span>&nbsp;<span class="string" id="8435167">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8435199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435203">t</span><span class="op" id="8435204">.</span><span class="ident" id="8435205">Error</span><span class="op" id="8435210">(</span><span class="string" id="8435211">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8435243">,</span>&nbsp;<span class="ident" id="8435245">err</span><span class="op" id="8435248">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435251">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435254">it</span>&nbsp;<span class="op" id="8435257">=</span>&nbsp;<span class="ident" id="8435259">inputT</span><span class="op" id="8435265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435269">Mini</span><span class="op" id="8435273">:</span>&nbsp;<span class="ident" id="8435275">math</span><span class="op" id="8435279">.</span><span class="ident" id="8435280">MinInt8</span>&nbsp;<span class="op" id="8435288">-</span>&nbsp;<span class="num" id="8435290">1</span><span class="op" id="8435291">,</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435297">b</span><span class="op" id="8435298">.</span><span class="ident" id="8435299">Reset</span><span class="op" id="8435304">(</span><span class="op" id="8435305">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435308">enc</span><span class="op" id="8435311">.</span><span class="ident" id="8435312">Encode</span><span class="op" id="8435318">(</span><span class="ident" id="8435319">it</span><span class="op" id="8435321">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435324">err</span>&nbsp;<span class="op" id="8435328">=</span>&nbsp;<span class="ident" id="8435330">dec</span><span class="op" id="8435333">.</span><span class="ident" id="8435334">Decode</span><span class="op" id="8435340">(</span><span class="op" id="8435341">&amp;</span><span class="ident" id="8435342">o1</span><span class="op" id="8435344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435347">if</span>&nbsp;<span class="ident" id="8435350">err</span>&nbsp;<span class="op" id="8435354">==</span>&nbsp;<span class="ident" id="8435357">nil</span>&nbsp;<span class="op" id="8435361">||</span>&nbsp;<span class="ident" id="8435364">err</span><span class="op" id="8435367">.</span><span class="ident" id="8435368">Error</span><span class="op" id="8435373">(</span><span class="op" id="8435374">)</span>&nbsp;<span class="op" id="8435376">!=</span>&nbsp;<span class="string" id="8435379">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8435411">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435415">t</span><span class="op" id="8435416">.</span><span class="ident" id="8435417">Error</span><span class="op" id="8435422">(</span><span class="string" id="8435423">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int8:&#34;</span><span class="op" id="8435456">,</span>&nbsp;<span class="ident" id="8435458">err</span><span class="op" id="8435461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435464">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8435468">//&nbsp;int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435478">b</span><span class="op" id="8435479">.</span><span class="ident" id="8435480">Reset</span><span class="op" id="8435485">(</span><span class="op" id="8435486">)</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435489">it</span>&nbsp;<span class="op" id="8435492">=</span>&nbsp;<span class="ident" id="8435494">inputT</span><span class="op" id="8435500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435504">Maxi</span><span class="op" id="8435508">:</span>&nbsp;<span class="ident" id="8435510">math</span><span class="op" id="8435514">.</span><span class="ident" id="8435515">MaxInt16</span>&nbsp;<span class="op" id="8435524">+</span>&nbsp;<span class="num" id="8435526">1</span><span class="op" id="8435527">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435533">type</span>&nbsp;<span class="ident" id="8435538">outi16</span>&nbsp;<span class="keyword" id="8435545">struct</span>&nbsp;<span class="op" id="8435552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435556">Maxi</span>&nbsp;<span class="builtintype" id="8435561">int16</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435569">Mini</span>&nbsp;<span class="builtintype" id="8435574">int16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435584">var</span>&nbsp;<span class="ident" id="8435588">o2</span>&nbsp;<span class="ident" id="8435591">outi16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435599">enc</span><span class="op" id="8435602">.</span><span class="ident" id="8435603">Encode</span><span class="op" id="8435609">(</span><span class="ident" id="8435610">it</span><span class="op" id="8435612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435615">err</span>&nbsp;<span class="op" id="8435619">=</span>&nbsp;<span class="ident" id="8435621">dec</span><span class="op" id="8435624">.</span><span class="ident" id="8435625">Decode</span><span class="op" id="8435631">(</span><span class="op" id="8435632">&amp;</span><span class="ident" id="8435633">o2</span><span class="op" id="8435635">)</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435638">if</span>&nbsp;<span class="ident" id="8435641">err</span>&nbsp;<span class="op" id="8435645">==</span>&nbsp;<span class="ident" id="8435648">nil</span>&nbsp;<span class="op" id="8435652">||</span>&nbsp;<span class="ident" id="8435655">err</span><span class="op" id="8435658">.</span><span class="ident" id="8435659">Error</span><span class="op" id="8435664">(</span><span class="op" id="8435665">)</span>&nbsp;<span class="op" id="8435667">!=</span>&nbsp;<span class="string" id="8435670">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8435702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435706">t</span><span class="op" id="8435707">.</span><span class="ident" id="8435708">Error</span><span class="op" id="8435713">(</span><span class="string" id="8435714">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8435747">,</span>&nbsp;<span class="ident" id="8435749">err</span><span class="op" id="8435752">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435758">it</span>&nbsp;<span class="op" id="8435761">=</span>&nbsp;<span class="ident" id="8435763">inputT</span><span class="op" id="8435769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435773">Mini</span><span class="op" id="8435777">:</span>&nbsp;<span class="ident" id="8435779">math</span><span class="op" id="8435783">.</span><span class="ident" id="8435784">MinInt16</span>&nbsp;<span class="op" id="8435793">-</span>&nbsp;<span class="num" id="8435795">1</span><span class="op" id="8435796">,</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435799">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435802">b</span><span class="op" id="8435803">.</span><span class="ident" id="8435804">Reset</span><span class="op" id="8435809">(</span><span class="op" id="8435810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435813">enc</span><span class="op" id="8435816">.</span><span class="ident" id="8435817">Encode</span><span class="op" id="8435823">(</span><span class="ident" id="8435824">it</span><span class="op" id="8435826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435829">err</span>&nbsp;<span class="op" id="8435833">=</span>&nbsp;<span class="ident" id="8435835">dec</span><span class="op" id="8435838">.</span><span class="ident" id="8435839">Decode</span><span class="op" id="8435845">(</span><span class="op" id="8435846">&amp;</span><span class="ident" id="8435847">o2</span><span class="op" id="8435849">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8435852">if</span>&nbsp;<span class="ident" id="8435855">err</span>&nbsp;<span class="op" id="8435859">==</span>&nbsp;<span class="ident" id="8435862">nil</span>&nbsp;<span class="op" id="8435866">||</span>&nbsp;<span class="ident" id="8435869">err</span><span class="op" id="8435872">.</span><span class="ident" id="8435873">Error</span><span class="op" id="8435878">(</span><span class="op" id="8435879">)</span>&nbsp;<span class="op" id="8435881">!=</span>&nbsp;<span class="string" id="8435884">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8435916">{</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435920">t</span><span class="op" id="8435921">.</span><span class="ident" id="8435922">Error</span><span class="op" id="8435927">(</span><span class="string" id="8435928">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int16:&#34;</span><span class="op" id="8435962">,</span>&nbsp;<span class="ident" id="8435964">err</span><span class="op" id="8435967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8435970">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8435974">//&nbsp;int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435984">b</span><span class="op" id="8435985">.</span><span class="ident" id="8435986">Reset</span><span class="op" id="8435991">(</span><span class="op" id="8435992">)</span><br>
<span class="lineno">670</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8435995">it</span>&nbsp;<span class="op" id="8435998">=</span>&nbsp;<span class="ident" id="8436000">inputT</span><span class="op" id="8436006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436010">Maxi</span><span class="op" id="8436014">:</span>&nbsp;<span class="ident" id="8436016">math</span><span class="op" id="8436020">.</span><span class="ident" id="8436021">MaxInt32</span>&nbsp;<span class="op" id="8436030">+</span>&nbsp;<span class="num" id="8436032">1</span><span class="op" id="8436033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436036">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436039">type</span>&nbsp;<span class="ident" id="8436044">outi32</span>&nbsp;<span class="keyword" id="8436051">struct</span>&nbsp;<span class="op" id="8436058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436062">Maxi</span>&nbsp;<span class="builtintype" id="8436067">int32</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436075">Mini</span>&nbsp;<span class="builtintype" id="8436080">int32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436090">var</span>&nbsp;<span class="ident" id="8436094">o3</span>&nbsp;<span class="ident" id="8436097">outi32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436105">enc</span><span class="op" id="8436108">.</span><span class="ident" id="8436109">Encode</span><span class="op" id="8436115">(</span><span class="ident" id="8436116">it</span><span class="op" id="8436118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436121">err</span>&nbsp;<span class="op" id="8436125">=</span>&nbsp;<span class="ident" id="8436127">dec</span><span class="op" id="8436130">.</span><span class="ident" id="8436131">Decode</span><span class="op" id="8436137">(</span><span class="op" id="8436138">&amp;</span><span class="ident" id="8436139">o3</span><span class="op" id="8436141">)</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436144">if</span>&nbsp;<span class="ident" id="8436147">err</span>&nbsp;<span class="op" id="8436151">==</span>&nbsp;<span class="ident" id="8436154">nil</span>&nbsp;<span class="op" id="8436158">||</span>&nbsp;<span class="ident" id="8436161">err</span><span class="op" id="8436164">.</span><span class="ident" id="8436165">Error</span><span class="op" id="8436170">(</span><span class="op" id="8436171">)</span>&nbsp;<span class="op" id="8436173">!=</span>&nbsp;<span class="string" id="8436176">`value&nbsp;for&nbsp;&#34;Maxi&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8436208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436212">t</span><span class="op" id="8436213">.</span><span class="ident" id="8436214">Error</span><span class="op" id="8436219">(</span><span class="string" id="8436220">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8436253">,</span>&nbsp;<span class="ident" id="8436255">err</span><span class="op" id="8436258">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436261">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436264">it</span>&nbsp;<span class="op" id="8436267">=</span>&nbsp;<span class="ident" id="8436269">inputT</span><span class="op" id="8436275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436279">Mini</span><span class="op" id="8436283">:</span>&nbsp;<span class="ident" id="8436285">math</span><span class="op" id="8436289">.</span><span class="ident" id="8436290">MinInt32</span>&nbsp;<span class="op" id="8436299">-</span>&nbsp;<span class="num" id="8436301">1</span><span class="op" id="8436302">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436305">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436308">b</span><span class="op" id="8436309">.</span><span class="ident" id="8436310">Reset</span><span class="op" id="8436315">(</span><span class="op" id="8436316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436319">enc</span><span class="op" id="8436322">.</span><span class="ident" id="8436323">Encode</span><span class="op" id="8436329">(</span><span class="ident" id="8436330">it</span><span class="op" id="8436332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436335">err</span>&nbsp;<span class="op" id="8436339">=</span>&nbsp;<span class="ident" id="8436341">dec</span><span class="op" id="8436344">.</span><span class="ident" id="8436345">Decode</span><span class="op" id="8436351">(</span><span class="op" id="8436352">&amp;</span><span class="ident" id="8436353">o3</span><span class="op" id="8436355">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436358">if</span>&nbsp;<span class="ident" id="8436361">err</span>&nbsp;<span class="op" id="8436365">==</span>&nbsp;<span class="ident" id="8436368">nil</span>&nbsp;<span class="op" id="8436372">||</span>&nbsp;<span class="ident" id="8436375">err</span><span class="op" id="8436378">.</span><span class="ident" id="8436379">Error</span><span class="op" id="8436384">(</span><span class="op" id="8436385">)</span>&nbsp;<span class="op" id="8436387">!=</span>&nbsp;<span class="string" id="8436390">`value&nbsp;for&nbsp;&#34;Mini&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8436422">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436426">t</span><span class="op" id="8436427">.</span><span class="ident" id="8436428">Error</span><span class="op" id="8436433">(</span><span class="string" id="8436434">&#34;wrong&nbsp;underflow&nbsp;error&nbsp;for&nbsp;int32:&#34;</span><span class="op" id="8436468">,</span>&nbsp;<span class="ident" id="8436470">err</span><span class="op" id="8436473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436476">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436480">//&nbsp;uint8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436490">b</span><span class="op" id="8436491">.</span><span class="ident" id="8436492">Reset</span><span class="op" id="8436497">(</span><span class="op" id="8436498">)</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436501">it</span>&nbsp;<span class="op" id="8436504">=</span>&nbsp;<span class="ident" id="8436506">inputT</span><span class="op" id="8436512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436516">Maxu</span><span class="op" id="8436520">:</span>&nbsp;<span class="ident" id="8436522">math</span><span class="op" id="8436526">.</span><span class="ident" id="8436527">MaxUint8</span>&nbsp;<span class="op" id="8436536">+</span>&nbsp;<span class="num" id="8436538">1</span><span class="op" id="8436539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436542">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436545">type</span>&nbsp;<span class="ident" id="8436550">outu8</span>&nbsp;<span class="keyword" id="8436556">struct</span>&nbsp;<span class="op" id="8436563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436567">Maxu</span>&nbsp;<span class="builtintype" id="8436572">uint8</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436579">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436582">var</span>&nbsp;<span class="ident" id="8436586">o4</span>&nbsp;<span class="ident" id="8436589">outu8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436596">enc</span><span class="op" id="8436599">.</span><span class="ident" id="8436600">Encode</span><span class="op" id="8436606">(</span><span class="ident" id="8436607">it</span><span class="op" id="8436609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436612">err</span>&nbsp;<span class="op" id="8436616">=</span>&nbsp;<span class="ident" id="8436618">dec</span><span class="op" id="8436621">.</span><span class="ident" id="8436622">Decode</span><span class="op" id="8436628">(</span><span class="op" id="8436629">&amp;</span><span class="ident" id="8436630">o4</span><span class="op" id="8436632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436635">if</span>&nbsp;<span class="ident" id="8436638">err</span>&nbsp;<span class="op" id="8436642">==</span>&nbsp;<span class="ident" id="8436645">nil</span>&nbsp;<span class="op" id="8436649">||</span>&nbsp;<span class="ident" id="8436652">err</span><span class="op" id="8436655">.</span><span class="ident" id="8436656">Error</span><span class="op" id="8436661">(</span><span class="op" id="8436662">)</span>&nbsp;<span class="op" id="8436664">!=</span>&nbsp;<span class="string" id="8436667">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8436699">{</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436703">t</span><span class="op" id="8436704">.</span><span class="ident" id="8436705">Error</span><span class="op" id="8436710">(</span><span class="string" id="8436711">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint8:&#34;</span><span class="op" id="8436744">,</span>&nbsp;<span class="ident" id="8436746">err</span><span class="op" id="8436749">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436752">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8436756">//&nbsp;uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436767">b</span><span class="op" id="8436768">.</span><span class="ident" id="8436769">Reset</span><span class="op" id="8436774">(</span><span class="op" id="8436775">)</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436778">it</span>&nbsp;<span class="op" id="8436781">=</span>&nbsp;<span class="ident" id="8436783">inputT</span><span class="op" id="8436789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436793">Maxu</span><span class="op" id="8436797">:</span>&nbsp;<span class="ident" id="8436799">math</span><span class="op" id="8436803">.</span><span class="ident" id="8436804">MaxUint16</span>&nbsp;<span class="op" id="8436814">+</span>&nbsp;<span class="num" id="8436816">1</span><span class="op" id="8436817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436820">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436823">type</span>&nbsp;<span class="ident" id="8436828">outu16</span>&nbsp;<span class="keyword" id="8436835">struct</span>&nbsp;<span class="op" id="8436842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436846">Maxu</span>&nbsp;<span class="builtintype" id="8436851">uint16</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8436859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436862">var</span>&nbsp;<span class="ident" id="8436866">o5</span>&nbsp;<span class="ident" id="8436869">outu16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436877">enc</span><span class="op" id="8436880">.</span><span class="ident" id="8436881">Encode</span><span class="op" id="8436887">(</span><span class="ident" id="8436888">it</span><span class="op" id="8436890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436893">err</span>&nbsp;<span class="op" id="8436897">=</span>&nbsp;<span class="ident" id="8436899">dec</span><span class="op" id="8436902">.</span><span class="ident" id="8436903">Decode</span><span class="op" id="8436909">(</span><span class="op" id="8436910">&amp;</span><span class="ident" id="8436911">o5</span><span class="op" id="8436913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8436916">if</span>&nbsp;<span class="ident" id="8436919">err</span>&nbsp;<span class="op" id="8436923">==</span>&nbsp;<span class="ident" id="8436926">nil</span>&nbsp;<span class="op" id="8436930">||</span>&nbsp;<span class="ident" id="8436933">err</span><span class="op" id="8436936">.</span><span class="ident" id="8436937">Error</span><span class="op" id="8436942">(</span><span class="op" id="8436943">)</span>&nbsp;<span class="op" id="8436945">!=</span>&nbsp;<span class="string" id="8436948">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8436980">{</span><br>
<span class="lineno">720</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8436984">t</span><span class="op" id="8436985">.</span><span class="ident" id="8436986">Error</span><span class="op" id="8436991">(</span><span class="string" id="8436992">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint16:&#34;</span><span class="op" id="8437026">,</span>&nbsp;<span class="ident" id="8437028">err</span><span class="op" id="8437031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437038">//&nbsp;uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437049">b</span><span class="op" id="8437050">.</span><span class="ident" id="8437051">Reset</span><span class="op" id="8437056">(</span><span class="op" id="8437057">)</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437060">it</span>&nbsp;<span class="op" id="8437063">=</span>&nbsp;<span class="ident" id="8437065">inputT</span><span class="op" id="8437071">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437075">Maxu</span><span class="op" id="8437079">:</span>&nbsp;<span class="ident" id="8437081">math</span><span class="op" id="8437085">.</span><span class="ident" id="8437086">MaxUint32</span>&nbsp;<span class="op" id="8437096">+</span>&nbsp;<span class="num" id="8437098">1</span><span class="op" id="8437099">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437102">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437105">type</span>&nbsp;<span class="ident" id="8437110">outu32</span>&nbsp;<span class="keyword" id="8437117">struct</span>&nbsp;<span class="op" id="8437124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437128">Maxu</span>&nbsp;<span class="builtintype" id="8437133">uint32</span><br>
<span class="lineno">730</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437144">var</span>&nbsp;<span class="ident" id="8437148">o6</span>&nbsp;<span class="ident" id="8437151">outu32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437159">enc</span><span class="op" id="8437162">.</span><span class="ident" id="8437163">Encode</span><span class="op" id="8437169">(</span><span class="ident" id="8437170">it</span><span class="op" id="8437172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437175">err</span>&nbsp;<span class="op" id="8437179">=</span>&nbsp;<span class="ident" id="8437181">dec</span><span class="op" id="8437184">.</span><span class="ident" id="8437185">Decode</span><span class="op" id="8437191">(</span><span class="op" id="8437192">&amp;</span><span class="ident" id="8437193">o6</span><span class="op" id="8437195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437198">if</span>&nbsp;<span class="ident" id="8437201">err</span>&nbsp;<span class="op" id="8437205">==</span>&nbsp;<span class="ident" id="8437208">nil</span>&nbsp;<span class="op" id="8437212">||</span>&nbsp;<span class="ident" id="8437215">err</span><span class="op" id="8437218">.</span><span class="ident" id="8437219">Error</span><span class="op" id="8437224">(</span><span class="op" id="8437225">)</span>&nbsp;<span class="op" id="8437227">!=</span>&nbsp;<span class="string" id="8437230">`value&nbsp;for&nbsp;&#34;Maxu&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8437262">{</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437266">t</span><span class="op" id="8437267">.</span><span class="ident" id="8437268">Error</span><span class="op" id="8437273">(</span><span class="string" id="8437274">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;uint32:&#34;</span><span class="op" id="8437308">,</span>&nbsp;<span class="ident" id="8437310">err</span><span class="op" id="8437313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437320">//&nbsp;float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437332">b</span><span class="op" id="8437333">.</span><span class="ident" id="8437334">Reset</span><span class="op" id="8437339">(</span><span class="op" id="8437340">)</span><br>
<span class="lineno">740</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437343">it</span>&nbsp;<span class="op" id="8437346">=</span>&nbsp;<span class="ident" id="8437348">inputT</span><span class="op" id="8437354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437358">Maxf</span><span class="op" id="8437362">:</span>&nbsp;<span class="ident" id="8437364">math</span><span class="op" id="8437368">.</span><span class="ident" id="8437369">MaxFloat32</span>&nbsp;<span class="op" id="8437380">*</span>&nbsp;<span class="num" id="8437382">2</span><span class="op" id="8437383">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437386">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437389">type</span>&nbsp;<span class="ident" id="8437394">outf32</span>&nbsp;<span class="keyword" id="8437401">struct</span>&nbsp;<span class="op" id="8437408">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437412">Maxf</span>&nbsp;<span class="builtintype" id="8437417">float32</span><br>
<span class="lineno">745</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437427">Minf</span>&nbsp;<span class="builtintype" id="8437432">float32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437444">var</span>&nbsp;<span class="ident" id="8437448">o7</span>&nbsp;<span class="ident" id="8437451">outf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437459">enc</span><span class="op" id="8437462">.</span><span class="ident" id="8437463">Encode</span><span class="op" id="8437469">(</span><span class="ident" id="8437470">it</span><span class="op" id="8437472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437475">err</span>&nbsp;<span class="op" id="8437479">=</span>&nbsp;<span class="ident" id="8437481">dec</span><span class="op" id="8437484">.</span><span class="ident" id="8437485">Decode</span><span class="op" id="8437491">(</span><span class="op" id="8437492">&amp;</span><span class="ident" id="8437493">o7</span><span class="op" id="8437495">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437498">if</span>&nbsp;<span class="ident" id="8437501">err</span>&nbsp;<span class="op" id="8437505">==</span>&nbsp;<span class="ident" id="8437508">nil</span>&nbsp;<span class="op" id="8437512">||</span>&nbsp;<span class="ident" id="8437515">err</span><span class="op" id="8437518">.</span><span class="ident" id="8437519">Error</span><span class="op" id="8437524">(</span><span class="op" id="8437525">)</span>&nbsp;<span class="op" id="8437527">!=</span>&nbsp;<span class="string" id="8437530">`value&nbsp;for&nbsp;&#34;Maxf&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8437562">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437566">t</span><span class="op" id="8437567">.</span><span class="ident" id="8437568">Error</span><span class="op" id="8437573">(</span><span class="string" id="8437574">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;float32:&#34;</span><span class="op" id="8437609">,</span>&nbsp;<span class="ident" id="8437611">err</span><span class="op" id="8437614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437617">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8437621">//&nbsp;complex64</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437635">b</span><span class="op" id="8437636">.</span><span class="ident" id="8437637">Reset</span><span class="op" id="8437642">(</span><span class="op" id="8437643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437646">it</span>&nbsp;<span class="op" id="8437649">=</span>&nbsp;<span class="ident" id="8437651">inputT</span><span class="op" id="8437657">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437661">Maxc</span><span class="op" id="8437665">:</span>&nbsp;<span class="builtinfunc" id="8437667">complex</span><span class="op" id="8437674">(</span><span class="ident" id="8437675">math</span><span class="op" id="8437679">.</span><span class="ident" id="8437680">MaxFloat32</span><span class="op" id="8437690">*</span><span class="num" id="8437691">2</span><span class="op" id="8437692">,</span>&nbsp;<span class="ident" id="8437694">math</span><span class="op" id="8437698">.</span><span class="ident" id="8437699">MaxFloat32</span><span class="op" id="8437709">*</span><span class="num" id="8437710">2</span><span class="op" id="8437711">)</span><span class="op" id="8437712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437715">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437718">type</span>&nbsp;<span class="ident" id="8437723">outc64</span>&nbsp;<span class="keyword" id="8437730">struct</span>&nbsp;<span class="op" id="8437737">{</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437741">Maxc</span>&nbsp;<span class="builtintype" id="8437746">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437758">Minc</span>&nbsp;<span class="builtintype" id="8437763">complex64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437774">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437777">var</span>&nbsp;<span class="ident" id="8437781">o8</span>&nbsp;<span class="ident" id="8437784">outc64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437792">enc</span><span class="op" id="8437795">.</span><span class="ident" id="8437796">Encode</span><span class="op" id="8437802">(</span><span class="ident" id="8437803">it</span><span class="op" id="8437805">)</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437808">err</span>&nbsp;<span class="op" id="8437812">=</span>&nbsp;<span class="ident" id="8437814">dec</span><span class="op" id="8437817">.</span><span class="ident" id="8437818">Decode</span><span class="op" id="8437824">(</span><span class="op" id="8437825">&amp;</span><span class="ident" id="8437826">o8</span><span class="op" id="8437828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437831">if</span>&nbsp;<span class="ident" id="8437834">err</span>&nbsp;<span class="op" id="8437838">==</span>&nbsp;<span class="ident" id="8437841">nil</span>&nbsp;<span class="op" id="8437845">||</span>&nbsp;<span class="ident" id="8437848">err</span><span class="op" id="8437851">.</span><span class="ident" id="8437852">Error</span><span class="op" id="8437857">(</span><span class="op" id="8437858">)</span>&nbsp;<span class="op" id="8437860">!=</span>&nbsp;<span class="string" id="8437863">`value&nbsp;for&nbsp;&#34;Maxc&#34;&nbsp;out&nbsp;of&nbsp;range`</span>&nbsp;<span class="op" id="8437895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8437899">t</span><span class="op" id="8437900">.</span><span class="ident" id="8437901">Error</span><span class="op" id="8437906">(</span><span class="string" id="8437907">&#34;wrong&nbsp;overflow&nbsp;error&nbsp;for&nbsp;complex64:&#34;</span><span class="op" id="8437944">,</span>&nbsp;<span class="ident" id="8437946">err</span><span class="op" id="8437949">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8437952">}</span><br>
<span class="lineno"></span><span class="op" id="8437954">}</span><br>
<span class="lineno">770</span><br>
<span class="lineno"></span><span class="keyword" id="8437957">func</span>&nbsp;<span class="ident" id="8437962">TestNesting</span><span class="op" id="8437973">(</span><span class="ident" id="8437974">t</span>&nbsp;<span class="op" id="8437976">*</span><span class="ident" id="8437977">testing</span><span class="op" id="8437984">.</span><span class="ident" id="8437985">T</span><span class="op" id="8437986">)</span>&nbsp;<span class="op" id="8437988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8437991">type</span>&nbsp;<span class="ident" id="8437996">RT</span>&nbsp;<span class="keyword" id="8437999">struct</span>&nbsp;<span class="op" id="8438006">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438010">A</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8438015">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438024">Next</span>&nbsp;<span class="op" id="8438029">*</span><span class="ident" id="8438030">RT</span><br>
<span class="lineno">775</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438034">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438037">rt</span>&nbsp;<span class="op" id="8438040">:=</span>&nbsp;<span class="builtinfunc" id="8438043">new</span><span class="op" id="8438046">(</span><span class="ident" id="8438047">RT</span><span class="op" id="8438049">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438052">rt</span><span class="op" id="8438054">.</span><span class="ident" id="8438055">A</span>&nbsp;<span class="op" id="8438057">=</span>&nbsp;<span class="string" id="8438059">&#34;level1&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438069">rt</span><span class="op" id="8438071">.</span><span class="ident" id="8438072">Next</span>&nbsp;<span class="op" id="8438077">=</span>&nbsp;<span class="builtinfunc" id="8438079">new</span><span class="op" id="8438082">(</span><span class="ident" id="8438083">RT</span><span class="op" id="8438085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438088">rt</span><span class="op" id="8438090">.</span><span class="ident" id="8438091">Next</span><span class="op" id="8438095">.</span><span class="ident" id="8438096">A</span>&nbsp;<span class="op" id="8438098">=</span>&nbsp;<span class="string" id="8438100">&#34;level2&#34;</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438110">b</span>&nbsp;<span class="op" id="8438112">:=</span>&nbsp;<span class="builtinfunc" id="8438115">new</span><span class="op" id="8438118">(</span><span class="ident" id="8438119">bytes</span><span class="op" id="8438124">.</span><span class="ident" id="8438125">Buffer</span><span class="op" id="8438131">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438134">NewEncoder</span><span class="op" id="8438144">(</span><span class="ident" id="8438145">b</span><span class="op" id="8438146">)</span><span class="op" id="8438147">.</span><span class="ident" id="8438148">Encode</span><span class="op" id="8438154">(</span><span class="ident" id="8438155">rt</span><span class="op" id="8438157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438160">var</span>&nbsp;<span class="ident" id="8438164">drt</span>&nbsp;<span class="ident" id="8438168">RT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438172">dec</span>&nbsp;<span class="op" id="8438176">:=</span>&nbsp;<span class="ident" id="8438179">NewDecoder</span><span class="op" id="8438189">(</span><span class="ident" id="8438190">b</span><span class="op" id="8438191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438194">err</span>&nbsp;<span class="op" id="8438198">:=</span>&nbsp;<span class="ident" id="8438201">dec</span><span class="op" id="8438204">.</span><span class="ident" id="8438205">Decode</span><span class="op" id="8438211">(</span><span class="op" id="8438212">&amp;</span><span class="ident" id="8438213">drt</span><span class="op" id="8438216">)</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438219">if</span>&nbsp;<span class="ident" id="8438222">err</span>&nbsp;<span class="op" id="8438226">!=</span>&nbsp;<span class="ident" id="8438229">nil</span>&nbsp;<span class="op" id="8438233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438237">t</span><span class="op" id="8438238">.</span><span class="ident" id="8438239">Fatal</span><span class="op" id="8438244">(</span><span class="string" id="8438245">&#34;decoder&nbsp;error:&#34;</span><span class="op" id="8438261">,</span>&nbsp;<span class="ident" id="8438263">err</span><span class="op" id="8438266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438269">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438272">if</span>&nbsp;<span class="ident" id="8438275">drt</span><span class="op" id="8438278">.</span><span class="ident" id="8438279">A</span>&nbsp;<span class="op" id="8438281">!=</span>&nbsp;<span class="ident" id="8438284">rt</span><span class="op" id="8438286">.</span><span class="ident" id="8438287">A</span>&nbsp;<span class="op" id="8438289">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438293">t</span><span class="op" id="8438294">.</span><span class="ident" id="8438295">Errorf</span><span class="op" id="8438301">(</span><span class="string" id="8438302">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8438338">,</span>&nbsp;<span class="op" id="8438340">*</span><span class="ident" id="8438341">rt</span><span class="op" id="8438343">,</span>&nbsp;<span class="ident" id="8438345">drt</span><span class="op" id="8438348">)</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438351">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438354">if</span>&nbsp;<span class="ident" id="8438357">drt</span><span class="op" id="8438360">.</span><span class="ident" id="8438361">Next</span>&nbsp;<span class="op" id="8438366">==</span>&nbsp;<span class="ident" id="8438369">nil</span>&nbsp;<span class="op" id="8438373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438377">t</span><span class="op" id="8438378">.</span><span class="ident" id="8438379">Errorf</span><span class="op" id="8438385">(</span><span class="string" id="8438386">&#34;nesting:&nbsp;recursion&nbsp;failed&#34;</span><span class="op" id="8438413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438419">if</span>&nbsp;<span class="ident" id="8438422">drt</span><span class="op" id="8438425">.</span><span class="ident" id="8438426">Next</span><span class="op" id="8438430">.</span><span class="ident" id="8438431">A</span>&nbsp;<span class="op" id="8438433">!=</span>&nbsp;<span class="ident" id="8438436">rt</span><span class="op" id="8438438">.</span><span class="ident" id="8438439">Next</span><span class="op" id="8438443">.</span><span class="ident" id="8438444">A</span>&nbsp;<span class="op" id="8438446">{</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438450">t</span><span class="op" id="8438451">.</span><span class="ident" id="8438452">Errorf</span><span class="op" id="8438458">(</span><span class="string" id="8438459">&#34;nesting:&nbsp;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8438495">,</span>&nbsp;<span class="op" id="8438497">*</span><span class="ident" id="8438498">rt</span><span class="op" id="8438500">.</span><span class="ident" id="8438501">Next</span><span class="op" id="8438505">,</span>&nbsp;<span class="op" id="8438507">*</span><span class="ident" id="8438508">drt</span><span class="op" id="8438511">.</span><span class="ident" id="8438512">Next</span><span class="op" id="8438516">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438519">}</span><br>
<span class="lineno"></span><span class="op" id="8438521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8438524">//&nbsp;These&nbsp;three&nbsp;structures&nbsp;have&nbsp;the&nbsp;same&nbsp;data&nbsp;with&nbsp;different&nbsp;indirections</span><br>
<span class="lineno">800</span><span class="keyword" id="8438597">type</span>&nbsp;<span class="ident" id="8438602">T0</span>&nbsp;<span class="keyword" id="8438605">struct</span>&nbsp;<span class="op" id="8438612">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438615">A</span>&nbsp;<span class="builtintype" id="8438617">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438622">B</span>&nbsp;<span class="builtintype" id="8438624">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438629">C</span>&nbsp;<span class="builtintype" id="8438631">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438636">D</span>&nbsp;<span class="builtintype" id="8438638">int</span><br>
<span class="lineno">805</span><span class="op" id="8438642">}</span><br>
<span class="lineno"></span><span class="keyword" id="8438644">type</span>&nbsp;<span class="ident" id="8438649">T1</span>&nbsp;<span class="keyword" id="8438652">struct</span>&nbsp;<span class="op" id="8438659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438662">A</span>&nbsp;<span class="builtintype" id="8438664">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438669">B</span>&nbsp;<span class="op" id="8438671">*</span><span class="builtintype" id="8438672">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438677">C</span>&nbsp;<span class="op" id="8438679">*</span><span class="op" id="8438680">*</span><span class="builtintype" id="8438681">int</span><br>
<span class="lineno">810</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438686">D</span>&nbsp;<span class="op" id="8438688">*</span><span class="op" id="8438689">*</span><span class="op" id="8438690">*</span><span class="builtintype" id="8438691">int</span><br>
<span class="lineno"></span><span class="op" id="8438695">}</span><br>
<span class="lineno"></span><span class="keyword" id="8438697">type</span>&nbsp;<span class="ident" id="8438702">T2</span>&nbsp;<span class="keyword" id="8438705">struct</span>&nbsp;<span class="op" id="8438712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438715">A</span>&nbsp;<span class="op" id="8438717">*</span><span class="op" id="8438718">*</span><span class="op" id="8438719">*</span><span class="builtintype" id="8438720">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438725">B</span>&nbsp;<span class="op" id="8438727">*</span><span class="op" id="8438728">*</span><span class="builtintype" id="8438729">int</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438734">C</span>&nbsp;<span class="op" id="8438736">*</span><span class="builtintype" id="8438737">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438742">D</span>&nbsp;<span class="builtintype" id="8438744">int</span><br>
<span class="lineno"></span><span class="op" id="8438748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8438751">func</span>&nbsp;<span class="ident" id="8438756">TestAutoIndirection</span><span class="op" id="8438775">(</span><span class="ident" id="8438776">t</span>&nbsp;<span class="op" id="8438778">*</span><span class="ident" id="8438779">testing</span><span class="op" id="8438786">.</span><span class="ident" id="8438787">T</span><span class="op" id="8438788">)</span>&nbsp;<span class="op" id="8438790">{</span><br>
<span class="lineno">820</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8438793">//&nbsp;First&nbsp;transfer&nbsp;t1&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8438823">var</span>&nbsp;<span class="ident" id="8438827">t1</span>&nbsp;<span class="ident" id="8438830">T1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438834">t1</span><span class="op" id="8438836">.</span><span class="ident" id="8438837">A</span>&nbsp;<span class="op" id="8438839">=</span>&nbsp;<span class="num" id="8438841">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438845">t1</span><span class="op" id="8438847">.</span><span class="ident" id="8438848">B</span>&nbsp;<span class="op" id="8438850">=</span>&nbsp;<span class="builtinfunc" id="8438852">new</span><span class="op" id="8438855">(</span><span class="builtintype" id="8438856">int</span><span class="op" id="8438859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438862">*</span><span class="ident" id="8438863">t1</span><span class="op" id="8438865">.</span><span class="ident" id="8438866">B</span>&nbsp;<span class="op" id="8438868">=</span>&nbsp;<span class="num" id="8438870">177</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438875">t1</span><span class="op" id="8438877">.</span><span class="ident" id="8438878">C</span>&nbsp;<span class="op" id="8438880">=</span>&nbsp;<span class="builtinfunc" id="8438882">new</span><span class="op" id="8438885">(</span><span class="op" id="8438886">*</span><span class="builtintype" id="8438887">int</span><span class="op" id="8438890">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438893">*</span><span class="ident" id="8438894">t1</span><span class="op" id="8438896">.</span><span class="ident" id="8438897">C</span>&nbsp;<span class="op" id="8438899">=</span>&nbsp;<span class="builtinfunc" id="8438901">new</span><span class="op" id="8438904">(</span><span class="builtintype" id="8438905">int</span><span class="op" id="8438908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438911">*</span><span class="op" id="8438912">*</span><span class="ident" id="8438913">t1</span><span class="op" id="8438915">.</span><span class="ident" id="8438916">C</span>&nbsp;<span class="op" id="8438918">=</span>&nbsp;<span class="num" id="8438920">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8438926">t1</span><span class="op" id="8438928">.</span><span class="ident" id="8438929">D</span>&nbsp;<span class="op" id="8438931">=</span>&nbsp;<span class="builtinfunc" id="8438933">new</span><span class="op" id="8438936">(</span><span class="op" id="8438937">*</span><span class="op" id="8438938">*</span><span class="builtintype" id="8438939">int</span><span class="op" id="8438942">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438945">*</span><span class="ident" id="8438946">t1</span><span class="op" id="8438948">.</span><span class="ident" id="8438949">D</span>&nbsp;<span class="op" id="8438951">=</span>&nbsp;<span class="builtinfunc" id="8438953">new</span><span class="op" id="8438956">(</span><span class="op" id="8438957">*</span><span class="builtintype" id="8438958">int</span><span class="op" id="8438961">)</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438964">*</span><span class="op" id="8438965">*</span><span class="ident" id="8438966">t1</span><span class="op" id="8438968">.</span><span class="ident" id="8438969">D</span>&nbsp;<span class="op" id="8438971">=</span>&nbsp;<span class="builtinfunc" id="8438973">new</span><span class="op" id="8438976">(</span><span class="builtintype" id="8438977">int</span><span class="op" id="8438980">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8438983">*</span><span class="op" id="8438984">*</span><span class="op" id="8438985">*</span><span class="ident" id="8438986">t1</span><span class="op" id="8438988">.</span><span class="ident" id="8438989">D</span>&nbsp;<span class="op" id="8438991">=</span>&nbsp;<span class="num" id="8438993">17777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439000">b</span>&nbsp;<span class="op" id="8439002">:=</span>&nbsp;<span class="builtinfunc" id="8439005">new</span><span class="op" id="8439008">(</span><span class="ident" id="8439009">bytes</span><span class="op" id="8439014">.</span><span class="ident" id="8439015">Buffer</span><span class="op" id="8439021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439024">enc</span>&nbsp;<span class="op" id="8439028">:=</span>&nbsp;<span class="ident" id="8439031">NewEncoder</span><span class="op" id="8439041">(</span><span class="ident" id="8439042">b</span><span class="op" id="8439043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439046">enc</span><span class="op" id="8439049">.</span><span class="ident" id="8439050">Encode</span><span class="op" id="8439056">(</span><span class="ident" id="8439057">t1</span><span class="op" id="8439059">)</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439062">dec</span>&nbsp;<span class="op" id="8439066">:=</span>&nbsp;<span class="ident" id="8439069">NewDecoder</span><span class="op" id="8439079">(</span><span class="ident" id="8439080">b</span><span class="op" id="8439081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439084">var</span>&nbsp;<span class="ident" id="8439088">t0</span>&nbsp;<span class="ident" id="8439091">T0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439095">dec</span><span class="op" id="8439098">.</span><span class="ident" id="8439099">Decode</span><span class="op" id="8439105">(</span><span class="op" id="8439106">&amp;</span><span class="ident" id="8439107">t0</span><span class="op" id="8439109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439112">if</span>&nbsp;<span class="ident" id="8439115">t0</span><span class="op" id="8439117">.</span><span class="ident" id="8439118">A</span>&nbsp;<span class="op" id="8439120">!=</span>&nbsp;<span class="num" id="8439123">17</span>&nbsp;<span class="op" id="8439126">||</span>&nbsp;<span class="ident" id="8439129">t0</span><span class="op" id="8439131">.</span><span class="ident" id="8439132">B</span>&nbsp;<span class="op" id="8439134">!=</span>&nbsp;<span class="num" id="8439137">177</span>&nbsp;<span class="op" id="8439141">||</span>&nbsp;<span class="ident" id="8439144">t0</span><span class="op" id="8439146">.</span><span class="ident" id="8439147">C</span>&nbsp;<span class="op" id="8439149">!=</span>&nbsp;<span class="num" id="8439152">1777</span>&nbsp;<span class="op" id="8439157">||</span>&nbsp;<span class="ident" id="8439160">t0</span><span class="op" id="8439162">.</span><span class="ident" id="8439163">D</span>&nbsp;<span class="op" id="8439165">!=</span>&nbsp;<span class="num" id="8439168">17777</span>&nbsp;<span class="op" id="8439174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439178">t</span><span class="op" id="8439179">.</span><span class="ident" id="8439180">Errorf</span><span class="op" id="8439186">(</span><span class="string" id="8439187">&#34;t1-&gt;t0:&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8439233">,</span>&nbsp;<span class="ident" id="8439235">t0</span><span class="op" id="8439237">)</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439240">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8439244">//&nbsp;Now&nbsp;transfer&nbsp;t2&nbsp;into&nbsp;t0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439272">var</span>&nbsp;<span class="ident" id="8439276">t2</span>&nbsp;<span class="ident" id="8439279">T2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439283">t2</span><span class="op" id="8439285">.</span><span class="ident" id="8439286">D</span>&nbsp;<span class="op" id="8439288">=</span>&nbsp;<span class="num" id="8439290">17777</span><br>
<span class="lineno">845</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439297">t2</span><span class="op" id="8439299">.</span><span class="ident" id="8439300">C</span>&nbsp;<span class="op" id="8439302">=</span>&nbsp;<span class="builtinfunc" id="8439304">new</span><span class="op" id="8439307">(</span><span class="builtintype" id="8439308">int</span><span class="op" id="8439311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439314">*</span><span class="ident" id="8439315">t2</span><span class="op" id="8439317">.</span><span class="ident" id="8439318">C</span>&nbsp;<span class="op" id="8439320">=</span>&nbsp;<span class="num" id="8439322">1777</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439328">t2</span><span class="op" id="8439330">.</span><span class="ident" id="8439331">B</span>&nbsp;<span class="op" id="8439333">=</span>&nbsp;<span class="builtinfunc" id="8439335">new</span><span class="op" id="8439338">(</span><span class="op" id="8439339">*</span><span class="builtintype" id="8439340">int</span><span class="op" id="8439343">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439346">*</span><span class="ident" id="8439347">t2</span><span class="op" id="8439349">.</span><span class="ident" id="8439350">B</span>&nbsp;<span class="op" id="8439352">=</span>&nbsp;<span class="builtinfunc" id="8439354">new</span><span class="op" id="8439357">(</span><span class="builtintype" id="8439358">int</span><span class="op" id="8439361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439364">*</span><span class="op" id="8439365">*</span><span class="ident" id="8439366">t2</span><span class="op" id="8439368">.</span><span class="ident" id="8439369">B</span>&nbsp;<span class="op" id="8439371">=</span>&nbsp;<span class="num" id="8439373">177</span><br>
<span class="lineno">850</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439378">t2</span><span class="op" id="8439380">.</span><span class="ident" id="8439381">A</span>&nbsp;<span class="op" id="8439383">=</span>&nbsp;<span class="builtinfunc" id="8439385">new</span><span class="op" id="8439388">(</span><span class="op" id="8439389">*</span><span class="op" id="8439390">*</span><span class="builtintype" id="8439391">int</span><span class="op" id="8439394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439397">*</span><span class="ident" id="8439398">t2</span><span class="op" id="8439400">.</span><span class="ident" id="8439401">A</span>&nbsp;<span class="op" id="8439403">=</span>&nbsp;<span class="builtinfunc" id="8439405">new</span><span class="op" id="8439408">(</span><span class="op" id="8439409">*</span><span class="builtintype" id="8439410">int</span><span class="op" id="8439413">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439416">*</span><span class="op" id="8439417">*</span><span class="ident" id="8439418">t2</span><span class="op" id="8439420">.</span><span class="ident" id="8439421">A</span>&nbsp;<span class="op" id="8439423">=</span>&nbsp;<span class="builtinfunc" id="8439425">new</span><span class="op" id="8439428">(</span><span class="builtintype" id="8439429">int</span><span class="op" id="8439432">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439435">*</span><span class="op" id="8439436">*</span><span class="op" id="8439437">*</span><span class="ident" id="8439438">t2</span><span class="op" id="8439440">.</span><span class="ident" id="8439441">A</span>&nbsp;<span class="op" id="8439443">=</span>&nbsp;<span class="num" id="8439445">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439449">b</span><span class="op" id="8439450">.</span><span class="ident" id="8439451">Reset</span><span class="op" id="8439456">(</span><span class="op" id="8439457">)</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439460">enc</span><span class="op" id="8439463">.</span><span class="ident" id="8439464">Encode</span><span class="op" id="8439470">(</span><span class="ident" id="8439471">t2</span><span class="op" id="8439473">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439476">t0</span>&nbsp;<span class="op" id="8439479">=</span>&nbsp;<span class="ident" id="8439481">T0</span><span class="op" id="8439483">{</span><span class="op" id="8439484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439487">dec</span><span class="op" id="8439490">.</span><span class="ident" id="8439491">Decode</span><span class="op" id="8439497">(</span><span class="op" id="8439498">&amp;</span><span class="ident" id="8439499">t0</span><span class="op" id="8439501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439504">if</span>&nbsp;<span class="ident" id="8439507">t0</span><span class="op" id="8439509">.</span><span class="ident" id="8439510">A</span>&nbsp;<span class="op" id="8439512">!=</span>&nbsp;<span class="num" id="8439515">17</span>&nbsp;<span class="op" id="8439518">||</span>&nbsp;<span class="ident" id="8439521">t0</span><span class="op" id="8439523">.</span><span class="ident" id="8439524">B</span>&nbsp;<span class="op" id="8439526">!=</span>&nbsp;<span class="num" id="8439529">177</span>&nbsp;<span class="op" id="8439533">||</span>&nbsp;<span class="ident" id="8439536">t0</span><span class="op" id="8439538">.</span><span class="ident" id="8439539">C</span>&nbsp;<span class="op" id="8439541">!=</span>&nbsp;<span class="num" id="8439544">1777</span>&nbsp;<span class="op" id="8439549">||</span>&nbsp;<span class="ident" id="8439552">t0</span><span class="op" id="8439554">.</span><span class="ident" id="8439555">D</span>&nbsp;<span class="op" id="8439557">!=</span>&nbsp;<span class="num" id="8439560">17777</span>&nbsp;<span class="op" id="8439566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439570">t</span><span class="op" id="8439571">.</span><span class="ident" id="8439572">Errorf</span><span class="op" id="8439578">(</span><span class="string" id="8439579">&#34;t2-&gt;t0&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8439624">,</span>&nbsp;<span class="ident" id="8439626">t0</span><span class="op" id="8439628">)</span><br>
<span class="lineno">860</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439631">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8439635">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439663">t0</span>&nbsp;<span class="op" id="8439666">=</span>&nbsp;<span class="ident" id="8439668">T0</span><span class="op" id="8439670">{</span><span class="num" id="8439671">17</span><span class="op" id="8439673">,</span>&nbsp;<span class="num" id="8439675">177</span><span class="op" id="8439678">,</span>&nbsp;<span class="num" id="8439680">1777</span><span class="op" id="8439684">,</span>&nbsp;<span class="num" id="8439686">17777</span><span class="op" id="8439691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439694">b</span><span class="op" id="8439695">.</span><span class="ident" id="8439696">Reset</span><span class="op" id="8439701">(</span><span class="op" id="8439702">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439705">enc</span><span class="op" id="8439708">.</span><span class="ident" id="8439709">Encode</span><span class="op" id="8439715">(</span><span class="ident" id="8439716">t0</span><span class="op" id="8439718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439721">t1</span>&nbsp;<span class="op" id="8439724">=</span>&nbsp;<span class="ident" id="8439726">T1</span><span class="op" id="8439728">{</span><span class="op" id="8439729">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439732">dec</span><span class="op" id="8439735">.</span><span class="ident" id="8439736">Decode</span><span class="op" id="8439742">(</span><span class="op" id="8439743">&amp;</span><span class="ident" id="8439744">t1</span><span class="op" id="8439746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8439749">if</span>&nbsp;<span class="ident" id="8439752">t1</span><span class="op" id="8439754">.</span><span class="ident" id="8439755">A</span>&nbsp;<span class="op" id="8439757">!=</span>&nbsp;<span class="num" id="8439760">17</span>&nbsp;<span class="op" id="8439763">||</span>&nbsp;<span class="op" id="8439766">*</span><span class="ident" id="8439767">t1</span><span class="op" id="8439769">.</span><span class="ident" id="8439770">B</span>&nbsp;<span class="op" id="8439772">!=</span>&nbsp;<span class="num" id="8439775">177</span>&nbsp;<span class="op" id="8439779">||</span>&nbsp;<span class="op" id="8439782">*</span><span class="op" id="8439783">*</span><span class="ident" id="8439784">t1</span><span class="op" id="8439786">.</span><span class="ident" id="8439787">C</span>&nbsp;<span class="op" id="8439789">!=</span>&nbsp;<span class="num" id="8439792">1777</span>&nbsp;<span class="op" id="8439797">||</span>&nbsp;<span class="op" id="8439800">*</span><span class="op" id="8439801">*</span><span class="op" id="8439802">*</span><span class="ident" id="8439803">t1</span><span class="op" id="8439805">.</span><span class="ident" id="8439806">D</span>&nbsp;<span class="op" id="8439808">!=</span>&nbsp;<span class="num" id="8439811">17777</span>&nbsp;<span class="op" id="8439817">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439821">t</span><span class="op" id="8439822">.</span><span class="ident" id="8439823">Errorf</span><span class="op" id="8439829">(</span><span class="string" id="8439830">&#34;t0-&gt;t1&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8439886">,</span>&nbsp;<span class="ident" id="8439888">t1</span><span class="op" id="8439890">.</span><span class="ident" id="8439891">A</span><span class="op" id="8439892">,</span>&nbsp;<span class="op" id="8439894">*</span><span class="ident" id="8439895">t1</span><span class="op" id="8439897">.</span><span class="ident" id="8439898">B</span><span class="op" id="8439899">,</span>&nbsp;<span class="op" id="8439901">*</span><span class="op" id="8439902">*</span><span class="ident" id="8439903">t1</span><span class="op" id="8439905">.</span><span class="ident" id="8439906">C</span><span class="op" id="8439907">,</span>&nbsp;<span class="op" id="8439909">*</span><span class="op" id="8439910">*</span><span class="op" id="8439911">*</span><span class="ident" id="8439912">t1</span><span class="op" id="8439914">.</span><span class="ident" id="8439915">D</span><span class="op" id="8439916">)</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8439919">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8439923">//&nbsp;Now&nbsp;transfer&nbsp;t0&nbsp;into&nbsp;t2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439951">b</span><span class="op" id="8439952">.</span><span class="ident" id="8439953">Reset</span><span class="op" id="8439958">(</span><span class="op" id="8439959">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439962">enc</span><span class="op" id="8439965">.</span><span class="ident" id="8439966">Encode</span><span class="op" id="8439972">(</span><span class="ident" id="8439973">t0</span><span class="op" id="8439975">)</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439978">t2</span>&nbsp;<span class="op" id="8439981">=</span>&nbsp;<span class="ident" id="8439983">T2</span><span class="op" id="8439985">{</span><span class="op" id="8439986">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8439989">dec</span><span class="op" id="8439992">.</span><span class="ident" id="8439993">Decode</span><span class="op" id="8439999">(</span><span class="op" id="8440000">&amp;</span><span class="ident" id="8440001">t2</span><span class="op" id="8440003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440006">if</span>&nbsp;<span class="op" id="8440009">*</span><span class="op" id="8440010">*</span><span class="op" id="8440011">*</span><span class="ident" id="8440012">t2</span><span class="op" id="8440014">.</span><span class="ident" id="8440015">A</span>&nbsp;<span class="op" id="8440017">!=</span>&nbsp;<span class="num" id="8440020">17</span>&nbsp;<span class="op" id="8440023">||</span>&nbsp;<span class="op" id="8440026">*</span><span class="op" id="8440027">*</span><span class="ident" id="8440028">t2</span><span class="op" id="8440030">.</span><span class="ident" id="8440031">B</span>&nbsp;<span class="op" id="8440033">!=</span>&nbsp;<span class="num" id="8440036">177</span>&nbsp;<span class="op" id="8440040">||</span>&nbsp;<span class="op" id="8440043">*</span><span class="ident" id="8440044">t2</span><span class="op" id="8440046">.</span><span class="ident" id="8440047">C</span>&nbsp;<span class="op" id="8440049">!=</span>&nbsp;<span class="num" id="8440052">1777</span>&nbsp;<span class="op" id="8440057">||</span>&nbsp;<span class="ident" id="8440060">t2</span><span class="op" id="8440062">.</span><span class="ident" id="8440063">D</span>&nbsp;<span class="op" id="8440065">!=</span>&nbsp;<span class="num" id="8440068">17777</span>&nbsp;<span class="op" id="8440074">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440078">t</span><span class="op" id="8440079">.</span><span class="ident" id="8440080">Errorf</span><span class="op" id="8440086">(</span><span class="string" id="8440087">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8440143">,</span>&nbsp;<span class="op" id="8440145">*</span><span class="op" id="8440146">*</span><span class="op" id="8440147">*</span><span class="ident" id="8440148">t2</span><span class="op" id="8440150">.</span><span class="ident" id="8440151">A</span><span class="op" id="8440152">,</span>&nbsp;<span class="op" id="8440154">*</span><span class="op" id="8440155">*</span><span class="ident" id="8440156">t2</span><span class="op" id="8440158">.</span><span class="ident" id="8440159">B</span><span class="op" id="8440160">,</span>&nbsp;<span class="op" id="8440162">*</span><span class="ident" id="8440163">t2</span><span class="op" id="8440165">.</span><span class="ident" id="8440166">C</span><span class="op" id="8440167">,</span>&nbsp;<span class="ident" id="8440169">t2</span><span class="op" id="8440171">.</span><span class="ident" id="8440172">D</span><span class="op" id="8440173">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440176">}</span><br>
<span class="lineno">880</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8440180">//&nbsp;Now&nbsp;do&nbsp;t2&nbsp;again&nbsp;but&nbsp;without&nbsp;pre-allocated&nbsp;pointers.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440236">b</span><span class="op" id="8440237">.</span><span class="ident" id="8440238">Reset</span><span class="op" id="8440243">(</span><span class="op" id="8440244">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440247">enc</span><span class="op" id="8440250">.</span><span class="ident" id="8440251">Encode</span><span class="op" id="8440257">(</span><span class="ident" id="8440258">t0</span><span class="op" id="8440260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440263">*</span><span class="op" id="8440264">*</span><span class="op" id="8440265">*</span><span class="ident" id="8440266">t2</span><span class="op" id="8440268">.</span><span class="ident" id="8440269">A</span>&nbsp;<span class="op" id="8440271">=</span>&nbsp;<span class="num" id="8440273">0</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440276">*</span><span class="op" id="8440277">*</span><span class="ident" id="8440278">t2</span><span class="op" id="8440280">.</span><span class="ident" id="8440281">B</span>&nbsp;<span class="op" id="8440283">=</span>&nbsp;<span class="num" id="8440285">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440288">*</span><span class="ident" id="8440289">t2</span><span class="op" id="8440291">.</span><span class="ident" id="8440292">C</span>&nbsp;<span class="op" id="8440294">=</span>&nbsp;<span class="num" id="8440296">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440299">t2</span><span class="op" id="8440301">.</span><span class="ident" id="8440302">D</span>&nbsp;<span class="op" id="8440304">=</span>&nbsp;<span class="num" id="8440306">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440309">dec</span><span class="op" id="8440312">.</span><span class="ident" id="8440313">Decode</span><span class="op" id="8440319">(</span><span class="op" id="8440320">&amp;</span><span class="ident" id="8440321">t2</span><span class="op" id="8440323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440326">if</span>&nbsp;<span class="op" id="8440329">*</span><span class="op" id="8440330">*</span><span class="op" id="8440331">*</span><span class="ident" id="8440332">t2</span><span class="op" id="8440334">.</span><span class="ident" id="8440335">A</span>&nbsp;<span class="op" id="8440337">!=</span>&nbsp;<span class="num" id="8440340">17</span>&nbsp;<span class="op" id="8440343">||</span>&nbsp;<span class="op" id="8440346">*</span><span class="op" id="8440347">*</span><span class="ident" id="8440348">t2</span><span class="op" id="8440350">.</span><span class="ident" id="8440351">B</span>&nbsp;<span class="op" id="8440353">!=</span>&nbsp;<span class="num" id="8440356">177</span>&nbsp;<span class="op" id="8440360">||</span>&nbsp;<span class="op" id="8440363">*</span><span class="ident" id="8440364">t2</span><span class="op" id="8440366">.</span><span class="ident" id="8440367">C</span>&nbsp;<span class="op" id="8440369">!=</span>&nbsp;<span class="num" id="8440372">1777</span>&nbsp;<span class="op" id="8440377">||</span>&nbsp;<span class="ident" id="8440380">t2</span><span class="op" id="8440382">.</span><span class="ident" id="8440383">D</span>&nbsp;<span class="op" id="8440385">!=</span>&nbsp;<span class="num" id="8440388">17777</span>&nbsp;<span class="op" id="8440394">{</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440398">t</span><span class="op" id="8440399">.</span><span class="ident" id="8440400">Errorf</span><span class="op" id="8440406">(</span><span class="string" id="8440407">&#34;t0-&gt;t2&nbsp;expected&nbsp;{17&nbsp;177&nbsp;1777&nbsp;17777};&nbsp;got&nbsp;{%d&nbsp;%d&nbsp;%d&nbsp;%d}&#34;</span><span class="op" id="8440463">,</span>&nbsp;<span class="op" id="8440465">*</span><span class="op" id="8440466">*</span><span class="op" id="8440467">*</span><span class="ident" id="8440468">t2</span><span class="op" id="8440470">.</span><span class="ident" id="8440471">A</span><span class="op" id="8440472">,</span>&nbsp;<span class="op" id="8440474">*</span><span class="op" id="8440475">*</span><span class="ident" id="8440476">t2</span><span class="op" id="8440478">.</span><span class="ident" id="8440479">B</span><span class="op" id="8440480">,</span>&nbsp;<span class="op" id="8440482">*</span><span class="ident" id="8440483">t2</span><span class="op" id="8440485">.</span><span class="ident" id="8440486">C</span><span class="op" id="8440487">,</span>&nbsp;<span class="ident" id="8440489">t2</span><span class="op" id="8440491">.</span><span class="ident" id="8440492">D</span><span class="op" id="8440493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440496">}</span><br>
<span class="lineno"></span><span class="op" id="8440498">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8440501">type</span>&nbsp;<span class="ident" id="8440506">RT0</span>&nbsp;<span class="keyword" id="8440510">struct</span>&nbsp;<span class="op" id="8440517">{</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440520">A</span>&nbsp;<span class="builtintype" id="8440522">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440527">B</span>&nbsp;<span class="builtintype" id="8440529">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440537">C</span>&nbsp;<span class="builtintype" id="8440539">float64</span><br>
<span class="lineno"></span><span class="op" id="8440547">}</span><br>
<span class="lineno"></span><span class="keyword" id="8440549">type</span>&nbsp;<span class="ident" id="8440554">RT1</span>&nbsp;<span class="keyword" id="8440558">struct</span>&nbsp;<span class="op" id="8440565">{</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440568">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8440575">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440584">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8440591">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440599">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8440606">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440611">NotSet</span>&nbsp;<span class="builtintype" id="8440618">string</span><br>
<span class="lineno"></span><span class="op" id="8440625">}</span><br>
<span class="lineno">905</span><br>
<span class="lineno"></span><span class="keyword" id="8440628">func</span>&nbsp;<span class="ident" id="8440633">TestReorderedFields</span><span class="op" id="8440652">(</span><span class="ident" id="8440653">t</span>&nbsp;<span class="op" id="8440655">*</span><span class="ident" id="8440656">testing</span><span class="op" id="8440663">.</span><span class="ident" id="8440664">T</span><span class="op" id="8440665">)</span>&nbsp;<span class="op" id="8440667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440670">var</span>&nbsp;<span class="ident" id="8440674">rt0</span>&nbsp;<span class="ident" id="8440678">RT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440683">rt0</span><span class="op" id="8440686">.</span><span class="ident" id="8440687">A</span>&nbsp;<span class="op" id="8440689">=</span>&nbsp;<span class="num" id="8440691">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440695">rt0</span><span class="op" id="8440698">.</span><span class="ident" id="8440699">B</span>&nbsp;<span class="op" id="8440701">=</span>&nbsp;<span class="string" id="8440703">&#34;hello&#34;</span><br>
<span class="lineno">910</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440712">rt0</span><span class="op" id="8440715">.</span><span class="ident" id="8440716">C</span>&nbsp;<span class="op" id="8440718">=</span>&nbsp;<span class="num" id="8440720">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440729">b</span>&nbsp;<span class="op" id="8440731">:=</span>&nbsp;<span class="builtinfunc" id="8440734">new</span><span class="op" id="8440737">(</span><span class="ident" id="8440738">bytes</span><span class="op" id="8440743">.</span><span class="ident" id="8440744">Buffer</span><span class="op" id="8440750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440753">NewEncoder</span><span class="op" id="8440763">(</span><span class="ident" id="8440764">b</span><span class="op" id="8440765">)</span><span class="op" id="8440766">.</span><span class="ident" id="8440767">Encode</span><span class="op" id="8440773">(</span><span class="ident" id="8440774">rt0</span><span class="op" id="8440777">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440780">dec</span>&nbsp;<span class="op" id="8440784">:=</span>&nbsp;<span class="ident" id="8440787">NewDecoder</span><span class="op" id="8440797">(</span><span class="ident" id="8440798">b</span><span class="op" id="8440799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440802">var</span>&nbsp;<span class="ident" id="8440806">rt1</span>&nbsp;<span class="ident" id="8440810">RT1</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8440815">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;RT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440856">err</span>&nbsp;<span class="op" id="8440860">:=</span>&nbsp;<span class="ident" id="8440863">dec</span><span class="op" id="8440866">.</span><span class="ident" id="8440867">Decode</span><span class="op" id="8440873">(</span><span class="op" id="8440874">&amp;</span><span class="ident" id="8440875">rt1</span><span class="op" id="8440878">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440881">if</span>&nbsp;<span class="ident" id="8440884">err</span>&nbsp;<span class="op" id="8440888">!=</span>&nbsp;<span class="ident" id="8440891">nil</span>&nbsp;<span class="op" id="8440895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440899">t</span><span class="op" id="8440900">.</span><span class="ident" id="8440901">Fatal</span><span class="op" id="8440906">(</span><span class="string" id="8440907">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8440922">,</span>&nbsp;<span class="ident" id="8440924">err</span><span class="op" id="8440927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8440930">}</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8440933">if</span>&nbsp;<span class="ident" id="8440936">rt0</span><span class="op" id="8440939">.</span><span class="ident" id="8440940">A</span>&nbsp;<span class="op" id="8440942">!=</span>&nbsp;<span class="ident" id="8440945">rt1</span><span class="op" id="8440948">.</span><span class="ident" id="8440949">A</span>&nbsp;<span class="op" id="8440951">||</span>&nbsp;<span class="ident" id="8440954">rt0</span><span class="op" id="8440957">.</span><span class="ident" id="8440958">B</span>&nbsp;<span class="op" id="8440960">!=</span>&nbsp;<span class="ident" id="8440963">rt1</span><span class="op" id="8440966">.</span><span class="ident" id="8440967">B</span>&nbsp;<span class="op" id="8440969">||</span>&nbsp;<span class="ident" id="8440972">rt0</span><span class="op" id="8440975">.</span><span class="ident" id="8440976">C</span>&nbsp;<span class="op" id="8440978">!=</span>&nbsp;<span class="ident" id="8440981">rt1</span><span class="op" id="8440984">.</span><span class="ident" id="8440985">C</span>&nbsp;<span class="op" id="8440987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8440991">t</span><span class="op" id="8440992">.</span><span class="ident" id="8440993">Errorf</span><span class="op" id="8440999">(</span><span class="string" id="8441000">&#34;rt1-&gt;rt0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8441031">,</span>&nbsp;<span class="ident" id="8441033">rt0</span><span class="op" id="8441036">,</span>&nbsp;<span class="ident" id="8441038">rt1</span><span class="op" id="8441041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441044">}</span><br>
<span class="lineno"></span><span class="op" id="8441046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">925</span><span class="comment" id="8441049">//&nbsp;Like&nbsp;an&nbsp;RT0&nbsp;but&nbsp;with&nbsp;fields&nbsp;we&#39;ll&nbsp;ignore&nbsp;on&nbsp;the&nbsp;decode&nbsp;side.</span><br>
<span class="lineno"></span><span class="keyword" id="8441113">type</span>&nbsp;<span class="ident" id="8441118">IT0</span>&nbsp;<span class="keyword" id="8441122">struct</span>&nbsp;<span class="op" id="8441129">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441132">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8441141">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441148">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8441157">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441165">Ignore_d</span>&nbsp;<span class="op" id="8441174">[</span><span class="op" id="8441175">]</span><span class="builtintype" id="8441176">int</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441181">Ignore_e</span>&nbsp;<span class="op" id="8441190">[</span><span class="num" id="8441191">3</span><span class="op" id="8441192">]</span><span class="builtintype" id="8441193">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441202">Ignore_f</span>&nbsp;<span class="builtintype" id="8441211">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441217">Ignore_g</span>&nbsp;<span class="builtintype" id="8441226">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441234">Ignore_h</span>&nbsp;<span class="op" id="8441243">[</span><span class="op" id="8441244">]</span><span class="builtintype" id="8441245">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441251">Ignore_i</span>&nbsp;<span class="op" id="8441260">*</span><span class="ident" id="8441261">RT1</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441266">Ignore_m</span>&nbsp;<span class="keyword" id="8441275">map</span><span class="op" id="8441278">[</span><span class="builtintype" id="8441279">string</span><span class="op" id="8441285">]</span><span class="builtintype" id="8441286">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441291">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8441300">float64</span><br>
<span class="lineno"></span><span class="op" id="8441308">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8441311">func</span>&nbsp;<span class="ident" id="8441316">TestIgnoredFields</span><span class="op" id="8441333">(</span><span class="ident" id="8441334">t</span>&nbsp;<span class="op" id="8441336">*</span><span class="ident" id="8441337">testing</span><span class="op" id="8441344">.</span><span class="ident" id="8441345">T</span><span class="op" id="8441346">)</span>&nbsp;<span class="op" id="8441348">{</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441351">var</span>&nbsp;<span class="ident" id="8441355">it0</span>&nbsp;<span class="ident" id="8441359">IT0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441364">it0</span><span class="op" id="8441367">.</span><span class="ident" id="8441368">A</span>&nbsp;<span class="op" id="8441370">=</span>&nbsp;<span class="num" id="8441372">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441376">it0</span><span class="op" id="8441379">.</span><span class="ident" id="8441380">B</span>&nbsp;<span class="op" id="8441382">=</span>&nbsp;<span class="string" id="8441384">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441393">it0</span><span class="op" id="8441396">.</span><span class="ident" id="8441397">C</span>&nbsp;<span class="op" id="8441399">=</span>&nbsp;<span class="num" id="8441401">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441410">it0</span><span class="op" id="8441413">.</span><span class="ident" id="8441414">Ignore_d</span>&nbsp;<span class="op" id="8441423">=</span>&nbsp;<span class="op" id="8441425">[</span><span class="op" id="8441426">]</span><span class="builtintype" id="8441427">int</span><span class="op" id="8441430">{</span><span class="num" id="8441431">1</span><span class="op" id="8441432">,</span>&nbsp;<span class="num" id="8441434">2</span><span class="op" id="8441435">,</span>&nbsp;<span class="num" id="8441437">3</span><span class="op" id="8441438">}</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441441">it0</span><span class="op" id="8441444">.</span><span class="ident" id="8441445">Ignore_e</span><span class="op" id="8441453">[</span><span class="num" id="8441454">0</span><span class="op" id="8441455">]</span>&nbsp;<span class="op" id="8441457">=</span>&nbsp;<span class="num" id="8441459">1.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441464">it0</span><span class="op" id="8441467">.</span><span class="ident" id="8441468">Ignore_e</span><span class="op" id="8441476">[</span><span class="num" id="8441477">1</span><span class="op" id="8441478">]</span>&nbsp;<span class="op" id="8441480">=</span>&nbsp;<span class="num" id="8441482">2.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441487">it0</span><span class="op" id="8441490">.</span><span class="ident" id="8441491">Ignore_e</span><span class="op" id="8441499">[</span><span class="num" id="8441500">2</span><span class="op" id="8441501">]</span>&nbsp;<span class="op" id="8441503">=</span>&nbsp;<span class="num" id="8441505">3.0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441510">it0</span><span class="op" id="8441513">.</span><span class="ident" id="8441514">Ignore_f</span>&nbsp;<span class="op" id="8441523">=</span>&nbsp;<span class="builtintype" id="8441525">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441531">it0</span><span class="op" id="8441534">.</span><span class="ident" id="8441535">Ignore_g</span>&nbsp;<span class="op" id="8441544">=</span>&nbsp;<span class="string" id="8441546">&#34;pay&nbsp;no&nbsp;attention&#34;</span><br>
<span class="lineno">950</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441566">it0</span><span class="op" id="8441569">.</span><span class="ident" id="8441570">Ignore_h</span>&nbsp;<span class="op" id="8441579">=</span>&nbsp;<span class="op" id="8441581">[</span><span class="op" id="8441582">]</span><span class="builtintype" id="8441583">byte</span><span class="op" id="8441587">(</span><span class="string" id="8441588">&#34;to&nbsp;the&nbsp;curtain&#34;</span><span class="op" id="8441604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441607">it0</span><span class="op" id="8441610">.</span><span class="ident" id="8441611">Ignore_i</span>&nbsp;<span class="op" id="8441620">=</span>&nbsp;<span class="op" id="8441622">&amp;</span><span class="ident" id="8441623">RT1</span><span class="op" id="8441626">{</span><span class="num" id="8441627">3.1</span><span class="op" id="8441630">,</span>&nbsp;<span class="string" id="8441632">&#34;hi&#34;</span><span class="op" id="8441636">,</span>&nbsp;<span class="num" id="8441638">7</span><span class="op" id="8441639">,</span>&nbsp;<span class="string" id="8441641">&#34;hello&#34;</span><span class="op" id="8441648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441651">it0</span><span class="op" id="8441654">.</span><span class="ident" id="8441655">Ignore_m</span>&nbsp;<span class="op" id="8441664">=</span>&nbsp;<span class="keyword" id="8441666">map</span><span class="op" id="8441669">[</span><span class="builtintype" id="8441670">string</span><span class="op" id="8441676">]</span><span class="builtintype" id="8441677">int</span><span class="op" id="8441680">{</span><span class="string" id="8441681">&#34;one&#34;</span><span class="op" id="8441686">:</span>&nbsp;<span class="num" id="8441688">1</span><span class="op" id="8441689">,</span>&nbsp;<span class="string" id="8441691">&#34;two&#34;</span><span class="op" id="8441696">:</span>&nbsp;<span class="num" id="8441698">2</span><span class="op" id="8441699">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441703">b</span>&nbsp;<span class="op" id="8441705">:=</span>&nbsp;<span class="builtinfunc" id="8441708">new</span><span class="op" id="8441711">(</span><span class="ident" id="8441712">bytes</span><span class="op" id="8441717">.</span><span class="ident" id="8441718">Buffer</span><span class="op" id="8441724">)</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441727">NewEncoder</span><span class="op" id="8441737">(</span><span class="ident" id="8441738">b</span><span class="op" id="8441739">)</span><span class="op" id="8441740">.</span><span class="ident" id="8441741">Encode</span><span class="op" id="8441747">(</span><span class="ident" id="8441748">it0</span><span class="op" id="8441751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441754">dec</span>&nbsp;<span class="op" id="8441758">:=</span>&nbsp;<span class="ident" id="8441761">NewDecoder</span><span class="op" id="8441771">(</span><span class="ident" id="8441772">b</span><span class="op" id="8441773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441776">var</span>&nbsp;<span class="ident" id="8441780">rt1</span>&nbsp;<span class="ident" id="8441784">RT1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8441789">//&nbsp;Wire&nbsp;type&nbsp;is&nbsp;IT0,&nbsp;local&nbsp;type&nbsp;is&nbsp;RT1.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441830">err</span>&nbsp;<span class="op" id="8441834">:=</span>&nbsp;<span class="ident" id="8441837">dec</span><span class="op" id="8441840">.</span><span class="ident" id="8441841">Decode</span><span class="op" id="8441847">(</span><span class="op" id="8441848">&amp;</span><span class="ident" id="8441849">rt1</span><span class="op" id="8441852">)</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441855">if</span>&nbsp;<span class="ident" id="8441858">err</span>&nbsp;<span class="op" id="8441862">!=</span>&nbsp;<span class="ident" id="8441865">nil</span>&nbsp;<span class="op" id="8441869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441873">t</span><span class="op" id="8441874">.</span><span class="ident" id="8441875">Error</span><span class="op" id="8441880">(</span><span class="string" id="8441881">&#34;error:&nbsp;&#34;</span><span class="op" id="8441890">,</span>&nbsp;<span class="ident" id="8441892">err</span><span class="op" id="8441895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8441898">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8441901">if</span>&nbsp;<span class="builtintype" id="8441904">int</span><span class="op" id="8441907">(</span><span class="ident" id="8441908">it0</span><span class="op" id="8441911">.</span><span class="ident" id="8441912">A</span><span class="op" id="8441913">)</span>&nbsp;<span class="op" id="8441915">!=</span>&nbsp;<span class="ident" id="8441918">rt1</span><span class="op" id="8441921">.</span><span class="ident" id="8441922">A</span>&nbsp;<span class="op" id="8441924">||</span>&nbsp;<span class="ident" id="8441927">it0</span><span class="op" id="8441930">.</span><span class="ident" id="8441931">B</span>&nbsp;<span class="op" id="8441933">!=</span>&nbsp;<span class="ident" id="8441936">rt1</span><span class="op" id="8441939">.</span><span class="ident" id="8441940">B</span>&nbsp;<span class="op" id="8441942">||</span>&nbsp;<span class="ident" id="8441945">it0</span><span class="op" id="8441948">.</span><span class="ident" id="8441949">C</span>&nbsp;<span class="op" id="8441951">!=</span>&nbsp;<span class="ident" id="8441954">rt1</span><span class="op" id="8441957">.</span><span class="ident" id="8441958">C</span>&nbsp;<span class="op" id="8441960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8441964">t</span><span class="op" id="8441965">.</span><span class="ident" id="8441966">Errorf</span><span class="op" id="8441972">(</span><span class="string" id="8441973">&#34;rt0-&gt;rt1:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8442004">,</span>&nbsp;<span class="ident" id="8442006">it0</span><span class="op" id="8442009">,</span>&nbsp;<span class="ident" id="8442011">rt1</span><span class="op" id="8442014">)</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442017">}</span><br>
<span class="lineno"></span><span class="op" id="8442019">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8442022">func</span>&nbsp;<span class="ident" id="8442027">TestBadRecursiveType</span><span class="op" id="8442047">(</span><span class="ident" id="8442048">t</span>&nbsp;<span class="op" id="8442050">*</span><span class="ident" id="8442051">testing</span><span class="op" id="8442058">.</span><span class="ident" id="8442059">T</span><span class="op" id="8442060">)</span>&nbsp;<span class="op" id="8442062">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442065">type</span>&nbsp;<span class="ident" id="8442070">Rec</span>&nbsp;<span class="op" id="8442074">*</span><span class="op" id="8442075">*</span><span class="op" id="8442076">*</span><span class="ident" id="8442077">Rec</span><br>
<span class="lineno">970</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442082">var</span>&nbsp;<span class="ident" id="8442086">rec</span>&nbsp;<span class="ident" id="8442090">Rec</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442095">b</span>&nbsp;<span class="op" id="8442097">:=</span>&nbsp;<span class="builtinfunc" id="8442100">new</span><span class="op" id="8442103">(</span><span class="ident" id="8442104">bytes</span><span class="op" id="8442109">.</span><span class="ident" id="8442110">Buffer</span><span class="op" id="8442116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442119">err</span>&nbsp;<span class="op" id="8442123">:=</span>&nbsp;<span class="ident" id="8442126">NewEncoder</span><span class="op" id="8442136">(</span><span class="ident" id="8442137">b</span><span class="op" id="8442138">)</span><span class="op" id="8442139">.</span><span class="ident" id="8442140">Encode</span><span class="op" id="8442146">(</span><span class="op" id="8442147">&amp;</span><span class="ident" id="8442148">rec</span><span class="op" id="8442151">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8442154">if</span>&nbsp;<span class="ident" id="8442157">err</span>&nbsp;<span class="op" id="8442161">==</span>&nbsp;<span class="ident" id="8442164">nil</span>&nbsp;<span class="op" id="8442168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442172">t</span><span class="op" id="8442173">.</span><span class="ident" id="8442174">Error</span><span class="op" id="8442179">(</span><span class="string" id="8442180">&#34;expected&nbsp;error;&nbsp;got&nbsp;none&#34;</span><span class="op" id="8442206">)</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442209">}</span>&nbsp;<span class="keyword" id="8442211">else</span>&nbsp;<span class="keyword" id="8442216">if</span>&nbsp;<span class="ident" id="8442219">strings</span><span class="op" id="8442226">.</span><span class="ident" id="8442227">Index</span><span class="op" id="8442232">(</span><span class="ident" id="8442233">err</span><span class="op" id="8442236">.</span><span class="ident" id="8442237">Error</span><span class="op" id="8442242">(</span><span class="op" id="8442243">)</span><span class="op" id="8442244">,</span>&nbsp;<span class="string" id="8442246">&#34;recursive&#34;</span><span class="op" id="8442257">)</span>&nbsp;<span class="op" id="8442259">&lt;</span>&nbsp;<span class="num" id="8442261">0</span>&nbsp;<span class="op" id="8442263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442267">t</span><span class="op" id="8442268">.</span><span class="ident" id="8442269">Error</span><span class="op" id="8442274">(</span><span class="string" id="8442275">&#34;expected&nbsp;recursive&nbsp;type&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8442311">,</span>&nbsp;<span class="ident" id="8442313">err</span><span class="op" id="8442316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442319">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8442322">//&nbsp;Can&#39;t&nbsp;test&nbsp;decode&nbsp;easily&nbsp;because&nbsp;we&nbsp;can&#39;t&nbsp;encode&nbsp;one,&nbsp;so&nbsp;we&nbsp;can&#39;t&nbsp;pass&nbsp;one&nbsp;to&nbsp;a&nbsp;Decoder.</span><br>
<span class="lineno"></span><span class="op" id="8442414">}</span><br>
<span class="lineno">980</span><br>
<span class="lineno"></span><span class="keyword" id="8442417">type</span>&nbsp;<span class="ident" id="8442422">Indirect</span>&nbsp;<span class="keyword" id="8442431">struct</span>&nbsp;<span class="op" id="8442438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442441">A</span>&nbsp;<span class="op" id="8442443">*</span><span class="op" id="8442444">*</span><span class="op" id="8442445">*</span><span class="op" id="8442446">[</span><span class="num" id="8442447">3</span><span class="op" id="8442448">]</span><span class="builtintype" id="8442449">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442454">S</span>&nbsp;<span class="op" id="8442456">*</span><span class="op" id="8442457">*</span><span class="op" id="8442458">*</span><span class="op" id="8442459">[</span><span class="op" id="8442460">]</span><span class="builtintype" id="8442461">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442466">M</span>&nbsp;<span class="op" id="8442468">*</span><span class="op" id="8442469">*</span><span class="op" id="8442470">*</span><span class="op" id="8442471">*</span><span class="keyword" id="8442472">map</span><span class="op" id="8442475">[</span><span class="builtintype" id="8442476">string</span><span class="op" id="8442482">]</span><span class="builtintype" id="8442483">int</span><br>
<span class="lineno">985</span><span class="op" id="8442487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8442490">type</span>&nbsp;<span class="ident" id="8442495">Direct</span>&nbsp;<span class="keyword" id="8442502">struct</span>&nbsp;<span class="op" id="8442509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442512">A</span>&nbsp;<span class="op" id="8442514">[</span><span class="num" id="8442515">3</span><span class="op" id="8442516">]</span><span class="builtintype" id="8442517">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442522">S</span>&nbsp;<span class="op" id="8442524">[</span><span class="op" id="8442525">]</span><span class="builtintype" id="8442526">int</span><br>
<span class="lineno">990</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442531">M</span>&nbsp;<span class="keyword" id="8442533">map</span><span class="op" id="8442536">[</span><span class="builtintype" id="8442537">string</span><span class="op" id="8442543">]</span><span class="builtintype" id="8442544">int</span><br>
<span class="lineno"></span><span class="op" id="8442548">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8442551">func</span>&nbsp;<span class="ident" id="8442556">TestIndirectSliceMapArray</span><span class="op" id="8442581">(</span><span class="ident" id="8442582">t</span>&nbsp;<span class="op" id="8442584">*</span><span class="ident" id="8442585">testing</span><span class="op" id="8442592">.</span><span class="ident" id="8442593">T</span><span class="op" id="8442594">)</span>&nbsp;<span class="op" id="8442596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8442599">//&nbsp;Marshal&nbsp;indirect,&nbsp;unmarshal&nbsp;to&nbsp;direct.</span><br>
<span class="lineno">995</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442642">i</span>&nbsp;<span class="op" id="8442644">:=</span>&nbsp;<span class="builtinfunc" id="8442647">new</span><span class="op" id="8442650">(</span><span class="ident" id="8442651">Indirect</span><span class="op" id="8442659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442662">i</span><span class="op" id="8442663">.</span><span class="ident" id="8442664">A</span>&nbsp;<span class="op" id="8442666">=</span>&nbsp;<span class="builtinfunc" id="8442668">new</span><span class="op" id="8442671">(</span><span class="op" id="8442672">*</span><span class="op" id="8442673">*</span><span class="op" id="8442674">[</span><span class="num" id="8442675">3</span><span class="op" id="8442676">]</span><span class="builtintype" id="8442677">int</span><span class="op" id="8442680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442683">*</span><span class="ident" id="8442684">i</span><span class="op" id="8442685">.</span><span class="ident" id="8442686">A</span>&nbsp;<span class="op" id="8442688">=</span>&nbsp;<span class="builtinfunc" id="8442690">new</span><span class="op" id="8442693">(</span><span class="op" id="8442694">*</span><span class="op" id="8442695">[</span><span class="num" id="8442696">3</span><span class="op" id="8442697">]</span><span class="builtintype" id="8442698">int</span><span class="op" id="8442701">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442704">*</span><span class="op" id="8442705">*</span><span class="ident" id="8442706">i</span><span class="op" id="8442707">.</span><span class="ident" id="8442708">A</span>&nbsp;<span class="op" id="8442710">=</span>&nbsp;<span class="builtinfunc" id="8442712">new</span><span class="op" id="8442715">(</span><span class="op" id="8442716">[</span><span class="num" id="8442717">3</span><span class="op" id="8442718">]</span><span class="builtintype" id="8442719">int</span><span class="op" id="8442722">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442725">*</span><span class="op" id="8442726">*</span><span class="op" id="8442727">*</span><span class="ident" id="8442728">i</span><span class="op" id="8442729">.</span><span class="ident" id="8442730">A</span>&nbsp;<span class="op" id="8442732">=</span>&nbsp;<span class="op" id="8442734">[</span><span class="num" id="8442735">3</span><span class="op" id="8442736">]</span><span class="builtintype" id="8442737">int</span><span class="op" id="8442740">{</span><span class="num" id="8442741">1</span><span class="op" id="8442742">,</span>&nbsp;<span class="num" id="8442744">2</span><span class="op" id="8442745">,</span>&nbsp;<span class="num" id="8442747">3</span><span class="op" id="8442748">}</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442751">i</span><span class="op" id="8442752">.</span><span class="ident" id="8442753">S</span>&nbsp;<span class="op" id="8442755">=</span>&nbsp;<span class="builtinfunc" id="8442757">new</span><span class="op" id="8442760">(</span><span class="op" id="8442761">*</span><span class="op" id="8442762">*</span><span class="op" id="8442763">[</span><span class="op" id="8442764">]</span><span class="builtintype" id="8442765">int</span><span class="op" id="8442768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442771">*</span><span class="ident" id="8442772">i</span><span class="op" id="8442773">.</span><span class="ident" id="8442774">S</span>&nbsp;<span class="op" id="8442776">=</span>&nbsp;<span class="builtinfunc" id="8442778">new</span><span class="op" id="8442781">(</span><span class="op" id="8442782">*</span><span class="op" id="8442783">[</span><span class="op" id="8442784">]</span><span class="builtintype" id="8442785">int</span><span class="op" id="8442788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442791">*</span><span class="op" id="8442792">*</span><span class="ident" id="8442793">i</span><span class="op" id="8442794">.</span><span class="ident" id="8442795">S</span>&nbsp;<span class="op" id="8442797">=</span>&nbsp;<span class="builtinfunc" id="8442799">new</span><span class="op" id="8442802">(</span><span class="op" id="8442803">[</span><span class="op" id="8442804">]</span><span class="builtintype" id="8442805">int</span><span class="op" id="8442808">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442811">*</span><span class="op" id="8442812">*</span><span class="op" id="8442813">*</span><span class="ident" id="8442814">i</span><span class="op" id="8442815">.</span><span class="ident" id="8442816">S</span>&nbsp;<span class="op" id="8442818">=</span>&nbsp;<span class="op" id="8442820">[</span><span class="op" id="8442821">]</span><span class="builtintype" id="8442822">int</span><span class="op" id="8442825">{</span><span class="num" id="8442826">4</span><span class="op" id="8442827">,</span>&nbsp;<span class="num" id="8442829">5</span><span class="op" id="8442830">,</span>&nbsp;<span class="num" id="8442832">6</span><span class="op" id="8442833">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8442836">i</span><span class="op" id="8442837">.</span><span class="ident" id="8442838">M</span>&nbsp;<span class="op" id="8442840">=</span>&nbsp;<span class="builtinfunc" id="8442842">new</span><span class="op" id="8442845">(</span><span class="op" id="8442846">*</span><span class="op" id="8442847">*</span><span class="op" id="8442848">*</span><span class="keyword" id="8442849">map</span><span class="op" id="8442852">[</span><span class="builtintype" id="8442853">string</span><span class="op" id="8442859">]</span><span class="builtintype" id="8442860">int</span><span class="op" id="8442863">)</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442866">*</span><span class="ident" id="8442867">i</span><span class="op" id="8442868">.</span><span class="ident" id="8442869">M</span>&nbsp;<span class="op" id="8442871">=</span>&nbsp;<span class="builtinfunc" id="8442873">new</span><span class="op" id="8442876">(</span><span class="op" id="8442877">*</span><span class="op" id="8442878">*</span><span class="keyword" id="8442879">map</span><span class="op" id="8442882">[</span><span class="builtintype" id="8442883">string</span><span class="op" id="8442889">]</span><span class="builtintype" id="8442890">int</span><span class="op" id="8442893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442896">*</span><span class="op" id="8442897">*</span><span class="ident" id="8442898">i</span><span class="op" id="8442899">.</span><span class="ident" id="8442900">M</span>&nbsp;<span class="op" id="8442902">=</span>&nbsp;<span class="builtinfunc" id="8442904">new</span><span class="op" id="8442907">(</span><span class="op" id="8442908">*</span><span class="keyword" id="8442909">map</span><span class="op" id="8442912">[</span><span class="builtintype" id="8442913">string</span><span class="op" id="8442919">]</span><span class="builtintype" id="8442920">int</span><span class="op" id="8442923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442926">*</span><span class="op" id="8442927">*</span><span class="op" id="8442928">*</span><span class="ident" id="8442929">i</span><span class="op" id="8442930">.</span><span class="ident" id="8442931">M</span>&nbsp;<span class="op" id="8442933">=</span>&nbsp;<span class="builtinfunc" id="8442935">new</span><span class="op" id="8442938">(</span><span class="keyword" id="8442939">map</span><span class="op" id="8442942">[</span><span class="builtintype" id="8442943">string</span><span class="op" id="8442949">]</span><span class="builtintype" id="8442950">int</span><span class="op" id="8442953">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8442956">*</span><span class="op" id="8442957">*</span><span class="op" id="8442958">*</span><span class="op" id="8442959">*</span><span class="ident" id="8442960">i</span><span class="op" id="8442961">.</span><span class="ident" id="8442962">M</span>&nbsp;<span class="op" id="8442964">=</span>&nbsp;<span class="keyword" id="8442966">map</span><span class="op" id="8442969">[</span><span class="builtintype" id="8442970">string</span><span class="op" id="8442976">]</span><span class="builtintype" id="8442977">int</span><span class="op" id="8442980">{</span><span class="string" id="8442981">&#34;one&#34;</span><span class="op" id="8442986">:</span>&nbsp;<span class="num" id="8442988">1</span><span class="op" id="8442989">,</span>&nbsp;<span class="string" id="8442991">&#34;two&#34;</span><span class="op" id="8442996">:</span>&nbsp;<span class="num" id="8442998">2</span><span class="op" id="8442999">,</span>&nbsp;<span class="string" id="8443001">&#34;three&#34;</span><span class="op" id="8443008">:</span>&nbsp;<span class="num" id="8443010">3</span><span class="op" id="8443011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443014">b</span>&nbsp;<span class="op" id="8443016">:=</span>&nbsp;<span class="builtinfunc" id="8443019">new</span><span class="op" id="8443022">(</span><span class="ident" id="8443023">bytes</span><span class="op" id="8443028">.</span><span class="ident" id="8443029">Buffer</span><span class="op" id="8443035">)</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443038">NewEncoder</span><span class="op" id="8443048">(</span><span class="ident" id="8443049">b</span><span class="op" id="8443050">)</span><span class="op" id="8443051">.</span><span class="ident" id="8443052">Encode</span><span class="op" id="8443058">(</span><span class="ident" id="8443059">i</span><span class="op" id="8443060">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443063">dec</span>&nbsp;<span class="op" id="8443067">:=</span>&nbsp;<span class="ident" id="8443070">NewDecoder</span><span class="op" id="8443080">(</span><span class="ident" id="8443081">b</span><span class="op" id="8443082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443085">var</span>&nbsp;<span class="ident" id="8443089">d</span>&nbsp;<span class="ident" id="8443091">Direct</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443099">err</span>&nbsp;<span class="op" id="8443103">:=</span>&nbsp;<span class="ident" id="8443106">dec</span><span class="op" id="8443109">.</span><span class="ident" id="8443110">Decode</span><span class="op" id="8443116">(</span><span class="op" id="8443117">&amp;</span><span class="ident" id="8443118">d</span><span class="op" id="8443119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443122">if</span>&nbsp;<span class="ident" id="8443125">err</span>&nbsp;<span class="op" id="8443129">!=</span>&nbsp;<span class="ident" id="8443132">nil</span>&nbsp;<span class="op" id="8443136">{</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443140">t</span><span class="op" id="8443141">.</span><span class="ident" id="8443142">Error</span><span class="op" id="8443147">(</span><span class="string" id="8443148">&#34;error:&nbsp;&#34;</span><span class="op" id="8443157">,</span>&nbsp;<span class="ident" id="8443159">err</span><span class="op" id="8443162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443168">if</span>&nbsp;<span class="builtinfunc" id="8443171">len</span><span class="op" id="8443174">(</span><span class="ident" id="8443175">d</span><span class="op" id="8443176">.</span><span class="ident" id="8443177">A</span><span class="op" id="8443178">)</span>&nbsp;<span class="op" id="8443180">!=</span>&nbsp;<span class="num" id="8443183">3</span>&nbsp;<span class="op" id="8443185">||</span>&nbsp;<span class="ident" id="8443188">d</span><span class="op" id="8443189">.</span><span class="ident" id="8443190">A</span><span class="op" id="8443191">[</span><span class="num" id="8443192">0</span><span class="op" id="8443193">]</span>&nbsp;<span class="op" id="8443195">!=</span>&nbsp;<span class="num" id="8443198">1</span>&nbsp;<span class="op" id="8443200">||</span>&nbsp;<span class="ident" id="8443203">d</span><span class="op" id="8443204">.</span><span class="ident" id="8443205">A</span><span class="op" id="8443206">[</span><span class="num" id="8443207">1</span><span class="op" id="8443208">]</span>&nbsp;<span class="op" id="8443210">!=</span>&nbsp;<span class="num" id="8443213">2</span>&nbsp;<span class="op" id="8443215">||</span>&nbsp;<span class="ident" id="8443218">d</span><span class="op" id="8443219">.</span><span class="ident" id="8443220">A</span><span class="op" id="8443221">[</span><span class="num" id="8443222">2</span><span class="op" id="8443223">]</span>&nbsp;<span class="op" id="8443225">!=</span>&nbsp;<span class="num" id="8443228">3</span>&nbsp;<span class="op" id="8443230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443234">t</span><span class="op" id="8443235">.</span><span class="ident" id="8443236">Errorf</span><span class="op" id="8443242">(</span><span class="string" id="8443243">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8443281">,</span>&nbsp;<span class="ident" id="8443283">d</span><span class="op" id="8443284">.</span><span class="ident" id="8443285">A</span><span class="op" id="8443286">,</span>&nbsp;<span class="op" id="8443288">*</span><span class="op" id="8443289">*</span><span class="op" id="8443290">*</span><span class="ident" id="8443291">i</span><span class="op" id="8443292">.</span><span class="ident" id="8443293">A</span><span class="op" id="8443294">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443297">}</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443300">if</span>&nbsp;<span class="builtinfunc" id="8443303">len</span><span class="op" id="8443306">(</span><span class="ident" id="8443307">d</span><span class="op" id="8443308">.</span><span class="ident" id="8443309">S</span><span class="op" id="8443310">)</span>&nbsp;<span class="op" id="8443312">!=</span>&nbsp;<span class="num" id="8443315">3</span>&nbsp;<span class="op" id="8443317">||</span>&nbsp;<span class="ident" id="8443320">d</span><span class="op" id="8443321">.</span><span class="ident" id="8443322">S</span><span class="op" id="8443323">[</span><span class="num" id="8443324">0</span><span class="op" id="8443325">]</span>&nbsp;<span class="op" id="8443327">!=</span>&nbsp;<span class="num" id="8443330">4</span>&nbsp;<span class="op" id="8443332">||</span>&nbsp;<span class="ident" id="8443335">d</span><span class="op" id="8443336">.</span><span class="ident" id="8443337">S</span><span class="op" id="8443338">[</span><span class="num" id="8443339">1</span><span class="op" id="8443340">]</span>&nbsp;<span class="op" id="8443342">!=</span>&nbsp;<span class="num" id="8443345">5</span>&nbsp;<span class="op" id="8443347">||</span>&nbsp;<span class="ident" id="8443350">d</span><span class="op" id="8443351">.</span><span class="ident" id="8443352">S</span><span class="op" id="8443353">[</span><span class="num" id="8443354">2</span><span class="op" id="8443355">]</span>&nbsp;<span class="op" id="8443357">!=</span>&nbsp;<span class="num" id="8443360">6</span>&nbsp;<span class="op" id="8443362">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443366">t</span><span class="op" id="8443367">.</span><span class="ident" id="8443368">Errorf</span><span class="op" id="8443374">(</span><span class="string" id="8443375">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8443413">,</span>&nbsp;<span class="ident" id="8443415">d</span><span class="op" id="8443416">.</span><span class="ident" id="8443417">S</span><span class="op" id="8443418">,</span>&nbsp;<span class="op" id="8443420">*</span><span class="op" id="8443421">*</span><span class="op" id="8443422">*</span><span class="ident" id="8443423">i</span><span class="op" id="8443424">.</span><span class="ident" id="8443425">S</span><span class="op" id="8443426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443429">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443432">if</span>&nbsp;<span class="builtinfunc" id="8443435">len</span><span class="op" id="8443438">(</span><span class="ident" id="8443439">d</span><span class="op" id="8443440">.</span><span class="ident" id="8443441">M</span><span class="op" id="8443442">)</span>&nbsp;<span class="op" id="8443444">!=</span>&nbsp;<span class="num" id="8443447">3</span>&nbsp;<span class="op" id="8443449">||</span>&nbsp;<span class="ident" id="8443452">d</span><span class="op" id="8443453">.</span><span class="ident" id="8443454">M</span><span class="op" id="8443455">[</span><span class="string" id="8443456">&#34;one&#34;</span><span class="op" id="8443461">]</span>&nbsp;<span class="op" id="8443463">!=</span>&nbsp;<span class="num" id="8443466">1</span>&nbsp;<span class="op" id="8443468">||</span>&nbsp;<span class="ident" id="8443471">d</span><span class="op" id="8443472">.</span><span class="ident" id="8443473">M</span><span class="op" id="8443474">[</span><span class="string" id="8443475">&#34;two&#34;</span><span class="op" id="8443480">]</span>&nbsp;<span class="op" id="8443482">!=</span>&nbsp;<span class="num" id="8443485">2</span>&nbsp;<span class="op" id="8443487">||</span>&nbsp;<span class="ident" id="8443490">d</span><span class="op" id="8443491">.</span><span class="ident" id="8443492">M</span><span class="op" id="8443493">[</span><span class="string" id="8443494">&#34;three&#34;</span><span class="op" id="8443501">]</span>&nbsp;<span class="op" id="8443503">!=</span>&nbsp;<span class="num" id="8443506">3</span>&nbsp;<span class="op" id="8443508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443512">t</span><span class="op" id="8443513">.</span><span class="ident" id="8443514">Errorf</span><span class="op" id="8443520">(</span><span class="string" id="8443521">&#34;indirect&nbsp;to&nbsp;direct:&nbsp;d.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8443559">,</span>&nbsp;<span class="ident" id="8443561">d</span><span class="op" id="8443562">.</span><span class="ident" id="8443563">M</span><span class="op" id="8443564">,</span>&nbsp;<span class="op" id="8443566">*</span><span class="op" id="8443567">*</span><span class="op" id="8443568">*</span><span class="ident" id="8443569">i</span><span class="op" id="8443570">.</span><span class="ident" id="8443571">M</span><span class="op" id="8443572">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8443578">//&nbsp;Marshal&nbsp;direct,&nbsp;unmarshal&nbsp;to&nbsp;indirect.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443621">d</span><span class="op" id="8443622">.</span><span class="ident" id="8443623">A</span>&nbsp;<span class="op" id="8443625">=</span>&nbsp;<span class="op" id="8443627">[</span><span class="num" id="8443628">3</span><span class="op" id="8443629">]</span><span class="builtintype" id="8443630">int</span><span class="op" id="8443633">{</span><span class="num" id="8443634">11</span><span class="op" id="8443636">,</span>&nbsp;<span class="num" id="8443638">22</span><span class="op" id="8443640">,</span>&nbsp;<span class="num" id="8443642">33</span><span class="op" id="8443644">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443647">d</span><span class="op" id="8443648">.</span><span class="ident" id="8443649">S</span>&nbsp;<span class="op" id="8443651">=</span>&nbsp;<span class="op" id="8443653">[</span><span class="op" id="8443654">]</span><span class="builtintype" id="8443655">int</span><span class="op" id="8443658">{</span><span class="num" id="8443659">44</span><span class="op" id="8443661">,</span>&nbsp;<span class="num" id="8443663">55</span><span class="op" id="8443665">,</span>&nbsp;<span class="num" id="8443667">66</span><span class="op" id="8443669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443672">d</span><span class="op" id="8443673">.</span><span class="ident" id="8443674">M</span>&nbsp;<span class="op" id="8443676">=</span>&nbsp;<span class="keyword" id="8443678">map</span><span class="op" id="8443681">[</span><span class="builtintype" id="8443682">string</span><span class="op" id="8443688">]</span><span class="builtintype" id="8443689">int</span><span class="op" id="8443692">{</span><span class="string" id="8443693">&#34;four&#34;</span><span class="op" id="8443699">:</span>&nbsp;<span class="num" id="8443701">4</span><span class="op" id="8443702">,</span>&nbsp;<span class="string" id="8443704">&#34;five&#34;</span><span class="op" id="8443710">:</span>&nbsp;<span class="num" id="8443712">5</span><span class="op" id="8443713">,</span>&nbsp;<span class="string" id="8443715">&#34;six&#34;</span><span class="op" id="8443720">:</span>&nbsp;<span class="num" id="8443722">6</span><span class="op" id="8443723">}</span><br>
<span class="lineno">1030</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443726">i</span>&nbsp;<span class="op" id="8443728">=</span>&nbsp;<span class="builtinfunc" id="8443730">new</span><span class="op" id="8443733">(</span><span class="ident" id="8443734">Indirect</span><span class="op" id="8443742">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443745">b</span><span class="op" id="8443746">.</span><span class="ident" id="8443747">Reset</span><span class="op" id="8443752">(</span><span class="op" id="8443753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443756">NewEncoder</span><span class="op" id="8443766">(</span><span class="ident" id="8443767">b</span><span class="op" id="8443768">)</span><span class="op" id="8443769">.</span><span class="ident" id="8443770">Encode</span><span class="op" id="8443776">(</span><span class="ident" id="8443777">d</span><span class="op" id="8443778">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443781">dec</span>&nbsp;<span class="op" id="8443785">=</span>&nbsp;<span class="ident" id="8443787">NewDecoder</span><span class="op" id="8443797">(</span><span class="ident" id="8443798">b</span><span class="op" id="8443799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443802">err</span>&nbsp;<span class="op" id="8443806">=</span>&nbsp;<span class="ident" id="8443808">dec</span><span class="op" id="8443811">.</span><span class="ident" id="8443812">Decode</span><span class="op" id="8443818">(</span><span class="op" id="8443819">&amp;</span><span class="ident" id="8443820">i</span><span class="op" id="8443821">)</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443824">if</span>&nbsp;<span class="ident" id="8443827">err</span>&nbsp;<span class="op" id="8443831">!=</span>&nbsp;<span class="ident" id="8443834">nil</span>&nbsp;<span class="op" id="8443838">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443842">t</span><span class="op" id="8443843">.</span><span class="ident" id="8443844">Fatal</span><span class="op" id="8443849">(</span><span class="string" id="8443850">&#34;error:&nbsp;&#34;</span><span class="op" id="8443859">,</span>&nbsp;<span class="ident" id="8443861">err</span><span class="op" id="8443864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8443867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8443870">if</span>&nbsp;<span class="builtinfunc" id="8443873">len</span><span class="op" id="8443876">(</span><span class="op" id="8443877">*</span><span class="op" id="8443878">*</span><span class="op" id="8443879">*</span><span class="ident" id="8443880">i</span><span class="op" id="8443881">.</span><span class="ident" id="8443882">A</span><span class="op" id="8443883">)</span>&nbsp;<span class="op" id="8443885">!=</span>&nbsp;<span class="num" id="8443888">3</span>&nbsp;<span class="op" id="8443890">||</span>&nbsp;<span class="op" id="8443893">(</span><span class="op" id="8443894">*</span><span class="op" id="8443895">*</span><span class="op" id="8443896">*</span><span class="ident" id="8443897">i</span><span class="op" id="8443898">.</span><span class="ident" id="8443899">A</span><span class="op" id="8443900">)</span><span class="op" id="8443901">[</span><span class="num" id="8443902">0</span><span class="op" id="8443903">]</span>&nbsp;<span class="op" id="8443905">!=</span>&nbsp;<span class="num" id="8443908">11</span>&nbsp;<span class="op" id="8443911">||</span>&nbsp;<span class="op" id="8443914">(</span><span class="op" id="8443915">*</span><span class="op" id="8443916">*</span><span class="op" id="8443917">*</span><span class="ident" id="8443918">i</span><span class="op" id="8443919">.</span><span class="ident" id="8443920">A</span><span class="op" id="8443921">)</span><span class="op" id="8443922">[</span><span class="num" id="8443923">1</span><span class="op" id="8443924">]</span>&nbsp;<span class="op" id="8443926">!=</span>&nbsp;<span class="num" id="8443929">22</span>&nbsp;<span class="op" id="8443932">||</span>&nbsp;<span class="op" id="8443935">(</span><span class="op" id="8443936">*</span><span class="op" id="8443937">*</span><span class="op" id="8443938">*</span><span class="ident" id="8443939">i</span><span class="op" id="8443940">.</span><span class="ident" id="8443941">A</span><span class="op" id="8443942">)</span><span class="op" id="8443943">[</span><span class="num" id="8443944">2</span><span class="op" id="8443945">]</span>&nbsp;<span class="op" id="8443947">!=</span>&nbsp;<span class="num" id="8443950">33</span>&nbsp;<span class="op" id="8443953">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8443957">t</span><span class="op" id="8443958">.</span><span class="ident" id="8443959">Errorf</span><span class="op" id="8443965">(</span><span class="string" id="8443966">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.A&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8444007">,</span>&nbsp;<span class="op" id="8444009">*</span><span class="op" id="8444010">*</span><span class="op" id="8444011">*</span><span class="ident" id="8444012">i</span><span class="op" id="8444013">.</span><span class="ident" id="8444014">A</span><span class="op" id="8444015">,</span>&nbsp;<span class="ident" id="8444017">d</span><span class="op" id="8444018">.</span><span class="ident" id="8444019">A</span><span class="op" id="8444020">)</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444023">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444026">if</span>&nbsp;<span class="builtinfunc" id="8444029">len</span><span class="op" id="8444032">(</span><span class="op" id="8444033">*</span><span class="op" id="8444034">*</span><span class="op" id="8444035">*</span><span class="ident" id="8444036">i</span><span class="op" id="8444037">.</span><span class="ident" id="8444038">S</span><span class="op" id="8444039">)</span>&nbsp;<span class="op" id="8444041">!=</span>&nbsp;<span class="num" id="8444044">3</span>&nbsp;<span class="op" id="8444046">||</span>&nbsp;<span class="op" id="8444049">(</span><span class="op" id="8444050">*</span><span class="op" id="8444051">*</span><span class="op" id="8444052">*</span><span class="ident" id="8444053">i</span><span class="op" id="8444054">.</span><span class="ident" id="8444055">S</span><span class="op" id="8444056">)</span><span class="op" id="8444057">[</span><span class="num" id="8444058">0</span><span class="op" id="8444059">]</span>&nbsp;<span class="op" id="8444061">!=</span>&nbsp;<span class="num" id="8444064">44</span>&nbsp;<span class="op" id="8444067">||</span>&nbsp;<span class="op" id="8444070">(</span><span class="op" id="8444071">*</span><span class="op" id="8444072">*</span><span class="op" id="8444073">*</span><span class="ident" id="8444074">i</span><span class="op" id="8444075">.</span><span class="ident" id="8444076">S</span><span class="op" id="8444077">)</span><span class="op" id="8444078">[</span><span class="num" id="8444079">1</span><span class="op" id="8444080">]</span>&nbsp;<span class="op" id="8444082">!=</span>&nbsp;<span class="num" id="8444085">55</span>&nbsp;<span class="op" id="8444088">||</span>&nbsp;<span class="op" id="8444091">(</span><span class="op" id="8444092">*</span><span class="op" id="8444093">*</span><span class="op" id="8444094">*</span><span class="ident" id="8444095">i</span><span class="op" id="8444096">.</span><span class="ident" id="8444097">S</span><span class="op" id="8444098">)</span><span class="op" id="8444099">[</span><span class="num" id="8444100">2</span><span class="op" id="8444101">]</span>&nbsp;<span class="op" id="8444103">!=</span>&nbsp;<span class="num" id="8444106">66</span>&nbsp;<span class="op" id="8444109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444113">t</span><span class="op" id="8444114">.</span><span class="ident" id="8444115">Errorf</span><span class="op" id="8444121">(</span><span class="string" id="8444122">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;***i.S&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8444163">,</span>&nbsp;<span class="op" id="8444165">*</span><span class="op" id="8444166">*</span><span class="op" id="8444167">*</span><span class="ident" id="8444168">i</span><span class="op" id="8444169">.</span><span class="ident" id="8444170">S</span><span class="op" id="8444171">,</span>&nbsp;<span class="op" id="8444173">*</span><span class="op" id="8444174">*</span><span class="op" id="8444175">*</span><span class="ident" id="8444176">i</span><span class="op" id="8444177">.</span><span class="ident" id="8444178">S</span><span class="op" id="8444179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444182">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444185">if</span>&nbsp;<span class="builtinfunc" id="8444188">len</span><span class="op" id="8444191">(</span><span class="op" id="8444192">*</span><span class="op" id="8444193">*</span><span class="op" id="8444194">*</span><span class="op" id="8444195">*</span><span class="ident" id="8444196">i</span><span class="op" id="8444197">.</span><span class="ident" id="8444198">M</span><span class="op" id="8444199">)</span>&nbsp;<span class="op" id="8444201">!=</span>&nbsp;<span class="num" id="8444204">3</span>&nbsp;<span class="op" id="8444206">||</span>&nbsp;<span class="op" id="8444209">(</span><span class="op" id="8444210">*</span><span class="op" id="8444211">*</span><span class="op" id="8444212">*</span><span class="op" id="8444213">*</span><span class="ident" id="8444214">i</span><span class="op" id="8444215">.</span><span class="ident" id="8444216">M</span><span class="op" id="8444217">)</span><span class="op" id="8444218">[</span><span class="string" id="8444219">&#34;four&#34;</span><span class="op" id="8444225">]</span>&nbsp;<span class="op" id="8444227">!=</span>&nbsp;<span class="num" id="8444230">4</span>&nbsp;<span class="op" id="8444232">||</span>&nbsp;<span class="op" id="8444235">(</span><span class="op" id="8444236">*</span><span class="op" id="8444237">*</span><span class="op" id="8444238">*</span><span class="op" id="8444239">*</span><span class="ident" id="8444240">i</span><span class="op" id="8444241">.</span><span class="ident" id="8444242">M</span><span class="op" id="8444243">)</span><span class="op" id="8444244">[</span><span class="string" id="8444245">&#34;five&#34;</span><span class="op" id="8444251">]</span>&nbsp;<span class="op" id="8444253">!=</span>&nbsp;<span class="num" id="8444256">5</span>&nbsp;<span class="op" id="8444258">||</span>&nbsp;<span class="op" id="8444261">(</span><span class="op" id="8444262">*</span><span class="op" id="8444263">*</span><span class="op" id="8444264">*</span><span class="op" id="8444265">*</span><span class="ident" id="8444266">i</span><span class="op" id="8444267">.</span><span class="ident" id="8444268">M</span><span class="op" id="8444269">)</span><span class="op" id="8444270">[</span><span class="string" id="8444271">&#34;six&#34;</span><span class="op" id="8444276">]</span>&nbsp;<span class="op" id="8444278">!=</span>&nbsp;<span class="num" id="8444281">6</span>&nbsp;<span class="op" id="8444283">{</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444287">t</span><span class="op" id="8444288">.</span><span class="ident" id="8444289">Errorf</span><span class="op" id="8444295">(</span><span class="string" id="8444296">&#34;direct&nbsp;to&nbsp;indirect:&nbsp;****i.M&nbsp;is&nbsp;%v&nbsp;not&nbsp;%v&#34;</span><span class="op" id="8444338">,</span>&nbsp;<span class="op" id="8444340">*</span><span class="op" id="8444341">*</span><span class="op" id="8444342">*</span><span class="op" id="8444343">*</span><span class="ident" id="8444344">i</span><span class="op" id="8444345">.</span><span class="ident" id="8444346">M</span><span class="op" id="8444347">,</span>&nbsp;<span class="ident" id="8444349">d</span><span class="op" id="8444350">.</span><span class="ident" id="8444351">M</span><span class="op" id="8444352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444355">}</span><br>
<span class="lineno"></span><span class="op" id="8444357">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8444360">//&nbsp;An&nbsp;interface&nbsp;with&nbsp;several&nbsp;implementations</span><br>
<span class="lineno">1050</span><span class="keyword" id="8444405">type</span>&nbsp;<span class="ident" id="8444410">Squarer</span>&nbsp;<span class="keyword" id="8444418">interface</span>&nbsp;<span class="op" id="8444428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444431">Square</span><span class="op" id="8444437">(</span><span class="op" id="8444438">)</span>&nbsp;<span class="builtintype" id="8444440">int</span><br>
<span class="lineno"></span><span class="op" id="8444444">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444447">type</span>&nbsp;<span class="ident" id="8444452">Int</span>&nbsp;<span class="builtintype" id="8444456">int</span><br>
<span class="lineno">1055</span><br>
<span class="lineno"></span><span class="keyword" id="8444461">func</span>&nbsp;<span class="op" id="8444466">(</span><span class="ident" id="8444467">i</span>&nbsp;<span class="ident" id="8444469">Int</span><span class="op" id="8444472">)</span>&nbsp;<span class="ident" id="8444474">Square</span><span class="op" id="8444480">(</span><span class="op" id="8444481">)</span>&nbsp;<span class="builtintype" id="8444483">int</span>&nbsp;<span class="op" id="8444487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444490">return</span>&nbsp;<span class="builtintype" id="8444497">int</span><span class="op" id="8444500">(</span><span class="ident" id="8444501">i</span>&nbsp;<span class="op" id="8444503">*</span>&nbsp;<span class="ident" id="8444505">i</span><span class="op" id="8444506">)</span><br>
<span class="lineno"></span><span class="op" id="8444508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="8444511">type</span>&nbsp;<span class="ident" id="8444516">Float</span>&nbsp;<span class="builtintype" id="8444522">float64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444531">func</span>&nbsp;<span class="op" id="8444536">(</span><span class="ident" id="8444537">f</span>&nbsp;<span class="ident" id="8444539">Float</span><span class="op" id="8444544">)</span>&nbsp;<span class="ident" id="8444546">Square</span><span class="op" id="8444552">(</span><span class="op" id="8444553">)</span>&nbsp;<span class="builtintype" id="8444555">int</span>&nbsp;<span class="op" id="8444559">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444562">return</span>&nbsp;<span class="builtintype" id="8444569">int</span><span class="op" id="8444572">(</span><span class="ident" id="8444573">f</span>&nbsp;<span class="op" id="8444575">*</span>&nbsp;<span class="ident" id="8444577">f</span><span class="op" id="8444578">)</span><br>
<span class="lineno"></span><span class="op" id="8444580">}</span><br>
<span class="lineno">1065</span><br>
<span class="lineno"></span><span class="keyword" id="8444583">type</span>&nbsp;<span class="ident" id="8444588">Vector</span>&nbsp;<span class="op" id="8444595">[</span><span class="op" id="8444596">]</span><span class="builtintype" id="8444597">int</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8444602">func</span>&nbsp;<span class="op" id="8444607">(</span><span class="ident" id="8444608">v</span>&nbsp;<span class="ident" id="8444610">Vector</span><span class="op" id="8444616">)</span>&nbsp;<span class="ident" id="8444618">Square</span><span class="op" id="8444624">(</span><span class="op" id="8444625">)</span>&nbsp;<span class="builtintype" id="8444627">int</span>&nbsp;<span class="op" id="8444631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444634">sum</span>&nbsp;<span class="op" id="8444638">:=</span>&nbsp;<span class="num" id="8444641">0</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444644">for</span>&nbsp;<span class="ident" id="8444648">_</span><span class="op" id="8444649">,</span>&nbsp;<span class="ident" id="8444651">x</span>&nbsp;<span class="op" id="8444653">:=</span>&nbsp;<span class="keyword" id="8444656">range</span>&nbsp;<span class="ident" id="8444662">v</span>&nbsp;<span class="op" id="8444664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444668">sum</span>&nbsp;<span class="op" id="8444672">+=</span>&nbsp;<span class="ident" id="8444675">x</span>&nbsp;<span class="op" id="8444677">*</span>&nbsp;<span class="ident" id="8444679">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8444682">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444685">return</span>&nbsp;<span class="ident" id="8444692">sum</span><br>
<span class="lineno"></span><span class="op" id="8444696">}</span><br>
<span class="lineno">1075</span><br>
<span class="lineno"></span><span class="keyword" id="8444699">type</span>&nbsp;<span class="ident" id="8444704">Point</span>&nbsp;<span class="keyword" id="8444710">struct</span>&nbsp;<span class="op" id="8444717">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444720">X</span><span class="op" id="8444721">,</span>&nbsp;<span class="ident" id="8444723">Y</span>&nbsp;<span class="builtintype" id="8444725">int</span><br>
<span class="lineno"></span><span class="op" id="8444729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1080</span><span class="keyword" id="8444732">func</span>&nbsp;<span class="op" id="8444737">(</span><span class="ident" id="8444738">p</span>&nbsp;<span class="ident" id="8444740">Point</span><span class="op" id="8444745">)</span>&nbsp;<span class="ident" id="8444747">Square</span><span class="op" id="8444753">(</span><span class="op" id="8444754">)</span>&nbsp;<span class="builtintype" id="8444756">int</span>&nbsp;<span class="op" id="8444760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8444763">return</span>&nbsp;<span class="ident" id="8444770">p</span><span class="op" id="8444771">.</span><span class="ident" id="8444772">X</span><span class="op" id="8444773">*</span><span class="ident" id="8444774">p</span><span class="op" id="8444775">.</span><span class="ident" id="8444776">X</span>&nbsp;<span class="op" id="8444778">+</span>&nbsp;<span class="ident" id="8444780">p</span><span class="op" id="8444781">.</span><span class="ident" id="8444782">Y</span><span class="op" id="8444783">*</span><span class="ident" id="8444784">p</span><span class="op" id="8444785">.</span><span class="ident" id="8444786">Y</span><br>
<span class="lineno"></span><span class="op" id="8444788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8444791">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;interfaces&nbsp;in&nbsp;it.</span><br>
<span class="lineno">1085</span><span class="keyword" id="8444826">type</span>&nbsp;<span class="ident" id="8444831">InterfaceItem</span>&nbsp;<span class="keyword" id="8444845">struct</span>&nbsp;<span class="op" id="8444852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444855">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8444869">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444874">Sq1</span><span class="op" id="8444877">,</span>&nbsp;<span class="ident" id="8444879">Sq2</span><span class="op" id="8444882">,</span>&nbsp;<span class="ident" id="8444884">Sq3</span>&nbsp;<span class="ident" id="8444888">Squarer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444897">F</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8444911">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8444920">Sq</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8444934">[</span><span class="op" id="8444935">]</span><span class="ident" id="8444936">Squarer</span><br>
<span class="lineno">1090</span><span class="op" id="8444944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8444947">//&nbsp;The&nbsp;same&nbsp;struct&nbsp;without&nbsp;interfaces</span><br>
<span class="lineno"></span><span class="keyword" id="8444985">type</span>&nbsp;<span class="ident" id="8444990">NoInterfaceItem</span>&nbsp;<span class="keyword" id="8445006">struct</span>&nbsp;<span class="op" id="8445013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445016">I</span>&nbsp;<span class="builtintype" id="8445018">int</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445023">F</span>&nbsp;<span class="builtintype" id="8445025">float64</span><br>
<span class="lineno"></span><span class="op" id="8445033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8445036">func</span>&nbsp;<span class="ident" id="8445041">TestInterface</span><span class="op" id="8445054">(</span><span class="ident" id="8445055">t</span>&nbsp;<span class="op" id="8445057">*</span><span class="ident" id="8445058">testing</span><span class="op" id="8445065">.</span><span class="ident" id="8445066">T</span><span class="op" id="8445067">)</span>&nbsp;<span class="op" id="8445069">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445072">iVal</span>&nbsp;<span class="op" id="8445077">:=</span>&nbsp;<span class="ident" id="8445080">Int</span><span class="op" id="8445083">(</span><span class="num" id="8445084">3</span><span class="op" id="8445085">)</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445088">fVal</span>&nbsp;<span class="op" id="8445093">:=</span>&nbsp;<span class="ident" id="8445096">Float</span><span class="op" id="8445101">(</span><span class="num" id="8445102">5</span><span class="op" id="8445103">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8445106">//&nbsp;Sending&nbsp;a&nbsp;Vector&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8445189">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445224">vVal</span>&nbsp;<span class="op" id="8445229">:=</span>&nbsp;<span class="ident" id="8445232">Vector</span><span class="op" id="8445238">{</span><span class="num" id="8445239">1</span><span class="op" id="8445240">,</span>&nbsp;<span class="num" id="8445242">2</span><span class="op" id="8445243">,</span>&nbsp;<span class="num" id="8445245">3</span><span class="op" id="8445246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445249">b</span>&nbsp;<span class="op" id="8445251">:=</span>&nbsp;<span class="builtinfunc" id="8445254">new</span><span class="op" id="8445257">(</span><span class="ident" id="8445258">bytes</span><span class="op" id="8445263">.</span><span class="ident" id="8445264">Buffer</span><span class="op" id="8445270">)</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445273">item1</span>&nbsp;<span class="op" id="8445279">:=</span>&nbsp;<span class="op" id="8445282">&amp;</span><span class="ident" id="8445283">InterfaceItem</span><span class="op" id="8445296">{</span><span class="num" id="8445297">1</span><span class="op" id="8445298">,</span>&nbsp;<span class="ident" id="8445300">iVal</span><span class="op" id="8445304">,</span>&nbsp;<span class="ident" id="8445306">fVal</span><span class="op" id="8445310">,</span>&nbsp;<span class="ident" id="8445312">vVal</span><span class="op" id="8445316">,</span>&nbsp;<span class="num" id="8445318">11.5</span><span class="op" id="8445322">,</span>&nbsp;<span class="op" id="8445324">[</span><span class="op" id="8445325">]</span><span class="ident" id="8445326">Squarer</span><span class="op" id="8445333">{</span><span class="ident" id="8445334">iVal</span><span class="op" id="8445338">,</span>&nbsp;<span class="ident" id="8445340">fVal</span><span class="op" id="8445344">,</span>&nbsp;<span class="ident" id="8445346">nil</span><span class="op" id="8445349">,</span>&nbsp;<span class="ident" id="8445351">vVal</span><span class="op" id="8445355">}</span><span class="op" id="8445356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8445359">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445383">Register</span><span class="op" id="8445391">(</span><span class="ident" id="8445392">Int</span><span class="op" id="8445395">(</span><span class="num" id="8445396">0</span><span class="op" id="8445397">)</span><span class="op" id="8445398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445401">Register</span><span class="op" id="8445409">(</span><span class="ident" id="8445410">Float</span><span class="op" id="8445415">(</span><span class="num" id="8445416">0</span><span class="op" id="8445417">)</span><span class="op" id="8445418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445421">Register</span><span class="op" id="8445429">(</span><span class="ident" id="8445430">Vector</span><span class="op" id="8445436">{</span><span class="op" id="8445437">}</span><span class="op" id="8445438">)</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445441">err</span>&nbsp;<span class="op" id="8445445">:=</span>&nbsp;<span class="ident" id="8445448">NewEncoder</span><span class="op" id="8445458">(</span><span class="ident" id="8445459">b</span><span class="op" id="8445460">)</span><span class="op" id="8445461">.</span><span class="ident" id="8445462">Encode</span><span class="op" id="8445468">(</span><span class="ident" id="8445469">item1</span><span class="op" id="8445474">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445477">if</span>&nbsp;<span class="ident" id="8445480">err</span>&nbsp;<span class="op" id="8445484">!=</span>&nbsp;<span class="ident" id="8445487">nil</span>&nbsp;<span class="op" id="8445491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445495">t</span><span class="op" id="8445496">.</span><span class="ident" id="8445497">Error</span><span class="op" id="8445502">(</span><span class="string" id="8445503">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8445534">,</span>&nbsp;<span class="ident" id="8445536">err</span><span class="op" id="8445539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445546">item2</span>&nbsp;<span class="op" id="8445552">:=</span>&nbsp;<span class="ident" id="8445555">InterfaceItem</span><span class="op" id="8445568">{</span><span class="op" id="8445569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445572">err</span>&nbsp;<span class="op" id="8445576">=</span>&nbsp;<span class="ident" id="8445578">NewDecoder</span><span class="op" id="8445588">(</span><span class="ident" id="8445589">b</span><span class="op" id="8445590">)</span><span class="op" id="8445591">.</span><span class="ident" id="8445592">Decode</span><span class="op" id="8445598">(</span><span class="op" id="8445599">&amp;</span><span class="ident" id="8445600">item2</span><span class="op" id="8445605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445608">if</span>&nbsp;<span class="ident" id="8445611">err</span>&nbsp;<span class="op" id="8445615">!=</span>&nbsp;<span class="ident" id="8445618">nil</span>&nbsp;<span class="op" id="8445622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445626">t</span><span class="op" id="8445627">.</span><span class="ident" id="8445628">Fatal</span><span class="op" id="8445633">(</span><span class="string" id="8445634">&#34;decode:&#34;</span><span class="op" id="8445643">,</span>&nbsp;<span class="ident" id="8445645">err</span><span class="op" id="8445648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445651">}</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445654">if</span>&nbsp;<span class="ident" id="8445657">item2</span><span class="op" id="8445662">.</span><span class="ident" id="8445663">I</span>&nbsp;<span class="op" id="8445665">!=</span>&nbsp;<span class="ident" id="8445668">item1</span><span class="op" id="8445673">.</span><span class="ident" id="8445674">I</span>&nbsp;<span class="op" id="8445676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445680">t</span><span class="op" id="8445681">.</span><span class="ident" id="8445682">Error</span><span class="op" id="8445687">(</span><span class="string" id="8445688">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8445725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445731">if</span>&nbsp;<span class="ident" id="8445734">item2</span><span class="op" id="8445739">.</span><span class="ident" id="8445740">Sq1</span>&nbsp;<span class="op" id="8445744">==</span>&nbsp;<span class="ident" id="8445747">nil</span>&nbsp;<span class="op" id="8445751">||</span>&nbsp;<span class="ident" id="8445754">item2</span><span class="op" id="8445759">.</span><span class="ident" id="8445760">Sq1</span><span class="op" id="8445763">.</span><span class="ident" id="8445764">Square</span><span class="op" id="8445770">(</span><span class="op" id="8445771">)</span>&nbsp;<span class="op" id="8445773">!=</span>&nbsp;<span class="ident" id="8445776">iVal</span><span class="op" id="8445780">.</span><span class="ident" id="8445781">Square</span><span class="op" id="8445787">(</span><span class="op" id="8445788">)</span>&nbsp;<span class="op" id="8445790">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445794">t</span><span class="op" id="8445795">.</span><span class="ident" id="8445796">Error</span><span class="op" id="8445801">(</span><span class="string" id="8445802">&#34;Int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8445832">)</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445838">if</span>&nbsp;<span class="ident" id="8445841">item2</span><span class="op" id="8445846">.</span><span class="ident" id="8445847">Sq2</span>&nbsp;<span class="op" id="8445851">==</span>&nbsp;<span class="ident" id="8445854">nil</span>&nbsp;<span class="op" id="8445858">||</span>&nbsp;<span class="ident" id="8445861">item2</span><span class="op" id="8445866">.</span><span class="ident" id="8445867">Sq2</span><span class="op" id="8445870">.</span><span class="ident" id="8445871">Square</span><span class="op" id="8445877">(</span><span class="op" id="8445878">)</span>&nbsp;<span class="op" id="8445880">!=</span>&nbsp;<span class="ident" id="8445883">fVal</span><span class="op" id="8445887">.</span><span class="ident" id="8445888">Square</span><span class="op" id="8445894">(</span><span class="op" id="8445895">)</span>&nbsp;<span class="op" id="8445897">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8445901">t</span><span class="op" id="8445902">.</span><span class="ident" id="8445903">Error</span><span class="op" id="8445908">(</span><span class="string" id="8445909">&#34;Float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8445941">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8445944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8445947">if</span>&nbsp;<span class="ident" id="8445950">item2</span><span class="op" id="8445955">.</span><span class="ident" id="8445956">Sq3</span>&nbsp;<span class="op" id="8445960">==</span>&nbsp;<span class="ident" id="8445963">nil</span>&nbsp;<span class="op" id="8445967">||</span>&nbsp;<span class="ident" id="8445970">item2</span><span class="op" id="8445975">.</span><span class="ident" id="8445976">Sq3</span><span class="op" id="8445979">.</span><span class="ident" id="8445980">Square</span><span class="op" id="8445986">(</span><span class="op" id="8445987">)</span>&nbsp;<span class="op" id="8445989">!=</span>&nbsp;<span class="ident" id="8445992">vVal</span><span class="op" id="8445996">.</span><span class="ident" id="8445997">Square</span><span class="op" id="8446003">(</span><span class="op" id="8446004">)</span>&nbsp;<span class="op" id="8446006">{</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446010">t</span><span class="op" id="8446011">.</span><span class="ident" id="8446012">Error</span><span class="op" id="8446017">(</span><span class="string" id="8446018">&#34;Vector&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8446051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446057">if</span>&nbsp;<span class="ident" id="8446060">item2</span><span class="op" id="8446065">.</span><span class="ident" id="8446066">F</span>&nbsp;<span class="op" id="8446068">!=</span>&nbsp;<span class="ident" id="8446071">item1</span><span class="op" id="8446076">.</span><span class="ident" id="8446077">F</span>&nbsp;<span class="op" id="8446079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446083">t</span><span class="op" id="8446084">.</span><span class="ident" id="8446085">Error</span><span class="op" id="8446090">(</span><span class="string" id="8446091">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8446130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446133">}</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8446136">//&nbsp;Now&nbsp;check&nbsp;that&nbsp;we&nbsp;received&nbsp;a&nbsp;slice&nbsp;of&nbsp;Squarers&nbsp;correctly,&nbsp;including&nbsp;a&nbsp;nil&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446222">if</span>&nbsp;<span class="builtinfunc" id="8446225">len</span><span class="op" id="8446228">(</span><span class="ident" id="8446229">item1</span><span class="op" id="8446234">.</span><span class="ident" id="8446235">Sq</span><span class="op" id="8446237">)</span>&nbsp;<span class="op" id="8446239">!=</span>&nbsp;<span class="builtinfunc" id="8446242">len</span><span class="op" id="8446245">(</span><span class="ident" id="8446246">item2</span><span class="op" id="8446251">.</span><span class="ident" id="8446252">Sq</span><span class="op" id="8446254">)</span>&nbsp;<span class="op" id="8446256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446260">t</span><span class="op" id="8446261">.</span><span class="ident" id="8446262">Fatalf</span><span class="op" id="8446268">(</span><span class="string" id="8446269">&#34;[]Squarer&nbsp;length&nbsp;wrong:&nbsp;got&nbsp;%d;&nbsp;expected&nbsp;%d&#34;</span><span class="op" id="8446314">,</span>&nbsp;<span class="builtinfunc" id="8446316">len</span><span class="op" id="8446319">(</span><span class="ident" id="8446320">item2</span><span class="op" id="8446325">.</span><span class="ident" id="8446326">Sq</span><span class="op" id="8446328">)</span><span class="op" id="8446329">,</span>&nbsp;<span class="builtinfunc" id="8446331">len</span><span class="op" id="8446334">(</span><span class="ident" id="8446335">item1</span><span class="op" id="8446340">.</span><span class="ident" id="8446341">Sq</span><span class="op" id="8446343">)</span><span class="op" id="8446344">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446350">for</span>&nbsp;<span class="ident" id="8446354">i</span><span class="op" id="8446355">,</span>&nbsp;<span class="ident" id="8446357">v1</span>&nbsp;<span class="op" id="8446360">:=</span>&nbsp;<span class="keyword" id="8446363">range</span>&nbsp;<span class="ident" id="8446369">item1</span><span class="op" id="8446374">.</span><span class="ident" id="8446375">Sq</span>&nbsp;<span class="op" id="8446378">{</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446382">v2</span>&nbsp;<span class="op" id="8446385">:=</span>&nbsp;<span class="ident" id="8446388">item2</span><span class="op" id="8446393">.</span><span class="ident" id="8446394">Sq</span><span class="op" id="8446396">[</span><span class="ident" id="8446397">i</span><span class="op" id="8446398">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446402">if</span>&nbsp;<span class="ident" id="8446405">v1</span>&nbsp;<span class="op" id="8446408">==</span>&nbsp;<span class="ident" id="8446411">nil</span>&nbsp;<span class="op" id="8446415">||</span>&nbsp;<span class="ident" id="8446418">v2</span>&nbsp;<span class="op" id="8446421">==</span>&nbsp;<span class="ident" id="8446424">nil</span>&nbsp;<span class="op" id="8446428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8446433">if</span>&nbsp;<span class="ident" id="8446436">v1</span>&nbsp;<span class="op" id="8446439">!=</span>&nbsp;<span class="ident" id="8446442">nil</span>&nbsp;<span class="op" id="8446446">||</span>&nbsp;<span class="ident" id="8446449">v2</span>&nbsp;<span class="op" id="8446452">!=</span>&nbsp;<span class="ident" id="8446455">nil</span>&nbsp;<span class="op" id="8446459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446465">t</span><span class="op" id="8446466">.</span><span class="ident" id="8446467">Errorf</span><span class="op" id="8446473">(</span><span class="string" id="8446474">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;nils&#34;</span><span class="op" id="8446501">,</span>&nbsp;<span class="ident" id="8446503">i</span><span class="op" id="8446504">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446509">}</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446513">}</span>&nbsp;<span class="keyword" id="8446515">else</span>&nbsp;<span class="keyword" id="8446520">if</span>&nbsp;<span class="ident" id="8446523">v1</span><span class="op" id="8446525">.</span><span class="ident" id="8446526">Square</span><span class="op" id="8446532">(</span><span class="op" id="8446533">)</span>&nbsp;<span class="op" id="8446535">!=</span>&nbsp;<span class="ident" id="8446538">v2</span><span class="op" id="8446540">.</span><span class="ident" id="8446541">Square</span><span class="op" id="8446547">(</span><span class="op" id="8446548">)</span>&nbsp;<span class="op" id="8446550">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446555">t</span><span class="op" id="8446556">.</span><span class="ident" id="8446557">Errorf</span><span class="op" id="8446563">(</span><span class="string" id="8446564">&#34;item&nbsp;%d&nbsp;inconsistent&nbsp;values:&nbsp;%v&nbsp;%v&#34;</span><span class="op" id="8446600">,</span>&nbsp;<span class="ident" id="8446602">i</span><span class="op" id="8446603">,</span>&nbsp;<span class="ident" id="8446605">v1</span><span class="op" id="8446607">,</span>&nbsp;<span class="ident" id="8446609">v2</span><span class="op" id="8446611">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446615">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8446618">}</span><br>
<span class="lineno"></span><span class="op" id="8446620">}</span><br>
<span class="lineno">1150</span><br>
<span class="lineno"></span><span class="comment" id="8446623">//&nbsp;A&nbsp;struct&nbsp;with&nbsp;all&nbsp;basic&nbsp;types,&nbsp;stored&nbsp;in&nbsp;interfaces.</span><br>
<span class="lineno"></span><span class="keyword" id="8446679">type</span>&nbsp;<span class="ident" id="8446684">BasicInterfaceItem</span>&nbsp;<span class="keyword" id="8446703">struct</span>&nbsp;<span class="op" id="8446710">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446713">Int</span><span class="op" id="8446716">,</span>&nbsp;<span class="ident" id="8446718">Int8</span><span class="op" id="8446722">,</span>&nbsp;<span class="ident" id="8446724">Int16</span><span class="op" id="8446729">,</span>&nbsp;<span class="ident" id="8446731">Int32</span><span class="op" id="8446736">,</span>&nbsp;<span class="ident" id="8446738">Int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446749">interface</span><span class="op" id="8446758">{</span><span class="op" id="8446759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446762">Uint</span><span class="op" id="8446766">,</span>&nbsp;<span class="ident" id="8446768">Uint8</span><span class="op" id="8446773">,</span>&nbsp;<span class="ident" id="8446775">Uint16</span><span class="op" id="8446781">,</span>&nbsp;<span class="ident" id="8446783">Uint32</span><span class="op" id="8446789">,</span>&nbsp;<span class="ident" id="8446791">Uint64</span>&nbsp;<span class="keyword" id="8446798">interface</span><span class="op" id="8446807">{</span><span class="op" id="8446808">}</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446811">Float32</span><span class="op" id="8446818">,</span>&nbsp;<span class="ident" id="8446820">Float64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446847">interface</span><span class="op" id="8446856">{</span><span class="op" id="8446857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446860">Complex64</span><span class="op" id="8446869">,</span>&nbsp;<span class="ident" id="8446871">Complex128</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446896">interface</span><span class="op" id="8446905">{</span><span class="op" id="8446906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446909">Bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446945">interface</span><span class="op" id="8446954">{</span><span class="op" id="8446955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8446958">String</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8446994">interface</span><span class="op" id="8447003">{</span><span class="op" id="8447004">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447007">Bytes</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8447043">interface</span><span class="op" id="8447052">{</span><span class="op" id="8447053">}</span><br>
<span class="lineno">1160</span><span class="op" id="8447055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8447058">func</span>&nbsp;<span class="ident" id="8447063">TestInterfaceBasic</span><span class="op" id="8447081">(</span><span class="ident" id="8447082">t</span>&nbsp;<span class="op" id="8447084">*</span><span class="ident" id="8447085">testing</span><span class="op" id="8447092">.</span><span class="ident" id="8447093">T</span><span class="op" id="8447094">)</span>&nbsp;<span class="op" id="8447096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447099">b</span>&nbsp;<span class="op" id="8447101">:=</span>&nbsp;<span class="builtinfunc" id="8447104">new</span><span class="op" id="8447107">(</span><span class="ident" id="8447108">bytes</span><span class="op" id="8447113">.</span><span class="ident" id="8447114">Buffer</span><span class="op" id="8447120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447123">item1</span>&nbsp;<span class="op" id="8447129">:=</span>&nbsp;<span class="op" id="8447132">&amp;</span><span class="ident" id="8447133">BasicInterfaceItem</span><span class="op" id="8447151">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8447155">int</span><span class="op" id="8447158">(</span><span class="num" id="8447159">1</span><span class="op" id="8447160">)</span><span class="op" id="8447161">,</span>&nbsp;<span class="builtintype" id="8447163">int8</span><span class="op" id="8447167">(</span><span class="num" id="8447168">1</span><span class="op" id="8447169">)</span><span class="op" id="8447170">,</span>&nbsp;<span class="builtintype" id="8447172">int16</span><span class="op" id="8447177">(</span><span class="num" id="8447178">1</span><span class="op" id="8447179">)</span><span class="op" id="8447180">,</span>&nbsp;<span class="builtintype" id="8447182">int32</span><span class="op" id="8447187">(</span><span class="num" id="8447188">1</span><span class="op" id="8447189">)</span><span class="op" id="8447190">,</span>&nbsp;<span class="ident" id="8447192">int64</span><span class="op" id="8447197">(</span><span class="num" id="8447198">1</span><span class="op" id="8447199">)</span><span class="op" id="8447200">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8447204">uint</span><span class="op" id="8447208">(</span><span class="num" id="8447209">1</span><span class="op" id="8447210">)</span><span class="op" id="8447211">,</span>&nbsp;<span class="builtintype" id="8447213">uint8</span><span class="op" id="8447218">(</span><span class="num" id="8447219">1</span><span class="op" id="8447220">)</span><span class="op" id="8447221">,</span>&nbsp;<span class="builtintype" id="8447223">uint16</span><span class="op" id="8447229">(</span><span class="num" id="8447230">1</span><span class="op" id="8447231">)</span><span class="op" id="8447232">,</span>&nbsp;<span class="builtintype" id="8447234">uint32</span><span class="op" id="8447240">(</span><span class="num" id="8447241">1</span><span class="op" id="8447242">)</span><span class="op" id="8447243">,</span>&nbsp;<span class="ident" id="8447245">uint64</span><span class="op" id="8447251">(</span><span class="num" id="8447252">1</span><span class="op" id="8447253">)</span><span class="op" id="8447254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8447258">float32</span><span class="op" id="8447265">(</span><span class="num" id="8447266">1</span><span class="op" id="8447267">)</span><span class="op" id="8447268">,</span>&nbsp;<span class="num" id="8447270">1.0</span><span class="op" id="8447273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8447277">complex64</span><span class="op" id="8447286">(</span><span class="num" id="8447287">1i</span><span class="op" id="8447289">)</span><span class="op" id="8447290">,</span>&nbsp;<span class="builtintype" id="8447292">complex128</span><span class="op" id="8447302">(</span><span class="num" id="8447303">1i</span><span class="op" id="8447305">)</span><span class="op" id="8447306">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8447310">true</span><span class="op" id="8447314">,</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8447318">&#34;hello&#34;</span><span class="op" id="8447325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447329">[</span><span class="op" id="8447330">]</span><span class="builtintype" id="8447331">byte</span><span class="op" id="8447335">(</span><span class="string" id="8447336">&#34;sailor&#34;</span><span class="op" id="8447344">)</span><span class="op" id="8447345">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447348">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447351">err</span>&nbsp;<span class="op" id="8447355">:=</span>&nbsp;<span class="ident" id="8447358">NewEncoder</span><span class="op" id="8447368">(</span><span class="ident" id="8447369">b</span><span class="op" id="8447370">)</span><span class="op" id="8447371">.</span><span class="ident" id="8447372">Encode</span><span class="op" id="8447378">(</span><span class="ident" id="8447379">item1</span><span class="op" id="8447384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447387">if</span>&nbsp;<span class="ident" id="8447390">err</span>&nbsp;<span class="op" id="8447394">!=</span>&nbsp;<span class="ident" id="8447397">nil</span>&nbsp;<span class="op" id="8447401">{</span><br>
<span class="lineno">1175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447405">t</span><span class="op" id="8447406">.</span><span class="ident" id="8447407">Error</span><span class="op" id="8447412">(</span><span class="string" id="8447413">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8447444">,</span>&nbsp;<span class="ident" id="8447446">err</span><span class="op" id="8447449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447452">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447456">item2</span>&nbsp;<span class="op" id="8447462">:=</span>&nbsp;<span class="op" id="8447465">&amp;</span><span class="ident" id="8447466">BasicInterfaceItem</span><span class="op" id="8447484">{</span><span class="op" id="8447485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447488">err</span>&nbsp;<span class="op" id="8447492">=</span>&nbsp;<span class="ident" id="8447494">NewDecoder</span><span class="op" id="8447504">(</span><span class="ident" id="8447505">b</span><span class="op" id="8447506">)</span><span class="op" id="8447507">.</span><span class="ident" id="8447508">Decode</span><span class="op" id="8447514">(</span><span class="op" id="8447515">&amp;</span><span class="ident" id="8447516">item2</span><span class="op" id="8447521">)</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447524">if</span>&nbsp;<span class="ident" id="8447527">err</span>&nbsp;<span class="op" id="8447531">!=</span>&nbsp;<span class="ident" id="8447534">nil</span>&nbsp;<span class="op" id="8447538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447542">t</span><span class="op" id="8447543">.</span><span class="ident" id="8447544">Fatal</span><span class="op" id="8447549">(</span><span class="string" id="8447550">&#34;decode:&#34;</span><span class="op" id="8447559">,</span>&nbsp;<span class="ident" id="8447561">err</span><span class="op" id="8447564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447570">if</span>&nbsp;<span class="op" id="8447573">!</span><span class="ident" id="8447574">reflect</span><span class="op" id="8447581">.</span><span class="ident" id="8447582">DeepEqual</span><span class="op" id="8447591">(</span><span class="ident" id="8447592">item1</span><span class="op" id="8447597">,</span>&nbsp;<span class="ident" id="8447599">item2</span><span class="op" id="8447604">)</span>&nbsp;<span class="op" id="8447606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447610">t</span><span class="op" id="8447611">.</span><span class="ident" id="8447612">Errorf</span><span class="op" id="8447618">(</span><span class="string" id="8447619">&#34;encode&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8447646">,</span>&nbsp;<span class="ident" id="8447648">item1</span><span class="op" id="8447653">,</span>&nbsp;<span class="ident" id="8447655">item2</span><span class="op" id="8447660">)</span><br>
<span class="lineno">1185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8447666">//&nbsp;Hand&nbsp;check&nbsp;a&nbsp;couple&nbsp;for&nbsp;correct&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447709">if</span>&nbsp;<span class="ident" id="8447712">v</span><span class="op" id="8447713">,</span>&nbsp;<span class="ident" id="8447715">ok</span>&nbsp;<span class="op" id="8447718">:=</span>&nbsp;<span class="ident" id="8447721">item2</span><span class="op" id="8447726">.</span><span class="ident" id="8447727">Bool</span><span class="op" id="8447731">.</span><span class="op" id="8447732">(</span><span class="builtintype" id="8447733">bool</span><span class="op" id="8447737">)</span><span class="op" id="8447738">;</span>&nbsp;<span class="op" id="8447740">!</span><span class="ident" id="8447741">ok</span>&nbsp;<span class="op" id="8447744">||</span>&nbsp;<span class="op" id="8447747">!</span><span class="ident" id="8447748">v</span>&nbsp;<span class="op" id="8447750">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447754">t</span><span class="op" id="8447755">.</span><span class="ident" id="8447756">Error</span><span class="op" id="8447761">(</span><span class="string" id="8447762">&#34;boolean&nbsp;should&nbsp;be&nbsp;true&#34;</span><span class="op" id="8447786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447789">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8447792">if</span>&nbsp;<span class="ident" id="8447795">v</span><span class="op" id="8447796">,</span>&nbsp;<span class="ident" id="8447798">ok</span>&nbsp;<span class="op" id="8447801">:=</span>&nbsp;<span class="ident" id="8447804">item2</span><span class="op" id="8447809">.</span><span class="ident" id="8447810">String</span><span class="op" id="8447816">.</span><span class="op" id="8447817">(</span><span class="builtintype" id="8447818">string</span><span class="op" id="8447824">)</span><span class="op" id="8447825">;</span>&nbsp;<span class="op" id="8447827">!</span><span class="ident" id="8447828">ok</span>&nbsp;<span class="op" id="8447831">||</span>&nbsp;<span class="ident" id="8447834">v</span>&nbsp;<span class="op" id="8447836">!=</span>&nbsp;<span class="ident" id="8447839">item1</span><span class="op" id="8447844">.</span><span class="ident" id="8447845">String</span><span class="op" id="8447851">.</span><span class="op" id="8447852">(</span><span class="builtintype" id="8447853">string</span><span class="op" id="8447859">)</span>&nbsp;<span class="op" id="8447861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447865">t</span><span class="op" id="8447866">.</span><span class="ident" id="8447867">Errorf</span><span class="op" id="8447873">(</span><span class="string" id="8447874">&#34;string&nbsp;should&nbsp;be&nbsp;%v&nbsp;is&nbsp;%v&#34;</span><span class="op" id="8447901">,</span>&nbsp;<span class="ident" id="8447903">item1</span><span class="op" id="8447908">.</span><span class="ident" id="8447909">String</span><span class="op" id="8447915">,</span>&nbsp;<span class="ident" id="8447917">v</span><span class="op" id="8447918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8447921">}</span><br>
<span class="lineno"></span><span class="op" id="8447923">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1195</span><span class="keyword" id="8447926">type</span>&nbsp;<span class="ident" id="8447931">String</span>&nbsp;<span class="builtintype" id="8447938">string</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8447946">type</span>&nbsp;<span class="ident" id="8447951">PtrInterfaceItem</span>&nbsp;<span class="keyword" id="8447968">struct</span>&nbsp;<span class="op" id="8447975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8447978">Str1</span>&nbsp;<span class="keyword" id="8447983">interface</span><span class="op" id="8447992">{</span><span class="op" id="8447993">}</span>&nbsp;<span class="comment" id="8447995">//&nbsp;basic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448005">Str2</span>&nbsp;<span class="keyword" id="8448010">interface</span><span class="op" id="8448019">{</span><span class="op" id="8448020">}</span>&nbsp;<span class="comment" id="8448022">//&nbsp;derived</span><br>
<span class="lineno">1200</span><span class="op" id="8448033">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8448036">//&nbsp;We&#39;ll&nbsp;send&nbsp;pointers;&nbsp;should&nbsp;receive&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="8448083">//&nbsp;Also&nbsp;check&nbsp;that&nbsp;we&nbsp;can&nbsp;register&nbsp;T&nbsp;but&nbsp;send&nbsp;*T.</span><br>
<span class="lineno"></span><span class="keyword" id="8448133">func</span>&nbsp;<span class="ident" id="8448138">TestInterfacePointer</span><span class="op" id="8448158">(</span><span class="ident" id="8448159">t</span>&nbsp;<span class="op" id="8448161">*</span><span class="ident" id="8448162">testing</span><span class="op" id="8448169">.</span><span class="ident" id="8448170">T</span><span class="op" id="8448171">)</span>&nbsp;<span class="op" id="8448173">{</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448176">b</span>&nbsp;<span class="op" id="8448178">:=</span>&nbsp;<span class="builtinfunc" id="8448181">new</span><span class="op" id="8448184">(</span><span class="ident" id="8448185">bytes</span><span class="op" id="8448190">.</span><span class="ident" id="8448191">Buffer</span><span class="op" id="8448197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448200">str1</span>&nbsp;<span class="op" id="8448205">:=</span>&nbsp;<span class="string" id="8448208">&#34;howdy&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448217">str2</span>&nbsp;<span class="op" id="8448222">:=</span>&nbsp;<span class="ident" id="8448225">String</span><span class="op" id="8448231">(</span><span class="string" id="8448232">&#34;kiddo&#34;</span><span class="op" id="8448239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448242">item1</span>&nbsp;<span class="op" id="8448248">:=</span>&nbsp;<span class="op" id="8448251">&amp;</span><span class="ident" id="8448252">PtrInterfaceItem</span><span class="op" id="8448268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448272">&amp;</span><span class="ident" id="8448273">str1</span><span class="op" id="8448277">,</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448281">&amp;</span><span class="ident" id="8448282">str2</span><span class="op" id="8448286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448289">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8448292">//&nbsp;Register&nbsp;the&nbsp;type.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448315">Register</span><span class="op" id="8448323">(</span><span class="ident" id="8448324">str2</span><span class="op" id="8448328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448331">err</span>&nbsp;<span class="op" id="8448335">:=</span>&nbsp;<span class="ident" id="8448338">NewEncoder</span><span class="op" id="8448348">(</span><span class="ident" id="8448349">b</span><span class="op" id="8448350">)</span><span class="op" id="8448351">.</span><span class="ident" id="8448352">Encode</span><span class="op" id="8448358">(</span><span class="ident" id="8448359">item1</span><span class="op" id="8448364">)</span><br>
<span class="lineno">1215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8448367">if</span>&nbsp;<span class="ident" id="8448370">err</span>&nbsp;<span class="op" id="8448374">!=</span>&nbsp;<span class="ident" id="8448377">nil</span>&nbsp;<span class="op" id="8448381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448385">t</span><span class="op" id="8448386">.</span><span class="ident" id="8448387">Error</span><span class="op" id="8448392">(</span><span class="string" id="8448393">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8448424">,</span>&nbsp;<span class="ident" id="8448426">err</span><span class="op" id="8448429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448432">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448436">item2</span>&nbsp;<span class="op" id="8448442">:=</span>&nbsp;<span class="op" id="8448445">&amp;</span><span class="ident" id="8448446">PtrInterfaceItem</span><span class="op" id="8448462">{</span><span class="op" id="8448463">}</span><br>
<span class="lineno">1220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448466">err</span>&nbsp;<span class="op" id="8448470">=</span>&nbsp;<span class="ident" id="8448472">NewDecoder</span><span class="op" id="8448482">(</span><span class="ident" id="8448483">b</span><span class="op" id="8448484">)</span><span class="op" id="8448485">.</span><span class="ident" id="8448486">Decode</span><span class="op" id="8448492">(</span><span class="op" id="8448493">&amp;</span><span class="ident" id="8448494">item2</span><span class="op" id="8448499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8448502">if</span>&nbsp;<span class="ident" id="8448505">err</span>&nbsp;<span class="op" id="8448509">!=</span>&nbsp;<span class="ident" id="8448512">nil</span>&nbsp;<span class="op" id="8448516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448520">t</span><span class="op" id="8448521">.</span><span class="ident" id="8448522">Fatal</span><span class="op" id="8448527">(</span><span class="string" id="8448528">&#34;decode:&#34;</span><span class="op" id="8448537">,</span>&nbsp;<span class="ident" id="8448539">err</span><span class="op" id="8448542">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8448548">//&nbsp;Hand&nbsp;test&nbsp;for&nbsp;correct&nbsp;types&nbsp;and&nbsp;values.</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8448592">if</span>&nbsp;<span class="ident" id="8448595">v</span><span class="op" id="8448596">,</span>&nbsp;<span class="ident" id="8448598">ok</span>&nbsp;<span class="op" id="8448601">:=</span>&nbsp;<span class="ident" id="8448604">item2</span><span class="op" id="8448609">.</span><span class="ident" id="8448610">Str1</span><span class="op" id="8448614">.</span><span class="op" id="8448615">(</span><span class="builtintype" id="8448616">string</span><span class="op" id="8448622">)</span><span class="op" id="8448623">;</span>&nbsp;<span class="op" id="8448625">!</span><span class="ident" id="8448626">ok</span>&nbsp;<span class="op" id="8448629">||</span>&nbsp;<span class="ident" id="8448632">v</span>&nbsp;<span class="op" id="8448634">!=</span>&nbsp;<span class="ident" id="8448637">str1</span>&nbsp;<span class="op" id="8448642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448646">t</span><span class="op" id="8448647">.</span><span class="ident" id="8448648">Errorf</span><span class="op" id="8448654">(</span><span class="string" id="8448655">&#34;basic&nbsp;string&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8448693">,</span>&nbsp;<span class="ident" id="8448695">v</span><span class="op" id="8448696">,</span>&nbsp;<span class="ident" id="8448698">str1</span><span class="op" id="8448702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8448708">if</span>&nbsp;<span class="ident" id="8448711">v</span><span class="op" id="8448712">,</span>&nbsp;<span class="ident" id="8448714">ok</span>&nbsp;<span class="op" id="8448717">:=</span>&nbsp;<span class="ident" id="8448720">item2</span><span class="op" id="8448725">.</span><span class="ident" id="8448726">Str2</span><span class="op" id="8448730">.</span><span class="op" id="8448731">(</span><span class="ident" id="8448732">String</span><span class="op" id="8448738">)</span><span class="op" id="8448739">;</span>&nbsp;<span class="op" id="8448741">!</span><span class="ident" id="8448742">ok</span>&nbsp;<span class="op" id="8448745">||</span>&nbsp;<span class="ident" id="8448748">v</span>&nbsp;<span class="op" id="8448750">!=</span>&nbsp;<span class="ident" id="8448753">str2</span>&nbsp;<span class="op" id="8448758">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448762">t</span><span class="op" id="8448763">.</span><span class="ident" id="8448764">Errorf</span><span class="op" id="8448770">(</span><span class="string" id="8448771">&#34;derived&nbsp;type&nbsp;String&nbsp;failed:&nbsp;%q&nbsp;should&nbsp;be&nbsp;%q&#34;</span><span class="op" id="8448816">,</span>&nbsp;<span class="ident" id="8448818">v</span><span class="op" id="8448819">,</span>&nbsp;<span class="ident" id="8448821">str2</span><span class="op" id="8448825">)</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8448828">}</span><br>
<span class="lineno"></span><span class="op" id="8448830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8448833">func</span>&nbsp;<span class="ident" id="8448838">TestIgnoreInterface</span><span class="op" id="8448857">(</span><span class="ident" id="8448858">t</span>&nbsp;<span class="op" id="8448860">*</span><span class="ident" id="8448861">testing</span><span class="op" id="8448868">.</span><span class="ident" id="8448869">T</span><span class="op" id="8448870">)</span>&nbsp;<span class="op" id="8448872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448875">iVal</span>&nbsp;<span class="op" id="8448880">:=</span>&nbsp;<span class="ident" id="8448883">Int</span><span class="op" id="8448886">(</span><span class="num" id="8448887">3</span><span class="op" id="8448888">)</span><br>
<span class="lineno">1235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8448891">fVal</span>&nbsp;<span class="op" id="8448896">:=</span>&nbsp;<span class="ident" id="8448899">Float</span><span class="op" id="8448904">(</span><span class="num" id="8448905">5</span><span class="op" id="8448906">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8448909">//&nbsp;Sending&nbsp;a&nbsp;Point&nbsp;will&nbsp;require&nbsp;that&nbsp;the&nbsp;receiver&nbsp;define&nbsp;a&nbsp;type&nbsp;in&nbsp;the&nbsp;middle&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8448991">//&nbsp;receiving&nbsp;the&nbsp;value&nbsp;for&nbsp;item2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449026">pVal</span>&nbsp;<span class="op" id="8449031">:=</span>&nbsp;<span class="ident" id="8449034">Point</span><span class="op" id="8449039">{</span><span class="num" id="8449040">2</span><span class="op" id="8449041">,</span>&nbsp;<span class="num" id="8449043">3</span><span class="op" id="8449044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449047">b</span>&nbsp;<span class="op" id="8449049">:=</span>&nbsp;<span class="builtinfunc" id="8449052">new</span><span class="op" id="8449055">(</span><span class="ident" id="8449056">bytes</span><span class="op" id="8449061">.</span><span class="ident" id="8449062">Buffer</span><span class="op" id="8449068">)</span><br>
<span class="lineno">1240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449071">item1</span>&nbsp;<span class="op" id="8449077">:=</span>&nbsp;<span class="op" id="8449080">&amp;</span><span class="ident" id="8449081">InterfaceItem</span><span class="op" id="8449094">{</span><span class="num" id="8449095">1</span><span class="op" id="8449096">,</span>&nbsp;<span class="ident" id="8449098">iVal</span><span class="op" id="8449102">,</span>&nbsp;<span class="ident" id="8449104">fVal</span><span class="op" id="8449108">,</span>&nbsp;<span class="ident" id="8449110">pVal</span><span class="op" id="8449114">,</span>&nbsp;<span class="num" id="8449116">11.5</span><span class="op" id="8449120">,</span>&nbsp;<span class="ident" id="8449122">nil</span><span class="op" id="8449125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8449128">//&nbsp;Register&nbsp;the&nbsp;types.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449152">Register</span><span class="op" id="8449160">(</span><span class="ident" id="8449161">Int</span><span class="op" id="8449164">(</span><span class="num" id="8449165">0</span><span class="op" id="8449166">)</span><span class="op" id="8449167">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449170">Register</span><span class="op" id="8449178">(</span><span class="ident" id="8449179">Float</span><span class="op" id="8449184">(</span><span class="num" id="8449185">0</span><span class="op" id="8449186">)</span><span class="op" id="8449187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449190">Register</span><span class="op" id="8449198">(</span><span class="ident" id="8449199">Point</span><span class="op" id="8449204">{</span><span class="op" id="8449205">}</span><span class="op" id="8449206">)</span><br>
<span class="lineno">1245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449209">err</span>&nbsp;<span class="op" id="8449213">:=</span>&nbsp;<span class="ident" id="8449216">NewEncoder</span><span class="op" id="8449226">(</span><span class="ident" id="8449227">b</span><span class="op" id="8449228">)</span><span class="op" id="8449229">.</span><span class="ident" id="8449230">Encode</span><span class="op" id="8449236">(</span><span class="ident" id="8449237">item1</span><span class="op" id="8449242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449245">if</span>&nbsp;<span class="ident" id="8449248">err</span>&nbsp;<span class="op" id="8449252">!=</span>&nbsp;<span class="ident" id="8449255">nil</span>&nbsp;<span class="op" id="8449259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449263">t</span><span class="op" id="8449264">.</span><span class="ident" id="8449265">Error</span><span class="op" id="8449270">(</span><span class="string" id="8449271">&#34;expected&nbsp;no&nbsp;encode&nbsp;error;&nbsp;got&#34;</span><span class="op" id="8449302">,</span>&nbsp;<span class="ident" id="8449304">err</span><span class="op" id="8449307">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449310">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449314">item2</span>&nbsp;<span class="op" id="8449320">:=</span>&nbsp;<span class="ident" id="8449323">NoInterfaceItem</span><span class="op" id="8449338">{</span><span class="op" id="8449339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449342">err</span>&nbsp;<span class="op" id="8449346">=</span>&nbsp;<span class="ident" id="8449348">NewDecoder</span><span class="op" id="8449358">(</span><span class="ident" id="8449359">b</span><span class="op" id="8449360">)</span><span class="op" id="8449361">.</span><span class="ident" id="8449362">Decode</span><span class="op" id="8449368">(</span><span class="op" id="8449369">&amp;</span><span class="ident" id="8449370">item2</span><span class="op" id="8449375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449378">if</span>&nbsp;<span class="ident" id="8449381">err</span>&nbsp;<span class="op" id="8449385">!=</span>&nbsp;<span class="ident" id="8449388">nil</span>&nbsp;<span class="op" id="8449392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449396">t</span><span class="op" id="8449397">.</span><span class="ident" id="8449398">Fatal</span><span class="op" id="8449403">(</span><span class="string" id="8449404">&#34;decode:&#34;</span><span class="op" id="8449413">,</span>&nbsp;<span class="ident" id="8449415">err</span><span class="op" id="8449418">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449421">}</span><br>
<span class="lineno">1255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449424">if</span>&nbsp;<span class="ident" id="8449427">item2</span><span class="op" id="8449432">.</span><span class="ident" id="8449433">I</span>&nbsp;<span class="op" id="8449435">!=</span>&nbsp;<span class="ident" id="8449438">item1</span><span class="op" id="8449443">.</span><span class="ident" id="8449444">I</span>&nbsp;<span class="op" id="8449446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449450">t</span><span class="op" id="8449451">.</span><span class="ident" id="8449452">Error</span><span class="op" id="8449457">(</span><span class="string" id="8449458">&#34;normal&nbsp;int&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8449495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449501">if</span>&nbsp;<span class="ident" id="8449504">item2</span><span class="op" id="8449509">.</span><span class="ident" id="8449510">F</span>&nbsp;<span class="op" id="8449512">!=</span>&nbsp;<span class="ident" id="8449515">item2</span><span class="op" id="8449520">.</span><span class="ident" id="8449521">F</span>&nbsp;<span class="op" id="8449523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449527">t</span><span class="op" id="8449528">.</span><span class="ident" id="8449529">Error</span><span class="op" id="8449534">(</span><span class="string" id="8449535">&#34;normal&nbsp;float&nbsp;did&nbsp;not&nbsp;decode&nbsp;correctly&#34;</span><span class="op" id="8449574">)</span><br>
<span class="lineno">1260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449577">}</span><br>
<span class="lineno"></span><span class="op" id="8449579">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8449582">type</span>&nbsp;<span class="ident" id="8449587">U</span>&nbsp;<span class="keyword" id="8449589">struct</span>&nbsp;<span class="op" id="8449596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449599">A</span>&nbsp;<span class="builtintype" id="8449601">int</span><br>
<span class="lineno">1265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449606">B</span>&nbsp;<span class="builtintype" id="8449608">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449616">c</span>&nbsp;<span class="builtintype" id="8449618">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449627">D</span>&nbsp;<span class="builtintype" id="8449629">uint</span><br>
<span class="lineno"></span><span class="op" id="8449634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1270</span><span class="keyword" id="8449637">func</span>&nbsp;<span class="ident" id="8449642">TestUnexportedFields</span><span class="op" id="8449662">(</span><span class="ident" id="8449663">t</span>&nbsp;<span class="op" id="8449665">*</span><span class="ident" id="8449666">testing</span><span class="op" id="8449673">.</span><span class="ident" id="8449674">T</span><span class="op" id="8449675">)</span>&nbsp;<span class="op" id="8449677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449680">var</span>&nbsp;<span class="ident" id="8449684">u0</span>&nbsp;<span class="ident" id="8449687">U</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449690">u0</span><span class="op" id="8449692">.</span><span class="ident" id="8449693">A</span>&nbsp;<span class="op" id="8449695">=</span>&nbsp;<span class="num" id="8449697">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449701">u0</span><span class="op" id="8449703">.</span><span class="ident" id="8449704">B</span>&nbsp;<span class="op" id="8449706">=</span>&nbsp;<span class="string" id="8449708">&#34;hello&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449717">u0</span><span class="op" id="8449719">.</span><span class="ident" id="8449720">c</span>&nbsp;<span class="op" id="8449722">=</span>&nbsp;<span class="num" id="8449724">3.14159</span><br>
<span class="lineno">1275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449733">u0</span><span class="op" id="8449735">.</span><span class="ident" id="8449736">D</span>&nbsp;<span class="op" id="8449738">=</span>&nbsp;<span class="num" id="8449740">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449744">b</span>&nbsp;<span class="op" id="8449746">:=</span>&nbsp;<span class="builtinfunc" id="8449749">new</span><span class="op" id="8449752">(</span><span class="ident" id="8449753">bytes</span><span class="op" id="8449758">.</span><span class="ident" id="8449759">Buffer</span><span class="op" id="8449765">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449768">NewEncoder</span><span class="op" id="8449778">(</span><span class="ident" id="8449779">b</span><span class="op" id="8449780">)</span><span class="op" id="8449781">.</span><span class="ident" id="8449782">Encode</span><span class="op" id="8449788">(</span><span class="ident" id="8449789">u0</span><span class="op" id="8449791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449794">dec</span>&nbsp;<span class="op" id="8449798">:=</span>&nbsp;<span class="ident" id="8449801">NewDecoder</span><span class="op" id="8449811">(</span><span class="ident" id="8449812">b</span><span class="op" id="8449813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449816">var</span>&nbsp;<span class="ident" id="8449820">u1</span>&nbsp;<span class="ident" id="8449823">U</span><br>
<span class="lineno">1280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449826">u1</span><span class="op" id="8449828">.</span><span class="ident" id="8449829">c</span>&nbsp;<span class="op" id="8449831">=</span>&nbsp;<span class="num" id="8449833">1234.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449840">err</span>&nbsp;<span class="op" id="8449844">:=</span>&nbsp;<span class="ident" id="8449847">dec</span><span class="op" id="8449850">.</span><span class="ident" id="8449851">Decode</span><span class="op" id="8449857">(</span><span class="op" id="8449858">&amp;</span><span class="ident" id="8449859">u1</span><span class="op" id="8449861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449864">if</span>&nbsp;<span class="ident" id="8449867">err</span>&nbsp;<span class="op" id="8449871">!=</span>&nbsp;<span class="ident" id="8449874">nil</span>&nbsp;<span class="op" id="8449878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449882">t</span><span class="op" id="8449883">.</span><span class="ident" id="8449884">Fatal</span><span class="op" id="8449889">(</span><span class="string" id="8449890">&#34;decode&nbsp;error:&#34;</span><span class="op" id="8449905">,</span>&nbsp;<span class="ident" id="8449907">err</span><span class="op" id="8449910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8449913">}</span><br>
<span class="lineno">1285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8449916">if</span>&nbsp;<span class="ident" id="8449919">u0</span><span class="op" id="8449921">.</span><span class="ident" id="8449922">A</span>&nbsp;<span class="op" id="8449924">!=</span>&nbsp;<span class="ident" id="8449927">u0</span><span class="op" id="8449929">.</span><span class="ident" id="8449930">A</span>&nbsp;<span class="op" id="8449932">||</span>&nbsp;<span class="ident" id="8449935">u0</span><span class="op" id="8449937">.</span><span class="ident" id="8449938">B</span>&nbsp;<span class="op" id="8449940">!=</span>&nbsp;<span class="ident" id="8449943">u1</span><span class="op" id="8449945">.</span><span class="ident" id="8449946">B</span>&nbsp;<span class="op" id="8449948">||</span>&nbsp;<span class="ident" id="8449951">u0</span><span class="op" id="8449953">.</span><span class="ident" id="8449954">D</span>&nbsp;<span class="op" id="8449956">!=</span>&nbsp;<span class="ident" id="8449959">u1</span><span class="op" id="8449961">.</span><span class="ident" id="8449962">D</span>&nbsp;<span class="op" id="8449964">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8449968">t</span><span class="op" id="8449969">.</span><span class="ident" id="8449970">Errorf</span><span class="op" id="8449976">(</span><span class="string" id="8449977">&#34;u1-&gt;u0:&nbsp;expected&nbsp;%v;&nbsp;got&nbsp;%v&#34;</span><span class="op" id="8450006">,</span>&nbsp;<span class="ident" id="8450008">u0</span><span class="op" id="8450010">,</span>&nbsp;<span class="ident" id="8450012">u1</span><span class="op" id="8450014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450020">if</span>&nbsp;<span class="ident" id="8450023">u1</span><span class="op" id="8450025">.</span><span class="ident" id="8450026">c</span>&nbsp;<span class="op" id="8450028">!=</span>&nbsp;<span class="num" id="8450031">1234.</span>&nbsp;<span class="op" id="8450037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450041">t</span><span class="op" id="8450042">.</span><span class="ident" id="8450043">Error</span><span class="op" id="8450048">(</span><span class="string" id="8450049">&#34;u1.c&nbsp;modified&#34;</span><span class="op" id="8450064">)</span><br>
<span class="lineno">1290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450067">}</span><br>
<span class="lineno"></span><span class="op" id="8450069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8450072">var</span>&nbsp;<span class="ident" id="8450076">singletons</span>&nbsp;<span class="op" id="8450087">=</span>&nbsp;<span class="op" id="8450089">[</span><span class="op" id="8450090">]</span><span class="keyword" id="8450091">interface</span><span class="op" id="8450100">{</span><span class="op" id="8450101">}</span><span class="op" id="8450102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtintype" id="8450105">true</span><span class="op" id="8450109">,</span><br>
<span class="lineno">1295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8450112">7</span><span class="op" id="8450113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="8450116">3.2</span><span class="op" id="8450119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8450122">&#34;hello&#34;</span><span class="op" id="8450129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450132">[</span><span class="num" id="8450133">3</span><span class="op" id="8450134">]</span><span class="builtintype" id="8450135">int</span><span class="op" id="8450138">{</span><span class="num" id="8450139">11</span><span class="op" id="8450141">,</span>&nbsp;<span class="num" id="8450143">22</span><span class="op" id="8450145">,</span>&nbsp;<span class="num" id="8450147">33</span><span class="op" id="8450149">}</span><span class="op" id="8450150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450153">[</span><span class="op" id="8450154">]</span><span class="builtintype" id="8450155">float32</span><span class="op" id="8450162">{</span><span class="num" id="8450163">0.5</span><span class="op" id="8450166">,</span>&nbsp;<span class="num" id="8450168">0.25</span><span class="op" id="8450172">,</span>&nbsp;<span class="num" id="8450174">0.125</span><span class="op" id="8450179">}</span><span class="op" id="8450180">,</span><br>
<span class="lineno">1300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450183">map</span><span class="op" id="8450186">[</span><span class="builtintype" id="8450187">string</span><span class="op" id="8450193">]</span><span class="builtintype" id="8450194">int</span><span class="op" id="8450197">{</span><span class="string" id="8450198">&#34;one&#34;</span><span class="op" id="8450203">:</span>&nbsp;<span class="num" id="8450205">1</span><span class="op" id="8450206">,</span>&nbsp;<span class="string" id="8450208">&#34;two&#34;</span><span class="op" id="8450213">:</span>&nbsp;<span class="num" id="8450215">2</span><span class="op" id="8450216">}</span><span class="op" id="8450217">,</span><br>
<span class="lineno"></span><span class="op" id="8450219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8450222">func</span>&nbsp;<span class="ident" id="8450227">TestDebugSingleton</span><span class="op" id="8450245">(</span><span class="ident" id="8450246">t</span>&nbsp;<span class="op" id="8450248">*</span><span class="ident" id="8450249">testing</span><span class="op" id="8450256">.</span><span class="ident" id="8450257">T</span><span class="op" id="8450258">)</span>&nbsp;<span class="op" id="8450260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450263">if</span>&nbsp;<span class="ident" id="8450266">debugFunc</span>&nbsp;<span class="op" id="8450276">==</span>&nbsp;<span class="ident" id="8450279">nil</span>&nbsp;<span class="op" id="8450283">{</span><br>
<span class="lineno">1305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450287">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450295">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450298">b</span>&nbsp;<span class="op" id="8450300">:=</span>&nbsp;<span class="builtinfunc" id="8450303">new</span><span class="op" id="8450306">(</span><span class="ident" id="8450307">bytes</span><span class="op" id="8450312">.</span><span class="ident" id="8450313">Buffer</span><span class="op" id="8450319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8450322">//&nbsp;Accumulate&nbsp;a&nbsp;number&nbsp;of&nbsp;values&nbsp;and&nbsp;print&nbsp;them&nbsp;out&nbsp;all&nbsp;at&nbsp;once.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450388">for</span>&nbsp;<span class="ident" id="8450392">_</span><span class="op" id="8450393">,</span>&nbsp;<span class="ident" id="8450395">x</span>&nbsp;<span class="op" id="8450397">:=</span>&nbsp;<span class="keyword" id="8450400">range</span>&nbsp;<span class="ident" id="8450406">singletons</span>&nbsp;<span class="op" id="8450417">{</span><br>
<span class="lineno">1310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450421">err</span>&nbsp;<span class="op" id="8450425">:=</span>&nbsp;<span class="ident" id="8450428">NewEncoder</span><span class="op" id="8450438">(</span><span class="ident" id="8450439">b</span><span class="op" id="8450440">)</span><span class="op" id="8450441">.</span><span class="ident" id="8450442">Encode</span><span class="op" id="8450448">(</span><span class="ident" id="8450449">x</span><span class="op" id="8450450">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450454">if</span>&nbsp;<span class="ident" id="8450457">err</span>&nbsp;<span class="op" id="8450461">!=</span>&nbsp;<span class="ident" id="8450464">nil</span>&nbsp;<span class="op" id="8450468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450473">t</span><span class="op" id="8450474">.</span><span class="ident" id="8450475">Fatal</span><span class="op" id="8450480">(</span><span class="string" id="8450481">&#34;encode:&#34;</span><span class="op" id="8450490">,</span>&nbsp;<span class="ident" id="8450492">err</span><span class="op" id="8450495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8450502">}</span><br>
<span class="lineno">1315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450505">debugFunc</span><span class="op" id="8450514">(</span><span class="ident" id="8450515">b</span><span class="op" id="8450516">)</span><br>
<span class="lineno"></span><span class="op" id="8450518">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8450521">//&nbsp;A&nbsp;type&nbsp;that&nbsp;won&#39;t&nbsp;be&nbsp;defined&nbsp;in&nbsp;the&nbsp;gob&nbsp;until&nbsp;we&nbsp;send&nbsp;it&nbsp;in&nbsp;an&nbsp;interface&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="8450604">type</span>&nbsp;<span class="ident" id="8450609">OnTheFly</span>&nbsp;<span class="keyword" id="8450618">struct</span>&nbsp;<span class="op" id="8450625">{</span><br>
<span class="lineno">1320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450628">A</span>&nbsp;<span class="builtintype" id="8450630">int</span><br>
<span class="lineno"></span><span class="op" id="8450634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8450637">type</span>&nbsp;<span class="ident" id="8450642">DT</span>&nbsp;<span class="keyword" id="8450645">struct</span>&nbsp;<span class="op" id="8450652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8450655">//&nbsp;&nbsp;&nbsp;&nbspX&nbsp;OnTheFly</span><br>
<span class="lineno">1325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450670">A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8450676">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450681">B</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8450687">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450695">C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8450701">float64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450710">I</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8450716">interface</span><span class="op" id="8450725">{</span><span class="op" id="8450726">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450729">J</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8450735">interface</span><span class="op" id="8450744">{</span><span class="op" id="8450745">}</span><br>
<span class="lineno">1330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450748">I_nil</span>&nbsp;<span class="keyword" id="8450754">interface</span><span class="op" id="8450763">{</span><span class="op" id="8450764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450767">M</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8450773">map</span><span class="op" id="8450776">[</span><span class="builtintype" id="8450777">string</span><span class="op" id="8450783">]</span><span class="builtintype" id="8450784">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450789">T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8450795">[</span><span class="num" id="8450796">3</span><span class="op" id="8450797">]</span><span class="builtintype" id="8450798">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450803">S</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8450809">[</span><span class="op" id="8450810">]</span><span class="builtintype" id="8450811">string</span><br>
<span class="lineno"></span><span class="op" id="8450818">}</span><br>
<span class="lineno">1335</span><br>
<span class="lineno"></span><span class="keyword" id="8450821">func</span>&nbsp;<span class="ident" id="8450826">newDT</span><span class="op" id="8450831">(</span><span class="op" id="8450832">)</span>&nbsp;<span class="ident" id="8450834">DT</span>&nbsp;<span class="op" id="8450837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8450840">var</span>&nbsp;<span class="ident" id="8450844">dt</span>&nbsp;<span class="ident" id="8450847">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450851">dt</span><span class="op" id="8450853">.</span><span class="ident" id="8450854">A</span>&nbsp;<span class="op" id="8450856">=</span>&nbsp;<span class="num" id="8450858">17</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450862">dt</span><span class="op" id="8450864">.</span><span class="ident" id="8450865">B</span>&nbsp;<span class="op" id="8450867">=</span>&nbsp;<span class="string" id="8450869">&#34;hello&#34;</span><br>
<span class="lineno">1340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450878">dt</span><span class="op" id="8450880">.</span><span class="ident" id="8450881">C</span>&nbsp;<span class="op" id="8450883">=</span>&nbsp;<span class="num" id="8450885">3.14159</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450894">dt</span><span class="op" id="8450896">.</span><span class="ident" id="8450897">I</span>&nbsp;<span class="op" id="8450899">=</span>&nbsp;<span class="num" id="8450901">271828</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450909">dt</span><span class="op" id="8450911">.</span><span class="ident" id="8450912">J</span>&nbsp;<span class="op" id="8450914">=</span>&nbsp;<span class="ident" id="8450916">OnTheFly</span><span class="op" id="8450924">{</span><span class="num" id="8450925">3</span><span class="op" id="8450926">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450929">dt</span><span class="op" id="8450931">.</span><span class="ident" id="8450932">I_nil</span>&nbsp;<span class="op" id="8450938">=</span>&nbsp;<span class="ident" id="8450940">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450945">dt</span><span class="op" id="8450947">.</span><span class="ident" id="8450948">M</span>&nbsp;<span class="op" id="8450950">=</span>&nbsp;<span class="keyword" id="8450952">map</span><span class="op" id="8450955">[</span><span class="builtintype" id="8450956">string</span><span class="op" id="8450962">]</span><span class="builtintype" id="8450963">int</span><span class="op" id="8450966">{</span><span class="string" id="8450967">&#34;one&#34;</span><span class="op" id="8450972">:</span>&nbsp;<span class="num" id="8450974">1</span><span class="op" id="8450975">,</span>&nbsp;<span class="string" id="8450977">&#34;two&#34;</span><span class="op" id="8450982">:</span>&nbsp;<span class="num" id="8450984">2</span><span class="op" id="8450985">}</span><br>
<span class="lineno">1345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8450988">dt</span><span class="op" id="8450990">.</span><span class="ident" id="8450991">T</span>&nbsp;<span class="op" id="8450993">=</span>&nbsp;<span class="op" id="8450995">[</span><span class="num" id="8450996">3</span><span class="op" id="8450997">]</span><span class="builtintype" id="8450998">int</span><span class="op" id="8451001">{</span><span class="num" id="8451002">11</span><span class="op" id="8451004">,</span>&nbsp;<span class="num" id="8451006">22</span><span class="op" id="8451008">,</span>&nbsp;<span class="num" id="8451010">33</span><span class="op" id="8451012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451015">dt</span><span class="op" id="8451017">.</span><span class="ident" id="8451018">S</span>&nbsp;<span class="op" id="8451020">=</span>&nbsp;<span class="op" id="8451022">[</span><span class="op" id="8451023">]</span><span class="builtintype" id="8451024">string</span><span class="op" id="8451030">{</span><span class="string" id="8451031">&#34;hi&#34;</span><span class="op" id="8451035">,</span>&nbsp;<span class="string" id="8451037">&#34;joe&#34;</span><span class="op" id="8451042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451045">return</span>&nbsp;<span class="ident" id="8451052">dt</span><br>
<span class="lineno"></span><span class="op" id="8451055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1350</span><span class="keyword" id="8451058">func</span>&nbsp;<span class="ident" id="8451063">TestDebugStruct</span><span class="op" id="8451078">(</span><span class="ident" id="8451079">t</span>&nbsp;<span class="op" id="8451081">*</span><span class="ident" id="8451082">testing</span><span class="op" id="8451089">.</span><span class="ident" id="8451090">T</span><span class="op" id="8451091">)</span>&nbsp;<span class="op" id="8451093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451096">if</span>&nbsp;<span class="ident" id="8451099">debugFunc</span>&nbsp;<span class="op" id="8451109">==</span>&nbsp;<span class="ident" id="8451112">nil</span>&nbsp;<span class="op" id="8451116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451120">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451131">Register</span><span class="op" id="8451139">(</span><span class="ident" id="8451140">OnTheFly</span><span class="op" id="8451148">{</span><span class="op" id="8451149">}</span><span class="op" id="8451150">)</span><br>
<span class="lineno">1355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451153">dt</span>&nbsp;<span class="op" id="8451156">:=</span>&nbsp;<span class="ident" id="8451159">newDT</span><span class="op" id="8451164">(</span><span class="op" id="8451165">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451168">b</span>&nbsp;<span class="op" id="8451170">:=</span>&nbsp;<span class="builtinfunc" id="8451173">new</span><span class="op" id="8451176">(</span><span class="ident" id="8451177">bytes</span><span class="op" id="8451182">.</span><span class="ident" id="8451183">Buffer</span><span class="op" id="8451189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451192">err</span>&nbsp;<span class="op" id="8451196">:=</span>&nbsp;<span class="ident" id="8451199">NewEncoder</span><span class="op" id="8451209">(</span><span class="ident" id="8451210">b</span><span class="op" id="8451211">)</span><span class="op" id="8451212">.</span><span class="ident" id="8451213">Encode</span><span class="op" id="8451219">(</span><span class="ident" id="8451220">dt</span><span class="op" id="8451222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451225">if</span>&nbsp;<span class="ident" id="8451228">err</span>&nbsp;<span class="op" id="8451232">!=</span>&nbsp;<span class="ident" id="8451235">nil</span>&nbsp;<span class="op" id="8451239">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451243">t</span><span class="op" id="8451244">.</span><span class="ident" id="8451245">Fatal</span><span class="op" id="8451250">(</span><span class="string" id="8451251">&#34;encode:&#34;</span><span class="op" id="8451260">,</span>&nbsp;<span class="ident" id="8451262">err</span><span class="op" id="8451265">)</span><br>
<span class="lineno">1360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451271">debugBuffer</span>&nbsp;<span class="op" id="8451283">:=</span>&nbsp;<span class="ident" id="8451286">bytes</span><span class="op" id="8451291">.</span><span class="ident" id="8451292">NewBuffer</span><span class="op" id="8451301">(</span><span class="ident" id="8451302">b</span><span class="op" id="8451303">.</span><span class="ident" id="8451304">Bytes</span><span class="op" id="8451309">(</span><span class="op" id="8451310">)</span><span class="op" id="8451311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451314">dt2</span>&nbsp;<span class="op" id="8451318">:=</span>&nbsp;<span class="op" id="8451321">&amp;</span><span class="ident" id="8451322">DT</span><span class="op" id="8451324">{</span><span class="op" id="8451325">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451328">err</span>&nbsp;<span class="op" id="8451332">=</span>&nbsp;<span class="ident" id="8451334">NewDecoder</span><span class="op" id="8451344">(</span><span class="ident" id="8451345">b</span><span class="op" id="8451346">)</span><span class="op" id="8451347">.</span><span class="ident" id="8451348">Decode</span><span class="op" id="8451354">(</span><span class="op" id="8451355">&amp;</span><span class="ident" id="8451356">dt2</span><span class="op" id="8451359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451362">if</span>&nbsp;<span class="ident" id="8451365">err</span>&nbsp;<span class="op" id="8451369">!=</span>&nbsp;<span class="ident" id="8451372">nil</span>&nbsp;<span class="op" id="8451376">{</span><br>
<span class="lineno">1365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451380">t</span><span class="op" id="8451381">.</span><span class="ident" id="8451382">Error</span><span class="op" id="8451387">(</span><span class="string" id="8451388">&#34;decode:&#34;</span><span class="op" id="8451397">,</span>&nbsp;<span class="ident" id="8451399">err</span><span class="op" id="8451402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451405">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451408">debugFunc</span><span class="op" id="8451417">(</span><span class="ident" id="8451418">debugBuffer</span><span class="op" id="8451429">)</span><br>
<span class="lineno"></span><span class="op" id="8451431">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1370</span><span class="keyword" id="8451434">func</span>&nbsp;<span class="ident" id="8451439">encFuzzDec</span><span class="op" id="8451449">(</span><span class="ident" id="8451450">rng</span>&nbsp;<span class="op" id="8451454">*</span><span class="ident" id="8451455">rand</span><span class="op" id="8451459">.</span><span class="ident" id="8451460">Rand</span><span class="op" id="8451464">,</span>&nbsp;<span class="ident" id="8451466">in</span>&nbsp;<span class="keyword" id="8451469">interface</span><span class="op" id="8451478">{</span><span class="op" id="8451479">}</span><span class="op" id="8451480">)</span>&nbsp;<span class="builtintype" id="8451482">error</span>&nbsp;<span class="op" id="8451488">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451491">buf</span>&nbsp;<span class="op" id="8451495">:=</span>&nbsp;<span class="builtinfunc" id="8451498">new</span><span class="op" id="8451501">(</span><span class="ident" id="8451502">bytes</span><span class="op" id="8451507">.</span><span class="ident" id="8451508">Buffer</span><span class="op" id="8451514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451517">enc</span>&nbsp;<span class="op" id="8451521">:=</span>&nbsp;<span class="ident" id="8451524">NewEncoder</span><span class="op" id="8451534">(</span><span class="ident" id="8451535">buf</span><span class="op" id="8451538">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451541">if</span>&nbsp;<span class="ident" id="8451544">err</span>&nbsp;<span class="op" id="8451548">:=</span>&nbsp;<span class="ident" id="8451551">enc</span><span class="op" id="8451554">.</span><span class="ident" id="8451555">Encode</span><span class="op" id="8451561">(</span><span class="op" id="8451562">&amp;</span><span class="ident" id="8451563">in</span><span class="op" id="8451565">)</span><span class="op" id="8451566">;</span>&nbsp;<span class="ident" id="8451568">err</span>&nbsp;<span class="op" id="8451572">!=</span>&nbsp;<span class="ident" id="8451575">nil</span>&nbsp;<span class="op" id="8451579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451583">return</span>&nbsp;<span class="ident" id="8451590">err</span><br>
<span class="lineno">1375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451599">b</span>&nbsp;<span class="op" id="8451601">:=</span>&nbsp;<span class="ident" id="8451604">buf</span><span class="op" id="8451607">.</span><span class="ident" id="8451608">Bytes</span><span class="op" id="8451613">(</span><span class="op" id="8451614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451617">for</span>&nbsp;<span class="ident" id="8451621">i</span><span class="op" id="8451622">,</span>&nbsp;<span class="ident" id="8451624">bi</span>&nbsp;<span class="op" id="8451627">:=</span>&nbsp;<span class="keyword" id="8451630">range</span>&nbsp;<span class="ident" id="8451636">b</span>&nbsp;<span class="op" id="8451638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451642">if</span>&nbsp;<span class="ident" id="8451645">rng</span><span class="op" id="8451648">.</span><span class="ident" id="8451649">Intn</span><span class="op" id="8451653">(</span><span class="num" id="8451654">10</span><span class="op" id="8451656">)</span>&nbsp;<span class="op" id="8451658">&lt;</span>&nbsp;<span class="num" id="8451660">3</span>&nbsp;<span class="op" id="8451662">{</span><br>
<span class="lineno">1380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451667">b</span><span class="op" id="8451668">[</span><span class="ident" id="8451669">i</span><span class="op" id="8451670">]</span>&nbsp;<span class="op" id="8451672">=</span>&nbsp;<span class="ident" id="8451674">bi</span>&nbsp;<span class="op" id="8451677">+</span>&nbsp;<span class="builtintype" id="8451679">uint8</span><span class="op" id="8451684">(</span><span class="ident" id="8451685">rng</span><span class="op" id="8451688">.</span><span class="ident" id="8451689">Intn</span><span class="op" id="8451693">(</span><span class="num" id="8451694">256</span><span class="op" id="8451697">)</span><span class="op" id="8451698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451705">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451709">dec</span>&nbsp;<span class="op" id="8451713">:=</span>&nbsp;<span class="ident" id="8451716">NewDecoder</span><span class="op" id="8451726">(</span><span class="ident" id="8451727">buf</span><span class="op" id="8451730">)</span><br>
<span class="lineno">1385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451733">var</span>&nbsp;<span class="ident" id="8451737">e</span>&nbsp;<span class="keyword" id="8451739">interface</span><span class="op" id="8451748">{</span><span class="op" id="8451749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451752">if</span>&nbsp;<span class="ident" id="8451755">err</span>&nbsp;<span class="op" id="8451759">:=</span>&nbsp;<span class="ident" id="8451762">dec</span><span class="op" id="8451765">.</span><span class="ident" id="8451766">Decode</span><span class="op" id="8451772">(</span><span class="op" id="8451773">&amp;</span><span class="ident" id="8451774">e</span><span class="op" id="8451775">)</span><span class="op" id="8451776">;</span>&nbsp;<span class="ident" id="8451778">err</span>&nbsp;<span class="op" id="8451782">!=</span>&nbsp;<span class="ident" id="8451785">nil</span>&nbsp;<span class="op" id="8451789">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451793">return</span>&nbsp;<span class="ident" id="8451800">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8451805">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451808">return</span>&nbsp;<span class="ident" id="8451815">nil</span><br>
<span class="lineno">1390</span><span class="op" id="8451819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8451822">//&nbsp;This&nbsp;does&nbsp;some&nbsp;&#34;fuzz&nbsp;testing&#34;&nbsp;by&nbsp;attempting&nbsp;to&nbsp;decode&nbsp;a&nbsp;sequence&nbsp;of&nbsp;random&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="8451907">func</span>&nbsp;<span class="ident" id="8451912">TestFuzz</span><span class="op" id="8451920">(</span><span class="ident" id="8451921">t</span>&nbsp;<span class="op" id="8451923">*</span><span class="ident" id="8451924">testing</span><span class="op" id="8451931">.</span><span class="ident" id="8451932">T</span><span class="op" id="8451933">)</span>&nbsp;<span class="op" id="8451935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8451938">if</span>&nbsp;<span class="op" id="8451941">!</span><span class="op" id="8451942">*</span><span class="ident" id="8451943">doFuzzTests</span>&nbsp;<span class="op" id="8451955">{</span><br>
<span class="lineno">1395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8451959">t</span><span class="op" id="8451960">.</span><span class="ident" id="8451961">Logf</span><span class="op" id="8451965">(</span><span class="string" id="8451966">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8452006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8452010">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8452022">//&nbsp;all&nbsp;possible&nbsp;inputs</span><br>
<span class="lineno">1400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452046">input</span>&nbsp;<span class="op" id="8452052">:=</span>&nbsp;<span class="op" id="8452055">[</span><span class="op" id="8452056">]</span><span class="keyword" id="8452057">interface</span><span class="op" id="8452066">{</span><span class="op" id="8452067">}</span><span class="op" id="8452068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8452072">new</span><span class="op" id="8452075">(</span><span class="builtintype" id="8452076">int</span><span class="op" id="8452079">)</span><span class="op" id="8452080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8452084">new</span><span class="op" id="8452087">(</span><span class="builtintype" id="8452088">float32</span><span class="op" id="8452095">)</span><span class="op" id="8452096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8452100">new</span><span class="op" id="8452103">(</span><span class="builtintype" id="8452104">float64</span><span class="op" id="8452111">)</span><span class="op" id="8452112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8452116">new</span><span class="op" id="8452119">(</span><span class="builtintype" id="8452120">complex128</span><span class="op" id="8452130">)</span><span class="op" id="8452131">,</span><br>
<span class="lineno">1405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452135">&amp;</span><span class="ident" id="8452136">ByteStruct</span><span class="op" id="8452146">{</span><span class="num" id="8452147">255</span><span class="op" id="8452150">}</span><span class="op" id="8452151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452155">&amp;</span><span class="ident" id="8452156">ArrayStruct</span><span class="op" id="8452167">{</span><span class="op" id="8452168">}</span><span class="op" id="8452169">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452173">&amp;</span><span class="ident" id="8452174">StringStruct</span><span class="op" id="8452186">{</span><span class="string" id="8452187">&#34;hello&#34;</span><span class="op" id="8452194">}</span><span class="op" id="8452195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452199">&amp;</span><span class="ident" id="8452200">GobTest1</span><span class="op" id="8452208">{</span><span class="num" id="8452209">0</span><span class="op" id="8452210">,</span>&nbsp;<span class="op" id="8452212">&amp;</span><span class="ident" id="8452213">StringStruct</span><span class="op" id="8452225">{</span><span class="string" id="8452226">&#34;hello&#34;</span><span class="op" id="8452233">}</span><span class="op" id="8452234">}</span><span class="op" id="8452235">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452238">}</span><br>
<span class="lineno">1410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452241">testFuzz</span><span class="op" id="8452249">(</span><span class="ident" id="8452250">t</span><span class="op" id="8452251">,</span>&nbsp;<span class="ident" id="8452253">time</span><span class="op" id="8452257">.</span><span class="ident" id="8452258">Now</span><span class="op" id="8452261">(</span><span class="op" id="8452262">)</span><span class="op" id="8452263">.</span><span class="ident" id="8452264">UnixNano</span><span class="op" id="8452272">(</span><span class="op" id="8452273">)</span><span class="op" id="8452274">,</span>&nbsp;<span class="num" id="8452276">100</span><span class="op" id="8452279">,</span>&nbsp;<span class="ident" id="8452281">input</span><span class="op" id="8452286">...</span><span class="op" id="8452289">)</span><br>
<span class="lineno"></span><span class="op" id="8452291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8452294">func</span>&nbsp;<span class="ident" id="8452299">TestFuzzRegressions</span><span class="op" id="8452318">(</span><span class="ident" id="8452319">t</span>&nbsp;<span class="op" id="8452321">*</span><span class="ident" id="8452322">testing</span><span class="op" id="8452329">.</span><span class="ident" id="8452330">T</span><span class="op" id="8452331">)</span>&nbsp;<span class="op" id="8452333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8452336">if</span>&nbsp;<span class="op" id="8452339">!</span><span class="op" id="8452340">*</span><span class="ident" id="8452341">doFuzzTests</span>&nbsp;<span class="op" id="8452353">{</span><br>
<span class="lineno">1415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452357">t</span><span class="op" id="8452358">.</span><span class="ident" id="8452359">Logf</span><span class="op" id="8452363">(</span><span class="string" id="8452364">&#34;disabled;&nbsp;run&nbsp;with&nbsp;-gob.fuzz&nbsp;to&nbsp;enable&#34;</span><span class="op" id="8452404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8452408">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8452420">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;length&nbsp;~102&nbsp;GB.</span><br>
<span class="lineno">1420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452478">testFuzz</span><span class="op" id="8452486">(</span><span class="ident" id="8452487">t</span><span class="op" id="8452488">,</span>&nbsp;<span class="num" id="8452490">1328492090837718000</span><span class="op" id="8452509">,</span>&nbsp;<span class="num" id="8452511">100</span><span class="op" id="8452514">,</span>&nbsp;<span class="builtinfunc" id="8452516">new</span><span class="op" id="8452519">(</span><span class="builtintype" id="8452520">float32</span><span class="op" id="8452527">)</span><span class="op" id="8452528">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8452531">//&nbsp;An&nbsp;instance&nbsp;triggering&nbsp;a&nbsp;type&nbsp;name&nbsp;of&nbsp;1.6&nbsp;GB.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8452581">//&nbsp;Note:&nbsp;can&nbsp;take&nbsp;several&nbsp;minutes&nbsp;to&nbsp;run.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452624">testFuzz</span><span class="op" id="8452632">(</span><span class="ident" id="8452633">t</span><span class="op" id="8452634">,</span>&nbsp;<span class="num" id="8452636">1330522872628565000</span><span class="op" id="8452655">,</span>&nbsp;<span class="num" id="8452657">100</span><span class="op" id="8452660">,</span>&nbsp;<span class="builtinfunc" id="8452662">new</span><span class="op" id="8452665">(</span><span class="builtintype" id="8452666">int</span><span class="op" id="8452669">)</span><span class="op" id="8452670">)</span><br>
<span class="lineno"></span><span class="op" id="8452672">}</span><br>
<span class="lineno">1425</span><br>
<span class="lineno"></span><span class="keyword" id="8452675">func</span>&nbsp;<span class="ident" id="8452680">testFuzz</span><span class="op" id="8452688">(</span><span class="ident" id="8452689">t</span>&nbsp;<span class="op" id="8452691">*</span><span class="ident" id="8452692">testing</span><span class="op" id="8452699">.</span><span class="ident" id="8452700">T</span><span class="op" id="8452701">,</span>&nbsp;<span class="ident" id="8452703">seed</span>&nbsp;<span class="ident" id="8452708">int64</span><span class="op" id="8452713">,</span>&nbsp;<span class="ident" id="8452715">n</span>&nbsp;<span class="builtintype" id="8452717">int</span><span class="op" id="8452720">,</span>&nbsp;<span class="ident" id="8452722">input</span>&nbsp;<span class="op" id="8452728">...</span><span class="keyword" id="8452731">interface</span><span class="op" id="8452740">{</span><span class="op" id="8452741">}</span><span class="op" id="8452742">)</span>&nbsp;<span class="op" id="8452744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8452747">for</span>&nbsp;<span class="ident" id="8452751">_</span><span class="op" id="8452752">,</span>&nbsp;<span class="ident" id="8452754">e</span>&nbsp;<span class="op" id="8452756">:=</span>&nbsp;<span class="keyword" id="8452759">range</span>&nbsp;<span class="ident" id="8452765">input</span>&nbsp;<span class="op" id="8452771">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452775">t</span><span class="op" id="8452776">.</span><span class="ident" id="8452777">Logf</span><span class="op" id="8452781">(</span><span class="string" id="8452782">&#34;seed=%d&nbsp;n=%d&nbsp;e=%T&#34;</span><span class="op" id="8452801">,</span>&nbsp;<span class="ident" id="8452803">seed</span><span class="op" id="8452807">,</span>&nbsp;<span class="ident" id="8452809">n</span><span class="op" id="8452810">,</span>&nbsp;<span class="ident" id="8452812">e</span><span class="op" id="8452813">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452817">rng</span>&nbsp;<span class="op" id="8452821">:=</span>&nbsp;<span class="ident" id="8452824">rand</span><span class="op" id="8452828">.</span><span class="ident" id="8452829">New</span><span class="op" id="8452832">(</span><span class="ident" id="8452833">rand</span><span class="op" id="8452837">.</span><span class="ident" id="8452838">NewSource</span><span class="op" id="8452847">(</span><span class="ident" id="8452848">seed</span><span class="op" id="8452852">)</span><span class="op" id="8452853">)</span><br>
<span class="lineno">1430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8452857">for</span>&nbsp;<span class="ident" id="8452861">i</span>&nbsp;<span class="op" id="8452863">:=</span>&nbsp;<span class="num" id="8452866">0</span><span class="op" id="8452867">;</span>&nbsp;<span class="ident" id="8452869">i</span>&nbsp;<span class="op" id="8452871">&lt;</span>&nbsp;<span class="ident" id="8452873">n</span><span class="op" id="8452874">;</span>&nbsp;<span class="ident" id="8452876">i</span><span class="op" id="8452877">++</span>&nbsp;<span class="op" id="8452880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8452885">encFuzzDec</span><span class="op" id="8452895">(</span><span class="ident" id="8452896">rng</span><span class="op" id="8452899">,</span>&nbsp;<span class="ident" id="8452901">e</span><span class="op" id="8452902">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452906">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8452909">}</span><br>
<span class="lineno"></span><span class="op" id="8452911">}</span><br>
<span class="lineno">1435</span><br>
<span class="lineno"></span><span class="comment" id="8452914">//&nbsp;TestFuzzOneByte&nbsp;tries&nbsp;to&nbsp;decode&nbsp;corrupted&nbsp;input&nbsp;sequences</span><br>
<span class="lineno"></span><span class="comment" id="8452975">//&nbsp;and&nbsp;checks&nbsp;that&nbsp;no&nbsp;panic&nbsp;occurs.</span><br>
<span class="lineno"></span><span class="keyword" id="8453011">func</span>&nbsp;<span class="ident" id="8453016">TestFuzzOneByte</span><span class="op" id="8453031">(</span><span class="ident" id="8453032">t</span>&nbsp;<span class="op" id="8453034">*</span><span class="ident" id="8453035">testing</span><span class="op" id="8453042">.</span><span class="ident" id="8453043">T</span><span class="op" id="8453044">)</span>&nbsp;<span class="op" id="8453046">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453049">buf</span>&nbsp;<span class="op" id="8453053">:=</span>&nbsp;<span class="builtinfunc" id="8453056">new</span><span class="op" id="8453059">(</span><span class="ident" id="8453060">bytes</span><span class="op" id="8453065">.</span><span class="ident" id="8453066">Buffer</span><span class="op" id="8453072">)</span><br>
<span class="lineno">1440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453075">Register</span><span class="op" id="8453083">(</span><span class="ident" id="8453084">OnTheFly</span><span class="op" id="8453092">{</span><span class="op" id="8453093">}</span><span class="op" id="8453094">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453097">dt</span>&nbsp;<span class="op" id="8453100">:=</span>&nbsp;<span class="ident" id="8453103">newDT</span><span class="op" id="8453108">(</span><span class="op" id="8453109">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453112">if</span>&nbsp;<span class="ident" id="8453115">err</span>&nbsp;<span class="op" id="8453119">:=</span>&nbsp;<span class="ident" id="8453122">NewEncoder</span><span class="op" id="8453132">(</span><span class="ident" id="8453133">buf</span><span class="op" id="8453136">)</span><span class="op" id="8453137">.</span><span class="ident" id="8453138">Encode</span><span class="op" id="8453144">(</span><span class="ident" id="8453145">dt</span><span class="op" id="8453147">)</span><span class="op" id="8453148">;</span>&nbsp;<span class="ident" id="8453150">err</span>&nbsp;<span class="op" id="8453154">!=</span>&nbsp;<span class="ident" id="8453157">nil</span>&nbsp;<span class="op" id="8453161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453165">t</span><span class="op" id="8453166">.</span><span class="ident" id="8453167">Fatal</span><span class="op" id="8453172">(</span><span class="ident" id="8453173">err</span><span class="op" id="8453176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453179">}</span><br>
<span class="lineno">1445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453182">s</span>&nbsp;<span class="op" id="8453184">:=</span>&nbsp;<span class="ident" id="8453187">buf</span><span class="op" id="8453190">.</span><span class="ident" id="8453191">String</span><span class="op" id="8453197">(</span><span class="op" id="8453198">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453202">indices</span>&nbsp;<span class="op" id="8453210">:=</span>&nbsp;<span class="builtinfunc" id="8453213">make</span><span class="op" id="8453217">(</span><span class="op" id="8453218">[</span><span class="op" id="8453219">]</span><span class="builtintype" id="8453220">int</span><span class="op" id="8453223">,</span>&nbsp;<span class="num" id="8453225">0</span><span class="op" id="8453226">,</span>&nbsp;<span class="builtinfunc" id="8453228">len</span><span class="op" id="8453231">(</span><span class="ident" id="8453232">s</span><span class="op" id="8453233">)</span><span class="op" id="8453234">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453237">for</span>&nbsp;<span class="ident" id="8453241">i</span>&nbsp;<span class="op" id="8453243">:=</span>&nbsp;<span class="num" id="8453246">0</span><span class="op" id="8453247">;</span>&nbsp;<span class="ident" id="8453249">i</span>&nbsp;<span class="op" id="8453251">&lt;</span>&nbsp;<span class="builtinfunc" id="8453253">len</span><span class="op" id="8453256">(</span><span class="ident" id="8453257">s</span><span class="op" id="8453258">)</span><span class="op" id="8453259">;</span>&nbsp;<span class="ident" id="8453261">i</span><span class="op" id="8453262">++</span>&nbsp;<span class="op" id="8453265">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453269">switch</span>&nbsp;<span class="ident" id="8453276">i</span>&nbsp;<span class="op" id="8453278">{</span><br>
<span class="lineno">1450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453282">case</span>&nbsp;<span class="num" id="8453287">14</span><span class="op" id="8453289">,</span>&nbsp;<span class="num" id="8453291">167</span><span class="op" id="8453294">,</span>&nbsp;<span class="num" id="8453296">231</span><span class="op" id="8453299">,</span>&nbsp;<span class="num" id="8453301">265</span><span class="op" id="8453304">:</span>&nbsp;<span class="comment" id="8453306">//&nbsp;a&nbsp;slice&nbsp;length,&nbsp;corruptions&nbsp;are&nbsp;not&nbsp;handled&nbsp;yet.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453361">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453376">indices</span>&nbsp;<span class="op" id="8453384">=</span>&nbsp;<span class="builtinfunc" id="8453386">append</span><span class="op" id="8453392">(</span><span class="ident" id="8453393">indices</span><span class="op" id="8453400">,</span>&nbsp;<span class="ident" id="8453402">i</span><span class="op" id="8453403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453406">}</span><br>
<span class="lineno">1455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453409">if</span>&nbsp;<span class="ident" id="8453412">testing</span><span class="op" id="8453419">.</span><span class="ident" id="8453420">Short</span><span class="op" id="8453425">(</span><span class="op" id="8453426">)</span>&nbsp;<span class="op" id="8453428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453432">indices</span>&nbsp;<span class="op" id="8453440">=</span>&nbsp;<span class="op" id="8453442">[</span><span class="op" id="8453443">]</span><span class="builtintype" id="8453444">int</span><span class="op" id="8453447">{</span><span class="num" id="8453448">1</span><span class="op" id="8453449">,</span>&nbsp;<span class="num" id="8453451">111</span><span class="op" id="8453454">,</span>&nbsp;<span class="num" id="8453456">178</span><span class="op" id="8453459">}</span>&nbsp;<span class="comment" id="8453461">//&nbsp;known&nbsp;fixed&nbsp;panics</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453487">for</span>&nbsp;<span class="ident" id="8453491">_</span><span class="op" id="8453492">,</span>&nbsp;<span class="ident" id="8453494">i</span>&nbsp;<span class="op" id="8453496">:=</span>&nbsp;<span class="keyword" id="8453499">range</span>&nbsp;<span class="ident" id="8453505">indices</span>&nbsp;<span class="op" id="8453513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453517">for</span>&nbsp;<span class="ident" id="8453521">j</span>&nbsp;<span class="op" id="8453523">:=</span>&nbsp;<span class="num" id="8453526">0</span><span class="op" id="8453527">;</span>&nbsp;<span class="ident" id="8453529">j</span>&nbsp;<span class="op" id="8453531">&lt;</span>&nbsp;<span class="num" id="8453533">256</span><span class="op" id="8453536">;</span>&nbsp;<span class="ident" id="8453538">j</span>&nbsp;<span class="op" id="8453540">+=</span>&nbsp;<span class="num" id="8453543">3</span>&nbsp;<span class="op" id="8453545">{</span><br>
<span class="lineno">1460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453550">b</span>&nbsp;<span class="op" id="8453552">:=</span>&nbsp;<span class="op" id="8453555">[</span><span class="op" id="8453556">]</span><span class="builtintype" id="8453557">byte</span><span class="op" id="8453561">(</span><span class="ident" id="8453562">s</span><span class="op" id="8453563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453568">b</span><span class="op" id="8453569">[</span><span class="ident" id="8453570">i</span><span class="op" id="8453571">]</span>&nbsp;<span class="op" id="8453573">^=</span>&nbsp;<span class="builtintype" id="8453576">byte</span><span class="op" id="8453580">(</span><span class="ident" id="8453581">j</span><span class="op" id="8453582">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453587">var</span>&nbsp;<span class="ident" id="8453591">e</span>&nbsp;<span class="ident" id="8453593">DT</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453599">func</span><span class="op" id="8453603">(</span><span class="op" id="8453604">)</span>&nbsp;<span class="op" id="8453606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453612">defer</span>&nbsp;<span class="keyword" id="8453618">func</span><span class="op" id="8453622">(</span><span class="op" id="8453623">)</span>&nbsp;<span class="op" id="8453625">{</span><br>
<span class="lineno">1465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8453632">if</span>&nbsp;<span class="ident" id="8453635">p</span>&nbsp;<span class="op" id="8453637">:=</span>&nbsp;<span class="builtinfunc" id="8453640">recover</span><span class="op" id="8453647">(</span><span class="op" id="8453648">)</span><span class="op" id="8453649">;</span>&nbsp;<span class="ident" id="8453651">p</span>&nbsp;<span class="op" id="8453653">!=</span>&nbsp;<span class="ident" id="8453656">nil</span>&nbsp;<span class="op" id="8453660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453668">t</span><span class="op" id="8453669">.</span><span class="ident" id="8453670">Errorf</span><span class="op" id="8453676">(</span><span class="string" id="8453677">&#34;crash&nbsp;for&nbsp;b[%d]&nbsp;^=&nbsp;0x%x&#34;</span><span class="op" id="8453702">,</span>&nbsp;<span class="ident" id="8453704">i</span><span class="op" id="8453705">,</span>&nbsp;<span class="ident" id="8453707">j</span><span class="op" id="8453708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="8453716">panic</span><span class="op" id="8453721">(</span><span class="ident" id="8453722">p</span><span class="op" id="8453723">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453730">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453736">}</span><span class="op" id="8453737">(</span><span class="op" id="8453738">)</span><br>
<span class="lineno">1470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453744">err</span>&nbsp;<span class="op" id="8453748">:=</span>&nbsp;<span class="ident" id="8453751">NewDecoder</span><span class="op" id="8453761">(</span><span class="ident" id="8453762">bytes</span><span class="op" id="8453767">.</span><span class="ident" id="8453768">NewReader</span><span class="op" id="8453777">(</span><span class="ident" id="8453778">b</span><span class="op" id="8453779">)</span><span class="op" id="8453780">)</span><span class="op" id="8453781">.</span><span class="ident" id="8453782">Decode</span><span class="op" id="8453788">(</span><span class="op" id="8453789">&amp;</span><span class="ident" id="8453790">e</span><span class="op" id="8453791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8453797">_</span>&nbsp;<span class="op" id="8453799">=</span>&nbsp;<span class="ident" id="8453801">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453808">}</span><span class="op" id="8453809">(</span><span class="op" id="8453810">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453814">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8453817">}</span><br>
<span class="lineno">1475</span><span class="op" id="8453819">}</span>
</div>
</body>
</html>
