<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/plan9obj</h2>
<ul>
<li><a href="/gostd/debug/plan9obj/file.go.html" class="current">file.go</a></li>
<li><a href="/gostd/debug/plan9obj/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/debug/plan9obj/plan9obj.go.html">plan9obj.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5890230">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5890286">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5890340">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5890391">//&nbsp;Package&nbsp;plan9obj&nbsp;implements&nbsp;access&nbsp;to&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;object&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="5890459">package</span>&nbsp;<span class="ident" id="5890467">plan9obj</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5890477">import</span>&nbsp;<span class="op" id="5890484">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5890487">&#34;encoding/binary&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5890506">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5890516">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5890523">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5890529">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="5890534">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="5890537">//&nbsp;A&nbsp;FileHeader&nbsp;represents&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file&nbsp;header.</span><br>
<span class="lineno"></span><span class="keyword" id="5890592">type</span>&nbsp;<span class="ident" id="5890597">FileHeader</span>&nbsp;<span class="keyword" id="5890608">struct</span>&nbsp;<span class="op" id="5890615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890618">Magic</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5890630">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890638">Bss</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5890650">uint32</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890658">Entry</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5890670">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890678">PtrSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5890690">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890695">LoadAddress</span>&nbsp;<span class="builtintype" id="5890707">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890715">HdrSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5890727">uint64</span><br>
<span class="lineno"></span><span class="op" id="5890734">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="5890737">//&nbsp;A&nbsp;File&nbsp;represents&nbsp;an&nbsp;open&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5890785">type</span>&nbsp;<span class="ident" id="5890790">File</span>&nbsp;<span class="keyword" id="5890795">struct</span>&nbsp;<span class="op" id="5890802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890805"><a href="/gostd/debug/plan9obj/file.go.html#5890597">FileHeader</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890817">Sections</span>&nbsp;<span class="op" id="5890826">[</span><span class="op" id="5890827">]</span><span class="op" id="5890828">*</span><span class="ident" id="5890829"><a href="/gostd/debug/plan9obj/file.go.html#5891164">Section</a></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5890838">closer</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5890847"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5890849">.</span><span class="ident" id="5890850"><a href="/gostd/io/io.go.html#1422563">Closer</a></span><br>
<span class="lineno"></span><span class="op" id="5890857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5890860">//&nbsp;A&nbsp;SectionHeader&nbsp;represents&nbsp;a&nbsp;single&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;section&nbsp;header.</span><br>
<span class="lineno"></span><span class="comment" id="5890928">//&nbsp;This&nbsp;structure&nbsp;doesn&#39;t&nbsp;exist&nbsp;on-disk,&nbsp;but&nbsp;eases&nbsp;navigation</span><br>
<span class="lineno">35</span><span class="comment" id="5890990">//&nbsp;through&nbsp;the&nbsp;object&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5891018">type</span>&nbsp;<span class="ident" id="5891023">SectionHeader</span>&nbsp;<span class="keyword" id="5891037">struct</span>&nbsp;<span class="op" id="5891044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891047">Name</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5891054">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891062">Size</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5891069">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891077">Offset</span>&nbsp;<span class="builtintype" id="5891084">uint32</span><br>
<span class="lineno">40</span><span class="op" id="5891091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5891094">//&nbsp;A&nbsp;Section&nbsp;represents&nbsp;a&nbsp;single&nbsp;section&nbsp;in&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5891159">type</span>&nbsp;<span class="ident" id="5891164">Section</span>&nbsp;<span class="keyword" id="5891172">struct</span>&nbsp;<span class="op" id="5891179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891182"><a href="/gostd/debug/plan9obj/file.go.html#5891023">SectionHeader</a></span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5891198">//&nbsp;Embed&nbsp;ReaderAt&nbsp;for&nbsp;ReadAt&nbsp;method.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5891236">//&nbsp;Do&nbsp;not&nbsp;embed&nbsp;SectionReader&nbsp;directly</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5891276">//&nbsp;to&nbsp;avoid&nbsp;having&nbsp;Read&nbsp;and&nbsp;Seek.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5891311">//&nbsp;If&nbsp;a&nbsp;client&nbsp;wants&nbsp;Read&nbsp;and&nbsp;Seek&nbsp;it&nbsp;must&nbsp;use</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5891359">//&nbsp;Open()&nbsp;to&nbsp;avoid&nbsp;fighting&nbsp;over&nbsp;the&nbsp;seek&nbsp;offset</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5891409">//&nbsp;with&nbsp;other&nbsp;clients.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891433"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5891435">.</span><span class="ident" id="5891436"><a href="/gostd/io/io.go.html#1425985">ReaderAt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891446">sr</span>&nbsp;<span class="op" id="5891449">*</span><span class="ident" id="5891450"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5891452">.</span><span class="ident" id="5891453"><a href="/gostd/io/io.go.html#1432668">SectionReader</a></span><br>
<span class="lineno"></span><span class="op" id="5891467">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="5891470">//&nbsp;Data&nbsp;reads&nbsp;and&nbsp;returns&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5891538">func</span>&nbsp;<span class="op" id="5891543">(</span><span class="ident" id="5891544">s</span>&nbsp;<span class="op" id="5891546">*</span><span class="ident" id="5891547"><a href="/gostd/debug/plan9obj/file.go.html#5891164">Section</a></span><span class="op" id="5891554">)</span>&nbsp;<span class="ident" id="5891556">Data</span><span class="op" id="5891560">(</span><span class="op" id="5891561">)</span>&nbsp;<span class="op" id="5891563">(</span><span class="op" id="5891564">[</span><span class="op" id="5891565">]</span><span class="builtintype" id="5891566">byte</span><span class="op" id="5891570">,</span>&nbsp;<span class="builtintype" id="5891572">error</span><span class="op" id="5891577">)</span>&nbsp;<span class="op" id="5891579">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891582">dat</span>&nbsp;<span class="op" id="5891586">:=</span>&nbsp;<span class="builtinfunc" id="5891589">make</span><span class="op" id="5891593">(</span><span class="op" id="5891594">[</span><span class="op" id="5891595">]</span><span class="builtintype" id="5891596">byte</span><span class="op" id="5891600">,</span>&nbsp;<span class="ident" id="5891602"><a href="/gostd/debug/plan9obj/file.go.html#5891544">s</a></span><span class="op" id="5891603">.</span><span class="ident" id="5891604"><a href="/gostd/debug/plan9obj/file.go.html#5891446">sr</a></span><span class="op" id="5891606">.</span><span class="ident" id="5891607"><a href="/gostd/io/io.go.html#1433783">Size</a></span><span class="op" id="5891611">(</span><span class="op" id="5891612">)</span><span class="op" id="5891613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891616">n</span><span class="op" id="5891617">,</span>&nbsp;<span class="ident" id="5891619">err</span>&nbsp;<span class="op" id="5891623">:=</span>&nbsp;<span class="ident" id="5891626"><a href="/gostd/debug/plan9obj/file.go.html#5891544">s</a></span><span class="op" id="5891627">.</span><span class="ident" id="5891628"><a href="/gostd/debug/plan9obj/file.go.html#5891446">sr</a></span><span class="op" id="5891630">.</span><span class="ident" id="5891631"><a href="/gostd/io/io.go.html#1433410">ReadAt</a></span><span class="op" id="5891637">(</span><span class="ident" id="5891638"><a href="/gostd/debug/plan9obj/file.go.html#5891582">dat</a></span><span class="op" id="5891641">,</span>&nbsp;<span class="num" id="5891643">0</span><span class="op" id="5891644">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5891647">if</span>&nbsp;<span class="ident" id="5891650"><a href="/gostd/debug/plan9obj/file.go.html#5891616">n</a></span>&nbsp;<span class="op" id="5891652">==</span>&nbsp;<span class="builtinfunc" id="5891655">len</span><span class="op" id="5891658">(</span><span class="ident" id="5891659"><a href="/gostd/debug/plan9obj/file.go.html#5891582">dat</a></span><span class="op" id="5891662">)</span>&nbsp;<span class="op" id="5891664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891668"><a href="/gostd/debug/plan9obj/file.go.html#5891619">err</a></span>&nbsp;<span class="op" id="5891672">=</span>&nbsp;<span class="builtintype" id="5891674">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5891679">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5891682">return</span>&nbsp;<span class="ident" id="5891689"><a href="/gostd/debug/plan9obj/file.go.html#5891582">dat</a></span><span class="op" id="5891692">[</span><span class="num" id="5891693">0</span><span class="op" id="5891694">:</span><span class="ident" id="5891695"><a href="/gostd/debug/plan9obj/file.go.html#5891616">n</a></span><span class="op" id="5891696">]</span><span class="op" id="5891697">,</span>&nbsp;<span class="ident" id="5891699"><a href="/gostd/debug/plan9obj/file.go.html#5891619">err</a></span><br>
<span class="lineno"></span><span class="op" id="5891703">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="comment" id="5891706">//&nbsp;Open&nbsp;returns&nbsp;a&nbsp;new&nbsp;ReadSeeker&nbsp;reading&nbsp;the&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5891773">func</span>&nbsp;<span class="op" id="5891778">(</span><span class="ident" id="5891779">s</span>&nbsp;<span class="op" id="5891781">*</span><span class="ident" id="5891782"><a href="/gostd/debug/plan9obj/file.go.html#5891164">Section</a></span><span class="op" id="5891789">)</span>&nbsp;<span class="ident" id="5891791">Open</span><span class="op" id="5891795">(</span><span class="op" id="5891796">)</span>&nbsp;<span class="ident" id="5891798"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5891800">.</span><span class="ident" id="5891801"><a href="/gostd/io/io.go.html#1423813">ReadSeeker</a></span>&nbsp;<span class="op" id="5891812">{</span>&nbsp;<span class="keyword" id="5891814">return</span>&nbsp;<span class="ident" id="5891821"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5891823">.</span><span class="ident" id="5891824"><a href="/gostd/io/io.go.html#1432455">NewSectionReader</a></span><span class="op" id="5891840">(</span><span class="ident" id="5891841"><a href="/gostd/debug/plan9obj/file.go.html#5891779">s</a></span><span class="op" id="5891842">.</span><span class="ident" id="5891843"><a href="/gostd/debug/plan9obj/file.go.html#5891446">sr</a></span><span class="op" id="5891845">,</span>&nbsp;<span class="num" id="5891847">0</span><span class="op" id="5891848">,</span>&nbsp;<span class="num" id="5891850">1</span><span class="op" id="5891851">&lt;&lt;</span><span class="num" id="5891853">63</span><span class="op" id="5891855">-</span><span class="num" id="5891856">1</span><span class="op" id="5891857">)</span>&nbsp;<span class="op" id="5891859">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5891862">//&nbsp;A&nbsp;Symbol&nbsp;represents&nbsp;an&nbsp;entry&nbsp;in&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;symbol&nbsp;table&nbsp;section.</span><br>
<span class="lineno">70</span><span class="keyword" id="5891934">type</span>&nbsp;<span class="ident" id="5891939">Sym</span>&nbsp;<span class="keyword" id="5891943">struct</span>&nbsp;<span class="op" id="5891950">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891953">Value</span>&nbsp;<span class="builtintype" id="5891959">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891967">Type</span>&nbsp;&nbsp;<span class="builtintype" id="5891973">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5891979">Name</span>&nbsp;&nbsp;<span class="builtintype" id="5891985">string</span><br>
<span class="lineno"></span><span class="op" id="5891992">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="5891995">/*<br>
<span class="lineno"></span>&nbsp;*&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;reader<br>
<span class="lineno"></span>&nbsp;*/</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="comment" id="5892026">//&nbsp;formatError&nbsp;is&nbsp;returned&nbsp;by&nbsp;some&nbsp;operations&nbsp;if&nbsp;the&nbsp;data&nbsp;does</span><br>
<span class="lineno"></span><span class="comment" id="5892089">//&nbsp;not&nbsp;have&nbsp;the&nbsp;correct&nbsp;format&nbsp;for&nbsp;an&nbsp;object&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="5892140">type</span>&nbsp;<span class="ident" id="5892145">formatError</span>&nbsp;<span class="keyword" id="5892157">struct</span>&nbsp;<span class="op" id="5892164">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892167">off</span>&nbsp;<span class="builtintype" id="5892171">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892176">msg</span>&nbsp;<span class="builtintype" id="5892180">string</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892188">val</span>&nbsp;<span class="keyword" id="5892192">interface</span><span class="op" id="5892201">{</span><span class="op" id="5892202">}</span><br>
<span class="lineno"></span><span class="op" id="5892204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5892207">func</span>&nbsp;<span class="op" id="5892212">(</span><span class="ident" id="5892213">e</span>&nbsp;<span class="op" id="5892215">*</span><span class="ident" id="5892216"><a href="/gostd/debug/plan9obj/file.go.html#5892145">formatError</a></span><span class="op" id="5892227">)</span>&nbsp;<span class="ident" id="5892229">Error</span><span class="op" id="5892234">(</span><span class="op" id="5892235">)</span>&nbsp;<span class="builtintype" id="5892237">string</span>&nbsp;<span class="op" id="5892244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892247">msg</span>&nbsp;<span class="op" id="5892251">:=</span>&nbsp;<span class="ident" id="5892254"><a href="/gostd/debug/plan9obj/file.go.html#5892213">e</a></span><span class="op" id="5892255">.</span><span class="ident" id="5892256"><a href="/gostd/debug/plan9obj/file.go.html#5892176">msg</a></span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892261">if</span>&nbsp;<span class="ident" id="5892264"><a href="/gostd/debug/plan9obj/file.go.html#5892213">e</a></span><span class="op" id="5892265">.</span><span class="ident" id="5892266"><a href="/gostd/debug/plan9obj/file.go.html#5892188">val</a></span>&nbsp;<span class="op" id="5892270">!=</span>&nbsp;<span class="builtintype" id="5892273">nil</span>&nbsp;<span class="op" id="5892277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892281"><a href="/gostd/debug/plan9obj/file.go.html#5892247">msg</a></span>&nbsp;<span class="op" id="5892285">+=</span>&nbsp;<span class="ident" id="5892288"><a href="/gostd/debug/plan9obj/file.go.html#5890516">fmt</a></span><span class="op" id="5892291">.</span><span class="ident" id="5892292"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5892299">(</span><span class="string" id="5892300">&#34;&nbsp;&#39;%v&#39;&#34;</span><span class="op" id="5892307">,</span>&nbsp;<span class="ident" id="5892309"><a href="/gostd/debug/plan9obj/file.go.html#5892213">e</a></span><span class="op" id="5892310">.</span><span class="ident" id="5892311"><a href="/gostd/debug/plan9obj/file.go.html#5892188">val</a></span><span class="op" id="5892314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5892317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892320"><a href="/gostd/debug/plan9obj/file.go.html#5892247">msg</a></span>&nbsp;<span class="op" id="5892324">+=</span>&nbsp;<span class="ident" id="5892327"><a href="/gostd/debug/plan9obj/file.go.html#5890516">fmt</a></span><span class="op" id="5892330">.</span><span class="ident" id="5892331"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="5892338">(</span><span class="string" id="5892339">&#34;&nbsp;in&nbsp;record&nbsp;at&nbsp;byte&nbsp;%#x&#34;</span><span class="op" id="5892363">,</span>&nbsp;<span class="ident" id="5892365"><a href="/gostd/debug/plan9obj/file.go.html#5892213">e</a></span><span class="op" id="5892366">.</span><span class="ident" id="5892367"><a href="/gostd/debug/plan9obj/file.go.html#5892167">off</a></span><span class="op" id="5892370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892373">return</span>&nbsp;<span class="ident" id="5892380"><a href="/gostd/debug/plan9obj/file.go.html#5892247">msg</a></span><br>
<span class="lineno">95</span><span class="op" id="5892384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5892387">//&nbsp;Open&nbsp;opens&nbsp;the&nbsp;named&nbsp;file&nbsp;using&nbsp;os.Open&nbsp;and&nbsp;prepares&nbsp;it&nbsp;for&nbsp;use&nbsp;as&nbsp;a&nbsp;Plan&nbsp;9&nbsp;a.out&nbsp;binary.</span><br>
<span class="lineno"></span><span class="keyword" id="5892480">func</span>&nbsp;<span class="ident" id="5892485">Open</span><span class="op" id="5892489">(</span><span class="ident" id="5892490">name</span>&nbsp;<span class="builtintype" id="5892495">string</span><span class="op" id="5892501">)</span>&nbsp;<span class="op" id="5892503">(</span><span class="op" id="5892504">*</span><span class="ident" id="5892505"><a href="/gostd/debug/plan9obj/file.go.html#5890790">File</a></span><span class="op" id="5892509">,</span>&nbsp;<span class="builtintype" id="5892511">error</span><span class="op" id="5892516">)</span>&nbsp;<span class="op" id="5892518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892521">f</span><span class="op" id="5892522">,</span>&nbsp;<span class="ident" id="5892524">err</span>&nbsp;<span class="op" id="5892528">:=</span>&nbsp;<span class="ident" id="5892531"><a href="/gostd/debug/plan9obj/file.go.html#5890529">os</a></span><span class="op" id="5892533">.</span><span class="ident" id="5892534"><a href="/gostd/os/file.go.html#2446863">Open</a></span><span class="op" id="5892538">(</span><span class="ident" id="5892539"><a href="/gostd/debug/plan9obj/file.go.html#5892490">name</a></span><span class="op" id="5892543">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892546">if</span>&nbsp;<span class="ident" id="5892549"><a href="/gostd/debug/plan9obj/file.go.html#5892524">err</a></span>&nbsp;<span class="op" id="5892553">!=</span>&nbsp;<span class="builtintype" id="5892556">nil</span>&nbsp;<span class="op" id="5892560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892564">return</span>&nbsp;<span class="builtintype" id="5892571">nil</span><span class="op" id="5892574">,</span>&nbsp;<span class="ident" id="5892576"><a href="/gostd/debug/plan9obj/file.go.html#5892524">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5892581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892584">ff</span><span class="op" id="5892586">,</span>&nbsp;<span class="ident" id="5892588"><a href="/gostd/debug/plan9obj/file.go.html#5892524">err</a></span>&nbsp;<span class="op" id="5892592">:=</span>&nbsp;<span class="ident" id="5892595"><a href="/gostd/debug/plan9obj/file.go.html#5893309">NewFile</a></span><span class="op" id="5892602">(</span><span class="ident" id="5892603"><a href="/gostd/debug/plan9obj/file.go.html#5892521">f</a></span><span class="op" id="5892604">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892607">if</span>&nbsp;<span class="ident" id="5892610"><a href="/gostd/debug/plan9obj/file.go.html#5892524">err</a></span>&nbsp;<span class="op" id="5892614">!=</span>&nbsp;<span class="builtintype" id="5892617">nil</span>&nbsp;<span class="op" id="5892621">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892625"><a href="/gostd/debug/plan9obj/file.go.html#5892521">f</a></span><span class="op" id="5892626">.</span><span class="ident" id="5892627"><a href="/gostd/os/file_unix.go.html#2454611">Close</a></span><span class="op" id="5892632">(</span><span class="op" id="5892633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892637">return</span>&nbsp;<span class="builtintype" id="5892644">nil</span><span class="op" id="5892647">,</span>&nbsp;<span class="ident" id="5892649"><a href="/gostd/debug/plan9obj/file.go.html#5892524">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5892654">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892657"><a href="/gostd/debug/plan9obj/file.go.html#5892584">ff</a></span><span class="op" id="5892659">.</span><span class="ident" id="5892660"><a href="/gostd/debug/plan9obj/file.go.html#5890838">closer</a></span>&nbsp;<span class="op" id="5892667">=</span>&nbsp;<span class="ident" id="5892669"><a href="/gostd/debug/plan9obj/file.go.html#5892521">f</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892672">return</span>&nbsp;<span class="ident" id="5892679"><a href="/gostd/debug/plan9obj/file.go.html#5892584">ff</a></span><span class="op" id="5892681">,</span>&nbsp;<span class="builtintype" id="5892683">nil</span><br>
<span class="lineno">110</span><span class="op" id="5892687">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5892690">//&nbsp;Close&nbsp;closes&nbsp;the&nbsp;File.</span><br>
<span class="lineno"></span><span class="comment" id="5892716">//&nbsp;If&nbsp;the&nbsp;File&nbsp;was&nbsp;created&nbsp;using&nbsp;NewFile&nbsp;directly&nbsp;instead&nbsp;of&nbsp;Open,</span><br>
<span class="lineno"></span><span class="comment" id="5892783">//&nbsp;Close&nbsp;has&nbsp;no&nbsp;effect.</span><br>
<span class="lineno">115</span><span class="keyword" id="5892807">func</span>&nbsp;<span class="op" id="5892812">(</span><span class="ident" id="5892813">f</span>&nbsp;<span class="op" id="5892815">*</span><span class="ident" id="5892816"><a href="/gostd/debug/plan9obj/file.go.html#5890790">File</a></span><span class="op" id="5892820">)</span>&nbsp;<span class="ident" id="5892822">Close</span><span class="op" id="5892827">(</span><span class="op" id="5892828">)</span>&nbsp;<span class="builtintype" id="5892830">error</span>&nbsp;<span class="op" id="5892836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892839">var</span>&nbsp;<span class="ident" id="5892843">err</span>&nbsp;<span class="builtintype" id="5892847">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892854">if</span>&nbsp;<span class="ident" id="5892857"><a href="/gostd/debug/plan9obj/file.go.html#5892813">f</a></span><span class="op" id="5892858">.</span><span class="ident" id="5892859"><a href="/gostd/debug/plan9obj/file.go.html#5890838">closer</a></span>&nbsp;<span class="op" id="5892866">!=</span>&nbsp;<span class="builtintype" id="5892869">nil</span>&nbsp;<span class="op" id="5892873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892877"><a href="/gostd/debug/plan9obj/file.go.html#5892843">err</a></span>&nbsp;<span class="op" id="5892881">=</span>&nbsp;<span class="ident" id="5892883"><a href="/gostd/debug/plan9obj/file.go.html#5892813">f</a></span><span class="op" id="5892884">.</span><span class="ident" id="5892885"><a href="/gostd/debug/plan9obj/file.go.html#5890838">closer</a></span><span class="op" id="5892891">.</span><span class="ident" id="5892892"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="5892897">(</span><span class="op" id="5892898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892902"><a href="/gostd/debug/plan9obj/file.go.html#5892813">f</a></span><span class="op" id="5892903">.</span><span class="ident" id="5892904"><a href="/gostd/debug/plan9obj/file.go.html#5890838">closer</a></span>&nbsp;<span class="op" id="5892911">=</span>&nbsp;<span class="builtintype" id="5892913">nil</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5892918">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5892921">return</span>&nbsp;<span class="ident" id="5892928"><a href="/gostd/debug/plan9obj/file.go.html#5892843">err</a></span><br>
<span class="lineno"></span><span class="op" id="5892932">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5892935">func</span>&nbsp;<span class="ident" id="5892940">parseMagic</span><span class="op" id="5892950">(</span><span class="ident" id="5892951">magic</span>&nbsp;<span class="op" id="5892957">[</span><span class="op" id="5892958">]</span><span class="builtintype" id="5892959">byte</span><span class="op" id="5892963">)</span>&nbsp;<span class="op" id="5892965">(</span><span class="builtintype" id="5892966">uint32</span><span class="op" id="5892972">,</span>&nbsp;<span class="builtintype" id="5892974">error</span><span class="op" id="5892979">)</span>&nbsp;<span class="op" id="5892981">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5892984">m</span>&nbsp;<span class="op" id="5892986">:=</span>&nbsp;<span class="ident" id="5892989"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5892995">.</span><span class="ident" id="5892996"><a href="/gostd/encoding/binary/binary.go.html#2987146">BigEndian</a></span><span class="op" id="5893005">.</span><span class="ident" id="5893006"><a href="/gostd/encoding/binary/binary.go.html#2988414">Uint32</a></span><span class="op" id="5893012">(</span><span class="ident" id="5893013"><a href="/gostd/debug/plan9obj/file.go.html#5892951">magic</a></span><span class="op" id="5893018">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893021">switch</span>&nbsp;<span class="ident" id="5893028"><a href="/gostd/debug/plan9obj/file.go.html#5892984">m</a></span>&nbsp;<span class="op" id="5893030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893033">case</span>&nbsp;<span class="ident" id="5893038"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897858">Magic386</a></span><span class="op" id="5893046">,</span>&nbsp;<span class="ident" id="5893048"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897888">MagicAMD64</a></span><span class="op" id="5893058">,</span>&nbsp;<span class="ident" id="5893060"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897928">MagicARM</a></span><span class="op" id="5893068">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893072">return</span>&nbsp;<span class="ident" id="5893079"><a href="/gostd/debug/plan9obj/file.go.html#5892984">m</a></span><span class="op" id="5893080">,</span>&nbsp;<span class="builtintype" id="5893082">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5893087">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893090">return</span>&nbsp;<span class="num" id="5893097">0</span><span class="op" id="5893098">,</span>&nbsp;<span class="op" id="5893100">&amp;</span><span class="ident" id="5893101"><a href="/gostd/debug/plan9obj/file.go.html#5892145">formatError</a></span><span class="op" id="5893112">{</span><span class="num" id="5893113">0</span><span class="op" id="5893114">,</span>&nbsp;<span class="string" id="5893116">&#34;bad&nbsp;magic&nbsp;number&#34;</span><span class="op" id="5893134">,</span>&nbsp;<span class="ident" id="5893136"><a href="/gostd/debug/plan9obj/file.go.html#5892951">magic</a></span><span class="op" id="5893141">}</span><br>
<span class="lineno"></span><span class="op" id="5893143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5893146">//&nbsp;NewFile&nbsp;creates&nbsp;a&nbsp;new&nbsp;File&nbsp;for&nbsp;accessing&nbsp;a&nbsp;Plan&nbsp;9&nbsp;binary&nbsp;in&nbsp;an&nbsp;underlying&nbsp;reader.</span><br>
<span class="lineno"></span><span class="comment" id="5893231">//&nbsp;The&nbsp;Plan&nbsp;9&nbsp;binary&nbsp;is&nbsp;expected&nbsp;to&nbsp;start&nbsp;at&nbsp;position&nbsp;0&nbsp;in&nbsp;the&nbsp;ReaderAt.</span><br>
<span class="lineno">135</span><span class="keyword" id="5893304">func</span>&nbsp;<span class="ident" id="5893309">NewFile</span><span class="op" id="5893316">(</span><span class="ident" id="5893317">r</span>&nbsp;<span class="ident" id="5893319"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5893321">.</span><span class="ident" id="5893322"><a href="/gostd/io/io.go.html#1425985">ReaderAt</a></span><span class="op" id="5893330">)</span>&nbsp;<span class="op" id="5893332">(</span><span class="op" id="5893333">*</span><span class="ident" id="5893334"><a href="/gostd/debug/plan9obj/file.go.html#5890790">File</a></span><span class="op" id="5893338">,</span>&nbsp;<span class="builtintype" id="5893340">error</span><span class="op" id="5893345">)</span>&nbsp;<span class="op" id="5893347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893350">sr</span>&nbsp;<span class="op" id="5893353">:=</span>&nbsp;<span class="ident" id="5893356"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5893358">.</span><span class="ident" id="5893359"><a href="/gostd/io/io.go.html#1432455">NewSectionReader</a></span><span class="op" id="5893375">(</span><span class="ident" id="5893376"><a href="/gostd/debug/plan9obj/file.go.html#5893317">r</a></span><span class="op" id="5893377">,</span>&nbsp;<span class="num" id="5893379">0</span><span class="op" id="5893380">,</span>&nbsp;<span class="num" id="5893382">1</span><span class="op" id="5893383">&lt;&lt;</span><span class="num" id="5893385">63</span><span class="op" id="5893387">-</span><span class="num" id="5893388">1</span><span class="op" id="5893389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5893392">//&nbsp;Read&nbsp;and&nbsp;decode&nbsp;Plan&nbsp;9&nbsp;magic</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893425">var</span>&nbsp;<span class="ident" id="5893429">magic</span>&nbsp;<span class="op" id="5893435">[</span><span class="num" id="5893436">4</span><span class="op" id="5893437">]</span><span class="builtintype" id="5893438">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893444">if</span>&nbsp;<span class="ident" id="5893447">_</span><span class="op" id="5893448">,</span>&nbsp;<span class="ident" id="5893450">err</span>&nbsp;<span class="op" id="5893454">:=</span>&nbsp;<span class="ident" id="5893457"><a href="/gostd/debug/plan9obj/file.go.html#5893317">r</a></span><span class="op" id="5893458">.</span><span class="ident" id="5893459"><a href="/gostd/io/io.go.html#1426007">ReadAt</a></span><span class="op" id="5893465">(</span><span class="ident" id="5893466"><a href="/gostd/debug/plan9obj/file.go.html#5893429">magic</a></span><span class="op" id="5893471">[</span><span class="op" id="5893472">:</span><span class="op" id="5893473">]</span><span class="op" id="5893474">,</span>&nbsp;<span class="num" id="5893476">0</span><span class="op" id="5893477">)</span><span class="op" id="5893478">;</span>&nbsp;<span class="ident" id="5893480"><a href="/gostd/debug/plan9obj/file.go.html#5893450">err</a></span>&nbsp;<span class="op" id="5893484">!=</span>&nbsp;<span class="builtintype" id="5893487">nil</span>&nbsp;<span class="op" id="5893491">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893495">return</span>&nbsp;<span class="builtintype" id="5893502">nil</span><span class="op" id="5893505">,</span>&nbsp;<span class="ident" id="5893507"><a href="/gostd/debug/plan9obj/file.go.html#5893450">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5893512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893515">_</span><span class="op" id="5893516">,</span>&nbsp;<span class="ident" id="5893518">err</span>&nbsp;<span class="op" id="5893522">:=</span>&nbsp;<span class="ident" id="5893525"><a href="/gostd/debug/plan9obj/file.go.html#5892940">parseMagic</a></span><span class="op" id="5893535">(</span><span class="ident" id="5893536"><a href="/gostd/debug/plan9obj/file.go.html#5893429">magic</a></span><span class="op" id="5893541">[</span><span class="op" id="5893542">:</span><span class="op" id="5893543">]</span><span class="op" id="5893544">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893547">if</span>&nbsp;<span class="ident" id="5893550"><a href="/gostd/debug/plan9obj/file.go.html#5893518">err</a></span>&nbsp;<span class="op" id="5893554">!=</span>&nbsp;<span class="builtintype" id="5893557">nil</span>&nbsp;<span class="op" id="5893561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893565">return</span>&nbsp;<span class="builtintype" id="5893572">nil</span><span class="op" id="5893575">,</span>&nbsp;<span class="ident" id="5893577"><a href="/gostd/debug/plan9obj/file.go.html#5893518">err</a></span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5893582">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893586">ph</span>&nbsp;<span class="op" id="5893589">:=</span>&nbsp;<span class="builtinfunc" id="5893592">new</span><span class="op" id="5893595">(</span><span class="ident" id="5893596"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897359">prog</a></span><span class="op" id="5893600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893603">if</span>&nbsp;<span class="ident" id="5893606">err</span>&nbsp;<span class="op" id="5893610">:=</span>&nbsp;<span class="ident" id="5893613"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5893619">.</span><span class="ident" id="5893620"><a href="/gostd/encoding/binary/binary.go.html#2989675">Read</a></span><span class="op" id="5893624">(</span><span class="ident" id="5893625"><a href="/gostd/debug/plan9obj/file.go.html#5893350">sr</a></span><span class="op" id="5893627">,</span>&nbsp;<span class="ident" id="5893629"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5893635">.</span><span class="ident" id="5893636"><a href="/gostd/encoding/binary/binary.go.html#2987146">BigEndian</a></span><span class="op" id="5893645">,</span>&nbsp;<span class="ident" id="5893647"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5893649">)</span><span class="op" id="5893650">;</span>&nbsp;<span class="ident" id="5893652"><a href="/gostd/debug/plan9obj/file.go.html#5893606">err</a></span>&nbsp;<span class="op" id="5893656">!=</span>&nbsp;<span class="builtintype" id="5893659">nil</span>&nbsp;<span class="op" id="5893663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893667">return</span>&nbsp;<span class="builtintype" id="5893674">nil</span><span class="op" id="5893677">,</span>&nbsp;<span class="ident" id="5893679"><a href="/gostd/debug/plan9obj/file.go.html#5893606">err</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5893684">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893688">f</span>&nbsp;<span class="op" id="5893690">:=</span>&nbsp;<span class="op" id="5893693">&amp;</span><span class="ident" id="5893694"><a href="/gostd/debug/plan9obj/file.go.html#5890790">File</a></span><span class="op" id="5893698">{</span><span class="ident" id="5893699"><a href="/gostd/debug/plan9obj/file.go.html#5890805">FileHeader</a></span><span class="op" id="5893709">:</span>&nbsp;<span class="ident" id="5893711"><a href="/gostd/debug/plan9obj/file.go.html#5890597">FileHeader</a></span><span class="op" id="5893721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893725"><a href="/gostd/debug/plan9obj/file.go.html#5890618">Magic</a></span><span class="op" id="5893730">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893738"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5893740">.</span><span class="ident" id="5893741"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897374">Magic</a></span><span class="op" id="5893746">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893750"><a href="/gostd/debug/plan9obj/file.go.html#5890638">Bss</a></span><span class="op" id="5893753">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893763"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5893765">.</span><span class="ident" id="5893766"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897493">Bss</a></span><span class="op" id="5893769">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893773"><a href="/gostd/debug/plan9obj/file.go.html#5890658">Entry</a></span><span class="op" id="5893778">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5893786">uint64</span><span class="op" id="5893792">(</span><span class="ident" id="5893793"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5893795">.</span><span class="ident" id="5893796"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897581">Entry</a></span><span class="op" id="5893801">)</span><span class="op" id="5893802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893806"><a href="/gostd/debug/plan9obj/file.go.html#5890678">PtrSize</a></span><span class="op" id="5893813">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="5893819">4</span><span class="op" id="5893820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893824"><a href="/gostd/debug/plan9obj/file.go.html#5890695">LoadAddress</a></span><span class="op" id="5893835">:</span>&nbsp;<span class="num" id="5893837">0x1000</span><span class="op" id="5893843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893847"><a href="/gostd/debug/plan9obj/file.go.html#5890715">HdrSize</a></span><span class="op" id="5893854">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="5893860">4</span>&nbsp;<span class="op" id="5893862">*</span>&nbsp;<span class="num" id="5893864">8</span><span class="op" id="5893865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5893868">}</span><span class="op" id="5893869">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893873">if</span>&nbsp;<span class="ident" id="5893876"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5893878">.</span><span class="ident" id="5893879"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897374">Magic</a></span><span class="op" id="5893884">&amp;</span><span class="ident" id="5893885"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897813">Magic64</a></span>&nbsp;<span class="op" id="5893893">!=</span>&nbsp;<span class="num" id="5893896">0</span>&nbsp;<span class="op" id="5893898">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893902">if</span>&nbsp;<span class="ident" id="5893905">err</span>&nbsp;<span class="op" id="5893909">:=</span>&nbsp;<span class="ident" id="5893912"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5893918">.</span><span class="ident" id="5893919"><a href="/gostd/encoding/binary/binary.go.html#2989675">Read</a></span><span class="op" id="5893923">(</span><span class="ident" id="5893924"><a href="/gostd/debug/plan9obj/file.go.html#5893350">sr</a></span><span class="op" id="5893926">,</span>&nbsp;<span class="ident" id="5893928"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5893934">.</span><span class="ident" id="5893935"><a href="/gostd/encoding/binary/binary.go.html#2987146">BigEndian</a></span><span class="op" id="5893944">,</span>&nbsp;<span class="op" id="5893946">&amp;</span><span class="ident" id="5893947"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5893948">.</span><span class="ident" id="5893949"><a href="/gostd/debug/plan9obj/file.go.html#5890658">Entry</a></span><span class="op" id="5893954">)</span><span class="op" id="5893955">;</span>&nbsp;<span class="ident" id="5893957"><a href="/gostd/debug/plan9obj/file.go.html#5893905">err</a></span>&nbsp;<span class="op" id="5893961">!=</span>&nbsp;<span class="builtintype" id="5893964">nil</span>&nbsp;<span class="op" id="5893968">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5893973">return</span>&nbsp;<span class="builtintype" id="5893980">nil</span><span class="op" id="5893983">,</span>&nbsp;<span class="ident" id="5893985"><a href="/gostd/debug/plan9obj/file.go.html#5893905">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5893991">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5893995"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5893996">.</span><span class="ident" id="5893997"><a href="/gostd/debug/plan9obj/file.go.html#5890678">PtrSize</a></span>&nbsp;<span class="op" id="5894005">=</span>&nbsp;<span class="num" id="5894007">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894011"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5894012">.</span><span class="ident" id="5894013"><a href="/gostd/debug/plan9obj/file.go.html#5890695">LoadAddress</a></span>&nbsp;<span class="op" id="5894025">=</span>&nbsp;<span class="num" id="5894027">0x200000</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894038"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5894039">.</span><span class="ident" id="5894040"><a href="/gostd/debug/plan9obj/file.go.html#5890715">HdrSize</a></span>&nbsp;<span class="op" id="5894048">+=</span>&nbsp;<span class="num" id="5894051">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894058">var</span>&nbsp;<span class="ident" id="5894062">sects</span>&nbsp;<span class="op" id="5894068">=</span>&nbsp;<span class="op" id="5894070">[</span><span class="op" id="5894071">]</span><span class="keyword" id="5894072">struct</span>&nbsp;<span class="op" id="5894079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894083">name</span>&nbsp;<span class="builtintype" id="5894088">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894097">size</span>&nbsp;<span class="builtintype" id="5894102">uint32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894110">}</span><span class="op" id="5894111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894115">{</span><span class="string" id="5894116">&#34;text&#34;</span><span class="op" id="5894122">,</span>&nbsp;<span class="ident" id="5894124"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5894126">.</span><span class="ident" id="5894127"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897407">Text</a></span><span class="op" id="5894131">}</span><span class="op" id="5894132">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894136">{</span><span class="string" id="5894137">&#34;data&#34;</span><span class="op" id="5894143">,</span>&nbsp;<span class="ident" id="5894145"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5894147">.</span><span class="ident" id="5894148"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897448">Data</a></span><span class="op" id="5894152">}</span><span class="op" id="5894153">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894157">{</span><span class="string" id="5894158">&#34;syms&#34;</span><span class="op" id="5894164">,</span>&nbsp;<span class="ident" id="5894166"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5894168">.</span><span class="ident" id="5894169"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897540">Syms</a></span><span class="op" id="5894173">}</span><span class="op" id="5894174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894178">{</span><span class="string" id="5894179">&#34;spsz&#34;</span><span class="op" id="5894185">,</span>&nbsp;<span class="ident" id="5894187"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5894189">.</span><span class="ident" id="5894190"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897613">Spsz</a></span><span class="op" id="5894194">}</span><span class="op" id="5894195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894199">{</span><span class="string" id="5894200">&#34;pcsz&#34;</span><span class="op" id="5894206">,</span>&nbsp;<span class="ident" id="5894208"><a href="/gostd/debug/plan9obj/file.go.html#5893586">ph</a></span><span class="op" id="5894210">.</span><span class="ident" id="5894211"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897660">Pcsz</a></span><span class="op" id="5894215">}</span><span class="op" id="5894216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894219">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894223"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5894224">.</span><span class="ident" id="5894225"><a href="/gostd/debug/plan9obj/file.go.html#5890817">Sections</a></span>&nbsp;<span class="op" id="5894234">=</span>&nbsp;<span class="builtinfunc" id="5894236">make</span><span class="op" id="5894240">(</span><span class="op" id="5894241">[</span><span class="op" id="5894242">]</span><span class="op" id="5894243">*</span><span class="ident" id="5894244"><a href="/gostd/debug/plan9obj/file.go.html#5891164">Section</a></span><span class="op" id="5894251">,</span>&nbsp;<span class="num" id="5894253">5</span><span class="op" id="5894254">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894258">off</span>&nbsp;<span class="op" id="5894262">:=</span>&nbsp;<span class="builtintype" id="5894265">uint32</span><span class="op" id="5894271">(</span><span class="ident" id="5894272"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5894273">.</span><span class="ident" id="5894274"><a href="/gostd/debug/plan9obj/file.go.html#5890715">HdrSize</a></span><span class="op" id="5894281">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894285">for</span>&nbsp;<span class="ident" id="5894289">i</span><span class="op" id="5894290">,</span>&nbsp;<span class="ident" id="5894292">sect</span>&nbsp;<span class="op" id="5894297">:=</span>&nbsp;<span class="keyword" id="5894300">range</span>&nbsp;<span class="ident" id="5894306"><a href="/gostd/debug/plan9obj/file.go.html#5894062">sects</a></span>&nbsp;<span class="op" id="5894312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894316">s</span>&nbsp;<span class="op" id="5894318">:=</span>&nbsp;<span class="builtinfunc" id="5894321">new</span><span class="op" id="5894324">(</span><span class="ident" id="5894325"><a href="/gostd/debug/plan9obj/file.go.html#5891164">Section</a></span><span class="op" id="5894332">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894336"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><span class="op" id="5894337">.</span><span class="ident" id="5894338"><a href="/gostd/debug/plan9obj/file.go.html#5891182">SectionHeader</a></span>&nbsp;<span class="op" id="5894352">=</span>&nbsp;<span class="ident" id="5894354"><a href="/gostd/debug/plan9obj/file.go.html#5891023">SectionHeader</a></span><span class="op" id="5894367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894372"><a href="/gostd/debug/plan9obj/file.go.html#5891047">Name</a></span><span class="op" id="5894376">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5894380"><a href="/gostd/debug/plan9obj/file.go.html#5894292">sect</a></span><span class="op" id="5894384">.</span><span class="ident" id="5894385"><a href="/gostd/debug/plan9obj/file.go.html#5894083">name</a></span><span class="op" id="5894389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894394"><a href="/gostd/debug/plan9obj/file.go.html#5891062">Size</a></span><span class="op" id="5894398">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5894402"><a href="/gostd/debug/plan9obj/file.go.html#5894292">sect</a></span><span class="op" id="5894406">.</span><span class="ident" id="5894407"><a href="/gostd/debug/plan9obj/file.go.html#5894097">size</a></span><span class="op" id="5894411">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894416"><a href="/gostd/debug/plan9obj/file.go.html#5891077">Offset</a></span><span class="op" id="5894422">:</span>&nbsp;<span class="ident" id="5894424"><a href="/gostd/debug/plan9obj/file.go.html#5894258">off</a></span><span class="op" id="5894427">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894435"><a href="/gostd/debug/plan9obj/file.go.html#5894258">off</a></span>&nbsp;<span class="op" id="5894439">+=</span>&nbsp;<span class="ident" id="5894442"><a href="/gostd/debug/plan9obj/file.go.html#5894292">sect</a></span><span class="op" id="5894446">.</span><span class="ident" id="5894447"><a href="/gostd/debug/plan9obj/file.go.html#5894097">size</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894454"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><span class="op" id="5894455">.</span><span class="ident" id="5894456"><a href="/gostd/debug/plan9obj/file.go.html#5891446">sr</a></span>&nbsp;<span class="op" id="5894459">=</span>&nbsp;<span class="ident" id="5894461"><a href="/gostd/debug/plan9obj/file.go.html#5890523">io</a></span><span class="op" id="5894463">.</span><span class="ident" id="5894464"><a href="/gostd/io/io.go.html#1432455">NewSectionReader</a></span><span class="op" id="5894480">(</span><span class="ident" id="5894481"><a href="/gostd/debug/plan9obj/file.go.html#5893317">r</a></span><span class="op" id="5894482">,</span>&nbsp;<span class="builtintype" id="5894484">int64</span><span class="op" id="5894489">(</span><span class="ident" id="5894490"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><span class="op" id="5894491">.</span><span class="ident" id="5894492"><a href="/gostd/debug/plan9obj/file.go.html#5891077">Offset</a></span><span class="op" id="5894498">)</span><span class="op" id="5894499">,</span>&nbsp;<span class="builtintype" id="5894501">int64</span><span class="op" id="5894506">(</span><span class="ident" id="5894507"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><span class="op" id="5894508">.</span><span class="ident" id="5894509"><a href="/gostd/debug/plan9obj/file.go.html#5891062">Size</a></span><span class="op" id="5894513">)</span><span class="op" id="5894514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894518"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><span class="op" id="5894519">.</span><span class="ident" id="5894520"><a href="/gostd/debug/plan9obj/file.go.html#5891433">ReaderAt</a></span>&nbsp;<span class="op" id="5894529">=</span>&nbsp;<span class="ident" id="5894531"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><span class="op" id="5894532">.</span><span class="ident" id="5894533"><a href="/gostd/debug/plan9obj/file.go.html#5891446">sr</a></span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894538"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5894539">.</span><span class="ident" id="5894540"><a href="/gostd/debug/plan9obj/file.go.html#5890817">Sections</a></span><span class="op" id="5894548">[</span><span class="ident" id="5894549"><a href="/gostd/debug/plan9obj/file.go.html#5894289">i</a></span><span class="op" id="5894550">]</span>&nbsp;<span class="op" id="5894552">=</span>&nbsp;<span class="ident" id="5894554"><a href="/gostd/debug/plan9obj/file.go.html#5894316">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894557">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894561">return</span>&nbsp;<span class="ident" id="5894568"><a href="/gostd/debug/plan9obj/file.go.html#5893688">f</a></span><span class="op" id="5894569">,</span>&nbsp;<span class="builtintype" id="5894571">nil</span><br>
<span class="lineno"></span><span class="op" id="5894575">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="5894578">func</span>&nbsp;<span class="ident" id="5894583">walksymtab</span><span class="op" id="5894593">(</span><span class="ident" id="5894594">data</span>&nbsp;<span class="op" id="5894599">[</span><span class="op" id="5894600">]</span><span class="builtintype" id="5894601">byte</span><span class="op" id="5894605">,</span>&nbsp;<span class="ident" id="5894607">ptrsz</span>&nbsp;<span class="builtintype" id="5894613">int</span><span class="op" id="5894616">,</span>&nbsp;<span class="ident" id="5894618">fn</span>&nbsp;<span class="keyword" id="5894621">func</span><span class="op" id="5894625">(</span><span class="ident" id="5894626"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897748">sym</a></span><span class="op" id="5894629">)</span>&nbsp;<span class="builtintype" id="5894631">error</span><span class="op" id="5894636">)</span>&nbsp;<span class="builtintype" id="5894638">error</span>&nbsp;<span class="op" id="5894644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894647">var</span>&nbsp;<span class="ident" id="5894651">order</span>&nbsp;<span class="ident" id="5894657"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5894663">.</span><span class="ident" id="5894664"><a href="/gostd/encoding/binary/binary.go.html#2986793">ByteOrder</a></span>&nbsp;<span class="op" id="5894674">=</span>&nbsp;<span class="ident" id="5894676"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5894682">.</span><span class="ident" id="5894683"><a href="/gostd/encoding/binary/binary.go.html#2987146">BigEndian</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894694">var</span>&nbsp;<span class="ident" id="5894698">s</span>&nbsp;<span class="ident" id="5894700"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897748">sym</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894705">p</span>&nbsp;<span class="op" id="5894707">:=</span>&nbsp;<span class="ident" id="5894710"><a href="/gostd/debug/plan9obj/file.go.html#5894594">data</a></span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894716">for</span>&nbsp;<span class="builtinfunc" id="5894720">len</span><span class="op" id="5894723">(</span><span class="ident" id="5894724"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5894725">)</span>&nbsp;<span class="op" id="5894727">&gt;=</span>&nbsp;<span class="num" id="5894730">4</span>&nbsp;<span class="op" id="5894732">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5894736">//&nbsp;Symbol&nbsp;type,&nbsp;value.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894761">if</span>&nbsp;<span class="builtinfunc" id="5894764">len</span><span class="op" id="5894767">(</span><span class="ident" id="5894768"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5894769">)</span>&nbsp;<span class="op" id="5894771">&lt;</span>&nbsp;<span class="ident" id="5894773"><a href="/gostd/debug/plan9obj/file.go.html#5894607">ptrsz</a></span>&nbsp;<span class="op" id="5894779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894784">return</span>&nbsp;<span class="op" id="5894791">&amp;</span><span class="ident" id="5894792"><a href="/gostd/debug/plan9obj/file.go.html#5892145">formatError</a></span><span class="op" id="5894803">{</span><span class="builtinfunc" id="5894804">len</span><span class="op" id="5894807">(</span><span class="ident" id="5894808"><a href="/gostd/debug/plan9obj/file.go.html#5894594">data</a></span><span class="op" id="5894812">)</span><span class="op" id="5894813">,</span>&nbsp;<span class="string" id="5894815">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5894831">,</span>&nbsp;<span class="builtintype" id="5894833">nil</span><span class="op" id="5894836">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894840">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5894844">//&nbsp;fixed-width&nbsp;value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5894867">if</span>&nbsp;<span class="ident" id="5894870"><a href="/gostd/debug/plan9obj/file.go.html#5894607">ptrsz</a></span>&nbsp;<span class="op" id="5894876">==</span>&nbsp;<span class="num" id="5894879">8</span>&nbsp;<span class="op" id="5894881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894886"><a href="/gostd/debug/plan9obj/file.go.html#5894698">s</a></span><span class="op" id="5894887">.</span><span class="ident" id="5894888"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897762">value</a></span>&nbsp;<span class="op" id="5894894">=</span>&nbsp;<span class="ident" id="5894896"><a href="/gostd/debug/plan9obj/file.go.html#5894651">order</a></span><span class="op" id="5894901">.</span><span class="ident" id="5894902"><a href="/gostd/encoding/binary/binary.go.html#2986862">Uint64</a></span><span class="op" id="5894908">(</span><span class="ident" id="5894909"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5894910">[</span><span class="num" id="5894911">0</span><span class="op" id="5894912">:</span><span class="num" id="5894913">8</span><span class="op" id="5894914">]</span><span class="op" id="5894915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894920"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span>&nbsp;<span class="op" id="5894922">=</span>&nbsp;<span class="ident" id="5894924"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5894925">[</span><span class="num" id="5894926">8</span><span class="op" id="5894927">:</span><span class="op" id="5894928">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894932">}</span>&nbsp;<span class="keyword" id="5894934">else</span>&nbsp;<span class="op" id="5894939">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894944"><a href="/gostd/debug/plan9obj/file.go.html#5894698">s</a></span><span class="op" id="5894945">.</span><span class="ident" id="5894946"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897762">value</a></span>&nbsp;<span class="op" id="5894952">=</span>&nbsp;<span class="builtintype" id="5894954">uint64</span><span class="op" id="5894960">(</span><span class="ident" id="5894961"><a href="/gostd/debug/plan9obj/file.go.html#5894651">order</a></span><span class="op" id="5894966">.</span><span class="ident" id="5894967"><a href="/gostd/encoding/binary/binary.go.html#2986839">Uint32</a></span><span class="op" id="5894973">(</span><span class="ident" id="5894974"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5894975">[</span><span class="num" id="5894976">0</span><span class="op" id="5894977">:</span><span class="num" id="5894978">4</span><span class="op" id="5894979">]</span><span class="op" id="5894980">)</span><span class="op" id="5894981">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5894986"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span>&nbsp;<span class="op" id="5894988">=</span>&nbsp;<span class="ident" id="5894990"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5894991">[</span><span class="num" id="5894992">4</span><span class="op" id="5894993">:</span><span class="op" id="5894994">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5894998">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895003">var</span>&nbsp;<span class="ident" id="5895007">typ</span>&nbsp;<span class="builtintype" id="5895011">byte</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895018"><a href="/gostd/debug/plan9obj/file.go.html#5895007">typ</a></span>&nbsp;<span class="op" id="5895022">=</span>&nbsp;<span class="ident" id="5895024"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895025">[</span><span class="num" id="5895026">0</span><span class="op" id="5895027">]</span>&nbsp;<span class="op" id="5895029">&amp;</span>&nbsp;<span class="num" id="5895031">0x7F</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895038"><a href="/gostd/debug/plan9obj/file.go.html#5894698">s</a></span><span class="op" id="5895039">.</span><span class="ident" id="5895040"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897776">typ</a></span>&nbsp;<span class="op" id="5895044">=</span>&nbsp;<span class="ident" id="5895046"><a href="/gostd/debug/plan9obj/file.go.html#5895007">typ</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895052"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span>&nbsp;<span class="op" id="5895054">=</span>&nbsp;<span class="ident" id="5895056"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895057">[</span><span class="num" id="5895058">1</span><span class="op" id="5895059">:</span><span class="op" id="5895060">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5895065">//&nbsp;Name.</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895076">var</span>&nbsp;<span class="ident" id="5895080">i</span>&nbsp;<span class="builtintype" id="5895082">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895088">var</span>&nbsp;<span class="ident" id="5895092">nnul</span>&nbsp;<span class="builtintype" id="5895097">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895103">for</span>&nbsp;<span class="ident" id="5895107"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span>&nbsp;<span class="op" id="5895109">=</span>&nbsp;<span class="num" id="5895111">0</span><span class="op" id="5895112">;</span>&nbsp;<span class="ident" id="5895114"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span>&nbsp;<span class="op" id="5895116">&lt;</span>&nbsp;<span class="builtinfunc" id="5895118">len</span><span class="op" id="5895121">(</span><span class="ident" id="5895122"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895123">)</span><span class="op" id="5895124">;</span>&nbsp;<span class="ident" id="5895126"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895127">++</span>&nbsp;<span class="op" id="5895130">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895135">if</span>&nbsp;<span class="ident" id="5895138"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895139">[</span><span class="ident" id="5895140"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895141">]</span>&nbsp;<span class="op" id="5895143">==</span>&nbsp;<span class="num" id="5895146">0</span>&nbsp;<span class="op" id="5895148">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895154"><a href="/gostd/debug/plan9obj/file.go.html#5895092">nnul</a></span>&nbsp;<span class="op" id="5895159">=</span>&nbsp;<span class="num" id="5895161">1</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895167">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895176">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895184">switch</span>&nbsp;<span class="ident" id="5895191"><a href="/gostd/debug/plan9obj/file.go.html#5895007">typ</a></span>&nbsp;<span class="op" id="5895195">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895199">case</span>&nbsp;<span class="string" id="5895204">&#39;z&#39;</span><span class="op" id="5895207">,</span>&nbsp;<span class="string" id="5895209">&#39;Z&#39;</span><span class="op" id="5895212">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895217"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span>&nbsp;<span class="op" id="5895219">=</span>&nbsp;<span class="ident" id="5895221"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895222">[</span><span class="ident" id="5895223"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895224">+</span><span class="ident" id="5895225"><a href="/gostd/debug/plan9obj/file.go.html#5895092">nnul</a></span><span class="op" id="5895229">:</span><span class="op" id="5895230">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895235">for</span>&nbsp;<span class="ident" id="5895239"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span>&nbsp;<span class="op" id="5895241">=</span>&nbsp;<span class="num" id="5895243">0</span><span class="op" id="5895244">;</span>&nbsp;<span class="ident" id="5895246"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895247">+</span><span class="num" id="5895248">2</span>&nbsp;<span class="op" id="5895250">&lt;=</span>&nbsp;<span class="builtinfunc" id="5895253">len</span><span class="op" id="5895256">(</span><span class="ident" id="5895257"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895258">)</span><span class="op" id="5895259">;</span>&nbsp;<span class="ident" id="5895261"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span>&nbsp;<span class="op" id="5895263">+=</span>&nbsp;<span class="num" id="5895266">2</span>&nbsp;<span class="op" id="5895268">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895274">if</span>&nbsp;<span class="ident" id="5895277"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895278">[</span><span class="ident" id="5895279"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895280">]</span>&nbsp;<span class="op" id="5895282">==</span>&nbsp;<span class="num" id="5895285">0</span>&nbsp;<span class="op" id="5895287">&amp;&amp;</span>&nbsp;<span class="ident" id="5895290"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895291">[</span><span class="ident" id="5895292"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895293">+</span><span class="num" id="5895294">1</span><span class="op" id="5895295">]</span>&nbsp;<span class="op" id="5895297">==</span>&nbsp;<span class="num" id="5895300">0</span>&nbsp;<span class="op" id="5895302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895309"><a href="/gostd/debug/plan9obj/file.go.html#5895092">nnul</a></span>&nbsp;<span class="op" id="5895314">=</span>&nbsp;<span class="num" id="5895316">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895323">break</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895338">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895342">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895346">if</span>&nbsp;<span class="builtinfunc" id="5895349">len</span><span class="op" id="5895352">(</span><span class="ident" id="5895353"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895354">)</span>&nbsp;<span class="op" id="5895356">&lt;</span>&nbsp;<span class="ident" id="5895358"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895359">+</span><span class="ident" id="5895360"><a href="/gostd/debug/plan9obj/file.go.html#5895092">nnul</a></span>&nbsp;<span class="op" id="5895365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895370">return</span>&nbsp;<span class="op" id="5895377">&amp;</span><span class="ident" id="5895378"><a href="/gostd/debug/plan9obj/file.go.html#5892145">formatError</a></span><span class="op" id="5895389">{</span><span class="builtinfunc" id="5895390">len</span><span class="op" id="5895393">(</span><span class="ident" id="5895394"><a href="/gostd/debug/plan9obj/file.go.html#5894594">data</a></span><span class="op" id="5895398">)</span><span class="op" id="5895399">,</span>&nbsp;<span class="string" id="5895401">&#34;unexpected&nbsp;EOF&#34;</span><span class="op" id="5895417">,</span>&nbsp;<span class="builtintype" id="5895419">nil</span><span class="op" id="5895422">}</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895430"><a href="/gostd/debug/plan9obj/file.go.html#5894698">s</a></span><span class="op" id="5895431">.</span><span class="ident" id="5895432"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897788">name</a></span>&nbsp;<span class="op" id="5895437">=</span>&nbsp;<span class="ident" id="5895439"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895440">[</span><span class="num" id="5895441">0</span><span class="op" id="5895442">:</span><span class="ident" id="5895443"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895444">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895448"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span>&nbsp;<span class="op" id="5895450">+=</span>&nbsp;<span class="ident" id="5895453"><a href="/gostd/debug/plan9obj/file.go.html#5895092">nnul</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895460"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span>&nbsp;<span class="op" id="5895462">=</span>&nbsp;<span class="ident" id="5895464"><a href="/gostd/debug/plan9obj/file.go.html#5894705">p</a></span><span class="op" id="5895465">[</span><span class="ident" id="5895466"><a href="/gostd/debug/plan9obj/file.go.html#5895080">i</a></span><span class="op" id="5895467">:</span><span class="op" id="5895468">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895473"><a href="/gostd/debug/plan9obj/file.go.html#5894618">fn</a></span><span class="op" id="5895475">(</span><span class="ident" id="5895476"><a href="/gostd/debug/plan9obj/file.go.html#5894698">s</a></span><span class="op" id="5895477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895480">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895483">return</span>&nbsp;<span class="builtintype" id="5895490">nil</span><br>
<span class="lineno"></span><span class="op" id="5895494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="5895497">//&nbsp;NewTable&nbsp;decodes&nbsp;the&nbsp;Go&nbsp;symbol&nbsp;table&nbsp;in&nbsp;data,</span><br>
<span class="lineno"></span><span class="comment" id="5895546">//&nbsp;returning&nbsp;an&nbsp;in-memory&nbsp;representation.</span><br>
<span class="lineno"></span><span class="keyword" id="5895588">func</span>&nbsp;<span class="ident" id="5895593">newTable</span><span class="op" id="5895601">(</span><span class="ident" id="5895602">symtab</span>&nbsp;<span class="op" id="5895609">[</span><span class="op" id="5895610">]</span><span class="builtintype" id="5895611">byte</span><span class="op" id="5895615">,</span>&nbsp;<span class="ident" id="5895617">ptrsz</span>&nbsp;<span class="builtintype" id="5895623">int</span><span class="op" id="5895626">)</span>&nbsp;<span class="op" id="5895628">(</span><span class="op" id="5895629">[</span><span class="op" id="5895630">]</span><span class="ident" id="5895631"><a href="/gostd/debug/plan9obj/file.go.html#5891939">Sym</a></span><span class="op" id="5895634">,</span>&nbsp;<span class="builtintype" id="5895636">error</span><span class="op" id="5895641">)</span>&nbsp;<span class="op" id="5895643">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895646">var</span>&nbsp;<span class="ident" id="5895650">n</span>&nbsp;<span class="builtintype" id="5895652">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895657">err</span>&nbsp;<span class="op" id="5895661">:=</span>&nbsp;<span class="ident" id="5895664"><a href="/gostd/debug/plan9obj/file.go.html#5894583">walksymtab</a></span><span class="op" id="5895674">(</span><span class="ident" id="5895675"><a href="/gostd/debug/plan9obj/file.go.html#5895602">symtab</a></span><span class="op" id="5895681">,</span>&nbsp;<span class="ident" id="5895683"><a href="/gostd/debug/plan9obj/file.go.html#5895617">ptrsz</a></span><span class="op" id="5895688">,</span>&nbsp;<span class="keyword" id="5895690">func</span><span class="op" id="5895694">(</span><span class="ident" id="5895695">s</span>&nbsp;<span class="ident" id="5895697"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897748">sym</a></span><span class="op" id="5895700">)</span>&nbsp;<span class="builtintype" id="5895702">error</span>&nbsp;<span class="op" id="5895708">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895712"><a href="/gostd/debug/plan9obj/file.go.html#5895650">n</a></span><span class="op" id="5895713">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895718">return</span>&nbsp;<span class="builtintype" id="5895725">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895730">}</span><span class="op" id="5895731">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895734">if</span>&nbsp;<span class="ident" id="5895737"><a href="/gostd/debug/plan9obj/file.go.html#5895657">err</a></span>&nbsp;<span class="op" id="5895741">!=</span>&nbsp;<span class="builtintype" id="5895744">nil</span>&nbsp;<span class="op" id="5895748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895752">return</span>&nbsp;<span class="builtintype" id="5895759">nil</span><span class="op" id="5895762">,</span>&nbsp;<span class="ident" id="5895764"><a href="/gostd/debug/plan9obj/file.go.html#5895657">err</a></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5895769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895773">fname</span>&nbsp;<span class="op" id="5895779">:=</span>&nbsp;<span class="builtinfunc" id="5895782">make</span><span class="op" id="5895786">(</span><span class="keyword" id="5895787">map</span><span class="op" id="5895790">[</span><span class="builtintype" id="5895791">uint16</span><span class="op" id="5895797">]</span><span class="builtintype" id="5895798">string</span><span class="op" id="5895804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895807">syms</span>&nbsp;<span class="op" id="5895812">:=</span>&nbsp;<span class="builtinfunc" id="5895815">make</span><span class="op" id="5895819">(</span><span class="op" id="5895820">[</span><span class="op" id="5895821">]</span><span class="ident" id="5895822"><a href="/gostd/debug/plan9obj/file.go.html#5891939">Sym</a></span><span class="op" id="5895825">,</span>&nbsp;<span class="num" id="5895827">0</span><span class="op" id="5895828">,</span>&nbsp;<span class="ident" id="5895830"><a href="/gostd/debug/plan9obj/file.go.html#5895650">n</a></span><span class="op" id="5895831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895834"><a href="/gostd/debug/plan9obj/file.go.html#5895657">err</a></span>&nbsp;<span class="op" id="5895838">=</span>&nbsp;<span class="ident" id="5895840"><a href="/gostd/debug/plan9obj/file.go.html#5894583">walksymtab</a></span><span class="op" id="5895850">(</span><span class="ident" id="5895851"><a href="/gostd/debug/plan9obj/file.go.html#5895602">symtab</a></span><span class="op" id="5895857">,</span>&nbsp;<span class="ident" id="5895859"><a href="/gostd/debug/plan9obj/file.go.html#5895617">ptrsz</a></span><span class="op" id="5895864">,</span>&nbsp;<span class="keyword" id="5895866">func</span><span class="op" id="5895870">(</span><span class="ident" id="5895871">s</span>&nbsp;<span class="ident" id="5895873"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897748">sym</a></span><span class="op" id="5895876">)</span>&nbsp;<span class="builtintype" id="5895878">error</span>&nbsp;<span class="op" id="5895884">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895888">n</span>&nbsp;<span class="op" id="5895890">:=</span>&nbsp;<span class="builtinfunc" id="5895893">len</span><span class="op" id="5895896">(</span><span class="ident" id="5895897"><a href="/gostd/debug/plan9obj/file.go.html#5895807">syms</a></span><span class="op" id="5895901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895905"><a href="/gostd/debug/plan9obj/file.go.html#5895807">syms</a></span>&nbsp;<span class="op" id="5895910">=</span>&nbsp;<span class="ident" id="5895912"><a href="/gostd/debug/plan9obj/file.go.html#5895807">syms</a></span><span class="op" id="5895916">[</span><span class="num" id="5895917">0</span>&nbsp;<span class="op" id="5895919">:</span>&nbsp;<span class="ident" id="5895921"><a href="/gostd/debug/plan9obj/file.go.html#5895888">n</a></span><span class="op" id="5895922">+</span><span class="num" id="5895923">1</span><span class="op" id="5895924">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895928">ts</span>&nbsp;<span class="op" id="5895931">:=</span>&nbsp;<span class="op" id="5895934">&amp;</span><span class="ident" id="5895935"><a href="/gostd/debug/plan9obj/file.go.html#5895807">syms</a></span><span class="op" id="5895939">[</span><span class="ident" id="5895940"><a href="/gostd/debug/plan9obj/file.go.html#5895888">n</a></span><span class="op" id="5895941">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895945"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5895947">.</span><span class="ident" id="5895948"><a href="/gostd/debug/plan9obj/file.go.html#5891967">Type</a></span>&nbsp;<span class="op" id="5895953">=</span>&nbsp;<span class="builtintype" id="5895955">rune</span><span class="op" id="5895959">(</span><span class="ident" id="5895960"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5895961">.</span><span class="ident" id="5895962"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897776">typ</a></span><span class="op" id="5895965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5895969"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5895971">.</span><span class="ident" id="5895972"><a href="/gostd/debug/plan9obj/file.go.html#5891953">Value</a></span>&nbsp;<span class="op" id="5895978">=</span>&nbsp;<span class="ident" id="5895980"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5895981">.</span><span class="ident" id="5895982"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897762">value</a></span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5895990">switch</span>&nbsp;<span class="ident" id="5895997"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5895998">.</span><span class="ident" id="5895999"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897776">typ</a></span>&nbsp;<span class="op" id="5896003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896007">default</span><span class="op" id="5896014">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896019"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5896021">.</span><span class="ident" id="5896022"><a href="/gostd/debug/plan9obj/file.go.html#5891979">Name</a></span>&nbsp;<span class="op" id="5896027">=</span>&nbsp;<span class="builtintype" id="5896029">string</span><span class="op" id="5896035">(</span><span class="ident" id="5896036"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5896037">.</span><span class="ident" id="5896038"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897788">name</a></span><span class="op" id="5896042">[</span><span class="op" id="5896043">:</span><span class="op" id="5896044">]</span><span class="op" id="5896045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896049">case</span>&nbsp;<span class="string" id="5896054">&#39;z&#39;</span><span class="op" id="5896057">,</span>&nbsp;<span class="string" id="5896059">&#39;Z&#39;</span><span class="op" id="5896062">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896067">for</span>&nbsp;<span class="ident" id="5896071">i</span>&nbsp;<span class="op" id="5896073">:=</span>&nbsp;<span class="num" id="5896076">0</span><span class="op" id="5896077">;</span>&nbsp;<span class="ident" id="5896079"><a href="/gostd/debug/plan9obj/file.go.html#5896071">i</a></span>&nbsp;<span class="op" id="5896081">&lt;</span>&nbsp;<span class="builtinfunc" id="5896083">len</span><span class="op" id="5896086">(</span><span class="ident" id="5896087"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5896088">.</span><span class="ident" id="5896089"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897788">name</a></span><span class="op" id="5896093">)</span><span class="op" id="5896094">;</span>&nbsp;<span class="ident" id="5896096"><a href="/gostd/debug/plan9obj/file.go.html#5896071">i</a></span>&nbsp;<span class="op" id="5896098">+=</span>&nbsp;<span class="num" id="5896101">2</span>&nbsp;<span class="op" id="5896103">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896109">eltIdx</span>&nbsp;<span class="op" id="5896116">:=</span>&nbsp;<span class="ident" id="5896119"><a href="/gostd/debug/plan9obj/file.go.html#5890487">binary</a></span><span class="op" id="5896125">.</span><span class="ident" id="5896126"><a href="/gostd/encoding/binary/binary.go.html#2987146">BigEndian</a></span><span class="op" id="5896135">.</span><span class="ident" id="5896136"><a href="/gostd/encoding/binary/binary.go.html#2988241">Uint16</a></span><span class="op" id="5896142">(</span><span class="ident" id="5896143"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5896144">.</span><span class="ident" id="5896145"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897788">name</a></span><span class="op" id="5896149">[</span><span class="ident" id="5896150"><a href="/gostd/debug/plan9obj/file.go.html#5896071">i</a></span>&nbsp;<span class="op" id="5896152">:</span>&nbsp;<span class="ident" id="5896154"><a href="/gostd/debug/plan9obj/file.go.html#5896071">i</a></span><span class="op" id="5896155">+</span><span class="num" id="5896156">2</span><span class="op" id="5896157">]</span><span class="op" id="5896158">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896164">elt</span><span class="op" id="5896167">,</span>&nbsp;<span class="ident" id="5896169">ok</span>&nbsp;<span class="op" id="5896172">:=</span>&nbsp;<span class="ident" id="5896175"><a href="/gostd/debug/plan9obj/file.go.html#5895773">fname</a></span><span class="op" id="5896180">[</span><span class="ident" id="5896181"><a href="/gostd/debug/plan9obj/file.go.html#5896109">eltIdx</a></span><span class="op" id="5896187">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896193">if</span>&nbsp;<span class="op" id="5896196">!</span><span class="ident" id="5896197"><a href="/gostd/debug/plan9obj/file.go.html#5896169">ok</a></span>&nbsp;<span class="op" id="5896200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896207">return</span>&nbsp;<span class="op" id="5896214">&amp;</span><span class="ident" id="5896215"><a href="/gostd/debug/plan9obj/file.go.html#5892145">formatError</a></span><span class="op" id="5896226">{</span><span class="op" id="5896227">-</span><span class="num" id="5896228">1</span><span class="op" id="5896229">,</span>&nbsp;<span class="string" id="5896231">&#34;bad&nbsp;filename&nbsp;code&#34;</span><span class="op" id="5896250">,</span>&nbsp;<span class="ident" id="5896252"><a href="/gostd/debug/plan9obj/file.go.html#5896109">eltIdx</a></span><span class="op" id="5896258">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896264">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896270">if</span>&nbsp;<span class="ident" id="5896273">n</span>&nbsp;<span class="op" id="5896275">:=</span>&nbsp;<span class="builtinfunc" id="5896278">len</span><span class="op" id="5896281">(</span><span class="ident" id="5896282"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5896284">.</span><span class="ident" id="5896285"><a href="/gostd/debug/plan9obj/file.go.html#5891979">Name</a></span><span class="op" id="5896289">)</span><span class="op" id="5896290">;</span>&nbsp;<span class="ident" id="5896292"><a href="/gostd/debug/plan9obj/file.go.html#5896273">n</a></span>&nbsp;<span class="op" id="5896294">&gt;</span>&nbsp;<span class="num" id="5896296">0</span>&nbsp;<span class="op" id="5896298">&amp;&amp;</span>&nbsp;<span class="ident" id="5896301"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5896303">.</span><span class="ident" id="5896304"><a href="/gostd/debug/plan9obj/file.go.html#5891979">Name</a></span><span class="op" id="5896308">[</span><span class="ident" id="5896309"><a href="/gostd/debug/plan9obj/file.go.html#5896273">n</a></span><span class="op" id="5896310">-</span><span class="num" id="5896311">1</span><span class="op" id="5896312">]</span>&nbsp;<span class="op" id="5896314">!=</span>&nbsp;<span class="string" id="5896317">&#39;/&#39;</span>&nbsp;<span class="op" id="5896321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896328"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5896330">.</span><span class="ident" id="5896331"><a href="/gostd/debug/plan9obj/file.go.html#5891979">Name</a></span>&nbsp;<span class="op" id="5896336">+=</span>&nbsp;<span class="string" id="5896339">&#34;/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896347">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896353"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5896355">.</span><span class="ident" id="5896356"><a href="/gostd/debug/plan9obj/file.go.html#5891979">Name</a></span>&nbsp;<span class="op" id="5896361">+=</span>&nbsp;<span class="ident" id="5896364"><a href="/gostd/debug/plan9obj/file.go.html#5896164">elt</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896371">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896375">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896379">switch</span>&nbsp;<span class="ident" id="5896386"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5896387">.</span><span class="ident" id="5896388"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897776">typ</a></span>&nbsp;<span class="op" id="5896392">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896396">case</span>&nbsp;<span class="string" id="5896401">&#39;f&#39;</span><span class="op" id="5896404">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896409"><a href="/gostd/debug/plan9obj/file.go.html#5895773">fname</a></span><span class="op" id="5896414">[</span><span class="builtintype" id="5896415">uint16</span><span class="op" id="5896421">(</span><span class="ident" id="5896422"><a href="/gostd/debug/plan9obj/file.go.html#5895871">s</a></span><span class="op" id="5896423">.</span><span class="ident" id="5896424"><a href="/gostd/debug/plan9obj/plan9obj.go.html#5897762">value</a></span><span class="op" id="5896429">)</span><span class="op" id="5896430">]</span>&nbsp;<span class="op" id="5896432">=</span>&nbsp;<span class="ident" id="5896434"><a href="/gostd/debug/plan9obj/file.go.html#5895928">ts</a></span><span class="op" id="5896436">.</span><span class="ident" id="5896437"><a href="/gostd/debug/plan9obj/file.go.html#5891979">Name</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896444">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896448">return</span>&nbsp;<span class="builtintype" id="5896455">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896460">}</span><span class="op" id="5896461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896464">if</span>&nbsp;<span class="ident" id="5896467"><a href="/gostd/debug/plan9obj/file.go.html#5895657">err</a></span>&nbsp;<span class="op" id="5896471">!=</span>&nbsp;<span class="builtintype" id="5896474">nil</span>&nbsp;<span class="op" id="5896478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896482">return</span>&nbsp;<span class="builtintype" id="5896489">nil</span><span class="op" id="5896492">,</span>&nbsp;<span class="ident" id="5896494"><a href="/gostd/debug/plan9obj/file.go.html#5895657">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896499">}</span><br>
<span class="lineno">300</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896503">return</span>&nbsp;<span class="ident" id="5896510"><a href="/gostd/debug/plan9obj/file.go.html#5895807">syms</a></span><span class="op" id="5896514">,</span>&nbsp;<span class="builtintype" id="5896516">nil</span><br>
<span class="lineno"></span><span class="op" id="5896520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5896523">//&nbsp;Symbols&nbsp;returns&nbsp;the&nbsp;symbol&nbsp;table&nbsp;for&nbsp;f.</span><br>
<span class="lineno">305</span><span class="keyword" id="5896566">func</span>&nbsp;<span class="op" id="5896571">(</span><span class="ident" id="5896572">f</span>&nbsp;<span class="op" id="5896574">*</span><span class="ident" id="5896575"><a href="/gostd/debug/plan9obj/file.go.html#5890790">File</a></span><span class="op" id="5896579">)</span>&nbsp;<span class="ident" id="5896581">Symbols</span><span class="op" id="5896588">(</span><span class="op" id="5896589">)</span>&nbsp;<span class="op" id="5896591">(</span><span class="op" id="5896592">[</span><span class="op" id="5896593">]</span><span class="ident" id="5896594"><a href="/gostd/debug/plan9obj/file.go.html#5891939">Sym</a></span><span class="op" id="5896597">,</span>&nbsp;<span class="builtintype" id="5896599">error</span><span class="op" id="5896604">)</span>&nbsp;<span class="op" id="5896606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896609">symtabSection</span>&nbsp;<span class="op" id="5896623">:=</span>&nbsp;<span class="ident" id="5896626"><a href="/gostd/debug/plan9obj/file.go.html#5896572">f</a></span><span class="op" id="5896627">.</span><span class="ident" id="5896628"><a href="/gostd/debug/plan9obj/file.go.html#5896975">Section</a></span><span class="op" id="5896635">(</span><span class="string" id="5896636">&#34;syms&#34;</span><span class="op" id="5896642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896645">if</span>&nbsp;<span class="ident" id="5896648"><a href="/gostd/debug/plan9obj/file.go.html#5896609">symtabSection</a></span>&nbsp;<span class="op" id="5896662">==</span>&nbsp;<span class="builtintype" id="5896665">nil</span>&nbsp;<span class="op" id="5896669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896673">return</span>&nbsp;<span class="builtintype" id="5896680">nil</span><span class="op" id="5896683">,</span>&nbsp;<span class="ident" id="5896685"><a href="/gostd/debug/plan9obj/file.go.html#5890506">errors</a></span><span class="op" id="5896691">.</span><span class="ident" id="5896692"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5896695">(</span><span class="string" id="5896696">&#34;no&nbsp;symbol&nbsp;section&#34;</span><span class="op" id="5896715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896718">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5896722">symtab</span><span class="op" id="5896728">,</span>&nbsp;<span class="ident" id="5896730">err</span>&nbsp;<span class="op" id="5896734">:=</span>&nbsp;<span class="ident" id="5896737"><a href="/gostd/debug/plan9obj/file.go.html#5896609">symtabSection</a></span><span class="op" id="5896750">.</span><span class="ident" id="5896751"><a href="/gostd/debug/plan9obj/file.go.html#5891556">Data</a></span><span class="op" id="5896755">(</span><span class="op" id="5896756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896759">if</span>&nbsp;<span class="ident" id="5896762"><a href="/gostd/debug/plan9obj/file.go.html#5896730">err</a></span>&nbsp;<span class="op" id="5896766">!=</span>&nbsp;<span class="builtintype" id="5896769">nil</span>&nbsp;<span class="op" id="5896773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896777">return</span>&nbsp;<span class="builtintype" id="5896784">nil</span><span class="op" id="5896787">,</span>&nbsp;<span class="ident" id="5896789"><a href="/gostd/debug/plan9obj/file.go.html#5890506">errors</a></span><span class="op" id="5896795">.</span><span class="ident" id="5896796"><a href="/gostd/errors/errors.go.html#1418493">New</a></span><span class="op" id="5896799">(</span><span class="string" id="5896800">&#34;cannot&nbsp;load&nbsp;symbol&nbsp;section&#34;</span><span class="op" id="5896828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5896831">}</span><br>
<span class="lineno">315</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5896835">return</span>&nbsp;<span class="ident" id="5896842"><a href="/gostd/debug/plan9obj/file.go.html#5895593">newTable</a></span><span class="op" id="5896850">(</span><span class="ident" id="5896851"><a href="/gostd/debug/plan9obj/file.go.html#5896722">symtab</a></span><span class="op" id="5896857">,</span>&nbsp;<span class="ident" id="5896859"><a href="/gostd/debug/plan9obj/file.go.html#5896572">f</a></span><span class="op" id="5896860">.</span><span class="ident" id="5896861"><a href="/gostd/debug/plan9obj/file.go.html#5890678">PtrSize</a></span><span class="op" id="5896868">)</span><br>
<span class="lineno"></span><span class="op" id="5896870">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5896873">//&nbsp;Section&nbsp;returns&nbsp;a&nbsp;section&nbsp;with&nbsp;the&nbsp;given&nbsp;name,&nbsp;or&nbsp;nil&nbsp;if&nbsp;no&nbsp;such</span><br>
<span class="lineno">320</span><span class="comment" id="5896941">//&nbsp;section&nbsp;exists.</span><br>
<span class="lineno"></span><span class="keyword" id="5896960">func</span>&nbsp;<span class="op" id="5896965">(</span><span class="ident" id="5896966">f</span>&nbsp;<span class="op" id="5896968">*</span><span class="ident" id="5896969"><a href="/gostd/debug/plan9obj/file.go.html#5890790">File</a></span><span class="op" id="5896973">)</span>&nbsp;<span class="ident" id="5896975">Section</span><span class="op" id="5896982">(</span><span class="ident" id="5896983">name</span>&nbsp;<span class="builtintype" id="5896988">string</span><span class="op" id="5896994">)</span>&nbsp;<span class="op" id="5896996">*</span><span class="ident" id="5896997"><a href="/gostd/debug/plan9obj/file.go.html#5891164">Section</a></span>&nbsp;<span class="op" id="5897005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897008">for</span>&nbsp;<span class="ident" id="5897012">_</span><span class="op" id="5897013">,</span>&nbsp;<span class="ident" id="5897015">s</span>&nbsp;<span class="op" id="5897017">:=</span>&nbsp;<span class="keyword" id="5897020">range</span>&nbsp;<span class="ident" id="5897026"><a href="/gostd/debug/plan9obj/file.go.html#5896966">f</a></span><span class="op" id="5897027">.</span><span class="ident" id="5897028"><a href="/gostd/debug/plan9obj/file.go.html#5890817">Sections</a></span>&nbsp;<span class="op" id="5897037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897041">if</span>&nbsp;<span class="ident" id="5897044"><a href="/gostd/debug/plan9obj/file.go.html#5897015">s</a></span><span class="op" id="5897045">.</span><span class="ident" id="5897046"><a href="/gostd/debug/plan9obj/file.go.html#5891047">Name</a></span>&nbsp;<span class="op" id="5897051">==</span>&nbsp;<span class="ident" id="5897054"><a href="/gostd/debug/plan9obj/file.go.html#5896983">name</a></span>&nbsp;<span class="op" id="5897059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897064">return</span>&nbsp;<span class="ident" id="5897071"><a href="/gostd/debug/plan9obj/file.go.html#5897015">s</a></span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5897078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5897081">return</span>&nbsp;<span class="builtintype" id="5897088">nil</span><br>
<span class="lineno"></span><span class="op" id="5897092">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
