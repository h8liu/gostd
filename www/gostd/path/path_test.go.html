<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path</h2>
<ul>
<li><a href="/gostd/path/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/path/match.go.html">match.go</a></li>
<li><a href="/gostd/path/match_test.go.html">match_test.go</a></li>
<li><a href="/gostd/path/path.go.html">path.go</a></li>
<li><a href="/gostd/path/path_test.go.html" class="current">path_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7133156">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7133211">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7133265">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7133316">package</span>&nbsp;<span class="ident" id="7133324">path</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7133330">import</span>&nbsp;<span class="op" id="7133337">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7133340">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7133351">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7133361">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7133364">type</span>&nbsp;<span class="ident" id="7133369">PathTest</span>&nbsp;<span class="keyword" id="7133378">struct</span>&nbsp;<span class="op" id="7133385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7133388">path</span><span class="op" id="7133392">,</span>&nbsp;<span class="ident" id="7133394">result</span>&nbsp;<span class="builtintype" id="7133401">string</span><br>
<span class="lineno"></span><span class="op" id="7133408">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7133411">var</span>&nbsp;<span class="ident" id="7133415">cleantests</span>&nbsp;<span class="op" id="7133426">=</span>&nbsp;<span class="op" id="7133428">[</span><span class="op" id="7133429">]</span><span class="ident" id="7133430">PathTest</span><span class="op" id="7133438">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7133441">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133459">{</span><span class="string" id="7133460">&#34;&#34;</span><span class="op" id="7133462">,</span>&nbsp;<span class="string" id="7133464">&#34;.&#34;</span><span class="op" id="7133467">}</span><span class="op" id="7133468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133471">{</span><span class="string" id="7133472">&#34;abc&#34;</span><span class="op" id="7133477">,</span>&nbsp;<span class="string" id="7133479">&#34;abc&#34;</span><span class="op" id="7133484">}</span><span class="op" id="7133485">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133488">{</span><span class="string" id="7133489">&#34;abc/def&#34;</span><span class="op" id="7133498">,</span>&nbsp;<span class="string" id="7133500">&#34;abc/def&#34;</span><span class="op" id="7133509">}</span><span class="op" id="7133510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133513">{</span><span class="string" id="7133514">&#34;a/b/c&#34;</span><span class="op" id="7133521">,</span>&nbsp;<span class="string" id="7133523">&#34;a/b/c&#34;</span><span class="op" id="7133530">}</span><span class="op" id="7133531">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133534">{</span><span class="string" id="7133535">&#34;.&#34;</span><span class="op" id="7133538">,</span>&nbsp;<span class="string" id="7133540">&#34;.&#34;</span><span class="op" id="7133543">}</span><span class="op" id="7133544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133547">{</span><span class="string" id="7133548">&#34;..&#34;</span><span class="op" id="7133552">,</span>&nbsp;<span class="string" id="7133554">&#34;..&#34;</span><span class="op" id="7133558">}</span><span class="op" id="7133559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133562">{</span><span class="string" id="7133563">&#34;../..&#34;</span><span class="op" id="7133570">,</span>&nbsp;<span class="string" id="7133572">&#34;../..&#34;</span><span class="op" id="7133579">}</span><span class="op" id="7133580">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133583">{</span><span class="string" id="7133584">&#34;../../abc&#34;</span><span class="op" id="7133595">,</span>&nbsp;<span class="string" id="7133597">&#34;../../abc&#34;</span><span class="op" id="7133608">}</span><span class="op" id="7133609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133612">{</span><span class="string" id="7133613">&#34;/abc&#34;</span><span class="op" id="7133619">,</span>&nbsp;<span class="string" id="7133621">&#34;/abc&#34;</span><span class="op" id="7133627">}</span><span class="op" id="7133628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133631">{</span><span class="string" id="7133632">&#34;/&#34;</span><span class="op" id="7133635">,</span>&nbsp;<span class="string" id="7133637">&#34;/&#34;</span><span class="op" id="7133640">}</span><span class="op" id="7133641">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7133645">//&nbsp;Remove&nbsp;trailing&nbsp;slash</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133671">{</span><span class="string" id="7133672">&#34;abc/&#34;</span><span class="op" id="7133678">,</span>&nbsp;<span class="string" id="7133680">&#34;abc&#34;</span><span class="op" id="7133685">}</span><span class="op" id="7133686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133689">{</span><span class="string" id="7133690">&#34;abc/def/&#34;</span><span class="op" id="7133700">,</span>&nbsp;<span class="string" id="7133702">&#34;abc/def&#34;</span><span class="op" id="7133711">}</span><span class="op" id="7133712">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133715">{</span><span class="string" id="7133716">&#34;a/b/c/&#34;</span><span class="op" id="7133724">,</span>&nbsp;<span class="string" id="7133726">&#34;a/b/c&#34;</span><span class="op" id="7133733">}</span><span class="op" id="7133734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133737">{</span><span class="string" id="7133738">&#34;./&#34;</span><span class="op" id="7133742">,</span>&nbsp;<span class="string" id="7133744">&#34;.&#34;</span><span class="op" id="7133747">}</span><span class="op" id="7133748">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133751">{</span><span class="string" id="7133752">&#34;../&#34;</span><span class="op" id="7133757">,</span>&nbsp;<span class="string" id="7133759">&#34;..&#34;</span><span class="op" id="7133763">}</span><span class="op" id="7133764">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133767">{</span><span class="string" id="7133768">&#34;../../&#34;</span><span class="op" id="7133776">,</span>&nbsp;<span class="string" id="7133778">&#34;../..&#34;</span><span class="op" id="7133785">}</span><span class="op" id="7133786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133789">{</span><span class="string" id="7133790">&#34;/abc/&#34;</span><span class="op" id="7133797">,</span>&nbsp;<span class="string" id="7133799">&#34;/abc&#34;</span><span class="op" id="7133805">}</span><span class="op" id="7133806">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7133810">//&nbsp;Remove&nbsp;doubled&nbsp;slash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133835">{</span><span class="string" id="7133836">&#34;abc//def//ghi&#34;</span><span class="op" id="7133851">,</span>&nbsp;<span class="string" id="7133853">&#34;abc/def/ghi&#34;</span><span class="op" id="7133866">}</span><span class="op" id="7133867">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133870">{</span><span class="string" id="7133871">&#34;//abc&#34;</span><span class="op" id="7133878">,</span>&nbsp;<span class="string" id="7133880">&#34;/abc&#34;</span><span class="op" id="7133886">}</span><span class="op" id="7133887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133890">{</span><span class="string" id="7133891">&#34;///abc&#34;</span><span class="op" id="7133899">,</span>&nbsp;<span class="string" id="7133901">&#34;/abc&#34;</span><span class="op" id="7133907">}</span><span class="op" id="7133908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133911">{</span><span class="string" id="7133912">&#34;//abc//&#34;</span><span class="op" id="7133921">,</span>&nbsp;<span class="string" id="7133923">&#34;/abc&#34;</span><span class="op" id="7133929">}</span><span class="op" id="7133930">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133933">{</span><span class="string" id="7133934">&#34;abc//&#34;</span><span class="op" id="7133941">,</span>&nbsp;<span class="string" id="7133943">&#34;abc&#34;</span><span class="op" id="7133948">}</span><span class="op" id="7133949">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7133953">//&nbsp;Remove&nbsp;.&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7133975">{</span><span class="string" id="7133976">&#34;abc/./def&#34;</span><span class="op" id="7133987">,</span>&nbsp;<span class="string" id="7133989">&#34;abc/def&#34;</span><span class="op" id="7133998">}</span><span class="op" id="7133999">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134002">{</span><span class="string" id="7134003">&#34;/./abc/def&#34;</span><span class="op" id="7134015">,</span>&nbsp;<span class="string" id="7134017">&#34;/abc/def&#34;</span><span class="op" id="7134027">}</span><span class="op" id="7134028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134031">{</span><span class="string" id="7134032">&#34;abc/.&#34;</span><span class="op" id="7134039">,</span>&nbsp;<span class="string" id="7134041">&#34;abc&#34;</span><span class="op" id="7134046">}</span><span class="op" id="7134047">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7134051">//&nbsp;Remove&nbsp;..&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134074">{</span><span class="string" id="7134075">&#34;abc/def/ghi/../jkl&#34;</span><span class="op" id="7134095">,</span>&nbsp;<span class="string" id="7134097">&#34;abc/def/jkl&#34;</span><span class="op" id="7134110">}</span><span class="op" id="7134111">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134114">{</span><span class="string" id="7134115">&#34;abc/def/../ghi/../jkl&#34;</span><span class="op" id="7134138">,</span>&nbsp;<span class="string" id="7134140">&#34;abc/jkl&#34;</span><span class="op" id="7134149">}</span><span class="op" id="7134150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134153">{</span><span class="string" id="7134154">&#34;abc/def/..&#34;</span><span class="op" id="7134166">,</span>&nbsp;<span class="string" id="7134168">&#34;abc&#34;</span><span class="op" id="7134173">}</span><span class="op" id="7134174">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134177">{</span><span class="string" id="7134178">&#34;abc/def/../..&#34;</span><span class="op" id="7134193">,</span>&nbsp;<span class="string" id="7134195">&#34;.&#34;</span><span class="op" id="7134198">}</span><span class="op" id="7134199">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134202">{</span><span class="string" id="7134203">&#34;/abc/def/../..&#34;</span><span class="op" id="7134219">,</span>&nbsp;<span class="string" id="7134221">&#34;/&#34;</span><span class="op" id="7134224">}</span><span class="op" id="7134225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134228">{</span><span class="string" id="7134229">&#34;abc/def/../../..&#34;</span><span class="op" id="7134247">,</span>&nbsp;<span class="string" id="7134249">&#34;..&#34;</span><span class="op" id="7134253">}</span><span class="op" id="7134254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134257">{</span><span class="string" id="7134258">&#34;/abc/def/../../..&#34;</span><span class="op" id="7134277">,</span>&nbsp;<span class="string" id="7134279">&#34;/&#34;</span><span class="op" id="7134282">}</span><span class="op" id="7134283">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134286">{</span><span class="string" id="7134287">&#34;abc/def/../../../ghi/jkl/../../../mno&#34;</span><span class="op" id="7134326">,</span>&nbsp;<span class="string" id="7134328">&#34;../../mno&#34;</span><span class="op" id="7134339">}</span><span class="op" id="7134340">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7134344">//&nbsp;Combinations</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134361">{</span><span class="string" id="7134362">&#34;abc/./../def&#34;</span><span class="op" id="7134376">,</span>&nbsp;<span class="string" id="7134378">&#34;def&#34;</span><span class="op" id="7134383">}</span><span class="op" id="7134384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134387">{</span><span class="string" id="7134388">&#34;abc//./../def&#34;</span><span class="op" id="7134403">,</span>&nbsp;<span class="string" id="7134405">&#34;def&#34;</span><span class="op" id="7134410">}</span><span class="op" id="7134411">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134414">{</span><span class="string" id="7134415">&#34;abc/../../././../def&#34;</span><span class="op" id="7134437">,</span>&nbsp;<span class="string" id="7134439">&#34;../../def&#34;</span><span class="op" id="7134450">}</span><span class="op" id="7134451">,</span><br>
<span class="lineno"></span><span class="op" id="7134453">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="7134456">func</span>&nbsp;<span class="ident" id="7134461">TestClean</span><span class="op" id="7134470">(</span><span class="ident" id="7134471">t</span>&nbsp;<span class="op" id="7134473">*</span><span class="ident" id="7134474">testing</span><span class="op" id="7134481">.</span><span class="ident" id="7134482">T</span><span class="op" id="7134483">)</span>&nbsp;<span class="op" id="7134485">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134488">for</span>&nbsp;<span class="ident" id="7134492">_</span><span class="op" id="7134493">,</span>&nbsp;<span class="ident" id="7134495">test</span>&nbsp;<span class="op" id="7134500">:=</span>&nbsp;<span class="keyword" id="7134503">range</span>&nbsp;<span class="ident" id="7134509">cleantests</span>&nbsp;<span class="op" id="7134520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134524">if</span>&nbsp;<span class="ident" id="7134527">s</span>&nbsp;<span class="op" id="7134529">:=</span>&nbsp;<span class="ident" id="7134532">Clean</span><span class="op" id="7134537">(</span><span class="ident" id="7134538">test</span><span class="op" id="7134542">.</span><span class="ident" id="7134543">path</span><span class="op" id="7134547">)</span><span class="op" id="7134548">;</span>&nbsp;<span class="ident" id="7134550">s</span>&nbsp;<span class="op" id="7134552">!=</span>&nbsp;<span class="ident" id="7134555">test</span><span class="op" id="7134559">.</span><span class="ident" id="7134560">result</span>&nbsp;<span class="op" id="7134567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134572">t</span><span class="op" id="7134573">.</span><span class="ident" id="7134574">Errorf</span><span class="op" id="7134580">(</span><span class="string" id="7134581">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7134606">,</span>&nbsp;<span class="ident" id="7134608">test</span><span class="op" id="7134612">.</span><span class="ident" id="7134613">path</span><span class="op" id="7134617">,</span>&nbsp;<span class="ident" id="7134619">s</span><span class="op" id="7134620">,</span>&nbsp;<span class="ident" id="7134622">test</span><span class="op" id="7134626">.</span><span class="ident" id="7134627">result</span><span class="op" id="7134633">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134641">if</span>&nbsp;<span class="ident" id="7134644">s</span>&nbsp;<span class="op" id="7134646">:=</span>&nbsp;<span class="ident" id="7134649">Clean</span><span class="op" id="7134654">(</span><span class="ident" id="7134655">test</span><span class="op" id="7134659">.</span><span class="ident" id="7134660">result</span><span class="op" id="7134666">)</span><span class="op" id="7134667">;</span>&nbsp;<span class="ident" id="7134669">s</span>&nbsp;<span class="op" id="7134671">!=</span>&nbsp;<span class="ident" id="7134674">test</span><span class="op" id="7134678">.</span><span class="ident" id="7134679">result</span>&nbsp;<span class="op" id="7134686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134691">t</span><span class="op" id="7134692">.</span><span class="ident" id="7134693">Errorf</span><span class="op" id="7134699">(</span><span class="string" id="7134700">&#34;Clean(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7134725">,</span>&nbsp;<span class="ident" id="7134727">test</span><span class="op" id="7134731">.</span><span class="ident" id="7134732">result</span><span class="op" id="7134738">,</span>&nbsp;<span class="ident" id="7134740">s</span><span class="op" id="7134741">,</span>&nbsp;<span class="ident" id="7134743">test</span><span class="op" id="7134747">.</span><span class="ident" id="7134748">result</span><span class="op" id="7134754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134758">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134761">}</span><br>
<span class="lineno">75</span><span class="op" id="7134763">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7134766">func</span>&nbsp;<span class="ident" id="7134771">TestCleanMallocs</span><span class="op" id="7134787">(</span><span class="ident" id="7134788">t</span>&nbsp;<span class="op" id="7134790">*</span><span class="ident" id="7134791">testing</span><span class="op" id="7134798">.</span><span class="ident" id="7134799">T</span><span class="op" id="7134800">)</span>&nbsp;<span class="op" id="7134802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134805">if</span>&nbsp;<span class="ident" id="7134808">testing</span><span class="op" id="7134815">.</span><span class="ident" id="7134816">Short</span><span class="op" id="7134821">(</span><span class="op" id="7134822">)</span>&nbsp;<span class="op" id="7134824">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134828">t</span><span class="op" id="7134829">.</span><span class="ident" id="7134830">Skip</span><span class="op" id="7134834">(</span><span class="string" id="7134835">&#34;skipping&nbsp;malloc&nbsp;count&nbsp;in&nbsp;short&nbsp;mode&#34;</span><span class="op" id="7134872">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134875">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134878">if</span>&nbsp;<span class="ident" id="7134881">runtime</span><span class="op" id="7134888">.</span><span class="ident" id="7134889">GOMAXPROCS</span><span class="op" id="7134899">(</span><span class="num" id="7134900">0</span><span class="op" id="7134901">)</span>&nbsp;<span class="op" id="7134903">&gt;</span>&nbsp;<span class="num" id="7134905">1</span>&nbsp;<span class="op" id="7134907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7134911">t</span><span class="op" id="7134912">.</span><span class="ident" id="7134913">Log</span><span class="op" id="7134916">(</span><span class="string" id="7134917">&#34;skipping&nbsp;AllocsPerRun&nbsp;checks;&nbsp;GOMAXPROCS&gt;1&#34;</span><span class="op" id="7134961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134965">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7134973">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7134977">for</span>&nbsp;<span class="ident" id="7134981">_</span><span class="op" id="7134982">,</span>&nbsp;<span class="ident" id="7134984">test</span>&nbsp;<span class="op" id="7134989">:=</span>&nbsp;<span class="keyword" id="7134992">range</span>&nbsp;<span class="ident" id="7134998">cleantests</span>&nbsp;<span class="op" id="7135009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135013">allocs</span>&nbsp;<span class="op" id="7135020">:=</span>&nbsp;<span class="ident" id="7135023">testing</span><span class="op" id="7135030">.</span><span class="ident" id="7135031">AllocsPerRun</span><span class="op" id="7135043">(</span><span class="num" id="7135044">100</span><span class="op" id="7135047">,</span>&nbsp;<span class="keyword" id="7135049">func</span><span class="op" id="7135053">(</span><span class="op" id="7135054">)</span>&nbsp;<span class="op" id="7135056">{</span>&nbsp;<span class="ident" id="7135058">Clean</span><span class="op" id="7135063">(</span><span class="ident" id="7135064">test</span><span class="op" id="7135068">.</span><span class="ident" id="7135069">result</span><span class="op" id="7135075">)</span>&nbsp;<span class="op" id="7135077">}</span><span class="op" id="7135078">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135082">if</span>&nbsp;<span class="ident" id="7135085">allocs</span>&nbsp;<span class="op" id="7135092">&gt;</span>&nbsp;<span class="num" id="7135094">0</span>&nbsp;<span class="op" id="7135096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135101">t</span><span class="op" id="7135102">.</span><span class="ident" id="7135103">Errorf</span><span class="op" id="7135109">(</span><span class="string" id="7135110">&#34;Clean(%q):&nbsp;%v&nbsp;allocs,&nbsp;want&nbsp;zero&#34;</span><span class="op" id="7135143">,</span>&nbsp;<span class="ident" id="7135145">test</span><span class="op" id="7135149">.</span><span class="ident" id="7135150">result</span><span class="op" id="7135156">,</span>&nbsp;<span class="ident" id="7135158">allocs</span><span class="op" id="7135164">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135171">}</span><br>
<span class="lineno"></span><span class="op" id="7135173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135176">type</span>&nbsp;<span class="ident" id="7135181">SplitTest</span>&nbsp;<span class="keyword" id="7135191">struct</span>&nbsp;<span class="op" id="7135198">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135201">path</span><span class="op" id="7135205">,</span>&nbsp;<span class="ident" id="7135207">dir</span><span class="op" id="7135210">,</span>&nbsp;<span class="ident" id="7135212">file</span>&nbsp;<span class="builtintype" id="7135217">string</span><br>
<span class="lineno"></span><span class="op" id="7135224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135227">var</span>&nbsp;<span class="ident" id="7135231">splittests</span>&nbsp;<span class="op" id="7135242">=</span>&nbsp;<span class="op" id="7135244">[</span><span class="op" id="7135245">]</span><span class="ident" id="7135246">SplitTest</span><span class="op" id="7135255">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135258">{</span><span class="string" id="7135259">&#34;a/b&#34;</span><span class="op" id="7135264">,</span>&nbsp;<span class="string" id="7135266">&#34;a/&#34;</span><span class="op" id="7135270">,</span>&nbsp;<span class="string" id="7135272">&#34;b&#34;</span><span class="op" id="7135275">}</span><span class="op" id="7135276">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135279">{</span><span class="string" id="7135280">&#34;a/b/&#34;</span><span class="op" id="7135286">,</span>&nbsp;<span class="string" id="7135288">&#34;a/b/&#34;</span><span class="op" id="7135294">,</span>&nbsp;<span class="string" id="7135296">&#34;&#34;</span><span class="op" id="7135298">}</span><span class="op" id="7135299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135302">{</span><span class="string" id="7135303">&#34;a/&#34;</span><span class="op" id="7135307">,</span>&nbsp;<span class="string" id="7135309">&#34;a/&#34;</span><span class="op" id="7135313">,</span>&nbsp;<span class="string" id="7135315">&#34;&#34;</span><span class="op" id="7135317">}</span><span class="op" id="7135318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135321">{</span><span class="string" id="7135322">&#34;a&#34;</span><span class="op" id="7135325">,</span>&nbsp;<span class="string" id="7135327">&#34;&#34;</span><span class="op" id="7135329">,</span>&nbsp;<span class="string" id="7135331">&#34;a&#34;</span><span class="op" id="7135334">}</span><span class="op" id="7135335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135338">{</span><span class="string" id="7135339">&#34;/&#34;</span><span class="op" id="7135342">,</span>&nbsp;<span class="string" id="7135344">&#34;/&#34;</span><span class="op" id="7135347">,</span>&nbsp;<span class="string" id="7135349">&#34;&#34;</span><span class="op" id="7135351">}</span><span class="op" id="7135352">,</span><br>
<span class="lineno"></span><span class="op" id="7135354">}</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span><span class="keyword" id="7135357">func</span>&nbsp;<span class="ident" id="7135362">TestSplit</span><span class="op" id="7135371">(</span><span class="ident" id="7135372">t</span>&nbsp;<span class="op" id="7135374">*</span><span class="ident" id="7135375">testing</span><span class="op" id="7135382">.</span><span class="ident" id="7135383">T</span><span class="op" id="7135384">)</span>&nbsp;<span class="op" id="7135386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135389">for</span>&nbsp;<span class="ident" id="7135393">_</span><span class="op" id="7135394">,</span>&nbsp;<span class="ident" id="7135396">test</span>&nbsp;<span class="op" id="7135401">:=</span>&nbsp;<span class="keyword" id="7135404">range</span>&nbsp;<span class="ident" id="7135410">splittests</span>&nbsp;<span class="op" id="7135421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7135425">if</span>&nbsp;<span class="ident" id="7135428">d</span><span class="op" id="7135429">,</span>&nbsp;<span class="ident" id="7135431">f</span>&nbsp;<span class="op" id="7135433">:=</span>&nbsp;<span class="ident" id="7135436">Split</span><span class="op" id="7135441">(</span><span class="ident" id="7135442">test</span><span class="op" id="7135446">.</span><span class="ident" id="7135447">path</span><span class="op" id="7135451">)</span><span class="op" id="7135452">;</span>&nbsp;<span class="ident" id="7135454">d</span>&nbsp;<span class="op" id="7135456">!=</span>&nbsp;<span class="ident" id="7135459">test</span><span class="op" id="7135463">.</span><span class="ident" id="7135464">dir</span>&nbsp;<span class="op" id="7135468">||</span>&nbsp;<span class="ident" id="7135471">f</span>&nbsp;<span class="op" id="7135473">!=</span>&nbsp;<span class="ident" id="7135476">test</span><span class="op" id="7135480">.</span><span class="ident" id="7135481">file</span>&nbsp;<span class="op" id="7135486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135491">t</span><span class="op" id="7135492">.</span><span class="ident" id="7135493">Errorf</span><span class="op" id="7135499">(</span><span class="string" id="7135500">&#34;Split(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;want&nbsp;%q,&nbsp;%q&#34;</span><span class="op" id="7135533">,</span>&nbsp;<span class="ident" id="7135535">test</span><span class="op" id="7135539">.</span><span class="ident" id="7135540">path</span><span class="op" id="7135544">,</span>&nbsp;<span class="ident" id="7135546">d</span><span class="op" id="7135547">,</span>&nbsp;<span class="ident" id="7135549">f</span><span class="op" id="7135550">,</span>&nbsp;<span class="ident" id="7135552">test</span><span class="op" id="7135556">.</span><span class="ident" id="7135557">dir</span><span class="op" id="7135560">,</span>&nbsp;<span class="ident" id="7135562">test</span><span class="op" id="7135566">.</span><span class="ident" id="7135567">file</span><span class="op" id="7135571">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135575">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135578">}</span><br>
<span class="lineno"></span><span class="op" id="7135580">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135583">type</span>&nbsp;<span class="ident" id="7135588">JoinTest</span>&nbsp;<span class="keyword" id="7135597">struct</span>&nbsp;<span class="op" id="7135604">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135607">elem</span>&nbsp;<span class="op" id="7135612">[</span><span class="op" id="7135613">]</span><span class="builtintype" id="7135614">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7135622">path</span>&nbsp;<span class="builtintype" id="7135627">string</span><br>
<span class="lineno"></span><span class="op" id="7135634">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7135637">var</span>&nbsp;<span class="ident" id="7135641">jointests</span>&nbsp;<span class="op" id="7135651">=</span>&nbsp;<span class="op" id="7135653">[</span><span class="op" id="7135654">]</span><span class="ident" id="7135655">JoinTest</span><span class="op" id="7135663">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135666">//&nbsp;zero&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135686">{</span><span class="op" id="7135687">[</span><span class="op" id="7135688">]</span><span class="builtintype" id="7135689">string</span><span class="op" id="7135695">{</span><span class="op" id="7135696">}</span><span class="op" id="7135697">,</span>&nbsp;<span class="string" id="7135699">&#34;&#34;</span><span class="op" id="7135701">}</span><span class="op" id="7135702">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135706">//&nbsp;one&nbsp;parameter</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135724">{</span><span class="op" id="7135725">[</span><span class="op" id="7135726">]</span><span class="builtintype" id="7135727">string</span><span class="op" id="7135733">{</span><span class="string" id="7135734">&#34;&#34;</span><span class="op" id="7135736">}</span><span class="op" id="7135737">,</span>&nbsp;<span class="string" id="7135739">&#34;&#34;</span><span class="op" id="7135741">}</span><span class="op" id="7135742">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135745">{</span><span class="op" id="7135746">[</span><span class="op" id="7135747">]</span><span class="builtintype" id="7135748">string</span><span class="op" id="7135754">{</span><span class="string" id="7135755">&#34;a&#34;</span><span class="op" id="7135758">}</span><span class="op" id="7135759">,</span>&nbsp;<span class="string" id="7135761">&#34;a&#34;</span><span class="op" id="7135764">}</span><span class="op" id="7135765">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7135769">//&nbsp;two&nbsp;parameters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135788">{</span><span class="op" id="7135789">[</span><span class="op" id="7135790">]</span><span class="builtintype" id="7135791">string</span><span class="op" id="7135797">{</span><span class="string" id="7135798">&#34;a&#34;</span><span class="op" id="7135801">,</span>&nbsp;<span class="string" id="7135803">&#34;b&#34;</span><span class="op" id="7135806">}</span><span class="op" id="7135807">,</span>&nbsp;<span class="string" id="7135809">&#34;a/b&#34;</span><span class="op" id="7135814">}</span><span class="op" id="7135815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135818">{</span><span class="op" id="7135819">[</span><span class="op" id="7135820">]</span><span class="builtintype" id="7135821">string</span><span class="op" id="7135827">{</span><span class="string" id="7135828">&#34;a&#34;</span><span class="op" id="7135831">,</span>&nbsp;<span class="string" id="7135833">&#34;&#34;</span><span class="op" id="7135835">}</span><span class="op" id="7135836">,</span>&nbsp;<span class="string" id="7135838">&#34;a&#34;</span><span class="op" id="7135841">}</span><span class="op" id="7135842">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135845">{</span><span class="op" id="7135846">[</span><span class="op" id="7135847">]</span><span class="builtintype" id="7135848">string</span><span class="op" id="7135854">{</span><span class="string" id="7135855">&#34;&#34;</span><span class="op" id="7135857">,</span>&nbsp;<span class="string" id="7135859">&#34;b&#34;</span><span class="op" id="7135862">}</span><span class="op" id="7135863">,</span>&nbsp;<span class="string" id="7135865">&#34;b&#34;</span><span class="op" id="7135868">}</span><span class="op" id="7135869">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135872">{</span><span class="op" id="7135873">[</span><span class="op" id="7135874">]</span><span class="builtintype" id="7135875">string</span><span class="op" id="7135881">{</span><span class="string" id="7135882">&#34;/&#34;</span><span class="op" id="7135885">,</span>&nbsp;<span class="string" id="7135887">&#34;a&#34;</span><span class="op" id="7135890">}</span><span class="op" id="7135891">,</span>&nbsp;<span class="string" id="7135893">&#34;/a&#34;</span><span class="op" id="7135897">}</span><span class="op" id="7135898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135901">{</span><span class="op" id="7135902">[</span><span class="op" id="7135903">]</span><span class="builtintype" id="7135904">string</span><span class="op" id="7135910">{</span><span class="string" id="7135911">&#34;/&#34;</span><span class="op" id="7135914">,</span>&nbsp;<span class="string" id="7135916">&#34;&#34;</span><span class="op" id="7135918">}</span><span class="op" id="7135919">,</span>&nbsp;<span class="string" id="7135921">&#34;/&#34;</span><span class="op" id="7135924">}</span><span class="op" id="7135925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135928">{</span><span class="op" id="7135929">[</span><span class="op" id="7135930">]</span><span class="builtintype" id="7135931">string</span><span class="op" id="7135937">{</span><span class="string" id="7135938">&#34;a/&#34;</span><span class="op" id="7135942">,</span>&nbsp;<span class="string" id="7135944">&#34;b&#34;</span><span class="op" id="7135947">}</span><span class="op" id="7135948">,</span>&nbsp;<span class="string" id="7135950">&#34;a/b&#34;</span><span class="op" id="7135955">}</span><span class="op" id="7135956">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135959">{</span><span class="op" id="7135960">[</span><span class="op" id="7135961">]</span><span class="builtintype" id="7135962">string</span><span class="op" id="7135968">{</span><span class="string" id="7135969">&#34;a/&#34;</span><span class="op" id="7135973">,</span>&nbsp;<span class="string" id="7135975">&#34;&#34;</span><span class="op" id="7135977">}</span><span class="op" id="7135978">,</span>&nbsp;<span class="string" id="7135980">&#34;a&#34;</span><span class="op" id="7135983">}</span><span class="op" id="7135984">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7135987">{</span><span class="op" id="7135988">[</span><span class="op" id="7135989">]</span><span class="builtintype" id="7135990">string</span><span class="op" id="7135996">{</span><span class="string" id="7135997">&#34;&#34;</span><span class="op" id="7135999">,</span>&nbsp;<span class="string" id="7136001">&#34;&#34;</span><span class="op" id="7136003">}</span><span class="op" id="7136004">,</span>&nbsp;<span class="string" id="7136006">&#34;&#34;</span><span class="op" id="7136008">}</span><span class="op" id="7136009">,</span><br>
<span class="lineno"></span><span class="op" id="7136011">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7136014">//&nbsp;join&nbsp;takes&nbsp;a&nbsp;[]string&nbsp;and&nbsp;passes&nbsp;it&nbsp;to&nbsp;Join.</span><br>
<span class="lineno"></span><span class="keyword" id="7136062">func</span>&nbsp;<span class="ident" id="7136067">join</span><span class="op" id="7136071">(</span><span class="ident" id="7136072">elem</span>&nbsp;<span class="op" id="7136077">[</span><span class="op" id="7136078">]</span><span class="builtintype" id="7136079">string</span><span class="op" id="7136085">,</span>&nbsp;<span class="ident" id="7136087">args</span>&nbsp;<span class="op" id="7136092">...</span><span class="builtintype" id="7136095">string</span><span class="op" id="7136101">)</span>&nbsp;<span class="builtintype" id="7136103">string</span>&nbsp;<span class="op" id="7136110">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136113">args</span>&nbsp;<span class="op" id="7136118">=</span>&nbsp;<span class="ident" id="7136120">elem</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136126">return</span>&nbsp;<span class="ident" id="7136133">Join</span><span class="op" id="7136137">(</span><span class="ident" id="7136138">args</span><span class="op" id="7136142">...</span><span class="op" id="7136145">)</span><br>
<span class="lineno"></span><span class="op" id="7136147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136150">func</span>&nbsp;<span class="ident" id="7136155">TestJoin</span><span class="op" id="7136163">(</span><span class="ident" id="7136164">t</span>&nbsp;<span class="op" id="7136166">*</span><span class="ident" id="7136167">testing</span><span class="op" id="7136174">.</span><span class="ident" id="7136175">T</span><span class="op" id="7136176">)</span>&nbsp;<span class="op" id="7136178">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136181">for</span>&nbsp;<span class="ident" id="7136185">_</span><span class="op" id="7136186">,</span>&nbsp;<span class="ident" id="7136188">test</span>&nbsp;<span class="op" id="7136193">:=</span>&nbsp;<span class="keyword" id="7136196">range</span>&nbsp;<span class="ident" id="7136202">jointests</span>&nbsp;<span class="op" id="7136212">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136216">if</span>&nbsp;<span class="ident" id="7136219">p</span>&nbsp;<span class="op" id="7136221">:=</span>&nbsp;<span class="ident" id="7136224">join</span><span class="op" id="7136228">(</span><span class="ident" id="7136229">test</span><span class="op" id="7136233">.</span><span class="ident" id="7136234">elem</span><span class="op" id="7136238">)</span><span class="op" id="7136239">;</span>&nbsp;<span class="ident" id="7136241">p</span>&nbsp;<span class="op" id="7136243">!=</span>&nbsp;<span class="ident" id="7136246">test</span><span class="op" id="7136250">.</span><span class="ident" id="7136251">path</span>&nbsp;<span class="op" id="7136256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136261">t</span><span class="op" id="7136262">.</span><span class="ident" id="7136263">Errorf</span><span class="op" id="7136269">(</span><span class="string" id="7136270">&#34;join(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7136294">,</span>&nbsp;<span class="ident" id="7136296">test</span><span class="op" id="7136300">.</span><span class="ident" id="7136301">elem</span><span class="op" id="7136305">,</span>&nbsp;<span class="ident" id="7136307">p</span><span class="op" id="7136308">,</span>&nbsp;<span class="ident" id="7136310">test</span><span class="op" id="7136314">.</span><span class="ident" id="7136315">path</span><span class="op" id="7136319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136326">}</span><br>
<span class="lineno">150</span><span class="op" id="7136328">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136331">type</span>&nbsp;<span class="ident" id="7136336">ExtTest</span>&nbsp;<span class="keyword" id="7136344">struct</span>&nbsp;<span class="op" id="7136351">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136354">path</span><span class="op" id="7136358">,</span>&nbsp;<span class="ident" id="7136360">ext</span>&nbsp;<span class="builtintype" id="7136364">string</span><br>
<span class="lineno"></span><span class="op" id="7136371">}</span><br>
<span class="lineno">155</span><br>
<span class="lineno"></span><span class="keyword" id="7136374">var</span>&nbsp;<span class="ident" id="7136378">exttests</span>&nbsp;<span class="op" id="7136387">=</span>&nbsp;<span class="op" id="7136389">[</span><span class="op" id="7136390">]</span><span class="ident" id="7136391">ExtTest</span><span class="op" id="7136398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136401">{</span><span class="string" id="7136402">&#34;path.go&#34;</span><span class="op" id="7136411">,</span>&nbsp;<span class="string" id="7136413">&#34;.go&#34;</span><span class="op" id="7136418">}</span><span class="op" id="7136419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136422">{</span><span class="string" id="7136423">&#34;path.pb.go&#34;</span><span class="op" id="7136435">,</span>&nbsp;<span class="string" id="7136437">&#34;.go&#34;</span><span class="op" id="7136442">}</span><span class="op" id="7136443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136446">{</span><span class="string" id="7136447">&#34;a.dir/b&#34;</span><span class="op" id="7136456">,</span>&nbsp;<span class="string" id="7136458">&#34;&#34;</span><span class="op" id="7136460">}</span><span class="op" id="7136461">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136464">{</span><span class="string" id="7136465">&#34;a.dir/b.go&#34;</span><span class="op" id="7136477">,</span>&nbsp;<span class="string" id="7136479">&#34;.go&#34;</span><span class="op" id="7136484">}</span><span class="op" id="7136485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136488">{</span><span class="string" id="7136489">&#34;a.dir/&#34;</span><span class="op" id="7136497">,</span>&nbsp;<span class="string" id="7136499">&#34;&#34;</span><span class="op" id="7136501">}</span><span class="op" id="7136502">,</span><br>
<span class="lineno"></span><span class="op" id="7136504">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136507">func</span>&nbsp;<span class="ident" id="7136512">TestExt</span><span class="op" id="7136519">(</span><span class="ident" id="7136520">t</span>&nbsp;<span class="op" id="7136522">*</span><span class="ident" id="7136523">testing</span><span class="op" id="7136530">.</span><span class="ident" id="7136531">T</span><span class="op" id="7136532">)</span>&nbsp;<span class="op" id="7136534">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136537">for</span>&nbsp;<span class="ident" id="7136541">_</span><span class="op" id="7136542">,</span>&nbsp;<span class="ident" id="7136544">test</span>&nbsp;<span class="op" id="7136549">:=</span>&nbsp;<span class="keyword" id="7136552">range</span>&nbsp;<span class="ident" id="7136558">exttests</span>&nbsp;<span class="op" id="7136567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136571">if</span>&nbsp;<span class="ident" id="7136574">x</span>&nbsp;<span class="op" id="7136576">:=</span>&nbsp;<span class="ident" id="7136579">Ext</span><span class="op" id="7136582">(</span><span class="ident" id="7136583">test</span><span class="op" id="7136587">.</span><span class="ident" id="7136588">path</span><span class="op" id="7136592">)</span><span class="op" id="7136593">;</span>&nbsp;<span class="ident" id="7136595">x</span>&nbsp;<span class="op" id="7136597">!=</span>&nbsp;<span class="ident" id="7136600">test</span><span class="op" id="7136604">.</span><span class="ident" id="7136605">ext</span>&nbsp;<span class="op" id="7136609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7136614">t</span><span class="op" id="7136615">.</span><span class="ident" id="7136616">Errorf</span><span class="op" id="7136622">(</span><span class="string" id="7136623">&#34;Ext(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7136646">,</span>&nbsp;<span class="ident" id="7136648">test</span><span class="op" id="7136652">.</span><span class="ident" id="7136653">path</span><span class="op" id="7136657">,</span>&nbsp;<span class="ident" id="7136659">x</span><span class="op" id="7136660">,</span>&nbsp;<span class="ident" id="7136662">test</span><span class="op" id="7136666">.</span><span class="ident" id="7136667">ext</span><span class="op" id="7136670">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136677">}</span><br>
<span class="lineno">170</span><span class="op" id="7136679">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136682">var</span>&nbsp;<span class="ident" id="7136686">basetests</span>&nbsp;<span class="op" id="7136696">=</span>&nbsp;<span class="op" id="7136698">[</span><span class="op" id="7136699">]</span><span class="ident" id="7136700">PathTest</span><span class="op" id="7136708">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7136711">//&nbsp;Already&nbsp;clean</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136729">{</span><span class="string" id="7136730">&#34;&#34;</span><span class="op" id="7136732">,</span>&nbsp;<span class="string" id="7136734">&#34;.&#34;</span><span class="op" id="7136737">}</span><span class="op" id="7136738">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136741">{</span><span class="string" id="7136742">&#34;.&#34;</span><span class="op" id="7136745">,</span>&nbsp;<span class="string" id="7136747">&#34;.&#34;</span><span class="op" id="7136750">}</span><span class="op" id="7136751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136754">{</span><span class="string" id="7136755">&#34;/.&#34;</span><span class="op" id="7136759">,</span>&nbsp;<span class="string" id="7136761">&#34;.&#34;</span><span class="op" id="7136764">}</span><span class="op" id="7136765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136768">{</span><span class="string" id="7136769">&#34;/&#34;</span><span class="op" id="7136772">,</span>&nbsp;<span class="string" id="7136774">&#34;/&#34;</span><span class="op" id="7136777">}</span><span class="op" id="7136778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136781">{</span><span class="string" id="7136782">&#34;////&#34;</span><span class="op" id="7136788">,</span>&nbsp;<span class="string" id="7136790">&#34;/&#34;</span><span class="op" id="7136793">}</span><span class="op" id="7136794">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136797">{</span><span class="string" id="7136798">&#34;x/&#34;</span><span class="op" id="7136802">,</span>&nbsp;<span class="string" id="7136804">&#34;x&#34;</span><span class="op" id="7136807">}</span><span class="op" id="7136808">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136811">{</span><span class="string" id="7136812">&#34;abc&#34;</span><span class="op" id="7136817">,</span>&nbsp;<span class="string" id="7136819">&#34;abc&#34;</span><span class="op" id="7136824">}</span><span class="op" id="7136825">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136828">{</span><span class="string" id="7136829">&#34;abc/def&#34;</span><span class="op" id="7136838">,</span>&nbsp;<span class="string" id="7136840">&#34;def&#34;</span><span class="op" id="7136845">}</span><span class="op" id="7136846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136849">{</span><span class="string" id="7136850">&#34;a/b/.x&#34;</span><span class="op" id="7136858">,</span>&nbsp;<span class="string" id="7136860">&#34;.x&#34;</span><span class="op" id="7136864">}</span><span class="op" id="7136865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136868">{</span><span class="string" id="7136869">&#34;a/b/c.&#34;</span><span class="op" id="7136877">,</span>&nbsp;<span class="string" id="7136879">&#34;c.&#34;</span><span class="op" id="7136883">}</span><span class="op" id="7136884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7136887">{</span><span class="string" id="7136888">&#34;a/b/c.x&#34;</span><span class="op" id="7136897">,</span>&nbsp;<span class="string" id="7136899">&#34;c.x&#34;</span><span class="op" id="7136904">}</span><span class="op" id="7136905">,</span><br>
<span class="lineno">185</span><span class="op" id="7136907">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7136910">func</span>&nbsp;<span class="ident" id="7136915">TestBase</span><span class="op" id="7136923">(</span><span class="ident" id="7136924">t</span>&nbsp;<span class="op" id="7136926">*</span><span class="ident" id="7136927">testing</span><span class="op" id="7136934">.</span><span class="ident" id="7136935">T</span><span class="op" id="7136936">)</span>&nbsp;<span class="op" id="7136938">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136941">for</span>&nbsp;<span class="ident" id="7136945">_</span><span class="op" id="7136946">,</span>&nbsp;<span class="ident" id="7136948">test</span>&nbsp;<span class="op" id="7136953">:=</span>&nbsp;<span class="keyword" id="7136956">range</span>&nbsp;<span class="ident" id="7136962">basetests</span>&nbsp;<span class="op" id="7136972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7136976">if</span>&nbsp;<span class="ident" id="7136979">s</span>&nbsp;<span class="op" id="7136981">:=</span>&nbsp;<span class="ident" id="7136984">Base</span><span class="op" id="7136988">(</span><span class="ident" id="7136989">test</span><span class="op" id="7136993">.</span><span class="ident" id="7136994">path</span><span class="op" id="7136998">)</span><span class="op" id="7136999">;</span>&nbsp;<span class="ident" id="7137001">s</span>&nbsp;<span class="op" id="7137003">!=</span>&nbsp;<span class="ident" id="7137006">test</span><span class="op" id="7137010">.</span><span class="ident" id="7137011">result</span>&nbsp;<span class="op" id="7137018">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137023">t</span><span class="op" id="7137024">.</span><span class="ident" id="7137025">Errorf</span><span class="op" id="7137031">(</span><span class="string" id="7137032">&#34;Base(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7137056">,</span>&nbsp;<span class="ident" id="7137058">test</span><span class="op" id="7137062">.</span><span class="ident" id="7137063">path</span><span class="op" id="7137067">,</span>&nbsp;<span class="ident" id="7137069">s</span><span class="op" id="7137070">,</span>&nbsp;<span class="ident" id="7137072">test</span><span class="op" id="7137076">.</span><span class="ident" id="7137077">result</span><span class="op" id="7137083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137090">}</span><br>
<span class="lineno"></span><span class="op" id="7137092">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="7137095">var</span>&nbsp;<span class="ident" id="7137099">dirtests</span>&nbsp;<span class="op" id="7137108">=</span>&nbsp;<span class="op" id="7137110">[</span><span class="op" id="7137111">]</span><span class="ident" id="7137112">PathTest</span><span class="op" id="7137120">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137123">{</span><span class="string" id="7137124">&#34;&#34;</span><span class="op" id="7137126">,</span>&nbsp;<span class="string" id="7137128">&#34;.&#34;</span><span class="op" id="7137131">}</span><span class="op" id="7137132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137135">{</span><span class="string" id="7137136">&#34;.&#34;</span><span class="op" id="7137139">,</span>&nbsp;<span class="string" id="7137141">&#34;.&#34;</span><span class="op" id="7137144">}</span><span class="op" id="7137145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137148">{</span><span class="string" id="7137149">&#34;/.&#34;</span><span class="op" id="7137153">,</span>&nbsp;<span class="string" id="7137155">&#34;/&#34;</span><span class="op" id="7137158">}</span><span class="op" id="7137159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137162">{</span><span class="string" id="7137163">&#34;/&#34;</span><span class="op" id="7137166">,</span>&nbsp;<span class="string" id="7137168">&#34;/&#34;</span><span class="op" id="7137171">}</span><span class="op" id="7137172">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137175">{</span><span class="string" id="7137176">&#34;////&#34;</span><span class="op" id="7137182">,</span>&nbsp;<span class="string" id="7137184">&#34;/&#34;</span><span class="op" id="7137187">}</span><span class="op" id="7137188">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137191">{</span><span class="string" id="7137192">&#34;/foo&#34;</span><span class="op" id="7137198">,</span>&nbsp;<span class="string" id="7137200">&#34;/&#34;</span><span class="op" id="7137203">}</span><span class="op" id="7137204">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137207">{</span><span class="string" id="7137208">&#34;x/&#34;</span><span class="op" id="7137212">,</span>&nbsp;<span class="string" id="7137214">&#34;x&#34;</span><span class="op" id="7137217">}</span><span class="op" id="7137218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137221">{</span><span class="string" id="7137222">&#34;abc&#34;</span><span class="op" id="7137227">,</span>&nbsp;<span class="string" id="7137229">&#34;.&#34;</span><span class="op" id="7137232">}</span><span class="op" id="7137233">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137236">{</span><span class="string" id="7137237">&#34;abc/def&#34;</span><span class="op" id="7137246">,</span>&nbsp;<span class="string" id="7137248">&#34;abc&#34;</span><span class="op" id="7137253">}</span><span class="op" id="7137254">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137257">{</span><span class="string" id="7137258">&#34;abc////def&#34;</span><span class="op" id="7137270">,</span>&nbsp;<span class="string" id="7137272">&#34;abc&#34;</span><span class="op" id="7137277">}</span><span class="op" id="7137278">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137281">{</span><span class="string" id="7137282">&#34;a/b/.x&#34;</span><span class="op" id="7137290">,</span>&nbsp;<span class="string" id="7137292">&#34;a/b&#34;</span><span class="op" id="7137297">}</span><span class="op" id="7137298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137301">{</span><span class="string" id="7137302">&#34;a/b/c.&#34;</span><span class="op" id="7137310">,</span>&nbsp;<span class="string" id="7137312">&#34;a/b&#34;</span><span class="op" id="7137317">}</span><span class="op" id="7137318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137321">{</span><span class="string" id="7137322">&#34;a/b/c.x&#34;</span><span class="op" id="7137331">,</span>&nbsp;<span class="string" id="7137333">&#34;a/b&#34;</span><span class="op" id="7137338">}</span><span class="op" id="7137339">,</span><br>
<span class="lineno"></span><span class="op" id="7137341">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="7137344">func</span>&nbsp;<span class="ident" id="7137349">TestDir</span><span class="op" id="7137356">(</span><span class="ident" id="7137357">t</span>&nbsp;<span class="op" id="7137359">*</span><span class="ident" id="7137360">testing</span><span class="op" id="7137367">.</span><span class="ident" id="7137368">T</span><span class="op" id="7137369">)</span>&nbsp;<span class="op" id="7137371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137374">for</span>&nbsp;<span class="ident" id="7137378">_</span><span class="op" id="7137379">,</span>&nbsp;<span class="ident" id="7137381">test</span>&nbsp;<span class="op" id="7137386">:=</span>&nbsp;<span class="keyword" id="7137389">range</span>&nbsp;<span class="ident" id="7137395">dirtests</span>&nbsp;<span class="op" id="7137404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137408">if</span>&nbsp;<span class="ident" id="7137411">s</span>&nbsp;<span class="op" id="7137413">:=</span>&nbsp;<span class="ident" id="7137416">Dir</span><span class="op" id="7137419">(</span><span class="ident" id="7137420">test</span><span class="op" id="7137424">.</span><span class="ident" id="7137425">path</span><span class="op" id="7137429">)</span><span class="op" id="7137430">;</span>&nbsp;<span class="ident" id="7137432">s</span>&nbsp;<span class="op" id="7137434">!=</span>&nbsp;<span class="ident" id="7137437">test</span><span class="op" id="7137441">.</span><span class="ident" id="7137442">result</span>&nbsp;<span class="op" id="7137449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137454">t</span><span class="op" id="7137455">.</span><span class="ident" id="7137456">Errorf</span><span class="op" id="7137462">(</span><span class="string" id="7137463">&#34;Dir(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7137486">,</span>&nbsp;<span class="ident" id="7137488">test</span><span class="op" id="7137492">.</span><span class="ident" id="7137493">path</span><span class="op" id="7137497">,</span>&nbsp;<span class="ident" id="7137499">s</span><span class="op" id="7137500">,</span>&nbsp;<span class="ident" id="7137502">test</span><span class="op" id="7137506">.</span><span class="ident" id="7137507">result</span><span class="op" id="7137513">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137520">}</span><br>
<span class="lineno"></span><span class="op" id="7137522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137525">type</span>&nbsp;<span class="ident" id="7137530">IsAbsTest</span>&nbsp;<span class="keyword" id="7137540">struct</span>&nbsp;<span class="op" id="7137547">{</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137550">path</span>&nbsp;&nbsp;<span class="builtintype" id="7137556">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137564">isAbs</span>&nbsp;<span class="builtintype" id="7137570">bool</span><br>
<span class="lineno"></span><span class="op" id="7137575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7137578">var</span>&nbsp;<span class="ident" id="7137582">isAbsTests</span>&nbsp;<span class="op" id="7137593">=</span>&nbsp;<span class="op" id="7137595">[</span><span class="op" id="7137596">]</span><span class="ident" id="7137597">IsAbsTest</span><span class="op" id="7137606">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137609">{</span><span class="string" id="7137610">&#34;&#34;</span><span class="op" id="7137612">,</span>&nbsp;<span class="builtintype" id="7137614">false</span><span class="op" id="7137619">}</span><span class="op" id="7137620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137623">{</span><span class="string" id="7137624">&#34;/&#34;</span><span class="op" id="7137627">,</span>&nbsp;<span class="builtintype" id="7137629">true</span><span class="op" id="7137633">}</span><span class="op" id="7137634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137637">{</span><span class="string" id="7137638">&#34;/usr/bin/gcc&#34;</span><span class="op" id="7137652">,</span>&nbsp;<span class="builtintype" id="7137654">true</span><span class="op" id="7137658">}</span><span class="op" id="7137659">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137662">{</span><span class="string" id="7137663">&#34;..&#34;</span><span class="op" id="7137667">,</span>&nbsp;<span class="builtintype" id="7137669">false</span><span class="op" id="7137674">}</span><span class="op" id="7137675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137678">{</span><span class="string" id="7137679">&#34;/a/../bb&#34;</span><span class="op" id="7137689">,</span>&nbsp;<span class="builtintype" id="7137691">true</span><span class="op" id="7137695">}</span><span class="op" id="7137696">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137699">{</span><span class="string" id="7137700">&#34;.&#34;</span><span class="op" id="7137703">,</span>&nbsp;<span class="builtintype" id="7137705">false</span><span class="op" id="7137710">}</span><span class="op" id="7137711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137714">{</span><span class="string" id="7137715">&#34;./&#34;</span><span class="op" id="7137719">,</span>&nbsp;<span class="builtintype" id="7137721">false</span><span class="op" id="7137726">}</span><span class="op" id="7137727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137730">{</span><span class="string" id="7137731">&#34;lala&#34;</span><span class="op" id="7137737">,</span>&nbsp;<span class="builtintype" id="7137739">false</span><span class="op" id="7137744">}</span><span class="op" id="7137745">,</span><br>
<span class="lineno"></span><span class="op" id="7137747">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">235</span><span class="keyword" id="7137750">func</span>&nbsp;<span class="ident" id="7137755">TestIsAbs</span><span class="op" id="7137764">(</span><span class="ident" id="7137765">t</span>&nbsp;<span class="op" id="7137767">*</span><span class="ident" id="7137768">testing</span><span class="op" id="7137775">.</span><span class="ident" id="7137776">T</span><span class="op" id="7137777">)</span>&nbsp;<span class="op" id="7137779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137782">for</span>&nbsp;<span class="ident" id="7137786">_</span><span class="op" id="7137787">,</span>&nbsp;<span class="ident" id="7137789">test</span>&nbsp;<span class="op" id="7137794">:=</span>&nbsp;<span class="keyword" id="7137797">range</span>&nbsp;<span class="ident" id="7137803">isAbsTests</span>&nbsp;<span class="op" id="7137814">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7137818">if</span>&nbsp;<span class="ident" id="7137821">r</span>&nbsp;<span class="op" id="7137823">:=</span>&nbsp;<span class="ident" id="7137826">IsAbs</span><span class="op" id="7137831">(</span><span class="ident" id="7137832">test</span><span class="op" id="7137836">.</span><span class="ident" id="7137837">path</span><span class="op" id="7137841">)</span><span class="op" id="7137842">;</span>&nbsp;<span class="ident" id="7137844">r</span>&nbsp;<span class="op" id="7137846">!=</span>&nbsp;<span class="ident" id="7137849">test</span><span class="op" id="7137853">.</span><span class="ident" id="7137854">isAbs</span>&nbsp;<span class="op" id="7137860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7137865">t</span><span class="op" id="7137866">.</span><span class="ident" id="7137867">Errorf</span><span class="op" id="7137873">(</span><span class="string" id="7137874">&#34;IsAbs(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7137899">,</span>&nbsp;<span class="ident" id="7137901">test</span><span class="op" id="7137905">.</span><span class="ident" id="7137906">path</span><span class="op" id="7137910">,</span>&nbsp;<span class="ident" id="7137912">r</span><span class="op" id="7137913">,</span>&nbsp;<span class="ident" id="7137915">test</span><span class="op" id="7137919">.</span><span class="ident" id="7137920">isAbs</span><span class="op" id="7137925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137929">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7137932">}</span><br>
<span class="lineno"></span><span class="op" id="7137934">}</span>
</div>
</body>
</html>
