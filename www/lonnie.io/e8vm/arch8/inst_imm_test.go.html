<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="7514707">package</span>&nbsp;<span class="ident" id="7514715">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514722">import</span>&nbsp;<span class="op" id="7514729">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7514732">&#34;testing&#34;</span><br>
<span class="lineno">5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7514744">&#34;math/rand&#34;</span><br>
<span class="lineno"></span><span class="op" id="7514756">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514759">func</span>&nbsp;<span class="ident" id="7514764">TestInstImm</span><span class="op" id="7514775">(</span><span class="ident" id="7514776">t</span>&nbsp;<span class="op" id="7514778">*</span><span class="ident" id="7514779"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514732">testing</a></span><span class="op" id="7514786">.</span><span class="ident" id="7514787">T</span><span class="op" id="7514788">)</span>&nbsp;<span class="op" id="7514790">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514793">m</span>&nbsp;<span class="op" id="7514795">:=</span>&nbsp;<span class="ident" id="7514798"><a href="/lonnie.io/e8vm/arch8/phy_memory.go.html#5309431">newPhyMemory</a></span><span class="op" id="7514810">(</span><span class="ident" id="7514811"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7514820">*</span>&nbsp;<span class="num" id="7514822">32</span><span class="op" id="7514824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514827">cpu</span>&nbsp;<span class="op" id="7514831">:=</span>&nbsp;<span class="ident" id="7514834"><a href="/lonnie.io/e8vm/arch8/cpu.go.html#5286144">newCPU</a></span><span class="op" id="7514840">(</span><span class="ident" id="7514841"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7514842">,</span>&nbsp;<span class="builtinfunc" id="7514844">new</span><span class="op" id="7514847">(</span><span class="ident" id="7514848"><a href="/lonnie.io/e8vm/arch8/inst_imm.go.html#5292632">instImm</a></span><span class="op" id="7514855">)</span><span class="op" id="7514856">,</span>&nbsp;<span class="num" id="7514858">0</span><span class="op" id="7514859">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514863">tst</span>&nbsp;<span class="op" id="7514867">:=</span>&nbsp;<span class="keyword" id="7514870">func</span><span class="op" id="7514874">(</span><span class="ident" id="7514875">op</span><span class="op" id="7514877">,</span>&nbsp;<span class="ident" id="7514879">s</span><span class="op" id="7514880">,</span>&nbsp;<span class="ident" id="7514882">v</span><span class="op" id="7514883">,</span>&nbsp;<span class="ident" id="7514885">im</span><span class="op" id="7514887">,</span>&nbsp;<span class="ident" id="7514889">d</span><span class="op" id="7514890">,</span>&nbsp;<span class="ident" id="7514892">res</span>&nbsp;<span class="builtintype" id="7514896">uint32</span><span class="op" id="7514902">)</span>&nbsp;<span class="op" id="7514904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514908"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7514911">.</span><span class="ident" id="7514912">Reset</span><span class="op" id="7514917">(</span><span class="op" id="7514918">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514923">in</span>&nbsp;<span class="op" id="7514926">:=</span>&nbsp;<span class="op" id="7514929">(</span><span class="ident" id="7514930"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514875">op</a></span>&nbsp;<span class="op" id="7514933">&amp;</span>&nbsp;<span class="num" id="7514935">0xff</span><span class="op" id="7514939">)</span>&nbsp;<span class="op" id="7514941">&lt;&lt;</span>&nbsp;<span class="num" id="7514944">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514949"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514923">in</a></span>&nbsp;<span class="op" id="7514952">|=</span>&nbsp;<span class="op" id="7514955">(</span><span class="ident" id="7514956"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514879">s</a></span>&nbsp;<span class="op" id="7514958">&amp;</span>&nbsp;<span class="num" id="7514960">0x7</span><span class="op" id="7514963">)</span>&nbsp;<span class="op" id="7514965">&lt;&lt;</span>&nbsp;<span class="num" id="7514968">18</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514973"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514923">in</a></span>&nbsp;<span class="op" id="7514976">|=</span>&nbsp;<span class="op" id="7514979">(</span><span class="ident" id="7514980"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514889">d</a></span>&nbsp;<span class="op" id="7514982">&amp;</span>&nbsp;<span class="num" id="7514984">0x7</span><span class="op" id="7514987">)</span>&nbsp;<span class="op" id="7514989">&lt;&lt;</span>&nbsp;<span class="num" id="7514992">21</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514997"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514923">in</a></span>&nbsp;<span class="op" id="7515000">|=</span>&nbsp;<span class="ident" id="7515003"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514885">im</a></span>&nbsp;<span class="op" id="7515006">&amp;</span>&nbsp;<span class="num" id="7515008">0xffff</span><br>
<span class="lineno">20</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515018"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7515019">.</span><span class="ident" id="7515020">WriteWord</span><span class="op" id="7515029">(</span><span class="ident" id="7515030"><a href="/lonnie.io/e8vm/arch8/cpu.go.html#5286062">InitPC</a></span><span class="op" id="7515036">,</span>&nbsp;<span class="ident" id="7515038"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514923">in</a></span><span class="op" id="7515040">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515045"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515048">.</span><span class="ident" id="7515049">regs</span><span class="op" id="7515053">[</span><span class="ident" id="7515054"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514879">s</a></span><span class="op" id="7515055">]</span>&nbsp;<span class="op" id="7515057">=</span>&nbsp;<span class="ident" id="7515059"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514882">v</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515063">e</span>&nbsp;<span class="op" id="7515065">:=</span>&nbsp;<span class="ident" id="7515068"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515071">.</span><span class="ident" id="7515072">Tick</span><span class="op" id="7515076">(</span><span class="op" id="7515077">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515081">if</span>&nbsp;<span class="ident" id="7515084"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515063">e</a></span>&nbsp;<span class="op" id="7515086">!=</span>&nbsp;<span class="ident" id="7515089">nil</span>&nbsp;<span class="op" id="7515093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515098"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7515099">.</span><span class="ident" id="7515100">Fatal</span><span class="op" id="7515105">(</span><span class="string" id="7515106">&#34;unexpected&nbsp;exception&#34;</span><span class="op" id="7515128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515132">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515137">got</span>&nbsp;<span class="op" id="7515141">:=</span>&nbsp;<span class="ident" id="7515144"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515147">.</span><span class="ident" id="7515148">regs</span><span class="op" id="7515152">[</span><span class="ident" id="7515153"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514889">d</a></span><span class="op" id="7515154">]</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515158">if</span>&nbsp;<span class="ident" id="7515161"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515137">got</a></span>&nbsp;<span class="op" id="7515165">!=</span>&nbsp;<span class="ident" id="7515168"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514892">res</a></span>&nbsp;<span class="op" id="7515172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515177"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7515178">.</span><span class="ident" id="7515179">Fatalf</span><span class="op" id="7515185">(</span><span class="string" id="7515186">&#34;got&nbsp;0x%08x,&nbsp;expect&nbsp;0x%08x&#34;</span><span class="op" id="7515213">,</span>&nbsp;<span class="ident" id="7515215"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515137">got</a></span><span class="op" id="7515218">,</span>&nbsp;<span class="ident" id="7515220"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514892">res</a></span><span class="op" id="7515223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515227">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515230">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515234">twr</span>&nbsp;<span class="op" id="7515238">:=</span>&nbsp;<span class="keyword" id="7515241">func</span><span class="op" id="7515245">(</span><span class="ident" id="7515246">op</span><span class="op" id="7515248">,</span>&nbsp;<span class="ident" id="7515250">s</span><span class="op" id="7515251">,</span>&nbsp;<span class="ident" id="7515253">v</span><span class="op" id="7515254">,</span>&nbsp;<span class="ident" id="7515256">im</span><span class="op" id="7515258">,</span>&nbsp;<span class="ident" id="7515260">d</span><span class="op" id="7515261">,</span>&nbsp;<span class="ident" id="7515263">w</span>&nbsp;<span class="builtintype" id="7515265">uint32</span><span class="op" id="7515271">)</span>&nbsp;<span class="op" id="7515273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515277"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515280">.</span><span class="ident" id="7515281">Reset</span><span class="op" id="7515286">(</span><span class="op" id="7515287">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515292">in</span>&nbsp;<span class="op" id="7515295">:=</span>&nbsp;<span class="op" id="7515298">(</span><span class="ident" id="7515299"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515246">op</a></span>&nbsp;<span class="op" id="7515302">&amp;</span>&nbsp;<span class="num" id="7515304">0xff</span><span class="op" id="7515308">)</span>&nbsp;<span class="op" id="7515310">&lt;&lt;</span>&nbsp;<span class="num" id="7515313">24</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515318"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515292">in</a></span>&nbsp;<span class="op" id="7515321">|=</span>&nbsp;<span class="op" id="7515324">(</span><span class="ident" id="7515325"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515250">s</a></span>&nbsp;<span class="op" id="7515327">&amp;</span>&nbsp;<span class="num" id="7515329">0x7</span><span class="op" id="7515332">)</span>&nbsp;<span class="op" id="7515334">&lt;&lt;</span>&nbsp;<span class="num" id="7515337">18</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515342"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515292">in</a></span>&nbsp;<span class="op" id="7515345">|=</span>&nbsp;<span class="op" id="7515348">(</span><span class="ident" id="7515349"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515260">d</a></span>&nbsp;<span class="op" id="7515351">&amp;</span>&nbsp;<span class="num" id="7515353">0x7</span><span class="op" id="7515356">)</span>&nbsp;<span class="op" id="7515358">&lt;&lt;</span>&nbsp;<span class="num" id="7515361">21</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515366"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515292">in</a></span>&nbsp;<span class="op" id="7515369">|=</span>&nbsp;<span class="ident" id="7515372"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515256">im</a></span>&nbsp;<span class="op" id="7515375">&amp;</span>&nbsp;<span class="num" id="7515377">0xffff</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515387"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7515388">.</span><span class="ident" id="7515389">WriteWord</span><span class="op" id="7515398">(</span><span class="ident" id="7515399"><a href="/lonnie.io/e8vm/arch8/cpu.go.html#5286062">InitPC</a></span><span class="op" id="7515405">,</span>&nbsp;<span class="ident" id="7515407"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515292">in</a></span><span class="op" id="7515409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515413"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515416">.</span><span class="ident" id="7515417">regs</span><span class="op" id="7515421">[</span><span class="ident" id="7515422"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515250">s</a></span><span class="op" id="7515423">]</span>&nbsp;<span class="op" id="7515425">=</span>&nbsp;<span class="ident" id="7515427"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515253">v</a></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515431"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515434">.</span><span class="ident" id="7515435">regs</span><span class="op" id="7515439">[</span><span class="ident" id="7515440"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515260">d</a></span><span class="op" id="7515441">]</span>&nbsp;<span class="op" id="7515443">=</span>&nbsp;<span class="ident" id="7515445"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515263">w</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515449">e</span>&nbsp;<span class="op" id="7515451">:=</span>&nbsp;<span class="ident" id="7515454"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514827">cpu</a></span><span class="op" id="7515457">.</span><span class="ident" id="7515458">Tick</span><span class="op" id="7515462">(</span><span class="op" id="7515463">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515467">if</span>&nbsp;<span class="ident" id="7515470"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515449">e</a></span>&nbsp;<span class="op" id="7515472">!=</span>&nbsp;<span class="ident" id="7515475">nil</span>&nbsp;<span class="op" id="7515479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515484"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7515485">.</span><span class="ident" id="7515486">Fatal</span><span class="op" id="7515491">(</span><span class="string" id="7515492">&#34;unexpected&nbsp;exception&#34;</span><span class="op" id="7515514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515518">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515525">tf</span>&nbsp;<span class="op" id="7515528">:=</span>&nbsp;<span class="keyword" id="7515531">func</span><span class="op" id="7515535">(</span><span class="ident" id="7515536">op</span>&nbsp;<span class="builtintype" id="7515539">uint32</span><span class="op" id="7515545">,</span>&nbsp;<span class="ident" id="7515547">f</span>&nbsp;<span class="keyword" id="7515549">func</span><span class="op" id="7515553">(</span><span class="ident" id="7515554">v</span><span class="op" id="7515555">,</span>&nbsp;<span class="ident" id="7515557">im</span>&nbsp;<span class="builtintype" id="7515560">uint32</span><span class="op" id="7515566">)</span>&nbsp;<span class="builtintype" id="7515568">uint32</span><span class="op" id="7515574">)</span>&nbsp;<span class="op" id="7515576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515580">for</span>&nbsp;<span class="ident" id="7515584">i</span>&nbsp;<span class="op" id="7515586">:=</span>&nbsp;<span class="num" id="7515589">0</span><span class="op" id="7515590">;</span>&nbsp;<span class="ident" id="7515592"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515584">i</a></span>&nbsp;<span class="op" id="7515594">&lt;</span>&nbsp;<span class="num" id="7515596">100</span><span class="op" id="7515599">;</span>&nbsp;<span class="ident" id="7515601"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515584">i</a></span><span class="op" id="7515602">++</span>&nbsp;<span class="op" id="7515605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515610">s</span>&nbsp;<span class="op" id="7515612">:=</span>&nbsp;<span class="builtintype" id="7515615">uint32</span><span class="op" id="7515621">(</span><span class="ident" id="7515622"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7515626">.</span><span class="ident" id="7515627">Intn</span><span class="op" id="7515631">(</span><span class="num" id="7515632">5</span><span class="op" id="7515633">)</span><span class="op" id="7515634">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515639">d</span>&nbsp;<span class="op" id="7515641">:=</span>&nbsp;<span class="builtintype" id="7515644">uint32</span><span class="op" id="7515650">(</span><span class="ident" id="7515651"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7515655">.</span><span class="ident" id="7515656">Intn</span><span class="op" id="7515660">(</span><span class="num" id="7515661">5</span><span class="op" id="7515662">)</span><span class="op" id="7515663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515668">v</span>&nbsp;<span class="op" id="7515670">:=</span>&nbsp;<span class="builtintype" id="7515673">uint32</span><span class="op" id="7515679">(</span><span class="ident" id="7515680"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7515684">.</span><span class="ident" id="7515685">Int63</span><span class="op" id="7515690">(</span><span class="op" id="7515691">)</span><span class="op" id="7515692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515697">im</span>&nbsp;<span class="op" id="7515700">:=</span>&nbsp;<span class="builtintype" id="7515703">uint32</span><span class="op" id="7515709">(</span><span class="ident" id="7515710"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7515714">.</span><span class="ident" id="7515715">Int63</span><span class="op" id="7515720">(</span><span class="op" id="7515721">)</span><span class="op" id="7515722">)</span>&nbsp;<span class="op" id="7515724">&amp;</span>&nbsp;<span class="num" id="7515726">0xffff</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515737">exp</span>&nbsp;<span class="op" id="7515741">:=</span>&nbsp;<span class="ident" id="7515744"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515547">f</a></span><span class="op" id="7515745">(</span><span class="ident" id="7515746"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515668">v</a></span><span class="op" id="7515747">,</span>&nbsp;<span class="ident" id="7515749"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515697">im</a></span><span class="op" id="7515751">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515757"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514863">tst</a></span><span class="op" id="7515760">(</span><span class="ident" id="7515761"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515536">op</a></span><span class="op" id="7515763">,</span>&nbsp;<span class="ident" id="7515765"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515610">s</a></span><span class="op" id="7515766">,</span>&nbsp;<span class="ident" id="7515768"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515668">v</a></span><span class="op" id="7515769">,</span>&nbsp;<span class="ident" id="7515771"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515697">im</a></span><span class="op" id="7515773">,</span>&nbsp;<span class="ident" id="7515775"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515639">d</a></span><span class="op" id="7515776">,</span>&nbsp;<span class="ident" id="7515778"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515737">exp</a></span><span class="op" id="7515781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515788">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515792">sext</span>&nbsp;<span class="op" id="7515797">:=</span>&nbsp;<span class="keyword" id="7515800">func</span><span class="op" id="7515804">(</span><span class="ident" id="7515805">i</span>&nbsp;<span class="builtintype" id="7515807">uint32</span><span class="op" id="7515813">)</span>&nbsp;<span class="builtintype" id="7515815">uint32</span>&nbsp;<span class="op" id="7515822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515826">return</span>&nbsp;<span class="builtintype" id="7515833">uint32</span><span class="op" id="7515839">(</span><span class="op" id="7515840">(</span><span class="builtintype" id="7515841">int32</span><span class="op" id="7515846">(</span><span class="ident" id="7515847"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515805">i</a></span>&nbsp;<span class="op" id="7515849">&lt;&lt;</span>&nbsp;<span class="num" id="7515852">16</span><span class="op" id="7515854">)</span><span class="op" id="7515855">)</span>&nbsp;<span class="op" id="7515857">&gt;&gt;</span>&nbsp;<span class="num" id="7515860">16</span><span class="op" id="7515862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515865">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515869"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515525">tf</a></span><span class="op" id="7515871">(</span><span class="num" id="7515872">1</span><span class="op" id="7515873">,</span>&nbsp;<span class="keyword" id="7515875">func</span><span class="op" id="7515879">(</span><span class="ident" id="7515880">v</span><span class="op" id="7515881">,</span>&nbsp;<span class="ident" id="7515883">im</span>&nbsp;<span class="builtintype" id="7515886">uint32</span><span class="op" id="7515892">)</span>&nbsp;<span class="builtintype" id="7515894">uint32</span>&nbsp;<span class="op" id="7515901">{</span>&nbsp;<span class="keyword" id="7515903">return</span>&nbsp;<span class="ident" id="7515910"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515880">v</a></span>&nbsp;<span class="op" id="7515912">+</span>&nbsp;<span class="ident" id="7515914"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515792">sext</a></span><span class="op" id="7515918">(</span><span class="ident" id="7515919"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515883">im</a></span><span class="op" id="7515921">)</span>&nbsp;<span class="op" id="7515923">}</span><span class="op" id="7515924">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515927"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515525">tf</a></span><span class="op" id="7515929">(</span><span class="num" id="7515930">2</span><span class="op" id="7515931">,</span>&nbsp;<span class="keyword" id="7515933">func</span><span class="op" id="7515937">(</span><span class="ident" id="7515938">v</span><span class="op" id="7515939">,</span>&nbsp;<span class="ident" id="7515941">im</span>&nbsp;<span class="builtintype" id="7515944">uint32</span><span class="op" id="7515950">)</span>&nbsp;<span class="builtintype" id="7515952">uint32</span>&nbsp;<span class="op" id="7515959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515963">se</span>&nbsp;<span class="op" id="7515966">:=</span>&nbsp;<span class="ident" id="7515969"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515792">sext</a></span><span class="op" id="7515973">(</span><span class="ident" id="7515974"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515941">im</a></span><span class="op" id="7515976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515980">if</span>&nbsp;<span class="builtintype" id="7515983">int32</span><span class="op" id="7515988">(</span><span class="ident" id="7515989"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515938">v</a></span><span class="op" id="7515990">)</span>&nbsp;<span class="op" id="7515992">&lt;</span>&nbsp;<span class="builtintype" id="7515994">int32</span><span class="op" id="7515999">(</span><span class="ident" id="7516000"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515963">se</a></span><span class="op" id="7516002">)</span>&nbsp;<span class="op" id="7516004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516009">return</span>&nbsp;<span class="num" id="7516016">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516020">}</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516024">return</span>&nbsp;<span class="num" id="7516031">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516034">}</span><span class="op" id="7516035">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516038"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515525">tf</a></span><span class="op" id="7516040">(</span><span class="num" id="7516041">3</span><span class="op" id="7516042">,</span>&nbsp;<span class="keyword" id="7516044">func</span><span class="op" id="7516048">(</span><span class="ident" id="7516049">v</span><span class="op" id="7516050">,</span>&nbsp;<span class="ident" id="7516052">im</span>&nbsp;<span class="builtintype" id="7516055">uint32</span><span class="op" id="7516061">)</span>&nbsp;<span class="builtintype" id="7516063">uint32</span>&nbsp;<span class="op" id="7516070">{</span>&nbsp;<span class="keyword" id="7516072">return</span>&nbsp;<span class="ident" id="7516079"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516049">v</a></span>&nbsp;<span class="op" id="7516081">&amp;</span>&nbsp;<span class="ident" id="7516083"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516052">im</a></span>&nbsp;<span class="op" id="7516086">}</span><span class="op" id="7516087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516090"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515525">tf</a></span><span class="op" id="7516092">(</span><span class="num" id="7516093">4</span><span class="op" id="7516094">,</span>&nbsp;<span class="keyword" id="7516096">func</span><span class="op" id="7516100">(</span><span class="ident" id="7516101">v</span><span class="op" id="7516102">,</span>&nbsp;<span class="ident" id="7516104">im</span>&nbsp;<span class="builtintype" id="7516107">uint32</span><span class="op" id="7516113">)</span>&nbsp;<span class="builtintype" id="7516115">uint32</span>&nbsp;<span class="op" id="7516122">{</span>&nbsp;<span class="keyword" id="7516124">return</span>&nbsp;<span class="ident" id="7516131"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516101">v</a></span>&nbsp;<span class="op" id="7516133">|</span>&nbsp;<span class="ident" id="7516135"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516104">im</a></span>&nbsp;<span class="op" id="7516138">}</span><span class="op" id="7516139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516142"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515525">tf</a></span><span class="op" id="7516144">(</span><span class="num" id="7516145">5</span><span class="op" id="7516146">,</span>&nbsp;<span class="keyword" id="7516148">func</span><span class="op" id="7516152">(</span><span class="ident" id="7516153">_</span><span class="op" id="7516154">,</span>&nbsp;<span class="ident" id="7516156">im</span>&nbsp;<span class="builtintype" id="7516159">uint32</span><span class="op" id="7516165">)</span>&nbsp;<span class="builtintype" id="7516167">uint32</span>&nbsp;<span class="op" id="7516174">{</span>&nbsp;<span class="keyword" id="7516176">return</span>&nbsp;<span class="ident" id="7516183"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516156">im</a></span>&nbsp;<span class="op" id="7516186">&lt;&lt;</span>&nbsp;<span class="num" id="7516189">16</span>&nbsp;<span class="op" id="7516192">}</span><span class="op" id="7516193">)</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516197">for</span>&nbsp;<span class="ident" id="7516201">i</span>&nbsp;<span class="op" id="7516203">:=</span>&nbsp;<span class="num" id="7516206">0</span><span class="op" id="7516207">;</span>&nbsp;<span class="ident" id="7516209"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516201">i</a></span>&nbsp;<span class="op" id="7516211">&lt;</span>&nbsp;<span class="num" id="7516213">100</span><span class="op" id="7516216">;</span>&nbsp;<span class="ident" id="7516218"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516201">i</a></span><span class="op" id="7516219">++</span>&nbsp;<span class="op" id="7516222">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516226">addr</span>&nbsp;<span class="op" id="7516231">:=</span>&nbsp;<span class="builtintype" id="7516234">uint32</span><span class="op" id="7516240">(</span><span class="ident" id="7516241"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7516250">*</span>&nbsp;<span class="num" id="7516252">10</span><span class="op" id="7516254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516258"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516226">addr</a></span>&nbsp;<span class="op" id="7516263">+=</span>&nbsp;<span class="builtintype" id="7516266">uint32</span><span class="op" id="7516272">(</span><span class="ident" id="7516273"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516277">.</span><span class="ident" id="7516278">Int63</span><span class="op" id="7516283">(</span><span class="op" id="7516284">)</span><span class="op" id="7516285">)</span>&nbsp;<span class="op" id="7516287">%</span>&nbsp;<span class="ident" id="7516289"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7516298">*</span>&nbsp;<span class="num" id="7516300">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516304">offset</span>&nbsp;<span class="op" id="7516311">:=</span>&nbsp;<span class="builtintype" id="7516314">uint32</span><span class="op" id="7516320">(</span><span class="ident" id="7516321"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516325">.</span><span class="ident" id="7516326">Int63</span><span class="op" id="7516331">(</span><span class="op" id="7516332">)</span><span class="op" id="7516333">)</span>&nbsp;<span class="op" id="7516335">%</span>&nbsp;<span class="ident" id="7516337"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516348"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516304">offset</a></span>&nbsp;<span class="op" id="7516355">-=</span>&nbsp;<span class="ident" id="7516358"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516304">offset</a></span>&nbsp;<span class="op" id="7516365">%</span>&nbsp;<span class="num" id="7516367">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516371"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516304">offset</a></span>&nbsp;<span class="op" id="7516378">-=</span>&nbsp;<span class="ident" id="7516381"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7516390">/</span>&nbsp;<span class="num" id="7516392">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516396">w</span>&nbsp;<span class="op" id="7516398">:=</span>&nbsp;<span class="builtintype" id="7516401">uint32</span><span class="op" id="7516407">(</span><span class="ident" id="7516408"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516412">.</span><span class="ident" id="7516413">Int63</span><span class="op" id="7516418">(</span><span class="op" id="7516419">)</span><span class="op" id="7516420">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516425">e</span>&nbsp;<span class="op" id="7516427">:=</span>&nbsp;<span class="ident" id="7516430"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7516431">.</span><span class="ident" id="7516432">WriteWord</span><span class="op" id="7516441">(</span><span class="ident" id="7516442"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516226">addr</a></span><span class="op" id="7516446">+</span><span class="ident" id="7516447"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516304">offset</a></span><span class="op" id="7516453">,</span>&nbsp;<span class="ident" id="7516455"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516396">w</a></span><span class="op" id="7516456">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516460">if</span>&nbsp;<span class="ident" id="7516463"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516425">e</a></span>&nbsp;<span class="op" id="7516465">!=</span>&nbsp;<span class="ident" id="7516468">nil</span>&nbsp;<span class="op" id="7516472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516477"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7516478">.</span><span class="ident" id="7516479">Fatal</span><span class="op" id="7516484">(</span><span class="string" id="7516485">&#34;write&nbsp;fail&#34;</span><span class="op" id="7516497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516505">s</span>&nbsp;<span class="op" id="7516507">:=</span>&nbsp;<span class="builtintype" id="7516510">uint32</span><span class="op" id="7516516">(</span><span class="ident" id="7516517"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516521">.</span><span class="ident" id="7516522">Intn</span><span class="op" id="7516526">(</span><span class="num" id="7516527">5</span><span class="op" id="7516528">)</span><span class="op" id="7516529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516533">d</span>&nbsp;<span class="op" id="7516535">:=</span>&nbsp;<span class="builtintype" id="7516538">uint32</span><span class="op" id="7516544">(</span><span class="ident" id="7516545"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516549">.</span><span class="ident" id="7516550">Intn</span><span class="op" id="7516554">(</span><span class="num" id="7516555">5</span><span class="op" id="7516556">)</span><span class="op" id="7516557">)</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516562"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514863">tst</a></span><span class="op" id="7516565">(</span><span class="num" id="7516566">6</span><span class="op" id="7516567">,</span>&nbsp;<span class="ident" id="7516569"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516505">s</a></span><span class="op" id="7516570">,</span>&nbsp;<span class="ident" id="7516572"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516226">addr</a></span><span class="op" id="7516576">,</span>&nbsp;<span class="ident" id="7516578"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516304">offset</a></span><span class="op" id="7516584">,</span>&nbsp;<span class="ident" id="7516586"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516533">d</a></span><span class="op" id="7516587">,</span>&nbsp;<span class="ident" id="7516589"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516396">w</a></span><span class="op" id="7516590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516593">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516597">for</span>&nbsp;<span class="ident" id="7516601">i</span>&nbsp;<span class="op" id="7516603">:=</span>&nbsp;<span class="num" id="7516606">0</span><span class="op" id="7516607">;</span>&nbsp;<span class="ident" id="7516609"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516601">i</a></span>&nbsp;<span class="op" id="7516611">&lt;</span>&nbsp;<span class="num" id="7516613">100</span><span class="op" id="7516616">;</span>&nbsp;<span class="ident" id="7516618"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516601">i</a></span><span class="op" id="7516619">++</span>&nbsp;<span class="op" id="7516622">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516626">addr</span>&nbsp;<span class="op" id="7516631">:=</span>&nbsp;<span class="builtintype" id="7516634">uint32</span><span class="op" id="7516640">(</span><span class="ident" id="7516641"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7516650">*</span>&nbsp;<span class="num" id="7516652">10</span><span class="op" id="7516654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516658"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516626">addr</a></span>&nbsp;<span class="op" id="7516663">+=</span>&nbsp;<span class="builtintype" id="7516666">uint32</span><span class="op" id="7516672">(</span><span class="ident" id="7516673"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516677">.</span><span class="ident" id="7516678">Int63</span><span class="op" id="7516683">(</span><span class="op" id="7516684">)</span><span class="op" id="7516685">)</span>&nbsp;<span class="op" id="7516687">%</span>&nbsp;<span class="ident" id="7516689"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7516698">*</span>&nbsp;<span class="num" id="7516700">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516704">offset</span>&nbsp;<span class="op" id="7516711">:=</span>&nbsp;<span class="builtintype" id="7516714">uint32</span><span class="op" id="7516720">(</span><span class="ident" id="7516721"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516725">.</span><span class="ident" id="7516726">Int63</span><span class="op" id="7516731">(</span><span class="op" id="7516732">)</span><span class="op" id="7516733">)</span>&nbsp;<span class="op" id="7516735">%</span>&nbsp;<span class="ident" id="7516737"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516748"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516704">offset</a></span>&nbsp;<span class="op" id="7516755">-=</span>&nbsp;<span class="ident" id="7516758"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7516767">/</span>&nbsp;<span class="num" id="7516769">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516773">b</span>&nbsp;<span class="op" id="7516775">:=</span>&nbsp;<span class="builtintype" id="7516778">byte</span><span class="op" id="7516782">(</span><span class="ident" id="7516783"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516787">.</span><span class="ident" id="7516788">Int63</span><span class="op" id="7516793">(</span><span class="op" id="7516794">)</span><span class="op" id="7516795">)</span><br>
<span class="lineno">105</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516800">e</span>&nbsp;<span class="op" id="7516802">:=</span>&nbsp;<span class="ident" id="7516805"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7516806">.</span><span class="ident" id="7516807">WriteByte</span><span class="op" id="7516816">(</span><span class="ident" id="7516817"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516626">addr</a></span><span class="op" id="7516821">+</span><span class="ident" id="7516822"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516704">offset</a></span><span class="op" id="7516828">,</span>&nbsp;<span class="ident" id="7516830"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516773">b</a></span><span class="op" id="7516831">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7516835">if</span>&nbsp;<span class="ident" id="7516838"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516800">e</a></span>&nbsp;<span class="op" id="7516840">!=</span>&nbsp;<span class="ident" id="7516843">nil</span>&nbsp;<span class="op" id="7516847">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516852"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7516853">.</span><span class="ident" id="7516854">Fatal</span><span class="op" id="7516859">(</span><span class="string" id="7516860">&#34;write&nbsp;fail&#34;</span><span class="op" id="7516872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7516876">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516880">s</span>&nbsp;<span class="op" id="7516882">:=</span>&nbsp;<span class="builtintype" id="7516885">uint32</span><span class="op" id="7516891">(</span><span class="ident" id="7516892"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516896">.</span><span class="ident" id="7516897">Intn</span><span class="op" id="7516901">(</span><span class="num" id="7516902">5</span><span class="op" id="7516903">)</span><span class="op" id="7516904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516908">d</span>&nbsp;<span class="op" id="7516910">:=</span>&nbsp;<span class="builtintype" id="7516913">uint32</span><span class="op" id="7516919">(</span><span class="ident" id="7516920"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7516924">.</span><span class="ident" id="7516925">Intn</span><span class="op" id="7516929">(</span><span class="num" id="7516930">5</span><span class="op" id="7516931">)</span><span class="op" id="7516932">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516937">w</span>&nbsp;<span class="op" id="7516939">:=</span>&nbsp;<span class="builtintype" id="7516942">uint32</span><span class="op" id="7516948">(</span><span class="builtintype" id="7516949">int32</span><span class="op" id="7516954">(</span><span class="builtintype" id="7516955">uint32</span><span class="op" id="7516961">(</span><span class="ident" id="7516962"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516773">b</a></span><span class="op" id="7516963">)</span><span class="op" id="7516964">&lt;&lt;</span><span class="num" id="7516966">24</span><span class="op" id="7516968">)</span>&nbsp;<span class="op" id="7516970">&gt;&gt;</span>&nbsp;<span class="num" id="7516973">24</span><span class="op" id="7516975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7516979"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514863">tst</a></span><span class="op" id="7516982">(</span><span class="num" id="7516983">7</span><span class="op" id="7516984">,</span>&nbsp;<span class="ident" id="7516986"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516880">s</a></span><span class="op" id="7516987">,</span>&nbsp;<span class="ident" id="7516989"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516626">addr</a></span><span class="op" id="7516993">,</span>&nbsp;<span class="ident" id="7516995"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516704">offset</a></span><span class="op" id="7517001">,</span>&nbsp;<span class="ident" id="7517003"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516908">d</a></span><span class="op" id="7517004">,</span>&nbsp;<span class="ident" id="7517006"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516937">w</a></span><span class="op" id="7517007">)</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517011"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514863">tst</a></span><span class="op" id="7517014">(</span><span class="num" id="7517015">8</span><span class="op" id="7517016">,</span>&nbsp;<span class="ident" id="7517018"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516880">s</a></span><span class="op" id="7517019">,</span>&nbsp;<span class="ident" id="7517021"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516626">addr</a></span><span class="op" id="7517025">,</span>&nbsp;<span class="ident" id="7517027"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516704">offset</a></span><span class="op" id="7517033">,</span>&nbsp;<span class="ident" id="7517035"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516908">d</a></span><span class="op" id="7517036">,</span>&nbsp;<span class="builtintype" id="7517038">uint32</span><span class="op" id="7517044">(</span><span class="ident" id="7517045"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7516773">b</a></span><span class="op" id="7517046">)</span><span class="op" id="7517047">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517050">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517054">for</span>&nbsp;<span class="ident" id="7517058">i</span>&nbsp;<span class="op" id="7517060">:=</span>&nbsp;<span class="num" id="7517063">0</span><span class="op" id="7517064">;</span>&nbsp;<span class="ident" id="7517066"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517058">i</a></span>&nbsp;<span class="op" id="7517068">&lt;</span>&nbsp;<span class="num" id="7517070">100</span><span class="op" id="7517073">;</span>&nbsp;<span class="ident" id="7517075"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517058">i</a></span><span class="op" id="7517076">++</span>&nbsp;<span class="op" id="7517079">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517083">addr</span>&nbsp;<span class="op" id="7517088">:=</span>&nbsp;<span class="builtintype" id="7517091">uint32</span><span class="op" id="7517097">(</span><span class="ident" id="7517098"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7517107">*</span>&nbsp;<span class="num" id="7517109">10</span><span class="op" id="7517111">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517115"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517083">addr</a></span>&nbsp;<span class="op" id="7517120">+=</span>&nbsp;<span class="builtintype" id="7517123">uint32</span><span class="op" id="7517129">(</span><span class="ident" id="7517130"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517134">.</span><span class="ident" id="7517135">Int63</span><span class="op" id="7517140">(</span><span class="op" id="7517141">)</span><span class="op" id="7517142">)</span>&nbsp;<span class="op" id="7517144">%</span>&nbsp;<span class="ident" id="7517146"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7517155">*</span>&nbsp;<span class="num" id="7517157">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517161">offset</span>&nbsp;<span class="op" id="7517168">:=</span>&nbsp;<span class="builtintype" id="7517171">uint32</span><span class="op" id="7517177">(</span><span class="ident" id="7517178"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517182">.</span><span class="ident" id="7517183">Int63</span><span class="op" id="7517188">(</span><span class="op" id="7517189">)</span><span class="op" id="7517190">)</span>&nbsp;<span class="op" id="7517192">%</span>&nbsp;<span class="ident" id="7517194"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517205"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517161">offset</a></span>&nbsp;<span class="op" id="7517212">-=</span>&nbsp;<span class="ident" id="7517215"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517161">offset</a></span>&nbsp;<span class="op" id="7517222">%</span>&nbsp;<span class="num" id="7517224">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517228"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517161">offset</a></span>&nbsp;<span class="op" id="7517235">-=</span>&nbsp;<span class="ident" id="7517238"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7517247">/</span>&nbsp;<span class="num" id="7517249">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517253">w</span>&nbsp;<span class="op" id="7517255">:=</span>&nbsp;<span class="builtintype" id="7517258">uint32</span><span class="op" id="7517264">(</span><span class="ident" id="7517265"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517269">.</span><span class="ident" id="7517270">Int63</span><span class="op" id="7517275">(</span><span class="op" id="7517276">)</span><span class="op" id="7517277">)</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517282">s</span>&nbsp;<span class="op" id="7517284">:=</span>&nbsp;<span class="builtintype" id="7517287">uint32</span><span class="op" id="7517293">(</span><span class="ident" id="7517294"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517298">.</span><span class="ident" id="7517299">Intn</span><span class="op" id="7517303">(</span><span class="num" id="7517304">5</span><span class="op" id="7517305">)</span><span class="op" id="7517306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517310">d</span>&nbsp;<span class="op" id="7517312">:=</span>&nbsp;<span class="builtintype" id="7517315">uint32</span><span class="op" id="7517321">(</span><span class="ident" id="7517322"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517326">.</span><span class="ident" id="7517327">Intn</span><span class="op" id="7517331">(</span><span class="num" id="7517332">5</span><span class="op" id="7517333">)</span><span class="op" id="7517334">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517338">for</span>&nbsp;<span class="ident" id="7517342"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517310">d</a></span>&nbsp;<span class="op" id="7517344">==</span>&nbsp;<span class="ident" id="7517347"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517282">s</a></span>&nbsp;<span class="op" id="7517349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517354"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517310">d</a></span>&nbsp;<span class="op" id="7517356">=</span>&nbsp;<span class="builtintype" id="7517358">uint32</span><span class="op" id="7517364">(</span><span class="ident" id="7517365"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517369">.</span><span class="ident" id="7517370">Intn</span><span class="op" id="7517374">(</span><span class="num" id="7517375">5</span><span class="op" id="7517376">)</span><span class="op" id="7517377">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517381">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517386"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515234">twr</a></span><span class="op" id="7517389">(</span><span class="num" id="7517390">9</span><span class="op" id="7517391">,</span>&nbsp;<span class="ident" id="7517393"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517282">s</a></span><span class="op" id="7517394">,</span>&nbsp;<span class="ident" id="7517396"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517083">addr</a></span><span class="op" id="7517400">,</span>&nbsp;<span class="ident" id="7517402"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517161">offset</a></span><span class="op" id="7517408">,</span>&nbsp;<span class="ident" id="7517410"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517310">d</a></span><span class="op" id="7517411">,</span>&nbsp;<span class="ident" id="7517413"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517253">w</a></span><span class="op" id="7517414">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517419">got</span><span class="op" id="7517422">,</span>&nbsp;<span class="ident" id="7517424">e</span>&nbsp;<span class="op" id="7517426">:=</span>&nbsp;<span class="ident" id="7517429"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7517430">.</span><span class="ident" id="7517431">ReadWord</span><span class="op" id="7517439">(</span><span class="ident" id="7517440"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517083">addr</a></span>&nbsp;<span class="op" id="7517445">+</span>&nbsp;<span class="ident" id="7517447"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517161">offset</a></span><span class="op" id="7517453">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517457">if</span>&nbsp;<span class="ident" id="7517460"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517424">e</a></span>&nbsp;<span class="op" id="7517462">!=</span>&nbsp;<span class="ident" id="7517465">nil</span>&nbsp;<span class="op" id="7517469">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517474"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7517475">.</span><span class="ident" id="7517476">Fatal</span><span class="op" id="7517481">(</span><span class="string" id="7517482">&#34;read&nbsp;fail&#34;</span><span class="op" id="7517493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517497">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517502">if</span>&nbsp;<span class="ident" id="7517505"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517419">got</a></span>&nbsp;<span class="op" id="7517509">!=</span>&nbsp;<span class="ident" id="7517512"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517253">w</a></span>&nbsp;<span class="op" id="7517514">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517519"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7517520">.</span><span class="ident" id="7517521">Fatalf</span><span class="op" id="7517527">(</span><span class="string" id="7517528">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="7517555">,</span>&nbsp;<span class="ident" id="7517557"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517253">w</a></span><span class="op" id="7517558">,</span>&nbsp;<span class="ident" id="7517560"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517419">got</a></span><span class="op" id="7517563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517570">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517574">for</span>&nbsp;<span class="ident" id="7517578">i</span>&nbsp;<span class="op" id="7517580">:=</span>&nbsp;<span class="num" id="7517583">0</span><span class="op" id="7517584">;</span>&nbsp;<span class="ident" id="7517586"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517578">i</a></span>&nbsp;<span class="op" id="7517588">&lt;</span>&nbsp;<span class="num" id="7517590">100</span><span class="op" id="7517593">;</span>&nbsp;<span class="ident" id="7517595"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517578">i</a></span><span class="op" id="7517596">++</span>&nbsp;<span class="op" id="7517599">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517603">addr</span>&nbsp;<span class="op" id="7517608">:=</span>&nbsp;<span class="builtintype" id="7517611">uint32</span><span class="op" id="7517617">(</span><span class="ident" id="7517618"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7517627">*</span>&nbsp;<span class="num" id="7517629">10</span><span class="op" id="7517631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517635"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517603">addr</a></span>&nbsp;<span class="op" id="7517640">+=</span>&nbsp;<span class="builtintype" id="7517643">uint32</span><span class="op" id="7517649">(</span><span class="ident" id="7517650"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517654">.</span><span class="ident" id="7517655">Int63</span><span class="op" id="7517660">(</span><span class="op" id="7517661">)</span><span class="op" id="7517662">)</span>&nbsp;<span class="op" id="7517664">%</span>&nbsp;<span class="ident" id="7517666"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7517675">*</span>&nbsp;<span class="num" id="7517677">4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517681">offset</span>&nbsp;<span class="op" id="7517688">:=</span>&nbsp;<span class="builtintype" id="7517691">uint32</span><span class="op" id="7517697">(</span><span class="ident" id="7517698"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517702">.</span><span class="ident" id="7517703">Int63</span><span class="op" id="7517708">(</span><span class="op" id="7517709">)</span><span class="op" id="7517710">)</span>&nbsp;<span class="op" id="7517712">%</span>&nbsp;<span class="ident" id="7517714"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517725"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517681">offset</a></span>&nbsp;<span class="op" id="7517732">-=</span>&nbsp;<span class="ident" id="7517735"><a href="/lonnie.io/e8vm/arch8/page.go.html#5304619">PageSize</a></span>&nbsp;<span class="op" id="7517744">/</span>&nbsp;<span class="num" id="7517746">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517750">b</span>&nbsp;<span class="op" id="7517752">:=</span>&nbsp;<span class="builtintype" id="7517755">byte</span><span class="op" id="7517759">(</span><span class="ident" id="7517760"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517764">.</span><span class="ident" id="7517765">Int63</span><span class="op" id="7517770">(</span><span class="op" id="7517771">)</span><span class="op" id="7517772">)</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517777">s</span>&nbsp;<span class="op" id="7517779">:=</span>&nbsp;<span class="builtintype" id="7517782">uint32</span><span class="op" id="7517788">(</span><span class="ident" id="7517789"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517793">.</span><span class="ident" id="7517794">Intn</span><span class="op" id="7517798">(</span><span class="num" id="7517799">5</span><span class="op" id="7517800">)</span><span class="op" id="7517801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517805">d</span>&nbsp;<span class="op" id="7517807">:=</span>&nbsp;<span class="builtintype" id="7517810">uint32</span><span class="op" id="7517816">(</span><span class="ident" id="7517817"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517821">.</span><span class="ident" id="7517822">Intn</span><span class="op" id="7517826">(</span><span class="num" id="7517827">5</span><span class="op" id="7517828">)</span><span class="op" id="7517829">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517833">for</span>&nbsp;<span class="ident" id="7517837"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517805">d</a></span>&nbsp;<span class="op" id="7517839">==</span>&nbsp;<span class="ident" id="7517842"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517777">s</a></span>&nbsp;<span class="op" id="7517844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517849"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517805">d</a></span>&nbsp;<span class="op" id="7517851">=</span>&nbsp;<span class="builtintype" id="7517853">uint32</span><span class="op" id="7517859">(</span><span class="ident" id="7517860"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514744">rand</a></span><span class="op" id="7517864">.</span><span class="ident" id="7517865">Intn</span><span class="op" id="7517869">(</span><span class="num" id="7517870">5</span><span class="op" id="7517871">)</span><span class="op" id="7517872">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7517876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517881"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7515234">twr</a></span><span class="op" id="7517884">(</span><span class="num" id="7517885">10</span><span class="op" id="7517887">,</span>&nbsp;<span class="ident" id="7517889"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517777">s</a></span><span class="op" id="7517890">,</span>&nbsp;<span class="ident" id="7517892"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517603">addr</a></span><span class="op" id="7517896">,</span>&nbsp;<span class="ident" id="7517898"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517681">offset</a></span><span class="op" id="7517904">,</span>&nbsp;<span class="ident" id="7517906"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517805">d</a></span><span class="op" id="7517907">,</span>&nbsp;<span class="builtintype" id="7517909">uint32</span><span class="op" id="7517915">(</span><span class="ident" id="7517916"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517750">b</a></span><span class="op" id="7517917">)</span><span class="op" id="7517918">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517923">got</span><span class="op" id="7517926">,</span>&nbsp;<span class="ident" id="7517928">e</span>&nbsp;<span class="op" id="7517930">:=</span>&nbsp;<span class="ident" id="7517933"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514793">m</a></span><span class="op" id="7517934">.</span><span class="ident" id="7517935">ReadByte</span><span class="op" id="7517943">(</span><span class="ident" id="7517944"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517603">addr</a></span>&nbsp;<span class="op" id="7517949">+</span>&nbsp;<span class="ident" id="7517951"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517681">offset</a></span><span class="op" id="7517957">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7517961">if</span>&nbsp;<span class="ident" id="7517964"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517928">e</a></span>&nbsp;<span class="op" id="7517966">!=</span>&nbsp;<span class="ident" id="7517969">nil</span>&nbsp;<span class="op" id="7517973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7517978"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7517979">.</span><span class="ident" id="7517980">Fatal</span><span class="op" id="7517985">(</span><span class="string" id="7517986">&#34;read&nbsp;fail&#34;</span><span class="op" id="7517997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518001">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7518006">if</span>&nbsp;<span class="ident" id="7518009"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517923">got</a></span>&nbsp;<span class="op" id="7518013">!=</span>&nbsp;<span class="ident" id="7518016"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517750">b</a></span>&nbsp;<span class="op" id="7518018">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7518023"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7514776">t</a></span><span class="op" id="7518024">.</span><span class="ident" id="7518025">Fatalf</span><span class="op" id="7518031">(</span><span class="string" id="7518032">&#34;expect&nbsp;0x%08x,&nbsp;got&nbsp;0x%08x&#34;</span><span class="op" id="7518059">,</span>&nbsp;<span class="ident" id="7518061"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517750">b</a></span><span class="op" id="7518062">,</span>&nbsp;<span class="ident" id="7518064"><a href="/lonnie.io/e8vm/arch8/inst_imm_test.go.html#7517923">got</a></span><span class="op" id="7518067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7518074">}</span><br>
<span class="lineno"></span><span class="op" id="7518076">}</span>
</div>
</body>
</html>
