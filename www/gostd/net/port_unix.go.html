<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html" class="current">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="3351173">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3351228">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3351282">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="3351333">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3351398">//&nbsp;Read&nbsp;system&nbsp;port&nbsp;mappings&nbsp;from&nbsp;/etc/services</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3351447">package</span>&nbsp;<span class="ident" id="3351455">net</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="3351460">import</span>&nbsp;<span class="string" id="3351467">&#34;sync&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3351475">//&nbsp;services&nbsp;contains&nbsp;minimal&nbsp;mappings&nbsp;between&nbsp;services&nbsp;names&nbsp;and&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="3351545">//&nbsp;numbers&nbsp;for&nbsp;platforms&nbsp;that&nbsp;don&#39;t&nbsp;have&nbsp;a&nbsp;complete&nbsp;list&nbsp;of&nbsp;port&nbsp;numbers</span><br>
<span class="lineno">15</span><span class="comment" id="3351618">//&nbsp;(some&nbsp;Solaris&nbsp;distros).</span><br>
<span class="lineno"></span><span class="keyword" id="3351645">var</span>&nbsp;<span class="ident" id="3351649">services</span>&nbsp;<span class="op" id="3351658">=</span>&nbsp;<span class="keyword" id="3351660">map</span><span class="op" id="3351663">[</span><span class="builtintype" id="3351664">string</span><span class="op" id="3351670">]</span><span class="keyword" id="3351671">map</span><span class="op" id="3351674">[</span><span class="builtintype" id="3351675">string</span><span class="op" id="3351681">]</span><span class="builtintype" id="3351682">int</span><span class="op" id="3351685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="3351688">&#34;tcp&#34;</span><span class="op" id="3351693">:</span>&nbsp;<span class="op" id="3351695">{</span><span class="string" id="3351696">&#34;http&#34;</span><span class="op" id="3351702">:</span>&nbsp;<span class="num" id="3351704">80</span><span class="op" id="3351706">}</span><span class="op" id="3351707">,</span><br>
<span class="lineno"></span><span class="op" id="3351709">}</span><br>
<span class="lineno"></span><span class="keyword" id="3351711">var</span>&nbsp;<span class="ident" id="3351715">servicesError</span>&nbsp;<span class="builtintype" id="3351729">error</span><br>
<span class="lineno">20</span><span class="keyword" id="3351735">var</span>&nbsp;<span class="ident" id="3351739">onceReadServices</span>&nbsp;<span class="ident" id="3351756"><a href="/gostd/net/port_unix.go.html#3351467">sync</a></span><span class="op" id="3351760">.</span><span class="ident" id="3351761"><a href="/gostd/sync/once.go.html#1446221">Once</a></span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3351767">func</span>&nbsp;<span class="ident" id="3351772">readServices</span><span class="op" id="3351784">(</span><span class="op" id="3351785">)</span>&nbsp;<span class="op" id="3351787">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3351790">var</span>&nbsp;<span class="ident" id="3351794">file</span>&nbsp;<span class="op" id="3351799">*</span><span class="ident" id="3351800"><a href="/gostd/net/parse.go.html#3344988">file</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3351806">if</span>&nbsp;<span class="ident" id="3351809"><a href="/gostd/net/port_unix.go.html#3351794">file</a></span><span class="op" id="3351813">,</span>&nbsp;<span class="ident" id="3351815"><a href="/gostd/net/port_unix.go.html#3351715">servicesError</a></span>&nbsp;<span class="op" id="3351829">=</span>&nbsp;<span class="ident" id="3351831"><a href="/gostd/net/parse.go.html#3345879">open</a></span><span class="op" id="3351835">(</span><span class="string" id="3351836">&#34;/etc/services&#34;</span><span class="op" id="3351851">)</span><span class="op" id="3351852">;</span>&nbsp;<span class="ident" id="3351854"><a href="/gostd/net/port_unix.go.html#3351715">servicesError</a></span>&nbsp;<span class="op" id="3351868">!=</span>&nbsp;<span class="builtintype" id="3351871">nil</span>&nbsp;<span class="op" id="3351875">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3351879">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3351887">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3351890">for</span>&nbsp;<span class="ident" id="3351894">line</span><span class="op" id="3351898">,</span>&nbsp;<span class="ident" id="3351900">ok</span>&nbsp;<span class="op" id="3351903">:=</span>&nbsp;<span class="ident" id="3351906"><a href="/gostd/net/port_unix.go.html#3351794">file</a></span><span class="op" id="3351910">.</span><span class="ident" id="3351911"><a href="/gostd/net/parse.go.html#3345520">readLine</a></span><span class="op" id="3351919">(</span><span class="op" id="3351920">)</span><span class="op" id="3351921">;</span>&nbsp;<span class="ident" id="3351923"><a href="/gostd/net/port_unix.go.html#3351900">ok</a></span><span class="op" id="3351925">;</span>&nbsp;<span class="ident" id="3351927"><a href="/gostd/net/port_unix.go.html#3351894">line</a></span><span class="op" id="3351931">,</span>&nbsp;<span class="ident" id="3351933"><a href="/gostd/net/port_unix.go.html#3351900">ok</a></span>&nbsp;<span class="op" id="3351936">=</span>&nbsp;<span class="ident" id="3351938"><a href="/gostd/net/port_unix.go.html#3351794">file</a></span><span class="op" id="3351942">.</span><span class="ident" id="3351943"><a href="/gostd/net/parse.go.html#3345520">readLine</a></span><span class="op" id="3351951">(</span><span class="op" id="3351952">)</span>&nbsp;<span class="op" id="3351954">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="3351958">//&nbsp;&#34;http&nbsp;80/tcp&nbsp;www&nbsp;www-http&nbsp;#&nbsp;World&nbsp;Wide&nbsp;Web&nbsp;HTTP&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352012">if</span>&nbsp;<span class="ident" id="3352015">i</span>&nbsp;<span class="op" id="3352017">:=</span>&nbsp;<span class="ident" id="3352020"><a href="/gostd/net/parse.go.html#3346051">byteIndex</a></span><span class="op" id="3352029">(</span><span class="ident" id="3352030"><a href="/gostd/net/port_unix.go.html#3351894">line</a></span><span class="op" id="3352034">,</span>&nbsp;<span class="string" id="3352036">&#39;#&#39;</span><span class="op" id="3352039">)</span><span class="op" id="3352040">;</span>&nbsp;<span class="ident" id="3352042"><a href="/gostd/net/port_unix.go.html#3352015">i</a></span>&nbsp;<span class="op" id="3352044">&gt;=</span>&nbsp;<span class="num" id="3352047">0</span>&nbsp;<span class="op" id="3352049">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352054"><a href="/gostd/net/port_unix.go.html#3351894">line</a></span>&nbsp;<span class="op" id="3352059">=</span>&nbsp;<span class="ident" id="3352061"><a href="/gostd/net/port_unix.go.html#3351894">line</a></span><span class="op" id="3352065">[</span><span class="num" id="3352066">0</span><span class="op" id="3352067">:</span><span class="ident" id="3352068"><a href="/gostd/net/port_unix.go.html#3352015">i</a></span><span class="op" id="3352069">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352073">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352077">f</span>&nbsp;<span class="op" id="3352079">:=</span>&nbsp;<span class="ident" id="3352082"><a href="/gostd/net/parse.go.html#3346715">getFields</a></span><span class="op" id="3352091">(</span><span class="ident" id="3352092"><a href="/gostd/net/port_unix.go.html#3351894">line</a></span><span class="op" id="3352096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352100">if</span>&nbsp;<span class="builtinfunc" id="3352103">len</span><span class="op" id="3352106">(</span><span class="ident" id="3352107"><a href="/gostd/net/port_unix.go.html#3352077">f</a></span><span class="op" id="3352108">)</span>&nbsp;<span class="op" id="3352110">&lt;</span>&nbsp;<span class="num" id="3352112">2</span>&nbsp;<span class="op" id="3352114">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352119">continue</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352130">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352134">portnet</span>&nbsp;<span class="op" id="3352142">:=</span>&nbsp;<span class="ident" id="3352145"><a href="/gostd/net/port_unix.go.html#3352077">f</a></span><span class="op" id="3352146">[</span><span class="num" id="3352147">1</span><span class="op" id="3352148">]</span>&nbsp;<span class="comment" id="3352150">//&nbsp;&#34;80/tcp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352164">port</span><span class="op" id="3352168">,</span>&nbsp;<span class="ident" id="3352170">j</span><span class="op" id="3352171">,</span>&nbsp;<span class="ident" id="3352173">ok</span>&nbsp;<span class="op" id="3352176">:=</span>&nbsp;<span class="ident" id="3352179"><a href="/gostd/net/parse.go.html#3346952">dtoi</a></span><span class="op" id="3352183">(</span><span class="ident" id="3352184"><a href="/gostd/net/port_unix.go.html#3352134">portnet</a></span><span class="op" id="3352191">,</span>&nbsp;<span class="num" id="3352193">0</span><span class="op" id="3352194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352198">if</span>&nbsp;<span class="op" id="3352201">!</span><span class="ident" id="3352202"><a href="/gostd/net/port_unix.go.html#3352173">ok</a></span>&nbsp;<span class="op" id="3352205">||</span>&nbsp;<span class="ident" id="3352208"><a href="/gostd/net/port_unix.go.html#3352164">port</a></span>&nbsp;<span class="op" id="3352213">&lt;=</span>&nbsp;<span class="num" id="3352216">0</span>&nbsp;<span class="op" id="3352218">||</span>&nbsp;<span class="ident" id="3352221"><a href="/gostd/net/port_unix.go.html#3352170">j</a></span>&nbsp;<span class="op" id="3352223">&gt;=</span>&nbsp;<span class="builtinfunc" id="3352226">len</span><span class="op" id="3352229">(</span><span class="ident" id="3352230"><a href="/gostd/net/port_unix.go.html#3352134">portnet</a></span><span class="op" id="3352237">)</span>&nbsp;<span class="op" id="3352239">||</span>&nbsp;<span class="ident" id="3352242"><a href="/gostd/net/port_unix.go.html#3352134">portnet</a></span><span class="op" id="3352249">[</span><span class="ident" id="3352250"><a href="/gostd/net/port_unix.go.html#3352170">j</a></span><span class="op" id="3352251">]</span>&nbsp;<span class="op" id="3352253">!=</span>&nbsp;<span class="string" id="3352256">&#39;/&#39;</span>&nbsp;<span class="op" id="3352260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352265">continue</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352280">netw</span>&nbsp;<span class="op" id="3352285">:=</span>&nbsp;<span class="ident" id="3352288"><a href="/gostd/net/port_unix.go.html#3352134">portnet</a></span><span class="op" id="3352295">[</span><span class="ident" id="3352296"><a href="/gostd/net/port_unix.go.html#3352170">j</a></span><span class="op" id="3352297">+</span><span class="num" id="3352298">1</span><span class="op" id="3352299">:</span><span class="op" id="3352300">]</span>&nbsp;<span class="comment" id="3352302">//&nbsp;&#34;tcp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352313">m</span><span class="op" id="3352314">,</span>&nbsp;<span class="ident" id="3352316">ok1</span>&nbsp;<span class="op" id="3352320">:=</span>&nbsp;<span class="ident" id="3352323"><a href="/gostd/net/port_unix.go.html#3351649">services</a></span><span class="op" id="3352331">[</span><span class="ident" id="3352332"><a href="/gostd/net/port_unix.go.html#3352280">netw</a></span><span class="op" id="3352336">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352340">if</span>&nbsp;<span class="op" id="3352343">!</span><span class="ident" id="3352344"><a href="/gostd/net/port_unix.go.html#3352316">ok1</a></span>&nbsp;<span class="op" id="3352348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352353"><a href="/gostd/net/port_unix.go.html#3352313">m</a></span>&nbsp;<span class="op" id="3352355">=</span>&nbsp;<span class="builtinfunc" id="3352357">make</span><span class="op" id="3352361">(</span><span class="keyword" id="3352362">map</span><span class="op" id="3352365">[</span><span class="builtintype" id="3352366">string</span><span class="op" id="3352372">]</span><span class="builtintype" id="3352373">int</span><span class="op" id="3352376">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352381"><a href="/gostd/net/port_unix.go.html#3351649">services</a></span><span class="op" id="3352389">[</span><span class="ident" id="3352390"><a href="/gostd/net/port_unix.go.html#3352280">netw</a></span><span class="op" id="3352394">]</span>&nbsp;<span class="op" id="3352396">=</span>&nbsp;<span class="ident" id="3352398"><a href="/gostd/net/port_unix.go.html#3352313">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352402">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352406">for</span>&nbsp;<span class="ident" id="3352410">i</span>&nbsp;<span class="op" id="3352412">:=</span>&nbsp;<span class="num" id="3352415">0</span><span class="op" id="3352416">;</span>&nbsp;<span class="ident" id="3352418"><a href="/gostd/net/port_unix.go.html#3352410">i</a></span>&nbsp;<span class="op" id="3352420">&lt;</span>&nbsp;<span class="builtinfunc" id="3352422">len</span><span class="op" id="3352425">(</span><span class="ident" id="3352426"><a href="/gostd/net/port_unix.go.html#3352077">f</a></span><span class="op" id="3352427">)</span><span class="op" id="3352428">;</span>&nbsp;<span class="ident" id="3352430"><a href="/gostd/net/port_unix.go.html#3352410">i</a></span><span class="op" id="3352431">++</span>&nbsp;<span class="op" id="3352434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352439">if</span>&nbsp;<span class="ident" id="3352442"><a href="/gostd/net/port_unix.go.html#3352410">i</a></span>&nbsp;<span class="op" id="3352444">!=</span>&nbsp;<span class="num" id="3352447">1</span>&nbsp;<span class="op" id="3352449">{</span>&nbsp;<span class="comment" id="3352451">//&nbsp;f[1]&nbsp;was&nbsp;port/net</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352476"><a href="/gostd/net/port_unix.go.html#3352313">m</a></span><span class="op" id="3352477">[</span><span class="ident" id="3352478"><a href="/gostd/net/port_unix.go.html#3352077">f</a></span><span class="op" id="3352479">[</span><span class="ident" id="3352480"><a href="/gostd/net/port_unix.go.html#3352410">i</a></span><span class="op" id="3352481">]</span><span class="op" id="3352482">]</span>&nbsp;<span class="op" id="3352484">=</span>&nbsp;<span class="ident" id="3352486"><a href="/gostd/net/port_unix.go.html#3352164">port</a></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352504"><a href="/gostd/net/port_unix.go.html#3351794">file</a></span><span class="op" id="3352508">.</span><span class="builtinfunc" id="3352509"><a href="/gostd/net/parse.go.html#3345062">close</a></span><span class="op" id="3352514">(</span><span class="op" id="3352515">)</span><br>
<span class="lineno"></span><span class="op" id="3352517">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="comment" id="3352520">//&nbsp;goLookupPort&nbsp;is&nbsp;the&nbsp;native&nbsp;Go&nbsp;implementation&nbsp;of&nbsp;LookupPort.</span><br>
<span class="lineno"></span><span class="keyword" id="3352583">func</span>&nbsp;<span class="ident" id="3352588">goLookupPort</span><span class="op" id="3352600">(</span><span class="ident" id="3352601">network</span><span class="op" id="3352608">,</span>&nbsp;<span class="ident" id="3352610">service</span>&nbsp;<span class="builtintype" id="3352618">string</span><span class="op" id="3352624">)</span>&nbsp;<span class="op" id="3352626">(</span><span class="ident" id="3352627">port</span>&nbsp;<span class="builtintype" id="3352632">int</span><span class="op" id="3352635">,</span>&nbsp;<span class="ident" id="3352637">err</span>&nbsp;<span class="builtintype" id="3352641">error</span><span class="op" id="3352646">)</span>&nbsp;<span class="op" id="3352648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352651"><a href="/gostd/net/port_unix.go.html#3351739">onceReadServices</a></span><span class="op" id="3352667">.</span><span class="ident" id="3352668"><a href="/gostd/sync/once.go.html#1447110">Do</a></span><span class="op" id="3352670">(</span><span class="ident" id="3352671"><a href="/gostd/net/port_unix.go.html#3351772">readServices</a></span><span class="op" id="3352683">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352687">switch</span>&nbsp;<span class="ident" id="3352694"><a href="/gostd/net/port_unix.go.html#3352601">network</a></span>&nbsp;<span class="op" id="3352702">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352705">case</span>&nbsp;<span class="string" id="3352710">&#34;tcp4&#34;</span><span class="op" id="3352716">,</span>&nbsp;<span class="string" id="3352718">&#34;tcp6&#34;</span><span class="op" id="3352724">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352728"><a href="/gostd/net/port_unix.go.html#3352601">network</a></span>&nbsp;<span class="op" id="3352736">=</span>&nbsp;<span class="string" id="3352738">&#34;tcp&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352745">case</span>&nbsp;<span class="string" id="3352750">&#34;udp4&#34;</span><span class="op" id="3352756">,</span>&nbsp;<span class="string" id="3352758">&#34;udp6&#34;</span><span class="op" id="3352764">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="3352768"><a href="/gostd/net/port_unix.go.html#3352601">network</a></span>&nbsp;<span class="op" id="3352776">=</span>&nbsp;<span class="string" id="3352778">&#34;udp&#34;</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352785">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352789">if</span>&nbsp;<span class="ident" id="3352792">m</span><span class="op" id="3352793">,</span>&nbsp;<span class="ident" id="3352795">ok</span>&nbsp;<span class="op" id="3352798">:=</span>&nbsp;<span class="ident" id="3352801"><a href="/gostd/net/port_unix.go.html#3351649">services</a></span><span class="op" id="3352809">[</span><span class="ident" id="3352810"><a href="/gostd/net/port_unix.go.html#3352601">network</a></span><span class="op" id="3352817">]</span><span class="op" id="3352818">;</span>&nbsp;<span class="ident" id="3352820"><a href="/gostd/net/port_unix.go.html#3352795">ok</a></span>&nbsp;<span class="op" id="3352823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352827">if</span>&nbsp;<span class="ident" id="3352830"><a href="/gostd/net/port_unix.go.html#3352627">port</a></span><span class="op" id="3352834">,</span>&nbsp;<span class="ident" id="3352836"><a href="/gostd/net/port_unix.go.html#3352795">ok</a></span>&nbsp;<span class="op" id="3352839">=</span>&nbsp;<span class="ident" id="3352841"><a href="/gostd/net/port_unix.go.html#3352792">m</a></span><span class="op" id="3352842">[</span><span class="ident" id="3352843"><a href="/gostd/net/port_unix.go.html#3352610">service</a></span><span class="op" id="3352850">]</span><span class="op" id="3352851">;</span>&nbsp;<span class="ident" id="3352853"><a href="/gostd/net/port_unix.go.html#3352795">ok</a></span>&nbsp;<span class="op" id="3352856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352861">return</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352870">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="3352873">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="3352876">return</span>&nbsp;<span class="num" id="3352883">0</span><span class="op" id="3352884">,</span>&nbsp;<span class="op" id="3352886">&amp;</span><span class="ident" id="3352887"><a href="/gostd/net/net.go.html#3342647">AddrError</a></span><span class="op" id="3352896">{</span><span class="string" id="3352897">&#34;unknown&nbsp;port&#34;</span><span class="op" id="3352911">,</span>&nbsp;<span class="ident" id="3352913"><a href="/gostd/net/port_unix.go.html#3352601">network</a></span>&nbsp;<span class="op" id="3352921">+</span>&nbsp;<span class="string" id="3352923">&#34;/&#34;</span>&nbsp;<span class="op" id="3352927">+</span>&nbsp;<span class="ident" id="3352929"><a href="/gostd/net/port_unix.go.html#3352610">service</a></span><span class="op" id="3352936">}</span><br>
<span class="lineno"></span><span class="op" id="3352938">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
