<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7495347">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7495402">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7495456">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7495507">package</span>&nbsp;<span class="ident" id="7495515">xml</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495520">import</span>&nbsp;<span class="op" id="7495527">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7495530">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7495536">&#34;reflect&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7495547">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7495558">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7495569">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7495576">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="7495579">//&nbsp;Stripped&nbsp;down&nbsp;Atom&nbsp;feed&nbsp;data&nbsp;structures.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7495624">func</span>&nbsp;<span class="ident" id="7495629">TestUnmarshalFeed</span><span class="op" id="7495646">(</span><span class="ident" id="7495647">t</span>&nbsp;<span class="op" id="7495649">*</span><span class="ident" id="7495650">testing</span><span class="op" id="7495657">.</span><span class="ident" id="7495658">T</span><span class="op" id="7495659">)</span>&nbsp;<span class="op" id="7495661">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495664">var</span>&nbsp;<span class="ident" id="7495668">f</span>&nbsp;<span class="ident" id="7495670">Feed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495676">if</span>&nbsp;<span class="ident" id="7495679">err</span>&nbsp;<span class="op" id="7495683">:=</span>&nbsp;<span class="ident" id="7495686">Unmarshal</span><span class="op" id="7495695">(</span><span class="op" id="7495696">[</span><span class="op" id="7495697">]</span><span class="builtintype" id="7495698">byte</span><span class="op" id="7495702">(</span><span class="ident" id="7495703">atomFeedString</span><span class="op" id="7495717">)</span><span class="op" id="7495718">,</span>&nbsp;<span class="op" id="7495720">&amp;</span><span class="ident" id="7495721">f</span><span class="op" id="7495722">)</span><span class="op" id="7495723">;</span>&nbsp;<span class="ident" id="7495725">err</span>&nbsp;<span class="op" id="7495729">!=</span>&nbsp;<span class="ident" id="7495732">nil</span>&nbsp;<span class="op" id="7495736">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495740">t</span><span class="op" id="7495741">.</span><span class="ident" id="7495742">Fatalf</span><span class="op" id="7495748">(</span><span class="string" id="7495749">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7495764">,</span>&nbsp;<span class="ident" id="7495766">err</span><span class="op" id="7495769">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495772">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495775">if</span>&nbsp;<span class="op" id="7495778">!</span><span class="ident" id="7495779">reflect</span><span class="op" id="7495786">.</span><span class="ident" id="7495787">DeepEqual</span><span class="op" id="7495796">(</span><span class="ident" id="7495797">f</span><span class="op" id="7495798">,</span>&nbsp;<span class="ident" id="7495800">atomFeed</span><span class="op" id="7495808">)</span>&nbsp;<span class="op" id="7495810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495814">t</span><span class="op" id="7495815">.</span><span class="ident" id="7495816">Fatalf</span><span class="op" id="7495822">(</span><span class="string" id="7495823">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7495843">,</span>&nbsp;<span class="ident" id="7495845">f</span><span class="op" id="7495846">,</span>&nbsp;<span class="ident" id="7495848">atomFeed</span><span class="op" id="7495856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495859">}</span><br>
<span class="lineno">25</span><span class="op" id="7495861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7495864">//&nbsp;hget&nbsp;http://codereview.appspot.com/rss/mine/rsc</span><br>
<span class="lineno"></span><span class="keyword" id="7495915">const</span>&nbsp;<span class="ident" id="7495921">atomFeedString</span>&nbsp;<span class="op" id="7495936">=</span>&nbsp;<span class="string" id="7495938">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno">30</span>&lt;feed&nbsp;xmlns=&#34;http://www.w3.org/2005/Atom&#34;&nbsp;xml:lang=&#34;en-us&#34;&nbsp;updated=&#34;2009-10-04T01:35:58+00:00&#34;&gt;&lt;title&gt;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/rss/mine/rsc&#34;&nbsp;rel=&#34;self&#34;&gt;&lt;/link&gt;&lt;id&gt;http://codereview.appspot.com/&lt;/id&gt;&lt;author&gt;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&lt;/author&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/126085&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-04T01:35:58+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:134d9179c41f806be79b3a5f7877d19a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">35</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;amp;lt;link&nbsp;rel=&amp;amp;quot;hub&amp;amp;quot;&nbsp;href=&amp;amp;quot;hub-server&amp;amp;quot;&amp;amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">45</span><br>
<span class="lineno"></span>I&nbsp;can&amp;amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;amp;quot;self&amp;amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">50</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">55</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">60</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;entry&gt;&lt;title&gt;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling<br>
<span class="lineno"></span>&lt;/title&gt;&lt;link&nbsp;href=&#34;http://codereview.appspot.com/124106&#34;&nbsp;rel=&#34;alternate&#34;&gt;&lt;/link&gt;&lt;updated&gt;2009-10-03T23:02:17+00:00&lt;/updated&gt;&lt;author&gt;&lt;name&gt;email-address-removed&lt;/name&gt;&lt;/author&gt;&lt;id&gt;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&lt;/id&gt;&lt;summary&nbsp;type=&#34;html&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">65</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">70</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">75</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span>&lt;/summary&gt;&lt;/entry&gt;&lt;/feed&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7498927">type</span>&nbsp;<span class="ident" id="7498932">Feed</span>&nbsp;<span class="keyword" id="7498937">struct</span>&nbsp;<span class="op" id="7498944">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7498947">XMLName</span>&nbsp;<span class="ident" id="7498955">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7498965">`xml:&#34;http://www.w3.org/2005/Atom&nbsp;feed&#34;`</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499007">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499015">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499025">`xml:&#34;title&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499040">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499048">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499058">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499070">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499078">[</span><span class="op" id="7499079">]</span><span class="ident" id="7499080">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499088">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499102">Updated</span>&nbsp;<span class="ident" id="7499110">time</span><span class="op" id="7499114">.</span><span class="ident" id="7499115">Time</span>&nbsp;<span class="string" id="7499120">`xml:&#34;updated,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499142">Author</span>&nbsp;&nbsp;<span class="ident" id="7499150">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499160">`xml:&#34;author&#34;`</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499176">Entry</span>&nbsp;&nbsp;&nbsp;<span class="op" id="7499184">[</span><span class="op" id="7499185">]</span><span class="ident" id="7499186">Entry</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7499194">`xml:&#34;entry&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7499208">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7499211">type</span>&nbsp;<span class="ident" id="7499216">Entry</span>&nbsp;<span class="keyword" id="7499222">struct</span>&nbsp;<span class="op" id="7499229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499232">Title</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499240">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499250">`xml:&#34;title&#34;`</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499265">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499273">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499283">`xml:&#34;id&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499295">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7499303">[</span><span class="op" id="7499304">]</span><span class="ident" id="7499305">Link</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499313">`xml:&#34;link&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499327">Updated</span>&nbsp;<span class="ident" id="7499335">time</span><span class="op" id="7499339">.</span><span class="ident" id="7499340">Time</span>&nbsp;<span class="string" id="7499345">`xml:&#34;updated&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499362">Author</span>&nbsp;&nbsp;<span class="ident" id="7499370">Person</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499380">`xml:&#34;author&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499396">Summary</span>&nbsp;<span class="ident" id="7499404">Text</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7499414">`xml:&#34;summary&#34;`</span><br>
<span class="lineno">100</span><span class="op" id="7499430">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7499433">type</span>&nbsp;<span class="ident" id="7499438">Link</span>&nbsp;<span class="keyword" id="7499443">struct</span>&nbsp;<span class="op" id="7499450">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499453">Rel</span>&nbsp;&nbsp;<span class="builtintype" id="7499458">string</span>&nbsp;<span class="string" id="7499465">`xml:&#34;rel,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499493">Href</span>&nbsp;<span class="builtintype" id="7499498">string</span>&nbsp;<span class="string" id="7499505">`xml:&#34;href,attr&#34;`</span><br>
<span class="lineno">105</span><span class="op" id="7499523">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7499526">type</span>&nbsp;<span class="ident" id="7499531">Person</span>&nbsp;<span class="keyword" id="7499538">struct</span>&nbsp;<span class="op" id="7499545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499548">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499557">string</span>&nbsp;<span class="string" id="7499564">`xml:&#34;name&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499578">URI</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499587">string</span>&nbsp;<span class="string" id="7499594">`xml:&#34;uri&#34;`</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499607">Email</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7499616">string</span>&nbsp;<span class="string" id="7499623">`xml:&#34;email&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499638">InnerXML</span>&nbsp;<span class="builtintype" id="7499647">string</span>&nbsp;<span class="string" id="7499654">`xml:&#34;,innerxml&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7499672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7499675">type</span>&nbsp;<span class="ident" id="7499680">Text</span>&nbsp;<span class="keyword" id="7499685">struct</span>&nbsp;<span class="op" id="7499692">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499695">Type</span>&nbsp;<span class="builtintype" id="7499700">string</span>&nbsp;<span class="string" id="7499707">`xml:&#34;type,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499736">Body</span>&nbsp;<span class="builtintype" id="7499741">string</span>&nbsp;<span class="string" id="7499748">`xml:&#34;,chardata&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7499766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7499769">var</span>&nbsp;<span class="ident" id="7499773">atomFeed</span>&nbsp;<span class="op" id="7499782">=</span>&nbsp;<span class="ident" id="7499784">Feed</span><span class="op" id="7499788">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499791">XMLName</span><span class="op" id="7499798">:</span>&nbsp;<span class="ident" id="7499800">Name</span><span class="op" id="7499804">{</span><span class="string" id="7499805">&#34;http://www.w3.org/2005/Atom&#34;</span><span class="op" id="7499834">,</span>&nbsp;<span class="string" id="7499836">&#34;feed&#34;</span><span class="op" id="7499842">}</span><span class="op" id="7499843">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499846">Title</span><span class="op" id="7499851">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7499855">&#34;Code&nbsp;Review&nbsp;-&nbsp;My&nbsp;issues&#34;</span><span class="op" id="7499880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7499883">Link</span><span class="op" id="7499887">:</span>&nbsp;<span class="op" id="7499889">[</span><span class="op" id="7499890">]</span><span class="ident" id="7499891">Link</span><span class="op" id="7499895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499899">{</span><span class="ident" id="7499900">Rel</span><span class="op" id="7499903">:</span>&nbsp;<span class="string" id="7499905">&#34;alternate&#34;</span><span class="op" id="7499916">,</span>&nbsp;<span class="ident" id="7499918">Href</span><span class="op" id="7499922">:</span>&nbsp;<span class="string" id="7499924">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7499956">}</span><span class="op" id="7499957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7499961">{</span><span class="ident" id="7499962">Rel</span><span class="op" id="7499965">:</span>&nbsp;<span class="string" id="7499967">&#34;self&#34;</span><span class="op" id="7499973">,</span>&nbsp;<span class="ident" id="7499975">Href</span><span class="op" id="7499979">:</span>&nbsp;<span class="string" id="7499981">&#34;http://codereview.appspot.com/rss/mine/rsc&#34;</span><span class="op" id="7500025">}</span><span class="op" id="7500026">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500029">}</span><span class="op" id="7500030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500033">Id</span><span class="op" id="7500035">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500042">&#34;http://codereview.appspot.com/&#34;</span><span class="op" id="7500074">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500077">Updated</span><span class="op" id="7500084">:</span>&nbsp;<span class="ident" id="7500086">ParseTime</span><span class="op" id="7500095">(</span><span class="string" id="7500096">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7500123">)</span><span class="op" id="7500124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500127">Author</span><span class="op" id="7500133">:</span>&nbsp;<span class="ident" id="7500135">Person</span><span class="op" id="7500141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500145">Name</span><span class="op" id="7500149">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500155">&#34;rietveld&lt;&gt;&#34;</span><span class="op" id="7500167">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500171">InnerXML</span><span class="op" id="7500179">:</span>&nbsp;<span class="string" id="7500181">&#34;&lt;name&gt;rietveld&amp;lt;&amp;gt;&lt;/name&gt;&#34;</span><span class="op" id="7500212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500215">}</span><span class="op" id="7500216">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500219">Entry</span><span class="op" id="7500224">:</span>&nbsp;<span class="op" id="7500226">[</span><span class="op" id="7500227">]</span><span class="ident" id="7500228">Entry</span><span class="op" id="7500233">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500242">Title</span><span class="op" id="7500247">:</span>&nbsp;<span class="string" id="7500249">&#34;rietveld:&nbsp;an&nbsp;attempt&nbsp;at&nbsp;pubsubhubbub\n&#34;</span><span class="op" id="7500289">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500294">Link</span><span class="op" id="7500298">:</span>&nbsp;<span class="op" id="7500300">[</span><span class="op" id="7500301">]</span><span class="ident" id="7500302">Link</span><span class="op" id="7500306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500312">{</span><span class="ident" id="7500313">Rel</span><span class="op" id="7500316">:</span>&nbsp;<span class="string" id="7500318">&#34;alternate&#34;</span><span class="op" id="7500329">,</span>&nbsp;<span class="ident" id="7500331">Href</span><span class="op" id="7500335">:</span>&nbsp;<span class="string" id="7500337">&#34;http://codereview.appspot.com/126085&#34;</span><span class="op" id="7500375">}</span><span class="op" id="7500376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500381">}</span><span class="op" id="7500382">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500387">Updated</span><span class="op" id="7500394">:</span>&nbsp;<span class="ident" id="7500396">ParseTime</span><span class="op" id="7500405">(</span><span class="string" id="7500406">&#34;2009-10-04T01:35:58+00:00&#34;</span><span class="op" id="7500433">)</span><span class="op" id="7500434">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500439">Author</span><span class="op" id="7500445">:</span>&nbsp;<span class="ident" id="7500447">Person</span><span class="op" id="7500453">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500459">Name</span><span class="op" id="7500463">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7500469">&#34;email-address-removed&#34;</span><span class="op" id="7500492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500498">InnerXML</span><span class="op" id="7500506">:</span>&nbsp;<span class="string" id="7500508">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7500544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7500549">}</span><span class="op" id="7500550">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500555">Id</span><span class="op" id="7500557">:</span>&nbsp;<span class="string" id="7500559">&#34;urn:md5:134d9179c41f806be79b3a5f7877d19a&#34;</span><span class="op" id="7500601">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500606">Summary</span><span class="op" id="7500613">:</span>&nbsp;<span class="ident" id="7500615">Text</span><span class="op" id="7500619">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500625">Type</span><span class="op" id="7500629">:</span>&nbsp;<span class="string" id="7500631">&#34;html&#34;</span><span class="op" id="7500637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7500643">Body</span><span class="op" id="7500647">:</span>&nbsp;<span class="string" id="7500649">`<br>
<span class="lineno"></span>&nbsp;&nbsp;An&nbsp;attempt&nbsp;at&nbsp;adding&nbsp;pubsubhubbub&nbsp;support&nbsp;to&nbsp;Rietveld.<br>
<span class="lineno"></span>http://code.google.com/p/pubsubhubbub<br>
<span class="lineno"></span>http://code.google.com/p/rietveld/issues/detail?id=155<br>
<span class="lineno">150</span><br>
<span class="lineno"></span>The&nbsp;server&nbsp;side&nbsp;of&nbsp;the&nbsp;protocol&nbsp;is&nbsp;trivial:<br>
<span class="lineno"></span>&nbsp;&nbsp;1.&nbsp;add&nbsp;a&nbsp;&amp;lt;link&nbsp;rel=&amp;quot;hub&amp;quot;&nbsp;href=&amp;quot;hub-server&amp;quot;&amp;gt;&nbsp;tag&nbsp;to&nbsp;all<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feeds&nbsp;that&nbsp;will&nbsp;be&nbsp;pubsubhubbubbed.<br>
<span class="lineno"></span>&nbsp;&nbsp;2.&nbsp;every&nbsp;time&nbsp;one&nbsp;of&nbsp;those&nbsp;feeds&nbsp;changes,&nbsp;tell&nbsp;the&nbsp;hub<br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;a&nbsp;simple&nbsp;POST&nbsp;request.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>I&nbsp;have&nbsp;tested&nbsp;this&nbsp;by&nbsp;adding&nbsp;debug&nbsp;prints&nbsp;to&nbsp;a&nbsp;local&nbsp;hub<br>
<span class="lineno"></span>server&nbsp;and&nbsp;checking&nbsp;that&nbsp;the&nbsp;server&nbsp;got&nbsp;the&nbsp;right&nbsp;publish<br>
<span class="lineno"></span>requests.<br>
<span class="lineno">160</span><br>
<span class="lineno"></span>I&nbsp;can&amp;#39;t&nbsp;quite&nbsp;get&nbsp;the&nbsp;server&nbsp;to&nbsp;work,&nbsp;but&nbsp;I&nbsp;think&nbsp;the&nbsp;bug<br>
<span class="lineno"></span>is&nbsp;not&nbsp;in&nbsp;my&nbsp;code.&nbsp;&nbsp;I&nbsp;think&nbsp;that&nbsp;the&nbsp;server&nbsp;expects&nbsp;to&nbsp;be<br>
<span class="lineno"></span>able&nbsp;to&nbsp;grab&nbsp;the&nbsp;feed&nbsp;and&nbsp;see&nbsp;the&nbsp;feed&amp;#39;s&nbsp;actual&nbsp;URL&nbsp;in<br>
<span class="lineno"></span>the&nbsp;link&nbsp;rel=&amp;quot;self&amp;quot;,&nbsp;but&nbsp;the&nbsp;default&nbsp;value&nbsp;for&nbsp;that&nbsp;drops<br>
<span class="lineno">165</span>the&nbsp;:port&nbsp;from&nbsp;the&nbsp;URL,&nbsp;and&nbsp;I&nbsp;cannot&nbsp;for&nbsp;the&nbsp;life&nbsp;of&nbsp;me<br>
<span class="lineno"></span>figure&nbsp;out&nbsp;how&nbsp;to&nbsp;get&nbsp;the&nbsp;Atom&nbsp;generator&nbsp;deep&nbsp;inside<br>
<span class="lineno"></span>django&nbsp;not&nbsp;to&nbsp;do&nbsp;that,&nbsp;or&nbsp;even&nbsp;where&nbsp;it&nbsp;is&nbsp;doing&nbsp;that,<br>
<span class="lineno"></span>or&nbsp;even&nbsp;what&nbsp;code&nbsp;is&nbsp;running&nbsp;to&nbsp;generate&nbsp;the&nbsp;Atom&nbsp;feed.<br>
<span class="lineno"></span>(I&nbsp;thought&nbsp;I&nbsp;knew&nbsp;but&nbsp;I&nbsp;added&nbsp;some&nbsp;assert&nbsp;False&nbsp;statements<br>
<span class="lineno">170</span>and&nbsp;it&nbsp;kept&nbsp;running!)<br>
<span class="lineno"></span><br>
<span class="lineno"></span>Ignoring&nbsp;that&nbsp;particular&nbsp;problem,&nbsp;I&nbsp;would&nbsp;appreciate<br>
<span class="lineno"></span>feedback&nbsp;on&nbsp;the&nbsp;right&nbsp;way&nbsp;to&nbsp;get&nbsp;the&nbsp;two&nbsp;values&nbsp;at<br>
<span class="lineno"></span>the&nbsp;top&nbsp;of&nbsp;feeds.py&nbsp;marked&nbsp;NOTE(rsc).<br>
<span class="lineno">175</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>`</span><span class="op" id="7501881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501886">}</span><span class="op" id="7501887">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501891">}</span><span class="op" id="7501892">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501901">Title</span><span class="op" id="7501906">:</span>&nbsp;<span class="string" id="7501908">&#34;rietveld:&nbsp;correct&nbsp;tab&nbsp;handling\n&#34;</span><span class="op" id="7501942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7501947">Link</span><span class="op" id="7501951">:</span>&nbsp;<span class="op" id="7501953">[</span><span class="op" id="7501954">]</span><span class="ident" id="7501955">Link</span><span class="op" id="7501959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7501965">{</span><span class="ident" id="7501966">Rel</span><span class="op" id="7501969">:</span>&nbsp;<span class="string" id="7501971">&#34;alternate&#34;</span><span class="op" id="7501982">,</span>&nbsp;<span class="ident" id="7501984">Href</span><span class="op" id="7501988">:</span>&nbsp;<span class="string" id="7501990">&#34;http://codereview.appspot.com/124106&#34;</span><span class="op" id="7502028">}</span><span class="op" id="7502029">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502034">}</span><span class="op" id="7502035">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502040">Updated</span><span class="op" id="7502047">:</span>&nbsp;<span class="ident" id="7502049">ParseTime</span><span class="op" id="7502058">(</span><span class="string" id="7502059">&#34;2009-10-03T23:02:17+00:00&#34;</span><span class="op" id="7502086">)</span><span class="op" id="7502087">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502092">Author</span><span class="op" id="7502098">:</span>&nbsp;<span class="ident" id="7502100">Person</span><span class="op" id="7502106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502112">Name</span><span class="op" id="7502116">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7502122">&#34;email-address-removed&#34;</span><span class="op" id="7502145">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502151">InnerXML</span><span class="op" id="7502159">:</span>&nbsp;<span class="string" id="7502161">&#34;&lt;name&gt;email-address-removed&lt;/name&gt;&#34;</span><span class="op" id="7502197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502202">}</span><span class="op" id="7502203">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502208">Id</span><span class="op" id="7502210">:</span>&nbsp;<span class="string" id="7502212">&#34;urn:md5:0a2a4f19bb815101f0ba2904aed7c35a&#34;</span><span class="op" id="7502254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502259">Summary</span><span class="op" id="7502266">:</span>&nbsp;<span class="ident" id="7502268">Text</span><span class="op" id="7502272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502278">Type</span><span class="op" id="7502282">:</span>&nbsp;<span class="string" id="7502284">&#34;html&#34;</span><span class="op" id="7502290">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7502296">Body</span><span class="op" id="7502300">:</span>&nbsp;<span class="string" id="7502302">`<br>
<span class="lineno"></span>&nbsp;&nbsp;This&nbsp;fixes&nbsp;the&nbsp;buggy&nbsp;tab&nbsp;rendering&nbsp;that&nbsp;can&nbsp;be&nbsp;seen&nbsp;at<br>
<span class="lineno">195</span>http://codereview.appspot.com/116075/diff/1/2<br>
<span class="lineno"></span><br>
<span class="lineno"></span>The&nbsp;fundamental&nbsp;problem&nbsp;was&nbsp;that&nbsp;the&nbsp;tab&nbsp;code&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;told&nbsp;what&nbsp;column&nbsp;the&nbsp;text&nbsp;began&nbsp;in,&nbsp;so&nbsp;it<br>
<span class="lineno"></span>didn&amp;#39;t&nbsp;know&nbsp;where&nbsp;to&nbsp;put&nbsp;the&nbsp;tab&nbsp;stops.&nbsp;&nbsp;Another&nbsp;problem<br>
<span class="lineno">200</span>was&nbsp;that&nbsp;some&nbsp;of&nbsp;the&nbsp;code&nbsp;assumed&nbsp;that&nbsp;string&nbsp;byte<br>
<span class="lineno"></span>offsets&nbsp;were&nbsp;the&nbsp;same&nbsp;as&nbsp;column&nbsp;offsets,&nbsp;which&nbsp;is&nbsp;only<br>
<span class="lineno"></span>true&nbsp;if&nbsp;there&nbsp;are&nbsp;no&nbsp;tabs.<br>
<span class="lineno"></span><br>
<span class="lineno"></span>In&nbsp;the&nbsp;process&nbsp;of&nbsp;fixing&nbsp;this,&nbsp;I&nbsp;cleaned&nbsp;up&nbsp;the&nbsp;arguments<br>
<span class="lineno">205</span>to&nbsp;Fold&nbsp;and&nbsp;ExpandTabs&nbsp;and&nbsp;renamed&nbsp;them&nbsp;Break&nbsp;and<br>
<span class="lineno"></span>_ExpandTabs&nbsp;so&nbsp;that&nbsp;I&nbsp;could&nbsp;be&nbsp;sure&nbsp;that&nbsp;I&nbsp;found&nbsp;all&nbsp;the<br>
<span class="lineno"></span>call&nbsp;sites.&nbsp;&nbsp;I&nbsp;also&nbsp;wanted&nbsp;to&nbsp;verify&nbsp;that&nbsp;ExpandTabs&nbsp;was<br>
<span class="lineno"></span>not&nbsp;being&nbsp;used&nbsp;from&nbsp;outside&nbsp;intra_region_diff.py.<br>
<span class="lineno"></span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>`</span><span class="op" id="7502980">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502985">}</span><span class="op" id="7502986">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502990">}</span><span class="op" id="7502991">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7502994">}</span><span class="op" id="7502995">,</span><br>
<span class="lineno">215</span><span class="op" id="7502997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503000">const</span>&nbsp;<span class="ident" id="7503006">pathTestString</span>&nbsp;<span class="op" id="7503021">=</span>&nbsp;<span class="string" id="7503023">`<br>
<span class="lineno"></span>&lt;Result&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Before&gt;1&lt;/Before&gt;<br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;Items&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;A&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item2&gt;<br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;B&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;C&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;D&lt;/Value&gt;<br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Item1&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;E&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/_&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Items&gt;<br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;After&gt;2&lt;/After&gt;<br>
<span class="lineno"></span>&lt;/Result&gt;<br>
<span class="lineno"></span>`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503385">type</span>&nbsp;<span class="ident" id="7503390">PathTestItem</span>&nbsp;<span class="keyword" id="7503403">struct</span>&nbsp;<span class="op" id="7503410">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503413">Value</span>&nbsp;<span class="builtintype" id="7503419">string</span><br>
<span class="lineno"></span><span class="op" id="7503426">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503429">type</span>&nbsp;<span class="ident" id="7503434">PathTestA</span>&nbsp;<span class="keyword" id="7503444">struct</span>&nbsp;<span class="op" id="7503451">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503454">Items</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503468">[</span><span class="op" id="7503469">]</span><span class="ident" id="7503470">PathTestItem</span>&nbsp;<span class="string" id="7503483">`xml:&#34;&gt;Item1&#34;`</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503499">Before</span><span class="op" id="7503505">,</span>&nbsp;<span class="ident" id="7503507">After</span>&nbsp;<span class="builtintype" id="7503513">string</span><br>
<span class="lineno"></span><span class="op" id="7503520">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503523">type</span>&nbsp;<span class="ident" id="7503528">PathTestB</span>&nbsp;<span class="keyword" id="7503538">struct</span>&nbsp;<span class="op" id="7503545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503548">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503562">[</span><span class="op" id="7503563">]</span><span class="ident" id="7503564">PathTestItem</span>&nbsp;<span class="string" id="7503577">`xml:&#34;Items&gt;Item1&#34;`</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503598">Before</span><span class="op" id="7503604">,</span>&nbsp;<span class="ident" id="7503606">After</span>&nbsp;<span class="builtintype" id="7503612">string</span><br>
<span class="lineno"></span><span class="op" id="7503619">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503622">type</span>&nbsp;<span class="ident" id="7503627">PathTestC</span>&nbsp;<span class="keyword" id="7503637">struct</span>&nbsp;<span class="op" id="7503644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503647">Values1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503661">[</span><span class="op" id="7503662">]</span><span class="builtintype" id="7503663">string</span>&nbsp;<span class="string" id="7503670">`xml:&#34;Items&gt;Item1&gt;Value&#34;`</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503697">Values2</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7503711">[</span><span class="op" id="7503712">]</span><span class="builtintype" id="7503713">string</span>&nbsp;<span class="string" id="7503720">`xml:&#34;Items&gt;Item2&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503747">Before</span><span class="op" id="7503753">,</span>&nbsp;<span class="ident" id="7503755">After</span>&nbsp;<span class="builtintype" id="7503761">string</span><br>
<span class="lineno"></span><span class="op" id="7503768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503771">type</span>&nbsp;<span class="ident" id="7503776">PathTestSet</span>&nbsp;<span class="keyword" id="7503788">struct</span>&nbsp;<span class="op" id="7503795">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503798">Item1</span>&nbsp;<span class="op" id="7503804">[</span><span class="op" id="7503805">]</span><span class="ident" id="7503806">PathTestItem</span><br>
<span class="lineno"></span><span class="op" id="7503819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503822">type</span>&nbsp;<span class="ident" id="7503827">PathTestD</span>&nbsp;<span class="keyword" id="7503837">struct</span>&nbsp;<span class="op" id="7503844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503847">Other</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7503861">PathTestSet</span>&nbsp;<span class="string" id="7503873">`xml:&#34;Items&#34;`</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503888">Before</span><span class="op" id="7503894">,</span>&nbsp;<span class="ident" id="7503896">After</span>&nbsp;<span class="builtintype" id="7503902">string</span><br>
<span class="lineno"></span><span class="op" id="7503909">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7503912">type</span>&nbsp;<span class="ident" id="7503917">PathTestE</span>&nbsp;<span class="keyword" id="7503927">struct</span>&nbsp;<span class="op" id="7503934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503937">Underline</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7503951">string</span>&nbsp;<span class="string" id="7503958">`xml:&#34;Items&gt;_&gt;Value&#34;`</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7503981">Before</span><span class="op" id="7503987">,</span>&nbsp;<span class="ident" id="7503989">After</span>&nbsp;<span class="builtintype" id="7503995">string</span><br>
<span class="lineno"></span><span class="op" id="7504002">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504005">var</span>&nbsp;<span class="ident" id="7504009">pathTests</span>&nbsp;<span class="op" id="7504019">=</span>&nbsp;<span class="op" id="7504021">[</span><span class="op" id="7504022">]</span><span class="keyword" id="7504023">interface</span><span class="op" id="7504032">{</span><span class="op" id="7504033">}</span><span class="op" id="7504034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504037">&amp;</span><span class="ident" id="7504038">PathTestA</span><span class="op" id="7504047">{</span><span class="ident" id="7504048">Items</span><span class="op" id="7504053">:</span>&nbsp;<span class="op" id="7504055">[</span><span class="op" id="7504056">]</span><span class="ident" id="7504057">PathTestItem</span><span class="op" id="7504069">{</span><span class="op" id="7504070">{</span><span class="string" id="7504071">&#34;A&#34;</span><span class="op" id="7504074">}</span><span class="op" id="7504075">,</span>&nbsp;<span class="op" id="7504077">{</span><span class="string" id="7504078">&#34;D&#34;</span><span class="op" id="7504081">}</span><span class="op" id="7504082">}</span><span class="op" id="7504083">,</span>&nbsp;<span class="ident" id="7504085">Before</span><span class="op" id="7504091">:</span>&nbsp;<span class="string" id="7504093">&#34;1&#34;</span><span class="op" id="7504096">,</span>&nbsp;<span class="ident" id="7504098">After</span><span class="op" id="7504103">:</span>&nbsp;<span class="string" id="7504105">&#34;2&#34;</span><span class="op" id="7504108">}</span><span class="op" id="7504109">,</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504112">&amp;</span><span class="ident" id="7504113">PathTestB</span><span class="op" id="7504122">{</span><span class="ident" id="7504123">Other</span><span class="op" id="7504128">:</span>&nbsp;<span class="op" id="7504130">[</span><span class="op" id="7504131">]</span><span class="ident" id="7504132">PathTestItem</span><span class="op" id="7504144">{</span><span class="op" id="7504145">{</span><span class="string" id="7504146">&#34;A&#34;</span><span class="op" id="7504149">}</span><span class="op" id="7504150">,</span>&nbsp;<span class="op" id="7504152">{</span><span class="string" id="7504153">&#34;D&#34;</span><span class="op" id="7504156">}</span><span class="op" id="7504157">}</span><span class="op" id="7504158">,</span>&nbsp;<span class="ident" id="7504160">Before</span><span class="op" id="7504166">:</span>&nbsp;<span class="string" id="7504168">&#34;1&#34;</span><span class="op" id="7504171">,</span>&nbsp;<span class="ident" id="7504173">After</span><span class="op" id="7504178">:</span>&nbsp;<span class="string" id="7504180">&#34;2&#34;</span><span class="op" id="7504183">}</span><span class="op" id="7504184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504187">&amp;</span><span class="ident" id="7504188">PathTestC</span><span class="op" id="7504197">{</span><span class="ident" id="7504198">Values1</span><span class="op" id="7504205">:</span>&nbsp;<span class="op" id="7504207">[</span><span class="op" id="7504208">]</span><span class="builtintype" id="7504209">string</span><span class="op" id="7504215">{</span><span class="string" id="7504216">&#34;A&#34;</span><span class="op" id="7504219">,</span>&nbsp;<span class="string" id="7504221">&#34;C&#34;</span><span class="op" id="7504224">,</span>&nbsp;<span class="string" id="7504226">&#34;D&#34;</span><span class="op" id="7504229">}</span><span class="op" id="7504230">,</span>&nbsp;<span class="ident" id="7504232">Values2</span><span class="op" id="7504239">:</span>&nbsp;<span class="op" id="7504241">[</span><span class="op" id="7504242">]</span><span class="builtintype" id="7504243">string</span><span class="op" id="7504249">{</span><span class="string" id="7504250">&#34;B&#34;</span><span class="op" id="7504253">}</span><span class="op" id="7504254">,</span>&nbsp;<span class="ident" id="7504256">Before</span><span class="op" id="7504262">:</span>&nbsp;<span class="string" id="7504264">&#34;1&#34;</span><span class="op" id="7504267">,</span>&nbsp;<span class="ident" id="7504269">After</span><span class="op" id="7504274">:</span>&nbsp;<span class="string" id="7504276">&#34;2&#34;</span><span class="op" id="7504279">}</span><span class="op" id="7504280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504283">&amp;</span><span class="ident" id="7504284">PathTestD</span><span class="op" id="7504293">{</span><span class="ident" id="7504294">Other</span><span class="op" id="7504299">:</span>&nbsp;<span class="ident" id="7504301">PathTestSet</span><span class="op" id="7504312">{</span><span class="ident" id="7504313">Item1</span><span class="op" id="7504318">:</span>&nbsp;<span class="op" id="7504320">[</span><span class="op" id="7504321">]</span><span class="ident" id="7504322">PathTestItem</span><span class="op" id="7504334">{</span><span class="op" id="7504335">{</span><span class="string" id="7504336">&#34;A&#34;</span><span class="op" id="7504339">}</span><span class="op" id="7504340">,</span>&nbsp;<span class="op" id="7504342">{</span><span class="string" id="7504343">&#34;D&#34;</span><span class="op" id="7504346">}</span><span class="op" id="7504347">}</span><span class="op" id="7504348">}</span><span class="op" id="7504349">,</span>&nbsp;<span class="ident" id="7504351">Before</span><span class="op" id="7504357">:</span>&nbsp;<span class="string" id="7504359">&#34;1&#34;</span><span class="op" id="7504362">,</span>&nbsp;<span class="ident" id="7504364">After</span><span class="op" id="7504369">:</span>&nbsp;<span class="string" id="7504371">&#34;2&#34;</span><span class="op" id="7504374">}</span><span class="op" id="7504375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504378">&amp;</span><span class="ident" id="7504379">PathTestE</span><span class="op" id="7504388">{</span><span class="ident" id="7504389">Underline</span><span class="op" id="7504398">:</span>&nbsp;<span class="string" id="7504400">&#34;E&#34;</span><span class="op" id="7504403">,</span>&nbsp;<span class="ident" id="7504405">Before</span><span class="op" id="7504411">:</span>&nbsp;<span class="string" id="7504413">&#34;1&#34;</span><span class="op" id="7504416">,</span>&nbsp;<span class="ident" id="7504418">After</span><span class="op" id="7504423">:</span>&nbsp;<span class="string" id="7504425">&#34;2&#34;</span><span class="op" id="7504428">}</span><span class="op" id="7504429">,</span><br>
<span class="lineno"></span><span class="op" id="7504431">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7504434">func</span>&nbsp;<span class="ident" id="7504439">TestUnmarshalPaths</span><span class="op" id="7504457">(</span><span class="ident" id="7504458">t</span>&nbsp;<span class="op" id="7504460">*</span><span class="ident" id="7504461">testing</span><span class="op" id="7504468">.</span><span class="ident" id="7504469">T</span><span class="op" id="7504470">)</span>&nbsp;<span class="op" id="7504472">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504475">for</span>&nbsp;<span class="ident" id="7504479">_</span><span class="op" id="7504480">,</span>&nbsp;<span class="ident" id="7504482">pt</span>&nbsp;<span class="op" id="7504485">:=</span>&nbsp;<span class="keyword" id="7504488">range</span>&nbsp;<span class="ident" id="7504494">pathTests</span>&nbsp;<span class="op" id="7504504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504508">v</span>&nbsp;<span class="op" id="7504510">:=</span>&nbsp;<span class="ident" id="7504513">reflect</span><span class="op" id="7504520">.</span><span class="ident" id="7504521">New</span><span class="op" id="7504524">(</span><span class="ident" id="7504525">reflect</span><span class="op" id="7504532">.</span><span class="ident" id="7504533">TypeOf</span><span class="op" id="7504539">(</span><span class="ident" id="7504540">pt</span><span class="op" id="7504542">)</span><span class="op" id="7504543">.</span><span class="ident" id="7504544">Elem</span><span class="op" id="7504548">(</span><span class="op" id="7504549">)</span><span class="op" id="7504550">)</span><span class="op" id="7504551">.</span><span class="ident" id="7504552">Interface</span><span class="op" id="7504561">(</span><span class="op" id="7504562">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504566">if</span>&nbsp;<span class="ident" id="7504569">err</span>&nbsp;<span class="op" id="7504573">:=</span>&nbsp;<span class="ident" id="7504576">Unmarshal</span><span class="op" id="7504585">(</span><span class="op" id="7504586">[</span><span class="op" id="7504587">]</span><span class="builtintype" id="7504588">byte</span><span class="op" id="7504592">(</span><span class="ident" id="7504593">pathTestString</span><span class="op" id="7504607">)</span><span class="op" id="7504608">,</span>&nbsp;<span class="ident" id="7504610">v</span><span class="op" id="7504611">)</span><span class="op" id="7504612">;</span>&nbsp;<span class="ident" id="7504614">err</span>&nbsp;<span class="op" id="7504618">!=</span>&nbsp;<span class="ident" id="7504621">nil</span>&nbsp;<span class="op" id="7504625">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504630">t</span><span class="op" id="7504631">.</span><span class="ident" id="7504632">Fatalf</span><span class="op" id="7504638">(</span><span class="string" id="7504639">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7504654">,</span>&nbsp;<span class="ident" id="7504656">err</span><span class="op" id="7504659">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504663">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7504667">if</span>&nbsp;<span class="op" id="7504670">!</span><span class="ident" id="7504671">reflect</span><span class="op" id="7504678">.</span><span class="ident" id="7504679">DeepEqual</span><span class="op" id="7504688">(</span><span class="ident" id="7504689">v</span><span class="op" id="7504690">,</span>&nbsp;<span class="ident" id="7504692">pt</span><span class="op" id="7504694">)</span>&nbsp;<span class="op" id="7504696">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504701">t</span><span class="op" id="7504702">.</span><span class="ident" id="7504703">Fatalf</span><span class="op" id="7504709">(</span><span class="string" id="7504710">&#34;have&nbsp;%#v\nwant&nbsp;%#v&#34;</span><span class="op" id="7504730">,</span>&nbsp;<span class="ident" id="7504732">v</span><span class="op" id="7504733">,</span>&nbsp;<span class="ident" id="7504735">pt</span><span class="op" id="7504737">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504741">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7504744">}</span><br>
<span class="lineno"></span><span class="op" id="7504746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504749">type</span>&nbsp;<span class="ident" id="7504754">BadPathTestA</span>&nbsp;<span class="keyword" id="7504767">struct</span>&nbsp;<span class="op" id="7504774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504777">First</span>&nbsp;&nbsp;<span class="builtintype" id="7504784">string</span>&nbsp;<span class="string" id="7504791">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504812">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7504819">string</span>&nbsp;<span class="string" id="7504826">`xml:&#34;items&gt;item2&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504847">Second</span>&nbsp;<span class="builtintype" id="7504854">string</span>&nbsp;<span class="string" id="7504861">`xml:&#34;items&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7504875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7504878">type</span>&nbsp;<span class="ident" id="7504883">BadPathTestB</span>&nbsp;<span class="keyword" id="7504896">struct</span>&nbsp;<span class="op" id="7504903">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504906">Other</span>&nbsp;&nbsp;<span class="builtintype" id="7504913">string</span>&nbsp;<span class="string" id="7504920">`xml:&#34;items&gt;item2&gt;value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504947">First</span>&nbsp;&nbsp;<span class="builtintype" id="7504954">string</span>&nbsp;<span class="string" id="7504961">`xml:&#34;items&gt;item1&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7504982">Second</span>&nbsp;<span class="builtintype" id="7504989">string</span>&nbsp;<span class="string" id="7504996">`xml:&#34;items&gt;item1&gt;value&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7505022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="7505025">type</span>&nbsp;<span class="ident" id="7505030">BadPathTestC</span>&nbsp;<span class="keyword" id="7505043">struct</span>&nbsp;<span class="op" id="7505050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505053">First</span>&nbsp;&nbsp;<span class="builtintype" id="7505060">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505068">Second</span>&nbsp;<span class="builtintype" id="7505075">string</span>&nbsp;<span class="string" id="7505082">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7505096">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">310</span><span class="keyword" id="7505099">type</span>&nbsp;<span class="ident" id="7505104">BadPathTestD</span>&nbsp;<span class="keyword" id="7505117">struct</span>&nbsp;<span class="op" id="7505124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505127">BadPathEmbeddedA</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505145">BadPathEmbeddedB</span><br>
<span class="lineno"></span><span class="op" id="7505162">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">315</span><span class="keyword" id="7505165">type</span>&nbsp;<span class="ident" id="7505170">BadPathEmbeddedA</span>&nbsp;<span class="keyword" id="7505187">struct</span>&nbsp;<span class="op" id="7505194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505197">First</span>&nbsp;<span class="builtintype" id="7505203">string</span><br>
<span class="lineno"></span><span class="op" id="7505210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505213">type</span>&nbsp;<span class="ident" id="7505218">BadPathEmbeddedB</span>&nbsp;<span class="keyword" id="7505235">struct</span>&nbsp;<span class="op" id="7505242">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505245">Second</span>&nbsp;<span class="builtintype" id="7505252">string</span>&nbsp;<span class="string" id="7505259">`xml:&#34;First&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7505273">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505276">var</span>&nbsp;<span class="ident" id="7505280">badPathTests</span>&nbsp;<span class="op" id="7505293">=</span>&nbsp;<span class="op" id="7505295">[</span><span class="op" id="7505296">]</span><span class="keyword" id="7505297">struct</span>&nbsp;<span class="op" id="7505304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505307">v</span><span class="op" id="7505308">,</span>&nbsp;<span class="ident" id="7505310">e</span>&nbsp;<span class="keyword" id="7505312">interface</span><span class="op" id="7505321">{</span><span class="op" id="7505322">}</span><br>
<span class="lineno">325</span><span class="op" id="7505324">}</span><span class="op" id="7505325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505328">{</span><span class="op" id="7505329">&amp;</span><span class="ident" id="7505330">BadPathTestA</span><span class="op" id="7505342">{</span><span class="op" id="7505343">}</span><span class="op" id="7505344">,</span>&nbsp;<span class="op" id="7505346">&amp;</span><span class="ident" id="7505347">TagPathError</span><span class="op" id="7505359">{</span><span class="ident" id="7505360">reflect</span><span class="op" id="7505367">.</span><span class="ident" id="7505368">TypeOf</span><span class="op" id="7505374">(</span><span class="ident" id="7505375">BadPathTestA</span><span class="op" id="7505387">{</span><span class="op" id="7505388">}</span><span class="op" id="7505389">)</span><span class="op" id="7505390">,</span>&nbsp;<span class="string" id="7505392">&#34;First&#34;</span><span class="op" id="7505399">,</span>&nbsp;<span class="string" id="7505401">&#34;items&gt;item1&#34;</span><span class="op" id="7505414">,</span>&nbsp;<span class="string" id="7505416">&#34;Second&#34;</span><span class="op" id="7505424">,</span>&nbsp;<span class="string" id="7505426">&#34;items&#34;</span><span class="op" id="7505433">}</span><span class="op" id="7505434">}</span><span class="op" id="7505435">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505438">{</span><span class="op" id="7505439">&amp;</span><span class="ident" id="7505440">BadPathTestB</span><span class="op" id="7505452">{</span><span class="op" id="7505453">}</span><span class="op" id="7505454">,</span>&nbsp;<span class="op" id="7505456">&amp;</span><span class="ident" id="7505457">TagPathError</span><span class="op" id="7505469">{</span><span class="ident" id="7505470">reflect</span><span class="op" id="7505477">.</span><span class="ident" id="7505478">TypeOf</span><span class="op" id="7505484">(</span><span class="ident" id="7505485">BadPathTestB</span><span class="op" id="7505497">{</span><span class="op" id="7505498">}</span><span class="op" id="7505499">)</span><span class="op" id="7505500">,</span>&nbsp;<span class="string" id="7505502">&#34;First&#34;</span><span class="op" id="7505509">,</span>&nbsp;<span class="string" id="7505511">&#34;items&gt;item1&#34;</span><span class="op" id="7505524">,</span>&nbsp;<span class="string" id="7505526">&#34;Second&#34;</span><span class="op" id="7505534">,</span>&nbsp;<span class="string" id="7505536">&#34;items&gt;item1&gt;value&#34;</span><span class="op" id="7505555">}</span><span class="op" id="7505556">}</span><span class="op" id="7505557">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505560">{</span><span class="op" id="7505561">&amp;</span><span class="ident" id="7505562">BadPathTestC</span><span class="op" id="7505574">{</span><span class="op" id="7505575">}</span><span class="op" id="7505576">,</span>&nbsp;<span class="op" id="7505578">&amp;</span><span class="ident" id="7505579">TagPathError</span><span class="op" id="7505591">{</span><span class="ident" id="7505592">reflect</span><span class="op" id="7505599">.</span><span class="ident" id="7505600">TypeOf</span><span class="op" id="7505606">(</span><span class="ident" id="7505607">BadPathTestC</span><span class="op" id="7505619">{</span><span class="op" id="7505620">}</span><span class="op" id="7505621">)</span><span class="op" id="7505622">,</span>&nbsp;<span class="string" id="7505624">&#34;First&#34;</span><span class="op" id="7505631">,</span>&nbsp;<span class="string" id="7505633">&#34;&#34;</span><span class="op" id="7505635">,</span>&nbsp;<span class="string" id="7505637">&#34;Second&#34;</span><span class="op" id="7505645">,</span>&nbsp;<span class="string" id="7505647">&#34;First&#34;</span><span class="op" id="7505654">}</span><span class="op" id="7505655">}</span><span class="op" id="7505656">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7505659">{</span><span class="op" id="7505660">&amp;</span><span class="ident" id="7505661">BadPathTestD</span><span class="op" id="7505673">{</span><span class="op" id="7505674">}</span><span class="op" id="7505675">,</span>&nbsp;<span class="op" id="7505677">&amp;</span><span class="ident" id="7505678">TagPathError</span><span class="op" id="7505690">{</span><span class="ident" id="7505691">reflect</span><span class="op" id="7505698">.</span><span class="ident" id="7505699">TypeOf</span><span class="op" id="7505705">(</span><span class="ident" id="7505706">BadPathTestD</span><span class="op" id="7505718">{</span><span class="op" id="7505719">}</span><span class="op" id="7505720">)</span><span class="op" id="7505721">,</span>&nbsp;<span class="string" id="7505723">&#34;First&#34;</span><span class="op" id="7505730">,</span>&nbsp;<span class="string" id="7505732">&#34;&#34;</span><span class="op" id="7505734">,</span>&nbsp;<span class="string" id="7505736">&#34;Second&#34;</span><span class="op" id="7505744">,</span>&nbsp;<span class="string" id="7505746">&#34;First&#34;</span><span class="op" id="7505753">}</span><span class="op" id="7505754">}</span><span class="op" id="7505755">,</span><br>
<span class="lineno">330</span><span class="op" id="7505757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7505760">func</span>&nbsp;<span class="ident" id="7505765">TestUnmarshalBadPaths</span><span class="op" id="7505786">(</span><span class="ident" id="7505787">t</span>&nbsp;<span class="op" id="7505789">*</span><span class="ident" id="7505790">testing</span><span class="op" id="7505797">.</span><span class="ident" id="7505798">T</span><span class="op" id="7505799">)</span>&nbsp;<span class="op" id="7505801">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505804">for</span>&nbsp;<span class="ident" id="7505808">_</span><span class="op" id="7505809">,</span>&nbsp;<span class="ident" id="7505811">tt</span>&nbsp;<span class="op" id="7505814">:=</span>&nbsp;<span class="keyword" id="7505817">range</span>&nbsp;<span class="ident" id="7505823">badPathTests</span>&nbsp;<span class="op" id="7505836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505840">err</span>&nbsp;<span class="op" id="7505844">:=</span>&nbsp;<span class="ident" id="7505847">Unmarshal</span><span class="op" id="7505856">(</span><span class="op" id="7505857">[</span><span class="op" id="7505858">]</span><span class="builtintype" id="7505859">byte</span><span class="op" id="7505863">(</span><span class="ident" id="7505864">pathTestString</span><span class="op" id="7505878">)</span><span class="op" id="7505879">,</span>&nbsp;<span class="ident" id="7505881">tt</span><span class="op" id="7505883">.</span><span class="ident" id="7505884">v</span><span class="op" id="7505885">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7505889">if</span>&nbsp;<span class="op" id="7505892">!</span><span class="ident" id="7505893">reflect</span><span class="op" id="7505900">.</span><span class="ident" id="7505901">DeepEqual</span><span class="op" id="7505910">(</span><span class="ident" id="7505911">err</span><span class="op" id="7505914">,</span>&nbsp;<span class="ident" id="7505916">tt</span><span class="op" id="7505918">.</span><span class="ident" id="7505919">e</span><span class="op" id="7505920">)</span>&nbsp;<span class="op" id="7505922">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7505927">t</span><span class="op" id="7505928">.</span><span class="ident" id="7505929">Fatalf</span><span class="op" id="7505935">(</span><span class="string" id="7505936">&#34;Unmarshal&nbsp;with&nbsp;%#v&nbsp;didn&#39;t&nbsp;fail&nbsp;properly:\nhave&nbsp;%#v,\nwant&nbsp;%#v&#34;</span><span class="op" id="7505999">,</span>&nbsp;<span class="ident" id="7506001">tt</span><span class="op" id="7506003">.</span><span class="ident" id="7506004">v</span><span class="op" id="7506005">,</span>&nbsp;<span class="ident" id="7506007">err</span><span class="op" id="7506010">,</span>&nbsp;<span class="ident" id="7506012">tt</span><span class="op" id="7506014">.</span><span class="ident" id="7506015">e</span><span class="op" id="7506016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506023">}</span><br>
<span class="lineno"></span><span class="op" id="7506025">}</span><br>
<span class="lineno">340</span><br>
<span class="lineno"></span><span class="keyword" id="7506028">const</span>&nbsp;<span class="ident" id="7506034">OK</span>&nbsp;<span class="op" id="7506037">=</span>&nbsp;<span class="string" id="7506039">&#34;OK&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="7506044">const</span>&nbsp;<span class="ident" id="7506050">withoutNameTypeData</span>&nbsp;<span class="op" id="7506070">=</span>&nbsp;<span class="string" id="7506072">`<br>
<span class="lineno"></span>&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;charset=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&lt;Test3&nbsp;Attr=&#34;OK&#34;&nbsp;/&gt;`</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span><span class="keyword" id="7506134">type</span>&nbsp;<span class="ident" id="7506139">TestThree</span>&nbsp;<span class="keyword" id="7506149">struct</span>&nbsp;<span class="op" id="7506156">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506159">XMLName</span>&nbsp;<span class="ident" id="7506167">Name</span>&nbsp;&nbsp;&nbsp;<span class="string" id="7506174">`xml:&#34;Test3&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506189">Attr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7506197">string</span>&nbsp;<span class="string" id="7506204">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7506218">}</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span><span class="keyword" id="7506221">func</span>&nbsp;<span class="ident" id="7506226">TestUnmarshalWithoutNameType</span><span class="op" id="7506254">(</span><span class="ident" id="7506255">t</span>&nbsp;<span class="op" id="7506257">*</span><span class="ident" id="7506258">testing</span><span class="op" id="7506265">.</span><span class="ident" id="7506266">T</span><span class="op" id="7506267">)</span>&nbsp;<span class="op" id="7506269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506272">var</span>&nbsp;<span class="ident" id="7506276">x</span>&nbsp;<span class="ident" id="7506278">TestThree</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506289">if</span>&nbsp;<span class="ident" id="7506292">err</span>&nbsp;<span class="op" id="7506296">:=</span>&nbsp;<span class="ident" id="7506299">Unmarshal</span><span class="op" id="7506308">(</span><span class="op" id="7506309">[</span><span class="op" id="7506310">]</span><span class="builtintype" id="7506311">byte</span><span class="op" id="7506315">(</span><span class="ident" id="7506316">withoutNameTypeData</span><span class="op" id="7506335">)</span><span class="op" id="7506336">,</span>&nbsp;<span class="op" id="7506338">&amp;</span><span class="ident" id="7506339">x</span><span class="op" id="7506340">)</span><span class="op" id="7506341">;</span>&nbsp;<span class="ident" id="7506343">err</span>&nbsp;<span class="op" id="7506347">!=</span>&nbsp;<span class="ident" id="7506350">nil</span>&nbsp;<span class="op" id="7506354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506358">t</span><span class="op" id="7506359">.</span><span class="ident" id="7506360">Fatalf</span><span class="op" id="7506366">(</span><span class="string" id="7506367">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7506382">,</span>&nbsp;<span class="ident" id="7506384">err</span><span class="op" id="7506387">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506393">if</span>&nbsp;<span class="ident" id="7506396">x</span><span class="op" id="7506397">.</span><span class="ident" id="7506398">Attr</span>&nbsp;<span class="op" id="7506403">!=</span>&nbsp;<span class="ident" id="7506406">OK</span>&nbsp;<span class="op" id="7506409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506413">t</span><span class="op" id="7506414">.</span><span class="ident" id="7506415">Fatalf</span><span class="op" id="7506421">(</span><span class="string" id="7506422">&#34;have&nbsp;%v\nwant&nbsp;%v&#34;</span><span class="op" id="7506440">,</span>&nbsp;<span class="ident" id="7506442">x</span><span class="op" id="7506443">.</span><span class="ident" id="7506444">Attr</span><span class="op" id="7506448">,</span>&nbsp;<span class="ident" id="7506450">OK</span><span class="op" id="7506452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506455">}</span><br>
<span class="lineno"></span><span class="op" id="7506457">}</span><br>
<span class="lineno">360</span><br>
<span class="lineno"></span><span class="keyword" id="7506460">func</span>&nbsp;<span class="ident" id="7506465">TestUnmarshalAttr</span><span class="op" id="7506482">(</span><span class="ident" id="7506483">t</span>&nbsp;<span class="op" id="7506485">*</span><span class="ident" id="7506486">testing</span><span class="op" id="7506493">.</span><span class="ident" id="7506494">T</span><span class="op" id="7506495">)</span>&nbsp;<span class="op" id="7506497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506500">type</span>&nbsp;<span class="ident" id="7506505">ParamVal</span>&nbsp;<span class="keyword" id="7506514">struct</span>&nbsp;<span class="op" id="7506521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506525">Int</span>&nbsp;<span class="builtintype" id="7506529">int</span>&nbsp;<span class="string" id="7506533">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506551">}</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506555">type</span>&nbsp;<span class="ident" id="7506560">ParamPtr</span>&nbsp;<span class="keyword" id="7506569">struct</span>&nbsp;<span class="op" id="7506576">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506580">Int</span>&nbsp;<span class="op" id="7506584">*</span><span class="builtintype" id="7506585">int</span>&nbsp;<span class="string" id="7506589">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506607">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506611">type</span>&nbsp;<span class="ident" id="7506616">ParamStringPtr</span>&nbsp;<span class="keyword" id="7506631">struct</span>&nbsp;<span class="op" id="7506638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506642">Int</span>&nbsp;<span class="op" id="7506646">*</span><span class="builtintype" id="7506647">string</span>&nbsp;<span class="string" id="7506654">`xml:&#34;int,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506676">x</span>&nbsp;<span class="op" id="7506678">:=</span>&nbsp;<span class="op" id="7506681">[</span><span class="op" id="7506682">]</span><span class="builtintype" id="7506683">byte</span><span class="op" id="7506687">(</span><span class="string" id="7506688">`&lt;Param&nbsp;int=&#34;1&#34;&nbsp;/&gt;`</span><span class="op" id="7506707">)</span><br>
<span class="lineno">375</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506711">p1</span>&nbsp;<span class="op" id="7506714">:=</span>&nbsp;<span class="op" id="7506717">&amp;</span><span class="ident" id="7506718">ParamPtr</span><span class="op" id="7506726">{</span><span class="op" id="7506727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506730">if</span>&nbsp;<span class="ident" id="7506733">err</span>&nbsp;<span class="op" id="7506737">:=</span>&nbsp;<span class="ident" id="7506740">Unmarshal</span><span class="op" id="7506749">(</span><span class="ident" id="7506750">x</span><span class="op" id="7506751">,</span>&nbsp;<span class="ident" id="7506753">p1</span><span class="op" id="7506755">)</span><span class="op" id="7506756">;</span>&nbsp;<span class="ident" id="7506758">err</span>&nbsp;<span class="op" id="7506762">!=</span>&nbsp;<span class="ident" id="7506765">nil</span>&nbsp;<span class="op" id="7506769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506773">t</span><span class="op" id="7506774">.</span><span class="ident" id="7506775">Fatalf</span><span class="op" id="7506781">(</span><span class="string" id="7506782">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7506797">,</span>&nbsp;<span class="ident" id="7506799">err</span><span class="op" id="7506802">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506805">}</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7506808">if</span>&nbsp;<span class="ident" id="7506811">p1</span><span class="op" id="7506813">.</span><span class="ident" id="7506814">Int</span>&nbsp;<span class="op" id="7506818">==</span>&nbsp;<span class="ident" id="7506821">nil</span>&nbsp;<span class="op" id="7506825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506829">t</span><span class="op" id="7506830">.</span><span class="ident" id="7506831">Fatalf</span><span class="op" id="7506837">(</span><span class="string" id="7506838">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*int&nbsp;field&#34;</span><span class="op" id="7506873">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506876">}</span>&nbsp;<span class="keyword" id="7506878">else</span>&nbsp;<span class="keyword" id="7506883">if</span>&nbsp;<span class="op" id="7506886">*</span><span class="ident" id="7506887">p1</span><span class="op" id="7506889">.</span><span class="ident" id="7506890">Int</span>&nbsp;<span class="op" id="7506894">!=</span>&nbsp;<span class="num" id="7506897">1</span>&nbsp;<span class="op" id="7506899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506903">t</span><span class="op" id="7506904">.</span><span class="ident" id="7506905">Fatalf</span><span class="op" id="7506911">(</span><span class="string" id="7506912">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7506961">,</span>&nbsp;<span class="ident" id="7506963">x</span><span class="op" id="7506964">,</span>&nbsp;<span class="ident" id="7506966">p1</span><span class="op" id="7506968">.</span><span class="ident" id="7506969">Int</span><span class="op" id="7506972">,</span>&nbsp;<span class="num" id="7506974">1</span><span class="op" id="7506975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7506978">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7506982">p2</span>&nbsp;<span class="op" id="7506985">:=</span>&nbsp;<span class="op" id="7506988">&amp;</span><span class="ident" id="7506989">ParamVal</span><span class="op" id="7506997">{</span><span class="op" id="7506998">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507001">if</span>&nbsp;<span class="ident" id="7507004">err</span>&nbsp;<span class="op" id="7507008">:=</span>&nbsp;<span class="ident" id="7507011">Unmarshal</span><span class="op" id="7507020">(</span><span class="ident" id="7507021">x</span><span class="op" id="7507022">,</span>&nbsp;<span class="ident" id="7507024">p2</span><span class="op" id="7507026">)</span><span class="op" id="7507027">;</span>&nbsp;<span class="ident" id="7507029">err</span>&nbsp;<span class="op" id="7507033">!=</span>&nbsp;<span class="ident" id="7507036">nil</span>&nbsp;<span class="op" id="7507040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507044">t</span><span class="op" id="7507045">.</span><span class="ident" id="7507046">Fatalf</span><span class="op" id="7507052">(</span><span class="string" id="7507053">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7507068">,</span>&nbsp;<span class="ident" id="7507070">err</span><span class="op" id="7507073">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507076">}</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507079">if</span>&nbsp;<span class="ident" id="7507082">p2</span><span class="op" id="7507084">.</span><span class="ident" id="7507085">Int</span>&nbsp;<span class="op" id="7507089">!=</span>&nbsp;<span class="num" id="7507092">1</span>&nbsp;<span class="op" id="7507094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507098">t</span><span class="op" id="7507099">.</span><span class="ident" id="7507100">Fatalf</span><span class="op" id="7507106">(</span><span class="string" id="7507107">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7507156">,</span>&nbsp;<span class="ident" id="7507158">x</span><span class="op" id="7507159">,</span>&nbsp;<span class="ident" id="7507161">p2</span><span class="op" id="7507163">.</span><span class="ident" id="7507164">Int</span><span class="op" id="7507167">,</span>&nbsp;<span class="num" id="7507169">1</span><span class="op" id="7507170">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507173">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507177">p3</span>&nbsp;<span class="op" id="7507180">:=</span>&nbsp;<span class="op" id="7507183">&amp;</span><span class="ident" id="7507184">ParamStringPtr</span><span class="op" id="7507198">{</span><span class="op" id="7507199">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507202">if</span>&nbsp;<span class="ident" id="7507205">err</span>&nbsp;<span class="op" id="7507209">:=</span>&nbsp;<span class="ident" id="7507212">Unmarshal</span><span class="op" id="7507221">(</span><span class="ident" id="7507222">x</span><span class="op" id="7507223">,</span>&nbsp;<span class="ident" id="7507225">p3</span><span class="op" id="7507227">)</span><span class="op" id="7507228">;</span>&nbsp;<span class="ident" id="7507230">err</span>&nbsp;<span class="op" id="7507234">!=</span>&nbsp;<span class="ident" id="7507237">nil</span>&nbsp;<span class="op" id="7507241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507245">t</span><span class="op" id="7507246">.</span><span class="ident" id="7507247">Fatalf</span><span class="op" id="7507253">(</span><span class="string" id="7507254">&#34;Unmarshal:&nbsp;%s&#34;</span><span class="op" id="7507269">,</span>&nbsp;<span class="ident" id="7507271">err</span><span class="op" id="7507274">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507277">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7507280">if</span>&nbsp;<span class="ident" id="7507283">p3</span><span class="op" id="7507285">.</span><span class="ident" id="7507286">Int</span>&nbsp;<span class="op" id="7507290">==</span>&nbsp;<span class="ident" id="7507293">nil</span>&nbsp;<span class="op" id="7507297">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507301">t</span><span class="op" id="7507302">.</span><span class="ident" id="7507303">Fatalf</span><span class="op" id="7507309">(</span><span class="string" id="7507310">&#34;Unmarshal&nbsp;failed&nbsp;in&nbsp;to&nbsp;*string&nbsp;field&#34;</span><span class="op" id="7507348">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507351">}</span>&nbsp;<span class="keyword" id="7507353">else</span>&nbsp;<span class="keyword" id="7507358">if</span>&nbsp;<span class="op" id="7507361">*</span><span class="ident" id="7507362">p3</span><span class="op" id="7507364">.</span><span class="ident" id="7507365">Int</span>&nbsp;<span class="op" id="7507369">!=</span>&nbsp;<span class="string" id="7507372">&#34;1&#34;</span>&nbsp;<span class="op" id="7507376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507380">t</span><span class="op" id="7507381">.</span><span class="ident" id="7507382">Fatalf</span><span class="op" id="7507388">(</span><span class="string" id="7507389">&#34;Unmarshal&nbsp;with&nbsp;%s&nbsp;failed:\nhave&nbsp;%#v,\n&nbsp;want&nbsp;%#v&#34;</span><span class="op" id="7507438">,</span>&nbsp;<span class="ident" id="7507440">x</span><span class="op" id="7507441">,</span>&nbsp;<span class="ident" id="7507443">p3</span><span class="op" id="7507445">.</span><span class="ident" id="7507446">Int</span><span class="op" id="7507449">,</span>&nbsp;<span class="num" id="7507451">1</span><span class="op" id="7507452">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507455">}</span><br>
<span class="lineno"></span><span class="op" id="7507457">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span><span class="keyword" id="7507460">type</span>&nbsp;<span class="ident" id="7507465">Tables</span>&nbsp;<span class="keyword" id="7507472">struct</span>&nbsp;<span class="op" id="7507479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507482">HTable</span>&nbsp;<span class="builtintype" id="7507489">string</span>&nbsp;<span class="string" id="7507496">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507539">FTable</span>&nbsp;<span class="builtintype" id="7507546">string</span>&nbsp;<span class="string" id="7507553">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7507602">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="keyword" id="7507605">var</span>&nbsp;<span class="ident" id="7507609">tables</span>&nbsp;<span class="op" id="7507616">=</span>&nbsp;<span class="op" id="7507618">[</span><span class="op" id="7507619">]</span><span class="keyword" id="7507620">struct</span>&nbsp;<span class="op" id="7507627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507630">xml</span>&nbsp;<span class="builtintype" id="7507634">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507642">tab</span>&nbsp;<span class="ident" id="7507646">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507654">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7507658">string</span><br>
<span class="lineno"></span><span class="op" id="7507665">}</span><span class="op" id="7507666">{</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507669">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507673">xml</span><span class="op" id="7507676">:</span>&nbsp;<span class="string" id="7507678">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7507689">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7507694">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7507753">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7507758">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7507824">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7507829">`&lt;/Tables&gt;`</span><span class="op" id="7507840">,</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507844">tab</span><span class="op" id="7507847">:</span>&nbsp;<span class="ident" id="7507849">Tables</span><span class="op" id="7507855">{</span><span class="string" id="7507856">&#34;hello&#34;</span><span class="op" id="7507863">,</span>&nbsp;<span class="string" id="7507865">&#34;world&#34;</span><span class="op" id="7507872">}</span><span class="op" id="7507873">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507876">}</span><span class="op" id="7507877">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7507880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7507884">xml</span><span class="op" id="7507887">:</span>&nbsp;<span class="string" id="7507889">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7507900">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7507905">`&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;`</span>&nbsp;<span class="op" id="7507971">+</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7507976">`&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;`</span>&nbsp;<span class="op" id="7508035">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508040">`&lt;/Tables&gt;`</span><span class="op" id="7508051">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508055">tab</span><span class="op" id="7508058">:</span>&nbsp;<span class="ident" id="7508060">Tables</span><span class="op" id="7508066">{</span><span class="string" id="7508067">&#34;hello&#34;</span><span class="op" id="7508074">,</span>&nbsp;<span class="string" id="7508076">&#34;world&#34;</span><span class="op" id="7508083">}</span><span class="op" id="7508084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508087">}</span><span class="op" id="7508088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508091">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508095">xml</span><span class="op" id="7508098">:</span>&nbsp;<span class="string" id="7508100">`&lt;Tables&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;`</span>&nbsp;<span class="op" id="7508194">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508199">`&lt;f:table&gt;world&lt;/f:table&gt;`</span>&nbsp;<span class="op" id="7508226">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508231">`&lt;h:table&gt;hello&lt;/h:table&gt;`</span>&nbsp;<span class="op" id="7508258">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508263">`&lt;/Tables&gt;`</span><span class="op" id="7508274">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508278">tab</span><span class="op" id="7508281">:</span>&nbsp;<span class="ident" id="7508283">Tables</span><span class="op" id="7508289">{</span><span class="string" id="7508290">&#34;hello&#34;</span><span class="op" id="7508297">,</span>&nbsp;<span class="string" id="7508299">&#34;world&#34;</span><span class="op" id="7508306">}</span><span class="op" id="7508307">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508310">}</span><span class="op" id="7508311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508314">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508318">xml</span><span class="op" id="7508321">:</span>&nbsp;<span class="string" id="7508323">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7508334">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508339">`&lt;table&gt;bogus&lt;/table&gt;`</span>&nbsp;<span class="op" id="7508362">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508367">`&lt;/Tables&gt;`</span><span class="op" id="7508378">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508382">tab</span><span class="op" id="7508385">:</span>&nbsp;<span class="ident" id="7508387">Tables</span><span class="op" id="7508393">{</span><span class="op" id="7508394">}</span><span class="op" id="7508395">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508398">}</span><span class="op" id="7508399">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508406">xml</span><span class="op" id="7508409">:</span>&nbsp;<span class="string" id="7508411">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7508422">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508427">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7508449">+</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508454">`&lt;/Tables&gt;`</span><span class="op" id="7508465">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508469">tab</span><span class="op" id="7508472">:</span>&nbsp;<span class="ident" id="7508474">Tables</span><span class="op" id="7508480">{</span><span class="ident" id="7508481">HTable</span><span class="op" id="7508487">:</span>&nbsp;<span class="string" id="7508489">&#34;only&#34;</span><span class="op" id="7508495">}</span><span class="op" id="7508496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508500">ns</span><span class="op" id="7508502">:</span>&nbsp;&nbsp;<span class="string" id="7508505">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7508534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508537">}</span><span class="op" id="7508538">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508541">{</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508545">xml</span><span class="op" id="7508548">:</span>&nbsp;<span class="string" id="7508550">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7508561">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508566">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7508588">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508593">`&lt;/Tables&gt;`</span><span class="op" id="7508604">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508608">tab</span><span class="op" id="7508611">:</span>&nbsp;<span class="ident" id="7508613">Tables</span><span class="op" id="7508619">{</span><span class="ident" id="7508620">FTable</span><span class="op" id="7508626">:</span>&nbsp;<span class="string" id="7508628">&#34;only&#34;</span><span class="op" id="7508634">}</span><span class="op" id="7508635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508639">ns</span><span class="op" id="7508641">:</span>&nbsp;&nbsp;<span class="string" id="7508644">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7508680">,</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508683">}</span><span class="op" id="7508684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508691">xml</span><span class="op" id="7508694">:</span>&nbsp;<span class="string" id="7508696">`&lt;Tables&gt;`</span>&nbsp;<span class="op" id="7508707">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508712">`&lt;table&gt;only&lt;/table&gt;`</span>&nbsp;<span class="op" id="7508734">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7508739">`&lt;/Tables&gt;`</span><span class="op" id="7508750">,</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508754">tab</span><span class="op" id="7508757">:</span>&nbsp;<span class="ident" id="7508759">Tables</span><span class="op" id="7508765">{</span><span class="op" id="7508766">}</span><span class="op" id="7508767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508771">ns</span><span class="op" id="7508773">:</span>&nbsp;&nbsp;<span class="string" id="7508776">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7508801">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7508804">}</span><span class="op" id="7508805">,</span><br>
<span class="lineno"></span><span class="op" id="7508807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="7508810">func</span>&nbsp;<span class="ident" id="7508815">TestUnmarshalNS</span><span class="op" id="7508830">(</span><span class="ident" id="7508831">t</span>&nbsp;<span class="op" id="7508833">*</span><span class="ident" id="7508834">testing</span><span class="op" id="7508841">.</span><span class="ident" id="7508842">T</span><span class="op" id="7508843">)</span>&nbsp;<span class="op" id="7508845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508848">for</span>&nbsp;<span class="ident" id="7508852">i</span><span class="op" id="7508853">,</span>&nbsp;<span class="ident" id="7508855">tt</span>&nbsp;<span class="op" id="7508858">:=</span>&nbsp;<span class="keyword" id="7508861">range</span>&nbsp;<span class="ident" id="7508867">tables</span>&nbsp;<span class="op" id="7508874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508878">var</span>&nbsp;<span class="ident" id="7508882">dst</span>&nbsp;<span class="ident" id="7508886">Tables</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508895">var</span>&nbsp;<span class="ident" id="7508899">err</span>&nbsp;<span class="builtintype" id="7508903">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7508911">if</span>&nbsp;<span class="ident" id="7508914">tt</span><span class="op" id="7508916">.</span><span class="ident" id="7508917">ns</span>&nbsp;<span class="op" id="7508920">!=</span>&nbsp;<span class="string" id="7508923">&#34;&#34;</span>&nbsp;<span class="op" id="7508926">{</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508931">d</span>&nbsp;<span class="op" id="7508933">:=</span>&nbsp;<span class="ident" id="7508936">NewDecoder</span><span class="op" id="7508946">(</span><span class="ident" id="7508947">strings</span><span class="op" id="7508954">.</span><span class="ident" id="7508955">NewReader</span><span class="op" id="7508964">(</span><span class="ident" id="7508965">tt</span><span class="op" id="7508967">.</span><span class="ident" id="7508968">xml</span><span class="op" id="7508971">)</span><span class="op" id="7508972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7508977">d</span><span class="op" id="7508978">.</span><span class="ident" id="7508979">DefaultSpace</span>&nbsp;<span class="op" id="7508992">=</span>&nbsp;<span class="ident" id="7508994">tt</span><span class="op" id="7508996">.</span><span class="ident" id="7508997">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509003">err</span>&nbsp;<span class="op" id="7509007">=</span>&nbsp;<span class="ident" id="7509009">d</span><span class="op" id="7509010">.</span><span class="ident" id="7509011">Decode</span><span class="op" id="7509017">(</span><span class="op" id="7509018">&amp;</span><span class="ident" id="7509019">dst</span><span class="op" id="7509022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509026">}</span>&nbsp;<span class="keyword" id="7509028">else</span>&nbsp;<span class="op" id="7509033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509038">err</span>&nbsp;<span class="op" id="7509042">=</span>&nbsp;<span class="ident" id="7509044">Unmarshal</span><span class="op" id="7509053">(</span><span class="op" id="7509054">[</span><span class="op" id="7509055">]</span><span class="builtintype" id="7509056">byte</span><span class="op" id="7509060">(</span><span class="ident" id="7509061">tt</span><span class="op" id="7509063">.</span><span class="ident" id="7509064">xml</span><span class="op" id="7509067">)</span><span class="op" id="7509068">,</span>&nbsp;<span class="op" id="7509070">&amp;</span><span class="ident" id="7509071">dst</span><span class="op" id="7509074">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509078">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509082">if</span>&nbsp;<span class="ident" id="7509085">err</span>&nbsp;<span class="op" id="7509089">!=</span>&nbsp;<span class="ident" id="7509092">nil</span>&nbsp;<span class="op" id="7509096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509101">t</span><span class="op" id="7509102">.</span><span class="ident" id="7509103">Errorf</span><span class="op" id="7509109">(</span><span class="string" id="7509110">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7509130">,</span>&nbsp;<span class="ident" id="7509132">i</span><span class="op" id="7509133">,</span>&nbsp;<span class="ident" id="7509135">err</span><span class="op" id="7509138">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509143">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509154">}</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509158">want</span>&nbsp;<span class="op" id="7509163">:=</span>&nbsp;<span class="ident" id="7509166">tt</span><span class="op" id="7509168">.</span><span class="ident" id="7509169">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509175">if</span>&nbsp;<span class="ident" id="7509178">dst</span>&nbsp;<span class="op" id="7509182">!=</span>&nbsp;<span class="ident" id="7509185">want</span>&nbsp;<span class="op" id="7509190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509195">t</span><span class="op" id="7509196">.</span><span class="ident" id="7509197">Errorf</span><span class="op" id="7509203">(</span><span class="string" id="7509204">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7509228">,</span>&nbsp;<span class="ident" id="7509230">i</span><span class="op" id="7509231">,</span>&nbsp;<span class="ident" id="7509233">dst</span><span class="op" id="7509236">,</span>&nbsp;<span class="ident" id="7509238">want</span><span class="op" id="7509242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509246">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509249">}</span><br>
<span class="lineno">485</span><span class="op" id="7509251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7509254">func</span>&nbsp;<span class="ident" id="7509259">TestMarshalNS</span><span class="op" id="7509272">(</span><span class="ident" id="7509273">t</span>&nbsp;<span class="op" id="7509275">*</span><span class="ident" id="7509276">testing</span><span class="op" id="7509283">.</span><span class="ident" id="7509284">T</span><span class="op" id="7509285">)</span>&nbsp;<span class="op" id="7509287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509290">dst</span>&nbsp;<span class="op" id="7509294">:=</span>&nbsp;<span class="ident" id="7509297">Tables</span><span class="op" id="7509303">{</span><span class="string" id="7509304">&#34;hello&#34;</span><span class="op" id="7509311">,</span>&nbsp;<span class="string" id="7509313">&#34;world&#34;</span><span class="op" id="7509320">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509323">data</span><span class="op" id="7509327">,</span>&nbsp;<span class="ident" id="7509329">err</span>&nbsp;<span class="op" id="7509333">:=</span>&nbsp;<span class="ident" id="7509336">Marshal</span><span class="op" id="7509343">(</span><span class="op" id="7509344">&amp;</span><span class="ident" id="7509345">dst</span><span class="op" id="7509348">)</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509351">if</span>&nbsp;<span class="ident" id="7509354">err</span>&nbsp;<span class="op" id="7509358">!=</span>&nbsp;<span class="ident" id="7509361">nil</span>&nbsp;<span class="op" id="7509365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509369">t</span><span class="op" id="7509370">.</span><span class="ident" id="7509371">Fatalf</span><span class="op" id="7509377">(</span><span class="string" id="7509378">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7509391">,</span>&nbsp;<span class="ident" id="7509393">err</span><span class="op" id="7509396">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509402">want</span>&nbsp;<span class="op" id="7509407">:=</span>&nbsp;<span class="string" id="7509410">`&lt;Tables&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&gt;hello&lt;/table&gt;&lt;table&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&gt;world&lt;/table&gt;&lt;/Tables&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509550">str</span>&nbsp;<span class="op" id="7509554">:=</span>&nbsp;<span class="builtintype" id="7509557">string</span><span class="op" id="7509563">(</span><span class="ident" id="7509564">data</span><span class="op" id="7509568">)</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7509571">if</span>&nbsp;<span class="ident" id="7509574">str</span>&nbsp;<span class="op" id="7509578">!=</span>&nbsp;<span class="ident" id="7509581">want</span>&nbsp;<span class="op" id="7509586">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509590">t</span><span class="op" id="7509591">.</span><span class="ident" id="7509592">Errorf</span><span class="op" id="7509598">(</span><span class="string" id="7509599">&#34;have:&nbsp;%q\nwant:&nbsp;%q\n&#34;</span><span class="op" id="7509621">,</span>&nbsp;<span class="ident" id="7509623">str</span><span class="op" id="7509626">,</span>&nbsp;<span class="ident" id="7509628">want</span><span class="op" id="7509632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7509635">}</span><br>
<span class="lineno"></span><span class="op" id="7509637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">500</span><span class="keyword" id="7509640">type</span>&nbsp;<span class="ident" id="7509645">TableAttrs</span>&nbsp;<span class="keyword" id="7509656">struct</span>&nbsp;<span class="op" id="7509663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509666">TAttr</span>&nbsp;<span class="ident" id="7509672">TAttr</span><br>
<span class="lineno"></span><span class="op" id="7509678">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7509681">type</span>&nbsp;<span class="ident" id="7509686">TAttr</span>&nbsp;<span class="keyword" id="7509692">struct</span>&nbsp;<span class="op" id="7509699">{</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509702">HTable</span>&nbsp;<span class="builtintype" id="7509709">string</span>&nbsp;<span class="string" id="7509716">`xml:&#34;http://www.w3.org/TR/html4/&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509764">FTable</span>&nbsp;<span class="builtintype" id="7509771">string</span>&nbsp;<span class="string" id="7509778">`xml:&#34;http://www.w3schools.com/furniture&nbsp;table,attr&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509833">Lang</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7509840">string</span>&nbsp;<span class="string" id="7509847">`xml:&#34;http://www.w3.org/XML/1998/namespace&nbsp;lang,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509913">Other1</span>&nbsp;<span class="builtintype" id="7509920">string</span>&nbsp;<span class="string" id="7509927">`xml:&#34;http://golang.org/xml/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7509980">Other2</span>&nbsp;<span class="builtintype" id="7509987">string</span>&nbsp;<span class="string" id="7509994">`xml:&#34;http://golang.org/xmlfoo/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510050">Other3</span>&nbsp;<span class="builtintype" id="7510057">string</span>&nbsp;<span class="string" id="7510064">`xml:&#34;http://golang.org/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510118">Other4</span>&nbsp;<span class="builtintype" id="7510125">string</span>&nbsp;<span class="string" id="7510132">`xml:&#34;http://golang.org/2/json/&nbsp;other,attr,omitempty&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7510187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7510190">var</span>&nbsp;<span class="ident" id="7510194">tableAttrs</span>&nbsp;<span class="op" id="7510205">=</span>&nbsp;<span class="op" id="7510207">[</span><span class="op" id="7510208">]</span><span class="keyword" id="7510209">struct</span>&nbsp;<span class="op" id="7510216">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510219">xml</span>&nbsp;<span class="builtintype" id="7510223">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510231">tab</span>&nbsp;<span class="ident" id="7510235">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510247">ns</span>&nbsp;&nbsp;<span class="builtintype" id="7510251">string</span><br>
<span class="lineno"></span><span class="op" id="7510258">}</span><span class="op" id="7510259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510262">{</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510266">xml</span><span class="op" id="7510269">:</span>&nbsp;<span class="string" id="7510271">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7510376">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7510381">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7510416">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7510421">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7510438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510442">tab</span><span class="op" id="7510445">:</span>&nbsp;<span class="ident" id="7510447">TableAttrs</span><span class="op" id="7510457">{</span><span class="ident" id="7510458">TAttr</span><span class="op" id="7510463">{</span><span class="ident" id="7510464">HTable</span><span class="op" id="7510470">:</span>&nbsp;<span class="string" id="7510472">&#34;hello&#34;</span><span class="op" id="7510479">,</span>&nbsp;<span class="ident" id="7510481">FTable</span><span class="op" id="7510487">:</span>&nbsp;<span class="string" id="7510489">&#34;world&#34;</span><span class="op" id="7510496">}</span><span class="op" id="7510497">}</span><span class="op" id="7510498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510501">}</span><span class="op" id="7510502">,</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510505">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510509">xml</span><span class="op" id="7510512">:</span>&nbsp;<span class="string" id="7510514">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7510619">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7510624">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7510659">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7510664">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7510681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510685">tab</span><span class="op" id="7510688">:</span>&nbsp;<span class="ident" id="7510690">TableAttrs</span><span class="op" id="7510700">{</span><span class="ident" id="7510701">TAttr</span><span class="op" id="7510706">{</span><span class="ident" id="7510707">HTable</span><span class="op" id="7510713">:</span>&nbsp;<span class="string" id="7510715">&#34;hello&#34;</span><span class="op" id="7510722">,</span>&nbsp;<span class="ident" id="7510724">FTable</span><span class="op" id="7510730">:</span>&nbsp;<span class="string" id="7510732">&#34;world&#34;</span><span class="op" id="7510739">}</span><span class="op" id="7510740">}</span><span class="op" id="7510741">,</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510744">}</span><span class="op" id="7510745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510752">xml</span><span class="op" id="7510755">:</span>&nbsp;<span class="string" id="7510757">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7510779">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7510784">`h:table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7510902">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7510907">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7510924">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7510928">tab</span><span class="op" id="7510931">:</span>&nbsp;<span class="ident" id="7510933">TableAttrs</span><span class="op" id="7510943">{</span><span class="ident" id="7510944">TAttr</span><span class="op" id="7510949">{</span><span class="ident" id="7510950">HTable</span><span class="op" id="7510956">:</span>&nbsp;<span class="string" id="7510958">&#34;hello&#34;</span><span class="op" id="7510965">,</span>&nbsp;<span class="ident" id="7510967">FTable</span><span class="op" id="7510973">:</span>&nbsp;<span class="string" id="7510975">&#34;world&#34;</span><span class="op" id="7510982">}</span><span class="op" id="7510983">}</span><span class="op" id="7510984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510987">}</span><span class="op" id="7510988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7510991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7510995">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511049">xml</span><span class="op" id="7511052">:</span>&nbsp;<span class="string" id="7511054">`&lt;TableAttrs&nbsp;xmlns=&#34;http://www.w3schools.com/furniture&#34;&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7511157">+</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511162">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7511195">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511200">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7511217">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511221">tab</span><span class="op" id="7511224">:</span>&nbsp;<span class="ident" id="7511226">TableAttrs</span><span class="op" id="7511236">{</span><span class="ident" id="7511237">TAttr</span><span class="op" id="7511242">{</span><span class="ident" id="7511243">HTable</span><span class="op" id="7511249">:</span>&nbsp;<span class="string" id="7511251">&#34;hello&#34;</span><span class="op" id="7511258">,</span>&nbsp;<span class="ident" id="7511260">FTable</span><span class="op" id="7511266">:</span>&nbsp;<span class="string" id="7511268">&#34;&#34;</span><span class="op" id="7511270">}</span><span class="op" id="7511271">}</span><span class="op" id="7511272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511275">}</span><span class="op" id="7511276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511279">{</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7511283">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511337">xml</span><span class="op" id="7511340">:</span>&nbsp;<span class="string" id="7511342">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;xmlns=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;`</span>&nbsp;<span class="op" id="7511445">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511450">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7511483">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511488">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7511505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511509">tab</span><span class="op" id="7511512">:</span>&nbsp;<span class="ident" id="7511514">TableAttrs</span><span class="op" id="7511524">{</span><span class="ident" id="7511525">TAttr</span><span class="op" id="7511530">{</span><span class="ident" id="7511531">HTable</span><span class="op" id="7511537">:</span>&nbsp;<span class="string" id="7511539">&#34;&#34;</span><span class="op" id="7511541">,</span>&nbsp;<span class="ident" id="7511543">FTable</span><span class="op" id="7511549">:</span>&nbsp;<span class="string" id="7511551">&#34;world&#34;</span><span class="op" id="7511558">}</span><span class="op" id="7511559">}</span><span class="op" id="7511560">,</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511563">}</span><span class="op" id="7511564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511571">xml</span><span class="op" id="7511574">:</span>&nbsp;<span class="string" id="7511576">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7511598">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511603">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7511620">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511625">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7511642">,</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511646">tab</span><span class="op" id="7511649">:</span>&nbsp;<span class="ident" id="7511651">TableAttrs</span><span class="op" id="7511661">{</span><span class="op" id="7511662">}</span><span class="op" id="7511663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511666">}</span><span class="op" id="7511667">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7511674">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511728">xml</span><span class="op" id="7511731">:</span>&nbsp;<span class="string" id="7511733">`&lt;TableAttrs&nbsp;xmlns:h=&#34;http://www.w3.org/TR/html4/&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7511793">+</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511798">`h:table=&#34;hello&#34;&nbsp;table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7511831">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7511836">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7511853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511857">tab</span><span class="op" id="7511860">:</span>&nbsp;<span class="ident" id="7511862">TableAttrs</span><span class="op" id="7511872">{</span><span class="ident" id="7511873">TAttr</span><span class="op" id="7511878">{</span><span class="ident" id="7511879">HTable</span><span class="op" id="7511885">:</span>&nbsp;<span class="string" id="7511887">&#34;hello&#34;</span><span class="op" id="7511894">,</span>&nbsp;<span class="ident" id="7511896">FTable</span><span class="op" id="7511902">:</span>&nbsp;<span class="string" id="7511904">&#34;&#34;</span><span class="op" id="7511906">}</span><span class="op" id="7511907">}</span><span class="op" id="7511908">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7511912">ns</span><span class="op" id="7511914">:</span>&nbsp;&nbsp;<span class="string" id="7511917">&#34;http://www.w3schools.com/furniture&#34;</span><span class="op" id="7511953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511956">}</span><span class="op" id="7511957">,</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7511960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7511964">//&nbsp;Default&nbsp;space&nbsp;does&nbsp;not&nbsp;apply&nbsp;to&nbsp;attribute&nbsp;names.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512018">xml</span><span class="op" id="7512021">:</span>&nbsp;<span class="string" id="7512023">`&lt;TableAttrs&nbsp;xmlns:f=&#34;http://www.w3schools.com/furniture&#34;&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7512090">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7512095">`table=&#34;hello&#34;&nbsp;f:table=&#34;world&#34;&nbsp;`</span>&nbsp;<span class="op" id="7512128">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7512133">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7512150">,</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512154">tab</span><span class="op" id="7512157">:</span>&nbsp;<span class="ident" id="7512159">TableAttrs</span><span class="op" id="7512169">{</span><span class="ident" id="7512170">TAttr</span><span class="op" id="7512175">{</span><span class="ident" id="7512176">HTable</span><span class="op" id="7512182">:</span>&nbsp;<span class="string" id="7512184">&#34;&#34;</span><span class="op" id="7512186">,</span>&nbsp;<span class="ident" id="7512188">FTable</span><span class="op" id="7512194">:</span>&nbsp;<span class="string" id="7512196">&#34;world&#34;</span><span class="op" id="7512203">}</span><span class="op" id="7512204">}</span><span class="op" id="7512205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512209">ns</span><span class="op" id="7512211">:</span>&nbsp;&nbsp;<span class="string" id="7512214">&#34;http://www.w3.org/TR/html4/&#34;</span><span class="op" id="7512243">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512246">}</span><span class="op" id="7512247">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512250">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512254">xml</span><span class="op" id="7512257">:</span>&nbsp;<span class="string" id="7512259">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;`</span>&nbsp;<span class="op" id="7512281">+</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7512286">`table=&#34;bogus&#34;&nbsp;`</span>&nbsp;<span class="op" id="7512303">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7512308">`/&gt;&lt;/TableAttrs&gt;`</span><span class="op" id="7512325">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512329">tab</span><span class="op" id="7512332">:</span>&nbsp;<span class="ident" id="7512334">TableAttrs</span><span class="op" id="7512344">{</span><span class="op" id="7512345">}</span><span class="op" id="7512346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512350">ns</span><span class="op" id="7512352">:</span>&nbsp;&nbsp;<span class="string" id="7512355">&#34;something&nbsp;else&nbsp;entirely&#34;</span><span class="op" id="7512380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512383">}</span><span class="op" id="7512384">,</span><br>
<span class="lineno">580</span><span class="op" id="7512386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7512389">func</span>&nbsp;<span class="ident" id="7512394">TestUnmarshalNSAttr</span><span class="op" id="7512413">(</span><span class="ident" id="7512414">t</span>&nbsp;<span class="op" id="7512416">*</span><span class="ident" id="7512417">testing</span><span class="op" id="7512424">.</span><span class="ident" id="7512425">T</span><span class="op" id="7512426">)</span>&nbsp;<span class="op" id="7512428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512431">for</span>&nbsp;<span class="ident" id="7512435">i</span><span class="op" id="7512436">,</span>&nbsp;<span class="ident" id="7512438">tt</span>&nbsp;<span class="op" id="7512441">:=</span>&nbsp;<span class="keyword" id="7512444">range</span>&nbsp;<span class="ident" id="7512450">tableAttrs</span>&nbsp;<span class="op" id="7512461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512465">var</span>&nbsp;<span class="ident" id="7512469">dst</span>&nbsp;<span class="ident" id="7512473">TableAttrs</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512486">var</span>&nbsp;<span class="ident" id="7512490">err</span>&nbsp;<span class="builtintype" id="7512494">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512502">if</span>&nbsp;<span class="ident" id="7512505">tt</span><span class="op" id="7512507">.</span><span class="ident" id="7512508">ns</span>&nbsp;<span class="op" id="7512511">!=</span>&nbsp;<span class="string" id="7512514">&#34;&#34;</span>&nbsp;<span class="op" id="7512517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512522">d</span>&nbsp;<span class="op" id="7512524">:=</span>&nbsp;<span class="ident" id="7512527">NewDecoder</span><span class="op" id="7512537">(</span><span class="ident" id="7512538">strings</span><span class="op" id="7512545">.</span><span class="ident" id="7512546">NewReader</span><span class="op" id="7512555">(</span><span class="ident" id="7512556">tt</span><span class="op" id="7512558">.</span><span class="ident" id="7512559">xml</span><span class="op" id="7512562">)</span><span class="op" id="7512563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512568">d</span><span class="op" id="7512569">.</span><span class="ident" id="7512570">DefaultSpace</span>&nbsp;<span class="op" id="7512583">=</span>&nbsp;<span class="ident" id="7512585">tt</span><span class="op" id="7512587">.</span><span class="ident" id="7512588">ns</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512594">err</span>&nbsp;<span class="op" id="7512598">=</span>&nbsp;<span class="ident" id="7512600">d</span><span class="op" id="7512601">.</span><span class="ident" id="7512602">Decode</span><span class="op" id="7512608">(</span><span class="op" id="7512609">&amp;</span><span class="ident" id="7512610">dst</span><span class="op" id="7512613">)</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512617">}</span>&nbsp;<span class="keyword" id="7512619">else</span>&nbsp;<span class="op" id="7512624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512629">err</span>&nbsp;<span class="op" id="7512633">=</span>&nbsp;<span class="ident" id="7512635">Unmarshal</span><span class="op" id="7512644">(</span><span class="op" id="7512645">[</span><span class="op" id="7512646">]</span><span class="builtintype" id="7512647">byte</span><span class="op" id="7512651">(</span><span class="ident" id="7512652">tt</span><span class="op" id="7512654">.</span><span class="ident" id="7512655">xml</span><span class="op" id="7512658">)</span><span class="op" id="7512659">,</span>&nbsp;<span class="op" id="7512661">&amp;</span><span class="ident" id="7512662">dst</span><span class="op" id="7512665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512669">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512673">if</span>&nbsp;<span class="ident" id="7512676">err</span>&nbsp;<span class="op" id="7512680">!=</span>&nbsp;<span class="ident" id="7512683">nil</span>&nbsp;<span class="op" id="7512687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512692">t</span><span class="op" id="7512693">.</span><span class="ident" id="7512694">Errorf</span><span class="op" id="7512700">(</span><span class="string" id="7512701">&#34;#%d:&nbsp;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7512721">,</span>&nbsp;<span class="ident" id="7512723">i</span><span class="op" id="7512724">,</span>&nbsp;<span class="ident" id="7512726">err</span><span class="op" id="7512729">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512734">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512745">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512749">want</span>&nbsp;<span class="op" id="7512754">:=</span>&nbsp;<span class="ident" id="7512757">tt</span><span class="op" id="7512759">.</span><span class="ident" id="7512760">tab</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7512766">if</span>&nbsp;<span class="ident" id="7512769">dst</span>&nbsp;<span class="op" id="7512773">!=</span>&nbsp;<span class="ident" id="7512776">want</span>&nbsp;<span class="op" id="7512781">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512786">t</span><span class="op" id="7512787">.</span><span class="ident" id="7512788">Errorf</span><span class="op" id="7512794">(</span><span class="string" id="7512795">&#34;#%d:&nbsp;dst=%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7512819">,</span>&nbsp;<span class="ident" id="7512821">i</span><span class="op" id="7512822">,</span>&nbsp;<span class="ident" id="7512824">dst</span><span class="op" id="7512827">,</span>&nbsp;<span class="ident" id="7512829">want</span><span class="op" id="7512833">)</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512837">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7512840">}</span><br>
<span class="lineno"></span><span class="op" id="7512842">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7512845">func</span>&nbsp;<span class="ident" id="7512850">TestMarshalNSAttr</span><span class="op" id="7512867">(</span><span class="ident" id="7512868">t</span>&nbsp;<span class="op" id="7512870">*</span><span class="ident" id="7512871">testing</span><span class="op" id="7512878">.</span><span class="ident" id="7512879">T</span><span class="op" id="7512880">)</span>&nbsp;<span class="op" id="7512882">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512885">src</span>&nbsp;<span class="op" id="7512889">:=</span>&nbsp;<span class="ident" id="7512892">TableAttrs</span><span class="op" id="7512902">{</span><span class="ident" id="7512903">TAttr</span><span class="op" id="7512908">{</span><span class="string" id="7512909">&#34;hello&#34;</span><span class="op" id="7512916">,</span>&nbsp;<span class="string" id="7512918">&#34;world&#34;</span><span class="op" id="7512925">,</span>&nbsp;<span class="string" id="7512927">&#34;en_US&#34;</span><span class="op" id="7512934">,</span>&nbsp;<span class="string" id="7512936">&#34;other1&#34;</span><span class="op" id="7512944">,</span>&nbsp;<span class="string" id="7512946">&#34;other2&#34;</span><span class="op" id="7512954">,</span>&nbsp;<span class="string" id="7512956">&#34;other3&#34;</span><span class="op" id="7512964">,</span>&nbsp;<span class="string" id="7512966">&#34;other4&#34;</span><span class="op" id="7512974">}</span><span class="op" id="7512975">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7512978">data</span><span class="op" id="7512982">,</span>&nbsp;<span class="ident" id="7512984">err</span>&nbsp;<span class="op" id="7512988">:=</span>&nbsp;<span class="ident" id="7512991">Marshal</span><span class="op" id="7512998">(</span><span class="op" id="7512999">&amp;</span><span class="ident" id="7513000">src</span><span class="op" id="7513003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513006">if</span>&nbsp;<span class="ident" id="7513009">err</span>&nbsp;<span class="op" id="7513013">!=</span>&nbsp;<span class="ident" id="7513016">nil</span>&nbsp;<span class="op" id="7513020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513024">t</span><span class="op" id="7513025">.</span><span class="ident" id="7513026">Fatalf</span><span class="op" id="7513032">(</span><span class="string" id="7513033">&#34;Marshal:&nbsp;%v&#34;</span><span class="op" id="7513046">,</span>&nbsp;<span class="ident" id="7513048">err</span><span class="op" id="7513051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513054">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513057">want</span>&nbsp;<span class="op" id="7513062">:=</span>&nbsp;<span class="string" id="7513065">`&lt;TableAttrs&gt;&lt;TAttr&nbsp;xmlns:html4=&#34;http://www.w3.org/TR/html4/&#34;&nbsp;html4:table=&#34;hello&#34;&nbsp;xmlns:furniture=&#34;http://www.w3schools.com/furniture&#34;&nbsp;furniture:table=&#34;world&#34;&nbsp;xml:lang=&#34;en_US&#34;&nbsp;xmlns:_xml=&#34;http://golang.org/xml/&#34;&nbsp;_xml:other=&#34;other1&#34;&nbsp;xmlns:_xmlfoo=&#34;http://golang.org/xmlfoo/&#34;&nbsp;_xmlfoo:other=&#34;other2&#34;&nbsp;xmlns:json=&#34;http://golang.org/json/&#34;&nbsp;json:other=&#34;other3&#34;&nbsp;xmlns:json_1=&#34;http://golang.org/2/json/&#34;&nbsp;json_1:other=&#34;other4&#34;&gt;&lt;/TAttr&gt;&lt;/TableAttrs&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513506">str</span>&nbsp;<span class="op" id="7513510">:=</span>&nbsp;<span class="builtintype" id="7513513">string</span><span class="op" id="7513519">(</span><span class="ident" id="7513520">data</span><span class="op" id="7513524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513527">if</span>&nbsp;<span class="ident" id="7513530">str</span>&nbsp;<span class="op" id="7513534">!=</span>&nbsp;<span class="ident" id="7513537">want</span>&nbsp;<span class="op" id="7513542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513546">t</span><span class="op" id="7513547">.</span><span class="ident" id="7513548">Errorf</span><span class="op" id="7513554">(</span><span class="string" id="7513555">&#34;Marshal:\nhave:&nbsp;%#q\nwant:&nbsp;%#q\n&#34;</span><span class="op" id="7513589">,</span>&nbsp;<span class="ident" id="7513591">str</span><span class="op" id="7513594">,</span>&nbsp;<span class="ident" id="7513596">want</span><span class="op" id="7513600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513603">}</span><br>
<span class="lineno">615</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513607">var</span>&nbsp;<span class="ident" id="7513611">dst</span>&nbsp;<span class="ident" id="7513615">TableAttrs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513627">if</span>&nbsp;<span class="ident" id="7513630">err</span>&nbsp;<span class="op" id="7513634">:=</span>&nbsp;<span class="ident" id="7513637">Unmarshal</span><span class="op" id="7513646">(</span><span class="ident" id="7513647">data</span><span class="op" id="7513651">,</span>&nbsp;<span class="op" id="7513653">&amp;</span><span class="ident" id="7513654">dst</span><span class="op" id="7513657">)</span><span class="op" id="7513658">;</span>&nbsp;<span class="ident" id="7513660">err</span>&nbsp;<span class="op" id="7513664">!=</span>&nbsp;<span class="ident" id="7513667">nil</span>&nbsp;<span class="op" id="7513671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513675">t</span><span class="op" id="7513676">.</span><span class="ident" id="7513677">Errorf</span><span class="op" id="7513683">(</span><span class="string" id="7513684">&#34;Unmarshal:&nbsp;%v&#34;</span><span class="op" id="7513699">,</span>&nbsp;<span class="ident" id="7513701">err</span><span class="op" id="7513704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513707">}</span><br>
<span class="lineno">620</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513711">if</span>&nbsp;<span class="ident" id="7513714">dst</span>&nbsp;<span class="op" id="7513718">!=</span>&nbsp;<span class="ident" id="7513721">src</span>&nbsp;<span class="op" id="7513725">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513729">t</span><span class="op" id="7513730">.</span><span class="ident" id="7513731">Errorf</span><span class="op" id="7513737">(</span><span class="string" id="7513738">&#34;Unmarshal&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7513763">,</span>&nbsp;<span class="ident" id="7513765">dst</span><span class="op" id="7513768">,</span>&nbsp;<span class="ident" id="7513770">src</span><span class="op" id="7513773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513776">}</span><br>
<span class="lineno"></span><span class="op" id="7513778">}</span><br>
<span class="lineno">625</span><br>
<span class="lineno"></span><span class="keyword" id="7513781">type</span>&nbsp;<span class="ident" id="7513786">MyCharData</span>&nbsp;<span class="keyword" id="7513797">struct</span>&nbsp;<span class="op" id="7513804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513807">body</span>&nbsp;<span class="builtintype" id="7513812">string</span><br>
<span class="lineno"></span><span class="op" id="7513819">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">630</span><span class="keyword" id="7513822">func</span>&nbsp;<span class="op" id="7513827">(</span><span class="ident" id="7513828">m</span>&nbsp;<span class="op" id="7513830">*</span><span class="ident" id="7513831">MyCharData</span><span class="op" id="7513841">)</span>&nbsp;<span class="ident" id="7513843">UnmarshalXML</span><span class="op" id="7513855">(</span><span class="ident" id="7513856">d</span>&nbsp;<span class="op" id="7513858">*</span><span class="ident" id="7513859">Decoder</span><span class="op" id="7513866">,</span>&nbsp;<span class="ident" id="7513868">start</span>&nbsp;<span class="ident" id="7513874">StartElement</span><span class="op" id="7513886">)</span>&nbsp;<span class="builtintype" id="7513888">error</span>&nbsp;<span class="op" id="7513894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513897">for</span>&nbsp;<span class="op" id="7513901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7513905">t</span><span class="op" id="7513906">,</span>&nbsp;<span class="ident" id="7513908">err</span>&nbsp;<span class="op" id="7513912">:=</span>&nbsp;<span class="ident" id="7513915">d</span><span class="op" id="7513916">.</span><span class="ident" id="7513917">Token</span><span class="op" id="7513922">(</span><span class="op" id="7513923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513927">if</span>&nbsp;<span class="ident" id="7513930">err</span>&nbsp;<span class="op" id="7513934">==</span>&nbsp;<span class="ident" id="7513937">io</span><span class="op" id="7513939">.</span><span class="ident" id="7513940">EOF</span>&nbsp;<span class="op" id="7513944">{</span>&nbsp;<span class="comment" id="7513946">//&nbsp;found&nbsp;end&nbsp;of&nbsp;element</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513973">break</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7513981">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7513985">if</span>&nbsp;<span class="ident" id="7513988">err</span>&nbsp;<span class="op" id="7513992">!=</span>&nbsp;<span class="ident" id="7513995">nil</span>&nbsp;<span class="op" id="7513999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514004">return</span>&nbsp;<span class="ident" id="7514011">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514017">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514021">if</span>&nbsp;<span class="ident" id="7514024">char</span><span class="op" id="7514028">,</span>&nbsp;<span class="ident" id="7514030">ok</span>&nbsp;<span class="op" id="7514033">:=</span>&nbsp;<span class="ident" id="7514036">t</span><span class="op" id="7514037">.</span><span class="op" id="7514038">(</span><span class="ident" id="7514039">CharData</span><span class="op" id="7514047">)</span><span class="op" id="7514048">;</span>&nbsp;<span class="ident" id="7514050">ok</span>&nbsp;<span class="op" id="7514053">{</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514058">m</span><span class="op" id="7514059">.</span><span class="ident" id="7514060">body</span>&nbsp;<span class="op" id="7514065">+=</span>&nbsp;<span class="builtintype" id="7514068">string</span><span class="op" id="7514074">(</span><span class="ident" id="7514075">char</span><span class="op" id="7514079">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514083">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514086">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514089">return</span>&nbsp;<span class="ident" id="7514096">nil</span><br>
<span class="lineno"></span><span class="op" id="7514100">}</span><br>
<span class="lineno">645</span><br>
<span class="lineno"></span><span class="keyword" id="7514103">var</span>&nbsp;<span class="ident" id="7514107">_</span>&nbsp;<span class="ident" id="7514109">Unmarshaler</span>&nbsp;<span class="op" id="7514121">=</span>&nbsp;<span class="op" id="7514123">(</span><span class="op" id="7514124">*</span><span class="ident" id="7514125">MyCharData</span><span class="op" id="7514135">)</span><span class="op" id="7514136">(</span><span class="ident" id="7514137">nil</span><span class="op" id="7514140">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514143">func</span>&nbsp;<span class="op" id="7514148">(</span><span class="ident" id="7514149">m</span>&nbsp;<span class="op" id="7514151">*</span><span class="ident" id="7514152">MyCharData</span><span class="op" id="7514162">)</span>&nbsp;<span class="ident" id="7514164">UnmarshalXMLAttr</span><span class="op" id="7514180">(</span><span class="ident" id="7514181">attr</span>&nbsp;<span class="ident" id="7514186">Attr</span><span class="op" id="7514190">)</span>&nbsp;<span class="builtintype" id="7514192">error</span>&nbsp;<span class="op" id="7514198">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7514201">panic</span><span class="op" id="7514206">(</span><span class="string" id="7514207">&#34;must&nbsp;not&nbsp;call&#34;</span><span class="op" id="7514222">)</span><br>
<span class="lineno">650</span><span class="op" id="7514224">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514227">type</span>&nbsp;<span class="ident" id="7514232">MyAttr</span>&nbsp;<span class="keyword" id="7514239">struct</span>&nbsp;<span class="op" id="7514246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514249">attr</span>&nbsp;<span class="builtintype" id="7514254">string</span><br>
<span class="lineno"></span><span class="op" id="7514261">}</span><br>
<span class="lineno">655</span><br>
<span class="lineno"></span><span class="keyword" id="7514264">func</span>&nbsp;<span class="op" id="7514269">(</span><span class="ident" id="7514270">m</span>&nbsp;<span class="op" id="7514272">*</span><span class="ident" id="7514273">MyAttr</span><span class="op" id="7514279">)</span>&nbsp;<span class="ident" id="7514281">UnmarshalXMLAttr</span><span class="op" id="7514297">(</span><span class="ident" id="7514298">attr</span>&nbsp;<span class="ident" id="7514303">Attr</span><span class="op" id="7514307">)</span>&nbsp;<span class="builtintype" id="7514309">error</span>&nbsp;<span class="op" id="7514315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514318">m</span><span class="op" id="7514319">.</span><span class="ident" id="7514320">attr</span>&nbsp;<span class="op" id="7514325">=</span>&nbsp;<span class="ident" id="7514327">attr</span><span class="op" id="7514331">.</span><span class="ident" id="7514332">Value</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514339">return</span>&nbsp;<span class="ident" id="7514346">nil</span><br>
<span class="lineno"></span><span class="op" id="7514350">}</span><br>
<span class="lineno">660</span><br>
<span class="lineno"></span><span class="keyword" id="7514353">var</span>&nbsp;<span class="ident" id="7514357">_</span>&nbsp;<span class="ident" id="7514359">UnmarshalerAttr</span>&nbsp;<span class="op" id="7514375">=</span>&nbsp;<span class="op" id="7514377">(</span><span class="op" id="7514378">*</span><span class="ident" id="7514379">MyAttr</span><span class="op" id="7514385">)</span><span class="op" id="7514386">(</span><span class="ident" id="7514387">nil</span><span class="op" id="7514390">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7514393">type</span>&nbsp;<span class="ident" id="7514398">MyStruct</span>&nbsp;<span class="keyword" id="7514407">struct</span>&nbsp;<span class="op" id="7514414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514417">Data</span>&nbsp;<span class="op" id="7514422">*</span><span class="ident" id="7514423">MyCharData</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514435">Attr</span>&nbsp;<span class="op" id="7514440">*</span><span class="ident" id="7514441">MyAttr</span>&nbsp;<span class="string" id="7514448">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514464">Data2</span>&nbsp;<span class="ident" id="7514470">MyCharData</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514482">Attr2</span>&nbsp;<span class="ident" id="7514488">MyAttr</span>&nbsp;<span class="string" id="7514495">`xml:&#34;,attr&#34;`</span><br>
<span class="lineno"></span><span class="op" id="7514509">}</span><br>
<span class="lineno">670</span><br>
<span class="lineno"></span><span class="keyword" id="7514512">func</span>&nbsp;<span class="ident" id="7514517">TestUnmarshaler</span><span class="op" id="7514532">(</span><span class="ident" id="7514533">t</span>&nbsp;<span class="op" id="7514535">*</span><span class="ident" id="7514536">testing</span><span class="op" id="7514543">.</span><span class="ident" id="7514544">T</span><span class="op" id="7514545">)</span>&nbsp;<span class="op" id="7514547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514550">xml</span>&nbsp;<span class="op" id="7514554">:=</span>&nbsp;<span class="string" id="7514557">`&lt;?xml&nbsp;version=&#34;1.0&#34;&nbsp;encoding=&#34;utf-8&#34;?&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;MyStruct&nbsp;Attr=&#34;attr1&#34;&nbsp;Attr2=&#34;attr2&#34;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data&gt;hello&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data&gt;<br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;Data2&gt;howdy&nbsp;&lt;!--&nbsp;comment&nbsp;--&gt;world&lt;/Data2&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&lt;/MyStruct&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514744">var</span>&nbsp;<span class="ident" id="7514748">m</span>&nbsp;<span class="ident" id="7514750">MyStruct</span><br>
<span class="lineno">680</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514760">if</span>&nbsp;<span class="ident" id="7514763">err</span>&nbsp;<span class="op" id="7514767">:=</span>&nbsp;<span class="ident" id="7514770">Unmarshal</span><span class="op" id="7514779">(</span><span class="op" id="7514780">[</span><span class="op" id="7514781">]</span><span class="builtintype" id="7514782">byte</span><span class="op" id="7514786">(</span><span class="ident" id="7514787">xml</span><span class="op" id="7514790">)</span><span class="op" id="7514791">,</span>&nbsp;<span class="op" id="7514793">&amp;</span><span class="ident" id="7514794">m</span><span class="op" id="7514795">)</span><span class="op" id="7514796">;</span>&nbsp;<span class="ident" id="7514798">err</span>&nbsp;<span class="op" id="7514802">!=</span>&nbsp;<span class="ident" id="7514805">nil</span>&nbsp;<span class="op" id="7514809">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514813">t</span><span class="op" id="7514814">.</span><span class="ident" id="7514815">Fatal</span><span class="op" id="7514820">(</span><span class="ident" id="7514821">err</span><span class="op" id="7514824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7514827">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7514831">if</span>&nbsp;<span class="ident" id="7514834">m</span><span class="op" id="7514835">.</span><span class="ident" id="7514836">Data</span>&nbsp;<span class="op" id="7514841">==</span>&nbsp;<span class="ident" id="7514844">nil</span>&nbsp;<span class="op" id="7514848">||</span>&nbsp;<span class="ident" id="7514851">m</span><span class="op" id="7514852">.</span><span class="ident" id="7514853">Attr</span>&nbsp;<span class="op" id="7514858">==</span>&nbsp;<span class="ident" id="7514861">nil</span>&nbsp;<span class="op" id="7514865">||</span>&nbsp;<span class="ident" id="7514868">m</span><span class="op" id="7514869">.</span><span class="ident" id="7514870">Data</span><span class="op" id="7514874">.</span><span class="ident" id="7514875">body</span>&nbsp;<span class="op" id="7514880">!=</span>&nbsp;<span class="string" id="7514883">&#34;hello&nbsp;world&#34;</span>&nbsp;<span class="op" id="7514897">||</span>&nbsp;<span class="ident" id="7514900">m</span><span class="op" id="7514901">.</span><span class="ident" id="7514902">Attr</span><span class="op" id="7514906">.</span><span class="ident" id="7514907">attr</span>&nbsp;<span class="op" id="7514912">!=</span>&nbsp;<span class="string" id="7514915">&#34;attr1&#34;</span>&nbsp;<span class="op" id="7514923">||</span>&nbsp;<span class="ident" id="7514926">m</span><span class="op" id="7514927">.</span><span class="ident" id="7514928">Data2</span><span class="op" id="7514933">.</span><span class="ident" id="7514934">body</span>&nbsp;<span class="op" id="7514939">!=</span>&nbsp;<span class="string" id="7514942">&#34;howdy&nbsp;world&#34;</span>&nbsp;<span class="op" id="7514956">||</span>&nbsp;<span class="ident" id="7514959">m</span><span class="op" id="7514960">.</span><span class="ident" id="7514961">Attr2</span><span class="op" id="7514966">.</span><span class="ident" id="7514967">attr</span>&nbsp;<span class="op" id="7514972">!=</span>&nbsp;<span class="string" id="7514975">&#34;attr2&#34;</span>&nbsp;<span class="op" id="7514983">{</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7514987">t</span><span class="op" id="7514988">.</span><span class="ident" id="7514989">Errorf</span><span class="op" id="7514995">(</span><span class="string" id="7514996">&#34;m=%#+v\n&#34;</span><span class="op" id="7515006">,</span>&nbsp;<span class="ident" id="7515008">m</span><span class="op" id="7515009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515012">}</span><br>
<span class="lineno"></span><span class="op" id="7515014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7515017">type</span>&nbsp;<span class="ident" id="7515022">Pea</span>&nbsp;<span class="keyword" id="7515026">struct</span>&nbsp;<span class="op" id="7515033">{</span><br>
<span class="lineno">690</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515036">Cotelydon</span>&nbsp;<span class="builtintype" id="7515046">string</span><br>
<span class="lineno"></span><span class="op" id="7515053">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7515056">type</span>&nbsp;<span class="ident" id="7515061">Pod</span>&nbsp;<span class="keyword" id="7515065">struct</span>&nbsp;<span class="op" id="7515072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515075">Pea</span>&nbsp;<span class="keyword" id="7515079">interface</span><span class="op" id="7515088">{</span><span class="op" id="7515089">}</span>&nbsp;<span class="string" id="7515091">`xml:&#34;Pea&#34;`</span><br>
<span class="lineno">695</span><span class="op" id="7515103">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="7515106">//&nbsp;https://code.google.com/p/go/issues/detail?id=6836</span><br>
<span class="lineno"></span><span class="keyword" id="7515160">func</span>&nbsp;<span class="ident" id="7515165">TestUnmarshalIntoInterface</span><span class="op" id="7515191">(</span><span class="ident" id="7515192">t</span>&nbsp;<span class="op" id="7515194">*</span><span class="ident" id="7515195">testing</span><span class="op" id="7515202">.</span><span class="ident" id="7515203">T</span><span class="op" id="7515204">)</span>&nbsp;<span class="op" id="7515206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515209">pod</span>&nbsp;<span class="op" id="7515213">:=</span>&nbsp;<span class="builtinfunc" id="7515216">new</span><span class="op" id="7515219">(</span><span class="ident" id="7515220">Pod</span><span class="op" id="7515223">)</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515226">pod</span><span class="op" id="7515229">.</span><span class="ident" id="7515230">Pea</span>&nbsp;<span class="op" id="7515234">=</span>&nbsp;<span class="builtinfunc" id="7515236">new</span><span class="op" id="7515239">(</span><span class="ident" id="7515240">Pea</span><span class="op" id="7515243">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515246">xml</span>&nbsp;<span class="op" id="7515250">:=</span>&nbsp;<span class="string" id="7515253">`&lt;Pod&gt;&lt;Pea&gt;&lt;Cotelydon&gt;Green&nbsp;stuff&lt;/Cotelydon&gt;&lt;/Pea&gt;&lt;/Pod&gt;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515313">err</span>&nbsp;<span class="op" id="7515317">:=</span>&nbsp;<span class="ident" id="7515320">Unmarshal</span><span class="op" id="7515329">(</span><span class="op" id="7515330">[</span><span class="op" id="7515331">]</span><span class="builtintype" id="7515332">byte</span><span class="op" id="7515336">(</span><span class="ident" id="7515337">xml</span><span class="op" id="7515340">)</span><span class="op" id="7515341">,</span>&nbsp;<span class="ident" id="7515343">pod</span><span class="op" id="7515346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515349">if</span>&nbsp;<span class="ident" id="7515352">err</span>&nbsp;<span class="op" id="7515356">!=</span>&nbsp;<span class="ident" id="7515359">nil</span>&nbsp;<span class="op" id="7515363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515367">t</span><span class="op" id="7515368">.</span><span class="ident" id="7515369">Fatalf</span><span class="op" id="7515375">(</span><span class="string" id="7515376">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7515404">,</span>&nbsp;<span class="ident" id="7515406">xml</span><span class="op" id="7515409">,</span>&nbsp;<span class="ident" id="7515411">err</span><span class="op" id="7515414">)</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515420">pea</span><span class="op" id="7515423">,</span>&nbsp;<span class="ident" id="7515425">ok</span>&nbsp;<span class="op" id="7515428">:=</span>&nbsp;<span class="ident" id="7515431">pod</span><span class="op" id="7515434">.</span><span class="ident" id="7515435">Pea</span><span class="op" id="7515438">.</span><span class="op" id="7515439">(</span><span class="op" id="7515440">*</span><span class="ident" id="7515441">Pea</span><span class="op" id="7515444">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515447">if</span>&nbsp;<span class="op" id="7515450">!</span><span class="ident" id="7515451">ok</span>&nbsp;<span class="op" id="7515454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515458">t</span><span class="op" id="7515459">.</span><span class="ident" id="7515460">Fatalf</span><span class="op" id="7515466">(</span><span class="string" id="7515467">&#34;unmarshalled&nbsp;into&nbsp;wrong&nbsp;type:&nbsp;have&nbsp;%T&nbsp;want&nbsp;*Pea&#34;</span><span class="op" id="7515516">,</span>&nbsp;<span class="ident" id="7515518">pod</span><span class="op" id="7515521">.</span><span class="ident" id="7515522">Pea</span><span class="op" id="7515525">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515528">}</span><br>
<span class="lineno">710</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515531">have</span><span class="op" id="7515535">,</span>&nbsp;<span class="ident" id="7515537">want</span>&nbsp;<span class="op" id="7515542">:=</span>&nbsp;<span class="ident" id="7515545">pea</span><span class="op" id="7515548">.</span><span class="ident" id="7515549">Cotelydon</span><span class="op" id="7515558">,</span>&nbsp;<span class="string" id="7515560">&#34;Green&nbsp;stuff&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7515575">if</span>&nbsp;<span class="ident" id="7515578">have</span>&nbsp;<span class="op" id="7515583">!=</span>&nbsp;<span class="ident" id="7515586">want</span>&nbsp;<span class="op" id="7515591">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7515595">t</span><span class="op" id="7515596">.</span><span class="ident" id="7515597">Errorf</span><span class="op" id="7515603">(</span><span class="string" id="7515604">&#34;failed&nbsp;to&nbsp;unmarshal&nbsp;into&nbsp;interface,&nbsp;have&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7515657">,</span>&nbsp;<span class="ident" id="7515659">have</span><span class="op" id="7515663">,</span>&nbsp;<span class="ident" id="7515665">want</span><span class="op" id="7515669">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7515672">}</span><br>
<span class="lineno"></span><span class="op" id="7515674">}</span>
</div>
</body>
</html>
