<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html" class="current">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5208495">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5208550">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5208604">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5208655">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5208730">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5208804">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5208820">package</span>&nbsp;<span class="ident" id="5208828">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5208835">import</span>&nbsp;<span class="string" id="5208842">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5208850">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5208893">const</span>&nbsp;<span class="ident" id="5208899">Size</span>&nbsp;<span class="op" id="5208904">=</span>&nbsp;<span class="num" id="5208906">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5208909">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5208936">const</span>&nbsp;<span class="op" id="5208942">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5208945">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209007">ISO</span>&nbsp;<span class="op" id="5209011">=</span>&nbsp;<span class="num" id="5209013">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5209034">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209080">ECMA</span>&nbsp;<span class="op" id="5209085">=</span>&nbsp;<span class="num" id="5209087">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5209106">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5209109">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5209192">type</span>&nbsp;<span class="ident" id="5209197">Table</span>&nbsp;<span class="op" id="5209203">[</span><span class="num" id="5209204">256</span><span class="op" id="5209207">]</span><span class="builtintype" id="5209208">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5209216">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5209290">func</span>&nbsp;<span class="ident" id="5209295">MakeTable</span><span class="op" id="5209304">(</span><span class="ident" id="5209305">poly</span>&nbsp;<span class="builtintype" id="5209310">uint64</span><span class="op" id="5209316">)</span>&nbsp;<span class="op" id="5209318">*</span><span class="ident" id="5209319">Table</span>&nbsp;<span class="op" id="5209325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209328">t</span>&nbsp;<span class="op" id="5209330">:=</span>&nbsp;<span class="builtinfunc" id="5209333">new</span><span class="op" id="5209336">(</span><span class="ident" id="5209337">Table</span><span class="op" id="5209342">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5209345">for</span>&nbsp;<span class="ident" id="5209349">i</span>&nbsp;<span class="op" id="5209351">:=</span>&nbsp;<span class="num" id="5209354">0</span><span class="op" id="5209355">;</span>&nbsp;<span class="ident" id="5209357">i</span>&nbsp;<span class="op" id="5209359">&lt;</span>&nbsp;<span class="num" id="5209361">256</span><span class="op" id="5209364">;</span>&nbsp;<span class="ident" id="5209366">i</span><span class="op" id="5209367">++</span>&nbsp;<span class="op" id="5209370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209374">crc</span>&nbsp;<span class="op" id="5209378">:=</span>&nbsp;<span class="builtintype" id="5209381">uint64</span><span class="op" id="5209387">(</span><span class="ident" id="5209388">i</span><span class="op" id="5209389">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5209393">for</span>&nbsp;<span class="ident" id="5209397">j</span>&nbsp;<span class="op" id="5209399">:=</span>&nbsp;<span class="num" id="5209402">0</span><span class="op" id="5209403">;</span>&nbsp;<span class="ident" id="5209405">j</span>&nbsp;<span class="op" id="5209407">&lt;</span>&nbsp;<span class="num" id="5209409">8</span><span class="op" id="5209410">;</span>&nbsp;<span class="ident" id="5209412">j</span><span class="op" id="5209413">++</span>&nbsp;<span class="op" id="5209416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5209421">if</span>&nbsp;<span class="ident" id="5209424">crc</span><span class="op" id="5209427">&amp;</span><span class="num" id="5209428">1</span>&nbsp;<span class="op" id="5209430">==</span>&nbsp;<span class="num" id="5209433">1</span>&nbsp;<span class="op" id="5209435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209441">crc</span>&nbsp;<span class="op" id="5209445">=</span>&nbsp;<span class="op" id="5209447">(</span><span class="ident" id="5209448">crc</span>&nbsp;<span class="op" id="5209452">&gt;&gt;</span>&nbsp;<span class="num" id="5209455">1</span><span class="op" id="5209456">)</span>&nbsp;<span class="op" id="5209458">^</span>&nbsp;<span class="ident" id="5209460">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5209468">}</span>&nbsp;<span class="keyword" id="5209470">else</span>&nbsp;<span class="op" id="5209475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209481">crc</span>&nbsp;<span class="op" id="5209485">&gt;&gt;=</span>&nbsp;<span class="num" id="5209489">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5209494">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5209498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209502">t</span><span class="op" id="5209503">[</span><span class="ident" id="5209504">i</span><span class="op" id="5209505">]</span>&nbsp;<span class="op" id="5209507">=</span>&nbsp;<span class="ident" id="5209509">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5209514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5209517">return</span>&nbsp;<span class="ident" id="5209524">t</span><br>
<span class="lineno"></span><span class="op" id="5209526">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5209529">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5209588">type</span>&nbsp;<span class="ident" id="5209593">digest</span>&nbsp;<span class="keyword" id="5209600">struct</span>&nbsp;<span class="op" id="5209607">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209610">crc</span>&nbsp;<span class="builtintype" id="5209614">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209622">tab</span>&nbsp;<span class="op" id="5209626">*</span><span class="ident" id="5209627">Table</span><br>
<span class="lineno"></span><span class="op" id="5209633">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5209636">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5209699">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5209749">func</span>&nbsp;<span class="ident" id="5209754">New</span><span class="op" id="5209757">(</span><span class="ident" id="5209758">tab</span>&nbsp;<span class="op" id="5209762">*</span><span class="ident" id="5209763">Table</span><span class="op" id="5209768">)</span>&nbsp;<span class="ident" id="5209770">hash</span><span class="op" id="5209774">.</span><span class="ident" id="5209775">Hash64</span>&nbsp;<span class="op" id="5209782">{</span>&nbsp;<span class="keyword" id="5209784">return</span>&nbsp;<span class="op" id="5209791">&amp;</span><span class="ident" id="5209792">digest</span><span class="op" id="5209798">{</span><span class="num" id="5209799">0</span><span class="op" id="5209800">,</span>&nbsp;<span class="ident" id="5209802">tab</span><span class="op" id="5209805">}</span>&nbsp;<span class="op" id="5209807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5209810">func</span>&nbsp;<span class="op" id="5209815">(</span><span class="ident" id="5209816">d</span>&nbsp;<span class="op" id="5209818">*</span><span class="ident" id="5209819">digest</span><span class="op" id="5209825">)</span>&nbsp;<span class="ident" id="5209827">Size</span><span class="op" id="5209831">(</span><span class="op" id="5209832">)</span>&nbsp;<span class="builtintype" id="5209834">int</span>&nbsp;<span class="op" id="5209838">{</span>&nbsp;<span class="keyword" id="5209840">return</span>&nbsp;<span class="ident" id="5209847">Size</span>&nbsp;<span class="op" id="5209852">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5209855">func</span>&nbsp;<span class="op" id="5209860">(</span><span class="ident" id="5209861">d</span>&nbsp;<span class="op" id="5209863">*</span><span class="ident" id="5209864">digest</span><span class="op" id="5209870">)</span>&nbsp;<span class="ident" id="5209872">BlockSize</span><span class="op" id="5209881">(</span><span class="op" id="5209882">)</span>&nbsp;<span class="builtintype" id="5209884">int</span>&nbsp;<span class="op" id="5209888">{</span>&nbsp;<span class="keyword" id="5209890">return</span>&nbsp;<span class="num" id="5209897">1</span>&nbsp;<span class="op" id="5209899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5209902">func</span>&nbsp;<span class="op" id="5209907">(</span><span class="ident" id="5209908">d</span>&nbsp;<span class="op" id="5209910">*</span><span class="ident" id="5209911">digest</span><span class="op" id="5209917">)</span>&nbsp;<span class="ident" id="5209919">Reset</span><span class="op" id="5209924">(</span><span class="op" id="5209925">)</span>&nbsp;<span class="op" id="5209927">{</span>&nbsp;<span class="ident" id="5209929">d</span><span class="op" id="5209930">.</span><span class="ident" id="5209931">crc</span>&nbsp;<span class="op" id="5209935">=</span>&nbsp;<span class="num" id="5209937">0</span>&nbsp;<span class="op" id="5209939">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5209942">func</span>&nbsp;<span class="ident" id="5209947">update</span><span class="op" id="5209953">(</span><span class="ident" id="5209954">crc</span>&nbsp;<span class="builtintype" id="5209958">uint64</span><span class="op" id="5209964">,</span>&nbsp;<span class="ident" id="5209966">tab</span>&nbsp;<span class="op" id="5209970">*</span><span class="ident" id="5209971">Table</span><span class="op" id="5209976">,</span>&nbsp;<span class="ident" id="5209978">p</span>&nbsp;<span class="op" id="5209980">[</span><span class="op" id="5209981">]</span><span class="builtintype" id="5209982">byte</span><span class="op" id="5209986">)</span>&nbsp;<span class="builtintype" id="5209988">uint64</span>&nbsp;<span class="op" id="5209995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5209998">crc</span>&nbsp;<span class="op" id="5210002">=</span>&nbsp;<span class="op" id="5210004">^</span><span class="ident" id="5210005">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5210010">for</span>&nbsp;<span class="ident" id="5210014">_</span><span class="op" id="5210015">,</span>&nbsp;<span class="ident" id="5210017">v</span>&nbsp;<span class="op" id="5210019">:=</span>&nbsp;<span class="keyword" id="5210022">range</span>&nbsp;<span class="ident" id="5210028">p</span>&nbsp;<span class="op" id="5210030">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5210034">crc</span>&nbsp;<span class="op" id="5210038">=</span>&nbsp;<span class="ident" id="5210040">tab</span><span class="op" id="5210043">[</span><span class="builtintype" id="5210044">byte</span><span class="op" id="5210048">(</span><span class="ident" id="5210049">crc</span><span class="op" id="5210052">)</span><span class="op" id="5210053">^</span><span class="ident" id="5210054">v</span><span class="op" id="5210055">]</span>&nbsp;<span class="op" id="5210057">^</span>&nbsp;<span class="op" id="5210059">(</span><span class="ident" id="5210060">crc</span>&nbsp;<span class="op" id="5210064">&gt;&gt;</span>&nbsp;<span class="num" id="5210067">8</span><span class="op" id="5210068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5210071">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5210074">return</span>&nbsp;<span class="op" id="5210081">^</span><span class="ident" id="5210082">crc</span><br>
<span class="lineno"></span><span class="op" id="5210086">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5210089">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5210155">func</span>&nbsp;<span class="ident" id="5210160">Update</span><span class="op" id="5210166">(</span><span class="ident" id="5210167">crc</span>&nbsp;<span class="builtintype" id="5210171">uint64</span><span class="op" id="5210177">,</span>&nbsp;<span class="ident" id="5210179">tab</span>&nbsp;<span class="op" id="5210183">*</span><span class="ident" id="5210184">Table</span><span class="op" id="5210189">,</span>&nbsp;<span class="ident" id="5210191">p</span>&nbsp;<span class="op" id="5210193">[</span><span class="op" id="5210194">]</span><span class="builtintype" id="5210195">byte</span><span class="op" id="5210199">)</span>&nbsp;<span class="builtintype" id="5210201">uint64</span>&nbsp;<span class="op" id="5210208">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5210211">return</span>&nbsp;<span class="ident" id="5210218">update</span><span class="op" id="5210224">(</span><span class="ident" id="5210225">crc</span><span class="op" id="5210228">,</span>&nbsp;<span class="ident" id="5210230">tab</span><span class="op" id="5210233">,</span>&nbsp;<span class="ident" id="5210235">p</span><span class="op" id="5210236">)</span><br>
<span class="lineno"></span><span class="op" id="5210238">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5210241">func</span>&nbsp;<span class="op" id="5210246">(</span><span class="ident" id="5210247">d</span>&nbsp;<span class="op" id="5210249">*</span><span class="ident" id="5210250">digest</span><span class="op" id="5210256">)</span>&nbsp;<span class="ident" id="5210258">Write</span><span class="op" id="5210263">(</span><span class="ident" id="5210264">p</span>&nbsp;<span class="op" id="5210266">[</span><span class="op" id="5210267">]</span><span class="builtintype" id="5210268">byte</span><span class="op" id="5210272">)</span>&nbsp;<span class="op" id="5210274">(</span><span class="ident" id="5210275">n</span>&nbsp;<span class="builtintype" id="5210277">int</span><span class="op" id="5210280">,</span>&nbsp;<span class="ident" id="5210282">err</span>&nbsp;<span class="builtintype" id="5210286">error</span><span class="op" id="5210291">)</span>&nbsp;<span class="op" id="5210293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5210296">d</span><span class="op" id="5210297">.</span><span class="ident" id="5210298">crc</span>&nbsp;<span class="op" id="5210302">=</span>&nbsp;<span class="ident" id="5210304">update</span><span class="op" id="5210310">(</span><span class="ident" id="5210311">d</span><span class="op" id="5210312">.</span><span class="ident" id="5210313">crc</span><span class="op" id="5210316">,</span>&nbsp;<span class="ident" id="5210318">d</span><span class="op" id="5210319">.</span><span class="ident" id="5210320">tab</span><span class="op" id="5210323">,</span>&nbsp;<span class="ident" id="5210325">p</span><span class="op" id="5210326">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5210329">return</span>&nbsp;<span class="builtinfunc" id="5210336">len</span><span class="op" id="5210339">(</span><span class="ident" id="5210340">p</span><span class="op" id="5210341">)</span><span class="op" id="5210342">,</span>&nbsp;<span class="builtintype" id="5210344">nil</span><br>
<span class="lineno"></span><span class="op" id="5210348">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5210351">func</span>&nbsp;<span class="op" id="5210356">(</span><span class="ident" id="5210357">d</span>&nbsp;<span class="op" id="5210359">*</span><span class="ident" id="5210360">digest</span><span class="op" id="5210366">)</span>&nbsp;<span class="ident" id="5210368">Sum64</span><span class="op" id="5210373">(</span><span class="op" id="5210374">)</span>&nbsp;<span class="builtintype" id="5210376">uint64</span>&nbsp;<span class="op" id="5210383">{</span>&nbsp;<span class="keyword" id="5210385">return</span>&nbsp;<span class="ident" id="5210392">d</span><span class="op" id="5210393">.</span><span class="ident" id="5210394">crc</span>&nbsp;<span class="op" id="5210398">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5210401">func</span>&nbsp;<span class="op" id="5210406">(</span><span class="ident" id="5210407">d</span>&nbsp;<span class="op" id="5210409">*</span><span class="ident" id="5210410">digest</span><span class="op" id="5210416">)</span>&nbsp;<span class="ident" id="5210418">Sum</span><span class="op" id="5210421">(</span><span class="ident" id="5210422">in</span>&nbsp;<span class="op" id="5210425">[</span><span class="op" id="5210426">]</span><span class="builtintype" id="5210427">byte</span><span class="op" id="5210431">)</span>&nbsp;<span class="op" id="5210433">[</span><span class="op" id="5210434">]</span><span class="builtintype" id="5210435">byte</span>&nbsp;<span class="op" id="5210440">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5210443">s</span>&nbsp;<span class="op" id="5210445">:=</span>&nbsp;<span class="ident" id="5210448">d</span><span class="op" id="5210449">.</span><span class="ident" id="5210450">Sum64</span><span class="op" id="5210455">(</span><span class="op" id="5210456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5210459">return</span>&nbsp;<span class="builtinfunc" id="5210466">append</span><span class="op" id="5210472">(</span><span class="ident" id="5210473">in</span><span class="op" id="5210475">,</span>&nbsp;<span class="builtintype" id="5210477">byte</span><span class="op" id="5210481">(</span><span class="ident" id="5210482">s</span><span class="op" id="5210483">&gt;&gt;</span><span class="num" id="5210485">56</span><span class="op" id="5210487">)</span><span class="op" id="5210488">,</span>&nbsp;<span class="builtintype" id="5210490">byte</span><span class="op" id="5210494">(</span><span class="ident" id="5210495">s</span><span class="op" id="5210496">&gt;&gt;</span><span class="num" id="5210498">48</span><span class="op" id="5210500">)</span><span class="op" id="5210501">,</span>&nbsp;<span class="builtintype" id="5210503">byte</span><span class="op" id="5210507">(</span><span class="ident" id="5210508">s</span><span class="op" id="5210509">&gt;&gt;</span><span class="num" id="5210511">40</span><span class="op" id="5210513">)</span><span class="op" id="5210514">,</span>&nbsp;<span class="builtintype" id="5210516">byte</span><span class="op" id="5210520">(</span><span class="ident" id="5210521">s</span><span class="op" id="5210522">&gt;&gt;</span><span class="num" id="5210524">32</span><span class="op" id="5210526">)</span><span class="op" id="5210527">,</span>&nbsp;<span class="builtintype" id="5210529">byte</span><span class="op" id="5210533">(</span><span class="ident" id="5210534">s</span><span class="op" id="5210535">&gt;&gt;</span><span class="num" id="5210537">24</span><span class="op" id="5210539">)</span><span class="op" id="5210540">,</span>&nbsp;<span class="builtintype" id="5210542">byte</span><span class="op" id="5210546">(</span><span class="ident" id="5210547">s</span><span class="op" id="5210548">&gt;&gt;</span><span class="num" id="5210550">16</span><span class="op" id="5210552">)</span><span class="op" id="5210553">,</span>&nbsp;<span class="builtintype" id="5210555">byte</span><span class="op" id="5210559">(</span><span class="ident" id="5210560">s</span><span class="op" id="5210561">&gt;&gt;</span><span class="num" id="5210563">8</span><span class="op" id="5210564">)</span><span class="op" id="5210565">,</span>&nbsp;<span class="builtintype" id="5210567">byte</span><span class="op" id="5210571">(</span><span class="ident" id="5210572">s</span><span class="op" id="5210573">)</span><span class="op" id="5210574">)</span><br>
<span class="lineno"></span><span class="op" id="5210576">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5210579">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5210627">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5210677">func</span>&nbsp;<span class="ident" id="5210682">Checksum</span><span class="op" id="5210690">(</span><span class="ident" id="5210691">data</span>&nbsp;<span class="op" id="5210696">[</span><span class="op" id="5210697">]</span><span class="builtintype" id="5210698">byte</span><span class="op" id="5210702">,</span>&nbsp;<span class="ident" id="5210704">tab</span>&nbsp;<span class="op" id="5210708">*</span><span class="ident" id="5210709">Table</span><span class="op" id="5210714">)</span>&nbsp;<span class="builtintype" id="5210716">uint64</span>&nbsp;<span class="op" id="5210723">{</span>&nbsp;<span class="keyword" id="5210725">return</span>&nbsp;<span class="ident" id="5210732">update</span><span class="op" id="5210738">(</span><span class="num" id="5210739">0</span><span class="op" id="5210740">,</span>&nbsp;<span class="ident" id="5210742">tab</span><span class="op" id="5210745">,</span>&nbsp;<span class="ident" id="5210747">data</span><span class="op" id="5210751">)</span>&nbsp;<span class="op" id="5210753">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
