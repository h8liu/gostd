<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/macho</h2>
<ul>
<li><a href="/gostd/debug/macho/fat.go.html">fat.go</a></li>
<li><a href="/gostd/debug/macho/file.go.html">file.go</a></li>
<li><a href="/gostd/debug/macho/file_test.go.html" class="current">file_test.go</a></li>
<li><a href="/gostd/debug/macho/macho.go.html">macho.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7959382">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7959438">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7959492">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7959543">package</span>&nbsp;<span class="ident" id="7959551">macho</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959558">import</span>&nbsp;<span class="op" id="7959565">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7959568">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7959579">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7959589">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959592">type</span>&nbsp;<span class="ident" id="7959597">fileTest</span>&nbsp;<span class="keyword" id="7959606">struct</span>&nbsp;<span class="op" id="7959613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959616">file</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7959625">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959633">hdr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7959642">FileHeader</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959654">segments</span>&nbsp;<span class="op" id="7959663">[</span><span class="op" id="7959664">]</span><span class="op" id="7959665">*</span><span class="ident" id="7959666">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959681">sections</span>&nbsp;<span class="op" id="7959690">[</span><span class="op" id="7959691">]</span><span class="op" id="7959692">*</span><span class="ident" id="7959693">SectionHeader</span><br>
<span class="lineno"></span><span class="op" id="7959707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7959710">var</span>&nbsp;<span class="ident" id="7959714">fileTests</span>&nbsp;<span class="op" id="7959724">=</span>&nbsp;<span class="op" id="7959726">[</span><span class="op" id="7959727">]</span><span class="ident" id="7959728">fileTest</span><span class="op" id="7959736">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7959743">&#34;testdata/gcc-386-darwin-exec&#34;</span><span class="op" id="7959773">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7959777">FileHeader</span><span class="op" id="7959787">{</span><span class="num" id="7959788">0xfeedface</span><span class="op" id="7959798">,</span>&nbsp;<span class="ident" id="7959800">Cpu386</span><span class="op" id="7959806">,</span>&nbsp;<span class="num" id="7959808">0x3</span><span class="op" id="7959811">,</span>&nbsp;<span class="num" id="7959813">0x2</span><span class="op" id="7959816">,</span>&nbsp;<span class="num" id="7959818">0xc</span><span class="op" id="7959821">,</span>&nbsp;<span class="num" id="7959823">0x3c0</span><span class="op" id="7959828">,</span>&nbsp;<span class="num" id="7959830">0x85</span><span class="op" id="7959834">}</span><span class="op" id="7959835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959839">[</span><span class="op" id="7959840">]</span><span class="op" id="7959841">*</span><span class="ident" id="7959842">SegmentHeader</span><span class="op" id="7959855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959860">{</span><span class="ident" id="7959861">LoadCmdSegment</span><span class="op" id="7959875">,</span>&nbsp;<span class="num" id="7959877">0x38</span><span class="op" id="7959881">,</span>&nbsp;<span class="string" id="7959883">&#34;__PAGEZERO&#34;</span><span class="op" id="7959895">,</span>&nbsp;<span class="num" id="7959897">0x0</span><span class="op" id="7959900">,</span>&nbsp;<span class="num" id="7959902">0x1000</span><span class="op" id="7959908">,</span>&nbsp;<span class="num" id="7959910">0x0</span><span class="op" id="7959913">,</span>&nbsp;<span class="num" id="7959915">0x0</span><span class="op" id="7959918">,</span>&nbsp;<span class="num" id="7959920">0x0</span><span class="op" id="7959923">,</span>&nbsp;<span class="num" id="7959925">0x0</span><span class="op" id="7959928">,</span>&nbsp;<span class="num" id="7959930">0x0</span><span class="op" id="7959933">,</span>&nbsp;<span class="num" id="7959935">0x0</span><span class="op" id="7959938">}</span><span class="op" id="7959939">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7959944">{</span><span class="ident" id="7959945">LoadCmdSegment</span><span class="op" id="7959959">,</span>&nbsp;<span class="num" id="7959961">0xc0</span><span class="op" id="7959965">,</span>&nbsp;<span class="string" id="7959967">&#34;__TEXT&#34;</span><span class="op" id="7959975">,</span>&nbsp;<span class="num" id="7959977">0x1000</span><span class="op" id="7959983">,</span>&nbsp;<span class="num" id="7959985">0x1000</span><span class="op" id="7959991">,</span>&nbsp;<span class="num" id="7959993">0x0</span><span class="op" id="7959996">,</span>&nbsp;<span class="num" id="7959998">0x1000</span><span class="op" id="7960004">,</span>&nbsp;<span class="num" id="7960006">0x7</span><span class="op" id="7960009">,</span>&nbsp;<span class="num" id="7960011">0x5</span><span class="op" id="7960014">,</span>&nbsp;<span class="num" id="7960016">0x2</span><span class="op" id="7960019">,</span>&nbsp;<span class="num" id="7960021">0x0</span><span class="op" id="7960024">}</span><span class="op" id="7960025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960030">{</span><span class="ident" id="7960031">LoadCmdSegment</span><span class="op" id="7960045">,</span>&nbsp;<span class="num" id="7960047">0xc0</span><span class="op" id="7960051">,</span>&nbsp;<span class="string" id="7960053">&#34;__DATA&#34;</span><span class="op" id="7960061">,</span>&nbsp;<span class="num" id="7960063">0x2000</span><span class="op" id="7960069">,</span>&nbsp;<span class="num" id="7960071">0x1000</span><span class="op" id="7960077">,</span>&nbsp;<span class="num" id="7960079">0x1000</span><span class="op" id="7960085">,</span>&nbsp;<span class="num" id="7960087">0x1000</span><span class="op" id="7960093">,</span>&nbsp;<span class="num" id="7960095">0x7</span><span class="op" id="7960098">,</span>&nbsp;<span class="num" id="7960100">0x3</span><span class="op" id="7960103">,</span>&nbsp;<span class="num" id="7960105">0x2</span><span class="op" id="7960108">,</span>&nbsp;<span class="num" id="7960110">0x0</span><span class="op" id="7960113">}</span><span class="op" id="7960114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960119">{</span><span class="ident" id="7960120">LoadCmdSegment</span><span class="op" id="7960134">,</span>&nbsp;<span class="num" id="7960136">0x7c</span><span class="op" id="7960140">,</span>&nbsp;<span class="string" id="7960142">&#34;__IMPORT&#34;</span><span class="op" id="7960152">,</span>&nbsp;<span class="num" id="7960154">0x3000</span><span class="op" id="7960160">,</span>&nbsp;<span class="num" id="7960162">0x1000</span><span class="op" id="7960168">,</span>&nbsp;<span class="num" id="7960170">0x2000</span><span class="op" id="7960176">,</span>&nbsp;<span class="num" id="7960178">0x1000</span><span class="op" id="7960184">,</span>&nbsp;<span class="num" id="7960186">0x7</span><span class="op" id="7960189">,</span>&nbsp;<span class="num" id="7960191">0x7</span><span class="op" id="7960194">,</span>&nbsp;<span class="num" id="7960196">0x1</span><span class="op" id="7960199">,</span>&nbsp;<span class="num" id="7960201">0x0</span><span class="op" id="7960204">}</span><span class="op" id="7960205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960210">{</span><span class="ident" id="7960211">LoadCmdSegment</span><span class="op" id="7960225">,</span>&nbsp;<span class="num" id="7960227">0x38</span><span class="op" id="7960231">,</span>&nbsp;<span class="string" id="7960233">&#34;__LINKEDIT&#34;</span><span class="op" id="7960245">,</span>&nbsp;<span class="num" id="7960247">0x4000</span><span class="op" id="7960253">,</span>&nbsp;<span class="num" id="7960255">0x1000</span><span class="op" id="7960261">,</span>&nbsp;<span class="num" id="7960263">0x3000</span><span class="op" id="7960269">,</span>&nbsp;<span class="num" id="7960271">0x12c</span><span class="op" id="7960276">,</span>&nbsp;<span class="num" id="7960278">0x7</span><span class="op" id="7960281">,</span>&nbsp;<span class="num" id="7960283">0x1</span><span class="op" id="7960286">,</span>&nbsp;<span class="num" id="7960288">0x0</span><span class="op" id="7960291">,</span>&nbsp;<span class="num" id="7960293">0x0</span><span class="op" id="7960296">}</span><span class="op" id="7960297">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960302">nil</span><span class="op" id="7960305">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960310">nil</span><span class="op" id="7960313">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960318">nil</span><span class="op" id="7960321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960326">nil</span><span class="op" id="7960329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960334">nil</span><span class="op" id="7960337">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960342">nil</span><span class="op" id="7960345">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960350">nil</span><span class="op" id="7960353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960357">}</span><span class="op" id="7960358">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960362">[</span><span class="op" id="7960363">]</span><span class="op" id="7960364">*</span><span class="ident" id="7960365">SectionHeader</span><span class="op" id="7960378">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960383">{</span><span class="string" id="7960384">&#34;__text&#34;</span><span class="op" id="7960392">,</span>&nbsp;<span class="string" id="7960394">&#34;__TEXT&#34;</span><span class="op" id="7960402">,</span>&nbsp;<span class="num" id="7960404">0x1f68</span><span class="op" id="7960410">,</span>&nbsp;<span class="num" id="7960412">0x88</span><span class="op" id="7960416">,</span>&nbsp;<span class="num" id="7960418">0xf68</span><span class="op" id="7960423">,</span>&nbsp;<span class="num" id="7960425">0x2</span><span class="op" id="7960428">,</span>&nbsp;<span class="num" id="7960430">0x0</span><span class="op" id="7960433">,</span>&nbsp;<span class="num" id="7960435">0x0</span><span class="op" id="7960438">,</span>&nbsp;<span class="num" id="7960440">0x80000400</span><span class="op" id="7960450">}</span><span class="op" id="7960451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960456">{</span><span class="string" id="7960457">&#34;__cstring&#34;</span><span class="op" id="7960468">,</span>&nbsp;<span class="string" id="7960470">&#34;__TEXT&#34;</span><span class="op" id="7960478">,</span>&nbsp;<span class="num" id="7960480">0x1ff0</span><span class="op" id="7960486">,</span>&nbsp;<span class="num" id="7960488">0xd</span><span class="op" id="7960491">,</span>&nbsp;<span class="num" id="7960493">0xff0</span><span class="op" id="7960498">,</span>&nbsp;<span class="num" id="7960500">0x0</span><span class="op" id="7960503">,</span>&nbsp;<span class="num" id="7960505">0x0</span><span class="op" id="7960508">,</span>&nbsp;<span class="num" id="7960510">0x0</span><span class="op" id="7960513">,</span>&nbsp;<span class="num" id="7960515">0x2</span><span class="op" id="7960518">}</span><span class="op" id="7960519">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960524">{</span><span class="string" id="7960525">&#34;__data&#34;</span><span class="op" id="7960533">,</span>&nbsp;<span class="string" id="7960535">&#34;__DATA&#34;</span><span class="op" id="7960543">,</span>&nbsp;<span class="num" id="7960545">0x2000</span><span class="op" id="7960551">,</span>&nbsp;<span class="num" id="7960553">0x14</span><span class="op" id="7960557">,</span>&nbsp;<span class="num" id="7960559">0x1000</span><span class="op" id="7960565">,</span>&nbsp;<span class="num" id="7960567">0x2</span><span class="op" id="7960570">,</span>&nbsp;<span class="num" id="7960572">0x0</span><span class="op" id="7960575">,</span>&nbsp;<span class="num" id="7960577">0x0</span><span class="op" id="7960580">,</span>&nbsp;<span class="num" id="7960582">0x0</span><span class="op" id="7960585">}</span><span class="op" id="7960586">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960591">{</span><span class="string" id="7960592">&#34;__dyld&#34;</span><span class="op" id="7960600">,</span>&nbsp;<span class="string" id="7960602">&#34;__DATA&#34;</span><span class="op" id="7960610">,</span>&nbsp;<span class="num" id="7960612">0x2014</span><span class="op" id="7960618">,</span>&nbsp;<span class="num" id="7960620">0x1c</span><span class="op" id="7960624">,</span>&nbsp;<span class="num" id="7960626">0x1014</span><span class="op" id="7960632">,</span>&nbsp;<span class="num" id="7960634">0x2</span><span class="op" id="7960637">,</span>&nbsp;<span class="num" id="7960639">0x0</span><span class="op" id="7960642">,</span>&nbsp;<span class="num" id="7960644">0x0</span><span class="op" id="7960647">,</span>&nbsp;<span class="num" id="7960649">0x0</span><span class="op" id="7960652">}</span><span class="op" id="7960653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960658">{</span><span class="string" id="7960659">&#34;__jump_table&#34;</span><span class="op" id="7960673">,</span>&nbsp;<span class="string" id="7960675">&#34;__IMPORT&#34;</span><span class="op" id="7960685">,</span>&nbsp;<span class="num" id="7960687">0x3000</span><span class="op" id="7960693">,</span>&nbsp;<span class="num" id="7960695">0xa</span><span class="op" id="7960698">,</span>&nbsp;<span class="num" id="7960700">0x2000</span><span class="op" id="7960706">,</span>&nbsp;<span class="num" id="7960708">0x6</span><span class="op" id="7960711">,</span>&nbsp;<span class="num" id="7960713">0x0</span><span class="op" id="7960716">,</span>&nbsp;<span class="num" id="7960718">0x0</span><span class="op" id="7960721">,</span>&nbsp;<span class="num" id="7960723">0x4000008</span><span class="op" id="7960732">}</span><span class="op" id="7960733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960737">}</span><span class="op" id="7960738">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960741">}</span><span class="op" id="7960742">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7960749">&#34;testdata/gcc-amd64-darwin-exec&#34;</span><span class="op" id="7960781">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7960785">FileHeader</span><span class="op" id="7960795">{</span><span class="num" id="7960796">0xfeedfacf</span><span class="op" id="7960806">,</span>&nbsp;<span class="ident" id="7960808">CpuAmd64</span><span class="op" id="7960816">,</span>&nbsp;<span class="num" id="7960818">0x80000003</span><span class="op" id="7960828">,</span>&nbsp;<span class="num" id="7960830">0x2</span><span class="op" id="7960833">,</span>&nbsp;<span class="num" id="7960835">0xb</span><span class="op" id="7960838">,</span>&nbsp;<span class="num" id="7960840">0x568</span><span class="op" id="7960845">,</span>&nbsp;<span class="num" id="7960847">0x85</span><span class="op" id="7960851">}</span><span class="op" id="7960852">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960856">[</span><span class="op" id="7960857">]</span><span class="op" id="7960858">*</span><span class="ident" id="7960859">SegmentHeader</span><span class="op" id="7960872">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960877">{</span><span class="ident" id="7960878">LoadCmdSegment64</span><span class="op" id="7960894">,</span>&nbsp;<span class="num" id="7960896">0x48</span><span class="op" id="7960900">,</span>&nbsp;<span class="string" id="7960902">&#34;__PAGEZERO&#34;</span><span class="op" id="7960914">,</span>&nbsp;<span class="num" id="7960916">0x0</span><span class="op" id="7960919">,</span>&nbsp;<span class="num" id="7960921">0x100000000</span><span class="op" id="7960932">,</span>&nbsp;<span class="num" id="7960934">0x0</span><span class="op" id="7960937">,</span>&nbsp;<span class="num" id="7960939">0x0</span><span class="op" id="7960942">,</span>&nbsp;<span class="num" id="7960944">0x0</span><span class="op" id="7960947">,</span>&nbsp;<span class="num" id="7960949">0x0</span><span class="op" id="7960952">,</span>&nbsp;<span class="num" id="7960954">0x0</span><span class="op" id="7960957">,</span>&nbsp;<span class="num" id="7960959">0x0</span><span class="op" id="7960962">}</span><span class="op" id="7960963">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7960968">{</span><span class="ident" id="7960969">LoadCmdSegment64</span><span class="op" id="7960985">,</span>&nbsp;<span class="num" id="7960987">0x1d8</span><span class="op" id="7960992">,</span>&nbsp;<span class="string" id="7960994">&#34;__TEXT&#34;</span><span class="op" id="7961002">,</span>&nbsp;<span class="num" id="7961004">0x100000000</span><span class="op" id="7961015">,</span>&nbsp;<span class="num" id="7961017">0x1000</span><span class="op" id="7961023">,</span>&nbsp;<span class="num" id="7961025">0x0</span><span class="op" id="7961028">,</span>&nbsp;<span class="num" id="7961030">0x1000</span><span class="op" id="7961036">,</span>&nbsp;<span class="num" id="7961038">0x7</span><span class="op" id="7961041">,</span>&nbsp;<span class="num" id="7961043">0x5</span><span class="op" id="7961046">,</span>&nbsp;<span class="num" id="7961048">0x5</span><span class="op" id="7961051">,</span>&nbsp;<span class="num" id="7961053">0x0</span><span class="op" id="7961056">}</span><span class="op" id="7961057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961062">{</span><span class="ident" id="7961063">LoadCmdSegment64</span><span class="op" id="7961079">,</span>&nbsp;<span class="num" id="7961081">0x138</span><span class="op" id="7961086">,</span>&nbsp;<span class="string" id="7961088">&#34;__DATA&#34;</span><span class="op" id="7961096">,</span>&nbsp;<span class="num" id="7961098">0x100001000</span><span class="op" id="7961109">,</span>&nbsp;<span class="num" id="7961111">0x1000</span><span class="op" id="7961117">,</span>&nbsp;<span class="num" id="7961119">0x1000</span><span class="op" id="7961125">,</span>&nbsp;<span class="num" id="7961127">0x1000</span><span class="op" id="7961133">,</span>&nbsp;<span class="num" id="7961135">0x7</span><span class="op" id="7961138">,</span>&nbsp;<span class="num" id="7961140">0x3</span><span class="op" id="7961143">,</span>&nbsp;<span class="num" id="7961145">0x3</span><span class="op" id="7961148">,</span>&nbsp;<span class="num" id="7961150">0x0</span><span class="op" id="7961153">}</span><span class="op" id="7961154">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961159">{</span><span class="ident" id="7961160">LoadCmdSegment64</span><span class="op" id="7961176">,</span>&nbsp;<span class="num" id="7961178">0x48</span><span class="op" id="7961182">,</span>&nbsp;<span class="string" id="7961184">&#34;__LINKEDIT&#34;</span><span class="op" id="7961196">,</span>&nbsp;<span class="num" id="7961198">0x100002000</span><span class="op" id="7961209">,</span>&nbsp;<span class="num" id="7961211">0x1000</span><span class="op" id="7961217">,</span>&nbsp;<span class="num" id="7961219">0x2000</span><span class="op" id="7961225">,</span>&nbsp;<span class="num" id="7961227">0x140</span><span class="op" id="7961232">,</span>&nbsp;<span class="num" id="7961234">0x7</span><span class="op" id="7961237">,</span>&nbsp;<span class="num" id="7961239">0x1</span><span class="op" id="7961242">,</span>&nbsp;<span class="num" id="7961244">0x0</span><span class="op" id="7961247">,</span>&nbsp;<span class="num" id="7961249">0x0</span><span class="op" id="7961252">}</span><span class="op" id="7961253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961258">nil</span><span class="op" id="7961261">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961266">nil</span><span class="op" id="7961269">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961274">nil</span><span class="op" id="7961277">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961282">nil</span><span class="op" id="7961285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961290">nil</span><span class="op" id="7961293">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961298">nil</span><span class="op" id="7961301">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7961306">nil</span><span class="op" id="7961309">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961313">}</span><span class="op" id="7961314">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961318">[</span><span class="op" id="7961319">]</span><span class="op" id="7961320">*</span><span class="ident" id="7961321">SectionHeader</span><span class="op" id="7961334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961339">{</span><span class="string" id="7961340">&#34;__text&#34;</span><span class="op" id="7961348">,</span>&nbsp;<span class="string" id="7961350">&#34;__TEXT&#34;</span><span class="op" id="7961358">,</span>&nbsp;<span class="num" id="7961360">0x100000f14</span><span class="op" id="7961371">,</span>&nbsp;<span class="num" id="7961373">0x6d</span><span class="op" id="7961377">,</span>&nbsp;<span class="num" id="7961379">0xf14</span><span class="op" id="7961384">,</span>&nbsp;<span class="num" id="7961386">0x2</span><span class="op" id="7961389">,</span>&nbsp;<span class="num" id="7961391">0x0</span><span class="op" id="7961394">,</span>&nbsp;<span class="num" id="7961396">0x0</span><span class="op" id="7961399">,</span>&nbsp;<span class="num" id="7961401">0x80000400</span><span class="op" id="7961411">}</span><span class="op" id="7961412">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961417">{</span><span class="string" id="7961418">&#34;__symbol_stub1&#34;</span><span class="op" id="7961434">,</span>&nbsp;<span class="string" id="7961436">&#34;__TEXT&#34;</span><span class="op" id="7961444">,</span>&nbsp;<span class="num" id="7961446">0x100000f81</span><span class="op" id="7961457">,</span>&nbsp;<span class="num" id="7961459">0xc</span><span class="op" id="7961462">,</span>&nbsp;<span class="num" id="7961464">0xf81</span><span class="op" id="7961469">,</span>&nbsp;<span class="num" id="7961471">0x0</span><span class="op" id="7961474">,</span>&nbsp;<span class="num" id="7961476">0x0</span><span class="op" id="7961479">,</span>&nbsp;<span class="num" id="7961481">0x0</span><span class="op" id="7961484">,</span>&nbsp;<span class="num" id="7961486">0x80000408</span><span class="op" id="7961496">}</span><span class="op" id="7961497">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961502">{</span><span class="string" id="7961503">&#34;__stub_helper&#34;</span><span class="op" id="7961518">,</span>&nbsp;<span class="string" id="7961520">&#34;__TEXT&#34;</span><span class="op" id="7961528">,</span>&nbsp;<span class="num" id="7961530">0x100000f90</span><span class="op" id="7961541">,</span>&nbsp;<span class="num" id="7961543">0x18</span><span class="op" id="7961547">,</span>&nbsp;<span class="num" id="7961549">0xf90</span><span class="op" id="7961554">,</span>&nbsp;<span class="num" id="7961556">0x2</span><span class="op" id="7961559">,</span>&nbsp;<span class="num" id="7961561">0x0</span><span class="op" id="7961564">,</span>&nbsp;<span class="num" id="7961566">0x0</span><span class="op" id="7961569">,</span>&nbsp;<span class="num" id="7961571">0x0</span><span class="op" id="7961574">}</span><span class="op" id="7961575">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961580">{</span><span class="string" id="7961581">&#34;__cstring&#34;</span><span class="op" id="7961592">,</span>&nbsp;<span class="string" id="7961594">&#34;__TEXT&#34;</span><span class="op" id="7961602">,</span>&nbsp;<span class="num" id="7961604">0x100000fa8</span><span class="op" id="7961615">,</span>&nbsp;<span class="num" id="7961617">0xd</span><span class="op" id="7961620">,</span>&nbsp;<span class="num" id="7961622">0xfa8</span><span class="op" id="7961627">,</span>&nbsp;<span class="num" id="7961629">0x0</span><span class="op" id="7961632">,</span>&nbsp;<span class="num" id="7961634">0x0</span><span class="op" id="7961637">,</span>&nbsp;<span class="num" id="7961639">0x0</span><span class="op" id="7961642">,</span>&nbsp;<span class="num" id="7961644">0x2</span><span class="op" id="7961647">}</span><span class="op" id="7961648">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961653">{</span><span class="string" id="7961654">&#34;__eh_frame&#34;</span><span class="op" id="7961666">,</span>&nbsp;<span class="string" id="7961668">&#34;__TEXT&#34;</span><span class="op" id="7961676">,</span>&nbsp;<span class="num" id="7961678">0x100000fb8</span><span class="op" id="7961689">,</span>&nbsp;<span class="num" id="7961691">0x48</span><span class="op" id="7961695">,</span>&nbsp;<span class="num" id="7961697">0xfb8</span><span class="op" id="7961702">,</span>&nbsp;<span class="num" id="7961704">0x3</span><span class="op" id="7961707">,</span>&nbsp;<span class="num" id="7961709">0x0</span><span class="op" id="7961712">,</span>&nbsp;<span class="num" id="7961714">0x0</span><span class="op" id="7961717">,</span>&nbsp;<span class="num" id="7961719">0x6000000b</span><span class="op" id="7961729">}</span><span class="op" id="7961730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961735">{</span><span class="string" id="7961736">&#34;__data&#34;</span><span class="op" id="7961744">,</span>&nbsp;<span class="string" id="7961746">&#34;__DATA&#34;</span><span class="op" id="7961754">,</span>&nbsp;<span class="num" id="7961756">0x100001000</span><span class="op" id="7961767">,</span>&nbsp;<span class="num" id="7961769">0x1c</span><span class="op" id="7961773">,</span>&nbsp;<span class="num" id="7961775">0x1000</span><span class="op" id="7961781">,</span>&nbsp;<span class="num" id="7961783">0x3</span><span class="op" id="7961786">,</span>&nbsp;<span class="num" id="7961788">0x0</span><span class="op" id="7961791">,</span>&nbsp;<span class="num" id="7961793">0x0</span><span class="op" id="7961796">,</span>&nbsp;<span class="num" id="7961798">0x0</span><span class="op" id="7961801">}</span><span class="op" id="7961802">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961807">{</span><span class="string" id="7961808">&#34;__dyld&#34;</span><span class="op" id="7961816">,</span>&nbsp;<span class="string" id="7961818">&#34;__DATA&#34;</span><span class="op" id="7961826">,</span>&nbsp;<span class="num" id="7961828">0x100001020</span><span class="op" id="7961839">,</span>&nbsp;<span class="num" id="7961841">0x38</span><span class="op" id="7961845">,</span>&nbsp;<span class="num" id="7961847">0x1020</span><span class="op" id="7961853">,</span>&nbsp;<span class="num" id="7961855">0x3</span><span class="op" id="7961858">,</span>&nbsp;<span class="num" id="7961860">0x0</span><span class="op" id="7961863">,</span>&nbsp;<span class="num" id="7961865">0x0</span><span class="op" id="7961868">,</span>&nbsp;<span class="num" id="7961870">0x0</span><span class="op" id="7961873">}</span><span class="op" id="7961874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961879">{</span><span class="string" id="7961880">&#34;__la_symbol_ptr&#34;</span><span class="op" id="7961897">,</span>&nbsp;<span class="string" id="7961899">&#34;__DATA&#34;</span><span class="op" id="7961907">,</span>&nbsp;<span class="num" id="7961909">0x100001058</span><span class="op" id="7961920">,</span>&nbsp;<span class="num" id="7961922">0x10</span><span class="op" id="7961926">,</span>&nbsp;<span class="num" id="7961928">0x1058</span><span class="op" id="7961934">,</span>&nbsp;<span class="num" id="7961936">0x2</span><span class="op" id="7961939">,</span>&nbsp;<span class="num" id="7961941">0x0</span><span class="op" id="7961944">,</span>&nbsp;<span class="num" id="7961946">0x0</span><span class="op" id="7961949">,</span>&nbsp;<span class="num" id="7961951">0x7</span><span class="op" id="7961954">}</span><span class="op" id="7961955">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961959">}</span><span class="op" id="7961960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961963">}</span><span class="op" id="7961964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7961967">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7961971">&#34;testdata/gcc-amd64-darwin-exec-debug&#34;</span><span class="op" id="7962009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962013">FileHeader</span><span class="op" id="7962023">{</span><span class="num" id="7962024">0xfeedfacf</span><span class="op" id="7962034">,</span>&nbsp;<span class="ident" id="7962036">CpuAmd64</span><span class="op" id="7962044">,</span>&nbsp;<span class="num" id="7962046">0x80000003</span><span class="op" id="7962056">,</span>&nbsp;<span class="num" id="7962058">0xa</span><span class="op" id="7962061">,</span>&nbsp;<span class="num" id="7962063">0x4</span><span class="op" id="7962066">,</span>&nbsp;<span class="num" id="7962068">0x5a0</span><span class="op" id="7962073">,</span>&nbsp;<span class="num" id="7962075">0</span><span class="op" id="7962076">}</span><span class="op" id="7962077">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962081">[</span><span class="op" id="7962082">]</span><span class="op" id="7962083">*</span><span class="ident" id="7962084">SegmentHeader</span><span class="op" id="7962097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7962102">nil</span><span class="op" id="7962105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962110">{</span><span class="ident" id="7962111">LoadCmdSegment64</span><span class="op" id="7962127">,</span>&nbsp;<span class="num" id="7962129">0x1d8</span><span class="op" id="7962134">,</span>&nbsp;<span class="string" id="7962136">&#34;__TEXT&#34;</span><span class="op" id="7962144">,</span>&nbsp;<span class="num" id="7962146">0x100000000</span><span class="op" id="7962157">,</span>&nbsp;<span class="num" id="7962159">0x1000</span><span class="op" id="7962165">,</span>&nbsp;<span class="num" id="7962167">0x0</span><span class="op" id="7962170">,</span>&nbsp;<span class="num" id="7962172">0x0</span><span class="op" id="7962175">,</span>&nbsp;<span class="num" id="7962177">0x7</span><span class="op" id="7962180">,</span>&nbsp;<span class="num" id="7962182">0x5</span><span class="op" id="7962185">,</span>&nbsp;<span class="num" id="7962187">0x5</span><span class="op" id="7962190">,</span>&nbsp;<span class="num" id="7962192">0x0</span><span class="op" id="7962195">}</span><span class="op" id="7962196">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962201">{</span><span class="ident" id="7962202">LoadCmdSegment64</span><span class="op" id="7962218">,</span>&nbsp;<span class="num" id="7962220">0x138</span><span class="op" id="7962225">,</span>&nbsp;<span class="string" id="7962227">&#34;__DATA&#34;</span><span class="op" id="7962235">,</span>&nbsp;<span class="num" id="7962237">0x100001000</span><span class="op" id="7962248">,</span>&nbsp;<span class="num" id="7962250">0x1000</span><span class="op" id="7962256">,</span>&nbsp;<span class="num" id="7962258">0x0</span><span class="op" id="7962261">,</span>&nbsp;<span class="num" id="7962263">0x0</span><span class="op" id="7962266">,</span>&nbsp;<span class="num" id="7962268">0x7</span><span class="op" id="7962271">,</span>&nbsp;<span class="num" id="7962273">0x3</span><span class="op" id="7962276">,</span>&nbsp;<span class="num" id="7962278">0x3</span><span class="op" id="7962281">,</span>&nbsp;<span class="num" id="7962283">0x0</span><span class="op" id="7962286">}</span><span class="op" id="7962287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962292">{</span><span class="ident" id="7962293">LoadCmdSegment64</span><span class="op" id="7962309">,</span>&nbsp;<span class="num" id="7962311">0x278</span><span class="op" id="7962316">,</span>&nbsp;<span class="string" id="7962318">&#34;__DWARF&#34;</span><span class="op" id="7962327">,</span>&nbsp;<span class="num" id="7962329">0x100002000</span><span class="op" id="7962340">,</span>&nbsp;<span class="num" id="7962342">0x1000</span><span class="op" id="7962348">,</span>&nbsp;<span class="num" id="7962350">0x1000</span><span class="op" id="7962356">,</span>&nbsp;<span class="num" id="7962358">0x1bc</span><span class="op" id="7962363">,</span>&nbsp;<span class="num" id="7962365">0x7</span><span class="op" id="7962368">,</span>&nbsp;<span class="num" id="7962370">0x3</span><span class="op" id="7962373">,</span>&nbsp;<span class="num" id="7962375">0x7</span><span class="op" id="7962378">,</span>&nbsp;<span class="num" id="7962380">0x0</span><span class="op" id="7962383">}</span><span class="op" id="7962384">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962388">}</span><span class="op" id="7962389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962393">[</span><span class="op" id="7962394">]</span><span class="op" id="7962395">*</span><span class="ident" id="7962396">SectionHeader</span><span class="op" id="7962409">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962414">{</span><span class="string" id="7962415">&#34;__text&#34;</span><span class="op" id="7962423">,</span>&nbsp;<span class="string" id="7962425">&#34;__TEXT&#34;</span><span class="op" id="7962433">,</span>&nbsp;<span class="num" id="7962435">0x100000f14</span><span class="op" id="7962446">,</span>&nbsp;<span class="num" id="7962448">0x0</span><span class="op" id="7962451">,</span>&nbsp;<span class="num" id="7962453">0x0</span><span class="op" id="7962456">,</span>&nbsp;<span class="num" id="7962458">0x2</span><span class="op" id="7962461">,</span>&nbsp;<span class="num" id="7962463">0x0</span><span class="op" id="7962466">,</span>&nbsp;<span class="num" id="7962468">0x0</span><span class="op" id="7962471">,</span>&nbsp;<span class="num" id="7962473">0x80000400</span><span class="op" id="7962483">}</span><span class="op" id="7962484">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962489">{</span><span class="string" id="7962490">&#34;__symbol_stub1&#34;</span><span class="op" id="7962506">,</span>&nbsp;<span class="string" id="7962508">&#34;__TEXT&#34;</span><span class="op" id="7962516">,</span>&nbsp;<span class="num" id="7962518">0x100000f81</span><span class="op" id="7962529">,</span>&nbsp;<span class="num" id="7962531">0x0</span><span class="op" id="7962534">,</span>&nbsp;<span class="num" id="7962536">0x0</span><span class="op" id="7962539">,</span>&nbsp;<span class="num" id="7962541">0x0</span><span class="op" id="7962544">,</span>&nbsp;<span class="num" id="7962546">0x0</span><span class="op" id="7962549">,</span>&nbsp;<span class="num" id="7962551">0x0</span><span class="op" id="7962554">,</span>&nbsp;<span class="num" id="7962556">0x80000408</span><span class="op" id="7962566">}</span><span class="op" id="7962567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962572">{</span><span class="string" id="7962573">&#34;__stub_helper&#34;</span><span class="op" id="7962588">,</span>&nbsp;<span class="string" id="7962590">&#34;__TEXT&#34;</span><span class="op" id="7962598">,</span>&nbsp;<span class="num" id="7962600">0x100000f90</span><span class="op" id="7962611">,</span>&nbsp;<span class="num" id="7962613">0x0</span><span class="op" id="7962616">,</span>&nbsp;<span class="num" id="7962618">0x0</span><span class="op" id="7962621">,</span>&nbsp;<span class="num" id="7962623">0x2</span><span class="op" id="7962626">,</span>&nbsp;<span class="num" id="7962628">0x0</span><span class="op" id="7962631">,</span>&nbsp;<span class="num" id="7962633">0x0</span><span class="op" id="7962636">,</span>&nbsp;<span class="num" id="7962638">0x0</span><span class="op" id="7962641">}</span><span class="op" id="7962642">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962647">{</span><span class="string" id="7962648">&#34;__cstring&#34;</span><span class="op" id="7962659">,</span>&nbsp;<span class="string" id="7962661">&#34;__TEXT&#34;</span><span class="op" id="7962669">,</span>&nbsp;<span class="num" id="7962671">0x100000fa8</span><span class="op" id="7962682">,</span>&nbsp;<span class="num" id="7962684">0x0</span><span class="op" id="7962687">,</span>&nbsp;<span class="num" id="7962689">0x0</span><span class="op" id="7962692">,</span>&nbsp;<span class="num" id="7962694">0x0</span><span class="op" id="7962697">,</span>&nbsp;<span class="num" id="7962699">0x0</span><span class="op" id="7962702">,</span>&nbsp;<span class="num" id="7962704">0x0</span><span class="op" id="7962707">,</span>&nbsp;<span class="num" id="7962709">0x2</span><span class="op" id="7962712">}</span><span class="op" id="7962713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962718">{</span><span class="string" id="7962719">&#34;__eh_frame&#34;</span><span class="op" id="7962731">,</span>&nbsp;<span class="string" id="7962733">&#34;__TEXT&#34;</span><span class="op" id="7962741">,</span>&nbsp;<span class="num" id="7962743">0x100000fb8</span><span class="op" id="7962754">,</span>&nbsp;<span class="num" id="7962756">0x0</span><span class="op" id="7962759">,</span>&nbsp;<span class="num" id="7962761">0x0</span><span class="op" id="7962764">,</span>&nbsp;<span class="num" id="7962766">0x3</span><span class="op" id="7962769">,</span>&nbsp;<span class="num" id="7962771">0x0</span><span class="op" id="7962774">,</span>&nbsp;<span class="num" id="7962776">0x0</span><span class="op" id="7962779">,</span>&nbsp;<span class="num" id="7962781">0x6000000b</span><span class="op" id="7962791">}</span><span class="op" id="7962792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962797">{</span><span class="string" id="7962798">&#34;__data&#34;</span><span class="op" id="7962806">,</span>&nbsp;<span class="string" id="7962808">&#34;__DATA&#34;</span><span class="op" id="7962816">,</span>&nbsp;<span class="num" id="7962818">0x100001000</span><span class="op" id="7962829">,</span>&nbsp;<span class="num" id="7962831">0x0</span><span class="op" id="7962834">,</span>&nbsp;<span class="num" id="7962836">0x0</span><span class="op" id="7962839">,</span>&nbsp;<span class="num" id="7962841">0x3</span><span class="op" id="7962844">,</span>&nbsp;<span class="num" id="7962846">0x0</span><span class="op" id="7962849">,</span>&nbsp;<span class="num" id="7962851">0x0</span><span class="op" id="7962854">,</span>&nbsp;<span class="num" id="7962856">0x0</span><span class="op" id="7962859">}</span><span class="op" id="7962860">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962865">{</span><span class="string" id="7962866">&#34;__dyld&#34;</span><span class="op" id="7962874">,</span>&nbsp;<span class="string" id="7962876">&#34;__DATA&#34;</span><span class="op" id="7962884">,</span>&nbsp;<span class="num" id="7962886">0x100001020</span><span class="op" id="7962897">,</span>&nbsp;<span class="num" id="7962899">0x0</span><span class="op" id="7962902">,</span>&nbsp;<span class="num" id="7962904">0x0</span><span class="op" id="7962907">,</span>&nbsp;<span class="num" id="7962909">0x3</span><span class="op" id="7962912">,</span>&nbsp;<span class="num" id="7962914">0x0</span><span class="op" id="7962917">,</span>&nbsp;<span class="num" id="7962919">0x0</span><span class="op" id="7962922">,</span>&nbsp;<span class="num" id="7962924">0x0</span><span class="op" id="7962927">}</span><span class="op" id="7962928">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7962933">{</span><span class="string" id="7962934">&#34;__la_symbol_ptr&#34;</span><span class="op" id="7962951">,</span>&nbsp;<span class="string" id="7962953">&#34;__DATA&#34;</span><span class="op" id="7962961">,</span>&nbsp;<span class="num" id="7962963">0x100001058</span><span class="op" id="7962974">,</span>&nbsp;<span class="num" id="7962976">0x0</span><span class="op" id="7962979">,</span>&nbsp;<span class="num" id="7962981">0x0</span><span class="op" id="7962984">,</span>&nbsp;<span class="num" id="7962986">0x2</span><span class="op" id="7962989">,</span>&nbsp;<span class="num" id="7962991">0x0</span><span class="op" id="7962994">,</span>&nbsp;<span class="num" id="7962996">0x0</span><span class="op" id="7962999">,</span>&nbsp;<span class="num" id="7963001">0x7</span><span class="op" id="7963004">}</span><span class="op" id="7963005">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963010">{</span><span class="string" id="7963011">&#34;__debug_abbrev&#34;</span><span class="op" id="7963027">,</span>&nbsp;<span class="string" id="7963029">&#34;__DWARF&#34;</span><span class="op" id="7963038">,</span>&nbsp;<span class="num" id="7963040">0x100002000</span><span class="op" id="7963051">,</span>&nbsp;<span class="num" id="7963053">0x36</span><span class="op" id="7963057">,</span>&nbsp;<span class="num" id="7963059">0x1000</span><span class="op" id="7963065">,</span>&nbsp;<span class="num" id="7963067">0x0</span><span class="op" id="7963070">,</span>&nbsp;<span class="num" id="7963072">0x0</span><span class="op" id="7963075">,</span>&nbsp;<span class="num" id="7963077">0x0</span><span class="op" id="7963080">,</span>&nbsp;<span class="num" id="7963082">0x0</span><span class="op" id="7963085">}</span><span class="op" id="7963086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963091">{</span><span class="string" id="7963092">&#34;__debug_aranges&#34;</span><span class="op" id="7963109">,</span>&nbsp;<span class="string" id="7963111">&#34;__DWARF&#34;</span><span class="op" id="7963120">,</span>&nbsp;<span class="num" id="7963122">0x100002036</span><span class="op" id="7963133">,</span>&nbsp;<span class="num" id="7963135">0x30</span><span class="op" id="7963139">,</span>&nbsp;<span class="num" id="7963141">0x1036</span><span class="op" id="7963147">,</span>&nbsp;<span class="num" id="7963149">0x0</span><span class="op" id="7963152">,</span>&nbsp;<span class="num" id="7963154">0x0</span><span class="op" id="7963157">,</span>&nbsp;<span class="num" id="7963159">0x0</span><span class="op" id="7963162">,</span>&nbsp;<span class="num" id="7963164">0x0</span><span class="op" id="7963167">}</span><span class="op" id="7963168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963173">{</span><span class="string" id="7963174">&#34;__debug_frame&#34;</span><span class="op" id="7963189">,</span>&nbsp;<span class="string" id="7963191">&#34;__DWARF&#34;</span><span class="op" id="7963200">,</span>&nbsp;<span class="num" id="7963202">0x100002066</span><span class="op" id="7963213">,</span>&nbsp;<span class="num" id="7963215">0x40</span><span class="op" id="7963219">,</span>&nbsp;<span class="num" id="7963221">0x1066</span><span class="op" id="7963227">,</span>&nbsp;<span class="num" id="7963229">0x0</span><span class="op" id="7963232">,</span>&nbsp;<span class="num" id="7963234">0x0</span><span class="op" id="7963237">,</span>&nbsp;<span class="num" id="7963239">0x0</span><span class="op" id="7963242">,</span>&nbsp;<span class="num" id="7963244">0x0</span><span class="op" id="7963247">}</span><span class="op" id="7963248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963253">{</span><span class="string" id="7963254">&#34;__debug_info&#34;</span><span class="op" id="7963268">,</span>&nbsp;<span class="string" id="7963270">&#34;__DWARF&#34;</span><span class="op" id="7963279">,</span>&nbsp;<span class="num" id="7963281">0x1000020a6</span><span class="op" id="7963292">,</span>&nbsp;<span class="num" id="7963294">0x54</span><span class="op" id="7963298">,</span>&nbsp;<span class="num" id="7963300">0x10a6</span><span class="op" id="7963306">,</span>&nbsp;<span class="num" id="7963308">0x0</span><span class="op" id="7963311">,</span>&nbsp;<span class="num" id="7963313">0x0</span><span class="op" id="7963316">,</span>&nbsp;<span class="num" id="7963318">0x0</span><span class="op" id="7963321">,</span>&nbsp;<span class="num" id="7963323">0x0</span><span class="op" id="7963326">}</span><span class="op" id="7963327">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963332">{</span><span class="string" id="7963333">&#34;__debug_line&#34;</span><span class="op" id="7963347">,</span>&nbsp;<span class="string" id="7963349">&#34;__DWARF&#34;</span><span class="op" id="7963358">,</span>&nbsp;<span class="num" id="7963360">0x1000020fa</span><span class="op" id="7963371">,</span>&nbsp;<span class="num" id="7963373">0x47</span><span class="op" id="7963377">,</span>&nbsp;<span class="num" id="7963379">0x10fa</span><span class="op" id="7963385">,</span>&nbsp;<span class="num" id="7963387">0x0</span><span class="op" id="7963390">,</span>&nbsp;<span class="num" id="7963392">0x0</span><span class="op" id="7963395">,</span>&nbsp;<span class="num" id="7963397">0x0</span><span class="op" id="7963400">,</span>&nbsp;<span class="num" id="7963402">0x0</span><span class="op" id="7963405">}</span><span class="op" id="7963406">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963411">{</span><span class="string" id="7963412">&#34;__debug_pubnames&#34;</span><span class="op" id="7963430">,</span>&nbsp;<span class="string" id="7963432">&#34;__DWARF&#34;</span><span class="op" id="7963441">,</span>&nbsp;<span class="num" id="7963443">0x100002141</span><span class="op" id="7963454">,</span>&nbsp;<span class="num" id="7963456">0x1b</span><span class="op" id="7963460">,</span>&nbsp;<span class="num" id="7963462">0x1141</span><span class="op" id="7963468">,</span>&nbsp;<span class="num" id="7963470">0x0</span><span class="op" id="7963473">,</span>&nbsp;<span class="num" id="7963475">0x0</span><span class="op" id="7963478">,</span>&nbsp;<span class="num" id="7963480">0x0</span><span class="op" id="7963483">,</span>&nbsp;<span class="num" id="7963485">0x0</span><span class="op" id="7963488">}</span><span class="op" id="7963489">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963494">{</span><span class="string" id="7963495">&#34;__debug_str&#34;</span><span class="op" id="7963508">,</span>&nbsp;<span class="string" id="7963510">&#34;__DWARF&#34;</span><span class="op" id="7963519">,</span>&nbsp;<span class="num" id="7963521">0x10000215c</span><span class="op" id="7963532">,</span>&nbsp;<span class="num" id="7963534">0x60</span><span class="op" id="7963538">,</span>&nbsp;<span class="num" id="7963540">0x115c</span><span class="op" id="7963546">,</span>&nbsp;<span class="num" id="7963548">0x0</span><span class="op" id="7963551">,</span>&nbsp;<span class="num" id="7963553">0x0</span><span class="op" id="7963556">,</span>&nbsp;<span class="num" id="7963558">0x0</span><span class="op" id="7963561">,</span>&nbsp;<span class="num" id="7963563">0x0</span><span class="op" id="7963566">}</span><span class="op" id="7963567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963571">}</span><span class="op" id="7963572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963575">}</span><span class="op" id="7963576">,</span><br>
<span class="lineno"></span><span class="op" id="7963578">}</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span><span class="keyword" id="7963581">func</span>&nbsp;<span class="ident" id="7963586">TestOpen</span><span class="op" id="7963594">(</span><span class="ident" id="7963595">t</span>&nbsp;<span class="op" id="7963597">*</span><span class="ident" id="7963598">testing</span><span class="op" id="7963605">.</span><span class="ident" id="7963606">T</span><span class="op" id="7963607">)</span>&nbsp;<span class="op" id="7963609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963612">for</span>&nbsp;<span class="ident" id="7963616">i</span>&nbsp;<span class="op" id="7963618">:=</span>&nbsp;<span class="keyword" id="7963621">range</span>&nbsp;<span class="ident" id="7963627">fileTests</span>&nbsp;<span class="op" id="7963637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963641">tt</span>&nbsp;<span class="op" id="7963644">:=</span>&nbsp;<span class="op" id="7963647">&amp;</span><span class="ident" id="7963648">fileTests</span><span class="op" id="7963657">[</span><span class="ident" id="7963658">i</span><span class="op" id="7963659">]</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963664">f</span><span class="op" id="7963665">,</span>&nbsp;<span class="ident" id="7963667">err</span>&nbsp;<span class="op" id="7963671">:=</span>&nbsp;<span class="ident" id="7963674">Open</span><span class="op" id="7963678">(</span><span class="ident" id="7963679">tt</span><span class="op" id="7963681">.</span><span class="ident" id="7963682">file</span><span class="op" id="7963686">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963690">if</span>&nbsp;<span class="ident" id="7963693">err</span>&nbsp;<span class="op" id="7963697">!=</span>&nbsp;<span class="ident" id="7963700">nil</span>&nbsp;<span class="op" id="7963704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963709">t</span><span class="op" id="7963710">.</span><span class="ident" id="7963711">Error</span><span class="op" id="7963716">(</span><span class="ident" id="7963717">err</span><span class="op" id="7963720">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963725">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963736">}</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963740">if</span>&nbsp;<span class="op" id="7963743">!</span><span class="ident" id="7963744">reflect</span><span class="op" id="7963751">.</span><span class="ident" id="7963752">DeepEqual</span><span class="op" id="7963761">(</span><span class="ident" id="7963762">f</span><span class="op" id="7963763">.</span><span class="ident" id="7963764">FileHeader</span><span class="op" id="7963774">,</span>&nbsp;<span class="ident" id="7963776">tt</span><span class="op" id="7963778">.</span><span class="ident" id="7963779">hdr</span><span class="op" id="7963782">)</span>&nbsp;<span class="op" id="7963784">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963789">t</span><span class="op" id="7963790">.</span><span class="ident" id="7963791">Errorf</span><span class="op" id="7963797">(</span><span class="string" id="7963798">&#34;open&nbsp;%s:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7963834">,</span>&nbsp;<span class="ident" id="7963836">tt</span><span class="op" id="7963838">.</span><span class="ident" id="7963839">file</span><span class="op" id="7963843">,</span>&nbsp;<span class="ident" id="7963845">f</span><span class="op" id="7963846">.</span><span class="ident" id="7963847">FileHeader</span><span class="op" id="7963857">,</span>&nbsp;<span class="ident" id="7963859">tt</span><span class="op" id="7963861">.</span><span class="ident" id="7963862">hdr</span><span class="op" id="7963865">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963870">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963885">for</span>&nbsp;<span class="ident" id="7963889">i</span><span class="op" id="7963890">,</span>&nbsp;<span class="ident" id="7963892">l</span>&nbsp;<span class="op" id="7963894">:=</span>&nbsp;<span class="keyword" id="7963897">range</span>&nbsp;<span class="ident" id="7963903">f</span><span class="op" id="7963904">.</span><span class="ident" id="7963905">Loads</span>&nbsp;<span class="op" id="7963911">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963916">if</span>&nbsp;<span class="ident" id="7963919">i</span>&nbsp;<span class="op" id="7963921">&gt;=</span>&nbsp;<span class="builtinfunc" id="7963924">len</span><span class="op" id="7963927">(</span><span class="ident" id="7963928">tt</span><span class="op" id="7963930">.</span><span class="ident" id="7963931">segments</span><span class="op" id="7963939">)</span>&nbsp;<span class="op" id="7963941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7963947">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7963956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963961">sh</span>&nbsp;<span class="op" id="7963964">:=</span>&nbsp;<span class="ident" id="7963967">tt</span><span class="op" id="7963969">.</span><span class="ident" id="7963970">segments</span><span class="op" id="7963978">[</span><span class="ident" id="7963979">i</span><span class="op" id="7963980">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7963985">s</span><span class="op" id="7963986">,</span>&nbsp;<span class="ident" id="7963988">ok</span>&nbsp;<span class="op" id="7963991">:=</span>&nbsp;<span class="ident" id="7963994">l</span><span class="op" id="7963995">.</span><span class="op" id="7963996">(</span><span class="op" id="7963997">*</span><span class="ident" id="7963998">Segment</span><span class="op" id="7964005">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964010">if</span>&nbsp;<span class="ident" id="7964013">sh</span>&nbsp;<span class="op" id="7964016">==</span>&nbsp;<span class="ident" id="7964019">nil</span>&nbsp;<span class="op" id="7964023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964029">if</span>&nbsp;<span class="ident" id="7964032">ok</span>&nbsp;<span class="op" id="7964035">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964042">t</span><span class="op" id="7964043">.</span><span class="ident" id="7964044">Errorf</span><span class="op" id="7964050">(</span><span class="string" id="7964051">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;skipping&nbsp;%#v\n&#34;</span><span class="op" id="7964088">,</span>&nbsp;<span class="ident" id="7964090">tt</span><span class="op" id="7964092">.</span><span class="ident" id="7964093">file</span><span class="op" id="7964097">,</span>&nbsp;<span class="ident" id="7964099">i</span><span class="op" id="7964100">,</span>&nbsp;<span class="op" id="7964102">&amp;</span><span class="ident" id="7964103">s</span><span class="op" id="7964104">.</span><span class="ident" id="7964105">SegmentHeader</span><span class="op" id="7964118">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964130">continue</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964142">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964147">if</span>&nbsp;<span class="op" id="7964150">!</span><span class="ident" id="7964151">ok</span>&nbsp;<span class="op" id="7964154">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964160">t</span><span class="op" id="7964161">.</span><span class="ident" id="7964162">Errorf</span><span class="op" id="7964168">(</span><span class="string" id="7964169">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:&nbsp;not&nbsp;*Segment\n&#34;</span><span class="op" id="7964206">,</span>&nbsp;<span class="ident" id="7964208">tt</span><span class="op" id="7964210">.</span><span class="ident" id="7964211">file</span><span class="op" id="7964215">,</span>&nbsp;<span class="ident" id="7964217">i</span><span class="op" id="7964218">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964224">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964236">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964241">have</span>&nbsp;<span class="op" id="7964246">:=</span>&nbsp;<span class="op" id="7964249">&amp;</span><span class="ident" id="7964250">s</span><span class="op" id="7964251">.</span><span class="ident" id="7964252">SegmentHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964269">want</span>&nbsp;<span class="op" id="7964274">:=</span>&nbsp;<span class="ident" id="7964277">sh</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964283">if</span>&nbsp;<span class="op" id="7964286">!</span><span class="ident" id="7964287">reflect</span><span class="op" id="7964294">.</span><span class="ident" id="7964295">DeepEqual</span><span class="op" id="7964304">(</span><span class="ident" id="7964305">have</span><span class="op" id="7964309">,</span>&nbsp;<span class="ident" id="7964311">want</span><span class="op" id="7964315">)</span>&nbsp;<span class="op" id="7964317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964323">t</span><span class="op" id="7964324">.</span><span class="ident" id="7964325">Errorf</span><span class="op" id="7964331">(</span><span class="string" id="7964332">&#34;open&nbsp;%s,&nbsp;segment&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7964380">,</span>&nbsp;<span class="ident" id="7964382">tt</span><span class="op" id="7964384">.</span><span class="ident" id="7964385">file</span><span class="op" id="7964389">,</span>&nbsp;<span class="ident" id="7964391">i</span><span class="op" id="7964392">,</span>&nbsp;<span class="ident" id="7964394">have</span><span class="op" id="7964398">,</span>&nbsp;<span class="ident" id="7964400">want</span><span class="op" id="7964404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964409">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964417">tn</span>&nbsp;<span class="op" id="7964420">:=</span>&nbsp;<span class="builtinfunc" id="7964423">len</span><span class="op" id="7964426">(</span><span class="ident" id="7964427">tt</span><span class="op" id="7964429">.</span><span class="ident" id="7964430">segments</span><span class="op" id="7964438">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964442">fn</span>&nbsp;<span class="op" id="7964445">:=</span>&nbsp;<span class="builtinfunc" id="7964448">len</span><span class="op" id="7964451">(</span><span class="ident" id="7964452">f</span><span class="op" id="7964453">.</span><span class="ident" id="7964454">Loads</span><span class="op" id="7964459">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964463">if</span>&nbsp;<span class="ident" id="7964466">tn</span>&nbsp;<span class="op" id="7964469">!=</span>&nbsp;<span class="ident" id="7964472">fn</span>&nbsp;<span class="op" id="7964475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964480">t</span><span class="op" id="7964481">.</span><span class="ident" id="7964482">Errorf</span><span class="op" id="7964488">(</span><span class="string" id="7964489">&#34;open&nbsp;%s:&nbsp;len(Loads)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7964524">,</span>&nbsp;<span class="ident" id="7964526">tt</span><span class="op" id="7964528">.</span><span class="ident" id="7964529">file</span><span class="op" id="7964533">,</span>&nbsp;<span class="ident" id="7964535">fn</span><span class="op" id="7964537">,</span>&nbsp;<span class="ident" id="7964539">tn</span><span class="op" id="7964541">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964550">for</span>&nbsp;<span class="ident" id="7964554">i</span><span class="op" id="7964555">,</span>&nbsp;<span class="ident" id="7964557">sh</span>&nbsp;<span class="op" id="7964560">:=</span>&nbsp;<span class="keyword" id="7964563">range</span>&nbsp;<span class="ident" id="7964569">f</span><span class="op" id="7964570">.</span><span class="ident" id="7964571">Sections</span>&nbsp;<span class="op" id="7964580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964585">if</span>&nbsp;<span class="ident" id="7964588">i</span>&nbsp;<span class="op" id="7964590">&gt;=</span>&nbsp;<span class="builtinfunc" id="7964593">len</span><span class="op" id="7964596">(</span><span class="ident" id="7964597">tt</span><span class="op" id="7964599">.</span><span class="ident" id="7964600">sections</span><span class="op" id="7964608">)</span>&nbsp;<span class="op" id="7964610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964616">break</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964625">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964630">have</span>&nbsp;<span class="op" id="7964635">:=</span>&nbsp;<span class="op" id="7964638">&amp;</span><span class="ident" id="7964639">sh</span><span class="op" id="7964641">.</span><span class="ident" id="7964642">SectionHeader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964659">want</span>&nbsp;<span class="op" id="7964664">:=</span>&nbsp;<span class="ident" id="7964667">tt</span><span class="op" id="7964669">.</span><span class="ident" id="7964670">sections</span><span class="op" id="7964678">[</span><span class="ident" id="7964679">i</span><span class="op" id="7964680">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964685">if</span>&nbsp;<span class="op" id="7964688">!</span><span class="ident" id="7964689">reflect</span><span class="op" id="7964696">.</span><span class="ident" id="7964697">DeepEqual</span><span class="op" id="7964706">(</span><span class="ident" id="7964707">have</span><span class="op" id="7964711">,</span>&nbsp;<span class="ident" id="7964713">want</span><span class="op" id="7964717">)</span>&nbsp;<span class="op" id="7964719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964725">t</span><span class="op" id="7964726">.</span><span class="ident" id="7964727">Errorf</span><span class="op" id="7964733">(</span><span class="string" id="7964734">&#34;open&nbsp;%s,&nbsp;section&nbsp;%d:\n\thave&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7964782">,</span>&nbsp;<span class="ident" id="7964784">tt</span><span class="op" id="7964786">.</span><span class="ident" id="7964787">file</span><span class="op" id="7964791">,</span>&nbsp;<span class="ident" id="7964793">i</span><span class="op" id="7964794">,</span>&nbsp;<span class="ident" id="7964796">have</span><span class="op" id="7964800">,</span>&nbsp;<span class="ident" id="7964802">want</span><span class="op" id="7964806">)</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964815">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964819">tn</span>&nbsp;<span class="op" id="7964822">=</span>&nbsp;<span class="builtinfunc" id="7964824">len</span><span class="op" id="7964827">(</span><span class="ident" id="7964828">tt</span><span class="op" id="7964830">.</span><span class="ident" id="7964831">sections</span><span class="op" id="7964839">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964843">fn</span>&nbsp;<span class="op" id="7964846">=</span>&nbsp;<span class="builtinfunc" id="7964848">len</span><span class="op" id="7964851">(</span><span class="ident" id="7964852">f</span><span class="op" id="7964853">.</span><span class="ident" id="7964854">Sections</span><span class="op" id="7964862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7964866">if</span>&nbsp;<span class="ident" id="7964869">tn</span>&nbsp;<span class="op" id="7964872">!=</span>&nbsp;<span class="ident" id="7964875">fn</span>&nbsp;<span class="op" id="7964878">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964883">t</span><span class="op" id="7964884">.</span><span class="ident" id="7964885">Errorf</span><span class="op" id="7964891">(</span><span class="string" id="7964892">&#34;open&nbsp;%s:&nbsp;len(Sections)&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="7964930">,</span>&nbsp;<span class="ident" id="7964932">tt</span><span class="op" id="7964934">.</span><span class="ident" id="7964935">file</span><span class="op" id="7964939">,</span>&nbsp;<span class="ident" id="7964941">fn</span><span class="op" id="7964943">,</span>&nbsp;<span class="ident" id="7964945">tn</span><span class="op" id="7964947">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964951">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7964955">}</span><br>
<span class="lineno"></span><span class="op" id="7964957">}</span><br>
<span class="lineno">160</span><br>
<span class="lineno"></span><span class="keyword" id="7964960">func</span>&nbsp;<span class="ident" id="7964965">TestOpenFailure</span><span class="op" id="7964980">(</span><span class="ident" id="7964981">t</span>&nbsp;<span class="op" id="7964983">*</span><span class="ident" id="7964984">testing</span><span class="op" id="7964991">.</span><span class="ident" id="7964992">T</span><span class="op" id="7964993">)</span>&nbsp;<span class="op" id="7964995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7964998">filename</span>&nbsp;<span class="op" id="7965007">:=</span>&nbsp;<span class="string" id="7965010">&#34;file.go&#34;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="7965023">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965045">_</span><span class="op" id="7965046">,</span>&nbsp;<span class="ident" id="7965048">err</span>&nbsp;<span class="op" id="7965052">:=</span>&nbsp;<span class="ident" id="7965055">Open</span><span class="op" id="7965059">(</span><span class="ident" id="7965060">filename</span><span class="op" id="7965068">)</span>&nbsp;<span class="comment" id="7965070">//&nbsp;don&#39;t&nbsp;crash</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965086">if</span>&nbsp;<span class="ident" id="7965089">err</span>&nbsp;<span class="op" id="7965093">==</span>&nbsp;<span class="ident" id="7965096">nil</span>&nbsp;<span class="op" id="7965100">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965104">t</span><span class="op" id="7965105">.</span><span class="ident" id="7965106">Errorf</span><span class="op" id="7965112">(</span><span class="string" id="7965113">&#34;open&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7965146">,</span>&nbsp;<span class="ident" id="7965148">filename</span><span class="op" id="7965156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965159">}</span><br>
<span class="lineno"></span><span class="op" id="7965161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7965164">func</span>&nbsp;<span class="ident" id="7965169">TestOpenFat</span><span class="op" id="7965180">(</span><span class="ident" id="7965181">t</span>&nbsp;<span class="op" id="7965183">*</span><span class="ident" id="7965184">testing</span><span class="op" id="7965191">.</span><span class="ident" id="7965192">T</span><span class="op" id="7965193">)</span>&nbsp;<span class="op" id="7965195">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965198">ff</span><span class="op" id="7965200">,</span>&nbsp;<span class="ident" id="7965202">err</span>&nbsp;<span class="op" id="7965206">:=</span>&nbsp;<span class="ident" id="7965209">OpenFat</span><span class="op" id="7965216">(</span><span class="string" id="7965217">&#34;testdata/fat-gcc-386-amd64-darwin-exec&#34;</span><span class="op" id="7965257">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965260">if</span>&nbsp;<span class="ident" id="7965263">err</span>&nbsp;<span class="op" id="7965267">!=</span>&nbsp;<span class="ident" id="7965270">nil</span>&nbsp;<span class="op" id="7965274">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965278">t</span><span class="op" id="7965279">.</span><span class="ident" id="7965280">Fatal</span><span class="op" id="7965285">(</span><span class="ident" id="7965286">err</span><span class="op" id="7965289">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965296">if</span>&nbsp;<span class="ident" id="7965299">ff</span><span class="op" id="7965301">.</span><span class="ident" id="7965302">Magic</span>&nbsp;<span class="op" id="7965308">!=</span>&nbsp;<span class="ident" id="7965311">MagicFat</span>&nbsp;<span class="op" id="7965320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965324">t</span><span class="op" id="7965325">.</span><span class="ident" id="7965326">Errorf</span><span class="op" id="7965332">(</span><span class="string" id="7965333">&#34;OpenFat:&nbsp;got&nbsp;magic&nbsp;number&nbsp;%#x,&nbsp;want&nbsp;%#x&#34;</span><span class="op" id="7965374">,</span>&nbsp;<span class="ident" id="7965376">ff</span><span class="op" id="7965378">.</span><span class="ident" id="7965379">Magic</span><span class="op" id="7965384">,</span>&nbsp;<span class="ident" id="7965386">MagicFat</span><span class="op" id="7965394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965400">if</span>&nbsp;<span class="builtinfunc" id="7965403">len</span><span class="op" id="7965406">(</span><span class="ident" id="7965407">ff</span><span class="op" id="7965409">.</span><span class="ident" id="7965410">Arches</span><span class="op" id="7965416">)</span>&nbsp;<span class="op" id="7965418">!=</span>&nbsp;<span class="num" id="7965421">2</span>&nbsp;<span class="op" id="7965423">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965427">t</span><span class="op" id="7965428">.</span><span class="ident" id="7965429">Errorf</span><span class="op" id="7965435">(</span><span class="string" id="7965436">&#34;OpenFat:&nbsp;got&nbsp;%d&nbsp;architectures,&nbsp;want&nbsp;2&#34;</span><span class="op" id="7965475">,</span>&nbsp;<span class="builtinfunc" id="7965477">len</span><span class="op" id="7965480">(</span><span class="ident" id="7965481">ff</span><span class="op" id="7965483">.</span><span class="ident" id="7965484">Arches</span><span class="op" id="7965490">)</span><span class="op" id="7965491">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965498">for</span>&nbsp;<span class="ident" id="7965502">i</span>&nbsp;<span class="op" id="7965504">:=</span>&nbsp;<span class="keyword" id="7965507">range</span>&nbsp;<span class="ident" id="7965513">ff</span><span class="op" id="7965515">.</span><span class="ident" id="7965516">Arches</span>&nbsp;<span class="op" id="7965523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965527">arch</span>&nbsp;<span class="op" id="7965532">:=</span>&nbsp;<span class="op" id="7965535">&amp;</span><span class="ident" id="7965536">ff</span><span class="op" id="7965538">.</span><span class="ident" id="7965539">Arches</span><span class="op" id="7965545">[</span><span class="ident" id="7965546">i</span><span class="op" id="7965547">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965551">ftArch</span>&nbsp;<span class="op" id="7965558">:=</span>&nbsp;<span class="op" id="7965561">&amp;</span><span class="ident" id="7965562">fileTests</span><span class="op" id="7965571">[</span><span class="ident" id="7965572">i</span><span class="op" id="7965573">]</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965578">if</span>&nbsp;<span class="ident" id="7965581">arch</span><span class="op" id="7965585">.</span><span class="ident" id="7965586">Cpu</span>&nbsp;<span class="op" id="7965590">!=</span>&nbsp;<span class="ident" id="7965593">ftArch</span><span class="op" id="7965599">.</span><span class="ident" id="7965600">hdr</span><span class="op" id="7965603">.</span><span class="ident" id="7965604">Cpu</span>&nbsp;<span class="op" id="7965608">||</span>&nbsp;<span class="ident" id="7965611">arch</span><span class="op" id="7965615">.</span><span class="ident" id="7965616">SubCpu</span>&nbsp;<span class="op" id="7965623">!=</span>&nbsp;<span class="ident" id="7965626">ftArch</span><span class="op" id="7965632">.</span><span class="ident" id="7965633">hdr</span><span class="op" id="7965636">.</span><span class="ident" id="7965637">SubCpu</span>&nbsp;<span class="op" id="7965644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965649">t</span><span class="op" id="7965650">.</span><span class="ident" id="7965651">Errorf</span><span class="op" id="7965657">(</span><span class="string" id="7965658">&#34;OpenFat:&nbsp;architecture&nbsp;#%d&nbsp;got&nbsp;cpu=%#x&nbsp;subtype=%#x,&nbsp;expected&nbsp;cpu=%#x,&nbsp;subtype=%#x&#34;</span><span class="op" id="7965740">,</span>&nbsp;<span class="ident" id="7965742">i</span><span class="op" id="7965743">,</span>&nbsp;<span class="ident" id="7965745">arch</span><span class="op" id="7965749">.</span><span class="ident" id="7965750">Cpu</span><span class="op" id="7965753">,</span>&nbsp;<span class="ident" id="7965755">arch</span><span class="op" id="7965759">.</span><span class="ident" id="7965760">SubCpu</span><span class="op" id="7965766">,</span>&nbsp;<span class="ident" id="7965768">ftArch</span><span class="op" id="7965774">.</span><span class="ident" id="7965775">hdr</span><span class="op" id="7965778">.</span><span class="ident" id="7965779">Cpu</span><span class="op" id="7965782">,</span>&nbsp;<span class="ident" id="7965784">ftArch</span><span class="op" id="7965790">.</span><span class="ident" id="7965791">hdr</span><span class="op" id="7965794">.</span><span class="ident" id="7965795">SubCpu</span><span class="op" id="7965801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7965810">if</span>&nbsp;<span class="op" id="7965813">!</span><span class="ident" id="7965814">reflect</span><span class="op" id="7965821">.</span><span class="ident" id="7965822">DeepEqual</span><span class="op" id="7965831">(</span><span class="ident" id="7965832">arch</span><span class="op" id="7965836">.</span><span class="ident" id="7965837">FileHeader</span><span class="op" id="7965847">,</span>&nbsp;<span class="ident" id="7965849">ftArch</span><span class="op" id="7965855">.</span><span class="ident" id="7965856">hdr</span><span class="op" id="7965859">)</span>&nbsp;<span class="op" id="7965861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965866">t</span><span class="op" id="7965867">.</span><span class="ident" id="7965868">Errorf</span><span class="op" id="7965874">(</span><span class="string" id="7965875">&#34;OpenFat&nbsp;header:\n\tgot&nbsp;%#v\n\twant&nbsp;%#v\n&#34;</span><span class="op" id="7965917">,</span>&nbsp;<span class="ident" id="7965919">arch</span><span class="op" id="7965923">.</span><span class="ident" id="7965924">FileHeader</span><span class="op" id="7965934">,</span>&nbsp;<span class="ident" id="7965936">ftArch</span><span class="op" id="7965942">.</span><span class="ident" id="7965943">hdr</span><span class="op" id="7965946">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7965953">}</span><br>
<span class="lineno"></span><span class="op" id="7965955">}</span><br>
<span class="lineno">195</span><br>
<span class="lineno"></span><span class="keyword" id="7965958">func</span>&nbsp;<span class="ident" id="7965963">TestOpenFatFailure</span><span class="op" id="7965981">(</span><span class="ident" id="7965982">t</span>&nbsp;<span class="op" id="7965984">*</span><span class="ident" id="7965985">testing</span><span class="op" id="7965992">.</span><span class="ident" id="7965993">T</span><span class="op" id="7965994">)</span>&nbsp;<span class="op" id="7965996">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7965999">filename</span>&nbsp;<span class="op" id="7966008">:=</span>&nbsp;<span class="string" id="7966011">&#34;file.go&#34;</span>&nbsp;<span class="comment" id="7966021">//&nbsp;not&nbsp;a&nbsp;Mach-O&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966043">if</span>&nbsp;<span class="ident" id="7966046">_</span><span class="op" id="7966047">,</span>&nbsp;<span class="ident" id="7966049">err</span>&nbsp;<span class="op" id="7966053">:=</span>&nbsp;<span class="ident" id="7966056">OpenFat</span><span class="op" id="7966063">(</span><span class="ident" id="7966064">filename</span><span class="op" id="7966072">)</span><span class="op" id="7966073">;</span>&nbsp;<span class="ident" id="7966075">err</span>&nbsp;<span class="op" id="7966079">==</span>&nbsp;<span class="ident" id="7966082">nil</span>&nbsp;<span class="op" id="7966086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966090">t</span><span class="op" id="7966091">.</span><span class="ident" id="7966092">Errorf</span><span class="op" id="7966098">(</span><span class="string" id="7966099">&#34;OpenFat&nbsp;%s:&nbsp;succeeded&nbsp;unexpectedly&#34;</span><span class="op" id="7966135">,</span>&nbsp;<span class="ident" id="7966137">filename</span><span class="op" id="7966145">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966152">filename</span>&nbsp;<span class="op" id="7966161">=</span>&nbsp;<span class="string" id="7966163">&#34;testdata/gcc-386-darwin-exec&#34;</span>&nbsp;<span class="comment" id="7966194">//&nbsp;not&nbsp;a&nbsp;fat&nbsp;Mach-O</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966215">ff</span><span class="op" id="7966217">,</span>&nbsp;<span class="ident" id="7966219">err</span>&nbsp;<span class="op" id="7966223">:=</span>&nbsp;<span class="ident" id="7966226">OpenFat</span><span class="op" id="7966233">(</span><span class="ident" id="7966234">filename</span><span class="op" id="7966242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966245">if</span>&nbsp;<span class="ident" id="7966248">err</span>&nbsp;<span class="op" id="7966252">!=</span>&nbsp;<span class="ident" id="7966255">ErrNotFat</span>&nbsp;<span class="op" id="7966265">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966269">t</span><span class="op" id="7966270">.</span><span class="ident" id="7966271">Errorf</span><span class="op" id="7966277">(</span><span class="string" id="7966278">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;ErrNotFat&#34;</span><span class="op" id="7966314">,</span>&nbsp;<span class="ident" id="7966316">filename</span><span class="op" id="7966324">,</span>&nbsp;<span class="ident" id="7966326">err</span><span class="op" id="7966329">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7966335">if</span>&nbsp;<span class="ident" id="7966338">ff</span>&nbsp;<span class="op" id="7966341">!=</span>&nbsp;<span class="ident" id="7966344">nil</span>&nbsp;<span class="op" id="7966348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7966352">t</span><span class="op" id="7966353">.</span><span class="ident" id="7966354">Errorf</span><span class="op" id="7966360">(</span><span class="string" id="7966361">&#34;OpenFat&nbsp;%s:&nbsp;got&nbsp;%v,&nbsp;want&nbsp;nil&#34;</span><span class="op" id="7966391">,</span>&nbsp;<span class="ident" id="7966393">filename</span><span class="op" id="7966401">,</span>&nbsp;<span class="ident" id="7966403">ff</span><span class="op" id="7966405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7966408">}</span><br>
<span class="lineno">210</span><span class="op" id="7966410">}</span>
</div>
</body>
</html>
