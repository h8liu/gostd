<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>encoding/xml</h2>
<ul>
<li><a href="/gostd/encoding/xml/atom_test.go.html">atom_test.go</a></li>
<li><a href="/gostd/encoding/xml/example_test.go.html" class="current">example_test.go</a></li>
<li><a href="/gostd/encoding/xml/marshal.go.html">marshal.go</a></li>
<li><a href="/gostd/encoding/xml/marshal_test.go.html">marshal_test.go</a></li>
<li><a href="/gostd/encoding/xml/read.go.html">read.go</a></li>
<li><a href="/gostd/encoding/xml/read_test.go.html">read_test.go</a></li>
<li><a href="/gostd/encoding/xml/typeinfo.go.html">typeinfo.go</a></li>
<li><a href="/gostd/encoding/xml/xml.go.html">xml.go</a></li>
<li><a href="/gostd/encoding/xml/xml_test.go.html">xml_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="176222">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="176278">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="176332">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="176383">package</span>&nbsp;<span class="ident" id="176391">xml_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="176401">import</span>&nbsp;<span class="op" id="176408">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="176411">&#34;encoding/xml&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="176427">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="176434">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="176439">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="176442">func</span>&nbsp;<span class="ident" id="176447">ExampleMarshalIndent</span><span class="op" id="176467">(</span><span class="op" id="176468">)</span>&nbsp;<span class="op" id="176470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="176473">type</span>&nbsp;<span class="ident" id="176478">Address</span>&nbsp;<span class="keyword" id="176486">struct</span>&nbsp;<span class="op" id="176493">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176497">City</span><span class="op" id="176501">,</span>&nbsp;<span class="ident" id="176503">State</span>&nbsp;<span class="builtintype" id="176509">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="176517">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="176520">type</span>&nbsp;<span class="ident" id="176525">Person</span>&nbsp;<span class="keyword" id="176532">struct</span>&nbsp;<span class="op" id="176539">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176543">XMLName</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="176553">xml</span><span class="op" id="176556">.</span><span class="ident" id="176557">Name</span>&nbsp;<span class="string" id="176562">`xml:&#34;person&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176579">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="176589">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="176598">`xml:&#34;id,attr&#34;`</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176616">FirstName</span>&nbsp;<span class="builtintype" id="176626">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="176635">`xml:&#34;name&gt;first&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176656">LastName</span>&nbsp;&nbsp;<span class="builtintype" id="176666">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="176675">`xml:&#34;name&gt;last&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176695">Age</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="176705">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="176714">`xml:&#34;age&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176728">Height</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="176738">float32</span>&nbsp;&nbsp;<span class="string" id="176747">`xml:&#34;height,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176774">Married</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="176784">bool</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176791">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176801">Comment</span>&nbsp;<span class="builtintype" id="176809">string</span>&nbsp;<span class="string" id="176816">`xml:&#34;,comment&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="176834">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176838">v</span>&nbsp;<span class="op" id="176840">:=</span>&nbsp;<span class="op" id="176843">&amp;</span><span class="ident" id="176844">Person</span><span class="op" id="176850">{</span><span class="ident" id="176851">Id</span><span class="op" id="176853">:</span>&nbsp;<span class="num" id="176855">13</span><span class="op" id="176857">,</span>&nbsp;<span class="ident" id="176859">FirstName</span><span class="op" id="176868">:</span>&nbsp;<span class="string" id="176870">&#34;John&#34;</span><span class="op" id="176876">,</span>&nbsp;<span class="ident" id="176878">LastName</span><span class="op" id="176886">:</span>&nbsp;<span class="string" id="176888">&#34;Doe&#34;</span><span class="op" id="176893">,</span>&nbsp;<span class="ident" id="176895">Age</span><span class="op" id="176898">:</span>&nbsp;<span class="num" id="176900">42</span><span class="op" id="176902">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176905">v</span><span class="op" id="176906">.</span><span class="ident" id="176907">Comment</span>&nbsp;<span class="op" id="176915">=</span>&nbsp;<span class="string" id="176917">&#34;&nbsp;Need&nbsp;more&nbsp;details.&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176941">v</span><span class="op" id="176942">.</span><span class="ident" id="176943">Address</span>&nbsp;<span class="op" id="176951">=</span>&nbsp;<span class="ident" id="176953">Address</span><span class="op" id="176960">{</span><span class="string" id="176961">&#34;Hanga&nbsp;Roa&#34;</span><span class="op" id="176972">,</span>&nbsp;<span class="string" id="176974">&#34;Easter&nbsp;Island&#34;</span><span class="op" id="176989">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="176993">output</span><span class="op" id="176999">,</span>&nbsp;<span class="ident" id="177001">err</span>&nbsp;<span class="op" id="177005">:=</span>&nbsp;<span class="ident" id="177008">xml</span><span class="op" id="177011">.</span><span class="ident" id="177012">MarshalIndent</span><span class="op" id="177025">(</span><span class="ident" id="177026">v</span><span class="op" id="177027">,</span>&nbsp;<span class="string" id="177029">&#34;&nbsp;&nbsp;&#34;</span><span class="op" id="177033">,</span>&nbsp;<span class="string" id="177035">&#34;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="177041">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="177044">if</span>&nbsp;<span class="ident" id="177047">err</span>&nbsp;<span class="op" id="177051">!=</span>&nbsp;<span class="builtintype" id="177054">nil</span>&nbsp;<span class="op" id="177058">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177062">fmt</span><span class="op" id="177065">.</span><span class="ident" id="177066">Printf</span><span class="op" id="177072">(</span><span class="string" id="177073">&#34;error:&nbsp;%v\n&#34;</span><span class="op" id="177086">,</span>&nbsp;<span class="ident" id="177088">err</span><span class="op" id="177091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="177094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177098">os</span><span class="op" id="177100">.</span><span class="ident" id="177101">Stdout</span><span class="op" id="177107">.</span><span class="ident" id="177108">Write</span><span class="op" id="177113">(</span><span class="ident" id="177114">output</span><span class="op" id="177120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177123">//&nbsp;Output:</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177135">//&nbsp;&nbsp;&nbsp;&lt;person&nbsp;id=&#34;13&#34;&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177158">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177175">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;first&gt;John&lt;/first&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177209">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;last&gt;Doe&lt;/last&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177240">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/name&gt;</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177258">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;age&gt;42&lt;/age&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177282">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Married&gt;false&lt;/Married&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177317">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;City&gt;Hanga&nbsp;Roa&lt;/City&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177350">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;State&gt;Easter&nbsp;Island&lt;/State&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177389">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;Need&nbsp;more&nbsp;details.&nbsp;--&gt;</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="177427">//&nbsp;&nbsp;&nbsp;&lt;/person&gt;</span><br>
<span class="lineno"></span><span class="op" id="177442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="177445">func</span>&nbsp;<span class="ident" id="177450">ExampleEncoder</span><span class="op" id="177464">(</span><span class="op" id="177465">)</span>&nbsp;<span class="op" id="177467">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="177470">type</span>&nbsp;<span class="ident" id="177475">Address</span>&nbsp;<span class="keyword" id="177483">struct</span>&nbsp;<span class="op" id="177490">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177494">City</span><span class="op" id="177498">,</span>&nbsp;<span class="ident" id="177500">State</span>&nbsp;<span class="builtintype" id="177506">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="177514">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="177517">type</span>&nbsp;<span class="ident" id="177522">Person</span>&nbsp;<span class="keyword" id="177529">struct</span>&nbsp;<span class="op" id="177536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177540">XMLName</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="177550">xml</span><span class="op" id="177553">.</span><span class="ident" id="177554">Name</span>&nbsp;<span class="string" id="177559">`xml:&#34;person&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177576">Id</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="177586">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="177595">`xml:&#34;id,attr&#34;`</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177613">FirstName</span>&nbsp;<span class="builtintype" id="177623">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="177632">`xml:&#34;name&gt;first&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177653">LastName</span>&nbsp;&nbsp;<span class="builtintype" id="177663">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="177672">`xml:&#34;name&gt;last&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177692">Age</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="177702">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="177711">`xml:&#34;age&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177725">Height</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="177735">float32</span>&nbsp;&nbsp;<span class="string" id="177744">`xml:&#34;height,omitempty&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177771">Married</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="177781">bool</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177788">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177798">Comment</span>&nbsp;<span class="builtintype" id="177806">string</span>&nbsp;<span class="string" id="177813">`xml:&#34;,comment&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="177831">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177835">v</span>&nbsp;<span class="op" id="177837">:=</span>&nbsp;<span class="op" id="177840">&amp;</span><span class="ident" id="177841">Person</span><span class="op" id="177847">{</span><span class="ident" id="177848">Id</span><span class="op" id="177850">:</span>&nbsp;<span class="num" id="177852">13</span><span class="op" id="177854">,</span>&nbsp;<span class="ident" id="177856">FirstName</span><span class="op" id="177865">:</span>&nbsp;<span class="string" id="177867">&#34;John&#34;</span><span class="op" id="177873">,</span>&nbsp;<span class="ident" id="177875">LastName</span><span class="op" id="177883">:</span>&nbsp;<span class="string" id="177885">&#34;Doe&#34;</span><span class="op" id="177890">,</span>&nbsp;<span class="ident" id="177892">Age</span><span class="op" id="177895">:</span>&nbsp;<span class="num" id="177897">42</span><span class="op" id="177899">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177902">v</span><span class="op" id="177903">.</span><span class="ident" id="177904">Comment</span>&nbsp;<span class="op" id="177912">=</span>&nbsp;<span class="string" id="177914">&#34;&nbsp;Need&nbsp;more&nbsp;details.&nbsp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177938">v</span><span class="op" id="177939">.</span><span class="ident" id="177940">Address</span>&nbsp;<span class="op" id="177948">=</span>&nbsp;<span class="ident" id="177950">Address</span><span class="op" id="177957">{</span><span class="string" id="177958">&#34;Hanga&nbsp;Roa&#34;</span><span class="op" id="177969">,</span>&nbsp;<span class="string" id="177971">&#34;Easter&nbsp;Island&#34;</span><span class="op" id="177986">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="177990">enc</span>&nbsp;<span class="op" id="177994">:=</span>&nbsp;<span class="ident" id="177997">xml</span><span class="op" id="178000">.</span><span class="ident" id="178001">NewEncoder</span><span class="op" id="178011">(</span><span class="ident" id="178012">os</span><span class="op" id="178014">.</span><span class="ident" id="178015">Stdout</span><span class="op" id="178021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178024">enc</span><span class="op" id="178027">.</span><span class="ident" id="178028">Indent</span><span class="op" id="178034">(</span><span class="string" id="178035">&#34;&nbsp;&nbsp;&#34;</span><span class="op" id="178039">,</span>&nbsp;<span class="string" id="178041">&#34;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="178047">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="178050">if</span>&nbsp;<span class="ident" id="178053">err</span>&nbsp;<span class="op" id="178057">:=</span>&nbsp;<span class="ident" id="178060">enc</span><span class="op" id="178063">.</span><span class="ident" id="178064">Encode</span><span class="op" id="178070">(</span><span class="ident" id="178071">v</span><span class="op" id="178072">)</span><span class="op" id="178073">;</span>&nbsp;<span class="ident" id="178075">err</span>&nbsp;<span class="op" id="178079">!=</span>&nbsp;<span class="builtintype" id="178082">nil</span>&nbsp;<span class="op" id="178086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178090">fmt</span><span class="op" id="178093">.</span><span class="ident" id="178094">Printf</span><span class="op" id="178100">(</span><span class="string" id="178101">&#34;error:&nbsp;%v\n&#34;</span><span class="op" id="178114">,</span>&nbsp;<span class="ident" id="178116">err</span><span class="op" id="178119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="178122">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178126">//&nbsp;Output:</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178138">//&nbsp;&nbsp;&nbsp;&lt;person&nbsp;id=&#34;13&#34;&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178161">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;name&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178178">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;first&gt;John&lt;/first&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178212">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;last&gt;Doe&lt;/last&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178243">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/name&gt;</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178261">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;age&gt;42&lt;/age&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178285">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Married&gt;false&lt;/Married&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178320">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;City&gt;Hanga&nbsp;Roa&lt;/City&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178353">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;State&gt;Easter&nbsp;Island&lt;/State&gt;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178392">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;!--&nbsp;Need&nbsp;more&nbsp;details.&nbsp;--&gt;</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="178430">//&nbsp;&nbsp;&nbsp;&lt;/person&gt;</span><br>
<span class="lineno"></span><span class="op" id="178445">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="178448">//&nbsp;This&nbsp;example&nbsp;demonstrates&nbsp;unmarshaling&nbsp;an&nbsp;XML&nbsp;excerpt&nbsp;into&nbsp;a&nbsp;value&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="178523">//&nbsp;some&nbsp;preset&nbsp;fields.&nbsp;Note&nbsp;that&nbsp;the&nbsp;Phone&nbsp;field&nbsp;isn&#39;t&nbsp;modified&nbsp;and&nbsp;that</span><br>
<span class="lineno">95</span><span class="comment" id="178596">//&nbsp;the&nbsp;XML&nbsp;&lt;Company&gt;&nbsp;element&nbsp;is&nbsp;ignored.&nbsp;Also,&nbsp;the&nbsp;Groups&nbsp;field&nbsp;is&nbsp;assigned</span><br>
<span class="lineno"></span><span class="comment" id="178672">//&nbsp;considering&nbsp;the&nbsp;element&nbsp;path&nbsp;provided&nbsp;in&nbsp;its&nbsp;tag.</span><br>
<span class="lineno"></span><span class="keyword" id="178725">func</span>&nbsp;<span class="ident" id="178730">ExampleUnmarshal</span><span class="op" id="178746">(</span><span class="op" id="178747">)</span>&nbsp;<span class="op" id="178749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="178752">type</span>&nbsp;<span class="ident" id="178757">Email</span>&nbsp;<span class="keyword" id="178763">struct</span>&nbsp;<span class="op" id="178770">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178774">Where</span>&nbsp;<span class="builtintype" id="178780">string</span>&nbsp;<span class="string" id="178787">`xml:&#34;where,attr&#34;`</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178808">Addr</span>&nbsp;&nbsp;<span class="builtintype" id="178814">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="178822">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="178825">type</span>&nbsp;<span class="ident" id="178830">Address</span>&nbsp;<span class="keyword" id="178838">struct</span>&nbsp;<span class="op" id="178845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178849">City</span><span class="op" id="178853">,</span>&nbsp;<span class="ident" id="178855">State</span>&nbsp;<span class="builtintype" id="178861">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="178869">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="178872">type</span>&nbsp;<span class="ident" id="178877">Result</span>&nbsp;<span class="keyword" id="178884">struct</span>&nbsp;<span class="op" id="178891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178895">XMLName</span>&nbsp;<span class="ident" id="178903">xml</span><span class="op" id="178906">.</span><span class="ident" id="178907">Name</span>&nbsp;<span class="string" id="178912">`xml:&#34;Person&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178929">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="178937">string</span>&nbsp;&nbsp;&nbsp;<span class="string" id="178946">`xml:&#34;FullName&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178965">Phone</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="178973">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="178982">Email</span>&nbsp;&nbsp;&nbsp;<span class="op" id="178990">[</span><span class="op" id="178991">]</span><span class="ident" id="178992">Email</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179000">Groups</span>&nbsp;&nbsp;<span class="op" id="179008">[</span><span class="op" id="179009">]</span><span class="builtintype" id="179010">string</span>&nbsp;<span class="string" id="179017">`xml:&#34;Group&gt;Value&#34;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179039">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="179048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179051">v</span>&nbsp;<span class="op" id="179053">:=</span>&nbsp;<span class="ident" id="179056">Result</span><span class="op" id="179062">{</span><span class="ident" id="179063">Name</span><span class="op" id="179067">:</span>&nbsp;<span class="string" id="179069">&#34;none&#34;</span><span class="op" id="179075">,</span>&nbsp;<span class="ident" id="179077">Phone</span><span class="op" id="179082">:</span>&nbsp;<span class="string" id="179084">&#34;none&#34;</span><span class="op" id="179090">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179094">data</span>&nbsp;<span class="op" id="179099">:=</span>&nbsp;<span class="string" id="179102">`<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Person&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;FullName&gt;Grace&nbsp;R.&nbsp;Emlin&lt;/FullName&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Company&gt;Example&nbsp;Inc.&lt;/Company&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Email&nbsp;where=&#34;home&#34;&gt;<br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Addr&gt;gre@example.com&lt;/Addr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Email&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Email&nbsp;where=&#39;work&#39;&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Addr&gt;gre@work.com&lt;/Addr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Email&gt;<br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Group&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;Friends&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Value&gt;Squash&lt;/Value&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Group&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;City&gt;Hanga&nbsp;Roa&lt;/City&gt;<br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;State&gt;Easter&nbsp;Island&lt;/State&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/Person&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;`</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179474">err</span>&nbsp;<span class="op" id="179478">:=</span>&nbsp;<span class="ident" id="179481">xml</span><span class="op" id="179484">.</span><span class="ident" id="179485">Unmarshal</span><span class="op" id="179494">(</span><span class="op" id="179495">[</span><span class="op" id="179496">]</span><span class="builtintype" id="179497">byte</span><span class="op" id="179501">(</span><span class="ident" id="179502">data</span><span class="op" id="179506">)</span><span class="op" id="179507">,</span>&nbsp;<span class="op" id="179509">&amp;</span><span class="ident" id="179510">v</span><span class="op" id="179511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="179514">if</span>&nbsp;<span class="ident" id="179517">err</span>&nbsp;<span class="op" id="179521">!=</span>&nbsp;<span class="builtintype" id="179524">nil</span>&nbsp;<span class="op" id="179528">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179532">fmt</span><span class="op" id="179535">.</span><span class="ident" id="179536">Printf</span><span class="op" id="179542">(</span><span class="string" id="179543">&#34;error:&nbsp;%v&#34;</span><span class="op" id="179554">,</span>&nbsp;<span class="ident" id="179556">err</span><span class="op" id="179559">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="179563">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="179571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179574">fmt</span><span class="op" id="179577">.</span><span class="ident" id="179578">Printf</span><span class="op" id="179584">(</span><span class="string" id="179585">&#34;XMLName:&nbsp;%#v\n&#34;</span><span class="op" id="179601">,</span>&nbsp;<span class="ident" id="179603">v</span><span class="op" id="179604">.</span><span class="ident" id="179605">XMLName</span><span class="op" id="179612">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179615">fmt</span><span class="op" id="179618">.</span><span class="ident" id="179619">Printf</span><span class="op" id="179625">(</span><span class="string" id="179626">&#34;Name:&nbsp;%q\n&#34;</span><span class="op" id="179638">,</span>&nbsp;<span class="ident" id="179640">v</span><span class="op" id="179641">.</span><span class="ident" id="179642">Name</span><span class="op" id="179646">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179649">fmt</span><span class="op" id="179652">.</span><span class="ident" id="179653">Printf</span><span class="op" id="179659">(</span><span class="string" id="179660">&#34;Phone:&nbsp;%q\n&#34;</span><span class="op" id="179673">,</span>&nbsp;<span class="ident" id="179675">v</span><span class="op" id="179676">.</span><span class="ident" id="179677">Phone</span><span class="op" id="179682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179685">fmt</span><span class="op" id="179688">.</span><span class="ident" id="179689">Printf</span><span class="op" id="179695">(</span><span class="string" id="179696">&#34;Email:&nbsp;%v\n&#34;</span><span class="op" id="179709">,</span>&nbsp;<span class="ident" id="179711">v</span><span class="op" id="179712">.</span><span class="ident" id="179713">Email</span><span class="op" id="179718">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179721">fmt</span><span class="op" id="179724">.</span><span class="ident" id="179725">Printf</span><span class="op" id="179731">(</span><span class="string" id="179732">&#34;Groups:&nbsp;%v\n&#34;</span><span class="op" id="179746">,</span>&nbsp;<span class="ident" id="179748">v</span><span class="op" id="179749">.</span><span class="ident" id="179750">Groups</span><span class="op" id="179756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="179759">fmt</span><span class="op" id="179762">.</span><span class="ident" id="179763">Printf</span><span class="op" id="179769">(</span><span class="string" id="179770">&#34;Address:&nbsp;%v\n&#34;</span><span class="op" id="179785">,</span>&nbsp;<span class="ident" id="179787">v</span><span class="op" id="179788">.</span><span class="ident" id="179789">Address</span><span class="op" id="179796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179799">//&nbsp;Output:</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179811">//&nbsp;XMLName:&nbsp;xml.Name{Space:&#34;&#34;,&nbsp;Local:&#34;Person&#34;}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179859">//&nbsp;Name:&nbsp;&#34;Grace&nbsp;R.&nbsp;Emlin&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179886">//&nbsp;Phone:&nbsp;&#34;none&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179904">//&nbsp;Email:&nbsp;[{home&nbsp;gre@example.com}&nbsp;{work&nbsp;gre@work.com}]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179960">//&nbsp;Groups:&nbsp;[Friends&nbsp;Squash]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="179989">//&nbsp;Address:&nbsp;{Hanga&nbsp;Roa&nbsp;Easter&nbsp;Island}</span><br>
<span class="lineno"></span><span class="op" id="180027">}</span>
</div>
</body>
</html>
