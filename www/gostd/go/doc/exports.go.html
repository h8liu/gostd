<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html" class="current">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6012440">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6012495">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6012549">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6012600">//&nbsp;This&nbsp;file&nbsp;implements&nbsp;export&nbsp;filtering&nbsp;of&nbsp;an&nbsp;AST.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6012653">package</span>&nbsp;<span class="ident" id="6012661">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6012666">import</span>&nbsp;<span class="op" id="6012673">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6012676">&#34;go/ast&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6012686">&#34;go/token&#34;</span><br>
<span class="lineno"></span><span class="op" id="6012697">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6012700">//&nbsp;filterIdentList&nbsp;removes&nbsp;unexported&nbsp;names&nbsp;from&nbsp;list&nbsp;in&nbsp;place</span><br>
<span class="lineno">15</span><span class="comment" id="6012763">//&nbsp;and&nbsp;returns&nbsp;the&nbsp;resulting&nbsp;list.&nbsp;If&nbsp;blankOk&nbsp;is&nbsp;set,&nbsp;blank</span><br>
<span class="lineno"></span><span class="comment" id="6012823">//&nbsp;identifiers&nbsp;are&nbsp;considered&nbsp;exported&nbsp;names.</span><br>
<span class="lineno"></span><span class="comment" id="6012869">//</span><br>
<span class="lineno"></span><span class="keyword" id="6012872">func</span>&nbsp;<span class="ident" id="6012877">filterIdentList</span><span class="op" id="6012892">(</span><span class="ident" id="6012893">list</span>&nbsp;<span class="op" id="6012898">[</span><span class="op" id="6012899">]</span><span class="op" id="6012900">*</span><span class="ident" id="6012901">ast</span><span class="op" id="6012904">.</span><span class="ident" id="6012905">Ident</span><span class="op" id="6012910">,</span>&nbsp;<span class="ident" id="6012912">blankOk</span>&nbsp;<span class="builtintype" id="6012920">bool</span><span class="op" id="6012924">)</span>&nbsp;<span class="op" id="6012926">[</span><span class="op" id="6012927">]</span><span class="op" id="6012928">*</span><span class="ident" id="6012929">ast</span><span class="op" id="6012932">.</span><span class="ident" id="6012933">Ident</span>&nbsp;<span class="op" id="6012939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6012942">j</span>&nbsp;<span class="op" id="6012944">:=</span>&nbsp;<span class="num" id="6012947">0</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012950">for</span>&nbsp;<span class="ident" id="6012954">_</span><span class="op" id="6012955">,</span>&nbsp;<span class="ident" id="6012957">x</span>&nbsp;<span class="op" id="6012959">:=</span>&nbsp;<span class="keyword" id="6012962">range</span>&nbsp;<span class="ident" id="6012968">list</span>&nbsp;<span class="op" id="6012973">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6012977">if</span>&nbsp;<span class="ident" id="6012980">ast</span><span class="op" id="6012983">.</span><span class="ident" id="6012984">IsExported</span><span class="op" id="6012994">(</span><span class="ident" id="6012995">x</span><span class="op" id="6012996">.</span><span class="ident" id="6012997">Name</span><span class="op" id="6013001">)</span>&nbsp;<span class="op" id="6013003">||</span>&nbsp;<span class="op" id="6013006">(</span><span class="ident" id="6013007">blankOk</span>&nbsp;<span class="op" id="6013015">&amp;&amp;</span>&nbsp;<span class="ident" id="6013018">x</span><span class="op" id="6013019">.</span><span class="ident" id="6013020">Name</span>&nbsp;<span class="op" id="6013025">==</span>&nbsp;<span class="string" id="6013028">&#34;_&#34;</span><span class="op" id="6013031">)</span>&nbsp;<span class="op" id="6013033">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013038">list</span><span class="op" id="6013042">[</span><span class="ident" id="6013043">j</span><span class="op" id="6013044">]</span>&nbsp;<span class="op" id="6013046">=</span>&nbsp;<span class="ident" id="6013048">x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013053">j</span><span class="op" id="6013054">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013059">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013062">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013065">return</span>&nbsp;<span class="ident" id="6013072">list</span><span class="op" id="6013076">[</span><span class="num" id="6013077">0</span><span class="op" id="6013078">:</span><span class="ident" id="6013079">j</span><span class="op" id="6013080">]</span><br>
<span class="lineno"></span><span class="op" id="6013082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6013085">//&nbsp;removeErrorField&nbsp;removes&nbsp;anonymous&nbsp;fields&nbsp;named&nbsp;&#34;error&#34;&nbsp;from&nbsp;an&nbsp;interface.</span><br>
<span class="lineno">30</span><span class="comment" id="6013163">//&nbsp;This&nbsp;is&nbsp;called&nbsp;when&nbsp;&#34;error&#34;&nbsp;has&nbsp;been&nbsp;determined&nbsp;to&nbsp;be&nbsp;a&nbsp;local&nbsp;name,</span><br>
<span class="lineno"></span><span class="comment" id="6013234">//&nbsp;not&nbsp;the&nbsp;predeclared&nbsp;type.</span><br>
<span class="lineno"></span><span class="comment" id="6013263">//</span><br>
<span class="lineno"></span><span class="keyword" id="6013266">func</span>&nbsp;<span class="ident" id="6013271">removeErrorField</span><span class="op" id="6013287">(</span><span class="ident" id="6013288">ityp</span>&nbsp;<span class="op" id="6013293">*</span><span class="ident" id="6013294">ast</span><span class="op" id="6013297">.</span><span class="ident" id="6013298">InterfaceType</span><span class="op" id="6013311">)</span>&nbsp;<span class="op" id="6013313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013316">list</span>&nbsp;<span class="op" id="6013321">:=</span>&nbsp;<span class="ident" id="6013324">ityp</span><span class="op" id="6013328">.</span><span class="ident" id="6013329">Methods</span><span class="op" id="6013336">.</span><span class="ident" id="6013337">List</span>&nbsp;<span class="comment" id="6013342">//&nbsp;we&nbsp;know&nbsp;that&nbsp;ityp.Methods&nbsp;!=&nbsp;nil</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013379">j</span>&nbsp;<span class="op" id="6013381">:=</span>&nbsp;<span class="num" id="6013384">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013387">for</span>&nbsp;<span class="ident" id="6013391">_</span><span class="op" id="6013392">,</span>&nbsp;<span class="ident" id="6013394">field</span>&nbsp;<span class="op" id="6013400">:=</span>&nbsp;<span class="keyword" id="6013403">range</span>&nbsp;<span class="ident" id="6013409">list</span>&nbsp;<span class="op" id="6013414">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013418">keepField</span>&nbsp;<span class="op" id="6013428">:=</span>&nbsp;<span class="builtintype" id="6013431">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013438">if</span>&nbsp;<span class="ident" id="6013441">n</span>&nbsp;<span class="op" id="6013443">:=</span>&nbsp;<span class="builtinfunc" id="6013446">len</span><span class="op" id="6013449">(</span><span class="ident" id="6013450">field</span><span class="op" id="6013455">.</span><span class="ident" id="6013456">Names</span><span class="op" id="6013461">)</span><span class="op" id="6013462">;</span>&nbsp;<span class="ident" id="6013464">n</span>&nbsp;<span class="op" id="6013466">==</span>&nbsp;<span class="num" id="6013469">0</span>&nbsp;<span class="op" id="6013471">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6013476">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013498">if</span>&nbsp;<span class="ident" id="6013501">fname</span><span class="op" id="6013506">,</span>&nbsp;<span class="ident" id="6013508">_</span>&nbsp;<span class="op" id="6013510">:=</span>&nbsp;<span class="ident" id="6013513">baseTypeName</span><span class="op" id="6013525">(</span><span class="ident" id="6013526">field</span><span class="op" id="6013531">.</span><span class="ident" id="6013532">Type</span><span class="op" id="6013536">)</span><span class="op" id="6013537">;</span>&nbsp;<span class="ident" id="6013539">fname</span>&nbsp;<span class="op" id="6013545">==</span>&nbsp;<span class="string" id="6013548">&#34;error&#34;</span>&nbsp;<span class="op" id="6013556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013562">keepField</span>&nbsp;<span class="op" id="6013572">=</span>&nbsp;<span class="builtintype" id="6013574">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013583">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013587">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013591">if</span>&nbsp;<span class="ident" id="6013594">keepField</span>&nbsp;<span class="op" id="6013604">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013609">list</span><span class="op" id="6013613">[</span><span class="ident" id="6013614">j</span><span class="op" id="6013615">]</span>&nbsp;<span class="op" id="6013617">=</span>&nbsp;<span class="ident" id="6013619">field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013628">j</span><span class="op" id="6013629">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6013640">if</span>&nbsp;<span class="ident" id="6013643">j</span>&nbsp;<span class="op" id="6013645">&lt;</span>&nbsp;<span class="builtinfunc" id="6013647">len</span><span class="op" id="6013650">(</span><span class="ident" id="6013651">list</span><span class="op" id="6013655">)</span>&nbsp;<span class="op" id="6013657">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013661">ityp</span><span class="op" id="6013665">.</span><span class="ident" id="6013666">Incomplete</span>&nbsp;<span class="op" id="6013677">=</span>&nbsp;<span class="builtintype" id="6013679">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6013685">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6013688">ityp</span><span class="op" id="6013692">.</span><span class="ident" id="6013693">Methods</span><span class="op" id="6013700">.</span><span class="ident" id="6013701">List</span>&nbsp;<span class="op" id="6013706">=</span>&nbsp;<span class="ident" id="6013708">list</span><span class="op" id="6013712">[</span><span class="num" id="6013713">0</span><span class="op" id="6013714">:</span><span class="ident" id="6013715">j</span><span class="op" id="6013716">]</span><br>
<span class="lineno"></span><span class="op" id="6013718">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="6013721">//&nbsp;filterFieldList&nbsp;removes&nbsp;unexported&nbsp;fields&nbsp;(field&nbsp;names)&nbsp;from&nbsp;the&nbsp;field&nbsp;list</span><br>
<span class="lineno"></span><span class="comment" id="6013800">//&nbsp;in&nbsp;place&nbsp;and&nbsp;returns&nbsp;true&nbsp;if&nbsp;fields&nbsp;were&nbsp;removed.&nbsp;Anonymous&nbsp;fields&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="6013874">//&nbsp;recorded&nbsp;with&nbsp;the&nbsp;parent&nbsp;type.&nbsp;filterType&nbsp;is&nbsp;called&nbsp;with&nbsp;the&nbsp;types&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6013947">//&nbsp;all&nbsp;remaining&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="6013972">//</span><br>
<span class="lineno">60</span><span class="keyword" id="6013975">func</span>&nbsp;<span class="op" id="6013980">(</span><span class="ident" id="6013981">r</span>&nbsp;<span class="op" id="6013983">*</span><span class="ident" id="6013984">reader</span><span class="op" id="6013990">)</span>&nbsp;<span class="ident" id="6013992">filterFieldList</span><span class="op" id="6014007">(</span><span class="ident" id="6014008">parent</span>&nbsp;<span class="op" id="6014015">*</span><span class="ident" id="6014016">namedType</span><span class="op" id="6014025">,</span>&nbsp;<span class="ident" id="6014027">fields</span>&nbsp;<span class="op" id="6014034">*</span><span class="ident" id="6014035">ast</span><span class="op" id="6014038">.</span><span class="ident" id="6014039">FieldList</span><span class="op" id="6014048">,</span>&nbsp;<span class="ident" id="6014050">ityp</span>&nbsp;<span class="op" id="6014055">*</span><span class="ident" id="6014056">ast</span><span class="op" id="6014059">.</span><span class="ident" id="6014060">InterfaceType</span><span class="op" id="6014073">)</span>&nbsp;<span class="op" id="6014075">(</span><span class="ident" id="6014076">removedFields</span>&nbsp;<span class="builtintype" id="6014090">bool</span><span class="op" id="6014094">)</span>&nbsp;<span class="op" id="6014096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014099">if</span>&nbsp;<span class="ident" id="6014102">fields</span>&nbsp;<span class="op" id="6014109">==</span>&nbsp;<span class="ident" id="6014112">nil</span>&nbsp;<span class="op" id="6014116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014120">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014128">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014131">list</span>&nbsp;<span class="op" id="6014136">:=</span>&nbsp;<span class="ident" id="6014139">fields</span><span class="op" id="6014145">.</span><span class="ident" id="6014146">List</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014152">j</span>&nbsp;<span class="op" id="6014154">:=</span>&nbsp;<span class="num" id="6014157">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014160">for</span>&nbsp;<span class="ident" id="6014164">_</span><span class="op" id="6014165">,</span>&nbsp;<span class="ident" id="6014167">field</span>&nbsp;<span class="op" id="6014173">:=</span>&nbsp;<span class="keyword" id="6014176">range</span>&nbsp;<span class="ident" id="6014182">list</span>&nbsp;<span class="op" id="6014187">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014191">keepField</span>&nbsp;<span class="op" id="6014201">:=</span>&nbsp;<span class="builtintype" id="6014204">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014212">if</span>&nbsp;<span class="ident" id="6014215">n</span>&nbsp;<span class="op" id="6014217">:=</span>&nbsp;<span class="builtinfunc" id="6014220">len</span><span class="op" id="6014223">(</span><span class="ident" id="6014224">field</span><span class="op" id="6014229">.</span><span class="ident" id="6014230">Names</span><span class="op" id="6014235">)</span><span class="op" id="6014236">;</span>&nbsp;<span class="ident" id="6014238">n</span>&nbsp;<span class="op" id="6014240">==</span>&nbsp;<span class="num" id="6014243">0</span>&nbsp;<span class="op" id="6014245">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6014250">//&nbsp;anonymous&nbsp;field</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014272">fname</span>&nbsp;<span class="op" id="6014278">:=</span>&nbsp;<span class="ident" id="6014281">r</span><span class="op" id="6014282">.</span><span class="ident" id="6014283">recordAnonymousField</span><span class="op" id="6014303">(</span><span class="ident" id="6014304">parent</span><span class="op" id="6014310">,</span>&nbsp;<span class="ident" id="6014312">field</span><span class="op" id="6014317">.</span><span class="ident" id="6014318">Type</span><span class="op" id="6014322">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014327">if</span>&nbsp;<span class="ident" id="6014330">ast</span><span class="op" id="6014333">.</span><span class="ident" id="6014334">IsExported</span><span class="op" id="6014344">(</span><span class="ident" id="6014345">fname</span><span class="op" id="6014350">)</span>&nbsp;<span class="op" id="6014352">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014358">keepField</span>&nbsp;<span class="op" id="6014368">=</span>&nbsp;<span class="builtintype" id="6014370">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014378">}</span>&nbsp;<span class="keyword" id="6014380">else</span>&nbsp;<span class="keyword" id="6014385">if</span>&nbsp;<span class="ident" id="6014388">ityp</span>&nbsp;<span class="op" id="6014393">!=</span>&nbsp;<span class="ident" id="6014396">nil</span>&nbsp;<span class="op" id="6014400">&amp;&amp;</span>&nbsp;<span class="ident" id="6014403">fname</span>&nbsp;<span class="op" id="6014409">==</span>&nbsp;<span class="string" id="6014412">&#34;error&#34;</span>&nbsp;<span class="op" id="6014420">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6014426">//&nbsp;possibly&nbsp;the&nbsp;predeclared&nbsp;error&nbsp;interface;&nbsp;keep</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6014480">//&nbsp;it&nbsp;for&nbsp;now&nbsp;but&nbsp;remember&nbsp;this&nbsp;interface&nbsp;so&nbsp;that</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6014534">//&nbsp;it&nbsp;can&nbsp;be&nbsp;fixed&nbsp;if&nbsp;error&nbsp;is&nbsp;also&nbsp;defined&nbsp;locally</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014590">keepField</span>&nbsp;<span class="op" id="6014600">=</span>&nbsp;<span class="builtintype" id="6014602">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014611">r</span><span class="op" id="6014612">.</span><span class="ident" id="6014613">remember</span><span class="op" id="6014621">(</span><span class="ident" id="6014622">ityp</span><span class="op" id="6014626">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014631">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014635">}</span>&nbsp;<span class="keyword" id="6014637">else</span>&nbsp;<span class="op" id="6014642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014647">field</span><span class="op" id="6014652">.</span><span class="ident" id="6014653">Names</span>&nbsp;<span class="op" id="6014659">=</span>&nbsp;<span class="ident" id="6014661">filterIdentList</span><span class="op" id="6014676">(</span><span class="ident" id="6014677">field</span><span class="op" id="6014682">.</span><span class="ident" id="6014683">Names</span><span class="op" id="6014688">,</span>&nbsp;<span class="builtintype" id="6014690">false</span><span class="op" id="6014695">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014700">if</span>&nbsp;<span class="builtinfunc" id="6014703">len</span><span class="op" id="6014706">(</span><span class="ident" id="6014707">field</span><span class="op" id="6014712">.</span><span class="ident" id="6014713">Names</span><span class="op" id="6014718">)</span>&nbsp;<span class="op" id="6014720">&lt;</span>&nbsp;<span class="ident" id="6014722">n</span>&nbsp;<span class="op" id="6014724">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014730">removedFields</span>&nbsp;<span class="op" id="6014744">=</span>&nbsp;<span class="builtintype" id="6014746">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014754">}</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014759">if</span>&nbsp;<span class="builtinfunc" id="6014762">len</span><span class="op" id="6014765">(</span><span class="ident" id="6014766">field</span><span class="op" id="6014771">.</span><span class="ident" id="6014772">Names</span><span class="op" id="6014777">)</span>&nbsp;<span class="op" id="6014779">&gt;</span>&nbsp;<span class="num" id="6014781">0</span>&nbsp;<span class="op" id="6014783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014789">keepField</span>&nbsp;<span class="op" id="6014799">=</span>&nbsp;<span class="builtintype" id="6014801">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014817">if</span>&nbsp;<span class="ident" id="6014820">keepField</span>&nbsp;<span class="op" id="6014830">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014835">r</span><span class="op" id="6014836">.</span><span class="ident" id="6014837">filterType</span><span class="op" id="6014847">(</span><span class="ident" id="6014848">nil</span><span class="op" id="6014851">,</span>&nbsp;<span class="ident" id="6014853">field</span><span class="op" id="6014858">.</span><span class="ident" id="6014859">Type</span><span class="op" id="6014863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014868">list</span><span class="op" id="6014872">[</span><span class="ident" id="6014873">j</span><span class="op" id="6014874">]</span>&nbsp;<span class="op" id="6014876">=</span>&nbsp;<span class="ident" id="6014878">field</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014887">j</span><span class="op" id="6014888">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014896">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014899">if</span>&nbsp;<span class="ident" id="6014902">j</span>&nbsp;<span class="op" id="6014904">&lt;</span>&nbsp;<span class="builtinfunc" id="6014906">len</span><span class="op" id="6014909">(</span><span class="ident" id="6014910">list</span><span class="op" id="6014914">)</span>&nbsp;<span class="op" id="6014916">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014920">removedFields</span>&nbsp;<span class="op" id="6014934">=</span>&nbsp;<span class="builtintype" id="6014936">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6014942">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6014945">fields</span><span class="op" id="6014951">.</span><span class="ident" id="6014952">List</span>&nbsp;<span class="op" id="6014957">=</span>&nbsp;<span class="ident" id="6014959">list</span><span class="op" id="6014963">[</span><span class="num" id="6014964">0</span><span class="op" id="6014965">:</span><span class="ident" id="6014966">j</span><span class="op" id="6014967">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6014970">return</span><br>
<span class="lineno">100</span><span class="op" id="6014977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6014980">//&nbsp;filterParamList&nbsp;applies&nbsp;filterType&nbsp;to&nbsp;each&nbsp;parameter&nbsp;type&nbsp;in&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="6015052">//</span><br>
<span class="lineno"></span><span class="keyword" id="6015055">func</span>&nbsp;<span class="op" id="6015060">(</span><span class="ident" id="6015061">r</span>&nbsp;<span class="op" id="6015063">*</span><span class="ident" id="6015064">reader</span><span class="op" id="6015070">)</span>&nbsp;<span class="ident" id="6015072">filterParamList</span><span class="op" id="6015087">(</span><span class="ident" id="6015088">fields</span>&nbsp;<span class="op" id="6015095">*</span><span class="ident" id="6015096">ast</span><span class="op" id="6015099">.</span><span class="ident" id="6015100">FieldList</span><span class="op" id="6015109">)</span>&nbsp;<span class="op" id="6015111">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015114">if</span>&nbsp;<span class="ident" id="6015117">fields</span>&nbsp;<span class="op" id="6015124">!=</span>&nbsp;<span class="ident" id="6015127">nil</span>&nbsp;<span class="op" id="6015131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015135">for</span>&nbsp;<span class="ident" id="6015139">_</span><span class="op" id="6015140">,</span>&nbsp;<span class="ident" id="6015142">f</span>&nbsp;<span class="op" id="6015144">:=</span>&nbsp;<span class="keyword" id="6015147">range</span>&nbsp;<span class="ident" id="6015153">fields</span><span class="op" id="6015159">.</span><span class="ident" id="6015160">List</span>&nbsp;<span class="op" id="6015165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015170">r</span><span class="op" id="6015171">.</span><span class="ident" id="6015172">filterType</span><span class="op" id="6015182">(</span><span class="ident" id="6015183">nil</span><span class="op" id="6015186">,</span>&nbsp;<span class="ident" id="6015188">f</span><span class="op" id="6015189">.</span><span class="ident" id="6015190">Type</span><span class="op" id="6015194">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015201">}</span><br>
<span class="lineno">110</span><span class="op" id="6015203">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6015206">//&nbsp;filterType&nbsp;strips&nbsp;any&nbsp;unexported&nbsp;struct&nbsp;fields&nbsp;or&nbsp;method&nbsp;types&nbsp;from&nbsp;typ</span><br>
<span class="lineno"></span><span class="comment" id="6015281">//&nbsp;in&nbsp;place.&nbsp;If&nbsp;fields&nbsp;(or&nbsp;methods)&nbsp;have&nbsp;been&nbsp;removed,&nbsp;the&nbsp;corresponding</span><br>
<span class="lineno"></span><span class="comment" id="6015354">//&nbsp;struct&nbsp;or&nbsp;interface&nbsp;type&nbsp;has&nbsp;the&nbsp;Incomplete&nbsp;field&nbsp;set&nbsp;to&nbsp;true.</span><br>
<span class="lineno">115</span><span class="comment" id="6015420">//</span><br>
<span class="lineno"></span><span class="keyword" id="6015423">func</span>&nbsp;<span class="op" id="6015428">(</span><span class="ident" id="6015429">r</span>&nbsp;<span class="op" id="6015431">*</span><span class="ident" id="6015432">reader</span><span class="op" id="6015438">)</span>&nbsp;<span class="ident" id="6015440">filterType</span><span class="op" id="6015450">(</span><span class="ident" id="6015451">parent</span>&nbsp;<span class="op" id="6015458">*</span><span class="ident" id="6015459">namedType</span><span class="op" id="6015468">,</span>&nbsp;<span class="ident" id="6015470">typ</span>&nbsp;<span class="ident" id="6015474">ast</span><span class="op" id="6015477">.</span><span class="ident" id="6015478">Expr</span><span class="op" id="6015482">)</span>&nbsp;<span class="op" id="6015484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015487">switch</span>&nbsp;<span class="ident" id="6015494">t</span>&nbsp;<span class="op" id="6015496">:=</span>&nbsp;<span class="ident" id="6015499">typ</span><span class="op" id="6015502">.</span><span class="op" id="6015503">(</span><span class="keyword" id="6015504">type</span><span class="op" id="6015508">)</span>&nbsp;<span class="op" id="6015510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015513">case</span>&nbsp;<span class="op" id="6015518">*</span><span class="ident" id="6015519">ast</span><span class="op" id="6015522">.</span><span class="ident" id="6015523">Ident</span><span class="op" id="6015528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6015532">//&nbsp;nothing&nbsp;to&nbsp;do</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015550">case</span>&nbsp;<span class="op" id="6015555">*</span><span class="ident" id="6015556">ast</span><span class="op" id="6015559">.</span><span class="ident" id="6015560">ParenExpr</span><span class="op" id="6015569">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015573">r</span><span class="op" id="6015574">.</span><span class="ident" id="6015575">filterType</span><span class="op" id="6015585">(</span><span class="ident" id="6015586">nil</span><span class="op" id="6015589">,</span>&nbsp;<span class="ident" id="6015591">t</span><span class="op" id="6015592">.</span><span class="ident" id="6015593">X</span><span class="op" id="6015594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015597">case</span>&nbsp;<span class="op" id="6015602">*</span><span class="ident" id="6015603">ast</span><span class="op" id="6015606">.</span><span class="ident" id="6015607">ArrayType</span><span class="op" id="6015616">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015620">r</span><span class="op" id="6015621">.</span><span class="ident" id="6015622">filterType</span><span class="op" id="6015632">(</span><span class="ident" id="6015633">nil</span><span class="op" id="6015636">,</span>&nbsp;<span class="ident" id="6015638">t</span><span class="op" id="6015639">.</span><span class="ident" id="6015640">Elt</span><span class="op" id="6015643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015646">case</span>&nbsp;<span class="op" id="6015651">*</span><span class="ident" id="6015652">ast</span><span class="op" id="6015655">.</span><span class="ident" id="6015656">StructType</span><span class="op" id="6015666">:</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015670">if</span>&nbsp;<span class="ident" id="6015673">r</span><span class="op" id="6015674">.</span><span class="ident" id="6015675">filterFieldList</span><span class="op" id="6015690">(</span><span class="ident" id="6015691">parent</span><span class="op" id="6015697">,</span>&nbsp;<span class="ident" id="6015699">t</span><span class="op" id="6015700">.</span><span class="ident" id="6015701">Fields</span><span class="op" id="6015707">,</span>&nbsp;<span class="ident" id="6015709">nil</span><span class="op" id="6015712">)</span>&nbsp;<span class="op" id="6015714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015719">t</span><span class="op" id="6015720">.</span><span class="ident" id="6015721">Incomplete</span>&nbsp;<span class="op" id="6015732">=</span>&nbsp;<span class="builtintype" id="6015734">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015741">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015744">case</span>&nbsp;<span class="op" id="6015749">*</span><span class="ident" id="6015750">ast</span><span class="op" id="6015753">.</span><span class="ident" id="6015754">FuncType</span><span class="op" id="6015762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015766">r</span><span class="op" id="6015767">.</span><span class="ident" id="6015768">filterParamList</span><span class="op" id="6015783">(</span><span class="ident" id="6015784">t</span><span class="op" id="6015785">.</span><span class="ident" id="6015786">Params</span><span class="op" id="6015792">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015796">r</span><span class="op" id="6015797">.</span><span class="ident" id="6015798">filterParamList</span><span class="op" id="6015813">(</span><span class="ident" id="6015814">t</span><span class="op" id="6015815">.</span><span class="ident" id="6015816">Results</span><span class="op" id="6015823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015826">case</span>&nbsp;<span class="op" id="6015831">*</span><span class="ident" id="6015832">ast</span><span class="op" id="6015835">.</span><span class="ident" id="6015836">InterfaceType</span><span class="op" id="6015849">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015853">if</span>&nbsp;<span class="ident" id="6015856">r</span><span class="op" id="6015857">.</span><span class="ident" id="6015858">filterFieldList</span><span class="op" id="6015873">(</span><span class="ident" id="6015874">parent</span><span class="op" id="6015880">,</span>&nbsp;<span class="ident" id="6015882">t</span><span class="op" id="6015883">.</span><span class="ident" id="6015884">Methods</span><span class="op" id="6015891">,</span>&nbsp;<span class="ident" id="6015893">t</span><span class="op" id="6015894">)</span>&nbsp;<span class="op" id="6015896">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015901">t</span><span class="op" id="6015902">.</span><span class="ident" id="6015903">Incomplete</span>&nbsp;<span class="op" id="6015914">=</span>&nbsp;<span class="builtintype" id="6015916">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6015923">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6015926">case</span>&nbsp;<span class="op" id="6015931">*</span><span class="ident" id="6015932">ast</span><span class="op" id="6015935">.</span><span class="ident" id="6015936">MapType</span><span class="op" id="6015943">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015947">r</span><span class="op" id="6015948">.</span><span class="ident" id="6015949">filterType</span><span class="op" id="6015959">(</span><span class="ident" id="6015960">nil</span><span class="op" id="6015963">,</span>&nbsp;<span class="ident" id="6015965">t</span><span class="op" id="6015966">.</span><span class="ident" id="6015967">Key</span><span class="op" id="6015970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6015974">r</span><span class="op" id="6015975">.</span><span class="ident" id="6015976">filterType</span><span class="op" id="6015986">(</span><span class="ident" id="6015987">nil</span><span class="op" id="6015990">,</span>&nbsp;<span class="ident" id="6015992">t</span><span class="op" id="6015993">.</span><span class="ident" id="6015994">Value</span><span class="op" id="6015999">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016002">case</span>&nbsp;<span class="op" id="6016007">*</span><span class="ident" id="6016008">ast</span><span class="op" id="6016011">.</span><span class="ident" id="6016012">ChanType</span><span class="op" id="6016020">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016024">r</span><span class="op" id="6016025">.</span><span class="ident" id="6016026">filterType</span><span class="op" id="6016036">(</span><span class="ident" id="6016037">nil</span><span class="op" id="6016040">,</span>&nbsp;<span class="ident" id="6016042">t</span><span class="op" id="6016043">.</span><span class="ident" id="6016044">Value</span><span class="op" id="6016049">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016052">}</span><br>
<span class="lineno"></span><span class="op" id="6016054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6016057">func</span>&nbsp;<span class="op" id="6016062">(</span><span class="ident" id="6016063">r</span>&nbsp;<span class="op" id="6016065">*</span><span class="ident" id="6016066">reader</span><span class="op" id="6016072">)</span>&nbsp;<span class="ident" id="6016074">filterSpec</span><span class="op" id="6016084">(</span><span class="ident" id="6016085">spec</span>&nbsp;<span class="ident" id="6016090">ast</span><span class="op" id="6016093">.</span><span class="ident" id="6016094">Spec</span><span class="op" id="6016098">,</span>&nbsp;<span class="ident" id="6016100">tok</span>&nbsp;<span class="ident" id="6016104">token</span><span class="op" id="6016109">.</span><span class="ident" id="6016110">Token</span><span class="op" id="6016115">)</span>&nbsp;<span class="builtintype" id="6016117">bool</span>&nbsp;<span class="op" id="6016122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016125">switch</span>&nbsp;<span class="ident" id="6016132">s</span>&nbsp;<span class="op" id="6016134">:=</span>&nbsp;<span class="ident" id="6016137">spec</span><span class="op" id="6016141">.</span><span class="op" id="6016142">(</span><span class="keyword" id="6016143">type</span><span class="op" id="6016147">)</span>&nbsp;<span class="op" id="6016149">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016152">case</span>&nbsp;<span class="op" id="6016157">*</span><span class="ident" id="6016158">ast</span><span class="op" id="6016161">.</span><span class="ident" id="6016162">ImportSpec</span><span class="op" id="6016172">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016176">//&nbsp;always&nbsp;keep&nbsp;imports&nbsp;so&nbsp;we&nbsp;can&nbsp;collect&nbsp;them</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016224">return</span>&nbsp;<span class="builtintype" id="6016231">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016237">case</span>&nbsp;<span class="op" id="6016242">*</span><span class="ident" id="6016243">ast</span><span class="op" id="6016246">.</span><span class="ident" id="6016247">ValueSpec</span><span class="op" id="6016256">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016260">//&nbsp;special&nbsp;case:&nbsp;consider&nbsp;blank&nbsp;constants&nbsp;as&nbsp;exported</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016316">//&nbsp;(work-around&nbsp;for&nbsp;issue&nbsp;5397)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016350">s</span><span class="op" id="6016351">.</span><span class="ident" id="6016352">Names</span>&nbsp;<span class="op" id="6016358">=</span>&nbsp;<span class="ident" id="6016360">filterIdentList</span><span class="op" id="6016375">(</span><span class="ident" id="6016376">s</span><span class="op" id="6016377">.</span><span class="ident" id="6016378">Names</span><span class="op" id="6016383">,</span>&nbsp;<span class="ident" id="6016385">tok</span>&nbsp;<span class="op" id="6016389">==</span>&nbsp;<span class="ident" id="6016392">token</span><span class="op" id="6016397">.</span><span class="ident" id="6016398">CONST</span><span class="op" id="6016403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016407">if</span>&nbsp;<span class="builtinfunc" id="6016410">len</span><span class="op" id="6016413">(</span><span class="ident" id="6016414">s</span><span class="op" id="6016415">.</span><span class="ident" id="6016416">Names</span><span class="op" id="6016421">)</span>&nbsp;<span class="op" id="6016423">&gt;</span>&nbsp;<span class="num" id="6016425">0</span>&nbsp;<span class="op" id="6016427">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016432">r</span><span class="op" id="6016433">.</span><span class="ident" id="6016434">filterType</span><span class="op" id="6016444">(</span><span class="ident" id="6016445">nil</span><span class="op" id="6016448">,</span>&nbsp;<span class="ident" id="6016450">s</span><span class="op" id="6016451">.</span><span class="ident" id="6016452">Type</span><span class="op" id="6016456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016461">return</span>&nbsp;<span class="builtintype" id="6016468">true</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016475">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016478">case</span>&nbsp;<span class="op" id="6016483">*</span><span class="ident" id="6016484">ast</span><span class="op" id="6016487">.</span><span class="ident" id="6016488">TypeSpec</span><span class="op" id="6016496">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016500">if</span>&nbsp;<span class="ident" id="6016503">name</span>&nbsp;<span class="op" id="6016508">:=</span>&nbsp;<span class="ident" id="6016511">s</span><span class="op" id="6016512">.</span><span class="ident" id="6016513">Name</span><span class="op" id="6016517">.</span><span class="ident" id="6016518">Name</span><span class="op" id="6016522">;</span>&nbsp;<span class="ident" id="6016524">ast</span><span class="op" id="6016527">.</span><span class="ident" id="6016528">IsExported</span><span class="op" id="6016538">(</span><span class="ident" id="6016539">name</span><span class="op" id="6016543">)</span>&nbsp;<span class="op" id="6016545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016550">r</span><span class="op" id="6016551">.</span><span class="ident" id="6016552">filterType</span><span class="op" id="6016562">(</span><span class="ident" id="6016563">r</span><span class="op" id="6016564">.</span><span class="ident" id="6016565">lookupType</span><span class="op" id="6016575">(</span><span class="ident" id="6016576">s</span><span class="op" id="6016577">.</span><span class="ident" id="6016578">Name</span><span class="op" id="6016582">.</span><span class="ident" id="6016583">Name</span><span class="op" id="6016587">)</span><span class="op" id="6016588">,</span>&nbsp;<span class="ident" id="6016590">s</span><span class="op" id="6016591">.</span><span class="ident" id="6016592">Type</span><span class="op" id="6016596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016601">return</span>&nbsp;<span class="builtintype" id="6016608">true</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016615">}</span>&nbsp;<span class="keyword" id="6016617">else</span>&nbsp;<span class="keyword" id="6016622">if</span>&nbsp;<span class="ident" id="6016625">name</span>&nbsp;<span class="op" id="6016630">==</span>&nbsp;<span class="string" id="6016633">&#34;error&#34;</span>&nbsp;<span class="op" id="6016641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6016646">//&nbsp;special&nbsp;case:&nbsp;remember&nbsp;that&nbsp;error&nbsp;is&nbsp;declared&nbsp;locally</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016706">r</span><span class="op" id="6016707">.</span><span class="ident" id="6016708">errorDecl</span>&nbsp;<span class="op" id="6016718">=</span>&nbsp;<span class="builtintype" id="6016720">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016727">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016730">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016733">return</span>&nbsp;<span class="builtintype" id="6016740">false</span><br>
<span class="lineno"></span><span class="op" id="6016746">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6016749">func</span>&nbsp;<span class="op" id="6016754">(</span><span class="ident" id="6016755">r</span>&nbsp;<span class="op" id="6016757">*</span><span class="ident" id="6016758">reader</span><span class="op" id="6016764">)</span>&nbsp;<span class="ident" id="6016766">filterSpecList</span><span class="op" id="6016780">(</span><span class="ident" id="6016781">list</span>&nbsp;<span class="op" id="6016786">[</span><span class="op" id="6016787">]</span><span class="ident" id="6016788">ast</span><span class="op" id="6016791">.</span><span class="ident" id="6016792">Spec</span><span class="op" id="6016796">,</span>&nbsp;<span class="ident" id="6016798">tok</span>&nbsp;<span class="ident" id="6016802">token</span><span class="op" id="6016807">.</span><span class="ident" id="6016808">Token</span><span class="op" id="6016813">)</span>&nbsp;<span class="op" id="6016815">[</span><span class="op" id="6016816">]</span><span class="ident" id="6016817">ast</span><span class="op" id="6016820">.</span><span class="ident" id="6016821">Spec</span>&nbsp;<span class="op" id="6016826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016829">j</span>&nbsp;<span class="op" id="6016831">:=</span>&nbsp;<span class="num" id="6016834">0</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016837">for</span>&nbsp;<span class="ident" id="6016841">_</span><span class="op" id="6016842">,</span>&nbsp;<span class="ident" id="6016844">s</span>&nbsp;<span class="op" id="6016846">:=</span>&nbsp;<span class="keyword" id="6016849">range</span>&nbsp;<span class="ident" id="6016855">list</span>&nbsp;<span class="op" id="6016860">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016864">if</span>&nbsp;<span class="ident" id="6016867">r</span><span class="op" id="6016868">.</span><span class="ident" id="6016869">filterSpec</span><span class="op" id="6016879">(</span><span class="ident" id="6016880">s</span><span class="op" id="6016881">,</span>&nbsp;<span class="ident" id="6016883">tok</span><span class="op" id="6016886">)</span>&nbsp;<span class="op" id="6016888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016893">list</span><span class="op" id="6016897">[</span><span class="ident" id="6016898">j</span><span class="op" id="6016899">]</span>&nbsp;<span class="op" id="6016901">=</span>&nbsp;<span class="ident" id="6016903">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6016908">j</span><span class="op" id="6016909">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016914">}</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6016917">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016920">return</span>&nbsp;<span class="ident" id="6016927">list</span><span class="op" id="6016931">[</span><span class="num" id="6016932">0</span><span class="op" id="6016933">:</span><span class="ident" id="6016934">j</span><span class="op" id="6016935">]</span><br>
<span class="lineno"></span><span class="op" id="6016937">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6016940">func</span>&nbsp;<span class="op" id="6016945">(</span><span class="ident" id="6016946">r</span>&nbsp;<span class="op" id="6016948">*</span><span class="ident" id="6016949">reader</span><span class="op" id="6016955">)</span>&nbsp;<span class="ident" id="6016957">filterDecl</span><span class="op" id="6016967">(</span><span class="ident" id="6016968">decl</span>&nbsp;<span class="ident" id="6016973">ast</span><span class="op" id="6016976">.</span><span class="ident" id="6016977">Decl</span><span class="op" id="6016981">)</span>&nbsp;<span class="builtintype" id="6016983">bool</span>&nbsp;<span class="op" id="6016988">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6016991">switch</span>&nbsp;<span class="ident" id="6016998">d</span>&nbsp;<span class="op" id="6017000">:=</span>&nbsp;<span class="ident" id="6017003">decl</span><span class="op" id="6017007">.</span><span class="op" id="6017008">(</span><span class="keyword" id="6017009">type</span><span class="op" id="6017013">)</span>&nbsp;<span class="op" id="6017015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017018">case</span>&nbsp;<span class="op" id="6017023">*</span><span class="ident" id="6017024">ast</span><span class="op" id="6017027">.</span><span class="ident" id="6017028">GenDecl</span><span class="op" id="6017035">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017039">d</span><span class="op" id="6017040">.</span><span class="ident" id="6017041">Specs</span>&nbsp;<span class="op" id="6017047">=</span>&nbsp;<span class="ident" id="6017049">r</span><span class="op" id="6017050">.</span><span class="ident" id="6017051">filterSpecList</span><span class="op" id="6017065">(</span><span class="ident" id="6017066">d</span><span class="op" id="6017067">.</span><span class="ident" id="6017068">Specs</span><span class="op" id="6017073">,</span>&nbsp;<span class="ident" id="6017075">d</span><span class="op" id="6017076">.</span><span class="ident" id="6017077">Tok</span><span class="op" id="6017080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017084">return</span>&nbsp;<span class="builtinfunc" id="6017091">len</span><span class="op" id="6017094">(</span><span class="ident" id="6017095">d</span><span class="op" id="6017096">.</span><span class="ident" id="6017097">Specs</span><span class="op" id="6017102">)</span>&nbsp;<span class="op" id="6017104">&gt;</span>&nbsp;<span class="num" id="6017106">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017109">case</span>&nbsp;<span class="op" id="6017114">*</span><span class="ident" id="6017115">ast</span><span class="op" id="6017118">.</span><span class="ident" id="6017119">FuncDecl</span><span class="op" id="6017127">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017131">//&nbsp;ok&nbsp;to&nbsp;filter&nbsp;these&nbsp;methods&nbsp;early&nbsp;because&nbsp;any</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017181">//&nbsp;conflicting&nbsp;method&nbsp;will&nbsp;be&nbsp;filtered&nbsp;here,&nbsp;too&nbsp;-</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017234">//&nbsp;thus,&nbsp;removing&nbsp;these&nbsp;methods&nbsp;early&nbsp;will&nbsp;not&nbsp;lead</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6017288">//&nbsp;to&nbsp;the&nbsp;false&nbsp;removal&nbsp;of&nbsp;possible&nbsp;conflicts</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017336">return</span>&nbsp;<span class="ident" id="6017343">ast</span><span class="op" id="6017346">.</span><span class="ident" id="6017347">IsExported</span><span class="op" id="6017357">(</span><span class="ident" id="6017358">d</span><span class="op" id="6017359">.</span><span class="ident" id="6017360">Name</span><span class="op" id="6017364">.</span><span class="ident" id="6017365">Name</span><span class="op" id="6017369">)</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017375">return</span>&nbsp;<span class="builtintype" id="6017382">false</span><br>
<span class="lineno"></span><span class="op" id="6017388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6017391">//&nbsp;fileExports&nbsp;removes&nbsp;unexported&nbsp;declarations&nbsp;from&nbsp;src&nbsp;in&nbsp;place.</span><br>
<span class="lineno">195</span><span class="comment" id="6017457">//</span><br>
<span class="lineno"></span><span class="keyword" id="6017460">func</span>&nbsp;<span class="op" id="6017465">(</span><span class="ident" id="6017466">r</span>&nbsp;<span class="op" id="6017468">*</span><span class="ident" id="6017469">reader</span><span class="op" id="6017475">)</span>&nbsp;<span class="ident" id="6017477">fileExports</span><span class="op" id="6017488">(</span><span class="ident" id="6017489">src</span>&nbsp;<span class="op" id="6017493">*</span><span class="ident" id="6017494">ast</span><span class="op" id="6017497">.</span><span class="ident" id="6017498">File</span><span class="op" id="6017502">)</span>&nbsp;<span class="op" id="6017504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017507">j</span>&nbsp;<span class="op" id="6017509">:=</span>&nbsp;<span class="num" id="6017512">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017515">for</span>&nbsp;<span class="ident" id="6017519">_</span><span class="op" id="6017520">,</span>&nbsp;<span class="ident" id="6017522">d</span>&nbsp;<span class="op" id="6017524">:=</span>&nbsp;<span class="keyword" id="6017527">range</span>&nbsp;<span class="ident" id="6017533">src</span><span class="op" id="6017536">.</span><span class="ident" id="6017537">Decls</span>&nbsp;<span class="op" id="6017543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6017547">if</span>&nbsp;<span class="ident" id="6017550">r</span><span class="op" id="6017551">.</span><span class="ident" id="6017552">filterDecl</span><span class="op" id="6017562">(</span><span class="ident" id="6017563">d</span><span class="op" id="6017564">)</span>&nbsp;<span class="op" id="6017566">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017571">src</span><span class="op" id="6017574">.</span><span class="ident" id="6017575">Decls</span><span class="op" id="6017580">[</span><span class="ident" id="6017581">j</span><span class="op" id="6017582">]</span>&nbsp;<span class="op" id="6017584">=</span>&nbsp;<span class="ident" id="6017586">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017591">j</span><span class="op" id="6017592">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6017600">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6017603">src</span><span class="op" id="6017606">.</span><span class="ident" id="6017607">Decls</span>&nbsp;<span class="op" id="6017613">=</span>&nbsp;<span class="ident" id="6017615">src</span><span class="op" id="6017618">.</span><span class="ident" id="6017619">Decls</span><span class="op" id="6017624">[</span><span class="num" id="6017625">0</span><span class="op" id="6017626">:</span><span class="ident" id="6017627">j</span><span class="op" id="6017628">]</span><br>
<span class="lineno">205</span><span class="op" id="6017630">}</span>
</div>
</body>
</html>
