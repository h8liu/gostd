<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>go/doc</h2>
<ul>
<li><a href="/gostd/go/doc/comment.go.html">comment.go</a></li>
<li><a href="/gostd/go/doc/comment_test.go.html">comment_test.go</a></li>
<li><a href="/gostd/go/doc/doc.go.html">doc.go</a></li>
<li><a href="/gostd/go/doc/doc_test.go.html">doc_test.go</a></li>
<li><a href="/gostd/go/doc/example.go.html">example.go</a></li>
<li><a href="/gostd/go/doc/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/go/doc/exports.go.html">exports.go</a></li>
<li><a href="/gostd/go/doc/filter.go.html">filter.go</a></li>
<li><a href="/gostd/go/doc/reader.go.html">reader.go</a></li>
<li><a href="/gostd/go/doc/synopsis.go.html">synopsis.go</a></li>
<li><a href="/gostd/go/doc/synopsis_test.go.html">synopsis_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5457535">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5457590">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5457644">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5457695">package</span>&nbsp;<span class="ident" id="5457703">doc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5457708">import</span>&nbsp;<span class="string" id="5457715">&#34;go/ast&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5457725">type</span>&nbsp;<span class="ident" id="5457730">Filter</span>&nbsp;<span class="keyword" id="5457737">func</span><span class="op" id="5457741">(</span><span class="builtintype" id="5457742">string</span><span class="op" id="5457748">)</span>&nbsp;<span class="builtintype" id="5457750">bool</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5457756">func</span>&nbsp;<span class="ident" id="5457761">matchFields</span><span class="op" id="5457772">(</span><span class="ident" id="5457773">fields</span>&nbsp;<span class="op" id="5457780">*</span><span class="ident" id="5457781">ast</span><span class="op" id="5457784">.</span><span class="ident" id="5457785">FieldList</span><span class="op" id="5457794">,</span>&nbsp;<span class="ident" id="5457796">f</span>&nbsp;<span class="ident" id="5457798">Filter</span><span class="op" id="5457804">)</span>&nbsp;<span class="builtintype" id="5457806">bool</span>&nbsp;<span class="op" id="5457811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5457814">if</span>&nbsp;<span class="ident" id="5457817">fields</span>&nbsp;<span class="op" id="5457824">!=</span>&nbsp;<span class="ident" id="5457827">nil</span>&nbsp;<span class="op" id="5457831">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5457835">for</span>&nbsp;<span class="ident" id="5457839">_</span><span class="op" id="5457840">,</span>&nbsp;<span class="ident" id="5457842">field</span>&nbsp;<span class="op" id="5457848">:=</span>&nbsp;<span class="keyword" id="5457851">range</span>&nbsp;<span class="ident" id="5457857">fields</span><span class="op" id="5457863">.</span><span class="ident" id="5457864">List</span>&nbsp;<span class="op" id="5457869">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5457874">for</span>&nbsp;<span class="ident" id="5457878">_</span><span class="op" id="5457879">,</span>&nbsp;<span class="ident" id="5457881">name</span>&nbsp;<span class="op" id="5457886">:=</span>&nbsp;<span class="keyword" id="5457889">range</span>&nbsp;<span class="ident" id="5457895">field</span><span class="op" id="5457900">.</span><span class="ident" id="5457901">Names</span>&nbsp;<span class="op" id="5457907">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5457913">if</span>&nbsp;<span class="ident" id="5457916">f</span><span class="op" id="5457917">(</span><span class="ident" id="5457918">name</span><span class="op" id="5457922">.</span><span class="ident" id="5457923">Name</span><span class="op" id="5457927">)</span>&nbsp;<span class="op" id="5457929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5457936">return</span>&nbsp;<span class="builtintype" id="5457943">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5457952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5457957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5457961">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5457964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5457967">return</span>&nbsp;<span class="builtintype" id="5457974">false</span><br>
<span class="lineno"></span><span class="op" id="5457980">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5457983">func</span>&nbsp;<span class="ident" id="5457988">matchDecl</span><span class="op" id="5457997">(</span><span class="ident" id="5457998">d</span>&nbsp;<span class="op" id="5458000">*</span><span class="ident" id="5458001">ast</span><span class="op" id="5458004">.</span><span class="ident" id="5458005">GenDecl</span><span class="op" id="5458012">,</span>&nbsp;<span class="ident" id="5458014">f</span>&nbsp;<span class="ident" id="5458016">Filter</span><span class="op" id="5458022">)</span>&nbsp;<span class="builtintype" id="5458024">bool</span>&nbsp;<span class="op" id="5458029">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458032">for</span>&nbsp;<span class="ident" id="5458036">_</span><span class="op" id="5458037">,</span>&nbsp;<span class="ident" id="5458039">d</span>&nbsp;<span class="op" id="5458041">:=</span>&nbsp;<span class="keyword" id="5458044">range</span>&nbsp;<span class="ident" id="5458050">d</span><span class="op" id="5458051">.</span><span class="ident" id="5458052">Specs</span>&nbsp;<span class="op" id="5458058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458062">switch</span>&nbsp;<span class="ident" id="5458069">v</span>&nbsp;<span class="op" id="5458071">:=</span>&nbsp;<span class="ident" id="5458074">d</span><span class="op" id="5458075">.</span><span class="op" id="5458076">(</span><span class="keyword" id="5458077">type</span><span class="op" id="5458081">)</span>&nbsp;<span class="op" id="5458083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458087">case</span>&nbsp;<span class="op" id="5458092">*</span><span class="ident" id="5458093">ast</span><span class="op" id="5458096">.</span><span class="ident" id="5458097">ValueSpec</span><span class="op" id="5458106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458111">for</span>&nbsp;<span class="ident" id="5458115">_</span><span class="op" id="5458116">,</span>&nbsp;<span class="ident" id="5458118">name</span>&nbsp;<span class="op" id="5458123">:=</span>&nbsp;<span class="keyword" id="5458126">range</span>&nbsp;<span class="ident" id="5458132">v</span><span class="op" id="5458133">.</span><span class="ident" id="5458134">Names</span>&nbsp;<span class="op" id="5458140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458146">if</span>&nbsp;<span class="ident" id="5458149">f</span><span class="op" id="5458150">(</span><span class="ident" id="5458151">name</span><span class="op" id="5458155">.</span><span class="ident" id="5458156">Name</span><span class="op" id="5458160">)</span>&nbsp;<span class="op" id="5458162">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458169">return</span>&nbsp;<span class="builtintype" id="5458176">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458185">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458190">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458194">case</span>&nbsp;<span class="op" id="5458199">*</span><span class="ident" id="5458200">ast</span><span class="op" id="5458203">.</span><span class="ident" id="5458204">TypeSpec</span><span class="op" id="5458212">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458217">if</span>&nbsp;<span class="ident" id="5458220">f</span><span class="op" id="5458221">(</span><span class="ident" id="5458222">v</span><span class="op" id="5458223">.</span><span class="ident" id="5458224">Name</span><span class="op" id="5458228">.</span><span class="ident" id="5458229">Name</span><span class="op" id="5458233">)</span>&nbsp;<span class="op" id="5458235">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458241">return</span>&nbsp;<span class="builtintype" id="5458248">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458261">switch</span>&nbsp;<span class="ident" id="5458268">t</span>&nbsp;<span class="op" id="5458270">:=</span>&nbsp;<span class="ident" id="5458273">v</span><span class="op" id="5458274">.</span><span class="ident" id="5458275">Type</span><span class="op" id="5458279">.</span><span class="op" id="5458280">(</span><span class="keyword" id="5458281">type</span><span class="op" id="5458285">)</span>&nbsp;<span class="op" id="5458287">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458292">case</span>&nbsp;<span class="op" id="5458297">*</span><span class="ident" id="5458298">ast</span><span class="op" id="5458301">.</span><span class="ident" id="5458302">StructType</span><span class="op" id="5458312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458318">if</span>&nbsp;<span class="ident" id="5458321">matchFields</span><span class="op" id="5458332">(</span><span class="ident" id="5458333">t</span><span class="op" id="5458334">.</span><span class="ident" id="5458335">Fields</span><span class="op" id="5458341">,</span>&nbsp;<span class="ident" id="5458343">f</span><span class="op" id="5458344">)</span>&nbsp;<span class="op" id="5458346">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458353">return</span>&nbsp;<span class="builtintype" id="5458360">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458369">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458374">case</span>&nbsp;<span class="op" id="5458379">*</span><span class="ident" id="5458380">ast</span><span class="op" id="5458383">.</span><span class="ident" id="5458384">InterfaceType</span><span class="op" id="5458397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458403">if</span>&nbsp;<span class="ident" id="5458406">matchFields</span><span class="op" id="5458417">(</span><span class="ident" id="5458418">t</span><span class="op" id="5458419">.</span><span class="ident" id="5458420">Methods</span><span class="op" id="5458427">,</span>&nbsp;<span class="ident" id="5458429">f</span><span class="op" id="5458430">)</span>&nbsp;<span class="op" id="5458432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458439">return</span>&nbsp;<span class="builtintype" id="5458446">true</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458455">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458460">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458470">return</span>&nbsp;<span class="builtintype" id="5458477">false</span><br>
<span class="lineno">50</span><span class="op" id="5458483">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5458486">func</span>&nbsp;<span class="ident" id="5458491">filterValues</span><span class="op" id="5458503">(</span><span class="ident" id="5458504">a</span>&nbsp;<span class="op" id="5458506">[</span><span class="op" id="5458507">]</span><span class="op" id="5458508">*</span><span class="ident" id="5458509">Value</span><span class="op" id="5458514">,</span>&nbsp;<span class="ident" id="5458516">f</span>&nbsp;<span class="ident" id="5458518">Filter</span><span class="op" id="5458524">)</span>&nbsp;<span class="op" id="5458526">[</span><span class="op" id="5458527">]</span><span class="op" id="5458528">*</span><span class="ident" id="5458529">Value</span>&nbsp;<span class="op" id="5458535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458538">w</span>&nbsp;<span class="op" id="5458540">:=</span>&nbsp;<span class="num" id="5458543">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458546">for</span>&nbsp;<span class="ident" id="5458550">_</span><span class="op" id="5458551">,</span>&nbsp;<span class="ident" id="5458553">vd</span>&nbsp;<span class="op" id="5458556">:=</span>&nbsp;<span class="keyword" id="5458559">range</span>&nbsp;<span class="ident" id="5458565">a</span>&nbsp;<span class="op" id="5458567">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458571">if</span>&nbsp;<span class="ident" id="5458574">matchDecl</span><span class="op" id="5458583">(</span><span class="ident" id="5458584">vd</span><span class="op" id="5458586">.</span><span class="ident" id="5458587">Decl</span><span class="op" id="5458591">,</span>&nbsp;<span class="ident" id="5458593">f</span><span class="op" id="5458594">)</span>&nbsp;<span class="op" id="5458596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458601">a</span><span class="op" id="5458602">[</span><span class="ident" id="5458603">w</span><span class="op" id="5458604">]</span>&nbsp;<span class="op" id="5458606">=</span>&nbsp;<span class="ident" id="5458608">vd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458614">w</span><span class="op" id="5458615">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458620">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458623">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458626">return</span>&nbsp;<span class="ident" id="5458633">a</span><span class="op" id="5458634">[</span><span class="num" id="5458635">0</span><span class="op" id="5458636">:</span><span class="ident" id="5458637">w</span><span class="op" id="5458638">]</span><br>
<span class="lineno"></span><span class="op" id="5458640">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5458643">func</span>&nbsp;<span class="ident" id="5458648">filterFuncs</span><span class="op" id="5458659">(</span><span class="ident" id="5458660">a</span>&nbsp;<span class="op" id="5458662">[</span><span class="op" id="5458663">]</span><span class="op" id="5458664">*</span><span class="ident" id="5458665">Func</span><span class="op" id="5458669">,</span>&nbsp;<span class="ident" id="5458671">f</span>&nbsp;<span class="ident" id="5458673">Filter</span><span class="op" id="5458679">)</span>&nbsp;<span class="op" id="5458681">[</span><span class="op" id="5458682">]</span><span class="op" id="5458683">*</span><span class="ident" id="5458684">Func</span>&nbsp;<span class="op" id="5458689">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458692">w</span>&nbsp;<span class="op" id="5458694">:=</span>&nbsp;<span class="num" id="5458697">0</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458700">for</span>&nbsp;<span class="ident" id="5458704">_</span><span class="op" id="5458705">,</span>&nbsp;<span class="ident" id="5458707">fd</span>&nbsp;<span class="op" id="5458710">:=</span>&nbsp;<span class="keyword" id="5458713">range</span>&nbsp;<span class="ident" id="5458719">a</span>&nbsp;<span class="op" id="5458721">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458725">if</span>&nbsp;<span class="ident" id="5458728">f</span><span class="op" id="5458729">(</span><span class="ident" id="5458730">fd</span><span class="op" id="5458732">.</span><span class="ident" id="5458733">Name</span><span class="op" id="5458737">)</span>&nbsp;<span class="op" id="5458739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458744">a</span><span class="op" id="5458745">[</span><span class="ident" id="5458746">w</span><span class="op" id="5458747">]</span>&nbsp;<span class="op" id="5458749">=</span>&nbsp;<span class="ident" id="5458751">fd</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458757">w</span><span class="op" id="5458758">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458763">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458766">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458769">return</span>&nbsp;<span class="ident" id="5458776">a</span><span class="op" id="5458777">[</span><span class="num" id="5458778">0</span><span class="op" id="5458779">:</span><span class="ident" id="5458780">w</span><span class="op" id="5458781">]</span><br>
<span class="lineno"></span><span class="op" id="5458783">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5458786">func</span>&nbsp;<span class="ident" id="5458791">filterTypes</span><span class="op" id="5458802">(</span><span class="ident" id="5458803">a</span>&nbsp;<span class="op" id="5458805">[</span><span class="op" id="5458806">]</span><span class="op" id="5458807">*</span><span class="ident" id="5458808">Type</span><span class="op" id="5458812">,</span>&nbsp;<span class="ident" id="5458814">f</span>&nbsp;<span class="ident" id="5458816">Filter</span><span class="op" id="5458822">)</span>&nbsp;<span class="op" id="5458824">[</span><span class="op" id="5458825">]</span><span class="op" id="5458826">*</span><span class="ident" id="5458827">Type</span>&nbsp;<span class="op" id="5458832">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458835">w</span>&nbsp;<span class="op" id="5458837">:=</span>&nbsp;<span class="num" id="5458840">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458843">for</span>&nbsp;<span class="ident" id="5458847">_</span><span class="op" id="5458848">,</span>&nbsp;<span class="ident" id="5458850">td</span>&nbsp;<span class="op" id="5458853">:=</span>&nbsp;<span class="keyword" id="5458856">range</span>&nbsp;<span class="ident" id="5458862">a</span>&nbsp;<span class="op" id="5458864">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458868">n</span>&nbsp;<span class="op" id="5458870">:=</span>&nbsp;<span class="num" id="5458873">0</span>&nbsp;<span class="comment" id="5458875">//&nbsp;number&nbsp;of&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5458898">if</span>&nbsp;<span class="ident" id="5458901">matchDecl</span><span class="op" id="5458910">(</span><span class="ident" id="5458911">td</span><span class="op" id="5458913">.</span><span class="ident" id="5458914">Decl</span><span class="op" id="5458918">,</span>&nbsp;<span class="ident" id="5458920">f</span><span class="op" id="5458921">)</span>&nbsp;<span class="op" id="5458923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5458928">n</span>&nbsp;<span class="op" id="5458930">=</span>&nbsp;<span class="num" id="5458932">1</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5458936">}</span>&nbsp;<span class="keyword" id="5458938">else</span>&nbsp;<span class="op" id="5458943">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5458948">//&nbsp;type&nbsp;name&nbsp;doesn&#39;t&nbsp;match,&nbsp;but&nbsp;we&nbsp;may&nbsp;have&nbsp;matching&nbsp;consts,&nbsp;vars,&nbsp;factories&nbsp;or&nbsp;methods</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459039">td</span><span class="op" id="5459041">.</span><span class="ident" id="5459042">Consts</span>&nbsp;<span class="op" id="5459049">=</span>&nbsp;<span class="ident" id="5459051">filterValues</span><span class="op" id="5459063">(</span><span class="ident" id="5459064">td</span><span class="op" id="5459066">.</span><span class="ident" id="5459067">Consts</span><span class="op" id="5459073">,</span>&nbsp;<span class="ident" id="5459075">f</span><span class="op" id="5459076">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459081">td</span><span class="op" id="5459083">.</span><span class="ident" id="5459084">Vars</span>&nbsp;<span class="op" id="5459089">=</span>&nbsp;<span class="ident" id="5459091">filterValues</span><span class="op" id="5459103">(</span><span class="ident" id="5459104">td</span><span class="op" id="5459106">.</span><span class="ident" id="5459107">Vars</span><span class="op" id="5459111">,</span>&nbsp;<span class="ident" id="5459113">f</span><span class="op" id="5459114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459119">td</span><span class="op" id="5459121">.</span><span class="ident" id="5459122">Funcs</span>&nbsp;<span class="op" id="5459128">=</span>&nbsp;<span class="ident" id="5459130">filterFuncs</span><span class="op" id="5459141">(</span><span class="ident" id="5459142">td</span><span class="op" id="5459144">.</span><span class="ident" id="5459145">Funcs</span><span class="op" id="5459150">,</span>&nbsp;<span class="ident" id="5459152">f</span><span class="op" id="5459153">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459158">td</span><span class="op" id="5459160">.</span><span class="ident" id="5459161">Methods</span>&nbsp;<span class="op" id="5459169">=</span>&nbsp;<span class="ident" id="5459171">filterFuncs</span><span class="op" id="5459182">(</span><span class="ident" id="5459183">td</span><span class="op" id="5459185">.</span><span class="ident" id="5459186">Methods</span><span class="op" id="5459193">,</span>&nbsp;<span class="ident" id="5459195">f</span><span class="op" id="5459196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459201">n</span>&nbsp;<span class="op" id="5459203">+=</span>&nbsp;<span class="builtinfunc" id="5459206">len</span><span class="op" id="5459209">(</span><span class="ident" id="5459210">td</span><span class="op" id="5459212">.</span><span class="ident" id="5459213">Consts</span><span class="op" id="5459219">)</span>&nbsp;<span class="op" id="5459221">+</span>&nbsp;<span class="builtinfunc" id="5459223">len</span><span class="op" id="5459226">(</span><span class="ident" id="5459227">td</span><span class="op" id="5459229">.</span><span class="ident" id="5459230">Vars</span><span class="op" id="5459234">)</span>&nbsp;<span class="op" id="5459236">+</span>&nbsp;<span class="builtinfunc" id="5459238">len</span><span class="op" id="5459241">(</span><span class="ident" id="5459242">td</span><span class="op" id="5459244">.</span><span class="ident" id="5459245">Funcs</span><span class="op" id="5459250">)</span>&nbsp;<span class="op" id="5459252">+</span>&nbsp;<span class="builtinfunc" id="5459254">len</span><span class="op" id="5459257">(</span><span class="ident" id="5459258">td</span><span class="op" id="5459260">.</span><span class="ident" id="5459261">Methods</span><span class="op" id="5459268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5459272">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5459276">if</span>&nbsp;<span class="ident" id="5459279">n</span>&nbsp;<span class="op" id="5459281">&gt;</span>&nbsp;<span class="num" id="5459283">0</span>&nbsp;<span class="op" id="5459285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459290">a</span><span class="op" id="5459291">[</span><span class="ident" id="5459292">w</span><span class="op" id="5459293">]</span>&nbsp;<span class="op" id="5459295">=</span>&nbsp;<span class="ident" id="5459297">td</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459303">w</span><span class="op" id="5459304">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5459309">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5459312">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5459315">return</span>&nbsp;<span class="ident" id="5459322">a</span><span class="op" id="5459323">[</span><span class="num" id="5459324">0</span><span class="op" id="5459325">:</span><span class="ident" id="5459326">w</span><span class="op" id="5459327">]</span><br>
<span class="lineno"></span><span class="op" id="5459329">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5459332">//&nbsp;Filter&nbsp;eliminates&nbsp;documentation&nbsp;for&nbsp;names&nbsp;that&nbsp;don&#39;t&nbsp;pass&nbsp;through&nbsp;the&nbsp;filter&nbsp;f.</span><br>
<span class="lineno"></span><span class="comment" id="5459415">//&nbsp;TODO(gri):&nbsp;Recognize&nbsp;&#34;Type.Method&#34;&nbsp;as&nbsp;a&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="5459464">//</span><br>
<span class="lineno"></span><span class="keyword" id="5459467">func</span>&nbsp;<span class="op" id="5459472">(</span><span class="ident" id="5459473">p</span>&nbsp;<span class="op" id="5459475">*</span><span class="ident" id="5459476">Package</span><span class="op" id="5459483">)</span>&nbsp;<span class="ident" id="5459485">Filter</span><span class="op" id="5459491">(</span><span class="ident" id="5459492">f</span>&nbsp;<span class="ident" id="5459494">Filter</span><span class="op" id="5459500">)</span>&nbsp;<span class="op" id="5459502">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459505">p</span><span class="op" id="5459506">.</span><span class="ident" id="5459507">Consts</span>&nbsp;<span class="op" id="5459514">=</span>&nbsp;<span class="ident" id="5459516">filterValues</span><span class="op" id="5459528">(</span><span class="ident" id="5459529">p</span><span class="op" id="5459530">.</span><span class="ident" id="5459531">Consts</span><span class="op" id="5459537">,</span>&nbsp;<span class="ident" id="5459539">f</span><span class="op" id="5459540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459543">p</span><span class="op" id="5459544">.</span><span class="ident" id="5459545">Vars</span>&nbsp;<span class="op" id="5459550">=</span>&nbsp;<span class="ident" id="5459552">filterValues</span><span class="op" id="5459564">(</span><span class="ident" id="5459565">p</span><span class="op" id="5459566">.</span><span class="ident" id="5459567">Vars</span><span class="op" id="5459571">,</span>&nbsp;<span class="ident" id="5459573">f</span><span class="op" id="5459574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459577">p</span><span class="op" id="5459578">.</span><span class="ident" id="5459579">Types</span>&nbsp;<span class="op" id="5459585">=</span>&nbsp;<span class="ident" id="5459587">filterTypes</span><span class="op" id="5459598">(</span><span class="ident" id="5459599">p</span><span class="op" id="5459600">.</span><span class="ident" id="5459601">Types</span><span class="op" id="5459606">,</span>&nbsp;<span class="ident" id="5459608">f</span><span class="op" id="5459609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459612">p</span><span class="op" id="5459613">.</span><span class="ident" id="5459614">Funcs</span>&nbsp;<span class="op" id="5459620">=</span>&nbsp;<span class="ident" id="5459622">filterFuncs</span><span class="op" id="5459633">(</span><span class="ident" id="5459634">p</span><span class="op" id="5459635">.</span><span class="ident" id="5459636">Funcs</span><span class="op" id="5459641">,</span>&nbsp;<span class="ident" id="5459643">f</span><span class="op" id="5459644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5459647">p</span><span class="op" id="5459648">.</span><span class="ident" id="5459649">Doc</span>&nbsp;<span class="op" id="5459653">=</span>&nbsp;<span class="string" id="5459655">&#34;&#34;</span>&nbsp;<span class="comment" id="5459658">//&nbsp;don&#39;t&nbsp;show&nbsp;top-level&nbsp;package&nbsp;doc</span><br>
<span class="lineno">105</span><span class="op" id="5459694">}</span>
</div>
</body>
</html>
