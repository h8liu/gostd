<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/mail</h2>
<ul>
<li><a href="/gostd/net/mail/message.go.html">message.go</a></li>
<li><a href="/gostd/net/mail/message_test.go.html">message_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7487984">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7488039">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7488093">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7488144">package</span>&nbsp;<span class="ident" id="7488152">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7488158">import</span>&nbsp;<span class="op" id="7488165">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488168">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488177">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488190">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488201">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488212">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488223">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="7488230">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7488233">var</span>&nbsp;<span class="ident" id="7488237">parseTests</span>&nbsp;<span class="op" id="7488248">=</span>&nbsp;<span class="op" id="7488250">[</span><span class="op" id="7488251">]</span><span class="keyword" id="7488252">struct</span>&nbsp;<span class="op" id="7488259">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488262">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7488269">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488277">header</span>&nbsp;<span class="ident" id="7488284">Header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488292">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7488299">string</span><br>
<span class="lineno">20</span><span class="op" id="7488306">}</span><span class="op" id="7488307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488310">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7488314">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488344">in</span><span class="op" id="7488346">:</span>&nbsp;<span class="string" id="7488348">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="7488574">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488578">header</span><span class="op" id="7488584">:</span>&nbsp;<span class="ident" id="7488586">Header</span><span class="op" id="7488592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488597">&#34;From&#34;</span><span class="op" id="7488603">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488611">[</span><span class="op" id="7488612">]</span><span class="builtintype" id="7488613">string</span><span class="op" id="7488619">{</span><span class="string" id="7488620">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="7488653">}</span><span class="op" id="7488654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488659">&#34;To&#34;</span><span class="op" id="7488663">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488673">[</span><span class="op" id="7488674">]</span><span class="builtintype" id="7488675">string</span><span class="op" id="7488681">{</span><span class="string" id="7488682">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="7488713">}</span><span class="op" id="7488714">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488719">&#34;Subject&#34;</span><span class="op" id="7488728">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488733">[</span><span class="op" id="7488734">]</span><span class="builtintype" id="7488735">string</span><span class="op" id="7488741">{</span><span class="string" id="7488742">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="7488756">}</span><span class="op" id="7488757">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488762">&#34;Date&#34;</span><span class="op" id="7488768">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7488776">[</span><span class="op" id="7488777">]</span><span class="builtintype" id="7488778">string</span><span class="op" id="7488784">{</span><span class="string" id="7488785">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7488818">}</span><span class="op" id="7488819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7488824">&#34;Message-Id&#34;</span><span class="op" id="7488836">:</span>&nbsp;<span class="op" id="7488838">[</span><span class="op" id="7488839">]</span><span class="builtintype" id="7488840">string</span><span class="op" id="7488846">{</span><span class="string" id="7488847">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="7488877">}</span><span class="op" id="7488878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488882">}</span><span class="op" id="7488883">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7488887">body</span><span class="op" id="7488891">:</span>&nbsp;<span class="string" id="7488893">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="7488949">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7488952">}</span><span class="op" id="7488953">,</span><br>
<span class="lineno"></span><span class="op" id="7488955">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7488958">func</span>&nbsp;<span class="ident" id="7488963">TestParsing</span><span class="op" id="7488974">(</span><span class="ident" id="7488975">t</span>&nbsp;<span class="op" id="7488977">*</span><span class="ident" id="7488978">testing</span><span class="op" id="7488985">.</span><span class="ident" id="7488986">T</span><span class="op" id="7488987">)</span>&nbsp;<span class="op" id="7488989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7488992">for</span>&nbsp;<span class="ident" id="7488996">i</span><span class="op" id="7488997">,</span>&nbsp;<span class="ident" id="7488999">test</span>&nbsp;<span class="op" id="7489004">:=</span>&nbsp;<span class="keyword" id="7489007">range</span>&nbsp;<span class="ident" id="7489013">parseTests</span>&nbsp;<span class="op" id="7489024">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489028">msg</span><span class="op" id="7489031">,</span>&nbsp;<span class="ident" id="7489033">err</span>&nbsp;<span class="op" id="7489037">:=</span>&nbsp;<span class="ident" id="7489040">ReadMessage</span><span class="op" id="7489051">(</span><span class="ident" id="7489052">bytes</span><span class="op" id="7489057">.</span><span class="ident" id="7489058">NewBuffer</span><span class="op" id="7489067">(</span><span class="op" id="7489068">[</span><span class="op" id="7489069">]</span><span class="builtintype" id="7489070">byte</span><span class="op" id="7489074">(</span><span class="ident" id="7489075">test</span><span class="op" id="7489079">.</span><span class="ident" id="7489080">in</span><span class="op" id="7489082">)</span><span class="op" id="7489083">)</span><span class="op" id="7489084">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489088">if</span>&nbsp;<span class="ident" id="7489091">err</span>&nbsp;<span class="op" id="7489095">!=</span>&nbsp;<span class="ident" id="7489098">nil</span>&nbsp;<span class="op" id="7489102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489107">t</span><span class="op" id="7489108">.</span><span class="ident" id="7489109">Errorf</span><span class="op" id="7489115">(</span><span class="string" id="7489116">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="7489154">,</span>&nbsp;<span class="ident" id="7489156">i</span><span class="op" id="7489157">,</span>&nbsp;<span class="ident" id="7489159">err</span><span class="op" id="7489162">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489167">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489178">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489182">if</span>&nbsp;<span class="op" id="7489185">!</span><span class="ident" id="7489186">headerEq</span><span class="op" id="7489194">(</span><span class="ident" id="7489195">msg</span><span class="op" id="7489198">.</span><span class="ident" id="7489199">Header</span><span class="op" id="7489205">,</span>&nbsp;<span class="ident" id="7489207">test</span><span class="op" id="7489211">.</span><span class="ident" id="7489212">header</span><span class="op" id="7489218">)</span>&nbsp;<span class="op" id="7489220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489225">t</span><span class="op" id="7489226">.</span><span class="ident" id="7489227">Errorf</span><span class="op" id="7489233">(</span><span class="string" id="7489234">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7489303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489309">i</span><span class="op" id="7489310">,</span>&nbsp;<span class="ident" id="7489312">msg</span><span class="op" id="7489315">.</span><span class="ident" id="7489316">Header</span><span class="op" id="7489322">,</span>&nbsp;<span class="ident" id="7489324">test</span><span class="op" id="7489328">.</span><span class="ident" id="7489329">header</span><span class="op" id="7489335">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489343">body</span><span class="op" id="7489347">,</span>&nbsp;<span class="ident" id="7489349">err</span>&nbsp;<span class="op" id="7489353">:=</span>&nbsp;<span class="ident" id="7489356">ioutil</span><span class="op" id="7489362">.</span><span class="ident" id="7489363">ReadAll</span><span class="op" id="7489370">(</span><span class="ident" id="7489371">msg</span><span class="op" id="7489374">.</span><span class="ident" id="7489375">Body</span><span class="op" id="7489379">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489383">if</span>&nbsp;<span class="ident" id="7489386">err</span>&nbsp;<span class="op" id="7489390">!=</span>&nbsp;<span class="ident" id="7489393">nil</span>&nbsp;<span class="op" id="7489397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489402">t</span><span class="op" id="7489403">.</span><span class="ident" id="7489404">Errorf</span><span class="op" id="7489410">(</span><span class="string" id="7489411">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="7489446">,</span>&nbsp;<span class="ident" id="7489448">i</span><span class="op" id="7489449">,</span>&nbsp;<span class="ident" id="7489451">err</span><span class="op" id="7489454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489459">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489470">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489474">bodyStr</span>&nbsp;<span class="op" id="7489482">:=</span>&nbsp;<span class="builtintype" id="7489485">string</span><span class="op" id="7489491">(</span><span class="ident" id="7489492">body</span><span class="op" id="7489496">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489500">if</span>&nbsp;<span class="ident" id="7489503">bodyStr</span>&nbsp;<span class="op" id="7489511">!=</span>&nbsp;<span class="ident" id="7489514">test</span><span class="op" id="7489518">.</span><span class="ident" id="7489519">body</span>&nbsp;<span class="op" id="7489524">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489529">t</span><span class="op" id="7489530">.</span><span class="ident" id="7489531">Errorf</span><span class="op" id="7489537">(</span><span class="string" id="7489538">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="7489605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489611">i</span><span class="op" id="7489612">,</span>&nbsp;<span class="ident" id="7489614">bodyStr</span><span class="op" id="7489621">,</span>&nbsp;<span class="ident" id="7489623">test</span><span class="op" id="7489627">.</span><span class="ident" id="7489628">body</span><span class="op" id="7489632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489639">}</span><br>
<span class="lineno">65</span><span class="op" id="7489641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7489644">func</span>&nbsp;<span class="ident" id="7489649">headerEq</span><span class="op" id="7489657">(</span><span class="ident" id="7489658">a</span><span class="op" id="7489659">,</span>&nbsp;<span class="ident" id="7489661">b</span>&nbsp;<span class="ident" id="7489663">Header</span><span class="op" id="7489669">)</span>&nbsp;<span class="builtintype" id="7489671">bool</span>&nbsp;<span class="op" id="7489676">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489679">if</span>&nbsp;<span class="builtinfunc" id="7489682">len</span><span class="op" id="7489685">(</span><span class="ident" id="7489686">a</span><span class="op" id="7489687">)</span>&nbsp;<span class="op" id="7489689">!=</span>&nbsp;<span class="builtinfunc" id="7489692">len</span><span class="op" id="7489695">(</span><span class="ident" id="7489696">b</span><span class="op" id="7489697">)</span>&nbsp;<span class="op" id="7489699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489703">return</span>&nbsp;<span class="builtintype" id="7489710">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489717">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489720">for</span>&nbsp;<span class="ident" id="7489724">k</span><span class="op" id="7489725">,</span>&nbsp;<span class="ident" id="7489727">as</span>&nbsp;<span class="op" id="7489730">:=</span>&nbsp;<span class="keyword" id="7489733">range</span>&nbsp;<span class="ident" id="7489739">a</span>&nbsp;<span class="op" id="7489741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489745">bs</span><span class="op" id="7489747">,</span>&nbsp;<span class="ident" id="7489749">ok</span>&nbsp;<span class="op" id="7489752">:=</span>&nbsp;<span class="ident" id="7489755">b</span><span class="op" id="7489756">[</span><span class="ident" id="7489757">k</span><span class="op" id="7489758">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489762">if</span>&nbsp;<span class="op" id="7489765">!</span><span class="ident" id="7489766">ok</span>&nbsp;<span class="op" id="7489769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489774">return</span>&nbsp;<span class="builtintype" id="7489781">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489789">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489793">if</span>&nbsp;<span class="op" id="7489796">!</span><span class="ident" id="7489797">reflect</span><span class="op" id="7489804">.</span><span class="ident" id="7489805">DeepEqual</span><span class="op" id="7489814">(</span><span class="ident" id="7489815">as</span><span class="op" id="7489817">,</span>&nbsp;<span class="ident" id="7489819">bs</span><span class="op" id="7489821">)</span>&nbsp;<span class="op" id="7489823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489828">return</span>&nbsp;<span class="builtintype" id="7489835">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489846">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7489849">return</span>&nbsp;<span class="builtintype" id="7489856">true</span><br>
<span class="lineno"></span><span class="op" id="7489861">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7489864">func</span>&nbsp;<span class="ident" id="7489869">TestDateParsing</span><span class="op" id="7489884">(</span><span class="ident" id="7489885">t</span>&nbsp;<span class="op" id="7489887">*</span><span class="ident" id="7489888">testing</span><span class="op" id="7489895">.</span><span class="ident" id="7489896">T</span><span class="op" id="7489897">)</span>&nbsp;<span class="op" id="7489899">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489902">tests</span>&nbsp;<span class="op" id="7489908">:=</span>&nbsp;<span class="op" id="7489911">[</span><span class="op" id="7489912">]</span><span class="keyword" id="7489913">struct</span>&nbsp;<span class="op" id="7489920">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489924">dateStr</span>&nbsp;<span class="builtintype" id="7489932">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7489941">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7489949">time</span><span class="op" id="7489953">.</span><span class="ident" id="7489954">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489960">}</span><span class="op" id="7489961">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7489965">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7489995">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490000">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="7490033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490038">time</span><span class="op" id="7490042">.</span><span class="ident" id="7490043">Date</span><span class="op" id="7490047">(</span><span class="num" id="7490048">1997</span><span class="op" id="7490052">,</span>&nbsp;<span class="num" id="7490054">11</span><span class="op" id="7490056">,</span>&nbsp;<span class="num" id="7490058">21</span><span class="op" id="7490060">,</span>&nbsp;<span class="num" id="7490062">9</span><span class="op" id="7490063">,</span>&nbsp;<span class="num" id="7490065">55</span><span class="op" id="7490067">,</span>&nbsp;<span class="num" id="7490069">6</span><span class="op" id="7490070">,</span>&nbsp;<span class="num" id="7490072">0</span><span class="op" id="7490073">,</span>&nbsp;<span class="ident" id="7490075">time</span><span class="op" id="7490079">.</span><span class="ident" id="7490080">FixedZone</span><span class="op" id="7490089">(</span><span class="string" id="7490090">&#34;&#34;</span><span class="op" id="7490092">,</span>&nbsp;<span class="op" id="7490094">-</span><span class="num" id="7490095">6</span><span class="op" id="7490096">*</span><span class="num" id="7490097">60</span><span class="op" id="7490099">*</span><span class="num" id="7490100">60</span><span class="op" id="7490102">)</span><span class="op" id="7490103">)</span><span class="op" id="7490104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490108">}</span><span class="op" id="7490109">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490113">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490142">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490167">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="7490191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490196">time</span><span class="op" id="7490200">.</span><span class="ident" id="7490201">Date</span><span class="op" id="7490205">(</span><span class="num" id="7490206">1997</span><span class="op" id="7490210">,</span>&nbsp;<span class="num" id="7490212">11</span><span class="op" id="7490214">,</span>&nbsp;<span class="num" id="7490216">21</span><span class="op" id="7490218">,</span>&nbsp;<span class="num" id="7490220">9</span><span class="op" id="7490221">,</span>&nbsp;<span class="num" id="7490223">55</span><span class="op" id="7490225">,</span>&nbsp;<span class="num" id="7490227">6</span><span class="op" id="7490228">,</span>&nbsp;<span class="num" id="7490230">0</span><span class="op" id="7490231">,</span>&nbsp;<span class="ident" id="7490233">time</span><span class="op" id="7490237">.</span><span class="ident" id="7490238">FixedZone</span><span class="op" id="7490247">(</span><span class="string" id="7490248">&#34;GMT&#34;</span><span class="op" id="7490253">,</span>&nbsp;<span class="num" id="7490255">0</span><span class="op" id="7490256">)</span><span class="op" id="7490257">)</span><span class="op" id="7490258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490262">}</span><span class="op" id="7490263">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7490267">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490326">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="7490365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490370">time</span><span class="op" id="7490374">.</span><span class="ident" id="7490375">Date</span><span class="op" id="7490379">(</span><span class="num" id="7490380">1997</span><span class="op" id="7490384">,</span>&nbsp;<span class="num" id="7490386">11</span><span class="op" id="7490388">,</span>&nbsp;<span class="num" id="7490390">21</span><span class="op" id="7490392">,</span>&nbsp;<span class="num" id="7490394">9</span><span class="op" id="7490395">,</span>&nbsp;<span class="num" id="7490397">55</span><span class="op" id="7490399">,</span>&nbsp;<span class="num" id="7490401">6</span><span class="op" id="7490402">,</span>&nbsp;<span class="num" id="7490404">0</span><span class="op" id="7490405">,</span>&nbsp;<span class="ident" id="7490407">time</span><span class="op" id="7490411">.</span><span class="ident" id="7490412">FixedZone</span><span class="op" id="7490421">(</span><span class="string" id="7490422">&#34;&#34;</span><span class="op" id="7490424">,</span>&nbsp;<span class="op" id="7490426">-</span><span class="num" id="7490427">6</span><span class="op" id="7490428">*</span><span class="num" id="7490429">60</span><span class="op" id="7490431">*</span><span class="num" id="7490432">60</span><span class="op" id="7490434">)</span><span class="op" id="7490435">)</span><span class="op" id="7490436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490440">}</span><span class="op" id="7490441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490444">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490447">for</span>&nbsp;<span class="ident" id="7490451">_</span><span class="op" id="7490452">,</span>&nbsp;<span class="ident" id="7490454">test</span>&nbsp;<span class="op" id="7490459">:=</span>&nbsp;<span class="keyword" id="7490462">range</span>&nbsp;<span class="ident" id="7490468">tests</span>&nbsp;<span class="op" id="7490474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490478">hdr</span>&nbsp;<span class="op" id="7490482">:=</span>&nbsp;<span class="ident" id="7490485">Header</span><span class="op" id="7490491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7490496">&#34;Date&#34;</span><span class="op" id="7490502">:</span>&nbsp;<span class="op" id="7490504">[</span><span class="op" id="7490505">]</span><span class="builtintype" id="7490506">string</span><span class="op" id="7490512">{</span><span class="ident" id="7490513">test</span><span class="op" id="7490517">.</span><span class="ident" id="7490518">dateStr</span><span class="op" id="7490525">}</span><span class="op" id="7490526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490534">date</span><span class="op" id="7490538">,</span>&nbsp;<span class="ident" id="7490540">err</span>&nbsp;<span class="op" id="7490544">:=</span>&nbsp;<span class="ident" id="7490547">hdr</span><span class="op" id="7490550">.</span><span class="ident" id="7490551">Date</span><span class="op" id="7490555">(</span><span class="op" id="7490556">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490560">if</span>&nbsp;<span class="ident" id="7490563">err</span>&nbsp;<span class="op" id="7490567">!=</span>&nbsp;<span class="ident" id="7490570">nil</span>&nbsp;<span class="op" id="7490574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490579">t</span><span class="op" id="7490580">.</span><span class="ident" id="7490581">Errorf</span><span class="op" id="7490587">(</span><span class="string" id="7490588">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7490611">,</span>&nbsp;<span class="ident" id="7490613">test</span><span class="op" id="7490617">.</span><span class="ident" id="7490618">dateStr</span><span class="op" id="7490625">,</span>&nbsp;<span class="ident" id="7490627">err</span><span class="op" id="7490630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490635">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490650">if</span>&nbsp;<span class="op" id="7490653">!</span><span class="ident" id="7490654">date</span><span class="op" id="7490658">.</span><span class="ident" id="7490659">Equal</span><span class="op" id="7490664">(</span><span class="ident" id="7490665">test</span><span class="op" id="7490669">.</span><span class="ident" id="7490670">exp</span><span class="op" id="7490673">)</span>&nbsp;<span class="op" id="7490675">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490680">t</span><span class="op" id="7490681">.</span><span class="ident" id="7490682">Errorf</span><span class="op" id="7490688">(</span><span class="string" id="7490689">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7490721">,</span>&nbsp;<span class="ident" id="7490723">test</span><span class="op" id="7490727">.</span><span class="ident" id="7490728">dateStr</span><span class="op" id="7490735">,</span>&nbsp;<span class="ident" id="7490737">date</span><span class="op" id="7490741">,</span>&nbsp;<span class="ident" id="7490743">test</span><span class="op" id="7490747">.</span><span class="ident" id="7490748">exp</span><span class="op" id="7490751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490755">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7490758">}</span><br>
<span class="lineno"></span><span class="op" id="7490760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="7490763">func</span>&nbsp;<span class="ident" id="7490768">TestAddressParsingError</span><span class="op" id="7490791">(</span><span class="ident" id="7490792">t</span>&nbsp;<span class="op" id="7490794">*</span><span class="ident" id="7490795">testing</span><span class="op" id="7490802">.</span><span class="ident" id="7490803">T</span><span class="op" id="7490804">)</span>&nbsp;<span class="op" id="7490806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490809">const</span>&nbsp;<span class="ident" id="7490815">txt</span>&nbsp;<span class="op" id="7490819">=</span>&nbsp;<span class="string" id="7490821">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490881">_</span><span class="op" id="7490882">,</span>&nbsp;<span class="ident" id="7490884">err</span>&nbsp;<span class="op" id="7490888">:=</span>&nbsp;<span class="ident" id="7490891">ParseAddress</span><span class="op" id="7490903">(</span><span class="ident" id="7490904">txt</span><span class="op" id="7490907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7490910">if</span>&nbsp;<span class="ident" id="7490913">err</span>&nbsp;<span class="op" id="7490917">==</span>&nbsp;<span class="ident" id="7490920">nil</span>&nbsp;<span class="op" id="7490924">||</span>&nbsp;<span class="op" id="7490927">!</span><span class="ident" id="7490928">strings</span><span class="op" id="7490935">.</span><span class="ident" id="7490936">Contains</span><span class="op" id="7490944">(</span><span class="ident" id="7490945">err</span><span class="op" id="7490948">.</span><span class="ident" id="7490949">Error</span><span class="op" id="7490954">(</span><span class="op" id="7490955">)</span><span class="op" id="7490956">,</span>&nbsp;<span class="string" id="7490958">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="7490981">)</span>&nbsp;<span class="op" id="7490983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7490987">t</span><span class="op" id="7490988">.</span><span class="ident" id="7490989">Errorf</span><span class="op" id="7490995">(</span><span class="string" id="7490996">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="7491061">,</span>&nbsp;<span class="ident" id="7491063">txt</span><span class="op" id="7491066">,</span>&nbsp;<span class="ident" id="7491068">err</span><span class="op" id="7491071">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491074">}</span><br>
<span class="lineno"></span><span class="op" id="7491076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7491079">func</span>&nbsp;<span class="ident" id="7491084">TestAddressParsing</span><span class="op" id="7491102">(</span><span class="ident" id="7491103">t</span>&nbsp;<span class="op" id="7491105">*</span><span class="ident" id="7491106">testing</span><span class="op" id="7491113">.</span><span class="ident" id="7491114">T</span><span class="op" id="7491115">)</span>&nbsp;<span class="op" id="7491117">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491120">tests</span>&nbsp;<span class="op" id="7491126">:=</span>&nbsp;<span class="op" id="7491129">[</span><span class="op" id="7491130">]</span><span class="keyword" id="7491131">struct</span>&nbsp;<span class="op" id="7491138">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491142">addrsStr</span>&nbsp;<span class="builtintype" id="7491151">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491160">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7491169">[</span><span class="op" id="7491170">]</span><span class="op" id="7491171">*</span><span class="ident" id="7491172">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491181">}</span><span class="op" id="7491182">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491186">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491204">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7491209">`jdoe@machine.example`</span><span class="op" id="7491231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491236">[</span><span class="op" id="7491237">]</span><span class="op" id="7491238">*</span><span class="ident" id="7491239">Address</span><span class="op" id="7491246">{</span><span class="op" id="7491247">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491253">Address</span><span class="op" id="7491260">:</span>&nbsp;<span class="string" id="7491262">&#34;jdoe@machine.example&#34;</span><span class="op" id="7491284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491289">}</span><span class="op" id="7491290">}</span><span class="op" id="7491291">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491295">}</span><span class="op" id="7491296">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491300">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491330">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7491335">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="7491368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491373">[</span><span class="op" id="7491374">]</span><span class="op" id="7491375">*</span><span class="ident" id="7491376">Address</span><span class="op" id="7491383">{</span><span class="op" id="7491384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491390">Name</span><span class="op" id="7491394">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491399">&#34;John&nbsp;Doe&#34;</span><span class="op" id="7491409">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491415">Address</span><span class="op" id="7491422">:</span>&nbsp;<span class="string" id="7491424">&#34;jdoe@machine.example&#34;</span><span class="op" id="7491446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491451">}</span><span class="op" id="7491452">}</span><span class="op" id="7491453">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491457">}</span><span class="op" id="7491458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7491462">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491492">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7491497">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="7491542">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491547">[</span><span class="op" id="7491548">]</span><span class="op" id="7491549">*</span><span class="ident" id="7491550">Address</span><span class="op" id="7491557">{</span><span class="op" id="7491558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491564">Name</span><span class="op" id="7491568">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491573">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="7491588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491594">Address</span><span class="op" id="7491601">:</span>&nbsp;<span class="string" id="7491603">&#34;john.q.public@example.com&#34;</span><span class="op" id="7491630">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491635">}</span><span class="op" id="7491636">}</span><span class="op" id="7491637">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491641">}</span><span class="op" id="7491642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7491651">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="7491714">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491719">[</span><span class="op" id="7491720">]</span><span class="op" id="7491721">*</span><span class="ident" id="7491722">Address</span><span class="op" id="7491729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491735">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491742">Name</span><span class="op" id="7491746">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491751">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="7491763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491770">Address</span><span class="op" id="7491777">:</span>&nbsp;<span class="string" id="7491779">&#34;mary@x.test&#34;</span><span class="op" id="7491792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491798">}</span><span class="op" id="7491799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491812">Address</span><span class="op" id="7491819">:</span>&nbsp;<span class="string" id="7491821">&#34;jdoe@example.org&#34;</span><span class="op" id="7491839">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491845">}</span><span class="op" id="7491846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491852">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491859">Name</span><span class="op" id="7491863">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7491868">&#34;Who?&#34;</span><span class="op" id="7491874">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7491881">Address</span><span class="op" id="7491888">:</span>&nbsp;<span class="string" id="7491890">&#34;one@y.test&#34;</span><span class="op" id="7491902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491908">}</span><span class="op" id="7491909">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491914">}</span><span class="op" id="7491915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491919">}</span><span class="op" id="7491920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7491929">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="7491994">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7491999">[</span><span class="op" id="7492000">]</span><span class="op" id="7492001">*</span><span class="ident" id="7492002">Address</span><span class="op" id="7492009">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492022">Address</span><span class="op" id="7492029">:</span>&nbsp;<span class="string" id="7492031">&#34;boss@nil.test&#34;</span><span class="op" id="7492046">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492052">}</span><span class="op" id="7492053">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492066">Name</span><span class="op" id="7492070">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492075">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="7492093">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492100">Address</span><span class="op" id="7492107">:</span>&nbsp;<span class="string" id="7492109">&#34;sysservices@example.net&#34;</span><span class="op" id="7492134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492140">}</span><span class="op" id="7492141">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492146">}</span><span class="op" id="7492147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492151">}</span><span class="op" id="7492152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492156">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492186">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492225">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492271">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7492276">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7492325">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492330">[</span><span class="op" id="7492331">]</span><span class="op" id="7492332">*</span><span class="ident" id="7492333">Address</span><span class="op" id="7492340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492353">Name</span><span class="op" id="7492357">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492362">`Jrg&nbsp;Doe`</span><span class="op" id="7492373">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492380">Address</span><span class="op" id="7492387">:</span>&nbsp;<span class="string" id="7492389">&#34;joerg@example.com&#34;</span><span class="op" id="7492408">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492414">}</span><span class="op" id="7492415">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492420">}</span><span class="op" id="7492421">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492425">}</span><span class="op" id="7492426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492430">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7492495">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7492542">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492547">[</span><span class="op" id="7492548">]</span><span class="op" id="7492549">*</span><span class="ident" id="7492550">Address</span><span class="op" id="7492557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492570">Name</span><span class="op" id="7492574">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492579">`Jorg&nbsp;Doe`</span><span class="op" id="7492589">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492596">Address</span><span class="op" id="7492603">:</span>&nbsp;<span class="string" id="7492605">&#34;joerg@example.com&#34;</span><span class="op" id="7492624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492630">}</span><span class="op" id="7492631">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492636">}</span><span class="op" id="7492637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492641">}</span><span class="op" id="7492642">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492646">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7492692">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7492739">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492744">[</span><span class="op" id="7492745">]</span><span class="op" id="7492746">*</span><span class="ident" id="7492747">Address</span><span class="op" id="7492754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492760">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492767">Name</span><span class="op" id="7492771">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492776">`Jrg&nbsp;Doe`</span><span class="op" id="7492787">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492794">Address</span><span class="op" id="7492801">:</span>&nbsp;<span class="string" id="7492803">&#34;joerg@example.com&#34;</span><span class="op" id="7492822">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492828">}</span><span class="op" id="7492829">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492834">}</span><span class="op" id="7492835">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492839">}</span><span class="op" id="7492840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7492844">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7492875">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="7492931">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492936">[</span><span class="op" id="7492937">]</span><span class="op" id="7492938">*</span><span class="ident" id="7492939">Address</span><span class="op" id="7492946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7492952">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492959">Name</span><span class="op" id="7492963">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7492968">`Andr&nbsp;Pirard`</span><span class="op" id="7492983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7492990">Address</span><span class="op" id="7492997">:</span>&nbsp;<span class="string" id="7492999">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="7493021">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493027">}</span><span class="op" id="7493028">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493033">}</span><span class="op" id="7493034">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493038">}</span><span class="op" id="7493039">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493043">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7493112">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7493159">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493164">[</span><span class="op" id="7493165">]</span><span class="op" id="7493166">*</span><span class="ident" id="7493167">Address</span><span class="op" id="7493174">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493187">Name</span><span class="op" id="7493191">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493196">`Jrg`</span><span class="op" id="7493203">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493210">Address</span><span class="op" id="7493217">:</span>&nbsp;<span class="string" id="7493219">&#34;joerg@example.com&#34;</span><span class="op" id="7493238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493244">}</span><span class="op" id="7493245">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493250">}</span><span class="op" id="7493251">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493255">}</span><span class="op" id="7493256">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493260">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7493324">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="7493366">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493371">[</span><span class="op" id="7493372">]</span><span class="op" id="7493373">*</span><span class="ident" id="7493374">Address</span><span class="op" id="7493381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493394">Name</span><span class="op" id="7493398">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493403">`Jrg`</span><span class="op" id="7493410">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493417">Address</span><span class="op" id="7493424">:</span>&nbsp;<span class="string" id="7493426">&#34;joerg@example.com&#34;</span><span class="op" id="7493445">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493451">}</span><span class="op" id="7493452">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493457">}</span><span class="op" id="7493458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493462">}</span><span class="op" id="7493463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7493467">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7493525">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="7493556">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493561">[</span><span class="op" id="7493562">]</span><span class="op" id="7493563">*</span><span class="ident" id="7493564">Address</span><span class="op" id="7493571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493577">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493584">Name</span><span class="op" id="7493588">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7493593">`Asem&nbsp;H.`</span><span class="op" id="7493602">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493609">Address</span><span class="op" id="7493616">:</span>&nbsp;<span class="string" id="7493618">&#34;noreply@example.com&#34;</span><span class="op" id="7493639">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493645">}</span><span class="op" id="7493646">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493651">}</span><span class="op" id="7493652">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493656">}</span><span class="op" id="7493657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493663">for</span>&nbsp;<span class="ident" id="7493667">_</span><span class="op" id="7493668">,</span>&nbsp;<span class="ident" id="7493670">test</span>&nbsp;<span class="op" id="7493675">:=</span>&nbsp;<span class="keyword" id="7493678">range</span>&nbsp;<span class="ident" id="7493684">tests</span>&nbsp;<span class="op" id="7493690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493694">if</span>&nbsp;<span class="builtinfunc" id="7493697">len</span><span class="op" id="7493700">(</span><span class="ident" id="7493701">test</span><span class="op" id="7493705">.</span><span class="ident" id="7493706">exp</span><span class="op" id="7493709">)</span>&nbsp;<span class="op" id="7493711">==</span>&nbsp;<span class="num" id="7493714">1</span>&nbsp;<span class="op" id="7493716">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493721">addr</span><span class="op" id="7493725">,</span>&nbsp;<span class="ident" id="7493727">err</span>&nbsp;<span class="op" id="7493731">:=</span>&nbsp;<span class="ident" id="7493734">ParseAddress</span><span class="op" id="7493746">(</span><span class="ident" id="7493747">test</span><span class="op" id="7493751">.</span><span class="ident" id="7493752">addrsStr</span><span class="op" id="7493760">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493765">if</span>&nbsp;<span class="ident" id="7493768">err</span>&nbsp;<span class="op" id="7493772">!=</span>&nbsp;<span class="ident" id="7493775">nil</span>&nbsp;<span class="op" id="7493779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493785">t</span><span class="op" id="7493786">.</span><span class="ident" id="7493787">Errorf</span><span class="op" id="7493793">(</span><span class="string" id="7493794">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7493826">,</span>&nbsp;<span class="ident" id="7493828">test</span><span class="op" id="7493832">.</span><span class="ident" id="7493833">addrsStr</span><span class="op" id="7493841">,</span>&nbsp;<span class="ident" id="7493843">err</span><span class="op" id="7493846">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493852">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7493864">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7493869">if</span>&nbsp;<span class="op" id="7493872">!</span><span class="ident" id="7493873">reflect</span><span class="op" id="7493880">.</span><span class="ident" id="7493881">DeepEqual</span><span class="op" id="7493890">(</span><span class="op" id="7493891">[</span><span class="op" id="7493892">]</span><span class="op" id="7493893">*</span><span class="ident" id="7493894">Address</span><span class="op" id="7493901">{</span><span class="ident" id="7493902">addr</span><span class="op" id="7493906">}</span><span class="op" id="7493907">,</span>&nbsp;<span class="ident" id="7493909">test</span><span class="op" id="7493913">.</span><span class="ident" id="7493914">exp</span><span class="op" id="7493917">)</span>&nbsp;<span class="op" id="7493919">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7493925">t</span><span class="op" id="7493926">.</span><span class="ident" id="7493927">Errorf</span><span class="op" id="7493933">(</span><span class="string" id="7493934">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7493975">,</span>&nbsp;<span class="ident" id="7493977">test</span><span class="op" id="7493981">.</span><span class="ident" id="7493982">addrsStr</span><span class="op" id="7493990">,</span>&nbsp;<span class="ident" id="7493992">addr</span><span class="op" id="7493996">,</span>&nbsp;<span class="ident" id="7493998">test</span><span class="op" id="7494002">.</span><span class="ident" id="7494003">exp</span><span class="op" id="7494006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494015">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494020">addrs</span><span class="op" id="7494025">,</span>&nbsp;<span class="ident" id="7494027">err</span>&nbsp;<span class="op" id="7494031">:=</span>&nbsp;<span class="ident" id="7494034">ParseAddressList</span><span class="op" id="7494050">(</span><span class="ident" id="7494051">test</span><span class="op" id="7494055">.</span><span class="ident" id="7494056">addrsStr</span><span class="op" id="7494064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494068">if</span>&nbsp;<span class="ident" id="7494071">err</span>&nbsp;<span class="op" id="7494075">!=</span>&nbsp;<span class="ident" id="7494078">nil</span>&nbsp;<span class="op" id="7494082">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494087">t</span><span class="op" id="7494088">.</span><span class="ident" id="7494089">Errorf</span><span class="op" id="7494095">(</span><span class="string" id="7494096">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="7494126">,</span>&nbsp;<span class="ident" id="7494128">test</span><span class="op" id="7494132">.</span><span class="ident" id="7494133">addrsStr</span><span class="op" id="7494141">,</span>&nbsp;<span class="ident" id="7494143">err</span><span class="op" id="7494146">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494151">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494162">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494166">if</span>&nbsp;<span class="op" id="7494169">!</span><span class="ident" id="7494170">reflect</span><span class="op" id="7494177">.</span><span class="ident" id="7494178">DeepEqual</span><span class="op" id="7494187">(</span><span class="ident" id="7494188">addrs</span><span class="op" id="7494193">,</span>&nbsp;<span class="ident" id="7494195">test</span><span class="op" id="7494199">.</span><span class="ident" id="7494200">exp</span><span class="op" id="7494203">)</span>&nbsp;<span class="op" id="7494205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494210">t</span><span class="op" id="7494211">.</span><span class="ident" id="7494212">Errorf</span><span class="op" id="7494218">(</span><span class="string" id="7494219">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="7494258">,</span>&nbsp;<span class="ident" id="7494260">test</span><span class="op" id="7494264">.</span><span class="ident" id="7494265">addrsStr</span><span class="op" id="7494273">,</span>&nbsp;<span class="ident" id="7494275">addrs</span><span class="op" id="7494280">,</span>&nbsp;<span class="ident" id="7494282">test</span><span class="op" id="7494286">.</span><span class="ident" id="7494287">exp</span><span class="op" id="7494290">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494297">}</span><br>
<span class="lineno"></span><span class="op" id="7494299">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="7494302">func</span>&nbsp;<span class="ident" id="7494307">TestAddressFormatting</span><span class="op" id="7494328">(</span><span class="ident" id="7494329">t</span>&nbsp;<span class="op" id="7494331">*</span><span class="ident" id="7494332">testing</span><span class="op" id="7494339">.</span><span class="ident" id="7494340">T</span><span class="op" id="7494341">)</span>&nbsp;<span class="op" id="7494343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494346">tests</span>&nbsp;<span class="op" id="7494352">:=</span>&nbsp;<span class="op" id="7494355">[</span><span class="op" id="7494356">]</span><span class="keyword" id="7494357">struct</span>&nbsp;<span class="op" id="7494364">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494368">addr</span>&nbsp;<span class="op" id="7494373">*</span><span class="ident" id="7494374">Address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494384">exp</span>&nbsp;&nbsp;<span class="builtintype" id="7494389">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494397">}</span><span class="op" id="7494398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494407">&amp;</span><span class="ident" id="7494408">Address</span><span class="op" id="7494415">{</span><span class="ident" id="7494416">Address</span><span class="op" id="7494423">:</span>&nbsp;<span class="string" id="7494425">&#34;bob@example.com&#34;</span><span class="op" id="7494442">}</span><span class="op" id="7494443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7494448">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="7494467">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494471">}</span><span class="op" id="7494472">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494481">&amp;</span><span class="ident" id="7494482">Address</span><span class="op" id="7494489">{</span><span class="ident" id="7494490">Name</span><span class="op" id="7494494">:</span>&nbsp;<span class="string" id="7494496">&#34;Bob&#34;</span><span class="op" id="7494501">,</span>&nbsp;<span class="ident" id="7494503">Address</span><span class="op" id="7494510">:</span>&nbsp;<span class="string" id="7494512">&#34;bob@example.com&#34;</span><span class="op" id="7494529">}</span><span class="op" id="7494530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7494535">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7494560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494564">}</span><span class="op" id="7494565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494569">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7494574">//&nbsp;note&nbsp;the&nbsp;&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494611">&amp;</span><span class="ident" id="7494612">Address</span><span class="op" id="7494619">{</span><span class="ident" id="7494620">Name</span><span class="op" id="7494624">:</span>&nbsp;<span class="string" id="7494626">&#34;Bb&#34;</span><span class="op" id="7494632">,</span>&nbsp;<span class="ident" id="7494634">Address</span><span class="op" id="7494641">:</span>&nbsp;<span class="string" id="7494643">&#34;bob@example.com&#34;</span><span class="op" id="7494660">}</span><span class="op" id="7494661">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7494666">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7494706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494710">}</span><span class="op" id="7494711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494715">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494720">&amp;</span><span class="ident" id="7494721">Address</span><span class="op" id="7494728">{</span><span class="ident" id="7494729">Name</span><span class="op" id="7494733">:</span>&nbsp;<span class="string" id="7494735">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="7494745">,</span>&nbsp;<span class="ident" id="7494747">Address</span><span class="op" id="7494754">:</span>&nbsp;<span class="string" id="7494756">&#34;bob@example.com&#34;</span><span class="op" id="7494773">}</span><span class="op" id="7494774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7494779">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7494809">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494813">}</span><span class="op" id="7494814">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494818">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494823">&amp;</span><span class="ident" id="7494824">Address</span><span class="op" id="7494831">{</span><span class="ident" id="7494832">Name</span><span class="op" id="7494836">:</span>&nbsp;<span class="string" id="7494838">&#34;Bb&nbsp;Jacb&#34;</span><span class="op" id="7494851">,</span>&nbsp;<span class="ident" id="7494853">Address</span><span class="op" id="7494860">:</span>&nbsp;<span class="string" id="7494862">&#34;bob@example.com&#34;</span><span class="op" id="7494879">}</span><span class="op" id="7494880">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7494885">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="7494936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494940">}</span><span class="op" id="7494941">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7494944">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7494947">for</span>&nbsp;<span class="ident" id="7494951">_</span><span class="op" id="7494952">,</span>&nbsp;<span class="ident" id="7494954">test</span>&nbsp;<span class="op" id="7494959">:=</span>&nbsp;<span class="keyword" id="7494962">range</span>&nbsp;<span class="ident" id="7494968">tests</span>&nbsp;<span class="op" id="7494974">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7494978">s</span>&nbsp;<span class="op" id="7494980">:=</span>&nbsp;<span class="ident" id="7494983">test</span><span class="op" id="7494987">.</span><span class="ident" id="7494988">addr</span><span class="op" id="7494992">.</span><span class="ident" id="7494993">String</span><span class="op" id="7494999">(</span><span class="op" id="7495000">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7495004">if</span>&nbsp;<span class="ident" id="7495007">s</span>&nbsp;<span class="op" id="7495009">!=</span>&nbsp;<span class="ident" id="7495012">test</span><span class="op" id="7495016">.</span><span class="ident" id="7495017">exp</span>&nbsp;<span class="op" id="7495021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7495026">t</span><span class="op" id="7495027">.</span><span class="ident" id="7495028">Errorf</span><span class="op" id="7495034">(</span><span class="string" id="7495035">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="7495070">,</span>&nbsp;<span class="op" id="7495072">*</span><span class="ident" id="7495073">test</span><span class="op" id="7495077">.</span><span class="ident" id="7495078">addr</span><span class="op" id="7495082">,</span>&nbsp;<span class="ident" id="7495084">s</span><span class="op" id="7495085">,</span>&nbsp;<span class="ident" id="7495087">test</span><span class="op" id="7495091">.</span><span class="ident" id="7495092">exp</span><span class="op" id="7495095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495099">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7495102">}</span><br>
<span class="lineno"></span><span class="op" id="7495104">}</span>
</div>
</body>
</html>
