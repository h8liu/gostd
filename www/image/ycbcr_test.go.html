<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="7165291">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7165346">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7165400">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7165451">package</span>&nbsp;<span class="ident" id="7165459">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7165466">import</span>&nbsp;<span class="op" id="7165473">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7165476">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7165491">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7165501">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7165504">func</span>&nbsp;<span class="ident" id="7165509">TestYCbCr</span><span class="op" id="7165518">(</span><span class="ident" id="7165519">t</span>&nbsp;<span class="op" id="7165521">*</span><span class="ident" id="7165522">testing</span><span class="op" id="7165529">.</span><span class="ident" id="7165530">T</span><span class="op" id="7165531">)</span>&nbsp;<span class="op" id="7165533">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165536">rects</span>&nbsp;<span class="op" id="7165542">:=</span>&nbsp;<span class="op" id="7165545">[</span><span class="op" id="7165546">]</span><span class="ident" id="7165547">Rectangle</span><span class="op" id="7165556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165560">Rect</span><span class="op" id="7165564">(</span><span class="num" id="7165565">0</span><span class="op" id="7165566">,</span>&nbsp;<span class="num" id="7165568">0</span><span class="op" id="7165569">,</span>&nbsp;<span class="num" id="7165571">16</span><span class="op" id="7165573">,</span>&nbsp;<span class="num" id="7165575">16</span><span class="op" id="7165577">)</span><span class="op" id="7165578">,</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165582">Rect</span><span class="op" id="7165586">(</span><span class="num" id="7165587">1</span><span class="op" id="7165588">,</span>&nbsp;<span class="num" id="7165590">0</span><span class="op" id="7165591">,</span>&nbsp;<span class="num" id="7165593">16</span><span class="op" id="7165595">,</span>&nbsp;<span class="num" id="7165597">16</span><span class="op" id="7165599">)</span><span class="op" id="7165600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165604">Rect</span><span class="op" id="7165608">(</span><span class="num" id="7165609">0</span><span class="op" id="7165610">,</span>&nbsp;<span class="num" id="7165612">1</span><span class="op" id="7165613">,</span>&nbsp;<span class="num" id="7165615">16</span><span class="op" id="7165617">,</span>&nbsp;<span class="num" id="7165619">16</span><span class="op" id="7165621">)</span><span class="op" id="7165622">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165626">Rect</span><span class="op" id="7165630">(</span><span class="num" id="7165631">1</span><span class="op" id="7165632">,</span>&nbsp;<span class="num" id="7165634">1</span><span class="op" id="7165635">,</span>&nbsp;<span class="num" id="7165637">16</span><span class="op" id="7165639">,</span>&nbsp;<span class="num" id="7165641">16</span><span class="op" id="7165643">)</span><span class="op" id="7165644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165648">Rect</span><span class="op" id="7165652">(</span><span class="num" id="7165653">1</span><span class="op" id="7165654">,</span>&nbsp;<span class="num" id="7165656">1</span><span class="op" id="7165657">,</span>&nbsp;<span class="num" id="7165659">15</span><span class="op" id="7165661">,</span>&nbsp;<span class="num" id="7165663">16</span><span class="op" id="7165665">)</span><span class="op" id="7165666">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165670">Rect</span><span class="op" id="7165674">(</span><span class="num" id="7165675">1</span><span class="op" id="7165676">,</span>&nbsp;<span class="num" id="7165678">1</span><span class="op" id="7165679">,</span>&nbsp;<span class="num" id="7165681">16</span><span class="op" id="7165683">,</span>&nbsp;<span class="num" id="7165685">15</span><span class="op" id="7165687">)</span><span class="op" id="7165688">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165692">Rect</span><span class="op" id="7165696">(</span><span class="num" id="7165697">1</span><span class="op" id="7165698">,</span>&nbsp;<span class="num" id="7165700">1</span><span class="op" id="7165701">,</span>&nbsp;<span class="num" id="7165703">15</span><span class="op" id="7165705">,</span>&nbsp;<span class="num" id="7165707">15</span><span class="op" id="7165709">)</span><span class="op" id="7165710">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165714">Rect</span><span class="op" id="7165718">(</span><span class="num" id="7165719">2</span><span class="op" id="7165720">,</span>&nbsp;<span class="num" id="7165722">3</span><span class="op" id="7165723">,</span>&nbsp;<span class="num" id="7165725">14</span><span class="op" id="7165727">,</span>&nbsp;<span class="num" id="7165729">15</span><span class="op" id="7165731">)</span><span class="op" id="7165732">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165736">Rect</span><span class="op" id="7165740">(</span><span class="num" id="7165741">7</span><span class="op" id="7165742">,</span>&nbsp;<span class="num" id="7165744">0</span><span class="op" id="7165745">,</span>&nbsp;<span class="num" id="7165747">7</span><span class="op" id="7165748">,</span>&nbsp;<span class="num" id="7165750">16</span><span class="op" id="7165752">)</span><span class="op" id="7165753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165757">Rect</span><span class="op" id="7165761">(</span><span class="num" id="7165762">0</span><span class="op" id="7165763">,</span>&nbsp;<span class="num" id="7165765">8</span><span class="op" id="7165766">,</span>&nbsp;<span class="num" id="7165768">16</span><span class="op" id="7165770">,</span>&nbsp;<span class="num" id="7165772">8</span><span class="op" id="7165773">)</span><span class="op" id="7165774">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165778">Rect</span><span class="op" id="7165782">(</span><span class="num" id="7165783">0</span><span class="op" id="7165784">,</span>&nbsp;<span class="num" id="7165786">0</span><span class="op" id="7165787">,</span>&nbsp;<span class="num" id="7165789">10</span><span class="op" id="7165791">,</span>&nbsp;<span class="num" id="7165793">11</span><span class="op" id="7165795">)</span><span class="op" id="7165796">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165800">Rect</span><span class="op" id="7165804">(</span><span class="num" id="7165805">5</span><span class="op" id="7165806">,</span>&nbsp;<span class="num" id="7165808">6</span><span class="op" id="7165809">,</span>&nbsp;<span class="num" id="7165811">16</span><span class="op" id="7165813">,</span>&nbsp;<span class="num" id="7165815">16</span><span class="op" id="7165817">)</span><span class="op" id="7165818">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165822">Rect</span><span class="op" id="7165826">(</span><span class="num" id="7165827">7</span><span class="op" id="7165828">,</span>&nbsp;<span class="num" id="7165830">7</span><span class="op" id="7165831">,</span>&nbsp;<span class="num" id="7165833">8</span><span class="op" id="7165834">,</span>&nbsp;<span class="num" id="7165836">8</span><span class="op" id="7165837">)</span><span class="op" id="7165838">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165842">Rect</span><span class="op" id="7165846">(</span><span class="num" id="7165847">7</span><span class="op" id="7165848">,</span>&nbsp;<span class="num" id="7165850">8</span><span class="op" id="7165851">,</span>&nbsp;<span class="num" id="7165853">8</span><span class="op" id="7165854">,</span>&nbsp;<span class="num" id="7165856">9</span><span class="op" id="7165857">)</span><span class="op" id="7165858">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165862">Rect</span><span class="op" id="7165866">(</span><span class="num" id="7165867">8</span><span class="op" id="7165868">,</span>&nbsp;<span class="num" id="7165870">7</span><span class="op" id="7165871">,</span>&nbsp;<span class="num" id="7165873">9</span><span class="op" id="7165874">,</span>&nbsp;<span class="num" id="7165876">8</span><span class="op" id="7165877">)</span><span class="op" id="7165878">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165882">Rect</span><span class="op" id="7165886">(</span><span class="num" id="7165887">8</span><span class="op" id="7165888">,</span>&nbsp;<span class="num" id="7165890">8</span><span class="op" id="7165891">,</span>&nbsp;<span class="num" id="7165893">9</span><span class="op" id="7165894">,</span>&nbsp;<span class="num" id="7165896">9</span><span class="op" id="7165897">)</span><span class="op" id="7165898">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165902">Rect</span><span class="op" id="7165906">(</span><span class="num" id="7165907">7</span><span class="op" id="7165908">,</span>&nbsp;<span class="num" id="7165910">7</span><span class="op" id="7165911">,</span>&nbsp;<span class="num" id="7165913">17</span><span class="op" id="7165915">,</span>&nbsp;<span class="num" id="7165917">17</span><span class="op" id="7165919">)</span><span class="op" id="7165920">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165924">Rect</span><span class="op" id="7165928">(</span><span class="num" id="7165929">8</span><span class="op" id="7165930">,</span>&nbsp;<span class="num" id="7165932">8</span><span class="op" id="7165933">,</span>&nbsp;<span class="num" id="7165935">17</span><span class="op" id="7165937">,</span>&nbsp;<span class="num" id="7165939">17</span><span class="op" id="7165941">)</span><span class="op" id="7165942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165946">Rect</span><span class="op" id="7165950">(</span><span class="num" id="7165951">9</span><span class="op" id="7165952">,</span>&nbsp;<span class="num" id="7165954">9</span><span class="op" id="7165955">,</span>&nbsp;<span class="num" id="7165957">17</span><span class="op" id="7165959">,</span>&nbsp;<span class="num" id="7165961">17</span><span class="op" id="7165963">)</span><span class="op" id="7165964">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165968">Rect</span><span class="op" id="7165972">(</span><span class="num" id="7165973">10</span><span class="op" id="7165975">,</span>&nbsp;<span class="num" id="7165977">10</span><span class="op" id="7165979">,</span>&nbsp;<span class="num" id="7165981">17</span><span class="op" id="7165983">,</span>&nbsp;<span class="num" id="7165985">17</span><span class="op" id="7165987">)</span><span class="op" id="7165988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7165991">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7165994">subsampleRatios</span>&nbsp;<span class="op" id="7166010">:=</span>&nbsp;<span class="op" id="7166013">[</span><span class="op" id="7166014">]</span><span class="ident" id="7166015">YCbCrSubsampleRatio</span><span class="op" id="7166034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166038">YCbCrSubsampleRatio444</span><span class="op" id="7166060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166064">YCbCrSubsampleRatio422</span><span class="op" id="7166086">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166090">YCbCrSubsampleRatio420</span><span class="op" id="7166112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166116">YCbCrSubsampleRatio440</span><span class="op" id="7166138">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166144">deltas</span>&nbsp;<span class="op" id="7166151">:=</span>&nbsp;<span class="op" id="7166154">[</span><span class="op" id="7166155">]</span><span class="ident" id="7166156">Point</span><span class="op" id="7166161">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166165">Pt</span><span class="op" id="7166167">(</span><span class="num" id="7166168">0</span><span class="op" id="7166169">,</span>&nbsp;<span class="num" id="7166171">0</span><span class="op" id="7166172">)</span><span class="op" id="7166173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166177">Pt</span><span class="op" id="7166179">(</span><span class="num" id="7166180">1000</span><span class="op" id="7166184">,</span>&nbsp;<span class="num" id="7166186">1001</span><span class="op" id="7166190">)</span><span class="op" id="7166191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166195">Pt</span><span class="op" id="7166197">(</span><span class="num" id="7166198">5001</span><span class="op" id="7166202">,</span>&nbsp;<span class="op" id="7166204">-</span><span class="num" id="7166205">400</span><span class="op" id="7166208">)</span><span class="op" id="7166209">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166213">Pt</span><span class="op" id="7166215">(</span><span class="op" id="7166216">-</span><span class="num" id="7166217">701</span><span class="op" id="7166220">,</span>&nbsp;<span class="op" id="7166222">-</span><span class="num" id="7166223">801</span><span class="op" id="7166226">)</span><span class="op" id="7166227">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166233">for</span>&nbsp;<span class="ident" id="7166237">_</span><span class="op" id="7166238">,</span>&nbsp;<span class="ident" id="7166240">r</span>&nbsp;<span class="op" id="7166242">:=</span>&nbsp;<span class="keyword" id="7166245">range</span>&nbsp;<span class="ident" id="7166251">rects</span>&nbsp;<span class="op" id="7166257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166261">for</span>&nbsp;<span class="ident" id="7166265">_</span><span class="op" id="7166266">,</span>&nbsp;<span class="ident" id="7166268">subsampleRatio</span>&nbsp;<span class="op" id="7166283">:=</span>&nbsp;<span class="keyword" id="7166286">range</span>&nbsp;<span class="ident" id="7166292">subsampleRatios</span>&nbsp;<span class="op" id="7166308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166313">for</span>&nbsp;<span class="ident" id="7166317">_</span><span class="op" id="7166318">,</span>&nbsp;<span class="ident" id="7166320">delta</span>&nbsp;<span class="op" id="7166326">:=</span>&nbsp;<span class="keyword" id="7166329">range</span>&nbsp;<span class="ident" id="7166335">deltas</span>&nbsp;<span class="op" id="7166342">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166348">testYCbCr</span><span class="op" id="7166357">(</span><span class="ident" id="7166358">t</span><span class="op" id="7166359">,</span>&nbsp;<span class="ident" id="7166361">r</span><span class="op" id="7166362">,</span>&nbsp;<span class="ident" id="7166364">subsampleRatio</span><span class="op" id="7166378">,</span>&nbsp;<span class="ident" id="7166380">delta</span><span class="op" id="7166385">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166394">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166398">if</span>&nbsp;<span class="ident" id="7166401">testing</span><span class="op" id="7166408">.</span><span class="ident" id="7166409">Short</span><span class="op" id="7166414">(</span><span class="op" id="7166415">)</span>&nbsp;<span class="op" id="7166417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166422">break</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166433">}</span><br>
<span class="lineno"></span><span class="op" id="7166435">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7166438">func</span>&nbsp;<span class="ident" id="7166443">testYCbCr</span><span class="op" id="7166452">(</span><span class="ident" id="7166453">t</span>&nbsp;<span class="op" id="7166455">*</span><span class="ident" id="7166456">testing</span><span class="op" id="7166463">.</span><span class="ident" id="7166464">T</span><span class="op" id="7166465">,</span>&nbsp;<span class="ident" id="7166467">r</span>&nbsp;<span class="ident" id="7166469">Rectangle</span><span class="op" id="7166478">,</span>&nbsp;<span class="ident" id="7166480">subsampleRatio</span>&nbsp;<span class="ident" id="7166495">YCbCrSubsampleRatio</span><span class="op" id="7166514">,</span>&nbsp;<span class="ident" id="7166516">delta</span>&nbsp;<span class="ident" id="7166522">Point</span><span class="op" id="7166527">)</span>&nbsp;<span class="op" id="7166529">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7166532">//&nbsp;Create&nbsp;a&nbsp;YCbCr&nbsp;image&nbsp;m,&nbsp;whose&nbsp;bounds&nbsp;are&nbsp;r&nbsp;translated&nbsp;by&nbsp;(delta.X,&nbsp;delta.Y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166613">r1</span>&nbsp;<span class="op" id="7166616">:=</span>&nbsp;<span class="ident" id="7166619">r</span><span class="op" id="7166620">.</span><span class="ident" id="7166621">Add</span><span class="op" id="7166624">(</span><span class="ident" id="7166625">delta</span><span class="op" id="7166630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166633">m</span>&nbsp;<span class="op" id="7166635">:=</span>&nbsp;<span class="ident" id="7166638">NewYCbCr</span><span class="op" id="7166646">(</span><span class="ident" id="7166647">r1</span><span class="op" id="7166649">,</span>&nbsp;<span class="ident" id="7166651">subsampleRatio</span><span class="op" id="7166665">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7166669">//&nbsp;Test&nbsp;that&nbsp;the&nbsp;image&nbsp;buffer&nbsp;is&nbsp;reasonably&nbsp;small&nbsp;even&nbsp;if&nbsp;(delta.X,&nbsp;delta.Y)&nbsp;is&nbsp;far&nbsp;from&nbsp;the&nbsp;origin.</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166771">if</span>&nbsp;<span class="builtinfunc" id="7166774">len</span><span class="op" id="7166777">(</span><span class="ident" id="7166778">m</span><span class="op" id="7166779">.</span><span class="ident" id="7166780">Y</span><span class="op" id="7166781">)</span>&nbsp;<span class="op" id="7166783">&gt;</span>&nbsp;<span class="num" id="7166785">100</span><span class="op" id="7166788">*</span><span class="num" id="7166789">100</span>&nbsp;<span class="op" id="7166793">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166797">t</span><span class="op" id="7166798">.</span><span class="ident" id="7166799">Errorf</span><span class="op" id="7166805">(</span><span class="string" id="7166806">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v:&nbsp;image&nbsp;buffer&nbsp;is&nbsp;too&nbsp;large&#34;</span><span class="op" id="7166868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7166873">r</span><span class="op" id="7166874">,</span>&nbsp;<span class="ident" id="7166876">subsampleRatio</span><span class="op" id="7166890">,</span>&nbsp;<span class="ident" id="7166892">delta</span><span class="op" id="7166897">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7166901">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7166909">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7166913">//&nbsp;Initialize&nbsp;m&#39;s&nbsp;pixels.&nbsp;For&nbsp;422&nbsp;and&nbsp;420&nbsp;subsampling,&nbsp;some&nbsp;of&nbsp;the&nbsp;Cb&nbsp;and&nbsp;Cr&nbsp;elements</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7167000">//&nbsp;will&nbsp;be&nbsp;set&nbsp;multiple&nbsp;times.&nbsp;That&#39;s&nbsp;OK.&nbsp;We&nbsp;just&nbsp;want&nbsp;to&nbsp;avoid&nbsp;a&nbsp;uniform&nbsp;image.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167082">for</span>&nbsp;<span class="ident" id="7167086">y</span>&nbsp;<span class="op" id="7167088">:=</span>&nbsp;<span class="ident" id="7167091">r1</span><span class="op" id="7167093">.</span><span class="ident" id="7167094">Min</span><span class="op" id="7167097">.</span><span class="ident" id="7167098">Y</span><span class="op" id="7167099">;</span>&nbsp;<span class="ident" id="7167101">y</span>&nbsp;<span class="op" id="7167103">&lt;</span>&nbsp;<span class="ident" id="7167105">r1</span><span class="op" id="7167107">.</span><span class="ident" id="7167108">Max</span><span class="op" id="7167111">.</span><span class="ident" id="7167112">Y</span><span class="op" id="7167113">;</span>&nbsp;<span class="ident" id="7167115">y</span><span class="op" id="7167116">++</span>&nbsp;<span class="op" id="7167119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167123">for</span>&nbsp;<span class="ident" id="7167127">x</span>&nbsp;<span class="op" id="7167129">:=</span>&nbsp;<span class="ident" id="7167132">r1</span><span class="op" id="7167134">.</span><span class="ident" id="7167135">Min</span><span class="op" id="7167138">.</span><span class="ident" id="7167139">X</span><span class="op" id="7167140">;</span>&nbsp;<span class="ident" id="7167142">x</span>&nbsp;<span class="op" id="7167144">&lt;</span>&nbsp;<span class="ident" id="7167146">r1</span><span class="op" id="7167148">.</span><span class="ident" id="7167149">Max</span><span class="op" id="7167152">.</span><span class="ident" id="7167153">X</span><span class="op" id="7167154">;</span>&nbsp;<span class="ident" id="7167156">x</span><span class="op" id="7167157">++</span>&nbsp;<span class="op" id="7167160">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167165">yi</span>&nbsp;<span class="op" id="7167168">:=</span>&nbsp;<span class="ident" id="7167171">m</span><span class="op" id="7167172">.</span><span class="ident" id="7167173">YOffset</span><span class="op" id="7167180">(</span><span class="ident" id="7167181">x</span><span class="op" id="7167182">,</span>&nbsp;<span class="ident" id="7167184">y</span><span class="op" id="7167185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167190">ci</span>&nbsp;<span class="op" id="7167193">:=</span>&nbsp;<span class="ident" id="7167196">m</span><span class="op" id="7167197">.</span><span class="ident" id="7167198">COffset</span><span class="op" id="7167205">(</span><span class="ident" id="7167206">x</span><span class="op" id="7167207">,</span>&nbsp;<span class="ident" id="7167209">y</span><span class="op" id="7167210">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167215">m</span><span class="op" id="7167216">.</span><span class="ident" id="7167217">Y</span><span class="op" id="7167218">[</span><span class="ident" id="7167219">yi</span><span class="op" id="7167221">]</span>&nbsp;<span class="op" id="7167223">=</span>&nbsp;<span class="builtintype" id="7167225">uint8</span><span class="op" id="7167230">(</span><span class="num" id="7167231">16</span><span class="op" id="7167233">*</span><span class="ident" id="7167234">y</span>&nbsp;<span class="op" id="7167236">+</span>&nbsp;<span class="ident" id="7167238">x</span><span class="op" id="7167239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167244">m</span><span class="op" id="7167245">.</span><span class="ident" id="7167246">Cb</span><span class="op" id="7167248">[</span><span class="ident" id="7167249">ci</span><span class="op" id="7167251">]</span>&nbsp;<span class="op" id="7167253">=</span>&nbsp;<span class="builtintype" id="7167255">uint8</span><span class="op" id="7167260">(</span><span class="ident" id="7167261">y</span>&nbsp;<span class="op" id="7167263">+</span>&nbsp;<span class="num" id="7167265">16</span><span class="op" id="7167267">*</span><span class="ident" id="7167268">x</span><span class="op" id="7167269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167274">m</span><span class="op" id="7167275">.</span><span class="ident" id="7167276">Cr</span><span class="op" id="7167278">[</span><span class="ident" id="7167279">ci</span><span class="op" id="7167281">]</span>&nbsp;<span class="op" id="7167283">=</span>&nbsp;<span class="builtintype" id="7167285">uint8</span><span class="op" id="7167290">(</span><span class="ident" id="7167291">y</span>&nbsp;<span class="op" id="7167293">+</span>&nbsp;<span class="num" id="7167295">16</span><span class="op" id="7167297">*</span><span class="ident" id="7167298">x</span><span class="op" id="7167299">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7167303">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7167306">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7167310">//&nbsp;Make&nbsp;various&nbsp;sub-images&nbsp;of&nbsp;m.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167344">for</span>&nbsp;<span class="ident" id="7167348">y0</span>&nbsp;<span class="op" id="7167351">:=</span>&nbsp;<span class="ident" id="7167354">delta</span><span class="op" id="7167359">.</span><span class="ident" id="7167360">Y</span>&nbsp;<span class="op" id="7167362">+</span>&nbsp;<span class="num" id="7167364">3</span><span class="op" id="7167365">;</span>&nbsp;<span class="ident" id="7167367">y0</span>&nbsp;<span class="op" id="7167370">&lt;</span>&nbsp;<span class="ident" id="7167372">delta</span><span class="op" id="7167377">.</span><span class="ident" id="7167378">Y</span><span class="op" id="7167379">+</span><span class="num" id="7167380">7</span><span class="op" id="7167381">;</span>&nbsp;<span class="ident" id="7167383">y0</span><span class="op" id="7167385">++</span>&nbsp;<span class="op" id="7167388">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167392">for</span>&nbsp;<span class="ident" id="7167396">y1</span>&nbsp;<span class="op" id="7167399">:=</span>&nbsp;<span class="ident" id="7167402">delta</span><span class="op" id="7167407">.</span><span class="ident" id="7167408">Y</span>&nbsp;<span class="op" id="7167410">+</span>&nbsp;<span class="num" id="7167412">8</span><span class="op" id="7167413">;</span>&nbsp;<span class="ident" id="7167415">y1</span>&nbsp;<span class="op" id="7167418">&lt;</span>&nbsp;<span class="ident" id="7167420">delta</span><span class="op" id="7167425">.</span><span class="ident" id="7167426">Y</span><span class="op" id="7167427">+</span><span class="num" id="7167428">13</span><span class="op" id="7167430">;</span>&nbsp;<span class="ident" id="7167432">y1</span><span class="op" id="7167434">++</span>&nbsp;<span class="op" id="7167437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167442">for</span>&nbsp;<span class="ident" id="7167446">x0</span>&nbsp;<span class="op" id="7167449">:=</span>&nbsp;<span class="ident" id="7167452">delta</span><span class="op" id="7167457">.</span><span class="ident" id="7167458">X</span>&nbsp;<span class="op" id="7167460">+</span>&nbsp;<span class="num" id="7167462">3</span><span class="op" id="7167463">;</span>&nbsp;<span class="ident" id="7167465">x0</span>&nbsp;<span class="op" id="7167468">&lt;</span>&nbsp;<span class="ident" id="7167470">delta</span><span class="op" id="7167475">.</span><span class="ident" id="7167476">X</span><span class="op" id="7167477">+</span><span class="num" id="7167478">7</span><span class="op" id="7167479">;</span>&nbsp;<span class="ident" id="7167481">x0</span><span class="op" id="7167483">++</span>&nbsp;<span class="op" id="7167486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167492">for</span>&nbsp;<span class="ident" id="7167496">x1</span>&nbsp;<span class="op" id="7167499">:=</span>&nbsp;<span class="ident" id="7167502">delta</span><span class="op" id="7167507">.</span><span class="ident" id="7167508">X</span>&nbsp;<span class="op" id="7167510">+</span>&nbsp;<span class="num" id="7167512">8</span><span class="op" id="7167513">;</span>&nbsp;<span class="ident" id="7167515">x1</span>&nbsp;<span class="op" id="7167518">&lt;</span>&nbsp;<span class="ident" id="7167520">delta</span><span class="op" id="7167525">.</span><span class="ident" id="7167526">X</span><span class="op" id="7167527">+</span><span class="num" id="7167528">13</span><span class="op" id="7167530">;</span>&nbsp;<span class="ident" id="7167532">x1</span><span class="op" id="7167534">++</span>&nbsp;<span class="op" id="7167537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167544">subRect</span>&nbsp;<span class="op" id="7167552">:=</span>&nbsp;<span class="ident" id="7167555">Rect</span><span class="op" id="7167559">(</span><span class="ident" id="7167560">x0</span><span class="op" id="7167562">,</span>&nbsp;<span class="ident" id="7167564">y0</span><span class="op" id="7167566">,</span>&nbsp;<span class="ident" id="7167568">x1</span><span class="op" id="7167570">,</span>&nbsp;<span class="ident" id="7167572">y1</span><span class="op" id="7167574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167581">sub</span>&nbsp;<span class="op" id="7167585">:=</span>&nbsp;<span class="ident" id="7167588">m</span><span class="op" id="7167589">.</span><span class="ident" id="7167590">SubImage</span><span class="op" id="7167598">(</span><span class="ident" id="7167599">subRect</span><span class="op" id="7167606">)</span><span class="op" id="7167607">.</span><span class="op" id="7167608">(</span><span class="op" id="7167609">*</span><span class="ident" id="7167610">YCbCr</span><span class="op" id="7167615">)</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7167623">//&nbsp;For&nbsp;each&nbsp;point&nbsp;in&nbsp;the&nbsp;sub-image&#39;s&nbsp;bounds,&nbsp;check&nbsp;that&nbsp;m.At(x,&nbsp;y)&nbsp;equals&nbsp;sub.At(x,&nbsp;y).</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167716">for</span>&nbsp;<span class="ident" id="7167720">y</span>&nbsp;<span class="op" id="7167722">:=</span>&nbsp;<span class="ident" id="7167725">sub</span><span class="op" id="7167728">.</span><span class="ident" id="7167729">Rect</span><span class="op" id="7167733">.</span><span class="ident" id="7167734">Min</span><span class="op" id="7167737">.</span><span class="ident" id="7167738">Y</span><span class="op" id="7167739">;</span>&nbsp;<span class="ident" id="7167741">y</span>&nbsp;<span class="op" id="7167743">&lt;</span>&nbsp;<span class="ident" id="7167745">sub</span><span class="op" id="7167748">.</span><span class="ident" id="7167749">Rect</span><span class="op" id="7167753">.</span><span class="ident" id="7167754">Max</span><span class="op" id="7167757">.</span><span class="ident" id="7167758">Y</span><span class="op" id="7167759">;</span>&nbsp;<span class="ident" id="7167761">y</span><span class="op" id="7167762">++</span>&nbsp;<span class="op" id="7167765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167773">for</span>&nbsp;<span class="ident" id="7167777">x</span>&nbsp;<span class="op" id="7167779">:=</span>&nbsp;<span class="ident" id="7167782">sub</span><span class="op" id="7167785">.</span><span class="ident" id="7167786">Rect</span><span class="op" id="7167790">.</span><span class="ident" id="7167791">Min</span><span class="op" id="7167794">.</span><span class="ident" id="7167795">X</span><span class="op" id="7167796">;</span>&nbsp;<span class="ident" id="7167798">x</span>&nbsp;<span class="op" id="7167800">&lt;</span>&nbsp;<span class="ident" id="7167802">sub</span><span class="op" id="7167805">.</span><span class="ident" id="7167806">Rect</span><span class="op" id="7167810">.</span><span class="ident" id="7167811">Max</span><span class="op" id="7167814">.</span><span class="ident" id="7167815">X</span><span class="op" id="7167816">;</span>&nbsp;<span class="ident" id="7167818">x</span><span class="op" id="7167819">++</span>&nbsp;<span class="op" id="7167822">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167831">color0</span>&nbsp;<span class="op" id="7167838">:=</span>&nbsp;<span class="ident" id="7167841">m</span><span class="op" id="7167842">.</span><span class="ident" id="7167843">At</span><span class="op" id="7167845">(</span><span class="ident" id="7167846">x</span><span class="op" id="7167847">,</span>&nbsp;<span class="ident" id="7167849">y</span><span class="op" id="7167850">)</span><span class="op" id="7167851">.</span><span class="op" id="7167852">(</span><span class="ident" id="7167853">color</span><span class="op" id="7167858">.</span><span class="ident" id="7167859">YCbCr</span><span class="op" id="7167864">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167873">color1</span>&nbsp;<span class="op" id="7167880">:=</span>&nbsp;<span class="ident" id="7167883">sub</span><span class="op" id="7167886">.</span><span class="ident" id="7167887">At</span><span class="op" id="7167889">(</span><span class="ident" id="7167890">x</span><span class="op" id="7167891">,</span>&nbsp;<span class="ident" id="7167893">y</span><span class="op" id="7167894">)</span><span class="op" id="7167895">.</span><span class="op" id="7167896">(</span><span class="ident" id="7167897">color</span><span class="op" id="7167902">.</span><span class="ident" id="7167903">YCbCr</span><span class="op" id="7167908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7167917">if</span>&nbsp;<span class="ident" id="7167920">color0</span>&nbsp;<span class="op" id="7167927">!=</span>&nbsp;<span class="ident" id="7167930">color1</span>&nbsp;<span class="op" id="7167937">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7167947">t</span><span class="op" id="7167948">.</span><span class="ident" id="7167949">Errorf</span><span class="op" id="7167955">(</span><span class="string" id="7167956">&#34;r=%v,&nbsp;subsampleRatio=%v,&nbsp;delta=%v,&nbsp;x=%d,&nbsp;y=%d,&nbsp;color0=%v,&nbsp;color1=%v&#34;</span><span class="op" id="7168025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7168036">r</span><span class="op" id="7168037">,</span>&nbsp;<span class="ident" id="7168039">subsampleRatio</span><span class="op" id="7168053">,</span>&nbsp;<span class="ident" id="7168055">delta</span><span class="op" id="7168060">,</span>&nbsp;<span class="ident" id="7168062">x</span><span class="op" id="7168063">,</span>&nbsp;<span class="ident" id="7168065">y</span><span class="op" id="7168066">,</span>&nbsp;<span class="ident" id="7168068">color0</span><span class="op" id="7168074">,</span>&nbsp;<span class="ident" id="7168076">color1</span><span class="op" id="7168082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7168092">return</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168106">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168121">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168132">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168136">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7168139">}</span><br>
<span class="lineno"></span><span class="op" id="7168141">}</span>
</div>
</body>
</html>
