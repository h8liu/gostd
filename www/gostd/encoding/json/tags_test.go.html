<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8645609">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8645665">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8645719">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8645770">package</span>&nbsp;<span class="ident" id="8645778">json</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8645784">import</span>&nbsp;<span class="op" id="8645791">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8645794">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8645804">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="8645807">func</span>&nbsp;<span class="ident" id="8645812">TestTagParsing</span><span class="op" id="8645826">(</span><span class="ident" id="8645827">t</span>&nbsp;<span class="op" id="8645829">*</span><span class="ident" id="8645830">testing</span><span class="op" id="8645837">.</span><span class="ident" id="8645838">T</span><span class="op" id="8645839">)</span>&nbsp;<span class="op" id="8645841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645844">name</span><span class="op" id="8645848">,</span>&nbsp;<span class="ident" id="8645850">opts</span>&nbsp;<span class="op" id="8645855">:=</span>&nbsp;<span class="ident" id="8645858">parseTag</span><span class="op" id="8645866">(</span><span class="string" id="8645867">&#34;field,foobar,foo&#34;</span><span class="op" id="8645885">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8645888">if</span>&nbsp;<span class="ident" id="8645891">name</span>&nbsp;<span class="op" id="8645896">!=</span>&nbsp;<span class="string" id="8645899">&#34;field&#34;</span>&nbsp;<span class="op" id="8645907">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645911">t</span><span class="op" id="8645912">.</span><span class="ident" id="8645913">Fatalf</span><span class="op" id="8645919">(</span><span class="string" id="8645920">&#34;name&nbsp;=&nbsp;%q,&nbsp;want&nbsp;field&#34;</span><span class="op" id="8645943">,</span>&nbsp;<span class="ident" id="8645945">name</span><span class="op" id="8645949">)</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8645952">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8645955">for</span>&nbsp;<span class="ident" id="8645959">_</span><span class="op" id="8645960">,</span>&nbsp;<span class="ident" id="8645962">tt</span>&nbsp;<span class="op" id="8645965">:=</span>&nbsp;<span class="keyword" id="8645968">range</span>&nbsp;<span class="op" id="8645974">[</span><span class="op" id="8645975">]</span><span class="keyword" id="8645976">struct</span>&nbsp;<span class="op" id="8645983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8645987">opt</span>&nbsp;&nbsp;<span class="builtintype" id="8645992">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646001">want</span>&nbsp;<span class="builtintype" id="8646006">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646012">}</span><span class="op" id="8646013">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646017">{</span><span class="string" id="8646018">&#34;foobar&#34;</span><span class="op" id="8646026">,</span>&nbsp;<span class="builtintype" id="8646028">true</span><span class="op" id="8646032">}</span><span class="op" id="8646033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646037">{</span><span class="string" id="8646038">&#34;foo&#34;</span><span class="op" id="8646043">,</span>&nbsp;<span class="builtintype" id="8646045">true</span><span class="op" id="8646049">}</span><span class="op" id="8646050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646054">{</span><span class="string" id="8646055">&#34;bar&#34;</span><span class="op" id="8646060">,</span>&nbsp;<span class="builtintype" id="8646062">false</span><span class="op" id="8646067">}</span><span class="op" id="8646068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646071">}</span>&nbsp;<span class="op" id="8646073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8646077">if</span>&nbsp;<span class="ident" id="8646080">opts</span><span class="op" id="8646084">.</span><span class="ident" id="8646085">Contains</span><span class="op" id="8646093">(</span><span class="ident" id="8646094">tt</span><span class="op" id="8646096">.</span><span class="ident" id="8646097">opt</span><span class="op" id="8646100">)</span>&nbsp;<span class="op" id="8646102">!=</span>&nbsp;<span class="ident" id="8646105">tt</span><span class="op" id="8646107">.</span><span class="ident" id="8646108">want</span>&nbsp;<span class="op" id="8646113">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8646118">t</span><span class="op" id="8646119">.</span><span class="ident" id="8646120">Errorf</span><span class="op" id="8646126">(</span><span class="string" id="8646127">&#34;Contains(%q)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="8646146">,</span>&nbsp;<span class="ident" id="8646148">tt</span><span class="op" id="8646150">.</span><span class="ident" id="8646151">opt</span><span class="op" id="8646154">,</span>&nbsp;<span class="op" id="8646156">!</span><span class="ident" id="8646157">tt</span><span class="op" id="8646159">.</span><span class="ident" id="8646160">want</span><span class="op" id="8646164">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646168">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8646171">}</span><br>
<span class="lineno"></span><span class="op" id="8646173">}</span>
</div>
</body>
</html>
