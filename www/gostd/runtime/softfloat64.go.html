<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1672879">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1672935">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1672989">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="1673040">//&nbsp;Software&nbsp;IEEE754&nbsp;64-bit&nbsp;floating&nbsp;point.</span><br>
<span class="lineno"></span><span class="comment" id="1673083">//&nbsp;Only&nbsp;referred&nbsp;to&nbsp;(and&nbsp;thus&nbsp;linked&nbsp;in)&nbsp;by&nbsp;arm&nbsp;port</span><br>
<span class="lineno"></span><span class="comment" id="1673136">//&nbsp;and&nbsp;by&nbsp;tests&nbsp;in&nbsp;this&nbsp;directory.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1673172">package</span>&nbsp;<span class="ident" id="1673180">runtime</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1673189">const</span>&nbsp;<span class="op" id="1673195">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673198">mantbits64</span>&nbsp;<span class="builtintype" id="1673209">uint</span>&nbsp;<span class="op" id="1673214">=</span>&nbsp;<span class="num" id="1673216">52</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673220">expbits64</span>&nbsp;&nbsp;<span class="builtintype" id="1673231">uint</span>&nbsp;<span class="op" id="1673236">=</span>&nbsp;<span class="num" id="1673238">11</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673242">bias64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1673258">=</span>&nbsp;<span class="op" id="1673260">-</span><span class="num" id="1673261">1</span><span class="op" id="1673262">&lt;&lt;</span><span class="op" id="1673264">(</span><span class="ident" id="1673265">expbits64</span><span class="op" id="1673274">-</span><span class="num" id="1673275">1</span><span class="op" id="1673276">)</span>&nbsp;<span class="op" id="1673278">+</span>&nbsp;<span class="num" id="1673280">1</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673284">nan64</span>&nbsp;<span class="ident" id="1673290">uint64</span>&nbsp;<span class="op" id="1673297">=</span>&nbsp;<span class="op" id="1673299">(</span><span class="num" id="1673300">1</span><span class="op" id="1673301">&lt;&lt;</span><span class="ident" id="1673303">expbits64</span><span class="op" id="1673312">-</span><span class="num" id="1673313">1</span><span class="op" id="1673314">)</span><span class="op" id="1673315">&lt;&lt;</span><span class="ident" id="1673317">mantbits64</span>&nbsp;<span class="op" id="1673328">+</span>&nbsp;<span class="num" id="1673330">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673333">inf64</span>&nbsp;<span class="ident" id="1673339">uint64</span>&nbsp;<span class="op" id="1673346">=</span>&nbsp;<span class="op" id="1673348">(</span><span class="num" id="1673349">1</span><span class="op" id="1673350">&lt;&lt;</span><span class="ident" id="1673352">expbits64</span>&nbsp;<span class="op" id="1673362">-</span>&nbsp;<span class="num" id="1673364">1</span><span class="op" id="1673365">)</span>&nbsp;<span class="op" id="1673367">&lt;&lt;</span>&nbsp;<span class="ident" id="1673370">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673382">neg64</span>&nbsp;<span class="ident" id="1673388">uint64</span>&nbsp;<span class="op" id="1673395">=</span>&nbsp;<span class="num" id="1673397">1</span>&nbsp;<span class="op" id="1673399">&lt;&lt;</span>&nbsp;<span class="op" id="1673402">(</span><span class="ident" id="1673403">expbits64</span>&nbsp;<span class="op" id="1673413">+</span>&nbsp;<span class="ident" id="1673415">mantbits64</span><span class="op" id="1673425">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673429">mantbits32</span>&nbsp;<span class="builtintype" id="1673440">uint</span>&nbsp;<span class="op" id="1673445">=</span>&nbsp;<span class="num" id="1673447">23</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673451">expbits32</span>&nbsp;&nbsp;<span class="builtintype" id="1673462">uint</span>&nbsp;<span class="op" id="1673467">=</span>&nbsp;<span class="num" id="1673469">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673472">bias32</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1673488">=</span>&nbsp;<span class="op" id="1673490">-</span><span class="num" id="1673491">1</span><span class="op" id="1673492">&lt;&lt;</span><span class="op" id="1673494">(</span><span class="ident" id="1673495">expbits32</span><span class="op" id="1673504">-</span><span class="num" id="1673505">1</span><span class="op" id="1673506">)</span>&nbsp;<span class="op" id="1673508">+</span>&nbsp;<span class="num" id="1673510">1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673514">nan32</span>&nbsp;<span class="builtintype" id="1673520">uint32</span>&nbsp;<span class="op" id="1673527">=</span>&nbsp;<span class="op" id="1673529">(</span><span class="num" id="1673530">1</span><span class="op" id="1673531">&lt;&lt;</span><span class="ident" id="1673533">expbits32</span><span class="op" id="1673542">-</span><span class="num" id="1673543">1</span><span class="op" id="1673544">)</span><span class="op" id="1673545">&lt;&lt;</span><span class="ident" id="1673547">mantbits32</span>&nbsp;<span class="op" id="1673558">+</span>&nbsp;<span class="num" id="1673560">1</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673563">inf32</span>&nbsp;<span class="builtintype" id="1673569">uint32</span>&nbsp;<span class="op" id="1673576">=</span>&nbsp;<span class="op" id="1673578">(</span><span class="num" id="1673579">1</span><span class="op" id="1673580">&lt;&lt;</span><span class="ident" id="1673582">expbits32</span>&nbsp;<span class="op" id="1673592">-</span>&nbsp;<span class="num" id="1673594">1</span><span class="op" id="1673595">)</span>&nbsp;<span class="op" id="1673597">&lt;&lt;</span>&nbsp;<span class="ident" id="1673600">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673612">neg32</span>&nbsp;<span class="builtintype" id="1673618">uint32</span>&nbsp;<span class="op" id="1673625">=</span>&nbsp;<span class="num" id="1673627">1</span>&nbsp;<span class="op" id="1673629">&lt;&lt;</span>&nbsp;<span class="op" id="1673632">(</span><span class="ident" id="1673633">expbits32</span>&nbsp;<span class="op" id="1673643">+</span>&nbsp;<span class="ident" id="1673645">mantbits32</span><span class="op" id="1673655">)</span><br>
<span class="lineno"></span><span class="op" id="1673657">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1673660">func</span>&nbsp;<span class="ident" id="1673665">funpack64</span><span class="op" id="1673674">(</span><span class="ident" id="1673675">f</span>&nbsp;<span class="ident" id="1673677">uint64</span><span class="op" id="1673683">)</span>&nbsp;<span class="op" id="1673685">(</span><span class="ident" id="1673686">sign</span><span class="op" id="1673690">,</span>&nbsp;<span class="ident" id="1673692">mant</span>&nbsp;<span class="ident" id="1673697">uint64</span><span class="op" id="1673703">,</span>&nbsp;<span class="ident" id="1673705">exp</span>&nbsp;<span class="builtintype" id="1673709">int</span><span class="op" id="1673712">,</span>&nbsp;<span class="ident" id="1673714">inf</span><span class="op" id="1673717">,</span>&nbsp;<span class="ident" id="1673719">nan</span>&nbsp;<span class="builtintype" id="1673723">bool</span><span class="op" id="1673727">)</span>&nbsp;<span class="op" id="1673729">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673732">sign</span>&nbsp;<span class="op" id="1673737">=</span>&nbsp;<span class="ident" id="1673739">f</span>&nbsp;<span class="op" id="1673741">&amp;</span>&nbsp;<span class="op" id="1673743">(</span><span class="num" id="1673744">1</span>&nbsp;<span class="op" id="1673746">&lt;&lt;</span>&nbsp;<span class="op" id="1673749">(</span><span class="ident" id="1673750">mantbits64</span>&nbsp;<span class="op" id="1673761">+</span>&nbsp;<span class="ident" id="1673763">expbits64</span><span class="op" id="1673772">)</span><span class="op" id="1673773">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673776">mant</span>&nbsp;<span class="op" id="1673781">=</span>&nbsp;<span class="ident" id="1673783">f</span>&nbsp;<span class="op" id="1673785">&amp;</span>&nbsp;<span class="op" id="1673787">(</span><span class="num" id="1673788">1</span><span class="op" id="1673789">&lt;&lt;</span><span class="ident" id="1673791">mantbits64</span>&nbsp;<span class="op" id="1673802">-</span>&nbsp;<span class="num" id="1673804">1</span><span class="op" id="1673805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673808">exp</span>&nbsp;<span class="op" id="1673812">=</span>&nbsp;<span class="builtintype" id="1673814">int</span><span class="op" id="1673817">(</span><span class="ident" id="1673818">f</span><span class="op" id="1673819">&gt;&gt;</span><span class="ident" id="1673821">mantbits64</span><span class="op" id="1673831">)</span>&nbsp;<span class="op" id="1673833">&amp;</span>&nbsp;<span class="op" id="1673835">(</span><span class="num" id="1673836">1</span><span class="op" id="1673837">&lt;&lt;</span><span class="ident" id="1673839">expbits64</span>&nbsp;<span class="op" id="1673849">-</span>&nbsp;<span class="num" id="1673851">1</span><span class="op" id="1673852">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673856">switch</span>&nbsp;<span class="ident" id="1673863">exp</span>&nbsp;<span class="op" id="1673867">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673870">case</span>&nbsp;<span class="num" id="1673875">1</span><span class="op" id="1673876">&lt;&lt;</span><span class="ident" id="1673878">expbits64</span>&nbsp;<span class="op" id="1673888">-</span>&nbsp;<span class="num" id="1673890">1</span><span class="op" id="1673891">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673895">if</span>&nbsp;<span class="ident" id="1673898">mant</span>&nbsp;<span class="op" id="1673903">!=</span>&nbsp;<span class="num" id="1673906">0</span>&nbsp;<span class="op" id="1673908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673913">nan</span>&nbsp;<span class="op" id="1673917">=</span>&nbsp;<span class="builtintype" id="1673919">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673927">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1673936">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1673940">inf</span>&nbsp;<span class="op" id="1673944">=</span>&nbsp;<span class="builtintype" id="1673946">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673953">return</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673962">case</span>&nbsp;<span class="num" id="1673967">0</span><span class="op" id="1673968">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1673972">//&nbsp;denormalized</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1673990">if</span>&nbsp;<span class="ident" id="1673993">mant</span>&nbsp;<span class="op" id="1673998">!=</span>&nbsp;<span class="num" id="1674001">0</span>&nbsp;<span class="op" id="1674003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674008">exp</span>&nbsp;<span class="op" id="1674012">+=</span>&nbsp;<span class="ident" id="1674015">bias64</span>&nbsp;<span class="op" id="1674022">+</span>&nbsp;<span class="num" id="1674024">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674029">for</span>&nbsp;<span class="ident" id="1674033">mant</span>&nbsp;<span class="op" id="1674038">&lt;</span>&nbsp;<span class="num" id="1674040">1</span><span class="op" id="1674041">&lt;&lt;</span><span class="ident" id="1674043">mantbits64</span>&nbsp;<span class="op" id="1674054">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674060">mant</span>&nbsp;<span class="op" id="1674065">&lt;&lt;=</span>&nbsp;<span class="num" id="1674069">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674075">exp</span><span class="op" id="1674078">--</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674084">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674092">default</span><span class="op" id="1674099">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1674103">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674129">mant</span>&nbsp;<span class="op" id="1674134">|=</span>&nbsp;<span class="num" id="1674137">1</span>&nbsp;<span class="op" id="1674139">&lt;&lt;</span>&nbsp;<span class="ident" id="1674142">mantbits64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674155">exp</span>&nbsp;<span class="op" id="1674159">+=</span>&nbsp;<span class="ident" id="1674162">bias64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674170">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674173">return</span><br>
<span class="lineno"></span><span class="op" id="1674180">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span><span class="keyword" id="1674183">func</span>&nbsp;<span class="ident" id="1674188">funpack32</span><span class="op" id="1674197">(</span><span class="ident" id="1674198">f</span>&nbsp;<span class="builtintype" id="1674200">uint32</span><span class="op" id="1674206">)</span>&nbsp;<span class="op" id="1674208">(</span><span class="ident" id="1674209">sign</span><span class="op" id="1674213">,</span>&nbsp;<span class="ident" id="1674215">mant</span>&nbsp;<span class="builtintype" id="1674220">uint32</span><span class="op" id="1674226">,</span>&nbsp;<span class="ident" id="1674228">exp</span>&nbsp;<span class="builtintype" id="1674232">int</span><span class="op" id="1674235">,</span>&nbsp;<span class="ident" id="1674237">inf</span><span class="op" id="1674240">,</span>&nbsp;<span class="ident" id="1674242">nan</span>&nbsp;<span class="builtintype" id="1674246">bool</span><span class="op" id="1674250">)</span>&nbsp;<span class="op" id="1674252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674255">sign</span>&nbsp;<span class="op" id="1674260">=</span>&nbsp;<span class="ident" id="1674262">f</span>&nbsp;<span class="op" id="1674264">&amp;</span>&nbsp;<span class="op" id="1674266">(</span><span class="num" id="1674267">1</span>&nbsp;<span class="op" id="1674269">&lt;&lt;</span>&nbsp;<span class="op" id="1674272">(</span><span class="ident" id="1674273">mantbits32</span>&nbsp;<span class="op" id="1674284">+</span>&nbsp;<span class="ident" id="1674286">expbits32</span><span class="op" id="1674295">)</span><span class="op" id="1674296">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674299">mant</span>&nbsp;<span class="op" id="1674304">=</span>&nbsp;<span class="ident" id="1674306">f</span>&nbsp;<span class="op" id="1674308">&amp;</span>&nbsp;<span class="op" id="1674310">(</span><span class="num" id="1674311">1</span><span class="op" id="1674312">&lt;&lt;</span><span class="ident" id="1674314">mantbits32</span>&nbsp;<span class="op" id="1674325">-</span>&nbsp;<span class="num" id="1674327">1</span><span class="op" id="1674328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674331">exp</span>&nbsp;<span class="op" id="1674335">=</span>&nbsp;<span class="builtintype" id="1674337">int</span><span class="op" id="1674340">(</span><span class="ident" id="1674341">f</span><span class="op" id="1674342">&gt;&gt;</span><span class="ident" id="1674344">mantbits32</span><span class="op" id="1674354">)</span>&nbsp;<span class="op" id="1674356">&amp;</span>&nbsp;<span class="op" id="1674358">(</span><span class="num" id="1674359">1</span><span class="op" id="1674360">&lt;&lt;</span><span class="ident" id="1674362">expbits32</span>&nbsp;<span class="op" id="1674372">-</span>&nbsp;<span class="num" id="1674374">1</span><span class="op" id="1674375">)</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674379">switch</span>&nbsp;<span class="ident" id="1674386">exp</span>&nbsp;<span class="op" id="1674390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674393">case</span>&nbsp;<span class="num" id="1674398">1</span><span class="op" id="1674399">&lt;&lt;</span><span class="ident" id="1674401">expbits32</span>&nbsp;<span class="op" id="1674411">-</span>&nbsp;<span class="num" id="1674413">1</span><span class="op" id="1674414">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674418">if</span>&nbsp;<span class="ident" id="1674421">mant</span>&nbsp;<span class="op" id="1674426">!=</span>&nbsp;<span class="num" id="1674429">0</span>&nbsp;<span class="op" id="1674431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674436">nan</span>&nbsp;<span class="op" id="1674440">=</span>&nbsp;<span class="builtintype" id="1674442">true</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674450">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674463">inf</span>&nbsp;<span class="op" id="1674467">=</span>&nbsp;<span class="builtintype" id="1674469">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674476">return</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674485">case</span>&nbsp;<span class="num" id="1674490">0</span><span class="op" id="1674491">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1674495">//&nbsp;denormalized</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674513">if</span>&nbsp;<span class="ident" id="1674516">mant</span>&nbsp;<span class="op" id="1674521">!=</span>&nbsp;<span class="num" id="1674524">0</span>&nbsp;<span class="op" id="1674526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674531">exp</span>&nbsp;<span class="op" id="1674535">+=</span>&nbsp;<span class="ident" id="1674538">bias32</span>&nbsp;<span class="op" id="1674545">+</span>&nbsp;<span class="num" id="1674547">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674552">for</span>&nbsp;<span class="ident" id="1674556">mant</span>&nbsp;<span class="op" id="1674561">&lt;</span>&nbsp;<span class="num" id="1674563">1</span><span class="op" id="1674564">&lt;&lt;</span><span class="ident" id="1674566">mantbits32</span>&nbsp;<span class="op" id="1674577">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674583">mant</span>&nbsp;<span class="op" id="1674588">&lt;&lt;=</span>&nbsp;<span class="num" id="1674592">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674598">exp</span><span class="op" id="1674601">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674607">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674611">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674615">default</span><span class="op" id="1674622">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1674626">//&nbsp;add&nbsp;implicit&nbsp;top&nbsp;bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674652">mant</span>&nbsp;<span class="op" id="1674657">|=</span>&nbsp;<span class="num" id="1674660">1</span>&nbsp;<span class="op" id="1674662">&lt;&lt;</span>&nbsp;<span class="ident" id="1674665">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674678">exp</span>&nbsp;<span class="op" id="1674682">+=</span>&nbsp;<span class="ident" id="1674685">bias32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674693">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674696">return</span><br>
<span class="lineno"></span><span class="op" id="1674703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1674706">func</span>&nbsp;<span class="ident" id="1674711">fpack64</span><span class="op" id="1674718">(</span><span class="ident" id="1674719">sign</span><span class="op" id="1674723">,</span>&nbsp;<span class="ident" id="1674725">mant</span>&nbsp;<span class="ident" id="1674730">uint64</span><span class="op" id="1674736">,</span>&nbsp;<span class="ident" id="1674738">exp</span>&nbsp;<span class="builtintype" id="1674742">int</span><span class="op" id="1674745">,</span>&nbsp;<span class="ident" id="1674747">trunc</span>&nbsp;<span class="ident" id="1674753">uint64</span><span class="op" id="1674759">)</span>&nbsp;<span class="ident" id="1674761">uint64</span>&nbsp;<span class="op" id="1674768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674771">mant0</span><span class="op" id="1674776">,</span>&nbsp;<span class="ident" id="1674778">exp0</span><span class="op" id="1674782">,</span>&nbsp;<span class="ident" id="1674784">trunc0</span>&nbsp;<span class="op" id="1674791">:=</span>&nbsp;<span class="ident" id="1674794">mant</span><span class="op" id="1674798">,</span>&nbsp;<span class="ident" id="1674800">exp</span><span class="op" id="1674803">,</span>&nbsp;<span class="ident" id="1674805">trunc</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674812">if</span>&nbsp;<span class="ident" id="1674815">mant</span>&nbsp;<span class="op" id="1674820">==</span>&nbsp;<span class="num" id="1674823">0</span>&nbsp;<span class="op" id="1674825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674829">return</span>&nbsp;<span class="ident" id="1674836">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674842">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674845">for</span>&nbsp;<span class="ident" id="1674849">mant</span>&nbsp;<span class="op" id="1674854">&lt;</span>&nbsp;<span class="num" id="1674856">1</span><span class="op" id="1674857">&lt;&lt;</span><span class="ident" id="1674859">mantbits64</span>&nbsp;<span class="op" id="1674870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674874">mant</span>&nbsp;<span class="op" id="1674879">&lt;&lt;=</span>&nbsp;<span class="num" id="1674883">1</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674887">exp</span><span class="op" id="1674890">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674897">for</span>&nbsp;<span class="ident" id="1674901">mant</span>&nbsp;<span class="op" id="1674906">&gt;=</span>&nbsp;<span class="num" id="1674909">4</span><span class="op" id="1674910">&lt;&lt;</span><span class="ident" id="1674912">mantbits64</span>&nbsp;<span class="op" id="1674923">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674927">trunc</span>&nbsp;<span class="op" id="1674933">|=</span>&nbsp;<span class="ident" id="1674936">mant</span>&nbsp;<span class="op" id="1674941">&amp;</span>&nbsp;<span class="num" id="1674943">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674947">mant</span>&nbsp;<span class="op" id="1674952">&gt;&gt;=</span>&nbsp;<span class="num" id="1674956">1</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1674960">exp</span><span class="op" id="1674963">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1674967">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674970">if</span>&nbsp;<span class="ident" id="1674973">mant</span>&nbsp;<span class="op" id="1674978">&gt;=</span>&nbsp;<span class="num" id="1674981">2</span><span class="op" id="1674982">&lt;&lt;</span><span class="ident" id="1674984">mantbits64</span>&nbsp;<span class="op" id="1674995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1674999">if</span>&nbsp;<span class="ident" id="1675002">mant</span><span class="op" id="1675006">&amp;</span><span class="num" id="1675007">1</span>&nbsp;<span class="op" id="1675009">!=</span>&nbsp;<span class="num" id="1675012">0</span>&nbsp;<span class="op" id="1675014">&amp;&amp;</span>&nbsp;<span class="op" id="1675017">(</span><span class="ident" id="1675018">trunc</span>&nbsp;<span class="op" id="1675024">!=</span>&nbsp;<span class="num" id="1675027">0</span>&nbsp;<span class="op" id="1675029">||</span>&nbsp;<span class="ident" id="1675032">mant</span><span class="op" id="1675036">&amp;</span><span class="num" id="1675037">2</span>&nbsp;<span class="op" id="1675039">!=</span>&nbsp;<span class="num" id="1675042">0</span><span class="op" id="1675043">)</span>&nbsp;<span class="op" id="1675045">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675050">mant</span><span class="op" id="1675054">++</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675060">if</span>&nbsp;<span class="ident" id="1675063">mant</span>&nbsp;<span class="op" id="1675068">&gt;=</span>&nbsp;<span class="num" id="1675071">4</span><span class="op" id="1675072">&lt;&lt;</span><span class="ident" id="1675074">mantbits64</span>&nbsp;<span class="op" id="1675085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675091">mant</span>&nbsp;<span class="op" id="1675096">&gt;&gt;=</span>&nbsp;<span class="num" id="1675100">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675106">exp</span><span class="op" id="1675109">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675115">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675119">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675123">mant</span>&nbsp;<span class="op" id="1675128">&gt;&gt;=</span>&nbsp;<span class="num" id="1675132">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675136">exp</span><span class="op" id="1675139">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675146">if</span>&nbsp;<span class="ident" id="1675149">exp</span>&nbsp;<span class="op" id="1675153">&gt;=</span>&nbsp;<span class="num" id="1675156">1</span><span class="op" id="1675157">&lt;&lt;</span><span class="ident" id="1675159">expbits64</span><span class="op" id="1675168">-</span><span class="num" id="1675169">1</span><span class="op" id="1675170">+</span><span class="ident" id="1675171">bias64</span>&nbsp;<span class="op" id="1675178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675182">return</span>&nbsp;<span class="ident" id="1675189">sign</span>&nbsp;<span class="op" id="1675194">^</span>&nbsp;<span class="ident" id="1675196">inf64</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675206">if</span>&nbsp;<span class="ident" id="1675209">exp</span>&nbsp;<span class="op" id="1675213">&lt;</span>&nbsp;<span class="ident" id="1675215">bias64</span><span class="op" id="1675221">+</span><span class="num" id="1675222">1</span>&nbsp;<span class="op" id="1675224">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675228">if</span>&nbsp;<span class="ident" id="1675231">exp</span>&nbsp;<span class="op" id="1675235">&lt;</span>&nbsp;<span class="ident" id="1675237">bias64</span><span class="op" id="1675243">-</span><span class="builtintype" id="1675244">int</span><span class="op" id="1675247">(</span><span class="ident" id="1675248">mantbits64</span><span class="op" id="1675258">)</span>&nbsp;<span class="op" id="1675260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675265">return</span>&nbsp;<span class="ident" id="1675272">sign</span>&nbsp;<span class="op" id="1675277">|</span>&nbsp;<span class="num" id="1675279">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675283">}</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1675287">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675318">mant</span><span class="op" id="1675322">,</span>&nbsp;<span class="ident" id="1675324">exp</span><span class="op" id="1675327">,</span>&nbsp;<span class="ident" id="1675329">trunc</span>&nbsp;<span class="op" id="1675335">=</span>&nbsp;<span class="ident" id="1675337">mant0</span><span class="op" id="1675342">,</span>&nbsp;<span class="ident" id="1675344">exp0</span><span class="op" id="1675348">,</span>&nbsp;<span class="ident" id="1675350">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675359">for</span>&nbsp;<span class="ident" id="1675363">exp</span>&nbsp;<span class="op" id="1675367">&lt;</span>&nbsp;<span class="ident" id="1675369">bias64</span>&nbsp;<span class="op" id="1675376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675381">trunc</span>&nbsp;<span class="op" id="1675387">|=</span>&nbsp;<span class="ident" id="1675390">mant</span>&nbsp;<span class="op" id="1675395">&amp;</span>&nbsp;<span class="num" id="1675397">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675402">mant</span>&nbsp;<span class="op" id="1675407">&gt;&gt;=</span>&nbsp;<span class="num" id="1675411">1</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675416">exp</span><span class="op" id="1675419">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675428">if</span>&nbsp;<span class="ident" id="1675431">mant</span><span class="op" id="1675435">&amp;</span><span class="num" id="1675436">1</span>&nbsp;<span class="op" id="1675438">!=</span>&nbsp;<span class="num" id="1675441">0</span>&nbsp;<span class="op" id="1675443">&amp;&amp;</span>&nbsp;<span class="op" id="1675446">(</span><span class="ident" id="1675447">trunc</span>&nbsp;<span class="op" id="1675453">!=</span>&nbsp;<span class="num" id="1675456">0</span>&nbsp;<span class="op" id="1675458">||</span>&nbsp;<span class="ident" id="1675461">mant</span><span class="op" id="1675465">&amp;</span><span class="num" id="1675466">2</span>&nbsp;<span class="op" id="1675468">!=</span>&nbsp;<span class="num" id="1675471">0</span><span class="op" id="1675472">)</span>&nbsp;<span class="op" id="1675474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675479">mant</span><span class="op" id="1675483">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675488">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675492">mant</span>&nbsp;<span class="op" id="1675497">&gt;&gt;=</span>&nbsp;<span class="num" id="1675501">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675505">exp</span><span class="op" id="1675508">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675513">if</span>&nbsp;<span class="ident" id="1675516">mant</span>&nbsp;<span class="op" id="1675521">&lt;</span>&nbsp;<span class="num" id="1675523">1</span><span class="op" id="1675524">&lt;&lt;</span><span class="ident" id="1675526">mantbits64</span>&nbsp;<span class="op" id="1675537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675542">return</span>&nbsp;<span class="ident" id="1675549">sign</span>&nbsp;<span class="op" id="1675554">|</span>&nbsp;<span class="ident" id="1675556">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675563">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675569">return</span>&nbsp;<span class="ident" id="1675576">sign</span>&nbsp;<span class="op" id="1675581">|</span>&nbsp;<span class="ident" id="1675583">uint64</span><span class="op" id="1675589">(</span><span class="ident" id="1675590">exp</span><span class="op" id="1675593">-</span><span class="ident" id="1675594">bias64</span><span class="op" id="1675600">)</span><span class="op" id="1675601">&lt;&lt;</span><span class="ident" id="1675603">mantbits64</span>&nbsp;<span class="op" id="1675614">|</span>&nbsp;<span class="ident" id="1675616">mant</span><span class="op" id="1675620">&amp;</span><span class="op" id="1675621">(</span><span class="num" id="1675622">1</span><span class="op" id="1675623">&lt;&lt;</span><span class="ident" id="1675625">mantbits64</span><span class="op" id="1675635">-</span><span class="num" id="1675636">1</span><span class="op" id="1675637">)</span><br>
<span class="lineno"></span><span class="op" id="1675639">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1675642">func</span>&nbsp;<span class="ident" id="1675647">fpack32</span><span class="op" id="1675654">(</span><span class="ident" id="1675655">sign</span><span class="op" id="1675659">,</span>&nbsp;<span class="ident" id="1675661">mant</span>&nbsp;<span class="builtintype" id="1675666">uint32</span><span class="op" id="1675672">,</span>&nbsp;<span class="ident" id="1675674">exp</span>&nbsp;<span class="builtintype" id="1675678">int</span><span class="op" id="1675681">,</span>&nbsp;<span class="ident" id="1675683">trunc</span>&nbsp;<span class="builtintype" id="1675689">uint32</span><span class="op" id="1675695">)</span>&nbsp;<span class="builtintype" id="1675697">uint32</span>&nbsp;<span class="op" id="1675704">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675707">mant0</span><span class="op" id="1675712">,</span>&nbsp;<span class="ident" id="1675714">exp0</span><span class="op" id="1675718">,</span>&nbsp;<span class="ident" id="1675720">trunc0</span>&nbsp;<span class="op" id="1675727">:=</span>&nbsp;<span class="ident" id="1675730">mant</span><span class="op" id="1675734">,</span>&nbsp;<span class="ident" id="1675736">exp</span><span class="op" id="1675739">,</span>&nbsp;<span class="ident" id="1675741">trunc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675748">if</span>&nbsp;<span class="ident" id="1675751">mant</span>&nbsp;<span class="op" id="1675756">==</span>&nbsp;<span class="num" id="1675759">0</span>&nbsp;<span class="op" id="1675761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675765">return</span>&nbsp;<span class="ident" id="1675772">sign</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675781">for</span>&nbsp;<span class="ident" id="1675785">mant</span>&nbsp;<span class="op" id="1675790">&lt;</span>&nbsp;<span class="num" id="1675792">1</span><span class="op" id="1675793">&lt;&lt;</span><span class="ident" id="1675795">mantbits32</span>&nbsp;<span class="op" id="1675806">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675810">mant</span>&nbsp;<span class="op" id="1675815">&lt;&lt;=</span>&nbsp;<span class="num" id="1675819">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675823">exp</span><span class="op" id="1675826">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675833">for</span>&nbsp;<span class="ident" id="1675837">mant</span>&nbsp;<span class="op" id="1675842">&gt;=</span>&nbsp;<span class="num" id="1675845">4</span><span class="op" id="1675846">&lt;&lt;</span><span class="ident" id="1675848">mantbits32</span>&nbsp;<span class="op" id="1675859">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675863">trunc</span>&nbsp;<span class="op" id="1675869">|=</span>&nbsp;<span class="ident" id="1675872">mant</span>&nbsp;<span class="op" id="1675877">&amp;</span>&nbsp;<span class="num" id="1675879">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675883">mant</span>&nbsp;<span class="op" id="1675888">&gt;&gt;=</span>&nbsp;<span class="num" id="1675892">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675896">exp</span><span class="op" id="1675899">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1675903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675906">if</span>&nbsp;<span class="ident" id="1675909">mant</span>&nbsp;<span class="op" id="1675914">&gt;=</span>&nbsp;<span class="num" id="1675917">2</span><span class="op" id="1675918">&lt;&lt;</span><span class="ident" id="1675920">mantbits32</span>&nbsp;<span class="op" id="1675931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675935">if</span>&nbsp;<span class="ident" id="1675938">mant</span><span class="op" id="1675942">&amp;</span><span class="num" id="1675943">1</span>&nbsp;<span class="op" id="1675945">!=</span>&nbsp;<span class="num" id="1675948">0</span>&nbsp;<span class="op" id="1675950">&amp;&amp;</span>&nbsp;<span class="op" id="1675953">(</span><span class="ident" id="1675954">trunc</span>&nbsp;<span class="op" id="1675960">!=</span>&nbsp;<span class="num" id="1675963">0</span>&nbsp;<span class="op" id="1675965">||</span>&nbsp;<span class="ident" id="1675968">mant</span><span class="op" id="1675972">&amp;</span><span class="num" id="1675973">2</span>&nbsp;<span class="op" id="1675975">!=</span>&nbsp;<span class="num" id="1675978">0</span><span class="op" id="1675979">)</span>&nbsp;<span class="op" id="1675981">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1675986">mant</span><span class="op" id="1675990">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1675996">if</span>&nbsp;<span class="ident" id="1675999">mant</span>&nbsp;<span class="op" id="1676004">&gt;=</span>&nbsp;<span class="num" id="1676007">4</span><span class="op" id="1676008">&lt;&lt;</span><span class="ident" id="1676010">mantbits32</span>&nbsp;<span class="op" id="1676021">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676027">mant</span>&nbsp;<span class="op" id="1676032">&gt;&gt;=</span>&nbsp;<span class="num" id="1676036">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676042">exp</span><span class="op" id="1676045">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676051">}</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676055">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676059">mant</span>&nbsp;<span class="op" id="1676064">&gt;&gt;=</span>&nbsp;<span class="num" id="1676068">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676072">exp</span><span class="op" id="1676075">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676079">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676082">if</span>&nbsp;<span class="ident" id="1676085">exp</span>&nbsp;<span class="op" id="1676089">&gt;=</span>&nbsp;<span class="num" id="1676092">1</span><span class="op" id="1676093">&lt;&lt;</span><span class="ident" id="1676095">expbits32</span><span class="op" id="1676104">-</span><span class="num" id="1676105">1</span><span class="op" id="1676106">+</span><span class="ident" id="1676107">bias32</span>&nbsp;<span class="op" id="1676114">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676118">return</span>&nbsp;<span class="ident" id="1676125">sign</span>&nbsp;<span class="op" id="1676130">^</span>&nbsp;<span class="ident" id="1676132">inf32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676139">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676142">if</span>&nbsp;<span class="ident" id="1676145">exp</span>&nbsp;<span class="op" id="1676149">&lt;</span>&nbsp;<span class="ident" id="1676151">bias32</span><span class="op" id="1676157">+</span><span class="num" id="1676158">1</span>&nbsp;<span class="op" id="1676160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676164">if</span>&nbsp;<span class="ident" id="1676167">exp</span>&nbsp;<span class="op" id="1676171">&lt;</span>&nbsp;<span class="ident" id="1676173">bias32</span><span class="op" id="1676179">-</span><span class="builtintype" id="1676180">int</span><span class="op" id="1676183">(</span><span class="ident" id="1676184">mantbits32</span><span class="op" id="1676194">)</span>&nbsp;<span class="op" id="1676196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676201">return</span>&nbsp;<span class="ident" id="1676208">sign</span>&nbsp;<span class="op" id="1676213">|</span>&nbsp;<span class="num" id="1676215">0</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676219">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1676223">//&nbsp;repeat&nbsp;expecting&nbsp;denormal</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676254">mant</span><span class="op" id="1676258">,</span>&nbsp;<span class="ident" id="1676260">exp</span><span class="op" id="1676263">,</span>&nbsp;<span class="ident" id="1676265">trunc</span>&nbsp;<span class="op" id="1676271">=</span>&nbsp;<span class="ident" id="1676273">mant0</span><span class="op" id="1676278">,</span>&nbsp;<span class="ident" id="1676280">exp0</span><span class="op" id="1676284">,</span>&nbsp;<span class="ident" id="1676286">trunc0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676295">for</span>&nbsp;<span class="ident" id="1676299">exp</span>&nbsp;<span class="op" id="1676303">&lt;</span>&nbsp;<span class="ident" id="1676305">bias32</span>&nbsp;<span class="op" id="1676312">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676317">trunc</span>&nbsp;<span class="op" id="1676323">|=</span>&nbsp;<span class="ident" id="1676326">mant</span>&nbsp;<span class="op" id="1676331">&amp;</span>&nbsp;<span class="num" id="1676333">1</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676338">mant</span>&nbsp;<span class="op" id="1676343">&gt;&gt;=</span>&nbsp;<span class="num" id="1676347">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676352">exp</span><span class="op" id="1676355">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676360">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676364">if</span>&nbsp;<span class="ident" id="1676367">mant</span><span class="op" id="1676371">&amp;</span><span class="num" id="1676372">1</span>&nbsp;<span class="op" id="1676374">!=</span>&nbsp;<span class="num" id="1676377">0</span>&nbsp;<span class="op" id="1676379">&amp;&amp;</span>&nbsp;<span class="op" id="1676382">(</span><span class="ident" id="1676383">trunc</span>&nbsp;<span class="op" id="1676389">!=</span>&nbsp;<span class="num" id="1676392">0</span>&nbsp;<span class="op" id="1676394">||</span>&nbsp;<span class="ident" id="1676397">mant</span><span class="op" id="1676401">&amp;</span><span class="num" id="1676402">2</span>&nbsp;<span class="op" id="1676404">!=</span>&nbsp;<span class="num" id="1676407">0</span><span class="op" id="1676408">)</span>&nbsp;<span class="op" id="1676410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676415">mant</span><span class="op" id="1676419">++</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676428">mant</span>&nbsp;<span class="op" id="1676433">&gt;&gt;=</span>&nbsp;<span class="num" id="1676437">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676441">exp</span><span class="op" id="1676444">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676449">if</span>&nbsp;<span class="ident" id="1676452">mant</span>&nbsp;<span class="op" id="1676457">&lt;</span>&nbsp;<span class="num" id="1676459">1</span><span class="op" id="1676460">&lt;&lt;</span><span class="ident" id="1676462">mantbits32</span>&nbsp;<span class="op" id="1676473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676478">return</span>&nbsp;<span class="ident" id="1676485">sign</span>&nbsp;<span class="op" id="1676490">|</span>&nbsp;<span class="ident" id="1676492">mant</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1676502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676505">return</span>&nbsp;<span class="ident" id="1676512">sign</span>&nbsp;<span class="op" id="1676517">|</span>&nbsp;<span class="builtintype" id="1676519">uint32</span><span class="op" id="1676525">(</span><span class="ident" id="1676526">exp</span><span class="op" id="1676529">-</span><span class="ident" id="1676530">bias32</span><span class="op" id="1676536">)</span><span class="op" id="1676537">&lt;&lt;</span><span class="ident" id="1676539">mantbits32</span>&nbsp;<span class="op" id="1676550">|</span>&nbsp;<span class="ident" id="1676552">mant</span><span class="op" id="1676556">&amp;</span><span class="op" id="1676557">(</span><span class="num" id="1676558">1</span><span class="op" id="1676559">&lt;&lt;</span><span class="ident" id="1676561">mantbits32</span><span class="op" id="1676571">-</span><span class="num" id="1676572">1</span><span class="op" id="1676573">)</span><br>
<span class="lineno"></span><span class="op" id="1676575">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">195</span><span class="keyword" id="1676578">func</span>&nbsp;<span class="ident" id="1676583">fadd64</span><span class="op" id="1676589">(</span><span class="ident" id="1676590">f</span><span class="op" id="1676591">,</span>&nbsp;<span class="ident" id="1676593">g</span>&nbsp;<span class="ident" id="1676595">uint64</span><span class="op" id="1676601">)</span>&nbsp;<span class="ident" id="1676603">uint64</span>&nbsp;<span class="op" id="1676610">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676613">fs</span><span class="op" id="1676615">,</span>&nbsp;<span class="ident" id="1676617">fm</span><span class="op" id="1676619">,</span>&nbsp;<span class="ident" id="1676621">fe</span><span class="op" id="1676623">,</span>&nbsp;<span class="ident" id="1676625">fi</span><span class="op" id="1676627">,</span>&nbsp;<span class="ident" id="1676629">fn</span>&nbsp;<span class="op" id="1676632">:=</span>&nbsp;<span class="ident" id="1676635">funpack64</span><span class="op" id="1676644">(</span><span class="ident" id="1676645">f</span><span class="op" id="1676646">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1676649">gs</span><span class="op" id="1676651">,</span>&nbsp;<span class="ident" id="1676653">gm</span><span class="op" id="1676655">,</span>&nbsp;<span class="ident" id="1676657">ge</span><span class="op" id="1676659">,</span>&nbsp;<span class="ident" id="1676661">gi</span><span class="op" id="1676663">,</span>&nbsp;<span class="ident" id="1676665">gn</span>&nbsp;<span class="op" id="1676668">:=</span>&nbsp;<span class="ident" id="1676671">funpack64</span><span class="op" id="1676680">(</span><span class="ident" id="1676681">g</span><span class="op" id="1676682">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1676686">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676705">switch</span>&nbsp;<span class="op" id="1676712">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676715">case</span>&nbsp;<span class="ident" id="1676720">fn</span>&nbsp;<span class="op" id="1676723">||</span>&nbsp;<span class="ident" id="1676726">gn</span><span class="op" id="1676728">:</span>&nbsp;<span class="comment" id="1676730">//&nbsp;NaN&nbsp;+&nbsp;x&nbsp;or&nbsp;x&nbsp;+&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676760">return</span>&nbsp;<span class="ident" id="1676767">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676775">case</span>&nbsp;<span class="ident" id="1676780">fi</span>&nbsp;<span class="op" id="1676783">&amp;&amp;</span>&nbsp;<span class="ident" id="1676786">gi</span>&nbsp;<span class="op" id="1676789">&amp;&amp;</span>&nbsp;<span class="ident" id="1676792">fs</span>&nbsp;<span class="op" id="1676795">!=</span>&nbsp;<span class="ident" id="1676798">gs</span><span class="op" id="1676800">:</span>&nbsp;<span class="comment" id="1676802">//&nbsp;+Inf&nbsp;+&nbsp;-Inf&nbsp;or&nbsp;-Inf&nbsp;+&nbsp;+Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676840">return</span>&nbsp;<span class="ident" id="1676847">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676855">case</span>&nbsp;<span class="ident" id="1676860">fi</span><span class="op" id="1676862">:</span>&nbsp;<span class="comment" id="1676864">//&nbsp;±Inf&nbsp;+&nbsp;g&nbsp;=&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676887">return</span>&nbsp;<span class="ident" id="1676894">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676898">case</span>&nbsp;<span class="ident" id="1676903">gi</span><span class="op" id="1676905">:</span>&nbsp;<span class="comment" id="1676907">//&nbsp;f&nbsp;+&nbsp;±Inf&nbsp;=&nbsp;±Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676930">return</span>&nbsp;<span class="ident" id="1676937">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1676941">case</span>&nbsp;<span class="ident" id="1676946">fm</span>&nbsp;<span class="op" id="1676949">==</span>&nbsp;<span class="num" id="1676952">0</span>&nbsp;<span class="op" id="1676954">&amp;&amp;</span>&nbsp;<span class="ident" id="1676957">gm</span>&nbsp;<span class="op" id="1676960">==</span>&nbsp;<span class="num" id="1676963">0</span>&nbsp;<span class="op" id="1676965">&amp;&amp;</span>&nbsp;<span class="ident" id="1676968">fs</span>&nbsp;<span class="op" id="1676971">!=</span>&nbsp;<span class="num" id="1676974">0</span>&nbsp;<span class="op" id="1676976">&amp;&amp;</span>&nbsp;<span class="ident" id="1676979">gs</span>&nbsp;<span class="op" id="1676982">!=</span>&nbsp;<span class="num" id="1676985">0</span><span class="op" id="1676986">:</span>&nbsp;<span class="comment" id="1676988">//&nbsp;-0&nbsp;+&nbsp;-0&nbsp;=&nbsp;-0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677006">return</span>&nbsp;<span class="ident" id="1677013">f</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677017">case</span>&nbsp;<span class="ident" id="1677022">fm</span>&nbsp;<span class="op" id="1677025">==</span>&nbsp;<span class="num" id="1677028">0</span><span class="op" id="1677029">:</span>&nbsp;<span class="comment" id="1677031">//&nbsp;0&nbsp;+&nbsp;g&nbsp;=&nbsp;g&nbsp;but&nbsp;0&nbsp;+&nbsp;-0&nbsp;=&nbsp;+0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677062">if</span>&nbsp;<span class="ident" id="1677065">gm</span>&nbsp;<span class="op" id="1677068">==</span>&nbsp;<span class="num" id="1677071">0</span>&nbsp;<span class="op" id="1677073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677078">g</span>&nbsp;<span class="op" id="1677080">^=</span>&nbsp;<span class="ident" id="1677083">gs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677088">}</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677092">return</span>&nbsp;<span class="ident" id="1677099">g</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677103">case</span>&nbsp;<span class="ident" id="1677108">gm</span>&nbsp;<span class="op" id="1677111">==</span>&nbsp;<span class="num" id="1677114">0</span><span class="op" id="1677115">:</span>&nbsp;<span class="comment" id="1677117">//&nbsp;f&nbsp;+&nbsp;0&nbsp;=&nbsp;f</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677132">return</span>&nbsp;<span class="ident" id="1677139">f</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677143">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677147">if</span>&nbsp;<span class="ident" id="1677150">fe</span>&nbsp;<span class="op" id="1677153">&lt;</span>&nbsp;<span class="ident" id="1677155">ge</span>&nbsp;<span class="op" id="1677158">||</span>&nbsp;<span class="ident" id="1677161">fe</span>&nbsp;<span class="op" id="1677164">==</span>&nbsp;<span class="ident" id="1677167">ge</span>&nbsp;<span class="op" id="1677170">&amp;&amp;</span>&nbsp;<span class="ident" id="1677173">fm</span>&nbsp;<span class="op" id="1677176">&lt;</span>&nbsp;<span class="ident" id="1677178">gm</span>&nbsp;<span class="op" id="1677181">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677185">f</span><span class="op" id="1677186">,</span>&nbsp;<span class="ident" id="1677188">g</span><span class="op" id="1677189">,</span>&nbsp;<span class="ident" id="1677191">fs</span><span class="op" id="1677193">,</span>&nbsp;<span class="ident" id="1677195">fm</span><span class="op" id="1677197">,</span>&nbsp;<span class="ident" id="1677199">fe</span><span class="op" id="1677201">,</span>&nbsp;<span class="ident" id="1677203">gs</span><span class="op" id="1677205">,</span>&nbsp;<span class="ident" id="1677207">gm</span><span class="op" id="1677209">,</span>&nbsp;<span class="ident" id="1677211">ge</span>&nbsp;<span class="op" id="1677214">=</span>&nbsp;<span class="ident" id="1677216">g</span><span class="op" id="1677217">,</span>&nbsp;<span class="ident" id="1677219">f</span><span class="op" id="1677220">,</span>&nbsp;<span class="ident" id="1677222">gs</span><span class="op" id="1677224">,</span>&nbsp;<span class="ident" id="1677226">gm</span><span class="op" id="1677228">,</span>&nbsp;<span class="ident" id="1677230">ge</span><span class="op" id="1677232">,</span>&nbsp;<span class="ident" id="1677234">fs</span><span class="op" id="1677236">,</span>&nbsp;<span class="ident" id="1677238">fm</span><span class="op" id="1677240">,</span>&nbsp;<span class="ident" id="1677242">fe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677246">}</span><br>
<span class="lineno">230</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677250">shift</span>&nbsp;<span class="op" id="1677256">:=</span>&nbsp;<span class="builtintype" id="1677259">uint</span><span class="op" id="1677263">(</span><span class="ident" id="1677264">fe</span>&nbsp;<span class="op" id="1677267">-</span>&nbsp;<span class="ident" id="1677269">ge</span><span class="op" id="1677271">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677274">fm</span>&nbsp;<span class="op" id="1677277">&lt;&lt;=</span>&nbsp;<span class="num" id="1677281">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677284">gm</span>&nbsp;<span class="op" id="1677287">&lt;&lt;=</span>&nbsp;<span class="num" id="1677291">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677294">trunc</span>&nbsp;<span class="op" id="1677300">:=</span>&nbsp;<span class="ident" id="1677303">gm</span>&nbsp;<span class="op" id="1677306">&amp;</span>&nbsp;<span class="op" id="1677308">(</span><span class="num" id="1677309">1</span><span class="op" id="1677310">&lt;&lt;</span><span class="ident" id="1677312">shift</span>&nbsp;<span class="op" id="1677318">-</span>&nbsp;<span class="num" id="1677320">1</span><span class="op" id="1677321">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677324">gm</span>&nbsp;<span class="op" id="1677327">&gt;&gt;=</span>&nbsp;<span class="ident" id="1677331">shift</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677338">if</span>&nbsp;<span class="ident" id="1677341">fs</span>&nbsp;<span class="op" id="1677344">==</span>&nbsp;<span class="ident" id="1677347">gs</span>&nbsp;<span class="op" id="1677350">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677354">fm</span>&nbsp;<span class="op" id="1677357">+=</span>&nbsp;<span class="ident" id="1677360">gm</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677364">}</span>&nbsp;<span class="keyword" id="1677366">else</span>&nbsp;<span class="op" id="1677371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677375">fm</span>&nbsp;<span class="op" id="1677378">-=</span>&nbsp;<span class="ident" id="1677381">gm</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677386">if</span>&nbsp;<span class="ident" id="1677389">trunc</span>&nbsp;<span class="op" id="1677395">!=</span>&nbsp;<span class="num" id="1677398">0</span>&nbsp;<span class="op" id="1677400">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677405">fm</span><span class="op" id="1677407">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677418">if</span>&nbsp;<span class="ident" id="1677421">fm</span>&nbsp;<span class="op" id="1677424">==</span>&nbsp;<span class="num" id="1677427">0</span>&nbsp;<span class="op" id="1677429">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677433">fs</span>&nbsp;<span class="op" id="1677436">=</span>&nbsp;<span class="num" id="1677438">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1677441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677444">return</span>&nbsp;<span class="ident" id="1677451">fpack64</span><span class="op" id="1677458">(</span><span class="ident" id="1677459">fs</span><span class="op" id="1677461">,</span>&nbsp;<span class="ident" id="1677463">fm</span><span class="op" id="1677465">,</span>&nbsp;<span class="ident" id="1677467">fe</span><span class="op" id="1677469">-</span><span class="num" id="1677470">2</span><span class="op" id="1677471">,</span>&nbsp;<span class="ident" id="1677473">trunc</span><span class="op" id="1677478">)</span><br>
<span class="lineno"></span><span class="op" id="1677480">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="1677483">func</span>&nbsp;<span class="ident" id="1677488">fsub64</span><span class="op" id="1677494">(</span><span class="ident" id="1677495">f</span><span class="op" id="1677496">,</span>&nbsp;<span class="ident" id="1677498">g</span>&nbsp;<span class="ident" id="1677500">uint64</span><span class="op" id="1677506">)</span>&nbsp;<span class="ident" id="1677508">uint64</span>&nbsp;<span class="op" id="1677515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677518">return</span>&nbsp;<span class="ident" id="1677525">fadd64</span><span class="op" id="1677531">(</span><span class="ident" id="1677532">f</span><span class="op" id="1677533">,</span>&nbsp;<span class="ident" id="1677535">fneg64</span><span class="op" id="1677541">(</span><span class="ident" id="1677542">g</span><span class="op" id="1677543">)</span><span class="op" id="1677544">)</span><br>
<span class="lineno"></span><span class="op" id="1677546">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1677549">func</span>&nbsp;<span class="ident" id="1677554">fneg64</span><span class="op" id="1677560">(</span><span class="ident" id="1677561">f</span>&nbsp;<span class="ident" id="1677563">uint64</span><span class="op" id="1677569">)</span>&nbsp;<span class="ident" id="1677571">uint64</span>&nbsp;<span class="op" id="1677578">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677581">return</span>&nbsp;<span class="ident" id="1677588">f</span>&nbsp;<span class="op" id="1677590">^</span>&nbsp;<span class="op" id="1677592">(</span><span class="num" id="1677593">1</span>&nbsp;<span class="op" id="1677595">&lt;&lt;</span>&nbsp;<span class="op" id="1677598">(</span><span class="ident" id="1677599">mantbits64</span>&nbsp;<span class="op" id="1677610">+</span>&nbsp;<span class="ident" id="1677612">expbits64</span><span class="op" id="1677621">)</span><span class="op" id="1677622">)</span><br>
<span class="lineno"></span><span class="op" id="1677624">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1677627">func</span>&nbsp;<span class="ident" id="1677632">fmul64</span><span class="op" id="1677638">(</span><span class="ident" id="1677639">f</span><span class="op" id="1677640">,</span>&nbsp;<span class="ident" id="1677642">g</span>&nbsp;<span class="ident" id="1677644">uint64</span><span class="op" id="1677650">)</span>&nbsp;<span class="ident" id="1677652">uint64</span>&nbsp;<span class="op" id="1677659">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677662">fs</span><span class="op" id="1677664">,</span>&nbsp;<span class="ident" id="1677666">fm</span><span class="op" id="1677668">,</span>&nbsp;<span class="ident" id="1677670">fe</span><span class="op" id="1677672">,</span>&nbsp;<span class="ident" id="1677674">fi</span><span class="op" id="1677676">,</span>&nbsp;<span class="ident" id="1677678">fn</span>&nbsp;<span class="op" id="1677681">:=</span>&nbsp;<span class="ident" id="1677684">funpack64</span><span class="op" id="1677693">(</span><span class="ident" id="1677694">f</span><span class="op" id="1677695">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1677698">gs</span><span class="op" id="1677700">,</span>&nbsp;<span class="ident" id="1677702">gm</span><span class="op" id="1677704">,</span>&nbsp;<span class="ident" id="1677706">ge</span><span class="op" id="1677708">,</span>&nbsp;<span class="ident" id="1677710">gi</span><span class="op" id="1677712">,</span>&nbsp;<span class="ident" id="1677714">gn</span>&nbsp;<span class="op" id="1677717">:=</span>&nbsp;<span class="ident" id="1677720">funpack64</span><span class="op" id="1677729">(</span><span class="ident" id="1677730">g</span><span class="op" id="1677731">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1677735">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677754">switch</span>&nbsp;<span class="op" id="1677761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677764">case</span>&nbsp;<span class="ident" id="1677769">fn</span>&nbsp;<span class="op" id="1677772">||</span>&nbsp;<span class="ident" id="1677775">gn</span><span class="op" id="1677777">:</span>&nbsp;<span class="comment" id="1677779">//&nbsp;NaN&nbsp;*&nbsp;g&nbsp;or&nbsp;f&nbsp;*&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677809">return</span>&nbsp;<span class="ident" id="1677816">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677824">case</span>&nbsp;<span class="ident" id="1677829">fi</span>&nbsp;<span class="op" id="1677832">&amp;&amp;</span>&nbsp;<span class="ident" id="1677835">gi</span><span class="op" id="1677837">:</span>&nbsp;<span class="comment" id="1677839">//&nbsp;Inf&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677881">return</span>&nbsp;<span class="ident" id="1677888">f</span>&nbsp;<span class="op" id="1677890">^</span>&nbsp;<span class="ident" id="1677892">gs</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677897">case</span>&nbsp;<span class="ident" id="1677902">fi</span>&nbsp;<span class="op" id="1677905">&amp;&amp;</span>&nbsp;<span class="ident" id="1677908">gm</span>&nbsp;<span class="op" id="1677911">==</span>&nbsp;<span class="num" id="1677914">0</span><span class="op" id="1677915">,</span>&nbsp;<span class="ident" id="1677917">fm</span>&nbsp;<span class="op" id="1677920">==</span>&nbsp;<span class="num" id="1677923">0</span>&nbsp;<span class="op" id="1677925">&amp;&amp;</span>&nbsp;<span class="ident" id="1677928">gi</span><span class="op" id="1677930">:</span>&nbsp;<span class="comment" id="1677932">//&nbsp;0&nbsp;*&nbsp;Inf&nbsp;=&nbsp;Inf&nbsp;*&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677961">return</span>&nbsp;<span class="ident" id="1677968">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1677976">case</span>&nbsp;<span class="ident" id="1677981">fm</span>&nbsp;<span class="op" id="1677984">==</span>&nbsp;<span class="num" id="1677987">0</span><span class="op" id="1677988">:</span>&nbsp;<span class="comment" id="1677990">//&nbsp;0&nbsp;*&nbsp;x&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678026">return</span>&nbsp;<span class="ident" id="1678033">f</span>&nbsp;<span class="op" id="1678035">^</span>&nbsp;<span class="ident" id="1678037">gs</span><br>
<span class="lineno">275</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678042">case</span>&nbsp;<span class="ident" id="1678047">gm</span>&nbsp;<span class="op" id="1678050">==</span>&nbsp;<span class="num" id="1678053">0</span><span class="op" id="1678054">:</span>&nbsp;<span class="comment" id="1678056">//&nbsp;x&nbsp;*&nbsp;0&nbsp;=&nbsp;0&nbsp;(with&nbsp;sign&nbsp;adjusted)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678092">return</span>&nbsp;<span class="ident" id="1678099">g</span>&nbsp;<span class="op" id="1678101">^</span>&nbsp;<span class="ident" id="1678103">fs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1678107">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678111">//&nbsp;53-bit&nbsp;*&nbsp;53-bit&nbsp;=&nbsp;107-&nbsp;or&nbsp;108-bit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678149">lo</span><span class="op" id="1678151">,</span>&nbsp;<span class="ident" id="1678153">hi</span>&nbsp;<span class="op" id="1678156">:=</span>&nbsp;<span class="ident" id="1678159">mullu</span><span class="op" id="1678164">(</span><span class="ident" id="1678165">fm</span><span class="op" id="1678167">,</span>&nbsp;<span class="ident" id="1678169">gm</span><span class="op" id="1678171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678174">shift</span>&nbsp;<span class="op" id="1678180">:=</span>&nbsp;<span class="ident" id="1678183">mantbits64</span>&nbsp;<span class="op" id="1678194">-</span>&nbsp;<span class="num" id="1678196">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678199">trunc</span>&nbsp;<span class="op" id="1678205">:=</span>&nbsp;<span class="ident" id="1678208">lo</span>&nbsp;<span class="op" id="1678211">&amp;</span>&nbsp;<span class="op" id="1678213">(</span><span class="num" id="1678214">1</span><span class="op" id="1678215">&lt;&lt;</span><span class="ident" id="1678217">shift</span>&nbsp;<span class="op" id="1678223">-</span>&nbsp;<span class="num" id="1678225">1</span><span class="op" id="1678226">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678229">mant</span>&nbsp;<span class="op" id="1678234">:=</span>&nbsp;<span class="ident" id="1678237">hi</span><span class="op" id="1678239">&lt;&lt;</span><span class="op" id="1678241">(</span><span class="num" id="1678242">64</span><span class="op" id="1678244">-</span><span class="ident" id="1678245">shift</span><span class="op" id="1678250">)</span>&nbsp;<span class="op" id="1678252">|</span>&nbsp;<span class="ident" id="1678254">lo</span><span class="op" id="1678256">&gt;&gt;</span><span class="ident" id="1678258">shift</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678265">return</span>&nbsp;<span class="ident" id="1678272">fpack64</span><span class="op" id="1678279">(</span><span class="ident" id="1678280">fs</span><span class="op" id="1678282">^</span><span class="ident" id="1678283">gs</span><span class="op" id="1678285">,</span>&nbsp;<span class="ident" id="1678287">mant</span><span class="op" id="1678291">,</span>&nbsp;<span class="ident" id="1678293">fe</span><span class="op" id="1678295">+</span><span class="ident" id="1678296">ge</span><span class="op" id="1678298">-</span><span class="num" id="1678299">1</span><span class="op" id="1678300">,</span>&nbsp;<span class="ident" id="1678302">trunc</span><span class="op" id="1678307">)</span><br>
<span class="lineno"></span><span class="op" id="1678309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1678312">func</span>&nbsp;<span class="ident" id="1678317">fdiv64</span><span class="op" id="1678323">(</span><span class="ident" id="1678324">f</span><span class="op" id="1678325">,</span>&nbsp;<span class="ident" id="1678327">g</span>&nbsp;<span class="ident" id="1678329">uint64</span><span class="op" id="1678335">)</span>&nbsp;<span class="ident" id="1678337">uint64</span>&nbsp;<span class="op" id="1678344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678347">fs</span><span class="op" id="1678349">,</span>&nbsp;<span class="ident" id="1678351">fm</span><span class="op" id="1678353">,</span>&nbsp;<span class="ident" id="1678355">fe</span><span class="op" id="1678357">,</span>&nbsp;<span class="ident" id="1678359">fi</span><span class="op" id="1678361">,</span>&nbsp;<span class="ident" id="1678363">fn</span>&nbsp;<span class="op" id="1678366">:=</span>&nbsp;<span class="ident" id="1678369">funpack64</span><span class="op" id="1678378">(</span><span class="ident" id="1678379">f</span><span class="op" id="1678380">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678383">gs</span><span class="op" id="1678385">,</span>&nbsp;<span class="ident" id="1678387">gm</span><span class="op" id="1678389">,</span>&nbsp;<span class="ident" id="1678391">ge</span><span class="op" id="1678393">,</span>&nbsp;<span class="ident" id="1678395">gi</span><span class="op" id="1678397">,</span>&nbsp;<span class="ident" id="1678399">gn</span>&nbsp;<span class="op" id="1678402">:=</span>&nbsp;<span class="ident" id="1678405">funpack64</span><span class="op" id="1678414">(</span><span class="ident" id="1678415">g</span><span class="op" id="1678416">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678420">//&nbsp;Special&nbsp;cases.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678439">switch</span>&nbsp;<span class="op" id="1678446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678449">case</span>&nbsp;<span class="ident" id="1678454">fn</span>&nbsp;<span class="op" id="1678457">||</span>&nbsp;<span class="ident" id="1678460">gn</span><span class="op" id="1678462">:</span>&nbsp;<span class="comment" id="1678464">//&nbsp;NaN&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;NaN&nbsp;=&nbsp;NaN</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678493">return</span>&nbsp;<span class="ident" id="1678500">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678508">case</span>&nbsp;<span class="ident" id="1678513">fi</span>&nbsp;<span class="op" id="1678516">&amp;&amp;</span>&nbsp;<span class="ident" id="1678519">gi</span><span class="op" id="1678521">:</span>&nbsp;<span class="comment" id="1678523">//&nbsp;±Inf&nbsp;/&nbsp;±Inf&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678548">return</span>&nbsp;<span class="ident" id="1678555">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678563">case</span>&nbsp;<span class="op" id="1678568">!</span><span class="ident" id="1678569">fi</span>&nbsp;<span class="op" id="1678572">&amp;&amp;</span>&nbsp;<span class="op" id="1678575">!</span><span class="ident" id="1678576">gi</span>&nbsp;<span class="op" id="1678579">&amp;&amp;</span>&nbsp;<span class="ident" id="1678582">fm</span>&nbsp;<span class="op" id="1678585">==</span>&nbsp;<span class="num" id="1678588">0</span>&nbsp;<span class="op" id="1678590">&amp;&amp;</span>&nbsp;<span class="ident" id="1678593">gm</span>&nbsp;<span class="op" id="1678596">==</span>&nbsp;<span class="num" id="1678599">0</span><span class="op" id="1678600">:</span>&nbsp;<span class="comment" id="1678602">//&nbsp;0&nbsp;/&nbsp;0&nbsp;=&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678619">return</span>&nbsp;<span class="ident" id="1678626">nan64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678634">case</span>&nbsp;<span class="ident" id="1678639">fi</span><span class="op" id="1678641">,</span>&nbsp;<span class="op" id="1678643">!</span><span class="ident" id="1678644">gi</span>&nbsp;<span class="op" id="1678647">&amp;&amp;</span>&nbsp;<span class="ident" id="1678650">gm</span>&nbsp;<span class="op" id="1678653">==</span>&nbsp;<span class="num" id="1678656">0</span><span class="op" id="1678657">:</span>&nbsp;<span class="comment" id="1678659">//&nbsp;Inf&nbsp;/&nbsp;g&nbsp;=&nbsp;f&nbsp;/&nbsp;0&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678686">return</span>&nbsp;<span class="ident" id="1678693">fs</span>&nbsp;<span class="op" id="1678696">^</span>&nbsp;<span class="ident" id="1678698">gs</span>&nbsp;<span class="op" id="1678701">^</span>&nbsp;<span class="ident" id="1678703">inf64</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678711">case</span>&nbsp;<span class="ident" id="1678716">gi</span><span class="op" id="1678718">,</span>&nbsp;<span class="ident" id="1678720">fm</span>&nbsp;<span class="op" id="1678723">==</span>&nbsp;<span class="num" id="1678726">0</span><span class="op" id="1678727">:</span>&nbsp;<span class="comment" id="1678729">//&nbsp;f&nbsp;/&nbsp;Inf&nbsp;=&nbsp;0&nbsp;/&nbsp;g&nbsp;=&nbsp;Inf</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678756">return</span>&nbsp;<span class="ident" id="1678763">fs</span>&nbsp;<span class="op" id="1678766">^</span>&nbsp;<span class="ident" id="1678768">gs</span>&nbsp;<span class="op" id="1678771">^</span>&nbsp;<span class="num" id="1678773">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1678776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678779">_</span><span class="op" id="1678780">,</span>&nbsp;<span class="ident" id="1678782">_</span><span class="op" id="1678783">,</span>&nbsp;<span class="ident" id="1678785">_</span><span class="op" id="1678786">,</span>&nbsp;<span class="ident" id="1678788">_</span>&nbsp;<span class="op" id="1678790">=</span>&nbsp;<span class="ident" id="1678792">fi</span><span class="op" id="1678794">,</span>&nbsp;<span class="ident" id="1678796">fn</span><span class="op" id="1678798">,</span>&nbsp;<span class="ident" id="1678800">gi</span><span class="op" id="1678802">,</span>&nbsp;<span class="ident" id="1678804">gn</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1678809">//&nbsp;53-bit&lt;&lt;54&nbsp;/&nbsp;53-bit&nbsp;=&nbsp;53-&nbsp;or&nbsp;54-bit.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678850">shift</span>&nbsp;<span class="op" id="1678856">:=</span>&nbsp;<span class="ident" id="1678859">mantbits64</span>&nbsp;<span class="op" id="1678870">+</span>&nbsp;<span class="num" id="1678872">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678875">q</span><span class="op" id="1678876">,</span>&nbsp;<span class="ident" id="1678878">r</span>&nbsp;<span class="op" id="1678880">:=</span>&nbsp;<span class="ident" id="1678883">divlu</span><span class="op" id="1678888">(</span><span class="ident" id="1678889">fm</span><span class="op" id="1678891">&gt;&gt;</span><span class="op" id="1678893">(</span><span class="num" id="1678894">64</span><span class="op" id="1678896">-</span><span class="ident" id="1678897">shift</span><span class="op" id="1678902">)</span><span class="op" id="1678903">,</span>&nbsp;<span class="ident" id="1678905">fm</span><span class="op" id="1678907">&lt;&lt;</span><span class="ident" id="1678909">shift</span><span class="op" id="1678914">,</span>&nbsp;<span class="ident" id="1678916">gm</span><span class="op" id="1678918">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1678921">return</span>&nbsp;<span class="ident" id="1678928">fpack64</span><span class="op" id="1678935">(</span><span class="ident" id="1678936">fs</span><span class="op" id="1678938">^</span><span class="ident" id="1678939">gs</span><span class="op" id="1678941">,</span>&nbsp;<span class="ident" id="1678943">q</span><span class="op" id="1678944">,</span>&nbsp;<span class="ident" id="1678946">fe</span><span class="op" id="1678948">-</span><span class="ident" id="1678949">ge</span><span class="op" id="1678951">-</span><span class="num" id="1678952">2</span><span class="op" id="1678953">,</span>&nbsp;<span class="ident" id="1678955">r</span><span class="op" id="1678956">)</span><br>
<span class="lineno">315</span><span class="op" id="1678958">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1678961">func</span>&nbsp;<span class="ident" id="1678966">f64to32</span><span class="op" id="1678973">(</span><span class="ident" id="1678974">f</span>&nbsp;<span class="ident" id="1678976">uint64</span><span class="op" id="1678982">)</span>&nbsp;<span class="builtintype" id="1678984">uint32</span>&nbsp;<span class="op" id="1678991">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1678994">fs</span><span class="op" id="1678996">,</span>&nbsp;<span class="ident" id="1678998">fm</span><span class="op" id="1679000">,</span>&nbsp;<span class="ident" id="1679002">fe</span><span class="op" id="1679004">,</span>&nbsp;<span class="ident" id="1679006">fi</span><span class="op" id="1679008">,</span>&nbsp;<span class="ident" id="1679010">fn</span>&nbsp;<span class="op" id="1679013">:=</span>&nbsp;<span class="ident" id="1679016">funpack64</span><span class="op" id="1679025">(</span><span class="ident" id="1679026">f</span><span class="op" id="1679027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679030">if</span>&nbsp;<span class="ident" id="1679033">fn</span>&nbsp;<span class="op" id="1679036">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679040">return</span>&nbsp;<span class="ident" id="1679047">nan32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679054">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679057">fs32</span>&nbsp;<span class="op" id="1679062">:=</span>&nbsp;<span class="builtintype" id="1679065">uint32</span><span class="op" id="1679071">(</span><span class="ident" id="1679072">fs</span>&nbsp;<span class="op" id="1679075">&gt;&gt;</span>&nbsp;<span class="num" id="1679078">32</span><span class="op" id="1679080">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679083">if</span>&nbsp;<span class="ident" id="1679086">fi</span>&nbsp;<span class="op" id="1679089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679093">return</span>&nbsp;<span class="ident" id="1679100">fs32</span>&nbsp;<span class="op" id="1679105">^</span>&nbsp;<span class="ident" id="1679107">inf32</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679117">const</span>&nbsp;<span class="ident" id="1679123">d</span>&nbsp;<span class="op" id="1679125">=</span>&nbsp;<span class="ident" id="1679127">mantbits64</span>&nbsp;<span class="op" id="1679138">-</span>&nbsp;<span class="ident" id="1679140">mantbits32</span>&nbsp;<span class="op" id="1679151">-</span>&nbsp;<span class="num" id="1679153">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679156">return</span>&nbsp;<span class="ident" id="1679163">fpack32</span><span class="op" id="1679170">(</span><span class="ident" id="1679171">fs32</span><span class="op" id="1679175">,</span>&nbsp;<span class="builtintype" id="1679177">uint32</span><span class="op" id="1679183">(</span><span class="ident" id="1679184">fm</span><span class="op" id="1679186">&gt;&gt;</span><span class="ident" id="1679188">d</span><span class="op" id="1679189">)</span><span class="op" id="1679190">,</span>&nbsp;<span class="ident" id="1679192">fe</span><span class="op" id="1679194">-</span><span class="num" id="1679195">1</span><span class="op" id="1679196">,</span>&nbsp;<span class="builtintype" id="1679198">uint32</span><span class="op" id="1679204">(</span><span class="ident" id="1679205">fm</span><span class="op" id="1679207">&amp;</span><span class="op" id="1679208">(</span><span class="num" id="1679209">1</span><span class="op" id="1679210">&lt;&lt;</span><span class="ident" id="1679212">d</span><span class="op" id="1679213">-</span><span class="num" id="1679214">1</span><span class="op" id="1679215">)</span><span class="op" id="1679216">)</span><span class="op" id="1679217">)</span><br>
<span class="lineno"></span><span class="op" id="1679219">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">330</span><span class="keyword" id="1679222">func</span>&nbsp;<span class="ident" id="1679227">f32to64</span><span class="op" id="1679234">(</span><span class="ident" id="1679235">f</span>&nbsp;<span class="builtintype" id="1679237">uint32</span><span class="op" id="1679243">)</span>&nbsp;<span class="ident" id="1679245">uint64</span>&nbsp;<span class="op" id="1679252">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679255">const</span>&nbsp;<span class="ident" id="1679261">d</span>&nbsp;<span class="op" id="1679263">=</span>&nbsp;<span class="ident" id="1679265">mantbits64</span>&nbsp;<span class="op" id="1679276">-</span>&nbsp;<span class="ident" id="1679278">mantbits32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679290">fs</span><span class="op" id="1679292">,</span>&nbsp;<span class="ident" id="1679294">fm</span><span class="op" id="1679296">,</span>&nbsp;<span class="ident" id="1679298">fe</span><span class="op" id="1679300">,</span>&nbsp;<span class="ident" id="1679302">fi</span><span class="op" id="1679304">,</span>&nbsp;<span class="ident" id="1679306">fn</span>&nbsp;<span class="op" id="1679309">:=</span>&nbsp;<span class="ident" id="1679312">funpack32</span><span class="op" id="1679321">(</span><span class="ident" id="1679322">f</span><span class="op" id="1679323">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679326">if</span>&nbsp;<span class="ident" id="1679329">fn</span>&nbsp;<span class="op" id="1679332">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679336">return</span>&nbsp;<span class="ident" id="1679343">nan64</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679350">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679353">fs64</span>&nbsp;<span class="op" id="1679358">:=</span>&nbsp;<span class="ident" id="1679361">uint64</span><span class="op" id="1679367">(</span><span class="ident" id="1679368">fs</span><span class="op" id="1679370">)</span>&nbsp;<span class="op" id="1679372">&lt;&lt;</span>&nbsp;<span class="num" id="1679375">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679379">if</span>&nbsp;<span class="ident" id="1679382">fi</span>&nbsp;<span class="op" id="1679385">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679389">return</span>&nbsp;<span class="ident" id="1679396">fs64</span>&nbsp;<span class="op" id="1679401">^</span>&nbsp;<span class="ident" id="1679403">inf64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1679410">}</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679413">return</span>&nbsp;<span class="ident" id="1679420">fpack64</span><span class="op" id="1679427">(</span><span class="ident" id="1679428">fs64</span><span class="op" id="1679432">,</span>&nbsp;<span class="ident" id="1679434">uint64</span><span class="op" id="1679440">(</span><span class="ident" id="1679441">fm</span><span class="op" id="1679443">)</span><span class="op" id="1679444">&lt;&lt;</span><span class="ident" id="1679446">d</span><span class="op" id="1679447">,</span>&nbsp;<span class="ident" id="1679449">fe</span><span class="op" id="1679451">,</span>&nbsp;<span class="num" id="1679453">0</span><span class="op" id="1679454">)</span><br>
<span class="lineno"></span><span class="op" id="1679456">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1679459">func</span>&nbsp;<span class="ident" id="1679464">fcmp64</span><span class="op" id="1679470">(</span><span class="ident" id="1679471">f</span><span class="op" id="1679472">,</span>&nbsp;<span class="ident" id="1679474">g</span>&nbsp;<span class="ident" id="1679476">uint64</span><span class="op" id="1679482">)</span>&nbsp;<span class="op" id="1679484">(</span><span class="ident" id="1679485">cmp</span>&nbsp;<span class="builtintype" id="1679489">int</span><span class="op" id="1679492">,</span>&nbsp;<span class="ident" id="1679494">isnan</span>&nbsp;<span class="builtintype" id="1679500">bool</span><span class="op" id="1679504">)</span>&nbsp;<span class="op" id="1679506">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679509">fs</span><span class="op" id="1679511">,</span>&nbsp;<span class="ident" id="1679513">fm</span><span class="op" id="1679515">,</span>&nbsp;<span class="ident" id="1679517">_</span><span class="op" id="1679518">,</span>&nbsp;<span class="ident" id="1679520">fi</span><span class="op" id="1679522">,</span>&nbsp;<span class="ident" id="1679524">fn</span>&nbsp;<span class="op" id="1679527">:=</span>&nbsp;<span class="ident" id="1679530">funpack64</span><span class="op" id="1679539">(</span><span class="ident" id="1679540">f</span><span class="op" id="1679541">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1679544">gs</span><span class="op" id="1679546">,</span>&nbsp;<span class="ident" id="1679548">gm</span><span class="op" id="1679550">,</span>&nbsp;<span class="ident" id="1679552">_</span><span class="op" id="1679553">,</span>&nbsp;<span class="ident" id="1679555">gi</span><span class="op" id="1679557">,</span>&nbsp;<span class="ident" id="1679559">gn</span>&nbsp;<span class="op" id="1679562">:=</span>&nbsp;<span class="ident" id="1679565">funpack64</span><span class="op" id="1679574">(</span><span class="ident" id="1679575">g</span><span class="op" id="1679576">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679580">switch</span>&nbsp;<span class="op" id="1679587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679590">case</span>&nbsp;<span class="ident" id="1679595">fn</span><span class="op" id="1679597">,</span>&nbsp;<span class="ident" id="1679599">gn</span><span class="op" id="1679601">:</span>&nbsp;<span class="comment" id="1679603">//&nbsp;flag&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679617">return</span>&nbsp;<span class="num" id="1679624">0</span><span class="op" id="1679625">,</span>&nbsp;<span class="builtintype" id="1679627">true</span><br>
<span class="lineno">350</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679634">case</span>&nbsp;<span class="op" id="1679639">!</span><span class="ident" id="1679640">fi</span>&nbsp;<span class="op" id="1679643">&amp;&amp;</span>&nbsp;<span class="op" id="1679646">!</span><span class="ident" id="1679647">gi</span>&nbsp;<span class="op" id="1679650">&amp;&amp;</span>&nbsp;<span class="ident" id="1679653">fm</span>&nbsp;<span class="op" id="1679656">==</span>&nbsp;<span class="num" id="1679659">0</span>&nbsp;<span class="op" id="1679661">&amp;&amp;</span>&nbsp;<span class="ident" id="1679664">gm</span>&nbsp;<span class="op" id="1679667">==</span>&nbsp;<span class="num" id="1679670">0</span><span class="op" id="1679671">:</span>&nbsp;<span class="comment" id="1679673">//&nbsp;±0&nbsp;==&nbsp;±0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679689">return</span>&nbsp;<span class="num" id="1679696">0</span><span class="op" id="1679697">,</span>&nbsp;<span class="builtintype" id="1679699">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679707">case</span>&nbsp;<span class="ident" id="1679712">fs</span>&nbsp;<span class="op" id="1679715">&gt;</span>&nbsp;<span class="ident" id="1679717">gs</span><span class="op" id="1679719">:</span>&nbsp;<span class="comment" id="1679721">//&nbsp;f&nbsp;&lt;&nbsp;0,&nbsp;g&nbsp;&gt;&nbsp;0</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679739">return</span>&nbsp;<span class="op" id="1679746">-</span><span class="num" id="1679747">1</span><span class="op" id="1679748">,</span>&nbsp;<span class="builtintype" id="1679750">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679758">case</span>&nbsp;<span class="ident" id="1679763">fs</span>&nbsp;<span class="op" id="1679766">&lt;</span>&nbsp;<span class="ident" id="1679768">gs</span><span class="op" id="1679770">:</span>&nbsp;<span class="comment" id="1679772">//&nbsp;f&nbsp;&gt;&nbsp;0,&nbsp;g&nbsp;&lt;&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679790">return</span>&nbsp;<span class="op" id="1679797">+</span><span class="num" id="1679798">1</span><span class="op" id="1679799">,</span>&nbsp;<span class="builtintype" id="1679801">false</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679809">//&nbsp;Same&nbsp;sign,&nbsp;not&nbsp;NaN.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679833">//&nbsp;Can&nbsp;compare&nbsp;encodings&nbsp;directly&nbsp;now.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1679873">//&nbsp;Reverse&nbsp;for&nbsp;sign.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679895">case</span>&nbsp;<span class="ident" id="1679900">fs</span>&nbsp;<span class="op" id="1679903">==</span>&nbsp;<span class="num" id="1679906">0</span>&nbsp;<span class="op" id="1679908">&amp;&amp;</span>&nbsp;<span class="ident" id="1679911">f</span>&nbsp;<span class="op" id="1679913">&lt;</span>&nbsp;<span class="ident" id="1679915">g</span><span class="op" id="1679916">,</span>&nbsp;<span class="ident" id="1679918">fs</span>&nbsp;<span class="op" id="1679921">!=</span>&nbsp;<span class="num" id="1679924">0</span>&nbsp;<span class="op" id="1679926">&amp;&amp;</span>&nbsp;<span class="ident" id="1679929">f</span>&nbsp;<span class="op" id="1679931">&gt;</span>&nbsp;<span class="ident" id="1679933">g</span><span class="op" id="1679934">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679938">return</span>&nbsp;<span class="op" id="1679945">-</span><span class="num" id="1679946">1</span><span class="op" id="1679947">,</span>&nbsp;<span class="builtintype" id="1679949">false</span><br>
<span class="lineno">365</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1679957">case</span>&nbsp;<span class="ident" id="1679962">fs</span>&nbsp;<span class="op" id="1679965">==</span>&nbsp;<span class="num" id="1679968">0</span>&nbsp;<span class="op" id="1679970">&amp;&amp;</span>&nbsp;<span class="ident" id="1679973">f</span>&nbsp;<span class="op" id="1679975">&gt;</span>&nbsp;<span class="ident" id="1679977">g</span><span class="op" id="1679978">,</span>&nbsp;<span class="ident" id="1679980">fs</span>&nbsp;<span class="op" id="1679983">!=</span>&nbsp;<span class="num" id="1679986">0</span>&nbsp;<span class="op" id="1679988">&amp;&amp;</span>&nbsp;<span class="ident" id="1679991">f</span>&nbsp;<span class="op" id="1679993">&lt;</span>&nbsp;<span class="ident" id="1679995">g</span><span class="op" id="1679996">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680000">return</span>&nbsp;<span class="op" id="1680007">+</span><span class="num" id="1680008">1</span><span class="op" id="1680009">,</span>&nbsp;<span class="builtintype" id="1680011">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680018">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1680022">//&nbsp;f&nbsp;==&nbsp;g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680033">return</span>&nbsp;<span class="num" id="1680040">0</span><span class="op" id="1680041">,</span>&nbsp;<span class="builtintype" id="1680043">false</span><br>
<span class="lineno"></span><span class="op" id="1680049">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1680052">func</span>&nbsp;<span class="ident" id="1680057">f64toint</span><span class="op" id="1680065">(</span><span class="ident" id="1680066">f</span>&nbsp;<span class="ident" id="1680068">uint64</span><span class="op" id="1680074">)</span>&nbsp;<span class="op" id="1680076">(</span><span class="ident" id="1680077">val</span>&nbsp;<span class="ident" id="1680081">int64</span><span class="op" id="1680086">,</span>&nbsp;<span class="ident" id="1680088">ok</span>&nbsp;<span class="builtintype" id="1680091">bool</span><span class="op" id="1680095">)</span>&nbsp;<span class="op" id="1680097">{</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680100">fs</span><span class="op" id="1680102">,</span>&nbsp;<span class="ident" id="1680104">fm</span><span class="op" id="1680106">,</span>&nbsp;<span class="ident" id="1680108">fe</span><span class="op" id="1680110">,</span>&nbsp;<span class="ident" id="1680112">fi</span><span class="op" id="1680114">,</span>&nbsp;<span class="ident" id="1680116">fn</span>&nbsp;<span class="op" id="1680119">:=</span>&nbsp;<span class="ident" id="1680122">funpack64</span><span class="op" id="1680131">(</span><span class="ident" id="1680132">f</span><span class="op" id="1680133">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680137">switch</span>&nbsp;<span class="op" id="1680144">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680147">case</span>&nbsp;<span class="ident" id="1680152">fi</span><span class="op" id="1680154">,</span>&nbsp;<span class="ident" id="1680156">fn</span><span class="op" id="1680158">:</span>&nbsp;<span class="comment" id="1680160">//&nbsp;NaN</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680169">return</span>&nbsp;<span class="num" id="1680176">0</span><span class="op" id="1680177">,</span>&nbsp;<span class="builtintype" id="1680179">false</span><br>
<span class="lineno">380</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680187">case</span>&nbsp;<span class="ident" id="1680192">fe</span>&nbsp;<span class="op" id="1680195">&lt;</span>&nbsp;<span class="op" id="1680197">-</span><span class="num" id="1680198">1</span><span class="op" id="1680199">:</span>&nbsp;<span class="comment" id="1680201">//&nbsp;f&nbsp;&lt;&nbsp;0.5</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680214">return</span>&nbsp;<span class="num" id="1680221">0</span><span class="op" id="1680222">,</span>&nbsp;<span class="builtintype" id="1680224">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680232">case</span>&nbsp;<span class="ident" id="1680237">fe</span>&nbsp;<span class="op" id="1680240">&gt;</span>&nbsp;<span class="num" id="1680242">63</span><span class="op" id="1680244">:</span>&nbsp;<span class="comment" id="1680246">//&nbsp;f&nbsp;&gt;=&nbsp;2^63</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680261">if</span>&nbsp;<span class="ident" id="1680264">fs</span>&nbsp;<span class="op" id="1680267">!=</span>&nbsp;<span class="num" id="1680270">0</span>&nbsp;<span class="op" id="1680272">&amp;&amp;</span>&nbsp;<span class="ident" id="1680275">fm</span>&nbsp;<span class="op" id="1680278">==</span>&nbsp;<span class="num" id="1680281">0</span>&nbsp;<span class="op" id="1680283">{</span>&nbsp;<span class="comment" id="1680285">//&nbsp;f&nbsp;==&nbsp;-2^63</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680302">return</span>&nbsp;<span class="op" id="1680309">-</span><span class="num" id="1680310">1</span>&nbsp;<span class="op" id="1680312">&lt;&lt;</span>&nbsp;<span class="num" id="1680315">63</span><span class="op" id="1680317">,</span>&nbsp;<span class="builtintype" id="1680319">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680326">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680330">if</span>&nbsp;<span class="ident" id="1680333">fs</span>&nbsp;<span class="op" id="1680336">!=</span>&nbsp;<span class="num" id="1680339">0</span>&nbsp;<span class="op" id="1680341">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680346">return</span>&nbsp;<span class="num" id="1680353">0</span><span class="op" id="1680354">,</span>&nbsp;<span class="builtintype" id="1680356">false</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680364">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680368">return</span>&nbsp;<span class="num" id="1680375">0</span><span class="op" id="1680376">,</span>&nbsp;<span class="builtintype" id="1680378">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680385">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680389">for</span>&nbsp;<span class="ident" id="1680393">fe</span>&nbsp;<span class="op" id="1680396">&gt;</span>&nbsp;<span class="builtintype" id="1680398">int</span><span class="op" id="1680401">(</span><span class="ident" id="1680402">mantbits64</span><span class="op" id="1680412">)</span>&nbsp;<span class="op" id="1680414">{</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680418">fe</span><span class="op" id="1680420">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680425">fm</span>&nbsp;<span class="op" id="1680428">&lt;&lt;=</span>&nbsp;<span class="num" id="1680432">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680438">for</span>&nbsp;<span class="ident" id="1680442">fe</span>&nbsp;<span class="op" id="1680445">&lt;</span>&nbsp;<span class="builtintype" id="1680447">int</span><span class="op" id="1680450">(</span><span class="ident" id="1680451">mantbits64</span><span class="op" id="1680461">)</span>&nbsp;<span class="op" id="1680463">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680467">fe</span><span class="op" id="1680469">++</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680474">fm</span>&nbsp;<span class="op" id="1680477">&gt;&gt;=</span>&nbsp;<span class="num" id="1680481">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680487">val</span>&nbsp;<span class="op" id="1680491">=</span>&nbsp;<span class="ident" id="1680493">int64</span><span class="op" id="1680498">(</span><span class="ident" id="1680499">fm</span><span class="op" id="1680501">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680504">if</span>&nbsp;<span class="ident" id="1680507">fs</span>&nbsp;<span class="op" id="1680510">!=</span>&nbsp;<span class="num" id="1680513">0</span>&nbsp;<span class="op" id="1680515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680519">val</span>&nbsp;<span class="op" id="1680523">=</span>&nbsp;<span class="op" id="1680525">-</span><span class="ident" id="1680526">val</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680531">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680534">return</span>&nbsp;<span class="ident" id="1680541">val</span><span class="op" id="1680544">,</span>&nbsp;<span class="builtintype" id="1680546">true</span><br>
<span class="lineno"></span><span class="op" id="1680551">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1680554">func</span>&nbsp;<span class="ident" id="1680559">fintto64</span><span class="op" id="1680567">(</span><span class="ident" id="1680568">val</span>&nbsp;<span class="ident" id="1680572">int64</span><span class="op" id="1680577">)</span>&nbsp;<span class="op" id="1680579">(</span><span class="ident" id="1680580">f</span>&nbsp;<span class="ident" id="1680582">uint64</span><span class="op" id="1680588">)</span>&nbsp;<span class="op" id="1680590">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680593">fs</span>&nbsp;<span class="op" id="1680596">:=</span>&nbsp;<span class="ident" id="1680599">uint64</span><span class="op" id="1680605">(</span><span class="ident" id="1680606">val</span><span class="op" id="1680609">)</span>&nbsp;<span class="op" id="1680611">&amp;</span>&nbsp;<span class="op" id="1680613">(</span><span class="num" id="1680614">1</span>&nbsp;<span class="op" id="1680616">&lt;&lt;</span>&nbsp;<span class="num" id="1680619">63</span><span class="op" id="1680621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680624">mant</span>&nbsp;<span class="op" id="1680629">:=</span>&nbsp;<span class="ident" id="1680632">uint64</span><span class="op" id="1680638">(</span><span class="ident" id="1680639">val</span><span class="op" id="1680642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680645">if</span>&nbsp;<span class="ident" id="1680648">fs</span>&nbsp;<span class="op" id="1680651">!=</span>&nbsp;<span class="num" id="1680654">0</span>&nbsp;<span class="op" id="1680656">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680660">mant</span>&nbsp;<span class="op" id="1680665">=</span>&nbsp;<span class="op" id="1680667">-</span><span class="ident" id="1680668">mant</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680674">}</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680677">return</span>&nbsp;<span class="ident" id="1680684">fpack64</span><span class="op" id="1680691">(</span><span class="ident" id="1680692">fs</span><span class="op" id="1680694">,</span>&nbsp;<span class="ident" id="1680696">mant</span><span class="op" id="1680700">,</span>&nbsp;<span class="builtintype" id="1680702">int</span><span class="op" id="1680705">(</span><span class="ident" id="1680706">mantbits64</span><span class="op" id="1680716">)</span><span class="op" id="1680717">,</span>&nbsp;<span class="num" id="1680719">0</span><span class="op" id="1680720">)</span><br>
<span class="lineno"></span><span class="op" id="1680722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1680725">//&nbsp;64x64&nbsp;-&gt;&nbsp;128&nbsp;multiply.</span><br>
<span class="lineno"></span><span class="comment" id="1680751">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight.</span><br>
<span class="lineno">420</span><span class="keyword" id="1680785">func</span>&nbsp;<span class="ident" id="1680790">mullu</span><span class="op" id="1680795">(</span><span class="ident" id="1680796">u</span><span class="op" id="1680797">,</span>&nbsp;<span class="ident" id="1680799">v</span>&nbsp;<span class="ident" id="1680801">uint64</span><span class="op" id="1680807">)</span>&nbsp;<span class="op" id="1680809">(</span><span class="ident" id="1680810">lo</span><span class="op" id="1680812">,</span>&nbsp;<span class="ident" id="1680814">hi</span>&nbsp;<span class="ident" id="1680817">uint64</span><span class="op" id="1680823">)</span>&nbsp;<span class="op" id="1680825">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1680828">const</span>&nbsp;<span class="op" id="1680834">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680838">s</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1680843">=</span>&nbsp;<span class="num" id="1680845">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680850">mask</span>&nbsp;<span class="op" id="1680855">=</span>&nbsp;<span class="num" id="1680857">1</span><span class="op" id="1680858">&lt;&lt;</span><span class="ident" id="1680860">s</span>&nbsp;<span class="op" id="1680862">-</span>&nbsp;<span class="num" id="1680864">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1680867">)</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680870">u0</span>&nbsp;<span class="op" id="1680873">:=</span>&nbsp;<span class="ident" id="1680876">u</span>&nbsp;<span class="op" id="1680878">&amp;</span>&nbsp;<span class="ident" id="1680880">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680886">u1</span>&nbsp;<span class="op" id="1680889">:=</span>&nbsp;<span class="ident" id="1680892">u</span>&nbsp;<span class="op" id="1680894">&gt;&gt;</span>&nbsp;<span class="ident" id="1680897">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680900">v0</span>&nbsp;<span class="op" id="1680903">:=</span>&nbsp;<span class="ident" id="1680906">v</span>&nbsp;<span class="op" id="1680908">&amp;</span>&nbsp;<span class="ident" id="1680910">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680916">v1</span>&nbsp;<span class="op" id="1680919">:=</span>&nbsp;<span class="ident" id="1680922">v</span>&nbsp;<span class="op" id="1680924">&gt;&gt;</span>&nbsp;<span class="ident" id="1680927">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680930">w0</span>&nbsp;<span class="op" id="1680933">:=</span>&nbsp;<span class="ident" id="1680936">u0</span>&nbsp;<span class="op" id="1680939">*</span>&nbsp;<span class="ident" id="1680941">v0</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680945">t</span>&nbsp;<span class="op" id="1680947">:=</span>&nbsp;<span class="ident" id="1680950">u1</span><span class="op" id="1680952">*</span><span class="ident" id="1680953">v0</span>&nbsp;<span class="op" id="1680956">+</span>&nbsp;<span class="ident" id="1680958">w0</span><span class="op" id="1680960">&gt;&gt;</span><span class="ident" id="1680962">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680965">w1</span>&nbsp;<span class="op" id="1680968">:=</span>&nbsp;<span class="ident" id="1680971">t</span>&nbsp;<span class="op" id="1680973">&amp;</span>&nbsp;<span class="ident" id="1680975">mask</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680981">w2</span>&nbsp;<span class="op" id="1680984">:=</span>&nbsp;<span class="ident" id="1680987">t</span>&nbsp;<span class="op" id="1680989">&gt;&gt;</span>&nbsp;<span class="ident" id="1680992">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1680995">w1</span>&nbsp;<span class="op" id="1680998">+=</span>&nbsp;<span class="ident" id="1681001">u0</span>&nbsp;<span class="op" id="1681004">*</span>&nbsp;<span class="ident" id="1681006">v1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681010">return</span>&nbsp;<span class="ident" id="1681017">u</span>&nbsp;<span class="op" id="1681019">*</span>&nbsp;<span class="ident" id="1681021">v</span><span class="op" id="1681022">,</span>&nbsp;<span class="ident" id="1681024">u1</span><span class="op" id="1681026">*</span><span class="ident" id="1681027">v1</span>&nbsp;<span class="op" id="1681030">+</span>&nbsp;<span class="ident" id="1681032">w2</span>&nbsp;<span class="op" id="1681035">+</span>&nbsp;<span class="ident" id="1681037">w1</span><span class="op" id="1681039">&gt;&gt;</span><span class="ident" id="1681041">s</span><br>
<span class="lineno">435</span><span class="op" id="1681043">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1681046">//&nbsp;128/64&nbsp;-&gt;&nbsp;64&nbsp;quotient,&nbsp;64&nbsp;remainder.</span><br>
<span class="lineno"></span><span class="comment" id="1681086">//&nbsp;adapted&nbsp;from&nbsp;hacker&#39;s&nbsp;delight</span><br>
<span class="lineno"></span><span class="keyword" id="1681119">func</span>&nbsp;<span class="ident" id="1681124">divlu</span><span class="op" id="1681129">(</span><span class="ident" id="1681130">u1</span><span class="op" id="1681132">,</span>&nbsp;<span class="ident" id="1681134">u0</span><span class="op" id="1681136">,</span>&nbsp;<span class="ident" id="1681138">v</span>&nbsp;<span class="ident" id="1681140">uint64</span><span class="op" id="1681146">)</span>&nbsp;<span class="op" id="1681148">(</span><span class="ident" id="1681149">q</span><span class="op" id="1681150">,</span>&nbsp;<span class="ident" id="1681152">r</span>&nbsp;<span class="ident" id="1681154">uint64</span><span class="op" id="1681160">)</span>&nbsp;<span class="op" id="1681162">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681165">const</span>&nbsp;<span class="ident" id="1681171">b</span>&nbsp;<span class="op" id="1681173">=</span>&nbsp;<span class="num" id="1681175">1</span>&nbsp;<span class="op" id="1681177">&lt;&lt;</span>&nbsp;<span class="num" id="1681180">32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681185">if</span>&nbsp;<span class="ident" id="1681188">u1</span>&nbsp;<span class="op" id="1681191">&gt;=</span>&nbsp;<span class="ident" id="1681194">v</span>&nbsp;<span class="op" id="1681196">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681200">return</span>&nbsp;<span class="num" id="1681207">1</span><span class="op" id="1681208">&lt;&lt;</span><span class="num" id="1681210">64</span>&nbsp;<span class="op" id="1681213">-</span>&nbsp;<span class="num" id="1681215">1</span><span class="op" id="1681216">,</span>&nbsp;<span class="num" id="1681218">1</span><span class="op" id="1681219">&lt;&lt;</span><span class="num" id="1681221">64</span>&nbsp;<span class="op" id="1681224">-</span>&nbsp;<span class="num" id="1681226">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681229">}</span><br>
<span class="lineno">445</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="1681233">//&nbsp;s&nbsp;=&nbsp;nlz(v);&nbsp;v&nbsp;&lt;&lt;=&nbsp;s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681257">s</span>&nbsp;<span class="op" id="1681259">:=</span>&nbsp;<span class="builtintype" id="1681262">uint</span><span class="op" id="1681266">(</span><span class="num" id="1681267">0</span><span class="op" id="1681268">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681271">for</span>&nbsp;<span class="ident" id="1681275">v</span><span class="op" id="1681276">&amp;</span><span class="op" id="1681277">(</span><span class="num" id="1681278">1</span><span class="op" id="1681279">&lt;&lt;</span><span class="num" id="1681281">63</span><span class="op" id="1681283">)</span>&nbsp;<span class="op" id="1681285">==</span>&nbsp;<span class="num" id="1681288">0</span>&nbsp;<span class="op" id="1681290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681294">s</span><span class="op" id="1681295">++</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681300">v</span>&nbsp;<span class="op" id="1681302">&lt;&lt;=</span>&nbsp;<span class="num" id="1681306">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681309">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681313">vn1</span>&nbsp;<span class="op" id="1681317">:=</span>&nbsp;<span class="ident" id="1681320">v</span>&nbsp;<span class="op" id="1681322">&gt;&gt;</span>&nbsp;<span class="num" id="1681325">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681329">vn0</span>&nbsp;<span class="op" id="1681333">:=</span>&nbsp;<span class="ident" id="1681336">v</span>&nbsp;<span class="op" id="1681338">&amp;</span>&nbsp;<span class="op" id="1681340">(</span><span class="num" id="1681341">1</span><span class="op" id="1681342">&lt;&lt;</span><span class="num" id="1681344">32</span>&nbsp;<span class="op" id="1681347">-</span>&nbsp;<span class="num" id="1681349">1</span><span class="op" id="1681350">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681353">un32</span>&nbsp;<span class="op" id="1681358">:=</span>&nbsp;<span class="ident" id="1681361">u1</span><span class="op" id="1681363">&lt;&lt;</span><span class="ident" id="1681365">s</span>&nbsp;<span class="op" id="1681367">|</span>&nbsp;<span class="ident" id="1681369">u0</span><span class="op" id="1681371">&gt;&gt;</span><span class="op" id="1681373">(</span><span class="num" id="1681374">64</span><span class="op" id="1681376">-</span><span class="ident" id="1681377">s</span><span class="op" id="1681378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681381">un10</span>&nbsp;<span class="op" id="1681386">:=</span>&nbsp;<span class="ident" id="1681389">u0</span>&nbsp;<span class="op" id="1681392">&lt;&lt;</span>&nbsp;<span class="ident" id="1681395">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681398">un1</span>&nbsp;<span class="op" id="1681402">:=</span>&nbsp;<span class="ident" id="1681405">un10</span>&nbsp;<span class="op" id="1681410">&gt;&gt;</span>&nbsp;<span class="num" id="1681413">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681417">un0</span>&nbsp;<span class="op" id="1681421">:=</span>&nbsp;<span class="ident" id="1681424">un10</span>&nbsp;<span class="op" id="1681429">&amp;</span>&nbsp;<span class="op" id="1681431">(</span><span class="num" id="1681432">1</span><span class="op" id="1681433">&lt;&lt;</span><span class="num" id="1681435">32</span>&nbsp;<span class="op" id="1681438">-</span>&nbsp;<span class="num" id="1681440">1</span><span class="op" id="1681441">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681444">q1</span>&nbsp;<span class="op" id="1681447">:=</span>&nbsp;<span class="ident" id="1681450">un32</span>&nbsp;<span class="op" id="1681455">/</span>&nbsp;<span class="ident" id="1681457">vn1</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681462">rhat</span>&nbsp;<span class="op" id="1681467">:=</span>&nbsp;<span class="ident" id="1681470">un32</span>&nbsp;<span class="op" id="1681475">-</span>&nbsp;<span class="ident" id="1681477">q1</span><span class="op" id="1681479">*</span><span class="ident" id="1681480">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="ident" id="1681485">again1</span><span class="op" id="1681491">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681494">if</span>&nbsp;<span class="ident" id="1681497">q1</span>&nbsp;<span class="op" id="1681500">&gt;=</span>&nbsp;<span class="ident" id="1681503">b</span>&nbsp;<span class="op" id="1681505">||</span>&nbsp;<span class="ident" id="1681508">q1</span><span class="op" id="1681510">*</span><span class="ident" id="1681511">vn0</span>&nbsp;<span class="op" id="1681515">&gt;</span>&nbsp;<span class="ident" id="1681517">b</span><span class="op" id="1681518">*</span><span class="ident" id="1681519">rhat</span><span class="op" id="1681523">+</span><span class="ident" id="1681524">un1</span>&nbsp;<span class="op" id="1681528">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681532">q1</span><span class="op" id="1681534">--</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681539">rhat</span>&nbsp;<span class="op" id="1681544">+=</span>&nbsp;<span class="ident" id="1681547">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681553">if</span>&nbsp;<span class="ident" id="1681556">rhat</span>&nbsp;<span class="op" id="1681561">&lt;</span>&nbsp;<span class="ident" id="1681563">b</span>&nbsp;<span class="op" id="1681565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681570">goto</span>&nbsp;<span class="ident" id="1681575">again1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681584">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681587">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681591">un21</span>&nbsp;<span class="op" id="1681596">:=</span>&nbsp;<span class="ident" id="1681599">un32</span><span class="op" id="1681603">*</span><span class="ident" id="1681604">b</span>&nbsp;<span class="op" id="1681606">+</span>&nbsp;<span class="ident" id="1681608">un1</span>&nbsp;<span class="op" id="1681612">-</span>&nbsp;<span class="ident" id="1681614">q1</span><span class="op" id="1681616">*</span><span class="ident" id="1681617">v</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681620">q0</span>&nbsp;<span class="op" id="1681623">:=</span>&nbsp;<span class="ident" id="1681626">un21</span>&nbsp;<span class="op" id="1681631">/</span>&nbsp;<span class="ident" id="1681633">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681638">rhat</span>&nbsp;<span class="op" id="1681643">=</span>&nbsp;<span class="ident" id="1681645">un21</span>&nbsp;<span class="op" id="1681650">-</span>&nbsp;<span class="ident" id="1681652">q0</span><span class="op" id="1681654">*</span><span class="ident" id="1681655">vn1</span><br>
<span class="lineno"></span><br>
<span class="lineno">475</span><span class="ident" id="1681660">again2</span><span class="op" id="1681666">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681669">if</span>&nbsp;<span class="ident" id="1681672">q0</span>&nbsp;<span class="op" id="1681675">&gt;=</span>&nbsp;<span class="ident" id="1681678">b</span>&nbsp;<span class="op" id="1681680">||</span>&nbsp;<span class="ident" id="1681683">q0</span><span class="op" id="1681685">*</span><span class="ident" id="1681686">vn0</span>&nbsp;<span class="op" id="1681690">&gt;</span>&nbsp;<span class="ident" id="1681692">b</span><span class="op" id="1681693">*</span><span class="ident" id="1681694">rhat</span><span class="op" id="1681698">+</span><span class="ident" id="1681699">un0</span>&nbsp;<span class="op" id="1681703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681707">q0</span><span class="op" id="1681709">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1681714">rhat</span>&nbsp;<span class="op" id="1681719">+=</span>&nbsp;<span class="ident" id="1681722">vn1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681728">if</span>&nbsp;<span class="ident" id="1681731">rhat</span>&nbsp;<span class="op" id="1681736">&lt;</span>&nbsp;<span class="ident" id="1681738">b</span>&nbsp;<span class="op" id="1681740">{</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681745">goto</span>&nbsp;<span class="ident" id="1681750">again2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681759">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="1681762">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1681766">return</span>&nbsp;<span class="ident" id="1681773">q1</span><span class="op" id="1681775">*</span><span class="ident" id="1681776">b</span>&nbsp;<span class="op" id="1681778">+</span>&nbsp;<span class="ident" id="1681780">q0</span><span class="op" id="1681782">,</span>&nbsp;<span class="op" id="1681784">(</span><span class="ident" id="1681785">un21</span><span class="op" id="1681789">*</span><span class="ident" id="1681790">b</span>&nbsp;<span class="op" id="1681792">+</span>&nbsp;<span class="ident" id="1681794">un0</span>&nbsp;<span class="op" id="1681798">-</span>&nbsp;<span class="ident" id="1681800">q0</span><span class="op" id="1681802">*</span><span class="ident" id="1681803">v</span><span class="op" id="1681804">)</span>&nbsp;<span class="op" id="1681806">&gt;&gt;</span>&nbsp;<span class="ident" id="1681809">s</span><br>
<span class="lineno">485</span><span class="op" id="1681811">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1681814">//&nbsp;callable&nbsp;from&nbsp;C</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1681834">func</span>&nbsp;<span class="ident" id="1681839">fadd64c</span><span class="op" id="1681846">(</span><span class="ident" id="1681847">f</span><span class="op" id="1681848">,</span>&nbsp;<span class="ident" id="1681850">g</span>&nbsp;<span class="ident" id="1681852">uint64</span><span class="op" id="1681858">,</span>&nbsp;<span class="ident" id="1681860">ret</span>&nbsp;<span class="op" id="1681864">*</span><span class="ident" id="1681865">uint64</span><span class="op" id="1681871">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681884">{</span>&nbsp;<span class="op" id="1681886">*</span><span class="ident" id="1681887">ret</span>&nbsp;<span class="op" id="1681891">=</span>&nbsp;<span class="ident" id="1681893">fadd64</span><span class="op" id="1681899">(</span><span class="ident" id="1681900">f</span><span class="op" id="1681901">,</span>&nbsp;<span class="ident" id="1681903">g</span><span class="op" id="1681904">)</span>&nbsp;<span class="op" id="1681906">}</span><br>
<span class="lineno">490</span><span class="keyword" id="1681908">func</span>&nbsp;<span class="ident" id="1681913">fsub64c</span><span class="op" id="1681920">(</span><span class="ident" id="1681921">f</span><span class="op" id="1681922">,</span>&nbsp;<span class="ident" id="1681924">g</span>&nbsp;<span class="ident" id="1681926">uint64</span><span class="op" id="1681932">,</span>&nbsp;<span class="ident" id="1681934">ret</span>&nbsp;<span class="op" id="1681938">*</span><span class="ident" id="1681939">uint64</span><span class="op" id="1681945">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1681958">{</span>&nbsp;<span class="op" id="1681960">*</span><span class="ident" id="1681961">ret</span>&nbsp;<span class="op" id="1681965">=</span>&nbsp;<span class="ident" id="1681967">fsub64</span><span class="op" id="1681973">(</span><span class="ident" id="1681974">f</span><span class="op" id="1681975">,</span>&nbsp;<span class="ident" id="1681977">g</span><span class="op" id="1681978">)</span>&nbsp;<span class="op" id="1681980">}</span><br>
<span class="lineno"></span><span class="keyword" id="1681982">func</span>&nbsp;<span class="ident" id="1681987">fmul64c</span><span class="op" id="1681994">(</span><span class="ident" id="1681995">f</span><span class="op" id="1681996">,</span>&nbsp;<span class="ident" id="1681998">g</span>&nbsp;<span class="ident" id="1682000">uint64</span><span class="op" id="1682006">,</span>&nbsp;<span class="ident" id="1682008">ret</span>&nbsp;<span class="op" id="1682012">*</span><span class="ident" id="1682013">uint64</span><span class="op" id="1682019">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682032">{</span>&nbsp;<span class="op" id="1682034">*</span><span class="ident" id="1682035">ret</span>&nbsp;<span class="op" id="1682039">=</span>&nbsp;<span class="ident" id="1682041">fmul64</span><span class="op" id="1682047">(</span><span class="ident" id="1682048">f</span><span class="op" id="1682049">,</span>&nbsp;<span class="ident" id="1682051">g</span><span class="op" id="1682052">)</span>&nbsp;<span class="op" id="1682054">}</span><br>
<span class="lineno"></span><span class="keyword" id="1682056">func</span>&nbsp;<span class="ident" id="1682061">fdiv64c</span><span class="op" id="1682068">(</span><span class="ident" id="1682069">f</span><span class="op" id="1682070">,</span>&nbsp;<span class="ident" id="1682072">g</span>&nbsp;<span class="ident" id="1682074">uint64</span><span class="op" id="1682080">,</span>&nbsp;<span class="ident" id="1682082">ret</span>&nbsp;<span class="op" id="1682086">*</span><span class="ident" id="1682087">uint64</span><span class="op" id="1682093">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682106">{</span>&nbsp;<span class="op" id="1682108">*</span><span class="ident" id="1682109">ret</span>&nbsp;<span class="op" id="1682113">=</span>&nbsp;<span class="ident" id="1682115">fdiv64</span><span class="op" id="1682121">(</span><span class="ident" id="1682122">f</span><span class="op" id="1682123">,</span>&nbsp;<span class="ident" id="1682125">g</span><span class="op" id="1682126">)</span>&nbsp;<span class="op" id="1682128">}</span><br>
<span class="lineno"></span><span class="keyword" id="1682130">func</span>&nbsp;<span class="ident" id="1682135">fneg64c</span><span class="op" id="1682142">(</span><span class="ident" id="1682143">f</span>&nbsp;<span class="ident" id="1682145">uint64</span><span class="op" id="1682151">,</span>&nbsp;<span class="ident" id="1682153">ret</span>&nbsp;<span class="op" id="1682157">*</span><span class="ident" id="1682158">uint64</span><span class="op" id="1682164">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682180">{</span>&nbsp;<span class="op" id="1682182">*</span><span class="ident" id="1682183">ret</span>&nbsp;<span class="op" id="1682187">=</span>&nbsp;<span class="ident" id="1682189">fneg64</span><span class="op" id="1682195">(</span><span class="ident" id="1682196">f</span><span class="op" id="1682197">)</span>&nbsp;<span class="op" id="1682199">}</span><br>
<span class="lineno"></span><span class="keyword" id="1682201">func</span>&nbsp;<span class="ident" id="1682206">f32to64c</span><span class="op" id="1682214">(</span><span class="ident" id="1682215">f</span>&nbsp;<span class="builtintype" id="1682217">uint32</span><span class="op" id="1682223">,</span>&nbsp;<span class="ident" id="1682225">ret</span>&nbsp;<span class="op" id="1682229">*</span><span class="ident" id="1682230">uint64</span><span class="op" id="1682236">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682251">{</span>&nbsp;<span class="op" id="1682253">*</span><span class="ident" id="1682254">ret</span>&nbsp;<span class="op" id="1682258">=</span>&nbsp;<span class="ident" id="1682260">f32to64</span><span class="op" id="1682267">(</span><span class="ident" id="1682268">f</span><span class="op" id="1682269">)</span>&nbsp;<span class="op" id="1682271">}</span><br>
<span class="lineno">495</span><span class="keyword" id="1682273">func</span>&nbsp;<span class="ident" id="1682278">f64to32c</span><span class="op" id="1682286">(</span><span class="ident" id="1682287">f</span>&nbsp;<span class="ident" id="1682289">uint64</span><span class="op" id="1682295">,</span>&nbsp;<span class="ident" id="1682297">ret</span>&nbsp;<span class="op" id="1682301">*</span><span class="builtintype" id="1682302">uint32</span><span class="op" id="1682308">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682323">{</span>&nbsp;<span class="op" id="1682325">*</span><span class="ident" id="1682326">ret</span>&nbsp;<span class="op" id="1682330">=</span>&nbsp;<span class="ident" id="1682332">f64to32</span><span class="op" id="1682339">(</span><span class="ident" id="1682340">f</span><span class="op" id="1682341">)</span>&nbsp;<span class="op" id="1682343">}</span><br>
<span class="lineno"></span><span class="keyword" id="1682345">func</span>&nbsp;<span class="ident" id="1682350">fcmp64c</span><span class="op" id="1682357">(</span><span class="ident" id="1682358">f</span><span class="op" id="1682359">,</span>&nbsp;<span class="ident" id="1682361">g</span>&nbsp;<span class="ident" id="1682363">uint64</span><span class="op" id="1682369">,</span>&nbsp;<span class="ident" id="1682371">ret</span>&nbsp;<span class="op" id="1682375">*</span><span class="builtintype" id="1682376">int</span><span class="op" id="1682379">,</span>&nbsp;<span class="ident" id="1682381">retnan</span>&nbsp;<span class="op" id="1682388">*</span><span class="builtintype" id="1682389">bool</span><span class="op" id="1682393">)</span>&nbsp;<span class="op" id="1682395">{</span>&nbsp;<span class="op" id="1682397">*</span><span class="ident" id="1682398">ret</span><span class="op" id="1682401">,</span>&nbsp;<span class="op" id="1682403">*</span><span class="ident" id="1682404">retnan</span>&nbsp;<span class="op" id="1682411">=</span>&nbsp;<span class="ident" id="1682413">fcmp64</span><span class="op" id="1682419">(</span><span class="ident" id="1682420">f</span><span class="op" id="1682421">,</span>&nbsp;<span class="ident" id="1682423">g</span><span class="op" id="1682424">)</span>&nbsp;<span class="op" id="1682426">}</span><br>
<span class="lineno"></span><span class="keyword" id="1682428">func</span>&nbsp;<span class="ident" id="1682433">fintto64c</span><span class="op" id="1682442">(</span><span class="ident" id="1682443">val</span>&nbsp;<span class="ident" id="1682447">int64</span><span class="op" id="1682452">,</span>&nbsp;<span class="ident" id="1682454">ret</span>&nbsp;<span class="op" id="1682458">*</span><span class="ident" id="1682459">uint64</span><span class="op" id="1682465">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="1682478">{</span>&nbsp;<span class="op" id="1682480">*</span><span class="ident" id="1682481">ret</span>&nbsp;<span class="op" id="1682485">=</span>&nbsp;<span class="ident" id="1682487">fintto64</span><span class="op" id="1682495">(</span><span class="ident" id="1682496">val</span><span class="op" id="1682499">)</span>&nbsp;<span class="op" id="1682501">}</span><br>
<span class="lineno"></span><span class="keyword" id="1682503">func</span>&nbsp;<span class="ident" id="1682508">f64tointc</span><span class="op" id="1682517">(</span><span class="ident" id="1682518">f</span>&nbsp;<span class="ident" id="1682520">uint64</span><span class="op" id="1682526">,</span>&nbsp;<span class="ident" id="1682528">ret</span>&nbsp;<span class="op" id="1682532">*</span><span class="ident" id="1682533">int64</span><span class="op" id="1682538">,</span>&nbsp;<span class="ident" id="1682540">retok</span>&nbsp;<span class="op" id="1682546">*</span><span class="builtintype" id="1682547">bool</span><span class="op" id="1682551">)</span>&nbsp;<span class="op" id="1682553">{</span>&nbsp;<span class="op" id="1682555">*</span><span class="ident" id="1682556">ret</span><span class="op" id="1682559">,</span>&nbsp;<span class="op" id="1682561">*</span><span class="ident" id="1682562">retok</span>&nbsp;<span class="op" id="1682568">=</span>&nbsp;<span class="ident" id="1682570">f64toint</span><span class="op" id="1682578">(</span><span class="ident" id="1682579">f</span><span class="op" id="1682580">)</span>&nbsp;<span class="op" id="1682582">}</span>
</div>
</body>
</html>
