<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="5149866">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5149921">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5149975">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5150026">//&nbsp;This&nbsp;file&nbsp;contains&nbsp;printing&nbsp;support&nbsp;for&nbsp;ASTs.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5150076">package</span>&nbsp;<span class="ident" id="5150084">ast</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5150089">import</span>&nbsp;<span class="op" id="5150096">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5150099">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5150106">&#34;go/token&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5150118">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5150124">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5150130">&#34;reflect&#34;</span><br>
<span class="lineno">15</span><span class="op" id="5150140">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5150143">//&nbsp;A&nbsp;FieldFilter&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;Fprint&nbsp;to&nbsp;control&nbsp;the&nbsp;output.</span><br>
<span class="lineno"></span><span class="keyword" id="5150209">type</span>&nbsp;<span class="ident" id="5150214">FieldFilter</span>&nbsp;<span class="keyword" id="5150226">func</span><span class="op" id="5150230">(</span><span class="ident" id="5150231">name</span>&nbsp;<span class="builtintype" id="5150236">string</span><span class="op" id="5150242">,</span>&nbsp;<span class="ident" id="5150244">value</span>&nbsp;<span class="ident" id="5150250"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150257">.</span><span class="ident" id="5150258">Value</span><span class="op" id="5150263">)</span>&nbsp;<span class="builtintype" id="5150265">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="5150271">//&nbsp;NotNilFilter&nbsp;returns&nbsp;true&nbsp;for&nbsp;field&nbsp;values&nbsp;that&nbsp;are&nbsp;not&nbsp;nil;</span><br>
<span class="lineno"></span><span class="comment" id="5150335">//&nbsp;it&nbsp;returns&nbsp;false&nbsp;otherwise.</span><br>
<span class="lineno"></span><span class="keyword" id="5150366">func</span>&nbsp;<span class="ident" id="5150371">NotNilFilter</span><span class="op" id="5150383">(</span><span class="ident" id="5150384">_</span>&nbsp;<span class="builtintype" id="5150386">string</span><span class="op" id="5150392">,</span>&nbsp;<span class="ident" id="5150394">v</span>&nbsp;<span class="ident" id="5150396"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150403">.</span><span class="ident" id="5150404">Value</span><span class="op" id="5150409">)</span>&nbsp;<span class="builtintype" id="5150411">bool</span>&nbsp;<span class="op" id="5150416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5150419">switch</span>&nbsp;<span class="ident" id="5150426"><a href="/go/ast/print.go.html#5150394">v</a></span><span class="op" id="5150427">.</span><span class="ident" id="5150428">Kind</span><span class="op" id="5150432">(</span><span class="op" id="5150433">)</span>&nbsp;<span class="op" id="5150435">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5150438">case</span>&nbsp;<span class="ident" id="5150443"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150450">.</span><span class="ident" id="5150451">Chan</span><span class="op" id="5150455">,</span>&nbsp;<span class="ident" id="5150457"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150464">.</span><span class="ident" id="5150465">Func</span><span class="op" id="5150469">,</span>&nbsp;<span class="ident" id="5150471"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150478">.</span><span class="ident" id="5150479">Interface</span><span class="op" id="5150488">,</span>&nbsp;<span class="ident" id="5150490"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150497">.</span><span class="ident" id="5150498">Map</span><span class="op" id="5150501">,</span>&nbsp;<span class="ident" id="5150503"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150510">.</span><span class="ident" id="5150511">Ptr</span><span class="op" id="5150514">,</span>&nbsp;<span class="ident" id="5150516"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5150523">.</span><span class="ident" id="5150524">Slice</span><span class="op" id="5150529">:</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5150533">return</span>&nbsp;<span class="op" id="5150540">!</span><span class="ident" id="5150541"><a href="/go/ast/print.go.html#5150394">v</a></span><span class="op" id="5150542">.</span><span class="ident" id="5150543">IsNil</span><span class="op" id="5150548">(</span><span class="op" id="5150549">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5150552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5150555">return</span>&nbsp;<span class="builtintype" id="5150562">true</span><br>
<span class="lineno"></span><span class="op" id="5150567">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5150570">//&nbsp;Fprint&nbsp;prints&nbsp;the&nbsp;(sub-)tree&nbsp;starting&nbsp;at&nbsp;AST&nbsp;node&nbsp;x&nbsp;to&nbsp;w.</span><br>
<span class="lineno"></span><span class="comment" id="5150631">//&nbsp;If&nbsp;fset&nbsp;!=&nbsp;nil,&nbsp;position&nbsp;information&nbsp;is&nbsp;interpreted&nbsp;relative</span><br>
<span class="lineno"></span><span class="comment" id="5150695">//&nbsp;to&nbsp;that&nbsp;file&nbsp;set.&nbsp;Otherwise&nbsp;positions&nbsp;are&nbsp;printed&nbsp;as&nbsp;integer</span><br>
<span class="lineno"></span><span class="comment" id="5150759">//&nbsp;values&nbsp;(file&nbsp;set&nbsp;specific&nbsp;offsets).</span><br>
<span class="lineno"></span><span class="comment" id="5150798">//</span><br>
<span class="lineno">35</span><span class="comment" id="5150801">//&nbsp;A&nbsp;non-nil&nbsp;FieldFilter&nbsp;f&nbsp;may&nbsp;be&nbsp;provided&nbsp;to&nbsp;control&nbsp;the&nbsp;output:</span><br>
<span class="lineno"></span><span class="comment" id="5150867">//&nbsp;struct&nbsp;fields&nbsp;for&nbsp;which&nbsp;f(fieldname,&nbsp;fieldvalue)&nbsp;is&nbsp;true&nbsp;are</span><br>
<span class="lineno"></span><span class="comment" id="5150931">//&nbsp;printed;&nbsp;all&nbsp;others&nbsp;are&nbsp;filtered&nbsp;from&nbsp;the&nbsp;output.&nbsp;Unexported</span><br>
<span class="lineno"></span><span class="comment" id="5150995">//&nbsp;struct&nbsp;fields&nbsp;are&nbsp;never&nbsp;printed.</span><br>
<span class="lineno"></span><span class="comment" id="5151031">//</span><br>
<span class="lineno">40</span><span class="keyword" id="5151034">func</span>&nbsp;<span class="ident" id="5151039">Fprint</span><span class="op" id="5151045">(</span><span class="ident" id="5151046">w</span>&nbsp;<span class="ident" id="5151048"><a href="/go/ast/print.go.html#5150118">io</a></span><span class="op" id="5151050">.</span><span class="ident" id="5151051">Writer</span><span class="op" id="5151057">,</span>&nbsp;<span class="ident" id="5151059">fset</span>&nbsp;<span class="op" id="5151064">*</span><span class="ident" id="5151065"><a href="/go/ast/print.go.html#5150106">token</a></span><span class="op" id="5151070">.</span><span class="ident" id="5151071">FileSet</span><span class="op" id="5151078">,</span>&nbsp;<span class="ident" id="5151080">x</span>&nbsp;<span class="keyword" id="5151082">interface</span><span class="op" id="5151091">{</span><span class="op" id="5151092">}</span><span class="op" id="5151093">,</span>&nbsp;<span class="ident" id="5151095">f</span>&nbsp;<span class="ident" id="5151097"><a href="/go/ast/print.go.html#5150214">FieldFilter</a></span><span class="op" id="5151108">)</span>&nbsp;<span class="op" id="5151110">(</span><span class="ident" id="5151111">err</span>&nbsp;<span class="builtintype" id="5151115">error</span><span class="op" id="5151120">)</span>&nbsp;<span class="op" id="5151122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5151125">//&nbsp;setup&nbsp;printer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151143">p</span>&nbsp;<span class="op" id="5151145">:=</span>&nbsp;<span class="ident" id="5151148"><a href="/go/ast/print.go.html#5151815">printer</a></span><span class="op" id="5151155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151159">output</span><span class="op" id="5151165">:</span>&nbsp;<span class="ident" id="5151167"><a href="/go/ast/print.go.html#5151046">w</a></span><span class="op" id="5151168">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151172">fset</span><span class="op" id="5151176">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5151180"><a href="/go/ast/print.go.html#5151059">fset</a></span><span class="op" id="5151184">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151188">filter</span><span class="op" id="5151194">:</span>&nbsp;<span class="ident" id="5151196"><a href="/go/ast/print.go.html#5151095">f</a></span><span class="op" id="5151197">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151201">ptrmap</span><span class="op" id="5151207">:</span>&nbsp;<span class="builtinfunc" id="5151209">make</span><span class="op" id="5151213">(</span><span class="keyword" id="5151214">map</span><span class="op" id="5151217">[</span><span class="keyword" id="5151218">interface</span><span class="op" id="5151227">{</span><span class="op" id="5151228">}</span><span class="op" id="5151229">]</span><span class="builtintype" id="5151230">int</span><span class="op" id="5151233">)</span><span class="op" id="5151234">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151238">last</span><span class="op" id="5151242">:</span>&nbsp;&nbsp;&nbsp;<span class="string" id="5151246">&#39;\n&#39;</span><span class="op" id="5151250">,</span>&nbsp;<span class="comment" id="5151252">//&nbsp;force&nbsp;printing&nbsp;of&nbsp;line&nbsp;number&nbsp;on&nbsp;first&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5151300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5151304">//&nbsp;install&nbsp;error&nbsp;handler</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5151330">defer</span>&nbsp;<span class="keyword" id="5151336">func</span><span class="op" id="5151340">(</span><span class="op" id="5151341">)</span>&nbsp;<span class="op" id="5151343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5151347">if</span>&nbsp;<span class="ident" id="5151350">e</span>&nbsp;<span class="op" id="5151352">:=</span>&nbsp;<span class="builtinfunc" id="5151355">recover</span><span class="op" id="5151362">(</span><span class="op" id="5151363">)</span><span class="op" id="5151364">;</span>&nbsp;<span class="ident" id="5151366"><a href="/go/ast/print.go.html#5151350">e</a></span>&nbsp;<span class="op" id="5151368">!=</span>&nbsp;<span class="ident" id="5151371">nil</span>&nbsp;<span class="op" id="5151375">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151380"><a href="/go/ast/print.go.html#5151111">err</a></span>&nbsp;<span class="op" id="5151384">=</span>&nbsp;<span class="ident" id="5151386"><a href="/go/ast/print.go.html#5151350">e</a></span><span class="op" id="5151387">.</span><span class="op" id="5151388">(</span><span class="ident" id="5151389"><a href="/go/ast/print.go.html#5152865">localError</a></span><span class="op" id="5151399">)</span><span class="op" id="5151400">.</span><span class="ident" id="5151401">err</span>&nbsp;<span class="comment" id="5151405">//&nbsp;re-panics&nbsp;if&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;localError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5151445">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5151448">}</span><span class="op" id="5151449">(</span><span class="op" id="5151450">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5151454">//&nbsp;print&nbsp;x</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5151466">if</span>&nbsp;<span class="ident" id="5151469"><a href="/go/ast/print.go.html#5151080">x</a></span>&nbsp;<span class="op" id="5151471">==</span>&nbsp;<span class="ident" id="5151474">nil</span>&nbsp;<span class="op" id="5151478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151482"><a href="/go/ast/print.go.html#5151143">p</a></span><span class="op" id="5151483">.</span><span class="ident" id="5151484">printf</span><span class="op" id="5151490">(</span><span class="string" id="5151491">&#34;nil\n&#34;</span><span class="op" id="5151498">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5151502">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5151510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151513"><a href="/go/ast/print.go.html#5151143">p</a></span><span class="op" id="5151514">.</span><span class="builtinfunc" id="5151515">print</span><span class="op" id="5151520">(</span><span class="ident" id="5151521"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5151528">.</span><span class="ident" id="5151529">ValueOf</span><span class="op" id="5151536">(</span><span class="ident" id="5151537"><a href="/go/ast/print.go.html#5151080">x</a></span><span class="op" id="5151538">)</span><span class="op" id="5151539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151542"><a href="/go/ast/print.go.html#5151143">p</a></span><span class="op" id="5151543">.</span><span class="ident" id="5151544">printf</span><span class="op" id="5151550">(</span><span class="string" id="5151551">&#34;\n&#34;</span><span class="op" id="5151555">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5151559">return</span><br>
<span class="lineno"></span><span class="op" id="5151566">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5151569">//&nbsp;Print&nbsp;prints&nbsp;x&nbsp;to&nbsp;standard&nbsp;output,&nbsp;skipping&nbsp;nil&nbsp;fields.</span><br>
<span class="lineno"></span><span class="comment" id="5151628">//&nbsp;Print(fset,&nbsp;x)&nbsp;is&nbsp;the&nbsp;same&nbsp;as&nbsp;Fprint(os.Stdout,&nbsp;fset,&nbsp;x,&nbsp;NotNilFilter).</span><br>
<span class="lineno">70</span><span class="keyword" id="5151703">func</span>&nbsp;<span class="ident" id="5151708">Print</span><span class="op" id="5151713">(</span><span class="ident" id="5151714">fset</span>&nbsp;<span class="op" id="5151719">*</span><span class="ident" id="5151720"><a href="/go/ast/print.go.html#5150106">token</a></span><span class="op" id="5151725">.</span><span class="ident" id="5151726">FileSet</span><span class="op" id="5151733">,</span>&nbsp;<span class="ident" id="5151735">x</span>&nbsp;<span class="keyword" id="5151737">interface</span><span class="op" id="5151746">{</span><span class="op" id="5151747">}</span><span class="op" id="5151748">)</span>&nbsp;<span class="builtintype" id="5151750">error</span>&nbsp;<span class="op" id="5151756">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5151759">return</span>&nbsp;<span class="ident" id="5151766"><a href="/go/ast/print.go.html#5151039">Fprint</a></span><span class="op" id="5151772">(</span><span class="ident" id="5151773"><a href="/go/ast/print.go.html#5150124">os</a></span><span class="op" id="5151775">.</span><span class="ident" id="5151776">Stdout</span><span class="op" id="5151782">,</span>&nbsp;<span class="ident" id="5151784"><a href="/go/ast/print.go.html#5151714">fset</a></span><span class="op" id="5151788">,</span>&nbsp;<span class="ident" id="5151790"><a href="/go/ast/print.go.html#5151735">x</a></span><span class="op" id="5151791">,</span>&nbsp;<span class="ident" id="5151793"><a href="/go/ast/print.go.html#5150371">NotNilFilter</a></span><span class="op" id="5151805">)</span><br>
<span class="lineno"></span><span class="op" id="5151807">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5151810">type</span>&nbsp;<span class="ident" id="5151815">printer</span>&nbsp;<span class="keyword" id="5151823">struct</span>&nbsp;<span class="op" id="5151830">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151833">output</span>&nbsp;<span class="ident" id="5151840"><a href="/go/ast/print.go.html#5150118">io</a></span><span class="op" id="5151842">.</span><span class="ident" id="5151843">Writer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151851">fset</span>&nbsp;&nbsp;&nbsp;<span class="op" id="5151858">*</span><span class="ident" id="5151859"><a href="/go/ast/print.go.html#5150106">token</a></span><span class="op" id="5151864">.</span><span class="ident" id="5151865">FileSet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151874">filter</span>&nbsp;<span class="ident" id="5151881"><a href="/go/ast/print.go.html#5150214">FieldFilter</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151894">ptrmap</span>&nbsp;<span class="keyword" id="5151901">map</span><span class="op" id="5151904">[</span><span class="keyword" id="5151905">interface</span><span class="op" id="5151914">{</span><span class="op" id="5151915">}</span><span class="op" id="5151916">]</span><span class="builtintype" id="5151917">int</span>&nbsp;<span class="comment" id="5151921">//&nbsp;*T&nbsp;-&gt;&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5151943">indent</span>&nbsp;<span class="builtintype" id="5151950">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5151970">//&nbsp;current&nbsp;indentation&nbsp;level</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152000">last</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5152007">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5152027">//&nbsp;the&nbsp;last&nbsp;byte&nbsp;processed&nbsp;by&nbsp;Write</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152064">line</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5152071">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5152091">//&nbsp;current&nbsp;line&nbsp;number</span><br>
<span class="lineno"></span><span class="op" id="5152114">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5152117">var</span>&nbsp;<span class="ident" id="5152121">indent</span>&nbsp;<span class="op" id="5152128">=</span>&nbsp;<span class="op" id="5152130">[</span><span class="op" id="5152131">]</span><span class="builtintype" id="5152132">byte</span><span class="op" id="5152136">(</span><span class="string" id="5152137">&#34;.&nbsp;&nbsp;&#34;</span><span class="op" id="5152142">)</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="5152145">func</span>&nbsp;<span class="op" id="5152150">(</span><span class="ident" id="5152151">p</span>&nbsp;<span class="op" id="5152153">*</span><span class="ident" id="5152154"><a href="/go/ast/print.go.html#5151815">printer</a></span><span class="op" id="5152161">)</span>&nbsp;<span class="ident" id="5152163">Write</span><span class="op" id="5152168">(</span><span class="ident" id="5152169">data</span>&nbsp;<span class="op" id="5152174">[</span><span class="op" id="5152175">]</span><span class="builtintype" id="5152176">byte</span><span class="op" id="5152180">)</span>&nbsp;<span class="op" id="5152182">(</span><span class="ident" id="5152183">n</span>&nbsp;<span class="builtintype" id="5152185">int</span><span class="op" id="5152188">,</span>&nbsp;<span class="ident" id="5152190">err</span>&nbsp;<span class="builtintype" id="5152194">error</span><span class="op" id="5152199">)</span>&nbsp;<span class="op" id="5152201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152204">var</span>&nbsp;<span class="ident" id="5152208">m</span>&nbsp;<span class="builtintype" id="5152210">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152215">for</span>&nbsp;<span class="ident" id="5152219">i</span><span class="op" id="5152220">,</span>&nbsp;<span class="ident" id="5152222">b</span>&nbsp;<span class="op" id="5152224">:=</span>&nbsp;<span class="keyword" id="5152227">range</span>&nbsp;<span class="ident" id="5152233"><a href="/go/ast/print.go.html#5152169">data</a></span>&nbsp;<span class="op" id="5152238">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5152242">//&nbsp;invariant:&nbsp;data[0:n]&nbsp;has&nbsp;been&nbsp;written</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152285">if</span>&nbsp;<span class="ident" id="5152288"><a href="/go/ast/print.go.html#5152222">b</a></span>&nbsp;<span class="op" id="5152290">==</span>&nbsp;<span class="string" id="5152293">&#39;\n&#39;</span>&nbsp;<span class="op" id="5152298">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152303"><a href="/go/ast/print.go.html#5152208">m</a></span><span class="op" id="5152304">,</span>&nbsp;<span class="ident" id="5152306"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152310">=</span>&nbsp;<span class="ident" id="5152312"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152313">.</span><span class="ident" id="5152314">output</span><span class="op" id="5152320">.</span><span class="ident" id="5152321">Write</span><span class="op" id="5152326">(</span><span class="ident" id="5152327"><a href="/go/ast/print.go.html#5152169">data</a></span><span class="op" id="5152331">[</span><span class="ident" id="5152332"><a href="/go/ast/print.go.html#5152183">n</a></span>&nbsp;<span class="op" id="5152334">:</span>&nbsp;<span class="ident" id="5152336"><a href="/go/ast/print.go.html#5152219">i</a></span><span class="op" id="5152337">+</span><span class="num" id="5152338">1</span><span class="op" id="5152339">]</span><span class="op" id="5152340">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152345"><a href="/go/ast/print.go.html#5152183">n</a></span>&nbsp;<span class="op" id="5152347">+=</span>&nbsp;<span class="ident" id="5152350"><a href="/go/ast/print.go.html#5152208">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152355">if</span>&nbsp;<span class="ident" id="5152358"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152362">!=</span>&nbsp;<span class="ident" id="5152365">nil</span>&nbsp;<span class="op" id="5152369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152375">return</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152390"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152391">.</span><span class="ident" id="5152392">line</span><span class="op" id="5152396">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152401">}</span>&nbsp;<span class="keyword" id="5152403">else</span>&nbsp;<span class="keyword" id="5152408">if</span>&nbsp;<span class="ident" id="5152411"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152412">.</span><span class="ident" id="5152413">last</span>&nbsp;<span class="op" id="5152418">==</span>&nbsp;<span class="string" id="5152421">&#39;\n&#39;</span>&nbsp;<span class="op" id="5152426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152431">_</span><span class="op" id="5152432">,</span>&nbsp;<span class="ident" id="5152434"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152438">=</span>&nbsp;<span class="ident" id="5152440"><a href="/go/ast/print.go.html#5150099">fmt</a></span><span class="op" id="5152443">.</span><span class="ident" id="5152444">Fprintf</span><span class="op" id="5152451">(</span><span class="ident" id="5152452"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152453">.</span><span class="ident" id="5152454">output</span><span class="op" id="5152460">,</span>&nbsp;<span class="string" id="5152462">&#34;%6d&nbsp;&nbsp;&#34;</span><span class="op" id="5152469">,</span>&nbsp;<span class="ident" id="5152471"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152472">.</span><span class="ident" id="5152473">line</span><span class="op" id="5152477">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152482">if</span>&nbsp;<span class="ident" id="5152485"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152489">!=</span>&nbsp;<span class="ident" id="5152492">nil</span>&nbsp;<span class="op" id="5152496">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152502">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152512">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152517">for</span>&nbsp;<span class="ident" id="5152521">j</span>&nbsp;<span class="op" id="5152523">:=</span>&nbsp;<span class="ident" id="5152526"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152527">.</span><span class="ident" id="5152528">indent</span><span class="op" id="5152534">;</span>&nbsp;<span class="ident" id="5152536"><a href="/go/ast/print.go.html#5152521">j</a></span>&nbsp;<span class="op" id="5152538">&gt;</span>&nbsp;<span class="num" id="5152540">0</span><span class="op" id="5152541">;</span>&nbsp;<span class="ident" id="5152543"><a href="/go/ast/print.go.html#5152521">j</a></span><span class="op" id="5152544">--</span>&nbsp;<span class="op" id="5152547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152553">_</span><span class="op" id="5152554">,</span>&nbsp;<span class="ident" id="5152556"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152560">=</span>&nbsp;<span class="ident" id="5152562"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152563">.</span><span class="ident" id="5152564">output</span><span class="op" id="5152570">.</span><span class="ident" id="5152571">Write</span><span class="op" id="5152576">(</span><span class="ident" id="5152577"><a href="/go/ast/print.go.html#5152121">indent</a></span><span class="op" id="5152583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152589">if</span>&nbsp;<span class="ident" id="5152592"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152596">!=</span>&nbsp;<span class="ident" id="5152599">nil</span>&nbsp;<span class="op" id="5152603">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152610">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152634"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152635">.</span><span class="ident" id="5152636">last</span>&nbsp;<span class="op" id="5152641">=</span>&nbsp;<span class="ident" id="5152643"><a href="/go/ast/print.go.html#5152222">b</a></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152649">if</span>&nbsp;<span class="builtinfunc" id="5152652">len</span><span class="op" id="5152655">(</span><span class="ident" id="5152656"><a href="/go/ast/print.go.html#5152169">data</a></span><span class="op" id="5152660">)</span>&nbsp;<span class="op" id="5152662">&gt;</span>&nbsp;<span class="ident" id="5152664"><a href="/go/ast/print.go.html#5152183">n</a></span>&nbsp;<span class="op" id="5152666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152670"><a href="/go/ast/print.go.html#5152208">m</a></span><span class="op" id="5152671">,</span>&nbsp;<span class="ident" id="5152673"><a href="/go/ast/print.go.html#5152190">err</a></span>&nbsp;<span class="op" id="5152677">=</span>&nbsp;<span class="ident" id="5152679"><a href="/go/ast/print.go.html#5152151">p</a></span><span class="op" id="5152680">.</span><span class="ident" id="5152681">output</span><span class="op" id="5152687">.</span><span class="ident" id="5152688">Write</span><span class="op" id="5152693">(</span><span class="ident" id="5152694"><a href="/go/ast/print.go.html#5152169">data</a></span><span class="op" id="5152698">[</span><span class="ident" id="5152699"><a href="/go/ast/print.go.html#5152183">n</a></span><span class="op" id="5152700">:</span><span class="op" id="5152701">]</span><span class="op" id="5152702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152706"><a href="/go/ast/print.go.html#5152183">n</a></span>&nbsp;<span class="op" id="5152708">+=</span>&nbsp;<span class="ident" id="5152711"><a href="/go/ast/print.go.html#5152208">m</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5152714">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5152717">return</span><br>
<span class="lineno"></span><span class="op" id="5152724">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5152727">//&nbsp;localError&nbsp;wraps&nbsp;locally&nbsp;caught&nbsp;errors&nbsp;so&nbsp;we&nbsp;can&nbsp;distinguish</span><br>
<span class="lineno"></span><span class="comment" id="5152791">//&nbsp;them&nbsp;from&nbsp;genuine&nbsp;panics&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;want&nbsp;to&nbsp;return&nbsp;as&nbsp;errors.</span><br>
<span class="lineno">120</span><span class="keyword" id="5152860">type</span>&nbsp;<span class="ident" id="5152865">localError</span>&nbsp;<span class="keyword" id="5152876">struct</span>&nbsp;<span class="op" id="5152883">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5152886">err</span>&nbsp;<span class="builtintype" id="5152890">error</span><br>
<span class="lineno"></span><span class="op" id="5152896">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5152899">//&nbsp;printf&nbsp;is&nbsp;a&nbsp;convenience&nbsp;wrapper&nbsp;that&nbsp;takes&nbsp;care&nbsp;of&nbsp;print&nbsp;errors.</span><br>
<span class="lineno">125</span><span class="keyword" id="5152967">func</span>&nbsp;<span class="op" id="5152972">(</span><span class="ident" id="5152973">p</span>&nbsp;<span class="op" id="5152975">*</span><span class="ident" id="5152976"><a href="/go/ast/print.go.html#5151815">printer</a></span><span class="op" id="5152983">)</span>&nbsp;<span class="ident" id="5152985">printf</span><span class="op" id="5152991">(</span><span class="ident" id="5152992">format</span>&nbsp;<span class="builtintype" id="5152999">string</span><span class="op" id="5153005">,</span>&nbsp;<span class="ident" id="5153007">args</span>&nbsp;<span class="op" id="5153012">...</span><span class="keyword" id="5153015">interface</span><span class="op" id="5153024">{</span><span class="op" id="5153025">}</span><span class="op" id="5153026">)</span>&nbsp;<span class="op" id="5153028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153031">if</span>&nbsp;<span class="ident" id="5153034">_</span><span class="op" id="5153035">,</span>&nbsp;<span class="ident" id="5153037">err</span>&nbsp;<span class="op" id="5153041">:=</span>&nbsp;<span class="ident" id="5153044"><a href="/go/ast/print.go.html#5150099">fmt</a></span><span class="op" id="5153047">.</span><span class="ident" id="5153048">Fprintf</span><span class="op" id="5153055">(</span><span class="ident" id="5153056"><a href="/go/ast/print.go.html#5152973">p</a></span><span class="op" id="5153057">,</span>&nbsp;<span class="ident" id="5153059"><a href="/go/ast/print.go.html#5152992">format</a></span><span class="op" id="5153065">,</span>&nbsp;<span class="ident" id="5153067"><a href="/go/ast/print.go.html#5153007">args</a></span><span class="op" id="5153071">...</span><span class="op" id="5153074">)</span><span class="op" id="5153075">;</span>&nbsp;<span class="ident" id="5153077"><a href="/go/ast/print.go.html#5153037">err</a></span>&nbsp;<span class="op" id="5153081">!=</span>&nbsp;<span class="ident" id="5153084">nil</span>&nbsp;<span class="op" id="5153088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5153092">panic</span><span class="op" id="5153097">(</span><span class="ident" id="5153098"><a href="/go/ast/print.go.html#5152865">localError</a></span><span class="op" id="5153108">{</span><span class="ident" id="5153109"><a href="/go/ast/print.go.html#5153037">err</a></span><span class="op" id="5153112">}</span><span class="op" id="5153113">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5153116">}</span><br>
<span class="lineno"></span><span class="op" id="5153118">}</span><br>
<span class="lineno">130</span><br>
<span class="lineno"></span><span class="comment" id="5153121">//&nbsp;Implementation&nbsp;note:&nbsp;Print&nbsp;is&nbsp;written&nbsp;for&nbsp;AST&nbsp;nodes&nbsp;but&nbsp;could&nbsp;be</span><br>
<span class="lineno"></span><span class="comment" id="5153189">//&nbsp;used&nbsp;to&nbsp;print&nbsp;arbitrary&nbsp;data&nbsp;structures;&nbsp;such&nbsp;a&nbsp;version&nbsp;should</span><br>
<span class="lineno"></span><span class="comment" id="5153255">//&nbsp;probably&nbsp;be&nbsp;in&nbsp;a&nbsp;different&nbsp;package.</span><br>
<span class="lineno"></span><span class="comment" id="5153294">//</span><br>
<span class="lineno">135</span><span class="comment" id="5153297">//&nbsp;Note:&nbsp;This&nbsp;code&nbsp;detects&nbsp;(some)&nbsp;cycles&nbsp;created&nbsp;via&nbsp;pointers&nbsp;but</span><br>
<span class="lineno"></span><span class="comment" id="5153363">//&nbsp;not&nbsp;cycles&nbsp;that&nbsp;are&nbsp;created&nbsp;via&nbsp;slices&nbsp;or&nbsp;maps&nbsp;containing&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5153428">//&nbsp;same&nbsp;slice&nbsp;or&nbsp;map.&nbsp;Code&nbsp;for&nbsp;general&nbsp;data&nbsp;structures&nbsp;probably</span><br>
<span class="lineno"></span><span class="comment" id="5153492">//&nbsp;should&nbsp;catch&nbsp;those&nbsp;as&nbsp;well.</span><br>
<span class="lineno"></span><br>
<span class="lineno">140</span><span class="keyword" id="5153524">func</span>&nbsp;<span class="op" id="5153529">(</span><span class="ident" id="5153530">p</span>&nbsp;<span class="op" id="5153532">*</span><span class="ident" id="5153533"><a href="/go/ast/print.go.html#5151815">printer</a></span><span class="op" id="5153540">)</span>&nbsp;<span class="builtinfunc" id="5153542">print</span><span class="op" id="5153547">(</span><span class="ident" id="5153548">x</span>&nbsp;<span class="ident" id="5153550"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5153557">.</span><span class="ident" id="5153558">Value</span><span class="op" id="5153563">)</span>&nbsp;<span class="op" id="5153565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153568">if</span>&nbsp;<span class="op" id="5153571">!</span><span class="ident" id="5153572"><a href="/go/ast/print.go.html#5150371">NotNilFilter</a></span><span class="op" id="5153584">(</span><span class="string" id="5153585">&#34;&#34;</span><span class="op" id="5153587">,</span>&nbsp;<span class="ident" id="5153589"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153590">)</span>&nbsp;<span class="op" id="5153592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153596"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153597">.</span><span class="ident" id="5153598">printf</span><span class="op" id="5153604">(</span><span class="string" id="5153605">&#34;nil&#34;</span><span class="op" id="5153610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153614">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5153622">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153626">switch</span>&nbsp;<span class="ident" id="5153633"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153634">.</span><span class="ident" id="5153635">Kind</span><span class="op" id="5153639">(</span><span class="op" id="5153640">)</span>&nbsp;<span class="op" id="5153642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153645">case</span>&nbsp;<span class="ident" id="5153650"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5153657">.</span><span class="ident" id="5153658">Interface</span><span class="op" id="5153667">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153671"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153672">.</span><span class="builtinfunc" id="5153673">print</span><span class="op" id="5153678">(</span><span class="ident" id="5153679"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153680">.</span><span class="ident" id="5153681">Elem</span><span class="op" id="5153685">(</span><span class="op" id="5153686">)</span><span class="op" id="5153687">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153691">case</span>&nbsp;<span class="ident" id="5153696"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5153703">.</span><span class="ident" id="5153704">Map</span><span class="op" id="5153707">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153711"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153712">.</span><span class="ident" id="5153713">printf</span><span class="op" id="5153719">(</span><span class="string" id="5153720">&#34;%s&nbsp;(len&nbsp;=&nbsp;%d)&nbsp;{&#34;</span><span class="op" id="5153737">,</span>&nbsp;<span class="ident" id="5153739"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153740">.</span><span class="ident" id="5153741">Type</span><span class="op" id="5153745">(</span><span class="op" id="5153746">)</span><span class="op" id="5153747">,</span>&nbsp;<span class="ident" id="5153749"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153750">.</span><span class="ident" id="5153751">Len</span><span class="op" id="5153754">(</span><span class="op" id="5153755">)</span><span class="op" id="5153756">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153760">if</span>&nbsp;<span class="ident" id="5153763"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153764">.</span><span class="ident" id="5153765">Len</span><span class="op" id="5153768">(</span><span class="op" id="5153769">)</span>&nbsp;<span class="op" id="5153771">&gt;</span>&nbsp;<span class="num" id="5153773">0</span>&nbsp;<span class="op" id="5153775">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153780"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153781">.</span><span class="ident" id="5153782">indent</span><span class="op" id="5153788">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153794"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153795">.</span><span class="ident" id="5153796">printf</span><span class="op" id="5153802">(</span><span class="string" id="5153803">&#34;\n&#34;</span><span class="op" id="5153807">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153812">for</span>&nbsp;<span class="ident" id="5153816">_</span><span class="op" id="5153817">,</span>&nbsp;<span class="ident" id="5153819">key</span>&nbsp;<span class="op" id="5153823">:=</span>&nbsp;<span class="keyword" id="5153826">range</span>&nbsp;<span class="ident" id="5153832"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153833">.</span><span class="ident" id="5153834">MapKeys</span><span class="op" id="5153841">(</span><span class="op" id="5153842">)</span>&nbsp;<span class="op" id="5153844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153850"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153851">.</span><span class="builtinfunc" id="5153852">print</span><span class="op" id="5153857">(</span><span class="ident" id="5153858"><a href="/go/ast/print.go.html#5153819">key</a></span><span class="op" id="5153861">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153867"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153868">.</span><span class="ident" id="5153869">printf</span><span class="op" id="5153875">(</span><span class="string" id="5153876">&#34;:&nbsp;&#34;</span><span class="op" id="5153880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153886"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153887">.</span><span class="builtinfunc" id="5153888">print</span><span class="op" id="5153893">(</span><span class="ident" id="5153894"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5153895">.</span><span class="ident" id="5153896">MapIndex</span><span class="op" id="5153904">(</span><span class="ident" id="5153905"><a href="/go/ast/print.go.html#5153819">key</a></span><span class="op" id="5153908">)</span><span class="op" id="5153909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153915"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153916">.</span><span class="ident" id="5153917">printf</span><span class="op" id="5153923">(</span><span class="string" id="5153924">&#34;\n&#34;</span><span class="op" id="5153928">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5153933">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153938"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153939">.</span><span class="ident" id="5153940">indent</span><span class="op" id="5153946">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5153951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153955"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153956">.</span><span class="ident" id="5153957">printf</span><span class="op" id="5153963">(</span><span class="string" id="5153964">&#34;}&#34;</span><span class="op" id="5153967">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5153971">case</span>&nbsp;<span class="ident" id="5153976"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5153983">.</span><span class="ident" id="5153984">Ptr</span><span class="op" id="5153987">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5153991"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5153992">.</span><span class="ident" id="5153993">printf</span><span class="op" id="5153999">(</span><span class="string" id="5154000">&#34;*&#34;</span><span class="op" id="5154003">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5154007">//&nbsp;type-checked&nbsp;ASTs&nbsp;may&nbsp;contain&nbsp;cycles&nbsp;-&nbsp;use&nbsp;ptrmap</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5154062">//&nbsp;to&nbsp;keep&nbsp;track&nbsp;of&nbsp;objects&nbsp;that&nbsp;have&nbsp;been&nbsp;printed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5154115">//&nbsp;already&nbsp;and&nbsp;print&nbsp;the&nbsp;respective&nbsp;line&nbsp;number&nbsp;instead</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154173">ptr</span>&nbsp;<span class="op" id="5154177">:=</span>&nbsp;<span class="ident" id="5154180"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154181">.</span><span class="ident" id="5154182">Interface</span><span class="op" id="5154191">(</span><span class="op" id="5154192">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154196">if</span>&nbsp;<span class="ident" id="5154199">line</span><span class="op" id="5154203">,</span>&nbsp;<span class="ident" id="5154205">exists</span>&nbsp;<span class="op" id="5154212">:=</span>&nbsp;<span class="ident" id="5154215"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154216">.</span><span class="ident" id="5154217">ptrmap</span><span class="op" id="5154223">[</span><span class="ident" id="5154224"><a href="/go/ast/print.go.html#5154173">ptr</a></span><span class="op" id="5154227">]</span><span class="op" id="5154228">;</span>&nbsp;<span class="ident" id="5154230"><a href="/go/ast/print.go.html#5154205">exists</a></span>&nbsp;<span class="op" id="5154237">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154242"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154243">.</span><span class="ident" id="5154244">printf</span><span class="op" id="5154250">(</span><span class="string" id="5154251">&#34;(obj&nbsp;@&nbsp;%d)&#34;</span><span class="op" id="5154263">,</span>&nbsp;<span class="ident" id="5154265"><a href="/go/ast/print.go.html#5154199">line</a></span><span class="op" id="5154269">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154273">}</span>&nbsp;<span class="keyword" id="5154275">else</span>&nbsp;<span class="op" id="5154280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154285"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154286">.</span><span class="ident" id="5154287">ptrmap</span><span class="op" id="5154293">[</span><span class="ident" id="5154294"><a href="/go/ast/print.go.html#5154173">ptr</a></span><span class="op" id="5154297">]</span>&nbsp;<span class="op" id="5154299">=</span>&nbsp;<span class="ident" id="5154301"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154302">.</span><span class="ident" id="5154303">line</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154311"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154312">.</span><span class="builtinfunc" id="5154313">print</span><span class="op" id="5154318">(</span><span class="ident" id="5154319"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154320">.</span><span class="ident" id="5154321">Elem</span><span class="op" id="5154325">(</span><span class="op" id="5154326">)</span><span class="op" id="5154327">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154335">case</span>&nbsp;<span class="ident" id="5154340"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5154347">.</span><span class="ident" id="5154348">Array</span><span class="op" id="5154353">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154357"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154358">.</span><span class="ident" id="5154359">printf</span><span class="op" id="5154365">(</span><span class="string" id="5154366">&#34;%s&nbsp;{&#34;</span><span class="op" id="5154372">,</span>&nbsp;<span class="ident" id="5154374"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154375">.</span><span class="ident" id="5154376">Type</span><span class="op" id="5154380">(</span><span class="op" id="5154381">)</span><span class="op" id="5154382">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154386">if</span>&nbsp;<span class="ident" id="5154389"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154390">.</span><span class="ident" id="5154391">Len</span><span class="op" id="5154394">(</span><span class="op" id="5154395">)</span>&nbsp;<span class="op" id="5154397">&gt;</span>&nbsp;<span class="num" id="5154399">0</span>&nbsp;<span class="op" id="5154401">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154406"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154407">.</span><span class="ident" id="5154408">indent</span><span class="op" id="5154414">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154420"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154421">.</span><span class="ident" id="5154422">printf</span><span class="op" id="5154428">(</span><span class="string" id="5154429">&#34;\n&#34;</span><span class="op" id="5154433">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154438">for</span>&nbsp;<span class="ident" id="5154442">i</span><span class="op" id="5154443">,</span>&nbsp;<span class="ident" id="5154445">n</span>&nbsp;<span class="op" id="5154447">:=</span>&nbsp;<span class="num" id="5154450">0</span><span class="op" id="5154451">,</span>&nbsp;<span class="ident" id="5154453"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154454">.</span><span class="ident" id="5154455">Len</span><span class="op" id="5154458">(</span><span class="op" id="5154459">)</span><span class="op" id="5154460">;</span>&nbsp;<span class="ident" id="5154462"><a href="/go/ast/print.go.html#5154442">i</a></span>&nbsp;<span class="op" id="5154464">&lt;</span>&nbsp;<span class="ident" id="5154466"><a href="/go/ast/print.go.html#5154445">n</a></span><span class="op" id="5154467">;</span>&nbsp;<span class="ident" id="5154469"><a href="/go/ast/print.go.html#5154442">i</a></span><span class="op" id="5154470">++</span>&nbsp;<span class="op" id="5154473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154479"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154480">.</span><span class="ident" id="5154481">printf</span><span class="op" id="5154487">(</span><span class="string" id="5154488">&#34;%d:&nbsp;&#34;</span><span class="op" id="5154494">,</span>&nbsp;<span class="ident" id="5154496"><a href="/go/ast/print.go.html#5154442">i</a></span><span class="op" id="5154497">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154503"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154504">.</span><span class="builtinfunc" id="5154505">print</span><span class="op" id="5154510">(</span><span class="ident" id="5154511"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154512">.</span><span class="ident" id="5154513">Index</span><span class="op" id="5154518">(</span><span class="ident" id="5154519"><a href="/go/ast/print.go.html#5154442">i</a></span><span class="op" id="5154520">)</span><span class="op" id="5154521">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154527"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154528">.</span><span class="ident" id="5154529">printf</span><span class="op" id="5154535">(</span><span class="string" id="5154536">&#34;\n&#34;</span><span class="op" id="5154540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154550"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154551">.</span><span class="ident" id="5154552">indent</span><span class="op" id="5154558">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154563">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154567"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154568">.</span><span class="ident" id="5154569">printf</span><span class="op" id="5154575">(</span><span class="string" id="5154576">&#34;}&#34;</span><span class="op" id="5154579">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154583">case</span>&nbsp;<span class="ident" id="5154588"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5154595">.</span><span class="ident" id="5154596">Slice</span><span class="op" id="5154601">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154605">if</span>&nbsp;<span class="ident" id="5154608">s</span><span class="op" id="5154609">,</span>&nbsp;<span class="ident" id="5154611">ok</span>&nbsp;<span class="op" id="5154614">:=</span>&nbsp;<span class="ident" id="5154617"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154618">.</span><span class="ident" id="5154619">Interface</span><span class="op" id="5154628">(</span><span class="op" id="5154629">)</span><span class="op" id="5154630">.</span><span class="op" id="5154631">(</span><span class="op" id="5154632">[</span><span class="op" id="5154633">]</span><span class="builtintype" id="5154634">byte</span><span class="op" id="5154638">)</span><span class="op" id="5154639">;</span>&nbsp;<span class="ident" id="5154641"><a href="/go/ast/print.go.html#5154611">ok</a></span>&nbsp;<span class="op" id="5154644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154649"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154650">.</span><span class="ident" id="5154651">printf</span><span class="op" id="5154657">(</span><span class="string" id="5154658">&#34;%#q&#34;</span><span class="op" id="5154663">,</span>&nbsp;<span class="ident" id="5154665"><a href="/go/ast/print.go.html#5154608">s</a></span><span class="op" id="5154666">)</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154671">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154680">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154684"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154685">.</span><span class="ident" id="5154686">printf</span><span class="op" id="5154692">(</span><span class="string" id="5154693">&#34;%s&nbsp;(len&nbsp;=&nbsp;%d)&nbsp;{&#34;</span><span class="op" id="5154710">,</span>&nbsp;<span class="ident" id="5154712"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154713">.</span><span class="ident" id="5154714">Type</span><span class="op" id="5154718">(</span><span class="op" id="5154719">)</span><span class="op" id="5154720">,</span>&nbsp;<span class="ident" id="5154722"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154723">.</span><span class="ident" id="5154724">Len</span><span class="op" id="5154727">(</span><span class="op" id="5154728">)</span><span class="op" id="5154729">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154733">if</span>&nbsp;<span class="ident" id="5154736"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154737">.</span><span class="ident" id="5154738">Len</span><span class="op" id="5154741">(</span><span class="op" id="5154742">)</span>&nbsp;<span class="op" id="5154744">&gt;</span>&nbsp;<span class="num" id="5154746">0</span>&nbsp;<span class="op" id="5154748">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154753"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154754">.</span><span class="ident" id="5154755">indent</span><span class="op" id="5154761">++</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154767"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154768">.</span><span class="ident" id="5154769">printf</span><span class="op" id="5154775">(</span><span class="string" id="5154776">&#34;\n&#34;</span><span class="op" id="5154780">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154785">for</span>&nbsp;<span class="ident" id="5154789">i</span><span class="op" id="5154790">,</span>&nbsp;<span class="ident" id="5154792">n</span>&nbsp;<span class="op" id="5154794">:=</span>&nbsp;<span class="num" id="5154797">0</span><span class="op" id="5154798">,</span>&nbsp;<span class="ident" id="5154800"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154801">.</span><span class="ident" id="5154802">Len</span><span class="op" id="5154805">(</span><span class="op" id="5154806">)</span><span class="op" id="5154807">;</span>&nbsp;<span class="ident" id="5154809"><a href="/go/ast/print.go.html#5154789">i</a></span>&nbsp;<span class="op" id="5154811">&lt;</span>&nbsp;<span class="ident" id="5154813"><a href="/go/ast/print.go.html#5154792">n</a></span><span class="op" id="5154814">;</span>&nbsp;<span class="ident" id="5154816"><a href="/go/ast/print.go.html#5154789">i</a></span><span class="op" id="5154817">++</span>&nbsp;<span class="op" id="5154820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154826"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154827">.</span><span class="ident" id="5154828">printf</span><span class="op" id="5154834">(</span><span class="string" id="5154835">&#34;%d:&nbsp;&#34;</span><span class="op" id="5154841">,</span>&nbsp;<span class="ident" id="5154843"><a href="/go/ast/print.go.html#5154789">i</a></span><span class="op" id="5154844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154850"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154851">.</span><span class="builtinfunc" id="5154852">print</span><span class="op" id="5154857">(</span><span class="ident" id="5154858"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154859">.</span><span class="ident" id="5154860">Index</span><span class="op" id="5154865">(</span><span class="ident" id="5154866"><a href="/go/ast/print.go.html#5154789">i</a></span><span class="op" id="5154867">)</span><span class="op" id="5154868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154874"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154875">.</span><span class="ident" id="5154876">printf</span><span class="op" id="5154882">(</span><span class="string" id="5154883">&#34;\n&#34;</span><span class="op" id="5154887">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154892">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154897"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154898">.</span><span class="ident" id="5154899">indent</span><span class="op" id="5154905">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5154910">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154914"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154915">.</span><span class="ident" id="5154916">printf</span><span class="op" id="5154922">(</span><span class="string" id="5154923">&#34;}&#34;</span><span class="op" id="5154926">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5154930">case</span>&nbsp;<span class="ident" id="5154935"><a href="/go/ast/print.go.html#5150130">reflect</a></span><span class="op" id="5154942">.</span><span class="ident" id="5154943">Struct</span><span class="op" id="5154949">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154953">t</span>&nbsp;<span class="op" id="5154955">:=</span>&nbsp;<span class="ident" id="5154958"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5154959">.</span><span class="ident" id="5154960">Type</span><span class="op" id="5154964">(</span><span class="op" id="5154965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154969"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154970">.</span><span class="ident" id="5154971">printf</span><span class="op" id="5154977">(</span><span class="string" id="5154978">&#34;%s&nbsp;{&#34;</span><span class="op" id="5154984">,</span>&nbsp;<span class="ident" id="5154986"><a href="/go/ast/print.go.html#5154953">t</a></span><span class="op" id="5154987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5154991"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5154992">.</span><span class="ident" id="5154993">indent</span><span class="op" id="5154999">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155004">first</span>&nbsp;<span class="op" id="5155010">:=</span>&nbsp;<span class="builtintype" id="5155013">true</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155020">for</span>&nbsp;<span class="ident" id="5155024">i</span><span class="op" id="5155025">,</span>&nbsp;<span class="ident" id="5155027">n</span>&nbsp;<span class="op" id="5155029">:=</span>&nbsp;<span class="num" id="5155032">0</span><span class="op" id="5155033">,</span>&nbsp;<span class="ident" id="5155035"><a href="/go/ast/print.go.html#5154953">t</a></span><span class="op" id="5155036">.</span><span class="ident" id="5155037">NumField</span><span class="op" id="5155045">(</span><span class="op" id="5155046">)</span><span class="op" id="5155047">;</span>&nbsp;<span class="ident" id="5155049"><a href="/go/ast/print.go.html#5155024">i</a></span>&nbsp;<span class="op" id="5155051">&lt;</span>&nbsp;<span class="ident" id="5155053"><a href="/go/ast/print.go.html#5155027">n</a></span><span class="op" id="5155054">;</span>&nbsp;<span class="ident" id="5155056"><a href="/go/ast/print.go.html#5155024">i</a></span><span class="op" id="5155057">++</span>&nbsp;<span class="op" id="5155060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5155065">//&nbsp;exclude&nbsp;non-exported&nbsp;fields&nbsp;because&nbsp;their</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5155113">//&nbsp;values&nbsp;cannot&nbsp;be&nbsp;accessed&nbsp;via&nbsp;reflection</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155160">if</span>&nbsp;<span class="ident" id="5155163">name</span>&nbsp;<span class="op" id="5155168">:=</span>&nbsp;<span class="ident" id="5155171"><a href="/go/ast/print.go.html#5154953">t</a></span><span class="op" id="5155172">.</span><span class="ident" id="5155173">Field</span><span class="op" id="5155178">(</span><span class="ident" id="5155179"><a href="/go/ast/print.go.html#5155024">i</a></span><span class="op" id="5155180">)</span><span class="op" id="5155181">.</span><span class="ident" id="5155182">Name</span><span class="op" id="5155186">;</span>&nbsp;<span class="ident" id="5155188"><a href="/go/ast/ast.go.html#5108295">IsExported</a></span><span class="op" id="5155198">(</span><span class="ident" id="5155199"><a href="/go/ast/print.go.html#5155163">name</a></span><span class="op" id="5155203">)</span>&nbsp;<span class="op" id="5155205">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155211">value</span>&nbsp;<span class="op" id="5155217">:=</span>&nbsp;<span class="ident" id="5155220"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5155221">.</span><span class="ident" id="5155222">Field</span><span class="op" id="5155227">(</span><span class="ident" id="5155228"><a href="/go/ast/print.go.html#5155024">i</a></span><span class="op" id="5155229">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155235">if</span>&nbsp;<span class="ident" id="5155238"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155239">.</span><span class="ident" id="5155240">filter</span>&nbsp;<span class="op" id="5155247">==</span>&nbsp;<span class="ident" id="5155250">nil</span>&nbsp;<span class="op" id="5155254">||</span>&nbsp;<span class="ident" id="5155257"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155258">.</span><span class="ident" id="5155259">filter</span><span class="op" id="5155265">(</span><span class="ident" id="5155266"><a href="/go/ast/print.go.html#5155163">name</a></span><span class="op" id="5155270">,</span>&nbsp;<span class="ident" id="5155272"><a href="/go/ast/print.go.html#5155211">value</a></span><span class="op" id="5155277">)</span>&nbsp;<span class="op" id="5155279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155286">if</span>&nbsp;<span class="ident" id="5155289"><a href="/go/ast/print.go.html#5155004">first</a></span>&nbsp;<span class="op" id="5155295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155303"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155304">.</span><span class="ident" id="5155305">printf</span><span class="op" id="5155311">(</span><span class="string" id="5155312">&#34;\n&#34;</span><span class="op" id="5155316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155324"><a href="/go/ast/print.go.html#5155004">first</a></span>&nbsp;<span class="op" id="5155330">=</span>&nbsp;<span class="builtintype" id="5155332">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155343">}</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155350"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155351">.</span><span class="ident" id="5155352">printf</span><span class="op" id="5155358">(</span><span class="string" id="5155359">&#34;%s:&nbsp;&#34;</span><span class="op" id="5155365">,</span>&nbsp;<span class="ident" id="5155367"><a href="/go/ast/print.go.html#5155163">name</a></span><span class="op" id="5155371">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155378"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155379">.</span><span class="builtinfunc" id="5155380">print</span><span class="op" id="5155385">(</span><span class="ident" id="5155386"><a href="/go/ast/print.go.html#5155211">value</a></span><span class="op" id="5155391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155398"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155399">.</span><span class="ident" id="5155400">printf</span><span class="op" id="5155406">(</span><span class="string" id="5155407">&#34;\n&#34;</span><span class="op" id="5155411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155422">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155426">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155430"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155431">.</span><span class="ident" id="5155432">indent</span><span class="op" id="5155438">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155443"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155444">.</span><span class="ident" id="5155445">printf</span><span class="op" id="5155451">(</span><span class="string" id="5155452">&#34;}&#34;</span><span class="op" id="5155455">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155459">default</span><span class="op" id="5155466">:</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155470">v</span>&nbsp;<span class="op" id="5155472">:=</span>&nbsp;<span class="ident" id="5155475"><a href="/go/ast/print.go.html#5153548">x</a></span><span class="op" id="5155476">.</span><span class="ident" id="5155477">Interface</span><span class="op" id="5155486">(</span><span class="op" id="5155487">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155491">switch</span>&nbsp;<span class="ident" id="5155498">v</span>&nbsp;<span class="op" id="5155500">:=</span>&nbsp;<span class="ident" id="5155503"><a href="/go/ast/print.go.html#5155470">v</a></span><span class="op" id="5155504">.</span><span class="op" id="5155505">(</span><span class="keyword" id="5155506">type</span><span class="op" id="5155510">)</span>&nbsp;<span class="op" id="5155512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155516">case</span>&nbsp;<span class="builtintype" id="5155521">string</span><span class="op" id="5155527">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5155532">//&nbsp;print&nbsp;strings&nbsp;in&nbsp;quotes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155562"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155563">.</span><span class="ident" id="5155564">printf</span><span class="op" id="5155570">(</span><span class="string" id="5155571">&#34;%q&#34;</span><span class="op" id="5155575">,</span>&nbsp;<span class="ident" id="5155577"><a href="/go/ast/print.go.html#5155498">v</a></span><span class="op" id="5155578">)</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155583">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155592">case</span>&nbsp;<span class="ident" id="5155597"><a href="/go/ast/print.go.html#5150106">token</a></span><span class="op" id="5155602">.</span><span class="ident" id="5155603">Pos</span><span class="op" id="5155606">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5155611">//&nbsp;position&nbsp;values&nbsp;can&nbsp;be&nbsp;printed&nbsp;nicely&nbsp;if&nbsp;we&nbsp;have&nbsp;a&nbsp;file&nbsp;set</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155677">if</span>&nbsp;<span class="ident" id="5155680"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155681">.</span><span class="ident" id="5155682">fset</span>&nbsp;<span class="op" id="5155687">!=</span>&nbsp;<span class="ident" id="5155690">nil</span>&nbsp;<span class="op" id="5155694">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155700"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155701">.</span><span class="ident" id="5155702">printf</span><span class="op" id="5155708">(</span><span class="string" id="5155709">&#34;%s&#34;</span><span class="op" id="5155713">,</span>&nbsp;<span class="ident" id="5155715"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155716">.</span><span class="ident" id="5155717">fset</span><span class="op" id="5155721">.</span><span class="ident" id="5155722">Position</span><span class="op" id="5155730">(</span><span class="ident" id="5155731"><a href="/go/ast/print.go.html#5155498">v</a></span><span class="op" id="5155732">)</span><span class="op" id="5155733">)</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5155739">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155749">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155753">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5155757">//&nbsp;default</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5155770"><a href="/go/ast/print.go.html#5153530">p</a></span><span class="op" id="5155771">.</span><span class="ident" id="5155772">printf</span><span class="op" id="5155778">(</span><span class="string" id="5155779">&#34;%v&#34;</span><span class="op" id="5155783">,</span>&nbsp;<span class="ident" id="5155785"><a href="/go/ast/print.go.html#5155470">v</a></span><span class="op" id="5155786">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5155789">}</span><br>
<span class="lineno"></span><span class="op" id="5155791">}</span>
</div>
</body>
</html>
