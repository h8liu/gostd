<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>image</h2>
<ul>
<li><a href="/gostd/image/decode_example_test.go.html">decode_example_test.go</a></li>
<li><a href="/gostd/image/decode_test.go.html">decode_test.go</a></li>
<li><a href="/gostd/image/format.go.html">format.go</a></li>
<li><a href="/gostd/image/geom.go.html">geom.go</a></li>
<li><a href="/gostd/image/image.go.html">image.go</a></li>
<li><a href="/gostd/image/image_test.go.html" class="current">image_test.go</a></li>
<li><a href="/gostd/image/names.go.html">names.go</a></li>
<li><a href="/gostd/image/ycbcr.go.html">ycbcr.go</a></li>
<li><a href="/gostd/image/ycbcr_test.go.html">ycbcr_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7365421">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7365476">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7365530">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7365581">package</span>&nbsp;<span class="ident" id="7365589">image</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7365596">import</span>&nbsp;<span class="op" id="7365603">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7365606">&#34;image/color&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7365621">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="7365631">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7365634">type</span>&nbsp;<span class="ident" id="7365639">image</span>&nbsp;<span class="keyword" id="7365645">interface</span>&nbsp;<span class="op" id="7365655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365658">Image</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365665">Opaque</span><span class="op" id="7365671">(</span><span class="op" id="7365672">)</span>&nbsp;<span class="builtintype" id="7365674">bool</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365680">Set</span><span class="op" id="7365683">(</span><span class="builtintype" id="7365684">int</span><span class="op" id="7365687">,</span>&nbsp;<span class="builtintype" id="7365689">int</span><span class="op" id="7365692">,</span>&nbsp;<span class="ident" id="7365694">color</span><span class="op" id="7365699">.</span><span class="ident" id="7365700">Color</span><span class="op" id="7365705">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365708">SubImage</span><span class="op" id="7365716">(</span><span class="ident" id="7365717">Rectangle</span><span class="op" id="7365726">)</span>&nbsp;<span class="ident" id="7365728">Image</span><br>
<span class="lineno"></span><span class="op" id="7365734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7365737">func</span>&nbsp;<span class="ident" id="7365742">cmp</span><span class="op" id="7365745">(</span><span class="ident" id="7365746">t</span>&nbsp;<span class="op" id="7365748">*</span><span class="ident" id="7365749">testing</span><span class="op" id="7365756">.</span><span class="ident" id="7365757">T</span><span class="op" id="7365758">,</span>&nbsp;<span class="ident" id="7365760">cm</span>&nbsp;<span class="ident" id="7365763">color</span><span class="op" id="7365768">.</span><span class="ident" id="7365769">Model</span><span class="op" id="7365774">,</span>&nbsp;<span class="ident" id="7365776">c0</span><span class="op" id="7365778">,</span>&nbsp;<span class="ident" id="7365780">c1</span>&nbsp;<span class="ident" id="7365783">color</span><span class="op" id="7365788">.</span><span class="ident" id="7365789">Color</span><span class="op" id="7365794">)</span>&nbsp;<span class="builtintype" id="7365796">bool</span>&nbsp;<span class="op" id="7365801">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365804">r0</span><span class="op" id="7365806">,</span>&nbsp;<span class="ident" id="7365808">g0</span><span class="op" id="7365810">,</span>&nbsp;<span class="ident" id="7365812">b0</span><span class="op" id="7365814">,</span>&nbsp;<span class="ident" id="7365816">a0</span>&nbsp;<span class="op" id="7365819">:=</span>&nbsp;<span class="ident" id="7365822">cm</span><span class="op" id="7365824">.</span><span class="ident" id="7365825">Convert</span><span class="op" id="7365832">(</span><span class="ident" id="7365833">c0</span><span class="op" id="7365835">)</span><span class="op" id="7365836">.</span><span class="ident" id="7365837">RGBA</span><span class="op" id="7365841">(</span><span class="op" id="7365842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365845">r1</span><span class="op" id="7365847">,</span>&nbsp;<span class="ident" id="7365849">g1</span><span class="op" id="7365851">,</span>&nbsp;<span class="ident" id="7365853">b1</span><span class="op" id="7365855">,</span>&nbsp;<span class="ident" id="7365857">a1</span>&nbsp;<span class="op" id="7365860">:=</span>&nbsp;<span class="ident" id="7365863">cm</span><span class="op" id="7365865">.</span><span class="ident" id="7365866">Convert</span><span class="op" id="7365873">(</span><span class="ident" id="7365874">c1</span><span class="op" id="7365876">)</span><span class="op" id="7365877">.</span><span class="ident" id="7365878">RGBA</span><span class="op" id="7365882">(</span><span class="op" id="7365883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7365886">return</span>&nbsp;<span class="ident" id="7365893">r0</span>&nbsp;<span class="op" id="7365896">==</span>&nbsp;<span class="ident" id="7365899">r1</span>&nbsp;<span class="op" id="7365902">&amp;&amp;</span>&nbsp;<span class="ident" id="7365905">g0</span>&nbsp;<span class="op" id="7365908">==</span>&nbsp;<span class="ident" id="7365911">g1</span>&nbsp;<span class="op" id="7365914">&amp;&amp;</span>&nbsp;<span class="ident" id="7365917">b0</span>&nbsp;<span class="op" id="7365920">==</span>&nbsp;<span class="ident" id="7365923">b1</span>&nbsp;<span class="op" id="7365926">&amp;&amp;</span>&nbsp;<span class="ident" id="7365929">a0</span>&nbsp;<span class="op" id="7365932">==</span>&nbsp;<span class="ident" id="7365935">a1</span><br>
<span class="lineno"></span><span class="op" id="7365938">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="7365941">func</span>&nbsp;<span class="ident" id="7365946">TestImage</span><span class="op" id="7365955">(</span><span class="ident" id="7365956">t</span>&nbsp;<span class="op" id="7365958">*</span><span class="ident" id="7365959">testing</span><span class="op" id="7365966">.</span><span class="ident" id="7365967">T</span><span class="op" id="7365968">)</span>&nbsp;<span class="op" id="7365970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365973">testImage</span>&nbsp;<span class="op" id="7365983">:=</span>&nbsp;<span class="op" id="7365986">[</span><span class="op" id="7365987">]</span><span class="ident" id="7365988">image</span><span class="op" id="7365993">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7365997">NewRGBA</span><span class="op" id="7366004">(</span><span class="ident" id="7366005">Rect</span><span class="op" id="7366009">(</span><span class="num" id="7366010">0</span><span class="op" id="7366011">,</span>&nbsp;<span class="num" id="7366013">0</span><span class="op" id="7366014">,</span>&nbsp;<span class="num" id="7366016">10</span><span class="op" id="7366018">,</span>&nbsp;<span class="num" id="7366020">10</span><span class="op" id="7366022">)</span><span class="op" id="7366023">)</span><span class="op" id="7366024">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366028">NewRGBA64</span><span class="op" id="7366037">(</span><span class="ident" id="7366038">Rect</span><span class="op" id="7366042">(</span><span class="num" id="7366043">0</span><span class="op" id="7366044">,</span>&nbsp;<span class="num" id="7366046">0</span><span class="op" id="7366047">,</span>&nbsp;<span class="num" id="7366049">10</span><span class="op" id="7366051">,</span>&nbsp;<span class="num" id="7366053">10</span><span class="op" id="7366055">)</span><span class="op" id="7366056">)</span><span class="op" id="7366057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366061">NewNRGBA</span><span class="op" id="7366069">(</span><span class="ident" id="7366070">Rect</span><span class="op" id="7366074">(</span><span class="num" id="7366075">0</span><span class="op" id="7366076">,</span>&nbsp;<span class="num" id="7366078">0</span><span class="op" id="7366079">,</span>&nbsp;<span class="num" id="7366081">10</span><span class="op" id="7366083">,</span>&nbsp;<span class="num" id="7366085">10</span><span class="op" id="7366087">)</span><span class="op" id="7366088">)</span><span class="op" id="7366089">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366093">NewNRGBA64</span><span class="op" id="7366103">(</span><span class="ident" id="7366104">Rect</span><span class="op" id="7366108">(</span><span class="num" id="7366109">0</span><span class="op" id="7366110">,</span>&nbsp;<span class="num" id="7366112">0</span><span class="op" id="7366113">,</span>&nbsp;<span class="num" id="7366115">10</span><span class="op" id="7366117">,</span>&nbsp;<span class="num" id="7366119">10</span><span class="op" id="7366121">)</span><span class="op" id="7366122">)</span><span class="op" id="7366123">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366127">NewAlpha</span><span class="op" id="7366135">(</span><span class="ident" id="7366136">Rect</span><span class="op" id="7366140">(</span><span class="num" id="7366141">0</span><span class="op" id="7366142">,</span>&nbsp;<span class="num" id="7366144">0</span><span class="op" id="7366145">,</span>&nbsp;<span class="num" id="7366147">10</span><span class="op" id="7366149">,</span>&nbsp;<span class="num" id="7366151">10</span><span class="op" id="7366153">)</span><span class="op" id="7366154">)</span><span class="op" id="7366155">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366159">NewAlpha16</span><span class="op" id="7366169">(</span><span class="ident" id="7366170">Rect</span><span class="op" id="7366174">(</span><span class="num" id="7366175">0</span><span class="op" id="7366176">,</span>&nbsp;<span class="num" id="7366178">0</span><span class="op" id="7366179">,</span>&nbsp;<span class="num" id="7366181">10</span><span class="op" id="7366183">,</span>&nbsp;<span class="num" id="7366185">10</span><span class="op" id="7366187">)</span><span class="op" id="7366188">)</span><span class="op" id="7366189">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366193">NewGray</span><span class="op" id="7366200">(</span><span class="ident" id="7366201">Rect</span><span class="op" id="7366205">(</span><span class="num" id="7366206">0</span><span class="op" id="7366207">,</span>&nbsp;<span class="num" id="7366209">0</span><span class="op" id="7366210">,</span>&nbsp;<span class="num" id="7366212">10</span><span class="op" id="7366214">,</span>&nbsp;<span class="num" id="7366216">10</span><span class="op" id="7366218">)</span><span class="op" id="7366219">)</span><span class="op" id="7366220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366224">NewGray16</span><span class="op" id="7366233">(</span><span class="ident" id="7366234">Rect</span><span class="op" id="7366238">(</span><span class="num" id="7366239">0</span><span class="op" id="7366240">,</span>&nbsp;<span class="num" id="7366242">0</span><span class="op" id="7366243">,</span>&nbsp;<span class="num" id="7366245">10</span><span class="op" id="7366247">,</span>&nbsp;<span class="num" id="7366249">10</span><span class="op" id="7366251">)</span><span class="op" id="7366252">)</span><span class="op" id="7366253">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366257">NewPaletted</span><span class="op" id="7366268">(</span><span class="ident" id="7366269">Rect</span><span class="op" id="7366273">(</span><span class="num" id="7366274">0</span><span class="op" id="7366275">,</span>&nbsp;<span class="num" id="7366277">0</span><span class="op" id="7366278">,</span>&nbsp;<span class="num" id="7366280">10</span><span class="op" id="7366282">,</span>&nbsp;<span class="num" id="7366284">10</span><span class="op" id="7366286">)</span><span class="op" id="7366287">,</span>&nbsp;<span class="ident" id="7366289">color</span><span class="op" id="7366294">.</span><span class="ident" id="7366295">Palette</span><span class="op" id="7366302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366307">Transparent</span><span class="op" id="7366318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366323">Opaque</span><span class="op" id="7366329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366333">}</span><span class="op" id="7366334">)</span><span class="op" id="7366335">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366338">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366341">for</span>&nbsp;<span class="ident" id="7366345">_</span><span class="op" id="7366346">,</span>&nbsp;<span class="ident" id="7366348">m</span>&nbsp;<span class="op" id="7366350">:=</span>&nbsp;<span class="keyword" id="7366353">range</span>&nbsp;<span class="ident" id="7366359">testImage</span>&nbsp;<span class="op" id="7366369">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366373">if</span>&nbsp;<span class="op" id="7366376">!</span><span class="ident" id="7366377">Rect</span><span class="op" id="7366381">(</span><span class="num" id="7366382">0</span><span class="op" id="7366383">,</span>&nbsp;<span class="num" id="7366385">0</span><span class="op" id="7366386">,</span>&nbsp;<span class="num" id="7366388">10</span><span class="op" id="7366390">,</span>&nbsp;<span class="num" id="7366392">10</span><span class="op" id="7366394">)</span><span class="op" id="7366395">.</span><span class="ident" id="7366396">Eq</span><span class="op" id="7366398">(</span><span class="ident" id="7366399">m</span><span class="op" id="7366400">.</span><span class="ident" id="7366401">Bounds</span><span class="op" id="7366407">(</span><span class="op" id="7366408">)</span><span class="op" id="7366409">)</span>&nbsp;<span class="op" id="7366411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366416">t</span><span class="op" id="7366417">.</span><span class="ident" id="7366418">Errorf</span><span class="op" id="7366424">(</span><span class="string" id="7366425">&#34;%T:&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7366453">,</span>&nbsp;<span class="ident" id="7366455">m</span><span class="op" id="7366456">,</span>&nbsp;<span class="ident" id="7366458">Rect</span><span class="op" id="7366462">(</span><span class="num" id="7366463">0</span><span class="op" id="7366464">,</span>&nbsp;<span class="num" id="7366466">0</span><span class="op" id="7366467">,</span>&nbsp;<span class="num" id="7366469">10</span><span class="op" id="7366471">,</span>&nbsp;<span class="num" id="7366473">10</span><span class="op" id="7366475">)</span><span class="op" id="7366476">,</span>&nbsp;<span class="ident" id="7366478">m</span><span class="op" id="7366479">.</span><span class="ident" id="7366480">Bounds</span><span class="op" id="7366486">(</span><span class="op" id="7366487">)</span><span class="op" id="7366488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366493">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366504">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366508">if</span>&nbsp;<span class="op" id="7366511">!</span><span class="ident" id="7366512">cmp</span><span class="op" id="7366515">(</span><span class="ident" id="7366516">t</span><span class="op" id="7366517">,</span>&nbsp;<span class="ident" id="7366519">m</span><span class="op" id="7366520">.</span><span class="ident" id="7366521">ColorModel</span><span class="op" id="7366531">(</span><span class="op" id="7366532">)</span><span class="op" id="7366533">,</span>&nbsp;<span class="ident" id="7366535">Transparent</span><span class="op" id="7366546">,</span>&nbsp;<span class="ident" id="7366548">m</span><span class="op" id="7366549">.</span><span class="ident" id="7366550">At</span><span class="op" id="7366552">(</span><span class="num" id="7366553">6</span><span class="op" id="7366554">,</span>&nbsp;<span class="num" id="7366556">3</span><span class="op" id="7366557">)</span><span class="op" id="7366558">)</span>&nbsp;<span class="op" id="7366560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366565">t</span><span class="op" id="7366566">.</span><span class="ident" id="7366567">Errorf</span><span class="op" id="7366573">(</span><span class="string" id="7366574">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7366616">,</span>&nbsp;<span class="ident" id="7366618">m</span><span class="op" id="7366619">,</span>&nbsp;<span class="ident" id="7366621">m</span><span class="op" id="7366622">.</span><span class="ident" id="7366623">At</span><span class="op" id="7366625">(</span><span class="num" id="7366626">6</span><span class="op" id="7366627">,</span>&nbsp;<span class="num" id="7366629">3</span><span class="op" id="7366630">)</span><span class="op" id="7366631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366636">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366647">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366651">m</span><span class="op" id="7366652">.</span><span class="ident" id="7366653">Set</span><span class="op" id="7366656">(</span><span class="num" id="7366657">6</span><span class="op" id="7366658">,</span>&nbsp;<span class="num" id="7366660">3</span><span class="op" id="7366661">,</span>&nbsp;<span class="ident" id="7366663">Opaque</span><span class="op" id="7366669">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366673">if</span>&nbsp;<span class="op" id="7366676">!</span><span class="ident" id="7366677">cmp</span><span class="op" id="7366680">(</span><span class="ident" id="7366681">t</span><span class="op" id="7366682">,</span>&nbsp;<span class="ident" id="7366684">m</span><span class="op" id="7366685">.</span><span class="ident" id="7366686">ColorModel</span><span class="op" id="7366696">(</span><span class="op" id="7366697">)</span><span class="op" id="7366698">,</span>&nbsp;<span class="ident" id="7366700">Opaque</span><span class="op" id="7366706">,</span>&nbsp;<span class="ident" id="7366708">m</span><span class="op" id="7366709">.</span><span class="ident" id="7366710">At</span><span class="op" id="7366712">(</span><span class="num" id="7366713">6</span><span class="op" id="7366714">,</span>&nbsp;<span class="num" id="7366716">3</span><span class="op" id="7366717">)</span><span class="op" id="7366718">)</span>&nbsp;<span class="op" id="7366720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366725">t</span><span class="op" id="7366726">.</span><span class="ident" id="7366727">Errorf</span><span class="op" id="7366733">(</span><span class="string" id="7366734">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7366780">,</span>&nbsp;<span class="ident" id="7366782">m</span><span class="op" id="7366783">,</span>&nbsp;<span class="ident" id="7366785">m</span><span class="op" id="7366786">.</span><span class="ident" id="7366787">At</span><span class="op" id="7366789">(</span><span class="num" id="7366790">6</span><span class="op" id="7366791">,</span>&nbsp;<span class="num" id="7366793">3</span><span class="op" id="7366794">)</span><span class="op" id="7366795">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366800">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366811">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366815">if</span>&nbsp;<span class="op" id="7366818">!</span><span class="ident" id="7366819">m</span><span class="op" id="7366820">.</span><span class="ident" id="7366821">SubImage</span><span class="op" id="7366829">(</span><span class="ident" id="7366830">Rect</span><span class="op" id="7366834">(</span><span class="num" id="7366835">6</span><span class="op" id="7366836">,</span>&nbsp;<span class="num" id="7366838">3</span><span class="op" id="7366839">,</span>&nbsp;<span class="num" id="7366841">7</span><span class="op" id="7366842">,</span>&nbsp;<span class="num" id="7366844">4</span><span class="op" id="7366845">)</span><span class="op" id="7366846">)</span><span class="op" id="7366847">.</span><span class="op" id="7366848">(</span><span class="ident" id="7366849">image</span><span class="op" id="7366854">)</span><span class="op" id="7366855">.</span><span class="ident" id="7366856">Opaque</span><span class="op" id="7366862">(</span><span class="op" id="7366863">)</span>&nbsp;<span class="op" id="7366865">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366870">t</span><span class="op" id="7366871">.</span><span class="ident" id="7366872">Errorf</span><span class="op" id="7366878">(</span><span class="string" id="7366879">&#34;%T:&nbsp;at&nbsp;(6,&nbsp;3)&nbsp;was&nbsp;not&nbsp;opaque&#34;</span><span class="op" id="7366909">,</span>&nbsp;<span class="ident" id="7366911">m</span><span class="op" id="7366912">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366917">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7366928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7366932">m</span>&nbsp;<span class="op" id="7366934">=</span>&nbsp;<span class="ident" id="7366936">m</span><span class="op" id="7366937">.</span><span class="ident" id="7366938">SubImage</span><span class="op" id="7366946">(</span><span class="ident" id="7366947">Rect</span><span class="op" id="7366951">(</span><span class="num" id="7366952">3</span><span class="op" id="7366953">,</span>&nbsp;<span class="num" id="7366955">2</span><span class="op" id="7366956">,</span>&nbsp;<span class="num" id="7366958">9</span><span class="op" id="7366959">,</span>&nbsp;<span class="num" id="7366961">8</span><span class="op" id="7366962">)</span><span class="op" id="7366963">)</span><span class="op" id="7366964">.</span><span class="op" id="7366965">(</span><span class="ident" id="7366966">image</span><span class="op" id="7366971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7366975">if</span>&nbsp;<span class="op" id="7366978">!</span><span class="ident" id="7366979">Rect</span><span class="op" id="7366983">(</span><span class="num" id="7366984">3</span><span class="op" id="7366985">,</span>&nbsp;<span class="num" id="7366987">2</span><span class="op" id="7366988">,</span>&nbsp;<span class="num" id="7366990">9</span><span class="op" id="7366991">,</span>&nbsp;<span class="num" id="7366993">8</span><span class="op" id="7366994">)</span><span class="op" id="7366995">.</span><span class="ident" id="7366996">Eq</span><span class="op" id="7366998">(</span><span class="ident" id="7366999">m</span><span class="op" id="7367000">.</span><span class="ident" id="7367001">Bounds</span><span class="op" id="7367007">(</span><span class="op" id="7367008">)</span><span class="op" id="7367009">)</span>&nbsp;<span class="op" id="7367011">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367016">t</span><span class="op" id="7367017">.</span><span class="ident" id="7367018">Errorf</span><span class="op" id="7367024">(</span><span class="string" id="7367025">&#34;%T:&nbsp;sub-image&nbsp;want&nbsp;bounds&nbsp;%v,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7367063">,</span>&nbsp;<span class="ident" id="7367065">m</span><span class="op" id="7367066">,</span>&nbsp;<span class="ident" id="7367068">Rect</span><span class="op" id="7367072">(</span><span class="num" id="7367073">3</span><span class="op" id="7367074">,</span>&nbsp;<span class="num" id="7367076">2</span><span class="op" id="7367077">,</span>&nbsp;<span class="num" id="7367079">9</span><span class="op" id="7367080">,</span>&nbsp;<span class="num" id="7367082">8</span><span class="op" id="7367083">)</span><span class="op" id="7367084">,</span>&nbsp;<span class="ident" id="7367086">m</span><span class="op" id="7367087">.</span><span class="ident" id="7367088">Bounds</span><span class="op" id="7367094">(</span><span class="op" id="7367095">)</span><span class="op" id="7367096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367101">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367112">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367116">if</span>&nbsp;<span class="op" id="7367119">!</span><span class="ident" id="7367120">cmp</span><span class="op" id="7367123">(</span><span class="ident" id="7367124">t</span><span class="op" id="7367125">,</span>&nbsp;<span class="ident" id="7367127">m</span><span class="op" id="7367128">.</span><span class="ident" id="7367129">ColorModel</span><span class="op" id="7367139">(</span><span class="op" id="7367140">)</span><span class="op" id="7367141">,</span>&nbsp;<span class="ident" id="7367143">Opaque</span><span class="op" id="7367149">,</span>&nbsp;<span class="ident" id="7367151">m</span><span class="op" id="7367152">.</span><span class="ident" id="7367153">At</span><span class="op" id="7367155">(</span><span class="num" id="7367156">6</span><span class="op" id="7367157">,</span>&nbsp;<span class="num" id="7367159">3</span><span class="op" id="7367160">)</span><span class="op" id="7367161">)</span>&nbsp;<span class="op" id="7367163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367168">t</span><span class="op" id="7367169">.</span><span class="ident" id="7367170">Errorf</span><span class="op" id="7367176">(</span><span class="string" id="7367177">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(6,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7367233">,</span>&nbsp;<span class="ident" id="7367235">m</span><span class="op" id="7367236">,</span>&nbsp;<span class="ident" id="7367238">m</span><span class="op" id="7367239">.</span><span class="ident" id="7367240">At</span><span class="op" id="7367242">(</span><span class="num" id="7367243">6</span><span class="op" id="7367244">,</span>&nbsp;<span class="num" id="7367246">3</span><span class="op" id="7367247">)</span><span class="op" id="7367248">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367253">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367264">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367268">if</span>&nbsp;<span class="op" id="7367271">!</span><span class="ident" id="7367272">cmp</span><span class="op" id="7367275">(</span><span class="ident" id="7367276">t</span><span class="op" id="7367277">,</span>&nbsp;<span class="ident" id="7367279">m</span><span class="op" id="7367280">.</span><span class="ident" id="7367281">ColorModel</span><span class="op" id="7367291">(</span><span class="op" id="7367292">)</span><span class="op" id="7367293">,</span>&nbsp;<span class="ident" id="7367295">Transparent</span><span class="op" id="7367306">,</span>&nbsp;<span class="ident" id="7367308">m</span><span class="op" id="7367309">.</span><span class="ident" id="7367310">At</span><span class="op" id="7367312">(</span><span class="num" id="7367313">3</span><span class="op" id="7367314">,</span>&nbsp;<span class="num" id="7367316">3</span><span class="op" id="7367317">)</span><span class="op" id="7367318">)</span>&nbsp;<span class="op" id="7367320">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367325">t</span><span class="op" id="7367326">.</span><span class="ident" id="7367327">Errorf</span><span class="op" id="7367333">(</span><span class="string" id="7367334">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7367386">,</span>&nbsp;<span class="ident" id="7367388">m</span><span class="op" id="7367389">,</span>&nbsp;<span class="ident" id="7367391">m</span><span class="op" id="7367392">.</span><span class="ident" id="7367393">At</span><span class="op" id="7367395">(</span><span class="num" id="7367396">3</span><span class="op" id="7367397">,</span>&nbsp;<span class="num" id="7367399">3</span><span class="op" id="7367400">)</span><span class="op" id="7367401">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367406">continue</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367417">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367421">m</span><span class="op" id="7367422">.</span><span class="ident" id="7367423">Set</span><span class="op" id="7367426">(</span><span class="num" id="7367427">3</span><span class="op" id="7367428">,</span>&nbsp;<span class="num" id="7367430">3</span><span class="op" id="7367431">,</span>&nbsp;<span class="ident" id="7367433">Opaque</span><span class="op" id="7367439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367443">if</span>&nbsp;<span class="op" id="7367446">!</span><span class="ident" id="7367447">cmp</span><span class="op" id="7367450">(</span><span class="ident" id="7367451">t</span><span class="op" id="7367452">,</span>&nbsp;<span class="ident" id="7367454">m</span><span class="op" id="7367455">.</span><span class="ident" id="7367456">ColorModel</span><span class="op" id="7367466">(</span><span class="op" id="7367467">)</span><span class="op" id="7367468">,</span>&nbsp;<span class="ident" id="7367470">Opaque</span><span class="op" id="7367476">,</span>&nbsp;<span class="ident" id="7367478">m</span><span class="op" id="7367479">.</span><span class="ident" id="7367480">At</span><span class="op" id="7367482">(</span><span class="num" id="7367483">3</span><span class="op" id="7367484">,</span>&nbsp;<span class="num" id="7367486">3</span><span class="op" id="7367487">)</span><span class="op" id="7367488">)</span>&nbsp;<span class="op" id="7367490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367495">t</span><span class="op" id="7367496">.</span><span class="ident" id="7367497">Errorf</span><span class="op" id="7367503">(</span><span class="string" id="7367504">&#34;%T:&nbsp;sub-image&nbsp;at&nbsp;(3,&nbsp;3),&nbsp;want&nbsp;a&nbsp;non-zero&nbsp;color,&nbsp;got&nbsp;%v&#34;</span><span class="op" id="7367560">,</span>&nbsp;<span class="ident" id="7367562">m</span><span class="op" id="7367563">,</span>&nbsp;<span class="ident" id="7367565">m</span><span class="op" id="7367566">.</span><span class="ident" id="7367567">At</span><span class="op" id="7367569">(</span><span class="num" id="7367570">3</span><span class="op" id="7367571">,</span>&nbsp;<span class="num" id="7367573">3</span><span class="op" id="7367574">)</span><span class="op" id="7367575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367580">continue</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367591">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7367595">//&nbsp;Test&nbsp;that&nbsp;taking&nbsp;an&nbsp;empty&nbsp;sub-image&nbsp;starting&nbsp;at&nbsp;a&nbsp;corner&nbsp;does&nbsp;not&nbsp;panic.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367673">m</span><span class="op" id="7367674">.</span><span class="ident" id="7367675">SubImage</span><span class="op" id="7367683">(</span><span class="ident" id="7367684">Rect</span><span class="op" id="7367688">(</span><span class="num" id="7367689">0</span><span class="op" id="7367690">,</span>&nbsp;<span class="num" id="7367692">0</span><span class="op" id="7367693">,</span>&nbsp;<span class="num" id="7367695">0</span><span class="op" id="7367696">,</span>&nbsp;<span class="num" id="7367698">0</span><span class="op" id="7367699">)</span><span class="op" id="7367700">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367704">m</span><span class="op" id="7367705">.</span><span class="ident" id="7367706">SubImage</span><span class="op" id="7367714">(</span><span class="ident" id="7367715">Rect</span><span class="op" id="7367719">(</span><span class="num" id="7367720">10</span><span class="op" id="7367722">,</span>&nbsp;<span class="num" id="7367724">0</span><span class="op" id="7367725">,</span>&nbsp;<span class="num" id="7367727">10</span><span class="op" id="7367729">,</span>&nbsp;<span class="num" id="7367731">0</span><span class="op" id="7367732">)</span><span class="op" id="7367733">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367737">m</span><span class="op" id="7367738">.</span><span class="ident" id="7367739">SubImage</span><span class="op" id="7367747">(</span><span class="ident" id="7367748">Rect</span><span class="op" id="7367752">(</span><span class="num" id="7367753">0</span><span class="op" id="7367754">,</span>&nbsp;<span class="num" id="7367756">10</span><span class="op" id="7367758">,</span>&nbsp;<span class="num" id="7367760">0</span><span class="op" id="7367761">,</span>&nbsp;<span class="num" id="7367763">10</span><span class="op" id="7367765">)</span><span class="op" id="7367766">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367770">m</span><span class="op" id="7367771">.</span><span class="ident" id="7367772">SubImage</span><span class="op" id="7367780">(</span><span class="ident" id="7367781">Rect</span><span class="op" id="7367785">(</span><span class="num" id="7367786">10</span><span class="op" id="7367788">,</span>&nbsp;<span class="num" id="7367790">10</span><span class="op" id="7367792">,</span>&nbsp;<span class="num" id="7367794">10</span><span class="op" id="7367796">,</span>&nbsp;<span class="num" id="7367798">10</span><span class="op" id="7367800">)</span><span class="op" id="7367801">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367804">}</span><br>
<span class="lineno"></span><span class="op" id="7367806">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7367809">func</span>&nbsp;<span class="ident" id="7367814">Test16BitsPerColorChannel</span><span class="op" id="7367839">(</span><span class="ident" id="7367840">t</span>&nbsp;<span class="op" id="7367842">*</span><span class="ident" id="7367843">testing</span><span class="op" id="7367850">.</span><span class="ident" id="7367851">T</span><span class="op" id="7367852">)</span>&nbsp;<span class="op" id="7367854">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367857">testColorModel</span>&nbsp;<span class="op" id="7367872">:=</span>&nbsp;<span class="op" id="7367875">[</span><span class="op" id="7367876">]</span><span class="ident" id="7367877">color</span><span class="op" id="7367882">.</span><span class="ident" id="7367883">Model</span><span class="op" id="7367888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367892">color</span><span class="op" id="7367897">.</span><span class="ident" id="7367898">RGBA64Model</span><span class="op" id="7367909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367913">color</span><span class="op" id="7367918">.</span><span class="ident" id="7367919">NRGBA64Model</span><span class="op" id="7367931">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367935">color</span><span class="op" id="7367940">.</span><span class="ident" id="7367941">Alpha16Model</span><span class="op" id="7367953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7367957">color</span><span class="op" id="7367962">.</span><span class="ident" id="7367963">Gray16Model</span><span class="op" id="7367974">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7367977">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7367980">for</span>&nbsp;<span class="ident" id="7367984">_</span><span class="op" id="7367985">,</span>&nbsp;<span class="ident" id="7367987">cm</span>&nbsp;<span class="op" id="7367990">:=</span>&nbsp;<span class="keyword" id="7367993">range</span>&nbsp;<span class="ident" id="7367999">testColorModel</span>&nbsp;<span class="op" id="7368014">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368018">c</span>&nbsp;<span class="op" id="7368020">:=</span>&nbsp;<span class="ident" id="7368023">cm</span><span class="op" id="7368025">.</span><span class="ident" id="7368026">Convert</span><span class="op" id="7368033">(</span><span class="ident" id="7368034">color</span><span class="op" id="7368039">.</span><span class="ident" id="7368040">RGBA64</span><span class="op" id="7368046">{</span><span class="num" id="7368047">0x1234</span><span class="op" id="7368053">,</span>&nbsp;<span class="num" id="7368055">0x1234</span><span class="op" id="7368061">,</span>&nbsp;<span class="num" id="7368063">0x1234</span><span class="op" id="7368069">,</span>&nbsp;<span class="num" id="7368071">0x1234</span><span class="op" id="7368077">}</span><span class="op" id="7368078">)</span>&nbsp;<span class="comment" id="7368080">//&nbsp;Premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368106">r</span><span class="op" id="7368107">,</span>&nbsp;<span class="ident" id="7368109">_</span><span class="op" id="7368110">,</span>&nbsp;<span class="ident" id="7368112">_</span><span class="op" id="7368113">,</span>&nbsp;<span class="ident" id="7368115">_</span>&nbsp;<span class="op" id="7368117">:=</span>&nbsp;<span class="ident" id="7368120">c</span><span class="op" id="7368121">.</span><span class="ident" id="7368122">RGBA</span><span class="op" id="7368126">(</span><span class="op" id="7368127">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7368131">if</span>&nbsp;<span class="ident" id="7368134">r</span>&nbsp;<span class="op" id="7368136">!=</span>&nbsp;<span class="num" id="7368139">0x1234</span>&nbsp;<span class="op" id="7368146">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368151">t</span><span class="op" id="7368152">.</span><span class="ident" id="7368153">Errorf</span><span class="op" id="7368159">(</span><span class="string" id="7368160">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7368198">,</span>&nbsp;<span class="ident" id="7368200">c</span><span class="op" id="7368201">,</span>&nbsp;<span class="num" id="7368203">0x1234</span><span class="op" id="7368209">,</span>&nbsp;<span class="ident" id="7368211">r</span><span class="op" id="7368212">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7368217">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368228">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368231">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368234">testImage</span>&nbsp;<span class="op" id="7368244">:=</span>&nbsp;<span class="op" id="7368247">[</span><span class="op" id="7368248">]</span><span class="ident" id="7368249">image</span><span class="op" id="7368254">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368258">NewRGBA64</span><span class="op" id="7368267">(</span><span class="ident" id="7368268">Rect</span><span class="op" id="7368272">(</span><span class="num" id="7368273">0</span><span class="op" id="7368274">,</span>&nbsp;<span class="num" id="7368276">0</span><span class="op" id="7368277">,</span>&nbsp;<span class="num" id="7368279">10</span><span class="op" id="7368281">,</span>&nbsp;<span class="num" id="7368283">10</span><span class="op" id="7368285">)</span><span class="op" id="7368286">)</span><span class="op" id="7368287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368291">NewNRGBA64</span><span class="op" id="7368301">(</span><span class="ident" id="7368302">Rect</span><span class="op" id="7368306">(</span><span class="num" id="7368307">0</span><span class="op" id="7368308">,</span>&nbsp;<span class="num" id="7368310">0</span><span class="op" id="7368311">,</span>&nbsp;<span class="num" id="7368313">10</span><span class="op" id="7368315">,</span>&nbsp;<span class="num" id="7368317">10</span><span class="op" id="7368319">)</span><span class="op" id="7368320">)</span><span class="op" id="7368321">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368325">NewAlpha16</span><span class="op" id="7368335">(</span><span class="ident" id="7368336">Rect</span><span class="op" id="7368340">(</span><span class="num" id="7368341">0</span><span class="op" id="7368342">,</span>&nbsp;<span class="num" id="7368344">0</span><span class="op" id="7368345">,</span>&nbsp;<span class="num" id="7368347">10</span><span class="op" id="7368349">,</span>&nbsp;<span class="num" id="7368351">10</span><span class="op" id="7368353">)</span><span class="op" id="7368354">)</span><span class="op" id="7368355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368359">NewGray16</span><span class="op" id="7368368">(</span><span class="ident" id="7368369">Rect</span><span class="op" id="7368373">(</span><span class="num" id="7368374">0</span><span class="op" id="7368375">,</span>&nbsp;<span class="num" id="7368377">0</span><span class="op" id="7368378">,</span>&nbsp;<span class="num" id="7368380">10</span><span class="op" id="7368382">,</span>&nbsp;<span class="num" id="7368384">10</span><span class="op" id="7368386">)</span><span class="op" id="7368387">)</span><span class="op" id="7368388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368391">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7368394">for</span>&nbsp;<span class="ident" id="7368398">_</span><span class="op" id="7368399">,</span>&nbsp;<span class="ident" id="7368401">m</span>&nbsp;<span class="op" id="7368403">:=</span>&nbsp;<span class="keyword" id="7368406">range</span>&nbsp;<span class="ident" id="7368412">testImage</span>&nbsp;<span class="op" id="7368422">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368426">m</span><span class="op" id="7368427">.</span><span class="ident" id="7368428">Set</span><span class="op" id="7368431">(</span><span class="num" id="7368432">1</span><span class="op" id="7368433">,</span>&nbsp;<span class="num" id="7368435">2</span><span class="op" id="7368436">,</span>&nbsp;<span class="ident" id="7368438">color</span><span class="op" id="7368443">.</span><span class="ident" id="7368444">NRGBA64</span><span class="op" id="7368451">{</span><span class="num" id="7368452">0xffff</span><span class="op" id="7368458">,</span>&nbsp;<span class="num" id="7368460">0xffff</span><span class="op" id="7368466">,</span>&nbsp;<span class="num" id="7368468">0xffff</span><span class="op" id="7368474">,</span>&nbsp;<span class="num" id="7368476">0x1357</span><span class="op" id="7368482">}</span><span class="op" id="7368483">)</span>&nbsp;<span class="comment" id="7368485">//&nbsp;Non-premultiplied&nbsp;alpha.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368515">r</span><span class="op" id="7368516">,</span>&nbsp;<span class="ident" id="7368518">_</span><span class="op" id="7368519">,</span>&nbsp;<span class="ident" id="7368521">_</span><span class="op" id="7368522">,</span>&nbsp;<span class="ident" id="7368524">_</span>&nbsp;<span class="op" id="7368526">:=</span>&nbsp;<span class="ident" id="7368529">m</span><span class="op" id="7368530">.</span><span class="ident" id="7368531">At</span><span class="op" id="7368533">(</span><span class="num" id="7368534">1</span><span class="op" id="7368535">,</span>&nbsp;<span class="num" id="7368537">2</span><span class="op" id="7368538">)</span><span class="op" id="7368539">.</span><span class="ident" id="7368540">RGBA</span><span class="op" id="7368544">(</span><span class="op" id="7368545">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7368549">if</span>&nbsp;<span class="ident" id="7368552">r</span>&nbsp;<span class="op" id="7368554">!=</span>&nbsp;<span class="num" id="7368557">0x1357</span>&nbsp;<span class="op" id="7368564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7368569">t</span><span class="op" id="7368570">.</span><span class="ident" id="7368571">Errorf</span><span class="op" id="7368577">(</span><span class="string" id="7368578">&#34;%T:&nbsp;want&nbsp;red&nbsp;value&nbsp;0x%04x&nbsp;got&nbsp;0x%04x&#34;</span><span class="op" id="7368616">,</span>&nbsp;<span class="ident" id="7368618">m</span><span class="op" id="7368619">,</span>&nbsp;<span class="num" id="7368621">0x1357</span><span class="op" id="7368627">,</span>&nbsp;<span class="ident" id="7368629">r</span><span class="op" id="7368630">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7368635">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7368649">}</span><br>
<span class="lineno"></span><span class="op" id="7368651">}</span>
</div>
</body>
</html>
