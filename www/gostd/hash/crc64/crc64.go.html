<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>hash/crc64</h2>
<ul>
<li><a href="/gostd/hash/crc64/crc64.go.html" class="current">crc64.go</a></li>
<li><a href="/gostd/hash/crc64/crc64_test.go.html">crc64_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5841743">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5841798">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5841852">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5841903">//&nbsp;Package&nbsp;crc64&nbsp;implements&nbsp;the&nbsp;64-bit&nbsp;cyclic&nbsp;redundancy&nbsp;check,&nbsp;or&nbsp;CRC-64,</span><br>
<span class="lineno"></span><span class="comment" id="5841978">//&nbsp;checksum.&nbsp;See&nbsp;http://en.wikipedia.org/wiki/Cyclic_redundancy_check&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="5842052">//&nbsp;information.</span><br>
<span class="lineno"></span><span class="keyword" id="5842068">package</span>&nbsp;<span class="ident" id="5842076">crc64</span><br>
<span class="lineno"></span><br>
<span class="lineno">10</span><span class="keyword" id="5842083">import</span>&nbsp;<span class="string" id="5842090">&#34;hash&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5842098">//&nbsp;The&nbsp;size&nbsp;of&nbsp;a&nbsp;CRC-64&nbsp;checksum&nbsp;in&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="keyword" id="5842141">const</span>&nbsp;<span class="ident" id="5842147">Size</span>&nbsp;<span class="op" id="5842152">=</span>&nbsp;<span class="num" id="5842154">8</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="comment" id="5842157">//&nbsp;Predefined&nbsp;polynomials.</span><br>
<span class="lineno"></span><span class="keyword" id="5842184">const</span>&nbsp;<span class="op" id="5842190">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5842193">//&nbsp;The&nbsp;ISO&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ISO&nbsp;3309&nbsp;and&nbsp;used&nbsp;in&nbsp;HDLC.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842255">ISO</span>&nbsp;<span class="op" id="5842259">=</span>&nbsp;<span class="num" id="5842261">0xD800000000000000</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5842282">//&nbsp;The&nbsp;ECMA&nbsp;polynomial,&nbsp;defined&nbsp;in&nbsp;ECMA&nbsp;182.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842328">ECMA</span>&nbsp;<span class="op" id="5842333">=</span>&nbsp;<span class="num" id="5842335">0xC96C5795D7870F42</span><br>
<span class="lineno"></span><span class="op" id="5842354">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5842357">//&nbsp;Table&nbsp;is&nbsp;a&nbsp;256-word&nbsp;table&nbsp;representing&nbsp;the&nbsp;polynomial&nbsp;for&nbsp;efficient&nbsp;processing.</span><br>
<span class="lineno">25</span><span class="keyword" id="5842440">type</span>&nbsp;<span class="ident" id="5842445">Table</span>&nbsp;<span class="op" id="5842451">[</span><span class="num" id="5842452">256</span><span class="op" id="5842455">]</span><span class="ident" id="5842456">uint64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5842464">//&nbsp;MakeTable&nbsp;returns&nbsp;the&nbsp;Table&nbsp;constructed&nbsp;from&nbsp;the&nbsp;specified&nbsp;polynomial.</span><br>
<span class="lineno"></span><span class="keyword" id="5842538">func</span>&nbsp;<span class="ident" id="5842543">MakeTable</span><span class="op" id="5842552">(</span><span class="ident" id="5842553">poly</span>&nbsp;<span class="ident" id="5842558">uint64</span><span class="op" id="5842564">)</span>&nbsp;<span class="op" id="5842566">*</span><span class="ident" id="5842567">Table</span>&nbsp;<span class="op" id="5842573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842576">t</span>&nbsp;<span class="op" id="5842578">:=</span>&nbsp;<span class="builtinfunc" id="5842581">new</span><span class="op" id="5842584">(</span><span class="ident" id="5842585">Table</span><span class="op" id="5842590">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5842593">for</span>&nbsp;<span class="ident" id="5842597">i</span>&nbsp;<span class="op" id="5842599">:=</span>&nbsp;<span class="num" id="5842602">0</span><span class="op" id="5842603">;</span>&nbsp;<span class="ident" id="5842605">i</span>&nbsp;<span class="op" id="5842607">&lt;</span>&nbsp;<span class="num" id="5842609">256</span><span class="op" id="5842612">;</span>&nbsp;<span class="ident" id="5842614">i</span><span class="op" id="5842615">++</span>&nbsp;<span class="op" id="5842618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842622">crc</span>&nbsp;<span class="op" id="5842626">:=</span>&nbsp;<span class="ident" id="5842629">uint64</span><span class="op" id="5842635">(</span><span class="ident" id="5842636">i</span><span class="op" id="5842637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5842641">for</span>&nbsp;<span class="ident" id="5842645">j</span>&nbsp;<span class="op" id="5842647">:=</span>&nbsp;<span class="num" id="5842650">0</span><span class="op" id="5842651">;</span>&nbsp;<span class="ident" id="5842653">j</span>&nbsp;<span class="op" id="5842655">&lt;</span>&nbsp;<span class="num" id="5842657">8</span><span class="op" id="5842658">;</span>&nbsp;<span class="ident" id="5842660">j</span><span class="op" id="5842661">++</span>&nbsp;<span class="op" id="5842664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5842669">if</span>&nbsp;<span class="ident" id="5842672">crc</span><span class="op" id="5842675">&amp;</span><span class="num" id="5842676">1</span>&nbsp;<span class="op" id="5842678">==</span>&nbsp;<span class="num" id="5842681">1</span>&nbsp;<span class="op" id="5842683">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842689">crc</span>&nbsp;<span class="op" id="5842693">=</span>&nbsp;<span class="op" id="5842695">(</span><span class="ident" id="5842696">crc</span>&nbsp;<span class="op" id="5842700">&gt;&gt;</span>&nbsp;<span class="num" id="5842703">1</span><span class="op" id="5842704">)</span>&nbsp;<span class="op" id="5842706">^</span>&nbsp;<span class="ident" id="5842708">poly</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5842716">}</span>&nbsp;<span class="keyword" id="5842718">else</span>&nbsp;<span class="op" id="5842723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842729">crc</span>&nbsp;<span class="op" id="5842733">&gt;&gt;=</span>&nbsp;<span class="num" id="5842737">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5842742">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5842746">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842750">t</span><span class="op" id="5842751">[</span><span class="ident" id="5842752">i</span><span class="op" id="5842753">]</span>&nbsp;<span class="op" id="5842755">=</span>&nbsp;<span class="ident" id="5842757">crc</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5842762">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5842765">return</span>&nbsp;<span class="ident" id="5842772">t</span><br>
<span class="lineno"></span><span class="op" id="5842774">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5842777">//&nbsp;digest&nbsp;represents&nbsp;the&nbsp;partial&nbsp;evaluation&nbsp;of&nbsp;a&nbsp;checksum.</span><br>
<span class="lineno">45</span><span class="keyword" id="5842836">type</span>&nbsp;<span class="ident" id="5842841">digest</span>&nbsp;<span class="keyword" id="5842848">struct</span>&nbsp;<span class="op" id="5842855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842858">crc</span>&nbsp;<span class="ident" id="5842862">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5842870">tab</span>&nbsp;<span class="op" id="5842874">*</span><span class="ident" id="5842875">Table</span><br>
<span class="lineno"></span><span class="op" id="5842881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="comment" id="5842884">//&nbsp;New&nbsp;creates&nbsp;a&nbsp;new&nbsp;hash.Hash64&nbsp;computing&nbsp;the&nbsp;CRC-64&nbsp;checksum</span><br>
<span class="lineno"></span><span class="comment" id="5842947">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5842997">func</span>&nbsp;<span class="ident" id="5843002">New</span><span class="op" id="5843005">(</span><span class="ident" id="5843006">tab</span>&nbsp;<span class="op" id="5843010">*</span><span class="ident" id="5843011">Table</span><span class="op" id="5843016">)</span>&nbsp;<span class="ident" id="5843018">hash</span><span class="op" id="5843022">.</span><span class="ident" id="5843023">Hash64</span>&nbsp;<span class="op" id="5843030">{</span>&nbsp;<span class="keyword" id="5843032">return</span>&nbsp;<span class="op" id="5843039">&amp;</span><span class="ident" id="5843040">digest</span><span class="op" id="5843046">{</span><span class="num" id="5843047">0</span><span class="op" id="5843048">,</span>&nbsp;<span class="ident" id="5843050">tab</span><span class="op" id="5843053">}</span>&nbsp;<span class="op" id="5843055">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5843058">func</span>&nbsp;<span class="op" id="5843063">(</span><span class="ident" id="5843064">d</span>&nbsp;<span class="op" id="5843066">*</span><span class="ident" id="5843067">digest</span><span class="op" id="5843073">)</span>&nbsp;<span class="ident" id="5843075">Size</span><span class="op" id="5843079">(</span><span class="op" id="5843080">)</span>&nbsp;<span class="builtintype" id="5843082">int</span>&nbsp;<span class="op" id="5843086">{</span>&nbsp;<span class="keyword" id="5843088">return</span>&nbsp;<span class="ident" id="5843095">Size</span>&nbsp;<span class="op" id="5843100">}</span><br>
<span class="lineno">55</span><br>
<span class="lineno"></span><span class="keyword" id="5843103">func</span>&nbsp;<span class="op" id="5843108">(</span><span class="ident" id="5843109">d</span>&nbsp;<span class="op" id="5843111">*</span><span class="ident" id="5843112">digest</span><span class="op" id="5843118">)</span>&nbsp;<span class="ident" id="5843120">BlockSize</span><span class="op" id="5843129">(</span><span class="op" id="5843130">)</span>&nbsp;<span class="builtintype" id="5843132">int</span>&nbsp;<span class="op" id="5843136">{</span>&nbsp;<span class="keyword" id="5843138">return</span>&nbsp;<span class="num" id="5843145">1</span>&nbsp;<span class="op" id="5843147">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5843150">func</span>&nbsp;<span class="op" id="5843155">(</span><span class="ident" id="5843156">d</span>&nbsp;<span class="op" id="5843158">*</span><span class="ident" id="5843159">digest</span><span class="op" id="5843165">)</span>&nbsp;<span class="ident" id="5843167">Reset</span><span class="op" id="5843172">(</span><span class="op" id="5843173">)</span>&nbsp;<span class="op" id="5843175">{</span>&nbsp;<span class="ident" id="5843177">d</span><span class="op" id="5843178">.</span><span class="ident" id="5843179">crc</span>&nbsp;<span class="op" id="5843183">=</span>&nbsp;<span class="num" id="5843185">0</span>&nbsp;<span class="op" id="5843187">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="5843190">func</span>&nbsp;<span class="ident" id="5843195">update</span><span class="op" id="5843201">(</span><span class="ident" id="5843202">crc</span>&nbsp;<span class="ident" id="5843206">uint64</span><span class="op" id="5843212">,</span>&nbsp;<span class="ident" id="5843214">tab</span>&nbsp;<span class="op" id="5843218">*</span><span class="ident" id="5843219">Table</span><span class="op" id="5843224">,</span>&nbsp;<span class="ident" id="5843226">p</span>&nbsp;<span class="op" id="5843228">[</span><span class="op" id="5843229">]</span><span class="builtintype" id="5843230">byte</span><span class="op" id="5843234">)</span>&nbsp;<span class="ident" id="5843236">uint64</span>&nbsp;<span class="op" id="5843243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843246">crc</span>&nbsp;<span class="op" id="5843250">=</span>&nbsp;<span class="op" id="5843252">^</span><span class="ident" id="5843253">crc</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843258">for</span>&nbsp;<span class="ident" id="5843262">_</span><span class="op" id="5843263">,</span>&nbsp;<span class="ident" id="5843265">v</span>&nbsp;<span class="op" id="5843267">:=</span>&nbsp;<span class="keyword" id="5843270">range</span>&nbsp;<span class="ident" id="5843276">p</span>&nbsp;<span class="op" id="5843278">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843282">crc</span>&nbsp;<span class="op" id="5843286">=</span>&nbsp;<span class="ident" id="5843288">tab</span><span class="op" id="5843291">[</span><span class="builtintype" id="5843292">byte</span><span class="op" id="5843296">(</span><span class="ident" id="5843297">crc</span><span class="op" id="5843300">)</span><span class="op" id="5843301">^</span><span class="ident" id="5843302">v</span><span class="op" id="5843303">]</span>&nbsp;<span class="op" id="5843305">^</span>&nbsp;<span class="op" id="5843307">(</span><span class="ident" id="5843308">crc</span>&nbsp;<span class="op" id="5843312">&gt;&gt;</span>&nbsp;<span class="num" id="5843315">8</span><span class="op" id="5843316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5843319">}</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843322">return</span>&nbsp;<span class="op" id="5843329">^</span><span class="ident" id="5843330">crc</span><br>
<span class="lineno"></span><span class="op" id="5843334">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5843337">//&nbsp;Update&nbsp;returns&nbsp;the&nbsp;result&nbsp;of&nbsp;adding&nbsp;the&nbsp;bytes&nbsp;in&nbsp;p&nbsp;to&nbsp;the&nbsp;crc.</span><br>
<span class="lineno"></span><span class="keyword" id="5843403">func</span>&nbsp;<span class="ident" id="5843408">Update</span><span class="op" id="5843414">(</span><span class="ident" id="5843415">crc</span>&nbsp;<span class="ident" id="5843419">uint64</span><span class="op" id="5843425">,</span>&nbsp;<span class="ident" id="5843427">tab</span>&nbsp;<span class="op" id="5843431">*</span><span class="ident" id="5843432">Table</span><span class="op" id="5843437">,</span>&nbsp;<span class="ident" id="5843439">p</span>&nbsp;<span class="op" id="5843441">[</span><span class="op" id="5843442">]</span><span class="builtintype" id="5843443">byte</span><span class="op" id="5843447">)</span>&nbsp;<span class="ident" id="5843449">uint64</span>&nbsp;<span class="op" id="5843456">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843459">return</span>&nbsp;<span class="ident" id="5843466">update</span><span class="op" id="5843472">(</span><span class="ident" id="5843473">crc</span><span class="op" id="5843476">,</span>&nbsp;<span class="ident" id="5843478">tab</span><span class="op" id="5843481">,</span>&nbsp;<span class="ident" id="5843483">p</span><span class="op" id="5843484">)</span><br>
<span class="lineno"></span><span class="op" id="5843486">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5843489">func</span>&nbsp;<span class="op" id="5843494">(</span><span class="ident" id="5843495">d</span>&nbsp;<span class="op" id="5843497">*</span><span class="ident" id="5843498">digest</span><span class="op" id="5843504">)</span>&nbsp;<span class="ident" id="5843506">Write</span><span class="op" id="5843511">(</span><span class="ident" id="5843512">p</span>&nbsp;<span class="op" id="5843514">[</span><span class="op" id="5843515">]</span><span class="builtintype" id="5843516">byte</span><span class="op" id="5843520">)</span>&nbsp;<span class="op" id="5843522">(</span><span class="ident" id="5843523">n</span>&nbsp;<span class="builtintype" id="5843525">int</span><span class="op" id="5843528">,</span>&nbsp;<span class="ident" id="5843530">err</span>&nbsp;<span class="builtintype" id="5843534">error</span><span class="op" id="5843539">)</span>&nbsp;<span class="op" id="5843541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843544">d</span><span class="op" id="5843545">.</span><span class="ident" id="5843546">crc</span>&nbsp;<span class="op" id="5843550">=</span>&nbsp;<span class="ident" id="5843552">update</span><span class="op" id="5843558">(</span><span class="ident" id="5843559">d</span><span class="op" id="5843560">.</span><span class="ident" id="5843561">crc</span><span class="op" id="5843564">,</span>&nbsp;<span class="ident" id="5843566">d</span><span class="op" id="5843567">.</span><span class="ident" id="5843568">tab</span><span class="op" id="5843571">,</span>&nbsp;<span class="ident" id="5843573">p</span><span class="op" id="5843574">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843577">return</span>&nbsp;<span class="builtinfunc" id="5843584">len</span><span class="op" id="5843587">(</span><span class="ident" id="5843588">p</span><span class="op" id="5843589">)</span><span class="op" id="5843590">,</span>&nbsp;<span class="ident" id="5843592">nil</span><br>
<span class="lineno"></span><span class="op" id="5843596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5843599">func</span>&nbsp;<span class="op" id="5843604">(</span><span class="ident" id="5843605">d</span>&nbsp;<span class="op" id="5843607">*</span><span class="ident" id="5843608">digest</span><span class="op" id="5843614">)</span>&nbsp;<span class="ident" id="5843616">Sum64</span><span class="op" id="5843621">(</span><span class="op" id="5843622">)</span>&nbsp;<span class="ident" id="5843624">uint64</span>&nbsp;<span class="op" id="5843631">{</span>&nbsp;<span class="keyword" id="5843633">return</span>&nbsp;<span class="ident" id="5843640">d</span><span class="op" id="5843641">.</span><span class="ident" id="5843642">crc</span>&nbsp;<span class="op" id="5843646">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="5843649">func</span>&nbsp;<span class="op" id="5843654">(</span><span class="ident" id="5843655">d</span>&nbsp;<span class="op" id="5843657">*</span><span class="ident" id="5843658">digest</span><span class="op" id="5843664">)</span>&nbsp;<span class="ident" id="5843666">Sum</span><span class="op" id="5843669">(</span><span class="ident" id="5843670">in</span>&nbsp;<span class="op" id="5843673">[</span><span class="op" id="5843674">]</span><span class="builtintype" id="5843675">byte</span><span class="op" id="5843679">)</span>&nbsp;<span class="op" id="5843681">[</span><span class="op" id="5843682">]</span><span class="builtintype" id="5843683">byte</span>&nbsp;<span class="op" id="5843688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5843691">s</span>&nbsp;<span class="op" id="5843693">:=</span>&nbsp;<span class="ident" id="5843696">d</span><span class="op" id="5843697">.</span><span class="ident" id="5843698">Sum64</span><span class="op" id="5843703">(</span><span class="op" id="5843704">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5843707">return</span>&nbsp;<span class="builtinfunc" id="5843714">append</span><span class="op" id="5843720">(</span><span class="ident" id="5843721">in</span><span class="op" id="5843723">,</span>&nbsp;<span class="builtintype" id="5843725">byte</span><span class="op" id="5843729">(</span><span class="ident" id="5843730">s</span><span class="op" id="5843731">&gt;&gt;</span><span class="num" id="5843733">56</span><span class="op" id="5843735">)</span><span class="op" id="5843736">,</span>&nbsp;<span class="builtintype" id="5843738">byte</span><span class="op" id="5843742">(</span><span class="ident" id="5843743">s</span><span class="op" id="5843744">&gt;&gt;</span><span class="num" id="5843746">48</span><span class="op" id="5843748">)</span><span class="op" id="5843749">,</span>&nbsp;<span class="builtintype" id="5843751">byte</span><span class="op" id="5843755">(</span><span class="ident" id="5843756">s</span><span class="op" id="5843757">&gt;&gt;</span><span class="num" id="5843759">40</span><span class="op" id="5843761">)</span><span class="op" id="5843762">,</span>&nbsp;<span class="builtintype" id="5843764">byte</span><span class="op" id="5843768">(</span><span class="ident" id="5843769">s</span><span class="op" id="5843770">&gt;&gt;</span><span class="num" id="5843772">32</span><span class="op" id="5843774">)</span><span class="op" id="5843775">,</span>&nbsp;<span class="builtintype" id="5843777">byte</span><span class="op" id="5843781">(</span><span class="ident" id="5843782">s</span><span class="op" id="5843783">&gt;&gt;</span><span class="num" id="5843785">24</span><span class="op" id="5843787">)</span><span class="op" id="5843788">,</span>&nbsp;<span class="builtintype" id="5843790">byte</span><span class="op" id="5843794">(</span><span class="ident" id="5843795">s</span><span class="op" id="5843796">&gt;&gt;</span><span class="num" id="5843798">16</span><span class="op" id="5843800">)</span><span class="op" id="5843801">,</span>&nbsp;<span class="builtintype" id="5843803">byte</span><span class="op" id="5843807">(</span><span class="ident" id="5843808">s</span><span class="op" id="5843809">&gt;&gt;</span><span class="num" id="5843811">8</span><span class="op" id="5843812">)</span><span class="op" id="5843813">,</span>&nbsp;<span class="builtintype" id="5843815">byte</span><span class="op" id="5843819">(</span><span class="ident" id="5843820">s</span><span class="op" id="5843821">)</span><span class="op" id="5843822">)</span><br>
<span class="lineno"></span><span class="op" id="5843824">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="5843827">//&nbsp;Checksum&nbsp;returns&nbsp;the&nbsp;CRC-64&nbsp;checksum&nbsp;of&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="5843875">//&nbsp;using&nbsp;the&nbsp;polynomial&nbsp;represented&nbsp;by&nbsp;the&nbsp;Table.</span><br>
<span class="lineno"></span><span class="keyword" id="5843925">func</span>&nbsp;<span class="ident" id="5843930">Checksum</span><span class="op" id="5843938">(</span><span class="ident" id="5843939">data</span>&nbsp;<span class="op" id="5843944">[</span><span class="op" id="5843945">]</span><span class="builtintype" id="5843946">byte</span><span class="op" id="5843950">,</span>&nbsp;<span class="ident" id="5843952">tab</span>&nbsp;<span class="op" id="5843956">*</span><span class="ident" id="5843957">Table</span><span class="op" id="5843962">)</span>&nbsp;<span class="ident" id="5843964">uint64</span>&nbsp;<span class="op" id="5843971">{</span>&nbsp;<span class="keyword" id="5843973">return</span>&nbsp;<span class="ident" id="5843980">update</span><span class="op" id="5843986">(</span><span class="num" id="5843987">0</span><span class="op" id="5843988">,</span>&nbsp;<span class="ident" id="5843990">tab</span><span class="op" id="5843993">,</span>&nbsp;<span class="ident" id="5843995">data</span><span class="op" id="5843999">)</span>&nbsp;<span class="op" id="5844001">}</span>
</div>
</body>
</html>
