<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3515630">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3515685">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3515739">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3515790">package</span>&nbsp;<span class="ident" id="3515798">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3515809">import</span>&nbsp;<span class="op" id="3515816">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3515819">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3515828">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3515838">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3515844">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3515857">&#34;net/textproto&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3515874">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3515879">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="3515882">//&nbsp;TODO(adg,bradfitz):&nbsp;find&nbsp;a&nbsp;way&nbsp;to&nbsp;unify&nbsp;the&nbsp;DoS-prevention&nbsp;strategy&nbsp;here</span><br>
<span class="lineno"></span><span class="comment" id="3515958">//&nbsp;with&nbsp;that&nbsp;of&nbsp;the&nbsp;http&nbsp;package&#39;s&nbsp;ParseForm.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3516005">//&nbsp;ReadForm&nbsp;parses&nbsp;an&nbsp;entire&nbsp;multipart&nbsp;message&nbsp;whose&nbsp;parts&nbsp;have</span><br>
<span class="lineno">20</span><span class="comment" id="3516069">//&nbsp;a&nbsp;Content-Disposition&nbsp;of&nbsp;&#34;form-data&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="3516110">//&nbsp;It&nbsp;stores&nbsp;up&nbsp;to&nbsp;maxMemory&nbsp;bytes&nbsp;of&nbsp;the&nbsp;file&nbsp;parts&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span><span class="comment" id="3516173">//&nbsp;and&nbsp;the&nbsp;remainder&nbsp;on&nbsp;disk&nbsp;in&nbsp;temporary&nbsp;files.</span><br>
<span class="lineno"></span><span class="keyword" id="3516222">func</span>&nbsp;<span class="op" id="3516227">(</span><span class="ident" id="3516228">r</span>&nbsp;<span class="op" id="3516230">*</span><span class="ident" id="3516231">Reader</span><span class="op" id="3516237">)</span>&nbsp;<span class="ident" id="3516239">ReadForm</span><span class="op" id="3516247">(</span><span class="ident" id="3516248">maxMemory</span>&nbsp;<span class="ident" id="3516258">int64</span><span class="op" id="3516263">)</span>&nbsp;<span class="op" id="3516265">(</span><span class="ident" id="3516266">f</span>&nbsp;<span class="op" id="3516268">*</span><span class="ident" id="3516269">Form</span><span class="op" id="3516273">,</span>&nbsp;<span class="ident" id="3516275">err</span>&nbsp;<span class="builtintype" id="3516279">error</span><span class="op" id="3516284">)</span>&nbsp;<span class="op" id="3516286">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516289">form</span>&nbsp;<span class="op" id="3516294">:=</span>&nbsp;<span class="op" id="3516297">&amp;</span><span class="ident" id="3516298">Form</span><span class="op" id="3516302">{</span><span class="builtinfunc" id="3516303">make</span><span class="op" id="3516307">(</span><span class="keyword" id="3516308">map</span><span class="op" id="3516311">[</span><span class="builtintype" id="3516312">string</span><span class="op" id="3516318">]</span><span class="op" id="3516319">[</span><span class="op" id="3516320">]</span><span class="builtintype" id="3516321">string</span><span class="op" id="3516327">)</span><span class="op" id="3516328">,</span>&nbsp;<span class="builtinfunc" id="3516330">make</span><span class="op" id="3516334">(</span><span class="keyword" id="3516335">map</span><span class="op" id="3516338">[</span><span class="builtintype" id="3516339">string</span><span class="op" id="3516345">]</span><span class="op" id="3516346">[</span><span class="op" id="3516347">]</span><span class="op" id="3516348">*</span><span class="ident" id="3516349">FileHeader</span><span class="op" id="3516359">)</span><span class="op" id="3516360">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516363">defer</span>&nbsp;<span class="keyword" id="3516369">func</span><span class="op" id="3516373">(</span><span class="op" id="3516374">)</span>&nbsp;<span class="op" id="3516376">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516380">if</span>&nbsp;<span class="ident" id="3516383">err</span>&nbsp;<span class="op" id="3516387">!=</span>&nbsp;<span class="ident" id="3516390">nil</span>&nbsp;<span class="op" id="3516394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516399">form</span><span class="op" id="3516403">.</span><span class="ident" id="3516404">RemoveAll</span><span class="op" id="3516413">(</span><span class="op" id="3516414">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516418">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516421">}</span><span class="op" id="3516422">(</span><span class="op" id="3516423">)</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516427">maxValueBytes</span>&nbsp;<span class="op" id="3516441">:=</span>&nbsp;<span class="ident" id="3516444">int64</span><span class="op" id="3516449">(</span><span class="num" id="3516450">10</span>&nbsp;<span class="op" id="3516453">&lt;&lt;</span>&nbsp;<span class="num" id="3516456">20</span><span class="op" id="3516458">)</span>&nbsp;<span class="comment" id="3516460">//&nbsp;10&nbsp;MB&nbsp;is&nbsp;a&nbsp;lot&nbsp;of&nbsp;text.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516488">for</span>&nbsp;<span class="op" id="3516492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516496">p</span><span class="op" id="3516497">,</span>&nbsp;<span class="ident" id="3516499">err</span>&nbsp;<span class="op" id="3516503">:=</span>&nbsp;<span class="ident" id="3516506">r</span><span class="op" id="3516507">.</span><span class="ident" id="3516508">NextPart</span><span class="op" id="3516516">(</span><span class="op" id="3516517">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516521">if</span>&nbsp;<span class="ident" id="3516524">err</span>&nbsp;<span class="op" id="3516528">==</span>&nbsp;<span class="ident" id="3516531">io</span><span class="op" id="3516533">.</span><span class="ident" id="3516534">EOF</span>&nbsp;<span class="op" id="3516538">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516543">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516555">if</span>&nbsp;<span class="ident" id="3516558">err</span>&nbsp;<span class="op" id="3516562">!=</span>&nbsp;<span class="ident" id="3516565">nil</span>&nbsp;<span class="op" id="3516569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516574">return</span>&nbsp;<span class="ident" id="3516581">nil</span><span class="op" id="3516584">,</span>&nbsp;<span class="ident" id="3516586">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516592">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516597">name</span>&nbsp;<span class="op" id="3516602">:=</span>&nbsp;<span class="ident" id="3516605">p</span><span class="op" id="3516606">.</span><span class="ident" id="3516607">FormName</span><span class="op" id="3516615">(</span><span class="op" id="3516616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516620">if</span>&nbsp;<span class="ident" id="3516623">name</span>&nbsp;<span class="op" id="3516628">==</span>&nbsp;<span class="string" id="3516631">&#34;&#34;</span>&nbsp;<span class="op" id="3516634">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516639">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516650">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516654">filename</span>&nbsp;<span class="op" id="3516663">:=</span>&nbsp;<span class="ident" id="3516666">p</span><span class="op" id="3516667">.</span><span class="ident" id="3516668">FileName</span><span class="op" id="3516676">(</span><span class="op" id="3516677">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516682">var</span>&nbsp;<span class="ident" id="3516686">b</span>&nbsp;<span class="ident" id="3516688">bytes</span><span class="op" id="3516693">.</span><span class="ident" id="3516694">Buffer</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516704">if</span>&nbsp;<span class="ident" id="3516707">filename</span>&nbsp;<span class="op" id="3516716">==</span>&nbsp;<span class="string" id="3516719">&#34;&#34;</span>&nbsp;<span class="op" id="3516722">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3516727">//&nbsp;value,&nbsp;store&nbsp;as&nbsp;string&nbsp;in&nbsp;memory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516766">n</span><span class="op" id="3516767">,</span>&nbsp;<span class="ident" id="3516769">err</span>&nbsp;<span class="op" id="3516773">:=</span>&nbsp;<span class="ident" id="3516776">io</span><span class="op" id="3516778">.</span><span class="ident" id="3516779">CopyN</span><span class="op" id="3516784">(</span><span class="op" id="3516785">&amp;</span><span class="ident" id="3516786">b</span><span class="op" id="3516787">,</span>&nbsp;<span class="ident" id="3516789">p</span><span class="op" id="3516790">,</span>&nbsp;<span class="ident" id="3516792">maxValueBytes</span><span class="op" id="3516805">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516810">if</span>&nbsp;<span class="ident" id="3516813">err</span>&nbsp;<span class="op" id="3516817">!=</span>&nbsp;<span class="ident" id="3516820">nil</span>&nbsp;<span class="op" id="3516824">&amp;&amp;</span>&nbsp;<span class="ident" id="3516827">err</span>&nbsp;<span class="op" id="3516831">!=</span>&nbsp;<span class="ident" id="3516834">io</span><span class="op" id="3516836">.</span><span class="ident" id="3516837">EOF</span>&nbsp;<span class="op" id="3516841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516847">return</span>&nbsp;<span class="ident" id="3516854">nil</span><span class="op" id="3516857">,</span>&nbsp;<span class="ident" id="3516859">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516866">}</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516871">maxValueBytes</span>&nbsp;<span class="op" id="3516885">-=</span>&nbsp;<span class="ident" id="3516888">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516893">if</span>&nbsp;<span class="ident" id="3516896">maxValueBytes</span>&nbsp;<span class="op" id="3516910">==</span>&nbsp;<span class="num" id="3516913">0</span>&nbsp;<span class="op" id="3516915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3516921">return</span>&nbsp;<span class="ident" id="3516928">nil</span><span class="op" id="3516931">,</span>&nbsp;<span class="ident" id="3516933">errors</span><span class="op" id="3516939">.</span><span class="ident" id="3516940">New</span><span class="op" id="3516943">(</span><span class="string" id="3516944">&#34;multipart:&nbsp;message&nbsp;too&nbsp;large&#34;</span><span class="op" id="3516974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3516979">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3516984">form</span><span class="op" id="3516988">.</span><span class="ident" id="3516989">Value</span><span class="op" id="3516994">[</span><span class="ident" id="3516995">name</span><span class="op" id="3516999">]</span>&nbsp;<span class="op" id="3517001">=</span>&nbsp;<span class="builtinfunc" id="3517003">append</span><span class="op" id="3517009">(</span><span class="ident" id="3517010">form</span><span class="op" id="3517014">.</span><span class="ident" id="3517015">Value</span><span class="op" id="3517020">[</span><span class="ident" id="3517021">name</span><span class="op" id="3517025">]</span><span class="op" id="3517026">,</span>&nbsp;<span class="ident" id="3517028">b</span><span class="op" id="3517029">.</span><span class="ident" id="3517030">String</span><span class="op" id="3517036">(</span><span class="op" id="3517037">)</span><span class="op" id="3517038">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517043">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3517059">//&nbsp;file,&nbsp;store&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517097">fh</span>&nbsp;<span class="op" id="3517100">:=</span>&nbsp;<span class="op" id="3517103">&amp;</span><span class="ident" id="3517104">FileHeader</span><span class="op" id="3517114">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517119">Filename</span><span class="op" id="3517127">:</span>&nbsp;<span class="ident" id="3517129">filename</span><span class="op" id="3517137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517142">Header</span><span class="op" id="3517148">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3517152">p</span><span class="op" id="3517153">.</span><span class="ident" id="3517154">Header</span><span class="op" id="3517160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517168">n</span><span class="op" id="3517169">,</span>&nbsp;<span class="ident" id="3517171">err</span>&nbsp;<span class="op" id="3517175">:=</span>&nbsp;<span class="ident" id="3517178">io</span><span class="op" id="3517180">.</span><span class="ident" id="3517181">CopyN</span><span class="op" id="3517186">(</span><span class="op" id="3517187">&amp;</span><span class="ident" id="3517188">b</span><span class="op" id="3517189">,</span>&nbsp;<span class="ident" id="3517191">p</span><span class="op" id="3517192">,</span>&nbsp;<span class="ident" id="3517194">maxMemory</span><span class="op" id="3517203">+</span><span class="num" id="3517204">1</span><span class="op" id="3517205">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517209">if</span>&nbsp;<span class="ident" id="3517212">err</span>&nbsp;<span class="op" id="3517216">!=</span>&nbsp;<span class="ident" id="3517219">nil</span>&nbsp;<span class="op" id="3517223">&amp;&amp;</span>&nbsp;<span class="ident" id="3517226">err</span>&nbsp;<span class="op" id="3517230">!=</span>&nbsp;<span class="ident" id="3517233">io</span><span class="op" id="3517235">.</span><span class="ident" id="3517236">EOF</span>&nbsp;<span class="op" id="3517240">{</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517245">return</span>&nbsp;<span class="ident" id="3517252">nil</span><span class="op" id="3517255">,</span>&nbsp;<span class="ident" id="3517257">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517267">if</span>&nbsp;<span class="ident" id="3517270">n</span>&nbsp;<span class="op" id="3517272">&gt;</span>&nbsp;<span class="ident" id="3517274">maxMemory</span>&nbsp;<span class="op" id="3517284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3517289">//&nbsp;too&nbsp;big,&nbsp;write&nbsp;to&nbsp;disk&nbsp;and&nbsp;flush&nbsp;buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517335">file</span><span class="op" id="3517339">,</span>&nbsp;<span class="ident" id="3517341">err</span>&nbsp;<span class="op" id="3517345">:=</span>&nbsp;<span class="ident" id="3517348">ioutil</span><span class="op" id="3517354">.</span><span class="ident" id="3517355">TempFile</span><span class="op" id="3517363">(</span><span class="string" id="3517364">&#34;&#34;</span><span class="op" id="3517366">,</span>&nbsp;<span class="string" id="3517368">&#34;multipart-&#34;</span><span class="op" id="3517380">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517385">if</span>&nbsp;<span class="ident" id="3517388">err</span>&nbsp;<span class="op" id="3517392">!=</span>&nbsp;<span class="ident" id="3517395">nil</span>&nbsp;<span class="op" id="3517399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517405">return</span>&nbsp;<span class="ident" id="3517412">nil</span><span class="op" id="3517415">,</span>&nbsp;<span class="ident" id="3517417">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517424">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517429">defer</span>&nbsp;<span class="ident" id="3517435">file</span><span class="op" id="3517439">.</span><span class="ident" id="3517440">Close</span><span class="op" id="3517445">(</span><span class="op" id="3517446">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517451">_</span><span class="op" id="3517452">,</span>&nbsp;<span class="ident" id="3517454">err</span>&nbsp;<span class="op" id="3517458">=</span>&nbsp;<span class="ident" id="3517460">io</span><span class="op" id="3517462">.</span><span class="ident" id="3517463">Copy</span><span class="op" id="3517467">(</span><span class="ident" id="3517468">file</span><span class="op" id="3517472">,</span>&nbsp;<span class="ident" id="3517474">io</span><span class="op" id="3517476">.</span><span class="ident" id="3517477">MultiReader</span><span class="op" id="3517488">(</span><span class="op" id="3517489">&amp;</span><span class="ident" id="3517490">b</span><span class="op" id="3517491">,</span>&nbsp;<span class="ident" id="3517493">p</span><span class="op" id="3517494">)</span><span class="op" id="3517495">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517500">if</span>&nbsp;<span class="ident" id="3517503">err</span>&nbsp;<span class="op" id="3517507">!=</span>&nbsp;<span class="ident" id="3517510">nil</span>&nbsp;<span class="op" id="3517514">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517520">os</span><span class="op" id="3517522">.</span><span class="ident" id="3517523">Remove</span><span class="op" id="3517529">(</span><span class="ident" id="3517530">file</span><span class="op" id="3517534">.</span><span class="ident" id="3517535">Name</span><span class="op" id="3517539">(</span><span class="op" id="3517540">)</span><span class="op" id="3517541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517547">return</span>&nbsp;<span class="ident" id="3517554">nil</span><span class="op" id="3517557">,</span>&nbsp;<span class="ident" id="3517559">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517571">fh</span><span class="op" id="3517573">.</span><span class="ident" id="3517574">tmpfile</span>&nbsp;<span class="op" id="3517582">=</span>&nbsp;<span class="ident" id="3517584">file</span><span class="op" id="3517588">.</span><span class="ident" id="3517589">Name</span><span class="op" id="3517593">(</span><span class="op" id="3517594">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517598">}</span>&nbsp;<span class="keyword" id="3517600">else</span>&nbsp;<span class="op" id="3517605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517610">fh</span><span class="op" id="3517612">.</span><span class="ident" id="3517613">content</span>&nbsp;<span class="op" id="3517621">=</span>&nbsp;<span class="ident" id="3517623">b</span><span class="op" id="3517624">.</span><span class="ident" id="3517625">Bytes</span><span class="op" id="3517630">(</span><span class="op" id="3517631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517636">maxMemory</span>&nbsp;<span class="op" id="3517646">-=</span>&nbsp;<span class="ident" id="3517649">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517657">form</span><span class="op" id="3517661">.</span><span class="ident" id="3517662">File</span><span class="op" id="3517666">[</span><span class="ident" id="3517667">name</span><span class="op" id="3517671">]</span>&nbsp;<span class="op" id="3517673">=</span>&nbsp;<span class="builtinfunc" id="3517675">append</span><span class="op" id="3517681">(</span><span class="ident" id="3517682">form</span><span class="op" id="3517686">.</span><span class="ident" id="3517687">File</span><span class="op" id="3517691">[</span><span class="ident" id="3517692">name</span><span class="op" id="3517696">]</span><span class="op" id="3517697">,</span>&nbsp;<span class="ident" id="3517699">fh</span><span class="op" id="3517701">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3517704">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3517708">return</span>&nbsp;<span class="ident" id="3517715">form</span><span class="op" id="3517719">,</span>&nbsp;<span class="ident" id="3517721">nil</span><br>
<span class="lineno"></span><span class="op" id="3517725">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">95</span><span class="comment" id="3517728">//&nbsp;Form&nbsp;is&nbsp;a&nbsp;parsed&nbsp;multipart&nbsp;form.</span><br>
<span class="lineno"></span><span class="comment" id="3517764">//&nbsp;Its&nbsp;File&nbsp;parts&nbsp;are&nbsp;stored&nbsp;either&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk,</span><br>
<span class="lineno"></span><span class="comment" id="3517822">//&nbsp;and&nbsp;are&nbsp;accessible&nbsp;via&nbsp;the&nbsp;*FileHeader&#39;s&nbsp;Open&nbsp;method.</span><br>
<span class="lineno"></span><span class="comment" id="3517879">//&nbsp;Its&nbsp;Value&nbsp;parts&nbsp;are&nbsp;stored&nbsp;as&nbsp;strings.</span><br>
<span class="lineno"></span><span class="comment" id="3517921">//&nbsp;Both&nbsp;are&nbsp;keyed&nbsp;by&nbsp;field&nbsp;name.</span><br>
<span class="lineno">100</span><span class="keyword" id="3517954">type</span>&nbsp;<span class="ident" id="3517959">Form</span>&nbsp;<span class="keyword" id="3517964">struct</span>&nbsp;<span class="op" id="3517971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3517974">Value</span>&nbsp;<span class="keyword" id="3517980">map</span><span class="op" id="3517983">[</span><span class="builtintype" id="3517984">string</span><span class="op" id="3517990">]</span><span class="op" id="3517991">[</span><span class="op" id="3517992">]</span><span class="builtintype" id="3517993">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518001">File</span>&nbsp;&nbsp;<span class="keyword" id="3518007">map</span><span class="op" id="3518010">[</span><span class="builtintype" id="3518011">string</span><span class="op" id="3518017">]</span><span class="op" id="3518018">[</span><span class="op" id="3518019">]</span><span class="op" id="3518020">*</span><span class="ident" id="3518021">FileHeader</span><br>
<span class="lineno"></span><span class="op" id="3518032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="3518035">//&nbsp;RemoveAll&nbsp;removes&nbsp;any&nbsp;temporary&nbsp;files&nbsp;associated&nbsp;with&nbsp;a&nbsp;Form.</span><br>
<span class="lineno"></span><span class="keyword" id="3518100">func</span>&nbsp;<span class="op" id="3518105">(</span><span class="ident" id="3518106">f</span>&nbsp;<span class="op" id="3518108">*</span><span class="ident" id="3518109">Form</span><span class="op" id="3518113">)</span>&nbsp;<span class="ident" id="3518115">RemoveAll</span><span class="op" id="3518124">(</span><span class="op" id="3518125">)</span>&nbsp;<span class="builtintype" id="3518127">error</span>&nbsp;<span class="op" id="3518133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518136">var</span>&nbsp;<span class="ident" id="3518140">err</span>&nbsp;<span class="builtintype" id="3518144">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518151">for</span>&nbsp;<span class="ident" id="3518155">_</span><span class="op" id="3518156">,</span>&nbsp;<span class="ident" id="3518158">fhs</span>&nbsp;<span class="op" id="3518162">:=</span>&nbsp;<span class="keyword" id="3518165">range</span>&nbsp;<span class="ident" id="3518171">f</span><span class="op" id="3518172">.</span><span class="ident" id="3518173">File</span>&nbsp;<span class="op" id="3518178">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518182">for</span>&nbsp;<span class="ident" id="3518186">_</span><span class="op" id="3518187">,</span>&nbsp;<span class="ident" id="3518189">fh</span>&nbsp;<span class="op" id="3518192">:=</span>&nbsp;<span class="keyword" id="3518195">range</span>&nbsp;<span class="ident" id="3518201">fhs</span>&nbsp;<span class="op" id="3518205">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518210">if</span>&nbsp;<span class="ident" id="3518213">fh</span><span class="op" id="3518215">.</span><span class="ident" id="3518216">tmpfile</span>&nbsp;<span class="op" id="3518224">!=</span>&nbsp;<span class="string" id="3518227">&#34;&#34;</span>&nbsp;<span class="op" id="3518230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518236">e</span>&nbsp;<span class="op" id="3518238">:=</span>&nbsp;<span class="ident" id="3518241">os</span><span class="op" id="3518243">.</span><span class="ident" id="3518244">Remove</span><span class="op" id="3518250">(</span><span class="ident" id="3518251">fh</span><span class="op" id="3518253">.</span><span class="ident" id="3518254">tmpfile</span><span class="op" id="3518261">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518267">if</span>&nbsp;<span class="ident" id="3518270">e</span>&nbsp;<span class="op" id="3518272">!=</span>&nbsp;<span class="ident" id="3518275">nil</span>&nbsp;<span class="op" id="3518279">&amp;&amp;</span>&nbsp;<span class="ident" id="3518282">err</span>&nbsp;<span class="op" id="3518286">==</span>&nbsp;<span class="ident" id="3518289">nil</span>&nbsp;<span class="op" id="3518293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518300">err</span>&nbsp;<span class="op" id="3518304">=</span>&nbsp;<span class="ident" id="3518306">e</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518312">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518317">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518321">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518324">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518327">return</span>&nbsp;<span class="ident" id="3518334">err</span><br>
<span class="lineno"></span><span class="op" id="3518338">}</span><br>
<span class="lineno">120</span><br>
<span class="lineno"></span><span class="comment" id="3518341">//&nbsp;A&nbsp;FileHeader&nbsp;describes&nbsp;a&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;request.</span><br>
<span class="lineno"></span><span class="keyword" id="3518403">type</span>&nbsp;<span class="ident" id="3518408">FileHeader</span>&nbsp;<span class="keyword" id="3518419">struct</span>&nbsp;<span class="op" id="3518426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518429">Filename</span>&nbsp;<span class="builtintype" id="3518438">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518446">Header</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="3518455">textproto</span><span class="op" id="3518464">.</span><span class="ident" id="3518465">MIMEHeader</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518478">content</span>&nbsp;<span class="op" id="3518486">[</span><span class="op" id="3518487">]</span><span class="builtintype" id="3518488">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518494">tmpfile</span>&nbsp;<span class="builtintype" id="3518502">string</span><br>
<span class="lineno"></span><span class="op" id="3518509">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="3518512">//&nbsp;Open&nbsp;opens&nbsp;and&nbsp;returns&nbsp;the&nbsp;FileHeader&#39;s&nbsp;associated&nbsp;File.</span><br>
<span class="lineno"></span><span class="keyword" id="3518572">func</span>&nbsp;<span class="op" id="3518577">(</span><span class="ident" id="3518578">fh</span>&nbsp;<span class="op" id="3518581">*</span><span class="ident" id="3518582">FileHeader</span><span class="op" id="3518592">)</span>&nbsp;<span class="ident" id="3518594">Open</span><span class="op" id="3518598">(</span><span class="op" id="3518599">)</span>&nbsp;<span class="op" id="3518601">(</span><span class="ident" id="3518602">File</span><span class="op" id="3518606">,</span>&nbsp;<span class="builtintype" id="3518608">error</span><span class="op" id="3518613">)</span>&nbsp;<span class="op" id="3518615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518618">if</span>&nbsp;<span class="ident" id="3518621">b</span>&nbsp;<span class="op" id="3518623">:=</span>&nbsp;<span class="ident" id="3518626">fh</span><span class="op" id="3518628">.</span><span class="ident" id="3518629">content</span><span class="op" id="3518636">;</span>&nbsp;<span class="ident" id="3518638">b</span>&nbsp;<span class="op" id="3518640">!=</span>&nbsp;<span class="ident" id="3518643">nil</span>&nbsp;<span class="op" id="3518647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3518651">r</span>&nbsp;<span class="op" id="3518653">:=</span>&nbsp;<span class="ident" id="3518656">io</span><span class="op" id="3518658">.</span><span class="ident" id="3518659">NewSectionReader</span><span class="op" id="3518675">(</span><span class="ident" id="3518676">bytes</span><span class="op" id="3518681">.</span><span class="ident" id="3518682">NewReader</span><span class="op" id="3518691">(</span><span class="ident" id="3518692">b</span><span class="op" id="3518693">)</span><span class="op" id="3518694">,</span>&nbsp;<span class="num" id="3518696">0</span><span class="op" id="3518697">,</span>&nbsp;<span class="ident" id="3518699">int64</span><span class="op" id="3518704">(</span><span class="builtinfunc" id="3518705">len</span><span class="op" id="3518708">(</span><span class="ident" id="3518709">b</span><span class="op" id="3518710">)</span><span class="op" id="3518711">)</span><span class="op" id="3518712">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518716">return</span>&nbsp;<span class="ident" id="3518723">sectionReadCloser</span><span class="op" id="3518740">{</span><span class="ident" id="3518741">r</span><span class="op" id="3518742">}</span><span class="op" id="3518743">,</span>&nbsp;<span class="ident" id="3518745">nil</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3518750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3518753">return</span>&nbsp;<span class="ident" id="3518760">os</span><span class="op" id="3518762">.</span><span class="ident" id="3518763">Open</span><span class="op" id="3518767">(</span><span class="ident" id="3518768">fh</span><span class="op" id="3518770">.</span><span class="ident" id="3518771">tmpfile</span><span class="op" id="3518778">)</span><br>
<span class="lineno"></span><span class="op" id="3518780">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3518783">//&nbsp;File&nbsp;is&nbsp;an&nbsp;interface&nbsp;to&nbsp;access&nbsp;the&nbsp;file&nbsp;part&nbsp;of&nbsp;a&nbsp;multipart&nbsp;message.</span><br>
<span class="lineno">140</span><span class="comment" id="3518855">//&nbsp;Its&nbsp;contents&nbsp;may&nbsp;be&nbsp;either&nbsp;stored&nbsp;in&nbsp;memory&nbsp;or&nbsp;on&nbsp;disk.</span><br>
<span class="lineno"></span><span class="comment" id="3518914">//&nbsp;If&nbsp;stored&nbsp;on&nbsp;disk,&nbsp;the&nbsp;File&#39;s&nbsp;underlying&nbsp;concrete&nbsp;type&nbsp;will&nbsp;be&nbsp;an&nbsp;*os.File.</span><br>
<span class="lineno"></span><span class="keyword" id="3518993">type</span>&nbsp;<span class="ident" id="3518998">File</span>&nbsp;<span class="keyword" id="3519003">interface</span>&nbsp;<span class="op" id="3519013">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519016">io</span><span class="op" id="3519018">.</span><span class="ident" id="3519019">Reader</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519027">io</span><span class="op" id="3519029">.</span><span class="ident" id="3519030">ReaderAt</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519040">io</span><span class="op" id="3519042">.</span><span class="ident" id="3519043">Seeker</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3519051">io</span><span class="op" id="3519053">.</span><span class="ident" id="3519054">Closer</span><br>
<span class="lineno"></span><span class="op" id="3519061">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="3519064">//&nbsp;helper&nbsp;types&nbsp;to&nbsp;turn&nbsp;a&nbsp;[]byte&nbsp;into&nbsp;a&nbsp;File</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="keyword" id="3519110">type</span>&nbsp;<span class="ident" id="3519115">sectionReadCloser</span>&nbsp;<span class="keyword" id="3519133">struct</span>&nbsp;<span class="op" id="3519140">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3519143">*</span><span class="ident" id="3519144">io</span><span class="op" id="3519146">.</span><span class="ident" id="3519147">SectionReader</span><br>
<span class="lineno"></span><span class="op" id="3519161">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">155</span><span class="keyword" id="3519164">func</span>&nbsp;<span class="op" id="3519169">(</span><span class="ident" id="3519170">rc</span>&nbsp;<span class="ident" id="3519173">sectionReadCloser</span><span class="op" id="3519190">)</span>&nbsp;<span class="ident" id="3519192">Close</span><span class="op" id="3519197">(</span><span class="op" id="3519198">)</span>&nbsp;<span class="builtintype" id="3519200">error</span>&nbsp;<span class="op" id="3519206">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3519209">return</span>&nbsp;<span class="ident" id="3519216">nil</span><br>
<span class="lineno"></span><span class="op" id="3519220">}</span>
</div>
</body>
</html>
