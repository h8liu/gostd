<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>mime/multipart</h2>
<ul>
<li><a href="/gostd/mime/multipart/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/mime/multipart/formdata.go.html">formdata.go</a></li>
<li><a href="/gostd/mime/multipart/formdata_test.go.html">formdata_test.go</a></li>
<li><a href="/gostd/mime/multipart/multipart.go.html">multipart.go</a></li>
<li><a href="/gostd/mime/multipart/multipart_test.go.html">multipart_test.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable.go.html">quotedprintable.go</a></li>
<li><a href="/gostd/mime/multipart/quotedprintable_test.go.html">quotedprintable_test.go</a></li>
<li><a href="/gostd/mime/multipart/writer.go.html">writer.go</a></li>
<li><a href="/gostd/mime/multipart/writer_test.go.html" class="current">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6873709">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6873764">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6873818">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6873869">package</span>&nbsp;<span class="ident" id="6873877">multipart</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6873888">import</span>&nbsp;<span class="op" id="6873895">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873898">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873907">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873920">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6873931">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6873941">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6873944">func</span>&nbsp;<span class="ident" id="6873949">TestWriter</span><span class="op" id="6873959">(</span><span class="ident" id="6873960">t</span>&nbsp;<span class="op" id="6873962">*</span><span class="ident" id="6873963">testing</span><span class="op" id="6873970">.</span><span class="ident" id="6873971">T</span><span class="op" id="6873972">)</span>&nbsp;<span class="op" id="6873974">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6873977">fileContents</span>&nbsp;<span class="op" id="6873990">:=</span>&nbsp;<span class="op" id="6873993">[</span><span class="op" id="6873994">]</span><span class="builtintype" id="6873995">byte</span><span class="op" id="6873999">(</span><span class="string" id="6874000">&#34;my&nbsp;file&nbsp;contents&#34;</span><span class="op" id="6874018">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874022">var</span>&nbsp;<span class="ident" id="6874026">b</span>&nbsp;<span class="ident" id="6874028">bytes</span><span class="op" id="6874033">.</span><span class="ident" id="6874034">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874042">w</span>&nbsp;<span class="op" id="6874044">:=</span>&nbsp;<span class="ident" id="6874047">NewWriter</span><span class="op" id="6874056">(</span><span class="op" id="6874057">&amp;</span><span class="ident" id="6874058">b</span><span class="op" id="6874059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874062">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874066">part</span><span class="op" id="6874070">,</span>&nbsp;<span class="ident" id="6874072">err</span>&nbsp;<span class="op" id="6874076">:=</span>&nbsp;<span class="ident" id="6874079">w</span><span class="op" id="6874080">.</span><span class="ident" id="6874081">CreateFormFile</span><span class="op" id="6874095">(</span><span class="string" id="6874096">&#34;myfile&#34;</span><span class="op" id="6874104">,</span>&nbsp;<span class="string" id="6874106">&#34;my-file.txt&#34;</span><span class="op" id="6874119">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874123">if</span>&nbsp;<span class="ident" id="6874126">err</span>&nbsp;<span class="op" id="6874130">!=</span>&nbsp;<span class="builtintype" id="6874133">nil</span>&nbsp;<span class="op" id="6874137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874142">t</span><span class="op" id="6874143">.</span><span class="ident" id="6874144">Fatalf</span><span class="op" id="6874150">(</span><span class="string" id="6874151">&#34;CreateFormFile:&nbsp;%v&#34;</span><span class="op" id="6874171">,</span>&nbsp;<span class="ident" id="6874173">err</span><span class="op" id="6874176">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874180">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874184">part</span><span class="op" id="6874188">.</span><span class="ident" id="6874189">Write</span><span class="op" id="6874194">(</span><span class="ident" id="6874195">fileContents</span><span class="op" id="6874207">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874211">err</span>&nbsp;<span class="op" id="6874215">=</span>&nbsp;<span class="ident" id="6874217">w</span><span class="op" id="6874218">.</span><span class="ident" id="6874219">WriteField</span><span class="op" id="6874229">(</span><span class="string" id="6874230">&#34;key&#34;</span><span class="op" id="6874235">,</span>&nbsp;<span class="string" id="6874237">&#34;val&#34;</span><span class="op" id="6874242">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874246">if</span>&nbsp;<span class="ident" id="6874249">err</span>&nbsp;<span class="op" id="6874253">!=</span>&nbsp;<span class="builtintype" id="6874256">nil</span>&nbsp;<span class="op" id="6874260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874265">t</span><span class="op" id="6874266">.</span><span class="ident" id="6874267">Fatalf</span><span class="op" id="6874273">(</span><span class="string" id="6874274">&#34;WriteField:&nbsp;%v&#34;</span><span class="op" id="6874290">,</span>&nbsp;<span class="ident" id="6874292">err</span><span class="op" id="6874295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874299">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874303">part</span><span class="op" id="6874307">.</span><span class="ident" id="6874308">Write</span><span class="op" id="6874313">(</span><span class="op" id="6874314">[</span><span class="op" id="6874315">]</span><span class="builtintype" id="6874316">byte</span><span class="op" id="6874320">(</span><span class="string" id="6874321">&#34;val&#34;</span><span class="op" id="6874326">)</span><span class="op" id="6874327">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874331">err</span>&nbsp;<span class="op" id="6874335">=</span>&nbsp;<span class="ident" id="6874337">w</span><span class="op" id="6874338">.</span><span class="ident" id="6874339">Close</span><span class="op" id="6874344">(</span><span class="op" id="6874345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874349">if</span>&nbsp;<span class="ident" id="6874352">err</span>&nbsp;<span class="op" id="6874356">!=</span>&nbsp;<span class="builtintype" id="6874359">nil</span>&nbsp;<span class="op" id="6874363">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874368">t</span><span class="op" id="6874369">.</span><span class="ident" id="6874370">Fatalf</span><span class="op" id="6874376">(</span><span class="string" id="6874377">&#34;Close:&nbsp;%v&#34;</span><span class="op" id="6874388">,</span>&nbsp;<span class="ident" id="6874390">err</span><span class="op" id="6874393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874397">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874401">s</span>&nbsp;<span class="op" id="6874403">:=</span>&nbsp;<span class="ident" id="6874406">b</span><span class="op" id="6874407">.</span><span class="ident" id="6874408">String</span><span class="op" id="6874414">(</span><span class="op" id="6874415">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874419">if</span>&nbsp;<span class="builtinfunc" id="6874422">len</span><span class="op" id="6874425">(</span><span class="ident" id="6874426">s</span><span class="op" id="6874427">)</span>&nbsp;<span class="op" id="6874429">==</span>&nbsp;<span class="num" id="6874432">0</span>&nbsp;<span class="op" id="6874434">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874439">t</span><span class="op" id="6874440">.</span><span class="ident" id="6874441">Fatal</span><span class="op" id="6874446">(</span><span class="string" id="6874447">&#34;String:&nbsp;unexpected&nbsp;empty&nbsp;result&#34;</span><span class="op" id="6874480">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874484">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874488">if</span>&nbsp;<span class="ident" id="6874491">s</span><span class="op" id="6874492">[</span><span class="num" id="6874493">0</span><span class="op" id="6874494">]</span>&nbsp;<span class="op" id="6874496">==</span>&nbsp;<span class="string" id="6874499">&#39;\r&#39;</span>&nbsp;<span class="op" id="6874504">||</span>&nbsp;<span class="ident" id="6874507">s</span><span class="op" id="6874508">[</span><span class="num" id="6874509">0</span><span class="op" id="6874510">]</span>&nbsp;<span class="op" id="6874512">==</span>&nbsp;<span class="string" id="6874515">&#39;\n&#39;</span>&nbsp;<span class="op" id="6874520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874525">t</span><span class="op" id="6874526">.</span><span class="ident" id="6874527">Fatal</span><span class="op" id="6874532">(</span><span class="string" id="6874533">&#34;String:&nbsp;unexpected&nbsp;newline&#34;</span><span class="op" id="6874561">)</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874565">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874568">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874572">r</span>&nbsp;<span class="op" id="6874574">:=</span>&nbsp;<span class="ident" id="6874577">NewReader</span><span class="op" id="6874586">(</span><span class="op" id="6874587">&amp;</span><span class="ident" id="6874588">b</span><span class="op" id="6874589">,</span>&nbsp;<span class="ident" id="6874591">w</span><span class="op" id="6874592">.</span><span class="ident" id="6874593">Boundary</span><span class="op" id="6874601">(</span><span class="op" id="6874602">)</span><span class="op" id="6874603">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874607">part</span><span class="op" id="6874611">,</span>&nbsp;<span class="ident" id="6874613">err</span>&nbsp;<span class="op" id="6874617">:=</span>&nbsp;<span class="ident" id="6874620">r</span><span class="op" id="6874621">.</span><span class="ident" id="6874622">NextPart</span><span class="op" id="6874630">(</span><span class="op" id="6874631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874634">if</span>&nbsp;<span class="ident" id="6874637">err</span>&nbsp;<span class="op" id="6874641">!=</span>&nbsp;<span class="builtintype" id="6874644">nil</span>&nbsp;<span class="op" id="6874648">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874652">t</span><span class="op" id="6874653">.</span><span class="ident" id="6874654">Fatalf</span><span class="op" id="6874660">(</span><span class="string" id="6874661">&#34;part&nbsp;1:&nbsp;%v&#34;</span><span class="op" id="6874673">,</span>&nbsp;<span class="ident" id="6874675">err</span><span class="op" id="6874678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874681">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874684">if</span>&nbsp;<span class="ident" id="6874687">g</span><span class="op" id="6874688">,</span>&nbsp;<span class="ident" id="6874690">e</span>&nbsp;<span class="op" id="6874692">:=</span>&nbsp;<span class="ident" id="6874695">part</span><span class="op" id="6874699">.</span><span class="ident" id="6874700">FormName</span><span class="op" id="6874708">(</span><span class="op" id="6874709">)</span><span class="op" id="6874710">,</span>&nbsp;<span class="string" id="6874712">&#34;myfile&#34;</span><span class="op" id="6874720">;</span>&nbsp;<span class="ident" id="6874722">g</span>&nbsp;<span class="op" id="6874724">!=</span>&nbsp;<span class="ident" id="6874727">e</span>&nbsp;<span class="op" id="6874729">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874733">t</span><span class="op" id="6874734">.</span><span class="ident" id="6874735">Errorf</span><span class="op" id="6874741">(</span><span class="string" id="6874742">&#34;part&nbsp;1:&nbsp;want&nbsp;form&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6874777">,</span>&nbsp;<span class="ident" id="6874779">e</span><span class="op" id="6874780">,</span>&nbsp;<span class="ident" id="6874782">g</span><span class="op" id="6874783">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874786">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874789">slurp</span><span class="op" id="6874794">,</span>&nbsp;<span class="ident" id="6874796">err</span>&nbsp;<span class="op" id="6874800">:=</span>&nbsp;<span class="ident" id="6874803">ioutil</span><span class="op" id="6874809">.</span><span class="ident" id="6874810">ReadAll</span><span class="op" id="6874817">(</span><span class="ident" id="6874818">part</span><span class="op" id="6874822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874825">if</span>&nbsp;<span class="ident" id="6874828">err</span>&nbsp;<span class="op" id="6874832">!=</span>&nbsp;<span class="builtintype" id="6874835">nil</span>&nbsp;<span class="op" id="6874839">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874843">t</span><span class="op" id="6874844">.</span><span class="ident" id="6874845">Fatalf</span><span class="op" id="6874851">(</span><span class="string" id="6874852">&#34;part&nbsp;1:&nbsp;ReadAll:&nbsp;%v&#34;</span><span class="op" id="6874873">,</span>&nbsp;<span class="ident" id="6874875">err</span><span class="op" id="6874878">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874881">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6874884">if</span>&nbsp;<span class="ident" id="6874887">e</span><span class="op" id="6874888">,</span>&nbsp;<span class="ident" id="6874890">g</span>&nbsp;<span class="op" id="6874892">:=</span>&nbsp;<span class="builtintype" id="6874895">string</span><span class="op" id="6874901">(</span><span class="ident" id="6874902">fileContents</span><span class="op" id="6874914">)</span><span class="op" id="6874915">,</span>&nbsp;<span class="builtintype" id="6874917">string</span><span class="op" id="6874923">(</span><span class="ident" id="6874924">slurp</span><span class="op" id="6874929">)</span><span class="op" id="6874930">;</span>&nbsp;<span class="ident" id="6874932">e</span>&nbsp;<span class="op" id="6874934">!=</span>&nbsp;<span class="ident" id="6874937">g</span>&nbsp;<span class="op" id="6874939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874943">t</span><span class="op" id="6874944">.</span><span class="ident" id="6874945">Errorf</span><span class="op" id="6874951">(</span><span class="string" id="6874952">&#34;part&nbsp;1:&nbsp;want&nbsp;contents&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6874986">,</span>&nbsp;<span class="ident" id="6874988">e</span><span class="op" id="6874989">,</span>&nbsp;<span class="ident" id="6874991">g</span><span class="op" id="6874992">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6874995">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6874999">part</span><span class="op" id="6875003">,</span>&nbsp;<span class="ident" id="6875005">err</span>&nbsp;<span class="op" id="6875009">=</span>&nbsp;<span class="ident" id="6875011">r</span><span class="op" id="6875012">.</span><span class="ident" id="6875013">NextPart</span><span class="op" id="6875021">(</span><span class="op" id="6875022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875025">if</span>&nbsp;<span class="ident" id="6875028">err</span>&nbsp;<span class="op" id="6875032">!=</span>&nbsp;<span class="builtintype" id="6875035">nil</span>&nbsp;<span class="op" id="6875039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875043">t</span><span class="op" id="6875044">.</span><span class="ident" id="6875045">Fatalf</span><span class="op" id="6875051">(</span><span class="string" id="6875052">&#34;part&nbsp;2:&nbsp;%v&#34;</span><span class="op" id="6875064">,</span>&nbsp;<span class="ident" id="6875066">err</span><span class="op" id="6875069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875072">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875075">if</span>&nbsp;<span class="ident" id="6875078">g</span><span class="op" id="6875079">,</span>&nbsp;<span class="ident" id="6875081">e</span>&nbsp;<span class="op" id="6875083">:=</span>&nbsp;<span class="ident" id="6875086">part</span><span class="op" id="6875090">.</span><span class="ident" id="6875091">FormName</span><span class="op" id="6875099">(</span><span class="op" id="6875100">)</span><span class="op" id="6875101">,</span>&nbsp;<span class="string" id="6875103">&#34;key&#34;</span><span class="op" id="6875108">;</span>&nbsp;<span class="ident" id="6875110">g</span>&nbsp;<span class="op" id="6875112">!=</span>&nbsp;<span class="ident" id="6875115">e</span>&nbsp;<span class="op" id="6875117">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875121">t</span><span class="op" id="6875122">.</span><span class="ident" id="6875123">Errorf</span><span class="op" id="6875129">(</span><span class="string" id="6875130">&#34;part&nbsp;2:&nbsp;want&nbsp;form&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6875165">,</span>&nbsp;<span class="ident" id="6875167">e</span><span class="op" id="6875168">,</span>&nbsp;<span class="ident" id="6875170">g</span><span class="op" id="6875171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875174">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875177">slurp</span><span class="op" id="6875182">,</span>&nbsp;<span class="ident" id="6875184">err</span>&nbsp;<span class="op" id="6875188">=</span>&nbsp;<span class="ident" id="6875190">ioutil</span><span class="op" id="6875196">.</span><span class="ident" id="6875197">ReadAll</span><span class="op" id="6875204">(</span><span class="ident" id="6875205">part</span><span class="op" id="6875209">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875212">if</span>&nbsp;<span class="ident" id="6875215">err</span>&nbsp;<span class="op" id="6875219">!=</span>&nbsp;<span class="builtintype" id="6875222">nil</span>&nbsp;<span class="op" id="6875226">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875230">t</span><span class="op" id="6875231">.</span><span class="ident" id="6875232">Fatalf</span><span class="op" id="6875238">(</span><span class="string" id="6875239">&#34;part&nbsp;2:&nbsp;ReadAll:&nbsp;%v&#34;</span><span class="op" id="6875260">,</span>&nbsp;<span class="ident" id="6875262">err</span><span class="op" id="6875265">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875271">if</span>&nbsp;<span class="ident" id="6875274">e</span><span class="op" id="6875275">,</span>&nbsp;<span class="ident" id="6875277">g</span>&nbsp;<span class="op" id="6875279">:=</span>&nbsp;<span class="string" id="6875282">&#34;val&#34;</span><span class="op" id="6875287">,</span>&nbsp;<span class="builtintype" id="6875289">string</span><span class="op" id="6875295">(</span><span class="ident" id="6875296">slurp</span><span class="op" id="6875301">)</span><span class="op" id="6875302">;</span>&nbsp;<span class="ident" id="6875304">e</span>&nbsp;<span class="op" id="6875306">!=</span>&nbsp;<span class="ident" id="6875309">g</span>&nbsp;<span class="op" id="6875311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875315">t</span><span class="op" id="6875316">.</span><span class="ident" id="6875317">Errorf</span><span class="op" id="6875323">(</span><span class="string" id="6875324">&#34;part&nbsp;2:&nbsp;want&nbsp;contents&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="6875358">,</span>&nbsp;<span class="ident" id="6875360">e</span><span class="op" id="6875361">,</span>&nbsp;<span class="ident" id="6875363">g</span><span class="op" id="6875364">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875367">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875371">part</span><span class="op" id="6875375">,</span>&nbsp;<span class="ident" id="6875377">err</span>&nbsp;<span class="op" id="6875381">=</span>&nbsp;<span class="ident" id="6875383">r</span><span class="op" id="6875384">.</span><span class="ident" id="6875385">NextPart</span><span class="op" id="6875393">(</span><span class="op" id="6875394">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875397">if</span>&nbsp;<span class="ident" id="6875400">part</span>&nbsp;<span class="op" id="6875405">!=</span>&nbsp;<span class="builtintype" id="6875408">nil</span>&nbsp;<span class="op" id="6875412">||</span>&nbsp;<span class="ident" id="6875415">err</span>&nbsp;<span class="op" id="6875419">==</span>&nbsp;<span class="builtintype" id="6875422">nil</span>&nbsp;<span class="op" id="6875426">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875430">t</span><span class="op" id="6875431">.</span><span class="ident" id="6875432">Fatalf</span><span class="op" id="6875438">(</span><span class="string" id="6875439">&#34;expected&nbsp;end&nbsp;of&nbsp;parts;&nbsp;got&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="6875474">,</span>&nbsp;<span class="ident" id="6875476">part</span><span class="op" id="6875480">,</span>&nbsp;<span class="ident" id="6875482">err</span><span class="op" id="6875485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875488">}</span><br>
<span class="lineno"></span><span class="op" id="6875490">}</span><br>
<span class="lineno">80</span><br>
<span class="lineno"></span><span class="keyword" id="6875493">func</span>&nbsp;<span class="ident" id="6875498">TestWriterSetBoundary</span><span class="op" id="6875519">(</span><span class="ident" id="6875520">t</span>&nbsp;<span class="op" id="6875522">*</span><span class="ident" id="6875523">testing</span><span class="op" id="6875530">.</span><span class="ident" id="6875531">T</span><span class="op" id="6875532">)</span>&nbsp;<span class="op" id="6875534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875537">var</span>&nbsp;<span class="ident" id="6875541">b</span>&nbsp;<span class="ident" id="6875543">bytes</span><span class="op" id="6875548">.</span><span class="ident" id="6875549">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875557">w</span>&nbsp;<span class="op" id="6875559">:=</span>&nbsp;<span class="ident" id="6875562">NewWriter</span><span class="op" id="6875571">(</span><span class="op" id="6875572">&amp;</span><span class="ident" id="6875573">b</span><span class="op" id="6875574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875577">tests</span>&nbsp;<span class="op" id="6875583">:=</span>&nbsp;<span class="op" id="6875586">[</span><span class="op" id="6875587">]</span><span class="keyword" id="6875588">struct</span>&nbsp;<span class="op" id="6875595">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875599">b</span>&nbsp;&nbsp;<span class="builtintype" id="6875602">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875611">ok</span>&nbsp;<span class="builtintype" id="6875614">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875620">}</span><span class="op" id="6875621">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875625">{</span><span class="string" id="6875626">&#34;abc&#34;</span><span class="op" id="6875631">,</span>&nbsp;<span class="builtintype" id="6875633">true</span><span class="op" id="6875637">}</span><span class="op" id="6875638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875642">{</span><span class="string" id="6875643">&#34;&#34;</span><span class="op" id="6875645">,</span>&nbsp;<span class="builtintype" id="6875647">false</span><span class="op" id="6875652">}</span><span class="op" id="6875653">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875657">{</span><span class="string" id="6875658">&#34;ung√ºltig&#34;</span><span class="op" id="6875669">,</span>&nbsp;<span class="builtintype" id="6875671">false</span><span class="op" id="6875676">}</span><span class="op" id="6875677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875681">{</span><span class="string" id="6875682">&#34;!&#34;</span><span class="op" id="6875685">,</span>&nbsp;<span class="builtintype" id="6875687">false</span><span class="op" id="6875692">}</span><span class="op" id="6875693">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875697">{</span><span class="ident" id="6875698">strings</span><span class="op" id="6875705">.</span><span class="ident" id="6875706">Repeat</span><span class="op" id="6875712">(</span><span class="string" id="6875713">&#34;x&#34;</span><span class="op" id="6875716">,</span>&nbsp;<span class="num" id="6875718">69</span><span class="op" id="6875720">)</span><span class="op" id="6875721">,</span>&nbsp;<span class="builtintype" id="6875723">true</span><span class="op" id="6875727">}</span><span class="op" id="6875728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875732">{</span><span class="ident" id="6875733">strings</span><span class="op" id="6875740">.</span><span class="ident" id="6875741">Repeat</span><span class="op" id="6875747">(</span><span class="string" id="6875748">&#34;x&#34;</span><span class="op" id="6875751">,</span>&nbsp;<span class="num" id="6875753">70</span><span class="op" id="6875755">)</span><span class="op" id="6875756">,</span>&nbsp;<span class="builtintype" id="6875758">false</span><span class="op" id="6875763">}</span><span class="op" id="6875764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875768">{</span><span class="string" id="6875769">&#34;bad!ascii!&#34;</span><span class="op" id="6875781">,</span>&nbsp;<span class="builtintype" id="6875783">false</span><span class="op" id="6875788">}</span><span class="op" id="6875789">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875793">{</span><span class="string" id="6875794">&#34;my-separator&#34;</span><span class="op" id="6875808">,</span>&nbsp;<span class="builtintype" id="6875810">true</span><span class="op" id="6875814">}</span><span class="op" id="6875815">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875818">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875821">for</span>&nbsp;<span class="ident" id="6875825">i</span><span class="op" id="6875826">,</span>&nbsp;<span class="ident" id="6875828">tt</span>&nbsp;<span class="op" id="6875831">:=</span>&nbsp;<span class="keyword" id="6875834">range</span>&nbsp;<span class="ident" id="6875840">tests</span>&nbsp;<span class="op" id="6875846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875850">err</span>&nbsp;<span class="op" id="6875854">:=</span>&nbsp;<span class="ident" id="6875857">w</span><span class="op" id="6875858">.</span><span class="ident" id="6875859">SetBoundary</span><span class="op" id="6875870">(</span><span class="ident" id="6875871">tt</span><span class="op" id="6875873">.</span><span class="ident" id="6875874">b</span><span class="op" id="6875875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875879">got</span>&nbsp;<span class="op" id="6875883">:=</span>&nbsp;<span class="ident" id="6875886">err</span>&nbsp;<span class="op" id="6875890">==</span>&nbsp;<span class="builtintype" id="6875893">nil</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6875899">if</span>&nbsp;<span class="ident" id="6875902">got</span>&nbsp;<span class="op" id="6875906">!=</span>&nbsp;<span class="ident" id="6875909">tt</span><span class="op" id="6875911">.</span><span class="ident" id="6875912">ok</span>&nbsp;<span class="op" id="6875915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6875920">t</span><span class="op" id="6875921">.</span><span class="ident" id="6875922">Errorf</span><span class="op" id="6875928">(</span><span class="string" id="6875929">&#34;%d.&nbsp;boundary&nbsp;%q&nbsp;=&nbsp;%v&nbsp;(%v);&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6875965">,</span>&nbsp;<span class="ident" id="6875967">i</span><span class="op" id="6875968">,</span>&nbsp;<span class="ident" id="6875970">tt</span><span class="op" id="6875972">.</span><span class="ident" id="6875973">b</span><span class="op" id="6875974">,</span>&nbsp;<span class="ident" id="6875976">got</span><span class="op" id="6875979">,</span>&nbsp;<span class="ident" id="6875981">err</span><span class="op" id="6875984">,</span>&nbsp;<span class="ident" id="6875986">tt</span><span class="op" id="6875988">.</span><span class="ident" id="6875989">ok</span><span class="op" id="6875991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6875995">}</span>&nbsp;<span class="keyword" id="6875997">else</span>&nbsp;<span class="keyword" id="6876002">if</span>&nbsp;<span class="ident" id="6876005">tt</span><span class="op" id="6876007">.</span><span class="ident" id="6876008">ok</span>&nbsp;<span class="op" id="6876011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876016">got</span>&nbsp;<span class="op" id="6876020">:=</span>&nbsp;<span class="ident" id="6876023">w</span><span class="op" id="6876024">.</span><span class="ident" id="6876025">Boundary</span><span class="op" id="6876033">(</span><span class="op" id="6876034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6876039">if</span>&nbsp;<span class="ident" id="6876042">got</span>&nbsp;<span class="op" id="6876046">!=</span>&nbsp;<span class="ident" id="6876049">tt</span><span class="op" id="6876051">.</span><span class="ident" id="6876052">b</span>&nbsp;<span class="op" id="6876054">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876060">t</span><span class="op" id="6876061">.</span><span class="ident" id="6876062">Errorf</span><span class="op" id="6876068">(</span><span class="string" id="6876069">&#34;boundary&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6876093">,</span>&nbsp;<span class="ident" id="6876095">got</span><span class="op" id="6876098">,</span>&nbsp;<span class="ident" id="6876100">tt</span><span class="op" id="6876102">.</span><span class="ident" id="6876103">b</span><span class="op" id="6876104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6876109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6876113">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6876116">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876119">w</span><span class="op" id="6876120">.</span><span class="ident" id="6876121">Close</span><span class="op" id="6876126">(</span><span class="op" id="6876127">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6876130">if</span>&nbsp;<span class="ident" id="6876133">got</span>&nbsp;<span class="op" id="6876137">:=</span>&nbsp;<span class="ident" id="6876140">b</span><span class="op" id="6876141">.</span><span class="ident" id="6876142">String</span><span class="op" id="6876148">(</span><span class="op" id="6876149">)</span><span class="op" id="6876150">;</span>&nbsp;<span class="op" id="6876152">!</span><span class="ident" id="6876153">strings</span><span class="op" id="6876160">.</span><span class="ident" id="6876161">Contains</span><span class="op" id="6876169">(</span><span class="ident" id="6876170">got</span><span class="op" id="6876173">,</span>&nbsp;<span class="string" id="6876175">&#34;\r\n--my-separator--\r\n&#34;</span><span class="op" id="6876201">)</span>&nbsp;<span class="op" id="6876203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876207">t</span><span class="op" id="6876208">.</span><span class="ident" id="6876209">Errorf</span><span class="op" id="6876215">(</span><span class="string" id="6876216">&#34;expected&nbsp;my-separator&nbsp;in&nbsp;output.&nbsp;got:&nbsp;%q&#34;</span><span class="op" id="6876258">,</span>&nbsp;<span class="ident" id="6876260">got</span><span class="op" id="6876263">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6876266">}</span><br>
<span class="lineno"></span><span class="op" id="6876268">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="6876271">func</span>&nbsp;<span class="ident" id="6876276">TestWriterBoundaryGoroutines</span><span class="op" id="6876304">(</span><span class="ident" id="6876305">t</span>&nbsp;<span class="op" id="6876307">*</span><span class="ident" id="6876308">testing</span><span class="op" id="6876315">.</span><span class="ident" id="6876316">T</span><span class="op" id="6876317">)</span>&nbsp;<span class="op" id="6876319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6876322">//&nbsp;Verify&nbsp;there&#39;s&nbsp;no&nbsp;data&nbsp;race&nbsp;accessing&nbsp;any&nbsp;lazy&nbsp;boundary&nbsp;if&nbsp;it&#39;s&nbsp;used&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6876398">//&nbsp;different&nbsp;goroutines.&nbsp;This&nbsp;was&nbsp;previously&nbsp;broken&nbsp;by</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6876454">//&nbsp;https://codereview.appspot.com/95760043/&nbsp;and&nbsp;reverted&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6876515">//&nbsp;https://codereview.appspot.com/117600043/</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876561">w</span>&nbsp;<span class="op" id="6876563">:=</span>&nbsp;<span class="ident" id="6876566">NewWriter</span><span class="op" id="6876575">(</span><span class="ident" id="6876576">ioutil</span><span class="op" id="6876582">.</span><span class="ident" id="6876583">Discard</span><span class="op" id="6876590">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876593">done</span>&nbsp;<span class="op" id="6876598">:=</span>&nbsp;<span class="builtinfunc" id="6876601">make</span><span class="op" id="6876605">(</span><span class="keyword" id="6876606">chan</span>&nbsp;<span class="builtintype" id="6876611">int</span><span class="op" id="6876614">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6876617">go</span>&nbsp;<span class="keyword" id="6876620">func</span><span class="op" id="6876624">(</span><span class="op" id="6876625">)</span>&nbsp;<span class="op" id="6876627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876631">w</span><span class="op" id="6876632">.</span><span class="ident" id="6876633">CreateFormField</span><span class="op" id="6876648">(</span><span class="string" id="6876649">&#34;foo&#34;</span><span class="op" id="6876654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876658">done</span>&nbsp;<span class="op" id="6876663">&lt;-</span>&nbsp;<span class="num" id="6876666">1</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6876669">}</span><span class="op" id="6876670">(</span><span class="op" id="6876671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6876674">w</span><span class="op" id="6876675">.</span><span class="ident" id="6876676">Boundary</span><span class="op" id="6876684">(</span><span class="op" id="6876685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6876688">&lt;-</span><span class="ident" id="6876690">done</span><br>
<span class="lineno"></span><span class="op" id="6876695">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
