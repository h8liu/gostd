<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6743270">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6743325">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6743379">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6743430">package</span>&nbsp;<span class="ident" id="6743438">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6743446">import</span>&nbsp;<span class="op" id="6743453">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6743456">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6743463">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6743474">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6743484">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6743487">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="6743564">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="6743644">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="6743727">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="6743805">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="6743852">type</span>&nbsp;<span class="ident" id="6743857">FindTest</span>&nbsp;<span class="keyword" id="6743866">struct</span>&nbsp;<span class="op" id="6743873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743876">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6743884">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743892">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6743900">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6743908">matches</span>&nbsp;<span class="op" id="6743916">[</span><span class="op" id="6743917">]</span><span class="op" id="6743918">[</span><span class="op" id="6743919">]</span><span class="builtintype" id="6743920">int</span><br>
<span class="lineno"></span><span class="op" id="6743924">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6743927">func</span>&nbsp;<span class="op" id="6743932">(</span><span class="ident" id="6743933">t</span>&nbsp;<span class="ident" id="6743935">FindTest</span><span class="op" id="6743943">)</span>&nbsp;<span class="ident" id="6743945">String</span><span class="op" id="6743951">(</span><span class="op" id="6743952">)</span>&nbsp;<span class="builtintype" id="6743954">string</span>&nbsp;<span class="op" id="6743961">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6743964">return</span>&nbsp;<span class="ident" id="6743971">fmt</span><span class="op" id="6743974">.</span><span class="ident" id="6743975">Sprintf</span><span class="op" id="6743982">(</span><span class="string" id="6743983">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="6744003">,</span>&nbsp;<span class="ident" id="6744005">t</span><span class="op" id="6744006">.</span><span class="ident" id="6744007">pat</span><span class="op" id="6744010">,</span>&nbsp;<span class="ident" id="6744012">t</span><span class="op" id="6744013">.</span><span class="ident" id="6744014">text</span><span class="op" id="6744018">)</span><br>
<span class="lineno"></span><span class="op" id="6744020">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6744023">var</span>&nbsp;<span class="ident" id="6744027">findTests</span>&nbsp;<span class="op" id="6744037">=</span>&nbsp;<span class="op" id="6744039">[</span><span class="op" id="6744040">]</span><span class="ident" id="6744041">FindTest</span><span class="op" id="6744049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744052">{</span><span class="string" id="6744053">``</span><span class="op" id="6744055">,</span>&nbsp;<span class="string" id="6744057">``</span><span class="op" id="6744059">,</span>&nbsp;<span class="ident" id="6744061">build</span><span class="op" id="6744066">(</span><span class="num" id="6744067">1</span><span class="op" id="6744068">,</span>&nbsp;<span class="num" id="6744070">0</span><span class="op" id="6744071">,</span>&nbsp;<span class="num" id="6744073">0</span><span class="op" id="6744074">)</span><span class="op" id="6744075">}</span><span class="op" id="6744076">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744079">{</span><span class="string" id="6744080">`^abcdefg`</span><span class="op" id="6744090">,</span>&nbsp;<span class="string" id="6744092">&#34;abcdefg&#34;</span><span class="op" id="6744101">,</span>&nbsp;<span class="ident" id="6744103">build</span><span class="op" id="6744108">(</span><span class="num" id="6744109">1</span><span class="op" id="6744110">,</span>&nbsp;<span class="num" id="6744112">0</span><span class="op" id="6744113">,</span>&nbsp;<span class="num" id="6744115">7</span><span class="op" id="6744116">)</span><span class="op" id="6744117">}</span><span class="op" id="6744118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744121">{</span><span class="string" id="6744122">`a+`</span><span class="op" id="6744126">,</span>&nbsp;<span class="string" id="6744128">&#34;baaab&#34;</span><span class="op" id="6744135">,</span>&nbsp;<span class="ident" id="6744137">build</span><span class="op" id="6744142">(</span><span class="num" id="6744143">1</span><span class="op" id="6744144">,</span>&nbsp;<span class="num" id="6744146">1</span><span class="op" id="6744147">,</span>&nbsp;<span class="num" id="6744149">4</span><span class="op" id="6744150">)</span><span class="op" id="6744151">}</span><span class="op" id="6744152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744155">{</span><span class="string" id="6744156">&#34;abcd..&#34;</span><span class="op" id="6744164">,</span>&nbsp;<span class="string" id="6744166">&#34;abcdef&#34;</span><span class="op" id="6744174">,</span>&nbsp;<span class="ident" id="6744176">build</span><span class="op" id="6744181">(</span><span class="num" id="6744182">1</span><span class="op" id="6744183">,</span>&nbsp;<span class="num" id="6744185">0</span><span class="op" id="6744186">,</span>&nbsp;<span class="num" id="6744188">6</span><span class="op" id="6744189">)</span><span class="op" id="6744190">}</span><span class="op" id="6744191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744194">{</span><span class="string" id="6744195">`a`</span><span class="op" id="6744198">,</span>&nbsp;<span class="string" id="6744200">&#34;a&#34;</span><span class="op" id="6744203">,</span>&nbsp;<span class="ident" id="6744205">build</span><span class="op" id="6744210">(</span><span class="num" id="6744211">1</span><span class="op" id="6744212">,</span>&nbsp;<span class="num" id="6744214">0</span><span class="op" id="6744215">,</span>&nbsp;<span class="num" id="6744217">1</span><span class="op" id="6744218">)</span><span class="op" id="6744219">}</span><span class="op" id="6744220">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744223">{</span><span class="string" id="6744224">`x`</span><span class="op" id="6744227">,</span>&nbsp;<span class="string" id="6744229">&#34;y&#34;</span><span class="op" id="6744232">,</span>&nbsp;<span class="ident" id="6744234">nil</span><span class="op" id="6744237">}</span><span class="op" id="6744238">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744241">{</span><span class="string" id="6744242">`b`</span><span class="op" id="6744245">,</span>&nbsp;<span class="string" id="6744247">&#34;abc&#34;</span><span class="op" id="6744252">,</span>&nbsp;<span class="ident" id="6744254">build</span><span class="op" id="6744259">(</span><span class="num" id="6744260">1</span><span class="op" id="6744261">,</span>&nbsp;<span class="num" id="6744263">1</span><span class="op" id="6744264">,</span>&nbsp;<span class="num" id="6744266">2</span><span class="op" id="6744267">)</span><span class="op" id="6744268">}</span><span class="op" id="6744269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744272">{</span><span class="string" id="6744273">`.`</span><span class="op" id="6744276">,</span>&nbsp;<span class="string" id="6744278">&#34;a&#34;</span><span class="op" id="6744281">,</span>&nbsp;<span class="ident" id="6744283">build</span><span class="op" id="6744288">(</span><span class="num" id="6744289">1</span><span class="op" id="6744290">,</span>&nbsp;<span class="num" id="6744292">0</span><span class="op" id="6744293">,</span>&nbsp;<span class="num" id="6744295">1</span><span class="op" id="6744296">)</span><span class="op" id="6744297">}</span><span class="op" id="6744298">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744301">{</span><span class="string" id="6744302">`.*`</span><span class="op" id="6744306">,</span>&nbsp;<span class="string" id="6744308">&#34;abcdef&#34;</span><span class="op" id="6744316">,</span>&nbsp;<span class="ident" id="6744318">build</span><span class="op" id="6744323">(</span><span class="num" id="6744324">1</span><span class="op" id="6744325">,</span>&nbsp;<span class="num" id="6744327">0</span><span class="op" id="6744328">,</span>&nbsp;<span class="num" id="6744330">6</span><span class="op" id="6744331">)</span><span class="op" id="6744332">}</span><span class="op" id="6744333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744336">{</span><span class="string" id="6744337">`^`</span><span class="op" id="6744340">,</span>&nbsp;<span class="string" id="6744342">&#34;abcde&#34;</span><span class="op" id="6744349">,</span>&nbsp;<span class="ident" id="6744351">build</span><span class="op" id="6744356">(</span><span class="num" id="6744357">1</span><span class="op" id="6744358">,</span>&nbsp;<span class="num" id="6744360">0</span><span class="op" id="6744361">,</span>&nbsp;<span class="num" id="6744363">0</span><span class="op" id="6744364">)</span><span class="op" id="6744365">}</span><span class="op" id="6744366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744369">{</span><span class="string" id="6744370">`$`</span><span class="op" id="6744373">,</span>&nbsp;<span class="string" id="6744375">&#34;abcde&#34;</span><span class="op" id="6744382">,</span>&nbsp;<span class="ident" id="6744384">build</span><span class="op" id="6744389">(</span><span class="num" id="6744390">1</span><span class="op" id="6744391">,</span>&nbsp;<span class="num" id="6744393">5</span><span class="op" id="6744394">,</span>&nbsp;<span class="num" id="6744396">5</span><span class="op" id="6744397">)</span><span class="op" id="6744398">}</span><span class="op" id="6744399">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744402">{</span><span class="string" id="6744403">`^abcd$`</span><span class="op" id="6744411">,</span>&nbsp;<span class="string" id="6744413">&#34;abcd&#34;</span><span class="op" id="6744419">,</span>&nbsp;<span class="ident" id="6744421">build</span><span class="op" id="6744426">(</span><span class="num" id="6744427">1</span><span class="op" id="6744428">,</span>&nbsp;<span class="num" id="6744430">0</span><span class="op" id="6744431">,</span>&nbsp;<span class="num" id="6744433">4</span><span class="op" id="6744434">)</span><span class="op" id="6744435">}</span><span class="op" id="6744436">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744439">{</span><span class="string" id="6744440">`^bcd&#39;`</span><span class="op" id="6744447">,</span>&nbsp;<span class="string" id="6744449">&#34;abcdef&#34;</span><span class="op" id="6744457">,</span>&nbsp;<span class="ident" id="6744459">nil</span><span class="op" id="6744462">}</span><span class="op" id="6744463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744466">{</span><span class="string" id="6744467">`^abcd$`</span><span class="op" id="6744475">,</span>&nbsp;<span class="string" id="6744477">&#34;abcde&#34;</span><span class="op" id="6744484">,</span>&nbsp;<span class="ident" id="6744486">nil</span><span class="op" id="6744489">}</span><span class="op" id="6744490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744493">{</span><span class="string" id="6744494">`a+`</span><span class="op" id="6744498">,</span>&nbsp;<span class="string" id="6744500">&#34;baaab&#34;</span><span class="op" id="6744507">,</span>&nbsp;<span class="ident" id="6744509">build</span><span class="op" id="6744514">(</span><span class="num" id="6744515">1</span><span class="op" id="6744516">,</span>&nbsp;<span class="num" id="6744518">1</span><span class="op" id="6744519">,</span>&nbsp;<span class="num" id="6744521">4</span><span class="op" id="6744522">)</span><span class="op" id="6744523">}</span><span class="op" id="6744524">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744527">{</span><span class="string" id="6744528">`a*`</span><span class="op" id="6744532">,</span>&nbsp;<span class="string" id="6744534">&#34;baaab&#34;</span><span class="op" id="6744541">,</span>&nbsp;<span class="ident" id="6744543">build</span><span class="op" id="6744548">(</span><span class="num" id="6744549">3</span><span class="op" id="6744550">,</span>&nbsp;<span class="num" id="6744552">0</span><span class="op" id="6744553">,</span>&nbsp;<span class="num" id="6744555">0</span><span class="op" id="6744556">,</span>&nbsp;<span class="num" id="6744558">1</span><span class="op" id="6744559">,</span>&nbsp;<span class="num" id="6744561">4</span><span class="op" id="6744562">,</span>&nbsp;<span class="num" id="6744564">5</span><span class="op" id="6744565">,</span>&nbsp;<span class="num" id="6744567">5</span><span class="op" id="6744568">)</span><span class="op" id="6744569">}</span><span class="op" id="6744570">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744573">{</span><span class="string" id="6744574">`[a-z]+`</span><span class="op" id="6744582">,</span>&nbsp;<span class="string" id="6744584">&#34;abcd&#34;</span><span class="op" id="6744590">,</span>&nbsp;<span class="ident" id="6744592">build</span><span class="op" id="6744597">(</span><span class="num" id="6744598">1</span><span class="op" id="6744599">,</span>&nbsp;<span class="num" id="6744601">0</span><span class="op" id="6744602">,</span>&nbsp;<span class="num" id="6744604">4</span><span class="op" id="6744605">)</span><span class="op" id="6744606">}</span><span class="op" id="6744607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744610">{</span><span class="string" id="6744611">`[^a-z]+`</span><span class="op" id="6744620">,</span>&nbsp;<span class="string" id="6744622">&#34;ab1234cd&#34;</span><span class="op" id="6744632">,</span>&nbsp;<span class="ident" id="6744634">build</span><span class="op" id="6744639">(</span><span class="num" id="6744640">1</span><span class="op" id="6744641">,</span>&nbsp;<span class="num" id="6744643">2</span><span class="op" id="6744644">,</span>&nbsp;<span class="num" id="6744646">6</span><span class="op" id="6744647">)</span><span class="op" id="6744648">}</span><span class="op" id="6744649">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744652">{</span><span class="string" id="6744653">`[a\-\]z]+`</span><span class="op" id="6744664">,</span>&nbsp;<span class="string" id="6744666">&#34;az]-bcz&#34;</span><span class="op" id="6744675">,</span>&nbsp;<span class="ident" id="6744677">build</span><span class="op" id="6744682">(</span><span class="num" id="6744683">2</span><span class="op" id="6744684">,</span>&nbsp;<span class="num" id="6744686">0</span><span class="op" id="6744687">,</span>&nbsp;<span class="num" id="6744689">4</span><span class="op" id="6744690">,</span>&nbsp;<span class="num" id="6744692">6</span><span class="op" id="6744693">,</span>&nbsp;<span class="num" id="6744695">7</span><span class="op" id="6744696">)</span><span class="op" id="6744697">}</span><span class="op" id="6744698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744701">{</span><span class="string" id="6744702">`[^\n]+`</span><span class="op" id="6744710">,</span>&nbsp;<span class="string" id="6744712">&#34;abcd\n&#34;</span><span class="op" id="6744720">,</span>&nbsp;<span class="ident" id="6744722">build</span><span class="op" id="6744727">(</span><span class="num" id="6744728">1</span><span class="op" id="6744729">,</span>&nbsp;<span class="num" id="6744731">0</span><span class="op" id="6744732">,</span>&nbsp;<span class="num" id="6744734">4</span><span class="op" id="6744735">)</span><span class="op" id="6744736">}</span><span class="op" id="6744737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744740">{</span><span class="string" id="6744741">`[日本語]+`</span><span class="op" id="6744755">,</span>&nbsp;<span class="string" id="6744757">&#34;日本語日本語&#34;</span><span class="op" id="6744777">,</span>&nbsp;<span class="ident" id="6744779">build</span><span class="op" id="6744784">(</span><span class="num" id="6744785">1</span><span class="op" id="6744786">,</span>&nbsp;<span class="num" id="6744788">0</span><span class="op" id="6744789">,</span>&nbsp;<span class="num" id="6744791">18</span><span class="op" id="6744793">)</span><span class="op" id="6744794">}</span><span class="op" id="6744795">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744798">{</span><span class="string" id="6744799">`日本語+`</span><span class="op" id="6744811">,</span>&nbsp;<span class="string" id="6744813">&#34;日本語&#34;</span><span class="op" id="6744824">,</span>&nbsp;<span class="ident" id="6744826">build</span><span class="op" id="6744831">(</span><span class="num" id="6744832">1</span><span class="op" id="6744833">,</span>&nbsp;<span class="num" id="6744835">0</span><span class="op" id="6744836">,</span>&nbsp;<span class="num" id="6744838">9</span><span class="op" id="6744839">)</span><span class="op" id="6744840">}</span><span class="op" id="6744841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744844">{</span><span class="string" id="6744845">`日本語+`</span><span class="op" id="6744857">,</span>&nbsp;<span class="string" id="6744859">&#34;日本語語語語&#34;</span><span class="op" id="6744879">,</span>&nbsp;<span class="ident" id="6744881">build</span><span class="op" id="6744886">(</span><span class="num" id="6744887">1</span><span class="op" id="6744888">,</span>&nbsp;<span class="num" id="6744890">0</span><span class="op" id="6744891">,</span>&nbsp;<span class="num" id="6744893">18</span><span class="op" id="6744895">)</span><span class="op" id="6744896">}</span><span class="op" id="6744897">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744900">{</span><span class="string" id="6744901">`()`</span><span class="op" id="6744905">,</span>&nbsp;<span class="string" id="6744907">&#34;&#34;</span><span class="op" id="6744909">,</span>&nbsp;<span class="ident" id="6744911">build</span><span class="op" id="6744916">(</span><span class="num" id="6744917">1</span><span class="op" id="6744918">,</span>&nbsp;<span class="num" id="6744920">0</span><span class="op" id="6744921">,</span>&nbsp;<span class="num" id="6744923">0</span><span class="op" id="6744924">,</span>&nbsp;<span class="num" id="6744926">0</span><span class="op" id="6744927">,</span>&nbsp;<span class="num" id="6744929">0</span><span class="op" id="6744930">)</span><span class="op" id="6744931">}</span><span class="op" id="6744932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744935">{</span><span class="string" id="6744936">`(a)`</span><span class="op" id="6744941">,</span>&nbsp;<span class="string" id="6744943">&#34;a&#34;</span><span class="op" id="6744946">,</span>&nbsp;<span class="ident" id="6744948">build</span><span class="op" id="6744953">(</span><span class="num" id="6744954">1</span><span class="op" id="6744955">,</span>&nbsp;<span class="num" id="6744957">0</span><span class="op" id="6744958">,</span>&nbsp;<span class="num" id="6744960">1</span><span class="op" id="6744961">,</span>&nbsp;<span class="num" id="6744963">0</span><span class="op" id="6744964">,</span>&nbsp;<span class="num" id="6744966">1</span><span class="op" id="6744967">)</span><span class="op" id="6744968">}</span><span class="op" id="6744969">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6744972">{</span><span class="string" id="6744973">`(.)(.)`</span><span class="op" id="6744981">,</span>&nbsp;<span class="string" id="6744983">&#34;日a&#34;</span><span class="op" id="6744989">,</span>&nbsp;<span class="ident" id="6744991">build</span><span class="op" id="6744996">(</span><span class="num" id="6744997">1</span><span class="op" id="6744998">,</span>&nbsp;<span class="num" id="6745000">0</span><span class="op" id="6745001">,</span>&nbsp;<span class="num" id="6745003">4</span><span class="op" id="6745004">,</span>&nbsp;<span class="num" id="6745006">0</span><span class="op" id="6745007">,</span>&nbsp;<span class="num" id="6745009">3</span><span class="op" id="6745010">,</span>&nbsp;<span class="num" id="6745012">3</span><span class="op" id="6745013">,</span>&nbsp;<span class="num" id="6745015">4</span><span class="op" id="6745016">)</span><span class="op" id="6745017">}</span><span class="op" id="6745018">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745021">{</span><span class="string" id="6745022">`(.*)`</span><span class="op" id="6745028">,</span>&nbsp;<span class="string" id="6745030">&#34;&#34;</span><span class="op" id="6745032">,</span>&nbsp;<span class="ident" id="6745034">build</span><span class="op" id="6745039">(</span><span class="num" id="6745040">1</span><span class="op" id="6745041">,</span>&nbsp;<span class="num" id="6745043">0</span><span class="op" id="6745044">,</span>&nbsp;<span class="num" id="6745046">0</span><span class="op" id="6745047">,</span>&nbsp;<span class="num" id="6745049">0</span><span class="op" id="6745050">,</span>&nbsp;<span class="num" id="6745052">0</span><span class="op" id="6745053">)</span><span class="op" id="6745054">}</span><span class="op" id="6745055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745058">{</span><span class="string" id="6745059">`(.*)`</span><span class="op" id="6745065">,</span>&nbsp;<span class="string" id="6745067">&#34;abcd&#34;</span><span class="op" id="6745073">,</span>&nbsp;<span class="ident" id="6745075">build</span><span class="op" id="6745080">(</span><span class="num" id="6745081">1</span><span class="op" id="6745082">,</span>&nbsp;<span class="num" id="6745084">0</span><span class="op" id="6745085">,</span>&nbsp;<span class="num" id="6745087">4</span><span class="op" id="6745088">,</span>&nbsp;<span class="num" id="6745090">0</span><span class="op" id="6745091">,</span>&nbsp;<span class="num" id="6745093">4</span><span class="op" id="6745094">)</span><span class="op" id="6745095">}</span><span class="op" id="6745096">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745099">{</span><span class="string" id="6745100">`(..)(..)`</span><span class="op" id="6745110">,</span>&nbsp;<span class="string" id="6745112">&#34;abcd&#34;</span><span class="op" id="6745118">,</span>&nbsp;<span class="ident" id="6745120">build</span><span class="op" id="6745125">(</span><span class="num" id="6745126">1</span><span class="op" id="6745127">,</span>&nbsp;<span class="num" id="6745129">0</span><span class="op" id="6745130">,</span>&nbsp;<span class="num" id="6745132">4</span><span class="op" id="6745133">,</span>&nbsp;<span class="num" id="6745135">0</span><span class="op" id="6745136">,</span>&nbsp;<span class="num" id="6745138">2</span><span class="op" id="6745139">,</span>&nbsp;<span class="num" id="6745141">2</span><span class="op" id="6745142">,</span>&nbsp;<span class="num" id="6745144">4</span><span class="op" id="6745145">)</span><span class="op" id="6745146">}</span><span class="op" id="6745147">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745150">{</span><span class="string" id="6745151">`(([^xyz]*)(d))`</span><span class="op" id="6745167">,</span>&nbsp;<span class="string" id="6745169">&#34;abcd&#34;</span><span class="op" id="6745175">,</span>&nbsp;<span class="ident" id="6745177">build</span><span class="op" id="6745182">(</span><span class="num" id="6745183">1</span><span class="op" id="6745184">,</span>&nbsp;<span class="num" id="6745186">0</span><span class="op" id="6745187">,</span>&nbsp;<span class="num" id="6745189">4</span><span class="op" id="6745190">,</span>&nbsp;<span class="num" id="6745192">0</span><span class="op" id="6745193">,</span>&nbsp;<span class="num" id="6745195">4</span><span class="op" id="6745196">,</span>&nbsp;<span class="num" id="6745198">0</span><span class="op" id="6745199">,</span>&nbsp;<span class="num" id="6745201">3</span><span class="op" id="6745202">,</span>&nbsp;<span class="num" id="6745204">3</span><span class="op" id="6745205">,</span>&nbsp;<span class="num" id="6745207">4</span><span class="op" id="6745208">)</span><span class="op" id="6745209">}</span><span class="op" id="6745210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745213">{</span><span class="string" id="6745214">`((a|b|c)*(d))`</span><span class="op" id="6745229">,</span>&nbsp;<span class="string" id="6745231">&#34;abcd&#34;</span><span class="op" id="6745237">,</span>&nbsp;<span class="ident" id="6745239">build</span><span class="op" id="6745244">(</span><span class="num" id="6745245">1</span><span class="op" id="6745246">,</span>&nbsp;<span class="num" id="6745248">0</span><span class="op" id="6745249">,</span>&nbsp;<span class="num" id="6745251">4</span><span class="op" id="6745252">,</span>&nbsp;<span class="num" id="6745254">0</span><span class="op" id="6745255">,</span>&nbsp;<span class="num" id="6745257">4</span><span class="op" id="6745258">,</span>&nbsp;<span class="num" id="6745260">2</span><span class="op" id="6745261">,</span>&nbsp;<span class="num" id="6745263">3</span><span class="op" id="6745264">,</span>&nbsp;<span class="num" id="6745266">3</span><span class="op" id="6745267">,</span>&nbsp;<span class="num" id="6745269">4</span><span class="op" id="6745270">)</span><span class="op" id="6745271">}</span><span class="op" id="6745272">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745275">{</span><span class="string" id="6745276">`(((a|b|c)*)(d))`</span><span class="op" id="6745293">,</span>&nbsp;<span class="string" id="6745295">&#34;abcd&#34;</span><span class="op" id="6745301">,</span>&nbsp;<span class="ident" id="6745303">build</span><span class="op" id="6745308">(</span><span class="num" id="6745309">1</span><span class="op" id="6745310">,</span>&nbsp;<span class="num" id="6745312">0</span><span class="op" id="6745313">,</span>&nbsp;<span class="num" id="6745315">4</span><span class="op" id="6745316">,</span>&nbsp;<span class="num" id="6745318">0</span><span class="op" id="6745319">,</span>&nbsp;<span class="num" id="6745321">4</span><span class="op" id="6745322">,</span>&nbsp;<span class="num" id="6745324">0</span><span class="op" id="6745325">,</span>&nbsp;<span class="num" id="6745327">3</span><span class="op" id="6745328">,</span>&nbsp;<span class="num" id="6745330">2</span><span class="op" id="6745331">,</span>&nbsp;<span class="num" id="6745333">3</span><span class="op" id="6745334">,</span>&nbsp;<span class="num" id="6745336">3</span><span class="op" id="6745337">,</span>&nbsp;<span class="num" id="6745339">4</span><span class="op" id="6745340">)</span><span class="op" id="6745341">}</span><span class="op" id="6745342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745345">{</span><span class="string" id="6745346">`\a\f\n\r\t\v`</span><span class="op" id="6745360">,</span>&nbsp;<span class="string" id="6745362">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="6745376">,</span>&nbsp;<span class="ident" id="6745378">build</span><span class="op" id="6745383">(</span><span class="num" id="6745384">1</span><span class="op" id="6745385">,</span>&nbsp;<span class="num" id="6745387">0</span><span class="op" id="6745388">,</span>&nbsp;<span class="num" id="6745390">6</span><span class="op" id="6745391">)</span><span class="op" id="6745392">}</span><span class="op" id="6745393">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745396">{</span><span class="string" id="6745397">`[\a\f\n\r\t\v]+`</span><span class="op" id="6745414">,</span>&nbsp;<span class="string" id="6745416">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="6745430">,</span>&nbsp;<span class="ident" id="6745432">build</span><span class="op" id="6745437">(</span><span class="num" id="6745438">1</span><span class="op" id="6745439">,</span>&nbsp;<span class="num" id="6745441">0</span><span class="op" id="6745442">,</span>&nbsp;<span class="num" id="6745444">6</span><span class="op" id="6745445">)</span><span class="op" id="6745446">}</span><span class="op" id="6745447">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745451">{</span><span class="string" id="6745452">`a*(|(b))c*`</span><span class="op" id="6745464">,</span>&nbsp;<span class="string" id="6745466">&#34;aacc&#34;</span><span class="op" id="6745472">,</span>&nbsp;<span class="ident" id="6745474">build</span><span class="op" id="6745479">(</span><span class="num" id="6745480">1</span><span class="op" id="6745481">,</span>&nbsp;<span class="num" id="6745483">0</span><span class="op" id="6745484">,</span>&nbsp;<span class="num" id="6745486">4</span><span class="op" id="6745487">,</span>&nbsp;<span class="num" id="6745489">2</span><span class="op" id="6745490">,</span>&nbsp;<span class="num" id="6745492">2</span><span class="op" id="6745493">,</span>&nbsp;<span class="op" id="6745495">-</span><span class="num" id="6745496">1</span><span class="op" id="6745497">,</span>&nbsp;<span class="op" id="6745499">-</span><span class="num" id="6745500">1</span><span class="op" id="6745501">)</span><span class="op" id="6745502">}</span><span class="op" id="6745503">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745506">{</span><span class="string" id="6745507">`(.*).*`</span><span class="op" id="6745515">,</span>&nbsp;<span class="string" id="6745517">&#34;ab&#34;</span><span class="op" id="6745521">,</span>&nbsp;<span class="ident" id="6745523">build</span><span class="op" id="6745528">(</span><span class="num" id="6745529">1</span><span class="op" id="6745530">,</span>&nbsp;<span class="num" id="6745532">0</span><span class="op" id="6745533">,</span>&nbsp;<span class="num" id="6745535">2</span><span class="op" id="6745536">,</span>&nbsp;<span class="num" id="6745538">0</span><span class="op" id="6745539">,</span>&nbsp;<span class="num" id="6745541">2</span><span class="op" id="6745542">)</span><span class="op" id="6745543">}</span><span class="op" id="6745544">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745547">{</span><span class="string" id="6745548">`[.]`</span><span class="op" id="6745553">,</span>&nbsp;<span class="string" id="6745555">&#34;.&#34;</span><span class="op" id="6745558">,</span>&nbsp;<span class="ident" id="6745560">build</span><span class="op" id="6745565">(</span><span class="num" id="6745566">1</span><span class="op" id="6745567">,</span>&nbsp;<span class="num" id="6745569">0</span><span class="op" id="6745570">,</span>&nbsp;<span class="num" id="6745572">1</span><span class="op" id="6745573">)</span><span class="op" id="6745574">}</span><span class="op" id="6745575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745578">{</span><span class="string" id="6745579">`/$`</span><span class="op" id="6745583">,</span>&nbsp;<span class="string" id="6745585">&#34;/abc/&#34;</span><span class="op" id="6745592">,</span>&nbsp;<span class="ident" id="6745594">build</span><span class="op" id="6745599">(</span><span class="num" id="6745600">1</span><span class="op" id="6745601">,</span>&nbsp;<span class="num" id="6745603">4</span><span class="op" id="6745604">,</span>&nbsp;<span class="num" id="6745606">5</span><span class="op" id="6745607">)</span><span class="op" id="6745608">}</span><span class="op" id="6745609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745612">{</span><span class="string" id="6745613">`/$`</span><span class="op" id="6745617">,</span>&nbsp;<span class="string" id="6745619">&#34;/abc&#34;</span><span class="op" id="6745625">,</span>&nbsp;<span class="ident" id="6745627">nil</span><span class="op" id="6745630">}</span><span class="op" id="6745631">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6745635">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745656">{</span><span class="string" id="6745657">`.`</span><span class="op" id="6745660">,</span>&nbsp;<span class="string" id="6745662">&#34;abc&#34;</span><span class="op" id="6745667">,</span>&nbsp;<span class="ident" id="6745669">build</span><span class="op" id="6745674">(</span><span class="num" id="6745675">3</span><span class="op" id="6745676">,</span>&nbsp;<span class="num" id="6745678">0</span><span class="op" id="6745679">,</span>&nbsp;<span class="num" id="6745681">1</span><span class="op" id="6745682">,</span>&nbsp;<span class="num" id="6745684">1</span><span class="op" id="6745685">,</span>&nbsp;<span class="num" id="6745687">2</span><span class="op" id="6745688">,</span>&nbsp;<span class="num" id="6745690">2</span><span class="op" id="6745691">,</span>&nbsp;<span class="num" id="6745693">3</span><span class="op" id="6745694">)</span><span class="op" id="6745695">}</span><span class="op" id="6745696">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745699">{</span><span class="string" id="6745700">`(.)`</span><span class="op" id="6745705">,</span>&nbsp;<span class="string" id="6745707">&#34;abc&#34;</span><span class="op" id="6745712">,</span>&nbsp;<span class="ident" id="6745714">build</span><span class="op" id="6745719">(</span><span class="num" id="6745720">3</span><span class="op" id="6745721">,</span>&nbsp;<span class="num" id="6745723">0</span><span class="op" id="6745724">,</span>&nbsp;<span class="num" id="6745726">1</span><span class="op" id="6745727">,</span>&nbsp;<span class="num" id="6745729">0</span><span class="op" id="6745730">,</span>&nbsp;<span class="num" id="6745732">1</span><span class="op" id="6745733">,</span>&nbsp;<span class="num" id="6745735">1</span><span class="op" id="6745736">,</span>&nbsp;<span class="num" id="6745738">2</span><span class="op" id="6745739">,</span>&nbsp;<span class="num" id="6745741">1</span><span class="op" id="6745742">,</span>&nbsp;<span class="num" id="6745744">2</span><span class="op" id="6745745">,</span>&nbsp;<span class="num" id="6745747">2</span><span class="op" id="6745748">,</span>&nbsp;<span class="num" id="6745750">3</span><span class="op" id="6745751">,</span>&nbsp;<span class="num" id="6745753">2</span><span class="op" id="6745754">,</span>&nbsp;<span class="num" id="6745756">3</span><span class="op" id="6745757">)</span><span class="op" id="6745758">}</span><span class="op" id="6745759">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745762">{</span><span class="string" id="6745763">`.(.)`</span><span class="op" id="6745769">,</span>&nbsp;<span class="string" id="6745771">&#34;abcd&#34;</span><span class="op" id="6745777">,</span>&nbsp;<span class="ident" id="6745779">build</span><span class="op" id="6745784">(</span><span class="num" id="6745785">2</span><span class="op" id="6745786">,</span>&nbsp;<span class="num" id="6745788">0</span><span class="op" id="6745789">,</span>&nbsp;<span class="num" id="6745791">2</span><span class="op" id="6745792">,</span>&nbsp;<span class="num" id="6745794">1</span><span class="op" id="6745795">,</span>&nbsp;<span class="num" id="6745797">2</span><span class="op" id="6745798">,</span>&nbsp;<span class="num" id="6745800">2</span><span class="op" id="6745801">,</span>&nbsp;<span class="num" id="6745803">4</span><span class="op" id="6745804">,</span>&nbsp;<span class="num" id="6745806">3</span><span class="op" id="6745807">,</span>&nbsp;<span class="num" id="6745809">4</span><span class="op" id="6745810">)</span><span class="op" id="6745811">}</span><span class="op" id="6745812">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745815">{</span><span class="string" id="6745816">`ab*`</span><span class="op" id="6745821">,</span>&nbsp;<span class="string" id="6745823">&#34;abbaab&#34;</span><span class="op" id="6745831">,</span>&nbsp;<span class="ident" id="6745833">build</span><span class="op" id="6745838">(</span><span class="num" id="6745839">3</span><span class="op" id="6745840">,</span>&nbsp;<span class="num" id="6745842">0</span><span class="op" id="6745843">,</span>&nbsp;<span class="num" id="6745845">3</span><span class="op" id="6745846">,</span>&nbsp;<span class="num" id="6745848">3</span><span class="op" id="6745849">,</span>&nbsp;<span class="num" id="6745851">4</span><span class="op" id="6745852">,</span>&nbsp;<span class="num" id="6745854">4</span><span class="op" id="6745855">,</span>&nbsp;<span class="num" id="6745857">6</span><span class="op" id="6745858">)</span><span class="op" id="6745859">}</span><span class="op" id="6745860">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745863">{</span><span class="string" id="6745864">`a(b*)`</span><span class="op" id="6745871">,</span>&nbsp;<span class="string" id="6745873">&#34;abbaab&#34;</span><span class="op" id="6745881">,</span>&nbsp;<span class="ident" id="6745883">build</span><span class="op" id="6745888">(</span><span class="num" id="6745889">3</span><span class="op" id="6745890">,</span>&nbsp;<span class="num" id="6745892">0</span><span class="op" id="6745893">,</span>&nbsp;<span class="num" id="6745895">3</span><span class="op" id="6745896">,</span>&nbsp;<span class="num" id="6745898">1</span><span class="op" id="6745899">,</span>&nbsp;<span class="num" id="6745901">3</span><span class="op" id="6745902">,</span>&nbsp;<span class="num" id="6745904">3</span><span class="op" id="6745905">,</span>&nbsp;<span class="num" id="6745907">4</span><span class="op" id="6745908">,</span>&nbsp;<span class="num" id="6745910">4</span><span class="op" id="6745911">,</span>&nbsp;<span class="num" id="6745913">4</span><span class="op" id="6745914">,</span>&nbsp;<span class="num" id="6745916">4</span><span class="op" id="6745917">,</span>&nbsp;<span class="num" id="6745919">6</span><span class="op" id="6745920">,</span>&nbsp;<span class="num" id="6745922">5</span><span class="op" id="6745923">,</span>&nbsp;<span class="num" id="6745925">6</span><span class="op" id="6745926">)</span><span class="op" id="6745927">}</span><span class="op" id="6745928">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6745932">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745947">{</span><span class="string" id="6745948">`ab$`</span><span class="op" id="6745953">,</span>&nbsp;<span class="string" id="6745955">&#34;cab&#34;</span><span class="op" id="6745960">,</span>&nbsp;<span class="ident" id="6745962">build</span><span class="op" id="6745967">(</span><span class="num" id="6745968">1</span><span class="op" id="6745969">,</span>&nbsp;<span class="num" id="6745971">1</span><span class="op" id="6745972">,</span>&nbsp;<span class="num" id="6745974">3</span><span class="op" id="6745975">)</span><span class="op" id="6745976">}</span><span class="op" id="6745977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6745980">{</span><span class="string" id="6745981">`axxb$`</span><span class="op" id="6745988">,</span>&nbsp;<span class="string" id="6745990">&#34;axxcb&#34;</span><span class="op" id="6745997">,</span>&nbsp;<span class="ident" id="6745999">nil</span><span class="op" id="6746002">}</span><span class="op" id="6746003">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746006">{</span><span class="string" id="6746007">`data`</span><span class="op" id="6746013">,</span>&nbsp;<span class="string" id="6746015">&#34;daXY&nbsp;data&#34;</span><span class="op" id="6746026">,</span>&nbsp;<span class="ident" id="6746028">build</span><span class="op" id="6746033">(</span><span class="num" id="6746034">1</span><span class="op" id="6746035">,</span>&nbsp;<span class="num" id="6746037">5</span><span class="op" id="6746038">,</span>&nbsp;<span class="num" id="6746040">9</span><span class="op" id="6746041">)</span><span class="op" id="6746042">}</span><span class="op" id="6746043">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746046">{</span><span class="string" id="6746047">`da(.)a$`</span><span class="op" id="6746056">,</span>&nbsp;<span class="string" id="6746058">&#34;daXY&nbsp;data&#34;</span><span class="op" id="6746069">,</span>&nbsp;<span class="ident" id="6746071">build</span><span class="op" id="6746076">(</span><span class="num" id="6746077">1</span><span class="op" id="6746078">,</span>&nbsp;<span class="num" id="6746080">5</span><span class="op" id="6746081">,</span>&nbsp;<span class="num" id="6746083">9</span><span class="op" id="6746084">,</span>&nbsp;<span class="num" id="6746086">7</span><span class="op" id="6746087">,</span>&nbsp;<span class="num" id="6746089">8</span><span class="op" id="6746090">)</span><span class="op" id="6746091">}</span><span class="op" id="6746092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746095">{</span><span class="string" id="6746096">`zx+`</span><span class="op" id="6746101">,</span>&nbsp;<span class="string" id="6746103">&#34;zzx&#34;</span><span class="op" id="6746108">,</span>&nbsp;<span class="ident" id="6746110">build</span><span class="op" id="6746115">(</span><span class="num" id="6746116">1</span><span class="op" id="6746117">,</span>&nbsp;<span class="num" id="6746119">1</span><span class="op" id="6746120">,</span>&nbsp;<span class="num" id="6746122">3</span><span class="op" id="6746123">)</span><span class="op" id="6746124">}</span><span class="op" id="6746125">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746128">{</span><span class="string" id="6746129">`ab$`</span><span class="op" id="6746134">,</span>&nbsp;<span class="string" id="6746136">&#34;abcab&#34;</span><span class="op" id="6746143">,</span>&nbsp;<span class="ident" id="6746145">build</span><span class="op" id="6746150">(</span><span class="num" id="6746151">1</span><span class="op" id="6746152">,</span>&nbsp;<span class="num" id="6746154">3</span><span class="op" id="6746155">,</span>&nbsp;<span class="num" id="6746157">5</span><span class="op" id="6746158">)</span><span class="op" id="6746159">}</span><span class="op" id="6746160">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746163">{</span><span class="string" id="6746164">`(aa)*$`</span><span class="op" id="6746172">,</span>&nbsp;<span class="string" id="6746174">&#34;a&#34;</span><span class="op" id="6746177">,</span>&nbsp;<span class="ident" id="6746179">build</span><span class="op" id="6746184">(</span><span class="num" id="6746185">1</span><span class="op" id="6746186">,</span>&nbsp;<span class="num" id="6746188">1</span><span class="op" id="6746189">,</span>&nbsp;<span class="num" id="6746191">1</span><span class="op" id="6746192">,</span>&nbsp;<span class="op" id="6746194">-</span><span class="num" id="6746195">1</span><span class="op" id="6746196">,</span>&nbsp;<span class="op" id="6746198">-</span><span class="num" id="6746199">1</span><span class="op" id="6746200">)</span><span class="op" id="6746201">}</span><span class="op" id="6746202">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746205">{</span><span class="string" id="6746206">`(?:.|(?:.a))`</span><span class="op" id="6746220">,</span>&nbsp;<span class="string" id="6746222">&#34;&#34;</span><span class="op" id="6746224">,</span>&nbsp;<span class="ident" id="6746226">nil</span><span class="op" id="6746229">}</span><span class="op" id="6746230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746233">{</span><span class="string" id="6746234">`(?:A(?:A|a))`</span><span class="op" id="6746248">,</span>&nbsp;<span class="string" id="6746250">&#34;Aa&#34;</span><span class="op" id="6746254">,</span>&nbsp;<span class="ident" id="6746256">build</span><span class="op" id="6746261">(</span><span class="num" id="6746262">1</span><span class="op" id="6746263">,</span>&nbsp;<span class="num" id="6746265">0</span><span class="op" id="6746266">,</span>&nbsp;<span class="num" id="6746268">2</span><span class="op" id="6746269">)</span><span class="op" id="6746270">}</span><span class="op" id="6746271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746274">{</span><span class="string" id="6746275">`(?:A|(?:A|a))`</span><span class="op" id="6746290">,</span>&nbsp;<span class="string" id="6746292">&#34;a&#34;</span><span class="op" id="6746295">,</span>&nbsp;<span class="ident" id="6746297">build</span><span class="op" id="6746302">(</span><span class="num" id="6746303">1</span><span class="op" id="6746304">,</span>&nbsp;<span class="num" id="6746306">0</span><span class="op" id="6746307">,</span>&nbsp;<span class="num" id="6746309">1</span><span class="op" id="6746310">)</span><span class="op" id="6746311">}</span><span class="op" id="6746312">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746315">{</span><span class="string" id="6746316">`(a){0}`</span><span class="op" id="6746324">,</span>&nbsp;<span class="string" id="6746326">&#34;&#34;</span><span class="op" id="6746328">,</span>&nbsp;<span class="ident" id="6746330">build</span><span class="op" id="6746335">(</span><span class="num" id="6746336">1</span><span class="op" id="6746337">,</span>&nbsp;<span class="num" id="6746339">0</span><span class="op" id="6746340">,</span>&nbsp;<span class="num" id="6746342">0</span><span class="op" id="6746343">,</span>&nbsp;<span class="op" id="6746345">-</span><span class="num" id="6746346">1</span><span class="op" id="6746347">,</span>&nbsp;<span class="op" id="6746349">-</span><span class="num" id="6746350">1</span><span class="op" id="6746351">)</span><span class="op" id="6746352">}</span><span class="op" id="6746353">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746356">{</span><span class="string" id="6746357">`(?-s)(?:(?:^).)`</span><span class="op" id="6746374">,</span>&nbsp;<span class="string" id="6746376">&#34;\n&#34;</span><span class="op" id="6746380">,</span>&nbsp;<span class="ident" id="6746382">nil</span><span class="op" id="6746385">}</span><span class="op" id="6746386">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746389">{</span><span class="string" id="6746390">`(?s)(?:(?:^).)`</span><span class="op" id="6746406">,</span>&nbsp;<span class="string" id="6746408">&#34;\n&#34;</span><span class="op" id="6746412">,</span>&nbsp;<span class="ident" id="6746414">build</span><span class="op" id="6746419">(</span><span class="num" id="6746420">1</span><span class="op" id="6746421">,</span>&nbsp;<span class="num" id="6746423">0</span><span class="op" id="6746424">,</span>&nbsp;<span class="num" id="6746426">1</span><span class="op" id="6746427">)</span><span class="op" id="6746428">}</span><span class="op" id="6746429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746432">{</span><span class="string" id="6746433">`(?:(?:^).)`</span><span class="op" id="6746445">,</span>&nbsp;<span class="string" id="6746447">&#34;\n&#34;</span><span class="op" id="6746451">,</span>&nbsp;<span class="ident" id="6746453">nil</span><span class="op" id="6746456">}</span><span class="op" id="6746457">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746460">{</span><span class="string" id="6746461">`\b`</span><span class="op" id="6746465">,</span>&nbsp;<span class="string" id="6746467">&#34;x&#34;</span><span class="op" id="6746470">,</span>&nbsp;<span class="ident" id="6746472">build</span><span class="op" id="6746477">(</span><span class="num" id="6746478">2</span><span class="op" id="6746479">,</span>&nbsp;<span class="num" id="6746481">0</span><span class="op" id="6746482">,</span>&nbsp;<span class="num" id="6746484">0</span><span class="op" id="6746485">,</span>&nbsp;<span class="num" id="6746487">1</span><span class="op" id="6746488">,</span>&nbsp;<span class="num" id="6746490">1</span><span class="op" id="6746491">)</span><span class="op" id="6746492">}</span><span class="op" id="6746493">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746496">{</span><span class="string" id="6746497">`\b`</span><span class="op" id="6746501">,</span>&nbsp;<span class="string" id="6746503">&#34;xx&#34;</span><span class="op" id="6746507">,</span>&nbsp;<span class="ident" id="6746509">build</span><span class="op" id="6746514">(</span><span class="num" id="6746515">2</span><span class="op" id="6746516">,</span>&nbsp;<span class="num" id="6746518">0</span><span class="op" id="6746519">,</span>&nbsp;<span class="num" id="6746521">0</span><span class="op" id="6746522">,</span>&nbsp;<span class="num" id="6746524">2</span><span class="op" id="6746525">,</span>&nbsp;<span class="num" id="6746527">2</span><span class="op" id="6746528">)</span><span class="op" id="6746529">}</span><span class="op" id="6746530">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746533">{</span><span class="string" id="6746534">`\b`</span><span class="op" id="6746538">,</span>&nbsp;<span class="string" id="6746540">&#34;x&nbsp;y&#34;</span><span class="op" id="6746545">,</span>&nbsp;<span class="ident" id="6746547">build</span><span class="op" id="6746552">(</span><span class="num" id="6746553">4</span><span class="op" id="6746554">,</span>&nbsp;<span class="num" id="6746556">0</span><span class="op" id="6746557">,</span>&nbsp;<span class="num" id="6746559">0</span><span class="op" id="6746560">,</span>&nbsp;<span class="num" id="6746562">1</span><span class="op" id="6746563">,</span>&nbsp;<span class="num" id="6746565">1</span><span class="op" id="6746566">,</span>&nbsp;<span class="num" id="6746568">2</span><span class="op" id="6746569">,</span>&nbsp;<span class="num" id="6746571">2</span><span class="op" id="6746572">,</span>&nbsp;<span class="num" id="6746574">3</span><span class="op" id="6746575">,</span>&nbsp;<span class="num" id="6746577">3</span><span class="op" id="6746578">)</span><span class="op" id="6746579">}</span><span class="op" id="6746580">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746583">{</span><span class="string" id="6746584">`\b`</span><span class="op" id="6746588">,</span>&nbsp;<span class="string" id="6746590">&#34;xx&nbsp;yy&#34;</span><span class="op" id="6746597">,</span>&nbsp;<span class="ident" id="6746599">build</span><span class="op" id="6746604">(</span><span class="num" id="6746605">4</span><span class="op" id="6746606">,</span>&nbsp;<span class="num" id="6746608">0</span><span class="op" id="6746609">,</span>&nbsp;<span class="num" id="6746611">0</span><span class="op" id="6746612">,</span>&nbsp;<span class="num" id="6746614">2</span><span class="op" id="6746615">,</span>&nbsp;<span class="num" id="6746617">2</span><span class="op" id="6746618">,</span>&nbsp;<span class="num" id="6746620">3</span><span class="op" id="6746621">,</span>&nbsp;<span class="num" id="6746623">3</span><span class="op" id="6746624">,</span>&nbsp;<span class="num" id="6746626">5</span><span class="op" id="6746627">,</span>&nbsp;<span class="num" id="6746629">5</span><span class="op" id="6746630">)</span><span class="op" id="6746631">}</span><span class="op" id="6746632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746635">{</span><span class="string" id="6746636">`\B`</span><span class="op" id="6746640">,</span>&nbsp;<span class="string" id="6746642">&#34;x&#34;</span><span class="op" id="6746645">,</span>&nbsp;<span class="ident" id="6746647">nil</span><span class="op" id="6746650">}</span><span class="op" id="6746651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746654">{</span><span class="string" id="6746655">`\B`</span><span class="op" id="6746659">,</span>&nbsp;<span class="string" id="6746661">&#34;xx&#34;</span><span class="op" id="6746665">,</span>&nbsp;<span class="ident" id="6746667">build</span><span class="op" id="6746672">(</span><span class="num" id="6746673">1</span><span class="op" id="6746674">,</span>&nbsp;<span class="num" id="6746676">1</span><span class="op" id="6746677">,</span>&nbsp;<span class="num" id="6746679">1</span><span class="op" id="6746680">)</span><span class="op" id="6746681">}</span><span class="op" id="6746682">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746685">{</span><span class="string" id="6746686">`\B`</span><span class="op" id="6746690">,</span>&nbsp;<span class="string" id="6746692">&#34;x&nbsp;y&#34;</span><span class="op" id="6746697">,</span>&nbsp;<span class="ident" id="6746699">nil</span><span class="op" id="6746702">}</span><span class="op" id="6746703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746706">{</span><span class="string" id="6746707">`\B`</span><span class="op" id="6746711">,</span>&nbsp;<span class="string" id="6746713">&#34;xx&nbsp;yy&#34;</span><span class="op" id="6746720">,</span>&nbsp;<span class="ident" id="6746722">build</span><span class="op" id="6746727">(</span><span class="num" id="6746728">2</span><span class="op" id="6746729">,</span>&nbsp;<span class="num" id="6746731">1</span><span class="op" id="6746732">,</span>&nbsp;<span class="num" id="6746734">1</span><span class="op" id="6746735">,</span>&nbsp;<span class="num" id="6746737">4</span><span class="op" id="6746738">,</span>&nbsp;<span class="num" id="6746740">4</span><span class="op" id="6746741">)</span><span class="op" id="6746742">}</span><span class="op" id="6746743">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746747">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746761">{</span><span class="string" id="6746762">`[^\S\s]`</span><span class="op" id="6746771">,</span>&nbsp;<span class="string" id="6746773">&#34;abcd&#34;</span><span class="op" id="6746779">,</span>&nbsp;<span class="ident" id="6746781">nil</span><span class="op" id="6746784">}</span><span class="op" id="6746785">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746788">{</span><span class="string" id="6746789">`[^\S[:space:]]`</span><span class="op" id="6746805">,</span>&nbsp;<span class="string" id="6746807">&#34;abcd&#34;</span><span class="op" id="6746813">,</span>&nbsp;<span class="ident" id="6746815">nil</span><span class="op" id="6746818">}</span><span class="op" id="6746819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746822">{</span><span class="string" id="6746823">`[^\D\d]`</span><span class="op" id="6746832">,</span>&nbsp;<span class="string" id="6746834">&#34;abcd&#34;</span><span class="op" id="6746840">,</span>&nbsp;<span class="ident" id="6746842">nil</span><span class="op" id="6746845">}</span><span class="op" id="6746846">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746849">{</span><span class="string" id="6746850">`[^\D[:digit:]]`</span><span class="op" id="6746866">,</span>&nbsp;<span class="string" id="6746868">&#34;abcd&#34;</span><span class="op" id="6746874">,</span>&nbsp;<span class="ident" id="6746876">nil</span><span class="op" id="6746879">}</span><span class="op" id="6746880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746883">{</span><span class="string" id="6746884">`(?i)\W`</span><span class="op" id="6746892">,</span>&nbsp;<span class="string" id="6746894">&#34;x&#34;</span><span class="op" id="6746897">,</span>&nbsp;<span class="ident" id="6746899">nil</span><span class="op" id="6746902">}</span><span class="op" id="6746903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746906">{</span><span class="string" id="6746907">`(?i)\W`</span><span class="op" id="6746915">,</span>&nbsp;<span class="string" id="6746917">&#34;k&#34;</span><span class="op" id="6746920">,</span>&nbsp;<span class="ident" id="6746922">nil</span><span class="op" id="6746925">}</span><span class="op" id="6746926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746929">{</span><span class="string" id="6746930">`(?i)\W`</span><span class="op" id="6746938">,</span>&nbsp;<span class="string" id="6746940">&#34;s&#34;</span><span class="op" id="6746943">,</span>&nbsp;<span class="ident" id="6746945">nil</span><span class="op" id="6746948">}</span><span class="op" id="6746949">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6746953">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6746994">{</span><span class="string" id="6746995">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="6747059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747063">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="6747096">,</span>&nbsp;<span class="ident" id="6747098">build</span><span class="op" id="6747103">(</span><span class="num" id="6747104">1</span><span class="op" id="6747105">,</span>&nbsp;<span class="num" id="6747107">0</span><span class="op" id="6747108">,</span>&nbsp;<span class="num" id="6747110">31</span><span class="op" id="6747112">)</span><span class="op" id="6747113">}</span><span class="op" id="6747114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747117">{</span><span class="string" id="6747118">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="6747185">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747189">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="6747222">,</span>&nbsp;<span class="ident" id="6747224">build</span><span class="op" id="6747229">(</span><span class="num" id="6747230">1</span><span class="op" id="6747231">,</span>&nbsp;<span class="num" id="6747233">0</span><span class="op" id="6747234">,</span>&nbsp;<span class="num" id="6747236">31</span><span class="op" id="6747238">)</span><span class="op" id="6747239">}</span><span class="op" id="6747240">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747243">{</span><span class="string" id="6747244">&#34;\\`&#34;</span><span class="op" id="6747249">,</span>&nbsp;<span class="string" id="6747251">&#34;`&#34;</span><span class="op" id="6747254">,</span>&nbsp;<span class="ident" id="6747256">build</span><span class="op" id="6747261">(</span><span class="num" id="6747262">1</span><span class="op" id="6747263">,</span>&nbsp;<span class="num" id="6747265">0</span><span class="op" id="6747266">,</span>&nbsp;<span class="num" id="6747268">1</span><span class="op" id="6747269">)</span><span class="op" id="6747270">}</span><span class="op" id="6747271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747274">{</span><span class="string" id="6747275">&#34;[\\`]+&#34;</span><span class="op" id="6747283">,</span>&nbsp;<span class="string" id="6747285">&#34;`&#34;</span><span class="op" id="6747288">,</span>&nbsp;<span class="ident" id="6747290">build</span><span class="op" id="6747295">(</span><span class="num" id="6747296">1</span><span class="op" id="6747297">,</span>&nbsp;<span class="num" id="6747299">0</span><span class="op" id="6747300">,</span>&nbsp;<span class="num" id="6747302">1</span><span class="op" id="6747303">)</span><span class="op" id="6747304">}</span><span class="op" id="6747305">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6747309">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747357">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747361">&#34;.&#34;</span><span class="op" id="6747364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6747368">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="6747406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6747410">build</span><span class="op" id="6747415">(</span><span class="num" id="6747416">36</span><span class="op" id="6747418">,</span>&nbsp;<span class="num" id="6747420">0</span><span class="op" id="6747421">,</span>&nbsp;<span class="num" id="6747423">1</span><span class="op" id="6747424">,</span>&nbsp;<span class="num" id="6747426">1</span><span class="op" id="6747427">,</span>&nbsp;<span class="num" id="6747429">2</span><span class="op" id="6747430">,</span>&nbsp;<span class="num" id="6747432">2</span><span class="op" id="6747433">,</span>&nbsp;<span class="num" id="6747435">3</span><span class="op" id="6747436">,</span>&nbsp;<span class="num" id="6747438">3</span><span class="op" id="6747439">,</span>&nbsp;<span class="num" id="6747441">4</span><span class="op" id="6747442">,</span>&nbsp;<span class="num" id="6747444">4</span><span class="op" id="6747445">,</span>&nbsp;<span class="num" id="6747447">5</span><span class="op" id="6747448">,</span>&nbsp;<span class="num" id="6747450">5</span><span class="op" id="6747451">,</span>&nbsp;<span class="num" id="6747453">6</span><span class="op" id="6747454">,</span>&nbsp;<span class="num" id="6747456">6</span><span class="op" id="6747457">,</span>&nbsp;<span class="num" id="6747459">7</span><span class="op" id="6747460">,</span>&nbsp;<span class="num" id="6747462">7</span><span class="op" id="6747463">,</span>&nbsp;<span class="num" id="6747465">8</span><span class="op" id="6747466">,</span>&nbsp;<span class="num" id="6747468">8</span><span class="op" id="6747469">,</span>&nbsp;<span class="num" id="6747471">9</span><span class="op" id="6747472">,</span>&nbsp;<span class="num" id="6747474">9</span><span class="op" id="6747475">,</span>&nbsp;<span class="num" id="6747477">10</span><span class="op" id="6747479">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6747484">10</span><span class="op" id="6747486">,</span>&nbsp;<span class="num" id="6747488">11</span><span class="op" id="6747490">,</span>&nbsp;<span class="num" id="6747492">11</span><span class="op" id="6747494">,</span>&nbsp;<span class="num" id="6747496">12</span><span class="op" id="6747498">,</span>&nbsp;<span class="num" id="6747500">12</span><span class="op" id="6747502">,</span>&nbsp;<span class="num" id="6747504">13</span><span class="op" id="6747506">,</span>&nbsp;<span class="num" id="6747508">13</span><span class="op" id="6747510">,</span>&nbsp;<span class="num" id="6747512">14</span><span class="op" id="6747514">,</span>&nbsp;<span class="num" id="6747516">14</span><span class="op" id="6747518">,</span>&nbsp;<span class="num" id="6747520">15</span><span class="op" id="6747522">,</span>&nbsp;<span class="num" id="6747524">15</span><span class="op" id="6747526">,</span>&nbsp;<span class="num" id="6747528">16</span><span class="op" id="6747530">,</span>&nbsp;<span class="num" id="6747532">16</span><span class="op" id="6747534">,</span>&nbsp;<span class="num" id="6747536">17</span><span class="op" id="6747538">,</span>&nbsp;<span class="num" id="6747540">17</span><span class="op" id="6747542">,</span>&nbsp;<span class="num" id="6747544">18</span><span class="op" id="6747546">,</span>&nbsp;<span class="num" id="6747548">18</span><span class="op" id="6747550">,</span>&nbsp;<span class="num" id="6747552">19</span><span class="op" id="6747554">,</span>&nbsp;<span class="num" id="6747556">19</span><span class="op" id="6747558">,</span>&nbsp;<span class="num" id="6747560">20</span><span class="op" id="6747562">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6747567">20</span><span class="op" id="6747569">,</span>&nbsp;<span class="num" id="6747571">21</span><span class="op" id="6747573">,</span>&nbsp;<span class="num" id="6747575">21</span><span class="op" id="6747577">,</span>&nbsp;<span class="num" id="6747579">22</span><span class="op" id="6747581">,</span>&nbsp;<span class="num" id="6747583">22</span><span class="op" id="6747585">,</span>&nbsp;<span class="num" id="6747587">23</span><span class="op" id="6747589">,</span>&nbsp;<span class="num" id="6747591">23</span><span class="op" id="6747593">,</span>&nbsp;<span class="num" id="6747595">24</span><span class="op" id="6747597">,</span>&nbsp;<span class="num" id="6747599">24</span><span class="op" id="6747601">,</span>&nbsp;<span class="num" id="6747603">25</span><span class="op" id="6747605">,</span>&nbsp;<span class="num" id="6747607">25</span><span class="op" id="6747609">,</span>&nbsp;<span class="num" id="6747611">26</span><span class="op" id="6747613">,</span>&nbsp;<span class="num" id="6747615">26</span><span class="op" id="6747617">,</span>&nbsp;<span class="num" id="6747619">27</span><span class="op" id="6747621">,</span>&nbsp;<span class="num" id="6747623">27</span><span class="op" id="6747625">,</span>&nbsp;<span class="num" id="6747627">28</span><span class="op" id="6747629">,</span>&nbsp;<span class="num" id="6747631">28</span><span class="op" id="6747633">,</span>&nbsp;<span class="num" id="6747635">29</span><span class="op" id="6747637">,</span>&nbsp;<span class="num" id="6747639">29</span><span class="op" id="6747641">,</span>&nbsp;<span class="num" id="6747643">30</span><span class="op" id="6747645">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="num" id="6747650">30</span><span class="op" id="6747652">,</span>&nbsp;<span class="num" id="6747654">31</span><span class="op" id="6747656">,</span>&nbsp;<span class="num" id="6747658">31</span><span class="op" id="6747660">,</span>&nbsp;<span class="num" id="6747662">32</span><span class="op" id="6747664">,</span>&nbsp;<span class="num" id="6747666">32</span><span class="op" id="6747668">,</span>&nbsp;<span class="num" id="6747670">33</span><span class="op" id="6747672">,</span>&nbsp;<span class="num" id="6747674">33</span><span class="op" id="6747676">,</span>&nbsp;<span class="num" id="6747678">34</span><span class="op" id="6747680">,</span>&nbsp;<span class="num" id="6747682">34</span><span class="op" id="6747684">,</span>&nbsp;<span class="num" id="6747686">35</span><span class="op" id="6747688">,</span>&nbsp;<span class="num" id="6747690">35</span><span class="op" id="6747692">,</span>&nbsp;<span class="num" id="6747694">36</span><span class="op" id="6747696">)</span><span class="op" id="6747697">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6747700">}</span><span class="op" id="6747701">,</span><br>
<span class="lineno"></span><span class="op" id="6747703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6747706">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="6747784">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="6747844">func</span>&nbsp;<span class="ident" id="6747849">build</span><span class="op" id="6747854">(</span><span class="ident" id="6747855">n</span>&nbsp;<span class="builtintype" id="6747857">int</span><span class="op" id="6747860">,</span>&nbsp;<span class="ident" id="6747862">x</span>&nbsp;<span class="op" id="6747864">...</span><span class="builtintype" id="6747867">int</span><span class="op" id="6747870">)</span>&nbsp;<span class="op" id="6747872">[</span><span class="op" id="6747873">]</span><span class="op" id="6747874">[</span><span class="op" id="6747875">]</span><span class="builtintype" id="6747876">int</span>&nbsp;<span class="op" id="6747880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6747883">ret</span>&nbsp;<span class="op" id="6747887">:=</span>&nbsp;<span class="builtinfunc" id="6747890">make</span><span class="op" id="6747894">(</span><span class="op" id="6747895">[</span><span class="op" id="6747896">]</span><span class="op" id="6747897">[</span><span class="op" id="6747898">]</span><span class="builtintype" id="6747899">int</span><span class="op" id="6747902">,</span>&nbsp;<span class="ident" id="6747904">n</span><span class="op" id="6747905">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6747908">runLength</span>&nbsp;<span class="op" id="6747918">:=</span>&nbsp;<span class="builtinfunc" id="6747921">len</span><span class="op" id="6747924">(</span><span class="ident" id="6747925">x</span><span class="op" id="6747926">)</span>&nbsp;<span class="op" id="6747928">/</span>&nbsp;<span class="ident" id="6747930">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6747933">j</span>&nbsp;<span class="op" id="6747935">:=</span>&nbsp;<span class="num" id="6747938">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6747941">for</span>&nbsp;<span class="ident" id="6747945">i</span>&nbsp;<span class="op" id="6747947">:=</span>&nbsp;<span class="keyword" id="6747950">range</span>&nbsp;<span class="ident" id="6747956">ret</span>&nbsp;<span class="op" id="6747960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6747964">ret</span><span class="op" id="6747967">[</span><span class="ident" id="6747968">i</span><span class="op" id="6747969">]</span>&nbsp;<span class="op" id="6747971">=</span>&nbsp;<span class="builtinfunc" id="6747973">make</span><span class="op" id="6747977">(</span><span class="op" id="6747978">[</span><span class="op" id="6747979">]</span><span class="builtintype" id="6747980">int</span><span class="op" id="6747983">,</span>&nbsp;<span class="ident" id="6747985">runLength</span><span class="op" id="6747994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6747998">copy</span><span class="op" id="6748002">(</span><span class="ident" id="6748003">ret</span><span class="op" id="6748006">[</span><span class="ident" id="6748007">i</span><span class="op" id="6748008">]</span><span class="op" id="6748009">,</span>&nbsp;<span class="ident" id="6748011">x</span><span class="op" id="6748012">[</span><span class="ident" id="6748013">j</span><span class="op" id="6748014">:</span><span class="op" id="6748015">]</span><span class="op" id="6748016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748020">j</span>&nbsp;<span class="op" id="6748022">+=</span>&nbsp;<span class="ident" id="6748025">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748037">if</span>&nbsp;<span class="ident" id="6748040">j</span>&nbsp;<span class="op" id="6748042">&gt;</span>&nbsp;<span class="builtinfunc" id="6748044">len</span><span class="op" id="6748047">(</span><span class="ident" id="6748048">x</span><span class="op" id="6748049">)</span>&nbsp;<span class="op" id="6748051">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="6748056">panic</span><span class="op" id="6748061">(</span><span class="string" id="6748062">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="6748083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748087">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748093">return</span>&nbsp;<span class="ident" id="6748100">ret</span><br>
<span class="lineno"></span><span class="op" id="6748104">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="6748107">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6748135">func</span>&nbsp;<span class="ident" id="6748140">TestFind</span><span class="op" id="6748148">(</span><span class="ident" id="6748149">t</span>&nbsp;<span class="op" id="6748151">*</span><span class="ident" id="6748152">testing</span><span class="op" id="6748159">.</span><span class="ident" id="6748160">T</span><span class="op" id="6748161">)</span>&nbsp;<span class="op" id="6748163">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748166">for</span>&nbsp;<span class="ident" id="6748170">_</span><span class="op" id="6748171">,</span>&nbsp;<span class="ident" id="6748173">test</span>&nbsp;<span class="op" id="6748178">:=</span>&nbsp;<span class="keyword" id="6748181">range</span>&nbsp;<span class="ident" id="6748187">findTests</span>&nbsp;<span class="op" id="6748197">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748201">re</span>&nbsp;<span class="op" id="6748204">:=</span>&nbsp;<span class="ident" id="6748207">MustCompile</span><span class="op" id="6748218">(</span><span class="ident" id="6748219">test</span><span class="op" id="6748223">.</span><span class="ident" id="6748224">pat</span><span class="op" id="6748227">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748231">if</span>&nbsp;<span class="ident" id="6748234">re</span><span class="op" id="6748236">.</span><span class="ident" id="6748237">String</span><span class="op" id="6748243">(</span><span class="op" id="6748244">)</span>&nbsp;<span class="op" id="6748246">!=</span>&nbsp;<span class="ident" id="6748249">test</span><span class="op" id="6748253">.</span><span class="ident" id="6748254">pat</span>&nbsp;<span class="op" id="6748258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748263">t</span><span class="op" id="6748264">.</span><span class="ident" id="6748265">Errorf</span><span class="op" id="6748271">(</span><span class="string" id="6748272">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="6748305">,</span>&nbsp;<span class="ident" id="6748307">re</span><span class="op" id="6748309">.</span><span class="ident" id="6748310">String</span><span class="op" id="6748316">(</span><span class="op" id="6748317">)</span><span class="op" id="6748318">,</span>&nbsp;<span class="ident" id="6748320">test</span><span class="op" id="6748324">.</span><span class="ident" id="6748325">pat</span><span class="op" id="6748328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748332">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748336">result</span>&nbsp;<span class="op" id="6748343">:=</span>&nbsp;<span class="ident" id="6748346">re</span><span class="op" id="6748348">.</span><span class="ident" id="6748349">Find</span><span class="op" id="6748353">(</span><span class="op" id="6748354">[</span><span class="op" id="6748355">]</span><span class="builtintype" id="6748356">byte</span><span class="op" id="6748360">(</span><span class="ident" id="6748361">test</span><span class="op" id="6748365">.</span><span class="ident" id="6748366">text</span><span class="op" id="6748370">)</span><span class="op" id="6748371">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748375">switch</span>&nbsp;<span class="op" id="6748382">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748386">case</span>&nbsp;<span class="builtinfunc" id="6748391">len</span><span class="op" id="6748394">(</span><span class="ident" id="6748395">test</span><span class="op" id="6748399">.</span><span class="ident" id="6748400">matches</span><span class="op" id="6748407">)</span>&nbsp;<span class="op" id="6748409">==</span>&nbsp;<span class="num" id="6748412">0</span>&nbsp;<span class="op" id="6748414">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6748417">len</span><span class="op" id="6748420">(</span><span class="ident" id="6748421">result</span><span class="op" id="6748427">)</span>&nbsp;<span class="op" id="6748429">==</span>&nbsp;<span class="num" id="6748432">0</span><span class="op" id="6748433">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6748438">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748446">case</span>&nbsp;<span class="ident" id="6748451">test</span><span class="op" id="6748455">.</span><span class="ident" id="6748456">matches</span>&nbsp;<span class="op" id="6748464">==</span>&nbsp;<span class="ident" id="6748467">nil</span>&nbsp;<span class="op" id="6748471">&amp;&amp;</span>&nbsp;<span class="ident" id="6748474">result</span>&nbsp;<span class="op" id="6748481">!=</span>&nbsp;<span class="ident" id="6748484">nil</span><span class="op" id="6748487">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748492">t</span><span class="op" id="6748493">.</span><span class="ident" id="6748494">Errorf</span><span class="op" id="6748500">(</span><span class="string" id="6748501">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6748533">,</span>&nbsp;<span class="ident" id="6748535">test</span><span class="op" id="6748539">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748543">case</span>&nbsp;<span class="ident" id="6748548">test</span><span class="op" id="6748552">.</span><span class="ident" id="6748553">matches</span>&nbsp;<span class="op" id="6748561">!=</span>&nbsp;<span class="ident" id="6748564">nil</span>&nbsp;<span class="op" id="6748568">&amp;&amp;</span>&nbsp;<span class="ident" id="6748571">result</span>&nbsp;<span class="op" id="6748578">==</span>&nbsp;<span class="ident" id="6748581">nil</span><span class="op" id="6748584">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748589">t</span><span class="op" id="6748590">.</span><span class="ident" id="6748591">Errorf</span><span class="op" id="6748597">(</span><span class="string" id="6748598">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6748628">,</span>&nbsp;<span class="ident" id="6748630">test</span><span class="op" id="6748634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748638">case</span>&nbsp;<span class="ident" id="6748643">test</span><span class="op" id="6748647">.</span><span class="ident" id="6748648">matches</span>&nbsp;<span class="op" id="6748656">!=</span>&nbsp;<span class="ident" id="6748659">nil</span>&nbsp;<span class="op" id="6748663">&amp;&amp;</span>&nbsp;<span class="ident" id="6748666">result</span>&nbsp;<span class="op" id="6748673">!=</span>&nbsp;<span class="ident" id="6748676">nil</span><span class="op" id="6748679">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748684">expect</span>&nbsp;<span class="op" id="6748691">:=</span>&nbsp;<span class="ident" id="6748694">test</span><span class="op" id="6748698">.</span><span class="ident" id="6748699">text</span><span class="op" id="6748703">[</span><span class="ident" id="6748704">test</span><span class="op" id="6748708">.</span><span class="ident" id="6748709">matches</span><span class="op" id="6748716">[</span><span class="num" id="6748717">0</span><span class="op" id="6748718">]</span><span class="op" id="6748719">[</span><span class="num" id="6748720">0</span><span class="op" id="6748721">]</span><span class="op" id="6748722">:</span><span class="ident" id="6748723">test</span><span class="op" id="6748727">.</span><span class="ident" id="6748728">matches</span><span class="op" id="6748735">[</span><span class="num" id="6748736">0</span><span class="op" id="6748737">]</span><span class="op" id="6748738">[</span><span class="num" id="6748739">1</span><span class="op" id="6748740">]</span><span class="op" id="6748741">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748746">if</span>&nbsp;<span class="ident" id="6748749">expect</span>&nbsp;<span class="op" id="6748756">!=</span>&nbsp;<span class="builtintype" id="6748759">string</span><span class="op" id="6748765">(</span><span class="ident" id="6748766">result</span><span class="op" id="6748772">)</span>&nbsp;<span class="op" id="6748774">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748780">t</span><span class="op" id="6748781">.</span><span class="ident" id="6748782">Errorf</span><span class="op" id="6748788">(</span><span class="string" id="6748789">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6748813">,</span>&nbsp;<span class="ident" id="6748815">expect</span><span class="op" id="6748821">,</span>&nbsp;<span class="ident" id="6748823">result</span><span class="op" id="6748829">,</span>&nbsp;<span class="ident" id="6748831">test</span><span class="op" id="6748835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748840">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748844">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6748847">}</span><br>
<span class="lineno"></span><span class="op" id="6748849">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6748852">func</span>&nbsp;<span class="ident" id="6748857">TestFindString</span><span class="op" id="6748871">(</span><span class="ident" id="6748872">t</span>&nbsp;<span class="op" id="6748874">*</span><span class="ident" id="6748875">testing</span><span class="op" id="6748882">.</span><span class="ident" id="6748883">T</span><span class="op" id="6748884">)</span>&nbsp;<span class="op" id="6748886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748889">for</span>&nbsp;<span class="ident" id="6748893">_</span><span class="op" id="6748894">,</span>&nbsp;<span class="ident" id="6748896">test</span>&nbsp;<span class="op" id="6748901">:=</span>&nbsp;<span class="keyword" id="6748904">range</span>&nbsp;<span class="ident" id="6748910">findTests</span>&nbsp;<span class="op" id="6748920">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6748924">result</span>&nbsp;<span class="op" id="6748931">:=</span>&nbsp;<span class="ident" id="6748934">MustCompile</span><span class="op" id="6748945">(</span><span class="ident" id="6748946">test</span><span class="op" id="6748950">.</span><span class="ident" id="6748951">pat</span><span class="op" id="6748954">)</span><span class="op" id="6748955">.</span><span class="ident" id="6748956">FindString</span><span class="op" id="6748966">(</span><span class="ident" id="6748967">test</span><span class="op" id="6748971">.</span><span class="ident" id="6748972">text</span><span class="op" id="6748976">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748980">switch</span>&nbsp;<span class="op" id="6748987">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6748991">case</span>&nbsp;<span class="builtinfunc" id="6748996">len</span><span class="op" id="6748999">(</span><span class="ident" id="6749000">test</span><span class="op" id="6749004">.</span><span class="ident" id="6749005">matches</span><span class="op" id="6749012">)</span>&nbsp;<span class="op" id="6749014">==</span>&nbsp;<span class="num" id="6749017">0</span>&nbsp;<span class="op" id="6749019">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6749022">len</span><span class="op" id="6749025">(</span><span class="ident" id="6749026">result</span><span class="op" id="6749032">)</span>&nbsp;<span class="op" id="6749034">==</span>&nbsp;<span class="num" id="6749037">0</span><span class="op" id="6749038">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749043">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749051">case</span>&nbsp;<span class="ident" id="6749056">test</span><span class="op" id="6749060">.</span><span class="ident" id="6749061">matches</span>&nbsp;<span class="op" id="6749069">==</span>&nbsp;<span class="ident" id="6749072">nil</span>&nbsp;<span class="op" id="6749076">&amp;&amp;</span>&nbsp;<span class="ident" id="6749079">result</span>&nbsp;<span class="op" id="6749086">!=</span>&nbsp;<span class="string" id="6749089">&#34;&#34;</span><span class="op" id="6749091">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749096">t</span><span class="op" id="6749097">.</span><span class="ident" id="6749098">Errorf</span><span class="op" id="6749104">(</span><span class="string" id="6749105">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6749137">,</span>&nbsp;<span class="ident" id="6749139">test</span><span class="op" id="6749143">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749147">case</span>&nbsp;<span class="ident" id="6749152">test</span><span class="op" id="6749156">.</span><span class="ident" id="6749157">matches</span>&nbsp;<span class="op" id="6749165">!=</span>&nbsp;<span class="ident" id="6749168">nil</span>&nbsp;<span class="op" id="6749172">&amp;&amp;</span>&nbsp;<span class="ident" id="6749175">result</span>&nbsp;<span class="op" id="6749182">==</span>&nbsp;<span class="string" id="6749185">&#34;&#34;</span><span class="op" id="6749187">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749192">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749272">if</span>&nbsp;<span class="ident" id="6749275">test</span><span class="op" id="6749279">.</span><span class="ident" id="6749280">matches</span><span class="op" id="6749287">[</span><span class="num" id="6749288">0</span><span class="op" id="6749289">]</span><span class="op" id="6749290">[</span><span class="num" id="6749291">0</span><span class="op" id="6749292">]</span>&nbsp;<span class="op" id="6749294">!=</span>&nbsp;<span class="ident" id="6749297">test</span><span class="op" id="6749301">.</span><span class="ident" id="6749302">matches</span><span class="op" id="6749309">[</span><span class="num" id="6749310">0</span><span class="op" id="6749311">]</span><span class="op" id="6749312">[</span><span class="num" id="6749313">1</span><span class="op" id="6749314">]</span>&nbsp;<span class="op" id="6749316">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749322">t</span><span class="op" id="6749323">.</span><span class="ident" id="6749324">Errorf</span><span class="op" id="6749330">(</span><span class="string" id="6749331">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6749361">,</span>&nbsp;<span class="ident" id="6749363">test</span><span class="op" id="6749367">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749372">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749376">case</span>&nbsp;<span class="ident" id="6749381">test</span><span class="op" id="6749385">.</span><span class="ident" id="6749386">matches</span>&nbsp;<span class="op" id="6749394">!=</span>&nbsp;<span class="ident" id="6749397">nil</span>&nbsp;<span class="op" id="6749401">&amp;&amp;</span>&nbsp;<span class="ident" id="6749404">result</span>&nbsp;<span class="op" id="6749411">!=</span>&nbsp;<span class="string" id="6749414">&#34;&#34;</span><span class="op" id="6749416">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749421">expect</span>&nbsp;<span class="op" id="6749428">:=</span>&nbsp;<span class="ident" id="6749431">test</span><span class="op" id="6749435">.</span><span class="ident" id="6749436">text</span><span class="op" id="6749440">[</span><span class="ident" id="6749441">test</span><span class="op" id="6749445">.</span><span class="ident" id="6749446">matches</span><span class="op" id="6749453">[</span><span class="num" id="6749454">0</span><span class="op" id="6749455">]</span><span class="op" id="6749456">[</span><span class="num" id="6749457">0</span><span class="op" id="6749458">]</span><span class="op" id="6749459">:</span><span class="ident" id="6749460">test</span><span class="op" id="6749464">.</span><span class="ident" id="6749465">matches</span><span class="op" id="6749472">[</span><span class="num" id="6749473">0</span><span class="op" id="6749474">]</span><span class="op" id="6749475">[</span><span class="num" id="6749476">1</span><span class="op" id="6749477">]</span><span class="op" id="6749478">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749483">if</span>&nbsp;<span class="ident" id="6749486">expect</span>&nbsp;<span class="op" id="6749493">!=</span>&nbsp;<span class="ident" id="6749496">result</span>&nbsp;<span class="op" id="6749503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749509">t</span><span class="op" id="6749510">.</span><span class="ident" id="6749511">Errorf</span><span class="op" id="6749517">(</span><span class="string" id="6749518">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6749542">,</span>&nbsp;<span class="ident" id="6749544">expect</span><span class="op" id="6749550">,</span>&nbsp;<span class="ident" id="6749552">result</span><span class="op" id="6749558">,</span>&nbsp;<span class="ident" id="6749560">test</span><span class="op" id="6749564">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749569">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749573">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6749576">}</span><br>
<span class="lineno"></span><span class="op" id="6749578">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6749581">func</span>&nbsp;<span class="ident" id="6749586">testFindIndex</span><span class="op" id="6749599">(</span><span class="ident" id="6749600">test</span>&nbsp;<span class="op" id="6749605">*</span><span class="ident" id="6749606">FindTest</span><span class="op" id="6749614">,</span>&nbsp;<span class="ident" id="6749616">result</span>&nbsp;<span class="op" id="6749623">[</span><span class="op" id="6749624">]</span><span class="builtintype" id="6749625">int</span><span class="op" id="6749628">,</span>&nbsp;<span class="ident" id="6749630">t</span>&nbsp;<span class="op" id="6749632">*</span><span class="ident" id="6749633">testing</span><span class="op" id="6749640">.</span><span class="ident" id="6749641">T</span><span class="op" id="6749642">)</span>&nbsp;<span class="op" id="6749644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749647">switch</span>&nbsp;<span class="op" id="6749654">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749657">case</span>&nbsp;<span class="builtinfunc" id="6749662">len</span><span class="op" id="6749665">(</span><span class="ident" id="6749666">test</span><span class="op" id="6749670">.</span><span class="ident" id="6749671">matches</span><span class="op" id="6749678">)</span>&nbsp;<span class="op" id="6749680">==</span>&nbsp;<span class="num" id="6749683">0</span>&nbsp;<span class="op" id="6749685">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="6749688">len</span><span class="op" id="6749691">(</span><span class="ident" id="6749692">result</span><span class="op" id="6749698">)</span>&nbsp;<span class="op" id="6749700">==</span>&nbsp;<span class="num" id="6749703">0</span><span class="op" id="6749704">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6749708">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749715">case</span>&nbsp;<span class="ident" id="6749720">test</span><span class="op" id="6749724">.</span><span class="ident" id="6749725">matches</span>&nbsp;<span class="op" id="6749733">==</span>&nbsp;<span class="ident" id="6749736">nil</span>&nbsp;<span class="op" id="6749740">&amp;&amp;</span>&nbsp;<span class="ident" id="6749743">result</span>&nbsp;<span class="op" id="6749750">!=</span>&nbsp;<span class="ident" id="6749753">nil</span><span class="op" id="6749756">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749760">t</span><span class="op" id="6749761">.</span><span class="ident" id="6749762">Errorf</span><span class="op" id="6749768">(</span><span class="string" id="6749769">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6749801">,</span>&nbsp;<span class="ident" id="6749803">test</span><span class="op" id="6749807">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749810">case</span>&nbsp;<span class="ident" id="6749815">test</span><span class="op" id="6749819">.</span><span class="ident" id="6749820">matches</span>&nbsp;<span class="op" id="6749828">!=</span>&nbsp;<span class="ident" id="6749831">nil</span>&nbsp;<span class="op" id="6749835">&amp;&amp;</span>&nbsp;<span class="ident" id="6749838">result</span>&nbsp;<span class="op" id="6749845">==</span>&nbsp;<span class="ident" id="6749848">nil</span><span class="op" id="6749851">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749855">t</span><span class="op" id="6749856">.</span><span class="ident" id="6749857">Errorf</span><span class="op" id="6749863">(</span><span class="string" id="6749864">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6749894">,</span>&nbsp;<span class="ident" id="6749896">test</span><span class="op" id="6749900">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749903">case</span>&nbsp;<span class="ident" id="6749908">test</span><span class="op" id="6749912">.</span><span class="ident" id="6749913">matches</span>&nbsp;<span class="op" id="6749921">!=</span>&nbsp;<span class="ident" id="6749924">nil</span>&nbsp;<span class="op" id="6749928">&amp;&amp;</span>&nbsp;<span class="ident" id="6749931">result</span>&nbsp;<span class="op" id="6749938">!=</span>&nbsp;<span class="ident" id="6749941">nil</span><span class="op" id="6749944">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6749948">expect</span>&nbsp;<span class="op" id="6749955">:=</span>&nbsp;<span class="ident" id="6749958">test</span><span class="op" id="6749962">.</span><span class="ident" id="6749963">matches</span><span class="op" id="6749970">[</span><span class="num" id="6749971">0</span><span class="op" id="6749972">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6749976">if</span>&nbsp;<span class="ident" id="6749979">expect</span><span class="op" id="6749985">[</span><span class="num" id="6749986">0</span><span class="op" id="6749987">]</span>&nbsp;<span class="op" id="6749989">!=</span>&nbsp;<span class="ident" id="6749992">result</span><span class="op" id="6749998">[</span><span class="num" id="6749999">0</span><span class="op" id="6750000">]</span>&nbsp;<span class="op" id="6750002">||</span>&nbsp;<span class="ident" id="6750005">expect</span><span class="op" id="6750011">[</span><span class="num" id="6750012">1</span><span class="op" id="6750013">]</span>&nbsp;<span class="op" id="6750015">!=</span>&nbsp;<span class="ident" id="6750018">result</span><span class="op" id="6750024">[</span><span class="num" id="6750025">1</span><span class="op" id="6750026">]</span>&nbsp;<span class="op" id="6750028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750033">t</span><span class="op" id="6750034">.</span><span class="ident" id="6750035">Errorf</span><span class="op" id="6750041">(</span><span class="string" id="6750042">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6750066">,</span>&nbsp;<span class="ident" id="6750068">expect</span><span class="op" id="6750074">,</span>&nbsp;<span class="ident" id="6750076">result</span><span class="op" id="6750082">,</span>&nbsp;<span class="ident" id="6750084">test</span><span class="op" id="6750088">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750092">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750095">}</span><br>
<span class="lineno"></span><span class="op" id="6750097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6750100">func</span>&nbsp;<span class="ident" id="6750105">TestFindIndex</span><span class="op" id="6750118">(</span><span class="ident" id="6750119">t</span>&nbsp;<span class="op" id="6750121">*</span><span class="ident" id="6750122">testing</span><span class="op" id="6750129">.</span><span class="ident" id="6750130">T</span><span class="op" id="6750131">)</span>&nbsp;<span class="op" id="6750133">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750136">for</span>&nbsp;<span class="ident" id="6750140">_</span><span class="op" id="6750141">,</span>&nbsp;<span class="ident" id="6750143">test</span>&nbsp;<span class="op" id="6750148">:=</span>&nbsp;<span class="keyword" id="6750151">range</span>&nbsp;<span class="ident" id="6750157">findTests</span>&nbsp;<span class="op" id="6750167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750171">testFindIndex</span><span class="op" id="6750184">(</span><span class="op" id="6750185">&amp;</span><span class="ident" id="6750186">test</span><span class="op" id="6750190">,</span>&nbsp;<span class="ident" id="6750192">MustCompile</span><span class="op" id="6750203">(</span><span class="ident" id="6750204">test</span><span class="op" id="6750208">.</span><span class="ident" id="6750209">pat</span><span class="op" id="6750212">)</span><span class="op" id="6750213">.</span><span class="ident" id="6750214">FindIndex</span><span class="op" id="6750223">(</span><span class="op" id="6750224">[</span><span class="op" id="6750225">]</span><span class="builtintype" id="6750226">byte</span><span class="op" id="6750230">(</span><span class="ident" id="6750231">test</span><span class="op" id="6750235">.</span><span class="ident" id="6750236">text</span><span class="op" id="6750240">)</span><span class="op" id="6750241">)</span><span class="op" id="6750242">,</span>&nbsp;<span class="ident" id="6750244">t</span><span class="op" id="6750245">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750248">}</span><br>
<span class="lineno"></span><span class="op" id="6750250">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="6750253">func</span>&nbsp;<span class="ident" id="6750258">TestFindStringIndex</span><span class="op" id="6750277">(</span><span class="ident" id="6750278">t</span>&nbsp;<span class="op" id="6750280">*</span><span class="ident" id="6750281">testing</span><span class="op" id="6750288">.</span><span class="ident" id="6750289">T</span><span class="op" id="6750290">)</span>&nbsp;<span class="op" id="6750292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750295">for</span>&nbsp;<span class="ident" id="6750299">_</span><span class="op" id="6750300">,</span>&nbsp;<span class="ident" id="6750302">test</span>&nbsp;<span class="op" id="6750307">:=</span>&nbsp;<span class="keyword" id="6750310">range</span>&nbsp;<span class="ident" id="6750316">findTests</span>&nbsp;<span class="op" id="6750326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750330">testFindIndex</span><span class="op" id="6750343">(</span><span class="op" id="6750344">&amp;</span><span class="ident" id="6750345">test</span><span class="op" id="6750349">,</span>&nbsp;<span class="ident" id="6750351">MustCompile</span><span class="op" id="6750362">(</span><span class="ident" id="6750363">test</span><span class="op" id="6750367">.</span><span class="ident" id="6750368">pat</span><span class="op" id="6750371">)</span><span class="op" id="6750372">.</span><span class="ident" id="6750373">FindStringIndex</span><span class="op" id="6750388">(</span><span class="ident" id="6750389">test</span><span class="op" id="6750393">.</span><span class="ident" id="6750394">text</span><span class="op" id="6750398">)</span><span class="op" id="6750399">,</span>&nbsp;<span class="ident" id="6750401">t</span><span class="op" id="6750402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750405">}</span><br>
<span class="lineno"></span><span class="op" id="6750407">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="6750410">func</span>&nbsp;<span class="ident" id="6750415">TestFindReaderIndex</span><span class="op" id="6750434">(</span><span class="ident" id="6750435">t</span>&nbsp;<span class="op" id="6750437">*</span><span class="ident" id="6750438">testing</span><span class="op" id="6750445">.</span><span class="ident" id="6750446">T</span><span class="op" id="6750447">)</span>&nbsp;<span class="op" id="6750449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750452">for</span>&nbsp;<span class="ident" id="6750456">_</span><span class="op" id="6750457">,</span>&nbsp;<span class="ident" id="6750459">test</span>&nbsp;<span class="op" id="6750464">:=</span>&nbsp;<span class="keyword" id="6750467">range</span>&nbsp;<span class="ident" id="6750473">findTests</span>&nbsp;<span class="op" id="6750483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750487">testFindIndex</span><span class="op" id="6750500">(</span><span class="op" id="6750501">&amp;</span><span class="ident" id="6750502">test</span><span class="op" id="6750506">,</span>&nbsp;<span class="ident" id="6750508">MustCompile</span><span class="op" id="6750519">(</span><span class="ident" id="6750520">test</span><span class="op" id="6750524">.</span><span class="ident" id="6750525">pat</span><span class="op" id="6750528">)</span><span class="op" id="6750529">.</span><span class="ident" id="6750530">FindReaderIndex</span><span class="op" id="6750545">(</span><span class="ident" id="6750546">strings</span><span class="op" id="6750553">.</span><span class="ident" id="6750554">NewReader</span><span class="op" id="6750563">(</span><span class="ident" id="6750564">test</span><span class="op" id="6750568">.</span><span class="ident" id="6750569">text</span><span class="op" id="6750573">)</span><span class="op" id="6750574">)</span><span class="op" id="6750575">,</span>&nbsp;<span class="ident" id="6750577">t</span><span class="op" id="6750578">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6750581">}</span><br>
<span class="lineno">225</span><span class="op" id="6750583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6750586">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6750621">func</span>&nbsp;<span class="ident" id="6750626">TestFindAll</span><span class="op" id="6750637">(</span><span class="ident" id="6750638">t</span>&nbsp;<span class="op" id="6750640">*</span><span class="ident" id="6750641">testing</span><span class="op" id="6750648">.</span><span class="ident" id="6750649">T</span><span class="op" id="6750650">)</span>&nbsp;<span class="op" id="6750652">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750655">for</span>&nbsp;<span class="ident" id="6750659">_</span><span class="op" id="6750660">,</span>&nbsp;<span class="ident" id="6750662">test</span>&nbsp;<span class="op" id="6750667">:=</span>&nbsp;<span class="keyword" id="6750670">range</span>&nbsp;<span class="ident" id="6750676">findTests</span>&nbsp;<span class="op" id="6750686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750690">result</span>&nbsp;<span class="op" id="6750697">:=</span>&nbsp;<span class="ident" id="6750700">MustCompile</span><span class="op" id="6750711">(</span><span class="ident" id="6750712">test</span><span class="op" id="6750716">.</span><span class="ident" id="6750717">pat</span><span class="op" id="6750720">)</span><span class="op" id="6750721">.</span><span class="ident" id="6750722">FindAll</span><span class="op" id="6750729">(</span><span class="op" id="6750730">[</span><span class="op" id="6750731">]</span><span class="builtintype" id="6750732">byte</span><span class="op" id="6750736">(</span><span class="ident" id="6750737">test</span><span class="op" id="6750741">.</span><span class="ident" id="6750742">text</span><span class="op" id="6750746">)</span><span class="op" id="6750747">,</span>&nbsp;<span class="op" id="6750749">-</span><span class="num" id="6750750">1</span><span class="op" id="6750751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750755">switch</span>&nbsp;<span class="op" id="6750762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750766">case</span>&nbsp;<span class="ident" id="6750771">test</span><span class="op" id="6750775">.</span><span class="ident" id="6750776">matches</span>&nbsp;<span class="op" id="6750784">==</span>&nbsp;<span class="ident" id="6750787">nil</span>&nbsp;<span class="op" id="6750791">&amp;&amp;</span>&nbsp;<span class="ident" id="6750794">result</span>&nbsp;<span class="op" id="6750801">==</span>&nbsp;<span class="ident" id="6750804">nil</span><span class="op" id="6750807">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6750812">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750820">case</span>&nbsp;<span class="ident" id="6750825">test</span><span class="op" id="6750829">.</span><span class="ident" id="6750830">matches</span>&nbsp;<span class="op" id="6750838">==</span>&nbsp;<span class="ident" id="6750841">nil</span>&nbsp;<span class="op" id="6750845">&amp;&amp;</span>&nbsp;<span class="ident" id="6750848">result</span>&nbsp;<span class="op" id="6750855">!=</span>&nbsp;<span class="ident" id="6750858">nil</span><span class="op" id="6750861">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750866">t</span><span class="op" id="6750867">.</span><span class="ident" id="6750868">Errorf</span><span class="op" id="6750874">(</span><span class="string" id="6750875">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6750907">,</span>&nbsp;<span class="ident" id="6750909">test</span><span class="op" id="6750913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6750917">case</span>&nbsp;<span class="ident" id="6750922">test</span><span class="op" id="6750926">.</span><span class="ident" id="6750927">matches</span>&nbsp;<span class="op" id="6750935">!=</span>&nbsp;<span class="ident" id="6750938">nil</span>&nbsp;<span class="op" id="6750942">&amp;&amp;</span>&nbsp;<span class="ident" id="6750945">result</span>&nbsp;<span class="op" id="6750952">==</span>&nbsp;<span class="ident" id="6750955">nil</span><span class="op" id="6750958">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6750963">t</span><span class="op" id="6750964">.</span><span class="ident" id="6750965">Fatalf</span><span class="op" id="6750971">(</span><span class="string" id="6750972">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6751002">,</span>&nbsp;<span class="ident" id="6751004">test</span><span class="op" id="6751008">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751012">case</span>&nbsp;<span class="ident" id="6751017">test</span><span class="op" id="6751021">.</span><span class="ident" id="6751022">matches</span>&nbsp;<span class="op" id="6751030">!=</span>&nbsp;<span class="ident" id="6751033">nil</span>&nbsp;<span class="op" id="6751037">&amp;&amp;</span>&nbsp;<span class="ident" id="6751040">result</span>&nbsp;<span class="op" id="6751047">!=</span>&nbsp;<span class="ident" id="6751050">nil</span><span class="op" id="6751053">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751058">if</span>&nbsp;<span class="builtinfunc" id="6751061">len</span><span class="op" id="6751064">(</span><span class="ident" id="6751065">test</span><span class="op" id="6751069">.</span><span class="ident" id="6751070">matches</span><span class="op" id="6751077">)</span>&nbsp;<span class="op" id="6751079">!=</span>&nbsp;<span class="builtinfunc" id="6751082">len</span><span class="op" id="6751085">(</span><span class="ident" id="6751086">result</span><span class="op" id="6751092">)</span>&nbsp;<span class="op" id="6751094">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751100">t</span><span class="op" id="6751101">.</span><span class="ident" id="6751102">Errorf</span><span class="op" id="6751108">(</span><span class="string" id="6751109">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6751142">,</span>&nbsp;<span class="builtinfunc" id="6751144">len</span><span class="op" id="6751147">(</span><span class="ident" id="6751148">test</span><span class="op" id="6751152">.</span><span class="ident" id="6751153">matches</span><span class="op" id="6751160">)</span><span class="op" id="6751161">,</span>&nbsp;<span class="builtinfunc" id="6751163">len</span><span class="op" id="6751166">(</span><span class="ident" id="6751167">result</span><span class="op" id="6751173">)</span><span class="op" id="6751174">,</span>&nbsp;<span class="ident" id="6751176">test</span><span class="op" id="6751180">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751186">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751198">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751203">for</span>&nbsp;<span class="ident" id="6751207">k</span><span class="op" id="6751208">,</span>&nbsp;<span class="ident" id="6751210">e</span>&nbsp;<span class="op" id="6751212">:=</span>&nbsp;<span class="keyword" id="6751215">range</span>&nbsp;<span class="ident" id="6751221">test</span><span class="op" id="6751225">.</span><span class="ident" id="6751226">matches</span>&nbsp;<span class="op" id="6751234">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751240">expect</span>&nbsp;<span class="op" id="6751247">:=</span>&nbsp;<span class="ident" id="6751250">test</span><span class="op" id="6751254">.</span><span class="ident" id="6751255">text</span><span class="op" id="6751259">[</span><span class="ident" id="6751260">e</span><span class="op" id="6751261">[</span><span class="num" id="6751262">0</span><span class="op" id="6751263">]</span><span class="op" id="6751264">:</span><span class="ident" id="6751265">e</span><span class="op" id="6751266">[</span><span class="num" id="6751267">1</span><span class="op" id="6751268">]</span><span class="op" id="6751269">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751275">if</span>&nbsp;<span class="ident" id="6751278">expect</span>&nbsp;<span class="op" id="6751285">!=</span>&nbsp;<span class="builtintype" id="6751288">string</span><span class="op" id="6751294">(</span><span class="ident" id="6751295">result</span><span class="op" id="6751301">[</span><span class="ident" id="6751302">k</span><span class="op" id="6751303">]</span><span class="op" id="6751304">)</span>&nbsp;<span class="op" id="6751306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751313">t</span><span class="op" id="6751314">.</span><span class="ident" id="6751315">Errorf</span><span class="op" id="6751321">(</span><span class="string" id="6751322">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6751356">,</span>&nbsp;<span class="ident" id="6751358">k</span><span class="op" id="6751359">,</span>&nbsp;<span class="ident" id="6751361">expect</span><span class="op" id="6751367">,</span>&nbsp;<span class="ident" id="6751369">result</span><span class="op" id="6751375">[</span><span class="ident" id="6751376">k</span><span class="op" id="6751377">]</span><span class="op" id="6751378">,</span>&nbsp;<span class="ident" id="6751380">test</span><span class="op" id="6751384">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751390">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751395">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751402">}</span><br>
<span class="lineno"></span><span class="op" id="6751404">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6751407">func</span>&nbsp;<span class="ident" id="6751412">TestFindAllString</span><span class="op" id="6751429">(</span><span class="ident" id="6751430">t</span>&nbsp;<span class="op" id="6751432">*</span><span class="ident" id="6751433">testing</span><span class="op" id="6751440">.</span><span class="ident" id="6751441">T</span><span class="op" id="6751442">)</span>&nbsp;<span class="op" id="6751444">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751447">for</span>&nbsp;<span class="ident" id="6751451">_</span><span class="op" id="6751452">,</span>&nbsp;<span class="ident" id="6751454">test</span>&nbsp;<span class="op" id="6751459">:=</span>&nbsp;<span class="keyword" id="6751462">range</span>&nbsp;<span class="ident" id="6751468">findTests</span>&nbsp;<span class="op" id="6751478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751482">result</span>&nbsp;<span class="op" id="6751489">:=</span>&nbsp;<span class="ident" id="6751492">MustCompile</span><span class="op" id="6751503">(</span><span class="ident" id="6751504">test</span><span class="op" id="6751508">.</span><span class="ident" id="6751509">pat</span><span class="op" id="6751512">)</span><span class="op" id="6751513">.</span><span class="ident" id="6751514">FindAllString</span><span class="op" id="6751527">(</span><span class="ident" id="6751528">test</span><span class="op" id="6751532">.</span><span class="ident" id="6751533">text</span><span class="op" id="6751537">,</span>&nbsp;<span class="op" id="6751539">-</span><span class="num" id="6751540">1</span><span class="op" id="6751541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751545">switch</span>&nbsp;<span class="op" id="6751552">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751556">case</span>&nbsp;<span class="ident" id="6751561">test</span><span class="op" id="6751565">.</span><span class="ident" id="6751566">matches</span>&nbsp;<span class="op" id="6751574">==</span>&nbsp;<span class="ident" id="6751577">nil</span>&nbsp;<span class="op" id="6751581">&amp;&amp;</span>&nbsp;<span class="ident" id="6751584">result</span>&nbsp;<span class="op" id="6751591">==</span>&nbsp;<span class="ident" id="6751594">nil</span><span class="op" id="6751597">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6751602">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751610">case</span>&nbsp;<span class="ident" id="6751615">test</span><span class="op" id="6751619">.</span><span class="ident" id="6751620">matches</span>&nbsp;<span class="op" id="6751628">==</span>&nbsp;<span class="ident" id="6751631">nil</span>&nbsp;<span class="op" id="6751635">&amp;&amp;</span>&nbsp;<span class="ident" id="6751638">result</span>&nbsp;<span class="op" id="6751645">!=</span>&nbsp;<span class="ident" id="6751648">nil</span><span class="op" id="6751651">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751656">t</span><span class="op" id="6751657">.</span><span class="ident" id="6751658">Errorf</span><span class="op" id="6751664">(</span><span class="string" id="6751665">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6751697">,</span>&nbsp;<span class="ident" id="6751699">test</span><span class="op" id="6751703">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751707">case</span>&nbsp;<span class="ident" id="6751712">test</span><span class="op" id="6751716">.</span><span class="ident" id="6751717">matches</span>&nbsp;<span class="op" id="6751725">!=</span>&nbsp;<span class="ident" id="6751728">nil</span>&nbsp;<span class="op" id="6751732">&amp;&amp;</span>&nbsp;<span class="ident" id="6751735">result</span>&nbsp;<span class="op" id="6751742">==</span>&nbsp;<span class="ident" id="6751745">nil</span><span class="op" id="6751748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751753">t</span><span class="op" id="6751754">.</span><span class="ident" id="6751755">Errorf</span><span class="op" id="6751761">(</span><span class="string" id="6751762">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6751792">,</span>&nbsp;<span class="ident" id="6751794">test</span><span class="op" id="6751798">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751802">case</span>&nbsp;<span class="ident" id="6751807">test</span><span class="op" id="6751811">.</span><span class="ident" id="6751812">matches</span>&nbsp;<span class="op" id="6751820">!=</span>&nbsp;<span class="ident" id="6751823">nil</span>&nbsp;<span class="op" id="6751827">&amp;&amp;</span>&nbsp;<span class="ident" id="6751830">result</span>&nbsp;<span class="op" id="6751837">!=</span>&nbsp;<span class="ident" id="6751840">nil</span><span class="op" id="6751843">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751848">if</span>&nbsp;<span class="builtinfunc" id="6751851">len</span><span class="op" id="6751854">(</span><span class="ident" id="6751855">test</span><span class="op" id="6751859">.</span><span class="ident" id="6751860">matches</span><span class="op" id="6751867">)</span>&nbsp;<span class="op" id="6751869">!=</span>&nbsp;<span class="builtinfunc" id="6751872">len</span><span class="op" id="6751875">(</span><span class="ident" id="6751876">result</span><span class="op" id="6751882">)</span>&nbsp;<span class="op" id="6751884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6751890">t</span><span class="op" id="6751891">.</span><span class="ident" id="6751892">Errorf</span><span class="op" id="6751898">(</span><span class="string" id="6751899">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6751932">,</span>&nbsp;<span class="builtinfunc" id="6751934">len</span><span class="op" id="6751937">(</span><span class="ident" id="6751938">test</span><span class="op" id="6751942">.</span><span class="ident" id="6751943">matches</span><span class="op" id="6751950">)</span><span class="op" id="6751951">,</span>&nbsp;<span class="builtinfunc" id="6751953">len</span><span class="op" id="6751956">(</span><span class="ident" id="6751957">result</span><span class="op" id="6751963">)</span><span class="op" id="6751964">,</span>&nbsp;<span class="ident" id="6751966">test</span><span class="op" id="6751970">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751976">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6751988">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6751993">for</span>&nbsp;<span class="ident" id="6751997">k</span><span class="op" id="6751998">,</span>&nbsp;<span class="ident" id="6752000">e</span>&nbsp;<span class="op" id="6752002">:=</span>&nbsp;<span class="keyword" id="6752005">range</span>&nbsp;<span class="ident" id="6752011">test</span><span class="op" id="6752015">.</span><span class="ident" id="6752016">matches</span>&nbsp;<span class="op" id="6752024">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752030">expect</span>&nbsp;<span class="op" id="6752037">:=</span>&nbsp;<span class="ident" id="6752040">test</span><span class="op" id="6752044">.</span><span class="ident" id="6752045">text</span><span class="op" id="6752049">[</span><span class="ident" id="6752050">e</span><span class="op" id="6752051">[</span><span class="num" id="6752052">0</span><span class="op" id="6752053">]</span><span class="op" id="6752054">:</span><span class="ident" id="6752055">e</span><span class="op" id="6752056">[</span><span class="num" id="6752057">1</span><span class="op" id="6752058">]</span><span class="op" id="6752059">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752065">if</span>&nbsp;<span class="ident" id="6752068">expect</span>&nbsp;<span class="op" id="6752075">!=</span>&nbsp;<span class="ident" id="6752078">result</span><span class="op" id="6752084">[</span><span class="ident" id="6752085">k</span><span class="op" id="6752086">]</span>&nbsp;<span class="op" id="6752088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752095">t</span><span class="op" id="6752096">.</span><span class="ident" id="6752097">Errorf</span><span class="op" id="6752103">(</span><span class="string" id="6752104">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6752128">,</span>&nbsp;<span class="ident" id="6752130">expect</span><span class="op" id="6752136">,</span>&nbsp;<span class="ident" id="6752138">result</span><span class="op" id="6752144">,</span>&nbsp;<span class="ident" id="6752146">test</span><span class="op" id="6752150">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752156">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752161">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752165">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752168">}</span><br>
<span class="lineno"></span><span class="op" id="6752170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6752173">func</span>&nbsp;<span class="ident" id="6752178">testFindAllIndex</span><span class="op" id="6752194">(</span><span class="ident" id="6752195">test</span>&nbsp;<span class="op" id="6752200">*</span><span class="ident" id="6752201">FindTest</span><span class="op" id="6752209">,</span>&nbsp;<span class="ident" id="6752211">result</span>&nbsp;<span class="op" id="6752218">[</span><span class="op" id="6752219">]</span><span class="op" id="6752220">[</span><span class="op" id="6752221">]</span><span class="builtintype" id="6752222">int</span><span class="op" id="6752225">,</span>&nbsp;<span class="ident" id="6752227">t</span>&nbsp;<span class="op" id="6752229">*</span><span class="ident" id="6752230">testing</span><span class="op" id="6752237">.</span><span class="ident" id="6752238">T</span><span class="op" id="6752239">)</span>&nbsp;<span class="op" id="6752241">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752244">switch</span>&nbsp;<span class="op" id="6752251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752254">case</span>&nbsp;<span class="ident" id="6752259">test</span><span class="op" id="6752263">.</span><span class="ident" id="6752264">matches</span>&nbsp;<span class="op" id="6752272">==</span>&nbsp;<span class="ident" id="6752275">nil</span>&nbsp;<span class="op" id="6752279">&amp;&amp;</span>&nbsp;<span class="ident" id="6752282">result</span>&nbsp;<span class="op" id="6752289">==</span>&nbsp;<span class="ident" id="6752292">nil</span><span class="op" id="6752295">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6752299">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752306">case</span>&nbsp;<span class="ident" id="6752311">test</span><span class="op" id="6752315">.</span><span class="ident" id="6752316">matches</span>&nbsp;<span class="op" id="6752324">==</span>&nbsp;<span class="ident" id="6752327">nil</span>&nbsp;<span class="op" id="6752331">&amp;&amp;</span>&nbsp;<span class="ident" id="6752334">result</span>&nbsp;<span class="op" id="6752341">!=</span>&nbsp;<span class="ident" id="6752344">nil</span><span class="op" id="6752347">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752351">t</span><span class="op" id="6752352">.</span><span class="ident" id="6752353">Errorf</span><span class="op" id="6752359">(</span><span class="string" id="6752360">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6752392">,</span>&nbsp;<span class="ident" id="6752394">test</span><span class="op" id="6752398">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752401">case</span>&nbsp;<span class="ident" id="6752406">test</span><span class="op" id="6752410">.</span><span class="ident" id="6752411">matches</span>&nbsp;<span class="op" id="6752419">!=</span>&nbsp;<span class="ident" id="6752422">nil</span>&nbsp;<span class="op" id="6752426">&amp;&amp;</span>&nbsp;<span class="ident" id="6752429">result</span>&nbsp;<span class="op" id="6752436">==</span>&nbsp;<span class="ident" id="6752439">nil</span><span class="op" id="6752442">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752446">t</span><span class="op" id="6752447">.</span><span class="ident" id="6752448">Errorf</span><span class="op" id="6752454">(</span><span class="string" id="6752455">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6752485">,</span>&nbsp;<span class="ident" id="6752487">test</span><span class="op" id="6752491">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752494">case</span>&nbsp;<span class="ident" id="6752499">test</span><span class="op" id="6752503">.</span><span class="ident" id="6752504">matches</span>&nbsp;<span class="op" id="6752512">!=</span>&nbsp;<span class="ident" id="6752515">nil</span>&nbsp;<span class="op" id="6752519">&amp;&amp;</span>&nbsp;<span class="ident" id="6752522">result</span>&nbsp;<span class="op" id="6752529">!=</span>&nbsp;<span class="ident" id="6752532">nil</span><span class="op" id="6752535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752539">if</span>&nbsp;<span class="builtinfunc" id="6752542">len</span><span class="op" id="6752545">(</span><span class="ident" id="6752546">test</span><span class="op" id="6752550">.</span><span class="ident" id="6752551">matches</span><span class="op" id="6752558">)</span>&nbsp;<span class="op" id="6752560">!=</span>&nbsp;<span class="builtinfunc" id="6752563">len</span><span class="op" id="6752566">(</span><span class="ident" id="6752567">result</span><span class="op" id="6752573">)</span>&nbsp;<span class="op" id="6752575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752580">t</span><span class="op" id="6752581">.</span><span class="ident" id="6752582">Errorf</span><span class="op" id="6752588">(</span><span class="string" id="6752589">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6752622">,</span>&nbsp;<span class="builtinfunc" id="6752624">len</span><span class="op" id="6752627">(</span><span class="ident" id="6752628">test</span><span class="op" id="6752632">.</span><span class="ident" id="6752633">matches</span><span class="op" id="6752640">)</span><span class="op" id="6752641">,</span>&nbsp;<span class="builtinfunc" id="6752643">len</span><span class="op" id="6752646">(</span><span class="ident" id="6752647">result</span><span class="op" id="6752653">)</span><span class="op" id="6752654">,</span>&nbsp;<span class="ident" id="6752656">test</span><span class="op" id="6752660">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752665">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752674">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752678">for</span>&nbsp;<span class="ident" id="6752682">k</span><span class="op" id="6752683">,</span>&nbsp;<span class="ident" id="6752685">e</span>&nbsp;<span class="op" id="6752687">:=</span>&nbsp;<span class="keyword" id="6752690">range</span>&nbsp;<span class="ident" id="6752696">test</span><span class="op" id="6752700">.</span><span class="ident" id="6752701">matches</span>&nbsp;<span class="op" id="6752709">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752714">if</span>&nbsp;<span class="ident" id="6752717">e</span><span class="op" id="6752718">[</span><span class="num" id="6752719">0</span><span class="op" id="6752720">]</span>&nbsp;<span class="op" id="6752722">!=</span>&nbsp;<span class="ident" id="6752725">result</span><span class="op" id="6752731">[</span><span class="ident" id="6752732">k</span><span class="op" id="6752733">]</span><span class="op" id="6752734">[</span><span class="num" id="6752735">0</span><span class="op" id="6752736">]</span>&nbsp;<span class="op" id="6752738">||</span>&nbsp;<span class="ident" id="6752741">e</span><span class="op" id="6752742">[</span><span class="num" id="6752743">1</span><span class="op" id="6752744">]</span>&nbsp;<span class="op" id="6752746">!=</span>&nbsp;<span class="ident" id="6752749">result</span><span class="op" id="6752755">[</span><span class="ident" id="6752756">k</span><span class="op" id="6752757">]</span><span class="op" id="6752758">[</span><span class="num" id="6752759">1</span><span class="op" id="6752760">]</span>&nbsp;<span class="op" id="6752762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752768">t</span><span class="op" id="6752769">.</span><span class="ident" id="6752770">Errorf</span><span class="op" id="6752776">(</span><span class="string" id="6752777">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6752811">,</span>&nbsp;<span class="ident" id="6752813">k</span><span class="op" id="6752814">,</span>&nbsp;<span class="ident" id="6752816">e</span><span class="op" id="6752817">,</span>&nbsp;<span class="ident" id="6752819">result</span><span class="op" id="6752825">[</span><span class="ident" id="6752826">k</span><span class="op" id="6752827">]</span><span class="op" id="6752828">,</span>&nbsp;<span class="ident" id="6752830">test</span><span class="op" id="6752834">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752839">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6752846">}</span><br>
<span class="lineno"></span><span class="op" id="6752848">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="6752851">func</span>&nbsp;<span class="ident" id="6752856">TestFindAllIndex</span><span class="op" id="6752872">(</span><span class="ident" id="6752873">t</span>&nbsp;<span class="op" id="6752875">*</span><span class="ident" id="6752876">testing</span><span class="op" id="6752883">.</span><span class="ident" id="6752884">T</span><span class="op" id="6752885">)</span>&nbsp;<span class="op" id="6752887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6752890">for</span>&nbsp;<span class="ident" id="6752894">_</span><span class="op" id="6752895">,</span>&nbsp;<span class="ident" id="6752897">test</span>&nbsp;<span class="op" id="6752902">:=</span>&nbsp;<span class="keyword" id="6752905">range</span>&nbsp;<span class="ident" id="6752911">findTests</span>&nbsp;<span class="op" id="6752921">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6752925">testFindAllIndex</span><span class="op" id="6752941">(</span><span class="op" id="6752942">&amp;</span><span class="ident" id="6752943">test</span><span class="op" id="6752947">,</span>&nbsp;<span class="ident" id="6752949">MustCompile</span><span class="op" id="6752960">(</span><span class="ident" id="6752961">test</span><span class="op" id="6752965">.</span><span class="ident" id="6752966">pat</span><span class="op" id="6752969">)</span><span class="op" id="6752970">.</span><span class="ident" id="6752971">FindAllIndex</span><span class="op" id="6752983">(</span><span class="op" id="6752984">[</span><span class="op" id="6752985">]</span><span class="builtintype" id="6752986">byte</span><span class="op" id="6752990">(</span><span class="ident" id="6752991">test</span><span class="op" id="6752995">.</span><span class="ident" id="6752996">text</span><span class="op" id="6753000">)</span><span class="op" id="6753001">,</span>&nbsp;<span class="op" id="6753003">-</span><span class="num" id="6753004">1</span><span class="op" id="6753005">)</span><span class="op" id="6753006">,</span>&nbsp;<span class="ident" id="6753008">t</span><span class="op" id="6753009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753012">}</span><br>
<span class="lineno"></span><span class="op" id="6753014">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="6753017">func</span>&nbsp;<span class="ident" id="6753022">TestFindAllStringIndex</span><span class="op" id="6753044">(</span><span class="ident" id="6753045">t</span>&nbsp;<span class="op" id="6753047">*</span><span class="ident" id="6753048">testing</span><span class="op" id="6753055">.</span><span class="ident" id="6753056">T</span><span class="op" id="6753057">)</span>&nbsp;<span class="op" id="6753059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753062">for</span>&nbsp;<span class="ident" id="6753066">_</span><span class="op" id="6753067">,</span>&nbsp;<span class="ident" id="6753069">test</span>&nbsp;<span class="op" id="6753074">:=</span>&nbsp;<span class="keyword" id="6753077">range</span>&nbsp;<span class="ident" id="6753083">findTests</span>&nbsp;<span class="op" id="6753093">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753097">testFindAllIndex</span><span class="op" id="6753113">(</span><span class="op" id="6753114">&amp;</span><span class="ident" id="6753115">test</span><span class="op" id="6753119">,</span>&nbsp;<span class="ident" id="6753121">MustCompile</span><span class="op" id="6753132">(</span><span class="ident" id="6753133">test</span><span class="op" id="6753137">.</span><span class="ident" id="6753138">pat</span><span class="op" id="6753141">)</span><span class="op" id="6753142">.</span><span class="ident" id="6753143">FindAllStringIndex</span><span class="op" id="6753161">(</span><span class="ident" id="6753162">test</span><span class="op" id="6753166">.</span><span class="ident" id="6753167">text</span><span class="op" id="6753171">,</span>&nbsp;<span class="op" id="6753173">-</span><span class="num" id="6753174">1</span><span class="op" id="6753175">)</span><span class="op" id="6753176">,</span>&nbsp;<span class="ident" id="6753178">t</span><span class="op" id="6753179">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753182">}</span><br>
<span class="lineno">310</span><span class="op" id="6753184">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6753187">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753220">func</span>&nbsp;<span class="ident" id="6753225">testSubmatchBytes</span><span class="op" id="6753242">(</span><span class="ident" id="6753243">test</span>&nbsp;<span class="op" id="6753248">*</span><span class="ident" id="6753249">FindTest</span><span class="op" id="6753257">,</span>&nbsp;<span class="ident" id="6753259">n</span>&nbsp;<span class="builtintype" id="6753261">int</span><span class="op" id="6753264">,</span>&nbsp;<span class="ident" id="6753266">submatches</span>&nbsp;<span class="op" id="6753277">[</span><span class="op" id="6753278">]</span><span class="builtintype" id="6753279">int</span><span class="op" id="6753282">,</span>&nbsp;<span class="ident" id="6753284">result</span>&nbsp;<span class="op" id="6753291">[</span><span class="op" id="6753292">]</span><span class="op" id="6753293">[</span><span class="op" id="6753294">]</span><span class="builtintype" id="6753295">byte</span><span class="op" id="6753299">,</span>&nbsp;<span class="ident" id="6753301">t</span>&nbsp;<span class="op" id="6753303">*</span><span class="ident" id="6753304">testing</span><span class="op" id="6753311">.</span><span class="ident" id="6753312">T</span><span class="op" id="6753313">)</span>&nbsp;<span class="op" id="6753315">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753318">if</span>&nbsp;<span class="builtinfunc" id="6753321">len</span><span class="op" id="6753324">(</span><span class="ident" id="6753325">submatches</span><span class="op" id="6753335">)</span>&nbsp;<span class="op" id="6753337">!=</span>&nbsp;<span class="builtinfunc" id="6753340">len</span><span class="op" id="6753343">(</span><span class="ident" id="6753344">result</span><span class="op" id="6753350">)</span><span class="op" id="6753351">*</span><span class="num" id="6753352">2</span>&nbsp;<span class="op" id="6753354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753358">t</span><span class="op" id="6753359">.</span><span class="ident" id="6753360">Errorf</span><span class="op" id="6753366">(</span><span class="string" id="6753367">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6753413">,</span>&nbsp;<span class="ident" id="6753415">n</span><span class="op" id="6753416">,</span>&nbsp;<span class="builtinfunc" id="6753418">len</span><span class="op" id="6753421">(</span><span class="ident" id="6753422">submatches</span><span class="op" id="6753432">)</span><span class="op" id="6753433">/</span><span class="num" id="6753434">2</span><span class="op" id="6753435">,</span>&nbsp;<span class="builtinfunc" id="6753437">len</span><span class="op" id="6753440">(</span><span class="ident" id="6753441">result</span><span class="op" id="6753447">)</span><span class="op" id="6753448">,</span>&nbsp;<span class="ident" id="6753450">test</span><span class="op" id="6753454">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753458">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753466">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753469">for</span>&nbsp;<span class="ident" id="6753473">k</span>&nbsp;<span class="op" id="6753475">:=</span>&nbsp;<span class="num" id="6753478">0</span><span class="op" id="6753479">;</span>&nbsp;<span class="ident" id="6753481">k</span>&nbsp;<span class="op" id="6753483">&lt;</span>&nbsp;<span class="builtinfunc" id="6753485">len</span><span class="op" id="6753488">(</span><span class="ident" id="6753489">submatches</span><span class="op" id="6753499">)</span><span class="op" id="6753500">;</span>&nbsp;<span class="ident" id="6753502">k</span>&nbsp;<span class="op" id="6753504">+=</span>&nbsp;<span class="num" id="6753507">2</span>&nbsp;<span class="op" id="6753509">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753513">if</span>&nbsp;<span class="ident" id="6753516">submatches</span><span class="op" id="6753526">[</span><span class="ident" id="6753527">k</span><span class="op" id="6753528">]</span>&nbsp;<span class="op" id="6753530">==</span>&nbsp;<span class="op" id="6753533">-</span><span class="num" id="6753534">1</span>&nbsp;<span class="op" id="6753536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753541">if</span>&nbsp;<span class="ident" id="6753544">result</span><span class="op" id="6753550">[</span><span class="ident" id="6753551">k</span><span class="op" id="6753552">/</span><span class="num" id="6753553">2</span><span class="op" id="6753554">]</span>&nbsp;<span class="op" id="6753556">!=</span>&nbsp;<span class="ident" id="6753559">nil</span>&nbsp;<span class="op" id="6753563">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753569">t</span><span class="op" id="6753570">.</span><span class="ident" id="6753571">Errorf</span><span class="op" id="6753577">(</span><span class="string" id="6753578">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6753613">,</span>&nbsp;<span class="ident" id="6753615">n</span><span class="op" id="6753616">,</span>&nbsp;<span class="ident" id="6753618">result</span><span class="op" id="6753624">,</span>&nbsp;<span class="ident" id="6753626">test</span><span class="op" id="6753630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753635">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753640">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753655">expect</span>&nbsp;<span class="op" id="6753662">:=</span>&nbsp;<span class="ident" id="6753665">test</span><span class="op" id="6753669">.</span><span class="ident" id="6753670">text</span><span class="op" id="6753674">[</span><span class="ident" id="6753675">submatches</span><span class="op" id="6753685">[</span><span class="ident" id="6753686">k</span><span class="op" id="6753687">]</span><span class="op" id="6753688">:</span><span class="ident" id="6753689">submatches</span><span class="op" id="6753699">[</span><span class="ident" id="6753700">k</span><span class="op" id="6753701">+</span><span class="num" id="6753702">1</span><span class="op" id="6753703">]</span><span class="op" id="6753704">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753708">if</span>&nbsp;<span class="ident" id="6753711">expect</span>&nbsp;<span class="op" id="6753718">!=</span>&nbsp;<span class="builtintype" id="6753721">string</span><span class="op" id="6753727">(</span><span class="ident" id="6753728">result</span><span class="op" id="6753734">[</span><span class="ident" id="6753735">k</span><span class="op" id="6753736">/</span><span class="num" id="6753737">2</span><span class="op" id="6753738">]</span><span class="op" id="6753739">)</span>&nbsp;<span class="op" id="6753741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753746">t</span><span class="op" id="6753747">.</span><span class="ident" id="6753748">Errorf</span><span class="op" id="6753754">(</span><span class="string" id="6753755">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6753789">,</span>&nbsp;<span class="ident" id="6753791">n</span><span class="op" id="6753792">,</span>&nbsp;<span class="ident" id="6753794">expect</span><span class="op" id="6753800">,</span>&nbsp;<span class="ident" id="6753802">result</span><span class="op" id="6753808">,</span>&nbsp;<span class="ident" id="6753810">test</span><span class="op" id="6753814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753819">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753828">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6753831">}</span><br>
<span class="lineno"></span><span class="op" id="6753833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6753836">func</span>&nbsp;<span class="ident" id="6753841">TestFindSubmatch</span><span class="op" id="6753857">(</span><span class="ident" id="6753858">t</span>&nbsp;<span class="op" id="6753860">*</span><span class="ident" id="6753861">testing</span><span class="op" id="6753868">.</span><span class="ident" id="6753869">T</span><span class="op" id="6753870">)</span>&nbsp;<span class="op" id="6753872">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753875">for</span>&nbsp;<span class="ident" id="6753879">_</span><span class="op" id="6753880">,</span>&nbsp;<span class="ident" id="6753882">test</span>&nbsp;<span class="op" id="6753887">:=</span>&nbsp;<span class="keyword" id="6753890">range</span>&nbsp;<span class="ident" id="6753896">findTests</span>&nbsp;<span class="op" id="6753906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6753910">result</span>&nbsp;<span class="op" id="6753917">:=</span>&nbsp;<span class="ident" id="6753920">MustCompile</span><span class="op" id="6753931">(</span><span class="ident" id="6753932">test</span><span class="op" id="6753936">.</span><span class="ident" id="6753937">pat</span><span class="op" id="6753940">)</span><span class="op" id="6753941">.</span><span class="ident" id="6753942">FindSubmatch</span><span class="op" id="6753954">(</span><span class="op" id="6753955">[</span><span class="op" id="6753956">]</span><span class="builtintype" id="6753957">byte</span><span class="op" id="6753961">(</span><span class="ident" id="6753962">test</span><span class="op" id="6753966">.</span><span class="ident" id="6753967">text</span><span class="op" id="6753971">)</span><span class="op" id="6753972">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753976">switch</span>&nbsp;<span class="op" id="6753983">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6753987">case</span>&nbsp;<span class="ident" id="6753992">test</span><span class="op" id="6753996">.</span><span class="ident" id="6753997">matches</span>&nbsp;<span class="op" id="6754005">==</span>&nbsp;<span class="ident" id="6754008">nil</span>&nbsp;<span class="op" id="6754012">&amp;&amp;</span>&nbsp;<span class="ident" id="6754015">result</span>&nbsp;<span class="op" id="6754022">==</span>&nbsp;<span class="ident" id="6754025">nil</span><span class="op" id="6754028">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6754033">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754041">case</span>&nbsp;<span class="ident" id="6754046">test</span><span class="op" id="6754050">.</span><span class="ident" id="6754051">matches</span>&nbsp;<span class="op" id="6754059">==</span>&nbsp;<span class="ident" id="6754062">nil</span>&nbsp;<span class="op" id="6754066">&amp;&amp;</span>&nbsp;<span class="ident" id="6754069">result</span>&nbsp;<span class="op" id="6754076">!=</span>&nbsp;<span class="ident" id="6754079">nil</span><span class="op" id="6754082">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754087">t</span><span class="op" id="6754088">.</span><span class="ident" id="6754089">Errorf</span><span class="op" id="6754095">(</span><span class="string" id="6754096">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6754128">,</span>&nbsp;<span class="ident" id="6754130">test</span><span class="op" id="6754134">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754138">case</span>&nbsp;<span class="ident" id="6754143">test</span><span class="op" id="6754147">.</span><span class="ident" id="6754148">matches</span>&nbsp;<span class="op" id="6754156">!=</span>&nbsp;<span class="ident" id="6754159">nil</span>&nbsp;<span class="op" id="6754163">&amp;&amp;</span>&nbsp;<span class="ident" id="6754166">result</span>&nbsp;<span class="op" id="6754173">==</span>&nbsp;<span class="ident" id="6754176">nil</span><span class="op" id="6754179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754184">t</span><span class="op" id="6754185">.</span><span class="ident" id="6754186">Errorf</span><span class="op" id="6754192">(</span><span class="string" id="6754193">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6754223">,</span>&nbsp;<span class="ident" id="6754225">test</span><span class="op" id="6754229">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754233">case</span>&nbsp;<span class="ident" id="6754238">test</span><span class="op" id="6754242">.</span><span class="ident" id="6754243">matches</span>&nbsp;<span class="op" id="6754251">!=</span>&nbsp;<span class="ident" id="6754254">nil</span>&nbsp;<span class="op" id="6754258">&amp;&amp;</span>&nbsp;<span class="ident" id="6754261">result</span>&nbsp;<span class="op" id="6754268">!=</span>&nbsp;<span class="ident" id="6754271">nil</span><span class="op" id="6754274">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754279">testSubmatchBytes</span><span class="op" id="6754296">(</span><span class="op" id="6754297">&amp;</span><span class="ident" id="6754298">test</span><span class="op" id="6754302">,</span>&nbsp;<span class="num" id="6754304">0</span><span class="op" id="6754305">,</span>&nbsp;<span class="ident" id="6754307">test</span><span class="op" id="6754311">.</span><span class="ident" id="6754312">matches</span><span class="op" id="6754319">[</span><span class="num" id="6754320">0</span><span class="op" id="6754321">]</span><span class="op" id="6754322">,</span>&nbsp;<span class="ident" id="6754324">result</span><span class="op" id="6754330">,</span>&nbsp;<span class="ident" id="6754332">t</span><span class="op" id="6754333">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754337">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754340">}</span><br>
<span class="lineno"></span><span class="op" id="6754342">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="6754345">func</span>&nbsp;<span class="ident" id="6754350">testSubmatchString</span><span class="op" id="6754368">(</span><span class="ident" id="6754369">test</span>&nbsp;<span class="op" id="6754374">*</span><span class="ident" id="6754375">FindTest</span><span class="op" id="6754383">,</span>&nbsp;<span class="ident" id="6754385">n</span>&nbsp;<span class="builtintype" id="6754387">int</span><span class="op" id="6754390">,</span>&nbsp;<span class="ident" id="6754392">submatches</span>&nbsp;<span class="op" id="6754403">[</span><span class="op" id="6754404">]</span><span class="builtintype" id="6754405">int</span><span class="op" id="6754408">,</span>&nbsp;<span class="ident" id="6754410">result</span>&nbsp;<span class="op" id="6754417">[</span><span class="op" id="6754418">]</span><span class="builtintype" id="6754419">string</span><span class="op" id="6754425">,</span>&nbsp;<span class="ident" id="6754427">t</span>&nbsp;<span class="op" id="6754429">*</span><span class="ident" id="6754430">testing</span><span class="op" id="6754437">.</span><span class="ident" id="6754438">T</span><span class="op" id="6754439">)</span>&nbsp;<span class="op" id="6754441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754444">if</span>&nbsp;<span class="builtinfunc" id="6754447">len</span><span class="op" id="6754450">(</span><span class="ident" id="6754451">submatches</span><span class="op" id="6754461">)</span>&nbsp;<span class="op" id="6754463">!=</span>&nbsp;<span class="builtinfunc" id="6754466">len</span><span class="op" id="6754469">(</span><span class="ident" id="6754470">result</span><span class="op" id="6754476">)</span><span class="op" id="6754477">*</span><span class="num" id="6754478">2</span>&nbsp;<span class="op" id="6754480">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754484">t</span><span class="op" id="6754485">.</span><span class="ident" id="6754486">Errorf</span><span class="op" id="6754492">(</span><span class="string" id="6754493">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6754539">,</span>&nbsp;<span class="ident" id="6754541">n</span><span class="op" id="6754542">,</span>&nbsp;<span class="builtinfunc" id="6754544">len</span><span class="op" id="6754547">(</span><span class="ident" id="6754548">submatches</span><span class="op" id="6754558">)</span><span class="op" id="6754559">/</span><span class="num" id="6754560">2</span><span class="op" id="6754561">,</span>&nbsp;<span class="builtinfunc" id="6754563">len</span><span class="op" id="6754566">(</span><span class="ident" id="6754567">result</span><span class="op" id="6754573">)</span><span class="op" id="6754574">,</span>&nbsp;<span class="ident" id="6754576">test</span><span class="op" id="6754580">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754584">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754592">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754595">for</span>&nbsp;<span class="ident" id="6754599">k</span>&nbsp;<span class="op" id="6754601">:=</span>&nbsp;<span class="num" id="6754604">0</span><span class="op" id="6754605">;</span>&nbsp;<span class="ident" id="6754607">k</span>&nbsp;<span class="op" id="6754609">&lt;</span>&nbsp;<span class="builtinfunc" id="6754611">len</span><span class="op" id="6754614">(</span><span class="ident" id="6754615">submatches</span><span class="op" id="6754625">)</span><span class="op" id="6754626">;</span>&nbsp;<span class="ident" id="6754628">k</span>&nbsp;<span class="op" id="6754630">+=</span>&nbsp;<span class="num" id="6754633">2</span>&nbsp;<span class="op" id="6754635">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754639">if</span>&nbsp;<span class="ident" id="6754642">submatches</span><span class="op" id="6754652">[</span><span class="ident" id="6754653">k</span><span class="op" id="6754654">]</span>&nbsp;<span class="op" id="6754656">==</span>&nbsp;<span class="op" id="6754659">-</span><span class="num" id="6754660">1</span>&nbsp;<span class="op" id="6754662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754667">if</span>&nbsp;<span class="ident" id="6754670">result</span><span class="op" id="6754676">[</span><span class="ident" id="6754677">k</span><span class="op" id="6754678">/</span><span class="num" id="6754679">2</span><span class="op" id="6754680">]</span>&nbsp;<span class="op" id="6754682">!=</span>&nbsp;<span class="string" id="6754685">&#34;&#34;</span>&nbsp;<span class="op" id="6754688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754694">t</span><span class="op" id="6754695">.</span><span class="ident" id="6754696">Errorf</span><span class="op" id="6754702">(</span><span class="string" id="6754703">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6754738">,</span>&nbsp;<span class="ident" id="6754740">n</span><span class="op" id="6754741">,</span>&nbsp;<span class="ident" id="6754743">result</span><span class="op" id="6754749">,</span>&nbsp;<span class="ident" id="6754751">test</span><span class="op" id="6754755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754760">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754765">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754776">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754780">expect</span>&nbsp;<span class="op" id="6754787">:=</span>&nbsp;<span class="ident" id="6754790">test</span><span class="op" id="6754794">.</span><span class="ident" id="6754795">text</span><span class="op" id="6754799">[</span><span class="ident" id="6754800">submatches</span><span class="op" id="6754810">[</span><span class="ident" id="6754811">k</span><span class="op" id="6754812">]</span><span class="op" id="6754813">:</span><span class="ident" id="6754814">submatches</span><span class="op" id="6754824">[</span><span class="ident" id="6754825">k</span><span class="op" id="6754826">+</span><span class="num" id="6754827">1</span><span class="op" id="6754828">]</span><span class="op" id="6754829">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754833">if</span>&nbsp;<span class="ident" id="6754836">expect</span>&nbsp;<span class="op" id="6754843">!=</span>&nbsp;<span class="ident" id="6754846">result</span><span class="op" id="6754852">[</span><span class="ident" id="6754853">k</span><span class="op" id="6754854">/</span><span class="num" id="6754855">2</span><span class="op" id="6754856">]</span>&nbsp;<span class="op" id="6754858">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6754863">t</span><span class="op" id="6754864">.</span><span class="ident" id="6754865">Errorf</span><span class="op" id="6754871">(</span><span class="string" id="6754872">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="6754906">,</span>&nbsp;<span class="ident" id="6754908">n</span><span class="op" id="6754909">,</span>&nbsp;<span class="ident" id="6754911">expect</span><span class="op" id="6754917">,</span>&nbsp;<span class="ident" id="6754919">result</span><span class="op" id="6754925">,</span>&nbsp;<span class="ident" id="6754927">test</span><span class="op" id="6754931">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754936">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754945">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6754948">}</span><br>
<span class="lineno"></span><span class="op" id="6754950">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="6754953">func</span>&nbsp;<span class="ident" id="6754958">TestFindStringSubmatch</span><span class="op" id="6754980">(</span><span class="ident" id="6754981">t</span>&nbsp;<span class="op" id="6754983">*</span><span class="ident" id="6754984">testing</span><span class="op" id="6754991">.</span><span class="ident" id="6754992">T</span><span class="op" id="6754993">)</span>&nbsp;<span class="op" id="6754995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6754998">for</span>&nbsp;<span class="ident" id="6755002">_</span><span class="op" id="6755003">,</span>&nbsp;<span class="ident" id="6755005">test</span>&nbsp;<span class="op" id="6755010">:=</span>&nbsp;<span class="keyword" id="6755013">range</span>&nbsp;<span class="ident" id="6755019">findTests</span>&nbsp;<span class="op" id="6755029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755033">result</span>&nbsp;<span class="op" id="6755040">:=</span>&nbsp;<span class="ident" id="6755043">MustCompile</span><span class="op" id="6755054">(</span><span class="ident" id="6755055">test</span><span class="op" id="6755059">.</span><span class="ident" id="6755060">pat</span><span class="op" id="6755063">)</span><span class="op" id="6755064">.</span><span class="ident" id="6755065">FindStringSubmatch</span><span class="op" id="6755083">(</span><span class="ident" id="6755084">test</span><span class="op" id="6755088">.</span><span class="ident" id="6755089">text</span><span class="op" id="6755093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755097">switch</span>&nbsp;<span class="op" id="6755104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755108">case</span>&nbsp;<span class="ident" id="6755113">test</span><span class="op" id="6755117">.</span><span class="ident" id="6755118">matches</span>&nbsp;<span class="op" id="6755126">==</span>&nbsp;<span class="ident" id="6755129">nil</span>&nbsp;<span class="op" id="6755133">&amp;&amp;</span>&nbsp;<span class="ident" id="6755136">result</span>&nbsp;<span class="op" id="6755143">==</span>&nbsp;<span class="ident" id="6755146">nil</span><span class="op" id="6755149">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6755154">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755162">case</span>&nbsp;<span class="ident" id="6755167">test</span><span class="op" id="6755171">.</span><span class="ident" id="6755172">matches</span>&nbsp;<span class="op" id="6755180">==</span>&nbsp;<span class="ident" id="6755183">nil</span>&nbsp;<span class="op" id="6755187">&amp;&amp;</span>&nbsp;<span class="ident" id="6755190">result</span>&nbsp;<span class="op" id="6755197">!=</span>&nbsp;<span class="ident" id="6755200">nil</span><span class="op" id="6755203">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755208">t</span><span class="op" id="6755209">.</span><span class="ident" id="6755210">Errorf</span><span class="op" id="6755216">(</span><span class="string" id="6755217">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6755249">,</span>&nbsp;<span class="ident" id="6755251">test</span><span class="op" id="6755255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755259">case</span>&nbsp;<span class="ident" id="6755264">test</span><span class="op" id="6755268">.</span><span class="ident" id="6755269">matches</span>&nbsp;<span class="op" id="6755277">!=</span>&nbsp;<span class="ident" id="6755280">nil</span>&nbsp;<span class="op" id="6755284">&amp;&amp;</span>&nbsp;<span class="ident" id="6755287">result</span>&nbsp;<span class="op" id="6755294">==</span>&nbsp;<span class="ident" id="6755297">nil</span><span class="op" id="6755300">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755305">t</span><span class="op" id="6755306">.</span><span class="ident" id="6755307">Errorf</span><span class="op" id="6755313">(</span><span class="string" id="6755314">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6755344">,</span>&nbsp;<span class="ident" id="6755346">test</span><span class="op" id="6755350">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755354">case</span>&nbsp;<span class="ident" id="6755359">test</span><span class="op" id="6755363">.</span><span class="ident" id="6755364">matches</span>&nbsp;<span class="op" id="6755372">!=</span>&nbsp;<span class="ident" id="6755375">nil</span>&nbsp;<span class="op" id="6755379">&amp;&amp;</span>&nbsp;<span class="ident" id="6755382">result</span>&nbsp;<span class="op" id="6755389">!=</span>&nbsp;<span class="ident" id="6755392">nil</span><span class="op" id="6755395">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755400">testSubmatchString</span><span class="op" id="6755418">(</span><span class="op" id="6755419">&amp;</span><span class="ident" id="6755420">test</span><span class="op" id="6755424">,</span>&nbsp;<span class="num" id="6755426">0</span><span class="op" id="6755427">,</span>&nbsp;<span class="ident" id="6755429">test</span><span class="op" id="6755433">.</span><span class="ident" id="6755434">matches</span><span class="op" id="6755441">[</span><span class="num" id="6755442">0</span><span class="op" id="6755443">]</span><span class="op" id="6755444">,</span>&nbsp;<span class="ident" id="6755446">result</span><span class="op" id="6755452">,</span>&nbsp;<span class="ident" id="6755454">t</span><span class="op" id="6755455">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755459">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755462">}</span><br>
<span class="lineno"></span><span class="op" id="6755464">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="6755467">func</span>&nbsp;<span class="ident" id="6755472">testSubmatchIndices</span><span class="op" id="6755491">(</span><span class="ident" id="6755492">test</span>&nbsp;<span class="op" id="6755497">*</span><span class="ident" id="6755498">FindTest</span><span class="op" id="6755506">,</span>&nbsp;<span class="ident" id="6755508">n</span>&nbsp;<span class="builtintype" id="6755510">int</span><span class="op" id="6755513">,</span>&nbsp;<span class="ident" id="6755515">expect</span><span class="op" id="6755521">,</span>&nbsp;<span class="ident" id="6755523">result</span>&nbsp;<span class="op" id="6755530">[</span><span class="op" id="6755531">]</span><span class="builtintype" id="6755532">int</span><span class="op" id="6755535">,</span>&nbsp;<span class="ident" id="6755537">t</span>&nbsp;<span class="op" id="6755539">*</span><span class="ident" id="6755540">testing</span><span class="op" id="6755547">.</span><span class="ident" id="6755548">T</span><span class="op" id="6755549">)</span>&nbsp;<span class="op" id="6755551">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755554">if</span>&nbsp;<span class="builtinfunc" id="6755557">len</span><span class="op" id="6755560">(</span><span class="ident" id="6755561">expect</span><span class="op" id="6755567">)</span>&nbsp;<span class="op" id="6755569">!=</span>&nbsp;<span class="builtinfunc" id="6755572">len</span><span class="op" id="6755575">(</span><span class="ident" id="6755576">result</span><span class="op" id="6755582">)</span>&nbsp;<span class="op" id="6755584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755588">t</span><span class="op" id="6755589">.</span><span class="ident" id="6755590">Errorf</span><span class="op" id="6755596">(</span><span class="string" id="6755597">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6755640">,</span>&nbsp;<span class="ident" id="6755642">n</span><span class="op" id="6755643">,</span>&nbsp;<span class="builtinfunc" id="6755645">len</span><span class="op" id="6755648">(</span><span class="ident" id="6755649">expect</span><span class="op" id="6755655">)</span><span class="op" id="6755656">/</span><span class="num" id="6755657">2</span><span class="op" id="6755658">,</span>&nbsp;<span class="builtinfunc" id="6755660">len</span><span class="op" id="6755663">(</span><span class="ident" id="6755664">result</span><span class="op" id="6755670">)</span><span class="op" id="6755671">/</span><span class="num" id="6755672">2</span><span class="op" id="6755673">,</span>&nbsp;<span class="ident" id="6755675">test</span><span class="op" id="6755679">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755683">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755691">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755694">for</span>&nbsp;<span class="ident" id="6755698">k</span><span class="op" id="6755699">,</span>&nbsp;<span class="ident" id="6755701">e</span>&nbsp;<span class="op" id="6755703">:=</span>&nbsp;<span class="keyword" id="6755706">range</span>&nbsp;<span class="ident" id="6755712">expect</span>&nbsp;<span class="op" id="6755719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755723">if</span>&nbsp;<span class="ident" id="6755726">e</span>&nbsp;<span class="op" id="6755728">!=</span>&nbsp;<span class="ident" id="6755731">result</span><span class="op" id="6755737">[</span><span class="ident" id="6755738">k</span><span class="op" id="6755739">]</span>&nbsp;<span class="op" id="6755741">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6755746">t</span><span class="op" id="6755747">.</span><span class="ident" id="6755748">Errorf</span><span class="op" id="6755754">(</span><span class="string" id="6755755">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="6755805">,</span>&nbsp;<span class="ident" id="6755807">n</span><span class="op" id="6755808">,</span>&nbsp;<span class="ident" id="6755810">expect</span><span class="op" id="6755816">,</span>&nbsp;<span class="ident" id="6755818">result</span><span class="op" id="6755824">,</span>&nbsp;<span class="ident" id="6755826">test</span><span class="op" id="6755830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755834">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6755837">}</span><br>
<span class="lineno"></span><span class="op" id="6755839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6755842">func</span>&nbsp;<span class="ident" id="6755847">testFindSubmatchIndex</span><span class="op" id="6755868">(</span><span class="ident" id="6755869">test</span>&nbsp;<span class="op" id="6755874">*</span><span class="ident" id="6755875">FindTest</span><span class="op" id="6755883">,</span>&nbsp;<span class="ident" id="6755885">result</span>&nbsp;<span class="op" id="6755892">[</span><span class="op" id="6755893">]</span><span class="builtintype" id="6755894">int</span><span class="op" id="6755897">,</span>&nbsp;<span class="ident" id="6755899">t</span>&nbsp;<span class="op" id="6755901">*</span><span class="ident" id="6755902">testing</span><span class="op" id="6755909">.</span><span class="ident" id="6755910">T</span><span class="op" id="6755911">)</span>&nbsp;<span class="op" id="6755913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755916">switch</span>&nbsp;<span class="op" id="6755923">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755926">case</span>&nbsp;<span class="ident" id="6755931">test</span><span class="op" id="6755935">.</span><span class="ident" id="6755936">matches</span>&nbsp;<span class="op" id="6755944">==</span>&nbsp;<span class="ident" id="6755947">nil</span>&nbsp;<span class="op" id="6755951">&amp;&amp;</span>&nbsp;<span class="ident" id="6755954">result</span>&nbsp;<span class="op" id="6755961">==</span>&nbsp;<span class="ident" id="6755964">nil</span><span class="op" id="6755967">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6755971">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6755978">case</span>&nbsp;<span class="ident" id="6755983">test</span><span class="op" id="6755987">.</span><span class="ident" id="6755988">matches</span>&nbsp;<span class="op" id="6755996">==</span>&nbsp;<span class="ident" id="6755999">nil</span>&nbsp;<span class="op" id="6756003">&amp;&amp;</span>&nbsp;<span class="ident" id="6756006">result</span>&nbsp;<span class="op" id="6756013">!=</span>&nbsp;<span class="ident" id="6756016">nil</span><span class="op" id="6756019">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756023">t</span><span class="op" id="6756024">.</span><span class="ident" id="6756025">Errorf</span><span class="op" id="6756031">(</span><span class="string" id="6756032">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6756064">,</span>&nbsp;<span class="ident" id="6756066">test</span><span class="op" id="6756070">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6756073">case</span>&nbsp;<span class="ident" id="6756078">test</span><span class="op" id="6756082">.</span><span class="ident" id="6756083">matches</span>&nbsp;<span class="op" id="6756091">!=</span>&nbsp;<span class="ident" id="6756094">nil</span>&nbsp;<span class="op" id="6756098">&amp;&amp;</span>&nbsp;<span class="ident" id="6756101">result</span>&nbsp;<span class="op" id="6756108">==</span>&nbsp;<span class="ident" id="6756111">nil</span><span class="op" id="6756114">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756118">t</span><span class="op" id="6756119">.</span><span class="ident" id="6756120">Errorf</span><span class="op" id="6756126">(</span><span class="string" id="6756127">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6756157">,</span>&nbsp;<span class="ident" id="6756159">test</span><span class="op" id="6756163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6756166">case</span>&nbsp;<span class="ident" id="6756171">test</span><span class="op" id="6756175">.</span><span class="ident" id="6756176">matches</span>&nbsp;<span class="op" id="6756184">!=</span>&nbsp;<span class="ident" id="6756187">nil</span>&nbsp;<span class="op" id="6756191">&amp;&amp;</span>&nbsp;<span class="ident" id="6756194">result</span>&nbsp;<span class="op" id="6756201">!=</span>&nbsp;<span class="ident" id="6756204">nil</span><span class="op" id="6756207">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756211">testSubmatchIndices</span><span class="op" id="6756230">(</span><span class="ident" id="6756231">test</span><span class="op" id="6756235">,</span>&nbsp;<span class="num" id="6756237">0</span><span class="op" id="6756238">,</span>&nbsp;<span class="ident" id="6756240">test</span><span class="op" id="6756244">.</span><span class="ident" id="6756245">matches</span><span class="op" id="6756252">[</span><span class="num" id="6756253">0</span><span class="op" id="6756254">]</span><span class="op" id="6756255">,</span>&nbsp;<span class="ident" id="6756257">result</span><span class="op" id="6756263">,</span>&nbsp;<span class="ident" id="6756265">t</span><span class="op" id="6756266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756269">}</span><br>
<span class="lineno"></span><span class="op" id="6756271">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="6756274">func</span>&nbsp;<span class="ident" id="6756279">TestFindSubmatchIndex</span><span class="op" id="6756300">(</span><span class="ident" id="6756301">t</span>&nbsp;<span class="op" id="6756303">*</span><span class="ident" id="6756304">testing</span><span class="op" id="6756311">.</span><span class="ident" id="6756312">T</span><span class="op" id="6756313">)</span>&nbsp;<span class="op" id="6756315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6756318">for</span>&nbsp;<span class="ident" id="6756322">_</span><span class="op" id="6756323">,</span>&nbsp;<span class="ident" id="6756325">test</span>&nbsp;<span class="op" id="6756330">:=</span>&nbsp;<span class="keyword" id="6756333">range</span>&nbsp;<span class="ident" id="6756339">findTests</span>&nbsp;<span class="op" id="6756349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756353">testFindSubmatchIndex</span><span class="op" id="6756374">(</span><span class="op" id="6756375">&amp;</span><span class="ident" id="6756376">test</span><span class="op" id="6756380">,</span>&nbsp;<span class="ident" id="6756382">MustCompile</span><span class="op" id="6756393">(</span><span class="ident" id="6756394">test</span><span class="op" id="6756398">.</span><span class="ident" id="6756399">pat</span><span class="op" id="6756402">)</span><span class="op" id="6756403">.</span><span class="ident" id="6756404">FindSubmatchIndex</span><span class="op" id="6756421">(</span><span class="op" id="6756422">[</span><span class="op" id="6756423">]</span><span class="builtintype" id="6756424">byte</span><span class="op" id="6756428">(</span><span class="ident" id="6756429">test</span><span class="op" id="6756433">.</span><span class="ident" id="6756434">text</span><span class="op" id="6756438">)</span><span class="op" id="6756439">)</span><span class="op" id="6756440">,</span>&nbsp;<span class="ident" id="6756442">t</span><span class="op" id="6756443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756446">}</span><br>
<span class="lineno">415</span><span class="op" id="6756448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6756451">func</span>&nbsp;<span class="ident" id="6756456">TestFindStringSubmatchIndex</span><span class="op" id="6756483">(</span><span class="ident" id="6756484">t</span>&nbsp;<span class="op" id="6756486">*</span><span class="ident" id="6756487">testing</span><span class="op" id="6756494">.</span><span class="ident" id="6756495">T</span><span class="op" id="6756496">)</span>&nbsp;<span class="op" id="6756498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6756501">for</span>&nbsp;<span class="ident" id="6756505">_</span><span class="op" id="6756506">,</span>&nbsp;<span class="ident" id="6756508">test</span>&nbsp;<span class="op" id="6756513">:=</span>&nbsp;<span class="keyword" id="6756516">range</span>&nbsp;<span class="ident" id="6756522">findTests</span>&nbsp;<span class="op" id="6756532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756536">testFindSubmatchIndex</span><span class="op" id="6756557">(</span><span class="op" id="6756558">&amp;</span><span class="ident" id="6756559">test</span><span class="op" id="6756563">,</span>&nbsp;<span class="ident" id="6756565">MustCompile</span><span class="op" id="6756576">(</span><span class="ident" id="6756577">test</span><span class="op" id="6756581">.</span><span class="ident" id="6756582">pat</span><span class="op" id="6756585">)</span><span class="op" id="6756586">.</span><span class="ident" id="6756587">FindStringSubmatchIndex</span><span class="op" id="6756610">(</span><span class="ident" id="6756611">test</span><span class="op" id="6756615">.</span><span class="ident" id="6756616">text</span><span class="op" id="6756620">)</span><span class="op" id="6756621">,</span>&nbsp;<span class="ident" id="6756623">t</span><span class="op" id="6756624">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756627">}</span><br>
<span class="lineno"></span><span class="op" id="6756629">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6756632">func</span>&nbsp;<span class="ident" id="6756637">TestFindReaderSubmatchIndex</span><span class="op" id="6756664">(</span><span class="ident" id="6756665">t</span>&nbsp;<span class="op" id="6756667">*</span><span class="ident" id="6756668">testing</span><span class="op" id="6756675">.</span><span class="ident" id="6756676">T</span><span class="op" id="6756677">)</span>&nbsp;<span class="op" id="6756679">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6756682">for</span>&nbsp;<span class="ident" id="6756686">_</span><span class="op" id="6756687">,</span>&nbsp;<span class="ident" id="6756689">test</span>&nbsp;<span class="op" id="6756694">:=</span>&nbsp;<span class="keyword" id="6756697">range</span>&nbsp;<span class="ident" id="6756703">findTests</span>&nbsp;<span class="op" id="6756713">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756717">testFindSubmatchIndex</span><span class="op" id="6756738">(</span><span class="op" id="6756739">&amp;</span><span class="ident" id="6756740">test</span><span class="op" id="6756744">,</span>&nbsp;<span class="ident" id="6756746">MustCompile</span><span class="op" id="6756757">(</span><span class="ident" id="6756758">test</span><span class="op" id="6756762">.</span><span class="ident" id="6756763">pat</span><span class="op" id="6756766">)</span><span class="op" id="6756767">.</span><span class="ident" id="6756768">FindReaderSubmatchIndex</span><span class="op" id="6756791">(</span><span class="ident" id="6756792">strings</span><span class="op" id="6756799">.</span><span class="ident" id="6756800">NewReader</span><span class="op" id="6756809">(</span><span class="ident" id="6756810">test</span><span class="op" id="6756814">.</span><span class="ident" id="6756815">text</span><span class="op" id="6756819">)</span><span class="op" id="6756820">)</span><span class="op" id="6756821">,</span>&nbsp;<span class="ident" id="6756823">t</span><span class="op" id="6756824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6756827">}</span><br>
<span class="lineno"></span><span class="op" id="6756829">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6756832">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="6756876">func</span>&nbsp;<span class="ident" id="6756881">TestFindAllSubmatch</span><span class="op" id="6756900">(</span><span class="ident" id="6756901">t</span>&nbsp;<span class="op" id="6756903">*</span><span class="ident" id="6756904">testing</span><span class="op" id="6756911">.</span><span class="ident" id="6756912">T</span><span class="op" id="6756913">)</span>&nbsp;<span class="op" id="6756915">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6756918">for</span>&nbsp;<span class="ident" id="6756922">_</span><span class="op" id="6756923">,</span>&nbsp;<span class="ident" id="6756925">test</span>&nbsp;<span class="op" id="6756930">:=</span>&nbsp;<span class="keyword" id="6756933">range</span>&nbsp;<span class="ident" id="6756939">findTests</span>&nbsp;<span class="op" id="6756949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6756953">result</span>&nbsp;<span class="op" id="6756960">:=</span>&nbsp;<span class="ident" id="6756963">MustCompile</span><span class="op" id="6756974">(</span><span class="ident" id="6756975">test</span><span class="op" id="6756979">.</span><span class="ident" id="6756980">pat</span><span class="op" id="6756983">)</span><span class="op" id="6756984">.</span><span class="ident" id="6756985">FindAllSubmatch</span><span class="op" id="6757000">(</span><span class="op" id="6757001">[</span><span class="op" id="6757002">]</span><span class="builtintype" id="6757003">byte</span><span class="op" id="6757007">(</span><span class="ident" id="6757008">test</span><span class="op" id="6757012">.</span><span class="ident" id="6757013">text</span><span class="op" id="6757017">)</span><span class="op" id="6757018">,</span>&nbsp;<span class="op" id="6757020">-</span><span class="num" id="6757021">1</span><span class="op" id="6757022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757026">switch</span>&nbsp;<span class="op" id="6757033">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757037">case</span>&nbsp;<span class="ident" id="6757042">test</span><span class="op" id="6757046">.</span><span class="ident" id="6757047">matches</span>&nbsp;<span class="op" id="6757055">==</span>&nbsp;<span class="ident" id="6757058">nil</span>&nbsp;<span class="op" id="6757062">&amp;&amp;</span>&nbsp;<span class="ident" id="6757065">result</span>&nbsp;<span class="op" id="6757072">==</span>&nbsp;<span class="ident" id="6757075">nil</span><span class="op" id="6757078">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6757083">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757091">case</span>&nbsp;<span class="ident" id="6757096">test</span><span class="op" id="6757100">.</span><span class="ident" id="6757101">matches</span>&nbsp;<span class="op" id="6757109">==</span>&nbsp;<span class="ident" id="6757112">nil</span>&nbsp;<span class="op" id="6757116">&amp;&amp;</span>&nbsp;<span class="ident" id="6757119">result</span>&nbsp;<span class="op" id="6757126">!=</span>&nbsp;<span class="ident" id="6757129">nil</span><span class="op" id="6757132">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757137">t</span><span class="op" id="6757138">.</span><span class="ident" id="6757139">Errorf</span><span class="op" id="6757145">(</span><span class="string" id="6757146">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6757178">,</span>&nbsp;<span class="ident" id="6757180">test</span><span class="op" id="6757184">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757188">case</span>&nbsp;<span class="ident" id="6757193">test</span><span class="op" id="6757197">.</span><span class="ident" id="6757198">matches</span>&nbsp;<span class="op" id="6757206">!=</span>&nbsp;<span class="ident" id="6757209">nil</span>&nbsp;<span class="op" id="6757213">&amp;&amp;</span>&nbsp;<span class="ident" id="6757216">result</span>&nbsp;<span class="op" id="6757223">==</span>&nbsp;<span class="ident" id="6757226">nil</span><span class="op" id="6757229">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757234">t</span><span class="op" id="6757235">.</span><span class="ident" id="6757236">Errorf</span><span class="op" id="6757242">(</span><span class="string" id="6757243">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6757273">,</span>&nbsp;<span class="ident" id="6757275">test</span><span class="op" id="6757279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757283">case</span>&nbsp;<span class="builtinfunc" id="6757288">len</span><span class="op" id="6757291">(</span><span class="ident" id="6757292">test</span><span class="op" id="6757296">.</span><span class="ident" id="6757297">matches</span><span class="op" id="6757304">)</span>&nbsp;<span class="op" id="6757306">!=</span>&nbsp;<span class="builtinfunc" id="6757309">len</span><span class="op" id="6757312">(</span><span class="ident" id="6757313">result</span><span class="op" id="6757319">)</span><span class="op" id="6757320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757325">t</span><span class="op" id="6757326">.</span><span class="ident" id="6757327">Errorf</span><span class="op" id="6757333">(</span><span class="string" id="6757334">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6757367">,</span>&nbsp;<span class="builtinfunc" id="6757369">len</span><span class="op" id="6757372">(</span><span class="ident" id="6757373">test</span><span class="op" id="6757377">.</span><span class="ident" id="6757378">matches</span><span class="op" id="6757385">)</span><span class="op" id="6757386">,</span>&nbsp;<span class="builtinfunc" id="6757388">len</span><span class="op" id="6757391">(</span><span class="ident" id="6757392">result</span><span class="op" id="6757398">)</span><span class="op" id="6757399">,</span>&nbsp;<span class="ident" id="6757401">test</span><span class="op" id="6757405">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757409">case</span>&nbsp;<span class="ident" id="6757414">test</span><span class="op" id="6757418">.</span><span class="ident" id="6757419">matches</span>&nbsp;<span class="op" id="6757427">!=</span>&nbsp;<span class="ident" id="6757430">nil</span>&nbsp;<span class="op" id="6757434">&amp;&amp;</span>&nbsp;<span class="ident" id="6757437">result</span>&nbsp;<span class="op" id="6757444">!=</span>&nbsp;<span class="ident" id="6757447">nil</span><span class="op" id="6757450">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757455">for</span>&nbsp;<span class="ident" id="6757459">k</span><span class="op" id="6757460">,</span>&nbsp;<span class="ident" id="6757462">match</span>&nbsp;<span class="op" id="6757468">:=</span>&nbsp;<span class="keyword" id="6757471">range</span>&nbsp;<span class="ident" id="6757477">test</span><span class="op" id="6757481">.</span><span class="ident" id="6757482">matches</span>&nbsp;<span class="op" id="6757490">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757496">testSubmatchBytes</span><span class="op" id="6757513">(</span><span class="op" id="6757514">&amp;</span><span class="ident" id="6757515">test</span><span class="op" id="6757519">,</span>&nbsp;<span class="ident" id="6757521">k</span><span class="op" id="6757522">,</span>&nbsp;<span class="ident" id="6757524">match</span><span class="op" id="6757529">,</span>&nbsp;<span class="ident" id="6757531">result</span><span class="op" id="6757537">[</span><span class="ident" id="6757538">k</span><span class="op" id="6757539">]</span><span class="op" id="6757540">,</span>&nbsp;<span class="ident" id="6757542">t</span><span class="op" id="6757543">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6757548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6757552">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6757555">}</span><br>
<span class="lineno"></span><span class="op" id="6757557">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="6757560">func</span>&nbsp;<span class="ident" id="6757565">TestFindAllStringSubmatch</span><span class="op" id="6757590">(</span><span class="ident" id="6757591">t</span>&nbsp;<span class="op" id="6757593">*</span><span class="ident" id="6757594">testing</span><span class="op" id="6757601">.</span><span class="ident" id="6757602">T</span><span class="op" id="6757603">)</span>&nbsp;<span class="op" id="6757605">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757608">for</span>&nbsp;<span class="ident" id="6757612">_</span><span class="op" id="6757613">,</span>&nbsp;<span class="ident" id="6757615">test</span>&nbsp;<span class="op" id="6757620">:=</span>&nbsp;<span class="keyword" id="6757623">range</span>&nbsp;<span class="ident" id="6757629">findTests</span>&nbsp;<span class="op" id="6757639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757643">result</span>&nbsp;<span class="op" id="6757650">:=</span>&nbsp;<span class="ident" id="6757653">MustCompile</span><span class="op" id="6757664">(</span><span class="ident" id="6757665">test</span><span class="op" id="6757669">.</span><span class="ident" id="6757670">pat</span><span class="op" id="6757673">)</span><span class="op" id="6757674">.</span><span class="ident" id="6757675">FindAllStringSubmatch</span><span class="op" id="6757696">(</span><span class="ident" id="6757697">test</span><span class="op" id="6757701">.</span><span class="ident" id="6757702">text</span><span class="op" id="6757706">,</span>&nbsp;<span class="op" id="6757708">-</span><span class="num" id="6757709">1</span><span class="op" id="6757710">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757714">switch</span>&nbsp;<span class="op" id="6757721">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757725">case</span>&nbsp;<span class="ident" id="6757730">test</span><span class="op" id="6757734">.</span><span class="ident" id="6757735">matches</span>&nbsp;<span class="op" id="6757743">==</span>&nbsp;<span class="ident" id="6757746">nil</span>&nbsp;<span class="op" id="6757750">&amp;&amp;</span>&nbsp;<span class="ident" id="6757753">result</span>&nbsp;<span class="op" id="6757760">==</span>&nbsp;<span class="ident" id="6757763">nil</span><span class="op" id="6757766">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6757771">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757779">case</span>&nbsp;<span class="ident" id="6757784">test</span><span class="op" id="6757788">.</span><span class="ident" id="6757789">matches</span>&nbsp;<span class="op" id="6757797">==</span>&nbsp;<span class="ident" id="6757800">nil</span>&nbsp;<span class="op" id="6757804">&amp;&amp;</span>&nbsp;<span class="ident" id="6757807">result</span>&nbsp;<span class="op" id="6757814">!=</span>&nbsp;<span class="ident" id="6757817">nil</span><span class="op" id="6757820">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757825">t</span><span class="op" id="6757826">.</span><span class="ident" id="6757827">Errorf</span><span class="op" id="6757833">(</span><span class="string" id="6757834">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6757866">,</span>&nbsp;<span class="ident" id="6757868">test</span><span class="op" id="6757872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757876">case</span>&nbsp;<span class="ident" id="6757881">test</span><span class="op" id="6757885">.</span><span class="ident" id="6757886">matches</span>&nbsp;<span class="op" id="6757894">!=</span>&nbsp;<span class="ident" id="6757897">nil</span>&nbsp;<span class="op" id="6757901">&amp;&amp;</span>&nbsp;<span class="ident" id="6757904">result</span>&nbsp;<span class="op" id="6757911">==</span>&nbsp;<span class="ident" id="6757914">nil</span><span class="op" id="6757917">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6757922">t</span><span class="op" id="6757923">.</span><span class="ident" id="6757924">Errorf</span><span class="op" id="6757930">(</span><span class="string" id="6757931">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6757961">,</span>&nbsp;<span class="ident" id="6757963">test</span><span class="op" id="6757967">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6757971">case</span>&nbsp;<span class="builtinfunc" id="6757976">len</span><span class="op" id="6757979">(</span><span class="ident" id="6757980">test</span><span class="op" id="6757984">.</span><span class="ident" id="6757985">matches</span><span class="op" id="6757992">)</span>&nbsp;<span class="op" id="6757994">!=</span>&nbsp;<span class="builtinfunc" id="6757997">len</span><span class="op" id="6758000">(</span><span class="ident" id="6758001">result</span><span class="op" id="6758007">)</span><span class="op" id="6758008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758013">t</span><span class="op" id="6758014">.</span><span class="ident" id="6758015">Errorf</span><span class="op" id="6758021">(</span><span class="string" id="6758022">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6758055">,</span>&nbsp;<span class="builtinfunc" id="6758057">len</span><span class="op" id="6758060">(</span><span class="ident" id="6758061">test</span><span class="op" id="6758065">.</span><span class="ident" id="6758066">matches</span><span class="op" id="6758073">)</span><span class="op" id="6758074">,</span>&nbsp;<span class="builtinfunc" id="6758076">len</span><span class="op" id="6758079">(</span><span class="ident" id="6758080">result</span><span class="op" id="6758086">)</span><span class="op" id="6758087">,</span>&nbsp;<span class="ident" id="6758089">test</span><span class="op" id="6758093">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758097">case</span>&nbsp;<span class="ident" id="6758102">test</span><span class="op" id="6758106">.</span><span class="ident" id="6758107">matches</span>&nbsp;<span class="op" id="6758115">!=</span>&nbsp;<span class="ident" id="6758118">nil</span>&nbsp;<span class="op" id="6758122">&amp;&amp;</span>&nbsp;<span class="ident" id="6758125">result</span>&nbsp;<span class="op" id="6758132">!=</span>&nbsp;<span class="ident" id="6758135">nil</span><span class="op" id="6758138">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758143">for</span>&nbsp;<span class="ident" id="6758147">k</span><span class="op" id="6758148">,</span>&nbsp;<span class="ident" id="6758150">match</span>&nbsp;<span class="op" id="6758156">:=</span>&nbsp;<span class="keyword" id="6758159">range</span>&nbsp;<span class="ident" id="6758165">test</span><span class="op" id="6758169">.</span><span class="ident" id="6758170">matches</span>&nbsp;<span class="op" id="6758178">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758184">testSubmatchString</span><span class="op" id="6758202">(</span><span class="op" id="6758203">&amp;</span><span class="ident" id="6758204">test</span><span class="op" id="6758208">,</span>&nbsp;<span class="ident" id="6758210">k</span><span class="op" id="6758211">,</span>&nbsp;<span class="ident" id="6758213">match</span><span class="op" id="6758218">,</span>&nbsp;<span class="ident" id="6758220">result</span><span class="op" id="6758226">[</span><span class="ident" id="6758227">k</span><span class="op" id="6758228">]</span><span class="op" id="6758229">,</span>&nbsp;<span class="ident" id="6758231">t</span><span class="op" id="6758232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758237">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758241">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758244">}</span><br>
<span class="lineno"></span><span class="op" id="6758246">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="6758249">func</span>&nbsp;<span class="ident" id="6758254">testFindAllSubmatchIndex</span><span class="op" id="6758278">(</span><span class="ident" id="6758279">test</span>&nbsp;<span class="op" id="6758284">*</span><span class="ident" id="6758285">FindTest</span><span class="op" id="6758293">,</span>&nbsp;<span class="ident" id="6758295">result</span>&nbsp;<span class="op" id="6758302">[</span><span class="op" id="6758303">]</span><span class="op" id="6758304">[</span><span class="op" id="6758305">]</span><span class="builtintype" id="6758306">int</span><span class="op" id="6758309">,</span>&nbsp;<span class="ident" id="6758311">t</span>&nbsp;<span class="op" id="6758313">*</span><span class="ident" id="6758314">testing</span><span class="op" id="6758321">.</span><span class="ident" id="6758322">T</span><span class="op" id="6758323">)</span>&nbsp;<span class="op" id="6758325">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758328">switch</span>&nbsp;<span class="op" id="6758335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758338">case</span>&nbsp;<span class="ident" id="6758343">test</span><span class="op" id="6758347">.</span><span class="ident" id="6758348">matches</span>&nbsp;<span class="op" id="6758356">==</span>&nbsp;<span class="ident" id="6758359">nil</span>&nbsp;<span class="op" id="6758363">&amp;&amp;</span>&nbsp;<span class="ident" id="6758366">result</span>&nbsp;<span class="op" id="6758373">==</span>&nbsp;<span class="ident" id="6758376">nil</span><span class="op" id="6758379">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6758383">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758390">case</span>&nbsp;<span class="ident" id="6758395">test</span><span class="op" id="6758399">.</span><span class="ident" id="6758400">matches</span>&nbsp;<span class="op" id="6758408">==</span>&nbsp;<span class="ident" id="6758411">nil</span>&nbsp;<span class="op" id="6758415">&amp;&amp;</span>&nbsp;<span class="ident" id="6758418">result</span>&nbsp;<span class="op" id="6758425">!=</span>&nbsp;<span class="ident" id="6758428">nil</span><span class="op" id="6758431">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758435">t</span><span class="op" id="6758436">.</span><span class="ident" id="6758437">Errorf</span><span class="op" id="6758443">(</span><span class="string" id="6758444">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="6758476">,</span>&nbsp;<span class="ident" id="6758478">test</span><span class="op" id="6758482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758485">case</span>&nbsp;<span class="ident" id="6758490">test</span><span class="op" id="6758494">.</span><span class="ident" id="6758495">matches</span>&nbsp;<span class="op" id="6758503">!=</span>&nbsp;<span class="ident" id="6758506">nil</span>&nbsp;<span class="op" id="6758510">&amp;&amp;</span>&nbsp;<span class="ident" id="6758513">result</span>&nbsp;<span class="op" id="6758520">==</span>&nbsp;<span class="ident" id="6758523">nil</span><span class="op" id="6758526">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758530">t</span><span class="op" id="6758531">.</span><span class="ident" id="6758532">Errorf</span><span class="op" id="6758538">(</span><span class="string" id="6758539">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="6758569">,</span>&nbsp;<span class="ident" id="6758571">test</span><span class="op" id="6758575">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758578">case</span>&nbsp;<span class="builtinfunc" id="6758583">len</span><span class="op" id="6758586">(</span><span class="ident" id="6758587">test</span><span class="op" id="6758591">.</span><span class="ident" id="6758592">matches</span><span class="op" id="6758599">)</span>&nbsp;<span class="op" id="6758601">!=</span>&nbsp;<span class="builtinfunc" id="6758604">len</span><span class="op" id="6758607">(</span><span class="ident" id="6758608">result</span><span class="op" id="6758614">)</span><span class="op" id="6758615">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758619">t</span><span class="op" id="6758620">.</span><span class="ident" id="6758621">Errorf</span><span class="op" id="6758627">(</span><span class="string" id="6758628">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="6758661">,</span>&nbsp;<span class="builtinfunc" id="6758663">len</span><span class="op" id="6758666">(</span><span class="ident" id="6758667">test</span><span class="op" id="6758671">.</span><span class="ident" id="6758672">matches</span><span class="op" id="6758679">)</span><span class="op" id="6758680">,</span>&nbsp;<span class="builtinfunc" id="6758682">len</span><span class="op" id="6758685">(</span><span class="ident" id="6758686">result</span><span class="op" id="6758692">)</span><span class="op" id="6758693">,</span>&nbsp;<span class="ident" id="6758695">test</span><span class="op" id="6758699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758702">case</span>&nbsp;<span class="ident" id="6758707">test</span><span class="op" id="6758711">.</span><span class="ident" id="6758712">matches</span>&nbsp;<span class="op" id="6758720">!=</span>&nbsp;<span class="ident" id="6758723">nil</span>&nbsp;<span class="op" id="6758727">&amp;&amp;</span>&nbsp;<span class="ident" id="6758730">result</span>&nbsp;<span class="op" id="6758737">!=</span>&nbsp;<span class="ident" id="6758740">nil</span><span class="op" id="6758743">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758747">for</span>&nbsp;<span class="ident" id="6758751">k</span><span class="op" id="6758752">,</span>&nbsp;<span class="ident" id="6758754">match</span>&nbsp;<span class="op" id="6758760">:=</span>&nbsp;<span class="keyword" id="6758763">range</span>&nbsp;<span class="ident" id="6758769">test</span><span class="op" id="6758773">.</span><span class="ident" id="6758774">matches</span>&nbsp;<span class="op" id="6758782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758787">testSubmatchIndices</span><span class="op" id="6758806">(</span><span class="ident" id="6758807">test</span><span class="op" id="6758811">,</span>&nbsp;<span class="ident" id="6758813">k</span><span class="op" id="6758814">,</span>&nbsp;<span class="ident" id="6758816">match</span><span class="op" id="6758821">,</span>&nbsp;<span class="ident" id="6758823">result</span><span class="op" id="6758829">[</span><span class="ident" id="6758830">k</span><span class="op" id="6758831">]</span><span class="op" id="6758832">,</span>&nbsp;<span class="ident" id="6758834">t</span><span class="op" id="6758835">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758839">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6758842">}</span><br>
<span class="lineno"></span><span class="op" id="6758844">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6758847">func</span>&nbsp;<span class="ident" id="6758852">TestFindAllSubmatchIndex</span><span class="op" id="6758876">(</span><span class="ident" id="6758877">t</span>&nbsp;<span class="op" id="6758879">*</span><span class="ident" id="6758880">testing</span><span class="op" id="6758887">.</span><span class="ident" id="6758888">T</span><span class="op" id="6758889">)</span>&nbsp;<span class="op" id="6758891">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6758894">for</span>&nbsp;<span class="ident" id="6758898">_</span><span class="op" id="6758899">,</span>&nbsp;<span class="ident" id="6758901">test</span>&nbsp;<span class="op" id="6758906">:=</span>&nbsp;<span class="keyword" id="6758909">range</span>&nbsp;<span class="ident" id="6758915">findTests</span>&nbsp;<span class="op" id="6758925">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6758929">testFindAllSubmatchIndex</span><span class="op" id="6758953">(</span><span class="op" id="6758954">&amp;</span><span class="ident" id="6758955">test</span><span class="op" id="6758959">,</span>&nbsp;<span class="ident" id="6758961">MustCompile</span><span class="op" id="6758972">(</span><span class="ident" id="6758973">test</span><span class="op" id="6758977">.</span><span class="ident" id="6758978">pat</span><span class="op" id="6758981">)</span><span class="op" id="6758982">.</span><span class="ident" id="6758983">FindAllSubmatchIndex</span><span class="op" id="6759003">(</span><span class="op" id="6759004">[</span><span class="op" id="6759005">]</span><span class="builtintype" id="6759006">byte</span><span class="op" id="6759010">(</span><span class="ident" id="6759011">test</span><span class="op" id="6759015">.</span><span class="ident" id="6759016">text</span><span class="op" id="6759020">)</span><span class="op" id="6759021">,</span>&nbsp;<span class="op" id="6759023">-</span><span class="num" id="6759024">1</span><span class="op" id="6759025">)</span><span class="op" id="6759026">,</span>&nbsp;<span class="ident" id="6759028">t</span><span class="op" id="6759029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759032">}</span><br>
<span class="lineno"></span><span class="op" id="6759034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6759037">func</span>&nbsp;<span class="ident" id="6759042">TestFindAllStringSubmatchIndex</span><span class="op" id="6759072">(</span><span class="ident" id="6759073">t</span>&nbsp;<span class="op" id="6759075">*</span><span class="ident" id="6759076">testing</span><span class="op" id="6759083">.</span><span class="ident" id="6759084">T</span><span class="op" id="6759085">)</span>&nbsp;<span class="op" id="6759087">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6759090">for</span>&nbsp;<span class="ident" id="6759094">_</span><span class="op" id="6759095">,</span>&nbsp;<span class="ident" id="6759097">test</span>&nbsp;<span class="op" id="6759102">:=</span>&nbsp;<span class="keyword" id="6759105">range</span>&nbsp;<span class="ident" id="6759111">findTests</span>&nbsp;<span class="op" id="6759121">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6759125">testFindAllSubmatchIndex</span><span class="op" id="6759149">(</span><span class="op" id="6759150">&amp;</span><span class="ident" id="6759151">test</span><span class="op" id="6759155">,</span>&nbsp;<span class="ident" id="6759157">MustCompile</span><span class="op" id="6759168">(</span><span class="ident" id="6759169">test</span><span class="op" id="6759173">.</span><span class="ident" id="6759174">pat</span><span class="op" id="6759177">)</span><span class="op" id="6759178">.</span><span class="ident" id="6759179">FindAllStringSubmatchIndex</span><span class="op" id="6759205">(</span><span class="ident" id="6759206">test</span><span class="op" id="6759210">.</span><span class="ident" id="6759211">text</span><span class="op" id="6759215">,</span>&nbsp;<span class="op" id="6759217">-</span><span class="num" id="6759218">1</span><span class="op" id="6759219">)</span><span class="op" id="6759220">,</span>&nbsp;<span class="ident" id="6759222">t</span><span class="op" id="6759223">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6759226">}</span><br>
<span class="lineno"></span><span class="op" id="6759228">}</span>
</div>
</body>
</html>
