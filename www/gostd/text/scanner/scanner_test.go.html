<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>text/scanner</h2>
<ul>
<li><a href="/gostd/text/scanner/scanner.go.html">scanner.go</a></li>
<li><a href="/gostd/text/scanner/scanner_test.go.html">scanner_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8368737">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8368792">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8368846">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8368897">package</span>&nbsp;<span class="ident" id="8368905">scanner</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8368914">import</span>&nbsp;<span class="op" id="8368921">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368924">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368933">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368940">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368946">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368957">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8368968">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="8368983">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="comment" id="8368986">//&nbsp;A&nbsp;StringReader&nbsp;delivers&nbsp;its&nbsp;data&nbsp;one&nbsp;string&nbsp;segment&nbsp;at&nbsp;a&nbsp;time&nbsp;via&nbsp;Read.</span><br>
<span class="lineno"></span><span class="keyword" id="8369061">type</span>&nbsp;<span class="ident" id="8369066">StringReader</span>&nbsp;<span class="keyword" id="8369079">struct</span>&nbsp;<span class="op" id="8369086">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369089">data</span>&nbsp;<span class="op" id="8369094">[</span><span class="op" id="8369095">]</span><span class="builtintype" id="8369096">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369104">step</span>&nbsp;<span class="builtintype" id="8369109">int</span><br>
<span class="lineno">20</span><span class="op" id="8369113">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8369116">func</span>&nbsp;<span class="op" id="8369121">(</span><span class="ident" id="8369122">r</span>&nbsp;<span class="op" id="8369124">*</span><span class="ident" id="8369125">StringReader</span><span class="op" id="8369137">)</span>&nbsp;<span class="ident" id="8369139">Read</span><span class="op" id="8369143">(</span><span class="ident" id="8369144">p</span>&nbsp;<span class="op" id="8369146">[</span><span class="op" id="8369147">]</span><span class="builtintype" id="8369148">byte</span><span class="op" id="8369152">)</span>&nbsp;<span class="op" id="8369154">(</span><span class="ident" id="8369155">n</span>&nbsp;<span class="builtintype" id="8369157">int</span><span class="op" id="8369160">,</span>&nbsp;<span class="ident" id="8369162">err</span>&nbsp;<span class="builtintype" id="8369166">error</span><span class="op" id="8369171">)</span>&nbsp;<span class="op" id="8369173">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369176">if</span>&nbsp;<span class="ident" id="8369179">r</span><span class="op" id="8369180">.</span><span class="ident" id="8369181">step</span>&nbsp;<span class="op" id="8369186">&lt;</span>&nbsp;<span class="builtinfunc" id="8369188">len</span><span class="op" id="8369191">(</span><span class="ident" id="8369192">r</span><span class="op" id="8369193">.</span><span class="ident" id="8369194">data</span><span class="op" id="8369198">)</span>&nbsp;<span class="op" id="8369200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369204">s</span>&nbsp;<span class="op" id="8369206">:=</span>&nbsp;<span class="ident" id="8369209">r</span><span class="op" id="8369210">.</span><span class="ident" id="8369211">data</span><span class="op" id="8369215">[</span><span class="ident" id="8369216">r</span><span class="op" id="8369217">.</span><span class="ident" id="8369218">step</span><span class="op" id="8369222">]</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369226">n</span>&nbsp;<span class="op" id="8369228">=</span>&nbsp;<span class="builtinfunc" id="8369230">copy</span><span class="op" id="8369234">(</span><span class="ident" id="8369235">p</span><span class="op" id="8369236">,</span>&nbsp;<span class="ident" id="8369238">s</span><span class="op" id="8369239">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369243">r</span><span class="op" id="8369244">.</span><span class="ident" id="8369245">step</span><span class="op" id="8369249">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369253">}</span>&nbsp;<span class="keyword" id="8369255">else</span>&nbsp;<span class="op" id="8369260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369264">err</span>&nbsp;<span class="op" id="8369268">=</span>&nbsp;<span class="ident" id="8369270">io</span><span class="op" id="8369272">.</span><span class="ident" id="8369273">EOF</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369278">}</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369281">return</span><br>
<span class="lineno"></span><span class="op" id="8369288">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8369291">func</span>&nbsp;<span class="ident" id="8369296">readRuneSegments</span><span class="op" id="8369312">(</span><span class="ident" id="8369313">t</span>&nbsp;<span class="op" id="8369315">*</span><span class="ident" id="8369316">testing</span><span class="op" id="8369323">.</span><span class="ident" id="8369324">T</span><span class="op" id="8369325">,</span>&nbsp;<span class="ident" id="8369327">segments</span>&nbsp;<span class="op" id="8369336">[</span><span class="op" id="8369337">]</span><span class="builtintype" id="8369338">string</span><span class="op" id="8369344">)</span>&nbsp;<span class="op" id="8369346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369349">got</span>&nbsp;<span class="op" id="8369353">:=</span>&nbsp;<span class="string" id="8369356">&#34;&#34;</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369360">want</span>&nbsp;<span class="op" id="8369365">:=</span>&nbsp;<span class="ident" id="8369368">strings</span><span class="op" id="8369375">.</span><span class="ident" id="8369376">Join</span><span class="op" id="8369380">(</span><span class="ident" id="8369381">segments</span><span class="op" id="8369389">,</span>&nbsp;<span class="string" id="8369391">&#34;&#34;</span><span class="op" id="8369393">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369396">s</span>&nbsp;<span class="op" id="8369398">:=</span>&nbsp;<span class="builtinfunc" id="8369401">new</span><span class="op" id="8369404">(</span><span class="ident" id="8369405">Scanner</span><span class="op" id="8369412">)</span><span class="op" id="8369413">.</span><span class="ident" id="8369414">Init</span><span class="op" id="8369418">(</span><span class="op" id="8369419">&amp;</span><span class="ident" id="8369420">StringReader</span><span class="op" id="8369432">{</span><span class="ident" id="8369433">data</span><span class="op" id="8369437">:</span>&nbsp;<span class="ident" id="8369439">segments</span><span class="op" id="8369447">}</span><span class="op" id="8369448">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369451">for</span>&nbsp;<span class="op" id="8369455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369459">ch</span>&nbsp;<span class="op" id="8369462">:=</span>&nbsp;<span class="ident" id="8369465">s</span><span class="op" id="8369466">.</span><span class="ident" id="8369467">Next</span><span class="op" id="8369471">(</span><span class="op" id="8369472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369476">if</span>&nbsp;<span class="ident" id="8369479">ch</span>&nbsp;<span class="op" id="8369482">==</span>&nbsp;<span class="ident" id="8369485">EOF</span>&nbsp;<span class="op" id="8369489">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369494">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369502">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369506">got</span>&nbsp;<span class="op" id="8369510">+=</span>&nbsp;<span class="builtintype" id="8369513">string</span><span class="op" id="8369519">(</span><span class="ident" id="8369520">ch</span><span class="op" id="8369522">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369525">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369528">if</span>&nbsp;<span class="ident" id="8369531">got</span>&nbsp;<span class="op" id="8369535">!=</span>&nbsp;<span class="ident" id="8369538">want</span>&nbsp;<span class="op" id="8369543">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369547">t</span><span class="op" id="8369548">.</span><span class="ident" id="8369549">Errorf</span><span class="op" id="8369555">(</span><span class="string" id="8369556">&#34;segments=%v&nbsp;got=%s&nbsp;want=%s&#34;</span><span class="op" id="8369584">,</span>&nbsp;<span class="ident" id="8369586">segments</span><span class="op" id="8369594">,</span>&nbsp;<span class="ident" id="8369596">got</span><span class="op" id="8369599">,</span>&nbsp;<span class="ident" id="8369601">want</span><span class="op" id="8369605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369608">}</span><br>
<span class="lineno"></span><span class="op" id="8369610">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8369613">var</span>&nbsp;<span class="ident" id="8369617">segmentList</span>&nbsp;<span class="op" id="8369629">=</span>&nbsp;<span class="op" id="8369631">[</span><span class="op" id="8369632">]</span><span class="op" id="8369633">[</span><span class="op" id="8369634">]</span><span class="builtintype" id="8369635">string</span><span class="op" id="8369641">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369644">{</span><span class="op" id="8369645">}</span><span class="op" id="8369646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369649">{</span><span class="string" id="8369650">&#34;&#34;</span><span class="op" id="8369652">}</span><span class="op" id="8369653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369656">{</span><span class="string" id="8369657">&#34;日&#34;</span><span class="op" id="8369662">,</span>&nbsp;<span class="string" id="8369664">&#34;本語&#34;</span><span class="op" id="8369672">}</span><span class="op" id="8369673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369676">{</span><span class="string" id="8369677">&#34;\u65e5&#34;</span><span class="op" id="8369685">,</span>&nbsp;<span class="string" id="8369687">&#34;\u672c&#34;</span><span class="op" id="8369695">,</span>&nbsp;<span class="string" id="8369697">&#34;\u8a9e&#34;</span><span class="op" id="8369705">}</span><span class="op" id="8369706">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369709">{</span><span class="string" id="8369710">&#34;\U000065e5&#34;</span><span class="op" id="8369722">,</span>&nbsp;<span class="string" id="8369724">&#34;&nbsp;&#34;</span><span class="op" id="8369727">,</span>&nbsp;<span class="string" id="8369729">&#34;\U0000672c&#34;</span><span class="op" id="8369741">,</span>&nbsp;<span class="string" id="8369743">&#34;\U00008a9e&#34;</span><span class="op" id="8369755">}</span><span class="op" id="8369756">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369759">{</span><span class="string" id="8369760">&#34;\xe6&#34;</span><span class="op" id="8369766">,</span>&nbsp;<span class="string" id="8369768">&#34;\x97\xa5\xe6&#34;</span><span class="op" id="8369782">,</span>&nbsp;<span class="string" id="8369784">&#34;\x9c\xac\xe8\xaa\x9e&#34;</span><span class="op" id="8369806">}</span><span class="op" id="8369807">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369810">{</span><span class="string" id="8369811">&#34;Hello&#34;</span><span class="op" id="8369818">,</span>&nbsp;<span class="string" id="8369820">&#34;,&nbsp;&#34;</span><span class="op" id="8369824">,</span>&nbsp;<span class="string" id="8369826">&#34;World&#34;</span><span class="op" id="8369833">,</span>&nbsp;<span class="string" id="8369835">&#34;!&#34;</span><span class="op" id="8369838">}</span><span class="op" id="8369839">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369842">{</span><span class="string" id="8369843">&#34;Hello&#34;</span><span class="op" id="8369850">,</span>&nbsp;<span class="string" id="8369852">&#34;,&nbsp;&#34;</span><span class="op" id="8369856">,</span>&nbsp;<span class="string" id="8369858">&#34;&#34;</span><span class="op" id="8369860">,</span>&nbsp;<span class="string" id="8369862">&#34;World&#34;</span><span class="op" id="8369869">,</span>&nbsp;<span class="string" id="8369871">&#34;!&#34;</span><span class="op" id="8369874">}</span><span class="op" id="8369875">,</span><br>
<span class="lineno"></span><span class="op" id="8369877">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">60</span><span class="keyword" id="8369880">func</span>&nbsp;<span class="ident" id="8369885">TestNext</span><span class="op" id="8369893">(</span><span class="ident" id="8369894">t</span>&nbsp;<span class="op" id="8369896">*</span><span class="ident" id="8369897">testing</span><span class="op" id="8369904">.</span><span class="ident" id="8369905">T</span><span class="op" id="8369906">)</span>&nbsp;<span class="op" id="8369908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8369911">for</span>&nbsp;<span class="ident" id="8369915">_</span><span class="op" id="8369916">,</span>&nbsp;<span class="ident" id="8369918">s</span>&nbsp;<span class="op" id="8369920">:=</span>&nbsp;<span class="keyword" id="8369923">range</span>&nbsp;<span class="ident" id="8369929">segmentList</span>&nbsp;<span class="op" id="8369941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369945">readRuneSegments</span><span class="op" id="8369961">(</span><span class="ident" id="8369962">t</span><span class="op" id="8369963">,</span>&nbsp;<span class="ident" id="8369965">s</span><span class="op" id="8369966">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8369969">}</span><br>
<span class="lineno"></span><span class="op" id="8369971">}</span><br>
<span class="lineno">65</span><br>
<span class="lineno"></span><span class="keyword" id="8369974">type</span>&nbsp;<span class="ident" id="8369979">token</span>&nbsp;<span class="keyword" id="8369985">struct</span>&nbsp;<span class="op" id="8369992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8369995">tok</span>&nbsp;&nbsp;<span class="builtintype" id="8370000">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8370006">text</span>&nbsp;<span class="builtintype" id="8370011">string</span><br>
<span class="lineno"></span><span class="op" id="8370018">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="8370021">var</span>&nbsp;<span class="ident" id="8370025">f100</span>&nbsp;<span class="op" id="8370030">=</span>&nbsp;<span class="string" id="8370032">&#34;ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8370136">var</span>&nbsp;<span class="ident" id="8370140">tokenList</span>&nbsp;<span class="op" id="8370150">=</span>&nbsp;<span class="op" id="8370152">[</span><span class="op" id="8370153">]</span><span class="ident" id="8370154">token</span><span class="op" id="8370159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370162">{</span><span class="ident" id="8370163">Comment</span><span class="op" id="8370170">,</span>&nbsp;<span class="string" id="8370172">&#34;//&nbsp;line&nbsp;comments&#34;</span><span class="op" id="8370190">}</span><span class="op" id="8370191">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370194">{</span><span class="ident" id="8370195">Comment</span><span class="op" id="8370202">,</span>&nbsp;<span class="string" id="8370204">&#34;//&#34;</span><span class="op" id="8370208">}</span><span class="op" id="8370209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370212">{</span><span class="ident" id="8370213">Comment</span><span class="op" id="8370220">,</span>&nbsp;<span class="string" id="8370222">&#34;////&#34;</span><span class="op" id="8370228">}</span><span class="op" id="8370229">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370232">{</span><span class="ident" id="8370233">Comment</span><span class="op" id="8370240">,</span>&nbsp;<span class="string" id="8370242">&#34;//&nbsp;comment&#34;</span><span class="op" id="8370254">}</span><span class="op" id="8370255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370258">{</span><span class="ident" id="8370259">Comment</span><span class="op" id="8370266">,</span>&nbsp;<span class="string" id="8370268">&#34;//&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8370286">}</span><span class="op" id="8370287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370290">{</span><span class="ident" id="8370291">Comment</span><span class="op" id="8370298">,</span>&nbsp;<span class="string" id="8370300">&#34;//&nbsp;//&nbsp;comment&nbsp;//&#34;</span><span class="op" id="8370318">}</span><span class="op" id="8370319">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370322">{</span><span class="ident" id="8370323">Comment</span><span class="op" id="8370330">,</span>&nbsp;<span class="string" id="8370332">&#34;//&#34;</span>&nbsp;<span class="op" id="8370337">+</span>&nbsp;<span class="ident" id="8370339">f100</span><span class="op" id="8370343">}</span><span class="op" id="8370344">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370348">{</span><span class="ident" id="8370349">Comment</span><span class="op" id="8370356">,</span>&nbsp;<span class="string" id="8370358">&#34;//&nbsp;general&nbsp;comments&#34;</span><span class="op" id="8370379">}</span><span class="op" id="8370380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370383">{</span><span class="ident" id="8370384">Comment</span><span class="op" id="8370391">,</span>&nbsp;<span class="string" id="8370393">&#34;/**/&#34;</span><span class="op" id="8370399">}</span><span class="op" id="8370400">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370403">{</span><span class="ident" id="8370404">Comment</span><span class="op" id="8370411">,</span>&nbsp;<span class="string" id="8370413">&#34;/***/&#34;</span><span class="op" id="8370420">}</span><span class="op" id="8370421">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370424">{</span><span class="ident" id="8370425">Comment</span><span class="op" id="8370432">,</span>&nbsp;<span class="string" id="8370434">&#34;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8370449">}</span><span class="op" id="8370450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370453">{</span><span class="ident" id="8370454">Comment</span><span class="op" id="8370461">,</span>&nbsp;<span class="string" id="8370463">&#34;/*&nbsp;//&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8370481">}</span><span class="op" id="8370482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370485">{</span><span class="ident" id="8370486">Comment</span><span class="op" id="8370493">,</span>&nbsp;<span class="string" id="8370495">&#34;/*&nbsp;/*&nbsp;comment&nbsp;*/&#34;</span><span class="op" id="8370513">}</span><span class="op" id="8370514">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370517">{</span><span class="ident" id="8370518">Comment</span><span class="op" id="8370525">,</span>&nbsp;<span class="string" id="8370527">&#34;/*\n&nbsp;comment\n*/&#34;</span><span class="op" id="8370545">}</span><span class="op" id="8370546">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370549">{</span><span class="ident" id="8370550">Comment</span><span class="op" id="8370557">,</span>&nbsp;<span class="string" id="8370559">&#34;/*&#34;</span>&nbsp;<span class="op" id="8370564">+</span>&nbsp;<span class="ident" id="8370566">f100</span>&nbsp;<span class="op" id="8370571">+</span>&nbsp;<span class="string" id="8370573">&#34;*/&#34;</span><span class="op" id="8370577">}</span><span class="op" id="8370578">,</span><br>
<span class="lineno">90</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370582">{</span><span class="ident" id="8370583">Comment</span><span class="op" id="8370590">,</span>&nbsp;<span class="string" id="8370592">&#34;//&nbsp;identifiers&#34;</span><span class="op" id="8370608">}</span><span class="op" id="8370609">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370612">{</span><span class="ident" id="8370613">Ident</span><span class="op" id="8370618">,</span>&nbsp;<span class="string" id="8370620">&#34;a&#34;</span><span class="op" id="8370623">}</span><span class="op" id="8370624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370627">{</span><span class="ident" id="8370628">Ident</span><span class="op" id="8370633">,</span>&nbsp;<span class="string" id="8370635">&#34;a0&#34;</span><span class="op" id="8370639">}</span><span class="op" id="8370640">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370643">{</span><span class="ident" id="8370644">Ident</span><span class="op" id="8370649">,</span>&nbsp;<span class="string" id="8370651">&#34;foobar&#34;</span><span class="op" id="8370659">}</span><span class="op" id="8370660">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370663">{</span><span class="ident" id="8370664">Ident</span><span class="op" id="8370669">,</span>&nbsp;<span class="string" id="8370671">&#34;abc123&#34;</span><span class="op" id="8370679">}</span><span class="op" id="8370680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370683">{</span><span class="ident" id="8370684">Ident</span><span class="op" id="8370689">,</span>&nbsp;<span class="string" id="8370691">&#34;LGTM&#34;</span><span class="op" id="8370697">}</span><span class="op" id="8370698">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370701">{</span><span class="ident" id="8370702">Ident</span><span class="op" id="8370707">,</span>&nbsp;<span class="string" id="8370709">&#34;_&#34;</span><span class="op" id="8370712">}</span><span class="op" id="8370713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370716">{</span><span class="ident" id="8370717">Ident</span><span class="op" id="8370722">,</span>&nbsp;<span class="string" id="8370724">&#34;_abc123&#34;</span><span class="op" id="8370733">}</span><span class="op" id="8370734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370737">{</span><span class="ident" id="8370738">Ident</span><span class="op" id="8370743">,</span>&nbsp;<span class="string" id="8370745">&#34;abc123_&#34;</span><span class="op" id="8370754">}</span><span class="op" id="8370755">,</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370758">{</span><span class="ident" id="8370759">Ident</span><span class="op" id="8370764">,</span>&nbsp;<span class="string" id="8370766">&#34;_abc_123_&#34;</span><span class="op" id="8370777">}</span><span class="op" id="8370778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370781">{</span><span class="ident" id="8370782">Ident</span><span class="op" id="8370787">,</span>&nbsp;<span class="string" id="8370789">&#34;_äöü&#34;</span><span class="op" id="8370798">}</span><span class="op" id="8370799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370802">{</span><span class="ident" id="8370803">Ident</span><span class="op" id="8370808">,</span>&nbsp;<span class="string" id="8370810">&#34;_本&#34;</span><span class="op" id="8370816">}</span><span class="op" id="8370817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370820">{</span><span class="ident" id="8370821">Ident</span><span class="op" id="8370826">,</span>&nbsp;<span class="string" id="8370828">&#34;äöü&#34;</span><span class="op" id="8370836">}</span><span class="op" id="8370837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370840">{</span><span class="ident" id="8370841">Ident</span><span class="op" id="8370846">,</span>&nbsp;<span class="string" id="8370848">&#34;本&#34;</span><span class="op" id="8370853">}</span><span class="op" id="8370854">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370857">{</span><span class="ident" id="8370858">Ident</span><span class="op" id="8370863">,</span>&nbsp;<span class="string" id="8370865">&#34;a۰۱۸&#34;</span><span class="op" id="8370874">}</span><span class="op" id="8370875">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370878">{</span><span class="ident" id="8370879">Ident</span><span class="op" id="8370884">,</span>&nbsp;<span class="string" id="8370886">&#34;foo६४&#34;</span><span class="op" id="8370897">}</span><span class="op" id="8370898">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370901">{</span><span class="ident" id="8370902">Ident</span><span class="op" id="8370907">,</span>&nbsp;<span class="string" id="8370909">&#34;bar９８７６&#34;</span><span class="op" id="8370926">}</span><span class="op" id="8370927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370930">{</span><span class="ident" id="8370931">Ident</span><span class="op" id="8370936">,</span>&nbsp;<span class="ident" id="8370938">f100</span><span class="op" id="8370942">}</span><span class="op" id="8370943">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370947">{</span><span class="ident" id="8370948">Comment</span><span class="op" id="8370955">,</span>&nbsp;<span class="string" id="8370957">&#34;//&nbsp;decimal&nbsp;ints&#34;</span><span class="op" id="8370974">}</span><span class="op" id="8370975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370978">{</span><span class="ident" id="8370979">Int</span><span class="op" id="8370982">,</span>&nbsp;<span class="string" id="8370984">&#34;0&#34;</span><span class="op" id="8370987">}</span><span class="op" id="8370988">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8370991">{</span><span class="ident" id="8370992">Int</span><span class="op" id="8370995">,</span>&nbsp;<span class="string" id="8370997">&#34;1&#34;</span><span class="op" id="8371000">}</span><span class="op" id="8371001">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371004">{</span><span class="ident" id="8371005">Int</span><span class="op" id="8371008">,</span>&nbsp;<span class="string" id="8371010">&#34;9&#34;</span><span class="op" id="8371013">}</span><span class="op" id="8371014">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371017">{</span><span class="ident" id="8371018">Int</span><span class="op" id="8371021">,</span>&nbsp;<span class="string" id="8371023">&#34;42&#34;</span><span class="op" id="8371027">}</span><span class="op" id="8371028">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371031">{</span><span class="ident" id="8371032">Int</span><span class="op" id="8371035">,</span>&nbsp;<span class="string" id="8371037">&#34;1234567890&#34;</span><span class="op" id="8371049">}</span><span class="op" id="8371050">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371054">{</span><span class="ident" id="8371055">Comment</span><span class="op" id="8371062">,</span>&nbsp;<span class="string" id="8371064">&#34;//&nbsp;octal&nbsp;ints&#34;</span><span class="op" id="8371079">}</span><span class="op" id="8371080">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371083">{</span><span class="ident" id="8371084">Int</span><span class="op" id="8371087">,</span>&nbsp;<span class="string" id="8371089">&#34;00&#34;</span><span class="op" id="8371093">}</span><span class="op" id="8371094">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371097">{</span><span class="ident" id="8371098">Int</span><span class="op" id="8371101">,</span>&nbsp;<span class="string" id="8371103">&#34;01&#34;</span><span class="op" id="8371107">}</span><span class="op" id="8371108">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371111">{</span><span class="ident" id="8371112">Int</span><span class="op" id="8371115">,</span>&nbsp;<span class="string" id="8371117">&#34;07&#34;</span><span class="op" id="8371121">}</span><span class="op" id="8371122">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371125">{</span><span class="ident" id="8371126">Int</span><span class="op" id="8371129">,</span>&nbsp;<span class="string" id="8371131">&#34;042&#34;</span><span class="op" id="8371136">}</span><span class="op" id="8371137">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371140">{</span><span class="ident" id="8371141">Int</span><span class="op" id="8371144">,</span>&nbsp;<span class="string" id="8371146">&#34;01234567&#34;</span><span class="op" id="8371156">}</span><span class="op" id="8371157">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371161">{</span><span class="ident" id="8371162">Comment</span><span class="op" id="8371169">,</span>&nbsp;<span class="string" id="8371171">&#34;//&nbsp;hexadecimal&nbsp;ints&#34;</span><span class="op" id="8371192">}</span><span class="op" id="8371193">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371196">{</span><span class="ident" id="8371197">Int</span><span class="op" id="8371200">,</span>&nbsp;<span class="string" id="8371202">&#34;0x0&#34;</span><span class="op" id="8371207">}</span><span class="op" id="8371208">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371211">{</span><span class="ident" id="8371212">Int</span><span class="op" id="8371215">,</span>&nbsp;<span class="string" id="8371217">&#34;0x1&#34;</span><span class="op" id="8371222">}</span><span class="op" id="8371223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371226">{</span><span class="ident" id="8371227">Int</span><span class="op" id="8371230">,</span>&nbsp;<span class="string" id="8371232">&#34;0xf&#34;</span><span class="op" id="8371237">}</span><span class="op" id="8371238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371241">{</span><span class="ident" id="8371242">Int</span><span class="op" id="8371245">,</span>&nbsp;<span class="string" id="8371247">&#34;0x42&#34;</span><span class="op" id="8371253">}</span><span class="op" id="8371254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371257">{</span><span class="ident" id="8371258">Int</span><span class="op" id="8371261">,</span>&nbsp;<span class="string" id="8371263">&#34;0x123456789abcDEF&#34;</span><span class="op" id="8371282">}</span><span class="op" id="8371283">,</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371286">{</span><span class="ident" id="8371287">Int</span><span class="op" id="8371290">,</span>&nbsp;<span class="string" id="8371292">&#34;0x&#34;</span>&nbsp;<span class="op" id="8371297">+</span>&nbsp;<span class="ident" id="8371299">f100</span><span class="op" id="8371303">}</span><span class="op" id="8371304">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371307">{</span><span class="ident" id="8371308">Int</span><span class="op" id="8371311">,</span>&nbsp;<span class="string" id="8371313">&#34;0X0&#34;</span><span class="op" id="8371318">}</span><span class="op" id="8371319">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371322">{</span><span class="ident" id="8371323">Int</span><span class="op" id="8371326">,</span>&nbsp;<span class="string" id="8371328">&#34;0X1&#34;</span><span class="op" id="8371333">}</span><span class="op" id="8371334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371337">{</span><span class="ident" id="8371338">Int</span><span class="op" id="8371341">,</span>&nbsp;<span class="string" id="8371343">&#34;0XF&#34;</span><span class="op" id="8371348">}</span><span class="op" id="8371349">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371352">{</span><span class="ident" id="8371353">Int</span><span class="op" id="8371356">,</span>&nbsp;<span class="string" id="8371358">&#34;0X42&#34;</span><span class="op" id="8371364">}</span><span class="op" id="8371365">,</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371368">{</span><span class="ident" id="8371369">Int</span><span class="op" id="8371372">,</span>&nbsp;<span class="string" id="8371374">&#34;0X123456789abcDEF&#34;</span><span class="op" id="8371393">}</span><span class="op" id="8371394">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371397">{</span><span class="ident" id="8371398">Int</span><span class="op" id="8371401">,</span>&nbsp;<span class="string" id="8371403">&#34;0X&#34;</span>&nbsp;<span class="op" id="8371408">+</span>&nbsp;<span class="ident" id="8371410">f100</span><span class="op" id="8371414">}</span><span class="op" id="8371415">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371419">{</span><span class="ident" id="8371420">Comment</span><span class="op" id="8371427">,</span>&nbsp;<span class="string" id="8371429">&#34;//&nbsp;floats&#34;</span><span class="op" id="8371440">}</span><span class="op" id="8371441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371444">{</span><span class="ident" id="8371445">Float</span><span class="op" id="8371450">,</span>&nbsp;<span class="string" id="8371452">&#34;0.&#34;</span><span class="op" id="8371456">}</span><span class="op" id="8371457">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371460">{</span><span class="ident" id="8371461">Float</span><span class="op" id="8371466">,</span>&nbsp;<span class="string" id="8371468">&#34;1.&#34;</span><span class="op" id="8371472">}</span><span class="op" id="8371473">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371476">{</span><span class="ident" id="8371477">Float</span><span class="op" id="8371482">,</span>&nbsp;<span class="string" id="8371484">&#34;42.&#34;</span><span class="op" id="8371489">}</span><span class="op" id="8371490">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371493">{</span><span class="ident" id="8371494">Float</span><span class="op" id="8371499">,</span>&nbsp;<span class="string" id="8371501">&#34;01234567890.&#34;</span><span class="op" id="8371515">}</span><span class="op" id="8371516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371519">{</span><span class="ident" id="8371520">Float</span><span class="op" id="8371525">,</span>&nbsp;<span class="string" id="8371527">&#34;.0&#34;</span><span class="op" id="8371531">}</span><span class="op" id="8371532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371535">{</span><span class="ident" id="8371536">Float</span><span class="op" id="8371541">,</span>&nbsp;<span class="string" id="8371543">&#34;.1&#34;</span><span class="op" id="8371547">}</span><span class="op" id="8371548">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371551">{</span><span class="ident" id="8371552">Float</span><span class="op" id="8371557">,</span>&nbsp;<span class="string" id="8371559">&#34;.42&#34;</span><span class="op" id="8371564">}</span><span class="op" id="8371565">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371568">{</span><span class="ident" id="8371569">Float</span><span class="op" id="8371574">,</span>&nbsp;<span class="string" id="8371576">&#34;.0123456789&#34;</span><span class="op" id="8371589">}</span><span class="op" id="8371590">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371593">{</span><span class="ident" id="8371594">Float</span><span class="op" id="8371599">,</span>&nbsp;<span class="string" id="8371601">&#34;0.0&#34;</span><span class="op" id="8371606">}</span><span class="op" id="8371607">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371610">{</span><span class="ident" id="8371611">Float</span><span class="op" id="8371616">,</span>&nbsp;<span class="string" id="8371618">&#34;1.0&#34;</span><span class="op" id="8371623">}</span><span class="op" id="8371624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371627">{</span><span class="ident" id="8371628">Float</span><span class="op" id="8371633">,</span>&nbsp;<span class="string" id="8371635">&#34;42.0&#34;</span><span class="op" id="8371641">}</span><span class="op" id="8371642">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371645">{</span><span class="ident" id="8371646">Float</span><span class="op" id="8371651">,</span>&nbsp;<span class="string" id="8371653">&#34;01234567890.0&#34;</span><span class="op" id="8371668">}</span><span class="op" id="8371669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371672">{</span><span class="ident" id="8371673">Float</span><span class="op" id="8371678">,</span>&nbsp;<span class="string" id="8371680">&#34;0e0&#34;</span><span class="op" id="8371685">}</span><span class="op" id="8371686">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371689">{</span><span class="ident" id="8371690">Float</span><span class="op" id="8371695">,</span>&nbsp;<span class="string" id="8371697">&#34;1e0&#34;</span><span class="op" id="8371702">}</span><span class="op" id="8371703">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371706">{</span><span class="ident" id="8371707">Float</span><span class="op" id="8371712">,</span>&nbsp;<span class="string" id="8371714">&#34;42e0&#34;</span><span class="op" id="8371720">}</span><span class="op" id="8371721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371724">{</span><span class="ident" id="8371725">Float</span><span class="op" id="8371730">,</span>&nbsp;<span class="string" id="8371732">&#34;01234567890e0&#34;</span><span class="op" id="8371747">}</span><span class="op" id="8371748">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371751">{</span><span class="ident" id="8371752">Float</span><span class="op" id="8371757">,</span>&nbsp;<span class="string" id="8371759">&#34;0E0&#34;</span><span class="op" id="8371764">}</span><span class="op" id="8371765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371768">{</span><span class="ident" id="8371769">Float</span><span class="op" id="8371774">,</span>&nbsp;<span class="string" id="8371776">&#34;1E0&#34;</span><span class="op" id="8371781">}</span><span class="op" id="8371782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371785">{</span><span class="ident" id="8371786">Float</span><span class="op" id="8371791">,</span>&nbsp;<span class="string" id="8371793">&#34;42E0&#34;</span><span class="op" id="8371799">}</span><span class="op" id="8371800">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371803">{</span><span class="ident" id="8371804">Float</span><span class="op" id="8371809">,</span>&nbsp;<span class="string" id="8371811">&#34;01234567890E0&#34;</span><span class="op" id="8371826">}</span><span class="op" id="8371827">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371830">{</span><span class="ident" id="8371831">Float</span><span class="op" id="8371836">,</span>&nbsp;<span class="string" id="8371838">&#34;0e+10&#34;</span><span class="op" id="8371845">}</span><span class="op" id="8371846">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371849">{</span><span class="ident" id="8371850">Float</span><span class="op" id="8371855">,</span>&nbsp;<span class="string" id="8371857">&#34;1e-10&#34;</span><span class="op" id="8371864">}</span><span class="op" id="8371865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371868">{</span><span class="ident" id="8371869">Float</span><span class="op" id="8371874">,</span>&nbsp;<span class="string" id="8371876">&#34;42e+10&#34;</span><span class="op" id="8371884">}</span><span class="op" id="8371885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371888">{</span><span class="ident" id="8371889">Float</span><span class="op" id="8371894">,</span>&nbsp;<span class="string" id="8371896">&#34;01234567890e-10&#34;</span><span class="op" id="8371913">}</span><span class="op" id="8371914">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371917">{</span><span class="ident" id="8371918">Float</span><span class="op" id="8371923">,</span>&nbsp;<span class="string" id="8371925">&#34;0E+10&#34;</span><span class="op" id="8371932">}</span><span class="op" id="8371933">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371936">{</span><span class="ident" id="8371937">Float</span><span class="op" id="8371942">,</span>&nbsp;<span class="string" id="8371944">&#34;1E-10&#34;</span><span class="op" id="8371951">}</span><span class="op" id="8371952">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371955">{</span><span class="ident" id="8371956">Float</span><span class="op" id="8371961">,</span>&nbsp;<span class="string" id="8371963">&#34;42E+10&#34;</span><span class="op" id="8371971">}</span><span class="op" id="8371972">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8371975">{</span><span class="ident" id="8371976">Float</span><span class="op" id="8371981">,</span>&nbsp;<span class="string" id="8371983">&#34;01234567890E-10&#34;</span><span class="op" id="8372000">}</span><span class="op" id="8372001">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372005">{</span><span class="ident" id="8372006">Comment</span><span class="op" id="8372013">,</span>&nbsp;<span class="string" id="8372015">&#34;//&nbsp;chars&#34;</span><span class="op" id="8372025">}</span><span class="op" id="8372026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372029">{</span><span class="ident" id="8372030">Char</span><span class="op" id="8372034">,</span>&nbsp;<span class="string" id="8372036">`&#39;&nbsp;&#39;`</span><span class="op" id="8372041">}</span><span class="op" id="8372042">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372045">{</span><span class="ident" id="8372046">Char</span><span class="op" id="8372050">,</span>&nbsp;<span class="string" id="8372052">`&#39;a&#39;`</span><span class="op" id="8372057">}</span><span class="op" id="8372058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372061">{</span><span class="ident" id="8372062">Char</span><span class="op" id="8372066">,</span>&nbsp;<span class="string" id="8372068">`&#39;本&#39;`</span><span class="op" id="8372075">}</span><span class="op" id="8372076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372079">{</span><span class="ident" id="8372080">Char</span><span class="op" id="8372084">,</span>&nbsp;<span class="string" id="8372086">`&#39;\a&#39;`</span><span class="op" id="8372092">}</span><span class="op" id="8372093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372096">{</span><span class="ident" id="8372097">Char</span><span class="op" id="8372101">,</span>&nbsp;<span class="string" id="8372103">`&#39;\b&#39;`</span><span class="op" id="8372109">}</span><span class="op" id="8372110">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372113">{</span><span class="ident" id="8372114">Char</span><span class="op" id="8372118">,</span>&nbsp;<span class="string" id="8372120">`&#39;\f&#39;`</span><span class="op" id="8372126">}</span><span class="op" id="8372127">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372130">{</span><span class="ident" id="8372131">Char</span><span class="op" id="8372135">,</span>&nbsp;<span class="string" id="8372137">`&#39;\n&#39;`</span><span class="op" id="8372143">}</span><span class="op" id="8372144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372147">{</span><span class="ident" id="8372148">Char</span><span class="op" id="8372152">,</span>&nbsp;<span class="string" id="8372154">`&#39;\r&#39;`</span><span class="op" id="8372160">}</span><span class="op" id="8372161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372164">{</span><span class="ident" id="8372165">Char</span><span class="op" id="8372169">,</span>&nbsp;<span class="string" id="8372171">`&#39;\t&#39;`</span><span class="op" id="8372177">}</span><span class="op" id="8372178">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372181">{</span><span class="ident" id="8372182">Char</span><span class="op" id="8372186">,</span>&nbsp;<span class="string" id="8372188">`&#39;\v&#39;`</span><span class="op" id="8372194">}</span><span class="op" id="8372195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372198">{</span><span class="ident" id="8372199">Char</span><span class="op" id="8372203">,</span>&nbsp;<span class="string" id="8372205">`&#39;\&#39;&#39;`</span><span class="op" id="8372211">}</span><span class="op" id="8372212">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372215">{</span><span class="ident" id="8372216">Char</span><span class="op" id="8372220">,</span>&nbsp;<span class="string" id="8372222">`&#39;\000&#39;`</span><span class="op" id="8372230">}</span><span class="op" id="8372231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372234">{</span><span class="ident" id="8372235">Char</span><span class="op" id="8372239">,</span>&nbsp;<span class="string" id="8372241">`&#39;\777&#39;`</span><span class="op" id="8372249">}</span><span class="op" id="8372250">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372253">{</span><span class="ident" id="8372254">Char</span><span class="op" id="8372258">,</span>&nbsp;<span class="string" id="8372260">`&#39;\x00&#39;`</span><span class="op" id="8372268">}</span><span class="op" id="8372269">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372272">{</span><span class="ident" id="8372273">Char</span><span class="op" id="8372277">,</span>&nbsp;<span class="string" id="8372279">`&#39;\xff&#39;`</span><span class="op" id="8372287">}</span><span class="op" id="8372288">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372291">{</span><span class="ident" id="8372292">Char</span><span class="op" id="8372296">,</span>&nbsp;<span class="string" id="8372298">`&#39;\u0000&#39;`</span><span class="op" id="8372308">}</span><span class="op" id="8372309">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372312">{</span><span class="ident" id="8372313">Char</span><span class="op" id="8372317">,</span>&nbsp;<span class="string" id="8372319">`&#39;\ufA16&#39;`</span><span class="op" id="8372329">}</span><span class="op" id="8372330">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372333">{</span><span class="ident" id="8372334">Char</span><span class="op" id="8372338">,</span>&nbsp;<span class="string" id="8372340">`&#39;\U00000000&#39;`</span><span class="op" id="8372354">}</span><span class="op" id="8372355">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372358">{</span><span class="ident" id="8372359">Char</span><span class="op" id="8372363">,</span>&nbsp;<span class="string" id="8372365">`&#39;\U0000ffAB&#39;`</span><span class="op" id="8372379">}</span><span class="op" id="8372380">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372384">{</span><span class="ident" id="8372385">Comment</span><span class="op" id="8372392">,</span>&nbsp;<span class="string" id="8372394">&#34;//&nbsp;strings&#34;</span><span class="op" id="8372406">}</span><span class="op" id="8372407">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372410">{</span><span class="ident" id="8372411">String</span><span class="op" id="8372417">,</span>&nbsp;<span class="string" id="8372419">`&#34;&nbsp;&#34;`</span><span class="op" id="8372424">}</span><span class="op" id="8372425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372428">{</span><span class="ident" id="8372429">String</span><span class="op" id="8372435">,</span>&nbsp;<span class="string" id="8372437">`&#34;a&#34;`</span><span class="op" id="8372442">}</span><span class="op" id="8372443">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372446">{</span><span class="ident" id="8372447">String</span><span class="op" id="8372453">,</span>&nbsp;<span class="string" id="8372455">`&#34;本&#34;`</span><span class="op" id="8372462">}</span><span class="op" id="8372463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372466">{</span><span class="ident" id="8372467">String</span><span class="op" id="8372473">,</span>&nbsp;<span class="string" id="8372475">`&#34;\a&#34;`</span><span class="op" id="8372481">}</span><span class="op" id="8372482">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372485">{</span><span class="ident" id="8372486">String</span><span class="op" id="8372492">,</span>&nbsp;<span class="string" id="8372494">`&#34;\b&#34;`</span><span class="op" id="8372500">}</span><span class="op" id="8372501">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372504">{</span><span class="ident" id="8372505">String</span><span class="op" id="8372511">,</span>&nbsp;<span class="string" id="8372513">`&#34;\f&#34;`</span><span class="op" id="8372519">}</span><span class="op" id="8372520">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372523">{</span><span class="ident" id="8372524">String</span><span class="op" id="8372530">,</span>&nbsp;<span class="string" id="8372532">`&#34;\n&#34;`</span><span class="op" id="8372538">}</span><span class="op" id="8372539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372542">{</span><span class="ident" id="8372543">String</span><span class="op" id="8372549">,</span>&nbsp;<span class="string" id="8372551">`&#34;\r&#34;`</span><span class="op" id="8372557">}</span><span class="op" id="8372558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372561">{</span><span class="ident" id="8372562">String</span><span class="op" id="8372568">,</span>&nbsp;<span class="string" id="8372570">`&#34;\t&#34;`</span><span class="op" id="8372576">}</span><span class="op" id="8372577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372580">{</span><span class="ident" id="8372581">String</span><span class="op" id="8372587">,</span>&nbsp;<span class="string" id="8372589">`&#34;\v&#34;`</span><span class="op" id="8372595">}</span><span class="op" id="8372596">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372599">{</span><span class="ident" id="8372600">String</span><span class="op" id="8372606">,</span>&nbsp;<span class="string" id="8372608">`&#34;\&#34;&#34;`</span><span class="op" id="8372614">}</span><span class="op" id="8372615">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372618">{</span><span class="ident" id="8372619">String</span><span class="op" id="8372625">,</span>&nbsp;<span class="string" id="8372627">`&#34;\000&#34;`</span><span class="op" id="8372635">}</span><span class="op" id="8372636">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372639">{</span><span class="ident" id="8372640">String</span><span class="op" id="8372646">,</span>&nbsp;<span class="string" id="8372648">`&#34;\777&#34;`</span><span class="op" id="8372656">}</span><span class="op" id="8372657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372660">{</span><span class="ident" id="8372661">String</span><span class="op" id="8372667">,</span>&nbsp;<span class="string" id="8372669">`&#34;\x00&#34;`</span><span class="op" id="8372677">}</span><span class="op" id="8372678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372681">{</span><span class="ident" id="8372682">String</span><span class="op" id="8372688">,</span>&nbsp;<span class="string" id="8372690">`&#34;\xff&#34;`</span><span class="op" id="8372698">}</span><span class="op" id="8372699">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372702">{</span><span class="ident" id="8372703">String</span><span class="op" id="8372709">,</span>&nbsp;<span class="string" id="8372711">`&#34;\u0000&#34;`</span><span class="op" id="8372721">}</span><span class="op" id="8372722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372725">{</span><span class="ident" id="8372726">String</span><span class="op" id="8372732">,</span>&nbsp;<span class="string" id="8372734">`&#34;\ufA16&#34;`</span><span class="op" id="8372744">}</span><span class="op" id="8372745">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372748">{</span><span class="ident" id="8372749">String</span><span class="op" id="8372755">,</span>&nbsp;<span class="string" id="8372757">`&#34;\U00000000&#34;`</span><span class="op" id="8372771">}</span><span class="op" id="8372772">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372775">{</span><span class="ident" id="8372776">String</span><span class="op" id="8372782">,</span>&nbsp;<span class="string" id="8372784">`&#34;\U0000ffAB&#34;`</span><span class="op" id="8372798">}</span><span class="op" id="8372799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372802">{</span><span class="ident" id="8372803">String</span><span class="op" id="8372809">,</span>&nbsp;<span class="string" id="8372811">`&#34;`</span>&nbsp;<span class="op" id="8372815">+</span>&nbsp;<span class="ident" id="8372817">f100</span>&nbsp;<span class="op" id="8372822">+</span>&nbsp;<span class="string" id="8372824">`&#34;`</span><span class="op" id="8372827">}</span><span class="op" id="8372828">,</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372832">{</span><span class="ident" id="8372833">Comment</span><span class="op" id="8372840">,</span>&nbsp;<span class="string" id="8372842">&#34;//&nbsp;raw&nbsp;strings&#34;</span><span class="op" id="8372858">}</span><span class="op" id="8372859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372862">{</span><span class="ident" id="8372863">String</span><span class="op" id="8372869">,</span>&nbsp;<span class="string" id="8372871">&#34;``&#34;</span><span class="op" id="8372875">}</span><span class="op" id="8372876">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372879">{</span><span class="ident" id="8372880">String</span><span class="op" id="8372886">,</span>&nbsp;<span class="string" id="8372888">&#34;`\\`&#34;</span><span class="op" id="8372894">}</span><span class="op" id="8372895">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372898">{</span><span class="ident" id="8372899">String</span><span class="op" id="8372905">,</span>&nbsp;<span class="string" id="8372907">&#34;`&#34;</span>&nbsp;<span class="op" id="8372911">+</span>&nbsp;<span class="string" id="8372913">&#34;\n\n/*&nbsp;foobar&nbsp;*/\n\n&#34;</span>&nbsp;<span class="op" id="8372936">+</span>&nbsp;<span class="string" id="8372938">&#34;`&#34;</span><span class="op" id="8372941">}</span><span class="op" id="8372942">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372945">{</span><span class="ident" id="8372946">String</span><span class="op" id="8372952">,</span>&nbsp;<span class="string" id="8372954">&#34;`&#34;</span>&nbsp;<span class="op" id="8372958">+</span>&nbsp;<span class="ident" id="8372960">f100</span>&nbsp;<span class="op" id="8372965">+</span>&nbsp;<span class="string" id="8372967">&#34;`&#34;</span><span class="op" id="8372970">}</span><span class="op" id="8372971">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8372975">{</span><span class="ident" id="8372976">Comment</span><span class="op" id="8372983">,</span>&nbsp;<span class="string" id="8372985">&#34;//&nbsp;individual&nbsp;characters&#34;</span><span class="op" id="8373011">}</span><span class="op" id="8373012">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373015">//&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373048">{</span><span class="string" id="8373049">&#39;\x01&#39;</span><span class="op" id="8373055">,</span>&nbsp;<span class="string" id="8373057">&#34;\x01&#34;</span><span class="op" id="8373063">}</span><span class="op" id="8373064">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373067">{</span><span class="string" id="8373068">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8373072">-</span>&nbsp;<span class="num" id="8373074">1</span><span class="op" id="8373075">,</span>&nbsp;<span class="builtintype" id="8373077">string</span><span class="op" id="8373083">(</span><span class="string" id="8373084">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="8373088">-</span>&nbsp;<span class="num" id="8373090">1</span><span class="op" id="8373091">)</span><span class="op" id="8373092">}</span><span class="op" id="8373093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373096">{</span><span class="string" id="8373097">&#39;+&#39;</span><span class="op" id="8373100">,</span>&nbsp;<span class="string" id="8373102">&#34;+&#34;</span><span class="op" id="8373105">}</span><span class="op" id="8373106">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373109">{</span><span class="string" id="8373110">&#39;/&#39;</span><span class="op" id="8373113">,</span>&nbsp;<span class="string" id="8373115">&#34;/&#34;</span><span class="op" id="8373118">}</span><span class="op" id="8373119">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373122">{</span><span class="string" id="8373123">&#39;.&#39;</span><span class="op" id="8373126">,</span>&nbsp;<span class="string" id="8373128">&#34;.&#34;</span><span class="op" id="8373131">}</span><span class="op" id="8373132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373135">{</span><span class="string" id="8373136">&#39;~&#39;</span><span class="op" id="8373139">,</span>&nbsp;<span class="string" id="8373141">&#34;~&#34;</span><span class="op" id="8373144">}</span><span class="op" id="8373145">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373148">{</span><span class="string" id="8373149">&#39;(&#39;</span><span class="op" id="8373152">,</span>&nbsp;<span class="string" id="8373154">&#34;(&#34;</span><span class="op" id="8373157">}</span><span class="op" id="8373158">,</span><br>
<span class="lineno"></span><span class="op" id="8373160">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8373163">func</span>&nbsp;<span class="ident" id="8373168">makeSource</span><span class="op" id="8373178">(</span><span class="ident" id="8373179">pattern</span>&nbsp;<span class="builtintype" id="8373187">string</span><span class="op" id="8373193">)</span>&nbsp;<span class="op" id="8373195">*</span><span class="ident" id="8373196">bytes</span><span class="op" id="8373201">.</span><span class="ident" id="8373202">Buffer</span>&nbsp;<span class="op" id="8373209">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373212">var</span>&nbsp;<span class="ident" id="8373216">buf</span>&nbsp;<span class="ident" id="8373220">bytes</span><span class="op" id="8373225">.</span><span class="ident" id="8373226">Buffer</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373234">for</span>&nbsp;<span class="ident" id="8373238">_</span><span class="op" id="8373239">,</span>&nbsp;<span class="ident" id="8373241">k</span>&nbsp;<span class="op" id="8373243">:=</span>&nbsp;<span class="keyword" id="8373246">range</span>&nbsp;<span class="ident" id="8373252">tokenList</span>&nbsp;<span class="op" id="8373262">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373266">fmt</span><span class="op" id="8373269">.</span><span class="ident" id="8373270">Fprintf</span><span class="op" id="8373277">(</span><span class="op" id="8373278">&amp;</span><span class="ident" id="8373279">buf</span><span class="op" id="8373282">,</span>&nbsp;<span class="ident" id="8373284">pattern</span><span class="op" id="8373291">,</span>&nbsp;<span class="ident" id="8373293">k</span><span class="op" id="8373294">.</span><span class="ident" id="8373295">text</span><span class="op" id="8373299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373302">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373305">return</span>&nbsp;<span class="op" id="8373312">&amp;</span><span class="ident" id="8373313">buf</span><br>
<span class="lineno"></span><span class="op" id="8373317">}</span><br>
<span class="lineno">235</span><br>
<span class="lineno"></span><span class="keyword" id="8373320">func</span>&nbsp;<span class="ident" id="8373325">checkTok</span><span class="op" id="8373333">(</span><span class="ident" id="8373334">t</span>&nbsp;<span class="op" id="8373336">*</span><span class="ident" id="8373337">testing</span><span class="op" id="8373344">.</span><span class="ident" id="8373345">T</span><span class="op" id="8373346">,</span>&nbsp;<span class="ident" id="8373348">s</span>&nbsp;<span class="op" id="8373350">*</span><span class="ident" id="8373351">Scanner</span><span class="op" id="8373358">,</span>&nbsp;<span class="ident" id="8373360">line</span>&nbsp;<span class="builtintype" id="8373365">int</span><span class="op" id="8373368">,</span>&nbsp;<span class="ident" id="8373370">got</span><span class="op" id="8373373">,</span>&nbsp;<span class="ident" id="8373375">want</span>&nbsp;<span class="builtintype" id="8373380">rune</span><span class="op" id="8373384">,</span>&nbsp;<span class="ident" id="8373386">text</span>&nbsp;<span class="builtintype" id="8373391">string</span><span class="op" id="8373397">)</span>&nbsp;<span class="op" id="8373399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373402">if</span>&nbsp;<span class="ident" id="8373405">got</span>&nbsp;<span class="op" id="8373409">!=</span>&nbsp;<span class="ident" id="8373412">want</span>&nbsp;<span class="op" id="8373417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373421">t</span><span class="op" id="8373422">.</span><span class="ident" id="8373423">Fatalf</span><span class="op" id="8373429">(</span><span class="string" id="8373430">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8373456">,</span>&nbsp;<span class="ident" id="8373458">TokenString</span><span class="op" id="8373469">(</span><span class="ident" id="8373470">got</span><span class="op" id="8373473">)</span><span class="op" id="8373474">,</span>&nbsp;<span class="ident" id="8373476">TokenString</span><span class="op" id="8373487">(</span><span class="ident" id="8373488">want</span><span class="op" id="8373492">)</span><span class="op" id="8373493">,</span>&nbsp;<span class="ident" id="8373495">text</span><span class="op" id="8373499">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373502">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373505">if</span>&nbsp;<span class="ident" id="8373508">s</span><span class="op" id="8373509">.</span><span class="ident" id="8373510">Line</span>&nbsp;<span class="op" id="8373515">!=</span>&nbsp;<span class="ident" id="8373518">line</span>&nbsp;<span class="op" id="8373523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373527">t</span><span class="op" id="8373528">.</span><span class="ident" id="8373529">Errorf</span><span class="op" id="8373535">(</span><span class="string" id="8373536">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8373563">,</span>&nbsp;<span class="ident" id="8373565">s</span><span class="op" id="8373566">.</span><span class="ident" id="8373567">Line</span><span class="op" id="8373571">,</span>&nbsp;<span class="ident" id="8373573">line</span><span class="op" id="8373577">,</span>&nbsp;<span class="ident" id="8373579">text</span><span class="op" id="8373583">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373586">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373589">stext</span>&nbsp;<span class="op" id="8373595">:=</span>&nbsp;<span class="ident" id="8373598">s</span><span class="op" id="8373599">.</span><span class="ident" id="8373600">TokenText</span><span class="op" id="8373609">(</span><span class="op" id="8373610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373613">if</span>&nbsp;<span class="ident" id="8373616">stext</span>&nbsp;<span class="op" id="8373622">!=</span>&nbsp;<span class="ident" id="8373625">text</span>&nbsp;<span class="op" id="8373630">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373634">t</span><span class="op" id="8373635">.</span><span class="ident" id="8373636">Errorf</span><span class="op" id="8373642">(</span><span class="string" id="8373643">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8373663">,</span>&nbsp;<span class="ident" id="8373665">stext</span><span class="op" id="8373670">,</span>&nbsp;<span class="ident" id="8373672">text</span><span class="op" id="8373676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373679">}</span>&nbsp;<span class="keyword" id="8373681">else</span>&nbsp;<span class="op" id="8373686">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8373690">//&nbsp;check&nbsp;idempotency&nbsp;of&nbsp;TokenText()&nbsp;call</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373733">stext</span>&nbsp;<span class="op" id="8373739">=</span>&nbsp;<span class="ident" id="8373741">s</span><span class="op" id="8373742">.</span><span class="ident" id="8373743">TokenText</span><span class="op" id="8373752">(</span><span class="op" id="8373753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373757">if</span>&nbsp;<span class="ident" id="8373760">stext</span>&nbsp;<span class="op" id="8373766">!=</span>&nbsp;<span class="ident" id="8373769">text</span>&nbsp;<span class="op" id="8373774">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373779">t</span><span class="op" id="8373780">.</span><span class="ident" id="8373781">Errorf</span><span class="op" id="8373787">(</span><span class="string" id="8373788">&#34;text&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;(idempotency&nbsp;check)&#34;</span><span class="op" id="8373828">,</span>&nbsp;<span class="ident" id="8373830">stext</span><span class="op" id="8373835">,</span>&nbsp;<span class="ident" id="8373837">text</span><span class="op" id="8373841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373845">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373848">}</span><br>
<span class="lineno"></span><span class="op" id="8373850">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="keyword" id="8373853">func</span>&nbsp;<span class="ident" id="8373858">countNewlines</span><span class="op" id="8373871">(</span><span class="ident" id="8373872">s</span>&nbsp;<span class="builtintype" id="8373874">string</span><span class="op" id="8373880">)</span>&nbsp;<span class="builtintype" id="8373882">int</span>&nbsp;<span class="op" id="8373886">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373889">n</span>&nbsp;<span class="op" id="8373891">:=</span>&nbsp;<span class="num" id="8373894">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373897">for</span>&nbsp;<span class="ident" id="8373901">_</span><span class="op" id="8373902">,</span>&nbsp;<span class="ident" id="8373904">ch</span>&nbsp;<span class="op" id="8373907">:=</span>&nbsp;<span class="keyword" id="8373910">range</span>&nbsp;<span class="ident" id="8373916">s</span>&nbsp;<span class="op" id="8373918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373922">if</span>&nbsp;<span class="ident" id="8373925">ch</span>&nbsp;<span class="op" id="8373928">==</span>&nbsp;<span class="string" id="8373931">&#39;\n&#39;</span>&nbsp;<span class="op" id="8373936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8373941">n</span><span class="op" id="8373942">++</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373947">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8373950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8373953">return</span>&nbsp;<span class="ident" id="8373960">n</span><br>
<span class="lineno"></span><span class="op" id="8373962">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span><span class="keyword" id="8373965">func</span>&nbsp;<span class="ident" id="8373970">testScan</span><span class="op" id="8373978">(</span><span class="ident" id="8373979">t</span>&nbsp;<span class="op" id="8373981">*</span><span class="ident" id="8373982">testing</span><span class="op" id="8373989">.</span><span class="ident" id="8373990">T</span><span class="op" id="8373991">,</span>&nbsp;<span class="ident" id="8373993">mode</span>&nbsp;<span class="builtintype" id="8373998">uint</span><span class="op" id="8374002">)</span>&nbsp;<span class="op" id="8374004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374007">s</span>&nbsp;<span class="op" id="8374009">:=</span>&nbsp;<span class="builtinfunc" id="8374012">new</span><span class="op" id="8374015">(</span><span class="ident" id="8374016">Scanner</span><span class="op" id="8374023">)</span><span class="op" id="8374024">.</span><span class="ident" id="8374025">Init</span><span class="op" id="8374029">(</span><span class="ident" id="8374030">makeSource</span><span class="op" id="8374040">(</span><span class="string" id="8374041">&#34;&nbsp;\t%s\n&#34;</span><span class="op" id="8374050">)</span><span class="op" id="8374051">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374054">s</span><span class="op" id="8374055">.</span><span class="ident" id="8374056">Mode</span>&nbsp;<span class="op" id="8374061">=</span>&nbsp;<span class="ident" id="8374063">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374069">tok</span>&nbsp;<span class="op" id="8374073">:=</span>&nbsp;<span class="ident" id="8374076">s</span><span class="op" id="8374077">.</span><span class="ident" id="8374078">Scan</span><span class="op" id="8374082">(</span><span class="op" id="8374083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374086">line</span>&nbsp;<span class="op" id="8374091">:=</span>&nbsp;<span class="num" id="8374094">1</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374097">for</span>&nbsp;<span class="ident" id="8374101">_</span><span class="op" id="8374102">,</span>&nbsp;<span class="ident" id="8374104">k</span>&nbsp;<span class="op" id="8374106">:=</span>&nbsp;<span class="keyword" id="8374109">range</span>&nbsp;<span class="ident" id="8374115">tokenList</span>&nbsp;<span class="op" id="8374125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374129">if</span>&nbsp;<span class="ident" id="8374132">mode</span><span class="op" id="8374136">&amp;</span><span class="ident" id="8374137">SkipComments</span>&nbsp;<span class="op" id="8374150">==</span>&nbsp;<span class="num" id="8374153">0</span>&nbsp;<span class="op" id="8374155">||</span>&nbsp;<span class="ident" id="8374158">k</span><span class="op" id="8374159">.</span><span class="ident" id="8374160">tok</span>&nbsp;<span class="op" id="8374164">!=</span>&nbsp;<span class="ident" id="8374167">Comment</span>&nbsp;<span class="op" id="8374175">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374180">checkTok</span><span class="op" id="8374188">(</span><span class="ident" id="8374189">t</span><span class="op" id="8374190">,</span>&nbsp;<span class="ident" id="8374192">s</span><span class="op" id="8374193">,</span>&nbsp;<span class="ident" id="8374195">line</span><span class="op" id="8374199">,</span>&nbsp;<span class="ident" id="8374201">tok</span><span class="op" id="8374204">,</span>&nbsp;<span class="ident" id="8374206">k</span><span class="op" id="8374207">.</span><span class="ident" id="8374208">tok</span><span class="op" id="8374211">,</span>&nbsp;<span class="ident" id="8374213">k</span><span class="op" id="8374214">.</span><span class="ident" id="8374215">text</span><span class="op" id="8374219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374224">tok</span>&nbsp;<span class="op" id="8374228">=</span>&nbsp;<span class="ident" id="8374230">s</span><span class="op" id="8374231">.</span><span class="ident" id="8374232">Scan</span><span class="op" id="8374236">(</span><span class="op" id="8374237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374241">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374245">line</span>&nbsp;<span class="op" id="8374250">+=</span>&nbsp;<span class="ident" id="8374253">countNewlines</span><span class="op" id="8374266">(</span><span class="ident" id="8374267">k</span><span class="op" id="8374268">.</span><span class="ident" id="8374269">text</span><span class="op" id="8374273">)</span>&nbsp;<span class="op" id="8374275">+</span>&nbsp;<span class="num" id="8374277">1</span>&nbsp;<span class="comment" id="8374279">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374314">checkTok</span><span class="op" id="8374322">(</span><span class="ident" id="8374323">t</span><span class="op" id="8374324">,</span>&nbsp;<span class="ident" id="8374326">s</span><span class="op" id="8374327">,</span>&nbsp;<span class="ident" id="8374329">line</span><span class="op" id="8374333">,</span>&nbsp;<span class="ident" id="8374335">tok</span><span class="op" id="8374338">,</span>&nbsp;<span class="ident" id="8374340">EOF</span><span class="op" id="8374343">,</span>&nbsp;<span class="string" id="8374345">&#34;&#34;</span><span class="op" id="8374347">)</span><br>
<span class="lineno"></span><span class="op" id="8374349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">280</span><span class="keyword" id="8374352">func</span>&nbsp;<span class="ident" id="8374357">TestScan</span><span class="op" id="8374365">(</span><span class="ident" id="8374366">t</span>&nbsp;<span class="op" id="8374368">*</span><span class="ident" id="8374369">testing</span><span class="op" id="8374376">.</span><span class="ident" id="8374377">T</span><span class="op" id="8374378">)</span>&nbsp;<span class="op" id="8374380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374383">testScan</span><span class="op" id="8374391">(</span><span class="ident" id="8374392">t</span><span class="op" id="8374393">,</span>&nbsp;<span class="ident" id="8374395">GoTokens</span><span class="op" id="8374403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374406">testScan</span><span class="op" id="8374414">(</span><span class="ident" id="8374415">t</span><span class="op" id="8374416">,</span>&nbsp;<span class="ident" id="8374418">GoTokens</span><span class="op" id="8374426">&amp;^</span><span class="ident" id="8374428">SkipComments</span><span class="op" id="8374440">)</span><br>
<span class="lineno"></span><span class="op" id="8374442">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="8374445">func</span>&nbsp;<span class="ident" id="8374450">TestPosition</span><span class="op" id="8374462">(</span><span class="ident" id="8374463">t</span>&nbsp;<span class="op" id="8374465">*</span><span class="ident" id="8374466">testing</span><span class="op" id="8374473">.</span><span class="ident" id="8374474">T</span><span class="op" id="8374475">)</span>&nbsp;<span class="op" id="8374477">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374480">src</span>&nbsp;<span class="op" id="8374484">:=</span>&nbsp;<span class="ident" id="8374487">makeSource</span><span class="op" id="8374497">(</span><span class="string" id="8374498">&#34;\t\t\t\t%s\n&#34;</span><span class="op" id="8374512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374515">s</span>&nbsp;<span class="op" id="8374517">:=</span>&nbsp;<span class="builtinfunc" id="8374520">new</span><span class="op" id="8374523">(</span><span class="ident" id="8374524">Scanner</span><span class="op" id="8374531">)</span><span class="op" id="8374532">.</span><span class="ident" id="8374533">Init</span><span class="op" id="8374537">(</span><span class="ident" id="8374538">src</span><span class="op" id="8374541">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374544">s</span><span class="op" id="8374545">.</span><span class="ident" id="8374546">Mode</span>&nbsp;<span class="op" id="8374551">=</span>&nbsp;<span class="ident" id="8374553">GoTokens</span>&nbsp;<span class="op" id="8374562">&amp;^</span>&nbsp;<span class="ident" id="8374565">SkipComments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374579">s</span><span class="op" id="8374580">.</span><span class="ident" id="8374581">Scan</span><span class="op" id="8374585">(</span><span class="op" id="8374586">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374589">pos</span>&nbsp;<span class="op" id="8374593">:=</span>&nbsp;<span class="ident" id="8374596">Position</span><span class="op" id="8374604">{</span><span class="string" id="8374605">&#34;&#34;</span><span class="op" id="8374607">,</span>&nbsp;<span class="num" id="8374609">4</span><span class="op" id="8374610">,</span>&nbsp;<span class="num" id="8374612">1</span><span class="op" id="8374613">,</span>&nbsp;<span class="num" id="8374615">5</span><span class="op" id="8374616">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374619">for</span>&nbsp;<span class="ident" id="8374623">_</span><span class="op" id="8374624">,</span>&nbsp;<span class="ident" id="8374626">k</span>&nbsp;<span class="op" id="8374628">:=</span>&nbsp;<span class="keyword" id="8374631">range</span>&nbsp;<span class="ident" id="8374637">tokenList</span>&nbsp;<span class="op" id="8374647">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374651">if</span>&nbsp;<span class="ident" id="8374654">s</span><span class="op" id="8374655">.</span><span class="ident" id="8374656">Offset</span>&nbsp;<span class="op" id="8374663">!=</span>&nbsp;<span class="ident" id="8374666">pos</span><span class="op" id="8374669">.</span><span class="ident" id="8374670">Offset</span>&nbsp;<span class="op" id="8374677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374682">t</span><span class="op" id="8374683">.</span><span class="ident" id="8374684">Errorf</span><span class="op" id="8374690">(</span><span class="string" id="8374691">&#34;offset&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8374720">,</span>&nbsp;<span class="ident" id="8374722">s</span><span class="op" id="8374723">.</span><span class="ident" id="8374724">Offset</span><span class="op" id="8374730">,</span>&nbsp;<span class="ident" id="8374732">pos</span><span class="op" id="8374735">.</span><span class="ident" id="8374736">Offset</span><span class="op" id="8374742">,</span>&nbsp;<span class="ident" id="8374744">k</span><span class="op" id="8374745">.</span><span class="ident" id="8374746">text</span><span class="op" id="8374750">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374754">}</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374758">if</span>&nbsp;<span class="ident" id="8374761">s</span><span class="op" id="8374762">.</span><span class="ident" id="8374763">Line</span>&nbsp;<span class="op" id="8374768">!=</span>&nbsp;<span class="ident" id="8374771">pos</span><span class="op" id="8374774">.</span><span class="ident" id="8374775">Line</span>&nbsp;<span class="op" id="8374780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374785">t</span><span class="op" id="8374786">.</span><span class="ident" id="8374787">Errorf</span><span class="op" id="8374793">(</span><span class="string" id="8374794">&#34;line&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8374821">,</span>&nbsp;<span class="ident" id="8374823">s</span><span class="op" id="8374824">.</span><span class="ident" id="8374825">Line</span><span class="op" id="8374829">,</span>&nbsp;<span class="ident" id="8374831">pos</span><span class="op" id="8374834">.</span><span class="ident" id="8374835">Line</span><span class="op" id="8374839">,</span>&nbsp;<span class="ident" id="8374841">k</span><span class="op" id="8374842">.</span><span class="ident" id="8374843">text</span><span class="op" id="8374847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8374855">if</span>&nbsp;<span class="ident" id="8374858">s</span><span class="op" id="8374859">.</span><span class="ident" id="8374860">Column</span>&nbsp;<span class="op" id="8374867">!=</span>&nbsp;<span class="ident" id="8374870">pos</span><span class="op" id="8374873">.</span><span class="ident" id="8374874">Column</span>&nbsp;<span class="op" id="8374881">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374886">t</span><span class="op" id="8374887">.</span><span class="ident" id="8374888">Errorf</span><span class="op" id="8374894">(</span><span class="string" id="8374895">&#34;column&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8374924">,</span>&nbsp;<span class="ident" id="8374926">s</span><span class="op" id="8374927">.</span><span class="ident" id="8374928">Column</span><span class="op" id="8374934">,</span>&nbsp;<span class="ident" id="8374936">pos</span><span class="op" id="8374939">.</span><span class="ident" id="8374940">Column</span><span class="op" id="8374946">,</span>&nbsp;<span class="ident" id="8374948">k</span><span class="op" id="8374949">.</span><span class="ident" id="8374950">text</span><span class="op" id="8374954">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8374958">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8374962">pos</span><span class="op" id="8374965">.</span><span class="ident" id="8374966">Offset</span>&nbsp;<span class="op" id="8374973">+=</span>&nbsp;<span class="num" id="8374976">4</span>&nbsp;<span class="op" id="8374978">+</span>&nbsp;<span class="builtinfunc" id="8374980">len</span><span class="op" id="8374983">(</span><span class="ident" id="8374984">k</span><span class="op" id="8374985">.</span><span class="ident" id="8374986">text</span><span class="op" id="8374990">)</span>&nbsp;<span class="op" id="8374992">+</span>&nbsp;<span class="num" id="8374994">1</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8375000">//&nbsp;4&nbsp;tabs&nbsp;+&nbsp;token&nbsp;bytes&nbsp;+&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375036">pos</span><span class="op" id="8375039">.</span><span class="ident" id="8375040">Line</span>&nbsp;<span class="op" id="8375045">+=</span>&nbsp;<span class="ident" id="8375048">countNewlines</span><span class="op" id="8375061">(</span><span class="ident" id="8375062">k</span><span class="op" id="8375063">.</span><span class="ident" id="8375064">text</span><span class="op" id="8375068">)</span>&nbsp;<span class="op" id="8375070">+</span>&nbsp;<span class="num" id="8375072">1</span>&nbsp;<span class="comment" id="8375074">//&nbsp;each&nbsp;token&nbsp;is&nbsp;on&nbsp;a&nbsp;new&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375107">s</span><span class="op" id="8375108">.</span><span class="ident" id="8375109">Scan</span><span class="op" id="8375113">(</span><span class="op" id="8375114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375117">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8375120">//&nbsp;make&nbsp;sure&nbsp;there&nbsp;were&nbsp;no&nbsp;token-internal&nbsp;errors&nbsp;reported&nbsp;by&nbsp;scanner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375190">if</span>&nbsp;<span class="ident" id="8375193">s</span><span class="op" id="8375194">.</span><span class="ident" id="8375195">ErrorCount</span>&nbsp;<span class="op" id="8375206">!=</span>&nbsp;<span class="num" id="8375209">0</span>&nbsp;<span class="op" id="8375211">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375215">t</span><span class="op" id="8375216">.</span><span class="ident" id="8375217">Errorf</span><span class="op" id="8375223">(</span><span class="string" id="8375224">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8375235">,</span>&nbsp;<span class="ident" id="8375237">s</span><span class="op" id="8375238">.</span><span class="ident" id="8375239">ErrorCount</span><span class="op" id="8375249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375252">}</span><br>
<span class="lineno"></span><span class="op" id="8375254">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="8375257">func</span>&nbsp;<span class="ident" id="8375262">TestScanZeroMode</span><span class="op" id="8375278">(</span><span class="ident" id="8375279">t</span>&nbsp;<span class="op" id="8375281">*</span><span class="ident" id="8375282">testing</span><span class="op" id="8375289">.</span><span class="ident" id="8375290">T</span><span class="op" id="8375291">)</span>&nbsp;<span class="op" id="8375293">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375296">src</span>&nbsp;<span class="op" id="8375300">:=</span>&nbsp;<span class="ident" id="8375303">makeSource</span><span class="op" id="8375313">(</span><span class="string" id="8375314">&#34;%s\n&#34;</span><span class="op" id="8375320">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375323">str</span>&nbsp;<span class="op" id="8375327">:=</span>&nbsp;<span class="ident" id="8375330">src</span><span class="op" id="8375333">.</span><span class="ident" id="8375334">String</span><span class="op" id="8375340">(</span><span class="op" id="8375341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375344">s</span>&nbsp;<span class="op" id="8375346">:=</span>&nbsp;<span class="builtinfunc" id="8375349">new</span><span class="op" id="8375352">(</span><span class="ident" id="8375353">Scanner</span><span class="op" id="8375360">)</span><span class="op" id="8375361">.</span><span class="ident" id="8375362">Init</span><span class="op" id="8375366">(</span><span class="ident" id="8375367">src</span><span class="op" id="8375370">)</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375373">s</span><span class="op" id="8375374">.</span><span class="ident" id="8375375">Mode</span>&nbsp;<span class="op" id="8375380">=</span>&nbsp;<span class="num" id="8375382">0</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8375390">//&nbsp;don&#39;t&nbsp;recognize&nbsp;any&nbsp;token&nbsp;classes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375428">s</span><span class="op" id="8375429">.</span><span class="ident" id="8375430">Whitespace</span>&nbsp;<span class="op" id="8375441">=</span>&nbsp;<span class="num" id="8375443">0</span>&nbsp;<span class="comment" id="8375445">//&nbsp;don&#39;t&nbsp;skip&nbsp;any&nbsp;whitespace</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375475">tok</span>&nbsp;<span class="op" id="8375479">:=</span>&nbsp;<span class="ident" id="8375482">s</span><span class="op" id="8375483">.</span><span class="ident" id="8375484">Scan</span><span class="op" id="8375488">(</span><span class="op" id="8375489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375492">for</span>&nbsp;<span class="ident" id="8375496">i</span><span class="op" id="8375497">,</span>&nbsp;<span class="ident" id="8375499">ch</span>&nbsp;<span class="op" id="8375502">:=</span>&nbsp;<span class="keyword" id="8375505">range</span>&nbsp;<span class="ident" id="8375511">str</span>&nbsp;<span class="op" id="8375515">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375519">if</span>&nbsp;<span class="ident" id="8375522">tok</span>&nbsp;<span class="op" id="8375526">!=</span>&nbsp;<span class="ident" id="8375529">ch</span>&nbsp;<span class="op" id="8375532">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375537">t</span><span class="op" id="8375538">.</span><span class="ident" id="8375539">Fatalf</span><span class="op" id="8375545">(</span><span class="string" id="8375546">&#34;%d.&nbsp;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8375569">,</span>&nbsp;<span class="ident" id="8375571">i</span><span class="op" id="8375572">,</span>&nbsp;<span class="ident" id="8375574">TokenString</span><span class="op" id="8375585">(</span><span class="ident" id="8375586">tok</span><span class="op" id="8375589">)</span><span class="op" id="8375590">,</span>&nbsp;<span class="ident" id="8375592">TokenString</span><span class="op" id="8375603">(</span><span class="ident" id="8375604">ch</span><span class="op" id="8375606">)</span><span class="op" id="8375607">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375611">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375615">tok</span>&nbsp;<span class="op" id="8375619">=</span>&nbsp;<span class="ident" id="8375621">s</span><span class="op" id="8375622">.</span><span class="ident" id="8375623">Scan</span><span class="op" id="8375627">(</span><span class="op" id="8375628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375631">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375634">if</span>&nbsp;<span class="ident" id="8375637">tok</span>&nbsp;<span class="op" id="8375641">!=</span>&nbsp;<span class="ident" id="8375644">EOF</span>&nbsp;<span class="op" id="8375648">{</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375652">t</span><span class="op" id="8375653">.</span><span class="ident" id="8375654">Fatalf</span><span class="op" id="8375660">(</span><span class="string" id="8375661">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8375681">,</span>&nbsp;<span class="ident" id="8375683">TokenString</span><span class="op" id="8375694">(</span><span class="ident" id="8375695">tok</span><span class="op" id="8375698">)</span><span class="op" id="8375699">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375705">if</span>&nbsp;<span class="ident" id="8375708">s</span><span class="op" id="8375709">.</span><span class="ident" id="8375710">ErrorCount</span>&nbsp;<span class="op" id="8375721">!=</span>&nbsp;<span class="num" id="8375724">0</span>&nbsp;<span class="op" id="8375726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375730">t</span><span class="op" id="8375731">.</span><span class="ident" id="8375732">Errorf</span><span class="op" id="8375738">(</span><span class="string" id="8375739">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8375750">,</span>&nbsp;<span class="ident" id="8375752">s</span><span class="op" id="8375753">.</span><span class="ident" id="8375754">ErrorCount</span><span class="op" id="8375764">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8375767">}</span><br>
<span class="lineno">330</span><span class="op" id="8375769">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8375772">func</span>&nbsp;<span class="ident" id="8375777">testScanSelectedMode</span><span class="op" id="8375797">(</span><span class="ident" id="8375798">t</span>&nbsp;<span class="op" id="8375800">*</span><span class="ident" id="8375801">testing</span><span class="op" id="8375808">.</span><span class="ident" id="8375809">T</span><span class="op" id="8375810">,</span>&nbsp;<span class="ident" id="8375812">mode</span>&nbsp;<span class="builtintype" id="8375817">uint</span><span class="op" id="8375821">,</span>&nbsp;<span class="ident" id="8375823">class</span>&nbsp;<span class="builtintype" id="8375829">rune</span><span class="op" id="8375833">)</span>&nbsp;<span class="op" id="8375835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375838">src</span>&nbsp;<span class="op" id="8375842">:=</span>&nbsp;<span class="ident" id="8375845">makeSource</span><span class="op" id="8375855">(</span><span class="string" id="8375856">&#34;%s\n&#34;</span><span class="op" id="8375862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375865">s</span>&nbsp;<span class="op" id="8375867">:=</span>&nbsp;<span class="builtinfunc" id="8375870">new</span><span class="op" id="8375873">(</span><span class="ident" id="8375874">Scanner</span><span class="op" id="8375881">)</span><span class="op" id="8375882">.</span><span class="ident" id="8375883">Init</span><span class="op" id="8375887">(</span><span class="ident" id="8375888">src</span><span class="op" id="8375891">)</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375894">s</span><span class="op" id="8375895">.</span><span class="ident" id="8375896">Mode</span>&nbsp;<span class="op" id="8375901">=</span>&nbsp;<span class="ident" id="8375903">mode</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375909">tok</span>&nbsp;<span class="op" id="8375913">:=</span>&nbsp;<span class="ident" id="8375916">s</span><span class="op" id="8375917">.</span><span class="ident" id="8375918">Scan</span><span class="op" id="8375922">(</span><span class="op" id="8375923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375926">for</span>&nbsp;<span class="ident" id="8375930">tok</span>&nbsp;<span class="op" id="8375934">!=</span>&nbsp;<span class="ident" id="8375937">EOF</span>&nbsp;<span class="op" id="8375941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8375945">if</span>&nbsp;<span class="ident" id="8375948">tok</span>&nbsp;<span class="op" id="8375952">&lt;</span>&nbsp;<span class="num" id="8375954">0</span>&nbsp;<span class="op" id="8375956">&amp;&amp;</span>&nbsp;<span class="ident" id="8375959">tok</span>&nbsp;<span class="op" id="8375963">!=</span>&nbsp;<span class="ident" id="8375966">class</span>&nbsp;<span class="op" id="8375972">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8375977">t</span><span class="op" id="8375978">.</span><span class="ident" id="8375979">Fatalf</span><span class="op" id="8375985">(</span><span class="string" id="8375986">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8376005">,</span>&nbsp;<span class="ident" id="8376007">TokenString</span><span class="op" id="8376018">(</span><span class="ident" id="8376019">tok</span><span class="op" id="8376022">)</span><span class="op" id="8376023">,</span>&nbsp;<span class="ident" id="8376025">TokenString</span><span class="op" id="8376036">(</span><span class="ident" id="8376037">class</span><span class="op" id="8376042">)</span><span class="op" id="8376043">)</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8376047">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376051">tok</span>&nbsp;<span class="op" id="8376055">=</span>&nbsp;<span class="ident" id="8376057">s</span><span class="op" id="8376058">.</span><span class="ident" id="8376059">Scan</span><span class="op" id="8376063">(</span><span class="op" id="8376064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8376067">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376070">if</span>&nbsp;<span class="ident" id="8376073">s</span><span class="op" id="8376074">.</span><span class="ident" id="8376075">ErrorCount</span>&nbsp;<span class="op" id="8376086">!=</span>&nbsp;<span class="num" id="8376089">0</span>&nbsp;<span class="op" id="8376091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376095">t</span><span class="op" id="8376096">.</span><span class="ident" id="8376097">Errorf</span><span class="op" id="8376103">(</span><span class="string" id="8376104">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8376115">,</span>&nbsp;<span class="ident" id="8376117">s</span><span class="op" id="8376118">.</span><span class="ident" id="8376119">ErrorCount</span><span class="op" id="8376129">)</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8376132">}</span><br>
<span class="lineno"></span><span class="op" id="8376134">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8376137">func</span>&nbsp;<span class="ident" id="8376142">TestScanSelectedMask</span><span class="op" id="8376162">(</span><span class="ident" id="8376163">t</span>&nbsp;<span class="op" id="8376165">*</span><span class="ident" id="8376166">testing</span><span class="op" id="8376173">.</span><span class="ident" id="8376174">T</span><span class="op" id="8376175">)</span>&nbsp;<span class="op" id="8376177">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376180">testScanSelectedMode</span><span class="op" id="8376200">(</span><span class="ident" id="8376201">t</span><span class="op" id="8376202">,</span>&nbsp;<span class="num" id="8376204">0</span><span class="op" id="8376205">,</span>&nbsp;<span class="num" id="8376207">0</span><span class="op" id="8376208">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376211">testScanSelectedMode</span><span class="op" id="8376231">(</span><span class="ident" id="8376232">t</span><span class="op" id="8376233">,</span>&nbsp;<span class="ident" id="8376235">ScanIdents</span><span class="op" id="8376245">,</span>&nbsp;<span class="ident" id="8376247">Ident</span><span class="op" id="8376252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376255">//&nbsp;Don&#39;t&nbsp;test&nbsp;ScanInts&nbsp;and&nbsp;ScanNumbers&nbsp;since&nbsp;some&nbsp;parts&nbsp;of</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376315">//&nbsp;the&nbsp;floats&nbsp;in&nbsp;the&nbsp;source&nbsp;look&nbsp;like&nbsp;(illegal)&nbsp;octal&nbsp;ints</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376375">//&nbsp;and&nbsp;ScanNumbers&nbsp;may&nbsp;return&nbsp;either&nbsp;Int&nbsp;or&nbsp;Float.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376427">testScanSelectedMode</span><span class="op" id="8376447">(</span><span class="ident" id="8376448">t</span><span class="op" id="8376449">,</span>&nbsp;<span class="ident" id="8376451">ScanChars</span><span class="op" id="8376460">,</span>&nbsp;<span class="ident" id="8376462">Char</span><span class="op" id="8376466">)</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376469">testScanSelectedMode</span><span class="op" id="8376489">(</span><span class="ident" id="8376490">t</span><span class="op" id="8376491">,</span>&nbsp;<span class="ident" id="8376493">ScanStrings</span><span class="op" id="8376504">,</span>&nbsp;<span class="ident" id="8376506">String</span><span class="op" id="8376512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376515">testScanSelectedMode</span><span class="op" id="8376535">(</span><span class="ident" id="8376536">t</span><span class="op" id="8376537">,</span>&nbsp;<span class="ident" id="8376539">SkipComments</span><span class="op" id="8376551">,</span>&nbsp;<span class="num" id="8376553">0</span><span class="op" id="8376554">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376557">testScanSelectedMode</span><span class="op" id="8376577">(</span><span class="ident" id="8376578">t</span><span class="op" id="8376579">,</span>&nbsp;<span class="ident" id="8376581">ScanComments</span><span class="op" id="8376593">,</span>&nbsp;<span class="ident" id="8376595">Comment</span><span class="op" id="8376602">)</span><br>
<span class="lineno"></span><span class="op" id="8376604">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8376607">func</span>&nbsp;<span class="ident" id="8376612">TestScanCustomIdent</span><span class="op" id="8376631">(</span><span class="ident" id="8376632">t</span>&nbsp;<span class="op" id="8376634">*</span><span class="ident" id="8376635">testing</span><span class="op" id="8376642">.</span><span class="ident" id="8376643">T</span><span class="op" id="8376644">)</span>&nbsp;<span class="op" id="8376646">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376649">const</span>&nbsp;<span class="ident" id="8376655">src</span>&nbsp;<span class="op" id="8376659">=</span>&nbsp;<span class="string" id="8376661">&#34;faab12345&nbsp;a12b123&nbsp;a12&nbsp;3b&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376689">s</span>&nbsp;<span class="op" id="8376691">:=</span>&nbsp;<span class="builtinfunc" id="8376694">new</span><span class="op" id="8376697">(</span><span class="ident" id="8376698">Scanner</span><span class="op" id="8376705">)</span><span class="op" id="8376706">.</span><span class="ident" id="8376707">Init</span><span class="op" id="8376711">(</span><span class="ident" id="8376712">strings</span><span class="op" id="8376719">.</span><span class="ident" id="8376720">NewReader</span><span class="op" id="8376729">(</span><span class="ident" id="8376730">src</span><span class="op" id="8376733">)</span><span class="op" id="8376734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376737">//&nbsp;ident&nbsp;=&nbsp;(&nbsp;&#39;a&#39;&nbsp;|&nbsp;&#39;b&#39;&nbsp;)&nbsp;{&nbsp;digit&nbsp;}&nbsp;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376775">//&nbsp;digit&nbsp;=&nbsp;&#39;0&#39;&nbsp;..&nbsp;&#39;3&#39;&nbsp;.</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8376800">//&nbsp;with&nbsp;a&nbsp;maximum&nbsp;length&nbsp;of&nbsp;4</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376831">s</span><span class="op" id="8376832">.</span><span class="ident" id="8376833">IsIdentRune</span>&nbsp;<span class="op" id="8376845">=</span>&nbsp;<span class="keyword" id="8376847">func</span><span class="op" id="8376851">(</span><span class="ident" id="8376852">ch</span>&nbsp;<span class="builtintype" id="8376855">rune</span><span class="op" id="8376859">,</span>&nbsp;<span class="ident" id="8376861">i</span>&nbsp;<span class="builtintype" id="8376863">int</span><span class="op" id="8376866">)</span>&nbsp;<span class="builtintype" id="8376868">bool</span>&nbsp;<span class="op" id="8376873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8376877">return</span>&nbsp;<span class="ident" id="8376884">i</span>&nbsp;<span class="op" id="8376886">==</span>&nbsp;<span class="num" id="8376889">0</span>&nbsp;<span class="op" id="8376891">&amp;&amp;</span>&nbsp;<span class="op" id="8376894">(</span><span class="ident" id="8376895">ch</span>&nbsp;<span class="op" id="8376898">==</span>&nbsp;<span class="string" id="8376901">&#39;a&#39;</span>&nbsp;<span class="op" id="8376905">||</span>&nbsp;<span class="ident" id="8376908">ch</span>&nbsp;<span class="op" id="8376911">==</span>&nbsp;<span class="string" id="8376914">&#39;b&#39;</span><span class="op" id="8376917">)</span>&nbsp;<span class="op" id="8376919">||</span>&nbsp;<span class="num" id="8376922">0</span>&nbsp;<span class="op" id="8376924">&lt;</span>&nbsp;<span class="ident" id="8376926">i</span>&nbsp;<span class="op" id="8376928">&amp;&amp;</span>&nbsp;<span class="ident" id="8376931">i</span>&nbsp;<span class="op" id="8376933">&lt;</span>&nbsp;<span class="num" id="8376935">4</span>&nbsp;<span class="op" id="8376937">&amp;&amp;</span>&nbsp;<span class="string" id="8376940">&#39;0&#39;</span>&nbsp;<span class="op" id="8376944">&lt;=</span>&nbsp;<span class="ident" id="8376947">ch</span>&nbsp;<span class="op" id="8376950">&amp;&amp;</span>&nbsp;<span class="ident" id="8376953">ch</span>&nbsp;<span class="op" id="8376956">&lt;=</span>&nbsp;<span class="string" id="8376959">&#39;3&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8376964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8376967">checkTok</span><span class="op" id="8376975">(</span><span class="ident" id="8376976">t</span><span class="op" id="8376977">,</span>&nbsp;<span class="ident" id="8376979">s</span><span class="op" id="8376980">,</span>&nbsp;<span class="num" id="8376982">1</span><span class="op" id="8376983">,</span>&nbsp;<span class="ident" id="8376985">s</span><span class="op" id="8376986">.</span><span class="ident" id="8376987">Scan</span><span class="op" id="8376991">(</span><span class="op" id="8376992">)</span><span class="op" id="8376993">,</span>&nbsp;<span class="string" id="8376995">&#39;f&#39;</span><span class="op" id="8376998">,</span>&nbsp;<span class="string" id="8377000">&#34;f&#34;</span><span class="op" id="8377003">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377006">checkTok</span><span class="op" id="8377014">(</span><span class="ident" id="8377015">t</span><span class="op" id="8377016">,</span>&nbsp;<span class="ident" id="8377018">s</span><span class="op" id="8377019">,</span>&nbsp;<span class="num" id="8377021">1</span><span class="op" id="8377022">,</span>&nbsp;<span class="ident" id="8377024">s</span><span class="op" id="8377025">.</span><span class="ident" id="8377026">Scan</span><span class="op" id="8377030">(</span><span class="op" id="8377031">)</span><span class="op" id="8377032">,</span>&nbsp;<span class="ident" id="8377034">Ident</span><span class="op" id="8377039">,</span>&nbsp;<span class="string" id="8377041">&#34;a&#34;</span><span class="op" id="8377044">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377047">checkTok</span><span class="op" id="8377055">(</span><span class="ident" id="8377056">t</span><span class="op" id="8377057">,</span>&nbsp;<span class="ident" id="8377059">s</span><span class="op" id="8377060">,</span>&nbsp;<span class="num" id="8377062">1</span><span class="op" id="8377063">,</span>&nbsp;<span class="ident" id="8377065">s</span><span class="op" id="8377066">.</span><span class="ident" id="8377067">Scan</span><span class="op" id="8377071">(</span><span class="op" id="8377072">)</span><span class="op" id="8377073">,</span>&nbsp;<span class="ident" id="8377075">Ident</span><span class="op" id="8377080">,</span>&nbsp;<span class="string" id="8377082">&#34;a&#34;</span><span class="op" id="8377085">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377088">checkTok</span><span class="op" id="8377096">(</span><span class="ident" id="8377097">t</span><span class="op" id="8377098">,</span>&nbsp;<span class="ident" id="8377100">s</span><span class="op" id="8377101">,</span>&nbsp;<span class="num" id="8377103">1</span><span class="op" id="8377104">,</span>&nbsp;<span class="ident" id="8377106">s</span><span class="op" id="8377107">.</span><span class="ident" id="8377108">Scan</span><span class="op" id="8377112">(</span><span class="op" id="8377113">)</span><span class="op" id="8377114">,</span>&nbsp;<span class="ident" id="8377116">Ident</span><span class="op" id="8377121">,</span>&nbsp;<span class="string" id="8377123">&#34;b123&#34;</span><span class="op" id="8377129">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377132">checkTok</span><span class="op" id="8377140">(</span><span class="ident" id="8377141">t</span><span class="op" id="8377142">,</span>&nbsp;<span class="ident" id="8377144">s</span><span class="op" id="8377145">,</span>&nbsp;<span class="num" id="8377147">1</span><span class="op" id="8377148">,</span>&nbsp;<span class="ident" id="8377150">s</span><span class="op" id="8377151">.</span><span class="ident" id="8377152">Scan</span><span class="op" id="8377156">(</span><span class="op" id="8377157">)</span><span class="op" id="8377158">,</span>&nbsp;<span class="ident" id="8377160">Int</span><span class="op" id="8377163">,</span>&nbsp;<span class="string" id="8377165">&#34;45&#34;</span><span class="op" id="8377169">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377172">checkTok</span><span class="op" id="8377180">(</span><span class="ident" id="8377181">t</span><span class="op" id="8377182">,</span>&nbsp;<span class="ident" id="8377184">s</span><span class="op" id="8377185">,</span>&nbsp;<span class="num" id="8377187">1</span><span class="op" id="8377188">,</span>&nbsp;<span class="ident" id="8377190">s</span><span class="op" id="8377191">.</span><span class="ident" id="8377192">Scan</span><span class="op" id="8377196">(</span><span class="op" id="8377197">)</span><span class="op" id="8377198">,</span>&nbsp;<span class="ident" id="8377200">Ident</span><span class="op" id="8377205">,</span>&nbsp;<span class="string" id="8377207">&#34;a12&#34;</span><span class="op" id="8377212">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377215">checkTok</span><span class="op" id="8377223">(</span><span class="ident" id="8377224">t</span><span class="op" id="8377225">,</span>&nbsp;<span class="ident" id="8377227">s</span><span class="op" id="8377228">,</span>&nbsp;<span class="num" id="8377230">1</span><span class="op" id="8377231">,</span>&nbsp;<span class="ident" id="8377233">s</span><span class="op" id="8377234">.</span><span class="ident" id="8377235">Scan</span><span class="op" id="8377239">(</span><span class="op" id="8377240">)</span><span class="op" id="8377241">,</span>&nbsp;<span class="ident" id="8377243">Ident</span><span class="op" id="8377248">,</span>&nbsp;<span class="string" id="8377250">&#34;b123&#34;</span><span class="op" id="8377256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377259">checkTok</span><span class="op" id="8377267">(</span><span class="ident" id="8377268">t</span><span class="op" id="8377269">,</span>&nbsp;<span class="ident" id="8377271">s</span><span class="op" id="8377272">,</span>&nbsp;<span class="num" id="8377274">1</span><span class="op" id="8377275">,</span>&nbsp;<span class="ident" id="8377277">s</span><span class="op" id="8377278">.</span><span class="ident" id="8377279">Scan</span><span class="op" id="8377283">(</span><span class="op" id="8377284">)</span><span class="op" id="8377285">,</span>&nbsp;<span class="ident" id="8377287">Ident</span><span class="op" id="8377292">,</span>&nbsp;<span class="string" id="8377294">&#34;a12&#34;</span><span class="op" id="8377299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377302">checkTok</span><span class="op" id="8377310">(</span><span class="ident" id="8377311">t</span><span class="op" id="8377312">,</span>&nbsp;<span class="ident" id="8377314">s</span><span class="op" id="8377315">,</span>&nbsp;<span class="num" id="8377317">1</span><span class="op" id="8377318">,</span>&nbsp;<span class="ident" id="8377320">s</span><span class="op" id="8377321">.</span><span class="ident" id="8377322">Scan</span><span class="op" id="8377326">(</span><span class="op" id="8377327">)</span><span class="op" id="8377328">,</span>&nbsp;<span class="ident" id="8377330">Int</span><span class="op" id="8377333">,</span>&nbsp;<span class="string" id="8377335">&#34;3&#34;</span><span class="op" id="8377338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377341">checkTok</span><span class="op" id="8377349">(</span><span class="ident" id="8377350">t</span><span class="op" id="8377351">,</span>&nbsp;<span class="ident" id="8377353">s</span><span class="op" id="8377354">,</span>&nbsp;<span class="num" id="8377356">1</span><span class="op" id="8377357">,</span>&nbsp;<span class="ident" id="8377359">s</span><span class="op" id="8377360">.</span><span class="ident" id="8377361">Scan</span><span class="op" id="8377365">(</span><span class="op" id="8377366">)</span><span class="op" id="8377367">,</span>&nbsp;<span class="ident" id="8377369">Ident</span><span class="op" id="8377374">,</span>&nbsp;<span class="string" id="8377376">&#34;b&#34;</span><span class="op" id="8377379">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377382">checkTok</span><span class="op" id="8377390">(</span><span class="ident" id="8377391">t</span><span class="op" id="8377392">,</span>&nbsp;<span class="ident" id="8377394">s</span><span class="op" id="8377395">,</span>&nbsp;<span class="num" id="8377397">1</span><span class="op" id="8377398">,</span>&nbsp;<span class="ident" id="8377400">s</span><span class="op" id="8377401">.</span><span class="ident" id="8377402">Scan</span><span class="op" id="8377406">(</span><span class="op" id="8377407">)</span><span class="op" id="8377408">,</span>&nbsp;<span class="ident" id="8377410">EOF</span><span class="op" id="8377413">,</span>&nbsp;<span class="string" id="8377415">&#34;&#34;</span><span class="op" id="8377417">)</span><br>
<span class="lineno">380</span><span class="op" id="8377419">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8377422">func</span>&nbsp;<span class="ident" id="8377427">TestScanNext</span><span class="op" id="8377439">(</span><span class="ident" id="8377440">t</span>&nbsp;<span class="op" id="8377442">*</span><span class="ident" id="8377443">testing</span><span class="op" id="8377450">.</span><span class="ident" id="8377451">T</span><span class="op" id="8377452">)</span>&nbsp;<span class="op" id="8377454">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8377457">const</span>&nbsp;<span class="ident" id="8377463">BOM</span>&nbsp;<span class="op" id="8377467">=</span>&nbsp;<span class="string" id="8377469">&#39;\uFEFF&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377479">BOMs</span>&nbsp;<span class="op" id="8377484">:=</span>&nbsp;<span class="builtintype" id="8377487">string</span><span class="op" id="8377493">(</span><span class="ident" id="8377494">BOM</span><span class="op" id="8377497">)</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377500">s</span>&nbsp;<span class="op" id="8377502">:=</span>&nbsp;<span class="builtinfunc" id="8377505">new</span><span class="op" id="8377508">(</span><span class="ident" id="8377509">Scanner</span><span class="op" id="8377516">)</span><span class="op" id="8377517">.</span><span class="ident" id="8377518">Init</span><span class="op" id="8377522">(</span><span class="ident" id="8377523">strings</span><span class="op" id="8377530">.</span><span class="ident" id="8377531">NewReader</span><span class="op" id="8377540">(</span><span class="ident" id="8377541">BOMs</span>&nbsp;<span class="op" id="8377546">+</span>&nbsp;<span class="string" id="8377548">&#34;if&nbsp;a&nbsp;==&nbsp;bcd&nbsp;/*&nbsp;com&#34;</span>&nbsp;<span class="op" id="8377569">+</span>&nbsp;<span class="ident" id="8377571">BOMs</span>&nbsp;<span class="op" id="8377576">+</span>&nbsp;<span class="string" id="8377578">&#34;ment&nbsp;*/&nbsp;{\n\ta&nbsp;+=&nbsp;c\n}&#34;</span>&nbsp;<span class="op" id="8377603">+</span>&nbsp;<span class="ident" id="8377605">BOMs</span>&nbsp;<span class="op" id="8377610">+</span>&nbsp;<span class="string" id="8377612">&#34;//&nbsp;line&nbsp;comment&nbsp;ending&nbsp;in&nbsp;eof&#34;</span><span class="op" id="8377643">)</span><span class="op" id="8377644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377647">checkTok</span><span class="op" id="8377655">(</span><span class="ident" id="8377656">t</span><span class="op" id="8377657">,</span>&nbsp;<span class="ident" id="8377659">s</span><span class="op" id="8377660">,</span>&nbsp;<span class="num" id="8377662">1</span><span class="op" id="8377663">,</span>&nbsp;<span class="ident" id="8377665">s</span><span class="op" id="8377666">.</span><span class="ident" id="8377667">Scan</span><span class="op" id="8377671">(</span><span class="op" id="8377672">)</span><span class="op" id="8377673">,</span>&nbsp;<span class="ident" id="8377675">Ident</span><span class="op" id="8377680">,</span>&nbsp;<span class="string" id="8377682">&#34;if&#34;</span><span class="op" id="8377686">)</span>&nbsp;<span class="comment" id="8377688">//&nbsp;the&nbsp;first&nbsp;BOM&nbsp;is&nbsp;ignored</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377717">checkTok</span><span class="op" id="8377725">(</span><span class="ident" id="8377726">t</span><span class="op" id="8377727">,</span>&nbsp;<span class="ident" id="8377729">s</span><span class="op" id="8377730">,</span>&nbsp;<span class="num" id="8377732">1</span><span class="op" id="8377733">,</span>&nbsp;<span class="ident" id="8377735">s</span><span class="op" id="8377736">.</span><span class="ident" id="8377737">Scan</span><span class="op" id="8377741">(</span><span class="op" id="8377742">)</span><span class="op" id="8377743">,</span>&nbsp;<span class="ident" id="8377745">Ident</span><span class="op" id="8377750">,</span>&nbsp;<span class="string" id="8377752">&#34;a&#34;</span><span class="op" id="8377755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377758">checkTok</span><span class="op" id="8377766">(</span><span class="ident" id="8377767">t</span><span class="op" id="8377768">,</span>&nbsp;<span class="ident" id="8377770">s</span><span class="op" id="8377771">,</span>&nbsp;<span class="num" id="8377773">1</span><span class="op" id="8377774">,</span>&nbsp;<span class="ident" id="8377776">s</span><span class="op" id="8377777">.</span><span class="ident" id="8377778">Scan</span><span class="op" id="8377782">(</span><span class="op" id="8377783">)</span><span class="op" id="8377784">,</span>&nbsp;<span class="string" id="8377786">&#39;=&#39;</span><span class="op" id="8377789">,</span>&nbsp;<span class="string" id="8377791">&#34;=&#34;</span><span class="op" id="8377794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377797">checkTok</span><span class="op" id="8377805">(</span><span class="ident" id="8377806">t</span><span class="op" id="8377807">,</span>&nbsp;<span class="ident" id="8377809">s</span><span class="op" id="8377810">,</span>&nbsp;<span class="num" id="8377812">0</span><span class="op" id="8377813">,</span>&nbsp;<span class="ident" id="8377815">s</span><span class="op" id="8377816">.</span><span class="ident" id="8377817">Next</span><span class="op" id="8377821">(</span><span class="op" id="8377822">)</span><span class="op" id="8377823">,</span>&nbsp;<span class="string" id="8377825">&#39;=&#39;</span><span class="op" id="8377828">,</span>&nbsp;<span class="string" id="8377830">&#34;&#34;</span><span class="op" id="8377832">)</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377835">checkTok</span><span class="op" id="8377843">(</span><span class="ident" id="8377844">t</span><span class="op" id="8377845">,</span>&nbsp;<span class="ident" id="8377847">s</span><span class="op" id="8377848">,</span>&nbsp;<span class="num" id="8377850">0</span><span class="op" id="8377851">,</span>&nbsp;<span class="ident" id="8377853">s</span><span class="op" id="8377854">.</span><span class="ident" id="8377855">Next</span><span class="op" id="8377859">(</span><span class="op" id="8377860">)</span><span class="op" id="8377861">,</span>&nbsp;<span class="string" id="8377863">&#39;&nbsp;&#39;</span><span class="op" id="8377866">,</span>&nbsp;<span class="string" id="8377868">&#34;&#34;</span><span class="op" id="8377870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377873">checkTok</span><span class="op" id="8377881">(</span><span class="ident" id="8377882">t</span><span class="op" id="8377883">,</span>&nbsp;<span class="ident" id="8377885">s</span><span class="op" id="8377886">,</span>&nbsp;<span class="num" id="8377888">0</span><span class="op" id="8377889">,</span>&nbsp;<span class="ident" id="8377891">s</span><span class="op" id="8377892">.</span><span class="ident" id="8377893">Next</span><span class="op" id="8377897">(</span><span class="op" id="8377898">)</span><span class="op" id="8377899">,</span>&nbsp;<span class="string" id="8377901">&#39;b&#39;</span><span class="op" id="8377904">,</span>&nbsp;<span class="string" id="8377906">&#34;&#34;</span><span class="op" id="8377908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377911">checkTok</span><span class="op" id="8377919">(</span><span class="ident" id="8377920">t</span><span class="op" id="8377921">,</span>&nbsp;<span class="ident" id="8377923">s</span><span class="op" id="8377924">,</span>&nbsp;<span class="num" id="8377926">1</span><span class="op" id="8377927">,</span>&nbsp;<span class="ident" id="8377929">s</span><span class="op" id="8377930">.</span><span class="ident" id="8377931">Scan</span><span class="op" id="8377935">(</span><span class="op" id="8377936">)</span><span class="op" id="8377937">,</span>&nbsp;<span class="ident" id="8377939">Ident</span><span class="op" id="8377944">,</span>&nbsp;<span class="string" id="8377946">&#34;cd&#34;</span><span class="op" id="8377950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377953">checkTok</span><span class="op" id="8377961">(</span><span class="ident" id="8377962">t</span><span class="op" id="8377963">,</span>&nbsp;<span class="ident" id="8377965">s</span><span class="op" id="8377966">,</span>&nbsp;<span class="num" id="8377968">1</span><span class="op" id="8377969">,</span>&nbsp;<span class="ident" id="8377971">s</span><span class="op" id="8377972">.</span><span class="ident" id="8377973">Scan</span><span class="op" id="8377977">(</span><span class="op" id="8377978">)</span><span class="op" id="8377979">,</span>&nbsp;<span class="string" id="8377981">&#39;{&#39;</span><span class="op" id="8377984">,</span>&nbsp;<span class="string" id="8377986">&#34;{&#34;</span><span class="op" id="8377989">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8377992">checkTok</span><span class="op" id="8378000">(</span><span class="ident" id="8378001">t</span><span class="op" id="8378002">,</span>&nbsp;<span class="ident" id="8378004">s</span><span class="op" id="8378005">,</span>&nbsp;<span class="num" id="8378007">2</span><span class="op" id="8378008">,</span>&nbsp;<span class="ident" id="8378010">s</span><span class="op" id="8378011">.</span><span class="ident" id="8378012">Scan</span><span class="op" id="8378016">(</span><span class="op" id="8378017">)</span><span class="op" id="8378018">,</span>&nbsp;<span class="ident" id="8378020">Ident</span><span class="op" id="8378025">,</span>&nbsp;<span class="string" id="8378027">&#34;a&#34;</span><span class="op" id="8378030">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378033">checkTok</span><span class="op" id="8378041">(</span><span class="ident" id="8378042">t</span><span class="op" id="8378043">,</span>&nbsp;<span class="ident" id="8378045">s</span><span class="op" id="8378046">,</span>&nbsp;<span class="num" id="8378048">2</span><span class="op" id="8378049">,</span>&nbsp;<span class="ident" id="8378051">s</span><span class="op" id="8378052">.</span><span class="ident" id="8378053">Scan</span><span class="op" id="8378057">(</span><span class="op" id="8378058">)</span><span class="op" id="8378059">,</span>&nbsp;<span class="string" id="8378061">&#39;+&#39;</span><span class="op" id="8378064">,</span>&nbsp;<span class="string" id="8378066">&#34;+&#34;</span><span class="op" id="8378069">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378072">checkTok</span><span class="op" id="8378080">(</span><span class="ident" id="8378081">t</span><span class="op" id="8378082">,</span>&nbsp;<span class="ident" id="8378084">s</span><span class="op" id="8378085">,</span>&nbsp;<span class="num" id="8378087">0</span><span class="op" id="8378088">,</span>&nbsp;<span class="ident" id="8378090">s</span><span class="op" id="8378091">.</span><span class="ident" id="8378092">Next</span><span class="op" id="8378096">(</span><span class="op" id="8378097">)</span><span class="op" id="8378098">,</span>&nbsp;<span class="string" id="8378100">&#39;=&#39;</span><span class="op" id="8378103">,</span>&nbsp;<span class="string" id="8378105">&#34;&#34;</span><span class="op" id="8378107">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378110">checkTok</span><span class="op" id="8378118">(</span><span class="ident" id="8378119">t</span><span class="op" id="8378120">,</span>&nbsp;<span class="ident" id="8378122">s</span><span class="op" id="8378123">,</span>&nbsp;<span class="num" id="8378125">2</span><span class="op" id="8378126">,</span>&nbsp;<span class="ident" id="8378128">s</span><span class="op" id="8378129">.</span><span class="ident" id="8378130">Scan</span><span class="op" id="8378134">(</span><span class="op" id="8378135">)</span><span class="op" id="8378136">,</span>&nbsp;<span class="ident" id="8378138">Ident</span><span class="op" id="8378143">,</span>&nbsp;<span class="string" id="8378145">&#34;c&#34;</span><span class="op" id="8378148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378151">checkTok</span><span class="op" id="8378159">(</span><span class="ident" id="8378160">t</span><span class="op" id="8378161">,</span>&nbsp;<span class="ident" id="8378163">s</span><span class="op" id="8378164">,</span>&nbsp;<span class="num" id="8378166">3</span><span class="op" id="8378167">,</span>&nbsp;<span class="ident" id="8378169">s</span><span class="op" id="8378170">.</span><span class="ident" id="8378171">Scan</span><span class="op" id="8378175">(</span><span class="op" id="8378176">)</span><span class="op" id="8378177">,</span>&nbsp;<span class="string" id="8378179">&#39;}&#39;</span><span class="op" id="8378182">,</span>&nbsp;<span class="string" id="8378184">&#34;}&#34;</span><span class="op" id="8378187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378190">checkTok</span><span class="op" id="8378198">(</span><span class="ident" id="8378199">t</span><span class="op" id="8378200">,</span>&nbsp;<span class="ident" id="8378202">s</span><span class="op" id="8378203">,</span>&nbsp;<span class="num" id="8378205">3</span><span class="op" id="8378206">,</span>&nbsp;<span class="ident" id="8378208">s</span><span class="op" id="8378209">.</span><span class="ident" id="8378210">Scan</span><span class="op" id="8378214">(</span><span class="op" id="8378215">)</span><span class="op" id="8378216">,</span>&nbsp;<span class="ident" id="8378218">BOM</span><span class="op" id="8378221">,</span>&nbsp;<span class="ident" id="8378223">BOMs</span><span class="op" id="8378227">)</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378230">checkTok</span><span class="op" id="8378238">(</span><span class="ident" id="8378239">t</span><span class="op" id="8378240">,</span>&nbsp;<span class="ident" id="8378242">s</span><span class="op" id="8378243">,</span>&nbsp;<span class="num" id="8378245">3</span><span class="op" id="8378246">,</span>&nbsp;<span class="ident" id="8378248">s</span><span class="op" id="8378249">.</span><span class="ident" id="8378250">Scan</span><span class="op" id="8378254">(</span><span class="op" id="8378255">)</span><span class="op" id="8378256">,</span>&nbsp;<span class="op" id="8378258">-</span><span class="num" id="8378259">1</span><span class="op" id="8378260">,</span>&nbsp;<span class="string" id="8378262">&#34;&#34;</span><span class="op" id="8378264">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378267">if</span>&nbsp;<span class="ident" id="8378270">s</span><span class="op" id="8378271">.</span><span class="ident" id="8378272">ErrorCount</span>&nbsp;<span class="op" id="8378283">!=</span>&nbsp;<span class="num" id="8378286">0</span>&nbsp;<span class="op" id="8378288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378292">t</span><span class="op" id="8378293">.</span><span class="ident" id="8378294">Errorf</span><span class="op" id="8378300">(</span><span class="string" id="8378301">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8378312">,</span>&nbsp;<span class="ident" id="8378314">s</span><span class="op" id="8378315">.</span><span class="ident" id="8378316">ErrorCount</span><span class="op" id="8378326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378329">}</span><br>
<span class="lineno"></span><span class="op" id="8378331">}</span><br>
<span class="lineno">405</span><br>
<span class="lineno"></span><span class="keyword" id="8378334">func</span>&nbsp;<span class="ident" id="8378339">TestScanWhitespace</span><span class="op" id="8378357">(</span><span class="ident" id="8378358">t</span>&nbsp;<span class="op" id="8378360">*</span><span class="ident" id="8378361">testing</span><span class="op" id="8378368">.</span><span class="ident" id="8378369">T</span><span class="op" id="8378370">)</span>&nbsp;<span class="op" id="8378372">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378375">var</span>&nbsp;<span class="ident" id="8378379">buf</span>&nbsp;<span class="ident" id="8378383">bytes</span><span class="op" id="8378388">.</span><span class="ident" id="8378389">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378397">var</span>&nbsp;<span class="ident" id="8378401">ws</span>&nbsp;<span class="ident" id="8378404">uint64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8378412">//&nbsp;start&nbsp;at&nbsp;1,&nbsp;NUL&nbsp;character&nbsp;is&nbsp;not&nbsp;allowed</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378457">for</span>&nbsp;<span class="ident" id="8378461">ch</span>&nbsp;<span class="op" id="8378464">:=</span>&nbsp;<span class="builtintype" id="8378467">byte</span><span class="op" id="8378471">(</span><span class="num" id="8378472">1</span><span class="op" id="8378473">)</span><span class="op" id="8378474">;</span>&nbsp;<span class="ident" id="8378476">ch</span>&nbsp;<span class="op" id="8378479">&lt;</span>&nbsp;<span class="string" id="8378481">&#39;&nbsp;&#39;</span><span class="op" id="8378484">;</span>&nbsp;<span class="ident" id="8378486">ch</span><span class="op" id="8378488">++</span>&nbsp;<span class="op" id="8378491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378495">buf</span><span class="op" id="8378498">.</span><span class="ident" id="8378499">WriteByte</span><span class="op" id="8378508">(</span><span class="ident" id="8378509">ch</span><span class="op" id="8378511">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378515">ws</span>&nbsp;<span class="op" id="8378518">|=</span>&nbsp;<span class="num" id="8378521">1</span>&nbsp;<span class="op" id="8378523">&lt;&lt;</span>&nbsp;<span class="ident" id="8378526">ch</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378530">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378533">const</span>&nbsp;<span class="ident" id="8378539">orig</span>&nbsp;<span class="op" id="8378544">=</span>&nbsp;<span class="string" id="8378546">&#39;x&#39;</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378551">buf</span><span class="op" id="8378554">.</span><span class="ident" id="8378555">WriteByte</span><span class="op" id="8378564">(</span><span class="ident" id="8378565">orig</span><span class="op" id="8378569">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378573">s</span>&nbsp;<span class="op" id="8378575">:=</span>&nbsp;<span class="builtinfunc" id="8378578">new</span><span class="op" id="8378581">(</span><span class="ident" id="8378582">Scanner</span><span class="op" id="8378589">)</span><span class="op" id="8378590">.</span><span class="ident" id="8378591">Init</span><span class="op" id="8378595">(</span><span class="op" id="8378596">&amp;</span><span class="ident" id="8378597">buf</span><span class="op" id="8378600">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378603">s</span><span class="op" id="8378604">.</span><span class="ident" id="8378605">Mode</span>&nbsp;<span class="op" id="8378610">=</span>&nbsp;<span class="num" id="8378612">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378615">s</span><span class="op" id="8378616">.</span><span class="ident" id="8378617">Whitespace</span>&nbsp;<span class="op" id="8378628">=</span>&nbsp;<span class="ident" id="8378630">ws</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378634">tok</span>&nbsp;<span class="op" id="8378638">:=</span>&nbsp;<span class="ident" id="8378641">s</span><span class="op" id="8378642">.</span><span class="ident" id="8378643">Scan</span><span class="op" id="8378647">(</span><span class="op" id="8378648">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378651">if</span>&nbsp;<span class="ident" id="8378654">tok</span>&nbsp;<span class="op" id="8378658">!=</span>&nbsp;<span class="ident" id="8378661">orig</span>&nbsp;<span class="op" id="8378666">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378670">t</span><span class="op" id="8378671">.</span><span class="ident" id="8378672">Errorf</span><span class="op" id="8378678">(</span><span class="string" id="8378679">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8378698">,</span>&nbsp;<span class="ident" id="8378700">TokenString</span><span class="op" id="8378711">(</span><span class="ident" id="8378712">tok</span><span class="op" id="8378715">)</span><span class="op" id="8378716">,</span>&nbsp;<span class="ident" id="8378718">TokenString</span><span class="op" id="8378729">(</span><span class="ident" id="8378730">orig</span><span class="op" id="8378734">)</span><span class="op" id="8378735">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8378738">}</span><br>
<span class="lineno"></span><span class="op" id="8378740">}</span><br>
<span class="lineno">425</span><br>
<span class="lineno"></span><span class="keyword" id="8378743">func</span>&nbsp;<span class="ident" id="8378748">testError</span><span class="op" id="8378757">(</span><span class="ident" id="8378758">t</span>&nbsp;<span class="op" id="8378760">*</span><span class="ident" id="8378761">testing</span><span class="op" id="8378768">.</span><span class="ident" id="8378769">T</span><span class="op" id="8378770">,</span>&nbsp;<span class="ident" id="8378772">src</span><span class="op" id="8378775">,</span>&nbsp;<span class="ident" id="8378777">pos</span><span class="op" id="8378780">,</span>&nbsp;<span class="ident" id="8378782">msg</span>&nbsp;<span class="builtintype" id="8378786">string</span><span class="op" id="8378792">,</span>&nbsp;<span class="ident" id="8378794">tok</span>&nbsp;<span class="builtintype" id="8378798">rune</span><span class="op" id="8378802">)</span>&nbsp;<span class="op" id="8378804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378807">s</span>&nbsp;<span class="op" id="8378809">:=</span>&nbsp;<span class="builtinfunc" id="8378812">new</span><span class="op" id="8378815">(</span><span class="ident" id="8378816">Scanner</span><span class="op" id="8378823">)</span><span class="op" id="8378824">.</span><span class="ident" id="8378825">Init</span><span class="op" id="8378829">(</span><span class="ident" id="8378830">strings</span><span class="op" id="8378837">.</span><span class="ident" id="8378838">NewReader</span><span class="op" id="8378847">(</span><span class="ident" id="8378848">src</span><span class="op" id="8378851">)</span><span class="op" id="8378852">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378855">errorCalled</span>&nbsp;<span class="op" id="8378867">:=</span>&nbsp;<span class="builtintype" id="8378870">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8378877">s</span><span class="op" id="8378878">.</span><span class="ident" id="8378879">Error</span>&nbsp;<span class="op" id="8378885">=</span>&nbsp;<span class="keyword" id="8378887">func</span><span class="op" id="8378891">(</span><span class="ident" id="8378892">s</span>&nbsp;<span class="op" id="8378894">*</span><span class="ident" id="8378895">Scanner</span><span class="op" id="8378902">,</span>&nbsp;<span class="ident" id="8378904">m</span>&nbsp;<span class="builtintype" id="8378906">string</span><span class="op" id="8378912">)</span>&nbsp;<span class="op" id="8378914">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378918">if</span>&nbsp;<span class="op" id="8378921">!</span><span class="ident" id="8378922">errorCalled</span>&nbsp;<span class="op" id="8378934">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8378939">//&nbsp;only&nbsp;look&nbsp;at&nbsp;first&nbsp;error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8378970">if</span>&nbsp;<span class="ident" id="8378973">p</span>&nbsp;<span class="op" id="8378975">:=</span>&nbsp;<span class="ident" id="8378978">s</span><span class="op" id="8378979">.</span><span class="ident" id="8378980">Pos</span><span class="op" id="8378983">(</span><span class="op" id="8378984">)</span><span class="op" id="8378985">.</span><span class="ident" id="8378986">String</span><span class="op" id="8378992">(</span><span class="op" id="8378993">)</span><span class="op" id="8378994">;</span>&nbsp;<span class="ident" id="8378996">p</span>&nbsp;<span class="op" id="8378998">!=</span>&nbsp;<span class="ident" id="8379001">pos</span>&nbsp;<span class="op" id="8379005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379011">t</span><span class="op" id="8379012">.</span><span class="ident" id="8379013">Errorf</span><span class="op" id="8379019">(</span><span class="string" id="8379020">&#34;pos&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8379046">,</span>&nbsp;<span class="ident" id="8379048">p</span><span class="op" id="8379049">,</span>&nbsp;<span class="ident" id="8379051">pos</span><span class="op" id="8379054">,</span>&nbsp;<span class="ident" id="8379056">src</span><span class="op" id="8379059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379064">}</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379069">if</span>&nbsp;<span class="ident" id="8379072">m</span>&nbsp;<span class="op" id="8379074">!=</span>&nbsp;<span class="ident" id="8379077">msg</span>&nbsp;<span class="op" id="8379081">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379087">t</span><span class="op" id="8379088">.</span><span class="ident" id="8379089">Errorf</span><span class="op" id="8379095">(</span><span class="string" id="8379096">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8379122">,</span>&nbsp;<span class="ident" id="8379124">m</span><span class="op" id="8379125">,</span>&nbsp;<span class="ident" id="8379127">msg</span><span class="op" id="8379130">,</span>&nbsp;<span class="ident" id="8379132">src</span><span class="op" id="8379135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379140">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379145">errorCalled</span>&nbsp;<span class="op" id="8379157">=</span>&nbsp;<span class="builtintype" id="8379159">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379166">}</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379172">tk</span>&nbsp;<span class="op" id="8379175">:=</span>&nbsp;<span class="ident" id="8379178">s</span><span class="op" id="8379179">.</span><span class="ident" id="8379180">Scan</span><span class="op" id="8379184">(</span><span class="op" id="8379185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379188">if</span>&nbsp;<span class="ident" id="8379191">tk</span>&nbsp;<span class="op" id="8379194">!=</span>&nbsp;<span class="ident" id="8379197">tok</span>&nbsp;<span class="op" id="8379201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379205">t</span><span class="op" id="8379206">.</span><span class="ident" id="8379207">Errorf</span><span class="op" id="8379213">(</span><span class="string" id="8379214">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8379240">,</span>&nbsp;<span class="ident" id="8379242">TokenString</span><span class="op" id="8379253">(</span><span class="ident" id="8379254">tk</span><span class="op" id="8379256">)</span><span class="op" id="8379257">,</span>&nbsp;<span class="ident" id="8379259">TokenString</span><span class="op" id="8379270">(</span><span class="ident" id="8379271">tok</span><span class="op" id="8379274">)</span><span class="op" id="8379275">,</span>&nbsp;<span class="ident" id="8379277">src</span><span class="op" id="8379280">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379283">}</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379286">if</span>&nbsp;<span class="op" id="8379289">!</span><span class="ident" id="8379290">errorCalled</span>&nbsp;<span class="op" id="8379302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379306">t</span><span class="op" id="8379307">.</span><span class="ident" id="8379308">Errorf</span><span class="op" id="8379314">(</span><span class="string" id="8379315">&#34;error&nbsp;handler&nbsp;not&nbsp;called&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8379348">,</span>&nbsp;<span class="ident" id="8379350">src</span><span class="op" id="8379353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379356">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8379359">if</span>&nbsp;<span class="ident" id="8379362">s</span><span class="op" id="8379363">.</span><span class="ident" id="8379364">ErrorCount</span>&nbsp;<span class="op" id="8379375">==</span>&nbsp;<span class="num" id="8379378">0</span>&nbsp;<span class="op" id="8379380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379384">t</span><span class="op" id="8379385">.</span><span class="ident" id="8379386">Errorf</span><span class="op" id="8379392">(</span><span class="string" id="8379393">&#34;count&nbsp;=&nbsp;%d,&nbsp;want&nbsp;&gt;&nbsp;0&nbsp;for&nbsp;%q&#34;</span><span class="op" id="8379422">,</span>&nbsp;<span class="ident" id="8379424">s</span><span class="op" id="8379425">.</span><span class="ident" id="8379426">ErrorCount</span><span class="op" id="8379436">,</span>&nbsp;<span class="ident" id="8379438">src</span><span class="op" id="8379441">)</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8379444">}</span><br>
<span class="lineno"></span><span class="op" id="8379446">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8379449">func</span>&nbsp;<span class="ident" id="8379454">TestError</span><span class="op" id="8379463">(</span><span class="ident" id="8379464">t</span>&nbsp;<span class="op" id="8379466">*</span><span class="ident" id="8379467">testing</span><span class="op" id="8379474">.</span><span class="ident" id="8379475">T</span><span class="op" id="8379476">)</span>&nbsp;<span class="op" id="8379478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379481">testError</span><span class="op" id="8379490">(</span><span class="ident" id="8379491">t</span><span class="op" id="8379492">,</span>&nbsp;<span class="string" id="8379494">&#34;\x00&#34;</span><span class="op" id="8379500">,</span>&nbsp;<span class="string" id="8379502">&#34;1:1&#34;</span><span class="op" id="8379507">,</span>&nbsp;<span class="string" id="8379509">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8379532">,</span>&nbsp;<span class="num" id="8379534">0</span><span class="op" id="8379535">)</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379538">testError</span><span class="op" id="8379547">(</span><span class="ident" id="8379548">t</span><span class="op" id="8379549">,</span>&nbsp;<span class="string" id="8379551">&#34;\x80&#34;</span><span class="op" id="8379557">,</span>&nbsp;<span class="string" id="8379559">&#34;1:1&#34;</span><span class="op" id="8379564">,</span>&nbsp;<span class="string" id="8379566">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8379590">,</span>&nbsp;<span class="ident" id="8379592">utf8</span><span class="op" id="8379596">.</span><span class="ident" id="8379597">RuneError</span><span class="op" id="8379606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379609">testError</span><span class="op" id="8379618">(</span><span class="ident" id="8379619">t</span><span class="op" id="8379620">,</span>&nbsp;<span class="string" id="8379622">&#34;\xff&#34;</span><span class="op" id="8379628">,</span>&nbsp;<span class="string" id="8379630">&#34;1:1&#34;</span><span class="op" id="8379635">,</span>&nbsp;<span class="string" id="8379637">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8379661">,</span>&nbsp;<span class="ident" id="8379663">utf8</span><span class="op" id="8379667">.</span><span class="ident" id="8379668">RuneError</span><span class="op" id="8379677">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379681">testError</span><span class="op" id="8379690">(</span><span class="ident" id="8379691">t</span><span class="op" id="8379692">,</span>&nbsp;<span class="string" id="8379694">&#34;a\x00&#34;</span><span class="op" id="8379701">,</span>&nbsp;<span class="string" id="8379703">&#34;1:2&#34;</span><span class="op" id="8379708">,</span>&nbsp;<span class="string" id="8379710">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8379733">,</span>&nbsp;<span class="ident" id="8379735">Ident</span><span class="op" id="8379740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379743">testError</span><span class="op" id="8379752">(</span><span class="ident" id="8379753">t</span><span class="op" id="8379754">,</span>&nbsp;<span class="string" id="8379756">&#34;ab\x80&#34;</span><span class="op" id="8379764">,</span>&nbsp;<span class="string" id="8379766">&#34;1:3&#34;</span><span class="op" id="8379771">,</span>&nbsp;<span class="string" id="8379773">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8379797">,</span>&nbsp;<span class="ident" id="8379799">Ident</span><span class="op" id="8379804">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379807">testError</span><span class="op" id="8379816">(</span><span class="ident" id="8379817">t</span><span class="op" id="8379818">,</span>&nbsp;<span class="string" id="8379820">&#34;abc\xff&#34;</span><span class="op" id="8379829">,</span>&nbsp;<span class="string" id="8379831">&#34;1:4&#34;</span><span class="op" id="8379836">,</span>&nbsp;<span class="string" id="8379838">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8379862">,</span>&nbsp;<span class="ident" id="8379864">Ident</span><span class="op" id="8379869">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379873">testError</span><span class="op" id="8379882">(</span><span class="ident" id="8379883">t</span><span class="op" id="8379884">,</span>&nbsp;<span class="string" id="8379886">`&#34;a`</span><span class="op" id="8379890">+</span><span class="string" id="8379891">&#34;\x00&#34;</span><span class="op" id="8379897">,</span>&nbsp;<span class="string" id="8379899">&#34;1:3&#34;</span><span class="op" id="8379904">,</span>&nbsp;<span class="string" id="8379906">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8379929">,</span>&nbsp;<span class="ident" id="8379931">String</span><span class="op" id="8379937">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8379940">testError</span><span class="op" id="8379949">(</span><span class="ident" id="8379950">t</span><span class="op" id="8379951">,</span>&nbsp;<span class="string" id="8379953">`&#34;ab`</span><span class="op" id="8379958">+</span><span class="string" id="8379959">&#34;\x80&#34;</span><span class="op" id="8379965">,</span>&nbsp;<span class="string" id="8379967">&#34;1:4&#34;</span><span class="op" id="8379972">,</span>&nbsp;<span class="string" id="8379974">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8379998">,</span>&nbsp;<span class="ident" id="8380000">String</span><span class="op" id="8380006">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380009">testError</span><span class="op" id="8380018">(</span><span class="ident" id="8380019">t</span><span class="op" id="8380020">,</span>&nbsp;<span class="string" id="8380022">`&#34;abc`</span><span class="op" id="8380028">+</span><span class="string" id="8380029">&#34;\xff&#34;</span><span class="op" id="8380035">,</span>&nbsp;<span class="string" id="8380037">&#34;1:5&#34;</span><span class="op" id="8380042">,</span>&nbsp;<span class="string" id="8380044">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8380068">,</span>&nbsp;<span class="ident" id="8380070">String</span><span class="op" id="8380076">)</span><br>
<span class="lineno">465</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380080">testError</span><span class="op" id="8380089">(</span><span class="ident" id="8380090">t</span><span class="op" id="8380091">,</span>&nbsp;<span class="string" id="8380093">&#34;`a&#34;</span><span class="op" id="8380097">+</span><span class="string" id="8380098">&#34;\x00&#34;</span><span class="op" id="8380104">,</span>&nbsp;<span class="string" id="8380106">&#34;1:3&#34;</span><span class="op" id="8380111">,</span>&nbsp;<span class="string" id="8380113">&#34;illegal&nbsp;character&nbsp;NUL&#34;</span><span class="op" id="8380136">,</span>&nbsp;<span class="ident" id="8380138">String</span><span class="op" id="8380144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380147">testError</span><span class="op" id="8380156">(</span><span class="ident" id="8380157">t</span><span class="op" id="8380158">,</span>&nbsp;<span class="string" id="8380160">&#34;`ab&#34;</span><span class="op" id="8380165">+</span><span class="string" id="8380166">&#34;\x80&#34;</span><span class="op" id="8380172">,</span>&nbsp;<span class="string" id="8380174">&#34;1:4&#34;</span><span class="op" id="8380179">,</span>&nbsp;<span class="string" id="8380181">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8380205">,</span>&nbsp;<span class="ident" id="8380207">String</span><span class="op" id="8380213">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380216">testError</span><span class="op" id="8380225">(</span><span class="ident" id="8380226">t</span><span class="op" id="8380227">,</span>&nbsp;<span class="string" id="8380229">&#34;`abc&#34;</span><span class="op" id="8380235">+</span><span class="string" id="8380236">&#34;\xff&#34;</span><span class="op" id="8380242">,</span>&nbsp;<span class="string" id="8380244">&#34;1:5&#34;</span><span class="op" id="8380249">,</span>&nbsp;<span class="string" id="8380251">&#34;illegal&nbsp;UTF-8&nbsp;encoding&#34;</span><span class="op" id="8380275">,</span>&nbsp;<span class="ident" id="8380277">String</span><span class="op" id="8380283">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380287">testError</span><span class="op" id="8380296">(</span><span class="ident" id="8380297">t</span><span class="op" id="8380298">,</span>&nbsp;<span class="string" id="8380300">`&#39;\&#34;&#39;`</span><span class="op" id="8380306">,</span>&nbsp;<span class="string" id="8380308">&#34;1:3&#34;</span><span class="op" id="8380313">,</span>&nbsp;<span class="string" id="8380315">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8380336">,</span>&nbsp;<span class="ident" id="8380338">Char</span><span class="op" id="8380342">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380345">testError</span><span class="op" id="8380354">(</span><span class="ident" id="8380355">t</span><span class="op" id="8380356">,</span>&nbsp;<span class="string" id="8380358">`&#34;\&#39;&#34;`</span><span class="op" id="8380364">,</span>&nbsp;<span class="string" id="8380366">&#34;1:3&#34;</span><span class="op" id="8380371">,</span>&nbsp;<span class="string" id="8380373">&#34;illegal&nbsp;char&nbsp;escape&#34;</span><span class="op" id="8380394">,</span>&nbsp;<span class="ident" id="8380396">String</span><span class="op" id="8380402">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380406">testError</span><span class="op" id="8380415">(</span><span class="ident" id="8380416">t</span><span class="op" id="8380417">,</span>&nbsp;<span class="string" id="8380419">`01238`</span><span class="op" id="8380426">,</span>&nbsp;<span class="string" id="8380428">&#34;1:6&#34;</span><span class="op" id="8380433">,</span>&nbsp;<span class="string" id="8380435">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8380457">,</span>&nbsp;<span class="ident" id="8380459">Int</span><span class="op" id="8380462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380465">testError</span><span class="op" id="8380474">(</span><span class="ident" id="8380475">t</span><span class="op" id="8380476">,</span>&nbsp;<span class="string" id="8380478">`01238123`</span><span class="op" id="8380488">,</span>&nbsp;<span class="string" id="8380490">&#34;1:9&#34;</span><span class="op" id="8380495">,</span>&nbsp;<span class="string" id="8380497">&#34;illegal&nbsp;octal&nbsp;number&#34;</span><span class="op" id="8380519">,</span>&nbsp;<span class="ident" id="8380521">Int</span><span class="op" id="8380524">)</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380527">testError</span><span class="op" id="8380536">(</span><span class="ident" id="8380537">t</span><span class="op" id="8380538">,</span>&nbsp;<span class="string" id="8380540">`0x`</span><span class="op" id="8380544">,</span>&nbsp;<span class="string" id="8380546">&#34;1:3&#34;</span><span class="op" id="8380551">,</span>&nbsp;<span class="string" id="8380553">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8380581">,</span>&nbsp;<span class="ident" id="8380583">Int</span><span class="op" id="8380586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380589">testError</span><span class="op" id="8380598">(</span><span class="ident" id="8380599">t</span><span class="op" id="8380600">,</span>&nbsp;<span class="string" id="8380602">`0xg`</span><span class="op" id="8380607">,</span>&nbsp;<span class="string" id="8380609">&#34;1:3&#34;</span><span class="op" id="8380614">,</span>&nbsp;<span class="string" id="8380616">&#34;illegal&nbsp;hexadecimal&nbsp;number&#34;</span><span class="op" id="8380644">,</span>&nbsp;<span class="ident" id="8380646">Int</span><span class="op" id="8380649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380652">testError</span><span class="op" id="8380661">(</span><span class="ident" id="8380662">t</span><span class="op" id="8380663">,</span>&nbsp;<span class="string" id="8380665">`&#39;aa&#39;`</span><span class="op" id="8380671">,</span>&nbsp;<span class="string" id="8380673">&#34;1:4&#34;</span><span class="op" id="8380678">,</span>&nbsp;<span class="string" id="8380680">&#34;illegal&nbsp;char&nbsp;literal&#34;</span><span class="op" id="8380702">,</span>&nbsp;<span class="ident" id="8380704">Char</span><span class="op" id="8380708">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380712">testError</span><span class="op" id="8380721">(</span><span class="ident" id="8380722">t</span><span class="op" id="8380723">,</span>&nbsp;<span class="string" id="8380725">`&#39;`</span><span class="op" id="8380728">,</span>&nbsp;<span class="string" id="8380730">&#34;1:2&#34;</span><span class="op" id="8380735">,</span>&nbsp;<span class="string" id="8380737">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8380761">,</span>&nbsp;<span class="ident" id="8380763">Char</span><span class="op" id="8380767">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380770">testError</span><span class="op" id="8380779">(</span><span class="ident" id="8380780">t</span><span class="op" id="8380781">,</span>&nbsp;<span class="string" id="8380783">`&#39;`</span><span class="op" id="8380786">+</span><span class="string" id="8380787">&#34;\n&#34;</span><span class="op" id="8380791">,</span>&nbsp;<span class="string" id="8380793">&#34;1:2&#34;</span><span class="op" id="8380798">,</span>&nbsp;<span class="string" id="8380800">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8380824">,</span>&nbsp;<span class="ident" id="8380826">Char</span><span class="op" id="8380830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380833">testError</span><span class="op" id="8380842">(</span><span class="ident" id="8380843">t</span><span class="op" id="8380844">,</span>&nbsp;<span class="string" id="8380846">`&#34;abc`</span><span class="op" id="8380852">,</span>&nbsp;<span class="string" id="8380854">&#34;1:5&#34;</span><span class="op" id="8380859">,</span>&nbsp;<span class="string" id="8380861">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8380885">,</span>&nbsp;<span class="ident" id="8380887">String</span><span class="op" id="8380893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380896">testError</span><span class="op" id="8380905">(</span><span class="ident" id="8380906">t</span><span class="op" id="8380907">,</span>&nbsp;<span class="string" id="8380909">`&#34;abc`</span><span class="op" id="8380915">+</span><span class="string" id="8380916">&#34;\n&#34;</span><span class="op" id="8380920">,</span>&nbsp;<span class="string" id="8380922">&#34;1:5&#34;</span><span class="op" id="8380927">,</span>&nbsp;<span class="string" id="8380929">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8380953">,</span>&nbsp;<span class="ident" id="8380955">String</span><span class="op" id="8380961">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8380964">testError</span><span class="op" id="8380973">(</span><span class="ident" id="8380974">t</span><span class="op" id="8380975">,</span>&nbsp;<span class="string" id="8380977">&#34;`abc\n&#34;</span><span class="op" id="8380985">,</span>&nbsp;<span class="string" id="8380987">&#34;2:1&#34;</span><span class="op" id="8380992">,</span>&nbsp;<span class="string" id="8380994">&#34;literal&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8381018">,</span>&nbsp;<span class="ident" id="8381020">String</span><span class="op" id="8381026">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381029">testError</span><span class="op" id="8381038">(</span><span class="ident" id="8381039">t</span><span class="op" id="8381040">,</span>&nbsp;<span class="string" id="8381042">`/*/`</span><span class="op" id="8381047">,</span>&nbsp;<span class="string" id="8381049">&#34;1:4&#34;</span><span class="op" id="8381054">,</span>&nbsp;<span class="string" id="8381056">&#34;comment&nbsp;not&nbsp;terminated&#34;</span><span class="op" id="8381080">,</span>&nbsp;<span class="ident" id="8381082">EOF</span><span class="op" id="8381085">)</span><br>
<span class="lineno">485</span><span class="op" id="8381087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8381090">//&nbsp;An&nbsp;errReader&nbsp;returns&nbsp;(0,&nbsp;err)&nbsp;where&nbsp;err&nbsp;is&nbsp;not&nbsp;io.EOF.</span><br>
<span class="lineno"></span><span class="keyword" id="8381148">type</span>&nbsp;<span class="ident" id="8381153">errReader</span>&nbsp;<span class="keyword" id="8381163">struct</span><span class="op" id="8381169">{</span><span class="op" id="8381170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">490</span><span class="keyword" id="8381173">func</span>&nbsp;<span class="op" id="8381178">(</span><span class="ident" id="8381179">errReader</span><span class="op" id="8381188">)</span>&nbsp;<span class="ident" id="8381190">Read</span><span class="op" id="8381194">(</span><span class="ident" id="8381195">b</span>&nbsp;<span class="op" id="8381197">[</span><span class="op" id="8381198">]</span><span class="builtintype" id="8381199">byte</span><span class="op" id="8381203">)</span>&nbsp;<span class="op" id="8381205">(</span><span class="builtintype" id="8381206">int</span><span class="op" id="8381209">,</span>&nbsp;<span class="builtintype" id="8381211">error</span><span class="op" id="8381216">)</span>&nbsp;<span class="op" id="8381218">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381221">return</span>&nbsp;<span class="num" id="8381228">0</span><span class="op" id="8381229">,</span>&nbsp;<span class="ident" id="8381231">io</span><span class="op" id="8381233">.</span><span class="ident" id="8381234">ErrNoProgress</span>&nbsp;<span class="comment" id="8381248">//&nbsp;some&nbsp;error&nbsp;that&nbsp;is&nbsp;not&nbsp;io.EOF</span><br>
<span class="lineno"></span><span class="op" id="8381281">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381284">func</span>&nbsp;<span class="ident" id="8381289">TestIOError</span><span class="op" id="8381300">(</span><span class="ident" id="8381301">t</span>&nbsp;<span class="op" id="8381303">*</span><span class="ident" id="8381304">testing</span><span class="op" id="8381311">.</span><span class="ident" id="8381312">T</span><span class="op" id="8381313">)</span>&nbsp;<span class="op" id="8381315">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381318">s</span>&nbsp;<span class="op" id="8381320">:=</span>&nbsp;<span class="builtinfunc" id="8381323">new</span><span class="op" id="8381326">(</span><span class="ident" id="8381327">Scanner</span><span class="op" id="8381334">)</span><span class="op" id="8381335">.</span><span class="ident" id="8381336">Init</span><span class="op" id="8381340">(</span><span class="ident" id="8381341">errReader</span><span class="op" id="8381350">{</span><span class="op" id="8381351">}</span><span class="op" id="8381352">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381355">errorCalled</span>&nbsp;<span class="op" id="8381367">:=</span>&nbsp;<span class="builtintype" id="8381370">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381377">s</span><span class="op" id="8381378">.</span><span class="ident" id="8381379">Error</span>&nbsp;<span class="op" id="8381385">=</span>&nbsp;<span class="keyword" id="8381387">func</span><span class="op" id="8381391">(</span><span class="ident" id="8381392">s</span>&nbsp;<span class="op" id="8381394">*</span><span class="ident" id="8381395">Scanner</span><span class="op" id="8381402">,</span>&nbsp;<span class="ident" id="8381404">msg</span>&nbsp;<span class="builtintype" id="8381408">string</span><span class="op" id="8381414">)</span>&nbsp;<span class="op" id="8381416">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381420">if</span>&nbsp;<span class="op" id="8381423">!</span><span class="ident" id="8381424">errorCalled</span>&nbsp;<span class="op" id="8381436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381441">if</span>&nbsp;<span class="ident" id="8381444">want</span>&nbsp;<span class="op" id="8381449">:=</span>&nbsp;<span class="ident" id="8381452">io</span><span class="op" id="8381454">.</span><span class="ident" id="8381455">ErrNoProgress</span><span class="op" id="8381468">.</span><span class="ident" id="8381469">Error</span><span class="op" id="8381474">(</span><span class="op" id="8381475">)</span><span class="op" id="8381476">;</span>&nbsp;<span class="ident" id="8381478">msg</span>&nbsp;<span class="op" id="8381482">!=</span>&nbsp;<span class="ident" id="8381485">want</span>&nbsp;<span class="op" id="8381490">{</span><br>
<span class="lineno">500</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381496">t</span><span class="op" id="8381497">.</span><span class="ident" id="8381498">Errorf</span><span class="op" id="8381504">(</span><span class="string" id="8381505">&#34;msg&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8381524">,</span>&nbsp;<span class="ident" id="8381526">msg</span><span class="op" id="8381529">,</span>&nbsp;<span class="ident" id="8381531">want</span><span class="op" id="8381535">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381545">errorCalled</span>&nbsp;<span class="op" id="8381557">=</span>&nbsp;<span class="builtintype" id="8381559">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381569">}</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381572">tok</span>&nbsp;<span class="op" id="8381576">:=</span>&nbsp;<span class="ident" id="8381579">s</span><span class="op" id="8381580">.</span><span class="ident" id="8381581">Scan</span><span class="op" id="8381585">(</span><span class="op" id="8381586">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381589">if</span>&nbsp;<span class="ident" id="8381592">tok</span>&nbsp;<span class="op" id="8381596">!=</span>&nbsp;<span class="ident" id="8381599">EOF</span>&nbsp;<span class="op" id="8381603">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381607">t</span><span class="op" id="8381608">.</span><span class="ident" id="8381609">Errorf</span><span class="op" id="8381615">(</span><span class="string" id="8381616">&#34;tok&nbsp;=&nbsp;%s,&nbsp;want&nbsp;EOF&#34;</span><span class="op" id="8381636">,</span>&nbsp;<span class="ident" id="8381638">TokenString</span><span class="op" id="8381649">(</span><span class="ident" id="8381650">tok</span><span class="op" id="8381653">)</span><span class="op" id="8381654">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381660">if</span>&nbsp;<span class="op" id="8381663">!</span><span class="ident" id="8381664">errorCalled</span>&nbsp;<span class="op" id="8381676">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381680">t</span><span class="op" id="8381681">.</span><span class="ident" id="8381682">Errorf</span><span class="op" id="8381688">(</span><span class="string" id="8381689">&#34;error&nbsp;handler&nbsp;not&nbsp;called&#34;</span><span class="op" id="8381715">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8381718">}</span><br>
<span class="lineno"></span><span class="op" id="8381720">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381723">func</span>&nbsp;<span class="ident" id="8381728">checkPos</span><span class="op" id="8381736">(</span><span class="ident" id="8381737">t</span>&nbsp;<span class="op" id="8381739">*</span><span class="ident" id="8381740">testing</span><span class="op" id="8381747">.</span><span class="ident" id="8381748">T</span><span class="op" id="8381749">,</span>&nbsp;<span class="ident" id="8381751">got</span><span class="op" id="8381754">,</span>&nbsp;<span class="ident" id="8381756">want</span>&nbsp;<span class="ident" id="8381761">Position</span><span class="op" id="8381769">)</span>&nbsp;<span class="op" id="8381771">{</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8381774">if</span>&nbsp;<span class="ident" id="8381777">got</span><span class="op" id="8381780">.</span><span class="ident" id="8381781">Offset</span>&nbsp;<span class="op" id="8381788">!=</span>&nbsp;<span class="ident" id="8381791">want</span><span class="op" id="8381795">.</span><span class="ident" id="8381796">Offset</span>&nbsp;<span class="op" id="8381803">||</span>&nbsp;<span class="ident" id="8381806">got</span><span class="op" id="8381809">.</span><span class="ident" id="8381810">Line</span>&nbsp;<span class="op" id="8381815">!=</span>&nbsp;<span class="ident" id="8381818">want</span><span class="op" id="8381822">.</span><span class="ident" id="8381823">Line</span>&nbsp;<span class="op" id="8381828">||</span>&nbsp;<span class="ident" id="8381831">got</span><span class="op" id="8381834">.</span><span class="ident" id="8381835">Column</span>&nbsp;<span class="op" id="8381842">!=</span>&nbsp;<span class="ident" id="8381845">want</span><span class="op" id="8381849">.</span><span class="ident" id="8381850">Column</span>&nbsp;<span class="op" id="8381857">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381861">t</span><span class="op" id="8381862">.</span><span class="ident" id="8381863">Errorf</span><span class="op" id="8381869">(</span><span class="string" id="8381870">&#34;got&nbsp;offset,&nbsp;line,&nbsp;column&nbsp;=&nbsp;%d,&nbsp;%d,&nbsp;%d;&nbsp;want&nbsp;%d,&nbsp;%d,&nbsp;%d&#34;</span><span class="op" id="8381926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8381931">got</span><span class="op" id="8381934">.</span><span class="ident" id="8381935">Offset</span><span class="op" id="8381941">,</span>&nbsp;<span class="ident" id="8381943">got</span><span class="op" id="8381946">.</span><span class="ident" id="8381947">Line</span><span class="op" id="8381951">,</span>&nbsp;<span class="ident" id="8381953">got</span><span class="op" id="8381956">.</span><span class="ident" id="8381957">Column</span><span class="op" id="8381963">,</span>&nbsp;<span class="ident" id="8381965">want</span><span class="op" id="8381969">.</span><span class="ident" id="8381970">Offset</span><span class="op" id="8381976">,</span>&nbsp;<span class="ident" id="8381978">want</span><span class="op" id="8381982">.</span><span class="ident" id="8381983">Line</span><span class="op" id="8381987">,</span>&nbsp;<span class="ident" id="8381989">want</span><span class="op" id="8381993">.</span><span class="ident" id="8381994">Column</span><span class="op" id="8382000">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382003">}</span><br>
<span class="lineno"></span><span class="op" id="8382005">}</span><br>
<span class="lineno">520</span><br>
<span class="lineno"></span><span class="keyword" id="8382008">func</span>&nbsp;<span class="ident" id="8382013">checkNextPos</span><span class="op" id="8382025">(</span><span class="ident" id="8382026">t</span>&nbsp;<span class="op" id="8382028">*</span><span class="ident" id="8382029">testing</span><span class="op" id="8382036">.</span><span class="ident" id="8382037">T</span><span class="op" id="8382038">,</span>&nbsp;<span class="ident" id="8382040">s</span>&nbsp;<span class="op" id="8382042">*</span><span class="ident" id="8382043">Scanner</span><span class="op" id="8382050">,</span>&nbsp;<span class="ident" id="8382052">offset</span><span class="op" id="8382058">,</span>&nbsp;<span class="ident" id="8382060">line</span><span class="op" id="8382064">,</span>&nbsp;<span class="ident" id="8382066">column</span>&nbsp;<span class="builtintype" id="8382073">int</span><span class="op" id="8382076">,</span>&nbsp;<span class="ident" id="8382078">char</span>&nbsp;<span class="builtintype" id="8382083">rune</span><span class="op" id="8382087">)</span>&nbsp;<span class="op" id="8382089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382092">if</span>&nbsp;<span class="ident" id="8382095">ch</span>&nbsp;<span class="op" id="8382098">:=</span>&nbsp;<span class="ident" id="8382101">s</span><span class="op" id="8382102">.</span><span class="ident" id="8382103">Next</span><span class="op" id="8382107">(</span><span class="op" id="8382108">)</span><span class="op" id="8382109">;</span>&nbsp;<span class="ident" id="8382111">ch</span>&nbsp;<span class="op" id="8382114">!=</span>&nbsp;<span class="ident" id="8382117">char</span>&nbsp;<span class="op" id="8382122">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382126">t</span><span class="op" id="8382127">.</span><span class="ident" id="8382128">Errorf</span><span class="op" id="8382134">(</span><span class="string" id="8382135">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8382153">,</span>&nbsp;<span class="ident" id="8382155">TokenString</span><span class="op" id="8382166">(</span><span class="ident" id="8382167">ch</span><span class="op" id="8382169">)</span><span class="op" id="8382170">,</span>&nbsp;<span class="ident" id="8382172">TokenString</span><span class="op" id="8382183">(</span><span class="ident" id="8382184">char</span><span class="op" id="8382188">)</span><span class="op" id="8382189">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382192">}</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382195">want</span>&nbsp;<span class="op" id="8382200">:=</span>&nbsp;<span class="ident" id="8382203">Position</span><span class="op" id="8382211">{</span><span class="ident" id="8382212">Offset</span><span class="op" id="8382218">:</span>&nbsp;<span class="ident" id="8382220">offset</span><span class="op" id="8382226">,</span>&nbsp;<span class="ident" id="8382228">Line</span><span class="op" id="8382232">:</span>&nbsp;<span class="ident" id="8382234">line</span><span class="op" id="8382238">,</span>&nbsp;<span class="ident" id="8382240">Column</span><span class="op" id="8382246">:</span>&nbsp;<span class="ident" id="8382248">column</span><span class="op" id="8382254">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382257">checkPos</span><span class="op" id="8382265">(</span><span class="ident" id="8382266">t</span><span class="op" id="8382267">,</span>&nbsp;<span class="ident" id="8382269">s</span><span class="op" id="8382270">.</span><span class="ident" id="8382271">Pos</span><span class="op" id="8382274">(</span><span class="op" id="8382275">)</span><span class="op" id="8382276">,</span>&nbsp;<span class="ident" id="8382278">want</span><span class="op" id="8382282">)</span><br>
<span class="lineno"></span><span class="op" id="8382284">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8382287">func</span>&nbsp;<span class="ident" id="8382292">checkScanPos</span><span class="op" id="8382304">(</span><span class="ident" id="8382305">t</span>&nbsp;<span class="op" id="8382307">*</span><span class="ident" id="8382308">testing</span><span class="op" id="8382315">.</span><span class="ident" id="8382316">T</span><span class="op" id="8382317">,</span>&nbsp;<span class="ident" id="8382319">s</span>&nbsp;<span class="op" id="8382321">*</span><span class="ident" id="8382322">Scanner</span><span class="op" id="8382329">,</span>&nbsp;<span class="ident" id="8382331">offset</span><span class="op" id="8382337">,</span>&nbsp;<span class="ident" id="8382339">line</span><span class="op" id="8382343">,</span>&nbsp;<span class="ident" id="8382345">column</span>&nbsp;<span class="builtintype" id="8382352">int</span><span class="op" id="8382355">,</span>&nbsp;<span class="ident" id="8382357">char</span>&nbsp;<span class="builtintype" id="8382362">rune</span><span class="op" id="8382366">)</span>&nbsp;<span class="op" id="8382368">{</span><br>
<span class="lineno">530</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382371">want</span>&nbsp;<span class="op" id="8382376">:=</span>&nbsp;<span class="ident" id="8382379">Position</span><span class="op" id="8382387">{</span><span class="ident" id="8382388">Offset</span><span class="op" id="8382394">:</span>&nbsp;<span class="ident" id="8382396">offset</span><span class="op" id="8382402">,</span>&nbsp;<span class="ident" id="8382404">Line</span><span class="op" id="8382408">:</span>&nbsp;<span class="ident" id="8382410">line</span><span class="op" id="8382414">,</span>&nbsp;<span class="ident" id="8382416">Column</span><span class="op" id="8382422">:</span>&nbsp;<span class="ident" id="8382424">column</span><span class="op" id="8382430">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382433">checkPos</span><span class="op" id="8382441">(</span><span class="ident" id="8382442">t</span><span class="op" id="8382443">,</span>&nbsp;<span class="ident" id="8382445">s</span><span class="op" id="8382446">.</span><span class="ident" id="8382447">Pos</span><span class="op" id="8382450">(</span><span class="op" id="8382451">)</span><span class="op" id="8382452">,</span>&nbsp;<span class="ident" id="8382454">want</span><span class="op" id="8382458">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382461">if</span>&nbsp;<span class="ident" id="8382464">ch</span>&nbsp;<span class="op" id="8382467">:=</span>&nbsp;<span class="ident" id="8382470">s</span><span class="op" id="8382471">.</span><span class="ident" id="8382472">Scan</span><span class="op" id="8382476">(</span><span class="op" id="8382477">)</span><span class="op" id="8382478">;</span>&nbsp;<span class="ident" id="8382480">ch</span>&nbsp;<span class="op" id="8382483">!=</span>&nbsp;<span class="ident" id="8382486">char</span>&nbsp;<span class="op" id="8382491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382495">t</span><span class="op" id="8382496">.</span><span class="ident" id="8382497">Errorf</span><span class="op" id="8382503">(</span><span class="string" id="8382504">&#34;ch&nbsp;=&nbsp;%s,&nbsp;want&nbsp;%s&#34;</span><span class="op" id="8382522">,</span>&nbsp;<span class="ident" id="8382524">TokenString</span><span class="op" id="8382535">(</span><span class="ident" id="8382536">ch</span><span class="op" id="8382538">)</span><span class="op" id="8382539">,</span>&nbsp;<span class="ident" id="8382541">TokenString</span><span class="op" id="8382552">(</span><span class="ident" id="8382553">char</span><span class="op" id="8382557">)</span><span class="op" id="8382558">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8382562">if</span>&nbsp;<span class="builtintype" id="8382565">string</span><span class="op" id="8382571">(</span><span class="ident" id="8382572">ch</span><span class="op" id="8382574">)</span>&nbsp;<span class="op" id="8382576">!=</span>&nbsp;<span class="ident" id="8382579">s</span><span class="op" id="8382580">.</span><span class="ident" id="8382581">TokenText</span><span class="op" id="8382590">(</span><span class="op" id="8382591">)</span>&nbsp;<span class="op" id="8382593">{</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382598">t</span><span class="op" id="8382599">.</span><span class="ident" id="8382600">Errorf</span><span class="op" id="8382606">(</span><span class="string" id="8382607">&#34;tok&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8382626">,</span>&nbsp;<span class="ident" id="8382628">s</span><span class="op" id="8382629">.</span><span class="ident" id="8382630">TokenText</span><span class="op" id="8382639">(</span><span class="op" id="8382640">)</span><span class="op" id="8382641">,</span>&nbsp;<span class="builtintype" id="8382643">string</span><span class="op" id="8382649">(</span><span class="ident" id="8382650">ch</span><span class="op" id="8382652">)</span><span class="op" id="8382653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8382660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382663">checkPos</span><span class="op" id="8382671">(</span><span class="ident" id="8382672">t</span><span class="op" id="8382673">,</span>&nbsp;<span class="ident" id="8382675">s</span><span class="op" id="8382676">.</span><span class="ident" id="8382677">Position</span><span class="op" id="8382685">,</span>&nbsp;<span class="ident" id="8382687">want</span><span class="op" id="8382691">)</span><br>
<span class="lineno"></span><span class="op" id="8382693">}</span><br>
<span class="lineno">540</span><br>
<span class="lineno"></span><span class="keyword" id="8382696">func</span>&nbsp;<span class="ident" id="8382701">TestPos</span><span class="op" id="8382708">(</span><span class="ident" id="8382709">t</span>&nbsp;<span class="op" id="8382711">*</span><span class="ident" id="8382712">testing</span><span class="op" id="8382719">.</span><span class="ident" id="8382720">T</span><span class="op" id="8382721">)</span>&nbsp;<span class="op" id="8382723">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382726">//&nbsp;corner&nbsp;case:&nbsp;empty&nbsp;source</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382756">s</span>&nbsp;<span class="op" id="8382758">:=</span>&nbsp;<span class="builtinfunc" id="8382761">new</span><span class="op" id="8382764">(</span><span class="ident" id="8382765">Scanner</span><span class="op" id="8382772">)</span><span class="op" id="8382773">.</span><span class="ident" id="8382774">Init</span><span class="op" id="8382778">(</span><span class="ident" id="8382779">strings</span><span class="op" id="8382786">.</span><span class="ident" id="8382787">NewReader</span><span class="op" id="8382796">(</span><span class="string" id="8382797">&#34;&#34;</span><span class="op" id="8382799">)</span><span class="op" id="8382800">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382803">checkPos</span><span class="op" id="8382811">(</span><span class="ident" id="8382812">t</span><span class="op" id="8382813">,</span>&nbsp;<span class="ident" id="8382815">s</span><span class="op" id="8382816">.</span><span class="ident" id="8382817">Pos</span><span class="op" id="8382820">(</span><span class="op" id="8382821">)</span><span class="op" id="8382822">,</span>&nbsp;<span class="ident" id="8382824">Position</span><span class="op" id="8382832">{</span><span class="ident" id="8382833">Offset</span><span class="op" id="8382839">:</span>&nbsp;<span class="num" id="8382841">0</span><span class="op" id="8382842">,</span>&nbsp;<span class="ident" id="8382844">Line</span><span class="op" id="8382848">:</span>&nbsp;<span class="num" id="8382850">1</span><span class="op" id="8382851">,</span>&nbsp;<span class="ident" id="8382853">Column</span><span class="op" id="8382859">:</span>&nbsp;<span class="num" id="8382861">1</span><span class="op" id="8382862">}</span><span class="op" id="8382863">)</span><br>
<span class="lineno">545</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382866">s</span><span class="op" id="8382867">.</span><span class="ident" id="8382868">Peek</span><span class="op" id="8382872">(</span><span class="op" id="8382873">)</span>&nbsp;<span class="comment" id="8382875">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8382912">checkPos</span><span class="op" id="8382920">(</span><span class="ident" id="8382921">t</span><span class="op" id="8382922">,</span>&nbsp;<span class="ident" id="8382924">s</span><span class="op" id="8382925">.</span><span class="ident" id="8382926">Pos</span><span class="op" id="8382929">(</span><span class="op" id="8382930">)</span><span class="op" id="8382931">,</span>&nbsp;<span class="ident" id="8382933">Position</span><span class="op" id="8382941">{</span><span class="ident" id="8382942">Offset</span><span class="op" id="8382948">:</span>&nbsp;<span class="num" id="8382950">0</span><span class="op" id="8382951">,</span>&nbsp;<span class="ident" id="8382953">Line</span><span class="op" id="8382957">:</span>&nbsp;<span class="num" id="8382959">1</span><span class="op" id="8382960">,</span>&nbsp;<span class="ident" id="8382962">Column</span><span class="op" id="8382968">:</span>&nbsp;<span class="num" id="8382970">1</span><span class="op" id="8382971">}</span><span class="op" id="8382972">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8382976">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;newline</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383020">s</span>&nbsp;<span class="op" id="8383022">=</span>&nbsp;<span class="builtinfunc" id="8383024">new</span><span class="op" id="8383027">(</span><span class="ident" id="8383028">Scanner</span><span class="op" id="8383035">)</span><span class="op" id="8383036">.</span><span class="ident" id="8383037">Init</span><span class="op" id="8383041">(</span><span class="ident" id="8383042">strings</span><span class="op" id="8383049">.</span><span class="ident" id="8383050">NewReader</span><span class="op" id="8383059">(</span><span class="string" id="8383060">&#34;\n&#34;</span><span class="op" id="8383064">)</span><span class="op" id="8383065">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383068">checkPos</span><span class="op" id="8383076">(</span><span class="ident" id="8383077">t</span><span class="op" id="8383078">,</span>&nbsp;<span class="ident" id="8383080">s</span><span class="op" id="8383081">.</span><span class="ident" id="8383082">Pos</span><span class="op" id="8383085">(</span><span class="op" id="8383086">)</span><span class="op" id="8383087">,</span>&nbsp;<span class="ident" id="8383089">Position</span><span class="op" id="8383097">{</span><span class="ident" id="8383098">Offset</span><span class="op" id="8383104">:</span>&nbsp;<span class="num" id="8383106">0</span><span class="op" id="8383107">,</span>&nbsp;<span class="ident" id="8383109">Line</span><span class="op" id="8383113">:</span>&nbsp;<span class="num" id="8383115">1</span><span class="op" id="8383116">,</span>&nbsp;<span class="ident" id="8383118">Column</span><span class="op" id="8383124">:</span>&nbsp;<span class="num" id="8383126">1</span><span class="op" id="8383127">}</span><span class="op" id="8383128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383131">checkNextPos</span><span class="op" id="8383143">(</span><span class="ident" id="8383144">t</span><span class="op" id="8383145">,</span>&nbsp;<span class="ident" id="8383147">s</span><span class="op" id="8383148">,</span>&nbsp;<span class="num" id="8383150">1</span><span class="op" id="8383151">,</span>&nbsp;<span class="num" id="8383153">2</span><span class="op" id="8383154">,</span>&nbsp;<span class="num" id="8383156">1</span><span class="op" id="8383157">,</span>&nbsp;<span class="string" id="8383159">&#39;\n&#39;</span><span class="op" id="8383163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8383166">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383204">for</span>&nbsp;<span class="ident" id="8383208">i</span>&nbsp;<span class="op" id="8383210">:=</span>&nbsp;<span class="num" id="8383213">10</span><span class="op" id="8383215">;</span>&nbsp;<span class="ident" id="8383217">i</span>&nbsp;<span class="op" id="8383219">&gt;</span>&nbsp;<span class="num" id="8383221">0</span><span class="op" id="8383222">;</span>&nbsp;<span class="ident" id="8383224">i</span><span class="op" id="8383225">--</span>&nbsp;<span class="op" id="8383228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383232">checkScanPos</span><span class="op" id="8383244">(</span><span class="ident" id="8383245">t</span><span class="op" id="8383246">,</span>&nbsp;<span class="ident" id="8383248">s</span><span class="op" id="8383249">,</span>&nbsp;<span class="num" id="8383251">1</span><span class="op" id="8383252">,</span>&nbsp;<span class="num" id="8383254">2</span><span class="op" id="8383255">,</span>&nbsp;<span class="num" id="8383257">1</span><span class="op" id="8383258">,</span>&nbsp;<span class="ident" id="8383260">EOF</span><span class="op" id="8383263">)</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383269">if</span>&nbsp;<span class="ident" id="8383272">s</span><span class="op" id="8383273">.</span><span class="ident" id="8383274">ErrorCount</span>&nbsp;<span class="op" id="8383285">!=</span>&nbsp;<span class="num" id="8383288">0</span>&nbsp;<span class="op" id="8383290">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383294">t</span><span class="op" id="8383295">.</span><span class="ident" id="8383296">Errorf</span><span class="op" id="8383302">(</span><span class="string" id="8383303">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8383314">,</span>&nbsp;<span class="ident" id="8383316">s</span><span class="op" id="8383317">.</span><span class="ident" id="8383318">ErrorCount</span><span class="op" id="8383328">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383331">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8383335">//&nbsp;corner&nbsp;case:&nbsp;source&nbsp;with&nbsp;only&nbsp;a&nbsp;single&nbsp;character</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383388">s</span>&nbsp;<span class="op" id="8383390">=</span>&nbsp;<span class="builtinfunc" id="8383392">new</span><span class="op" id="8383395">(</span><span class="ident" id="8383396">Scanner</span><span class="op" id="8383403">)</span><span class="op" id="8383404">.</span><span class="ident" id="8383405">Init</span><span class="op" id="8383409">(</span><span class="ident" id="8383410">strings</span><span class="op" id="8383417">.</span><span class="ident" id="8383418">NewReader</span><span class="op" id="8383427">(</span><span class="string" id="8383428">&#34;本&#34;</span><span class="op" id="8383433">)</span><span class="op" id="8383434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383437">checkPos</span><span class="op" id="8383445">(</span><span class="ident" id="8383446">t</span><span class="op" id="8383447">,</span>&nbsp;<span class="ident" id="8383449">s</span><span class="op" id="8383450">.</span><span class="ident" id="8383451">Pos</span><span class="op" id="8383454">(</span><span class="op" id="8383455">)</span><span class="op" id="8383456">,</span>&nbsp;<span class="ident" id="8383458">Position</span><span class="op" id="8383466">{</span><span class="ident" id="8383467">Offset</span><span class="op" id="8383473">:</span>&nbsp;<span class="num" id="8383475">0</span><span class="op" id="8383476">,</span>&nbsp;<span class="ident" id="8383478">Line</span><span class="op" id="8383482">:</span>&nbsp;<span class="num" id="8383484">1</span><span class="op" id="8383485">,</span>&nbsp;<span class="ident" id="8383487">Column</span><span class="op" id="8383493">:</span>&nbsp;<span class="num" id="8383495">1</span><span class="op" id="8383496">}</span><span class="op" id="8383497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383500">checkNextPos</span><span class="op" id="8383512">(</span><span class="ident" id="8383513">t</span><span class="op" id="8383514">,</span>&nbsp;<span class="ident" id="8383516">s</span><span class="op" id="8383517">,</span>&nbsp;<span class="num" id="8383519">3</span><span class="op" id="8383520">,</span>&nbsp;<span class="num" id="8383522">1</span><span class="op" id="8383523">,</span>&nbsp;<span class="num" id="8383525">2</span><span class="op" id="8383526">,</span>&nbsp;<span class="string" id="8383528">&#39;本&#39;</span><span class="op" id="8383533">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8383536">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383574">for</span>&nbsp;<span class="ident" id="8383578">i</span>&nbsp;<span class="op" id="8383580">:=</span>&nbsp;<span class="num" id="8383583">10</span><span class="op" id="8383585">;</span>&nbsp;<span class="ident" id="8383587">i</span>&nbsp;<span class="op" id="8383589">&gt;</span>&nbsp;<span class="num" id="8383591">0</span><span class="op" id="8383592">;</span>&nbsp;<span class="ident" id="8383594">i</span><span class="op" id="8383595">--</span>&nbsp;<span class="op" id="8383598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383602">checkScanPos</span><span class="op" id="8383614">(</span><span class="ident" id="8383615">t</span><span class="op" id="8383616">,</span>&nbsp;<span class="ident" id="8383618">s</span><span class="op" id="8383619">,</span>&nbsp;<span class="num" id="8383621">3</span><span class="op" id="8383622">,</span>&nbsp;<span class="num" id="8383624">1</span><span class="op" id="8383625">,</span>&nbsp;<span class="num" id="8383627">2</span><span class="op" id="8383628">,</span>&nbsp;<span class="ident" id="8383630">EOF</span><span class="op" id="8383633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383636">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8383639">if</span>&nbsp;<span class="ident" id="8383642">s</span><span class="op" id="8383643">.</span><span class="ident" id="8383644">ErrorCount</span>&nbsp;<span class="op" id="8383655">!=</span>&nbsp;<span class="num" id="8383658">0</span>&nbsp;<span class="op" id="8383660">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383664">t</span><span class="op" id="8383665">.</span><span class="ident" id="8383666">Errorf</span><span class="op" id="8383672">(</span><span class="string" id="8383673">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8383684">,</span>&nbsp;<span class="ident" id="8383686">s</span><span class="op" id="8383687">.</span><span class="ident" id="8383688">ErrorCount</span><span class="op" id="8383698">)</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8383701">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8383705">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383738">s</span>&nbsp;<span class="op" id="8383740">=</span>&nbsp;<span class="builtinfunc" id="8383742">new</span><span class="op" id="8383745">(</span><span class="ident" id="8383746">Scanner</span><span class="op" id="8383753">)</span><span class="op" id="8383754">.</span><span class="ident" id="8383755">Init</span><span class="op" id="8383759">(</span><span class="ident" id="8383760">strings</span><span class="op" id="8383767">.</span><span class="ident" id="8383768">NewReader</span><span class="op" id="8383777">(</span><span class="string" id="8383778">&#34;&nbsp;&nbsp;foo६४&nbsp;&nbsp;\n\n本語\n&#34;</span><span class="op" id="8383805">)</span><span class="op" id="8383806">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383809">checkNextPos</span><span class="op" id="8383821">(</span><span class="ident" id="8383822">t</span><span class="op" id="8383823">,</span>&nbsp;<span class="ident" id="8383825">s</span><span class="op" id="8383826">,</span>&nbsp;<span class="num" id="8383828">1</span><span class="op" id="8383829">,</span>&nbsp;<span class="num" id="8383831">1</span><span class="op" id="8383832">,</span>&nbsp;<span class="num" id="8383834">2</span><span class="op" id="8383835">,</span>&nbsp;<span class="string" id="8383837">&#39;&nbsp;&#39;</span><span class="op" id="8383840">)</span><br>
<span class="lineno">575</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383843">s</span><span class="op" id="8383844">.</span><span class="ident" id="8383845">Peek</span><span class="op" id="8383849">(</span><span class="op" id="8383850">)</span>&nbsp;<span class="comment" id="8383852">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383889">checkNextPos</span><span class="op" id="8383901">(</span><span class="ident" id="8383902">t</span><span class="op" id="8383903">,</span>&nbsp;<span class="ident" id="8383905">s</span><span class="op" id="8383906">,</span>&nbsp;<span class="num" id="8383908">2</span><span class="op" id="8383909">,</span>&nbsp;<span class="num" id="8383911">1</span><span class="op" id="8383912">,</span>&nbsp;<span class="num" id="8383914">3</span><span class="op" id="8383915">,</span>&nbsp;<span class="string" id="8383917">&#39;&nbsp;&#39;</span><span class="op" id="8383920">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383923">checkNextPos</span><span class="op" id="8383935">(</span><span class="ident" id="8383936">t</span><span class="op" id="8383937">,</span>&nbsp;<span class="ident" id="8383939">s</span><span class="op" id="8383940">,</span>&nbsp;<span class="num" id="8383942">3</span><span class="op" id="8383943">,</span>&nbsp;<span class="num" id="8383945">1</span><span class="op" id="8383946">,</span>&nbsp;<span class="num" id="8383948">4</span><span class="op" id="8383949">,</span>&nbsp;<span class="string" id="8383951">&#39;f&#39;</span><span class="op" id="8383954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383957">checkNextPos</span><span class="op" id="8383969">(</span><span class="ident" id="8383970">t</span><span class="op" id="8383971">,</span>&nbsp;<span class="ident" id="8383973">s</span><span class="op" id="8383974">,</span>&nbsp;<span class="num" id="8383976">4</span><span class="op" id="8383977">,</span>&nbsp;<span class="num" id="8383979">1</span><span class="op" id="8383980">,</span>&nbsp;<span class="num" id="8383982">5</span><span class="op" id="8383983">,</span>&nbsp;<span class="string" id="8383985">&#39;o&#39;</span><span class="op" id="8383988">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8383991">checkNextPos</span><span class="op" id="8384003">(</span><span class="ident" id="8384004">t</span><span class="op" id="8384005">,</span>&nbsp;<span class="ident" id="8384007">s</span><span class="op" id="8384008">,</span>&nbsp;<span class="num" id="8384010">5</span><span class="op" id="8384011">,</span>&nbsp;<span class="num" id="8384013">1</span><span class="op" id="8384014">,</span>&nbsp;<span class="num" id="8384016">6</span><span class="op" id="8384017">,</span>&nbsp;<span class="string" id="8384019">&#39;o&#39;</span><span class="op" id="8384022">)</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384025">checkNextPos</span><span class="op" id="8384037">(</span><span class="ident" id="8384038">t</span><span class="op" id="8384039">,</span>&nbsp;<span class="ident" id="8384041">s</span><span class="op" id="8384042">,</span>&nbsp;<span class="num" id="8384044">8</span><span class="op" id="8384045">,</span>&nbsp;<span class="num" id="8384047">1</span><span class="op" id="8384048">,</span>&nbsp;<span class="num" id="8384050">7</span><span class="op" id="8384051">,</span>&nbsp;<span class="string" id="8384053">&#39;६&#39;</span><span class="op" id="8384058">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384061">checkNextPos</span><span class="op" id="8384073">(</span><span class="ident" id="8384074">t</span><span class="op" id="8384075">,</span>&nbsp;<span class="ident" id="8384077">s</span><span class="op" id="8384078">,</span>&nbsp;<span class="num" id="8384080">11</span><span class="op" id="8384082">,</span>&nbsp;<span class="num" id="8384084">1</span><span class="op" id="8384085">,</span>&nbsp;<span class="num" id="8384087">8</span><span class="op" id="8384088">,</span>&nbsp;<span class="string" id="8384090">&#39;४&#39;</span><span class="op" id="8384095">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384098">checkNextPos</span><span class="op" id="8384110">(</span><span class="ident" id="8384111">t</span><span class="op" id="8384112">,</span>&nbsp;<span class="ident" id="8384114">s</span><span class="op" id="8384115">,</span>&nbsp;<span class="num" id="8384117">12</span><span class="op" id="8384119">,</span>&nbsp;<span class="num" id="8384121">1</span><span class="op" id="8384122">,</span>&nbsp;<span class="num" id="8384124">9</span><span class="op" id="8384125">,</span>&nbsp;<span class="string" id="8384127">&#39;&nbsp;&#39;</span><span class="op" id="8384130">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384133">checkNextPos</span><span class="op" id="8384145">(</span><span class="ident" id="8384146">t</span><span class="op" id="8384147">,</span>&nbsp;<span class="ident" id="8384149">s</span><span class="op" id="8384150">,</span>&nbsp;<span class="num" id="8384152">13</span><span class="op" id="8384154">,</span>&nbsp;<span class="num" id="8384156">1</span><span class="op" id="8384157">,</span>&nbsp;<span class="num" id="8384159">10</span><span class="op" id="8384161">,</span>&nbsp;<span class="string" id="8384163">&#39;&nbsp;&#39;</span><span class="op" id="8384166">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384169">checkNextPos</span><span class="op" id="8384181">(</span><span class="ident" id="8384182">t</span><span class="op" id="8384183">,</span>&nbsp;<span class="ident" id="8384185">s</span><span class="op" id="8384186">,</span>&nbsp;<span class="num" id="8384188">14</span><span class="op" id="8384190">,</span>&nbsp;<span class="num" id="8384192">2</span><span class="op" id="8384193">,</span>&nbsp;<span class="num" id="8384195">1</span><span class="op" id="8384196">,</span>&nbsp;<span class="string" id="8384198">&#39;\n&#39;</span><span class="op" id="8384202">)</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384205">checkNextPos</span><span class="op" id="8384217">(</span><span class="ident" id="8384218">t</span><span class="op" id="8384219">,</span>&nbsp;<span class="ident" id="8384221">s</span><span class="op" id="8384222">,</span>&nbsp;<span class="num" id="8384224">15</span><span class="op" id="8384226">,</span>&nbsp;<span class="num" id="8384228">3</span><span class="op" id="8384229">,</span>&nbsp;<span class="num" id="8384231">1</span><span class="op" id="8384232">,</span>&nbsp;<span class="string" id="8384234">&#39;\n&#39;</span><span class="op" id="8384238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384241">checkNextPos</span><span class="op" id="8384253">(</span><span class="ident" id="8384254">t</span><span class="op" id="8384255">,</span>&nbsp;<span class="ident" id="8384257">s</span><span class="op" id="8384258">,</span>&nbsp;<span class="num" id="8384260">18</span><span class="op" id="8384262">,</span>&nbsp;<span class="num" id="8384264">3</span><span class="op" id="8384265">,</span>&nbsp;<span class="num" id="8384267">2</span><span class="op" id="8384268">,</span>&nbsp;<span class="string" id="8384270">&#39;本&#39;</span><span class="op" id="8384275">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384278">checkNextPos</span><span class="op" id="8384290">(</span><span class="ident" id="8384291">t</span><span class="op" id="8384292">,</span>&nbsp;<span class="ident" id="8384294">s</span><span class="op" id="8384295">,</span>&nbsp;<span class="num" id="8384297">21</span><span class="op" id="8384299">,</span>&nbsp;<span class="num" id="8384301">3</span><span class="op" id="8384302">,</span>&nbsp;<span class="num" id="8384304">3</span><span class="op" id="8384305">,</span>&nbsp;<span class="string" id="8384307">&#39;語&#39;</span><span class="op" id="8384312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384315">checkNextPos</span><span class="op" id="8384327">(</span><span class="ident" id="8384328">t</span><span class="op" id="8384329">,</span>&nbsp;<span class="ident" id="8384331">s</span><span class="op" id="8384332">,</span>&nbsp;<span class="num" id="8384334">22</span><span class="op" id="8384336">,</span>&nbsp;<span class="num" id="8384338">4</span><span class="op" id="8384339">,</span>&nbsp;<span class="num" id="8384341">1</span><span class="op" id="8384342">,</span>&nbsp;<span class="string" id="8384344">&#39;\n&#39;</span><span class="op" id="8384348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8384351">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno">590</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384389">for</span>&nbsp;<span class="ident" id="8384393">i</span>&nbsp;<span class="op" id="8384395">:=</span>&nbsp;<span class="num" id="8384398">10</span><span class="op" id="8384400">;</span>&nbsp;<span class="ident" id="8384402">i</span>&nbsp;<span class="op" id="8384404">&gt;</span>&nbsp;<span class="num" id="8384406">0</span><span class="op" id="8384407">;</span>&nbsp;<span class="ident" id="8384409">i</span><span class="op" id="8384410">--</span>&nbsp;<span class="op" id="8384413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384417">checkScanPos</span><span class="op" id="8384429">(</span><span class="ident" id="8384430">t</span><span class="op" id="8384431">,</span>&nbsp;<span class="ident" id="8384433">s</span><span class="op" id="8384434">,</span>&nbsp;<span class="num" id="8384436">22</span><span class="op" id="8384438">,</span>&nbsp;<span class="num" id="8384440">4</span><span class="op" id="8384441">,</span>&nbsp;<span class="num" id="8384443">1</span><span class="op" id="8384444">,</span>&nbsp;<span class="ident" id="8384446">EOF</span><span class="op" id="8384449">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384452">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8384455">if</span>&nbsp;<span class="ident" id="8384458">s</span><span class="op" id="8384459">.</span><span class="ident" id="8384460">ErrorCount</span>&nbsp;<span class="op" id="8384471">!=</span>&nbsp;<span class="num" id="8384474">0</span>&nbsp;<span class="op" id="8384476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384480">t</span><span class="op" id="8384481">.</span><span class="ident" id="8384482">Errorf</span><span class="op" id="8384488">(</span><span class="string" id="8384489">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8384500">,</span>&nbsp;<span class="ident" id="8384502">s</span><span class="op" id="8384503">.</span><span class="ident" id="8384504">ErrorCount</span><span class="op" id="8384514">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8384517">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8384521">//&nbsp;positions&nbsp;after&nbsp;calling&nbsp;Scan</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384554">s</span>&nbsp;<span class="op" id="8384556">=</span>&nbsp;<span class="builtinfunc" id="8384558">new</span><span class="op" id="8384561">(</span><span class="ident" id="8384562">Scanner</span><span class="op" id="8384569">)</span><span class="op" id="8384570">.</span><span class="ident" id="8384571">Init</span><span class="op" id="8384575">(</span><span class="ident" id="8384576">strings</span><span class="op" id="8384583">.</span><span class="ident" id="8384584">NewReader</span><span class="op" id="8384593">(</span><span class="string" id="8384594">&#34;abc\n本語\n\nx&#34;</span><span class="op" id="8384612">)</span><span class="op" id="8384613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384616">s</span><span class="op" id="8384617">.</span><span class="ident" id="8384618">Mode</span>&nbsp;<span class="op" id="8384623">=</span>&nbsp;<span class="num" id="8384625">0</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384628">s</span><span class="op" id="8384629">.</span><span class="ident" id="8384630">Whitespace</span>&nbsp;<span class="op" id="8384641">=</span>&nbsp;<span class="num" id="8384643">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384646">checkScanPos</span><span class="op" id="8384658">(</span><span class="ident" id="8384659">t</span><span class="op" id="8384660">,</span>&nbsp;<span class="ident" id="8384662">s</span><span class="op" id="8384663">,</span>&nbsp;<span class="num" id="8384665">0</span><span class="op" id="8384666">,</span>&nbsp;<span class="num" id="8384668">1</span><span class="op" id="8384669">,</span>&nbsp;<span class="num" id="8384671">1</span><span class="op" id="8384672">,</span>&nbsp;<span class="string" id="8384674">&#39;a&#39;</span><span class="op" id="8384677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384680">s</span><span class="op" id="8384681">.</span><span class="ident" id="8384682">Peek</span><span class="op" id="8384686">(</span><span class="op" id="8384687">)</span>&nbsp;<span class="comment" id="8384689">//&nbsp;peek&nbsp;doesn&#39;t&nbsp;affect&nbsp;the&nbsp;position</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384726">checkScanPos</span><span class="op" id="8384738">(</span><span class="ident" id="8384739">t</span><span class="op" id="8384740">,</span>&nbsp;<span class="ident" id="8384742">s</span><span class="op" id="8384743">,</span>&nbsp;<span class="num" id="8384745">1</span><span class="op" id="8384746">,</span>&nbsp;<span class="num" id="8384748">1</span><span class="op" id="8384749">,</span>&nbsp;<span class="num" id="8384751">2</span><span class="op" id="8384752">,</span>&nbsp;<span class="string" id="8384754">&#39;b&#39;</span><span class="op" id="8384757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384760">checkScanPos</span><span class="op" id="8384772">(</span><span class="ident" id="8384773">t</span><span class="op" id="8384774">,</span>&nbsp;<span class="ident" id="8384776">s</span><span class="op" id="8384777">,</span>&nbsp;<span class="num" id="8384779">2</span><span class="op" id="8384780">,</span>&nbsp;<span class="num" id="8384782">1</span><span class="op" id="8384783">,</span>&nbsp;<span class="num" id="8384785">3</span><span class="op" id="8384786">,</span>&nbsp;<span class="string" id="8384788">&#39;c&#39;</span><span class="op" id="8384791">)</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384794">checkScanPos</span><span class="op" id="8384806">(</span><span class="ident" id="8384807">t</span><span class="op" id="8384808">,</span>&nbsp;<span class="ident" id="8384810">s</span><span class="op" id="8384811">,</span>&nbsp;<span class="num" id="8384813">3</span><span class="op" id="8384814">,</span>&nbsp;<span class="num" id="8384816">1</span><span class="op" id="8384817">,</span>&nbsp;<span class="num" id="8384819">4</span><span class="op" id="8384820">,</span>&nbsp;<span class="string" id="8384822">&#39;\n&#39;</span><span class="op" id="8384826">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384829">checkScanPos</span><span class="op" id="8384841">(</span><span class="ident" id="8384842">t</span><span class="op" id="8384843">,</span>&nbsp;<span class="ident" id="8384845">s</span><span class="op" id="8384846">,</span>&nbsp;<span class="num" id="8384848">4</span><span class="op" id="8384849">,</span>&nbsp;<span class="num" id="8384851">2</span><span class="op" id="8384852">,</span>&nbsp;<span class="num" id="8384854">1</span><span class="op" id="8384855">,</span>&nbsp;<span class="string" id="8384857">&#39;本&#39;</span><span class="op" id="8384862">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384865">checkScanPos</span><span class="op" id="8384877">(</span><span class="ident" id="8384878">t</span><span class="op" id="8384879">,</span>&nbsp;<span class="ident" id="8384881">s</span><span class="op" id="8384882">,</span>&nbsp;<span class="num" id="8384884">7</span><span class="op" id="8384885">,</span>&nbsp;<span class="num" id="8384887">2</span><span class="op" id="8384888">,</span>&nbsp;<span class="num" id="8384890">2</span><span class="op" id="8384891">,</span>&nbsp;<span class="string" id="8384893">&#39;語&#39;</span><span class="op" id="8384898">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384901">checkScanPos</span><span class="op" id="8384913">(</span><span class="ident" id="8384914">t</span><span class="op" id="8384915">,</span>&nbsp;<span class="ident" id="8384917">s</span><span class="op" id="8384918">,</span>&nbsp;<span class="num" id="8384920">10</span><span class="op" id="8384922">,</span>&nbsp;<span class="num" id="8384924">2</span><span class="op" id="8384925">,</span>&nbsp;<span class="num" id="8384927">3</span><span class="op" id="8384928">,</span>&nbsp;<span class="string" id="8384930">&#39;\n&#39;</span><span class="op" id="8384934">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384937">checkScanPos</span><span class="op" id="8384949">(</span><span class="ident" id="8384950">t</span><span class="op" id="8384951">,</span>&nbsp;<span class="ident" id="8384953">s</span><span class="op" id="8384954">,</span>&nbsp;<span class="num" id="8384956">11</span><span class="op" id="8384958">,</span>&nbsp;<span class="num" id="8384960">3</span><span class="op" id="8384961">,</span>&nbsp;<span class="num" id="8384963">1</span><span class="op" id="8384964">,</span>&nbsp;<span class="string" id="8384966">&#39;\n&#39;</span><span class="op" id="8384970">)</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8384973">checkScanPos</span><span class="op" id="8384985">(</span><span class="ident" id="8384986">t</span><span class="op" id="8384987">,</span>&nbsp;<span class="ident" id="8384989">s</span><span class="op" id="8384990">,</span>&nbsp;<span class="num" id="8384992">12</span><span class="op" id="8384994">,</span>&nbsp;<span class="num" id="8384996">4</span><span class="op" id="8384997">,</span>&nbsp;<span class="num" id="8384999">1</span><span class="op" id="8385000">,</span>&nbsp;<span class="string" id="8385002">&#39;x&#39;</span><span class="op" id="8385005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8385008">//&nbsp;after&nbsp;EOF&nbsp;position&nbsp;doesn&#39;t&nbsp;change</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385046">for</span>&nbsp;<span class="ident" id="8385050">i</span>&nbsp;<span class="op" id="8385052">:=</span>&nbsp;<span class="num" id="8385055">10</span><span class="op" id="8385057">;</span>&nbsp;<span class="ident" id="8385059">i</span>&nbsp;<span class="op" id="8385061">&gt;</span>&nbsp;<span class="num" id="8385063">0</span><span class="op" id="8385064">;</span>&nbsp;<span class="ident" id="8385066">i</span><span class="op" id="8385067">--</span>&nbsp;<span class="op" id="8385070">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385074">checkScanPos</span><span class="op" id="8385086">(</span><span class="ident" id="8385087">t</span><span class="op" id="8385088">,</span>&nbsp;<span class="ident" id="8385090">s</span><span class="op" id="8385091">,</span>&nbsp;<span class="num" id="8385093">13</span><span class="op" id="8385095">,</span>&nbsp;<span class="num" id="8385097">4</span><span class="op" id="8385098">,</span>&nbsp;<span class="num" id="8385100">2</span><span class="op" id="8385101">,</span>&nbsp;<span class="ident" id="8385103">EOF</span><span class="op" id="8385106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385109">}</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8385112">if</span>&nbsp;<span class="ident" id="8385115">s</span><span class="op" id="8385116">.</span><span class="ident" id="8385117">ErrorCount</span>&nbsp;<span class="op" id="8385128">!=</span>&nbsp;<span class="num" id="8385131">0</span>&nbsp;<span class="op" id="8385133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8385137">t</span><span class="op" id="8385138">.</span><span class="ident" id="8385139">Errorf</span><span class="op" id="8385145">(</span><span class="string" id="8385146">&#34;%d&nbsp;errors&#34;</span><span class="op" id="8385157">,</span>&nbsp;<span class="ident" id="8385159">s</span><span class="op" id="8385160">.</span><span class="ident" id="8385161">ErrorCount</span><span class="op" id="8385171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8385174">}</span><br>
<span class="lineno"></span><span class="op" id="8385176">}</span>
</div>
</body>
</html>
