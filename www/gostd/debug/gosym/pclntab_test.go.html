<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/gosym</h2>
<ul>
<li><a href="/gostd/debug/gosym/pclntab.go.html">pclntab.go</a></li>
<li><a href="/gostd/debug/gosym/pclntab_test.go.html">pclntab_test.go</a></li>
<li><a href="/gostd/debug/gosym/symtab.go.html">symtab.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7784806">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7784862">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7784916">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7784967">package</span>&nbsp;<span class="ident" id="7784975">gosym</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7784982">import</span>&nbsp;<span class="op" id="7784989">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7784992">&#34;debug/elf&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785005">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785012">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785025">&#34;os&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785031">&#34;os/exec&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785042">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785059">&#34;runtime&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785070">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="7785081">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7785091">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7785094">var</span>&nbsp;<span class="op" id="7785098">(</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785101">pclineTempDir</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="7785118">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785126">pclinetestBinary</span>&nbsp;<span class="builtintype" id="7785143">string</span><br>
<span class="lineno"></span><span class="op" id="7785150">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7785153">func</span>&nbsp;<span class="ident" id="7785158">dotest</span><span class="op" id="7785164">(</span><span class="ident" id="7785165">self</span>&nbsp;<span class="builtintype" id="7785170">bool</span><span class="op" id="7785174">)</span>&nbsp;<span class="builtintype" id="7785176">bool</span>&nbsp;<span class="op" id="7785181">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785184">//&nbsp;For&nbsp;now,&nbsp;only&nbsp;works&nbsp;on&nbsp;amd64&nbsp;platforms.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785228">if</span>&nbsp;<span class="ident" id="7785231">runtime</span><span class="op" id="7785238">.</span><span class="ident" id="7785239">GOARCH</span>&nbsp;<span class="op" id="7785246">!=</span>&nbsp;<span class="string" id="7785249">&#34;amd64&#34;</span>&nbsp;<span class="op" id="7785257">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785261">return</span>&nbsp;<span class="builtintype" id="7785268">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785275">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785278">//&nbsp;Self&nbsp;test&nbsp;reads&nbsp;test&nbsp;binary;&nbsp;only&nbsp;works&nbsp;on&nbsp;Linux.</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785332">if</span>&nbsp;<span class="ident" id="7785335">self</span>&nbsp;<span class="op" id="7785340">&amp;&amp;</span>&nbsp;<span class="ident" id="7785343">runtime</span><span class="op" id="7785350">.</span><span class="ident" id="7785351">GOOS</span>&nbsp;<span class="op" id="7785356">!=</span>&nbsp;<span class="string" id="7785359">&#34;linux&#34;</span>&nbsp;<span class="op" id="7785367">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785371">return</span>&nbsp;<span class="builtintype" id="7785378">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785385">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785388">//&nbsp;Command&nbsp;below&nbsp;expects&nbsp;&#34;sh&#34;,&nbsp;so&nbsp;Unix.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785429">if</span>&nbsp;<span class="ident" id="7785432">runtime</span><span class="op" id="7785439">.</span><span class="ident" id="7785440">GOOS</span>&nbsp;<span class="op" id="7785445">==</span>&nbsp;<span class="string" id="7785448">&#34;windows&#34;</span>&nbsp;<span class="op" id="7785458">||</span>&nbsp;<span class="ident" id="7785461">runtime</span><span class="op" id="7785468">.</span><span class="ident" id="7785469">GOOS</span>&nbsp;<span class="op" id="7785474">==</span>&nbsp;<span class="string" id="7785477">&#34;plan9&#34;</span>&nbsp;<span class="op" id="7785485">{</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785489">return</span>&nbsp;<span class="builtintype" id="7785496">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785503">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785506">if</span>&nbsp;<span class="ident" id="7785509">pclinetestBinary</span>&nbsp;<span class="op" id="7785526">!=</span>&nbsp;<span class="string" id="7785529">&#34;&#34;</span>&nbsp;<span class="op" id="7785532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785536">return</span>&nbsp;<span class="builtintype" id="7785543">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785549">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785552">var</span>&nbsp;<span class="ident" id="7785556">err</span>&nbsp;<span class="builtintype" id="7785560">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785567">pclineTempDir</span><span class="op" id="7785580">,</span>&nbsp;<span class="ident" id="7785582">err</span>&nbsp;<span class="op" id="7785586">=</span>&nbsp;<span class="ident" id="7785588">ioutil</span><span class="op" id="7785594">.</span><span class="ident" id="7785595">TempDir</span><span class="op" id="7785602">(</span><span class="string" id="7785603">&#34;&#34;</span><span class="op" id="7785605">,</span>&nbsp;<span class="string" id="7785607">&#34;pclinetest&#34;</span><span class="op" id="7785619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785622">if</span>&nbsp;<span class="ident" id="7785625">err</span>&nbsp;<span class="op" id="7785629">!=</span>&nbsp;<span class="ident" id="7785632">nil</span>&nbsp;<span class="op" id="7785636">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7785640">panic</span><span class="op" id="7785645">(</span><span class="ident" id="7785646">err</span><span class="op" id="7785649">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785652">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7785655">if</span>&nbsp;<span class="ident" id="7785658">strings</span><span class="op" id="7785665">.</span><span class="ident" id="7785666">Contains</span><span class="op" id="7785674">(</span><span class="ident" id="7785675">pclineTempDir</span><span class="op" id="7785688">,</span>&nbsp;<span class="string" id="7785690">&#34;&nbsp;&#34;</span><span class="op" id="7785693">)</span>&nbsp;<span class="op" id="7785695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7785699">panic</span><span class="op" id="7785704">(</span><span class="string" id="7785705">&#34;unexpected&nbsp;space&nbsp;in&nbsp;tempdir&#34;</span><span class="op" id="7785734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7785737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785740">//&nbsp;This&nbsp;command&nbsp;builds&nbsp;pclinetest&nbsp;from&nbsp;pclinetest.asm;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785796">//&nbsp;the&nbsp;resulting&nbsp;binary&nbsp;looks&nbsp;like&nbsp;it&nbsp;was&nbsp;built&nbsp;from&nbsp;pclinetest.s,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7785864">//&nbsp;but&nbsp;we&nbsp;have&nbsp;renamed&nbsp;it&nbsp;to&nbsp;keep&nbsp;it&nbsp;away&nbsp;from&nbsp;the&nbsp;go&nbsp;tool.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785925">pclinetestBinary</span>&nbsp;<span class="op" id="7785942">=</span>&nbsp;<span class="ident" id="7785944">filepath</span><span class="op" id="7785952">.</span><span class="ident" id="7785953">Join</span><span class="op" id="7785957">(</span><span class="ident" id="7785958">pclineTempDir</span><span class="op" id="7785971">,</span>&nbsp;<span class="string" id="7785973">&#34;pclinetest&#34;</span><span class="op" id="7785985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7785988">command</span>&nbsp;<span class="op" id="7785996">:=</span>&nbsp;<span class="ident" id="7785999">fmt</span><span class="op" id="7786002">.</span><span class="ident" id="7786003">Sprintf</span><span class="op" id="7786010">(</span><span class="string" id="7786011">&#34;go&nbsp;tool&nbsp;6a&nbsp;-o&nbsp;%s.6&nbsp;pclinetest.asm&nbsp;&amp;&amp;&nbsp;go&nbsp;tool&nbsp;6l&nbsp;-H&nbsp;linux&nbsp;-E&nbsp;main&nbsp;-o&nbsp;%s&nbsp;%s.6&#34;</span><span class="op" id="7786088">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786092">pclinetestBinary</span><span class="op" id="7786108">,</span>&nbsp;<span class="ident" id="7786110">pclinetestBinary</span><span class="op" id="7786126">,</span>&nbsp;<span class="ident" id="7786128">pclinetestBinary</span><span class="op" id="7786144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786147">cmd</span>&nbsp;<span class="op" id="7786151">:=</span>&nbsp;<span class="ident" id="7786154">exec</span><span class="op" id="7786158">.</span><span class="ident" id="7786159">Command</span><span class="op" id="7786166">(</span><span class="string" id="7786167">&#34;sh&#34;</span><span class="op" id="7786171">,</span>&nbsp;<span class="string" id="7786173">&#34;-c&#34;</span><span class="op" id="7786177">,</span>&nbsp;<span class="ident" id="7786179">command</span><span class="op" id="7786186">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786189">cmd</span><span class="op" id="7786192">.</span><span class="ident" id="7786193">Stdout</span>&nbsp;<span class="op" id="7786200">=</span>&nbsp;<span class="ident" id="7786202">os</span><span class="op" id="7786204">.</span><span class="ident" id="7786205">Stdout</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786213">cmd</span><span class="op" id="7786216">.</span><span class="ident" id="7786217">Stderr</span>&nbsp;<span class="op" id="7786224">=</span>&nbsp;<span class="ident" id="7786226">os</span><span class="op" id="7786228">.</span><span class="ident" id="7786229">Stderr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786237">if</span>&nbsp;<span class="ident" id="7786240">err</span>&nbsp;<span class="op" id="7786244">:=</span>&nbsp;<span class="ident" id="7786247">cmd</span><span class="op" id="7786250">.</span><span class="ident" id="7786251">Run</span><span class="op" id="7786254">(</span><span class="op" id="7786255">)</span><span class="op" id="7786256">;</span>&nbsp;<span class="ident" id="7786258">err</span>&nbsp;<span class="op" id="7786262">!=</span>&nbsp;<span class="ident" id="7786265">nil</span>&nbsp;<span class="op" id="7786269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="7786273">panic</span><span class="op" id="7786278">(</span><span class="ident" id="7786279">err</span><span class="op" id="7786282">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786285">}</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786288">return</span>&nbsp;<span class="builtintype" id="7786295">true</span><br>
<span class="lineno"></span><span class="op" id="7786300">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7786303">func</span>&nbsp;<span class="ident" id="7786308">endtest</span><span class="op" id="7786315">(</span><span class="op" id="7786316">)</span>&nbsp;<span class="op" id="7786318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786321">if</span>&nbsp;<span class="ident" id="7786324">pclineTempDir</span>&nbsp;<span class="op" id="7786338">!=</span>&nbsp;<span class="string" id="7786341">&#34;&#34;</span>&nbsp;<span class="op" id="7786344">{</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786348">os</span><span class="op" id="7786350">.</span><span class="ident" id="7786351">RemoveAll</span><span class="op" id="7786360">(</span><span class="ident" id="7786361">pclineTempDir</span><span class="op" id="7786374">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786378">pclineTempDir</span>&nbsp;<span class="op" id="7786392">=</span>&nbsp;<span class="string" id="7786394">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786399">pclinetestBinary</span>&nbsp;<span class="op" id="7786416">=</span>&nbsp;<span class="string" id="7786418">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786422">}</span><br>
<span class="lineno"></span><span class="op" id="7786424">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="keyword" id="7786427">func</span>&nbsp;<span class="ident" id="7786432">getTable</span><span class="op" id="7786440">(</span><span class="ident" id="7786441">t</span>&nbsp;<span class="op" id="7786443">*</span><span class="ident" id="7786444">testing</span><span class="op" id="7786451">.</span><span class="ident" id="7786452">T</span><span class="op" id="7786453">)</span>&nbsp;<span class="op" id="7786455">*</span><span class="ident" id="7786456">Table</span>&nbsp;<span class="op" id="7786462">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786465">f</span><span class="op" id="7786466">,</span>&nbsp;<span class="ident" id="7786468">tab</span>&nbsp;<span class="op" id="7786472">:=</span>&nbsp;<span class="ident" id="7786475">crack</span><span class="op" id="7786480">(</span><span class="ident" id="7786481">os</span><span class="op" id="7786483">.</span><span class="ident" id="7786484">Args</span><span class="op" id="7786488">[</span><span class="num" id="7786489">0</span><span class="op" id="7786490">]</span><span class="op" id="7786491">,</span>&nbsp;<span class="ident" id="7786493">t</span><span class="op" id="7786494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786497">f</span><span class="op" id="7786498">.</span><span class="ident" id="7786499">Close</span><span class="op" id="7786504">(</span><span class="op" id="7786505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786508">return</span>&nbsp;<span class="ident" id="7786515">tab</span><br>
<span class="lineno">75</span><span class="op" id="7786519">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7786522">func</span>&nbsp;<span class="ident" id="7786527">crack</span><span class="op" id="7786532">(</span><span class="ident" id="7786533">file</span>&nbsp;<span class="builtintype" id="7786538">string</span><span class="op" id="7786544">,</span>&nbsp;<span class="ident" id="7786546">t</span>&nbsp;<span class="op" id="7786548">*</span><span class="ident" id="7786549">testing</span><span class="op" id="7786556">.</span><span class="ident" id="7786557">T</span><span class="op" id="7786558">)</span>&nbsp;<span class="op" id="7786560">(</span><span class="op" id="7786561">*</span><span class="ident" id="7786562">elf</span><span class="op" id="7786565">.</span><span class="ident" id="7786566">File</span><span class="op" id="7786570">,</span>&nbsp;<span class="op" id="7786572">*</span><span class="ident" id="7786573">Table</span><span class="op" id="7786578">)</span>&nbsp;<span class="op" id="7786580">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7786583">//&nbsp;Open&nbsp;self</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786597">f</span><span class="op" id="7786598">,</span>&nbsp;<span class="ident" id="7786600">err</span>&nbsp;<span class="op" id="7786604">:=</span>&nbsp;<span class="ident" id="7786607">elf</span><span class="op" id="7786610">.</span><span class="ident" id="7786611">Open</span><span class="op" id="7786615">(</span><span class="ident" id="7786616">file</span><span class="op" id="7786620">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786623">if</span>&nbsp;<span class="ident" id="7786626">err</span>&nbsp;<span class="op" id="7786630">!=</span>&nbsp;<span class="ident" id="7786633">nil</span>&nbsp;<span class="op" id="7786637">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786641">t</span><span class="op" id="7786642">.</span><span class="ident" id="7786643">Fatal</span><span class="op" id="7786648">(</span><span class="ident" id="7786649">err</span><span class="op" id="7786652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786655">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786658">return</span>&nbsp;<span class="ident" id="7786665">parse</span><span class="op" id="7786670">(</span><span class="ident" id="7786671">file</span><span class="op" id="7786675">,</span>&nbsp;<span class="ident" id="7786677">f</span><span class="op" id="7786678">,</span>&nbsp;<span class="ident" id="7786680">t</span><span class="op" id="7786681">)</span><br>
<span class="lineno"></span><span class="op" id="7786683">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="7786686">func</span>&nbsp;<span class="ident" id="7786691">parse</span><span class="op" id="7786696">(</span><span class="ident" id="7786697">file</span>&nbsp;<span class="builtintype" id="7786702">string</span><span class="op" id="7786708">,</span>&nbsp;<span class="ident" id="7786710">f</span>&nbsp;<span class="op" id="7786712">*</span><span class="ident" id="7786713">elf</span><span class="op" id="7786716">.</span><span class="ident" id="7786717">File</span><span class="op" id="7786721">,</span>&nbsp;<span class="ident" id="7786723">t</span>&nbsp;<span class="op" id="7786725">*</span><span class="ident" id="7786726">testing</span><span class="op" id="7786733">.</span><span class="ident" id="7786734">T</span><span class="op" id="7786735">)</span>&nbsp;<span class="op" id="7786737">(</span><span class="op" id="7786738">*</span><span class="ident" id="7786739">elf</span><span class="op" id="7786742">.</span><span class="ident" id="7786743">File</span><span class="op" id="7786747">,</span>&nbsp;<span class="op" id="7786749">*</span><span class="ident" id="7786750">Table</span><span class="op" id="7786755">)</span>&nbsp;<span class="op" id="7786757">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786760">symdat</span><span class="op" id="7786766">,</span>&nbsp;<span class="ident" id="7786768">err</span>&nbsp;<span class="op" id="7786772">:=</span>&nbsp;<span class="ident" id="7786775">f</span><span class="op" id="7786776">.</span><span class="ident" id="7786777">Section</span><span class="op" id="7786784">(</span><span class="string" id="7786785">&#34;.gosymtab&#34;</span><span class="op" id="7786796">)</span><span class="op" id="7786797">.</span><span class="ident" id="7786798">Data</span><span class="op" id="7786802">(</span><span class="op" id="7786803">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786806">if</span>&nbsp;<span class="ident" id="7786809">err</span>&nbsp;<span class="op" id="7786813">!=</span>&nbsp;<span class="ident" id="7786816">nil</span>&nbsp;<span class="op" id="7786820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786824">f</span><span class="op" id="7786825">.</span><span class="ident" id="7786826">Close</span><span class="op" id="7786831">(</span><span class="op" id="7786832">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786836">t</span><span class="op" id="7786837">.</span><span class="ident" id="7786838">Fatalf</span><span class="op" id="7786844">(</span><span class="string" id="7786845">&#34;reading&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7786870">,</span>&nbsp;<span class="ident" id="7786872">file</span><span class="op" id="7786876">,</span>&nbsp;<span class="ident" id="7786878">err</span><span class="op" id="7786881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7786884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786887">pclndat</span><span class="op" id="7786894">,</span>&nbsp;<span class="ident" id="7786896">err</span>&nbsp;<span class="op" id="7786900">:=</span>&nbsp;<span class="ident" id="7786903">f</span><span class="op" id="7786904">.</span><span class="ident" id="7786905">Section</span><span class="op" id="7786912">(</span><span class="string" id="7786913">&#34;.gopclntab&#34;</span><span class="op" id="7786925">)</span><span class="op" id="7786926">.</span><span class="ident" id="7786927">Data</span><span class="op" id="7786931">(</span><span class="op" id="7786932">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7786935">if</span>&nbsp;<span class="ident" id="7786938">err</span>&nbsp;<span class="op" id="7786942">!=</span>&nbsp;<span class="ident" id="7786945">nil</span>&nbsp;<span class="op" id="7786949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786953">f</span><span class="op" id="7786954">.</span><span class="ident" id="7786955">Close</span><span class="op" id="7786960">(</span><span class="op" id="7786961">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7786965">t</span><span class="op" id="7786966">.</span><span class="ident" id="7786967">Fatalf</span><span class="op" id="7786973">(</span><span class="string" id="7786974">&#34;reading&nbsp;%s&nbsp;gopclntab:&nbsp;%v&#34;</span><span class="op" id="7787000">,</span>&nbsp;<span class="ident" id="7787002">file</span><span class="op" id="7787006">,</span>&nbsp;<span class="ident" id="7787008">err</span><span class="op" id="7787011">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787014">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787018">pcln</span>&nbsp;<span class="op" id="7787023">:=</span>&nbsp;<span class="ident" id="7787026">NewLineTable</span><span class="op" id="7787038">(</span><span class="ident" id="7787039">pclndat</span><span class="op" id="7787046">,</span>&nbsp;<span class="ident" id="7787048">f</span><span class="op" id="7787049">.</span><span class="ident" id="7787050">Section</span><span class="op" id="7787057">(</span><span class="string" id="7787058">&#34;.text&#34;</span><span class="op" id="7787065">)</span><span class="op" id="7787066">.</span><span class="ident" id="7787067">Addr</span><span class="op" id="7787071">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787074">tab</span><span class="op" id="7787077">,</span>&nbsp;<span class="ident" id="7787079">err</span>&nbsp;<span class="op" id="7787083">:=</span>&nbsp;<span class="ident" id="7787086">NewTable</span><span class="op" id="7787094">(</span><span class="ident" id="7787095">symdat</span><span class="op" id="7787101">,</span>&nbsp;<span class="ident" id="7787103">pcln</span><span class="op" id="7787107">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787110">if</span>&nbsp;<span class="ident" id="7787113">err</span>&nbsp;<span class="op" id="7787117">!=</span>&nbsp;<span class="ident" id="7787120">nil</span>&nbsp;<span class="op" id="7787124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787128">f</span><span class="op" id="7787129">.</span><span class="ident" id="7787130">Close</span><span class="op" id="7787135">(</span><span class="op" id="7787136">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787140">t</span><span class="op" id="7787141">.</span><span class="ident" id="7787142">Fatalf</span><span class="op" id="7787148">(</span><span class="string" id="7787149">&#34;parsing&nbsp;%s&nbsp;gosymtab:&nbsp;%v&#34;</span><span class="op" id="7787174">,</span>&nbsp;<span class="ident" id="7787176">file</span><span class="op" id="7787180">,</span>&nbsp;<span class="ident" id="7787182">err</span><span class="op" id="7787185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787188">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787192">return</span>&nbsp;<span class="ident" id="7787199">f</span><span class="op" id="7787200">,</span>&nbsp;<span class="ident" id="7787202">tab</span><br>
<span class="lineno"></span><span class="op" id="7787206">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7787209">var</span>&nbsp;<span class="ident" id="7787213">goarch</span>&nbsp;<span class="op" id="7787220">=</span>&nbsp;<span class="ident" id="7787222">os</span><span class="op" id="7787224">.</span><span class="ident" id="7787225">Getenv</span><span class="op" id="7787231">(</span><span class="string" id="7787232">&#34;O&#34;</span><span class="op" id="7787235">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="keyword" id="7787238">func</span>&nbsp;<span class="ident" id="7787243">TestLineFromAline</span><span class="op" id="7787260">(</span><span class="ident" id="7787261">t</span>&nbsp;<span class="op" id="7787263">*</span><span class="ident" id="7787264">testing</span><span class="op" id="7787271">.</span><span class="ident" id="7787272">T</span><span class="op" id="7787273">)</span>&nbsp;<span class="op" id="7787275">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787278">if</span>&nbsp;<span class="op" id="7787281">!</span><span class="ident" id="7787282">dotest</span><span class="op" id="7787288">(</span><span class="builtintype" id="7787289">true</span><span class="op" id="7787293">)</span>&nbsp;<span class="op" id="7787295">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787299">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787307">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787310">defer</span>&nbsp;<span class="ident" id="7787316">endtest</span><span class="op" id="7787323">(</span><span class="op" id="7787324">)</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787328">tab</span>&nbsp;<span class="op" id="7787332">:=</span>&nbsp;<span class="ident" id="7787335">getTable</span><span class="op" id="7787343">(</span><span class="ident" id="7787344">t</span><span class="op" id="7787345">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787348">if</span>&nbsp;<span class="ident" id="7787351">tab</span><span class="op" id="7787354">.</span><span class="ident" id="7787355">go12line</span>&nbsp;<span class="op" id="7787364">!=</span>&nbsp;<span class="ident" id="7787367">nil</span>&nbsp;<span class="op" id="7787371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7787375">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787421">t</span><span class="op" id="7787422">.</span><span class="ident" id="7787423">Skip</span><span class="op" id="7787427">(</span><span class="string" id="7787428">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7787465">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787468">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7787472">//&nbsp;Find&nbsp;the&nbsp;sym&nbsp;package</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787497">pkg</span>&nbsp;<span class="op" id="7787501">:=</span>&nbsp;<span class="ident" id="7787504">tab</span><span class="op" id="7787507">.</span><span class="ident" id="7787508">LookupFunc</span><span class="op" id="7787518">(</span><span class="string" id="7787519">&#34;debug/gosym.TestLineFromAline&#34;</span><span class="op" id="7787550">)</span><span class="op" id="7787551">.</span><span class="ident" id="7787552">Obj</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787557">if</span>&nbsp;<span class="ident" id="7787560">pkg</span>&nbsp;<span class="op" id="7787564">==</span>&nbsp;<span class="ident" id="7787567">nil</span>&nbsp;<span class="op" id="7787571">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787575">t</span><span class="op" id="7787576">.</span><span class="ident" id="7787577">Fatalf</span><span class="op" id="7787583">(</span><span class="string" id="7787584">&#34;nil&nbsp;pkg&#34;</span><span class="op" id="7787593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787596">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7787600">//&nbsp;Walk&nbsp;every&nbsp;absolute&nbsp;line&nbsp;and&nbsp;ensure&nbsp;that&nbsp;we&nbsp;hit&nbsp;every</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7787658">//&nbsp;source&nbsp;line&nbsp;monotonically</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787688">lastline</span>&nbsp;<span class="op" id="7787697">:=</span>&nbsp;<span class="builtinfunc" id="7787700">make</span><span class="op" id="7787704">(</span><span class="keyword" id="7787705">map</span><span class="op" id="7787708">[</span><span class="builtintype" id="7787709">string</span><span class="op" id="7787715">]</span><span class="builtintype" id="7787716">int</span><span class="op" id="7787719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787722">final</span>&nbsp;<span class="op" id="7787728">:=</span>&nbsp;<span class="op" id="7787731">-</span><span class="num" id="7787732">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787735">for</span>&nbsp;<span class="ident" id="7787739">i</span>&nbsp;<span class="op" id="7787741">:=</span>&nbsp;<span class="num" id="7787744">0</span><span class="op" id="7787745">;</span>&nbsp;<span class="ident" id="7787747">i</span>&nbsp;<span class="op" id="7787749">&lt;</span>&nbsp;<span class="num" id="7787751">10000</span><span class="op" id="7787756">;</span>&nbsp;<span class="ident" id="7787758">i</span><span class="op" id="7787759">++</span>&nbsp;<span class="op" id="7787762">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787766">path</span><span class="op" id="7787770">,</span>&nbsp;<span class="ident" id="7787772">line</span>&nbsp;<span class="op" id="7787777">:=</span>&nbsp;<span class="ident" id="7787780">pkg</span><span class="op" id="7787783">.</span><span class="ident" id="7787784">lineFromAline</span><span class="op" id="7787797">(</span><span class="ident" id="7787798">i</span><span class="op" id="7787799">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7787803">//&nbsp;Check&nbsp;for&nbsp;end&nbsp;of&nbsp;object</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787832">if</span>&nbsp;<span class="ident" id="7787835">path</span>&nbsp;<span class="op" id="7787840">==</span>&nbsp;<span class="string" id="7787843">&#34;&#34;</span>&nbsp;<span class="op" id="7787846">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787851">if</span>&nbsp;<span class="ident" id="7787854">final</span>&nbsp;<span class="op" id="7787860">==</span>&nbsp;<span class="op" id="7787863">-</span><span class="num" id="7787864">1</span>&nbsp;<span class="op" id="7787866">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787872">final</span>&nbsp;<span class="op" id="7787878">=</span>&nbsp;<span class="ident" id="7787880">i</span>&nbsp;<span class="op" id="7787882">-</span>&nbsp;<span class="num" id="7787884">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787889">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7787894">continue</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7787905">}</span>&nbsp;<span class="keyword" id="7787907">else</span>&nbsp;<span class="keyword" id="7787912">if</span>&nbsp;<span class="ident" id="7787915">final</span>&nbsp;<span class="op" id="7787921">!=</span>&nbsp;<span class="op" id="7787924">-</span><span class="num" id="7787925">1</span>&nbsp;<span class="op" id="7787927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7787932">t</span><span class="op" id="7787933">.</span><span class="ident" id="7787934">Fatalf</span><span class="op" id="7787940">(</span><span class="string" id="7787941">&#34;reached&nbsp;end&nbsp;of&nbsp;package&nbsp;at&nbsp;absolute&nbsp;line&nbsp;%d,&nbsp;but&nbsp;absolute&nbsp;line&nbsp;%d&nbsp;mapped&nbsp;to&nbsp;%s:%d&#34;</span><span class="op" id="7788023">,</span>&nbsp;<span class="ident" id="7788025">final</span><span class="op" id="7788030">,</span>&nbsp;<span class="ident" id="7788032">i</span><span class="op" id="7788033">,</span>&nbsp;<span class="ident" id="7788035">path</span><span class="op" id="7788039">,</span>&nbsp;<span class="ident" id="7788041">line</span><span class="op" id="7788045">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788049">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7788053">//&nbsp;It&#39;s&nbsp;okay&nbsp;to&nbsp;see&nbsp;files&nbsp;multiple&nbsp;times&nbsp;(e.g.,&nbsp;sys.a)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788110">if</span>&nbsp;<span class="ident" id="7788113">line</span>&nbsp;<span class="op" id="7788118">==</span>&nbsp;<span class="num" id="7788121">1</span>&nbsp;<span class="op" id="7788123">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788128">lastline</span><span class="op" id="7788136">[</span><span class="ident" id="7788137">path</span><span class="op" id="7788141">]</span>&nbsp;<span class="op" id="7788143">=</span>&nbsp;<span class="num" id="7788145">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788150">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7788165">//&nbsp;Check&nbsp;that&nbsp;the&nbsp;is&nbsp;the&nbsp;next&nbsp;line&nbsp;in&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788210">ll</span><span class="op" id="7788212">,</span>&nbsp;<span class="ident" id="7788214">ok</span>&nbsp;<span class="op" id="7788217">:=</span>&nbsp;<span class="ident" id="7788220">lastline</span><span class="op" id="7788228">[</span><span class="ident" id="7788229">path</span><span class="op" id="7788233">]</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788237">if</span>&nbsp;<span class="op" id="7788240">!</span><span class="ident" id="7788241">ok</span>&nbsp;<span class="op" id="7788244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788249">t</span><span class="op" id="7788250">.</span><span class="ident" id="7788251">Errorf</span><span class="op" id="7788257">(</span><span class="string" id="7788258">&#34;file&nbsp;%s&nbsp;starts&nbsp;on&nbsp;line&nbsp;%d&#34;</span><span class="op" id="7788285">,</span>&nbsp;<span class="ident" id="7788287">path</span><span class="op" id="7788291">,</span>&nbsp;<span class="ident" id="7788293">line</span><span class="op" id="7788297">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788301">}</span>&nbsp;<span class="keyword" id="7788303">else</span>&nbsp;<span class="keyword" id="7788308">if</span>&nbsp;<span class="ident" id="7788311">line</span>&nbsp;<span class="op" id="7788316">!=</span>&nbsp;<span class="ident" id="7788319">ll</span><span class="op" id="7788321">+</span><span class="num" id="7788322">1</span>&nbsp;<span class="op" id="7788324">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788329">t</span><span class="op" id="7788330">.</span><span class="ident" id="7788331">Fatalf</span><span class="op" id="7788337">(</span><span class="string" id="7788338">&#34;expected&nbsp;next&nbsp;line&nbsp;of&nbsp;file&nbsp;%s&nbsp;to&nbsp;be&nbsp;%d,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7788386">,</span>&nbsp;<span class="ident" id="7788388">path</span><span class="op" id="7788392">,</span>&nbsp;<span class="ident" id="7788394">ll</span><span class="op" id="7788396">+</span><span class="num" id="7788397">1</span><span class="op" id="7788398">,</span>&nbsp;<span class="ident" id="7788400">line</span><span class="op" id="7788404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788408">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788412">lastline</span><span class="op" id="7788420">[</span><span class="ident" id="7788421">path</span><span class="op" id="7788425">]</span>&nbsp;<span class="op" id="7788427">=</span>&nbsp;<span class="ident" id="7788429">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788435">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788438">if</span>&nbsp;<span class="ident" id="7788441">final</span>&nbsp;<span class="op" id="7788447">==</span>&nbsp;<span class="op" id="7788450">-</span><span class="num" id="7788451">1</span>&nbsp;<span class="op" id="7788453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788457">t</span><span class="op" id="7788458">.</span><span class="ident" id="7788459">Errorf</span><span class="op" id="7788465">(</span><span class="string" id="7788466">&#34;never&nbsp;reached&nbsp;end&nbsp;of&nbsp;object&#34;</span><span class="op" id="7788495">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788498">}</span><br>
<span class="lineno">160</span><span class="op" id="7788500">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7788503">func</span>&nbsp;<span class="ident" id="7788508">TestLineAline</span><span class="op" id="7788521">(</span><span class="ident" id="7788522">t</span>&nbsp;<span class="op" id="7788524">*</span><span class="ident" id="7788525">testing</span><span class="op" id="7788532">.</span><span class="ident" id="7788533">T</span><span class="op" id="7788534">)</span>&nbsp;<span class="op" id="7788536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788539">if</span>&nbsp;<span class="op" id="7788542">!</span><span class="ident" id="7788543">dotest</span><span class="op" id="7788549">(</span><span class="builtintype" id="7788550">true</span><span class="op" id="7788554">)</span>&nbsp;<span class="op" id="7788556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788560">return</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788571">defer</span>&nbsp;<span class="ident" id="7788577">endtest</span><span class="op" id="7788584">(</span><span class="op" id="7788585">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788589">tab</span>&nbsp;<span class="op" id="7788593">:=</span>&nbsp;<span class="ident" id="7788596">getTable</span><span class="op" id="7788604">(</span><span class="ident" id="7788605">t</span><span class="op" id="7788606">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788609">if</span>&nbsp;<span class="ident" id="7788612">tab</span><span class="op" id="7788615">.</span><span class="ident" id="7788616">go12line</span>&nbsp;<span class="op" id="7788625">!=</span>&nbsp;<span class="ident" id="7788628">nil</span>&nbsp;<span class="op" id="7788632">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7788636">//&nbsp;aline&#39;s&nbsp;don&#39;t&nbsp;exist&nbsp;in&nbsp;the&nbsp;Go&nbsp;1.2&nbsp;table.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788682">t</span><span class="op" id="7788683">.</span><span class="ident" id="7788684">Skip</span><span class="op" id="7788688">(</span><span class="string" id="7788689">&#34;not&nbsp;relevant&nbsp;to&nbsp;Go&nbsp;1.2&nbsp;symbol&nbsp;table&#34;</span><span class="op" id="7788726">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7788729">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788733">for</span>&nbsp;<span class="ident" id="7788737">_</span><span class="op" id="7788738">,</span>&nbsp;<span class="ident" id="7788740">o</span>&nbsp;<span class="op" id="7788742">:=</span>&nbsp;<span class="keyword" id="7788745">range</span>&nbsp;<span class="ident" id="7788751">tab</span><span class="op" id="7788754">.</span><span class="ident" id="7788755">Files</span>&nbsp;<span class="op" id="7788761">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7788765">//&nbsp;A&nbsp;source&nbsp;file&nbsp;can&nbsp;appear&nbsp;multiple&nbsp;times&nbsp;in&nbsp;a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7788815">//&nbsp;object.&nbsp;&nbsp;alineFromLine&nbsp;will&nbsp;always&nbsp;return&nbsp;alines&nbsp;in</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7788872">//&nbsp;the&nbsp;first&nbsp;file,&nbsp;so&nbsp;track&nbsp;which&nbsp;lines&nbsp;we&#39;ve&nbsp;seen.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788926">found</span>&nbsp;<span class="op" id="7788932">:=</span>&nbsp;<span class="builtinfunc" id="7788935">make</span><span class="op" id="7788939">(</span><span class="keyword" id="7788940">map</span><span class="op" id="7788943">[</span><span class="builtintype" id="7788944">string</span><span class="op" id="7788950">]</span><span class="builtintype" id="7788951">int</span><span class="op" id="7788954">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7788958">for</span>&nbsp;<span class="ident" id="7788962">i</span>&nbsp;<span class="op" id="7788964">:=</span>&nbsp;<span class="num" id="7788967">0</span><span class="op" id="7788968">;</span>&nbsp;<span class="ident" id="7788970">i</span>&nbsp;<span class="op" id="7788972">&lt;</span>&nbsp;<span class="num" id="7788974">1000</span><span class="op" id="7788978">;</span>&nbsp;<span class="ident" id="7788980">i</span><span class="op" id="7788981">++</span>&nbsp;<span class="op" id="7788984">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7788989">path</span><span class="op" id="7788993">,</span>&nbsp;<span class="ident" id="7788995">line</span>&nbsp;<span class="op" id="7789000">:=</span>&nbsp;<span class="ident" id="7789003">o</span><span class="op" id="7789004">.</span><span class="ident" id="7789005">lineFromAline</span><span class="op" id="7789018">(</span><span class="ident" id="7789019">i</span><span class="op" id="7789020">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789025">if</span>&nbsp;<span class="ident" id="7789028">path</span>&nbsp;<span class="op" id="7789033">==</span>&nbsp;<span class="string" id="7789036">&#34;&#34;</span>&nbsp;<span class="op" id="7789039">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789045">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789060">//&nbsp;cgo&nbsp;files&nbsp;are&nbsp;full&nbsp;of&nbsp;&#39;Z&#39;&nbsp;symbols,&nbsp;which&nbsp;we&nbsp;don&#39;t&nbsp;handle</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789123">if</span>&nbsp;<span class="builtinfunc" id="7789126">len</span><span class="op" id="7789129">(</span><span class="ident" id="7789130">path</span><span class="op" id="7789134">)</span>&nbsp;<span class="op" id="7789136">&gt;</span>&nbsp;<span class="num" id="7789138">4</span>&nbsp;<span class="op" id="7789140">&amp;&amp;</span>&nbsp;<span class="ident" id="7789143">path</span><span class="op" id="7789147">[</span><span class="builtinfunc" id="7789148">len</span><span class="op" id="7789151">(</span><span class="ident" id="7789152">path</span><span class="op" id="7789156">)</span><span class="op" id="7789157">-</span><span class="num" id="7789158">4</span><span class="op" id="7789159">:</span><span class="op" id="7789160">]</span>&nbsp;<span class="op" id="7789162">==</span>&nbsp;<span class="string" id="7789165">&#34;.cgo&#34;</span>&nbsp;<span class="op" id="7789172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789178">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789190">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789196">if</span>&nbsp;<span class="ident" id="7789199">minline</span><span class="op" id="7789206">,</span>&nbsp;<span class="ident" id="7789208">ok</span>&nbsp;<span class="op" id="7789211">:=</span>&nbsp;<span class="ident" id="7789214">found</span><span class="op" id="7789219">[</span><span class="ident" id="7789220">path</span><span class="op" id="7789224">]</span><span class="op" id="7789225">;</span>&nbsp;<span class="ident" id="7789227">path</span>&nbsp;<span class="op" id="7789232">!=</span>&nbsp;<span class="string" id="7789235">&#34;&#34;</span>&nbsp;<span class="op" id="7789238">&amp;&amp;</span>&nbsp;<span class="ident" id="7789241">ok</span>&nbsp;<span class="op" id="7789244">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789250">if</span>&nbsp;<span class="ident" id="7789253">minline</span>&nbsp;<span class="op" id="7789261">&gt;=</span>&nbsp;<span class="ident" id="7789264">line</span>&nbsp;<span class="op" id="7789269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789276">//&nbsp;We&#39;ve&nbsp;already&nbsp;covered&nbsp;this&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789316">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789329">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789339">found</span><span class="op" id="7789344">[</span><span class="ident" id="7789345">path</span><span class="op" id="7789349">]</span>&nbsp;<span class="op" id="7789351">=</span>&nbsp;<span class="ident" id="7789353">line</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789362">a</span><span class="op" id="7789363">,</span>&nbsp;<span class="ident" id="7789365">err</span>&nbsp;<span class="op" id="7789369">:=</span>&nbsp;<span class="ident" id="7789372">o</span><span class="op" id="7789373">.</span><span class="ident" id="7789374">alineFromLine</span><span class="op" id="7789387">(</span><span class="ident" id="7789388">path</span><span class="op" id="7789392">,</span>&nbsp;<span class="ident" id="7789394">line</span><span class="op" id="7789398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789403">if</span>&nbsp;<span class="ident" id="7789406">err</span>&nbsp;<span class="op" id="7789410">!=</span>&nbsp;<span class="ident" id="7789413">nil</span>&nbsp;<span class="op" id="7789417">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789423">t</span><span class="op" id="7789424">.</span><span class="ident" id="7789425">Errorf</span><span class="op" id="7789431">(</span><span class="string" id="7789432">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;but&nbsp;mapping&nbsp;that&nbsp;back&nbsp;gives&nbsp;error&nbsp;%s&#34;</span><span class="op" id="7789515">,</span>&nbsp;<span class="ident" id="7789517">i</span><span class="op" id="7789518">,</span>&nbsp;<span class="ident" id="7789520">o</span><span class="op" id="7789521">.</span><span class="ident" id="7789522">Paths</span><span class="op" id="7789527">[</span><span class="num" id="7789528">0</span><span class="op" id="7789529">]</span><span class="op" id="7789530">.</span><span class="ident" id="7789531">Name</span><span class="op" id="7789535">,</span>&nbsp;<span class="ident" id="7789537">path</span><span class="op" id="7789541">,</span>&nbsp;<span class="ident" id="7789543">line</span><span class="op" id="7789547">,</span>&nbsp;<span class="ident" id="7789549">err</span><span class="op" id="7789552">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789557">}</span>&nbsp;<span class="keyword" id="7789559">else</span>&nbsp;<span class="keyword" id="7789564">if</span>&nbsp;<span class="ident" id="7789567">a</span>&nbsp;<span class="op" id="7789569">!=</span>&nbsp;<span class="ident" id="7789572">i</span>&nbsp;<span class="op" id="7789574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789580">t</span><span class="op" id="7789581">.</span><span class="ident" id="7789582">Errorf</span><span class="op" id="7789588">(</span><span class="string" id="7789589">&#34;absolute&nbsp;line&nbsp;%d&nbsp;in&nbsp;object&nbsp;%s&nbsp;maps&nbsp;to&nbsp;%s:%d,&nbsp;which&nbsp;maps&nbsp;back&nbsp;to&nbsp;absolute&nbsp;line&nbsp;%d\n&#34;</span><span class="op" id="7789673">,</span>&nbsp;<span class="ident" id="7789675">i</span><span class="op" id="7789676">,</span>&nbsp;<span class="ident" id="7789678">o</span><span class="op" id="7789679">.</span><span class="ident" id="7789680">Paths</span><span class="op" id="7789685">[</span><span class="num" id="7789686">0</span><span class="op" id="7789687">]</span><span class="op" id="7789688">.</span><span class="ident" id="7789689">Name</span><span class="op" id="7789693">,</span>&nbsp;<span class="ident" id="7789695">path</span><span class="op" id="7789699">,</span>&nbsp;<span class="ident" id="7789701">line</span><span class="op" id="7789705">,</span>&nbsp;<span class="ident" id="7789707">a</span><span class="op" id="7789708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789713">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789717">}</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789720">}</span><br>
<span class="lineno"></span><span class="op" id="7789722">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7789725">func</span>&nbsp;<span class="ident" id="7789730">TestPCLine</span><span class="op" id="7789740">(</span><span class="ident" id="7789741">t</span>&nbsp;<span class="op" id="7789743">*</span><span class="ident" id="7789744">testing</span><span class="op" id="7789751">.</span><span class="ident" id="7789752">T</span><span class="op" id="7789753">)</span>&nbsp;<span class="op" id="7789755">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789758">if</span>&nbsp;<span class="op" id="7789761">!</span><span class="ident" id="7789762">dotest</span><span class="op" id="7789768">(</span><span class="builtintype" id="7789769">false</span><span class="op" id="7789774">)</span>&nbsp;<span class="op" id="7789776">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789780">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789788">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789791">defer</span>&nbsp;<span class="ident" id="7789797">endtest</span><span class="op" id="7789804">(</span><span class="op" id="7789805">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789809">f</span><span class="op" id="7789810">,</span>&nbsp;<span class="ident" id="7789812">tab</span>&nbsp;<span class="op" id="7789816">:=</span>&nbsp;<span class="ident" id="7789819">crack</span><span class="op" id="7789824">(</span><span class="ident" id="7789825">pclinetestBinary</span><span class="op" id="7789841">,</span>&nbsp;<span class="ident" id="7789843">t</span><span class="op" id="7789844">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789847">text</span>&nbsp;<span class="op" id="7789852">:=</span>&nbsp;<span class="ident" id="7789855">f</span><span class="op" id="7789856">.</span><span class="ident" id="7789857">Section</span><span class="op" id="7789864">(</span><span class="string" id="7789865">&#34;.text&#34;</span><span class="op" id="7789872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789875">textdat</span><span class="op" id="7789882">,</span>&nbsp;<span class="ident" id="7789884">err</span>&nbsp;<span class="op" id="7789888">:=</span>&nbsp;<span class="ident" id="7789891">text</span><span class="op" id="7789895">.</span><span class="ident" id="7789896">Data</span><span class="op" id="7789900">(</span><span class="op" id="7789901">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7789904">if</span>&nbsp;<span class="ident" id="7789907">err</span>&nbsp;<span class="op" id="7789911">!=</span>&nbsp;<span class="ident" id="7789914">nil</span>&nbsp;<span class="op" id="7789918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789922">t</span><span class="op" id="7789923">.</span><span class="ident" id="7789924">Fatalf</span><span class="op" id="7789930">(</span><span class="string" id="7789931">&#34;reading&nbsp;.text:&nbsp;%v&#34;</span><span class="op" id="7789950">,</span>&nbsp;<span class="ident" id="7789952">err</span><span class="op" id="7789955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7789958">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7789962">//&nbsp;Test&nbsp;PCToLine</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7789980">sym</span>&nbsp;<span class="op" id="7789984">:=</span>&nbsp;<span class="ident" id="7789987">tab</span><span class="op" id="7789990">.</span><span class="ident" id="7789991">LookupFunc</span><span class="op" id="7790001">(</span><span class="string" id="7790002">&#34;linefrompc&#34;</span><span class="op" id="7790014">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790017">wantLine</span>&nbsp;<span class="op" id="7790026">:=</span>&nbsp;<span class="num" id="7790029">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790032">for</span>&nbsp;<span class="ident" id="7790036">pc</span>&nbsp;<span class="op" id="7790039">:=</span>&nbsp;<span class="ident" id="7790042">sym</span><span class="op" id="7790045">.</span><span class="ident" id="7790046">Entry</span><span class="op" id="7790051">;</span>&nbsp;<span class="ident" id="7790053">pc</span>&nbsp;<span class="op" id="7790056">&lt;</span>&nbsp;<span class="ident" id="7790058">sym</span><span class="op" id="7790061">.</span><span class="ident" id="7790062">End</span><span class="op" id="7790065">;</span>&nbsp;<span class="ident" id="7790067">pc</span><span class="op" id="7790069">++</span>&nbsp;<span class="op" id="7790072">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790076">off</span>&nbsp;<span class="op" id="7790080">:=</span>&nbsp;<span class="ident" id="7790083">pc</span>&nbsp;<span class="op" id="7790086">-</span>&nbsp;<span class="ident" id="7790088">text</span><span class="op" id="7790092">.</span><span class="ident" id="7790093">Addr</span>&nbsp;<span class="comment" id="7790098">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790145">if</span>&nbsp;<span class="ident" id="7790148">textdat</span><span class="op" id="7790155">[</span><span class="ident" id="7790156">off</span><span class="op" id="7790159">]</span>&nbsp;<span class="op" id="7790161">==</span>&nbsp;<span class="num" id="7790164">255</span>&nbsp;<span class="op" id="7790168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790173">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790181">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790185">wantLine</span>&nbsp;<span class="op" id="7790194">+=</span>&nbsp;<span class="builtintype" id="7790197">int</span><span class="op" id="7790200">(</span><span class="ident" id="7790201">textdat</span><span class="op" id="7790208">[</span><span class="ident" id="7790209">off</span><span class="op" id="7790212">]</span><span class="op" id="7790213">)</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790217">t</span><span class="op" id="7790218">.</span><span class="ident" id="7790219">Logf</span><span class="op" id="7790223">(</span><span class="string" id="7790224">&#34;off&nbsp;is&nbsp;%d&nbsp;%#x&nbsp;(max&nbsp;%d)&#34;</span><span class="op" id="7790248">,</span>&nbsp;<span class="ident" id="7790250">off</span><span class="op" id="7790253">,</span>&nbsp;<span class="ident" id="7790255">textdat</span><span class="op" id="7790262">[</span><span class="ident" id="7790263">off</span><span class="op" id="7790266">]</span><span class="op" id="7790267">,</span>&nbsp;<span class="ident" id="7790269">sym</span><span class="op" id="7790272">.</span><span class="ident" id="7790273">End</span><span class="op" id="7790276">-</span><span class="ident" id="7790277">pc</span><span class="op" id="7790279">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790283">file</span><span class="op" id="7790287">,</span>&nbsp;<span class="ident" id="7790289">line</span><span class="op" id="7790293">,</span>&nbsp;<span class="ident" id="7790295">fn</span>&nbsp;<span class="op" id="7790298">:=</span>&nbsp;<span class="ident" id="7790301">tab</span><span class="op" id="7790304">.</span><span class="ident" id="7790305">PCToLine</span><span class="op" id="7790313">(</span><span class="ident" id="7790314">pc</span><span class="op" id="7790316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790320">if</span>&nbsp;<span class="ident" id="7790323">fn</span>&nbsp;<span class="op" id="7790326">==</span>&nbsp;<span class="ident" id="7790329">nil</span>&nbsp;<span class="op" id="7790333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790338">t</span><span class="op" id="7790339">.</span><span class="ident" id="7790340">Errorf</span><span class="op" id="7790346">(</span><span class="string" id="7790347">&#34;failed&nbsp;to&nbsp;get&nbsp;line&nbsp;of&nbsp;PC&nbsp;%#x&#34;</span><span class="op" id="7790377">,</span>&nbsp;<span class="ident" id="7790379">pc</span><span class="op" id="7790381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790385">}</span>&nbsp;<span class="keyword" id="7790387">else</span>&nbsp;<span class="keyword" id="7790392">if</span>&nbsp;<span class="op" id="7790395">!</span><span class="ident" id="7790396">strings</span><span class="op" id="7790403">.</span><span class="ident" id="7790404">HasSuffix</span><span class="op" id="7790413">(</span><span class="ident" id="7790414">file</span><span class="op" id="7790418">,</span>&nbsp;<span class="string" id="7790420">&#34;pclinetest.asm&#34;</span><span class="op" id="7790436">)</span>&nbsp;<span class="op" id="7790438">||</span>&nbsp;<span class="ident" id="7790441">line</span>&nbsp;<span class="op" id="7790446">!=</span>&nbsp;<span class="ident" id="7790449">wantLine</span>&nbsp;<span class="op" id="7790458">||</span>&nbsp;<span class="ident" id="7790461">fn</span>&nbsp;<span class="op" id="7790464">!=</span>&nbsp;<span class="ident" id="7790467">sym</span>&nbsp;<span class="op" id="7790471">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790476">t</span><span class="op" id="7790477">.</span><span class="ident" id="7790478">Errorf</span><span class="op" id="7790484">(</span><span class="string" id="7790485">&#34;PCToLine(%#x)&nbsp;=&nbsp;%s:%d&nbsp;(%s),&nbsp;want&nbsp;%s:%d&nbsp;(%s)&#34;</span><span class="op" id="7790530">,</span>&nbsp;<span class="ident" id="7790532">pc</span><span class="op" id="7790534">,</span>&nbsp;<span class="ident" id="7790536">file</span><span class="op" id="7790540">,</span>&nbsp;<span class="ident" id="7790542">line</span><span class="op" id="7790546">,</span>&nbsp;<span class="ident" id="7790548">fn</span><span class="op" id="7790550">.</span><span class="ident" id="7790551">Name</span><span class="op" id="7790555">,</span>&nbsp;<span class="string" id="7790557">&#34;pclinetest.asm&#34;</span><span class="op" id="7790573">,</span>&nbsp;<span class="ident" id="7790575">wantLine</span><span class="op" id="7790583">,</span>&nbsp;<span class="ident" id="7790585">sym</span><span class="op" id="7790588">.</span><span class="ident" id="7790589">Name</span><span class="op" id="7790593">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790597">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790600">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7790604">//&nbsp;Test&nbsp;LineToPC</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790622">sym</span>&nbsp;<span class="op" id="7790626">=</span>&nbsp;<span class="ident" id="7790628">tab</span><span class="op" id="7790631">.</span><span class="ident" id="7790632">LookupFunc</span><span class="op" id="7790642">(</span><span class="string" id="7790643">&#34;pcfromline&#34;</span><span class="op" id="7790655">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790658">lookupline</span>&nbsp;<span class="op" id="7790669">:=</span>&nbsp;<span class="op" id="7790672">-</span><span class="num" id="7790673">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790676">wantLine</span>&nbsp;<span class="op" id="7790685">=</span>&nbsp;<span class="num" id="7790687">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790690">off</span>&nbsp;<span class="op" id="7790694">:=</span>&nbsp;<span class="ident" id="7790697">uint64</span><span class="op" id="7790703">(</span><span class="num" id="7790704">0</span><span class="op" id="7790705">)</span>&nbsp;<span class="comment" id="7790707">//&nbsp;TODO(rsc):&nbsp;should&nbsp;not&nbsp;need&nbsp;off;&nbsp;bug&nbsp;in&nbsp;8g</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790753">for</span>&nbsp;<span class="ident" id="7790757">pc</span>&nbsp;<span class="op" id="7790760">:=</span>&nbsp;<span class="ident" id="7790763">sym</span><span class="op" id="7790766">.</span><span class="ident" id="7790767">Value</span><span class="op" id="7790772">;</span>&nbsp;<span class="ident" id="7790774">pc</span>&nbsp;<span class="op" id="7790777">&lt;</span>&nbsp;<span class="ident" id="7790779">sym</span><span class="op" id="7790782">.</span><span class="ident" id="7790783">End</span><span class="op" id="7790786">;</span>&nbsp;<span class="ident" id="7790788">pc</span>&nbsp;<span class="op" id="7790791">+=</span>&nbsp;<span class="num" id="7790794">2</span>&nbsp;<span class="op" id="7790796">+</span>&nbsp;<span class="ident" id="7790798">uint64</span><span class="op" id="7790804">(</span><span class="ident" id="7790805">textdat</span><span class="op" id="7790812">[</span><span class="ident" id="7790813">off</span><span class="op" id="7790816">]</span><span class="op" id="7790817">)</span>&nbsp;<span class="op" id="7790819">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790823">file</span><span class="op" id="7790827">,</span>&nbsp;<span class="ident" id="7790829">line</span><span class="op" id="7790833">,</span>&nbsp;<span class="ident" id="7790835">fn</span>&nbsp;<span class="op" id="7790838">:=</span>&nbsp;<span class="ident" id="7790841">tab</span><span class="op" id="7790844">.</span><span class="ident" id="7790845">PCToLine</span><span class="op" id="7790853">(</span><span class="ident" id="7790854">pc</span><span class="op" id="7790856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790860">off</span>&nbsp;<span class="op" id="7790864">=</span>&nbsp;<span class="ident" id="7790866">pc</span>&nbsp;<span class="op" id="7790869">-</span>&nbsp;<span class="ident" id="7790871">text</span><span class="op" id="7790875">.</span><span class="ident" id="7790876">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790883">if</span>&nbsp;<span class="ident" id="7790886">textdat</span><span class="op" id="7790893">[</span><span class="ident" id="7790894">off</span><span class="op" id="7790897">]</span>&nbsp;<span class="op" id="7790899">==</span>&nbsp;<span class="num" id="7790902">255</span>&nbsp;<span class="op" id="7790906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790911">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7790919">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790923">wantLine</span>&nbsp;<span class="op" id="7790932">+=</span>&nbsp;<span class="builtintype" id="7790935">int</span><span class="op" id="7790938">(</span><span class="ident" id="7790939">textdat</span><span class="op" id="7790946">[</span><span class="ident" id="7790947">off</span><span class="op" id="7790950">]</span><span class="op" id="7790951">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7790955">if</span>&nbsp;<span class="ident" id="7790958">line</span>&nbsp;<span class="op" id="7790963">!=</span>&nbsp;<span class="ident" id="7790966">wantLine</span>&nbsp;<span class="op" id="7790975">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7790980">t</span><span class="op" id="7790981">.</span><span class="ident" id="7790982">Errorf</span><span class="op" id="7790988">(</span><span class="string" id="7790989">&#34;expected&nbsp;line&nbsp;%d&nbsp;at&nbsp;PC&nbsp;%#x&nbsp;in&nbsp;pcfromline,&nbsp;got&nbsp;%d&#34;</span><span class="op" id="7791039">,</span>&nbsp;<span class="ident" id="7791041">wantLine</span><span class="op" id="7791049">,</span>&nbsp;<span class="ident" id="7791051">pc</span><span class="op" id="7791053">,</span>&nbsp;<span class="ident" id="7791055">line</span><span class="op" id="7791059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791064">off</span>&nbsp;<span class="op" id="7791068">=</span>&nbsp;<span class="ident" id="7791070">pc</span>&nbsp;<span class="op" id="7791073">+</span>&nbsp;<span class="num" id="7791075">1</span>&nbsp;<span class="op" id="7791077">-</span>&nbsp;<span class="ident" id="7791079">text</span><span class="op" id="7791083">.</span><span class="ident" id="7791084">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791092">continue</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791103">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791107">if</span>&nbsp;<span class="ident" id="7791110">lookupline</span>&nbsp;<span class="op" id="7791121">==</span>&nbsp;<span class="op" id="7791124">-</span><span class="num" id="7791125">1</span>&nbsp;<span class="op" id="7791127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791132">lookupline</span>&nbsp;<span class="op" id="7791143">=</span>&nbsp;<span class="ident" id="7791145">line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791152">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791156">for</span>&nbsp;<span class="op" id="7791160">;</span>&nbsp;<span class="ident" id="7791162">lookupline</span>&nbsp;<span class="op" id="7791173">&lt;=</span>&nbsp;<span class="ident" id="7791176">line</span><span class="op" id="7791180">;</span>&nbsp;<span class="ident" id="7791182">lookupline</span><span class="op" id="7791192">++</span>&nbsp;<span class="op" id="7791195">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791200">pc2</span><span class="op" id="7791203">,</span>&nbsp;<span class="ident" id="7791205">fn2</span><span class="op" id="7791208">,</span>&nbsp;<span class="ident" id="7791210">err</span>&nbsp;<span class="op" id="7791214">:=</span>&nbsp;<span class="ident" id="7791217">tab</span><span class="op" id="7791220">.</span><span class="ident" id="7791221">LineToPC</span><span class="op" id="7791229">(</span><span class="ident" id="7791230">file</span><span class="op" id="7791234">,</span>&nbsp;<span class="ident" id="7791236">lookupline</span><span class="op" id="7791246">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791251">if</span>&nbsp;<span class="ident" id="7791254">lookupline</span>&nbsp;<span class="op" id="7791265">!=</span>&nbsp;<span class="ident" id="7791268">line</span>&nbsp;<span class="op" id="7791273">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="7791279">//&nbsp;Should&nbsp;be&nbsp;nothing&nbsp;on&nbsp;this&nbsp;line</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="7791317">if</span>&nbsp;<span class="ident" id="7791320">err</span>&nbsp;<span class="op" id="7791324">==</span>&nbsp;<span class="ident" id="7791327">nil</span>&nbsp;<span class="op" id="7791331">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791338">t</span><span class="op" id="7791339">.</span><span class="ident" id="7791340">Errorf</span><span class="op" id="7791346">(</span><span class="string" id="7791347">&#34;expected&nbsp;no&nbsp;PC&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7791388">,</span>&nbsp;<span class="ident" id="7791390">lookupline</span><span class="op" id="7791400">,</span>&nbsp;<span class="ident" id="7791402">pc2</span><span class="op" id="7791405">,</span>&nbsp;<span class="ident" id="7791407">fn2</span><span class="op" id="7791410">.</span><span class="ident" id="7791411">Name</span><span class="op" id="7791415">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791421">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791426">}</span>&nbsp;<span class="keyword" id="7791428">else</span>&nbsp;<span class="keyword" id="7791433">if</span>&nbsp;<span class="ident" id="7791436">err</span>&nbsp;<span class="op" id="7791440">!=</span>&nbsp;<span class="ident" id="7791443">nil</span>&nbsp;<span class="op" id="7791447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791453">t</span><span class="op" id="7791454">.</span><span class="ident" id="7791455">Errorf</span><span class="op" id="7791461">(</span><span class="string" id="7791462">&#34;failed&nbsp;to&nbsp;get&nbsp;PC&nbsp;of&nbsp;line&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="7791495">,</span>&nbsp;<span class="ident" id="7791497">lookupline</span><span class="op" id="7791507">,</span>&nbsp;<span class="ident" id="7791509">err</span><span class="op" id="7791512">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791517">}</span>&nbsp;<span class="keyword" id="7791519">else</span>&nbsp;<span class="keyword" id="7791524">if</span>&nbsp;<span class="ident" id="7791527">pc</span>&nbsp;<span class="op" id="7791530">!=</span>&nbsp;<span class="ident" id="7791533">pc2</span>&nbsp;<span class="op" id="7791537">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791543">t</span><span class="op" id="7791544">.</span><span class="ident" id="7791545">Errorf</span><span class="op" id="7791551">(</span><span class="string" id="7791552">&#34;expected&nbsp;PC&nbsp;%#x&nbsp;(%s)&nbsp;at&nbsp;line&nbsp;%d,&nbsp;got&nbsp;PC&nbsp;%#x&nbsp;(%s)&#34;</span><span class="op" id="7791602">,</span>&nbsp;<span class="ident" id="7791604">pc</span><span class="op" id="7791606">,</span>&nbsp;<span class="ident" id="7791608">fn</span><span class="op" id="7791610">.</span><span class="ident" id="7791611">Name</span><span class="op" id="7791615">,</span>&nbsp;<span class="ident" id="7791617">line</span><span class="op" id="7791621">,</span>&nbsp;<span class="ident" id="7791623">pc2</span><span class="op" id="7791626">,</span>&nbsp;<span class="ident" id="7791628">fn2</span><span class="op" id="7791631">.</span><span class="ident" id="7791632">Name</span><span class="op" id="7791636">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791641">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="7791649">off</span>&nbsp;<span class="op" id="7791653">=</span>&nbsp;<span class="ident" id="7791655">pc</span>&nbsp;<span class="op" id="7791658">+</span>&nbsp;<span class="num" id="7791660">1</span>&nbsp;<span class="op" id="7791662">-</span>&nbsp;<span class="ident" id="7791664">text</span><span class="op" id="7791668">.</span><span class="ident" id="7791669">Addr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="7791675">}</span><br>
<span class="lineno"></span><span class="op" id="7791677">}</span>
</div>
</body>
</html>
