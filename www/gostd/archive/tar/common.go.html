<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>archive/tar</h2>
<ul>
<li><a href="/gostd/archive/tar/common.go.html" class="current">common.go</a></li>
<li><a href="/gostd/archive/tar/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/archive/tar/reader.go.html">reader.go</a></li>
<li><a href="/gostd/archive/tar/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/archive/tar/stat_atim.go.html">stat_atim.go</a></li>
<li><a href="/gostd/archive/tar/stat_unix.go.html">stat_unix.go</a></li>
<li><a href="/gostd/archive/tar/tar_test.go.html">tar_test.go</a></li>
<li><a href="/gostd/archive/tar/writer.go.html">writer.go</a></li>
<li><a href="/gostd/archive/tar/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6353974">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6354029">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6354083">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="6354134">//&nbsp;Package&nbsp;tar&nbsp;implements&nbsp;access&nbsp;to&nbsp;tar&nbsp;archives.</span><br>
<span class="lineno"></span><span class="comment" id="6354184">//&nbsp;It&nbsp;aims&nbsp;to&nbsp;cover&nbsp;most&nbsp;of&nbsp;the&nbsp;variations,&nbsp;including&nbsp;those&nbsp;produced</span><br>
<span class="lineno"></span><span class="comment" id="6354253">//&nbsp;by&nbsp;GNU&nbsp;and&nbsp;BSD&nbsp;tars.</span><br>
<span class="lineno"></span><span class="comment" id="6354277">//</span><br>
<span class="lineno"></span><span class="comment" id="6354280">//&nbsp;References:</span><br>
<span class="lineno">10</span><span class="comment" id="6354295">//&nbsp;&nbsp;&nbsp;http://www.freebsd.org/cgi/man.cgi?query=tar&amp;sektion=5</span><br>
<span class="lineno"></span><span class="comment" id="6354355">//&nbsp;&nbsp;&nbsp;http://www.gnu.org/software/tar/manual/html_node/Standard.html</span><br>
<span class="lineno"></span><span class="comment" id="6354423">//&nbsp;&nbsp;&nbsp;http://pubs.opengroup.org/onlinepubs/9699919799/utilities/pax.html</span><br>
<span class="lineno"></span><span class="keyword" id="6354495">package</span>&nbsp;<span class="ident" id="6354503">tar</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="6354508">import</span>&nbsp;<span class="op" id="6354515">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6354518">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6354527">&#34;errors&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6354537">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6354544">&#34;os&#34;</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6354550">&#34;path&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6354558">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6354565">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6354568">const</span>&nbsp;<span class="op" id="6354574">(</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354577">blockSize</span>&nbsp;<span class="op" id="6354587">=</span>&nbsp;<span class="num" id="6354589">512</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354595">//&nbsp;Types</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354605">TypeReg</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354623">=</span>&nbsp;<span class="string" id="6354625">&#39;0&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354632">//&nbsp;regular&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354649">TypeRegA</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354667">=</span>&nbsp;<span class="string" id="6354669">&#39;\x00&#39;</span>&nbsp;<span class="comment" id="6354676">//&nbsp;regular&nbsp;file</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354693">TypeLink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354711">=</span>&nbsp;<span class="string" id="6354713">&#39;1&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354720">//&nbsp;hard&nbsp;link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354734">TypeSymlink</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354752">=</span>&nbsp;<span class="string" id="6354754">&#39;2&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354761">//&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354779">TypeChar</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354797">=</span>&nbsp;<span class="string" id="6354799">&#39;3&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354806">//&nbsp;character&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354832">TypeBlock</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354850">=</span>&nbsp;<span class="string" id="6354852">&#39;4&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354859">//&nbsp;block&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354881">TypeDir</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354899">=</span>&nbsp;<span class="string" id="6354901">&#39;5&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354908">//&nbsp;directory</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354922">TypeFifo</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354940">=</span>&nbsp;<span class="string" id="6354942">&#39;6&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354949">//&nbsp;fifo&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6354963">TypeCont</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6354981">=</span>&nbsp;<span class="string" id="6354983">&#39;7&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6354990">//&nbsp;reserved</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355003">TypeXHeader</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6355021">=</span>&nbsp;<span class="string" id="6355023">&#39;x&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355030">//&nbsp;extended&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355050">TypeXGlobalHeader</span>&nbsp;<span class="op" id="6355068">=</span>&nbsp;<span class="string" id="6355070">&#39;g&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355077">//&nbsp;global&nbsp;extended&nbsp;header</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355104">TypeGNULongName</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6355122">=</span>&nbsp;<span class="string" id="6355124">&#39;L&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355131">//&nbsp;Next&nbsp;file&nbsp;has&nbsp;a&nbsp;long&nbsp;name</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355161">TypeGNULongLink</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6355179">=</span>&nbsp;<span class="string" id="6355181">&#39;K&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355188">//&nbsp;Next&nbsp;file&nbsp;symlinks&nbsp;to&nbsp;a&nbsp;file&nbsp;w/&nbsp;a&nbsp;long&nbsp;name</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355236">TypeGNUSparse</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6355254">=</span>&nbsp;<span class="string" id="6355256">&#39;S&#39;</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355263">//&nbsp;sparse&nbsp;file</span><br>
<span class="lineno"></span><span class="op" id="6355278">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6355281">//&nbsp;A&nbsp;Header&nbsp;represents&nbsp;a&nbsp;single&nbsp;header&nbsp;in&nbsp;a&nbsp;tar&nbsp;archive.</span><br>
<span class="lineno">45</span><span class="comment" id="6355338">//&nbsp;Some&nbsp;fields&nbsp;may&nbsp;not&nbsp;be&nbsp;populated.</span><br>
<span class="lineno"></span><span class="keyword" id="6355375">type</span>&nbsp;<span class="ident" id="6355380">Header</span>&nbsp;<span class="keyword" id="6355387">struct</span>&nbsp;<span class="op" id="6355394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355397">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355408">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355418">//&nbsp;name&nbsp;of&nbsp;header&nbsp;file&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355448">Mode</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355459">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355469">//&nbsp;permission&nbsp;and&nbsp;mode&nbsp;bits</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355498">Uid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355509">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355519">//&nbsp;user&nbsp;id&nbsp;of&nbsp;owner</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355540">Gid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355551">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355561">//&nbsp;group&nbsp;id&nbsp;of&nbsp;owner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355583">Size</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355594">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355604">//&nbsp;length&nbsp;in&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355624">ModTime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355635">time</span><span class="op" id="6355639">.</span><span class="ident" id="6355640">Time</span>&nbsp;<span class="comment" id="6355645">//&nbsp;modified&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355663">Typeflag</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355674">byte</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355684">//&nbsp;type&nbsp;of&nbsp;header&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355709">Linkname</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355720">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355730">//&nbsp;target&nbsp;name&nbsp;of&nbsp;link</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355754">Uname</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355765">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355775">//&nbsp;user&nbsp;name&nbsp;of&nbsp;owner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355798">Gname</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6355809">string</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355819">//&nbsp;group&nbsp;name&nbsp;of&nbsp;owner</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355843">Devmajor</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6355854">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355864">//&nbsp;major&nbsp;number&nbsp;of&nbsp;character&nbsp;or&nbsp;block&nbsp;device</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355910">Devminor</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="6355921">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6355931">//&nbsp;minor&nbsp;number&nbsp;of&nbsp;character&nbsp;or&nbsp;block&nbsp;device</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6355977">AccessTime</span>&nbsp;<span class="ident" id="6355988">time</span><span class="op" id="6355992">.</span><span class="ident" id="6355993">Time</span>&nbsp;<span class="comment" id="6355998">//&nbsp;access&nbsp;time</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6356014">ChangeTime</span>&nbsp;<span class="ident" id="6356025">time</span><span class="op" id="6356029">.</span><span class="ident" id="6356030">Time</span>&nbsp;<span class="comment" id="6356035">//&nbsp;status&nbsp;change&nbsp;time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6356058">Xattrs</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6356069">map</span><span class="op" id="6356072">[</span><span class="builtintype" id="6356073">string</span><span class="op" id="6356079">]</span><span class="builtintype" id="6356080">string</span><br>
<span class="lineno"></span><span class="op" id="6356087">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6356090">//&nbsp;File&nbsp;name&nbsp;constants&nbsp;from&nbsp;the&nbsp;tar&nbsp;spec.</span><br>
<span class="lineno">65</span><span class="keyword" id="6356132">const</span>&nbsp;<span class="op" id="6356138">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6356141">fileNameSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6356160">=</span>&nbsp;<span class="num" id="6356162">100</span>&nbsp;<span class="comment" id="6356166">//&nbsp;Maximum&nbsp;number&nbsp;of&nbsp;bytes&nbsp;in&nbsp;a&nbsp;standard&nbsp;tar&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6356218">fileNamePrefixSize</span>&nbsp;<span class="op" id="6356237">=</span>&nbsp;<span class="num" id="6356239">155</span>&nbsp;<span class="comment" id="6356243">//&nbsp;Maximum&nbsp;number&nbsp;of&nbsp;ustar&nbsp;extension&nbsp;bytes.</span><br>
<span class="lineno"></span><span class="op" id="6356287">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span><span class="comment" id="6356290">//&nbsp;FileInfo&nbsp;returns&nbsp;an&nbsp;os.FileInfo&nbsp;for&nbsp;the&nbsp;Header.</span><br>
<span class="lineno"></span><span class="keyword" id="6356341">func</span>&nbsp;<span class="op" id="6356346">(</span><span class="ident" id="6356347">h</span>&nbsp;<span class="op" id="6356349">*</span><span class="ident" id="6356350">Header</span><span class="op" id="6356356">)</span>&nbsp;<span class="ident" id="6356358">FileInfo</span><span class="op" id="6356366">(</span><span class="op" id="6356367">)</span>&nbsp;<span class="ident" id="6356369">os</span><span class="op" id="6356371">.</span><span class="ident" id="6356372">FileInfo</span>&nbsp;<span class="op" id="6356381">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6356384">return</span>&nbsp;<span class="ident" id="6356391">headerFileInfo</span><span class="op" id="6356405">{</span><span class="ident" id="6356406">h</span><span class="op" id="6356407">}</span><br>
<span class="lineno"></span><span class="op" id="6356409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span><span class="comment" id="6356412">//&nbsp;headerFileInfo&nbsp;implements&nbsp;os.FileInfo.</span><br>
<span class="lineno"></span><span class="keyword" id="6356454">type</span>&nbsp;<span class="ident" id="6356459">headerFileInfo</span>&nbsp;<span class="keyword" id="6356474">struct</span>&nbsp;<span class="op" id="6356481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6356484">h</span>&nbsp;<span class="op" id="6356486">*</span><span class="ident" id="6356487">Header</span><br>
<span class="lineno"></span><span class="op" id="6356494">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">80</span><span class="keyword" id="6356497">func</span>&nbsp;<span class="op" id="6356502">(</span><span class="ident" id="6356503">fi</span>&nbsp;<span class="ident" id="6356506">headerFileInfo</span><span class="op" id="6356520">)</span>&nbsp;<span class="ident" id="6356522">Size</span><span class="op" id="6356526">(</span><span class="op" id="6356527">)</span>&nbsp;<span class="ident" id="6356529">int64</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6356542">{</span>&nbsp;<span class="keyword" id="6356544">return</span>&nbsp;<span class="ident" id="6356551">fi</span><span class="op" id="6356553">.</span><span class="ident" id="6356554">h</span><span class="op" id="6356555">.</span><span class="ident" id="6356556">Size</span>&nbsp;<span class="op" id="6356561">}</span><br>
<span class="lineno"></span><span class="keyword" id="6356563">func</span>&nbsp;<span class="op" id="6356568">(</span><span class="ident" id="6356569">fi</span>&nbsp;<span class="ident" id="6356572">headerFileInfo</span><span class="op" id="6356586">)</span>&nbsp;<span class="ident" id="6356588">IsDir</span><span class="op" id="6356593">(</span><span class="op" id="6356594">)</span>&nbsp;<span class="builtintype" id="6356596">bool</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6356608">{</span>&nbsp;<span class="keyword" id="6356610">return</span>&nbsp;<span class="ident" id="6356617">fi</span><span class="op" id="6356619">.</span><span class="ident" id="6356620">Mode</span><span class="op" id="6356624">(</span><span class="op" id="6356625">)</span><span class="op" id="6356626">.</span><span class="ident" id="6356627">IsDir</span><span class="op" id="6356632">(</span><span class="op" id="6356633">)</span>&nbsp;<span class="op" id="6356635">}</span><br>
<span class="lineno"></span><span class="keyword" id="6356637">func</span>&nbsp;<span class="op" id="6356642">(</span><span class="ident" id="6356643">fi</span>&nbsp;<span class="ident" id="6356646">headerFileInfo</span><span class="op" id="6356660">)</span>&nbsp;<span class="ident" id="6356662">ModTime</span><span class="op" id="6356669">(</span><span class="op" id="6356670">)</span>&nbsp;<span class="ident" id="6356672">time</span><span class="op" id="6356676">.</span><span class="ident" id="6356677">Time</span>&nbsp;<span class="op" id="6356682">{</span>&nbsp;<span class="keyword" id="6356684">return</span>&nbsp;<span class="ident" id="6356691">fi</span><span class="op" id="6356693">.</span><span class="ident" id="6356694">h</span><span class="op" id="6356695">.</span><span class="ident" id="6356696">ModTime</span>&nbsp;<span class="op" id="6356704">}</span><br>
<span class="lineno"></span><span class="keyword" id="6356706">func</span>&nbsp;<span class="op" id="6356711">(</span><span class="ident" id="6356712">fi</span>&nbsp;<span class="ident" id="6356715">headerFileInfo</span><span class="op" id="6356729">)</span>&nbsp;<span class="ident" id="6356731">Sys</span><span class="op" id="6356734">(</span><span class="op" id="6356735">)</span>&nbsp;<span class="keyword" id="6356737">interface</span><span class="op" id="6356746">{</span><span class="op" id="6356747">}</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6356751">{</span>&nbsp;<span class="keyword" id="6356753">return</span>&nbsp;<span class="ident" id="6356760">fi</span><span class="op" id="6356762">.</span><span class="ident" id="6356763">h</span>&nbsp;<span class="op" id="6356765">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">85</span><span class="comment" id="6356768">//&nbsp;Name&nbsp;returns&nbsp;the&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="6356811">func</span>&nbsp;<span class="op" id="6356816">(</span><span class="ident" id="6356817">fi</span>&nbsp;<span class="ident" id="6356820">headerFileInfo</span><span class="op" id="6356834">)</span>&nbsp;<span class="ident" id="6356836">Name</span><span class="op" id="6356840">(</span><span class="op" id="6356841">)</span>&nbsp;<span class="builtintype" id="6356843">string</span>&nbsp;<span class="op" id="6356850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6356853">if</span>&nbsp;<span class="ident" id="6356856">fi</span><span class="op" id="6356858">.</span><span class="ident" id="6356859">IsDir</span><span class="op" id="6356864">(</span><span class="op" id="6356865">)</span>&nbsp;<span class="op" id="6356867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6356871">return</span>&nbsp;<span class="ident" id="6356878">path</span><span class="op" id="6356882">.</span><span class="ident" id="6356883">Base</span><span class="op" id="6356887">(</span><span class="ident" id="6356888">path</span><span class="op" id="6356892">.</span><span class="ident" id="6356893">Clean</span><span class="op" id="6356898">(</span><span class="ident" id="6356899">fi</span><span class="op" id="6356901">.</span><span class="ident" id="6356902">h</span><span class="op" id="6356903">.</span><span class="ident" id="6356904">Name</span><span class="op" id="6356908">)</span><span class="op" id="6356909">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6356912">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6356915">return</span>&nbsp;<span class="ident" id="6356922">path</span><span class="op" id="6356926">.</span><span class="ident" id="6356927">Base</span><span class="op" id="6356931">(</span><span class="ident" id="6356932">fi</span><span class="op" id="6356934">.</span><span class="ident" id="6356935">h</span><span class="op" id="6356936">.</span><span class="ident" id="6356937">Name</span><span class="op" id="6356941">)</span><br>
<span class="lineno"></span><span class="op" id="6356943">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6356946">//&nbsp;Mode&nbsp;returns&nbsp;the&nbsp;permission&nbsp;and&nbsp;mode&nbsp;bits&nbsp;for&nbsp;the&nbsp;headerFileInfo.</span><br>
<span class="lineno"></span><span class="keyword" id="6357015">func</span>&nbsp;<span class="op" id="6357020">(</span><span class="ident" id="6357021">fi</span>&nbsp;<span class="ident" id="6357024">headerFileInfo</span><span class="op" id="6357038">)</span>&nbsp;<span class="ident" id="6357040">Mode</span><span class="op" id="6357044">(</span><span class="op" id="6357045">)</span>&nbsp;<span class="op" id="6357047">(</span><span class="ident" id="6357048">mode</span>&nbsp;<span class="ident" id="6357053">os</span><span class="op" id="6357055">.</span><span class="ident" id="6357056">FileMode</span><span class="op" id="6357064">)</span>&nbsp;<span class="op" id="6357066">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357069">//&nbsp;Set&nbsp;file&nbsp;permission&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357099">mode</span>&nbsp;<span class="op" id="6357104">=</span>&nbsp;<span class="ident" id="6357106">os</span><span class="op" id="6357108">.</span><span class="ident" id="6357109">FileMode</span><span class="op" id="6357117">(</span><span class="ident" id="6357118">fi</span><span class="op" id="6357120">.</span><span class="ident" id="6357121">h</span><span class="op" id="6357122">.</span><span class="ident" id="6357123">Mode</span><span class="op" id="6357127">)</span><span class="op" id="6357128">.</span><span class="ident" id="6357129">Perm</span><span class="op" id="6357133">(</span><span class="op" id="6357134">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357138">//&nbsp;Set&nbsp;setuid,&nbsp;setgid&nbsp;and&nbsp;sticky&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357178">if</span>&nbsp;<span class="ident" id="6357181">fi</span><span class="op" id="6357183">.</span><span class="ident" id="6357184">h</span><span class="op" id="6357185">.</span><span class="ident" id="6357186">Mode</span><span class="op" id="6357190">&amp;</span><span class="ident" id="6357191">c_ISUID</span>&nbsp;<span class="op" id="6357199">!=</span>&nbsp;<span class="num" id="6357202">0</span>&nbsp;<span class="op" id="6357204">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357208">//&nbsp;setuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357220">mode</span>&nbsp;<span class="op" id="6357225">|=</span>&nbsp;<span class="ident" id="6357228">os</span><span class="op" id="6357230">.</span><span class="ident" id="6357231">ModeSetuid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357243">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357246">if</span>&nbsp;<span class="ident" id="6357249">fi</span><span class="op" id="6357251">.</span><span class="ident" id="6357252">h</span><span class="op" id="6357253">.</span><span class="ident" id="6357254">Mode</span><span class="op" id="6357258">&amp;</span><span class="ident" id="6357259">c_ISGID</span>&nbsp;<span class="op" id="6357267">!=</span>&nbsp;<span class="num" id="6357270">0</span>&nbsp;<span class="op" id="6357272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357276">//&nbsp;setgid</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357288">mode</span>&nbsp;<span class="op" id="6357293">|=</span>&nbsp;<span class="ident" id="6357296">os</span><span class="op" id="6357298">.</span><span class="ident" id="6357299">ModeSetgid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357311">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357314">if</span>&nbsp;<span class="ident" id="6357317">fi</span><span class="op" id="6357319">.</span><span class="ident" id="6357320">h</span><span class="op" id="6357321">.</span><span class="ident" id="6357322">Mode</span><span class="op" id="6357326">&amp;</span><span class="ident" id="6357327">c_ISVTX</span>&nbsp;<span class="op" id="6357335">!=</span>&nbsp;<span class="num" id="6357338">0</span>&nbsp;<span class="op" id="6357340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357344">//&nbsp;sticky</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357356">mode</span>&nbsp;<span class="op" id="6357361">|=</span>&nbsp;<span class="ident" id="6357364">os</span><span class="op" id="6357366">.</span><span class="ident" id="6357367">ModeSticky</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357379">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357383">//&nbsp;Set&nbsp;file&nbsp;mode&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357407">//&nbsp;clear&nbsp;perm,&nbsp;setuid,&nbsp;setgid&nbsp;and&nbsp;sticky&nbsp;bits.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357455">m</span>&nbsp;<span class="op" id="6357457">:=</span>&nbsp;<span class="ident" id="6357460">os</span><span class="op" id="6357462">.</span><span class="ident" id="6357463">FileMode</span><span class="op" id="6357471">(</span><span class="ident" id="6357472">fi</span><span class="op" id="6357474">.</span><span class="ident" id="6357475">h</span><span class="op" id="6357476">.</span><span class="ident" id="6357477">Mode</span><span class="op" id="6357481">)</span>&nbsp;<span class="op" id="6357483">&amp;^</span>&nbsp;<span class="num" id="6357486">07777</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357493">if</span>&nbsp;<span class="ident" id="6357496">m</span>&nbsp;<span class="op" id="6357498">==</span>&nbsp;<span class="ident" id="6357501">c_ISDIR</span>&nbsp;<span class="op" id="6357509">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357513">//&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357528">mode</span>&nbsp;<span class="op" id="6357533">|=</span>&nbsp;<span class="ident" id="6357536">os</span><span class="op" id="6357538">.</span><span class="ident" id="6357539">ModeDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357548">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357551">if</span>&nbsp;<span class="ident" id="6357554">m</span>&nbsp;<span class="op" id="6357556">==</span>&nbsp;<span class="ident" id="6357559">c_ISFIFO</span>&nbsp;<span class="op" id="6357568">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357572">//&nbsp;named&nbsp;pipe&nbsp;(FIFO)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357595">mode</span>&nbsp;<span class="op" id="6357600">|=</span>&nbsp;<span class="ident" id="6357603">os</span><span class="op" id="6357605">.</span><span class="ident" id="6357606">ModeNamedPipe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357621">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357624">if</span>&nbsp;<span class="ident" id="6357627">m</span>&nbsp;<span class="op" id="6357629">==</span>&nbsp;<span class="ident" id="6357632">c_ISLNK</span>&nbsp;<span class="op" id="6357640">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357644">//&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357663">mode</span>&nbsp;<span class="op" id="6357668">|=</span>&nbsp;<span class="ident" id="6357671">os</span><span class="op" id="6357673">.</span><span class="ident" id="6357674">ModeSymlink</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357687">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357690">if</span>&nbsp;<span class="ident" id="6357693">m</span>&nbsp;<span class="op" id="6357695">==</span>&nbsp;<span class="ident" id="6357698">c_ISBLK</span>&nbsp;<span class="op" id="6357706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357710">//&nbsp;device&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357727">mode</span>&nbsp;<span class="op" id="6357732">|=</span>&nbsp;<span class="ident" id="6357735">os</span><span class="op" id="6357737">.</span><span class="ident" id="6357738">ModeDevice</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357753">if</span>&nbsp;<span class="ident" id="6357756">m</span>&nbsp;<span class="op" id="6357758">==</span>&nbsp;<span class="ident" id="6357761">c_ISCHR</span>&nbsp;<span class="op" id="6357769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357773">//&nbsp;Unix&nbsp;character&nbsp;device</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357800">mode</span>&nbsp;<span class="op" id="6357805">|=</span>&nbsp;<span class="ident" id="6357808">os</span><span class="op" id="6357810">.</span><span class="ident" id="6357811">ModeDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357824">mode</span>&nbsp;<span class="op" id="6357829">|=</span>&nbsp;<span class="ident" id="6357832">os</span><span class="op" id="6357834">.</span><span class="ident" id="6357835">ModeCharDevice</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357854">if</span>&nbsp;<span class="ident" id="6357857">m</span>&nbsp;<span class="op" id="6357859">==</span>&nbsp;<span class="ident" id="6357862">c_ISSOCK</span>&nbsp;<span class="op" id="6357871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357875">//&nbsp;Unix&nbsp;domain&nbsp;socket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6357899">mode</span>&nbsp;<span class="op" id="6357904">|=</span>&nbsp;<span class="ident" id="6357907">os</span><span class="op" id="6357909">.</span><span class="ident" id="6357910">ModeSocket</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6357922">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357926">switch</span>&nbsp;<span class="ident" id="6357933">fi</span><span class="op" id="6357935">.</span><span class="ident" id="6357936">h</span><span class="op" id="6357937">.</span><span class="ident" id="6357938">Typeflag</span>&nbsp;<span class="op" id="6357947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6357950">case</span>&nbsp;<span class="ident" id="6357955">TypeLink</span><span class="op" id="6357963">,</span>&nbsp;<span class="ident" id="6357965">TypeSymlink</span><span class="op" id="6357976">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6357980">//&nbsp;hard&nbsp;link,&nbsp;symbolic&nbsp;link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358010">mode</span>&nbsp;<span class="op" id="6358015">|=</span>&nbsp;<span class="ident" id="6358018">os</span><span class="op" id="6358020">.</span><span class="ident" id="6358021">ModeSymlink</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6358034">case</span>&nbsp;<span class="ident" id="6358039">TypeChar</span><span class="op" id="6358047">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6358051">//&nbsp;character&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358078">mode</span>&nbsp;<span class="op" id="6358083">|=</span>&nbsp;<span class="ident" id="6358086">os</span><span class="op" id="6358088">.</span><span class="ident" id="6358089">ModeDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358102">mode</span>&nbsp;<span class="op" id="6358107">|=</span>&nbsp;<span class="ident" id="6358110">os</span><span class="op" id="6358112">.</span><span class="ident" id="6358113">ModeCharDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6358129">case</span>&nbsp;<span class="ident" id="6358134">TypeBlock</span><span class="op" id="6358143">:</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6358147">//&nbsp;block&nbsp;device&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358170">mode</span>&nbsp;<span class="op" id="6358175">|=</span>&nbsp;<span class="ident" id="6358178">os</span><span class="op" id="6358180">.</span><span class="ident" id="6358181">ModeDevice</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6358193">case</span>&nbsp;<span class="ident" id="6358198">TypeDir</span><span class="op" id="6358205">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6358209">//&nbsp;directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358224">mode</span>&nbsp;<span class="op" id="6358229">|=</span>&nbsp;<span class="ident" id="6358232">os</span><span class="op" id="6358234">.</span><span class="ident" id="6358235">ModeDir</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6358244">case</span>&nbsp;<span class="ident" id="6358249">TypeFifo</span><span class="op" id="6358257">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6358261">//&nbsp;fifo&nbsp;node</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358276">mode</span>&nbsp;<span class="op" id="6358281">|=</span>&nbsp;<span class="ident" id="6358284">os</span><span class="op" id="6358286">.</span><span class="ident" id="6358287">ModeNamedPipe</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6358302">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6358306">return</span>&nbsp;<span class="ident" id="6358313">mode</span><br>
<span class="lineno"></span><span class="op" id="6358318">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6358321">//&nbsp;sysStat,&nbsp;if&nbsp;non-nil,&nbsp;populates&nbsp;h&nbsp;from&nbsp;system-dependent&nbsp;fields&nbsp;of&nbsp;fi.</span><br>
<span class="lineno"></span><span class="keyword" id="6358393">var</span>&nbsp;<span class="ident" id="6358397">sysStat</span>&nbsp;<span class="keyword" id="6358405">func</span><span class="op" id="6358409">(</span><span class="ident" id="6358410">fi</span>&nbsp;<span class="ident" id="6358413">os</span><span class="op" id="6358415">.</span><span class="ident" id="6358416">FileInfo</span><span class="op" id="6358424">,</span>&nbsp;<span class="ident" id="6358426">h</span>&nbsp;<span class="op" id="6358428">*</span><span class="ident" id="6358429">Header</span><span class="op" id="6358435">)</span>&nbsp;<span class="builtintype" id="6358437">error</span><br>
<span class="lineno">165</span><br>
<span class="lineno"></span><span class="comment" id="6358444">//&nbsp;Mode&nbsp;constants&nbsp;from&nbsp;the&nbsp;tar&nbsp;spec.</span><br>
<span class="lineno"></span><span class="keyword" id="6358481">const</span>&nbsp;<span class="op" id="6358487">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358490">c_ISUID</span>&nbsp;&nbsp;<span class="op" id="6358499">=</span>&nbsp;<span class="num" id="6358501">04000</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6358509">//&nbsp;Set&nbsp;uid</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358521">c_ISGID</span>&nbsp;&nbsp;<span class="op" id="6358530">=</span>&nbsp;<span class="num" id="6358532">02000</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6358540">//&nbsp;Set&nbsp;gid</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358552">c_ISVTX</span>&nbsp;&nbsp;<span class="op" id="6358561">=</span>&nbsp;<span class="num" id="6358563">01000</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="6358571">//&nbsp;Save&nbsp;text&nbsp;(sticky&nbsp;bit)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358598">c_ISDIR</span>&nbsp;&nbsp;<span class="op" id="6358607">=</span>&nbsp;<span class="num" id="6358609">040000</span>&nbsp;&nbsp;<span class="comment" id="6358617">//&nbsp;Directory</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358631">c_ISFIFO</span>&nbsp;<span class="op" id="6358640">=</span>&nbsp;<span class="num" id="6358642">010000</span>&nbsp;&nbsp;<span class="comment" id="6358650">//&nbsp;FIFO</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358659">c_ISREG</span>&nbsp;&nbsp;<span class="op" id="6358668">=</span>&nbsp;<span class="num" id="6358670">0100000</span>&nbsp;<span class="comment" id="6358678">//&nbsp;Regular&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358695">c_ISLNK</span>&nbsp;&nbsp;<span class="op" id="6358704">=</span>&nbsp;<span class="num" id="6358706">0120000</span>&nbsp;<span class="comment" id="6358714">//&nbsp;Symbolic&nbsp;link</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358732">c_ISBLK</span>&nbsp;&nbsp;<span class="op" id="6358741">=</span>&nbsp;<span class="num" id="6358743">060000</span>&nbsp;&nbsp;<span class="comment" id="6358751">//&nbsp;Block&nbsp;special&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358774">c_ISCHR</span>&nbsp;&nbsp;<span class="op" id="6358783">=</span>&nbsp;<span class="num" id="6358785">020000</span>&nbsp;&nbsp;<span class="comment" id="6358793">//&nbsp;Character&nbsp;special&nbsp;file</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358820">c_ISSOCK</span>&nbsp;<span class="op" id="6358829">=</span>&nbsp;<span class="num" id="6358831">0140000</span>&nbsp;<span class="comment" id="6358839">//&nbsp;Socket</span><br>
<span class="lineno"></span><span class="op" id="6358849">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">180</span><span class="comment" id="6358852">//&nbsp;Keywords&nbsp;for&nbsp;the&nbsp;PAX&nbsp;Extended&nbsp;Header</span><br>
<span class="lineno"></span><span class="keyword" id="6358892">const</span>&nbsp;<span class="op" id="6358898">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358901">paxAtime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6358913">=</span>&nbsp;<span class="string" id="6358915">&#34;atime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358924">paxCharset</span>&nbsp;&nbsp;<span class="op" id="6358936">=</span>&nbsp;<span class="string" id="6358938">&#34;charset&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358949">paxComment</span>&nbsp;&nbsp;<span class="op" id="6358961">=</span>&nbsp;<span class="string" id="6358963">&#34;comment&#34;</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6358974">paxCtime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6358986">=</span>&nbsp;<span class="string" id="6358988">&#34;ctime&#34;</span>&nbsp;<span class="comment" id="6358996">//&nbsp;please&nbsp;note&nbsp;that&nbsp;ctime&nbsp;is&nbsp;not&nbsp;a&nbsp;valid&nbsp;pax&nbsp;header.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359050">paxGid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359062">=</span>&nbsp;<span class="string" id="6359064">&#34;gid&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359071">paxGname</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359083">=</span>&nbsp;<span class="string" id="6359085">&#34;gname&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359094">paxLinkpath</span>&nbsp;<span class="op" id="6359106">=</span>&nbsp;<span class="string" id="6359108">&#34;linkpath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359120">paxMtime</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359132">=</span>&nbsp;<span class="string" id="6359134">&#34;mtime&#34;</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359143">paxPath</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359155">=</span>&nbsp;<span class="string" id="6359157">&#34;path&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359165">paxSize</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359177">=</span>&nbsp;<span class="string" id="6359179">&#34;size&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359187">paxUid</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359199">=</span>&nbsp;<span class="string" id="6359201">&#34;uid&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359208">paxUname</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359220">=</span>&nbsp;<span class="string" id="6359222">&#34;uname&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359231">paxXattr</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359243">=</span>&nbsp;<span class="string" id="6359245">&#34;SCHILY.xattr.&#34;</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359262">paxNone</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359274">=</span>&nbsp;<span class="string" id="6359276">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="6359279">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6359282">//&nbsp;FileInfoHeader&nbsp;creates&nbsp;a&nbsp;partially-populated&nbsp;Header&nbsp;from&nbsp;fi.</span><br>
<span class="lineno"></span><span class="comment" id="6359346">//&nbsp;If&nbsp;fi&nbsp;describes&nbsp;a&nbsp;symlink,&nbsp;FileInfoHeader&nbsp;records&nbsp;link&nbsp;as&nbsp;the&nbsp;link&nbsp;target.</span><br>
<span class="lineno">200</span><span class="comment" id="6359424">//&nbsp;If&nbsp;fi&nbsp;describes&nbsp;a&nbsp;directory,&nbsp;a&nbsp;slash&nbsp;is&nbsp;appended&nbsp;to&nbsp;the&nbsp;name.</span><br>
<span class="lineno"></span><span class="comment" id="6359489">//&nbsp;Because&nbsp;os.FileInfo&#39;s&nbsp;Name&nbsp;method&nbsp;returns&nbsp;only&nbsp;the&nbsp;base&nbsp;name&nbsp;of</span><br>
<span class="lineno"></span><span class="comment" id="6359556">//&nbsp;the&nbsp;file&nbsp;it&nbsp;describes,&nbsp;it&nbsp;may&nbsp;be&nbsp;necessary&nbsp;to&nbsp;modify&nbsp;the&nbsp;Name&nbsp;field</span><br>
<span class="lineno"></span><span class="comment" id="6359627">//&nbsp;of&nbsp;the&nbsp;returned&nbsp;header&nbsp;to&nbsp;provide&nbsp;the&nbsp;full&nbsp;path&nbsp;name&nbsp;of&nbsp;the&nbsp;file.</span><br>
<span class="lineno"></span><span class="keyword" id="6359696">func</span>&nbsp;<span class="ident" id="6359701">FileInfoHeader</span><span class="op" id="6359715">(</span><span class="ident" id="6359716">fi</span>&nbsp;<span class="ident" id="6359719">os</span><span class="op" id="6359721">.</span><span class="ident" id="6359722">FileInfo</span><span class="op" id="6359730">,</span>&nbsp;<span class="ident" id="6359732">link</span>&nbsp;<span class="builtintype" id="6359737">string</span><span class="op" id="6359743">)</span>&nbsp;<span class="op" id="6359745">(</span><span class="op" id="6359746">*</span><span class="ident" id="6359747">Header</span><span class="op" id="6359753">,</span>&nbsp;<span class="builtintype" id="6359755">error</span><span class="op" id="6359760">)</span>&nbsp;<span class="op" id="6359762">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6359765">if</span>&nbsp;<span class="ident" id="6359768">fi</span>&nbsp;<span class="op" id="6359771">==</span>&nbsp;<span class="builtintype" id="6359774">nil</span>&nbsp;<span class="op" id="6359778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6359782">return</span>&nbsp;<span class="builtintype" id="6359789">nil</span><span class="op" id="6359792">,</span>&nbsp;<span class="ident" id="6359794">errors</span><span class="op" id="6359800">.</span><span class="ident" id="6359801">New</span><span class="op" id="6359804">(</span><span class="string" id="6359805">&#34;tar:&nbsp;FileInfo&nbsp;is&nbsp;nil&#34;</span><span class="op" id="6359827">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359830">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359833">fm</span>&nbsp;<span class="op" id="6359836">:=</span>&nbsp;<span class="ident" id="6359839">fi</span><span class="op" id="6359841">.</span><span class="ident" id="6359842">Mode</span><span class="op" id="6359846">(</span><span class="op" id="6359847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359850">h</span>&nbsp;<span class="op" id="6359852">:=</span>&nbsp;<span class="op" id="6359855">&amp;</span><span class="ident" id="6359856">Header</span><span class="op" id="6359862">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359866">Name</span><span class="op" id="6359870">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359875">fi</span><span class="op" id="6359877">.</span><span class="ident" id="6359878">Name</span><span class="op" id="6359882">(</span><span class="op" id="6359883">)</span><span class="op" id="6359884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359888">ModTime</span><span class="op" id="6359895">:</span>&nbsp;<span class="ident" id="6359897">fi</span><span class="op" id="6359899">.</span><span class="ident" id="6359900">ModTime</span><span class="op" id="6359907">(</span><span class="op" id="6359908">)</span><span class="op" id="6359909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359913">Mode</span><span class="op" id="6359917">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6359922">int64</span><span class="op" id="6359927">(</span><span class="ident" id="6359928">fm</span><span class="op" id="6359930">.</span><span class="ident" id="6359931">Perm</span><span class="op" id="6359935">(</span><span class="op" id="6359936">)</span><span class="op" id="6359937">)</span><span class="op" id="6359938">,</span>&nbsp;<span class="comment" id="6359940">//&nbsp;or&#39;d&nbsp;with&nbsp;c_IS*&nbsp;constants&nbsp;later</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6359976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6359979">switch</span>&nbsp;<span class="op" id="6359986">{</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6359989">case</span>&nbsp;<span class="ident" id="6359994">fm</span><span class="op" id="6359996">.</span><span class="ident" id="6359997">IsRegular</span><span class="op" id="6360006">(</span><span class="op" id="6360007">)</span><span class="op" id="6360008">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360012">h</span><span class="op" id="6360013">.</span><span class="ident" id="6360014">Mode</span>&nbsp;<span class="op" id="6360019">|=</span>&nbsp;<span class="ident" id="6360022">c_ISREG</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360032">h</span><span class="op" id="6360033">.</span><span class="ident" id="6360034">Typeflag</span>&nbsp;<span class="op" id="6360043">=</span>&nbsp;<span class="ident" id="6360045">TypeReg</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360055">h</span><span class="op" id="6360056">.</span><span class="ident" id="6360057">Size</span>&nbsp;<span class="op" id="6360062">=</span>&nbsp;<span class="ident" id="6360064">fi</span><span class="op" id="6360066">.</span><span class="ident" id="6360067">Size</span><span class="op" id="6360071">(</span><span class="op" id="6360072">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360075">case</span>&nbsp;<span class="ident" id="6360080">fi</span><span class="op" id="6360082">.</span><span class="ident" id="6360083">IsDir</span><span class="op" id="6360088">(</span><span class="op" id="6360089">)</span><span class="op" id="6360090">:</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360094">h</span><span class="op" id="6360095">.</span><span class="ident" id="6360096">Typeflag</span>&nbsp;<span class="op" id="6360105">=</span>&nbsp;<span class="ident" id="6360107">TypeDir</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360117">h</span><span class="op" id="6360118">.</span><span class="ident" id="6360119">Mode</span>&nbsp;<span class="op" id="6360124">|=</span>&nbsp;<span class="ident" id="6360127">c_ISDIR</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360137">h</span><span class="op" id="6360138">.</span><span class="ident" id="6360139">Name</span>&nbsp;<span class="op" id="6360144">+=</span>&nbsp;<span class="string" id="6360147">&#34;/&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360152">case</span>&nbsp;<span class="ident" id="6360157">fm</span><span class="op" id="6360159">&amp;</span><span class="ident" id="6360160">os</span><span class="op" id="6360162">.</span><span class="ident" id="6360163">ModeSymlink</span>&nbsp;<span class="op" id="6360175">!=</span>&nbsp;<span class="num" id="6360178">0</span><span class="op" id="6360179">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360183">h</span><span class="op" id="6360184">.</span><span class="ident" id="6360185">Typeflag</span>&nbsp;<span class="op" id="6360194">=</span>&nbsp;<span class="ident" id="6360196">TypeSymlink</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360210">h</span><span class="op" id="6360211">.</span><span class="ident" id="6360212">Mode</span>&nbsp;<span class="op" id="6360217">|=</span>&nbsp;<span class="ident" id="6360220">c_ISLNK</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360230">h</span><span class="op" id="6360231">.</span><span class="ident" id="6360232">Linkname</span>&nbsp;<span class="op" id="6360241">=</span>&nbsp;<span class="ident" id="6360243">link</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360249">case</span>&nbsp;<span class="ident" id="6360254">fm</span><span class="op" id="6360256">&amp;</span><span class="ident" id="6360257">os</span><span class="op" id="6360259">.</span><span class="ident" id="6360260">ModeDevice</span>&nbsp;<span class="op" id="6360271">!=</span>&nbsp;<span class="num" id="6360274">0</span><span class="op" id="6360275">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360279">if</span>&nbsp;<span class="ident" id="6360282">fm</span><span class="op" id="6360284">&amp;</span><span class="ident" id="6360285">os</span><span class="op" id="6360287">.</span><span class="ident" id="6360288">ModeCharDevice</span>&nbsp;<span class="op" id="6360303">!=</span>&nbsp;<span class="num" id="6360306">0</span>&nbsp;<span class="op" id="6360308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360313">h</span><span class="op" id="6360314">.</span><span class="ident" id="6360315">Mode</span>&nbsp;<span class="op" id="6360320">|=</span>&nbsp;<span class="ident" id="6360323">c_ISCHR</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360334">h</span><span class="op" id="6360335">.</span><span class="ident" id="6360336">Typeflag</span>&nbsp;<span class="op" id="6360345">=</span>&nbsp;<span class="ident" id="6360347">TypeChar</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360358">}</span>&nbsp;<span class="keyword" id="6360360">else</span>&nbsp;<span class="op" id="6360365">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360370">h</span><span class="op" id="6360371">.</span><span class="ident" id="6360372">Mode</span>&nbsp;<span class="op" id="6360377">|=</span>&nbsp;<span class="ident" id="6360380">c_ISBLK</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360391">h</span><span class="op" id="6360392">.</span><span class="ident" id="6360393">Typeflag</span>&nbsp;<span class="op" id="6360402">=</span>&nbsp;<span class="ident" id="6360404">TypeBlock</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360416">}</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360419">case</span>&nbsp;<span class="ident" id="6360424">fm</span><span class="op" id="6360426">&amp;</span><span class="ident" id="6360427">os</span><span class="op" id="6360429">.</span><span class="ident" id="6360430">ModeNamedPipe</span>&nbsp;<span class="op" id="6360444">!=</span>&nbsp;<span class="num" id="6360447">0</span><span class="op" id="6360448">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360452">h</span><span class="op" id="6360453">.</span><span class="ident" id="6360454">Typeflag</span>&nbsp;<span class="op" id="6360463">=</span>&nbsp;<span class="ident" id="6360465">TypeFifo</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360476">h</span><span class="op" id="6360477">.</span><span class="ident" id="6360478">Mode</span>&nbsp;<span class="op" id="6360483">|=</span>&nbsp;<span class="ident" id="6360486">c_ISFIFO</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360496">case</span>&nbsp;<span class="ident" id="6360501">fm</span><span class="op" id="6360503">&amp;</span><span class="ident" id="6360504">os</span><span class="op" id="6360506">.</span><span class="ident" id="6360507">ModeSocket</span>&nbsp;<span class="op" id="6360518">!=</span>&nbsp;<span class="num" id="6360521">0</span><span class="op" id="6360522">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360526">h</span><span class="op" id="6360527">.</span><span class="ident" id="6360528">Mode</span>&nbsp;<span class="op" id="6360533">|=</span>&nbsp;<span class="ident" id="6360536">c_ISSOCK</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360546">default</span><span class="op" id="6360553">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360557">return</span>&nbsp;<span class="builtintype" id="6360564">nil</span><span class="op" id="6360567">,</span>&nbsp;<span class="ident" id="6360569">fmt</span><span class="op" id="6360572">.</span><span class="ident" id="6360573">Errorf</span><span class="op" id="6360579">(</span><span class="string" id="6360580">&#34;archive/tar:&nbsp;unknown&nbsp;file&nbsp;mode&nbsp;%v&#34;</span><span class="op" id="6360615">,</span>&nbsp;<span class="ident" id="6360617">fm</span><span class="op" id="6360619">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360622">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360625">if</span>&nbsp;<span class="ident" id="6360628">fm</span><span class="op" id="6360630">&amp;</span><span class="ident" id="6360631">os</span><span class="op" id="6360633">.</span><span class="ident" id="6360634">ModeSetuid</span>&nbsp;<span class="op" id="6360645">!=</span>&nbsp;<span class="num" id="6360648">0</span>&nbsp;<span class="op" id="6360650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360654">h</span><span class="op" id="6360655">.</span><span class="ident" id="6360656">Mode</span>&nbsp;<span class="op" id="6360661">|=</span>&nbsp;<span class="ident" id="6360664">c_ISUID</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360673">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360676">if</span>&nbsp;<span class="ident" id="6360679">fm</span><span class="op" id="6360681">&amp;</span><span class="ident" id="6360682">os</span><span class="op" id="6360684">.</span><span class="ident" id="6360685">ModeSetgid</span>&nbsp;<span class="op" id="6360696">!=</span>&nbsp;<span class="num" id="6360699">0</span>&nbsp;<span class="op" id="6360701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360705">h</span><span class="op" id="6360706">.</span><span class="ident" id="6360707">Mode</span>&nbsp;<span class="op" id="6360712">|=</span>&nbsp;<span class="ident" id="6360715">c_ISGID</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360724">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360727">if</span>&nbsp;<span class="ident" id="6360730">fm</span><span class="op" id="6360732">&amp;</span><span class="ident" id="6360733">os</span><span class="op" id="6360735">.</span><span class="ident" id="6360736">ModeSticky</span>&nbsp;<span class="op" id="6360747">!=</span>&nbsp;<span class="num" id="6360750">0</span>&nbsp;<span class="op" id="6360752">{</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6360756">h</span><span class="op" id="6360757">.</span><span class="ident" id="6360758">Mode</span>&nbsp;<span class="op" id="6360763">|=</span>&nbsp;<span class="ident" id="6360766">c_ISVTX</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360775">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360778">if</span>&nbsp;<span class="ident" id="6360781">sysStat</span>&nbsp;<span class="op" id="6360789">!=</span>&nbsp;<span class="builtintype" id="6360792">nil</span>&nbsp;<span class="op" id="6360796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360800">return</span>&nbsp;<span class="ident" id="6360807">h</span><span class="op" id="6360808">,</span>&nbsp;<span class="ident" id="6360810">sysStat</span><span class="op" id="6360817">(</span><span class="ident" id="6360818">fi</span><span class="op" id="6360820">,</span>&nbsp;<span class="ident" id="6360822">h</span><span class="op" id="6360823">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6360826">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6360829">return</span>&nbsp;<span class="ident" id="6360836">h</span><span class="op" id="6360837">,</span>&nbsp;<span class="builtintype" id="6360839">nil</span><br>
<span class="lineno"></span><span class="op" id="6360843">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6360846">var</span>&nbsp;<span class="ident" id="6360850">zeroBlock</span>&nbsp;<span class="op" id="6360860">=</span>&nbsp;<span class="builtinfunc" id="6360862">make</span><span class="op" id="6360866">(</span><span class="op" id="6360867">[</span><span class="op" id="6360868">]</span><span class="builtintype" id="6360869">byte</span><span class="op" id="6360873">,</span>&nbsp;<span class="ident" id="6360875">blockSize</span><span class="op" id="6360884">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">260</span><span class="comment" id="6360887">//&nbsp;POSIX&nbsp;specifies&nbsp;a&nbsp;sum&nbsp;of&nbsp;the&nbsp;unsigned&nbsp;byte&nbsp;values,&nbsp;but&nbsp;the&nbsp;Sun&nbsp;tar&nbsp;uses&nbsp;signed&nbsp;byte&nbsp;values.</span><br>
<span class="lineno"></span><span class="comment" id="6360982">//&nbsp;We&nbsp;compute&nbsp;and&nbsp;return&nbsp;both.</span><br>
<span class="lineno"></span><span class="keyword" id="6361013">func</span>&nbsp;<span class="ident" id="6361018">checksum</span><span class="op" id="6361026">(</span><span class="ident" id="6361027">header</span>&nbsp;<span class="op" id="6361034">[</span><span class="op" id="6361035">]</span><span class="builtintype" id="6361036">byte</span><span class="op" id="6361040">)</span>&nbsp;<span class="op" id="6361042">(</span><span class="ident" id="6361043">unsigned</span>&nbsp;<span class="ident" id="6361052">int64</span><span class="op" id="6361057">,</span>&nbsp;<span class="ident" id="6361059">signed</span>&nbsp;<span class="ident" id="6361066">int64</span><span class="op" id="6361071">)</span>&nbsp;<span class="op" id="6361073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361076">for</span>&nbsp;<span class="ident" id="6361080">i</span>&nbsp;<span class="op" id="6361082">:=</span>&nbsp;<span class="num" id="6361085">0</span><span class="op" id="6361086">;</span>&nbsp;<span class="ident" id="6361088">i</span>&nbsp;<span class="op" id="6361090">&lt;</span>&nbsp;<span class="builtinfunc" id="6361092">len</span><span class="op" id="6361095">(</span><span class="ident" id="6361096">header</span><span class="op" id="6361102">)</span><span class="op" id="6361103">;</span>&nbsp;<span class="ident" id="6361105">i</span><span class="op" id="6361106">++</span>&nbsp;<span class="op" id="6361109">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361113">if</span>&nbsp;<span class="ident" id="6361116">i</span>&nbsp;<span class="op" id="6361118">==</span>&nbsp;<span class="num" id="6361121">148</span>&nbsp;<span class="op" id="6361125">{</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6361130">//&nbsp;The&nbsp;chksum&nbsp;field&nbsp;(header[148:156])&nbsp;is&nbsp;special:&nbsp;it&nbsp;should&nbsp;be&nbsp;treated&nbsp;as&nbsp;space&nbsp;bytes.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361220">unsigned</span>&nbsp;<span class="op" id="6361229">+=</span>&nbsp;<span class="string" id="6361232">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6361236">*</span>&nbsp;<span class="num" id="6361238">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361243">signed</span>&nbsp;<span class="op" id="6361250">+=</span>&nbsp;<span class="string" id="6361253">&#39;&nbsp;&#39;</span>&nbsp;<span class="op" id="6361257">*</span>&nbsp;<span class="num" id="6361259">8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361264">i</span>&nbsp;<span class="op" id="6361266">+=</span>&nbsp;<span class="num" id="6361269">7</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361274">continue</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361285">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361289">unsigned</span>&nbsp;<span class="op" id="6361298">+=</span>&nbsp;<span class="ident" id="6361301">int64</span><span class="op" id="6361306">(</span><span class="ident" id="6361307">header</span><span class="op" id="6361313">[</span><span class="ident" id="6361314">i</span><span class="op" id="6361315">]</span><span class="op" id="6361316">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361320">signed</span>&nbsp;<span class="op" id="6361327">+=</span>&nbsp;<span class="ident" id="6361330">int64</span><span class="op" id="6361335">(</span><span class="builtintype" id="6361336">int8</span><span class="op" id="6361340">(</span><span class="ident" id="6361341">header</span><span class="op" id="6361347">[</span><span class="ident" id="6361348">i</span><span class="op" id="6361349">]</span><span class="op" id="6361350">)</span><span class="op" id="6361351">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361354">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361357">return</span><br>
<span class="lineno">275</span><span class="op" id="6361364">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6361367">type</span>&nbsp;<span class="ident" id="6361372">slicer</span>&nbsp;<span class="op" id="6361379">[</span><span class="op" id="6361380">]</span><span class="builtintype" id="6361381">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6361387">func</span>&nbsp;<span class="op" id="6361392">(</span><span class="ident" id="6361393">sp</span>&nbsp;<span class="op" id="6361396">*</span><span class="ident" id="6361397">slicer</span><span class="op" id="6361403">)</span>&nbsp;<span class="ident" id="6361405">next</span><span class="op" id="6361409">(</span><span class="ident" id="6361410">n</span>&nbsp;<span class="builtintype" id="6361412">int</span><span class="op" id="6361415">)</span>&nbsp;<span class="op" id="6361417">(</span><span class="ident" id="6361418">b</span>&nbsp;<span class="op" id="6361420">[</span><span class="op" id="6361421">]</span><span class="builtintype" id="6361422">byte</span><span class="op" id="6361426">)</span>&nbsp;<span class="op" id="6361428">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361431">s</span>&nbsp;<span class="op" id="6361433">:=</span>&nbsp;<span class="op" id="6361436">*</span><span class="ident" id="6361437">sp</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361441">b</span><span class="op" id="6361442">,</span>&nbsp;<span class="op" id="6361444">*</span><span class="ident" id="6361445">sp</span>&nbsp;<span class="op" id="6361448">=</span>&nbsp;<span class="ident" id="6361450">s</span><span class="op" id="6361451">[</span><span class="num" id="6361452">0</span><span class="op" id="6361453">:</span><span class="ident" id="6361454">n</span><span class="op" id="6361455">]</span><span class="op" id="6361456">,</span>&nbsp;<span class="ident" id="6361458">s</span><span class="op" id="6361459">[</span><span class="ident" id="6361460">n</span><span class="op" id="6361461">:</span><span class="op" id="6361462">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361465">return</span><br>
<span class="lineno"></span><span class="op" id="6361472">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="keyword" id="6361475">func</span>&nbsp;<span class="ident" id="6361480">isASCII</span><span class="op" id="6361487">(</span><span class="ident" id="6361488">s</span>&nbsp;<span class="builtintype" id="6361490">string</span><span class="op" id="6361496">)</span>&nbsp;<span class="builtintype" id="6361498">bool</span>&nbsp;<span class="op" id="6361503">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361506">for</span>&nbsp;<span class="ident" id="6361510">_</span><span class="op" id="6361511">,</span>&nbsp;<span class="ident" id="6361513">c</span>&nbsp;<span class="op" id="6361515">:=</span>&nbsp;<span class="keyword" id="6361518">range</span>&nbsp;<span class="ident" id="6361524">s</span>&nbsp;<span class="op" id="6361526">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361530">if</span>&nbsp;<span class="ident" id="6361533">c</span>&nbsp;<span class="op" id="6361535">&gt;=</span>&nbsp;<span class="num" id="6361538">0x80</span>&nbsp;<span class="op" id="6361543">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361548">return</span>&nbsp;<span class="builtintype" id="6361555">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361563">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361566">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361569">return</span>&nbsp;<span class="builtintype" id="6361576">true</span><br>
<span class="lineno"></span><span class="op" id="6361581">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6361584">func</span>&nbsp;<span class="ident" id="6361589">toASCII</span><span class="op" id="6361596">(</span><span class="ident" id="6361597">s</span>&nbsp;<span class="builtintype" id="6361599">string</span><span class="op" id="6361605">)</span>&nbsp;<span class="builtintype" id="6361607">string</span>&nbsp;<span class="op" id="6361614">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361617">if</span>&nbsp;<span class="ident" id="6361620">isASCII</span><span class="op" id="6361627">(</span><span class="ident" id="6361628">s</span><span class="op" id="6361629">)</span>&nbsp;<span class="op" id="6361631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361635">return</span>&nbsp;<span class="ident" id="6361642">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361645">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361648">var</span>&nbsp;<span class="ident" id="6361652">buf</span>&nbsp;<span class="ident" id="6361656">bytes</span><span class="op" id="6361661">.</span><span class="ident" id="6361662">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361670">for</span>&nbsp;<span class="ident" id="6361674">_</span><span class="op" id="6361675">,</span>&nbsp;<span class="ident" id="6361677">c</span>&nbsp;<span class="op" id="6361679">:=</span>&nbsp;<span class="keyword" id="6361682">range</span>&nbsp;<span class="ident" id="6361688">s</span>&nbsp;<span class="op" id="6361690">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361694">if</span>&nbsp;<span class="ident" id="6361697">c</span>&nbsp;<span class="op" id="6361699">&lt;</span>&nbsp;<span class="num" id="6361701">0x80</span>&nbsp;<span class="op" id="6361706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6361711">buf</span><span class="op" id="6361714">.</span><span class="ident" id="6361715">WriteByte</span><span class="op" id="6361724">(</span><span class="builtintype" id="6361725">byte</span><span class="op" id="6361729">(</span><span class="ident" id="6361730">c</span><span class="op" id="6361731">)</span><span class="op" id="6361732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361736">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6361739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6361742">return</span>&nbsp;<span class="ident" id="6361749">buf</span><span class="op" id="6361752">.</span><span class="ident" id="6361753">String</span><span class="op" id="6361759">(</span><span class="op" id="6361760">)</span><br>
<span class="lineno">305</span><span class="op" id="6361762">}</span>
</div>
</body>
</html>
