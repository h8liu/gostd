<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>os/exec</h2>
<ul>
<li><a href="/gostd/os/exec/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/os/exec/exec.go.html">exec.go</a></li>
<li><a href="/gostd/os/exec/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/os/exec/lp_test.go.html" class="current">lp_test.go</a></li>
<li><a href="/gostd/os/exec/lp_unix.go.html">lp_unix.go</a></li>
<li><a href="/gostd/os/exec/lp_unix_test.go.html">lp_unix_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7974771">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7974826">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7974880">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7974931">package</span>&nbsp;<span class="ident" id="7974939">exec</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7974945">import</span>&nbsp;<span class="op" id="7974952">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7974955">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7974965">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="7974968">var</span>&nbsp;<span class="ident" id="7974972">nonExistentPaths</span>&nbsp;<span class="op" id="7974989">=</span>&nbsp;<span class="op" id="7974991">[</span><span class="op" id="7974992">]</span><span class="builtintype" id="7974993">string</span><span class="op" id="7974999">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975002">&#34;some-non-existent-path&#34;</span><span class="op" id="7975026">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7975029">&#34;non-existent-path/slashed&#34;</span><span class="op" id="7975056">,</span><br>
<span class="lineno"></span><span class="op" id="7975058">}</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="7975061">func</span>&nbsp;<span class="ident" id="7975066">TestLookPathNotFound</span><span class="op" id="7975086">(</span><span class="ident" id="7975087">t</span>&nbsp;<span class="op" id="7975089">*</span><span class="ident" id="7975090">testing</span><span class="op" id="7975097">.</span><span class="ident" id="7975098">T</span><span class="op" id="7975099">)</span>&nbsp;<span class="op" id="7975101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7975104">for</span>&nbsp;<span class="ident" id="7975108">_</span><span class="op" id="7975109">,</span>&nbsp;<span class="ident" id="7975111">name</span>&nbsp;<span class="op" id="7975116">:=</span>&nbsp;<span class="keyword" id="7975119">range</span>&nbsp;<span class="ident" id="7975125">nonExistentPaths</span>&nbsp;<span class="op" id="7975142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7975146">path</span><span class="op" id="7975150">,</span>&nbsp;<span class="ident" id="7975152">err</span>&nbsp;<span class="op" id="7975156">:=</span>&nbsp;<span class="ident" id="7975159">LookPath</span><span class="op" id="7975167">(</span><span class="ident" id="7975168">name</span><span class="op" id="7975172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7975176">if</span>&nbsp;<span class="ident" id="7975179">err</span>&nbsp;<span class="op" id="7975183">==</span>&nbsp;<span class="builtintype" id="7975186">nil</span>&nbsp;<span class="op" id="7975190">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7975195">t</span><span class="op" id="7975196">.</span><span class="ident" id="7975197">Fatalf</span><span class="op" id="7975203">(</span><span class="string" id="7975204">&#34;LookPath&nbsp;found&nbsp;%q&nbsp;in&nbsp;$PATH&#34;</span><span class="op" id="7975232">,</span>&nbsp;<span class="ident" id="7975234">name</span><span class="op" id="7975238">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975242">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7975246">if</span>&nbsp;<span class="ident" id="7975249">path</span>&nbsp;<span class="op" id="7975254">!=</span>&nbsp;<span class="string" id="7975257">&#34;&#34;</span>&nbsp;<span class="op" id="7975260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7975265">t</span><span class="op" id="7975266">.</span><span class="ident" id="7975267">Fatalf</span><span class="op" id="7975273">(</span><span class="string" id="7975274">&#34;LookPath&nbsp;path&nbsp;==&nbsp;%q&nbsp;when&nbsp;err&nbsp;!=&nbsp;nil&#34;</span><span class="op" id="7975311">,</span>&nbsp;<span class="ident" id="7975313">path</span><span class="op" id="7975317">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975321">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7975325">perr</span><span class="op" id="7975329">,</span>&nbsp;<span class="ident" id="7975331">ok</span>&nbsp;<span class="op" id="7975334">:=</span>&nbsp;<span class="ident" id="7975337">err</span><span class="op" id="7975340">.</span><span class="op" id="7975341">(</span><span class="op" id="7975342">*</span><span class="ident" id="7975343">Error</span><span class="op" id="7975348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7975352">if</span>&nbsp;<span class="op" id="7975355">!</span><span class="ident" id="7975356">ok</span>&nbsp;<span class="op" id="7975359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7975364">t</span><span class="op" id="7975365">.</span><span class="ident" id="7975366">Fatal</span><span class="op" id="7975371">(</span><span class="string" id="7975372">&#34;LookPath&nbsp;error&nbsp;is&nbsp;not&nbsp;an&nbsp;exec.Error&#34;</span><span class="op" id="7975409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7975417">if</span>&nbsp;<span class="ident" id="7975420">perr</span><span class="op" id="7975424">.</span><span class="ident" id="7975425">Name</span>&nbsp;<span class="op" id="7975430">!=</span>&nbsp;<span class="ident" id="7975433">name</span>&nbsp;<span class="op" id="7975438">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7975443">t</span><span class="op" id="7975444">.</span><span class="ident" id="7975445">Fatalf</span><span class="op" id="7975451">(</span><span class="string" id="7975452">&#34;want&nbsp;Error&nbsp;name&nbsp;%q,&nbsp;got&nbsp;%q&#34;</span><span class="op" id="7975480">,</span>&nbsp;<span class="ident" id="7975482">name</span><span class="op" id="7975486">,</span>&nbsp;<span class="ident" id="7975488">perr</span><span class="op" id="7975492">.</span><span class="ident" id="7975493">Name</span><span class="op" id="7975497">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7975504">}</span><br>
<span class="lineno"></span><span class="op" id="7975506">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
