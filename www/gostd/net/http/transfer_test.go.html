<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="7561363">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="7561418">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="7561472">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="7561523">package</span>&nbsp;<span class="ident" id="7561531">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7561537">import</span>&nbsp;<span class="op" id="7561544">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561547">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561556">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561562">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7561573">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="7561583">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="7561586">func</span>&nbsp;<span class="ident" id="7561591">TestBodyReadBadTrailer</span><span class="op" id="7561613">(</span><span class="ident" id="7561614">t</span>&nbsp;<span class="op" id="7561616">*</span><span class="ident" id="7561617"><a href="/gostd/net/http/transfer_test.go.html#7561573">testing</a></span><span class="op" id="7561624">.</span><span class="ident" id="7561625"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7561626">)</span>&nbsp;<span class="op" id="7561628">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561631">b</span>&nbsp;<span class="op" id="7561633">:=</span>&nbsp;<span class="op" id="7561636">&amp;</span><span class="ident" id="7561637"><a href="/gostd/net/http/transfer.go.html#4254838">body</a></span><span class="op" id="7561641">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561645"><a href="/gostd/net/http/transfer.go.html#4254853">src</a></span><span class="op" id="7561648">:</span>&nbsp;<span class="ident" id="7561650"><a href="/gostd/net/http/transfer_test.go.html#7561562">strings</a></span><span class="op" id="7561657">.</span><span class="ident" id="7561658"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7561667">(</span><span class="string" id="7561668">&#34;foobar&#34;</span><span class="op" id="7561676">)</span><span class="op" id="7561677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561681"><a href="/gostd/net/http/transfer.go.html#4254872">hdr</a></span><span class="op" id="7561684">:</span>&nbsp;<span class="builtintype" id="7561686">true</span><span class="op" id="7561690">,</span>&nbsp;<span class="comment" id="7561692">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561723"><a href="/gostd/net/http/transfer.go.html#4254953">r</a></span><span class="op" id="7561724">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="7561728"><a href="/gostd/net/http/transfer_test.go.html#7561547">bufio</a></span><span class="op" id="7561733">.</span><span class="ident" id="7561734"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7561743">(</span><span class="ident" id="7561744"><a href="/gostd/net/http/transfer_test.go.html#7561562">strings</a></span><span class="op" id="7561751">.</span><span class="ident" id="7561752"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7561761">(</span><span class="string" id="7561762">&#34;&#34;</span><span class="op" id="7561764">)</span><span class="op" id="7561765">)</span><span class="op" id="7561766">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561769">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561772">buf</span>&nbsp;<span class="op" id="7561776">:=</span>&nbsp;<span class="builtinfunc" id="7561779">make</span><span class="op" id="7561783">(</span><span class="op" id="7561784">[</span><span class="op" id="7561785">]</span><span class="builtintype" id="7561786">byte</span><span class="op" id="7561790">,</span>&nbsp;<span class="num" id="7561792">7</span><span class="op" id="7561793">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561796">n</span><span class="op" id="7561797">,</span>&nbsp;<span class="ident" id="7561799">err</span>&nbsp;<span class="op" id="7561803">:=</span>&nbsp;<span class="ident" id="7561806"><a href="/gostd/net/http/transfer_test.go.html#7561631">b</a></span><span class="op" id="7561807">.</span><span class="ident" id="7561808"><a href="/gostd/net/http/transfer.go.html#4255510">Read</a></span><span class="op" id="7561812">(</span><span class="ident" id="7561813"><a href="/gostd/net/http/transfer_test.go.html#7561772">buf</a></span><span class="op" id="7561816">[</span><span class="op" id="7561817">:</span><span class="num" id="7561818">3</span><span class="op" id="7561819">]</span><span class="op" id="7561820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561823">got</span>&nbsp;<span class="op" id="7561827">:=</span>&nbsp;<span class="builtintype" id="7561830">string</span><span class="op" id="7561836">(</span><span class="ident" id="7561837"><a href="/gostd/net/http/transfer_test.go.html#7561772">buf</a></span><span class="op" id="7561840">[</span><span class="op" id="7561841">:</span><span class="ident" id="7561842"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7561843">]</span><span class="op" id="7561844">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7561847">if</span>&nbsp;<span class="ident" id="7561850"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span>&nbsp;<span class="op" id="7561854">!=</span>&nbsp;<span class="string" id="7561857">&#34;foo&#34;</span>&nbsp;<span class="op" id="7561863">||</span>&nbsp;<span class="ident" id="7561866"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span>&nbsp;<span class="op" id="7561870">!=</span>&nbsp;<span class="builtintype" id="7561873">nil</span>&nbsp;<span class="op" id="7561877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561881"><a href="/gostd/net/http/transfer_test.go.html#7561614">t</a></span><span class="op" id="7561882">.</span><span class="ident" id="7561883"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7561889">(</span><span class="string" id="7561890">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="7561932">,</span>&nbsp;<span class="ident" id="7561934"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7561935">,</span>&nbsp;<span class="ident" id="7561937"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span><span class="op" id="7561940">,</span>&nbsp;<span class="ident" id="7561942"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span><span class="op" id="7561945">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7561948">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561952"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7561953">,</span>&nbsp;<span class="ident" id="7561955"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span>&nbsp;<span class="op" id="7561959">=</span>&nbsp;<span class="ident" id="7561961"><a href="/gostd/net/http/transfer_test.go.html#7561631">b</a></span><span class="op" id="7561962">.</span><span class="ident" id="7561963"><a href="/gostd/net/http/transfer.go.html#4255510">Read</a></span><span class="op" id="7561967">(</span><span class="ident" id="7561968"><a href="/gostd/net/http/transfer_test.go.html#7561772">buf</a></span><span class="op" id="7561971">[</span><span class="op" id="7561972">:</span><span class="op" id="7561973">]</span><span class="op" id="7561974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7561977"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span>&nbsp;<span class="op" id="7561981">=</span>&nbsp;<span class="builtintype" id="7561983">string</span><span class="op" id="7561989">(</span><span class="ident" id="7561990"><a href="/gostd/net/http/transfer_test.go.html#7561772">buf</a></span><span class="op" id="7561993">[</span><span class="op" id="7561994">:</span><span class="ident" id="7561995"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7561996">]</span><span class="op" id="7561997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7562000">if</span>&nbsp;<span class="ident" id="7562003"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span>&nbsp;<span class="op" id="7562007">!=</span>&nbsp;<span class="string" id="7562010">&#34;bar&#34;</span>&nbsp;<span class="op" id="7562016">||</span>&nbsp;<span class="ident" id="7562019"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span>&nbsp;<span class="op" id="7562023">!=</span>&nbsp;<span class="builtintype" id="7562026">nil</span>&nbsp;<span class="op" id="7562030">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562034"><a href="/gostd/net/http/transfer_test.go.html#7561614">t</a></span><span class="op" id="7562035">.</span><span class="ident" id="7562036"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="7562042">(</span><span class="string" id="7562043">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="7562086">,</span>&nbsp;<span class="ident" id="7562088"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7562089">,</span>&nbsp;<span class="ident" id="7562091"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span><span class="op" id="7562094">,</span>&nbsp;<span class="ident" id="7562096"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span><span class="op" id="7562099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562102">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562106"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7562107">,</span>&nbsp;<span class="ident" id="7562109"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span>&nbsp;<span class="op" id="7562113">=</span>&nbsp;<span class="ident" id="7562115"><a href="/gostd/net/http/transfer_test.go.html#7561631">b</a></span><span class="op" id="7562116">.</span><span class="ident" id="7562117"><a href="/gostd/net/http/transfer.go.html#4255510">Read</a></span><span class="op" id="7562121">(</span><span class="ident" id="7562122"><a href="/gostd/net/http/transfer_test.go.html#7561772">buf</a></span><span class="op" id="7562125">[</span><span class="op" id="7562126">:</span><span class="op" id="7562127">]</span><span class="op" id="7562128">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562131"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span>&nbsp;<span class="op" id="7562135">=</span>&nbsp;<span class="builtintype" id="7562137">string</span><span class="op" id="7562143">(</span><span class="ident" id="7562144"><a href="/gostd/net/http/transfer_test.go.html#7561772">buf</a></span><span class="op" id="7562147">[</span><span class="op" id="7562148">:</span><span class="ident" id="7562149"><a href="/gostd/net/http/transfer_test.go.html#7561796">n</a></span><span class="op" id="7562150">]</span><span class="op" id="7562151">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7562154">if</span>&nbsp;<span class="ident" id="7562157"><a href="/gostd/net/http/transfer_test.go.html#7561799">err</a></span>&nbsp;<span class="op" id="7562161">==</span>&nbsp;<span class="builtintype" id="7562164">nil</span>&nbsp;<span class="op" id="7562168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562172"><a href="/gostd/net/http/transfer_test.go.html#7561614">t</a></span><span class="op" id="7562173">.</span><span class="ident" id="7562174"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7562180">(</span><span class="string" id="7562181">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="7562247">,</span>&nbsp;<span class="ident" id="7562249"><a href="/gostd/net/http/transfer_test.go.html#7561823">got</a></span><span class="op" id="7562252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562255">}</span><br>
<span class="lineno"></span><span class="op" id="7562257">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="7562260">func</span>&nbsp;<span class="ident" id="7562265">TestFinalChunkedBodyReadEOF</span><span class="op" id="7562292">(</span><span class="ident" id="7562293">t</span>&nbsp;<span class="op" id="7562295">*</span><span class="ident" id="7562296"><a href="/gostd/net/http/transfer_test.go.html#7561573">testing</a></span><span class="op" id="7562303">.</span><span class="ident" id="7562304"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="7562305">)</span>&nbsp;<span class="op" id="7562307">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562310">res</span><span class="op" id="7562313">,</span>&nbsp;<span class="ident" id="7562315">err</span>&nbsp;<span class="op" id="7562319">:=</span>&nbsp;<span class="ident" id="7562322"><a href="/gostd/net/http/response.go.html#4164712">ReadResponse</a></span><span class="op" id="7562334">(</span><span class="ident" id="7562335"><a href="/gostd/net/http/transfer_test.go.html#7561547">bufio</a></span><span class="op" id="7562340">.</span><span class="ident" id="7562341"><a href="/gostd/bufio/bufio.go.html#1355792">NewReader</a></span><span class="op" id="7562350">(</span><span class="ident" id="7562351"><a href="/gostd/net/http/transfer_test.go.html#7561562">strings</a></span><span class="op" id="7562358">.</span><span class="ident" id="7562359"><a href="/gostd/strings/reader.go.html#2948317">NewReader</a></span><span class="op" id="7562368">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562372">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="7562393">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562398">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="7562430">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562435">&#34;\r\n&#34;</span><span class="op" id="7562441">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562446">&#34;0a\r\n&#34;</span><span class="op" id="7562454">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562459">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="7562476">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562481">&#34;09\r\n&#34;</span><span class="op" id="7562489">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562494">&#34;continued\r\n&#34;</span><span class="op" id="7562509">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562514">&#34;0\r\n&#34;</span><span class="op" id="7562521">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="7562526">&#34;\r\n&#34;</span><span class="op" id="7562532">)</span><span class="op" id="7562533">)</span><span class="op" id="7562534">,</span>&nbsp;<span class="builtintype" id="7562536">nil</span><span class="op" id="7562539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7562542">if</span>&nbsp;<span class="ident" id="7562545"><a href="/gostd/net/http/transfer_test.go.html#7562315">err</a></span>&nbsp;<span class="op" id="7562549">!=</span>&nbsp;<span class="builtintype" id="7562552">nil</span>&nbsp;<span class="op" id="7562556">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562560"><a href="/gostd/net/http/transfer_test.go.html#7562293">t</a></span><span class="op" id="7562561">.</span><span class="ident" id="7562562"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="7562567">(</span><span class="ident" id="7562568"><a href="/gostd/net/http/transfer_test.go.html#7562315">err</a></span><span class="op" id="7562571">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562574">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562577">want</span>&nbsp;<span class="op" id="7562582">:=</span>&nbsp;<span class="string" id="7562585">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562609">buf</span>&nbsp;<span class="op" id="7562613">:=</span>&nbsp;<span class="builtinfunc" id="7562616">make</span><span class="op" id="7562620">(</span><span class="op" id="7562621">[</span><span class="op" id="7562622">]</span><span class="builtintype" id="7562623">byte</span><span class="op" id="7562627">,</span>&nbsp;<span class="builtinfunc" id="7562629">len</span><span class="op" id="7562632">(</span><span class="ident" id="7562633"><a href="/gostd/net/http/transfer_test.go.html#7562577">want</a></span><span class="op" id="7562637">)</span><span class="op" id="7562638">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562641">n</span><span class="op" id="7562642">,</span>&nbsp;<span class="ident" id="7562644"><a href="/gostd/net/http/transfer_test.go.html#7562315">err</a></span>&nbsp;<span class="op" id="7562648">:=</span>&nbsp;<span class="ident" id="7562651"><a href="/gostd/net/http/transfer_test.go.html#7562310">res</a></span><span class="op" id="7562654">.</span><span class="ident" id="7562655"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7562659">.</span><span class="ident" id="7562660"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="7562664">(</span><span class="ident" id="7562665"><a href="/gostd/net/http/transfer_test.go.html#7562609">buf</a></span><span class="op" id="7562668">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7562671">if</span>&nbsp;<span class="ident" id="7562674"><a href="/gostd/net/http/transfer_test.go.html#7562641">n</a></span>&nbsp;<span class="op" id="7562676">!=</span>&nbsp;<span class="builtinfunc" id="7562679">len</span><span class="op" id="7562682">(</span><span class="ident" id="7562683"><a href="/gostd/net/http/transfer_test.go.html#7562577">want</a></span><span class="op" id="7562687">)</span>&nbsp;<span class="op" id="7562689">||</span>&nbsp;<span class="ident" id="7562692"><a href="/gostd/net/http/transfer_test.go.html#7562315">err</a></span>&nbsp;<span class="op" id="7562696">!=</span>&nbsp;<span class="ident" id="7562699"><a href="/gostd/net/http/transfer_test.go.html#7561556">io</a></span><span class="op" id="7562701">.</span><span class="ident" id="7562702"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="7562706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562710"><a href="/gostd/net/http/transfer_test.go.html#7562293">t</a></span><span class="op" id="7562711">.</span><span class="ident" id="7562712"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="7562716">(</span><span class="string" id="7562717">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="7562729">,</span>&nbsp;<span class="ident" id="7562731"><a href="/gostd/net/http/transfer_test.go.html#7562310">res</a></span><span class="op" id="7562734">.</span><span class="ident" id="7562735"><a href="/gostd/net/http/response.go.html#4162507">Body</a></span><span class="op" id="7562739">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562743"><a href="/gostd/net/http/transfer_test.go.html#7562293">t</a></span><span class="op" id="7562744">.</span><span class="ident" id="7562745"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7562751">(</span><span class="string" id="7562752">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="7562781">,</span>&nbsp;<span class="ident" id="7562783"><a href="/gostd/net/http/transfer_test.go.html#7562641">n</a></span><span class="op" id="7562784">,</span>&nbsp;<span class="ident" id="7562786"><a href="/gostd/net/http/transfer_test.go.html#7562315">err</a></span><span class="op" id="7562789">,</span>&nbsp;<span class="builtinfunc" id="7562791">len</span><span class="op" id="7562794">(</span><span class="ident" id="7562795"><a href="/gostd/net/http/transfer_test.go.html#7562577">want</a></span><span class="op" id="7562799">)</span><span class="op" id="7562800">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562803">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="7562806">if</span>&nbsp;<span class="builtintype" id="7562809">string</span><span class="op" id="7562815">(</span><span class="ident" id="7562816"><a href="/gostd/net/http/transfer_test.go.html#7562609">buf</a></span><span class="op" id="7562819">)</span>&nbsp;<span class="op" id="7562821">!=</span>&nbsp;<span class="ident" id="7562824"><a href="/gostd/net/http/transfer_test.go.html#7562577">want</a></span>&nbsp;<span class="op" id="7562829">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="7562833"><a href="/gostd/net/http/transfer_test.go.html#7562293">t</a></span><span class="op" id="7562834">.</span><span class="ident" id="7562835"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="7562841">(</span><span class="string" id="7562842">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="7562861">,</span>&nbsp;<span class="ident" id="7562863"><a href="/gostd/net/http/transfer_test.go.html#7562609">buf</a></span><span class="op" id="7562866">,</span>&nbsp;<span class="ident" id="7562868"><a href="/gostd/net/http/transfer_test.go.html#7562577">want</a></span><span class="op" id="7562872">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="7562875">}</span><br>
<span class="lineno"></span><span class="op" id="7562877">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
