<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="2084534">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="2084589">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="2084643">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="2084694">//&nbsp;Linux-specific</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2084713">package</span>&nbsp;<span class="ident" id="2084721">os</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="2084725">func</span>&nbsp;<span class="ident" id="2084730">hostname</span><span class="op" id="2084738">(</span><span class="op" id="2084739">)</span>&nbsp;<span class="op" id="2084741">(</span><span class="ident" id="2084742">name</span>&nbsp;<span class="builtintype" id="2084747">string</span><span class="op" id="2084753">,</span>&nbsp;<span class="ident" id="2084755">err</span>&nbsp;<span class="builtintype" id="2084759">error</span><span class="op" id="2084764">)</span>&nbsp;<span class="op" id="2084766">{</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2084769">f</span><span class="op" id="2084770">,</span>&nbsp;<span class="ident" id="2084772"><a href="/os/sys_linux.go.html#2084755">err</a></span>&nbsp;<span class="op" id="2084776">:=</span>&nbsp;<span class="ident" id="2084779"><a href="/os/file.go.html#2060191">Open</a></span><span class="op" id="2084783">(</span><span class="string" id="2084784">&#34;/proc/sys/kernel/hostname&#34;</span><span class="op" id="2084811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084814">if</span>&nbsp;<span class="ident" id="2084817"><a href="/os/sys_linux.go.html#2084755">err</a></span>&nbsp;<span class="op" id="2084821">!=</span>&nbsp;<span class="ident" id="2084824">nil</span>&nbsp;<span class="op" id="2084828">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084832">return</span>&nbsp;<span class="string" id="2084839">&#34;&#34;</span><span class="op" id="2084841">,</span>&nbsp;<span class="ident" id="2084843"><a href="/os/sys_linux.go.html#2084755">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2084848">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084851">defer</span>&nbsp;<span class="ident" id="2084857"><a href="/os/sys_linux.go.html#2084769">f</a></span><span class="op" id="2084858">.</span><span class="ident" id="2084859">Close</span><span class="op" id="2084864">(</span><span class="op" id="2084865">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084869">var</span>&nbsp;<span class="ident" id="2084873">buf</span>&nbsp;<span class="op" id="2084877">[</span><span class="num" id="2084878">512</span><span class="op" id="2084881">]</span><span class="builtintype" id="2084882">byte</span>&nbsp;<span class="comment" id="2084887">//&nbsp;Enough&nbsp;for&nbsp;a&nbsp;DNS&nbsp;name.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2084914">n</span><span class="op" id="2084915">,</span>&nbsp;<span class="ident" id="2084917"><a href="/os/sys_linux.go.html#2084755">err</a></span>&nbsp;<span class="op" id="2084921">:=</span>&nbsp;<span class="ident" id="2084924"><a href="/os/sys_linux.go.html#2084769">f</a></span><span class="op" id="2084925">.</span><span class="ident" id="2084926">Read</span><span class="op" id="2084930">(</span><span class="ident" id="2084931"><a href="/os/sys_linux.go.html#2084873">buf</a></span><span class="op" id="2084934">[</span><span class="num" id="2084935">0</span><span class="op" id="2084936">:</span><span class="op" id="2084937">]</span><span class="op" id="2084938">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084941">if</span>&nbsp;<span class="ident" id="2084944"><a href="/os/sys_linux.go.html#2084755">err</a></span>&nbsp;<span class="op" id="2084948">!=</span>&nbsp;<span class="ident" id="2084951">nil</span>&nbsp;<span class="op" id="2084955">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084959">return</span>&nbsp;<span class="string" id="2084966">&#34;&#34;</span><span class="op" id="2084968">,</span>&nbsp;<span class="ident" id="2084970"><a href="/os/sys_linux.go.html#2084755">err</a></span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2084975">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2084979">if</span>&nbsp;<span class="ident" id="2084982"><a href="/os/sys_linux.go.html#2084914">n</a></span>&nbsp;<span class="op" id="2084984">&gt;</span>&nbsp;<span class="num" id="2084986">0</span>&nbsp;<span class="op" id="2084988">&amp;&amp;</span>&nbsp;<span class="ident" id="2084991"><a href="/os/sys_linux.go.html#2084873">buf</a></span><span class="op" id="2084994">[</span><span class="ident" id="2084995"><a href="/os/sys_linux.go.html#2084914">n</a></span><span class="op" id="2084996">-</span><span class="num" id="2084997">1</span><span class="op" id="2084998">]</span>&nbsp;<span class="op" id="2085000">==</span>&nbsp;<span class="string" id="2085003">&#39;\n&#39;</span>&nbsp;<span class="op" id="2085008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="2085012"><a href="/os/sys_linux.go.html#2084914">n</a></span><span class="op" id="2085013">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="2085017">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="2085020">return</span>&nbsp;<span class="builtintype" id="2085027">string</span><span class="op" id="2085033">(</span><span class="ident" id="2085034"><a href="/os/sys_linux.go.html#2084873">buf</a></span><span class="op" id="2085037">[</span><span class="num" id="2085038">0</span><span class="op" id="2085039">:</span><span class="ident" id="2085040"><a href="/os/sys_linux.go.html#2084914">n</a></span><span class="op" id="2085041">]</span><span class="op" id="2085042">)</span><span class="op" id="2085043">,</span>&nbsp;<span class="ident" id="2085045">nil</span><br>
<span class="lineno"></span><span class="op" id="2085049">}</span>
</div>
</body>
</html>
