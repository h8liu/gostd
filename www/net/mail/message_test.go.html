<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="6690905">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6690960">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6691014">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6691065">package</span>&nbsp;<span class="ident" id="6691073">mail</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6691079">import</span>&nbsp;<span class="op" id="6691086">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691089">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691098">&#34;io/ioutil&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691111">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691122">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691133">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691144">&#34;time&#34;</span><br>
<span class="lineno"></span><span class="op" id="6691151">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="6691154">var</span>&nbsp;<span class="ident" id="6691158">parseTests</span>&nbsp;<span class="op" id="6691169">=</span>&nbsp;<span class="op" id="6691171">[</span><span class="op" id="6691172">]</span><span class="keyword" id="6691173">struct</span>&nbsp;<span class="op" id="6691180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691183">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6691190">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691198">header</span>&nbsp;<span class="ident" id="6691205"><a href="/net/mail/message.go.html#6423243">Header</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691213">body</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6691220">string</span><br>
<span class="lineno">20</span><span class="op" id="6691227">}</span><span class="op" id="6691228">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6691235">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691265">in</span><span class="op" id="6691267">:</span>&nbsp;<span class="string" id="6691269">`From:&nbsp;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;<br>
<span class="lineno"></span>To:&nbsp;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;<br>
<span class="lineno">25</span>Subject:&nbsp;Saying&nbsp;Hello<br>
<span class="lineno"></span>Date:&nbsp;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600<br>
<span class="lineno"></span>Message-ID:&nbsp;&lt;1234@local.machine.example&gt;<br>
<span class="lineno"></span><br>
<span class="lineno"></span>This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.<br>
<span class="lineno">30</span>So,&nbsp;&#34;Hello&#34;.<br>
<span class="lineno"></span>`</span><span class="op" id="6691495">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691499">header</span><span class="op" id="6691505">:</span>&nbsp;<span class="ident" id="6691507"><a href="/net/mail/message.go.html#6423243">Header</a></span><span class="op" id="6691513">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691518">&#34;From&#34;</span><span class="op" id="6691524">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691532">[</span><span class="op" id="6691533">]</span><span class="builtintype" id="6691534">string</span><span class="op" id="6691540">{</span><span class="string" id="6691541">&#34;John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;&#34;</span><span class="op" id="6691574">}</span><span class="op" id="6691575">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691580">&#34;To&#34;</span><span class="op" id="6691584">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691594">[</span><span class="op" id="6691595">]</span><span class="builtintype" id="6691596">string</span><span class="op" id="6691602">{</span><span class="string" id="6691603">&#34;Mary&nbsp;Smith&nbsp;&lt;mary@example.net&gt;&#34;</span><span class="op" id="6691634">}</span><span class="op" id="6691635">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691640">&#34;Subject&#34;</span><span class="op" id="6691649">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691654">[</span><span class="op" id="6691655">]</span><span class="builtintype" id="6691656">string</span><span class="op" id="6691662">{</span><span class="string" id="6691663">&#34;Saying&nbsp;Hello&#34;</span><span class="op" id="6691677">}</span><span class="op" id="6691678">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691683">&#34;Date&#34;</span><span class="op" id="6691689">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6691697">[</span><span class="op" id="6691698">]</span><span class="builtintype" id="6691699">string</span><span class="op" id="6691705">{</span><span class="string" id="6691706">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6691739">}</span><span class="op" id="6691740">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6691745">&#34;Message-Id&#34;</span><span class="op" id="6691757">:</span>&nbsp;<span class="op" id="6691759">[</span><span class="op" id="6691760">]</span><span class="builtintype" id="6691761">string</span><span class="op" id="6691767">{</span><span class="string" id="6691768">&#34;&lt;1234@local.machine.example&gt;&#34;</span><span class="op" id="6691798">}</span><span class="op" id="6691799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691803">}</span><span class="op" id="6691804">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691808">body</span><span class="op" id="6691812">:</span>&nbsp;<span class="string" id="6691814">&#34;This&nbsp;is&nbsp;a&nbsp;message&nbsp;just&nbsp;to&nbsp;say&nbsp;hello.\nSo,&nbsp;\&#34;Hello\&#34;.\n&#34;</span><span class="op" id="6691870">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6691873">}</span><span class="op" id="6691874">,</span><br>
<span class="lineno"></span><span class="op" id="6691876">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6691879">func</span>&nbsp;<span class="ident" id="6691884">TestParsing</span><span class="op" id="6691895">(</span><span class="ident" id="6691896">t</span>&nbsp;<span class="op" id="6691898">*</span><span class="ident" id="6691899"><a href="/net/mail/message_test.go.html#6691133">testing</a></span><span class="op" id="6691906">.</span><span class="ident" id="6691907">T</span><span class="op" id="6691908">)</span>&nbsp;<span class="op" id="6691910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6691913">for</span>&nbsp;<span class="ident" id="6691917">i</span><span class="op" id="6691918">,</span>&nbsp;<span class="ident" id="6691920">test</span>&nbsp;<span class="op" id="6691925">:=</span>&nbsp;<span class="keyword" id="6691928">range</span>&nbsp;<span class="ident" id="6691934"><a href="/net/mail/message_test.go.html#6691158">parseTests</a></span>&nbsp;<span class="op" id="6691945">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6691949">msg</span><span class="op" id="6691952">,</span>&nbsp;<span class="ident" id="6691954">err</span>&nbsp;<span class="op" id="6691958">:=</span>&nbsp;<span class="ident" id="6691961"><a href="/net/mail/message.go.html#6421852">ReadMessage</a></span><span class="op" id="6691972">(</span><span class="ident" id="6691973"><a href="/net/mail/message_test.go.html#6691089">bytes</a></span><span class="op" id="6691978">.</span><span class="ident" id="6691979">NewBuffer</span><span class="op" id="6691988">(</span><span class="op" id="6691989">[</span><span class="op" id="6691990">]</span><span class="builtintype" id="6691991">byte</span><span class="op" id="6691995">(</span><span class="ident" id="6691996"><a href="/net/mail/message_test.go.html#6691920">test</a></span><span class="op" id="6692000">.</span><span class="ident" id="6692001">in</span><span class="op" id="6692003">)</span><span class="op" id="6692004">)</span><span class="op" id="6692005">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692009">if</span>&nbsp;<span class="ident" id="6692012"><a href="/net/mail/message_test.go.html#6691954">err</a></span>&nbsp;<span class="op" id="6692016">!=</span>&nbsp;<span class="ident" id="6692019">nil</span>&nbsp;<span class="op" id="6692023">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692028"><a href="/net/mail/message_test.go.html#6691896">t</a></span><span class="op" id="6692029">.</span><span class="ident" id="6692030">Errorf</span><span class="op" id="6692036">(</span><span class="string" id="6692037">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;parsing&nbsp;message:&nbsp;%v&#34;</span><span class="op" id="6692075">,</span>&nbsp;<span class="ident" id="6692077"><a href="/net/mail/message_test.go.html#6691917">i</a></span><span class="op" id="6692078">,</span>&nbsp;<span class="ident" id="6692080"><a href="/net/mail/message_test.go.html#6691954">err</a></span><span class="op" id="6692083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692088">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692099">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692103">if</span>&nbsp;<span class="op" id="6692106">!</span><span class="ident" id="6692107"><a href="/net/mail/message_test.go.html#6692570">headerEq</a></span><span class="op" id="6692115">(</span><span class="ident" id="6692116"><a href="/net/mail/message_test.go.html#6691949">msg</a></span><span class="op" id="6692119">.</span><span class="ident" id="6692120">Header</span><span class="op" id="6692126">,</span>&nbsp;<span class="ident" id="6692128"><a href="/net/mail/message_test.go.html#6691920">test</a></span><span class="op" id="6692132">.</span><span class="ident" id="6692133">header</span><span class="op" id="6692139">)</span>&nbsp;<span class="op" id="6692141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692146"><a href="/net/mail/message_test.go.html#6691896">t</a></span><span class="op" id="6692147">.</span><span class="ident" id="6692148">Errorf</span><span class="op" id="6692154">(</span><span class="string" id="6692155">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;header.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6692224">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692230"><a href="/net/mail/message_test.go.html#6691917">i</a></span><span class="op" id="6692231">,</span>&nbsp;<span class="ident" id="6692233"><a href="/net/mail/message_test.go.html#6691949">msg</a></span><span class="op" id="6692236">.</span><span class="ident" id="6692237">Header</span><span class="op" id="6692243">,</span>&nbsp;<span class="ident" id="6692245"><a href="/net/mail/message_test.go.html#6691920">test</a></span><span class="op" id="6692249">.</span><span class="ident" id="6692250">header</span><span class="op" id="6692256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692260">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692264">body</span><span class="op" id="6692268">,</span>&nbsp;<span class="ident" id="6692270"><a href="/net/mail/message_test.go.html#6691954">err</a></span>&nbsp;<span class="op" id="6692274">:=</span>&nbsp;<span class="ident" id="6692277"><a href="/net/mail/message_test.go.html#6691098">ioutil</a></span><span class="op" id="6692283">.</span><span class="ident" id="6692284">ReadAll</span><span class="op" id="6692291">(</span><span class="ident" id="6692292"><a href="/net/mail/message_test.go.html#6691949">msg</a></span><span class="op" id="6692295">.</span><span class="ident" id="6692296">Body</span><span class="op" id="6692300">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692304">if</span>&nbsp;<span class="ident" id="6692307"><a href="/net/mail/message_test.go.html#6691954">err</a></span>&nbsp;<span class="op" id="6692311">!=</span>&nbsp;<span class="ident" id="6692314">nil</span>&nbsp;<span class="op" id="6692318">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692323"><a href="/net/mail/message_test.go.html#6691896">t</a></span><span class="op" id="6692324">.</span><span class="ident" id="6692325">Errorf</span><span class="op" id="6692331">(</span><span class="string" id="6692332">&#34;test&nbsp;#%d:&nbsp;Failed&nbsp;reading&nbsp;body:&nbsp;%v&#34;</span><span class="op" id="6692367">,</span>&nbsp;<span class="ident" id="6692369"><a href="/net/mail/message_test.go.html#6691917">i</a></span><span class="op" id="6692370">,</span>&nbsp;<span class="ident" id="6692372"><a href="/net/mail/message_test.go.html#6691954">err</a></span><span class="op" id="6692375">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692380">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692391">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692395">bodyStr</span>&nbsp;<span class="op" id="6692403">:=</span>&nbsp;<span class="builtintype" id="6692406">string</span><span class="op" id="6692412">(</span><span class="ident" id="6692413"><a href="/net/mail/message_test.go.html#6692264">body</a></span><span class="op" id="6692417">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692421">if</span>&nbsp;<span class="ident" id="6692424"><a href="/net/mail/message_test.go.html#6692395">bodyStr</a></span>&nbsp;<span class="op" id="6692432">!=</span>&nbsp;<span class="ident" id="6692435"><a href="/net/mail/message_test.go.html#6691920">test</a></span><span class="op" id="6692439">.</span><span class="ident" id="6692440">body</span>&nbsp;<span class="op" id="6692445">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692450"><a href="/net/mail/message_test.go.html#6691896">t</a></span><span class="op" id="6692451">.</span><span class="ident" id="6692452">Errorf</span><span class="op" id="6692458">(</span><span class="string" id="6692459">&#34;test&nbsp;#%d:&nbsp;Incorrectly&nbsp;parsed&nbsp;message&nbsp;body.\nGot:\n%+v\nWant:\n%+v&#34;</span><span class="op" id="6692526">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692532"><a href="/net/mail/message_test.go.html#6691917">i</a></span><span class="op" id="6692533">,</span>&nbsp;<span class="ident" id="6692535"><a href="/net/mail/message_test.go.html#6692395">bodyStr</a></span><span class="op" id="6692542">,</span>&nbsp;<span class="ident" id="6692544"><a href="/net/mail/message_test.go.html#6691920">test</a></span><span class="op" id="6692548">.</span><span class="ident" id="6692549">body</span><span class="op" id="6692553">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692557">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692560">}</span><br>
<span class="lineno">65</span><span class="op" id="6692562">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6692565">func</span>&nbsp;<span class="ident" id="6692570">headerEq</span><span class="op" id="6692578">(</span><span class="ident" id="6692579">a</span><span class="op" id="6692580">,</span>&nbsp;<span class="ident" id="6692582">b</span>&nbsp;<span class="ident" id="6692584"><a href="/net/mail/message.go.html#6423243">Header</a></span><span class="op" id="6692590">)</span>&nbsp;<span class="builtintype" id="6692592">bool</span>&nbsp;<span class="op" id="6692597">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692600">if</span>&nbsp;<span class="builtinfunc" id="6692603">len</span><span class="op" id="6692606">(</span><span class="ident" id="6692607"><a href="/net/mail/message_test.go.html#6692579">a</a></span><span class="op" id="6692608">)</span>&nbsp;<span class="op" id="6692610">!=</span>&nbsp;<span class="builtinfunc" id="6692613">len</span><span class="op" id="6692616">(</span><span class="ident" id="6692617"><a href="/net/mail/message_test.go.html#6692582">b</a></span><span class="op" id="6692618">)</span>&nbsp;<span class="op" id="6692620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692624">return</span>&nbsp;<span class="ident" id="6692631">false</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692641">for</span>&nbsp;<span class="ident" id="6692645">k</span><span class="op" id="6692646">,</span>&nbsp;<span class="ident" id="6692648">as</span>&nbsp;<span class="op" id="6692651">:=</span>&nbsp;<span class="keyword" id="6692654">range</span>&nbsp;<span class="ident" id="6692660"><a href="/net/mail/message_test.go.html#6692579">a</a></span>&nbsp;<span class="op" id="6692662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692666">bs</span><span class="op" id="6692668">,</span>&nbsp;<span class="ident" id="6692670">ok</span>&nbsp;<span class="op" id="6692673">:=</span>&nbsp;<span class="ident" id="6692676"><a href="/net/mail/message_test.go.html#6692582">b</a></span><span class="op" id="6692677">[</span><span class="ident" id="6692678"><a href="/net/mail/message_test.go.html#6692645">k</a></span><span class="op" id="6692679">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692683">if</span>&nbsp;<span class="op" id="6692686">!</span><span class="ident" id="6692687"><a href="/net/mail/message_test.go.html#6692670">ok</a></span>&nbsp;<span class="op" id="6692690">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692695">return</span>&nbsp;<span class="ident" id="6692702">false</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692710">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692714">if</span>&nbsp;<span class="op" id="6692717">!</span><span class="ident" id="6692718"><a href="/net/mail/message_test.go.html#6691111">reflect</a></span><span class="op" id="6692725">.</span><span class="ident" id="6692726">DeepEqual</span><span class="op" id="6692735">(</span><span class="ident" id="6692736"><a href="/net/mail/message_test.go.html#6692648">as</a></span><span class="op" id="6692738">,</span>&nbsp;<span class="ident" id="6692740"><a href="/net/mail/message_test.go.html#6692666">bs</a></span><span class="op" id="6692742">)</span>&nbsp;<span class="op" id="6692744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692749">return</span>&nbsp;<span class="ident" id="6692756">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692764">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692767">}</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6692770">return</span>&nbsp;<span class="ident" id="6692777">true</span><br>
<span class="lineno"></span><span class="op" id="6692782">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6692785">func</span>&nbsp;<span class="ident" id="6692790">TestDateParsing</span><span class="op" id="6692805">(</span><span class="ident" id="6692806">t</span>&nbsp;<span class="op" id="6692808">*</span><span class="ident" id="6692809"><a href="/net/mail/message_test.go.html#6691133">testing</a></span><span class="op" id="6692816">.</span><span class="ident" id="6692817">T</span><span class="op" id="6692818">)</span>&nbsp;<span class="op" id="6692820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692823">tests</span>&nbsp;<span class="op" id="6692829">:=</span>&nbsp;<span class="op" id="6692832">[</span><span class="op" id="6692833">]</span><span class="keyword" id="6692834">struct</span>&nbsp;<span class="op" id="6692841">{</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692845">dateStr</span>&nbsp;<span class="builtintype" id="6692853">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692862">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6692870"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6692874">.</span><span class="ident" id="6692875">Time</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692881">}</span><span class="op" id="6692882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6692886">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6692916">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6692921">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&#34;</span><span class="op" id="6692954">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6692959"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6692963">.</span><span class="ident" id="6692964">Date</span><span class="op" id="6692968">(</span><span class="num" id="6692969">1997</span><span class="op" id="6692973">,</span>&nbsp;<span class="num" id="6692975">11</span><span class="op" id="6692977">,</span>&nbsp;<span class="num" id="6692979">21</span><span class="op" id="6692981">,</span>&nbsp;<span class="num" id="6692983">9</span><span class="op" id="6692984">,</span>&nbsp;<span class="num" id="6692986">55</span><span class="op" id="6692988">,</span>&nbsp;<span class="num" id="6692990">6</span><span class="op" id="6692991">,</span>&nbsp;<span class="num" id="6692993">0</span><span class="op" id="6692994">,</span>&nbsp;<span class="ident" id="6692996"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6693000">.</span><span class="ident" id="6693001">FixedZone</span><span class="op" id="6693010">(</span><span class="string" id="6693011">&#34;&#34;</span><span class="op" id="6693013">,</span>&nbsp;<span class="op" id="6693015">-</span><span class="num" id="6693016">6</span><span class="op" id="6693017">*</span><span class="num" id="6693018">60</span><span class="op" id="6693020">*</span><span class="num" id="6693021">60</span><span class="op" id="6693023">)</span><span class="op" id="6693024">)</span><span class="op" id="6693025">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693029">}</span><span class="op" id="6693030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6693034">//&nbsp;RFC5322,&nbsp;Appendix&nbsp;A.6.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6693063">//&nbsp;Obsolete&nbsp;date.</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6693088">&#34;21&nbsp;Nov&nbsp;97&nbsp;09:55:06&nbsp;GMT&#34;</span><span class="op" id="6693112">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693117"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6693121">.</span><span class="ident" id="6693122">Date</span><span class="op" id="6693126">(</span><span class="num" id="6693127">1997</span><span class="op" id="6693131">,</span>&nbsp;<span class="num" id="6693133">11</span><span class="op" id="6693135">,</span>&nbsp;<span class="num" id="6693137">21</span><span class="op" id="6693139">,</span>&nbsp;<span class="num" id="6693141">9</span><span class="op" id="6693142">,</span>&nbsp;<span class="num" id="6693144">55</span><span class="op" id="6693146">,</span>&nbsp;<span class="num" id="6693148">6</span><span class="op" id="6693149">,</span>&nbsp;<span class="num" id="6693151">0</span><span class="op" id="6693152">,</span>&nbsp;<span class="ident" id="6693154"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6693158">.</span><span class="ident" id="6693159">FixedZone</span><span class="op" id="6693168">(</span><span class="string" id="6693169">&#34;GMT&#34;</span><span class="op" id="6693174">,</span>&nbsp;<span class="num" id="6693176">0</span><span class="op" id="6693177">)</span><span class="op" id="6693178">)</span><span class="op" id="6693179">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693183">}</span><span class="op" id="6693184">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6693188">//&nbsp;Commonly&nbsp;found&nbsp;format&nbsp;not&nbsp;specified&nbsp;by&nbsp;RFC&nbsp;5322.</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6693247">&#34;Fri,&nbsp;21&nbsp;Nov&nbsp;1997&nbsp;09:55:06&nbsp;-0600&nbsp;(MDT)&#34;</span><span class="op" id="6693286">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693291"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6693295">.</span><span class="ident" id="6693296">Date</span><span class="op" id="6693300">(</span><span class="num" id="6693301">1997</span><span class="op" id="6693305">,</span>&nbsp;<span class="num" id="6693307">11</span><span class="op" id="6693309">,</span>&nbsp;<span class="num" id="6693311">21</span><span class="op" id="6693313">,</span>&nbsp;<span class="num" id="6693315">9</span><span class="op" id="6693316">,</span>&nbsp;<span class="num" id="6693318">55</span><span class="op" id="6693320">,</span>&nbsp;<span class="num" id="6693322">6</span><span class="op" id="6693323">,</span>&nbsp;<span class="num" id="6693325">0</span><span class="op" id="6693326">,</span>&nbsp;<span class="ident" id="6693328"><a href="/net/mail/message_test.go.html#6691144">time</a></span><span class="op" id="6693332">.</span><span class="ident" id="6693333">FixedZone</span><span class="op" id="6693342">(</span><span class="string" id="6693343">&#34;&#34;</span><span class="op" id="6693345">,</span>&nbsp;<span class="op" id="6693347">-</span><span class="num" id="6693348">6</span><span class="op" id="6693349">*</span><span class="num" id="6693350">60</span><span class="op" id="6693352">*</span><span class="num" id="6693353">60</span><span class="op" id="6693355">)</span><span class="op" id="6693356">)</span><span class="op" id="6693357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693361">}</span><span class="op" id="6693362">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693365">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693368">for</span>&nbsp;<span class="ident" id="6693372">_</span><span class="op" id="6693373">,</span>&nbsp;<span class="ident" id="6693375">test</span>&nbsp;<span class="op" id="6693380">:=</span>&nbsp;<span class="keyword" id="6693383">range</span>&nbsp;<span class="ident" id="6693389"><a href="/net/mail/message_test.go.html#6692823">tests</a></span>&nbsp;<span class="op" id="6693395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693399">hdr</span>&nbsp;<span class="op" id="6693403">:=</span>&nbsp;<span class="ident" id="6693406"><a href="/net/mail/message.go.html#6423243">Header</a></span><span class="op" id="6693412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6693417">&#34;Date&#34;</span><span class="op" id="6693423">:</span>&nbsp;<span class="op" id="6693425">[</span><span class="op" id="6693426">]</span><span class="builtintype" id="6693427">string</span><span class="op" id="6693433">{</span><span class="ident" id="6693434"><a href="/net/mail/message_test.go.html#6693375">test</a></span><span class="op" id="6693438">.</span><span class="ident" id="6693439">dateStr</span><span class="op" id="6693446">}</span><span class="op" id="6693447">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693451">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693455">date</span><span class="op" id="6693459">,</span>&nbsp;<span class="ident" id="6693461">err</span>&nbsp;<span class="op" id="6693465">:=</span>&nbsp;<span class="ident" id="6693468"><a href="/net/mail/message_test.go.html#6693399">hdr</a></span><span class="op" id="6693471">.</span><span class="ident" id="6693472">Date</span><span class="op" id="6693476">(</span><span class="op" id="6693477">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693481">if</span>&nbsp;<span class="ident" id="6693484"><a href="/net/mail/message_test.go.html#6693461">err</a></span>&nbsp;<span class="op" id="6693488">!=</span>&nbsp;<span class="ident" id="6693491">nil</span>&nbsp;<span class="op" id="6693495">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693500"><a href="/net/mail/message_test.go.html#6692806">t</a></span><span class="op" id="6693501">.</span><span class="ident" id="6693502">Errorf</span><span class="op" id="6693508">(</span><span class="string" id="6693509">&#34;Failed&nbsp;parsing&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6693532">,</span>&nbsp;<span class="ident" id="6693534"><a href="/net/mail/message_test.go.html#6693375">test</a></span><span class="op" id="6693538">.</span><span class="ident" id="6693539">dateStr</span><span class="op" id="6693546">,</span>&nbsp;<span class="ident" id="6693548"><a href="/net/mail/message_test.go.html#6693461">err</a></span><span class="op" id="6693551">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693556">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693571">if</span>&nbsp;<span class="op" id="6693574">!</span><span class="ident" id="6693575"><a href="/net/mail/message_test.go.html#6693455">date</a></span><span class="op" id="6693579">.</span><span class="ident" id="6693580">Equal</span><span class="op" id="6693585">(</span><span class="ident" id="6693586"><a href="/net/mail/message_test.go.html#6693375">test</a></span><span class="op" id="6693590">.</span><span class="ident" id="6693591">exp</span><span class="op" id="6693594">)</span>&nbsp;<span class="op" id="6693596">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693601"><a href="/net/mail/message_test.go.html#6692806">t</a></span><span class="op" id="6693602">.</span><span class="ident" id="6693603">Errorf</span><span class="op" id="6693609">(</span><span class="string" id="6693610">&#34;Parse&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6693642">,</span>&nbsp;<span class="ident" id="6693644"><a href="/net/mail/message_test.go.html#6693375">test</a></span><span class="op" id="6693648">.</span><span class="ident" id="6693649">dateStr</span><span class="op" id="6693656">,</span>&nbsp;<span class="ident" id="6693658"><a href="/net/mail/message_test.go.html#6693455">date</a></span><span class="op" id="6693662">,</span>&nbsp;<span class="ident" id="6693664"><a href="/net/mail/message_test.go.html#6693375">test</a></span><span class="op" id="6693668">.</span><span class="ident" id="6693669">exp</span><span class="op" id="6693672">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693676">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693679">}</span><br>
<span class="lineno"></span><span class="op" id="6693681">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">120</span><span class="keyword" id="6693684">func</span>&nbsp;<span class="ident" id="6693689">TestAddressParsingError</span><span class="op" id="6693712">(</span><span class="ident" id="6693713">t</span>&nbsp;<span class="op" id="6693715">*</span><span class="ident" id="6693716"><a href="/net/mail/message_test.go.html#6691133">testing</a></span><span class="op" id="6693723">.</span><span class="ident" id="6693724">T</span><span class="op" id="6693725">)</span>&nbsp;<span class="op" id="6693727">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693730">const</span>&nbsp;<span class="ident" id="6693736">txt</span>&nbsp;<span class="op" id="6693740">=</span>&nbsp;<span class="string" id="6693742">&#34;=?iso-8859-2?Q?Bogl=E1rka_Tak=E1cs?=&nbsp;&lt;unknown@gmail.com&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693802">_</span><span class="op" id="6693803">,</span>&nbsp;<span class="ident" id="6693805">err</span>&nbsp;<span class="op" id="6693809">:=</span>&nbsp;<span class="ident" id="6693812"><a href="/net/mail/message.go.html#6424334">ParseAddress</a></span><span class="op" id="6693824">(</span><span class="ident" id="6693825"><a href="/net/mail/message_test.go.html#6693736">txt</a></span><span class="op" id="6693828">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6693831">if</span>&nbsp;<span class="ident" id="6693834"><a href="/net/mail/message_test.go.html#6693805">err</a></span>&nbsp;<span class="op" id="6693838">==</span>&nbsp;<span class="ident" id="6693841">nil</span>&nbsp;<span class="op" id="6693845">||</span>&nbsp;<span class="op" id="6693848">!</span><span class="ident" id="6693849"><a href="/net/mail/message_test.go.html#6691122">strings</a></span><span class="op" id="6693856">.</span><span class="ident" id="6693857">Contains</span><span class="op" id="6693865">(</span><span class="ident" id="6693866"><a href="/net/mail/message_test.go.html#6693805">err</a></span><span class="op" id="6693869">.</span><span class="ident" id="6693870">Error</span><span class="op" id="6693875">(</span><span class="op" id="6693876">)</span><span class="op" id="6693877">,</span>&nbsp;<span class="string" id="6693879">&#34;charset&nbsp;not&nbsp;supported&#34;</span><span class="op" id="6693902">)</span>&nbsp;<span class="op" id="6693904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6693908"><a href="/net/mail/message_test.go.html#6693713">t</a></span><span class="op" id="6693909">.</span><span class="ident" id="6693910">Errorf</span><span class="op" id="6693916">(</span><span class="string" id="6693917">`mail.ParseAddress(%q)&nbsp;err:&nbsp;%q,&nbsp;want&nbsp;&#34;.*charset&nbsp;not&nbsp;supported.*&#34;`</span><span class="op" id="6693982">,</span>&nbsp;<span class="ident" id="6693984"><a href="/net/mail/message_test.go.html#6693736">txt</a></span><span class="op" id="6693987">,</span>&nbsp;<span class="ident" id="6693989"><a href="/net/mail/message_test.go.html#6693805">err</a></span><span class="op" id="6693992">)</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6693995">}</span><br>
<span class="lineno"></span><span class="op" id="6693997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6694000">func</span>&nbsp;<span class="ident" id="6694005">TestAddressParsing</span><span class="op" id="6694023">(</span><span class="ident" id="6694024">t</span>&nbsp;<span class="op" id="6694026">*</span><span class="ident" id="6694027"><a href="/net/mail/message_test.go.html#6691133">testing</a></span><span class="op" id="6694034">.</span><span class="ident" id="6694035">T</span><span class="op" id="6694036">)</span>&nbsp;<span class="op" id="6694038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694041">tests</span>&nbsp;<span class="op" id="6694047">:=</span>&nbsp;<span class="op" id="6694050">[</span><span class="op" id="6694051">]</span><span class="keyword" id="6694052">struct</span>&nbsp;<span class="op" id="6694059">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694063">addrsStr</span>&nbsp;<span class="builtintype" id="6694072">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694081">exp</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6694090">[</span><span class="op" id="6694091">]</span><span class="op" id="6694092">*</span><span class="ident" id="6694093"><a href="/net/mail/message.go.html#6424159">Address</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694102">}</span><span class="op" id="6694103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6694107">//&nbsp;Bare&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694125">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6694130">`jdoe@machine.example`</span><span class="op" id="6694152">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694157">[</span><span class="op" id="6694158">]</span><span class="op" id="6694159">*</span><span class="ident" id="6694160"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6694167">{</span><span class="op" id="6694168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694174">Address</span><span class="op" id="6694181">:</span>&nbsp;<span class="string" id="6694183">&#34;jdoe@machine.example&#34;</span><span class="op" id="6694205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694210">}</span><span class="op" id="6694211">}</span><span class="op" id="6694212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694216">}</span><span class="op" id="6694217">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6694221">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694251">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6694256">`John&nbsp;Doe&nbsp;&lt;jdoe@machine.example&gt;`</span><span class="op" id="6694289">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694294">[</span><span class="op" id="6694295">]</span><span class="op" id="6694296">*</span><span class="ident" id="6694297"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6694304">{</span><span class="op" id="6694305">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694311">Name</span><span class="op" id="6694315">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6694320">&#34;John&nbsp;Doe&#34;</span><span class="op" id="6694330">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694336">Address</span><span class="op" id="6694343">:</span>&nbsp;<span class="string" id="6694345">&#34;jdoe@machine.example&#34;</span><span class="op" id="6694367">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694372">}</span><span class="op" id="6694373">}</span><span class="op" id="6694374">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694378">}</span><span class="op" id="6694379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6694383">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694413">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6694418">`&#34;Joe&nbsp;Q.&nbsp;Public&#34;&nbsp;&lt;john.q.public@example.com&gt;`</span><span class="op" id="6694463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694468">[</span><span class="op" id="6694469">]</span><span class="op" id="6694470">*</span><span class="ident" id="6694471"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6694478">{</span><span class="op" id="6694479">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694485">Name</span><span class="op" id="6694489">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6694494">&#34;Joe&nbsp;Q.&nbsp;Public&#34;</span><span class="op" id="6694509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694515">Address</span><span class="op" id="6694522">:</span>&nbsp;<span class="string" id="6694524">&#34;john.q.public@example.com&#34;</span><span class="op" id="6694551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694556">}</span><span class="op" id="6694557">}</span><span class="op" id="6694558">,</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694562">}</span><span class="op" id="6694563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694567">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6694572">`Mary&nbsp;Smith&nbsp;&lt;mary@x.test&gt;,&nbsp;jdoe@example.org,&nbsp;Who?&nbsp;&lt;one@y.test&gt;`</span><span class="op" id="6694635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694640">[</span><span class="op" id="6694641">]</span><span class="op" id="6694642">*</span><span class="ident" id="6694643"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6694650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694656">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694663">Name</span><span class="op" id="6694667">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6694672">&#34;Mary&nbsp;Smith&#34;</span><span class="op" id="6694684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694691">Address</span><span class="op" id="6694698">:</span>&nbsp;<span class="string" id="6694700">&#34;mary@x.test&#34;</span><span class="op" id="6694713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694719">}</span><span class="op" id="6694720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694733">Address</span><span class="op" id="6694740">:</span>&nbsp;<span class="string" id="6694742">&#34;jdoe@example.org&#34;</span><span class="op" id="6694760">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694766">}</span><span class="op" id="6694767">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694780">Name</span><span class="op" id="6694784">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6694789">&#34;Who?&#34;</span><span class="op" id="6694795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694802">Address</span><span class="op" id="6694809">:</span>&nbsp;<span class="string" id="6694811">&#34;one@y.test&#34;</span><span class="op" id="6694823">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694829">}</span><span class="op" id="6694830">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694835">}</span><span class="op" id="6694836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694840">}</span><span class="op" id="6694841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6694850">`&lt;boss@nil.test&gt;,&nbsp;&#34;Giant;&nbsp;\&#34;Big\&#34;&nbsp;Box&#34;&nbsp;&lt;sysservices@example.net&gt;`</span><span class="op" id="6694915">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694920">[</span><span class="op" id="6694921">]</span><span class="op" id="6694922">*</span><span class="ident" id="6694923"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6694930">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694943">Address</span><span class="op" id="6694950">:</span>&nbsp;<span class="string" id="6694952">&#34;boss@nil.test&#34;</span><span class="op" id="6694967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694973">}</span><span class="op" id="6694974">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6694980">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6694987">Name</span><span class="op" id="6694991">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6694996">`Giant;&nbsp;&#34;Big&#34;&nbsp;Box`</span><span class="op" id="6695014">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695021">Address</span><span class="op" id="6695028">:</span>&nbsp;<span class="string" id="6695030">&#34;sysservices@example.net&#34;</span><span class="op" id="6695055">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695061">}</span><span class="op" id="6695062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695067">}</span><span class="op" id="6695068">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695072">}</span><span class="op" id="6695073">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695077">//&nbsp;RFC&nbsp;5322,&nbsp;Appendix&nbsp;A.1.3</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695107">//&nbsp;TODO(dsymonds):&nbsp;Group&nbsp;addresses.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695146">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6695197">`=?iso-8859-1?q?J=F6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6695246">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695251">[</span><span class="op" id="6695252">]</span><span class="op" id="6695253">*</span><span class="ident" id="6695254"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6695261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695267">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695274">Name</span><span class="op" id="6695278">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6695283">`Jörg&nbsp;Doe`</span><span class="op" id="6695294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695301">Address</span><span class="op" id="6695308">:</span>&nbsp;<span class="string" id="6695310">&#34;joerg@example.com&#34;</span><span class="op" id="6695329">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695335">}</span><span class="op" id="6695336">,</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695341">}</span><span class="op" id="6695342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695346">}</span><span class="op" id="6695347">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695351">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;US-ASCII&nbsp;address.&nbsp;Dumb&nbsp;but&nbsp;legal.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695411">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6695416">`=?us-ascii?q?J=6Frg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6695463">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695468">[</span><span class="op" id="6695469">]</span><span class="op" id="6695470">*</span><span class="ident" id="6695471"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6695478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695484">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695491">Name</span><span class="op" id="6695495">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6695500">`Jorg&nbsp;Doe`</span><span class="op" id="6695510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695517">Address</span><span class="op" id="6695524">:</span>&nbsp;<span class="string" id="6695526">&#34;joerg@example.com&#34;</span><span class="op" id="6695545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695551">}</span><span class="op" id="6695552">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695557">}</span><span class="op" id="6695558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695562">}</span><span class="op" id="6695563">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695567">//&nbsp;RFC&nbsp;2047&nbsp;&#34;Q&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6695613">`=?utf-8?q?J=C3=B6rg_Doe?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6695660">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695665">[</span><span class="op" id="6695666">]</span><span class="op" id="6695667">*</span><span class="ident" id="6695668"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6695675">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695681">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695688">Name</span><span class="op" id="6695692">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6695697">`Jörg&nbsp;Doe`</span><span class="op" id="6695708">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695715">Address</span><span class="op" id="6695722">:</span>&nbsp;<span class="string" id="6695724">&#34;joerg@example.com&#34;</span><span class="op" id="6695743">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695749">}</span><span class="op" id="6695750">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695755">}</span><span class="op" id="6695756">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695760">}</span><span class="op" id="6695761">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695765">//&nbsp;RFC&nbsp;2047,&nbsp;Section&nbsp;8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6695796">`=?ISO-8859-1?Q?Andr=E9?=&nbsp;Pirard&nbsp;&lt;PIRARD@vm1.ulg.ac.be&gt;`</span><span class="op" id="6695852">,</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695857">[</span><span class="op" id="6695858">]</span><span class="op" id="6695859">*</span><span class="ident" id="6695860"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6695867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695880">Name</span><span class="op" id="6695884">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6695889">`André&nbsp;Pirard`</span><span class="op" id="6695904">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6695911">Address</span><span class="op" id="6695918">:</span>&nbsp;<span class="string" id="6695920">&#34;PIRARD@vm1.ulg.ac.be&#34;</span><span class="op" id="6695942">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695948">}</span><span class="op" id="6695949">,</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695954">}</span><span class="op" id="6695955">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6695959">}</span><span class="op" id="6695960">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6695964">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;ISO-8859-1&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6696033">`=?ISO-8859-1?B?SvZyZw==?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6696080">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696085">[</span><span class="op" id="6696086">]</span><span class="op" id="6696087">*</span><span class="ident" id="6696088"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6696095">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696101">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696108">Name</span><span class="op" id="6696112">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6696117">`Jörg`</span><span class="op" id="6696124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696131">Address</span><span class="op" id="6696138">:</span>&nbsp;<span class="string" id="6696140">&#34;joerg@example.com&#34;</span><span class="op" id="6696159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696165">}</span><span class="op" id="6696166">,</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696171">}</span><span class="op" id="6696172">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696176">}</span><span class="op" id="6696177">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6696181">//&nbsp;Custom&nbsp;example&nbsp;of&nbsp;RFC&nbsp;2047&nbsp;&#34;B&#34;-encoded&nbsp;UTF-8&nbsp;address.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696240">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6696245">`=?UTF-8?B?SsO2cmc=?=&nbsp;&lt;joerg@example.com&gt;`</span><span class="op" id="6696287">,</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696292">[</span><span class="op" id="6696293">]</span><span class="op" id="6696294">*</span><span class="ident" id="6696295"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6696302">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696308">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696315">Name</span><span class="op" id="6696319">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6696324">`Jörg`</span><span class="op" id="6696331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696338">Address</span><span class="op" id="6696345">:</span>&nbsp;<span class="string" id="6696347">&#34;joerg@example.com&#34;</span><span class="op" id="6696366">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696372">}</span><span class="op" id="6696373">,</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696378">}</span><span class="op" id="6696379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696383">}</span><span class="op" id="6696384">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6696388">//&nbsp;Custom&nbsp;example&nbsp;with&nbsp;&#34;.&#34;&nbsp;in&nbsp;name.&nbsp;For&nbsp;issue&nbsp;4938</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6696446">`Asem&nbsp;H.&nbsp;&lt;noreply@example.com&gt;`</span><span class="op" id="6696477">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696482">[</span><span class="op" id="6696483">]</span><span class="op" id="6696484">*</span><span class="ident" id="6696485"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6696492">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696505">Name</span><span class="op" id="6696509">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6696514">`Asem&nbsp;H.`</span><span class="op" id="6696523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696530">Address</span><span class="op" id="6696537">:</span>&nbsp;<span class="string" id="6696539">&#34;noreply@example.com&#34;</span><span class="op" id="6696560">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696566">}</span><span class="op" id="6696567">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696572">}</span><span class="op" id="6696573">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696577">}</span><span class="op" id="6696578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696581">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696584">for</span>&nbsp;<span class="ident" id="6696588">_</span><span class="op" id="6696589">,</span>&nbsp;<span class="ident" id="6696591">test</span>&nbsp;<span class="op" id="6696596">:=</span>&nbsp;<span class="keyword" id="6696599">range</span>&nbsp;<span class="ident" id="6696605"><a href="/net/mail/message_test.go.html#6694041">tests</a></span>&nbsp;<span class="op" id="6696611">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696615">if</span>&nbsp;<span class="builtinfunc" id="6696618">len</span><span class="op" id="6696621">(</span><span class="ident" id="6696622"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696626">.</span><span class="ident" id="6696627">exp</span><span class="op" id="6696630">)</span>&nbsp;<span class="op" id="6696632">==</span>&nbsp;<span class="num" id="6696635">1</span>&nbsp;<span class="op" id="6696637">{</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696642">addr</span><span class="op" id="6696646">,</span>&nbsp;<span class="ident" id="6696648">err</span>&nbsp;<span class="op" id="6696652">:=</span>&nbsp;<span class="ident" id="6696655"><a href="/net/mail/message.go.html#6424334">ParseAddress</a></span><span class="op" id="6696667">(</span><span class="ident" id="6696668"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696672">.</span><span class="ident" id="6696673">addrsStr</span><span class="op" id="6696681">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696686">if</span>&nbsp;<span class="ident" id="6696689"><a href="/net/mail/message_test.go.html#6696648">err</a></span>&nbsp;<span class="op" id="6696693">!=</span>&nbsp;<span class="ident" id="6696696">nil</span>&nbsp;<span class="op" id="6696700">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696706"><a href="/net/mail/message_test.go.html#6694024">t</a></span><span class="op" id="6696707">.</span><span class="ident" id="6696708">Errorf</span><span class="op" id="6696714">(</span><span class="string" id="6696715">&#34;Failed&nbsp;parsing&nbsp;(single)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6696747">,</span>&nbsp;<span class="ident" id="6696749"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696753">.</span><span class="ident" id="6696754">addrsStr</span><span class="op" id="6696762">,</span>&nbsp;<span class="ident" id="6696764"><a href="/net/mail/message_test.go.html#6696648">err</a></span><span class="op" id="6696767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696773">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696785">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696790">if</span>&nbsp;<span class="op" id="6696793">!</span><span class="ident" id="6696794"><a href="/net/mail/message_test.go.html#6691111">reflect</a></span><span class="op" id="6696801">.</span><span class="ident" id="6696802">DeepEqual</span><span class="op" id="6696811">(</span><span class="op" id="6696812">[</span><span class="op" id="6696813">]</span><span class="op" id="6696814">*</span><span class="ident" id="6696815"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6696822">{</span><span class="ident" id="6696823"><a href="/net/mail/message_test.go.html#6696642">addr</a></span><span class="op" id="6696827">}</span><span class="op" id="6696828">,</span>&nbsp;<span class="ident" id="6696830"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696834">.</span><span class="ident" id="6696835">exp</span><span class="op" id="6696838">)</span>&nbsp;<span class="op" id="6696840">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696846"><a href="/net/mail/message_test.go.html#6694024">t</a></span><span class="op" id="6696847">.</span><span class="ident" id="6696848">Errorf</span><span class="op" id="6696854">(</span><span class="string" id="6696855">&#34;Parse&nbsp;(single)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6696896">,</span>&nbsp;<span class="ident" id="6696898"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696902">.</span><span class="ident" id="6696903">addrsStr</span><span class="op" id="6696911">,</span>&nbsp;<span class="ident" id="6696913"><a href="/net/mail/message_test.go.html#6696642">addr</a></span><span class="op" id="6696917">,</span>&nbsp;<span class="ident" id="6696919"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696923">.</span><span class="ident" id="6696924">exp</span><span class="op" id="6696927">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6696936">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6696941">addrs</span><span class="op" id="6696946">,</span>&nbsp;<span class="ident" id="6696948">err</span>&nbsp;<span class="op" id="6696952">:=</span>&nbsp;<span class="ident" id="6696955"><a href="/net/mail/message.go.html#6424505">ParseAddressList</a></span><span class="op" id="6696971">(</span><span class="ident" id="6696972"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6696976">.</span><span class="ident" id="6696977">addrsStr</span><span class="op" id="6696985">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6696989">if</span>&nbsp;<span class="ident" id="6696992"><a href="/net/mail/message_test.go.html#6696948">err</a></span>&nbsp;<span class="op" id="6696996">!=</span>&nbsp;<span class="ident" id="6696999">nil</span>&nbsp;<span class="op" id="6697003">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697008"><a href="/net/mail/message_test.go.html#6694024">t</a></span><span class="op" id="6697009">.</span><span class="ident" id="6697010">Errorf</span><span class="op" id="6697016">(</span><span class="string" id="6697017">&#34;Failed&nbsp;parsing&nbsp;(list)&nbsp;%q:&nbsp;%v&#34;</span><span class="op" id="6697047">,</span>&nbsp;<span class="ident" id="6697049"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6697053">.</span><span class="ident" id="6697054">addrsStr</span><span class="op" id="6697062">,</span>&nbsp;<span class="ident" id="6697064"><a href="/net/mail/message_test.go.html#6696948">err</a></span><span class="op" id="6697067">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697072">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697083">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697087">if</span>&nbsp;<span class="op" id="6697090">!</span><span class="ident" id="6697091"><a href="/net/mail/message_test.go.html#6691111">reflect</a></span><span class="op" id="6697098">.</span><span class="ident" id="6697099">DeepEqual</span><span class="op" id="6697108">(</span><span class="ident" id="6697109"><a href="/net/mail/message_test.go.html#6696941">addrs</a></span><span class="op" id="6697114">,</span>&nbsp;<span class="ident" id="6697116"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6697120">.</span><span class="ident" id="6697121">exp</span><span class="op" id="6697124">)</span>&nbsp;<span class="op" id="6697126">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697131"><a href="/net/mail/message_test.go.html#6694024">t</a></span><span class="op" id="6697132">.</span><span class="ident" id="6697133">Errorf</span><span class="op" id="6697139">(</span><span class="string" id="6697140">&#34;Parse&nbsp;(list)&nbsp;of&nbsp;%q:&nbsp;got&nbsp;%+v,&nbsp;want&nbsp;%+v&#34;</span><span class="op" id="6697179">,</span>&nbsp;<span class="ident" id="6697181"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6697185">.</span><span class="ident" id="6697186">addrsStr</span><span class="op" id="6697194">,</span>&nbsp;<span class="ident" id="6697196"><a href="/net/mail/message_test.go.html#6696941">addrs</a></span><span class="op" id="6697201">,</span>&nbsp;<span class="ident" id="6697203"><a href="/net/mail/message_test.go.html#6696591">test</a></span><span class="op" id="6697207">.</span><span class="ident" id="6697208">exp</span><span class="op" id="6697211">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697215">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697218">}</span><br>
<span class="lineno"></span><span class="op" id="6697220">}</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="6697223">func</span>&nbsp;<span class="ident" id="6697228">TestAddressFormatting</span><span class="op" id="6697249">(</span><span class="ident" id="6697250">t</span>&nbsp;<span class="op" id="6697252">*</span><span class="ident" id="6697253"><a href="/net/mail/message_test.go.html#6691133">testing</a></span><span class="op" id="6697260">.</span><span class="ident" id="6697261">T</span><span class="op" id="6697262">)</span>&nbsp;<span class="op" id="6697264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697267">tests</span>&nbsp;<span class="op" id="6697273">:=</span>&nbsp;<span class="op" id="6697276">[</span><span class="op" id="6697277">]</span><span class="keyword" id="6697278">struct</span>&nbsp;<span class="op" id="6697285">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697289">addr</span>&nbsp;<span class="op" id="6697294">*</span><span class="ident" id="6697295"><a href="/net/mail/message.go.html#6424159">Address</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697305">exp</span>&nbsp;&nbsp;<span class="builtintype" id="6697310">string</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697318">}</span><span class="op" id="6697319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697328">&amp;</span><span class="ident" id="6697329"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6697336">{</span><span class="ident" id="6697337">Address</span><span class="op" id="6697344">:</span>&nbsp;<span class="string" id="6697346">&#34;bob@example.com&#34;</span><span class="op" id="6697363">}</span><span class="op" id="6697364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6697369">&#34;&lt;bob@example.com&gt;&#34;</span><span class="op" id="6697388">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697392">}</span><span class="op" id="6697393">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697397">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697402">&amp;</span><span class="ident" id="6697403"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6697410">{</span><span class="ident" id="6697411">Name</span><span class="op" id="6697415">:</span>&nbsp;<span class="string" id="6697417">&#34;Bob&#34;</span><span class="op" id="6697422">,</span>&nbsp;<span class="ident" id="6697424">Address</span><span class="op" id="6697431">:</span>&nbsp;<span class="string" id="6697433">&#34;bob@example.com&#34;</span><span class="op" id="6697450">}</span><span class="op" id="6697451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6697456">`&#34;Bob&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6697481">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697485">}</span><span class="op" id="6697486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697490">{</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6697495">//&nbsp;note&nbsp;the&nbsp;ö&nbsp;(o&nbsp;with&nbsp;an&nbsp;umlaut)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697532">&amp;</span><span class="ident" id="6697533"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6697540">{</span><span class="ident" id="6697541">Name</span><span class="op" id="6697545">:</span>&nbsp;<span class="string" id="6697547">&#34;Böb&#34;</span><span class="op" id="6697553">,</span>&nbsp;<span class="ident" id="6697555">Address</span><span class="op" id="6697562">:</span>&nbsp;<span class="string" id="6697564">&#34;bob@example.com&#34;</span><span class="op" id="6697581">}</span><span class="op" id="6697582">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6697587">`=?utf-8?q?B=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6697627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697631">}</span><span class="op" id="6697632">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697636">{</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697641">&amp;</span><span class="ident" id="6697642"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6697649">{</span><span class="ident" id="6697650">Name</span><span class="op" id="6697654">:</span>&nbsp;<span class="string" id="6697656">&#34;Bob&nbsp;Jane&#34;</span><span class="op" id="6697666">,</span>&nbsp;<span class="ident" id="6697668">Address</span><span class="op" id="6697675">:</span>&nbsp;<span class="string" id="6697677">&#34;bob@example.com&#34;</span><span class="op" id="6697694">}</span><span class="op" id="6697695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6697700">`&#34;Bob&nbsp;Jane&#34;&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6697730">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697734">}</span><span class="op" id="6697735">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697744">&amp;</span><span class="ident" id="6697745"><a href="/net/mail/message.go.html#6424159">Address</a></span><span class="op" id="6697752">{</span><span class="ident" id="6697753">Name</span><span class="op" id="6697757">:</span>&nbsp;<span class="string" id="6697759">&#34;Böb&nbsp;Jacöb&#34;</span><span class="op" id="6697772">,</span>&nbsp;<span class="ident" id="6697774">Address</span><span class="op" id="6697781">:</span>&nbsp;<span class="string" id="6697783">&#34;bob@example.com&#34;</span><span class="op" id="6697800">}</span><span class="op" id="6697801">,</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6697806">`=?utf-8?q?B=C3=B6b_Jac=C3=B6b?=&nbsp;&lt;bob@example.com&gt;`</span><span class="op" id="6697857">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697861">}</span><span class="op" id="6697862">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6697865">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697868">for</span>&nbsp;<span class="ident" id="6697872">_</span><span class="op" id="6697873">,</span>&nbsp;<span class="ident" id="6697875">test</span>&nbsp;<span class="op" id="6697880">:=</span>&nbsp;<span class="keyword" id="6697883">range</span>&nbsp;<span class="ident" id="6697889"><a href="/net/mail/message_test.go.html#6697267">tests</a></span>&nbsp;<span class="op" id="6697895">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697899">s</span>&nbsp;<span class="op" id="6697901">:=</span>&nbsp;<span class="ident" id="6697904"><a href="/net/mail/message_test.go.html#6697875">test</a></span><span class="op" id="6697908">.</span><span class="ident" id="6697909">addr</span><span class="op" id="6697913">.</span><span class="ident" id="6697914">String</span><span class="op" id="6697920">(</span><span class="op" id="6697921">)</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6697925">if</span>&nbsp;<span class="ident" id="6697928"><a href="/net/mail/message_test.go.html#6697899">s</a></span>&nbsp;<span class="op" id="6697930">!=</span>&nbsp;<span class="ident" id="6697933"><a href="/net/mail/message_test.go.html#6697875">test</a></span><span class="op" id="6697937">.</span><span class="ident" id="6697938">exp</span>&nbsp;<span class="op" id="6697942">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6697947"><a href="/net/mail/message_test.go.html#6697250">t</a></span><span class="op" id="6697948">.</span><span class="ident" id="6697949">Errorf</span><span class="op" id="6697955">(</span><span class="string" id="6697956">&#34;Address%+v.String()&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6697991">,</span>&nbsp;<span class="op" id="6697993">*</span><span class="ident" id="6697994"><a href="/net/mail/message_test.go.html#6697875">test</a></span><span class="op" id="6697998">.</span><span class="ident" id="6697999">addr</span><span class="op" id="6698003">,</span>&nbsp;<span class="ident" id="6698005"><a href="/net/mail/message_test.go.html#6697899">s</a></span><span class="op" id="6698006">,</span>&nbsp;<span class="ident" id="6698008"><a href="/net/mail/message_test.go.html#6697875">test</a></span><span class="op" id="6698012">.</span><span class="ident" id="6698013">exp</span><span class="op" id="6698016">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698020">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6698023">}</span><br>
<span class="lineno"></span><span class="op" id="6698025">}</span>
</div>
</body>
</html>
