<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>path/filepath</h2>
<ul>
<li><a href="/gostd/path/filepath/example_unix_test.go.html">example_unix_test.go</a></li>
<li><a href="/gostd/path/filepath/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/path/filepath/match.go.html">match.go</a></li>
<li><a href="/gostd/path/filepath/match_test.go.html" class="current">match_test.go</a></li>
<li><a href="/gostd/path/filepath/path.go.html">path.go</a></li>
<li><a href="/gostd/path/filepath/path_test.go.html">path_test.go</a></li>
<li><a href="/gostd/path/filepath/path_unix.go.html">path_unix.go</a></li>
<li><a href="/gostd/path/filepath/symlink.go.html">symlink.go</a></li>
<li><a href="/gostd/path/filepath/symlink_unix.go.html">symlink_unix.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="698083">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="698138">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="698192">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="698243">package</span>&nbsp;<span class="ident" id="698251">filepath_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="698266">import</span>&nbsp;<span class="op" id="698273">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="698276">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="698289">&#34;os&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698295">.</span>&nbsp;<span class="string" id="698297">&#34;path/filepath&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="698314">&#34;runtime&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="698325">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="698336">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="698346">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="698349">type</span>&nbsp;<span class="ident" id="698354">MatchTest</span>&nbsp;<span class="keyword" id="698364">struct</span>&nbsp;<span class="op" id="698371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="698374">pattern</span><span class="op" id="698381">,</span>&nbsp;<span class="ident" id="698383">s</span>&nbsp;<span class="builtintype" id="698385">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="698393">match</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="698404">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="698410">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="698421">error</span><br>
<span class="lineno">20</span><span class="op" id="698427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="698430">var</span>&nbsp;<span class="ident" id="698434">matchTests</span>&nbsp;<span class="op" id="698445">=</span>&nbsp;<span class="op" id="698447">[</span><span class="op" id="698448">]</span><span class="ident" id="698449">MatchTest</span><span class="op" id="698458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698461">{</span><span class="string" id="698462">&#34;abc&#34;</span><span class="op" id="698467">,</span>&nbsp;<span class="string" id="698469">&#34;abc&#34;</span><span class="op" id="698474">,</span>&nbsp;<span class="builtintype" id="698476">true</span><span class="op" id="698480">,</span>&nbsp;<span class="ident" id="698482">nil</span><span class="op" id="698485">}</span><span class="op" id="698486">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698489">{</span><span class="string" id="698490">&#34;*&#34;</span><span class="op" id="698493">,</span>&nbsp;<span class="string" id="698495">&#34;abc&#34;</span><span class="op" id="698500">,</span>&nbsp;<span class="builtintype" id="698502">true</span><span class="op" id="698506">,</span>&nbsp;<span class="ident" id="698508">nil</span><span class="op" id="698511">}</span><span class="op" id="698512">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698515">{</span><span class="string" id="698516">&#34;*c&#34;</span><span class="op" id="698520">,</span>&nbsp;<span class="string" id="698522">&#34;abc&#34;</span><span class="op" id="698527">,</span>&nbsp;<span class="builtintype" id="698529">true</span><span class="op" id="698533">,</span>&nbsp;<span class="ident" id="698535">nil</span><span class="op" id="698538">}</span><span class="op" id="698539">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698542">{</span><span class="string" id="698543">&#34;a*&#34;</span><span class="op" id="698547">,</span>&nbsp;<span class="string" id="698549">&#34;a&#34;</span><span class="op" id="698552">,</span>&nbsp;<span class="builtintype" id="698554">true</span><span class="op" id="698558">,</span>&nbsp;<span class="ident" id="698560">nil</span><span class="op" id="698563">}</span><span class="op" id="698564">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698567">{</span><span class="string" id="698568">&#34;a*&#34;</span><span class="op" id="698572">,</span>&nbsp;<span class="string" id="698574">&#34;abc&#34;</span><span class="op" id="698579">,</span>&nbsp;<span class="builtintype" id="698581">true</span><span class="op" id="698585">,</span>&nbsp;<span class="ident" id="698587">nil</span><span class="op" id="698590">}</span><span class="op" id="698591">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698594">{</span><span class="string" id="698595">&#34;a*&#34;</span><span class="op" id="698599">,</span>&nbsp;<span class="string" id="698601">&#34;ab/c&#34;</span><span class="op" id="698607">,</span>&nbsp;<span class="builtintype" id="698609">false</span><span class="op" id="698614">,</span>&nbsp;<span class="ident" id="698616">nil</span><span class="op" id="698619">}</span><span class="op" id="698620">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698623">{</span><span class="string" id="698624">&#34;a*/b&#34;</span><span class="op" id="698630">,</span>&nbsp;<span class="string" id="698632">&#34;abc/b&#34;</span><span class="op" id="698639">,</span>&nbsp;<span class="builtintype" id="698641">true</span><span class="op" id="698645">,</span>&nbsp;<span class="ident" id="698647">nil</span><span class="op" id="698650">}</span><span class="op" id="698651">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698654">{</span><span class="string" id="698655">&#34;a*/b&#34;</span><span class="op" id="698661">,</span>&nbsp;<span class="string" id="698663">&#34;a/c/b&#34;</span><span class="op" id="698670">,</span>&nbsp;<span class="builtintype" id="698672">false</span><span class="op" id="698677">,</span>&nbsp;<span class="ident" id="698679">nil</span><span class="op" id="698682">}</span><span class="op" id="698683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698686">{</span><span class="string" id="698687">&#34;a*b*c*d*e*/f&#34;</span><span class="op" id="698701">,</span>&nbsp;<span class="string" id="698703">&#34;axbxcxdxe/f&#34;</span><span class="op" id="698716">,</span>&nbsp;<span class="builtintype" id="698718">true</span><span class="op" id="698722">,</span>&nbsp;<span class="ident" id="698724">nil</span><span class="op" id="698727">}</span><span class="op" id="698728">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698731">{</span><span class="string" id="698732">&#34;a*b*c*d*e*/f&#34;</span><span class="op" id="698746">,</span>&nbsp;<span class="string" id="698748">&#34;axbxcxdxexxx/f&#34;</span><span class="op" id="698764">,</span>&nbsp;<span class="builtintype" id="698766">true</span><span class="op" id="698770">,</span>&nbsp;<span class="ident" id="698772">nil</span><span class="op" id="698775">}</span><span class="op" id="698776">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698779">{</span><span class="string" id="698780">&#34;a*b*c*d*e*/f&#34;</span><span class="op" id="698794">,</span>&nbsp;<span class="string" id="698796">&#34;axbxcxdxe/xxx/f&#34;</span><span class="op" id="698813">,</span>&nbsp;<span class="builtintype" id="698815">false</span><span class="op" id="698820">,</span>&nbsp;<span class="ident" id="698822">nil</span><span class="op" id="698825">}</span><span class="op" id="698826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698829">{</span><span class="string" id="698830">&#34;a*b*c*d*e*/f&#34;</span><span class="op" id="698844">,</span>&nbsp;<span class="string" id="698846">&#34;axbxcxdxexxx/fff&#34;</span><span class="op" id="698864">,</span>&nbsp;<span class="builtintype" id="698866">false</span><span class="op" id="698871">,</span>&nbsp;<span class="ident" id="698873">nil</span><span class="op" id="698876">}</span><span class="op" id="698877">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698880">{</span><span class="string" id="698881">&#34;a*b?c*x&#34;</span><span class="op" id="698890">,</span>&nbsp;<span class="string" id="698892">&#34;abxbbxdbxebxczzx&#34;</span><span class="op" id="698910">,</span>&nbsp;<span class="builtintype" id="698912">true</span><span class="op" id="698916">,</span>&nbsp;<span class="ident" id="698918">nil</span><span class="op" id="698921">}</span><span class="op" id="698922">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698925">{</span><span class="string" id="698926">&#34;a*b?c*x&#34;</span><span class="op" id="698935">,</span>&nbsp;<span class="string" id="698937">&#34;abxbbxdbxebxczzy&#34;</span><span class="op" id="698955">,</span>&nbsp;<span class="builtintype" id="698957">false</span><span class="op" id="698962">,</span>&nbsp;<span class="ident" id="698964">nil</span><span class="op" id="698967">}</span><span class="op" id="698968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="698971">{</span><span class="string" id="698972">&#34;ab[c]&#34;</span><span class="op" id="698979">,</span>&nbsp;<span class="string" id="698981">&#34;abc&#34;</span><span class="op" id="698986">,</span>&nbsp;<span class="builtintype" id="698988">true</span><span class="op" id="698992">,</span>&nbsp;<span class="ident" id="698994">nil</span><span class="op" id="698997">}</span><span class="op" id="698998">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699001">{</span><span class="string" id="699002">&#34;ab[b-d]&#34;</span><span class="op" id="699011">,</span>&nbsp;<span class="string" id="699013">&#34;abc&#34;</span><span class="op" id="699018">,</span>&nbsp;<span class="builtintype" id="699020">true</span><span class="op" id="699024">,</span>&nbsp;<span class="ident" id="699026">nil</span><span class="op" id="699029">}</span><span class="op" id="699030">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699033">{</span><span class="string" id="699034">&#34;ab[e-g]&#34;</span><span class="op" id="699043">,</span>&nbsp;<span class="string" id="699045">&#34;abc&#34;</span><span class="op" id="699050">,</span>&nbsp;<span class="builtintype" id="699052">false</span><span class="op" id="699057">,</span>&nbsp;<span class="ident" id="699059">nil</span><span class="op" id="699062">}</span><span class="op" id="699063">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699066">{</span><span class="string" id="699067">&#34;ab[^c]&#34;</span><span class="op" id="699075">,</span>&nbsp;<span class="string" id="699077">&#34;abc&#34;</span><span class="op" id="699082">,</span>&nbsp;<span class="builtintype" id="699084">false</span><span class="op" id="699089">,</span>&nbsp;<span class="ident" id="699091">nil</span><span class="op" id="699094">}</span><span class="op" id="699095">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699098">{</span><span class="string" id="699099">&#34;ab[^b-d]&#34;</span><span class="op" id="699109">,</span>&nbsp;<span class="string" id="699111">&#34;abc&#34;</span><span class="op" id="699116">,</span>&nbsp;<span class="builtintype" id="699118">false</span><span class="op" id="699123">,</span>&nbsp;<span class="ident" id="699125">nil</span><span class="op" id="699128">}</span><span class="op" id="699129">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699132">{</span><span class="string" id="699133">&#34;ab[^e-g]&#34;</span><span class="op" id="699143">,</span>&nbsp;<span class="string" id="699145">&#34;abc&#34;</span><span class="op" id="699150">,</span>&nbsp;<span class="builtintype" id="699152">true</span><span class="op" id="699156">,</span>&nbsp;<span class="ident" id="699158">nil</span><span class="op" id="699161">}</span><span class="op" id="699162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699165">{</span><span class="string" id="699166">&#34;a\\*b&#34;</span><span class="op" id="699173">,</span>&nbsp;<span class="string" id="699175">&#34;a*b&#34;</span><span class="op" id="699180">,</span>&nbsp;<span class="builtintype" id="699182">true</span><span class="op" id="699186">,</span>&nbsp;<span class="ident" id="699188">nil</span><span class="op" id="699191">}</span><span class="op" id="699192">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699195">{</span><span class="string" id="699196">&#34;a\\*b&#34;</span><span class="op" id="699203">,</span>&nbsp;<span class="string" id="699205">&#34;ab&#34;</span><span class="op" id="699209">,</span>&nbsp;<span class="builtintype" id="699211">false</span><span class="op" id="699216">,</span>&nbsp;<span class="ident" id="699218">nil</span><span class="op" id="699221">}</span><span class="op" id="699222">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699225">{</span><span class="string" id="699226">&#34;a?b&#34;</span><span class="op" id="699231">,</span>&nbsp;<span class="string" id="699233">&#34;a☺b&#34;</span><span class="op" id="699240">,</span>&nbsp;<span class="builtintype" id="699242">true</span><span class="op" id="699246">,</span>&nbsp;<span class="ident" id="699248">nil</span><span class="op" id="699251">}</span><span class="op" id="699252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699255">{</span><span class="string" id="699256">&#34;a[^a]b&#34;</span><span class="op" id="699264">,</span>&nbsp;<span class="string" id="699266">&#34;a☺b&#34;</span><span class="op" id="699273">,</span>&nbsp;<span class="builtintype" id="699275">true</span><span class="op" id="699279">,</span>&nbsp;<span class="ident" id="699281">nil</span><span class="op" id="699284">}</span><span class="op" id="699285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699288">{</span><span class="string" id="699289">&#34;a???b&#34;</span><span class="op" id="699296">,</span>&nbsp;<span class="string" id="699298">&#34;a☺b&#34;</span><span class="op" id="699305">,</span>&nbsp;<span class="builtintype" id="699307">false</span><span class="op" id="699312">,</span>&nbsp;<span class="ident" id="699314">nil</span><span class="op" id="699317">}</span><span class="op" id="699318">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699321">{</span><span class="string" id="699322">&#34;a[^a][^a][^a]b&#34;</span><span class="op" id="699338">,</span>&nbsp;<span class="string" id="699340">&#34;a☺b&#34;</span><span class="op" id="699347">,</span>&nbsp;<span class="builtintype" id="699349">false</span><span class="op" id="699354">,</span>&nbsp;<span class="ident" id="699356">nil</span><span class="op" id="699359">}</span><span class="op" id="699360">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699363">{</span><span class="string" id="699364">&#34;[a-ζ]*&#34;</span><span class="op" id="699373">,</span>&nbsp;<span class="string" id="699375">&#34;α&#34;</span><span class="op" id="699379">,</span>&nbsp;<span class="builtintype" id="699381">true</span><span class="op" id="699385">,</span>&nbsp;<span class="ident" id="699387">nil</span><span class="op" id="699390">}</span><span class="op" id="699391">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699394">{</span><span class="string" id="699395">&#34;*[a-ζ]&#34;</span><span class="op" id="699404">,</span>&nbsp;<span class="string" id="699406">&#34;A&#34;</span><span class="op" id="699409">,</span>&nbsp;<span class="builtintype" id="699411">false</span><span class="op" id="699416">,</span>&nbsp;<span class="ident" id="699418">nil</span><span class="op" id="699421">}</span><span class="op" id="699422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699425">{</span><span class="string" id="699426">&#34;a?b&#34;</span><span class="op" id="699431">,</span>&nbsp;<span class="string" id="699433">&#34;a/b&#34;</span><span class="op" id="699438">,</span>&nbsp;<span class="builtintype" id="699440">false</span><span class="op" id="699445">,</span>&nbsp;<span class="ident" id="699447">nil</span><span class="op" id="699450">}</span><span class="op" id="699451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699454">{</span><span class="string" id="699455">&#34;a*b&#34;</span><span class="op" id="699460">,</span>&nbsp;<span class="string" id="699462">&#34;a/b&#34;</span><span class="op" id="699467">,</span>&nbsp;<span class="builtintype" id="699469">false</span><span class="op" id="699474">,</span>&nbsp;<span class="ident" id="699476">nil</span><span class="op" id="699479">}</span><span class="op" id="699480">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699483">{</span><span class="string" id="699484">&#34;[\\]a]&#34;</span><span class="op" id="699492">,</span>&nbsp;<span class="string" id="699494">&#34;]&#34;</span><span class="op" id="699497">,</span>&nbsp;<span class="builtintype" id="699499">true</span><span class="op" id="699503">,</span>&nbsp;<span class="ident" id="699505">nil</span><span class="op" id="699508">}</span><span class="op" id="699509">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699512">{</span><span class="string" id="699513">&#34;[\\-]&#34;</span><span class="op" id="699520">,</span>&nbsp;<span class="string" id="699522">&#34;-&#34;</span><span class="op" id="699525">,</span>&nbsp;<span class="builtintype" id="699527">true</span><span class="op" id="699531">,</span>&nbsp;<span class="ident" id="699533">nil</span><span class="op" id="699536">}</span><span class="op" id="699537">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699540">{</span><span class="string" id="699541">&#34;[x\\-]&#34;</span><span class="op" id="699549">,</span>&nbsp;<span class="string" id="699551">&#34;x&#34;</span><span class="op" id="699554">,</span>&nbsp;<span class="builtintype" id="699556">true</span><span class="op" id="699560">,</span>&nbsp;<span class="ident" id="699562">nil</span><span class="op" id="699565">}</span><span class="op" id="699566">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699569">{</span><span class="string" id="699570">&#34;[x\\-]&#34;</span><span class="op" id="699578">,</span>&nbsp;<span class="string" id="699580">&#34;-&#34;</span><span class="op" id="699583">,</span>&nbsp;<span class="builtintype" id="699585">true</span><span class="op" id="699589">,</span>&nbsp;<span class="ident" id="699591">nil</span><span class="op" id="699594">}</span><span class="op" id="699595">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699598">{</span><span class="string" id="699599">&#34;[x\\-]&#34;</span><span class="op" id="699607">,</span>&nbsp;<span class="string" id="699609">&#34;z&#34;</span><span class="op" id="699612">,</span>&nbsp;<span class="builtintype" id="699614">false</span><span class="op" id="699619">,</span>&nbsp;<span class="ident" id="699621">nil</span><span class="op" id="699624">}</span><span class="op" id="699625">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699628">{</span><span class="string" id="699629">&#34;[\\-x]&#34;</span><span class="op" id="699637">,</span>&nbsp;<span class="string" id="699639">&#34;x&#34;</span><span class="op" id="699642">,</span>&nbsp;<span class="builtintype" id="699644">true</span><span class="op" id="699648">,</span>&nbsp;<span class="ident" id="699650">nil</span><span class="op" id="699653">}</span><span class="op" id="699654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699657">{</span><span class="string" id="699658">&#34;[\\-x]&#34;</span><span class="op" id="699666">,</span>&nbsp;<span class="string" id="699668">&#34;-&#34;</span><span class="op" id="699671">,</span>&nbsp;<span class="builtintype" id="699673">true</span><span class="op" id="699677">,</span>&nbsp;<span class="ident" id="699679">nil</span><span class="op" id="699682">}</span><span class="op" id="699683">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699686">{</span><span class="string" id="699687">&#34;[\\-x]&#34;</span><span class="op" id="699695">,</span>&nbsp;<span class="string" id="699697">&#34;a&#34;</span><span class="op" id="699700">,</span>&nbsp;<span class="builtintype" id="699702">false</span><span class="op" id="699707">,</span>&nbsp;<span class="ident" id="699709">nil</span><span class="op" id="699712">}</span><span class="op" id="699713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699716">{</span><span class="string" id="699717">&#34;[]a]&#34;</span><span class="op" id="699723">,</span>&nbsp;<span class="string" id="699725">&#34;]&#34;</span><span class="op" id="699728">,</span>&nbsp;<span class="builtintype" id="699730">false</span><span class="op" id="699735">,</span>&nbsp;<span class="ident" id="699737">ErrBadPattern</span><span class="op" id="699750">}</span><span class="op" id="699751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699754">{</span><span class="string" id="699755">&#34;[-]&#34;</span><span class="op" id="699760">,</span>&nbsp;<span class="string" id="699762">&#34;-&#34;</span><span class="op" id="699765">,</span>&nbsp;<span class="builtintype" id="699767">false</span><span class="op" id="699772">,</span>&nbsp;<span class="ident" id="699774">ErrBadPattern</span><span class="op" id="699787">}</span><span class="op" id="699788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699791">{</span><span class="string" id="699792">&#34;[x-]&#34;</span><span class="op" id="699798">,</span>&nbsp;<span class="string" id="699800">&#34;x&#34;</span><span class="op" id="699803">,</span>&nbsp;<span class="builtintype" id="699805">false</span><span class="op" id="699810">,</span>&nbsp;<span class="ident" id="699812">ErrBadPattern</span><span class="op" id="699825">}</span><span class="op" id="699826">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699829">{</span><span class="string" id="699830">&#34;[x-]&#34;</span><span class="op" id="699836">,</span>&nbsp;<span class="string" id="699838">&#34;-&#34;</span><span class="op" id="699841">,</span>&nbsp;<span class="builtintype" id="699843">false</span><span class="op" id="699848">,</span>&nbsp;<span class="ident" id="699850">ErrBadPattern</span><span class="op" id="699863">}</span><span class="op" id="699864">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699867">{</span><span class="string" id="699868">&#34;[x-]&#34;</span><span class="op" id="699874">,</span>&nbsp;<span class="string" id="699876">&#34;z&#34;</span><span class="op" id="699879">,</span>&nbsp;<span class="builtintype" id="699881">false</span><span class="op" id="699886">,</span>&nbsp;<span class="ident" id="699888">ErrBadPattern</span><span class="op" id="699901">}</span><span class="op" id="699902">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699905">{</span><span class="string" id="699906">&#34;[-x]&#34;</span><span class="op" id="699912">,</span>&nbsp;<span class="string" id="699914">&#34;x&#34;</span><span class="op" id="699917">,</span>&nbsp;<span class="builtintype" id="699919">false</span><span class="op" id="699924">,</span>&nbsp;<span class="ident" id="699926">ErrBadPattern</span><span class="op" id="699939">}</span><span class="op" id="699940">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699943">{</span><span class="string" id="699944">&#34;[-x]&#34;</span><span class="op" id="699950">,</span>&nbsp;<span class="string" id="699952">&#34;-&#34;</span><span class="op" id="699955">,</span>&nbsp;<span class="builtintype" id="699957">false</span><span class="op" id="699962">,</span>&nbsp;<span class="ident" id="699964">ErrBadPattern</span><span class="op" id="699977">}</span><span class="op" id="699978">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="699981">{</span><span class="string" id="699982">&#34;[-x]&#34;</span><span class="op" id="699988">,</span>&nbsp;<span class="string" id="699990">&#34;a&#34;</span><span class="op" id="699993">,</span>&nbsp;<span class="builtintype" id="699995">false</span><span class="op" id="700000">,</span>&nbsp;<span class="ident" id="700002">ErrBadPattern</span><span class="op" id="700015">}</span><span class="op" id="700016">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700019">{</span><span class="string" id="700020">&#34;\\&#34;</span><span class="op" id="700024">,</span>&nbsp;<span class="string" id="700026">&#34;a&#34;</span><span class="op" id="700029">,</span>&nbsp;<span class="builtintype" id="700031">false</span><span class="op" id="700036">,</span>&nbsp;<span class="ident" id="700038">ErrBadPattern</span><span class="op" id="700051">}</span><span class="op" id="700052">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700055">{</span><span class="string" id="700056">&#34;[a-b-c]&#34;</span><span class="op" id="700065">,</span>&nbsp;<span class="string" id="700067">&#34;a&#34;</span><span class="op" id="700070">,</span>&nbsp;<span class="builtintype" id="700072">false</span><span class="op" id="700077">,</span>&nbsp;<span class="ident" id="700079">ErrBadPattern</span><span class="op" id="700092">}</span><span class="op" id="700093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700096">{</span><span class="string" id="700097">&#34;[&#34;</span><span class="op" id="700100">,</span>&nbsp;<span class="string" id="700102">&#34;a&#34;</span><span class="op" id="700105">,</span>&nbsp;<span class="builtintype" id="700107">false</span><span class="op" id="700112">,</span>&nbsp;<span class="ident" id="700114">ErrBadPattern</span><span class="op" id="700127">}</span><span class="op" id="700128">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700131">{</span><span class="string" id="700132">&#34;[^&#34;</span><span class="op" id="700136">,</span>&nbsp;<span class="string" id="700138">&#34;a&#34;</span><span class="op" id="700141">,</span>&nbsp;<span class="builtintype" id="700143">false</span><span class="op" id="700148">,</span>&nbsp;<span class="ident" id="700150">ErrBadPattern</span><span class="op" id="700163">}</span><span class="op" id="700164">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700167">{</span><span class="string" id="700168">&#34;[^bc&#34;</span><span class="op" id="700174">,</span>&nbsp;<span class="string" id="700176">&#34;a&#34;</span><span class="op" id="700179">,</span>&nbsp;<span class="builtintype" id="700181">false</span><span class="op" id="700186">,</span>&nbsp;<span class="ident" id="700188">ErrBadPattern</span><span class="op" id="700201">}</span><span class="op" id="700202">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700205">{</span><span class="string" id="700206">&#34;a[&#34;</span><span class="op" id="700210">,</span>&nbsp;<span class="string" id="700212">&#34;a&#34;</span><span class="op" id="700215">,</span>&nbsp;<span class="builtintype" id="700217">false</span><span class="op" id="700222">,</span>&nbsp;<span class="ident" id="700224">nil</span><span class="op" id="700227">}</span><span class="op" id="700228">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700231">{</span><span class="string" id="700232">&#34;a[&#34;</span><span class="op" id="700236">,</span>&nbsp;<span class="string" id="700238">&#34;ab&#34;</span><span class="op" id="700242">,</span>&nbsp;<span class="builtintype" id="700244">false</span><span class="op" id="700249">,</span>&nbsp;<span class="ident" id="700251">ErrBadPattern</span><span class="op" id="700264">}</span><span class="op" id="700265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700268">{</span><span class="string" id="700269">&#34;*x&#34;</span><span class="op" id="700273">,</span>&nbsp;<span class="string" id="700275">&#34;xxx&#34;</span><span class="op" id="700280">,</span>&nbsp;<span class="builtintype" id="700282">true</span><span class="op" id="700286">,</span>&nbsp;<span class="ident" id="700288">nil</span><span class="op" id="700291">}</span><span class="op" id="700292">,</span><br>
<span class="lineno"></span><span class="op" id="700294">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="700297">func</span>&nbsp;<span class="ident" id="700302">errp</span><span class="op" id="700306">(</span><span class="ident" id="700307">e</span>&nbsp;<span class="builtintype" id="700309">error</span><span class="op" id="700314">)</span>&nbsp;<span class="builtintype" id="700316">string</span>&nbsp;<span class="op" id="700323">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700326">if</span>&nbsp;<span class="ident" id="700329">e</span>&nbsp;<span class="op" id="700331">==</span>&nbsp;<span class="ident" id="700334">nil</span>&nbsp;<span class="op" id="700338">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700342">return</span>&nbsp;<span class="string" id="700349">&#34;&lt;nil&gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700358">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700361">return</span>&nbsp;<span class="ident" id="700368">e</span><span class="op" id="700369">.</span><span class="ident" id="700370">Error</span><span class="op" id="700375">(</span><span class="op" id="700376">)</span><br>
<span class="lineno"></span><span class="op" id="700378">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span><span class="keyword" id="700381">func</span>&nbsp;<span class="ident" id="700386">TestMatch</span><span class="op" id="700395">(</span><span class="ident" id="700396">t</span>&nbsp;<span class="op" id="700398">*</span><span class="ident" id="700399">testing</span><span class="op" id="700406">.</span><span class="ident" id="700407">T</span><span class="op" id="700408">)</span>&nbsp;<span class="op" id="700410">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700413">for</span>&nbsp;<span class="ident" id="700417">_</span><span class="op" id="700418">,</span>&nbsp;<span class="ident" id="700420">tt</span>&nbsp;<span class="op" id="700423">:=</span>&nbsp;<span class="keyword" id="700426">range</span>&nbsp;<span class="ident" id="700432">matchTests</span>&nbsp;<span class="op" id="700443">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="700447">pattern</span>&nbsp;<span class="op" id="700455">:=</span>&nbsp;<span class="ident" id="700458">tt</span><span class="op" id="700460">.</span><span class="ident" id="700461">pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="700471">s</span>&nbsp;<span class="op" id="700473">:=</span>&nbsp;<span class="ident" id="700476">tt</span><span class="op" id="700478">.</span><span class="ident" id="700479">s</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700483">if</span>&nbsp;<span class="ident" id="700486">runtime</span><span class="op" id="700493">.</span><span class="ident" id="700494">GOOS</span>&nbsp;<span class="op" id="700499">==</span>&nbsp;<span class="string" id="700502">&#34;windows&#34;</span>&nbsp;<span class="op" id="700512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700517">if</span>&nbsp;<span class="ident" id="700520">strings</span><span class="op" id="700527">.</span><span class="ident" id="700528">Index</span><span class="op" id="700533">(</span><span class="ident" id="700534">pattern</span><span class="op" id="700541">,</span>&nbsp;<span class="string" id="700543">&#34;\\&#34;</span><span class="op" id="700547">)</span>&nbsp;<span class="op" id="700549">&gt;=</span>&nbsp;<span class="num" id="700552">0</span>&nbsp;<span class="op" id="700554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="700560">//&nbsp;no&nbsp;escape&nbsp;allowed&nbsp;on&nbsp;windows.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700597">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700609">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="700614">pattern</span>&nbsp;<span class="op" id="700622">=</span>&nbsp;<span class="ident" id="700624">Clean</span><span class="op" id="700629">(</span><span class="ident" id="700630">pattern</span><span class="op" id="700637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="700642">s</span>&nbsp;<span class="op" id="700644">=</span>&nbsp;<span class="ident" id="700646">Clean</span><span class="op" id="700651">(</span><span class="ident" id="700652">s</span><span class="op" id="700653">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="700661">ok</span><span class="op" id="700663">,</span>&nbsp;<span class="ident" id="700665">err</span>&nbsp;<span class="op" id="700669">:=</span>&nbsp;<span class="ident" id="700672">Match</span><span class="op" id="700677">(</span><span class="ident" id="700678">pattern</span><span class="op" id="700685">,</span>&nbsp;<span class="ident" id="700687">s</span><span class="op" id="700688">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700692">if</span>&nbsp;<span class="ident" id="700695">ok</span>&nbsp;<span class="op" id="700698">!=</span>&nbsp;<span class="ident" id="700701">tt</span><span class="op" id="700703">.</span><span class="ident" id="700704">match</span>&nbsp;<span class="op" id="700710">||</span>&nbsp;<span class="ident" id="700713">err</span>&nbsp;<span class="op" id="700717">!=</span>&nbsp;<span class="ident" id="700720">tt</span><span class="op" id="700722">.</span><span class="ident" id="700723">err</span>&nbsp;<span class="op" id="700727">{</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="700732">t</span><span class="op" id="700733">.</span><span class="ident" id="700734">Errorf</span><span class="op" id="700740">(</span><span class="string" id="700741">&#34;Match(%#q,&nbsp;%#q)&nbsp;=&nbsp;%v,&nbsp;%q&nbsp;want&nbsp;%v,&nbsp;%q&#34;</span><span class="op" id="700779">,</span>&nbsp;<span class="ident" id="700781">pattern</span><span class="op" id="700788">,</span>&nbsp;<span class="ident" id="700790">s</span><span class="op" id="700791">,</span>&nbsp;<span class="ident" id="700793">ok</span><span class="op" id="700795">,</span>&nbsp;<span class="ident" id="700797">errp</span><span class="op" id="700801">(</span><span class="ident" id="700802">err</span><span class="op" id="700805">)</span><span class="op" id="700806">,</span>&nbsp;<span class="ident" id="700808">tt</span><span class="op" id="700810">.</span><span class="ident" id="700811">match</span><span class="op" id="700816">,</span>&nbsp;<span class="ident" id="700818">errp</span><span class="op" id="700822">(</span><span class="ident" id="700823">tt</span><span class="op" id="700825">.</span><span class="ident" id="700826">err</span><span class="op" id="700829">)</span><span class="op" id="700830">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700834">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="700837">}</span><br>
<span class="lineno"></span><span class="op" id="700839">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="comment" id="700842">//&nbsp;contains&nbsp;returns&nbsp;true&nbsp;if&nbsp;vector&nbsp;contains&nbsp;the&nbsp;string&nbsp;s.</span><br>
<span class="lineno"></span><span class="keyword" id="700900">func</span>&nbsp;<span class="ident" id="700905">contains</span><span class="op" id="700913">(</span><span class="ident" id="700914">vector</span>&nbsp;<span class="op" id="700921">[</span><span class="op" id="700922">]</span><span class="builtintype" id="700923">string</span><span class="op" id="700929">,</span>&nbsp;<span class="ident" id="700931">s</span>&nbsp;<span class="builtintype" id="700933">string</span><span class="op" id="700939">)</span>&nbsp;<span class="builtintype" id="700941">bool</span>&nbsp;<span class="op" id="700946">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700949">for</span>&nbsp;<span class="ident" id="700953">_</span><span class="op" id="700954">,</span>&nbsp;<span class="ident" id="700956">elem</span>&nbsp;<span class="op" id="700961">:=</span>&nbsp;<span class="keyword" id="700964">range</span>&nbsp;<span class="ident" id="700970">vector</span>&nbsp;<span class="op" id="700977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700981">if</span>&nbsp;<span class="ident" id="700984">elem</span>&nbsp;<span class="op" id="700989">==</span>&nbsp;<span class="ident" id="700992">s</span>&nbsp;<span class="op" id="700994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="700999">return</span>&nbsp;<span class="builtintype" id="701006">true</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701013">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701016">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701019">return</span>&nbsp;<span class="builtintype" id="701026">false</span><br>
<span class="lineno"></span><span class="op" id="701032">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">115</span><span class="keyword" id="701035">var</span>&nbsp;<span class="ident" id="701039">globTests</span>&nbsp;<span class="op" id="701049">=</span>&nbsp;<span class="op" id="701051">[</span><span class="op" id="701052">]</span><span class="keyword" id="701053">struct</span>&nbsp;<span class="op" id="701060">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701063">pattern</span><span class="op" id="701070">,</span>&nbsp;<span class="ident" id="701072">result</span>&nbsp;<span class="builtintype" id="701079">string</span><br>
<span class="lineno"></span><span class="op" id="701086">}</span><span class="op" id="701087">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701090">{</span><span class="string" id="701091">&#34;match.go&#34;</span><span class="op" id="701101">,</span>&nbsp;<span class="string" id="701103">&#34;match.go&#34;</span><span class="op" id="701113">}</span><span class="op" id="701114">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701117">{</span><span class="string" id="701118">&#34;mat?h.go&#34;</span><span class="op" id="701128">,</span>&nbsp;<span class="string" id="701130">&#34;match.go&#34;</span><span class="op" id="701140">}</span><span class="op" id="701141">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701144">{</span><span class="string" id="701145">&#34;*&#34;</span><span class="op" id="701148">,</span>&nbsp;<span class="string" id="701150">&#34;match.go&#34;</span><span class="op" id="701160">}</span><span class="op" id="701161">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701164">{</span><span class="string" id="701165">&#34;../*/match.go&#34;</span><span class="op" id="701180">,</span>&nbsp;<span class="string" id="701182">&#34;../filepath/match.go&#34;</span><span class="op" id="701204">}</span><span class="op" id="701205">,</span><br>
<span class="lineno"></span><span class="op" id="701207">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="701210">func</span>&nbsp;<span class="ident" id="701215">TestGlob</span><span class="op" id="701223">(</span><span class="ident" id="701224">t</span>&nbsp;<span class="op" id="701226">*</span><span class="ident" id="701227">testing</span><span class="op" id="701234">.</span><span class="ident" id="701235">T</span><span class="op" id="701236">)</span>&nbsp;<span class="op" id="701238">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701241">for</span>&nbsp;<span class="ident" id="701245">_</span><span class="op" id="701246">,</span>&nbsp;<span class="ident" id="701248">tt</span>&nbsp;<span class="op" id="701251">:=</span>&nbsp;<span class="keyword" id="701254">range</span>&nbsp;<span class="ident" id="701260">globTests</span>&nbsp;<span class="op" id="701270">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701274">pattern</span>&nbsp;<span class="op" id="701282">:=</span>&nbsp;<span class="ident" id="701285">tt</span><span class="op" id="701287">.</span><span class="ident" id="701288">pattern</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701298">result</span>&nbsp;<span class="op" id="701305">:=</span>&nbsp;<span class="ident" id="701308">tt</span><span class="op" id="701310">.</span><span class="ident" id="701311">result</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701320">if</span>&nbsp;<span class="ident" id="701323">runtime</span><span class="op" id="701330">.</span><span class="ident" id="701331">GOOS</span>&nbsp;<span class="op" id="701336">==</span>&nbsp;<span class="string" id="701339">&#34;windows&#34;</span>&nbsp;<span class="op" id="701349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701354">pattern</span>&nbsp;<span class="op" id="701362">=</span>&nbsp;<span class="ident" id="701364">Clean</span><span class="op" id="701369">(</span><span class="ident" id="701370">pattern</span><span class="op" id="701377">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701382">result</span>&nbsp;<span class="op" id="701389">=</span>&nbsp;<span class="ident" id="701391">Clean</span><span class="op" id="701396">(</span><span class="ident" id="701397">result</span><span class="op" id="701403">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701407">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701411">matches</span><span class="op" id="701418">,</span>&nbsp;<span class="ident" id="701420">err</span>&nbsp;<span class="op" id="701424">:=</span>&nbsp;<span class="ident" id="701427">Glob</span><span class="op" id="701431">(</span><span class="ident" id="701432">pattern</span><span class="op" id="701439">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701443">if</span>&nbsp;<span class="ident" id="701446">err</span>&nbsp;<span class="op" id="701450">!=</span>&nbsp;<span class="ident" id="701453">nil</span>&nbsp;<span class="op" id="701457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701462">t</span><span class="op" id="701463">.</span><span class="ident" id="701464">Errorf</span><span class="op" id="701470">(</span><span class="string" id="701471">&#34;Glob&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="701494">,</span>&nbsp;<span class="ident" id="701496">pattern</span><span class="op" id="701503">,</span>&nbsp;<span class="ident" id="701505">err</span><span class="op" id="701508">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701513">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701524">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701528">if</span>&nbsp;<span class="op" id="701531">!</span><span class="ident" id="701532">contains</span><span class="op" id="701540">(</span><span class="ident" id="701541">matches</span><span class="op" id="701548">,</span>&nbsp;<span class="ident" id="701550">result</span><span class="op" id="701556">)</span>&nbsp;<span class="op" id="701558">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701563">t</span><span class="op" id="701564">.</span><span class="ident" id="701565">Errorf</span><span class="op" id="701571">(</span><span class="string" id="701572">&#34;Glob(%#q)&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="701597">,</span>&nbsp;<span class="ident" id="701599">pattern</span><span class="op" id="701606">,</span>&nbsp;<span class="ident" id="701608">matches</span><span class="op" id="701615">,</span>&nbsp;<span class="ident" id="701617">result</span><span class="op" id="701623">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701627">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701630">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701633">for</span>&nbsp;<span class="ident" id="701637">_</span><span class="op" id="701638">,</span>&nbsp;<span class="ident" id="701640">pattern</span>&nbsp;<span class="op" id="701648">:=</span>&nbsp;<span class="keyword" id="701651">range</span>&nbsp;<span class="op" id="701657">[</span><span class="op" id="701658">]</span><span class="builtintype" id="701659">string</span><span class="op" id="701665">{</span><span class="string" id="701666">&#34;no_match&#34;</span><span class="op" id="701676">,</span>&nbsp;<span class="string" id="701678">&#34;../*/no_match&#34;</span><span class="op" id="701693">}</span>&nbsp;<span class="op" id="701695">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701699">matches</span><span class="op" id="701706">,</span>&nbsp;<span class="ident" id="701708">err</span>&nbsp;<span class="op" id="701712">:=</span>&nbsp;<span class="ident" id="701715">Glob</span><span class="op" id="701719">(</span><span class="ident" id="701720">pattern</span><span class="op" id="701727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701731">if</span>&nbsp;<span class="ident" id="701734">err</span>&nbsp;<span class="op" id="701738">!=</span>&nbsp;<span class="ident" id="701741">nil</span>&nbsp;<span class="op" id="701745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701750">t</span><span class="op" id="701751">.</span><span class="ident" id="701752">Errorf</span><span class="op" id="701758">(</span><span class="string" id="701759">&#34;Glob&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="701782">,</span>&nbsp;<span class="ident" id="701784">pattern</span><span class="op" id="701791">,</span>&nbsp;<span class="ident" id="701793">err</span><span class="op" id="701796">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701801">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701812">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701816">if</span>&nbsp;<span class="builtinfunc" id="701819">len</span><span class="op" id="701822">(</span><span class="ident" id="701823">matches</span><span class="op" id="701830">)</span>&nbsp;<span class="op" id="701832">!=</span>&nbsp;<span class="num" id="701835">0</span>&nbsp;<span class="op" id="701837">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701842">t</span><span class="op" id="701843">.</span><span class="ident" id="701844">Errorf</span><span class="op" id="701850">(</span><span class="string" id="701851">&#34;Glob(%#q)&nbsp;=&nbsp;%#v&nbsp;want&nbsp;[]&#34;</span><span class="op" id="701876">,</span>&nbsp;<span class="ident" id="701878">pattern</span><span class="op" id="701885">,</span>&nbsp;<span class="ident" id="701887">matches</span><span class="op" id="701894">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701898">}</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="701901">}</span><br>
<span class="lineno"></span><span class="op" id="701903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="701906">func</span>&nbsp;<span class="ident" id="701911">TestGlobError</span><span class="op" id="701924">(</span><span class="ident" id="701925">t</span>&nbsp;<span class="op" id="701927">*</span><span class="ident" id="701928">testing</span><span class="op" id="701935">.</span><span class="ident" id="701936">T</span><span class="op" id="701937">)</span>&nbsp;<span class="op" id="701939">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701942">_</span><span class="op" id="701943">,</span>&nbsp;<span class="ident" id="701945">err</span>&nbsp;<span class="op" id="701949">:=</span>&nbsp;<span class="ident" id="701952">Glob</span><span class="op" id="701956">(</span><span class="string" id="701957">&#34;[7]&#34;</span><span class="op" id="701962">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="701965">if</span>&nbsp;<span class="ident" id="701968">err</span>&nbsp;<span class="op" id="701972">!=</span>&nbsp;<span class="ident" id="701975">nil</span>&nbsp;<span class="op" id="701979">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="701983">t</span><span class="op" id="701984">.</span><span class="ident" id="701985">Error</span><span class="op" id="701990">(</span><span class="string" id="701991">&#34;expected&nbsp;error&nbsp;for&nbsp;bad&nbsp;pattern;&nbsp;got&nbsp;none&#34;</span><span class="op" id="702033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702036">}</span><br>
<span class="lineno"></span><span class="op" id="702038">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="702041">var</span>&nbsp;<span class="ident" id="702045">globSymlinkTests</span>&nbsp;<span class="op" id="702062">=</span>&nbsp;<span class="op" id="702064">[</span><span class="op" id="702065">]</span><span class="keyword" id="702066">struct</span>&nbsp;<span class="op" id="702073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702076">path</span><span class="op" id="702080">,</span>&nbsp;<span class="ident" id="702082">dest</span>&nbsp;<span class="builtintype" id="702087">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702095">brokenLink</span>&nbsp;<span class="builtintype" id="702106">bool</span><br>
<span class="lineno"></span><span class="op" id="702111">}</span><span class="op" id="702112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702115">{</span><span class="string" id="702116">&#34;test1&#34;</span><span class="op" id="702123">,</span>&nbsp;<span class="string" id="702125">&#34;link1&#34;</span><span class="op" id="702132">,</span>&nbsp;<span class="builtintype" id="702134">false</span><span class="op" id="702139">}</span><span class="op" id="702140">,</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702143">{</span><span class="string" id="702144">&#34;test2&#34;</span><span class="op" id="702151">,</span>&nbsp;<span class="string" id="702153">&#34;link2&#34;</span><span class="op" id="702160">,</span>&nbsp;<span class="builtintype" id="702162">true</span><span class="op" id="702166">}</span><span class="op" id="702167">,</span><br>
<span class="lineno"></span><span class="op" id="702169">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="702172">func</span>&nbsp;<span class="ident" id="702177">TestGlobSymlink</span><span class="op" id="702192">(</span><span class="ident" id="702193">t</span>&nbsp;<span class="op" id="702195">*</span><span class="ident" id="702196">testing</span><span class="op" id="702203">.</span><span class="ident" id="702204">T</span><span class="op" id="702205">)</span>&nbsp;<span class="op" id="702207">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702210">switch</span>&nbsp;<span class="ident" id="702217">runtime</span><span class="op" id="702224">.</span><span class="ident" id="702225">GOOS</span>&nbsp;<span class="op" id="702230">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702233">case</span>&nbsp;<span class="string" id="702238">&#34;nacl&#34;</span><span class="op" id="702244">,</span>&nbsp;<span class="string" id="702246">&#34;plan9&#34;</span><span class="op" id="702253">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702257">t</span><span class="op" id="702258">.</span><span class="ident" id="702259">Skipf</span><span class="op" id="702264">(</span><span class="string" id="702265">&#34;skipping&nbsp;on&nbsp;%s&#34;</span><span class="op" id="702281">,</span>&nbsp;<span class="ident" id="702283">runtime</span><span class="op" id="702290">.</span><span class="ident" id="702291">GOOS</span><span class="op" id="702295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702298">case</span>&nbsp;<span class="string" id="702303">&#34;windows&#34;</span><span class="op" id="702312">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702316">if</span>&nbsp;<span class="op" id="702319">!</span><span class="ident" id="702320">supportsSymlinks</span>&nbsp;<span class="op" id="702337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702342">t</span><span class="op" id="702343">.</span><span class="ident" id="702344">Skipf</span><span class="op" id="702349">(</span><span class="string" id="702350">&#34;skipping&nbsp;on&nbsp;%s&#34;</span><span class="op" id="702366">,</span>&nbsp;<span class="ident" id="702368">runtime</span><span class="op" id="702375">.</span><span class="ident" id="702376">GOOS</span><span class="op" id="702380">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702388">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702392">tmpDir</span><span class="op" id="702398">,</span>&nbsp;<span class="ident" id="702400">err</span>&nbsp;<span class="op" id="702404">:=</span>&nbsp;<span class="ident" id="702407">ioutil</span><span class="op" id="702413">.</span><span class="ident" id="702414">TempDir</span><span class="op" id="702421">(</span><span class="string" id="702422">&#34;&#34;</span><span class="op" id="702424">,</span>&nbsp;<span class="string" id="702426">&#34;globsymlink&#34;</span><span class="op" id="702439">)</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702442">if</span>&nbsp;<span class="ident" id="702445">err</span>&nbsp;<span class="op" id="702449">!=</span>&nbsp;<span class="ident" id="702452">nil</span>&nbsp;<span class="op" id="702456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702460">t</span><span class="op" id="702461">.</span><span class="ident" id="702462">Fatal</span><span class="op" id="702467">(</span><span class="string" id="702468">&#34;creating&nbsp;temp&nbsp;dir:&#34;</span><span class="op" id="702488">,</span>&nbsp;<span class="ident" id="702490">err</span><span class="op" id="702493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702496">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702499">defer</span>&nbsp;<span class="ident" id="702505">os</span><span class="op" id="702507">.</span><span class="ident" id="702508">RemoveAll</span><span class="op" id="702517">(</span><span class="ident" id="702518">tmpDir</span><span class="op" id="702524">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702528">for</span>&nbsp;<span class="ident" id="702532">_</span><span class="op" id="702533">,</span>&nbsp;<span class="ident" id="702535">tt</span>&nbsp;<span class="op" id="702538">:=</span>&nbsp;<span class="keyword" id="702541">range</span>&nbsp;<span class="ident" id="702547">globSymlinkTests</span>&nbsp;<span class="op" id="702564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702568">path</span>&nbsp;<span class="op" id="702573">:=</span>&nbsp;<span class="ident" id="702576">Join</span><span class="op" id="702580">(</span><span class="ident" id="702581">tmpDir</span><span class="op" id="702587">,</span>&nbsp;<span class="ident" id="702589">tt</span><span class="op" id="702591">.</span><span class="ident" id="702592">path</span><span class="op" id="702596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702600">dest</span>&nbsp;<span class="op" id="702605">:=</span>&nbsp;<span class="ident" id="702608">Join</span><span class="op" id="702612">(</span><span class="ident" id="702613">tmpDir</span><span class="op" id="702619">,</span>&nbsp;<span class="ident" id="702621">tt</span><span class="op" id="702623">.</span><span class="ident" id="702624">dest</span><span class="op" id="702628">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702632">f</span><span class="op" id="702633">,</span>&nbsp;<span class="ident" id="702635">err</span>&nbsp;<span class="op" id="702639">:=</span>&nbsp;<span class="ident" id="702642">os</span><span class="op" id="702644">.</span><span class="ident" id="702645">Create</span><span class="op" id="702651">(</span><span class="ident" id="702652">path</span><span class="op" id="702656">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702660">if</span>&nbsp;<span class="ident" id="702663">err</span>&nbsp;<span class="op" id="702667">!=</span>&nbsp;<span class="ident" id="702670">nil</span>&nbsp;<span class="op" id="702674">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702679">t</span><span class="op" id="702680">.</span><span class="ident" id="702681">Fatal</span><span class="op" id="702686">(</span><span class="ident" id="702687">err</span><span class="op" id="702690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702698">if</span>&nbsp;<span class="ident" id="702701">err</span>&nbsp;<span class="op" id="702705">:=</span>&nbsp;<span class="ident" id="702708">f</span><span class="op" id="702709">.</span><span class="ident" id="702710">Close</span><span class="op" id="702715">(</span><span class="op" id="702716">)</span><span class="op" id="702717">;</span>&nbsp;<span class="ident" id="702719">err</span>&nbsp;<span class="op" id="702723">!=</span>&nbsp;<span class="ident" id="702726">nil</span>&nbsp;<span class="op" id="702730">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702735">t</span><span class="op" id="702736">.</span><span class="ident" id="702737">Fatal</span><span class="op" id="702742">(</span><span class="ident" id="702743">err</span><span class="op" id="702746">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702750">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702754">err</span>&nbsp;<span class="op" id="702758">=</span>&nbsp;<span class="ident" id="702760">os</span><span class="op" id="702762">.</span><span class="ident" id="702763">Symlink</span><span class="op" id="702770">(</span><span class="ident" id="702771">path</span><span class="op" id="702775">,</span>&nbsp;<span class="ident" id="702777">dest</span><span class="op" id="702781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702785">if</span>&nbsp;<span class="ident" id="702788">err</span>&nbsp;<span class="op" id="702792">!=</span>&nbsp;<span class="ident" id="702795">nil</span>&nbsp;<span class="op" id="702799">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702804">t</span><span class="op" id="702805">.</span><span class="ident" id="702806">Fatal</span><span class="op" id="702811">(</span><span class="ident" id="702812">err</span><span class="op" id="702815">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702819">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702823">if</span>&nbsp;<span class="ident" id="702826">tt</span><span class="op" id="702828">.</span><span class="ident" id="702829">brokenLink</span>&nbsp;<span class="op" id="702840">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="702845">//&nbsp;Break&nbsp;the&nbsp;symlink.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702870">os</span><span class="op" id="702872">.</span><span class="ident" id="702873">Remove</span><span class="op" id="702879">(</span><span class="ident" id="702880">path</span><span class="op" id="702884">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702892">matches</span><span class="op" id="702899">,</span>&nbsp;<span class="ident" id="702901">err</span>&nbsp;<span class="op" id="702905">:=</span>&nbsp;<span class="ident" id="702908">Glob</span><span class="op" id="702912">(</span><span class="ident" id="702913">dest</span><span class="op" id="702917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702921">if</span>&nbsp;<span class="ident" id="702924">err</span>&nbsp;<span class="op" id="702928">!=</span>&nbsp;<span class="ident" id="702931">nil</span>&nbsp;<span class="op" id="702935">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="702940">t</span><span class="op" id="702941">.</span><span class="ident" id="702942">Errorf</span><span class="op" id="702948">(</span><span class="string" id="702949">&#34;GlobSymlink&nbsp;error&nbsp;for&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="702979">,</span>&nbsp;<span class="ident" id="702981">dest</span><span class="op" id="702985">,</span>&nbsp;<span class="ident" id="702987">err</span><span class="op" id="702990">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="702994">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="702998">if</span>&nbsp;<span class="op" id="703001">!</span><span class="ident" id="703002">contains</span><span class="op" id="703010">(</span><span class="ident" id="703011">matches</span><span class="op" id="703018">,</span>&nbsp;<span class="ident" id="703020">dest</span><span class="op" id="703024">)</span>&nbsp;<span class="op" id="703026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="703031">t</span><span class="op" id="703032">.</span><span class="ident" id="703033">Errorf</span><span class="op" id="703039">(</span><span class="string" id="703040">&#34;Glob(%#q)&nbsp;=&nbsp;%#v&nbsp;want&nbsp;%v&#34;</span><span class="op" id="703065">,</span>&nbsp;<span class="ident" id="703067">dest</span><span class="op" id="703071">,</span>&nbsp;<span class="ident" id="703073">matches</span><span class="op" id="703080">,</span>&nbsp;<span class="ident" id="703082">dest</span><span class="op" id="703086">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="703090">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="703093">}</span><br>
<span class="lineno"></span><span class="op" id="703095">}</span>
</div>
</body>
</html>
