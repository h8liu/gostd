<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html" class="current">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8244360">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8244415">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8244469">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8244520">package</span>&nbsp;<span class="ident" id="8244528">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244534">import</span>&nbsp;<span class="op" id="8244541">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244544">&#34;bufio&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244553">&#34;io&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244559">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8244570">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8244580">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8244583">func</span>&nbsp;<span class="ident" id="8244588">TestBodyReadBadTrailer</span><span class="op" id="8244610">(</span><span class="ident" id="8244611">t</span>&nbsp;<span class="op" id="8244613">*</span><span class="ident" id="8244614">testing</span><span class="op" id="8244621">.</span><span class="ident" id="8244622">T</span><span class="op" id="8244623">)</span>&nbsp;<span class="op" id="8244625">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244628">b</span>&nbsp;<span class="op" id="8244630">:=</span>&nbsp;<span class="op" id="8244633">&amp;</span><span class="ident" id="8244634">body</span><span class="op" id="8244638">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244642">src</span><span class="op" id="8244645">:</span>&nbsp;<span class="ident" id="8244647">strings</span><span class="op" id="8244654">.</span><span class="ident" id="8244655">NewReader</span><span class="op" id="8244664">(</span><span class="string" id="8244665">&#34;foobar&#34;</span><span class="op" id="8244673">)</span><span class="op" id="8244674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244678">hdr</span><span class="op" id="8244681">:</span>&nbsp;<span class="builtintype" id="8244683">true</span><span class="op" id="8244687">,</span>&nbsp;<span class="comment" id="8244689">//&nbsp;force&nbsp;reading&nbsp;the&nbsp;trailer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244720">r</span><span class="op" id="8244721">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8244725">bufio</span><span class="op" id="8244730">.</span><span class="ident" id="8244731">NewReader</span><span class="op" id="8244740">(</span><span class="ident" id="8244741">strings</span><span class="op" id="8244748">.</span><span class="ident" id="8244749">NewReader</span><span class="op" id="8244758">(</span><span class="string" id="8244759">&#34;&#34;</span><span class="op" id="8244761">)</span><span class="op" id="8244762">)</span><span class="op" id="8244763">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244766">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244769">buf</span>&nbsp;<span class="op" id="8244773">:=</span>&nbsp;<span class="builtinfunc" id="8244776">make</span><span class="op" id="8244780">(</span><span class="op" id="8244781">[</span><span class="op" id="8244782">]</span><span class="builtintype" id="8244783">byte</span><span class="op" id="8244787">,</span>&nbsp;<span class="num" id="8244789">7</span><span class="op" id="8244790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244793">n</span><span class="op" id="8244794">,</span>&nbsp;<span class="ident" id="8244796">err</span>&nbsp;<span class="op" id="8244800">:=</span>&nbsp;<span class="ident" id="8244803">b</span><span class="op" id="8244804">.</span><span class="ident" id="8244805">Read</span><span class="op" id="8244809">(</span><span class="ident" id="8244810">buf</span><span class="op" id="8244813">[</span><span class="op" id="8244814">:</span><span class="num" id="8244815">3</span><span class="op" id="8244816">]</span><span class="op" id="8244817">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244820">got</span>&nbsp;<span class="op" id="8244824">:=</span>&nbsp;<span class="builtintype" id="8244827">string</span><span class="op" id="8244833">(</span><span class="ident" id="8244834">buf</span><span class="op" id="8244837">[</span><span class="op" id="8244838">:</span><span class="ident" id="8244839">n</span><span class="op" id="8244840">]</span><span class="op" id="8244841">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244844">if</span>&nbsp;<span class="ident" id="8244847">got</span>&nbsp;<span class="op" id="8244851">!=</span>&nbsp;<span class="string" id="8244854">&#34;foo&#34;</span>&nbsp;<span class="op" id="8244860">||</span>&nbsp;<span class="ident" id="8244863">err</span>&nbsp;<span class="op" id="8244867">!=</span>&nbsp;<span class="ident" id="8244870">nil</span>&nbsp;<span class="op" id="8244874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244878">t</span><span class="op" id="8244879">.</span><span class="ident" id="8244880">Fatalf</span><span class="op" id="8244886">(</span><span class="string" id="8244887">`first&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;foo&#34;)`</span><span class="op" id="8244929">,</span>&nbsp;<span class="ident" id="8244931">n</span><span class="op" id="8244932">,</span>&nbsp;<span class="ident" id="8244934">got</span><span class="op" id="8244937">,</span>&nbsp;<span class="ident" id="8244939">err</span><span class="op" id="8244942">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8244945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244949">n</span><span class="op" id="8244950">,</span>&nbsp;<span class="ident" id="8244952">err</span>&nbsp;<span class="op" id="8244956">=</span>&nbsp;<span class="ident" id="8244958">b</span><span class="op" id="8244959">.</span><span class="ident" id="8244960">Read</span><span class="op" id="8244964">(</span><span class="ident" id="8244965">buf</span><span class="op" id="8244968">[</span><span class="op" id="8244969">:</span><span class="op" id="8244970">]</span><span class="op" id="8244971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8244974">got</span>&nbsp;<span class="op" id="8244978">=</span>&nbsp;<span class="builtintype" id="8244980">string</span><span class="op" id="8244986">(</span><span class="ident" id="8244987">buf</span><span class="op" id="8244990">[</span><span class="op" id="8244991">:</span><span class="ident" id="8244992">n</span><span class="op" id="8244993">]</span><span class="op" id="8244994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8244997">if</span>&nbsp;<span class="ident" id="8245000">got</span>&nbsp;<span class="op" id="8245004">!=</span>&nbsp;<span class="string" id="8245007">&#34;bar&#34;</span>&nbsp;<span class="op" id="8245013">||</span>&nbsp;<span class="ident" id="8245016">err</span>&nbsp;<span class="op" id="8245020">!=</span>&nbsp;<span class="ident" id="8245023">nil</span>&nbsp;<span class="op" id="8245027">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245031">t</span><span class="op" id="8245032">.</span><span class="ident" id="8245033">Fatalf</span><span class="op" id="8245039">(</span><span class="string" id="8245040">`second&nbsp;Read&nbsp;=&nbsp;%d&nbsp;(%q),&nbsp;%v;&nbsp;want&nbsp;3&nbsp;(&#34;bar&#34;)`</span><span class="op" id="8245083">,</span>&nbsp;<span class="ident" id="8245085">n</span><span class="op" id="8245086">,</span>&nbsp;<span class="ident" id="8245088">got</span><span class="op" id="8245091">,</span>&nbsp;<span class="ident" id="8245093">err</span><span class="op" id="8245096">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245099">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245103">n</span><span class="op" id="8245104">,</span>&nbsp;<span class="ident" id="8245106">err</span>&nbsp;<span class="op" id="8245110">=</span>&nbsp;<span class="ident" id="8245112">b</span><span class="op" id="8245113">.</span><span class="ident" id="8245114">Read</span><span class="op" id="8245118">(</span><span class="ident" id="8245119">buf</span><span class="op" id="8245122">[</span><span class="op" id="8245123">:</span><span class="op" id="8245124">]</span><span class="op" id="8245125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245128">got</span>&nbsp;<span class="op" id="8245132">=</span>&nbsp;<span class="builtintype" id="8245134">string</span><span class="op" id="8245140">(</span><span class="ident" id="8245141">buf</span><span class="op" id="8245144">[</span><span class="op" id="8245145">:</span><span class="ident" id="8245146">n</span><span class="op" id="8245147">]</span><span class="op" id="8245148">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245151">if</span>&nbsp;<span class="ident" id="8245154">err</span>&nbsp;<span class="op" id="8245158">==</span>&nbsp;<span class="ident" id="8245161">nil</span>&nbsp;<span class="op" id="8245165">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245169">t</span><span class="op" id="8245170">.</span><span class="ident" id="8245171">Errorf</span><span class="op" id="8245177">(</span><span class="string" id="8245178">&#34;final&nbsp;Read&nbsp;was&nbsp;successful&nbsp;(%q),&nbsp;expected&nbsp;error&nbsp;from&nbsp;trailer&nbsp;read&#34;</span><span class="op" id="8245244">,</span>&nbsp;<span class="ident" id="8245246">got</span><span class="op" id="8245249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245252">}</span><br>
<span class="lineno"></span><span class="op" id="8245254">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span><span class="keyword" id="8245257">func</span>&nbsp;<span class="ident" id="8245262">TestFinalChunkedBodyReadEOF</span><span class="op" id="8245289">(</span><span class="ident" id="8245290">t</span>&nbsp;<span class="op" id="8245292">*</span><span class="ident" id="8245293">testing</span><span class="op" id="8245300">.</span><span class="ident" id="8245301">T</span><span class="op" id="8245302">)</span>&nbsp;<span class="op" id="8245304">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245307">res</span><span class="op" id="8245310">,</span>&nbsp;<span class="ident" id="8245312">err</span>&nbsp;<span class="op" id="8245316">:=</span>&nbsp;<span class="ident" id="8245319">ReadResponse</span><span class="op" id="8245331">(</span><span class="ident" id="8245332">bufio</span><span class="op" id="8245337">.</span><span class="ident" id="8245338">NewReader</span><span class="op" id="8245347">(</span><span class="ident" id="8245348">strings</span><span class="op" id="8245355">.</span><span class="ident" id="8245356">NewReader</span><span class="op" id="8245365">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245369">&#34;HTTP/1.1&nbsp;200&nbsp;OK\r\n&#34;</span><span class="op" id="8245390">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245395">&#34;Transfer-Encoding:&nbsp;chunked\r\n&#34;</span><span class="op" id="8245427">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245432">&#34;\r\n&#34;</span><span class="op" id="8245438">+</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245443">&#34;0a\r\n&#34;</span><span class="op" id="8245451">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245456">&#34;Body&nbsp;here\n\r\n&#34;</span><span class="op" id="8245473">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245478">&#34;09\r\n&#34;</span><span class="op" id="8245486">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245491">&#34;continued\r\n&#34;</span><span class="op" id="8245506">+</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245511">&#34;0\r\n&#34;</span><span class="op" id="8245518">+</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8245523">&#34;\r\n&#34;</span><span class="op" id="8245529">)</span><span class="op" id="8245530">)</span><span class="op" id="8245531">,</span>&nbsp;<span class="ident" id="8245533">nil</span><span class="op" id="8245536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245539">if</span>&nbsp;<span class="ident" id="8245542">err</span>&nbsp;<span class="op" id="8245546">!=</span>&nbsp;<span class="ident" id="8245549">nil</span>&nbsp;<span class="op" id="8245553">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245557">t</span><span class="op" id="8245558">.</span><span class="ident" id="8245559">Fatal</span><span class="op" id="8245564">(</span><span class="ident" id="8245565">err</span><span class="op" id="8245568">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245571">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245574">want</span>&nbsp;<span class="op" id="8245579">:=</span>&nbsp;<span class="string" id="8245582">&#34;Body&nbsp;here\ncontinued&#34;</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245606">buf</span>&nbsp;<span class="op" id="8245610">:=</span>&nbsp;<span class="builtinfunc" id="8245613">make</span><span class="op" id="8245617">(</span><span class="op" id="8245618">[</span><span class="op" id="8245619">]</span><span class="builtintype" id="8245620">byte</span><span class="op" id="8245624">,</span>&nbsp;<span class="builtinfunc" id="8245626">len</span><span class="op" id="8245629">(</span><span class="ident" id="8245630">want</span><span class="op" id="8245634">)</span><span class="op" id="8245635">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245638">n</span><span class="op" id="8245639">,</span>&nbsp;<span class="ident" id="8245641">err</span>&nbsp;<span class="op" id="8245645">:=</span>&nbsp;<span class="ident" id="8245648">res</span><span class="op" id="8245651">.</span><span class="ident" id="8245652">Body</span><span class="op" id="8245656">.</span><span class="ident" id="8245657">Read</span><span class="op" id="8245661">(</span><span class="ident" id="8245662">buf</span><span class="op" id="8245665">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245668">if</span>&nbsp;<span class="ident" id="8245671">n</span>&nbsp;<span class="op" id="8245673">!=</span>&nbsp;<span class="builtinfunc" id="8245676">len</span><span class="op" id="8245679">(</span><span class="ident" id="8245680">want</span><span class="op" id="8245684">)</span>&nbsp;<span class="op" id="8245686">||</span>&nbsp;<span class="ident" id="8245689">err</span>&nbsp;<span class="op" id="8245693">!=</span>&nbsp;<span class="ident" id="8245696">io</span><span class="op" id="8245698">.</span><span class="ident" id="8245699">EOF</span>&nbsp;<span class="op" id="8245703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245707">t</span><span class="op" id="8245708">.</span><span class="ident" id="8245709">Logf</span><span class="op" id="8245713">(</span><span class="string" id="8245714">&#34;body&nbsp;=&nbsp;%#v&#34;</span><span class="op" id="8245726">,</span>&nbsp;<span class="ident" id="8245728">res</span><span class="op" id="8245731">.</span><span class="ident" id="8245732">Body</span><span class="op" id="8245736">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245740">t</span><span class="op" id="8245741">.</span><span class="ident" id="8245742">Errorf</span><span class="op" id="8245748">(</span><span class="string" id="8245749">&#34;Read&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%d,&nbsp;EOF&#34;</span><span class="op" id="8245778">,</span>&nbsp;<span class="ident" id="8245780">n</span><span class="op" id="8245781">,</span>&nbsp;<span class="ident" id="8245783">err</span><span class="op" id="8245786">,</span>&nbsp;<span class="builtinfunc" id="8245788">len</span><span class="op" id="8245791">(</span><span class="ident" id="8245792">want</span><span class="op" id="8245796">)</span><span class="op" id="8245797">)</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8245803">if</span>&nbsp;<span class="builtintype" id="8245806">string</span><span class="op" id="8245812">(</span><span class="ident" id="8245813">buf</span><span class="op" id="8245816">)</span>&nbsp;<span class="op" id="8245818">!=</span>&nbsp;<span class="ident" id="8245821">want</span>&nbsp;<span class="op" id="8245826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8245830">t</span><span class="op" id="8245831">.</span><span class="ident" id="8245832">Errorf</span><span class="op" id="8245838">(</span><span class="string" id="8245839">&#34;buf&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8245858">,</span>&nbsp;<span class="ident" id="8245860">buf</span><span class="op" id="8245863">,</span>&nbsp;<span class="ident" id="8245865">want</span><span class="op" id="8245869">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8245872">}</span><br>
<span class="lineno"></span><span class="op" id="8245874">}</span>
</div>
</body>
</html>
