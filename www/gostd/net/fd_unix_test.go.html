<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="8206592">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8206647">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8206701">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="8206752">//&nbsp;+build&nbsp;darwin&nbsp;dragonfly&nbsp;freebsd&nbsp;linux&nbsp;netbsd&nbsp;openbsd&nbsp;solaris</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8206817">package</span>&nbsp;<span class="ident" id="8206825">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8206830">import</span>&nbsp;<span class="op" id="8206837">(</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8206840">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8206846">&#34;syscall&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8206857">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8206867">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="8206870">var</span>&nbsp;<span class="ident" id="8206874">chkReadErrTests</span>&nbsp;<span class="op" id="8206890">=</span>&nbsp;<span class="op" id="8206892">[</span><span class="op" id="8206893">]</span><span class="keyword" id="8206894">struct</span>&nbsp;<span class="op" id="8206901">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206904">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8206913">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206918">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8206927">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206934">fd</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8206943">*</span><span class="ident" id="8206944">netFD</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8206951">expected</span>&nbsp;<span class="builtintype" id="8206960">error</span><br>
<span class="lineno">20</span><span class="op" id="8206966">}</span><span class="op" id="8206967">{</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8206971">{</span><span class="num" id="8206972">100</span><span class="op" id="8206975">,</span>&nbsp;<span class="ident" id="8206977">nil</span><span class="op" id="8206980">,</span>&nbsp;<span class="op" id="8206982">&amp;</span><span class="ident" id="8206983">netFD</span><span class="op" id="8206988">{</span><span class="ident" id="8206989">sotype</span><span class="op" id="8206995">:</span>&nbsp;<span class="ident" id="8206997">syscall</span><span class="op" id="8207004">.</span><span class="ident" id="8207005">SOCK_STREAM</span><span class="op" id="8207016">}</span><span class="op" id="8207017">,</span>&nbsp;<span class="ident" id="8207019">nil</span><span class="op" id="8207022">}</span><span class="op" id="8207023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207026">{</span><span class="num" id="8207027">100</span><span class="op" id="8207030">,</span>&nbsp;<span class="ident" id="8207032">io</span><span class="op" id="8207034">.</span><span class="ident" id="8207035">EOF</span><span class="op" id="8207038">,</span>&nbsp;<span class="op" id="8207040">&amp;</span><span class="ident" id="8207041">netFD</span><span class="op" id="8207046">{</span><span class="ident" id="8207047">sotype</span><span class="op" id="8207053">:</span>&nbsp;<span class="ident" id="8207055">syscall</span><span class="op" id="8207062">.</span><span class="ident" id="8207063">SOCK_STREAM</span><span class="op" id="8207074">}</span><span class="op" id="8207075">,</span>&nbsp;<span class="ident" id="8207077">io</span><span class="op" id="8207079">.</span><span class="ident" id="8207080">EOF</span><span class="op" id="8207083">}</span><span class="op" id="8207084">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207087">{</span><span class="num" id="8207088">100</span><span class="op" id="8207091">,</span>&nbsp;<span class="ident" id="8207093">errClosing</span><span class="op" id="8207103">,</span>&nbsp;<span class="op" id="8207105">&amp;</span><span class="ident" id="8207106">netFD</span><span class="op" id="8207111">{</span><span class="ident" id="8207112">sotype</span><span class="op" id="8207118">:</span>&nbsp;<span class="ident" id="8207120">syscall</span><span class="op" id="8207127">.</span><span class="ident" id="8207128">SOCK_STREAM</span><span class="op" id="8207139">}</span><span class="op" id="8207140">,</span>&nbsp;<span class="ident" id="8207142">errClosing</span><span class="op" id="8207152">}</span><span class="op" id="8207153">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207156">{</span><span class="num" id="8207157">0</span><span class="op" id="8207158">,</span>&nbsp;<span class="ident" id="8207160">nil</span><span class="op" id="8207163">,</span>&nbsp;<span class="op" id="8207165">&amp;</span><span class="ident" id="8207166">netFD</span><span class="op" id="8207171">{</span><span class="ident" id="8207172">sotype</span><span class="op" id="8207178">:</span>&nbsp;<span class="ident" id="8207180">syscall</span><span class="op" id="8207187">.</span><span class="ident" id="8207188">SOCK_STREAM</span><span class="op" id="8207199">}</span><span class="op" id="8207200">,</span>&nbsp;<span class="ident" id="8207202">io</span><span class="op" id="8207204">.</span><span class="ident" id="8207205">EOF</span><span class="op" id="8207208">}</span><span class="op" id="8207209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207212">{</span><span class="num" id="8207213">0</span><span class="op" id="8207214">,</span>&nbsp;<span class="ident" id="8207216">io</span><span class="op" id="8207218">.</span><span class="ident" id="8207219">EOF</span><span class="op" id="8207222">,</span>&nbsp;<span class="op" id="8207224">&amp;</span><span class="ident" id="8207225">netFD</span><span class="op" id="8207230">{</span><span class="ident" id="8207231">sotype</span><span class="op" id="8207237">:</span>&nbsp;<span class="ident" id="8207239">syscall</span><span class="op" id="8207246">.</span><span class="ident" id="8207247">SOCK_STREAM</span><span class="op" id="8207258">}</span><span class="op" id="8207259">,</span>&nbsp;<span class="ident" id="8207261">io</span><span class="op" id="8207263">.</span><span class="ident" id="8207264">EOF</span><span class="op" id="8207267">}</span><span class="op" id="8207268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207271">{</span><span class="num" id="8207272">0</span><span class="op" id="8207273">,</span>&nbsp;<span class="ident" id="8207275">errClosing</span><span class="op" id="8207285">,</span>&nbsp;<span class="op" id="8207287">&amp;</span><span class="ident" id="8207288">netFD</span><span class="op" id="8207293">{</span><span class="ident" id="8207294">sotype</span><span class="op" id="8207300">:</span>&nbsp;<span class="ident" id="8207302">syscall</span><span class="op" id="8207309">.</span><span class="ident" id="8207310">SOCK_STREAM</span><span class="op" id="8207321">}</span><span class="op" id="8207322">,</span>&nbsp;<span class="ident" id="8207324">errClosing</span><span class="op" id="8207334">}</span><span class="op" id="8207335">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207339">{</span><span class="num" id="8207340">100</span><span class="op" id="8207343">,</span>&nbsp;<span class="ident" id="8207345">nil</span><span class="op" id="8207348">,</span>&nbsp;<span class="op" id="8207350">&amp;</span><span class="ident" id="8207351">netFD</span><span class="op" id="8207356">{</span><span class="ident" id="8207357">sotype</span><span class="op" id="8207363">:</span>&nbsp;<span class="ident" id="8207365">syscall</span><span class="op" id="8207372">.</span><span class="ident" id="8207373">SOCK_DGRAM</span><span class="op" id="8207383">}</span><span class="op" id="8207384">,</span>&nbsp;<span class="ident" id="8207386">nil</span><span class="op" id="8207389">}</span><span class="op" id="8207390">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207393">{</span><span class="num" id="8207394">100</span><span class="op" id="8207397">,</span>&nbsp;<span class="ident" id="8207399">io</span><span class="op" id="8207401">.</span><span class="ident" id="8207402">EOF</span><span class="op" id="8207405">,</span>&nbsp;<span class="op" id="8207407">&amp;</span><span class="ident" id="8207408">netFD</span><span class="op" id="8207413">{</span><span class="ident" id="8207414">sotype</span><span class="op" id="8207420">:</span>&nbsp;<span class="ident" id="8207422">syscall</span><span class="op" id="8207429">.</span><span class="ident" id="8207430">SOCK_DGRAM</span><span class="op" id="8207440">}</span><span class="op" id="8207441">,</span>&nbsp;<span class="ident" id="8207443">io</span><span class="op" id="8207445">.</span><span class="ident" id="8207446">EOF</span><span class="op" id="8207449">}</span><span class="op" id="8207450">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207453">{</span><span class="num" id="8207454">100</span><span class="op" id="8207457">,</span>&nbsp;<span class="ident" id="8207459">errClosing</span><span class="op" id="8207469">,</span>&nbsp;<span class="op" id="8207471">&amp;</span><span class="ident" id="8207472">netFD</span><span class="op" id="8207477">{</span><span class="ident" id="8207478">sotype</span><span class="op" id="8207484">:</span>&nbsp;<span class="ident" id="8207486">syscall</span><span class="op" id="8207493">.</span><span class="ident" id="8207494">SOCK_DGRAM</span><span class="op" id="8207504">}</span><span class="op" id="8207505">,</span>&nbsp;<span class="ident" id="8207507">errClosing</span><span class="op" id="8207517">}</span><span class="op" id="8207518">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207521">{</span><span class="num" id="8207522">0</span><span class="op" id="8207523">,</span>&nbsp;<span class="ident" id="8207525">nil</span><span class="op" id="8207528">,</span>&nbsp;<span class="op" id="8207530">&amp;</span><span class="ident" id="8207531">netFD</span><span class="op" id="8207536">{</span><span class="ident" id="8207537">sotype</span><span class="op" id="8207543">:</span>&nbsp;<span class="ident" id="8207545">syscall</span><span class="op" id="8207552">.</span><span class="ident" id="8207553">SOCK_DGRAM</span><span class="op" id="8207563">}</span><span class="op" id="8207564">,</span>&nbsp;<span class="ident" id="8207566">nil</span><span class="op" id="8207569">}</span><span class="op" id="8207570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207573">{</span><span class="num" id="8207574">0</span><span class="op" id="8207575">,</span>&nbsp;<span class="ident" id="8207577">io</span><span class="op" id="8207579">.</span><span class="ident" id="8207580">EOF</span><span class="op" id="8207583">,</span>&nbsp;<span class="op" id="8207585">&amp;</span><span class="ident" id="8207586">netFD</span><span class="op" id="8207591">{</span><span class="ident" id="8207592">sotype</span><span class="op" id="8207598">:</span>&nbsp;<span class="ident" id="8207600">syscall</span><span class="op" id="8207607">.</span><span class="ident" id="8207608">SOCK_DGRAM</span><span class="op" id="8207618">}</span><span class="op" id="8207619">,</span>&nbsp;<span class="ident" id="8207621">io</span><span class="op" id="8207623">.</span><span class="ident" id="8207624">EOF</span><span class="op" id="8207627">}</span><span class="op" id="8207628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207631">{</span><span class="num" id="8207632">0</span><span class="op" id="8207633">,</span>&nbsp;<span class="ident" id="8207635">errClosing</span><span class="op" id="8207645">,</span>&nbsp;<span class="op" id="8207647">&amp;</span><span class="ident" id="8207648">netFD</span><span class="op" id="8207653">{</span><span class="ident" id="8207654">sotype</span><span class="op" id="8207660">:</span>&nbsp;<span class="ident" id="8207662">syscall</span><span class="op" id="8207669">.</span><span class="ident" id="8207670">SOCK_DGRAM</span><span class="op" id="8207680">}</span><span class="op" id="8207681">,</span>&nbsp;<span class="ident" id="8207683">errClosing</span><span class="op" id="8207693">}</span><span class="op" id="8207694">,</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207698">{</span><span class="num" id="8207699">100</span><span class="op" id="8207702">,</span>&nbsp;<span class="ident" id="8207704">nil</span><span class="op" id="8207707">,</span>&nbsp;<span class="op" id="8207709">&amp;</span><span class="ident" id="8207710">netFD</span><span class="op" id="8207715">{</span><span class="ident" id="8207716">sotype</span><span class="op" id="8207722">:</span>&nbsp;<span class="ident" id="8207724">syscall</span><span class="op" id="8207731">.</span><span class="ident" id="8207732">SOCK_SEQPACKET</span><span class="op" id="8207746">}</span><span class="op" id="8207747">,</span>&nbsp;<span class="ident" id="8207749">nil</span><span class="op" id="8207752">}</span><span class="op" id="8207753">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207756">{</span><span class="num" id="8207757">100</span><span class="op" id="8207760">,</span>&nbsp;<span class="ident" id="8207762">io</span><span class="op" id="8207764">.</span><span class="ident" id="8207765">EOF</span><span class="op" id="8207768">,</span>&nbsp;<span class="op" id="8207770">&amp;</span><span class="ident" id="8207771">netFD</span><span class="op" id="8207776">{</span><span class="ident" id="8207777">sotype</span><span class="op" id="8207783">:</span>&nbsp;<span class="ident" id="8207785">syscall</span><span class="op" id="8207792">.</span><span class="ident" id="8207793">SOCK_SEQPACKET</span><span class="op" id="8207807">}</span><span class="op" id="8207808">,</span>&nbsp;<span class="ident" id="8207810">io</span><span class="op" id="8207812">.</span><span class="ident" id="8207813">EOF</span><span class="op" id="8207816">}</span><span class="op" id="8207817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207820">{</span><span class="num" id="8207821">100</span><span class="op" id="8207824">,</span>&nbsp;<span class="ident" id="8207826">errClosing</span><span class="op" id="8207836">,</span>&nbsp;<span class="op" id="8207838">&amp;</span><span class="ident" id="8207839">netFD</span><span class="op" id="8207844">{</span><span class="ident" id="8207845">sotype</span><span class="op" id="8207851">:</span>&nbsp;<span class="ident" id="8207853">syscall</span><span class="op" id="8207860">.</span><span class="ident" id="8207861">SOCK_SEQPACKET</span><span class="op" id="8207875">}</span><span class="op" id="8207876">,</span>&nbsp;<span class="ident" id="8207878">errClosing</span><span class="op" id="8207888">}</span><span class="op" id="8207889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207892">{</span><span class="num" id="8207893">0</span><span class="op" id="8207894">,</span>&nbsp;<span class="ident" id="8207896">nil</span><span class="op" id="8207899">,</span>&nbsp;<span class="op" id="8207901">&amp;</span><span class="ident" id="8207902">netFD</span><span class="op" id="8207907">{</span><span class="ident" id="8207908">sotype</span><span class="op" id="8207914">:</span>&nbsp;<span class="ident" id="8207916">syscall</span><span class="op" id="8207923">.</span><span class="ident" id="8207924">SOCK_SEQPACKET</span><span class="op" id="8207938">}</span><span class="op" id="8207939">,</span>&nbsp;<span class="ident" id="8207941">io</span><span class="op" id="8207943">.</span><span class="ident" id="8207944">EOF</span><span class="op" id="8207947">}</span><span class="op" id="8207948">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8207951">{</span><span class="num" id="8207952">0</span><span class="op" id="8207953">,</span>&nbsp;<span class="ident" id="8207955">io</span><span class="op" id="8207957">.</span><span class="ident" id="8207958">EOF</span><span class="op" id="8207961">,</span>&nbsp;<span class="op" id="8207963">&amp;</span><span class="ident" id="8207964">netFD</span><span class="op" id="8207969">{</span><span class="ident" id="8207970">sotype</span><span class="op" id="8207976">:</span>&nbsp;<span class="ident" id="8207978">syscall</span><span class="op" id="8207985">.</span><span class="ident" id="8207986">SOCK_SEQPACKET</span><span class="op" id="8208000">}</span><span class="op" id="8208001">,</span>&nbsp;<span class="ident" id="8208003">io</span><span class="op" id="8208005">.</span><span class="ident" id="8208006">EOF</span><span class="op" id="8208009">}</span><span class="op" id="8208010">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208013">{</span><span class="num" id="8208014">0</span><span class="op" id="8208015">,</span>&nbsp;<span class="ident" id="8208017">errClosing</span><span class="op" id="8208027">,</span>&nbsp;<span class="op" id="8208029">&amp;</span><span class="ident" id="8208030">netFD</span><span class="op" id="8208035">{</span><span class="ident" id="8208036">sotype</span><span class="op" id="8208042">:</span>&nbsp;<span class="ident" id="8208044">syscall</span><span class="op" id="8208051">.</span><span class="ident" id="8208052">SOCK_SEQPACKET</span><span class="op" id="8208066">}</span><span class="op" id="8208067">,</span>&nbsp;<span class="ident" id="8208069">errClosing</span><span class="op" id="8208079">}</span><span class="op" id="8208080">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208084">{</span><span class="num" id="8208085">100</span><span class="op" id="8208088">,</span>&nbsp;<span class="ident" id="8208090">nil</span><span class="op" id="8208093">,</span>&nbsp;<span class="op" id="8208095">&amp;</span><span class="ident" id="8208096">netFD</span><span class="op" id="8208101">{</span><span class="ident" id="8208102">sotype</span><span class="op" id="8208108">:</span>&nbsp;<span class="ident" id="8208110">syscall</span><span class="op" id="8208117">.</span><span class="ident" id="8208118">SOCK_RAW</span><span class="op" id="8208126">}</span><span class="op" id="8208127">,</span>&nbsp;<span class="ident" id="8208129">nil</span><span class="op" id="8208132">}</span><span class="op" id="8208133">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208136">{</span><span class="num" id="8208137">100</span><span class="op" id="8208140">,</span>&nbsp;<span class="ident" id="8208142">io</span><span class="op" id="8208144">.</span><span class="ident" id="8208145">EOF</span><span class="op" id="8208148">,</span>&nbsp;<span class="op" id="8208150">&amp;</span><span class="ident" id="8208151">netFD</span><span class="op" id="8208156">{</span><span class="ident" id="8208157">sotype</span><span class="op" id="8208163">:</span>&nbsp;<span class="ident" id="8208165">syscall</span><span class="op" id="8208172">.</span><span class="ident" id="8208173">SOCK_RAW</span><span class="op" id="8208181">}</span><span class="op" id="8208182">,</span>&nbsp;<span class="ident" id="8208184">io</span><span class="op" id="8208186">.</span><span class="ident" id="8208187">EOF</span><span class="op" id="8208190">}</span><span class="op" id="8208191">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208194">{</span><span class="num" id="8208195">100</span><span class="op" id="8208198">,</span>&nbsp;<span class="ident" id="8208200">errClosing</span><span class="op" id="8208210">,</span>&nbsp;<span class="op" id="8208212">&amp;</span><span class="ident" id="8208213">netFD</span><span class="op" id="8208218">{</span><span class="ident" id="8208219">sotype</span><span class="op" id="8208225">:</span>&nbsp;<span class="ident" id="8208227">syscall</span><span class="op" id="8208234">.</span><span class="ident" id="8208235">SOCK_RAW</span><span class="op" id="8208243">}</span><span class="op" id="8208244">,</span>&nbsp;<span class="ident" id="8208246">errClosing</span><span class="op" id="8208256">}</span><span class="op" id="8208257">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208260">{</span><span class="num" id="8208261">0</span><span class="op" id="8208262">,</span>&nbsp;<span class="ident" id="8208264">nil</span><span class="op" id="8208267">,</span>&nbsp;<span class="op" id="8208269">&amp;</span><span class="ident" id="8208270">netFD</span><span class="op" id="8208275">{</span><span class="ident" id="8208276">sotype</span><span class="op" id="8208282">:</span>&nbsp;<span class="ident" id="8208284">syscall</span><span class="op" id="8208291">.</span><span class="ident" id="8208292">SOCK_RAW</span><span class="op" id="8208300">}</span><span class="op" id="8208301">,</span>&nbsp;<span class="ident" id="8208303">nil</span><span class="op" id="8208306">}</span><span class="op" id="8208307">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208310">{</span><span class="num" id="8208311">0</span><span class="op" id="8208312">,</span>&nbsp;<span class="ident" id="8208314">io</span><span class="op" id="8208316">.</span><span class="ident" id="8208317">EOF</span><span class="op" id="8208320">,</span>&nbsp;<span class="op" id="8208322">&amp;</span><span class="ident" id="8208323">netFD</span><span class="op" id="8208328">{</span><span class="ident" id="8208329">sotype</span><span class="op" id="8208335">:</span>&nbsp;<span class="ident" id="8208337">syscall</span><span class="op" id="8208344">.</span><span class="ident" id="8208345">SOCK_RAW</span><span class="op" id="8208353">}</span><span class="op" id="8208354">,</span>&nbsp;<span class="ident" id="8208356">io</span><span class="op" id="8208358">.</span><span class="ident" id="8208359">EOF</span><span class="op" id="8208362">}</span><span class="op" id="8208363">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208366">{</span><span class="num" id="8208367">0</span><span class="op" id="8208368">,</span>&nbsp;<span class="ident" id="8208370">errClosing</span><span class="op" id="8208380">,</span>&nbsp;<span class="op" id="8208382">&amp;</span><span class="ident" id="8208383">netFD</span><span class="op" id="8208388">{</span><span class="ident" id="8208389">sotype</span><span class="op" id="8208395">:</span>&nbsp;<span class="ident" id="8208397">syscall</span><span class="op" id="8208404">.</span><span class="ident" id="8208405">SOCK_RAW</span><span class="op" id="8208413">}</span><span class="op" id="8208414">,</span>&nbsp;<span class="ident" id="8208416">errClosing</span><span class="op" id="8208426">}</span><span class="op" id="8208427">,</span><br>
<span class="lineno"></span><span class="op" id="8208429">}</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="8208432">func</span>&nbsp;<span class="ident" id="8208437">TestChkReadErr</span><span class="op" id="8208451">(</span><span class="ident" id="8208452">t</span>&nbsp;<span class="op" id="8208454">*</span><span class="ident" id="8208455">testing</span><span class="op" id="8208462">.</span><span class="ident" id="8208463">T</span><span class="op" id="8208464">)</span>&nbsp;<span class="op" id="8208466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8208469">for</span>&nbsp;<span class="ident" id="8208473">_</span><span class="op" id="8208474">,</span>&nbsp;<span class="ident" id="8208476">tt</span>&nbsp;<span class="op" id="8208479">:=</span>&nbsp;<span class="keyword" id="8208482">range</span>&nbsp;<span class="ident" id="8208488">chkReadErrTests</span>&nbsp;<span class="op" id="8208504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8208508">actual</span>&nbsp;<span class="op" id="8208515">:=</span>&nbsp;<span class="ident" id="8208518">chkReadErr</span><span class="op" id="8208528">(</span><span class="ident" id="8208529">tt</span><span class="op" id="8208531">.</span><span class="ident" id="8208532">n</span><span class="op" id="8208533">,</span>&nbsp;<span class="ident" id="8208535">tt</span><span class="op" id="8208537">.</span><span class="ident" id="8208538">err</span><span class="op" id="8208541">,</span>&nbsp;<span class="ident" id="8208543">tt</span><span class="op" id="8208545">.</span><span class="ident" id="8208546">fd</span><span class="op" id="8208548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8208552">if</span>&nbsp;<span class="ident" id="8208555">actual</span>&nbsp;<span class="op" id="8208562">!=</span>&nbsp;<span class="ident" id="8208565">tt</span><span class="op" id="8208567">.</span><span class="ident" id="8208568">expected</span>&nbsp;<span class="op" id="8208577">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8208582">t</span><span class="op" id="8208583">.</span><span class="ident" id="8208584">Errorf</span><span class="op" id="8208590">(</span><span class="string" id="8208591">&#34;chkReadError(%v,&nbsp;%v,&nbsp;%v):&nbsp;expected&nbsp;%v,&nbsp;actual&nbsp;%v&#34;</span><span class="op" id="8208641">,</span>&nbsp;<span class="ident" id="8208643">tt</span><span class="op" id="8208645">.</span><span class="ident" id="8208646">n</span><span class="op" id="8208647">,</span>&nbsp;<span class="ident" id="8208649">tt</span><span class="op" id="8208651">.</span><span class="ident" id="8208652">err</span><span class="op" id="8208655">,</span>&nbsp;<span class="ident" id="8208657">tt</span><span class="op" id="8208659">.</span><span class="ident" id="8208660">fd</span><span class="op" id="8208662">.</span><span class="ident" id="8208663">sotype</span><span class="op" id="8208669">,</span>&nbsp;<span class="ident" id="8208671">tt</span><span class="op" id="8208673">.</span><span class="ident" id="8208674">expected</span><span class="op" id="8208682">,</span>&nbsp;<span class="ident" id="8208684">actual</span><span class="op" id="8208690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8208697">}</span><br>
<span class="lineno"></span><span class="op" id="8208699">}</span>
</div>
</body>
</html>
