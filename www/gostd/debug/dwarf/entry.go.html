<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html" class="current">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5105374">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5105430">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5105484">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5105535">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="5105576">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5105635">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="5105694">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="5105758">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5105837">package</span>&nbsp;<span class="ident" id="5105845">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5105852">import</span>&nbsp;<span class="op" id="5105859">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5105862">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5105872">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5105882">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5105885">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="5105943">type</span>&nbsp;<span class="ident" id="5105948">abbrev</span>&nbsp;<span class="keyword" id="5105955">struct</span>&nbsp;<span class="op" id="5105962">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5105965">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5105974">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5105979">children</span>&nbsp;<span class="builtintype" id="5105988">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5105994">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106003">[</span><span class="op" id="5106004">]</span><span class="ident" id="5106005">afield</span><br>
<span class="lineno"></span><span class="op" id="5106012">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5106015">type</span>&nbsp;<span class="ident" id="5106020">afield</span>&nbsp;<span class="keyword" id="5106027">struct</span>&nbsp;<span class="op" id="5106034">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106037">attr</span>&nbsp;<span class="ident" id="5106042">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106048">fmt</span>&nbsp;&nbsp;<span class="ident" id="5106053">format</span><br>
<span class="lineno"></span><span class="op" id="5106060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5106063">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="5106116">type</span>&nbsp;<span class="ident" id="5106121">abbrevTable</span>&nbsp;<span class="keyword" id="5106133">map</span><span class="op" id="5106136">[</span><span class="builtintype" id="5106137">uint32</span><span class="op" id="5106143">]</span><span class="ident" id="5106144">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5106152">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="5106222">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="5106255">func</span>&nbsp;<span class="op" id="5106260">(</span><span class="ident" id="5106261">d</span>&nbsp;<span class="op" id="5106263">*</span><span class="ident" id="5106264">Data</span><span class="op" id="5106268">)</span>&nbsp;<span class="ident" id="5106270">parseAbbrev</span><span class="op" id="5106281">(</span><span class="ident" id="5106282">off</span>&nbsp;<span class="builtintype" id="5106286">uint32</span><span class="op" id="5106292">)</span>&nbsp;<span class="op" id="5106294">(</span><span class="ident" id="5106295">abbrevTable</span><span class="op" id="5106306">,</span>&nbsp;<span class="builtintype" id="5106308">error</span><span class="op" id="5106313">)</span>&nbsp;<span class="op" id="5106315">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106318">if</span>&nbsp;<span class="ident" id="5106321">m</span><span class="op" id="5106322">,</span>&nbsp;<span class="ident" id="5106324">ok</span>&nbsp;<span class="op" id="5106327">:=</span>&nbsp;<span class="ident" id="5106330">d</span><span class="op" id="5106331">.</span><span class="ident" id="5106332">abbrevCache</span><span class="op" id="5106343">[</span><span class="ident" id="5106344">off</span><span class="op" id="5106347">]</span><span class="op" id="5106348">;</span>&nbsp;<span class="ident" id="5106350">ok</span>&nbsp;<span class="op" id="5106353">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106357">return</span>&nbsp;<span class="ident" id="5106364">m</span><span class="op" id="5106365">,</span>&nbsp;<span class="builtintype" id="5106367">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106372">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106376">data</span>&nbsp;<span class="op" id="5106381">:=</span>&nbsp;<span class="ident" id="5106384">d</span><span class="op" id="5106385">.</span><span class="ident" id="5106386">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106394">if</span>&nbsp;<span class="ident" id="5106397">off</span>&nbsp;<span class="op" id="5106401">&gt;</span>&nbsp;<span class="builtintype" id="5106403">uint32</span><span class="op" id="5106409">(</span><span class="builtinfunc" id="5106410">len</span><span class="op" id="5106413">(</span><span class="ident" id="5106414">data</span><span class="op" id="5106418">)</span><span class="op" id="5106419">)</span>&nbsp;<span class="op" id="5106421">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106425">data</span>&nbsp;<span class="op" id="5106430">=</span>&nbsp;<span class="builtintype" id="5106432">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106437">}</span>&nbsp;<span class="keyword" id="5106439">else</span>&nbsp;<span class="op" id="5106444">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106448">data</span>&nbsp;<span class="op" id="5106453">=</span>&nbsp;<span class="ident" id="5106455">data</span><span class="op" id="5106459">[</span><span class="ident" id="5106460">off</span><span class="op" id="5106463">:</span><span class="op" id="5106464">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106467">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106470">b</span>&nbsp;<span class="op" id="5106472">:=</span>&nbsp;<span class="ident" id="5106475">makeBuf</span><span class="op" id="5106482">(</span><span class="ident" id="5106483">d</span><span class="op" id="5106484">,</span>&nbsp;<span class="ident" id="5106486">unknownFormat</span><span class="op" id="5106499">{</span><span class="op" id="5106500">}</span><span class="op" id="5106501">,</span>&nbsp;<span class="string" id="5106503">&#34;abbrev&#34;</span><span class="op" id="5106511">,</span>&nbsp;<span class="num" id="5106513">0</span><span class="op" id="5106514">,</span>&nbsp;<span class="ident" id="5106516">data</span><span class="op" id="5106520">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5106524">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5106576">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106630">m</span>&nbsp;<span class="op" id="5106632">:=</span>&nbsp;<span class="builtinfunc" id="5106635">make</span><span class="op" id="5106639">(</span><span class="ident" id="5106640">abbrevTable</span><span class="op" id="5106651">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106654">for</span>&nbsp;<span class="op" id="5106658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5106662">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106692">id</span>&nbsp;<span class="op" id="5106695">:=</span>&nbsp;<span class="builtintype" id="5106698">uint32</span><span class="op" id="5106704">(</span><span class="ident" id="5106705">b</span><span class="op" id="5106706">.</span><span class="builtintype" id="5106707">uint</span><span class="op" id="5106711">(</span><span class="op" id="5106712">)</span><span class="op" id="5106713">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106717">if</span>&nbsp;<span class="ident" id="5106720">id</span>&nbsp;<span class="op" id="5106723">==</span>&nbsp;<span class="num" id="5106726">0</span>&nbsp;<span class="op" id="5106728">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106733">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106741">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5106746">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106783">n</span>&nbsp;<span class="op" id="5106785">:=</span>&nbsp;<span class="num" id="5106788">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106792">b1</span>&nbsp;<span class="op" id="5106795">:=</span>&nbsp;<span class="ident" id="5106798">b</span>&nbsp;<span class="comment" id="5106800">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106826">b1</span><span class="op" id="5106828">.</span><span class="builtintype" id="5106829">uint</span><span class="op" id="5106833">(</span><span class="op" id="5106834">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106838">b1</span><span class="op" id="5106840">.</span><span class="builtintype" id="5106841">uint8</span><span class="op" id="5106846">(</span><span class="op" id="5106847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106851">for</span>&nbsp;<span class="op" id="5106855">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106860">tag</span>&nbsp;<span class="op" id="5106864">:=</span>&nbsp;<span class="ident" id="5106867">b1</span><span class="op" id="5106869">.</span><span class="builtintype" id="5106870">uint</span><span class="op" id="5106874">(</span><span class="op" id="5106875">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106880">fmt</span>&nbsp;<span class="op" id="5106884">:=</span>&nbsp;<span class="ident" id="5106887">b1</span><span class="op" id="5106889">.</span><span class="builtintype" id="5106890">uint</span><span class="op" id="5106894">(</span><span class="op" id="5106895">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106900">if</span>&nbsp;<span class="ident" id="5106903">tag</span>&nbsp;<span class="op" id="5106907">==</span>&nbsp;<span class="num" id="5106910">0</span>&nbsp;<span class="op" id="5106912">&amp;&amp;</span>&nbsp;<span class="ident" id="5106915">fmt</span>&nbsp;<span class="op" id="5106919">==</span>&nbsp;<span class="num" id="5106922">0</span>&nbsp;<span class="op" id="5106924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106930">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106939">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5106944">n</span><span class="op" id="5106945">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106950">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106954">if</span>&nbsp;<span class="ident" id="5106957">b1</span><span class="op" id="5106959">.</span><span class="ident" id="5106960">err</span>&nbsp;<span class="op" id="5106964">!=</span>&nbsp;<span class="builtintype" id="5106967">nil</span>&nbsp;<span class="op" id="5106971">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5106976">return</span>&nbsp;<span class="builtintype" id="5106983">nil</span><span class="op" id="5106986">,</span>&nbsp;<span class="ident" id="5106988">b1</span><span class="op" id="5106990">.</span><span class="ident" id="5106991">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5106997">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5107002">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5107064">var</span>&nbsp;<span class="ident" id="5107068">a</span>&nbsp;<span class="ident" id="5107070">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107079">a</span><span class="op" id="5107080">.</span><span class="ident" id="5107081">tag</span>&nbsp;<span class="op" id="5107085">=</span>&nbsp;<span class="ident" id="5107087">Tag</span><span class="op" id="5107090">(</span><span class="ident" id="5107091">b</span><span class="op" id="5107092">.</span><span class="builtintype" id="5107093">uint</span><span class="op" id="5107097">(</span><span class="op" id="5107098">)</span><span class="op" id="5107099">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107103">a</span><span class="op" id="5107104">.</span><span class="ident" id="5107105">children</span>&nbsp;<span class="op" id="5107114">=</span>&nbsp;<span class="ident" id="5107116">b</span><span class="op" id="5107117">.</span><span class="builtintype" id="5107118">uint8</span><span class="op" id="5107123">(</span><span class="op" id="5107124">)</span>&nbsp;<span class="op" id="5107126">!=</span>&nbsp;<span class="num" id="5107129">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107133">a</span><span class="op" id="5107134">.</span><span class="ident" id="5107135">field</span>&nbsp;<span class="op" id="5107141">=</span>&nbsp;<span class="builtinfunc" id="5107143">make</span><span class="op" id="5107147">(</span><span class="op" id="5107148">[</span><span class="op" id="5107149">]</span><span class="ident" id="5107150">afield</span><span class="op" id="5107156">,</span>&nbsp;<span class="ident" id="5107158">n</span><span class="op" id="5107159">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5107163">for</span>&nbsp;<span class="ident" id="5107167">i</span>&nbsp;<span class="op" id="5107169">:=</span>&nbsp;<span class="keyword" id="5107172">range</span>&nbsp;<span class="ident" id="5107178">a</span><span class="op" id="5107179">.</span><span class="ident" id="5107180">field</span>&nbsp;<span class="op" id="5107186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107191">a</span><span class="op" id="5107192">.</span><span class="ident" id="5107193">field</span><span class="op" id="5107198">[</span><span class="ident" id="5107199">i</span><span class="op" id="5107200">]</span><span class="op" id="5107201">.</span><span class="ident" id="5107202">attr</span>&nbsp;<span class="op" id="5107207">=</span>&nbsp;<span class="ident" id="5107209">Attr</span><span class="op" id="5107213">(</span><span class="ident" id="5107214">b</span><span class="op" id="5107215">.</span><span class="builtintype" id="5107216">uint</span><span class="op" id="5107220">(</span><span class="op" id="5107221">)</span><span class="op" id="5107222">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107227">a</span><span class="op" id="5107228">.</span><span class="ident" id="5107229">field</span><span class="op" id="5107234">[</span><span class="ident" id="5107235">i</span><span class="op" id="5107236">]</span><span class="op" id="5107237">.</span><span class="ident" id="5107238">fmt</span>&nbsp;<span class="op" id="5107242">=</span>&nbsp;<span class="ident" id="5107244">format</span><span class="op" id="5107250">(</span><span class="ident" id="5107251">b</span><span class="op" id="5107252">.</span><span class="builtintype" id="5107253">uint</span><span class="op" id="5107257">(</span><span class="op" id="5107258">)</span><span class="op" id="5107259">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5107263">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107267">b</span><span class="op" id="5107268">.</span><span class="builtintype" id="5107269">uint</span><span class="op" id="5107273">(</span><span class="op" id="5107274">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107278">b</span><span class="op" id="5107279">.</span><span class="builtintype" id="5107280">uint</span><span class="op" id="5107284">(</span><span class="op" id="5107285">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107290">m</span><span class="op" id="5107291">[</span><span class="ident" id="5107292">id</span><span class="op" id="5107294">]</span>&nbsp;<span class="op" id="5107296">=</span>&nbsp;<span class="ident" id="5107298">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5107301">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5107304">if</span>&nbsp;<span class="ident" id="5107307">b</span><span class="op" id="5107308">.</span><span class="ident" id="5107309">err</span>&nbsp;<span class="op" id="5107313">!=</span>&nbsp;<span class="builtintype" id="5107316">nil</span>&nbsp;<span class="op" id="5107320">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5107324">return</span>&nbsp;<span class="builtintype" id="5107331">nil</span><span class="op" id="5107334">,</span>&nbsp;<span class="ident" id="5107336">b</span><span class="op" id="5107337">.</span><span class="ident" id="5107338">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5107343">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107346">d</span><span class="op" id="5107347">.</span><span class="ident" id="5107348">abbrevCache</span><span class="op" id="5107359">[</span><span class="ident" id="5107360">off</span><span class="op" id="5107363">]</span>&nbsp;<span class="op" id="5107365">=</span>&nbsp;<span class="ident" id="5107367">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5107370">return</span>&nbsp;<span class="ident" id="5107377">m</span><span class="op" id="5107378">,</span>&nbsp;<span class="builtintype" id="5107380">nil</span><br>
<span class="lineno"></span><span class="op" id="5107384">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5107387">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="5107439">type</span>&nbsp;<span class="ident" id="5107444">Entry</span>&nbsp;<span class="keyword" id="5107450">struct</span>&nbsp;<span class="op" id="5107457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107460">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5107469">Offset</span>&nbsp;<span class="comment" id="5107476">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107510">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107519">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5107526">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107550">Children</span>&nbsp;<span class="builtintype" id="5107559">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5107566">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107608">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5107617">[</span><span class="op" id="5107618">]</span><span class="ident" id="5107619">Field</span><br>
<span class="lineno"></span><span class="op" id="5107625">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5107628">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="5107685">type</span>&nbsp;<span class="ident" id="5107690">Field</span>&nbsp;<span class="keyword" id="5107696">struct</span>&nbsp;<span class="op" id="5107703">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107706">Attr</span>&nbsp;<span class="ident" id="5107711">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5107717">Val</span>&nbsp;&nbsp;<span class="keyword" id="5107722">interface</span><span class="op" id="5107731">{</span><span class="op" id="5107732">}</span><br>
<span class="lineno"></span><span class="op" id="5107734">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5107737">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="5107803">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="5107844">//</span><br>
<span class="lineno"></span><span class="comment" id="5107847">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5107907">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="5107973">//&nbsp;&nbsp;&nbsp;&nbsp;v,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="5108013">//</span><br>
<span class="lineno"></span><span class="keyword" id="5108016">func</span>&nbsp;<span class="op" id="5108021">(</span><span class="ident" id="5108022">e</span>&nbsp;<span class="op" id="5108024">*</span><span class="ident" id="5108025">Entry</span><span class="op" id="5108030">)</span>&nbsp;<span class="ident" id="5108032">Val</span><span class="op" id="5108035">(</span><span class="ident" id="5108036">a</span>&nbsp;<span class="ident" id="5108038">Attr</span><span class="op" id="5108042">)</span>&nbsp;<span class="keyword" id="5108044">interface</span><span class="op" id="5108053">{</span><span class="op" id="5108054">}</span>&nbsp;<span class="op" id="5108056">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108059">for</span>&nbsp;<span class="ident" id="5108063">_</span><span class="op" id="5108064">,</span>&nbsp;<span class="ident" id="5108066">f</span>&nbsp;<span class="op" id="5108068">:=</span>&nbsp;<span class="keyword" id="5108071">range</span>&nbsp;<span class="ident" id="5108077">e</span><span class="op" id="5108078">.</span><span class="ident" id="5108079">Field</span>&nbsp;<span class="op" id="5108085">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108089">if</span>&nbsp;<span class="ident" id="5108092">f</span><span class="op" id="5108093">.</span><span class="ident" id="5108094">Attr</span>&nbsp;<span class="op" id="5108099">==</span>&nbsp;<span class="ident" id="5108102">a</span>&nbsp;<span class="op" id="5108104">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108109">return</span>&nbsp;<span class="ident" id="5108116">f</span><span class="op" id="5108117">.</span><span class="ident" id="5108118">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5108124">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5108127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108130">return</span>&nbsp;<span class="builtintype" id="5108137">nil</span><br>
<span class="lineno"></span><span class="op" id="5108141">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="5108144">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="5108216">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="5108238">type</span>&nbsp;<span class="ident" id="5108243">Offset</span>&nbsp;<span class="builtintype" id="5108250">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5108258">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="5108307">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5108353">func</span>&nbsp;<span class="op" id="5108358">(</span><span class="ident" id="5108359">b</span>&nbsp;<span class="op" id="5108361">*</span><span class="ident" id="5108362">buf</span><span class="op" id="5108365">)</span>&nbsp;<span class="ident" id="5108367">entry</span><span class="op" id="5108372">(</span><span class="ident" id="5108373">atab</span>&nbsp;<span class="ident" id="5108378">abbrevTable</span><span class="op" id="5108389">,</span>&nbsp;<span class="ident" id="5108391">ubase</span>&nbsp;<span class="ident" id="5108397">Offset</span><span class="op" id="5108403">)</span>&nbsp;<span class="op" id="5108405">*</span><span class="ident" id="5108406">Entry</span>&nbsp;<span class="op" id="5108412">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108415">off</span>&nbsp;<span class="op" id="5108419">:=</span>&nbsp;<span class="ident" id="5108422">b</span><span class="op" id="5108423">.</span><span class="ident" id="5108424">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108429">id</span>&nbsp;<span class="op" id="5108432">:=</span>&nbsp;<span class="builtintype" id="5108435">uint32</span><span class="op" id="5108441">(</span><span class="ident" id="5108442">b</span><span class="op" id="5108443">.</span><span class="builtintype" id="5108444">uint</span><span class="op" id="5108448">(</span><span class="op" id="5108449">)</span><span class="op" id="5108450">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108453">if</span>&nbsp;<span class="ident" id="5108456">id</span>&nbsp;<span class="op" id="5108459">==</span>&nbsp;<span class="num" id="5108462">0</span>&nbsp;<span class="op" id="5108464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108468">return</span>&nbsp;<span class="op" id="5108475">&amp;</span><span class="ident" id="5108476">Entry</span><span class="op" id="5108481">{</span><span class="op" id="5108482">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5108485">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108488">a</span><span class="op" id="5108489">,</span>&nbsp;<span class="ident" id="5108491">ok</span>&nbsp;<span class="op" id="5108494">:=</span>&nbsp;<span class="ident" id="5108497">atab</span><span class="op" id="5108501">[</span><span class="ident" id="5108502">id</span><span class="op" id="5108504">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108507">if</span>&nbsp;<span class="op" id="5108510">!</span><span class="ident" id="5108511">ok</span>&nbsp;<span class="op" id="5108514">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108518">b</span><span class="op" id="5108519">.</span><span class="builtintype" id="5108520">error</span><span class="op" id="5108525">(</span><span class="string" id="5108526">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="5108560">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108564">return</span>&nbsp;<span class="builtintype" id="5108571">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5108576">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108579">e</span>&nbsp;<span class="op" id="5108581">:=</span>&nbsp;<span class="op" id="5108584">&amp;</span><span class="ident" id="5108585">Entry</span><span class="op" id="5108590">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108594">Offset</span><span class="op" id="5108600">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5108604">off</span><span class="op" id="5108607">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108611">Tag</span><span class="op" id="5108614">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108621">a</span><span class="op" id="5108622">.</span><span class="ident" id="5108623">tag</span><span class="op" id="5108626">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108630">Children</span><span class="op" id="5108638">:</span>&nbsp;<span class="ident" id="5108640">a</span><span class="op" id="5108641">.</span><span class="ident" id="5108642">children</span><span class="op" id="5108650">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108654">Field</span><span class="op" id="5108659">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5108664">make</span><span class="op" id="5108668">(</span><span class="op" id="5108669">[</span><span class="op" id="5108670">]</span><span class="ident" id="5108671">Field</span><span class="op" id="5108676">,</span>&nbsp;<span class="builtinfunc" id="5108678">len</span><span class="op" id="5108681">(</span><span class="ident" id="5108682">a</span><span class="op" id="5108683">.</span><span class="ident" id="5108684">field</span><span class="op" id="5108689">)</span><span class="op" id="5108690">)</span><span class="op" id="5108691">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5108694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108697">for</span>&nbsp;<span class="ident" id="5108701">i</span>&nbsp;<span class="op" id="5108703">:=</span>&nbsp;<span class="keyword" id="5108706">range</span>&nbsp;<span class="ident" id="5108712">e</span><span class="op" id="5108713">.</span><span class="ident" id="5108714">Field</span>&nbsp;<span class="op" id="5108720">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108724">e</span><span class="op" id="5108725">.</span><span class="ident" id="5108726">Field</span><span class="op" id="5108731">[</span><span class="ident" id="5108732">i</span><span class="op" id="5108733">]</span><span class="op" id="5108734">.</span><span class="ident" id="5108735">Attr</span>&nbsp;<span class="op" id="5108740">=</span>&nbsp;<span class="ident" id="5108742">a</span><span class="op" id="5108743">.</span><span class="ident" id="5108744">field</span><span class="op" id="5108749">[</span><span class="ident" id="5108750">i</span><span class="op" id="5108751">]</span><span class="op" id="5108752">.</span><span class="ident" id="5108753">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108760">fmt</span>&nbsp;<span class="op" id="5108764">:=</span>&nbsp;<span class="ident" id="5108767">a</span><span class="op" id="5108768">.</span><span class="ident" id="5108769">field</span><span class="op" id="5108774">[</span><span class="ident" id="5108775">i</span><span class="op" id="5108776">]</span><span class="op" id="5108777">.</span><span class="ident" id="5108778">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108784">if</span>&nbsp;<span class="ident" id="5108787">fmt</span>&nbsp;<span class="op" id="5108791">==</span>&nbsp;<span class="ident" id="5108794">formIndirect</span>&nbsp;<span class="op" id="5108807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108812">fmt</span>&nbsp;<span class="op" id="5108816">=</span>&nbsp;<span class="ident" id="5108818">format</span><span class="op" id="5108824">(</span><span class="ident" id="5108825">b</span><span class="op" id="5108826">.</span><span class="builtintype" id="5108827">uint</span><span class="op" id="5108831">(</span><span class="op" id="5108832">)</span><span class="op" id="5108833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5108837">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108841">var</span>&nbsp;<span class="ident" id="5108845">val</span>&nbsp;<span class="keyword" id="5108849">interface</span><span class="op" id="5108858">{</span><span class="op" id="5108859">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108863">switch</span>&nbsp;<span class="ident" id="5108870">fmt</span>&nbsp;<span class="op" id="5108874">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108878">default</span><span class="op" id="5108885">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5108890">b</span><span class="op" id="5108891">.</span><span class="builtintype" id="5108892">error</span><span class="op" id="5108897">(</span><span class="string" id="5108898">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5108929">+</span>&nbsp;<span class="ident" id="5108931">strconv</span><span class="op" id="5108938">.</span><span class="ident" id="5108939">FormatInt</span><span class="op" id="5108948">(</span><span class="builtintype" id="5108949">int64</span><span class="op" id="5108954">(</span><span class="ident" id="5108955">fmt</span><span class="op" id="5108958">)</span><span class="op" id="5108959">,</span>&nbsp;<span class="num" id="5108961">16</span><span class="op" id="5108963">)</span><span class="op" id="5108964">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5108969">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5108982">case</span>&nbsp;<span class="ident" id="5108987">formAddr</span><span class="op" id="5108995">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109000">val</span>&nbsp;<span class="op" id="5109004">=</span>&nbsp;<span class="ident" id="5109006">b</span><span class="op" id="5109007">.</span><span class="ident" id="5109008">addr</span><span class="op" id="5109012">(</span><span class="op" id="5109013">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109018">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109029">case</span>&nbsp;<span class="ident" id="5109034">formDwarfBlock1</span><span class="op" id="5109049">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109054">val</span>&nbsp;<span class="op" id="5109058">=</span>&nbsp;<span class="ident" id="5109060">b</span><span class="op" id="5109061">.</span><span class="ident" id="5109062">bytes</span><span class="op" id="5109067">(</span><span class="builtintype" id="5109068">int</span><span class="op" id="5109071">(</span><span class="ident" id="5109072">b</span><span class="op" id="5109073">.</span><span class="builtintype" id="5109074">uint8</span><span class="op" id="5109079">(</span><span class="op" id="5109080">)</span><span class="op" id="5109081">)</span><span class="op" id="5109082">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109086">case</span>&nbsp;<span class="ident" id="5109091">formDwarfBlock2</span><span class="op" id="5109106">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109111">val</span>&nbsp;<span class="op" id="5109115">=</span>&nbsp;<span class="ident" id="5109117">b</span><span class="op" id="5109118">.</span><span class="ident" id="5109119">bytes</span><span class="op" id="5109124">(</span><span class="builtintype" id="5109125">int</span><span class="op" id="5109128">(</span><span class="ident" id="5109129">b</span><span class="op" id="5109130">.</span><span class="builtintype" id="5109131">uint16</span><span class="op" id="5109137">(</span><span class="op" id="5109138">)</span><span class="op" id="5109139">)</span><span class="op" id="5109140">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109144">case</span>&nbsp;<span class="ident" id="5109149">formDwarfBlock4</span><span class="op" id="5109164">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109169">val</span>&nbsp;<span class="op" id="5109173">=</span>&nbsp;<span class="ident" id="5109175">b</span><span class="op" id="5109176">.</span><span class="ident" id="5109177">bytes</span><span class="op" id="5109182">(</span><span class="builtintype" id="5109183">int</span><span class="op" id="5109186">(</span><span class="ident" id="5109187">b</span><span class="op" id="5109188">.</span><span class="builtintype" id="5109189">uint32</span><span class="op" id="5109195">(</span><span class="op" id="5109196">)</span><span class="op" id="5109197">)</span><span class="op" id="5109198">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109202">case</span>&nbsp;<span class="ident" id="5109207">formDwarfBlock</span><span class="op" id="5109221">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109226">val</span>&nbsp;<span class="op" id="5109230">=</span>&nbsp;<span class="ident" id="5109232">b</span><span class="op" id="5109233">.</span><span class="ident" id="5109234">bytes</span><span class="op" id="5109239">(</span><span class="builtintype" id="5109240">int</span><span class="op" id="5109243">(</span><span class="ident" id="5109244">b</span><span class="op" id="5109245">.</span><span class="builtintype" id="5109246">uint</span><span class="op" id="5109250">(</span><span class="op" id="5109251">)</span><span class="op" id="5109252">)</span><span class="op" id="5109253">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109258">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109272">case</span>&nbsp;<span class="ident" id="5109277">formData1</span><span class="op" id="5109286">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109291">val</span>&nbsp;<span class="op" id="5109295">=</span>&nbsp;<span class="builtintype" id="5109297">int64</span><span class="op" id="5109302">(</span><span class="ident" id="5109303">b</span><span class="op" id="5109304">.</span><span class="builtintype" id="5109305">uint8</span><span class="op" id="5109310">(</span><span class="op" id="5109311">)</span><span class="op" id="5109312">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109316">case</span>&nbsp;<span class="ident" id="5109321">formData2</span><span class="op" id="5109330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109335">val</span>&nbsp;<span class="op" id="5109339">=</span>&nbsp;<span class="builtintype" id="5109341">int64</span><span class="op" id="5109346">(</span><span class="ident" id="5109347">b</span><span class="op" id="5109348">.</span><span class="builtintype" id="5109349">uint16</span><span class="op" id="5109355">(</span><span class="op" id="5109356">)</span><span class="op" id="5109357">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109361">case</span>&nbsp;<span class="ident" id="5109366">formData4</span><span class="op" id="5109375">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109380">val</span>&nbsp;<span class="op" id="5109384">=</span>&nbsp;<span class="builtintype" id="5109386">int64</span><span class="op" id="5109391">(</span><span class="ident" id="5109392">b</span><span class="op" id="5109393">.</span><span class="builtintype" id="5109394">uint32</span><span class="op" id="5109400">(</span><span class="op" id="5109401">)</span><span class="op" id="5109402">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109406">case</span>&nbsp;<span class="ident" id="5109411">formData8</span><span class="op" id="5109420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109425">val</span>&nbsp;<span class="op" id="5109429">=</span>&nbsp;<span class="builtintype" id="5109431">int64</span><span class="op" id="5109436">(</span><span class="ident" id="5109437">b</span><span class="op" id="5109438">.</span><span class="builtintype" id="5109439">uint64</span><span class="op" id="5109445">(</span><span class="op" id="5109446">)</span><span class="op" id="5109447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109451">case</span>&nbsp;<span class="ident" id="5109456">formSdata</span><span class="op" id="5109465">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109470">val</span>&nbsp;<span class="op" id="5109474">=</span>&nbsp;<span class="builtintype" id="5109476">int64</span><span class="op" id="5109481">(</span><span class="ident" id="5109482">b</span><span class="op" id="5109483">.</span><span class="builtintype" id="5109484">int</span><span class="op" id="5109487">(</span><span class="op" id="5109488">)</span><span class="op" id="5109489">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109493">case</span>&nbsp;<span class="ident" id="5109498">formUdata</span><span class="op" id="5109507">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109512">val</span>&nbsp;<span class="op" id="5109516">=</span>&nbsp;<span class="builtintype" id="5109518">int64</span><span class="op" id="5109523">(</span><span class="ident" id="5109524">b</span><span class="op" id="5109525">.</span><span class="builtintype" id="5109526">uint</span><span class="op" id="5109530">(</span><span class="op" id="5109531">)</span><span class="op" id="5109532">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109537">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109547">case</span>&nbsp;<span class="ident" id="5109552">formFlag</span><span class="op" id="5109560">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109565">val</span>&nbsp;<span class="op" id="5109569">=</span>&nbsp;<span class="ident" id="5109571">b</span><span class="op" id="5109572">.</span><span class="builtintype" id="5109573">uint8</span><span class="op" id="5109578">(</span><span class="op" id="5109579">)</span>&nbsp;<span class="op" id="5109581">==</span>&nbsp;<span class="num" id="5109584">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109588">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109609">case</span>&nbsp;<span class="ident" id="5109614">formFlagPresent</span><span class="op" id="5109629">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109634">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109706">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109763">val</span>&nbsp;<span class="op" id="5109767">=</span>&nbsp;<span class="builtintype" id="5109769">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5109777">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109807">case</span>&nbsp;<span class="ident" id="5109812">formRefAddr</span><span class="op" id="5109823">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109828">vers</span>&nbsp;<span class="op" id="5109833">:=</span>&nbsp;<span class="ident" id="5109836">b</span><span class="op" id="5109837">.</span><span class="ident" id="5109838">format</span><span class="op" id="5109844">.</span><span class="ident" id="5109845">version</span><span class="op" id="5109852">(</span><span class="op" id="5109853">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5109858">if</span>&nbsp;<span class="ident" id="5109861">vers</span>&nbsp;<span class="op" id="5109866">==</span>&nbsp;<span class="num" id="5109869">0</span>&nbsp;<span class="op" id="5109871">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109877">b</span><span class="op" id="5109878">.</span><span class="builtintype" id="5109879">error</span><span class="op" id="5109884">(</span><span class="string" id="5109885">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5109923">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109928">}</span>&nbsp;<span class="keyword" id="5109930">else</span>&nbsp;<span class="keyword" id="5109935">if</span>&nbsp;<span class="ident" id="5109938">vers</span>&nbsp;<span class="op" id="5109943">==</span>&nbsp;<span class="num" id="5109946">2</span>&nbsp;<span class="op" id="5109948">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109954">val</span>&nbsp;<span class="op" id="5109958">=</span>&nbsp;<span class="ident" id="5109960">Offset</span><span class="op" id="5109966">(</span><span class="ident" id="5109967">b</span><span class="op" id="5109968">.</span><span class="ident" id="5109969">addr</span><span class="op" id="5109973">(</span><span class="op" id="5109974">)</span><span class="op" id="5109975">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5109980">}</span>&nbsp;<span class="keyword" id="5109982">else</span>&nbsp;<span class="op" id="5109987">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5109993">is64</span><span class="op" id="5109997">,</span>&nbsp;<span class="ident" id="5109999">known</span>&nbsp;<span class="op" id="5110005">:=</span>&nbsp;<span class="ident" id="5110008">b</span><span class="op" id="5110009">.</span><span class="ident" id="5110010">format</span><span class="op" id="5110016">.</span><span class="ident" id="5110017">dwarf64</span><span class="op" id="5110024">(</span><span class="op" id="5110025">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110031">if</span>&nbsp;<span class="op" id="5110034">!</span><span class="ident" id="5110035">known</span>&nbsp;<span class="op" id="5110041">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110048">b</span><span class="op" id="5110049">.</span><span class="builtintype" id="5110050">error</span><span class="op" id="5110055">(</span><span class="string" id="5110056">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5110091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110097">}</span>&nbsp;<span class="keyword" id="5110099">else</span>&nbsp;<span class="keyword" id="5110104">if</span>&nbsp;<span class="ident" id="5110107">is64</span>&nbsp;<span class="op" id="5110112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110119">val</span>&nbsp;<span class="op" id="5110123">=</span>&nbsp;<span class="ident" id="5110125">Offset</span><span class="op" id="5110131">(</span><span class="ident" id="5110132">b</span><span class="op" id="5110133">.</span><span class="builtintype" id="5110134">uint64</span><span class="op" id="5110140">(</span><span class="op" id="5110141">)</span><span class="op" id="5110142">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110148">}</span>&nbsp;<span class="keyword" id="5110150">else</span>&nbsp;<span class="op" id="5110155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110162">val</span>&nbsp;<span class="op" id="5110166">=</span>&nbsp;<span class="ident" id="5110168">Offset</span><span class="op" id="5110174">(</span><span class="ident" id="5110175">b</span><span class="op" id="5110176">.</span><span class="builtintype" id="5110177">uint32</span><span class="op" id="5110183">(</span><span class="op" id="5110184">)</span><span class="op" id="5110185">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110191">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110196">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110200">case</span>&nbsp;<span class="ident" id="5110205">formRef1</span><span class="op" id="5110213">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110218">val</span>&nbsp;<span class="op" id="5110222">=</span>&nbsp;<span class="ident" id="5110224">Offset</span><span class="op" id="5110230">(</span><span class="ident" id="5110231">b</span><span class="op" id="5110232">.</span><span class="builtintype" id="5110233">uint8</span><span class="op" id="5110238">(</span><span class="op" id="5110239">)</span><span class="op" id="5110240">)</span>&nbsp;<span class="op" id="5110242">+</span>&nbsp;<span class="ident" id="5110244">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110252">case</span>&nbsp;<span class="ident" id="5110257">formRef2</span><span class="op" id="5110265">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110270">val</span>&nbsp;<span class="op" id="5110274">=</span>&nbsp;<span class="ident" id="5110276">Offset</span><span class="op" id="5110282">(</span><span class="ident" id="5110283">b</span><span class="op" id="5110284">.</span><span class="builtintype" id="5110285">uint16</span><span class="op" id="5110291">(</span><span class="op" id="5110292">)</span><span class="op" id="5110293">)</span>&nbsp;<span class="op" id="5110295">+</span>&nbsp;<span class="ident" id="5110297">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110305">case</span>&nbsp;<span class="ident" id="5110310">formRef4</span><span class="op" id="5110318">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110323">val</span>&nbsp;<span class="op" id="5110327">=</span>&nbsp;<span class="ident" id="5110329">Offset</span><span class="op" id="5110335">(</span><span class="ident" id="5110336">b</span><span class="op" id="5110337">.</span><span class="builtintype" id="5110338">uint32</span><span class="op" id="5110344">(</span><span class="op" id="5110345">)</span><span class="op" id="5110346">)</span>&nbsp;<span class="op" id="5110348">+</span>&nbsp;<span class="ident" id="5110350">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110358">case</span>&nbsp;<span class="ident" id="5110363">formRef8</span><span class="op" id="5110371">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110376">val</span>&nbsp;<span class="op" id="5110380">=</span>&nbsp;<span class="ident" id="5110382">Offset</span><span class="op" id="5110388">(</span><span class="ident" id="5110389">b</span><span class="op" id="5110390">.</span><span class="builtintype" id="5110391">uint64</span><span class="op" id="5110397">(</span><span class="op" id="5110398">)</span><span class="op" id="5110399">)</span>&nbsp;<span class="op" id="5110401">+</span>&nbsp;<span class="ident" id="5110403">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110411">case</span>&nbsp;<span class="ident" id="5110416">formRefUdata</span><span class="op" id="5110428">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110433">val</span>&nbsp;<span class="op" id="5110437">=</span>&nbsp;<span class="ident" id="5110439">Offset</span><span class="op" id="5110445">(</span><span class="ident" id="5110446">b</span><span class="op" id="5110447">.</span><span class="builtintype" id="5110448">uint</span><span class="op" id="5110452">(</span><span class="op" id="5110453">)</span><span class="op" id="5110454">)</span>&nbsp;<span class="op" id="5110456">+</span>&nbsp;<span class="ident" id="5110458">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110467">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110479">case</span>&nbsp;<span class="ident" id="5110484">formString</span><span class="op" id="5110494">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110499">val</span>&nbsp;<span class="op" id="5110503">=</span>&nbsp;<span class="ident" id="5110505">b</span><span class="op" id="5110506">.</span><span class="builtintype" id="5110507">string</span><span class="op" id="5110513">(</span><span class="op" id="5110514">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110518">case</span>&nbsp;<span class="ident" id="5110523">formStrp</span><span class="op" id="5110531">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110536">off</span>&nbsp;<span class="op" id="5110540">:=</span>&nbsp;<span class="ident" id="5110543">b</span><span class="op" id="5110544">.</span><span class="builtintype" id="5110545">uint32</span><span class="op" id="5110551">(</span><span class="op" id="5110552">)</span>&nbsp;<span class="comment" id="5110554">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110583">if</span>&nbsp;<span class="ident" id="5110586">b</span><span class="op" id="5110587">.</span><span class="ident" id="5110588">err</span>&nbsp;<span class="op" id="5110592">!=</span>&nbsp;<span class="builtintype" id="5110595">nil</span>&nbsp;<span class="op" id="5110599">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110605">return</span>&nbsp;<span class="builtintype" id="5110612">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110624">b1</span>&nbsp;<span class="op" id="5110627">:=</span>&nbsp;<span class="ident" id="5110630">makeBuf</span><span class="op" id="5110637">(</span><span class="ident" id="5110638">b</span><span class="op" id="5110639">.</span><span class="ident" id="5110640">dwarf</span><span class="op" id="5110645">,</span>&nbsp;<span class="ident" id="5110647">unknownFormat</span><span class="op" id="5110660">{</span><span class="op" id="5110661">}</span><span class="op" id="5110662">,</span>&nbsp;<span class="string" id="5110664">&#34;str&#34;</span><span class="op" id="5110669">,</span>&nbsp;<span class="num" id="5110671">0</span><span class="op" id="5110672">,</span>&nbsp;<span class="ident" id="5110674">b</span><span class="op" id="5110675">.</span><span class="ident" id="5110676">dwarf</span><span class="op" id="5110681">.</span><span class="ident" id="5110682">str</span><span class="op" id="5110685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110690">b1</span><span class="op" id="5110692">.</span><span class="ident" id="5110693">skip</span><span class="op" id="5110697">(</span><span class="builtintype" id="5110698">int</span><span class="op" id="5110701">(</span><span class="ident" id="5110702">off</span><span class="op" id="5110705">)</span><span class="op" id="5110706">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110711">val</span>&nbsp;<span class="op" id="5110715">=</span>&nbsp;<span class="ident" id="5110717">b1</span><span class="op" id="5110719">.</span><span class="builtintype" id="5110720">string</span><span class="op" id="5110726">(</span><span class="op" id="5110727">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110732">if</span>&nbsp;<span class="ident" id="5110735">b1</span><span class="op" id="5110737">.</span><span class="ident" id="5110738">err</span>&nbsp;<span class="op" id="5110742">!=</span>&nbsp;<span class="builtintype" id="5110745">nil</span>&nbsp;<span class="op" id="5110749">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5110755">b</span><span class="op" id="5110756">.</span><span class="ident" id="5110757">err</span>&nbsp;<span class="op" id="5110761">=</span>&nbsp;<span class="ident" id="5110763">b1</span><span class="op" id="5110765">.</span><span class="ident" id="5110766">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110774">return</span>&nbsp;<span class="builtintype" id="5110781">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5110788">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110793">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110840">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5110905">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5110971">case</span>&nbsp;<span class="ident" id="5110976">formSecOffset</span><span class="op" id="5110989">,</span>&nbsp;<span class="ident" id="5110991">formGnuRefAlt</span><span class="op" id="5111004">,</span>&nbsp;<span class="ident" id="5111006">formGnuStrpAlt</span><span class="op" id="5111020">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111025">is64</span><span class="op" id="5111029">,</span>&nbsp;<span class="ident" id="5111031">known</span>&nbsp;<span class="op" id="5111037">:=</span>&nbsp;<span class="ident" id="5111040">b</span><span class="op" id="5111041">.</span><span class="ident" id="5111042">format</span><span class="op" id="5111048">.</span><span class="ident" id="5111049">dwarf64</span><span class="op" id="5111056">(</span><span class="op" id="5111057">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111062">if</span>&nbsp;<span class="op" id="5111065">!</span><span class="ident" id="5111066">known</span>&nbsp;<span class="op" id="5111072">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111078">b</span><span class="op" id="5111079">.</span><span class="builtintype" id="5111080">error</span><span class="op" id="5111085">(</span><span class="string" id="5111086">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5111113">+</span>&nbsp;<span class="ident" id="5111115">strconv</span><span class="op" id="5111122">.</span><span class="ident" id="5111123">FormatInt</span><span class="op" id="5111132">(</span><span class="builtintype" id="5111133">int64</span><span class="op" id="5111138">(</span><span class="ident" id="5111139">fmt</span><span class="op" id="5111142">)</span><span class="op" id="5111143">,</span>&nbsp;<span class="num" id="5111145">16</span><span class="op" id="5111147">)</span><span class="op" id="5111148">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111153">}</span>&nbsp;<span class="keyword" id="5111155">else</span>&nbsp;<span class="keyword" id="5111160">if</span>&nbsp;<span class="ident" id="5111163">is64</span>&nbsp;<span class="op" id="5111168">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111174">val</span>&nbsp;<span class="op" id="5111178">=</span>&nbsp;<span class="builtintype" id="5111180">int64</span><span class="op" id="5111185">(</span><span class="ident" id="5111186">b</span><span class="op" id="5111187">.</span><span class="builtintype" id="5111188">uint64</span><span class="op" id="5111194">(</span><span class="op" id="5111195">)</span><span class="op" id="5111196">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111201">}</span>&nbsp;<span class="keyword" id="5111203">else</span>&nbsp;<span class="op" id="5111208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111214">val</span>&nbsp;<span class="op" id="5111218">=</span>&nbsp;<span class="builtintype" id="5111220">int64</span><span class="op" id="5111225">(</span><span class="ident" id="5111226">b</span><span class="op" id="5111227">.</span><span class="builtintype" id="5111228">uint32</span><span class="op" id="5111234">(</span><span class="op" id="5111235">)</span><span class="op" id="5111236">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111241">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5111246">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5111259">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111280">case</span>&nbsp;<span class="ident" id="5111285">formExprloc</span><span class="op" id="5111296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111301">val</span>&nbsp;<span class="op" id="5111305">=</span>&nbsp;<span class="ident" id="5111307">b</span><span class="op" id="5111308">.</span><span class="ident" id="5111309">bytes</span><span class="op" id="5111314">(</span><span class="builtintype" id="5111315">int</span><span class="op" id="5111318">(</span><span class="ident" id="5111319">b</span><span class="op" id="5111320">.</span><span class="builtintype" id="5111321">uint</span><span class="op" id="5111325">(</span><span class="op" id="5111326">)</span><span class="op" id="5111327">)</span><span class="op" id="5111328">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5111333">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5111348">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111369">case</span>&nbsp;<span class="ident" id="5111374">formRefSig8</span><span class="op" id="5111385">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5111390">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111419">val</span>&nbsp;<span class="op" id="5111423">=</span>&nbsp;<span class="ident" id="5111425">b</span><span class="op" id="5111426">.</span><span class="builtintype" id="5111427">uint64</span><span class="op" id="5111433">(</span><span class="op" id="5111434">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111438">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111442">e</span><span class="op" id="5111443">.</span><span class="ident" id="5111444">Field</span><span class="op" id="5111449">[</span><span class="ident" id="5111450">i</span><span class="op" id="5111451">]</span><span class="op" id="5111452">.</span><span class="ident" id="5111453">Val</span>&nbsp;<span class="op" id="5111457">=</span>&nbsp;<span class="ident" id="5111459">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111464">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111467">if</span>&nbsp;<span class="ident" id="5111470">b</span><span class="op" id="5111471">.</span><span class="ident" id="5111472">err</span>&nbsp;<span class="op" id="5111476">!=</span>&nbsp;<span class="builtintype" id="5111479">nil</span>&nbsp;<span class="op" id="5111483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111487">return</span>&nbsp;<span class="builtintype" id="5111494">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111499">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5111502">return</span>&nbsp;<span class="ident" id="5111509">e</span><br>
<span class="lineno"></span><span class="op" id="5111511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5111514">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5111589">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="5111665">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="5111734">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="5111813">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5111859">type</span>&nbsp;<span class="ident" id="5111864">Reader</span>&nbsp;<span class="keyword" id="5111871">struct</span>&nbsp;<span class="op" id="5111878">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111881">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111894">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111899">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5111912">*</span><span class="ident" id="5111913">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111919">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5111932">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111939">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5111952">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5111957">lastChildren</span>&nbsp;<span class="builtintype" id="5111970">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5111977">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112022">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="5112035">Offset</span>&nbsp;<span class="comment" id="5112042">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="5112094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5112097">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="5112138">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5112214">func</span>&nbsp;<span class="op" id="5112219">(</span><span class="ident" id="5112220">d</span>&nbsp;<span class="op" id="5112222">*</span><span class="ident" id="5112223">Data</span><span class="op" id="5112227">)</span>&nbsp;<span class="ident" id="5112229">Reader</span><span class="op" id="5112235">(</span><span class="op" id="5112236">)</span>&nbsp;<span class="op" id="5112238">*</span><span class="ident" id="5112239">Reader</span>&nbsp;<span class="op" id="5112246">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112249">r</span>&nbsp;<span class="op" id="5112251">:=</span>&nbsp;<span class="op" id="5112254">&amp;</span><span class="ident" id="5112255">Reader</span><span class="op" id="5112261">{</span><span class="ident" id="5112262">d</span><span class="op" id="5112263">:</span>&nbsp;<span class="ident" id="5112265">d</span><span class="op" id="5112266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112269">r</span><span class="op" id="5112270">.</span><span class="ident" id="5112271">Seek</span><span class="op" id="5112275">(</span><span class="num" id="5112276">0</span><span class="op" id="5112277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112280">return</span>&nbsp;<span class="ident" id="5112287">r</span><br>
<span class="lineno"></span><span class="op" id="5112289">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="5112292">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="5112364">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5112415">func</span>&nbsp;<span class="op" id="5112420">(</span><span class="ident" id="5112421">r</span>&nbsp;<span class="op" id="5112423">*</span><span class="ident" id="5112424">Reader</span><span class="op" id="5112430">)</span>&nbsp;<span class="ident" id="5112432">Seek</span><span class="op" id="5112436">(</span><span class="ident" id="5112437">off</span>&nbsp;<span class="ident" id="5112441">Offset</span><span class="op" id="5112447">)</span>&nbsp;<span class="op" id="5112449">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112452">d</span>&nbsp;<span class="op" id="5112454">:=</span>&nbsp;<span class="ident" id="5112457">r</span><span class="op" id="5112458">.</span><span class="ident" id="5112459">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112462">r</span><span class="op" id="5112463">.</span><span class="ident" id="5112464">err</span>&nbsp;<span class="op" id="5112468">=</span>&nbsp;<span class="builtintype" id="5112470">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112475">r</span><span class="op" id="5112476">.</span><span class="ident" id="5112477">lastChildren</span>&nbsp;<span class="op" id="5112490">=</span>&nbsp;<span class="builtintype" id="5112492">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112499">if</span>&nbsp;<span class="ident" id="5112502">off</span>&nbsp;<span class="op" id="5112506">==</span>&nbsp;<span class="num" id="5112509">0</span>&nbsp;<span class="op" id="5112511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112515">if</span>&nbsp;<span class="builtinfunc" id="5112518">len</span><span class="op" id="5112521">(</span><span class="ident" id="5112522">d</span><span class="op" id="5112523">.</span><span class="ident" id="5112524">unit</span><span class="op" id="5112528">)</span>&nbsp;<span class="op" id="5112530">==</span>&nbsp;<span class="num" id="5112533">0</span>&nbsp;<span class="op" id="5112535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112540">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112549">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112553">u</span>&nbsp;<span class="op" id="5112555">:=</span>&nbsp;<span class="op" id="5112558">&amp;</span><span class="ident" id="5112559">d</span><span class="op" id="5112560">.</span><span class="ident" id="5112561">unit</span><span class="op" id="5112565">[</span><span class="num" id="5112566">0</span><span class="op" id="5112567">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112571">r</span><span class="op" id="5112572">.</span><span class="ident" id="5112573">unit</span>&nbsp;<span class="op" id="5112578">=</span>&nbsp;<span class="num" id="5112580">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112584">r</span><span class="op" id="5112585">.</span><span class="ident" id="5112586">b</span>&nbsp;<span class="op" id="5112588">=</span>&nbsp;<span class="ident" id="5112590">makeBuf</span><span class="op" id="5112597">(</span><span class="ident" id="5112598">r</span><span class="op" id="5112599">.</span><span class="ident" id="5112600">d</span><span class="op" id="5112601">,</span>&nbsp;<span class="ident" id="5112603">u</span><span class="op" id="5112604">,</span>&nbsp;<span class="string" id="5112606">&#34;info&#34;</span><span class="op" id="5112612">,</span>&nbsp;<span class="ident" id="5112614">u</span><span class="op" id="5112615">.</span><span class="ident" id="5112616">off</span><span class="op" id="5112619">,</span>&nbsp;<span class="ident" id="5112621">u</span><span class="op" id="5112622">.</span><span class="ident" id="5112623">data</span><span class="op" id="5112627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112631">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112639">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5112643">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112694">var</span>&nbsp;<span class="ident" id="5112698">i</span>&nbsp;<span class="builtintype" id="5112700">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112705">var</span>&nbsp;<span class="ident" id="5112709">u</span>&nbsp;<span class="op" id="5112711">*</span><span class="ident" id="5112712">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112718">for</span>&nbsp;<span class="ident" id="5112722">i</span>&nbsp;<span class="op" id="5112724">=</span>&nbsp;<span class="keyword" id="5112726">range</span>&nbsp;<span class="ident" id="5112732">d</span><span class="op" id="5112733">.</span><span class="ident" id="5112734">unit</span>&nbsp;<span class="op" id="5112739">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112743">u</span>&nbsp;<span class="op" id="5112745">=</span>&nbsp;<span class="op" id="5112747">&amp;</span><span class="ident" id="5112748">d</span><span class="op" id="5112749">.</span><span class="ident" id="5112750">unit</span><span class="op" id="5112754">[</span><span class="ident" id="5112755">i</span><span class="op" id="5112756">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112760">if</span>&nbsp;<span class="ident" id="5112763">u</span><span class="op" id="5112764">.</span><span class="ident" id="5112765">off</span>&nbsp;<span class="op" id="5112769">&lt;=</span>&nbsp;<span class="ident" id="5112772">off</span>&nbsp;<span class="op" id="5112776">&amp;&amp;</span>&nbsp;<span class="ident" id="5112779">off</span>&nbsp;<span class="op" id="5112783">&lt;</span>&nbsp;<span class="ident" id="5112785">u</span><span class="op" id="5112786">.</span><span class="ident" id="5112787">off</span><span class="op" id="5112790">+</span><span class="ident" id="5112791">Offset</span><span class="op" id="5112797">(</span><span class="builtinfunc" id="5112798">len</span><span class="op" id="5112801">(</span><span class="ident" id="5112802">u</span><span class="op" id="5112803">.</span><span class="ident" id="5112804">data</span><span class="op" id="5112808">)</span><span class="op" id="5112809">)</span>&nbsp;<span class="op" id="5112811">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112816">r</span><span class="op" id="5112817">.</span><span class="ident" id="5112818">unit</span>&nbsp;<span class="op" id="5112823">=</span>&nbsp;<span class="ident" id="5112825">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112830">r</span><span class="op" id="5112831">.</span><span class="ident" id="5112832">b</span>&nbsp;<span class="op" id="5112834">=</span>&nbsp;<span class="ident" id="5112836">makeBuf</span><span class="op" id="5112843">(</span><span class="ident" id="5112844">r</span><span class="op" id="5112845">.</span><span class="ident" id="5112846">d</span><span class="op" id="5112847">,</span>&nbsp;<span class="ident" id="5112849">u</span><span class="op" id="5112850">,</span>&nbsp;<span class="string" id="5112852">&#34;info&#34;</span><span class="op" id="5112858">,</span>&nbsp;<span class="ident" id="5112860">off</span><span class="op" id="5112863">,</span>&nbsp;<span class="ident" id="5112865">u</span><span class="op" id="5112866">.</span><span class="ident" id="5112867">data</span><span class="op" id="5112871">[</span><span class="ident" id="5112872">off</span><span class="op" id="5112875">-</span><span class="ident" id="5112876">u</span><span class="op" id="5112877">.</span><span class="ident" id="5112878">off</span><span class="op" id="5112881">:</span><span class="op" id="5112882">]</span><span class="op" id="5112883">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5112888">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112897">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5112900">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5112903">r</span><span class="op" id="5112904">.</span><span class="ident" id="5112905">err</span>&nbsp;<span class="op" id="5112909">=</span>&nbsp;<span class="ident" id="5112911">errors</span><span class="op" id="5112917">.</span><span class="ident" id="5112918">New</span><span class="op" id="5112921">(</span><span class="string" id="5112922">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5112943">)</span><br>
<span class="lineno"></span><span class="op" id="5112945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="5112948">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="5113016">func</span>&nbsp;<span class="op" id="5113021">(</span><span class="ident" id="5113022">r</span>&nbsp;<span class="op" id="5113024">*</span><span class="ident" id="5113025">Reader</span><span class="op" id="5113031">)</span>&nbsp;<span class="ident" id="5113033">maybeNextUnit</span><span class="op" id="5113046">(</span><span class="op" id="5113047">)</span>&nbsp;<span class="op" id="5113049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113052">for</span>&nbsp;<span class="builtinfunc" id="5113056">len</span><span class="op" id="5113059">(</span><span class="ident" id="5113060">r</span><span class="op" id="5113061">.</span><span class="ident" id="5113062">b</span><span class="op" id="5113063">.</span><span class="ident" id="5113064">data</span><span class="op" id="5113068">)</span>&nbsp;<span class="op" id="5113070">==</span>&nbsp;<span class="num" id="5113073">0</span>&nbsp;<span class="op" id="5113075">&amp;&amp;</span>&nbsp;<span class="ident" id="5113078">r</span><span class="op" id="5113079">.</span><span class="ident" id="5113080">unit</span><span class="op" id="5113084">+</span><span class="num" id="5113085">1</span>&nbsp;<span class="op" id="5113087">&lt;</span>&nbsp;<span class="builtinfunc" id="5113089">len</span><span class="op" id="5113092">(</span><span class="ident" id="5113093">r</span><span class="op" id="5113094">.</span><span class="ident" id="5113095">d</span><span class="op" id="5113096">.</span><span class="ident" id="5113097">unit</span><span class="op" id="5113101">)</span>&nbsp;<span class="op" id="5113103">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113107">r</span><span class="op" id="5113108">.</span><span class="ident" id="5113109">unit</span><span class="op" id="5113113">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113118">u</span>&nbsp;<span class="op" id="5113120">:=</span>&nbsp;<span class="op" id="5113123">&amp;</span><span class="ident" id="5113124">r</span><span class="op" id="5113125">.</span><span class="ident" id="5113126">d</span><span class="op" id="5113127">.</span><span class="ident" id="5113128">unit</span><span class="op" id="5113132">[</span><span class="ident" id="5113133">r</span><span class="op" id="5113134">.</span><span class="ident" id="5113135">unit</span><span class="op" id="5113139">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113143">r</span><span class="op" id="5113144">.</span><span class="ident" id="5113145">b</span>&nbsp;<span class="op" id="5113147">=</span>&nbsp;<span class="ident" id="5113149">makeBuf</span><span class="op" id="5113156">(</span><span class="ident" id="5113157">r</span><span class="op" id="5113158">.</span><span class="ident" id="5113159">d</span><span class="op" id="5113160">,</span>&nbsp;<span class="ident" id="5113162">u</span><span class="op" id="5113163">,</span>&nbsp;<span class="string" id="5113165">&#34;info&#34;</span><span class="op" id="5113171">,</span>&nbsp;<span class="ident" id="5113173">u</span><span class="op" id="5113174">.</span><span class="ident" id="5113175">off</span><span class="op" id="5113178">,</span>&nbsp;<span class="ident" id="5113180">u</span><span class="op" id="5113181">.</span><span class="ident" id="5113182">data</span><span class="op" id="5113186">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113189">}</span><br>
<span class="lineno"></span><span class="op" id="5113191">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5113194">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="5113254">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5113317">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5113392">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5113438">func</span>&nbsp;<span class="op" id="5113443">(</span><span class="ident" id="5113444">r</span>&nbsp;<span class="op" id="5113446">*</span><span class="ident" id="5113447">Reader</span><span class="op" id="5113453">)</span>&nbsp;<span class="ident" id="5113455">Next</span><span class="op" id="5113459">(</span><span class="op" id="5113460">)</span>&nbsp;<span class="op" id="5113462">(</span><span class="op" id="5113463">*</span><span class="ident" id="5113464">Entry</span><span class="op" id="5113469">,</span>&nbsp;<span class="builtintype" id="5113471">error</span><span class="op" id="5113476">)</span>&nbsp;<span class="op" id="5113478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113481">if</span>&nbsp;<span class="ident" id="5113484">r</span><span class="op" id="5113485">.</span><span class="ident" id="5113486">err</span>&nbsp;<span class="op" id="5113490">!=</span>&nbsp;<span class="builtintype" id="5113493">nil</span>&nbsp;<span class="op" id="5113497">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113501">return</span>&nbsp;<span class="builtintype" id="5113508">nil</span><span class="op" id="5113511">,</span>&nbsp;<span class="ident" id="5113513">r</span><span class="op" id="5113514">.</span><span class="ident" id="5113515">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113520">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113523">r</span><span class="op" id="5113524">.</span><span class="ident" id="5113525">maybeNextUnit</span><span class="op" id="5113538">(</span><span class="op" id="5113539">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113542">if</span>&nbsp;<span class="builtinfunc" id="5113545">len</span><span class="op" id="5113548">(</span><span class="ident" id="5113549">r</span><span class="op" id="5113550">.</span><span class="ident" id="5113551">b</span><span class="op" id="5113552">.</span><span class="ident" id="5113553">data</span><span class="op" id="5113557">)</span>&nbsp;<span class="op" id="5113559">==</span>&nbsp;<span class="num" id="5113562">0</span>&nbsp;<span class="op" id="5113564">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113568">return</span>&nbsp;<span class="builtintype" id="5113575">nil</span><span class="op" id="5113578">,</span>&nbsp;<span class="builtintype" id="5113580">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113585">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113588">u</span>&nbsp;<span class="op" id="5113590">:=</span>&nbsp;<span class="op" id="5113593">&amp;</span><span class="ident" id="5113594">r</span><span class="op" id="5113595">.</span><span class="ident" id="5113596">d</span><span class="op" id="5113597">.</span><span class="ident" id="5113598">unit</span><span class="op" id="5113602">[</span><span class="ident" id="5113603">r</span><span class="op" id="5113604">.</span><span class="ident" id="5113605">unit</span><span class="op" id="5113609">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113612">e</span>&nbsp;<span class="op" id="5113614">:=</span>&nbsp;<span class="ident" id="5113617">r</span><span class="op" id="5113618">.</span><span class="ident" id="5113619">b</span><span class="op" id="5113620">.</span><span class="ident" id="5113621">entry</span><span class="op" id="5113626">(</span><span class="ident" id="5113627">u</span><span class="op" id="5113628">.</span><span class="ident" id="5113629">atable</span><span class="op" id="5113635">,</span>&nbsp;<span class="ident" id="5113637">u</span><span class="op" id="5113638">.</span><span class="ident" id="5113639">base</span><span class="op" id="5113643">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113646">if</span>&nbsp;<span class="ident" id="5113649">r</span><span class="op" id="5113650">.</span><span class="ident" id="5113651">b</span><span class="op" id="5113652">.</span><span class="ident" id="5113653">err</span>&nbsp;<span class="op" id="5113657">!=</span>&nbsp;<span class="builtintype" id="5113660">nil</span>&nbsp;<span class="op" id="5113664">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113668">r</span><span class="op" id="5113669">.</span><span class="ident" id="5113670">err</span>&nbsp;<span class="op" id="5113674">=</span>&nbsp;<span class="ident" id="5113676">r</span><span class="op" id="5113677">.</span><span class="ident" id="5113678">b</span><span class="op" id="5113679">.</span><span class="ident" id="5113680">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113686">return</span>&nbsp;<span class="builtintype" id="5113693">nil</span><span class="op" id="5113696">,</span>&nbsp;<span class="ident" id="5113698">r</span><span class="op" id="5113699">.</span><span class="ident" id="5113700">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113705">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113708">if</span>&nbsp;<span class="ident" id="5113711">e</span>&nbsp;<span class="op" id="5113713">!=</span>&nbsp;<span class="builtintype" id="5113716">nil</span>&nbsp;<span class="op" id="5113720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113724">r</span><span class="op" id="5113725">.</span><span class="ident" id="5113726">lastChildren</span>&nbsp;<span class="op" id="5113739">=</span>&nbsp;<span class="ident" id="5113741">e</span><span class="op" id="5113742">.</span><span class="ident" id="5113743">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113754">if</span>&nbsp;<span class="ident" id="5113757">r</span><span class="op" id="5113758">.</span><span class="ident" id="5113759">lastChildren</span>&nbsp;<span class="op" id="5113772">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113777">r</span><span class="op" id="5113778">.</span><span class="ident" id="5113779">lastSibling</span><span class="op" id="5113790">,</span>&nbsp;<span class="ident" id="5113792">_</span>&nbsp;<span class="op" id="5113794">=</span>&nbsp;<span class="ident" id="5113796">e</span><span class="op" id="5113797">.</span><span class="ident" id="5113798">Val</span><span class="op" id="5113801">(</span><span class="ident" id="5113802">AttrSibling</span><span class="op" id="5113813">)</span><span class="op" id="5113814">.</span><span class="op" id="5113815">(</span><span class="ident" id="5113816">Offset</span><span class="op" id="5113822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113826">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113829">}</span>&nbsp;<span class="keyword" id="5113831">else</span>&nbsp;<span class="op" id="5113836">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5113840">r</span><span class="op" id="5113841">.</span><span class="ident" id="5113842">lastChildren</span>&nbsp;<span class="op" id="5113855">=</span>&nbsp;<span class="builtintype" id="5113857">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5113864">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5113867">return</span>&nbsp;<span class="ident" id="5113874">e</span><span class="op" id="5113875">,</span>&nbsp;<span class="builtintype" id="5113877">nil</span><br>
<span class="lineno"></span><span class="op" id="5113881">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5113884">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5113945">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="5114009">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="5114075">func</span>&nbsp;<span class="op" id="5114080">(</span><span class="ident" id="5114081">r</span>&nbsp;<span class="op" id="5114083">*</span><span class="ident" id="5114084">Reader</span><span class="op" id="5114090">)</span>&nbsp;<span class="ident" id="5114092">SkipChildren</span><span class="op" id="5114104">(</span><span class="op" id="5114105">)</span>&nbsp;<span class="op" id="5114107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114110">if</span>&nbsp;<span class="ident" id="5114113">r</span><span class="op" id="5114114">.</span><span class="ident" id="5114115">err</span>&nbsp;<span class="op" id="5114119">!=</span>&nbsp;<span class="builtintype" id="5114122">nil</span>&nbsp;<span class="op" id="5114126">||</span>&nbsp;<span class="op" id="5114129">!</span><span class="ident" id="5114130">r</span><span class="op" id="5114131">.</span><span class="ident" id="5114132">lastChildren</span>&nbsp;<span class="op" id="5114145">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114149">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114157">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5114161">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5114208">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5114256">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5114298">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114318">if</span>&nbsp;<span class="ident" id="5114321">r</span><span class="op" id="5114322">.</span><span class="ident" id="5114323">lastSibling</span>&nbsp;<span class="op" id="5114335">&gt;=</span>&nbsp;<span class="ident" id="5114338">r</span><span class="op" id="5114339">.</span><span class="ident" id="5114340">b</span><span class="op" id="5114341">.</span><span class="ident" id="5114342">off</span>&nbsp;<span class="op" id="5114346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114350">r</span><span class="op" id="5114351">.</span><span class="ident" id="5114352">Seek</span><span class="op" id="5114356">(</span><span class="ident" id="5114357">r</span><span class="op" id="5114358">.</span><span class="ident" id="5114359">lastSibling</span><span class="op" id="5114370">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114374">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114382">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114386">for</span>&nbsp;<span class="op" id="5114390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114394">e</span><span class="op" id="5114395">,</span>&nbsp;<span class="ident" id="5114397">err</span>&nbsp;<span class="op" id="5114401">:=</span>&nbsp;<span class="ident" id="5114404">r</span><span class="op" id="5114405">.</span><span class="ident" id="5114406">Next</span><span class="op" id="5114410">(</span><span class="op" id="5114411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114415">if</span>&nbsp;<span class="ident" id="5114418">err</span>&nbsp;<span class="op" id="5114422">!=</span>&nbsp;<span class="builtintype" id="5114425">nil</span>&nbsp;<span class="op" id="5114429">||</span>&nbsp;<span class="ident" id="5114432">e</span>&nbsp;<span class="op" id="5114434">==</span>&nbsp;<span class="builtintype" id="5114437">nil</span>&nbsp;<span class="op" id="5114441">||</span>&nbsp;<span class="ident" id="5114444">e</span><span class="op" id="5114445">.</span><span class="ident" id="5114446">Tag</span>&nbsp;<span class="op" id="5114450">==</span>&nbsp;<span class="num" id="5114453">0</span>&nbsp;<span class="op" id="5114455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114460">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114468">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114472">if</span>&nbsp;<span class="ident" id="5114475">e</span><span class="op" id="5114476">.</span><span class="ident" id="5114477">Children</span>&nbsp;<span class="op" id="5114486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5114491">r</span><span class="op" id="5114492">.</span><span class="ident" id="5114493">SkipChildren</span><span class="op" id="5114505">(</span><span class="op" id="5114506">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114510">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5114513">}</span><br>
<span class="lineno"></span><span class="op" id="5114515">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="5114518">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="5114589">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5114603">func</span>&nbsp;<span class="op" id="5114608">(</span><span class="ident" id="5114609">r</span>&nbsp;<span class="op" id="5114611">*</span><span class="ident" id="5114612">Reader</span><span class="op" id="5114618">)</span>&nbsp;<span class="ident" id="5114620">clone</span><span class="op" id="5114625">(</span><span class="op" id="5114626">)</span>&nbsp;<span class="ident" id="5114628">typeReader</span>&nbsp;<span class="op" id="5114639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114642">return</span>&nbsp;<span class="ident" id="5114649">r</span><span class="op" id="5114650">.</span><span class="ident" id="5114651">d</span><span class="op" id="5114652">.</span><span class="ident" id="5114653">Reader</span><span class="op" id="5114659">(</span><span class="op" id="5114660">)</span><br>
<span class="lineno">395</span><span class="op" id="5114662">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5114665">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5114731">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5114756">func</span>&nbsp;<span class="op" id="5114761">(</span><span class="ident" id="5114762">r</span>&nbsp;<span class="op" id="5114764">*</span><span class="ident" id="5114765">Reader</span><span class="op" id="5114771">)</span>&nbsp;<span class="ident" id="5114773">offset</span><span class="op" id="5114779">(</span><span class="op" id="5114780">)</span>&nbsp;<span class="ident" id="5114782">Offset</span>&nbsp;<span class="op" id="5114789">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5114792">return</span>&nbsp;<span class="ident" id="5114799">r</span><span class="op" id="5114800">.</span><span class="ident" id="5114801">b</span><span class="op" id="5114802">.</span><span class="ident" id="5114803">off</span><br>
<span class="lineno"></span><span class="op" id="5114807">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
