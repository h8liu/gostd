<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>bytes</h2>
<ul>
<li><a href="/gostd/bytes/buffer.go.html">buffer.go</a></li>
<li><a href="/gostd/bytes/buffer_test.go.html">buffer_test.go</a></li>
<li><a href="/gostd/bytes/bytes.go.html">bytes.go</a></li>
<li><a href="/gostd/bytes/bytes_decl.go.html">bytes_decl.go</a></li>
<li><a href="/gostd/bytes/bytes_test.go.html">bytes_test.go</a></li>
<li><a href="/gostd/bytes/compare_test.go.html">compare_test.go</a></li>
<li><a href="/gostd/bytes/equal_test.go.html">equal_test.go</a></li>
<li><a href="/gostd/bytes/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/bytes/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/bytes/reader.go.html">reader.go</a></li>
<li><a href="/gostd/bytes/reader_test.go.html">reader_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="68726">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="68781">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="68835">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="68886">package</span>&nbsp;<span class="ident" id="68894">bytes_test</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="68906">import</span>&nbsp;<span class="op" id="68913">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="68916">.</span>&nbsp;<span class="string" id="68918">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="68927">&#34;math/rand&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="68940">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="68951">&#34;testing&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="68962">&#34;unicode&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="68973">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="68988">)</span><br>
<span class="lineno">15</span><br>
<span class="lineno"></span><span class="keyword" id="68991">func</span>&nbsp;<span class="ident" id="68996">eq</span><span class="op" id="68998">(</span><span class="ident" id="68999">a</span><span class="op" id="69000">,</span>&nbsp;<span class="ident" id="69002">b</span>&nbsp;<span class="op" id="69004">[</span><span class="op" id="69005">]</span><span class="builtintype" id="69006">string</span><span class="op" id="69012">)</span>&nbsp;<span class="builtintype" id="69014">bool</span>&nbsp;<span class="op" id="69019">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69022">if</span>&nbsp;<span class="builtinfunc" id="69025">len</span><span class="op" id="69028">(</span><span class="ident" id="69029">a</span><span class="op" id="69030">)</span>&nbsp;<span class="op" id="69032">!=</span>&nbsp;<span class="builtinfunc" id="69035">len</span><span class="op" id="69038">(</span><span class="ident" id="69039">b</span><span class="op" id="69040">)</span>&nbsp;<span class="op" id="69042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69046">return</span>&nbsp;<span class="builtintype" id="69053">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69060">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69063">for</span>&nbsp;<span class="ident" id="69067">i</span>&nbsp;<span class="op" id="69069">:=</span>&nbsp;<span class="num" id="69072">0</span><span class="op" id="69073">;</span>&nbsp;<span class="ident" id="69075">i</span>&nbsp;<span class="op" id="69077">&lt;</span>&nbsp;<span class="builtinfunc" id="69079">len</span><span class="op" id="69082">(</span><span class="ident" id="69083">a</span><span class="op" id="69084">)</span><span class="op" id="69085">;</span>&nbsp;<span class="ident" id="69087">i</span><span class="op" id="69088">++</span>&nbsp;<span class="op" id="69091">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69095">if</span>&nbsp;<span class="ident" id="69098">a</span><span class="op" id="69099">[</span><span class="ident" id="69100">i</span><span class="op" id="69101">]</span>&nbsp;<span class="op" id="69103">!=</span>&nbsp;<span class="ident" id="69106">b</span><span class="op" id="69107">[</span><span class="ident" id="69108">i</span><span class="op" id="69109">]</span>&nbsp;<span class="op" id="69111">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69116">return</span>&nbsp;<span class="builtintype" id="69123">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69131">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69134">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69137">return</span>&nbsp;<span class="builtintype" id="69144">true</span><br>
<span class="lineno"></span><span class="op" id="69149">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="69152">func</span>&nbsp;<span class="ident" id="69157">sliceOfString</span><span class="op" id="69170">(</span><span class="ident" id="69171">s</span>&nbsp;<span class="op" id="69173">[</span><span class="op" id="69174">]</span><span class="op" id="69175">[</span><span class="op" id="69176">]</span><span class="builtintype" id="69177">byte</span><span class="op" id="69181">)</span>&nbsp;<span class="op" id="69183">[</span><span class="op" id="69184">]</span><span class="builtintype" id="69185">string</span>&nbsp;<span class="op" id="69192">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69195">result</span>&nbsp;<span class="op" id="69202">:=</span>&nbsp;<span class="builtinfunc" id="69205">make</span><span class="op" id="69209">(</span><span class="op" id="69210">[</span><span class="op" id="69211">]</span><span class="builtintype" id="69212">string</span><span class="op" id="69218">,</span>&nbsp;<span class="builtinfunc" id="69220">len</span><span class="op" id="69223">(</span><span class="ident" id="69224">s</span><span class="op" id="69225">)</span><span class="op" id="69226">)</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69229">for</span>&nbsp;<span class="ident" id="69233">i</span><span class="op" id="69234">,</span>&nbsp;<span class="ident" id="69236">v</span>&nbsp;<span class="op" id="69238">:=</span>&nbsp;<span class="keyword" id="69241">range</span>&nbsp;<span class="ident" id="69247">s</span>&nbsp;<span class="op" id="69249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69253">result</span><span class="op" id="69259">[</span><span class="ident" id="69260">i</span><span class="op" id="69261">]</span>&nbsp;<span class="op" id="69263">=</span>&nbsp;<span class="builtintype" id="69265">string</span><span class="op" id="69271">(</span><span class="ident" id="69272">v</span><span class="op" id="69273">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="69279">return</span>&nbsp;<span class="ident" id="69286">result</span><br>
<span class="lineno"></span><span class="op" id="69293">}</span><br>
<span class="lineno">35</span><br>
<span class="lineno"></span><span class="comment" id="69296">//&nbsp;For&nbsp;ease&nbsp;of&nbsp;reading,&nbsp;the&nbsp;test&nbsp;cases&nbsp;use&nbsp;strings&nbsp;that&nbsp;are&nbsp;converted&nbsp;to&nbsp;byte</span><br>
<span class="lineno"></span><span class="comment" id="69374">//&nbsp;slices&nbsp;before&nbsp;invoking&nbsp;the&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="69416">var</span>&nbsp;<span class="ident" id="69420">abcd</span>&nbsp;<span class="op" id="69425">=</span>&nbsp;<span class="string" id="69427">&#34;abcd&#34;</span><br>
<span class="lineno">40</span><span class="keyword" id="69434">var</span>&nbsp;<span class="ident" id="69438">faces</span>&nbsp;<span class="op" id="69444">=</span>&nbsp;<span class="string" id="69446">&#34;☺☻☹&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="69458">var</span>&nbsp;<span class="ident" id="69462">commas</span>&nbsp;<span class="op" id="69469">=</span>&nbsp;<span class="string" id="69471">&#34;1,2,3,4&#34;</span><br>
<span class="lineno"></span><span class="keyword" id="69481">var</span>&nbsp;<span class="ident" id="69485">dots</span>&nbsp;<span class="op" id="69490">=</span>&nbsp;<span class="string" id="69492">&#34;1....2....3....4&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="69512">type</span>&nbsp;<span class="ident" id="69517">BinOpTest</span>&nbsp;<span class="keyword" id="69527">struct</span>&nbsp;<span class="op" id="69534">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69537">a</span>&nbsp;<span class="builtintype" id="69539">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69547">b</span>&nbsp;<span class="builtintype" id="69549">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69557">i</span>&nbsp;<span class="builtintype" id="69559">int</span><br>
<span class="lineno"></span><span class="op" id="69563">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">50</span><span class="keyword" id="69566">var</span>&nbsp;<span class="ident" id="69570">equalTests</span>&nbsp;<span class="op" id="69581">=</span>&nbsp;<span class="op" id="69583">[</span><span class="op" id="69584">]</span><span class="keyword" id="69585">struct</span>&nbsp;<span class="op" id="69592">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69595">a</span><span class="op" id="69596">,</span>&nbsp;<span class="ident" id="69598">b</span>&nbsp;<span class="op" id="69600">[</span><span class="op" id="69601">]</span><span class="builtintype" id="69602">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="69608">i</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="69613">int</span><br>
<span class="lineno"></span><span class="op" id="69617">}</span><span class="op" id="69618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69621">{</span><span class="op" id="69622">[</span><span class="op" id="69623">]</span><span class="builtintype" id="69624">byte</span><span class="op" id="69628">(</span><span class="string" id="69629">&#34;&#34;</span><span class="op" id="69631">)</span><span class="op" id="69632">,</span>&nbsp;<span class="op" id="69634">[</span><span class="op" id="69635">]</span><span class="builtintype" id="69636">byte</span><span class="op" id="69640">(</span><span class="string" id="69641">&#34;&#34;</span><span class="op" id="69643">)</span><span class="op" id="69644">,</span>&nbsp;<span class="num" id="69646">0</span><span class="op" id="69647">}</span><span class="op" id="69648">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69651">{</span><span class="op" id="69652">[</span><span class="op" id="69653">]</span><span class="builtintype" id="69654">byte</span><span class="op" id="69658">(</span><span class="string" id="69659">&#34;a&#34;</span><span class="op" id="69662">)</span><span class="op" id="69663">,</span>&nbsp;<span class="op" id="69665">[</span><span class="op" id="69666">]</span><span class="builtintype" id="69667">byte</span><span class="op" id="69671">(</span><span class="string" id="69672">&#34;&#34;</span><span class="op" id="69674">)</span><span class="op" id="69675">,</span>&nbsp;<span class="num" id="69677">1</span><span class="op" id="69678">}</span><span class="op" id="69679">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69682">{</span><span class="op" id="69683">[</span><span class="op" id="69684">]</span><span class="builtintype" id="69685">byte</span><span class="op" id="69689">(</span><span class="string" id="69690">&#34;&#34;</span><span class="op" id="69692">)</span><span class="op" id="69693">,</span>&nbsp;<span class="op" id="69695">[</span><span class="op" id="69696">]</span><span class="builtintype" id="69697">byte</span><span class="op" id="69701">(</span><span class="string" id="69702">&#34;a&#34;</span><span class="op" id="69705">)</span><span class="op" id="69706">,</span>&nbsp;<span class="op" id="69708">-</span><span class="num" id="69709">1</span><span class="op" id="69710">}</span><span class="op" id="69711">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69714">{</span><span class="op" id="69715">[</span><span class="op" id="69716">]</span><span class="builtintype" id="69717">byte</span><span class="op" id="69721">(</span><span class="string" id="69722">&#34;abc&#34;</span><span class="op" id="69727">)</span><span class="op" id="69728">,</span>&nbsp;<span class="op" id="69730">[</span><span class="op" id="69731">]</span><span class="builtintype" id="69732">byte</span><span class="op" id="69736">(</span><span class="string" id="69737">&#34;abc&#34;</span><span class="op" id="69742">)</span><span class="op" id="69743">,</span>&nbsp;<span class="num" id="69745">0</span><span class="op" id="69746">}</span><span class="op" id="69747">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69750">{</span><span class="op" id="69751">[</span><span class="op" id="69752">]</span><span class="builtintype" id="69753">byte</span><span class="op" id="69757">(</span><span class="string" id="69758">&#34;ab&#34;</span><span class="op" id="69762">)</span><span class="op" id="69763">,</span>&nbsp;<span class="op" id="69765">[</span><span class="op" id="69766">]</span><span class="builtintype" id="69767">byte</span><span class="op" id="69771">(</span><span class="string" id="69772">&#34;abc&#34;</span><span class="op" id="69777">)</span><span class="op" id="69778">,</span>&nbsp;<span class="op" id="69780">-</span><span class="num" id="69781">1</span><span class="op" id="69782">}</span><span class="op" id="69783">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69786">{</span><span class="op" id="69787">[</span><span class="op" id="69788">]</span><span class="builtintype" id="69789">byte</span><span class="op" id="69793">(</span><span class="string" id="69794">&#34;abc&#34;</span><span class="op" id="69799">)</span><span class="op" id="69800">,</span>&nbsp;<span class="op" id="69802">[</span><span class="op" id="69803">]</span><span class="builtintype" id="69804">byte</span><span class="op" id="69808">(</span><span class="string" id="69809">&#34;ab&#34;</span><span class="op" id="69813">)</span><span class="op" id="69814">,</span>&nbsp;<span class="num" id="69816">1</span><span class="op" id="69817">}</span><span class="op" id="69818">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69821">{</span><span class="op" id="69822">[</span><span class="op" id="69823">]</span><span class="builtintype" id="69824">byte</span><span class="op" id="69828">(</span><span class="string" id="69829">&#34;x&#34;</span><span class="op" id="69832">)</span><span class="op" id="69833">,</span>&nbsp;<span class="op" id="69835">[</span><span class="op" id="69836">]</span><span class="builtintype" id="69837">byte</span><span class="op" id="69841">(</span><span class="string" id="69842">&#34;ab&#34;</span><span class="op" id="69846">)</span><span class="op" id="69847">,</span>&nbsp;<span class="num" id="69849">1</span><span class="op" id="69850">}</span><span class="op" id="69851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69854">{</span><span class="op" id="69855">[</span><span class="op" id="69856">]</span><span class="builtintype" id="69857">byte</span><span class="op" id="69861">(</span><span class="string" id="69862">&#34;ab&#34;</span><span class="op" id="69866">)</span><span class="op" id="69867">,</span>&nbsp;<span class="op" id="69869">[</span><span class="op" id="69870">]</span><span class="builtintype" id="69871">byte</span><span class="op" id="69875">(</span><span class="string" id="69876">&#34;x&#34;</span><span class="op" id="69879">)</span><span class="op" id="69880">,</span>&nbsp;<span class="op" id="69882">-</span><span class="num" id="69883">1</span><span class="op" id="69884">}</span><span class="op" id="69885">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69888">{</span><span class="op" id="69889">[</span><span class="op" id="69890">]</span><span class="builtintype" id="69891">byte</span><span class="op" id="69895">(</span><span class="string" id="69896">&#34;x&#34;</span><span class="op" id="69899">)</span><span class="op" id="69900">,</span>&nbsp;<span class="op" id="69902">[</span><span class="op" id="69903">]</span><span class="builtintype" id="69904">byte</span><span class="op" id="69908">(</span><span class="string" id="69909">&#34;a&#34;</span><span class="op" id="69912">)</span><span class="op" id="69913">,</span>&nbsp;<span class="num" id="69915">1</span><span class="op" id="69916">}</span><span class="op" id="69917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="69920">{</span><span class="op" id="69921">[</span><span class="op" id="69922">]</span><span class="builtintype" id="69923">byte</span><span class="op" id="69927">(</span><span class="string" id="69928">&#34;b&#34;</span><span class="op" id="69931">)</span><span class="op" id="69932">,</span>&nbsp;<span class="op" id="69934">[</span><span class="op" id="69935">]</span><span class="builtintype" id="69936">byte</span><span class="op" id="69940">(</span><span class="string" id="69941">&#34;x&#34;</span><span class="op" id="69944">)</span><span class="op" id="69945">,</span>&nbsp;<span class="op" id="69947">-</span><span class="num" id="69948">1</span><span class="op" id="69949">}</span><span class="op" id="69950">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="69953">//&nbsp;test&nbsp;runtime·memeq&#39;s&nbsp;chunked&nbsp;implementation</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70002">{</span><span class="op" id="70003">[</span><span class="op" id="70004">]</span><span class="builtintype" id="70005">byte</span><span class="op" id="70009">(</span><span class="string" id="70010">&#34;abcdefgh&#34;</span><span class="op" id="70020">)</span><span class="op" id="70021">,</span>&nbsp;<span class="op" id="70023">[</span><span class="op" id="70024">]</span><span class="builtintype" id="70025">byte</span><span class="op" id="70029">(</span><span class="string" id="70030">&#34;abcdefgh&#34;</span><span class="op" id="70040">)</span><span class="op" id="70041">,</span>&nbsp;<span class="num" id="70043">0</span><span class="op" id="70044">}</span><span class="op" id="70045">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70048">{</span><span class="op" id="70049">[</span><span class="op" id="70050">]</span><span class="builtintype" id="70051">byte</span><span class="op" id="70055">(</span><span class="string" id="70056">&#34;abcdefghi&#34;</span><span class="op" id="70067">)</span><span class="op" id="70068">,</span>&nbsp;<span class="op" id="70070">[</span><span class="op" id="70071">]</span><span class="builtintype" id="70072">byte</span><span class="op" id="70076">(</span><span class="string" id="70077">&#34;abcdefghi&#34;</span><span class="op" id="70088">)</span><span class="op" id="70089">,</span>&nbsp;<span class="num" id="70091">0</span><span class="op" id="70092">}</span><span class="op" id="70093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70096">{</span><span class="op" id="70097">[</span><span class="op" id="70098">]</span><span class="builtintype" id="70099">byte</span><span class="op" id="70103">(</span><span class="string" id="70104">&#34;abcdefghi&#34;</span><span class="op" id="70115">)</span><span class="op" id="70116">,</span>&nbsp;<span class="op" id="70118">[</span><span class="op" id="70119">]</span><span class="builtintype" id="70120">byte</span><span class="op" id="70124">(</span><span class="string" id="70125">&#34;abcdefghj&#34;</span><span class="op" id="70136">)</span><span class="op" id="70137">,</span>&nbsp;<span class="op" id="70139">-</span><span class="num" id="70140">1</span><span class="op" id="70141">}</span><span class="op" id="70142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="70145">//&nbsp;nil&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70159">{</span><span class="ident" id="70160">nil</span><span class="op" id="70163">,</span>&nbsp;<span class="ident" id="70165">nil</span><span class="op" id="70168">,</span>&nbsp;<span class="num" id="70170">0</span><span class="op" id="70171">}</span><span class="op" id="70172">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70175">{</span><span class="op" id="70176">[</span><span class="op" id="70177">]</span><span class="builtintype" id="70178">byte</span><span class="op" id="70182">(</span><span class="string" id="70183">&#34;&#34;</span><span class="op" id="70185">)</span><span class="op" id="70186">,</span>&nbsp;<span class="ident" id="70188">nil</span><span class="op" id="70191">,</span>&nbsp;<span class="num" id="70193">0</span><span class="op" id="70194">}</span><span class="op" id="70195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70198">{</span><span class="ident" id="70199">nil</span><span class="op" id="70202">,</span>&nbsp;<span class="op" id="70204">[</span><span class="op" id="70205">]</span><span class="builtintype" id="70206">byte</span><span class="op" id="70210">(</span><span class="string" id="70211">&#34;&#34;</span><span class="op" id="70213">)</span><span class="op" id="70214">,</span>&nbsp;<span class="num" id="70216">0</span><span class="op" id="70217">}</span><span class="op" id="70218">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70221">{</span><span class="op" id="70222">[</span><span class="op" id="70223">]</span><span class="builtintype" id="70224">byte</span><span class="op" id="70228">(</span><span class="string" id="70229">&#34;a&#34;</span><span class="op" id="70232">)</span><span class="op" id="70233">,</span>&nbsp;<span class="ident" id="70235">nil</span><span class="op" id="70238">,</span>&nbsp;<span class="num" id="70240">1</span><span class="op" id="70241">}</span><span class="op" id="70242">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70245">{</span><span class="ident" id="70246">nil</span><span class="op" id="70249">,</span>&nbsp;<span class="op" id="70251">[</span><span class="op" id="70252">]</span><span class="builtintype" id="70253">byte</span><span class="op" id="70257">(</span><span class="string" id="70258">&#34;a&#34;</span><span class="op" id="70261">)</span><span class="op" id="70262">,</span>&nbsp;<span class="op" id="70264">-</span><span class="num" id="70265">1</span><span class="op" id="70266">}</span><span class="op" id="70267">,</span><br>
<span class="lineno"></span><span class="op" id="70269">}</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="keyword" id="70272">func</span>&nbsp;<span class="ident" id="70277">TestEqual</span><span class="op" id="70286">(</span><span class="ident" id="70287">t</span>&nbsp;<span class="op" id="70289">*</span><span class="ident" id="70290">testing</span><span class="op" id="70297">.</span><span class="ident" id="70298">T</span><span class="op" id="70299">)</span>&nbsp;<span class="op" id="70301">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70304">for</span>&nbsp;<span class="ident" id="70308">_</span><span class="op" id="70309">,</span>&nbsp;<span class="ident" id="70311">tt</span>&nbsp;<span class="op" id="70314">:=</span>&nbsp;<span class="keyword" id="70317">range</span>&nbsp;<span class="ident" id="70323">compareTests</span>&nbsp;<span class="op" id="70336">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70340">eql</span>&nbsp;<span class="op" id="70344">:=</span>&nbsp;<span class="ident" id="70347">Equal</span><span class="op" id="70352">(</span><span class="ident" id="70353">tt</span><span class="op" id="70355">.</span><span class="ident" id="70356">a</span><span class="op" id="70357">,</span>&nbsp;<span class="ident" id="70359">tt</span><span class="op" id="70361">.</span><span class="ident" id="70362">b</span><span class="op" id="70363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70367">if</span>&nbsp;<span class="ident" id="70370">eql</span>&nbsp;<span class="op" id="70374">!=</span>&nbsp;<span class="op" id="70377">(</span><span class="ident" id="70378">tt</span><span class="op" id="70380">.</span><span class="ident" id="70381">i</span>&nbsp;<span class="op" id="70383">==</span>&nbsp;<span class="num" id="70386">0</span><span class="op" id="70387">)</span>&nbsp;<span class="op" id="70389">{</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70394">t</span><span class="op" id="70395">.</span><span class="ident" id="70396">Errorf</span><span class="op" id="70402">(</span><span class="string" id="70403">`Equal(%q,&nbsp;%q)&nbsp;=&nbsp;%v`</span><span class="op" id="70423">,</span>&nbsp;<span class="ident" id="70425">tt</span><span class="op" id="70427">.</span><span class="ident" id="70428">a</span><span class="op" id="70429">,</span>&nbsp;<span class="ident" id="70431">tt</span><span class="op" id="70433">.</span><span class="ident" id="70434">b</span><span class="op" id="70435">,</span>&nbsp;<span class="ident" id="70437">eql</span><span class="op" id="70440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70444">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70448">eql</span>&nbsp;<span class="op" id="70452">=</span>&nbsp;<span class="ident" id="70454">EqualPortable</span><span class="op" id="70467">(</span><span class="ident" id="70468">tt</span><span class="op" id="70470">.</span><span class="ident" id="70471">a</span><span class="op" id="70472">,</span>&nbsp;<span class="ident" id="70474">tt</span><span class="op" id="70476">.</span><span class="ident" id="70477">b</span><span class="op" id="70478">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70482">if</span>&nbsp;<span class="ident" id="70485">eql</span>&nbsp;<span class="op" id="70489">!=</span>&nbsp;<span class="op" id="70492">(</span><span class="ident" id="70493">tt</span><span class="op" id="70495">.</span><span class="ident" id="70496">i</span>&nbsp;<span class="op" id="70498">==</span>&nbsp;<span class="num" id="70501">0</span><span class="op" id="70502">)</span>&nbsp;<span class="op" id="70504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70509">t</span><span class="op" id="70510">.</span><span class="ident" id="70511">Errorf</span><span class="op" id="70517">(</span><span class="string" id="70518">`EqualPortable(%q,&nbsp;%q)&nbsp;=&nbsp;%v`</span><span class="op" id="70546">,</span>&nbsp;<span class="ident" id="70548">tt</span><span class="op" id="70550">.</span><span class="ident" id="70551">a</span><span class="op" id="70552">,</span>&nbsp;<span class="ident" id="70554">tt</span><span class="op" id="70556">.</span><span class="ident" id="70557">b</span><span class="op" id="70558">,</span>&nbsp;<span class="ident" id="70560">eql</span><span class="op" id="70563">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70567">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70570">}</span><br>
<span class="lineno"></span><span class="op" id="70572">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="70575">func</span>&nbsp;<span class="ident" id="70580">TestEqualExhaustive</span><span class="op" id="70599">(</span><span class="ident" id="70600">t</span>&nbsp;<span class="op" id="70602">*</span><span class="ident" id="70603">testing</span><span class="op" id="70610">.</span><span class="ident" id="70611">T</span><span class="op" id="70612">)</span>&nbsp;<span class="op" id="70614">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70617">var</span>&nbsp;<span class="ident" id="70621">size</span>&nbsp;<span class="op" id="70626">=</span>&nbsp;<span class="num" id="70628">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70633">if</span>&nbsp;<span class="ident" id="70636">testing</span><span class="op" id="70643">.</span><span class="ident" id="70644">Short</span><span class="op" id="70649">(</span><span class="op" id="70650">)</span>&nbsp;<span class="op" id="70652">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70656">size</span>&nbsp;<span class="op" id="70661">=</span>&nbsp;<span class="num" id="70663">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70667">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70670">a</span>&nbsp;<span class="op" id="70672">:=</span>&nbsp;<span class="builtinfunc" id="70675">make</span><span class="op" id="70679">(</span><span class="op" id="70680">[</span><span class="op" id="70681">]</span><span class="builtintype" id="70682">byte</span><span class="op" id="70686">,</span>&nbsp;<span class="ident" id="70688">size</span><span class="op" id="70692">)</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70695">b</span>&nbsp;<span class="op" id="70697">:=</span>&nbsp;<span class="builtinfunc" id="70700">make</span><span class="op" id="70704">(</span><span class="op" id="70705">[</span><span class="op" id="70706">]</span><span class="builtintype" id="70707">byte</span><span class="op" id="70711">,</span>&nbsp;<span class="ident" id="70713">size</span><span class="op" id="70717">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70720">b_init</span>&nbsp;<span class="op" id="70727">:=</span>&nbsp;<span class="builtinfunc" id="70730">make</span><span class="op" id="70734">(</span><span class="op" id="70735">[</span><span class="op" id="70736">]</span><span class="builtintype" id="70737">byte</span><span class="op" id="70741">,</span>&nbsp;<span class="ident" id="70743">size</span><span class="op" id="70747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="70750">//&nbsp;randomish&nbsp;but&nbsp;deterministic&nbsp;data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70787">for</span>&nbsp;<span class="ident" id="70791">i</span>&nbsp;<span class="op" id="70793">:=</span>&nbsp;<span class="num" id="70796">0</span><span class="op" id="70797">;</span>&nbsp;<span class="ident" id="70799">i</span>&nbsp;<span class="op" id="70801">&lt;</span>&nbsp;<span class="ident" id="70803">size</span><span class="op" id="70807">;</span>&nbsp;<span class="ident" id="70809">i</span><span class="op" id="70810">++</span>&nbsp;<span class="op" id="70813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70817">a</span><span class="op" id="70818">[</span><span class="ident" id="70819">i</span><span class="op" id="70820">]</span>&nbsp;<span class="op" id="70822">=</span>&nbsp;<span class="builtintype" id="70824">byte</span><span class="op" id="70828">(</span><span class="num" id="70829">17</span>&nbsp;<span class="op" id="70832">*</span>&nbsp;<span class="ident" id="70834">i</span><span class="op" id="70835">)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="70839">b_init</span><span class="op" id="70845">[</span><span class="ident" id="70846">i</span><span class="op" id="70847">]</span>&nbsp;<span class="op" id="70849">=</span>&nbsp;<span class="builtintype" id="70851">byte</span><span class="op" id="70855">(</span><span class="num" id="70856">23</span><span class="op" id="70858">*</span><span class="ident" id="70859">i</span>&nbsp;<span class="op" id="70861">+</span>&nbsp;<span class="num" id="70863">100</span><span class="op" id="70866">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="70869">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70873">for</span>&nbsp;<span class="builtinfunc" id="70877">len</span>&nbsp;<span class="op" id="70881">:=</span>&nbsp;<span class="num" id="70884">0</span><span class="op" id="70885">;</span>&nbsp;<span class="builtinfunc" id="70887">len</span>&nbsp;<span class="op" id="70891">&lt;=</span>&nbsp;<span class="ident" id="70894">size</span><span class="op" id="70898">;</span>&nbsp;<span class="builtinfunc" id="70900">len</span><span class="op" id="70903">++</span>&nbsp;<span class="op" id="70906">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70910">for</span>&nbsp;<span class="ident" id="70914">x</span>&nbsp;<span class="op" id="70916">:=</span>&nbsp;<span class="num" id="70919">0</span><span class="op" id="70920">;</span>&nbsp;<span class="ident" id="70922">x</span>&nbsp;<span class="op" id="70924">&lt;=</span>&nbsp;<span class="ident" id="70927">size</span><span class="op" id="70931">-</span><span class="builtinfunc" id="70932">len</span><span class="op" id="70935">;</span>&nbsp;<span class="ident" id="70937">x</span><span class="op" id="70938">++</span>&nbsp;<span class="op" id="70941">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="70946">for</span>&nbsp;<span class="ident" id="70950">y</span>&nbsp;<span class="op" id="70952">:=</span>&nbsp;<span class="num" id="70955">0</span><span class="op" id="70956">;</span>&nbsp;<span class="ident" id="70958">y</span>&nbsp;<span class="op" id="70960">&lt;=</span>&nbsp;<span class="ident" id="70963">size</span><span class="op" id="70967">-</span><span class="builtinfunc" id="70968">len</span><span class="op" id="70971">;</span>&nbsp;<span class="ident" id="70973">y</span><span class="op" id="70974">++</span>&nbsp;<span class="op" id="70977">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="70983">copy</span><span class="op" id="70987">(</span><span class="ident" id="70988">b</span><span class="op" id="70989">,</span>&nbsp;<span class="ident" id="70991">b_init</span><span class="op" id="70997">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="71003">copy</span><span class="op" id="71007">(</span><span class="ident" id="71008">b</span><span class="op" id="71009">[</span><span class="ident" id="71010">y</span><span class="op" id="71011">:</span><span class="ident" id="71012">y</span><span class="op" id="71013">+</span><span class="builtinfunc" id="71014">len</span><span class="op" id="71017">]</span><span class="op" id="71018">,</span>&nbsp;<span class="ident" id="71020">a</span><span class="op" id="71021">[</span><span class="ident" id="71022">x</span><span class="op" id="71023">:</span><span class="ident" id="71024">x</span><span class="op" id="71025">+</span><span class="builtinfunc" id="71026">len</span><span class="op" id="71029">]</span><span class="op" id="71030">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71036">if</span>&nbsp;<span class="op" id="71039">!</span><span class="ident" id="71040">Equal</span><span class="op" id="71045">(</span><span class="ident" id="71046">a</span><span class="op" id="71047">[</span><span class="ident" id="71048">x</span><span class="op" id="71049">:</span><span class="ident" id="71050">x</span><span class="op" id="71051">+</span><span class="builtinfunc" id="71052">len</span><span class="op" id="71055">]</span><span class="op" id="71056">,</span>&nbsp;<span class="ident" id="71058">b</span><span class="op" id="71059">[</span><span class="ident" id="71060">y</span><span class="op" id="71061">:</span><span class="ident" id="71062">y</span><span class="op" id="71063">+</span><span class="builtinfunc" id="71064">len</span><span class="op" id="71067">]</span><span class="op" id="71068">)</span>&nbsp;<span class="op" id="71070">||</span>&nbsp;<span class="op" id="71073">!</span><span class="ident" id="71074">Equal</span><span class="op" id="71079">(</span><span class="ident" id="71080">b</span><span class="op" id="71081">[</span><span class="ident" id="71082">y</span><span class="op" id="71083">:</span><span class="ident" id="71084">y</span><span class="op" id="71085">+</span><span class="builtinfunc" id="71086">len</span><span class="op" id="71089">]</span><span class="op" id="71090">,</span>&nbsp;<span class="ident" id="71092">a</span><span class="op" id="71093">[</span><span class="ident" id="71094">x</span><span class="op" id="71095">:</span><span class="ident" id="71096">x</span><span class="op" id="71097">+</span><span class="builtinfunc" id="71098">len</span><span class="op" id="71101">]</span><span class="op" id="71102">)</span>&nbsp;<span class="op" id="71104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71111">t</span><span class="op" id="71112">.</span><span class="ident" id="71113">Errorf</span><span class="op" id="71119">(</span><span class="string" id="71120">&#34;Equal(%d,&nbsp;%d,&nbsp;%d)&nbsp;=&nbsp;false&#34;</span><span class="op" id="71147">,</span>&nbsp;<span class="builtinfunc" id="71149">len</span><span class="op" id="71152">,</span>&nbsp;<span class="ident" id="71154">x</span><span class="op" id="71155">,</span>&nbsp;<span class="ident" id="71157">y</span><span class="op" id="71158">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71164">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71169">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71173">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71176">}</span><br>
<span class="lineno"></span><span class="op" id="71178">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span><span class="comment" id="71181">//&nbsp;make&nbsp;sure&nbsp;Equal&nbsp;returns&nbsp;false&nbsp;for&nbsp;minimally&nbsp;different&nbsp;strings.&nbsp;&nbsp;The&nbsp;data</span><br>
<span class="lineno"></span><span class="comment" id="71257">//&nbsp;is&nbsp;all&nbsp;zeros&nbsp;except&nbsp;for&nbsp;a&nbsp;single&nbsp;one&nbsp;in&nbsp;one&nbsp;location.</span><br>
<span class="lineno"></span><span class="keyword" id="71314">func</span>&nbsp;<span class="ident" id="71319">TestNotEqual</span><span class="op" id="71331">(</span><span class="ident" id="71332">t</span>&nbsp;<span class="op" id="71334">*</span><span class="ident" id="71335">testing</span><span class="op" id="71342">.</span><span class="ident" id="71343">T</span><span class="op" id="71344">)</span>&nbsp;<span class="op" id="71346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71349">var</span>&nbsp;<span class="ident" id="71353">size</span>&nbsp;<span class="op" id="71358">=</span>&nbsp;<span class="num" id="71360">128</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71365">if</span>&nbsp;<span class="ident" id="71368">testing</span><span class="op" id="71375">.</span><span class="ident" id="71376">Short</span><span class="op" id="71381">(</span><span class="op" id="71382">)</span>&nbsp;<span class="op" id="71384">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71388">size</span>&nbsp;<span class="op" id="71393">=</span>&nbsp;<span class="num" id="71395">32</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71399">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71402">a</span>&nbsp;<span class="op" id="71404">:=</span>&nbsp;<span class="builtinfunc" id="71407">make</span><span class="op" id="71411">(</span><span class="op" id="71412">[</span><span class="op" id="71413">]</span><span class="builtintype" id="71414">byte</span><span class="op" id="71418">,</span>&nbsp;<span class="ident" id="71420">size</span><span class="op" id="71424">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71427">b</span>&nbsp;<span class="op" id="71429">:=</span>&nbsp;<span class="builtinfunc" id="71432">make</span><span class="op" id="71436">(</span><span class="op" id="71437">[</span><span class="op" id="71438">]</span><span class="builtintype" id="71439">byte</span><span class="op" id="71443">,</span>&nbsp;<span class="ident" id="71445">size</span><span class="op" id="71449">)</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71453">for</span>&nbsp;<span class="builtinfunc" id="71457">len</span>&nbsp;<span class="op" id="71461">:=</span>&nbsp;<span class="num" id="71464">0</span><span class="op" id="71465">;</span>&nbsp;<span class="builtinfunc" id="71467">len</span>&nbsp;<span class="op" id="71471">&lt;=</span>&nbsp;<span class="ident" id="71474">size</span><span class="op" id="71478">;</span>&nbsp;<span class="builtinfunc" id="71480">len</span><span class="op" id="71483">++</span>&nbsp;<span class="op" id="71486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71490">for</span>&nbsp;<span class="ident" id="71494">x</span>&nbsp;<span class="op" id="71496">:=</span>&nbsp;<span class="num" id="71499">0</span><span class="op" id="71500">;</span>&nbsp;<span class="ident" id="71502">x</span>&nbsp;<span class="op" id="71504">&lt;=</span>&nbsp;<span class="ident" id="71507">size</span><span class="op" id="71511">-</span><span class="builtinfunc" id="71512">len</span><span class="op" id="71515">;</span>&nbsp;<span class="ident" id="71517">x</span><span class="op" id="71518">++</span>&nbsp;<span class="op" id="71521">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71526">for</span>&nbsp;<span class="ident" id="71530">y</span>&nbsp;<span class="op" id="71532">:=</span>&nbsp;<span class="num" id="71535">0</span><span class="op" id="71536">;</span>&nbsp;<span class="ident" id="71538">y</span>&nbsp;<span class="op" id="71540">&lt;=</span>&nbsp;<span class="ident" id="71543">size</span><span class="op" id="71547">-</span><span class="builtinfunc" id="71548">len</span><span class="op" id="71551">;</span>&nbsp;<span class="ident" id="71553">y</span><span class="op" id="71554">++</span>&nbsp;<span class="op" id="71557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71563">for</span>&nbsp;<span class="ident" id="71567">diffpos</span>&nbsp;<span class="op" id="71575">:=</span>&nbsp;<span class="ident" id="71578">x</span><span class="op" id="71579">;</span>&nbsp;<span class="ident" id="71581">diffpos</span>&nbsp;<span class="op" id="71589">&lt;</span>&nbsp;<span class="ident" id="71591">x</span><span class="op" id="71592">+</span><span class="builtinfunc" id="71593">len</span><span class="op" id="71596">;</span>&nbsp;<span class="ident" id="71598">diffpos</span><span class="op" id="71605">++</span>&nbsp;<span class="op" id="71608">{</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71615">a</span><span class="op" id="71616">[</span><span class="ident" id="71617">diffpos</span><span class="op" id="71624">]</span>&nbsp;<span class="op" id="71626">=</span>&nbsp;<span class="num" id="71628">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="71635">if</span>&nbsp;<span class="ident" id="71638">Equal</span><span class="op" id="71643">(</span><span class="ident" id="71644">a</span><span class="op" id="71645">[</span><span class="ident" id="71646">x</span><span class="op" id="71647">:</span><span class="ident" id="71648">x</span><span class="op" id="71649">+</span><span class="builtinfunc" id="71650">len</span><span class="op" id="71653">]</span><span class="op" id="71654">,</span>&nbsp;<span class="ident" id="71656">b</span><span class="op" id="71657">[</span><span class="ident" id="71658">y</span><span class="op" id="71659">:</span><span class="ident" id="71660">y</span><span class="op" id="71661">+</span><span class="builtinfunc" id="71662">len</span><span class="op" id="71665">]</span><span class="op" id="71666">)</span>&nbsp;<span class="op" id="71668">||</span>&nbsp;<span class="ident" id="71671">Equal</span><span class="op" id="71676">(</span><span class="ident" id="71677">b</span><span class="op" id="71678">[</span><span class="ident" id="71679">y</span><span class="op" id="71680">:</span><span class="ident" id="71681">y</span><span class="op" id="71682">+</span><span class="builtinfunc" id="71683">len</span><span class="op" id="71686">]</span><span class="op" id="71687">,</span>&nbsp;<span class="ident" id="71689">a</span><span class="op" id="71690">[</span><span class="ident" id="71691">x</span><span class="op" id="71692">:</span><span class="ident" id="71693">x</span><span class="op" id="71694">+</span><span class="builtinfunc" id="71695">len</span><span class="op" id="71698">]</span><span class="op" id="71699">)</span>&nbsp;<span class="op" id="71701">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71709">t</span><span class="op" id="71710">.</span><span class="ident" id="71711">Errorf</span><span class="op" id="71717">(</span><span class="string" id="71718">&#34;NotEqual(%d,&nbsp;%d,&nbsp;%d,&nbsp;%d)&nbsp;=&nbsp;true&#34;</span><span class="op" id="71751">,</span>&nbsp;<span class="builtinfunc" id="71753">len</span><span class="op" id="71756">,</span>&nbsp;<span class="ident" id="71758">x</span><span class="op" id="71759">,</span>&nbsp;<span class="ident" id="71761">y</span><span class="op" id="71762">,</span>&nbsp;<span class="ident" id="71764">diffpos</span><span class="op" id="71771">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="71785">a</span><span class="op" id="71786">[</span><span class="ident" id="71787">diffpos</span><span class="op" id="71794">]</span>&nbsp;<span class="op" id="71796">=</span>&nbsp;<span class="num" id="71798">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71804">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71809">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71813">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71816">}</span><br>
<span class="lineno"></span><span class="op" id="71818">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="71821">var</span>&nbsp;<span class="ident" id="71825">indexTests</span>&nbsp;<span class="op" id="71836">=</span>&nbsp;<span class="op" id="71838">[</span><span class="op" id="71839">]</span><span class="ident" id="71840">BinOpTest</span><span class="op" id="71849">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71852">{</span><span class="string" id="71853">&#34;&#34;</span><span class="op" id="71855">,</span>&nbsp;<span class="string" id="71857">&#34;&#34;</span><span class="op" id="71859">,</span>&nbsp;<span class="num" id="71861">0</span><span class="op" id="71862">}</span><span class="op" id="71863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71866">{</span><span class="string" id="71867">&#34;&#34;</span><span class="op" id="71869">,</span>&nbsp;<span class="string" id="71871">&#34;a&#34;</span><span class="op" id="71874">,</span>&nbsp;<span class="op" id="71876">-</span><span class="num" id="71877">1</span><span class="op" id="71878">}</span><span class="op" id="71879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71882">{</span><span class="string" id="71883">&#34;&#34;</span><span class="op" id="71885">,</span>&nbsp;<span class="string" id="71887">&#34;foo&#34;</span><span class="op" id="71892">,</span>&nbsp;<span class="op" id="71894">-</span><span class="num" id="71895">1</span><span class="op" id="71896">}</span><span class="op" id="71897">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71900">{</span><span class="string" id="71901">&#34;fo&#34;</span><span class="op" id="71905">,</span>&nbsp;<span class="string" id="71907">&#34;foo&#34;</span><span class="op" id="71912">,</span>&nbsp;<span class="op" id="71914">-</span><span class="num" id="71915">1</span><span class="op" id="71916">}</span><span class="op" id="71917">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71920">{</span><span class="string" id="71921">&#34;foo&#34;</span><span class="op" id="71926">,</span>&nbsp;<span class="string" id="71928">&#34;baz&#34;</span><span class="op" id="71933">,</span>&nbsp;<span class="op" id="71935">-</span><span class="num" id="71936">1</span><span class="op" id="71937">}</span><span class="op" id="71938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71941">{</span><span class="string" id="71942">&#34;foo&#34;</span><span class="op" id="71947">,</span>&nbsp;<span class="string" id="71949">&#34;foo&#34;</span><span class="op" id="71954">,</span>&nbsp;<span class="num" id="71956">0</span><span class="op" id="71957">}</span><span class="op" id="71958">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71961">{</span><span class="string" id="71962">&#34;oofofoofooo&#34;</span><span class="op" id="71975">,</span>&nbsp;<span class="string" id="71977">&#34;f&#34;</span><span class="op" id="71980">,</span>&nbsp;<span class="num" id="71982">2</span><span class="op" id="71983">}</span><span class="op" id="71984">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="71987">{</span><span class="string" id="71988">&#34;oofofoofooo&#34;</span><span class="op" id="72001">,</span>&nbsp;<span class="string" id="72003">&#34;foo&#34;</span><span class="op" id="72008">,</span>&nbsp;<span class="num" id="72010">4</span><span class="op" id="72011">}</span><span class="op" id="72012">,</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72015">{</span><span class="string" id="72016">&#34;barfoobarfoo&#34;</span><span class="op" id="72030">,</span>&nbsp;<span class="string" id="72032">&#34;foo&#34;</span><span class="op" id="72037">,</span>&nbsp;<span class="num" id="72039">3</span><span class="op" id="72040">}</span><span class="op" id="72041">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72044">{</span><span class="string" id="72045">&#34;foo&#34;</span><span class="op" id="72050">,</span>&nbsp;<span class="string" id="72052">&#34;&#34;</span><span class="op" id="72054">,</span>&nbsp;<span class="num" id="72056">0</span><span class="op" id="72057">}</span><span class="op" id="72058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72061">{</span><span class="string" id="72062">&#34;foo&#34;</span><span class="op" id="72067">,</span>&nbsp;<span class="string" id="72069">&#34;o&#34;</span><span class="op" id="72072">,</span>&nbsp;<span class="num" id="72074">1</span><span class="op" id="72075">}</span><span class="op" id="72076">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72079">{</span><span class="string" id="72080">&#34;abcABCabc&#34;</span><span class="op" id="72091">,</span>&nbsp;<span class="string" id="72093">&#34;A&#34;</span><span class="op" id="72096">,</span>&nbsp;<span class="num" id="72098">3</span><span class="op" id="72099">}</span><span class="op" id="72100">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="72103">//&nbsp;cases&nbsp;with&nbsp;one&nbsp;byte&nbsp;strings&nbsp;-&nbsp;test&nbsp;IndexByte&nbsp;and&nbsp;special&nbsp;case&nbsp;in&nbsp;Index()</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72180">{</span><span class="string" id="72181">&#34;&#34;</span><span class="op" id="72183">,</span>&nbsp;<span class="string" id="72185">&#34;a&#34;</span><span class="op" id="72188">,</span>&nbsp;<span class="op" id="72190">-</span><span class="num" id="72191">1</span><span class="op" id="72192">}</span><span class="op" id="72193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72196">{</span><span class="string" id="72197">&#34;x&#34;</span><span class="op" id="72200">,</span>&nbsp;<span class="string" id="72202">&#34;a&#34;</span><span class="op" id="72205">,</span>&nbsp;<span class="op" id="72207">-</span><span class="num" id="72208">1</span><span class="op" id="72209">}</span><span class="op" id="72210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72213">{</span><span class="string" id="72214">&#34;x&#34;</span><span class="op" id="72217">,</span>&nbsp;<span class="string" id="72219">&#34;x&#34;</span><span class="op" id="72222">,</span>&nbsp;<span class="num" id="72224">0</span><span class="op" id="72225">}</span><span class="op" id="72226">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72229">{</span><span class="string" id="72230">&#34;abc&#34;</span><span class="op" id="72235">,</span>&nbsp;<span class="string" id="72237">&#34;a&#34;</span><span class="op" id="72240">,</span>&nbsp;<span class="num" id="72242">0</span><span class="op" id="72243">}</span><span class="op" id="72244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72247">{</span><span class="string" id="72248">&#34;abc&#34;</span><span class="op" id="72253">,</span>&nbsp;<span class="string" id="72255">&#34;b&#34;</span><span class="op" id="72258">,</span>&nbsp;<span class="num" id="72260">1</span><span class="op" id="72261">}</span><span class="op" id="72262">,</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72265">{</span><span class="string" id="72266">&#34;abc&#34;</span><span class="op" id="72271">,</span>&nbsp;<span class="string" id="72273">&#34;c&#34;</span><span class="op" id="72276">,</span>&nbsp;<span class="num" id="72278">2</span><span class="op" id="72279">}</span><span class="op" id="72280">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72283">{</span><span class="string" id="72284">&#34;abc&#34;</span><span class="op" id="72289">,</span>&nbsp;<span class="string" id="72291">&#34;x&#34;</span><span class="op" id="72294">,</span>&nbsp;<span class="op" id="72296">-</span><span class="num" id="72297">1</span><span class="op" id="72298">}</span><span class="op" id="72299">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72302">{</span><span class="string" id="72303">&#34;barfoobarfooyyyzzzyyyzzzyyyzzzyyyxxxzzzyyy&#34;</span><span class="op" id="72347">,</span>&nbsp;<span class="string" id="72349">&#34;x&#34;</span><span class="op" id="72352">,</span>&nbsp;<span class="num" id="72354">33</span><span class="op" id="72356">}</span><span class="op" id="72357">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72360">{</span><span class="string" id="72361">&#34;foofyfoobarfoobar&#34;</span><span class="op" id="72380">,</span>&nbsp;<span class="string" id="72382">&#34;y&#34;</span><span class="op" id="72385">,</span>&nbsp;<span class="num" id="72387">4</span><span class="op" id="72388">}</span><span class="op" id="72389">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72392">{</span><span class="string" id="72393">&#34;oooooooooooooooooooooo&#34;</span><span class="op" id="72417">,</span>&nbsp;<span class="string" id="72419">&#34;r&#34;</span><span class="op" id="72422">,</span>&nbsp;<span class="op" id="72424">-</span><span class="num" id="72425">1</span><span class="op" id="72426">}</span><span class="op" id="72427">,</span><br>
<span class="lineno">165</span><span class="op" id="72429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="72432">var</span>&nbsp;<span class="ident" id="72436">lastIndexTests</span>&nbsp;<span class="op" id="72451">=</span>&nbsp;<span class="op" id="72453">[</span><span class="op" id="72454">]</span><span class="ident" id="72455">BinOpTest</span><span class="op" id="72464">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72467">{</span><span class="string" id="72468">&#34;&#34;</span><span class="op" id="72470">,</span>&nbsp;<span class="string" id="72472">&#34;&#34;</span><span class="op" id="72474">,</span>&nbsp;<span class="num" id="72476">0</span><span class="op" id="72477">}</span><span class="op" id="72478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72481">{</span><span class="string" id="72482">&#34;&#34;</span><span class="op" id="72484">,</span>&nbsp;<span class="string" id="72486">&#34;a&#34;</span><span class="op" id="72489">,</span>&nbsp;<span class="op" id="72491">-</span><span class="num" id="72492">1</span><span class="op" id="72493">}</span><span class="op" id="72494">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72497">{</span><span class="string" id="72498">&#34;&#34;</span><span class="op" id="72500">,</span>&nbsp;<span class="string" id="72502">&#34;foo&#34;</span><span class="op" id="72507">,</span>&nbsp;<span class="op" id="72509">-</span><span class="num" id="72510">1</span><span class="op" id="72511">}</span><span class="op" id="72512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72515">{</span><span class="string" id="72516">&#34;fo&#34;</span><span class="op" id="72520">,</span>&nbsp;<span class="string" id="72522">&#34;foo&#34;</span><span class="op" id="72527">,</span>&nbsp;<span class="op" id="72529">-</span><span class="num" id="72530">1</span><span class="op" id="72531">}</span><span class="op" id="72532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72535">{</span><span class="string" id="72536">&#34;foo&#34;</span><span class="op" id="72541">,</span>&nbsp;<span class="string" id="72543">&#34;foo&#34;</span><span class="op" id="72548">,</span>&nbsp;<span class="num" id="72550">0</span><span class="op" id="72551">}</span><span class="op" id="72552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72555">{</span><span class="string" id="72556">&#34;foo&#34;</span><span class="op" id="72561">,</span>&nbsp;<span class="string" id="72563">&#34;f&#34;</span><span class="op" id="72566">,</span>&nbsp;<span class="num" id="72568">0</span><span class="op" id="72569">}</span><span class="op" id="72570">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72573">{</span><span class="string" id="72574">&#34;oofofoofooo&#34;</span><span class="op" id="72587">,</span>&nbsp;<span class="string" id="72589">&#34;f&#34;</span><span class="op" id="72592">,</span>&nbsp;<span class="num" id="72594">7</span><span class="op" id="72595">}</span><span class="op" id="72596">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72599">{</span><span class="string" id="72600">&#34;oofofoofooo&#34;</span><span class="op" id="72613">,</span>&nbsp;<span class="string" id="72615">&#34;foo&#34;</span><span class="op" id="72620">,</span>&nbsp;<span class="num" id="72622">7</span><span class="op" id="72623">}</span><span class="op" id="72624">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72627">{</span><span class="string" id="72628">&#34;barfoobarfoo&#34;</span><span class="op" id="72642">,</span>&nbsp;<span class="string" id="72644">&#34;foo&#34;</span><span class="op" id="72649">,</span>&nbsp;<span class="num" id="72651">9</span><span class="op" id="72652">}</span><span class="op" id="72653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72656">{</span><span class="string" id="72657">&#34;foo&#34;</span><span class="op" id="72662">,</span>&nbsp;<span class="string" id="72664">&#34;&#34;</span><span class="op" id="72666">,</span>&nbsp;<span class="num" id="72668">3</span><span class="op" id="72669">}</span><span class="op" id="72670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72673">{</span><span class="string" id="72674">&#34;foo&#34;</span><span class="op" id="72679">,</span>&nbsp;<span class="string" id="72681">&#34;o&#34;</span><span class="op" id="72684">,</span>&nbsp;<span class="num" id="72686">2</span><span class="op" id="72687">}</span><span class="op" id="72688">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72691">{</span><span class="string" id="72692">&#34;abcABCabc&#34;</span><span class="op" id="72703">,</span>&nbsp;<span class="string" id="72705">&#34;A&#34;</span><span class="op" id="72708">,</span>&nbsp;<span class="num" id="72710">3</span><span class="op" id="72711">}</span><span class="op" id="72712">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72715">{</span><span class="string" id="72716">&#34;abcABCabc&#34;</span><span class="op" id="72727">,</span>&nbsp;<span class="string" id="72729">&#34;a&#34;</span><span class="op" id="72732">,</span>&nbsp;<span class="num" id="72734">6</span><span class="op" id="72735">}</span><span class="op" id="72736">,</span><br>
<span class="lineno"></span><span class="op" id="72738">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="72741">var</span>&nbsp;<span class="ident" id="72745">indexAnyTests</span>&nbsp;<span class="op" id="72759">=</span>&nbsp;<span class="op" id="72761">[</span><span class="op" id="72762">]</span><span class="ident" id="72763">BinOpTest</span><span class="op" id="72772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72775">{</span><span class="string" id="72776">&#34;&#34;</span><span class="op" id="72778">,</span>&nbsp;<span class="string" id="72780">&#34;&#34;</span><span class="op" id="72782">,</span>&nbsp;<span class="op" id="72784">-</span><span class="num" id="72785">1</span><span class="op" id="72786">}</span><span class="op" id="72787">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72790">{</span><span class="string" id="72791">&#34;&#34;</span><span class="op" id="72793">,</span>&nbsp;<span class="string" id="72795">&#34;a&#34;</span><span class="op" id="72798">,</span>&nbsp;<span class="op" id="72800">-</span><span class="num" id="72801">1</span><span class="op" id="72802">}</span><span class="op" id="72803">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72806">{</span><span class="string" id="72807">&#34;&#34;</span><span class="op" id="72809">,</span>&nbsp;<span class="string" id="72811">&#34;abc&#34;</span><span class="op" id="72816">,</span>&nbsp;<span class="op" id="72818">-</span><span class="num" id="72819">1</span><span class="op" id="72820">}</span><span class="op" id="72821">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72824">{</span><span class="string" id="72825">&#34;a&#34;</span><span class="op" id="72828">,</span>&nbsp;<span class="string" id="72830">&#34;&#34;</span><span class="op" id="72832">,</span>&nbsp;<span class="op" id="72834">-</span><span class="num" id="72835">1</span><span class="op" id="72836">}</span><span class="op" id="72837">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72840">{</span><span class="string" id="72841">&#34;a&#34;</span><span class="op" id="72844">,</span>&nbsp;<span class="string" id="72846">&#34;a&#34;</span><span class="op" id="72849">,</span>&nbsp;<span class="num" id="72851">0</span><span class="op" id="72852">}</span><span class="op" id="72853">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72856">{</span><span class="string" id="72857">&#34;aaa&#34;</span><span class="op" id="72862">,</span>&nbsp;<span class="string" id="72864">&#34;a&#34;</span><span class="op" id="72867">,</span>&nbsp;<span class="num" id="72869">0</span><span class="op" id="72870">}</span><span class="op" id="72871">,</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72874">{</span><span class="string" id="72875">&#34;abc&#34;</span><span class="op" id="72880">,</span>&nbsp;<span class="string" id="72882">&#34;xyz&#34;</span><span class="op" id="72887">,</span>&nbsp;<span class="op" id="72889">-</span><span class="num" id="72890">1</span><span class="op" id="72891">}</span><span class="op" id="72892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72895">{</span><span class="string" id="72896">&#34;abc&#34;</span><span class="op" id="72901">,</span>&nbsp;<span class="string" id="72903">&#34;xcz&#34;</span><span class="op" id="72908">,</span>&nbsp;<span class="num" id="72910">2</span><span class="op" id="72911">}</span><span class="op" id="72912">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72915">{</span><span class="string" id="72916">&#34;ab☺c&#34;</span><span class="op" id="72924">,</span>&nbsp;<span class="string" id="72926">&#34;x☺yz&#34;</span><span class="op" id="72934">,</span>&nbsp;<span class="num" id="72936">2</span><span class="op" id="72937">}</span><span class="op" id="72938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72941">{</span><span class="string" id="72942">&#34;aRegExp*&#34;</span><span class="op" id="72952">,</span>&nbsp;<span class="string" id="72954">&#34;.(|)*+?^$[]&#34;</span><span class="op" id="72967">,</span>&nbsp;<span class="num" id="72969">7</span><span class="op" id="72970">}</span><span class="op" id="72971">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="72974">{</span><span class="ident" id="72975">dots</span>&nbsp;<span class="op" id="72980">+</span>&nbsp;<span class="ident" id="72982">dots</span>&nbsp;<span class="op" id="72987">+</span>&nbsp;<span class="ident" id="72989">dots</span><span class="op" id="72993">,</span>&nbsp;<span class="string" id="72995">&#34;&nbsp;&#34;</span><span class="op" id="72998">,</span>&nbsp;<span class="op" id="73000">-</span><span class="num" id="73001">1</span><span class="op" id="73002">}</span><span class="op" id="73003">,</span><br>
<span class="lineno">195</span><span class="op" id="73005">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="73008">var</span>&nbsp;<span class="ident" id="73012">lastIndexAnyTests</span>&nbsp;<span class="op" id="73030">=</span>&nbsp;<span class="op" id="73032">[</span><span class="op" id="73033">]</span><span class="ident" id="73034">BinOpTest</span><span class="op" id="73043">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73046">{</span><span class="string" id="73047">&#34;&#34;</span><span class="op" id="73049">,</span>&nbsp;<span class="string" id="73051">&#34;&#34;</span><span class="op" id="73053">,</span>&nbsp;<span class="op" id="73055">-</span><span class="num" id="73056">1</span><span class="op" id="73057">}</span><span class="op" id="73058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73061">{</span><span class="string" id="73062">&#34;&#34;</span><span class="op" id="73064">,</span>&nbsp;<span class="string" id="73066">&#34;a&#34;</span><span class="op" id="73069">,</span>&nbsp;<span class="op" id="73071">-</span><span class="num" id="73072">1</span><span class="op" id="73073">}</span><span class="op" id="73074">,</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73077">{</span><span class="string" id="73078">&#34;&#34;</span><span class="op" id="73080">,</span>&nbsp;<span class="string" id="73082">&#34;abc&#34;</span><span class="op" id="73087">,</span>&nbsp;<span class="op" id="73089">-</span><span class="num" id="73090">1</span><span class="op" id="73091">}</span><span class="op" id="73092">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73095">{</span><span class="string" id="73096">&#34;a&#34;</span><span class="op" id="73099">,</span>&nbsp;<span class="string" id="73101">&#34;&#34;</span><span class="op" id="73103">,</span>&nbsp;<span class="op" id="73105">-</span><span class="num" id="73106">1</span><span class="op" id="73107">}</span><span class="op" id="73108">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73111">{</span><span class="string" id="73112">&#34;a&#34;</span><span class="op" id="73115">,</span>&nbsp;<span class="string" id="73117">&#34;a&#34;</span><span class="op" id="73120">,</span>&nbsp;<span class="num" id="73122">0</span><span class="op" id="73123">}</span><span class="op" id="73124">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73127">{</span><span class="string" id="73128">&#34;aaa&#34;</span><span class="op" id="73133">,</span>&nbsp;<span class="string" id="73135">&#34;a&#34;</span><span class="op" id="73138">,</span>&nbsp;<span class="num" id="73140">2</span><span class="op" id="73141">}</span><span class="op" id="73142">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73145">{</span><span class="string" id="73146">&#34;abc&#34;</span><span class="op" id="73151">,</span>&nbsp;<span class="string" id="73153">&#34;xyz&#34;</span><span class="op" id="73158">,</span>&nbsp;<span class="op" id="73160">-</span><span class="num" id="73161">1</span><span class="op" id="73162">}</span><span class="op" id="73163">,</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73166">{</span><span class="string" id="73167">&#34;abc&#34;</span><span class="op" id="73172">,</span>&nbsp;<span class="string" id="73174">&#34;ab&#34;</span><span class="op" id="73178">,</span>&nbsp;<span class="num" id="73180">1</span><span class="op" id="73181">}</span><span class="op" id="73182">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73185">{</span><span class="string" id="73186">&#34;a☺b☻c☹d&#34;</span><span class="op" id="73201">,</span>&nbsp;<span class="string" id="73203">&#34;uvw☻xyz&#34;</span><span class="op" id="73214">,</span>&nbsp;<span class="num" id="73216">2</span>&nbsp;<span class="op" id="73218">+</span>&nbsp;<span class="builtinfunc" id="73220">len</span><span class="op" id="73223">(</span><span class="string" id="73224">&#34;☺&#34;</span><span class="op" id="73229">)</span><span class="op" id="73230">}</span><span class="op" id="73231">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73234">{</span><span class="string" id="73235">&#34;a.RegExp*&#34;</span><span class="op" id="73246">,</span>&nbsp;<span class="string" id="73248">&#34;.(|)*+?^$[]&#34;</span><span class="op" id="73261">,</span>&nbsp;<span class="num" id="73263">8</span><span class="op" id="73264">}</span><span class="op" id="73265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73268">{</span><span class="ident" id="73269">dots</span>&nbsp;<span class="op" id="73274">+</span>&nbsp;<span class="ident" id="73276">dots</span>&nbsp;<span class="op" id="73281">+</span>&nbsp;<span class="ident" id="73283">dots</span><span class="op" id="73287">,</span>&nbsp;<span class="string" id="73289">&#34;&nbsp;&#34;</span><span class="op" id="73292">,</span>&nbsp;<span class="op" id="73294">-</span><span class="num" id="73295">1</span><span class="op" id="73296">}</span><span class="op" id="73297">,</span><br>
<span class="lineno"></span><span class="op" id="73299">}</span><br>
<span class="lineno">210</span><br>
<span class="lineno"></span><span class="keyword" id="73302">var</span>&nbsp;<span class="ident" id="73306">indexRuneTests</span>&nbsp;<span class="op" id="73321">=</span>&nbsp;<span class="op" id="73323">[</span><span class="op" id="73324">]</span><span class="ident" id="73325">BinOpTest</span><span class="op" id="73334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73337">{</span><span class="string" id="73338">&#34;&#34;</span><span class="op" id="73340">,</span>&nbsp;<span class="string" id="73342">&#34;a&#34;</span><span class="op" id="73345">,</span>&nbsp;<span class="op" id="73347">-</span><span class="num" id="73348">1</span><span class="op" id="73349">}</span><span class="op" id="73350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73353">{</span><span class="string" id="73354">&#34;&#34;</span><span class="op" id="73356">,</span>&nbsp;<span class="string" id="73358">&#34;☺&#34;</span><span class="op" id="73363">,</span>&nbsp;<span class="op" id="73365">-</span><span class="num" id="73366">1</span><span class="op" id="73367">}</span><span class="op" id="73368">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73371">{</span><span class="string" id="73372">&#34;foo&#34;</span><span class="op" id="73377">,</span>&nbsp;<span class="string" id="73379">&#34;☹&#34;</span><span class="op" id="73384">,</span>&nbsp;<span class="op" id="73386">-</span><span class="num" id="73387">1</span><span class="op" id="73388">}</span><span class="op" id="73389">,</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73392">{</span><span class="string" id="73393">&#34;foo&#34;</span><span class="op" id="73398">,</span>&nbsp;<span class="string" id="73400">&#34;o&#34;</span><span class="op" id="73403">,</span>&nbsp;<span class="num" id="73405">1</span><span class="op" id="73406">}</span><span class="op" id="73407">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73410">{</span><span class="string" id="73411">&#34;foo☺bar&#34;</span><span class="op" id="73422">,</span>&nbsp;<span class="string" id="73424">&#34;☺&#34;</span><span class="op" id="73429">,</span>&nbsp;<span class="num" id="73431">3</span><span class="op" id="73432">}</span><span class="op" id="73433">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73436">{</span><span class="string" id="73437">&#34;foo☺☻☹bar&#34;</span><span class="op" id="73454">,</span>&nbsp;<span class="string" id="73456">&#34;☹&#34;</span><span class="op" id="73461">,</span>&nbsp;<span class="num" id="73463">9</span><span class="op" id="73464">}</span><span class="op" id="73465">,</span><br>
<span class="lineno"></span><span class="op" id="73467">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">220</span><span class="comment" id="73470">//&nbsp;Execute&nbsp;f&nbsp;on&nbsp;each&nbsp;test&nbsp;case.&nbsp;&nbsp;funcName&nbsp;should&nbsp;be&nbsp;the&nbsp;name&nbsp;of&nbsp;f;&nbsp;it&#39;s&nbsp;used</span><br>
<span class="lineno"></span><span class="comment" id="73547">//&nbsp;in&nbsp;failure&nbsp;reports.</span><br>
<span class="lineno"></span><span class="keyword" id="73570">func</span>&nbsp;<span class="ident" id="73575">runIndexTests</span><span class="op" id="73588">(</span><span class="ident" id="73589">t</span>&nbsp;<span class="op" id="73591">*</span><span class="ident" id="73592">testing</span><span class="op" id="73599">.</span><span class="ident" id="73600">T</span><span class="op" id="73601">,</span>&nbsp;<span class="ident" id="73603">f</span>&nbsp;<span class="keyword" id="73605">func</span><span class="op" id="73609">(</span><span class="ident" id="73610">s</span><span class="op" id="73611">,</span>&nbsp;<span class="ident" id="73613">sep</span>&nbsp;<span class="op" id="73617">[</span><span class="op" id="73618">]</span><span class="builtintype" id="73619">byte</span><span class="op" id="73623">)</span>&nbsp;<span class="builtintype" id="73625">int</span><span class="op" id="73628">,</span>&nbsp;<span class="ident" id="73630">funcName</span>&nbsp;<span class="builtintype" id="73639">string</span><span class="op" id="73645">,</span>&nbsp;<span class="ident" id="73647">testCases</span>&nbsp;<span class="op" id="73657">[</span><span class="op" id="73658">]</span><span class="ident" id="73659">BinOpTest</span><span class="op" id="73668">)</span>&nbsp;<span class="op" id="73670">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="73673">for</span>&nbsp;<span class="ident" id="73677">_</span><span class="op" id="73678">,</span>&nbsp;<span class="ident" id="73680">test</span>&nbsp;<span class="op" id="73685">:=</span>&nbsp;<span class="keyword" id="73688">range</span>&nbsp;<span class="ident" id="73694">testCases</span>&nbsp;<span class="op" id="73704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="73708">a</span>&nbsp;<span class="op" id="73710">:=</span>&nbsp;<span class="op" id="73713">[</span><span class="op" id="73714">]</span><span class="builtintype" id="73715">byte</span><span class="op" id="73719">(</span><span class="ident" id="73720">test</span><span class="op" id="73724">.</span><span class="ident" id="73725">a</span><span class="op" id="73726">)</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="73730">b</span>&nbsp;<span class="op" id="73732">:=</span>&nbsp;<span class="op" id="73735">[</span><span class="op" id="73736">]</span><span class="builtintype" id="73737">byte</span><span class="op" id="73741">(</span><span class="ident" id="73742">test</span><span class="op" id="73746">.</span><span class="ident" id="73747">b</span><span class="op" id="73748">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="73752">actual</span>&nbsp;<span class="op" id="73759">:=</span>&nbsp;<span class="ident" id="73762">f</span><span class="op" id="73763">(</span><span class="ident" id="73764">a</span><span class="op" id="73765">,</span>&nbsp;<span class="ident" id="73767">b</span><span class="op" id="73768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="73772">if</span>&nbsp;<span class="ident" id="73775">actual</span>&nbsp;<span class="op" id="73782">!=</span>&nbsp;<span class="ident" id="73785">test</span><span class="op" id="73789">.</span><span class="ident" id="73790">i</span>&nbsp;<span class="op" id="73792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="73797">t</span><span class="op" id="73798">.</span><span class="ident" id="73799">Errorf</span><span class="op" id="73805">(</span><span class="string" id="73806">&#34;%s(%q,%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="73831">,</span>&nbsp;<span class="ident" id="73833">funcName</span><span class="op" id="73841">,</span>&nbsp;<span class="ident" id="73843">a</span><span class="op" id="73844">,</span>&nbsp;<span class="ident" id="73846">b</span><span class="op" id="73847">,</span>&nbsp;<span class="ident" id="73849">actual</span><span class="op" id="73855">,</span>&nbsp;<span class="ident" id="73857">test</span><span class="op" id="73861">.</span><span class="ident" id="73862">i</span><span class="op" id="73863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73867">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="73870">}</span><br>
<span class="lineno"></span><span class="op" id="73872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="73875">func</span>&nbsp;<span class="ident" id="73880">runIndexAnyTests</span><span class="op" id="73896">(</span><span class="ident" id="73897">t</span>&nbsp;<span class="op" id="73899">*</span><span class="ident" id="73900">testing</span><span class="op" id="73907">.</span><span class="ident" id="73908">T</span><span class="op" id="73909">,</span>&nbsp;<span class="ident" id="73911">f</span>&nbsp;<span class="keyword" id="73913">func</span><span class="op" id="73917">(</span><span class="ident" id="73918">s</span>&nbsp;<span class="op" id="73920">[</span><span class="op" id="73921">]</span><span class="builtintype" id="73922">byte</span><span class="op" id="73926">,</span>&nbsp;<span class="ident" id="73928">chars</span>&nbsp;<span class="builtintype" id="73934">string</span><span class="op" id="73940">)</span>&nbsp;<span class="builtintype" id="73942">int</span><span class="op" id="73945">,</span>&nbsp;<span class="ident" id="73947">funcName</span>&nbsp;<span class="builtintype" id="73956">string</span><span class="op" id="73962">,</span>&nbsp;<span class="ident" id="73964">testCases</span>&nbsp;<span class="op" id="73974">[</span><span class="op" id="73975">]</span><span class="ident" id="73976">BinOpTest</span><span class="op" id="73985">)</span>&nbsp;<span class="op" id="73987">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="73990">for</span>&nbsp;<span class="ident" id="73994">_</span><span class="op" id="73995">,</span>&nbsp;<span class="ident" id="73997">test</span>&nbsp;<span class="op" id="74002">:=</span>&nbsp;<span class="keyword" id="74005">range</span>&nbsp;<span class="ident" id="74011">testCases</span>&nbsp;<span class="op" id="74021">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74025">a</span>&nbsp;<span class="op" id="74027">:=</span>&nbsp;<span class="op" id="74030">[</span><span class="op" id="74031">]</span><span class="builtintype" id="74032">byte</span><span class="op" id="74036">(</span><span class="ident" id="74037">test</span><span class="op" id="74041">.</span><span class="ident" id="74042">a</span><span class="op" id="74043">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74047">actual</span>&nbsp;<span class="op" id="74054">:=</span>&nbsp;<span class="ident" id="74057">f</span><span class="op" id="74058">(</span><span class="ident" id="74059">a</span><span class="op" id="74060">,</span>&nbsp;<span class="ident" id="74062">test</span><span class="op" id="74066">.</span><span class="ident" id="74067">b</span><span class="op" id="74068">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="74072">if</span>&nbsp;<span class="ident" id="74075">actual</span>&nbsp;<span class="op" id="74082">!=</span>&nbsp;<span class="ident" id="74085">test</span><span class="op" id="74089">.</span><span class="ident" id="74090">i</span>&nbsp;<span class="op" id="74092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74097">t</span><span class="op" id="74098">.</span><span class="ident" id="74099">Errorf</span><span class="op" id="74105">(</span><span class="string" id="74106">&#34;%s(%q,%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="74131">,</span>&nbsp;<span class="ident" id="74133">funcName</span><span class="op" id="74141">,</span>&nbsp;<span class="ident" id="74143">a</span><span class="op" id="74144">,</span>&nbsp;<span class="ident" id="74146">test</span><span class="op" id="74150">.</span><span class="ident" id="74151">b</span><span class="op" id="74152">,</span>&nbsp;<span class="ident" id="74154">actual</span><span class="op" id="74160">,</span>&nbsp;<span class="ident" id="74162">test</span><span class="op" id="74166">.</span><span class="ident" id="74167">i</span><span class="op" id="74168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="74172">}</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="74175">}</span><br>
<span class="lineno"></span><span class="op" id="74177">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="74180">func</span>&nbsp;<span class="ident" id="74185">TestIndex</span><span class="op" id="74194">(</span><span class="ident" id="74195">t</span>&nbsp;<span class="op" id="74197">*</span><span class="ident" id="74198">testing</span><span class="op" id="74205">.</span><span class="ident" id="74206">T</span><span class="op" id="74207">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="74213">{</span>&nbsp;<span class="ident" id="74215">runIndexTests</span><span class="op" id="74228">(</span><span class="ident" id="74229">t</span><span class="op" id="74230">,</span>&nbsp;<span class="ident" id="74232">Index</span><span class="op" id="74237">,</span>&nbsp;<span class="string" id="74239">&#34;Index&#34;</span><span class="op" id="74246">,</span>&nbsp;<span class="ident" id="74248">indexTests</span><span class="op" id="74258">)</span>&nbsp;<span class="op" id="74260">}</span><br>
<span class="lineno"></span><span class="keyword" id="74262">func</span>&nbsp;<span class="ident" id="74267">TestLastIndex</span><span class="op" id="74280">(</span><span class="ident" id="74281">t</span>&nbsp;<span class="op" id="74283">*</span><span class="ident" id="74284">testing</span><span class="op" id="74291">.</span><span class="ident" id="74292">T</span><span class="op" id="74293">)</span>&nbsp;<span class="op" id="74295">{</span>&nbsp;<span class="ident" id="74297">runIndexTests</span><span class="op" id="74310">(</span><span class="ident" id="74311">t</span><span class="op" id="74312">,</span>&nbsp;<span class="ident" id="74314">LastIndex</span><span class="op" id="74323">,</span>&nbsp;<span class="string" id="74325">&#34;LastIndex&#34;</span><span class="op" id="74336">,</span>&nbsp;<span class="ident" id="74338">lastIndexTests</span><span class="op" id="74352">)</span>&nbsp;<span class="op" id="74354">}</span><br>
<span class="lineno">245</span><span class="keyword" id="74356">func</span>&nbsp;<span class="ident" id="74361">TestIndexAny</span><span class="op" id="74373">(</span><span class="ident" id="74374">t</span>&nbsp;<span class="op" id="74376">*</span><span class="ident" id="74377">testing</span><span class="op" id="74384">.</span><span class="ident" id="74385">T</span><span class="op" id="74386">)</span>&nbsp;&nbsp;<span class="op" id="74389">{</span>&nbsp;<span class="ident" id="74391">runIndexAnyTests</span><span class="op" id="74407">(</span><span class="ident" id="74408">t</span><span class="op" id="74409">,</span>&nbsp;<span class="ident" id="74411">IndexAny</span><span class="op" id="74419">,</span>&nbsp;<span class="string" id="74421">&#34;IndexAny&#34;</span><span class="op" id="74431">,</span>&nbsp;<span class="ident" id="74433">indexAnyTests</span><span class="op" id="74446">)</span>&nbsp;<span class="op" id="74448">}</span><br>
<span class="lineno"></span><span class="keyword" id="74450">func</span>&nbsp;<span class="ident" id="74455">TestLastIndexAny</span><span class="op" id="74471">(</span><span class="ident" id="74472">t</span>&nbsp;<span class="op" id="74474">*</span><span class="ident" id="74475">testing</span><span class="op" id="74482">.</span><span class="ident" id="74483">T</span><span class="op" id="74484">)</span>&nbsp;<span class="op" id="74486">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74489">runIndexAnyTests</span><span class="op" id="74505">(</span><span class="ident" id="74506">t</span><span class="op" id="74507">,</span>&nbsp;<span class="ident" id="74509">LastIndexAny</span><span class="op" id="74521">,</span>&nbsp;<span class="string" id="74523">&#34;LastIndexAny&#34;</span><span class="op" id="74537">,</span>&nbsp;<span class="ident" id="74539">lastIndexAnyTests</span><span class="op" id="74556">)</span><br>
<span class="lineno"></span><span class="op" id="74558">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">250</span><span class="keyword" id="74561">func</span>&nbsp;<span class="ident" id="74566">TestIndexByte</span><span class="op" id="74579">(</span><span class="ident" id="74580">t</span>&nbsp;<span class="op" id="74582">*</span><span class="ident" id="74583">testing</span><span class="op" id="74590">.</span><span class="ident" id="74591">T</span><span class="op" id="74592">)</span>&nbsp;<span class="op" id="74594">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="74597">for</span>&nbsp;<span class="ident" id="74601">_</span><span class="op" id="74602">,</span>&nbsp;<span class="ident" id="74604">tt</span>&nbsp;<span class="op" id="74607">:=</span>&nbsp;<span class="keyword" id="74610">range</span>&nbsp;<span class="ident" id="74616">indexTests</span>&nbsp;<span class="op" id="74627">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="74631">if</span>&nbsp;<span class="builtinfunc" id="74634">len</span><span class="op" id="74637">(</span><span class="ident" id="74638">tt</span><span class="op" id="74640">.</span><span class="ident" id="74641">b</span><span class="op" id="74642">)</span>&nbsp;<span class="op" id="74644">!=</span>&nbsp;<span class="num" id="74647">1</span>&nbsp;<span class="op" id="74649">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="74654">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="74665">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74669">a</span>&nbsp;<span class="op" id="74671">:=</span>&nbsp;<span class="op" id="74674">[</span><span class="op" id="74675">]</span><span class="builtintype" id="74676">byte</span><span class="op" id="74680">(</span><span class="ident" id="74681">tt</span><span class="op" id="74683">.</span><span class="ident" id="74684">a</span><span class="op" id="74685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74689">b</span>&nbsp;<span class="op" id="74691">:=</span>&nbsp;<span class="ident" id="74694">tt</span><span class="op" id="74696">.</span><span class="ident" id="74697">b</span><span class="op" id="74698">[</span><span class="num" id="74699">0</span><span class="op" id="74700">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74704">pos</span>&nbsp;<span class="op" id="74708">:=</span>&nbsp;<span class="ident" id="74711">IndexByte</span><span class="op" id="74720">(</span><span class="ident" id="74721">a</span><span class="op" id="74722">,</span>&nbsp;<span class="ident" id="74724">b</span><span class="op" id="74725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="74729">if</span>&nbsp;<span class="ident" id="74732">pos</span>&nbsp;<span class="op" id="74736">!=</span>&nbsp;<span class="ident" id="74739">tt</span><span class="op" id="74741">.</span><span class="ident" id="74742">i</span>&nbsp;<span class="op" id="74744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74749">t</span><span class="op" id="74750">.</span><span class="ident" id="74751">Errorf</span><span class="op" id="74757">(</span><span class="string" id="74758">`IndexByte(%q,&nbsp;&#39;%c&#39;)&nbsp;=&nbsp;%v`</span><span class="op" id="74784">,</span>&nbsp;<span class="ident" id="74786">tt</span><span class="op" id="74788">.</span><span class="ident" id="74789">a</span><span class="op" id="74790">,</span>&nbsp;<span class="ident" id="74792">b</span><span class="op" id="74793">,</span>&nbsp;<span class="ident" id="74795">pos</span><span class="op" id="74798">)</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="74802">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74806">posp</span>&nbsp;<span class="op" id="74811">:=</span>&nbsp;<span class="ident" id="74814">IndexBytePortable</span><span class="op" id="74831">(</span><span class="ident" id="74832">a</span><span class="op" id="74833">,</span>&nbsp;<span class="ident" id="74835">b</span><span class="op" id="74836">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="74840">if</span>&nbsp;<span class="ident" id="74843">posp</span>&nbsp;<span class="op" id="74848">!=</span>&nbsp;<span class="ident" id="74851">tt</span><span class="op" id="74853">.</span><span class="ident" id="74854">i</span>&nbsp;<span class="op" id="74856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="74861">t</span><span class="op" id="74862">.</span><span class="ident" id="74863">Errorf</span><span class="op" id="74869">(</span><span class="string" id="74870">`indexBytePortable(%q,&nbsp;&#39;%c&#39;)&nbsp;=&nbsp;%v`</span><span class="op" id="74904">,</span>&nbsp;<span class="ident" id="74906">tt</span><span class="op" id="74908">.</span><span class="ident" id="74909">a</span><span class="op" id="74910">,</span>&nbsp;<span class="ident" id="74912">b</span><span class="op" id="74913">,</span>&nbsp;<span class="ident" id="74915">posp</span><span class="op" id="74919">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="74923">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="74926">}</span><br>
<span class="lineno"></span><span class="op" id="74928">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="74931">//&nbsp;test&nbsp;a&nbsp;larger&nbsp;buffer&nbsp;with&nbsp;different&nbsp;sizes&nbsp;and&nbsp;alignments</span><br>
<span class="lineno"></span><span class="keyword" id="74991">func</span>&nbsp;<span class="ident" id="74996">TestIndexByteBig</span><span class="op" id="75012">(</span><span class="ident" id="75013">t</span>&nbsp;<span class="op" id="75015">*</span><span class="ident" id="75016">testing</span><span class="op" id="75023">.</span><span class="ident" id="75024">T</span><span class="op" id="75025">)</span>&nbsp;<span class="op" id="75027">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75030">var</span>&nbsp;<span class="ident" id="75034">n</span>&nbsp;<span class="op" id="75036">=</span>&nbsp;<span class="num" id="75038">1024</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75044">if</span>&nbsp;<span class="ident" id="75047">testing</span><span class="op" id="75054">.</span><span class="ident" id="75055">Short</span><span class="op" id="75060">(</span><span class="op" id="75061">)</span>&nbsp;<span class="op" id="75063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75067">n</span>&nbsp;<span class="op" id="75069">=</span>&nbsp;<span class="num" id="75071">128</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75076">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75079">b</span>&nbsp;<span class="op" id="75081">:=</span>&nbsp;<span class="builtinfunc" id="75084">make</span><span class="op" id="75088">(</span><span class="op" id="75089">[</span><span class="op" id="75090">]</span><span class="builtintype" id="75091">byte</span><span class="op" id="75095">,</span>&nbsp;<span class="ident" id="75097">n</span><span class="op" id="75098">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75101">for</span>&nbsp;<span class="ident" id="75105">i</span>&nbsp;<span class="op" id="75107">:=</span>&nbsp;<span class="num" id="75110">0</span><span class="op" id="75111">;</span>&nbsp;<span class="ident" id="75113">i</span>&nbsp;<span class="op" id="75115">&lt;</span>&nbsp;<span class="ident" id="75117">n</span><span class="op" id="75118">;</span>&nbsp;<span class="ident" id="75120">i</span><span class="op" id="75121">++</span>&nbsp;<span class="op" id="75124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="75128">//&nbsp;different&nbsp;start&nbsp;alignments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75160">b1</span>&nbsp;<span class="op" id="75163">:=</span>&nbsp;<span class="ident" id="75166">b</span><span class="op" id="75167">[</span><span class="ident" id="75168">i</span><span class="op" id="75169">:</span><span class="op" id="75170">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75174">for</span>&nbsp;<span class="ident" id="75178">j</span>&nbsp;<span class="op" id="75180">:=</span>&nbsp;<span class="num" id="75183">0</span><span class="op" id="75184">;</span>&nbsp;<span class="ident" id="75186">j</span>&nbsp;<span class="op" id="75188">&lt;</span>&nbsp;<span class="builtinfunc" id="75190">len</span><span class="op" id="75193">(</span><span class="ident" id="75194">b1</span><span class="op" id="75196">)</span><span class="op" id="75197">;</span>&nbsp;<span class="ident" id="75199">j</span><span class="op" id="75200">++</span>&nbsp;<span class="op" id="75203">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75208">b1</span><span class="op" id="75210">[</span><span class="ident" id="75211">j</span><span class="op" id="75212">]</span>&nbsp;<span class="op" id="75214">=</span>&nbsp;<span class="string" id="75216">&#39;x&#39;</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75223">pos</span>&nbsp;<span class="op" id="75227">:=</span>&nbsp;<span class="ident" id="75230">IndexByte</span><span class="op" id="75239">(</span><span class="ident" id="75240">b1</span><span class="op" id="75242">,</span>&nbsp;<span class="string" id="75244">&#39;x&#39;</span><span class="op" id="75247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75252">if</span>&nbsp;<span class="ident" id="75255">pos</span>&nbsp;<span class="op" id="75259">!=</span>&nbsp;<span class="ident" id="75262">j</span>&nbsp;<span class="op" id="75264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75270">t</span><span class="op" id="75271">.</span><span class="ident" id="75272">Errorf</span><span class="op" id="75278">(</span><span class="string" id="75279">&#34;IndexByte(%q,&nbsp;&#39;x&#39;)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="75304">,</span>&nbsp;<span class="ident" id="75306">b1</span><span class="op" id="75308">,</span>&nbsp;<span class="ident" id="75310">pos</span><span class="op" id="75313">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75318">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75323">b1</span><span class="op" id="75325">[</span><span class="ident" id="75326">j</span><span class="op" id="75327">]</span>&nbsp;<span class="op" id="75329">=</span>&nbsp;<span class="num" id="75331">0</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75336">pos</span>&nbsp;<span class="op" id="75340">=</span>&nbsp;<span class="ident" id="75342">IndexByte</span><span class="op" id="75351">(</span><span class="ident" id="75352">b1</span><span class="op" id="75354">,</span>&nbsp;<span class="string" id="75356">&#39;x&#39;</span><span class="op" id="75359">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75364">if</span>&nbsp;<span class="ident" id="75367">pos</span>&nbsp;<span class="op" id="75371">!=</span>&nbsp;<span class="op" id="75374">-</span><span class="num" id="75375">1</span>&nbsp;<span class="op" id="75377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75383">t</span><span class="op" id="75384">.</span><span class="ident" id="75385">Errorf</span><span class="op" id="75391">(</span><span class="string" id="75392">&#34;IndexByte(%q,&nbsp;&#39;x&#39;)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="75417">,</span>&nbsp;<span class="ident" id="75419">b1</span><span class="op" id="75421">,</span>&nbsp;<span class="ident" id="75423">pos</span><span class="op" id="75426">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75431">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75435">}</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="75439">//&nbsp;different&nbsp;end&nbsp;alignments</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75469">b1</span>&nbsp;<span class="op" id="75472">=</span>&nbsp;<span class="ident" id="75474">b</span><span class="op" id="75475">[</span><span class="op" id="75476">:</span><span class="ident" id="75477">i</span><span class="op" id="75478">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75482">for</span>&nbsp;<span class="ident" id="75486">j</span>&nbsp;<span class="op" id="75488">:=</span>&nbsp;<span class="num" id="75491">0</span><span class="op" id="75492">;</span>&nbsp;<span class="ident" id="75494">j</span>&nbsp;<span class="op" id="75496">&lt;</span>&nbsp;<span class="builtinfunc" id="75498">len</span><span class="op" id="75501">(</span><span class="ident" id="75502">b1</span><span class="op" id="75504">)</span><span class="op" id="75505">;</span>&nbsp;<span class="ident" id="75507">j</span><span class="op" id="75508">++</span>&nbsp;<span class="op" id="75511">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75516">b1</span><span class="op" id="75518">[</span><span class="ident" id="75519">j</span><span class="op" id="75520">]</span>&nbsp;<span class="op" id="75522">=</span>&nbsp;<span class="string" id="75524">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75531">pos</span>&nbsp;<span class="op" id="75535">:=</span>&nbsp;<span class="ident" id="75538">IndexByte</span><span class="op" id="75547">(</span><span class="ident" id="75548">b1</span><span class="op" id="75550">,</span>&nbsp;<span class="string" id="75552">&#39;x&#39;</span><span class="op" id="75555">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75560">if</span>&nbsp;<span class="ident" id="75563">pos</span>&nbsp;<span class="op" id="75567">!=</span>&nbsp;<span class="ident" id="75570">j</span>&nbsp;<span class="op" id="75572">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75578">t</span><span class="op" id="75579">.</span><span class="ident" id="75580">Errorf</span><span class="op" id="75586">(</span><span class="string" id="75587">&#34;IndexByte(%q,&nbsp;&#39;x&#39;)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="75612">,</span>&nbsp;<span class="ident" id="75614">b1</span><span class="op" id="75616">,</span>&nbsp;<span class="ident" id="75618">pos</span><span class="op" id="75621">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75626">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75631">b1</span><span class="op" id="75633">[</span><span class="ident" id="75634">j</span><span class="op" id="75635">]</span>&nbsp;<span class="op" id="75637">=</span>&nbsp;<span class="num" id="75639">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75644">pos</span>&nbsp;<span class="op" id="75648">=</span>&nbsp;<span class="ident" id="75650">IndexByte</span><span class="op" id="75659">(</span><span class="ident" id="75660">b1</span><span class="op" id="75662">,</span>&nbsp;<span class="string" id="75664">&#39;x&#39;</span><span class="op" id="75667">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75672">if</span>&nbsp;<span class="ident" id="75675">pos</span>&nbsp;<span class="op" id="75679">!=</span>&nbsp;<span class="op" id="75682">-</span><span class="num" id="75683">1</span>&nbsp;<span class="op" id="75685">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75691">t</span><span class="op" id="75692">.</span><span class="ident" id="75693">Errorf</span><span class="op" id="75699">(</span><span class="string" id="75700">&#34;IndexByte(%q,&nbsp;&#39;x&#39;)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="75725">,</span>&nbsp;<span class="ident" id="75727">b1</span><span class="op" id="75729">,</span>&nbsp;<span class="ident" id="75731">pos</span><span class="op" id="75734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="75747">//&nbsp;different&nbsp;start&nbsp;and&nbsp;end&nbsp;alignments</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75787">b1</span>&nbsp;<span class="op" id="75790">=</span>&nbsp;<span class="ident" id="75792">b</span><span class="op" id="75793">[</span><span class="ident" id="75794">i</span><span class="op" id="75795">/</span><span class="num" id="75796">2</span>&nbsp;<span class="op" id="75798">:</span>&nbsp;<span class="ident" id="75800">n</span><span class="op" id="75801">-</span><span class="op" id="75802">(</span><span class="ident" id="75803">i</span><span class="op" id="75804">+</span><span class="num" id="75805">1</span><span class="op" id="75806">)</span><span class="op" id="75807">/</span><span class="num" id="75808">2</span><span class="op" id="75809">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75813">for</span>&nbsp;<span class="ident" id="75817">j</span>&nbsp;<span class="op" id="75819">:=</span>&nbsp;<span class="num" id="75822">0</span><span class="op" id="75823">;</span>&nbsp;<span class="ident" id="75825">j</span>&nbsp;<span class="op" id="75827">&lt;</span>&nbsp;<span class="builtinfunc" id="75829">len</span><span class="op" id="75832">(</span><span class="ident" id="75833">b1</span><span class="op" id="75835">)</span><span class="op" id="75836">;</span>&nbsp;<span class="ident" id="75838">j</span><span class="op" id="75839">++</span>&nbsp;<span class="op" id="75842">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75847">b1</span><span class="op" id="75849">[</span><span class="ident" id="75850">j</span><span class="op" id="75851">]</span>&nbsp;<span class="op" id="75853">=</span>&nbsp;<span class="string" id="75855">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75862">pos</span>&nbsp;<span class="op" id="75866">:=</span>&nbsp;<span class="ident" id="75869">IndexByte</span><span class="op" id="75878">(</span><span class="ident" id="75879">b1</span><span class="op" id="75881">,</span>&nbsp;<span class="string" id="75883">&#39;x&#39;</span><span class="op" id="75886">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="75891">if</span>&nbsp;<span class="ident" id="75894">pos</span>&nbsp;<span class="op" id="75898">!=</span>&nbsp;<span class="ident" id="75901">j</span>&nbsp;<span class="op" id="75903">{</span><br>
<span class="lineno">310</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75909">t</span><span class="op" id="75910">.</span><span class="ident" id="75911">Errorf</span><span class="op" id="75917">(</span><span class="string" id="75918">&#34;IndexByte(%q,&nbsp;&#39;x&#39;)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="75943">,</span>&nbsp;<span class="ident" id="75945">b1</span><span class="op" id="75947">,</span>&nbsp;<span class="ident" id="75949">pos</span><span class="op" id="75952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="75957">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75962">b1</span><span class="op" id="75964">[</span><span class="ident" id="75965">j</span><span class="op" id="75966">]</span>&nbsp;<span class="op" id="75968">=</span>&nbsp;<span class="num" id="75970">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="75975">pos</span>&nbsp;<span class="op" id="75979">=</span>&nbsp;<span class="ident" id="75981">IndexByte</span><span class="op" id="75990">(</span><span class="ident" id="75991">b1</span><span class="op" id="75993">,</span>&nbsp;<span class="string" id="75995">&#39;x&#39;</span><span class="op" id="75998">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="76003">if</span>&nbsp;<span class="ident" id="76006">pos</span>&nbsp;<span class="op" id="76010">!=</span>&nbsp;<span class="op" id="76013">-</span><span class="num" id="76014">1</span>&nbsp;<span class="op" id="76016">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="76022">t</span><span class="op" id="76023">.</span><span class="ident" id="76024">Errorf</span><span class="op" id="76030">(</span><span class="string" id="76031">&#34;IndexByte(%q,&nbsp;&#39;x&#39;)&nbsp;=&nbsp;%v&#34;</span><span class="op" id="76056">,</span>&nbsp;<span class="ident" id="76058">b1</span><span class="op" id="76060">,</span>&nbsp;<span class="ident" id="76062">pos</span><span class="op" id="76065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="76070">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="76074">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="76077">}</span><br>
<span class="lineno"></span><span class="op" id="76079">}</span><br>
<span class="lineno">320</span><br>
<span class="lineno"></span><span class="keyword" id="76082">func</span>&nbsp;<span class="ident" id="76087">TestIndexRune</span><span class="op" id="76100">(</span><span class="ident" id="76101">t</span>&nbsp;<span class="op" id="76103">*</span><span class="ident" id="76104">testing</span><span class="op" id="76111">.</span><span class="ident" id="76112">T</span><span class="op" id="76113">)</span>&nbsp;<span class="op" id="76115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="76118">for</span>&nbsp;<span class="ident" id="76122">_</span><span class="op" id="76123">,</span>&nbsp;<span class="ident" id="76125">tt</span>&nbsp;<span class="op" id="76128">:=</span>&nbsp;<span class="keyword" id="76131">range</span>&nbsp;<span class="ident" id="76137">indexRuneTests</span>&nbsp;<span class="op" id="76152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="76156">a</span>&nbsp;<span class="op" id="76158">:=</span>&nbsp;<span class="op" id="76161">[</span><span class="op" id="76162">]</span><span class="builtintype" id="76163">byte</span><span class="op" id="76167">(</span><span class="ident" id="76168">tt</span><span class="op" id="76170">.</span><span class="ident" id="76171">a</span><span class="op" id="76172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="76176">r</span><span class="op" id="76177">,</span>&nbsp;<span class="ident" id="76179">_</span>&nbsp;<span class="op" id="76181">:=</span>&nbsp;<span class="ident" id="76184">utf8</span><span class="op" id="76188">.</span><span class="ident" id="76189">DecodeRuneInString</span><span class="op" id="76207">(</span><span class="ident" id="76208">tt</span><span class="op" id="76210">.</span><span class="ident" id="76211">b</span><span class="op" id="76212">)</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="76216">pos</span>&nbsp;<span class="op" id="76220">:=</span>&nbsp;<span class="ident" id="76223">IndexRune</span><span class="op" id="76232">(</span><span class="ident" id="76233">a</span><span class="op" id="76234">,</span>&nbsp;<span class="ident" id="76236">r</span><span class="op" id="76237">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="76241">if</span>&nbsp;<span class="ident" id="76244">pos</span>&nbsp;<span class="op" id="76248">!=</span>&nbsp;<span class="ident" id="76251">tt</span><span class="op" id="76253">.</span><span class="ident" id="76254">i</span>&nbsp;<span class="op" id="76256">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="76261">t</span><span class="op" id="76262">.</span><span class="ident" id="76263">Errorf</span><span class="op" id="76269">(</span><span class="string" id="76270">`IndexRune(%q,&nbsp;&#39;%c&#39;)&nbsp;=&nbsp;%v`</span><span class="op" id="76296">,</span>&nbsp;<span class="ident" id="76298">tt</span><span class="op" id="76300">.</span><span class="ident" id="76301">a</span><span class="op" id="76302">,</span>&nbsp;<span class="ident" id="76304">r</span><span class="op" id="76305">,</span>&nbsp;<span class="ident" id="76307">pos</span><span class="op" id="76310">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="76314">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="76317">}</span><br>
<span class="lineno">330</span><span class="op" id="76319">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="76322">var</span>&nbsp;<span class="ident" id="76326">bmbuf</span>&nbsp;<span class="op" id="76332">[</span><span class="op" id="76333">]</span><span class="builtintype" id="76334">byte</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="76340">func</span>&nbsp;<span class="ident" id="76345">BenchmarkIndexByte32</span><span class="op" id="76365">(</span><span class="ident" id="76366">b</span>&nbsp;<span class="op" id="76368">*</span><span class="ident" id="76369">testing</span><span class="op" id="76376">.</span><span class="ident" id="76377">B</span><span class="op" id="76378">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="76389">{</span>&nbsp;<span class="ident" id="76391">bmIndexByte</span><span class="op" id="76402">(</span><span class="ident" id="76403">b</span><span class="op" id="76404">,</span>&nbsp;<span class="ident" id="76406">IndexByte</span><span class="op" id="76415">,</span>&nbsp;<span class="num" id="76417">32</span><span class="op" id="76419">)</span>&nbsp;<span class="op" id="76421">}</span><br>
<span class="lineno">335</span><span class="keyword" id="76423">func</span>&nbsp;<span class="ident" id="76428">BenchmarkIndexByte4K</span><span class="op" id="76448">(</span><span class="ident" id="76449">b</span>&nbsp;<span class="op" id="76451">*</span><span class="ident" id="76452">testing</span><span class="op" id="76459">.</span><span class="ident" id="76460">B</span><span class="op" id="76461">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="76472">{</span>&nbsp;<span class="ident" id="76474">bmIndexByte</span><span class="op" id="76485">(</span><span class="ident" id="76486">b</span><span class="op" id="76487">,</span>&nbsp;<span class="ident" id="76489">IndexByte</span><span class="op" id="76498">,</span>&nbsp;<span class="num" id="76500">4</span><span class="op" id="76501">&lt;&lt;</span><span class="num" id="76503">10</span><span class="op" id="76505">)</span>&nbsp;<span class="op" id="76507">}</span><br>
<span class="lineno"></span><span class="keyword" id="76509">func</span>&nbsp;<span class="ident" id="76514">BenchmarkIndexByte4M</span><span class="op" id="76534">(</span><span class="ident" id="76535">b</span>&nbsp;<span class="op" id="76537">*</span><span class="ident" id="76538">testing</span><span class="op" id="76545">.</span><span class="ident" id="76546">B</span><span class="op" id="76547">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="76558">{</span>&nbsp;<span class="ident" id="76560">bmIndexByte</span><span class="op" id="76571">(</span><span class="ident" id="76572">b</span><span class="op" id="76573">,</span>&nbsp;<span class="ident" id="76575">IndexByte</span><span class="op" id="76584">,</span>&nbsp;<span class="num" id="76586">4</span><span class="op" id="76587">&lt;&lt;</span><span class="num" id="76589">20</span><span class="op" id="76591">)</span>&nbsp;<span class="op" id="76593">}</span><br>
<span class="lineno"></span><span class="keyword" id="76595">func</span>&nbsp;<span class="ident" id="76600">BenchmarkIndexByte64M</span><span class="op" id="76621">(</span><span class="ident" id="76622">b</span>&nbsp;<span class="op" id="76624">*</span><span class="ident" id="76625">testing</span><span class="op" id="76632">.</span><span class="ident" id="76633">B</span><span class="op" id="76634">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="76644">{</span>&nbsp;<span class="ident" id="76646">bmIndexByte</span><span class="op" id="76657">(</span><span class="ident" id="76658">b</span><span class="op" id="76659">,</span>&nbsp;<span class="ident" id="76661">IndexByte</span><span class="op" id="76670">,</span>&nbsp;<span class="num" id="76672">64</span><span class="op" id="76674">&lt;&lt;</span><span class="num" id="76676">20</span><span class="op" id="76678">)</span>&nbsp;<span class="op" id="76680">}</span><br>
<span class="lineno"></span><span class="keyword" id="76682">func</span>&nbsp;<span class="ident" id="76687">BenchmarkIndexBytePortable32</span><span class="op" id="76715">(</span><span class="ident" id="76716">b</span>&nbsp;<span class="op" id="76718">*</span><span class="ident" id="76719">testing</span><span class="op" id="76726">.</span><span class="ident" id="76727">B</span><span class="op" id="76728">)</span>&nbsp;&nbsp;<span class="op" id="76731">{</span>&nbsp;<span class="ident" id="76733">bmIndexByte</span><span class="op" id="76744">(</span><span class="ident" id="76745">b</span><span class="op" id="76746">,</span>&nbsp;<span class="ident" id="76748">IndexBytePortable</span><span class="op" id="76765">,</span>&nbsp;<span class="num" id="76767">32</span><span class="op" id="76769">)</span>&nbsp;<span class="op" id="76771">}</span><br>
<span class="lineno"></span><span class="keyword" id="76773">func</span>&nbsp;<span class="ident" id="76778">BenchmarkIndexBytePortable4K</span><span class="op" id="76806">(</span><span class="ident" id="76807">b</span>&nbsp;<span class="op" id="76809">*</span><span class="ident" id="76810">testing</span><span class="op" id="76817">.</span><span class="ident" id="76818">B</span><span class="op" id="76819">)</span>&nbsp;&nbsp;<span class="op" id="76822">{</span>&nbsp;<span class="ident" id="76824">bmIndexByte</span><span class="op" id="76835">(</span><span class="ident" id="76836">b</span><span class="op" id="76837">,</span>&nbsp;<span class="ident" id="76839">IndexBytePortable</span><span class="op" id="76856">,</span>&nbsp;<span class="num" id="76858">4</span><span class="op" id="76859">&lt;&lt;</span><span class="num" id="76861">10</span><span class="op" id="76863">)</span>&nbsp;<span class="op" id="76865">}</span><br>
<span class="lineno">340</span><span class="keyword" id="76867">func</span>&nbsp;<span class="ident" id="76872">BenchmarkIndexBytePortable4M</span><span class="op" id="76900">(</span><span class="ident" id="76901">b</span>&nbsp;<span class="op" id="76903">*</span><span class="ident" id="76904">testing</span><span class="op" id="76911">.</span><span class="ident" id="76912">B</span><span class="op" id="76913">)</span>&nbsp;&nbsp;<span class="op" id="76916">{</span>&nbsp;<span class="ident" id="76918">bmIndexByte</span><span class="op" id="76929">(</span><span class="ident" id="76930">b</span><span class="op" id="76931">,</span>&nbsp;<span class="ident" id="76933">IndexBytePortable</span><span class="op" id="76950">,</span>&nbsp;<span class="num" id="76952">4</span><span class="op" id="76953">&lt;&lt;</span><span class="num" id="76955">20</span><span class="op" id="76957">)</span>&nbsp;<span class="op" id="76959">}</span><br>
<span class="lineno"></span><span class="keyword" id="76961">func</span>&nbsp;<span class="ident" id="76966">BenchmarkIndexBytePortable64M</span><span class="op" id="76995">(</span><span class="ident" id="76996">b</span>&nbsp;<span class="op" id="76998">*</span><span class="ident" id="76999">testing</span><span class="op" id="77006">.</span><span class="ident" id="77007">B</span><span class="op" id="77008">)</span>&nbsp;<span class="op" id="77010">{</span>&nbsp;<span class="ident" id="77012">bmIndexByte</span><span class="op" id="77023">(</span><span class="ident" id="77024">b</span><span class="op" id="77025">,</span>&nbsp;<span class="ident" id="77027">IndexBytePortable</span><span class="op" id="77044">,</span>&nbsp;<span class="num" id="77046">64</span><span class="op" id="77048">&lt;&lt;</span><span class="num" id="77050">20</span><span class="op" id="77052">)</span>&nbsp;<span class="op" id="77054">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="77057">func</span>&nbsp;<span class="ident" id="77062">bmIndexByte</span><span class="op" id="77073">(</span><span class="ident" id="77074">b</span>&nbsp;<span class="op" id="77076">*</span><span class="ident" id="77077">testing</span><span class="op" id="77084">.</span><span class="ident" id="77085">B</span><span class="op" id="77086">,</span>&nbsp;<span class="ident" id="77088">index</span>&nbsp;<span class="keyword" id="77094">func</span><span class="op" id="77098">(</span><span class="op" id="77099">[</span><span class="op" id="77100">]</span><span class="builtintype" id="77101">byte</span><span class="op" id="77105">,</span>&nbsp;<span class="builtintype" id="77107">byte</span><span class="op" id="77111">)</span>&nbsp;<span class="builtintype" id="77113">int</span><span class="op" id="77116">,</span>&nbsp;<span class="ident" id="77118">n</span>&nbsp;<span class="builtintype" id="77120">int</span><span class="op" id="77123">)</span>&nbsp;<span class="op" id="77125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="77128">if</span>&nbsp;<span class="builtinfunc" id="77131">len</span><span class="op" id="77134">(</span><span class="ident" id="77135">bmbuf</span><span class="op" id="77140">)</span>&nbsp;<span class="op" id="77142">&lt;</span>&nbsp;<span class="ident" id="77144">n</span>&nbsp;<span class="op" id="77146">{</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77150">bmbuf</span>&nbsp;<span class="op" id="77156">=</span>&nbsp;<span class="builtinfunc" id="77158">make</span><span class="op" id="77162">(</span><span class="op" id="77163">[</span><span class="op" id="77164">]</span><span class="builtintype" id="77165">byte</span><span class="op" id="77169">,</span>&nbsp;<span class="ident" id="77171">n</span><span class="op" id="77172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="77175">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77178">b</span><span class="op" id="77179">.</span><span class="ident" id="77180">SetBytes</span><span class="op" id="77188">(</span><span class="ident" id="77189">int64</span><span class="op" id="77194">(</span><span class="ident" id="77195">n</span><span class="op" id="77196">)</span><span class="op" id="77197">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77200">buf</span>&nbsp;<span class="op" id="77204">:=</span>&nbsp;<span class="ident" id="77207">bmbuf</span><span class="op" id="77212">[</span><span class="num" id="77213">0</span><span class="op" id="77214">:</span><span class="ident" id="77215">n</span><span class="op" id="77216">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77219">buf</span><span class="op" id="77222">[</span><span class="ident" id="77223">n</span><span class="op" id="77224">-</span><span class="num" id="77225">1</span><span class="op" id="77226">]</span>&nbsp;<span class="op" id="77228">=</span>&nbsp;<span class="string" id="77230">&#39;x&#39;</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="77235">for</span>&nbsp;<span class="ident" id="77239">i</span>&nbsp;<span class="op" id="77241">:=</span>&nbsp;<span class="num" id="77244">0</span><span class="op" id="77245">;</span>&nbsp;<span class="ident" id="77247">i</span>&nbsp;<span class="op" id="77249">&lt;</span>&nbsp;<span class="ident" id="77251">b</span><span class="op" id="77252">.</span><span class="ident" id="77253">N</span><span class="op" id="77254">;</span>&nbsp;<span class="ident" id="77256">i</span><span class="op" id="77257">++</span>&nbsp;<span class="op" id="77260">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77264">j</span>&nbsp;<span class="op" id="77266">:=</span>&nbsp;<span class="ident" id="77269">index</span><span class="op" id="77274">(</span><span class="ident" id="77275">buf</span><span class="op" id="77278">,</span>&nbsp;<span class="string" id="77280">&#39;x&#39;</span><span class="op" id="77283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="77287">if</span>&nbsp;<span class="ident" id="77290">j</span>&nbsp;<span class="op" id="77292">!=</span>&nbsp;<span class="ident" id="77295">n</span><span class="op" id="77296">-</span><span class="num" id="77297">1</span>&nbsp;<span class="op" id="77299">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77304">b</span><span class="op" id="77305">.</span><span class="ident" id="77306">Fatal</span><span class="op" id="77311">(</span><span class="string" id="77312">&#34;bad&nbsp;index&#34;</span><span class="op" id="77323">,</span>&nbsp;<span class="ident" id="77325">j</span><span class="op" id="77326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="77330">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="77333">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77336">buf</span><span class="op" id="77339">[</span><span class="ident" id="77340">n</span><span class="op" id="77341">-</span><span class="num" id="77342">1</span><span class="op" id="77343">]</span>&nbsp;<span class="op" id="77345">=</span>&nbsp;<span class="string" id="77347">&#39;\x00&#39;</span><br>
<span class="lineno"></span><span class="op" id="77354">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="77357">func</span>&nbsp;<span class="ident" id="77362">BenchmarkEqual0</span><span class="op" id="77377">(</span><span class="ident" id="77378">b</span>&nbsp;<span class="op" id="77380">*</span><span class="ident" id="77381">testing</span><span class="op" id="77388">.</span><span class="ident" id="77389">B</span><span class="op" id="77390">)</span>&nbsp;<span class="op" id="77392">{</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="77395">var</span>&nbsp;<span class="ident" id="77399">buf</span>&nbsp;<span class="op" id="77403">[</span><span class="num" id="77404">4</span><span class="op" id="77405">]</span><span class="builtintype" id="77406">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77412">buf1</span>&nbsp;<span class="op" id="77417">:=</span>&nbsp;<span class="ident" id="77420">buf</span><span class="op" id="77423">[</span><span class="num" id="77424">0</span><span class="op" id="77425">:</span><span class="num" id="77426">0</span><span class="op" id="77427">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77430">buf2</span>&nbsp;<span class="op" id="77435">:=</span>&nbsp;<span class="ident" id="77438">buf</span><span class="op" id="77441">[</span><span class="num" id="77442">1</span><span class="op" id="77443">:</span><span class="num" id="77444">1</span><span class="op" id="77445">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="77448">for</span>&nbsp;<span class="ident" id="77452">i</span>&nbsp;<span class="op" id="77454">:=</span>&nbsp;<span class="num" id="77457">0</span><span class="op" id="77458">;</span>&nbsp;<span class="ident" id="77460">i</span>&nbsp;<span class="op" id="77462">&lt;</span>&nbsp;<span class="ident" id="77464">b</span><span class="op" id="77465">.</span><span class="ident" id="77466">N</span><span class="op" id="77467">;</span>&nbsp;<span class="ident" id="77469">i</span><span class="op" id="77470">++</span>&nbsp;<span class="op" id="77473">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77477">eq</span>&nbsp;<span class="op" id="77480">:=</span>&nbsp;<span class="ident" id="77483">Equal</span><span class="op" id="77488">(</span><span class="ident" id="77489">buf1</span><span class="op" id="77493">,</span>&nbsp;<span class="ident" id="77495">buf2</span><span class="op" id="77499">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="77503">if</span>&nbsp;<span class="op" id="77506">!</span><span class="ident" id="77507">eq</span>&nbsp;<span class="op" id="77510">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="77515">b</span><span class="op" id="77516">.</span><span class="ident" id="77517">Fatal</span><span class="op" id="77522">(</span><span class="string" id="77523">&#34;bad&nbsp;equal&#34;</span><span class="op" id="77534">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="77538">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="77541">}</span><br>
<span class="lineno"></span><span class="op" id="77543">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span><span class="keyword" id="77546">func</span>&nbsp;<span class="ident" id="77551">BenchmarkEqual1</span><span class="op" id="77566">(</span><span class="ident" id="77567">b</span>&nbsp;<span class="op" id="77569">*</span><span class="ident" id="77570">testing</span><span class="op" id="77577">.</span><span class="ident" id="77578">B</span><span class="op" id="77579">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="77591">{</span>&nbsp;<span class="ident" id="77593">bmEqual</span><span class="op" id="77600">(</span><span class="ident" id="77601">b</span><span class="op" id="77602">,</span>&nbsp;<span class="ident" id="77604">Equal</span><span class="op" id="77609">,</span>&nbsp;<span class="num" id="77611">1</span><span class="op" id="77612">)</span>&nbsp;<span class="op" id="77614">}</span><br>
<span class="lineno"></span><span class="keyword" id="77616">func</span>&nbsp;<span class="ident" id="77621">BenchmarkEqual6</span><span class="op" id="77636">(</span><span class="ident" id="77637">b</span>&nbsp;<span class="op" id="77639">*</span><span class="ident" id="77640">testing</span><span class="op" id="77647">.</span><span class="ident" id="77648">B</span><span class="op" id="77649">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="77661">{</span>&nbsp;<span class="ident" id="77663">bmEqual</span><span class="op" id="77670">(</span><span class="ident" id="77671">b</span><span class="op" id="77672">,</span>&nbsp;<span class="ident" id="77674">Equal</span><span class="op" id="77679">,</span>&nbsp;<span class="num" id="77681">6</span><span class="op" id="77682">)</span>&nbsp;<span class="op" id="77684">}</span><br>
<span class="lineno"></span><span class="keyword" id="77686">func</span>&nbsp;<span class="ident" id="77691">BenchmarkEqual9</span><span class="op" id="77706">(</span><span class="ident" id="77707">b</span>&nbsp;<span class="op" id="77709">*</span><span class="ident" id="77710">testing</span><span class="op" id="77717">.</span><span class="ident" id="77718">B</span><span class="op" id="77719">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="77731">{</span>&nbsp;<span class="ident" id="77733">bmEqual</span><span class="op" id="77740">(</span><span class="ident" id="77741">b</span><span class="op" id="77742">,</span>&nbsp;<span class="ident" id="77744">Equal</span><span class="op" id="77749">,</span>&nbsp;<span class="num" id="77751">9</span><span class="op" id="77752">)</span>&nbsp;<span class="op" id="77754">}</span><br>
<span class="lineno"></span><span class="keyword" id="77756">func</span>&nbsp;<span class="ident" id="77761">BenchmarkEqual15</span><span class="op" id="77777">(</span><span class="ident" id="77778">b</span>&nbsp;<span class="op" id="77780">*</span><span class="ident" id="77781">testing</span><span class="op" id="77788">.</span><span class="ident" id="77789">B</span><span class="op" id="77790">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="77801">{</span>&nbsp;<span class="ident" id="77803">bmEqual</span><span class="op" id="77810">(</span><span class="ident" id="77811">b</span><span class="op" id="77812">,</span>&nbsp;<span class="ident" id="77814">Equal</span><span class="op" id="77819">,</span>&nbsp;<span class="num" id="77821">15</span><span class="op" id="77823">)</span>&nbsp;<span class="op" id="77825">}</span><br>
<span class="lineno">375</span><span class="keyword" id="77827">func</span>&nbsp;<span class="ident" id="77832">BenchmarkEqual16</span><span class="op" id="77848">(</span><span class="ident" id="77849">b</span>&nbsp;<span class="op" id="77851">*</span><span class="ident" id="77852">testing</span><span class="op" id="77859">.</span><span class="ident" id="77860">B</span><span class="op" id="77861">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="77872">{</span>&nbsp;<span class="ident" id="77874">bmEqual</span><span class="op" id="77881">(</span><span class="ident" id="77882">b</span><span class="op" id="77883">,</span>&nbsp;<span class="ident" id="77885">Equal</span><span class="op" id="77890">,</span>&nbsp;<span class="num" id="77892">16</span><span class="op" id="77894">)</span>&nbsp;<span class="op" id="77896">}</span><br>
<span class="lineno"></span><span class="keyword" id="77898">func</span>&nbsp;<span class="ident" id="77903">BenchmarkEqual20</span><span class="op" id="77919">(</span><span class="ident" id="77920">b</span>&nbsp;<span class="op" id="77922">*</span><span class="ident" id="77923">testing</span><span class="op" id="77930">.</span><span class="ident" id="77931">B</span><span class="op" id="77932">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="77943">{</span>&nbsp;<span class="ident" id="77945">bmEqual</span><span class="op" id="77952">(</span><span class="ident" id="77953">b</span><span class="op" id="77954">,</span>&nbsp;<span class="ident" id="77956">Equal</span><span class="op" id="77961">,</span>&nbsp;<span class="num" id="77963">20</span><span class="op" id="77965">)</span>&nbsp;<span class="op" id="77967">}</span><br>
<span class="lineno"></span><span class="keyword" id="77969">func</span>&nbsp;<span class="ident" id="77974">BenchmarkEqual32</span><span class="op" id="77990">(</span><span class="ident" id="77991">b</span>&nbsp;<span class="op" id="77993">*</span><span class="ident" id="77994">testing</span><span class="op" id="78001">.</span><span class="ident" id="78002">B</span><span class="op" id="78003">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78014">{</span>&nbsp;<span class="ident" id="78016">bmEqual</span><span class="op" id="78023">(</span><span class="ident" id="78024">b</span><span class="op" id="78025">,</span>&nbsp;<span class="ident" id="78027">Equal</span><span class="op" id="78032">,</span>&nbsp;<span class="num" id="78034">32</span><span class="op" id="78036">)</span>&nbsp;<span class="op" id="78038">}</span><br>
<span class="lineno"></span><span class="keyword" id="78040">func</span>&nbsp;<span class="ident" id="78045">BenchmarkEqual4K</span><span class="op" id="78061">(</span><span class="ident" id="78062">b</span>&nbsp;<span class="op" id="78064">*</span><span class="ident" id="78065">testing</span><span class="op" id="78072">.</span><span class="ident" id="78073">B</span><span class="op" id="78074">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78085">{</span>&nbsp;<span class="ident" id="78087">bmEqual</span><span class="op" id="78094">(</span><span class="ident" id="78095">b</span><span class="op" id="78096">,</span>&nbsp;<span class="ident" id="78098">Equal</span><span class="op" id="78103">,</span>&nbsp;<span class="num" id="78105">4</span><span class="op" id="78106">&lt;&lt;</span><span class="num" id="78108">10</span><span class="op" id="78110">)</span>&nbsp;<span class="op" id="78112">}</span><br>
<span class="lineno"></span><span class="keyword" id="78114">func</span>&nbsp;<span class="ident" id="78119">BenchmarkEqual4M</span><span class="op" id="78135">(</span><span class="ident" id="78136">b</span>&nbsp;<span class="op" id="78138">*</span><span class="ident" id="78139">testing</span><span class="op" id="78146">.</span><span class="ident" id="78147">B</span><span class="op" id="78148">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78159">{</span>&nbsp;<span class="ident" id="78161">bmEqual</span><span class="op" id="78168">(</span><span class="ident" id="78169">b</span><span class="op" id="78170">,</span>&nbsp;<span class="ident" id="78172">Equal</span><span class="op" id="78177">,</span>&nbsp;<span class="num" id="78179">4</span><span class="op" id="78180">&lt;&lt;</span><span class="num" id="78182">20</span><span class="op" id="78184">)</span>&nbsp;<span class="op" id="78186">}</span><br>
<span class="lineno">380</span><span class="keyword" id="78188">func</span>&nbsp;<span class="ident" id="78193">BenchmarkEqual64M</span><span class="op" id="78210">(</span><span class="ident" id="78211">b</span>&nbsp;<span class="op" id="78213">*</span><span class="ident" id="78214">testing</span><span class="op" id="78221">.</span><span class="ident" id="78222">B</span><span class="op" id="78223">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78233">{</span>&nbsp;<span class="ident" id="78235">bmEqual</span><span class="op" id="78242">(</span><span class="ident" id="78243">b</span><span class="op" id="78244">,</span>&nbsp;<span class="ident" id="78246">Equal</span><span class="op" id="78251">,</span>&nbsp;<span class="num" id="78253">64</span><span class="op" id="78255">&lt;&lt;</span><span class="num" id="78257">20</span><span class="op" id="78259">)</span>&nbsp;<span class="op" id="78261">}</span><br>
<span class="lineno"></span><span class="keyword" id="78263">func</span>&nbsp;<span class="ident" id="78268">BenchmarkEqualPort1</span><span class="op" id="78287">(</span><span class="ident" id="78288">b</span>&nbsp;<span class="op" id="78290">*</span><span class="ident" id="78291">testing</span><span class="op" id="78298">.</span><span class="ident" id="78299">B</span><span class="op" id="78300">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78308">{</span>&nbsp;<span class="ident" id="78310">bmEqual</span><span class="op" id="78317">(</span><span class="ident" id="78318">b</span><span class="op" id="78319">,</span>&nbsp;<span class="ident" id="78321">EqualPortable</span><span class="op" id="78334">,</span>&nbsp;<span class="num" id="78336">1</span><span class="op" id="78337">)</span>&nbsp;<span class="op" id="78339">}</span><br>
<span class="lineno"></span><span class="keyword" id="78341">func</span>&nbsp;<span class="ident" id="78346">BenchmarkEqualPort6</span><span class="op" id="78365">(</span><span class="ident" id="78366">b</span>&nbsp;<span class="op" id="78368">*</span><span class="ident" id="78369">testing</span><span class="op" id="78376">.</span><span class="ident" id="78377">B</span><span class="op" id="78378">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78386">{</span>&nbsp;<span class="ident" id="78388">bmEqual</span><span class="op" id="78395">(</span><span class="ident" id="78396">b</span><span class="op" id="78397">,</span>&nbsp;<span class="ident" id="78399">EqualPortable</span><span class="op" id="78412">,</span>&nbsp;<span class="num" id="78414">6</span><span class="op" id="78415">)</span>&nbsp;<span class="op" id="78417">}</span><br>
<span class="lineno"></span><span class="keyword" id="78419">func</span>&nbsp;<span class="ident" id="78424">BenchmarkEqualPort32</span><span class="op" id="78444">(</span><span class="ident" id="78445">b</span>&nbsp;<span class="op" id="78447">*</span><span class="ident" id="78448">testing</span><span class="op" id="78455">.</span><span class="ident" id="78456">B</span><span class="op" id="78457">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78464">{</span>&nbsp;<span class="ident" id="78466">bmEqual</span><span class="op" id="78473">(</span><span class="ident" id="78474">b</span><span class="op" id="78475">,</span>&nbsp;<span class="ident" id="78477">EqualPortable</span><span class="op" id="78490">,</span>&nbsp;<span class="num" id="78492">32</span><span class="op" id="78494">)</span>&nbsp;<span class="op" id="78496">}</span><br>
<span class="lineno"></span><span class="keyword" id="78498">func</span>&nbsp;<span class="ident" id="78503">BenchmarkEqualPort4K</span><span class="op" id="78523">(</span><span class="ident" id="78524">b</span>&nbsp;<span class="op" id="78526">*</span><span class="ident" id="78527">testing</span><span class="op" id="78534">.</span><span class="ident" id="78535">B</span><span class="op" id="78536">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="78543">{</span>&nbsp;<span class="ident" id="78545">bmEqual</span><span class="op" id="78552">(</span><span class="ident" id="78553">b</span><span class="op" id="78554">,</span>&nbsp;<span class="ident" id="78556">EqualPortable</span><span class="op" id="78569">,</span>&nbsp;<span class="num" id="78571">4</span><span class="op" id="78572">&lt;&lt;</span><span class="num" id="78574">10</span><span class="op" id="78576">)</span>&nbsp;<span class="op" id="78578">}</span><br>
<span class="lineno">385</span><span class="keyword" id="78580">func</span>&nbsp;<span class="ident" id="78585">BenchmarkEqualPortable4M</span><span class="op" id="78609">(</span><span class="ident" id="78610">b</span>&nbsp;<span class="op" id="78612">*</span><span class="ident" id="78613">testing</span><span class="op" id="78620">.</span><span class="ident" id="78621">B</span><span class="op" id="78622">)</span>&nbsp;&nbsp;<span class="op" id="78625">{</span>&nbsp;<span class="ident" id="78627">bmEqual</span><span class="op" id="78634">(</span><span class="ident" id="78635">b</span><span class="op" id="78636">,</span>&nbsp;<span class="ident" id="78638">EqualPortable</span><span class="op" id="78651">,</span>&nbsp;<span class="num" id="78653">4</span><span class="op" id="78654">&lt;&lt;</span><span class="num" id="78656">20</span><span class="op" id="78658">)</span>&nbsp;<span class="op" id="78660">}</span><br>
<span class="lineno"></span><span class="keyword" id="78662">func</span>&nbsp;<span class="ident" id="78667">BenchmarkEqualPortable64M</span><span class="op" id="78692">(</span><span class="ident" id="78693">b</span>&nbsp;<span class="op" id="78695">*</span><span class="ident" id="78696">testing</span><span class="op" id="78703">.</span><span class="ident" id="78704">B</span><span class="op" id="78705">)</span>&nbsp;<span class="op" id="78707">{</span>&nbsp;<span class="ident" id="78709">bmEqual</span><span class="op" id="78716">(</span><span class="ident" id="78717">b</span><span class="op" id="78718">,</span>&nbsp;<span class="ident" id="78720">EqualPortable</span><span class="op" id="78733">,</span>&nbsp;<span class="num" id="78735">64</span><span class="op" id="78737">&lt;&lt;</span><span class="num" id="78739">20</span><span class="op" id="78741">)</span>&nbsp;<span class="op" id="78743">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="78746">func</span>&nbsp;<span class="ident" id="78751">bmEqual</span><span class="op" id="78758">(</span><span class="ident" id="78759">b</span>&nbsp;<span class="op" id="78761">*</span><span class="ident" id="78762">testing</span><span class="op" id="78769">.</span><span class="ident" id="78770">B</span><span class="op" id="78771">,</span>&nbsp;<span class="ident" id="78773">equal</span>&nbsp;<span class="keyword" id="78779">func</span><span class="op" id="78783">(</span><span class="op" id="78784">[</span><span class="op" id="78785">]</span><span class="builtintype" id="78786">byte</span><span class="op" id="78790">,</span>&nbsp;<span class="op" id="78792">[</span><span class="op" id="78793">]</span><span class="builtintype" id="78794">byte</span><span class="op" id="78798">)</span>&nbsp;<span class="builtintype" id="78800">bool</span><span class="op" id="78804">,</span>&nbsp;<span class="ident" id="78806">n</span>&nbsp;<span class="builtintype" id="78808">int</span><span class="op" id="78811">)</span>&nbsp;<span class="op" id="78813">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="78816">if</span>&nbsp;<span class="builtinfunc" id="78819">len</span><span class="op" id="78822">(</span><span class="ident" id="78823">bmbuf</span><span class="op" id="78828">)</span>&nbsp;<span class="op" id="78830">&lt;</span>&nbsp;<span class="num" id="78832">2</span><span class="op" id="78833">*</span><span class="ident" id="78834">n</span>&nbsp;<span class="op" id="78836">{</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78840">bmbuf</span>&nbsp;<span class="op" id="78846">=</span>&nbsp;<span class="builtinfunc" id="78848">make</span><span class="op" id="78852">(</span><span class="op" id="78853">[</span><span class="op" id="78854">]</span><span class="builtintype" id="78855">byte</span><span class="op" id="78859">,</span>&nbsp;<span class="num" id="78861">2</span><span class="op" id="78862">*</span><span class="ident" id="78863">n</span><span class="op" id="78864">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="78867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78870">b</span><span class="op" id="78871">.</span><span class="ident" id="78872">SetBytes</span><span class="op" id="78880">(</span><span class="ident" id="78881">int64</span><span class="op" id="78886">(</span><span class="ident" id="78887">n</span><span class="op" id="78888">)</span><span class="op" id="78889">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78892">buf1</span>&nbsp;<span class="op" id="78897">:=</span>&nbsp;<span class="ident" id="78900">bmbuf</span><span class="op" id="78905">[</span><span class="num" id="78906">0</span><span class="op" id="78907">:</span><span class="ident" id="78908">n</span><span class="op" id="78909">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78912">buf2</span>&nbsp;<span class="op" id="78917">:=</span>&nbsp;<span class="ident" id="78920">bmbuf</span><span class="op" id="78925">[</span><span class="ident" id="78926">n</span>&nbsp;<span class="op" id="78928">:</span>&nbsp;<span class="num" id="78930">2</span><span class="op" id="78931">*</span><span class="ident" id="78932">n</span><span class="op" id="78933">]</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78936">buf1</span><span class="op" id="78940">[</span><span class="ident" id="78941">n</span><span class="op" id="78942">-</span><span class="num" id="78943">1</span><span class="op" id="78944">]</span>&nbsp;<span class="op" id="78946">=</span>&nbsp;<span class="string" id="78948">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78953">buf2</span><span class="op" id="78957">[</span><span class="ident" id="78958">n</span><span class="op" id="78959">-</span><span class="num" id="78960">1</span><span class="op" id="78961">]</span>&nbsp;<span class="op" id="78963">=</span>&nbsp;<span class="string" id="78965">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="78970">for</span>&nbsp;<span class="ident" id="78974">i</span>&nbsp;<span class="op" id="78976">:=</span>&nbsp;<span class="num" id="78979">0</span><span class="op" id="78980">;</span>&nbsp;<span class="ident" id="78982">i</span>&nbsp;<span class="op" id="78984">&lt;</span>&nbsp;<span class="ident" id="78986">b</span><span class="op" id="78987">.</span><span class="ident" id="78988">N</span><span class="op" id="78989">;</span>&nbsp;<span class="ident" id="78991">i</span><span class="op" id="78992">++</span>&nbsp;<span class="op" id="78995">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="78999">eq</span>&nbsp;<span class="op" id="79002">:=</span>&nbsp;<span class="ident" id="79005">equal</span><span class="op" id="79010">(</span><span class="ident" id="79011">buf1</span><span class="op" id="79015">,</span>&nbsp;<span class="ident" id="79017">buf2</span><span class="op" id="79021">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="79025">if</span>&nbsp;<span class="op" id="79028">!</span><span class="ident" id="79029">eq</span>&nbsp;<span class="op" id="79032">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79037">b</span><span class="op" id="79038">.</span><span class="ident" id="79039">Fatal</span><span class="op" id="79044">(</span><span class="string" id="79045">&#34;bad&nbsp;equal&#34;</span><span class="op" id="79056">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="79060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="79063">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79066">buf1</span><span class="op" id="79070">[</span><span class="ident" id="79071">n</span><span class="op" id="79072">-</span><span class="num" id="79073">1</span><span class="op" id="79074">]</span>&nbsp;<span class="op" id="79076">=</span>&nbsp;<span class="string" id="79078">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79086">buf2</span><span class="op" id="79090">[</span><span class="ident" id="79091">n</span><span class="op" id="79092">-</span><span class="num" id="79093">1</span><span class="op" id="79094">]</span>&nbsp;<span class="op" id="79096">=</span>&nbsp;<span class="string" id="79098">&#39;\x00&#39;</span><br>
<span class="lineno">405</span><span class="op" id="79105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="79108">func</span>&nbsp;<span class="ident" id="79113">BenchmarkIndex32</span><span class="op" id="79129">(</span><span class="ident" id="79130">b</span>&nbsp;<span class="op" id="79132">*</span><span class="ident" id="79133">testing</span><span class="op" id="79140">.</span><span class="ident" id="79141">B</span><span class="op" id="79142">)</span>&nbsp;&nbsp;<span class="op" id="79145">{</span>&nbsp;<span class="ident" id="79147">bmIndex</span><span class="op" id="79154">(</span><span class="ident" id="79155">b</span><span class="op" id="79156">,</span>&nbsp;<span class="ident" id="79158">Index</span><span class="op" id="79163">,</span>&nbsp;<span class="num" id="79165">32</span><span class="op" id="79167">)</span>&nbsp;<span class="op" id="79169">}</span><br>
<span class="lineno"></span><span class="keyword" id="79171">func</span>&nbsp;<span class="ident" id="79176">BenchmarkIndex4K</span><span class="op" id="79192">(</span><span class="ident" id="79193">b</span>&nbsp;<span class="op" id="79195">*</span><span class="ident" id="79196">testing</span><span class="op" id="79203">.</span><span class="ident" id="79204">B</span><span class="op" id="79205">)</span>&nbsp;&nbsp;<span class="op" id="79208">{</span>&nbsp;<span class="ident" id="79210">bmIndex</span><span class="op" id="79217">(</span><span class="ident" id="79218">b</span><span class="op" id="79219">,</span>&nbsp;<span class="ident" id="79221">Index</span><span class="op" id="79226">,</span>&nbsp;<span class="num" id="79228">4</span><span class="op" id="79229">&lt;&lt;</span><span class="num" id="79231">10</span><span class="op" id="79233">)</span>&nbsp;<span class="op" id="79235">}</span><br>
<span class="lineno"></span><span class="keyword" id="79237">func</span>&nbsp;<span class="ident" id="79242">BenchmarkIndex4M</span><span class="op" id="79258">(</span><span class="ident" id="79259">b</span>&nbsp;<span class="op" id="79261">*</span><span class="ident" id="79262">testing</span><span class="op" id="79269">.</span><span class="ident" id="79270">B</span><span class="op" id="79271">)</span>&nbsp;&nbsp;<span class="op" id="79274">{</span>&nbsp;<span class="ident" id="79276">bmIndex</span><span class="op" id="79283">(</span><span class="ident" id="79284">b</span><span class="op" id="79285">,</span>&nbsp;<span class="ident" id="79287">Index</span><span class="op" id="79292">,</span>&nbsp;<span class="num" id="79294">4</span><span class="op" id="79295">&lt;&lt;</span><span class="num" id="79297">20</span><span class="op" id="79299">)</span>&nbsp;<span class="op" id="79301">}</span><br>
<span class="lineno">410</span><span class="keyword" id="79303">func</span>&nbsp;<span class="ident" id="79308">BenchmarkIndex64M</span><span class="op" id="79325">(</span><span class="ident" id="79326">b</span>&nbsp;<span class="op" id="79328">*</span><span class="ident" id="79329">testing</span><span class="op" id="79336">.</span><span class="ident" id="79337">B</span><span class="op" id="79338">)</span>&nbsp;<span class="op" id="79340">{</span>&nbsp;<span class="ident" id="79342">bmIndex</span><span class="op" id="79349">(</span><span class="ident" id="79350">b</span><span class="op" id="79351">,</span>&nbsp;<span class="ident" id="79353">Index</span><span class="op" id="79358">,</span>&nbsp;<span class="num" id="79360">64</span><span class="op" id="79362">&lt;&lt;</span><span class="num" id="79364">20</span><span class="op" id="79366">)</span>&nbsp;<span class="op" id="79368">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="79371">func</span>&nbsp;<span class="ident" id="79376">bmIndex</span><span class="op" id="79383">(</span><span class="ident" id="79384">b</span>&nbsp;<span class="op" id="79386">*</span><span class="ident" id="79387">testing</span><span class="op" id="79394">.</span><span class="ident" id="79395">B</span><span class="op" id="79396">,</span>&nbsp;<span class="ident" id="79398">index</span>&nbsp;<span class="keyword" id="79404">func</span><span class="op" id="79408">(</span><span class="op" id="79409">[</span><span class="op" id="79410">]</span><span class="builtintype" id="79411">byte</span><span class="op" id="79415">,</span>&nbsp;<span class="op" id="79417">[</span><span class="op" id="79418">]</span><span class="builtintype" id="79419">byte</span><span class="op" id="79423">)</span>&nbsp;<span class="builtintype" id="79425">int</span><span class="op" id="79428">,</span>&nbsp;<span class="ident" id="79430">n</span>&nbsp;<span class="builtintype" id="79432">int</span><span class="op" id="79435">)</span>&nbsp;<span class="op" id="79437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="79440">if</span>&nbsp;<span class="builtinfunc" id="79443">len</span><span class="op" id="79446">(</span><span class="ident" id="79447">bmbuf</span><span class="op" id="79452">)</span>&nbsp;<span class="op" id="79454">&lt;</span>&nbsp;<span class="ident" id="79456">n</span>&nbsp;<span class="op" id="79458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79462">bmbuf</span>&nbsp;<span class="op" id="79468">=</span>&nbsp;<span class="builtinfunc" id="79470">make</span><span class="op" id="79474">(</span><span class="op" id="79475">[</span><span class="op" id="79476">]</span><span class="builtintype" id="79477">byte</span><span class="op" id="79481">,</span>&nbsp;<span class="ident" id="79483">n</span><span class="op" id="79484">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="79487">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79490">b</span><span class="op" id="79491">.</span><span class="ident" id="79492">SetBytes</span><span class="op" id="79500">(</span><span class="ident" id="79501">int64</span><span class="op" id="79506">(</span><span class="ident" id="79507">n</span><span class="op" id="79508">)</span><span class="op" id="79509">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79512">buf</span>&nbsp;<span class="op" id="79516">:=</span>&nbsp;<span class="ident" id="79519">bmbuf</span><span class="op" id="79524">[</span><span class="num" id="79525">0</span><span class="op" id="79526">:</span><span class="ident" id="79527">n</span><span class="op" id="79528">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79531">buf</span><span class="op" id="79534">[</span><span class="ident" id="79535">n</span><span class="op" id="79536">-</span><span class="num" id="79537">1</span><span class="op" id="79538">]</span>&nbsp;<span class="op" id="79540">=</span>&nbsp;<span class="string" id="79542">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="79547">for</span>&nbsp;<span class="ident" id="79551">i</span>&nbsp;<span class="op" id="79553">:=</span>&nbsp;<span class="num" id="79556">0</span><span class="op" id="79557">;</span>&nbsp;<span class="ident" id="79559">i</span>&nbsp;<span class="op" id="79561">&lt;</span>&nbsp;<span class="ident" id="79563">b</span><span class="op" id="79564">.</span><span class="ident" id="79565">N</span><span class="op" id="79566">;</span>&nbsp;<span class="ident" id="79568">i</span><span class="op" id="79569">++</span>&nbsp;<span class="op" id="79572">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79576">j</span>&nbsp;<span class="op" id="79578">:=</span>&nbsp;<span class="ident" id="79581">index</span><span class="op" id="79586">(</span><span class="ident" id="79587">buf</span><span class="op" id="79590">,</span>&nbsp;<span class="ident" id="79592">buf</span><span class="op" id="79595">[</span><span class="ident" id="79596">n</span><span class="op" id="79597">-</span><span class="num" id="79598">7</span><span class="op" id="79599">:</span><span class="op" id="79600">]</span><span class="op" id="79601">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="79605">if</span>&nbsp;<span class="ident" id="79608">j</span>&nbsp;<span class="op" id="79610">!=</span>&nbsp;<span class="ident" id="79613">n</span><span class="op" id="79614">-</span><span class="num" id="79615">7</span>&nbsp;<span class="op" id="79617">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79622">b</span><span class="op" id="79623">.</span><span class="ident" id="79624">Fatal</span><span class="op" id="79629">(</span><span class="string" id="79630">&#34;bad&nbsp;index&#34;</span><span class="op" id="79641">,</span>&nbsp;<span class="ident" id="79643">j</span><span class="op" id="79644">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="79648">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="79651">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="79654">buf</span><span class="op" id="79657">[</span><span class="ident" id="79658">n</span><span class="op" id="79659">-</span><span class="num" id="79660">1</span><span class="op" id="79661">]</span>&nbsp;<span class="op" id="79663">=</span>&nbsp;<span class="string" id="79665">&#39;\x00&#39;</span><br>
<span class="lineno"></span><span class="op" id="79672">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="79675">func</span>&nbsp;<span class="ident" id="79680">BenchmarkIndexEasy32</span><span class="op" id="79700">(</span><span class="ident" id="79701">b</span>&nbsp;<span class="op" id="79703">*</span><span class="ident" id="79704">testing</span><span class="op" id="79711">.</span><span class="ident" id="79712">B</span><span class="op" id="79713">)</span>&nbsp;&nbsp;<span class="op" id="79716">{</span>&nbsp;<span class="ident" id="79718">bmIndexEasy</span><span class="op" id="79729">(</span><span class="ident" id="79730">b</span><span class="op" id="79731">,</span>&nbsp;<span class="ident" id="79733">Index</span><span class="op" id="79738">,</span>&nbsp;<span class="num" id="79740">32</span><span class="op" id="79742">)</span>&nbsp;<span class="op" id="79744">}</span><br>
<span class="lineno"></span><span class="keyword" id="79746">func</span>&nbsp;<span class="ident" id="79751">BenchmarkIndexEasy4K</span><span class="op" id="79771">(</span><span class="ident" id="79772">b</span>&nbsp;<span class="op" id="79774">*</span><span class="ident" id="79775">testing</span><span class="op" id="79782">.</span><span class="ident" id="79783">B</span><span class="op" id="79784">)</span>&nbsp;&nbsp;<span class="op" id="79787">{</span>&nbsp;<span class="ident" id="79789">bmIndexEasy</span><span class="op" id="79800">(</span><span class="ident" id="79801">b</span><span class="op" id="79802">,</span>&nbsp;<span class="ident" id="79804">Index</span><span class="op" id="79809">,</span>&nbsp;<span class="num" id="79811">4</span><span class="op" id="79812">&lt;&lt;</span><span class="num" id="79814">10</span><span class="op" id="79816">)</span>&nbsp;<span class="op" id="79818">}</span><br>
<span class="lineno">430</span><span class="keyword" id="79820">func</span>&nbsp;<span class="ident" id="79825">BenchmarkIndexEasy4M</span><span class="op" id="79845">(</span><span class="ident" id="79846">b</span>&nbsp;<span class="op" id="79848">*</span><span class="ident" id="79849">testing</span><span class="op" id="79856">.</span><span class="ident" id="79857">B</span><span class="op" id="79858">)</span>&nbsp;&nbsp;<span class="op" id="79861">{</span>&nbsp;<span class="ident" id="79863">bmIndexEasy</span><span class="op" id="79874">(</span><span class="ident" id="79875">b</span><span class="op" id="79876">,</span>&nbsp;<span class="ident" id="79878">Index</span><span class="op" id="79883">,</span>&nbsp;<span class="num" id="79885">4</span><span class="op" id="79886">&lt;&lt;</span><span class="num" id="79888">20</span><span class="op" id="79890">)</span>&nbsp;<span class="op" id="79892">}</span><br>
<span class="lineno"></span><span class="keyword" id="79894">func</span>&nbsp;<span class="ident" id="79899">BenchmarkIndexEasy64M</span><span class="op" id="79920">(</span><span class="ident" id="79921">b</span>&nbsp;<span class="op" id="79923">*</span><span class="ident" id="79924">testing</span><span class="op" id="79931">.</span><span class="ident" id="79932">B</span><span class="op" id="79933">)</span>&nbsp;<span class="op" id="79935">{</span>&nbsp;<span class="ident" id="79937">bmIndexEasy</span><span class="op" id="79948">(</span><span class="ident" id="79949">b</span><span class="op" id="79950">,</span>&nbsp;<span class="ident" id="79952">Index</span><span class="op" id="79957">,</span>&nbsp;<span class="num" id="79959">64</span><span class="op" id="79961">&lt;&lt;</span><span class="num" id="79963">20</span><span class="op" id="79965">)</span>&nbsp;<span class="op" id="79967">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="79970">func</span>&nbsp;<span class="ident" id="79975">bmIndexEasy</span><span class="op" id="79986">(</span><span class="ident" id="79987">b</span>&nbsp;<span class="op" id="79989">*</span><span class="ident" id="79990">testing</span><span class="op" id="79997">.</span><span class="ident" id="79998">B</span><span class="op" id="79999">,</span>&nbsp;<span class="ident" id="80001">index</span>&nbsp;<span class="keyword" id="80007">func</span><span class="op" id="80011">(</span><span class="op" id="80012">[</span><span class="op" id="80013">]</span><span class="builtintype" id="80014">byte</span><span class="op" id="80018">,</span>&nbsp;<span class="op" id="80020">[</span><span class="op" id="80021">]</span><span class="builtintype" id="80022">byte</span><span class="op" id="80026">)</span>&nbsp;<span class="builtintype" id="80028">int</span><span class="op" id="80031">,</span>&nbsp;<span class="ident" id="80033">n</span>&nbsp;<span class="builtintype" id="80035">int</span><span class="op" id="80038">)</span>&nbsp;<span class="op" id="80040">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="80043">if</span>&nbsp;<span class="builtinfunc" id="80046">len</span><span class="op" id="80049">(</span><span class="ident" id="80050">bmbuf</span><span class="op" id="80055">)</span>&nbsp;<span class="op" id="80057">&lt;</span>&nbsp;<span class="ident" id="80059">n</span>&nbsp;<span class="op" id="80061">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80065">bmbuf</span>&nbsp;<span class="op" id="80071">=</span>&nbsp;<span class="builtinfunc" id="80073">make</span><span class="op" id="80077">(</span><span class="op" id="80078">[</span><span class="op" id="80079">]</span><span class="builtintype" id="80080">byte</span><span class="op" id="80084">,</span>&nbsp;<span class="ident" id="80086">n</span><span class="op" id="80087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="80090">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80093">b</span><span class="op" id="80094">.</span><span class="ident" id="80095">SetBytes</span><span class="op" id="80103">(</span><span class="ident" id="80104">int64</span><span class="op" id="80109">(</span><span class="ident" id="80110">n</span><span class="op" id="80111">)</span><span class="op" id="80112">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80115">buf</span>&nbsp;<span class="op" id="80119">:=</span>&nbsp;<span class="ident" id="80122">bmbuf</span><span class="op" id="80127">[</span><span class="num" id="80128">0</span><span class="op" id="80129">:</span><span class="ident" id="80130">n</span><span class="op" id="80131">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80134">buf</span><span class="op" id="80137">[</span><span class="ident" id="80138">n</span><span class="op" id="80139">-</span><span class="num" id="80140">1</span><span class="op" id="80141">]</span>&nbsp;<span class="op" id="80143">=</span>&nbsp;<span class="string" id="80145">&#39;x&#39;</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80150">buf</span><span class="op" id="80153">[</span><span class="ident" id="80154">n</span><span class="op" id="80155">-</span><span class="num" id="80156">7</span><span class="op" id="80157">]</span>&nbsp;<span class="op" id="80159">=</span>&nbsp;<span class="string" id="80161">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="80166">for</span>&nbsp;<span class="ident" id="80170">i</span>&nbsp;<span class="op" id="80172">:=</span>&nbsp;<span class="num" id="80175">0</span><span class="op" id="80176">;</span>&nbsp;<span class="ident" id="80178">i</span>&nbsp;<span class="op" id="80180">&lt;</span>&nbsp;<span class="ident" id="80182">b</span><span class="op" id="80183">.</span><span class="ident" id="80184">N</span><span class="op" id="80185">;</span>&nbsp;<span class="ident" id="80187">i</span><span class="op" id="80188">++</span>&nbsp;<span class="op" id="80191">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80195">j</span>&nbsp;<span class="op" id="80197">:=</span>&nbsp;<span class="ident" id="80200">index</span><span class="op" id="80205">(</span><span class="ident" id="80206">buf</span><span class="op" id="80209">,</span>&nbsp;<span class="ident" id="80211">buf</span><span class="op" id="80214">[</span><span class="ident" id="80215">n</span><span class="op" id="80216">-</span><span class="num" id="80217">7</span><span class="op" id="80218">:</span><span class="op" id="80219">]</span><span class="op" id="80220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="80224">if</span>&nbsp;<span class="ident" id="80227">j</span>&nbsp;<span class="op" id="80229">!=</span>&nbsp;<span class="ident" id="80232">n</span><span class="op" id="80233">-</span><span class="num" id="80234">7</span>&nbsp;<span class="op" id="80236">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80241">b</span><span class="op" id="80242">.</span><span class="ident" id="80243">Fatal</span><span class="op" id="80248">(</span><span class="string" id="80249">&#34;bad&nbsp;index&#34;</span><span class="op" id="80260">,</span>&nbsp;<span class="ident" id="80262">j</span><span class="op" id="80263">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="80267">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="80270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80273">buf</span><span class="op" id="80276">[</span><span class="ident" id="80277">n</span><span class="op" id="80278">-</span><span class="num" id="80279">1</span><span class="op" id="80280">]</span>&nbsp;<span class="op" id="80282">=</span>&nbsp;<span class="string" id="80284">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80292">buf</span><span class="op" id="80295">[</span><span class="ident" id="80296">n</span><span class="op" id="80297">-</span><span class="num" id="80298">7</span><span class="op" id="80299">]</span>&nbsp;<span class="op" id="80301">=</span>&nbsp;<span class="string" id="80303">&#39;\x00&#39;</span><br>
<span class="lineno"></span><span class="op" id="80310">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="80313">func</span>&nbsp;<span class="ident" id="80318">BenchmarkCount32</span><span class="op" id="80334">(</span><span class="ident" id="80335">b</span>&nbsp;<span class="op" id="80337">*</span><span class="ident" id="80338">testing</span><span class="op" id="80345">.</span><span class="ident" id="80346">B</span><span class="op" id="80347">)</span>&nbsp;&nbsp;<span class="op" id="80350">{</span>&nbsp;<span class="ident" id="80352">bmCount</span><span class="op" id="80359">(</span><span class="ident" id="80360">b</span><span class="op" id="80361">,</span>&nbsp;<span class="ident" id="80363">Count</span><span class="op" id="80368">,</span>&nbsp;<span class="num" id="80370">32</span><span class="op" id="80372">)</span>&nbsp;<span class="op" id="80374">}</span><br>
<span class="lineno"></span><span class="keyword" id="80376">func</span>&nbsp;<span class="ident" id="80381">BenchmarkCount4K</span><span class="op" id="80397">(</span><span class="ident" id="80398">b</span>&nbsp;<span class="op" id="80400">*</span><span class="ident" id="80401">testing</span><span class="op" id="80408">.</span><span class="ident" id="80409">B</span><span class="op" id="80410">)</span>&nbsp;&nbsp;<span class="op" id="80413">{</span>&nbsp;<span class="ident" id="80415">bmCount</span><span class="op" id="80422">(</span><span class="ident" id="80423">b</span><span class="op" id="80424">,</span>&nbsp;<span class="ident" id="80426">Count</span><span class="op" id="80431">,</span>&nbsp;<span class="num" id="80433">4</span><span class="op" id="80434">&lt;&lt;</span><span class="num" id="80436">10</span><span class="op" id="80438">)</span>&nbsp;<span class="op" id="80440">}</span><br>
<span class="lineno"></span><span class="keyword" id="80442">func</span>&nbsp;<span class="ident" id="80447">BenchmarkCount4M</span><span class="op" id="80463">(</span><span class="ident" id="80464">b</span>&nbsp;<span class="op" id="80466">*</span><span class="ident" id="80467">testing</span><span class="op" id="80474">.</span><span class="ident" id="80475">B</span><span class="op" id="80476">)</span>&nbsp;&nbsp;<span class="op" id="80479">{</span>&nbsp;<span class="ident" id="80481">bmCount</span><span class="op" id="80488">(</span><span class="ident" id="80489">b</span><span class="op" id="80490">,</span>&nbsp;<span class="ident" id="80492">Count</span><span class="op" id="80497">,</span>&nbsp;<span class="num" id="80499">4</span><span class="op" id="80500">&lt;&lt;</span><span class="num" id="80502">20</span><span class="op" id="80504">)</span>&nbsp;<span class="op" id="80506">}</span><br>
<span class="lineno"></span><span class="keyword" id="80508">func</span>&nbsp;<span class="ident" id="80513">BenchmarkCount64M</span><span class="op" id="80530">(</span><span class="ident" id="80531">b</span>&nbsp;<span class="op" id="80533">*</span><span class="ident" id="80534">testing</span><span class="op" id="80541">.</span><span class="ident" id="80542">B</span><span class="op" id="80543">)</span>&nbsp;<span class="op" id="80545">{</span>&nbsp;<span class="ident" id="80547">bmCount</span><span class="op" id="80554">(</span><span class="ident" id="80555">b</span><span class="op" id="80556">,</span>&nbsp;<span class="ident" id="80558">Count</span><span class="op" id="80563">,</span>&nbsp;<span class="num" id="80565">64</span><span class="op" id="80567">&lt;&lt;</span><span class="num" id="80569">20</span><span class="op" id="80571">)</span>&nbsp;<span class="op" id="80573">}</span><br>
<span class="lineno">455</span><br>
<span class="lineno"></span><span class="keyword" id="80576">func</span>&nbsp;<span class="ident" id="80581">bmCount</span><span class="op" id="80588">(</span><span class="ident" id="80589">b</span>&nbsp;<span class="op" id="80591">*</span><span class="ident" id="80592">testing</span><span class="op" id="80599">.</span><span class="ident" id="80600">B</span><span class="op" id="80601">,</span>&nbsp;<span class="ident" id="80603">count</span>&nbsp;<span class="keyword" id="80609">func</span><span class="op" id="80613">(</span><span class="op" id="80614">[</span><span class="op" id="80615">]</span><span class="builtintype" id="80616">byte</span><span class="op" id="80620">,</span>&nbsp;<span class="op" id="80622">[</span><span class="op" id="80623">]</span><span class="builtintype" id="80624">byte</span><span class="op" id="80628">)</span>&nbsp;<span class="builtintype" id="80630">int</span><span class="op" id="80633">,</span>&nbsp;<span class="ident" id="80635">n</span>&nbsp;<span class="builtintype" id="80637">int</span><span class="op" id="80640">)</span>&nbsp;<span class="op" id="80642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="80645">if</span>&nbsp;<span class="builtinfunc" id="80648">len</span><span class="op" id="80651">(</span><span class="ident" id="80652">bmbuf</span><span class="op" id="80657">)</span>&nbsp;<span class="op" id="80659">&lt;</span>&nbsp;<span class="ident" id="80661">n</span>&nbsp;<span class="op" id="80663">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80667">bmbuf</span>&nbsp;<span class="op" id="80673">=</span>&nbsp;<span class="builtinfunc" id="80675">make</span><span class="op" id="80679">(</span><span class="op" id="80680">[</span><span class="op" id="80681">]</span><span class="builtintype" id="80682">byte</span><span class="op" id="80686">,</span>&nbsp;<span class="ident" id="80688">n</span><span class="op" id="80689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="80692">}</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80695">b</span><span class="op" id="80696">.</span><span class="ident" id="80697">SetBytes</span><span class="op" id="80705">(</span><span class="ident" id="80706">int64</span><span class="op" id="80711">(</span><span class="ident" id="80712">n</span><span class="op" id="80713">)</span><span class="op" id="80714">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80717">buf</span>&nbsp;<span class="op" id="80721">:=</span>&nbsp;<span class="ident" id="80724">bmbuf</span><span class="op" id="80729">[</span><span class="num" id="80730">0</span><span class="op" id="80731">:</span><span class="ident" id="80732">n</span><span class="op" id="80733">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80736">buf</span><span class="op" id="80739">[</span><span class="ident" id="80740">n</span><span class="op" id="80741">-</span><span class="num" id="80742">1</span><span class="op" id="80743">]</span>&nbsp;<span class="op" id="80745">=</span>&nbsp;<span class="string" id="80747">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="80752">for</span>&nbsp;<span class="ident" id="80756">i</span>&nbsp;<span class="op" id="80758">:=</span>&nbsp;<span class="num" id="80761">0</span><span class="op" id="80762">;</span>&nbsp;<span class="ident" id="80764">i</span>&nbsp;<span class="op" id="80766">&lt;</span>&nbsp;<span class="ident" id="80768">b</span><span class="op" id="80769">.</span><span class="ident" id="80770">N</span><span class="op" id="80771">;</span>&nbsp;<span class="ident" id="80773">i</span><span class="op" id="80774">++</span>&nbsp;<span class="op" id="80777">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80781">j</span>&nbsp;<span class="op" id="80783">:=</span>&nbsp;<span class="ident" id="80786">count</span><span class="op" id="80791">(</span><span class="ident" id="80792">buf</span><span class="op" id="80795">,</span>&nbsp;<span class="ident" id="80797">buf</span><span class="op" id="80800">[</span><span class="ident" id="80801">n</span><span class="op" id="80802">-</span><span class="num" id="80803">7</span><span class="op" id="80804">:</span><span class="op" id="80805">]</span><span class="op" id="80806">)</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="80810">if</span>&nbsp;<span class="ident" id="80813">j</span>&nbsp;<span class="op" id="80815">!=</span>&nbsp;<span class="num" id="80818">1</span>&nbsp;<span class="op" id="80820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80825">b</span><span class="op" id="80826">.</span><span class="ident" id="80827">Fatal</span><span class="op" id="80832">(</span><span class="string" id="80833">&#34;bad&nbsp;count&#34;</span><span class="op" id="80844">,</span>&nbsp;<span class="ident" id="80846">j</span><span class="op" id="80847">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="80851">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="80854">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="80857">buf</span><span class="op" id="80860">[</span><span class="ident" id="80861">n</span><span class="op" id="80862">-</span><span class="num" id="80863">1</span><span class="op" id="80864">]</span>&nbsp;<span class="op" id="80866">=</span>&nbsp;<span class="string" id="80868">&#39;\x00&#39;</span><br>
<span class="lineno">470</span><span class="op" id="80875">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="80878">func</span>&nbsp;<span class="ident" id="80883">BenchmarkCountEasy32</span><span class="op" id="80903">(</span><span class="ident" id="80904">b</span>&nbsp;<span class="op" id="80906">*</span><span class="ident" id="80907">testing</span><span class="op" id="80914">.</span><span class="ident" id="80915">B</span><span class="op" id="80916">)</span>&nbsp;&nbsp;<span class="op" id="80919">{</span>&nbsp;<span class="ident" id="80921">bmCountEasy</span><span class="op" id="80932">(</span><span class="ident" id="80933">b</span><span class="op" id="80934">,</span>&nbsp;<span class="ident" id="80936">Count</span><span class="op" id="80941">,</span>&nbsp;<span class="num" id="80943">32</span><span class="op" id="80945">)</span>&nbsp;<span class="op" id="80947">}</span><br>
<span class="lineno"></span><span class="keyword" id="80949">func</span>&nbsp;<span class="ident" id="80954">BenchmarkCountEasy4K</span><span class="op" id="80974">(</span><span class="ident" id="80975">b</span>&nbsp;<span class="op" id="80977">*</span><span class="ident" id="80978">testing</span><span class="op" id="80985">.</span><span class="ident" id="80986">B</span><span class="op" id="80987">)</span>&nbsp;&nbsp;<span class="op" id="80990">{</span>&nbsp;<span class="ident" id="80992">bmCountEasy</span><span class="op" id="81003">(</span><span class="ident" id="81004">b</span><span class="op" id="81005">,</span>&nbsp;<span class="ident" id="81007">Count</span><span class="op" id="81012">,</span>&nbsp;<span class="num" id="81014">4</span><span class="op" id="81015">&lt;&lt;</span><span class="num" id="81017">10</span><span class="op" id="81019">)</span>&nbsp;<span class="op" id="81021">}</span><br>
<span class="lineno"></span><span class="keyword" id="81023">func</span>&nbsp;<span class="ident" id="81028">BenchmarkCountEasy4M</span><span class="op" id="81048">(</span><span class="ident" id="81049">b</span>&nbsp;<span class="op" id="81051">*</span><span class="ident" id="81052">testing</span><span class="op" id="81059">.</span><span class="ident" id="81060">B</span><span class="op" id="81061">)</span>&nbsp;&nbsp;<span class="op" id="81064">{</span>&nbsp;<span class="ident" id="81066">bmCountEasy</span><span class="op" id="81077">(</span><span class="ident" id="81078">b</span><span class="op" id="81079">,</span>&nbsp;<span class="ident" id="81081">Count</span><span class="op" id="81086">,</span>&nbsp;<span class="num" id="81088">4</span><span class="op" id="81089">&lt;&lt;</span><span class="num" id="81091">20</span><span class="op" id="81093">)</span>&nbsp;<span class="op" id="81095">}</span><br>
<span class="lineno">475</span><span class="keyword" id="81097">func</span>&nbsp;<span class="ident" id="81102">BenchmarkCountEasy64M</span><span class="op" id="81123">(</span><span class="ident" id="81124">b</span>&nbsp;<span class="op" id="81126">*</span><span class="ident" id="81127">testing</span><span class="op" id="81134">.</span><span class="ident" id="81135">B</span><span class="op" id="81136">)</span>&nbsp;<span class="op" id="81138">{</span>&nbsp;<span class="ident" id="81140">bmCountEasy</span><span class="op" id="81151">(</span><span class="ident" id="81152">b</span><span class="op" id="81153">,</span>&nbsp;<span class="ident" id="81155">Count</span><span class="op" id="81160">,</span>&nbsp;<span class="num" id="81162">64</span><span class="op" id="81164">&lt;&lt;</span><span class="num" id="81166">20</span><span class="op" id="81168">)</span>&nbsp;<span class="op" id="81170">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="81173">func</span>&nbsp;<span class="ident" id="81178">bmCountEasy</span><span class="op" id="81189">(</span><span class="ident" id="81190">b</span>&nbsp;<span class="op" id="81192">*</span><span class="ident" id="81193">testing</span><span class="op" id="81200">.</span><span class="ident" id="81201">B</span><span class="op" id="81202">,</span>&nbsp;<span class="ident" id="81204">count</span>&nbsp;<span class="keyword" id="81210">func</span><span class="op" id="81214">(</span><span class="op" id="81215">[</span><span class="op" id="81216">]</span><span class="builtintype" id="81217">byte</span><span class="op" id="81221">,</span>&nbsp;<span class="op" id="81223">[</span><span class="op" id="81224">]</span><span class="builtintype" id="81225">byte</span><span class="op" id="81229">)</span>&nbsp;<span class="builtintype" id="81231">int</span><span class="op" id="81234">,</span>&nbsp;<span class="ident" id="81236">n</span>&nbsp;<span class="builtintype" id="81238">int</span><span class="op" id="81241">)</span>&nbsp;<span class="op" id="81243">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="81246">if</span>&nbsp;<span class="builtinfunc" id="81249">len</span><span class="op" id="81252">(</span><span class="ident" id="81253">bmbuf</span><span class="op" id="81258">)</span>&nbsp;<span class="op" id="81260">&lt;</span>&nbsp;<span class="ident" id="81262">n</span>&nbsp;<span class="op" id="81264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81268">bmbuf</span>&nbsp;<span class="op" id="81274">=</span>&nbsp;<span class="builtinfunc" id="81276">make</span><span class="op" id="81280">(</span><span class="op" id="81281">[</span><span class="op" id="81282">]</span><span class="builtintype" id="81283">byte</span><span class="op" id="81287">,</span>&nbsp;<span class="ident" id="81289">n</span><span class="op" id="81290">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81296">b</span><span class="op" id="81297">.</span><span class="ident" id="81298">SetBytes</span><span class="op" id="81306">(</span><span class="ident" id="81307">int64</span><span class="op" id="81312">(</span><span class="ident" id="81313">n</span><span class="op" id="81314">)</span><span class="op" id="81315">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81318">buf</span>&nbsp;<span class="op" id="81322">:=</span>&nbsp;<span class="ident" id="81325">bmbuf</span><span class="op" id="81330">[</span><span class="num" id="81331">0</span><span class="op" id="81332">:</span><span class="ident" id="81333">n</span><span class="op" id="81334">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81337">buf</span><span class="op" id="81340">[</span><span class="ident" id="81341">n</span><span class="op" id="81342">-</span><span class="num" id="81343">1</span><span class="op" id="81344">]</span>&nbsp;<span class="op" id="81346">=</span>&nbsp;<span class="string" id="81348">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81353">buf</span><span class="op" id="81356">[</span><span class="ident" id="81357">n</span><span class="op" id="81358">-</span><span class="num" id="81359">7</span><span class="op" id="81360">]</span>&nbsp;<span class="op" id="81362">=</span>&nbsp;<span class="string" id="81364">&#39;x&#39;</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="81369">for</span>&nbsp;<span class="ident" id="81373">i</span>&nbsp;<span class="op" id="81375">:=</span>&nbsp;<span class="num" id="81378">0</span><span class="op" id="81379">;</span>&nbsp;<span class="ident" id="81381">i</span>&nbsp;<span class="op" id="81383">&lt;</span>&nbsp;<span class="ident" id="81385">b</span><span class="op" id="81386">.</span><span class="ident" id="81387">N</span><span class="op" id="81388">;</span>&nbsp;<span class="ident" id="81390">i</span><span class="op" id="81391">++</span>&nbsp;<span class="op" id="81394">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81398">j</span>&nbsp;<span class="op" id="81400">:=</span>&nbsp;<span class="ident" id="81403">count</span><span class="op" id="81408">(</span><span class="ident" id="81409">buf</span><span class="op" id="81412">,</span>&nbsp;<span class="ident" id="81414">buf</span><span class="op" id="81417">[</span><span class="ident" id="81418">n</span><span class="op" id="81419">-</span><span class="num" id="81420">7</span><span class="op" id="81421">:</span><span class="op" id="81422">]</span><span class="op" id="81423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="81427">if</span>&nbsp;<span class="ident" id="81430">j</span>&nbsp;<span class="op" id="81432">!=</span>&nbsp;<span class="num" id="81435">1</span>&nbsp;<span class="op" id="81437">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81442">b</span><span class="op" id="81443">.</span><span class="ident" id="81444">Fatal</span><span class="op" id="81449">(</span><span class="string" id="81450">&#34;bad&nbsp;count&#34;</span><span class="op" id="81461">,</span>&nbsp;<span class="ident" id="81463">j</span><span class="op" id="81464">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81468">}</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81474">buf</span><span class="op" id="81477">[</span><span class="ident" id="81478">n</span><span class="op" id="81479">-</span><span class="num" id="81480">1</span><span class="op" id="81481">]</span>&nbsp;<span class="op" id="81483">=</span>&nbsp;<span class="string" id="81485">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81493">buf</span><span class="op" id="81496">[</span><span class="ident" id="81497">n</span><span class="op" id="81498">-</span><span class="num" id="81499">7</span><span class="op" id="81500">]</span>&nbsp;<span class="op" id="81502">=</span>&nbsp;<span class="string" id="81504">&#39;\x00&#39;</span><br>
<span class="lineno"></span><span class="op" id="81511">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">495</span><span class="keyword" id="81514">type</span>&nbsp;<span class="ident" id="81519">ExplodeTest</span>&nbsp;<span class="keyword" id="81531">struct</span>&nbsp;<span class="op" id="81538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81541">s</span>&nbsp;<span class="builtintype" id="81543">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81551">n</span>&nbsp;<span class="builtintype" id="81553">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81558">a</span>&nbsp;<span class="op" id="81560">[</span><span class="op" id="81561">]</span><span class="builtintype" id="81562">string</span><br>
<span class="lineno"></span><span class="op" id="81569">}</span><br>
<span class="lineno">500</span><br>
<span class="lineno"></span><span class="keyword" id="81572">var</span>&nbsp;<span class="ident" id="81576">explodetests</span>&nbsp;<span class="op" id="81589">=</span>&nbsp;<span class="op" id="81591">[</span><span class="op" id="81592">]</span><span class="ident" id="81593">ExplodeTest</span><span class="op" id="81604">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81607">{</span><span class="string" id="81608">&#34;&#34;</span><span class="op" id="81610">,</span>&nbsp;<span class="op" id="81612">-</span><span class="num" id="81613">1</span><span class="op" id="81614">,</span>&nbsp;<span class="op" id="81616">[</span><span class="op" id="81617">]</span><span class="builtintype" id="81618">string</span><span class="op" id="81624">{</span><span class="op" id="81625">}</span><span class="op" id="81626">}</span><span class="op" id="81627">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81630">{</span><span class="ident" id="81631">abcd</span><span class="op" id="81635">,</span>&nbsp;<span class="op" id="81637">-</span><span class="num" id="81638">1</span><span class="op" id="81639">,</span>&nbsp;<span class="op" id="81641">[</span><span class="op" id="81642">]</span><span class="builtintype" id="81643">string</span><span class="op" id="81649">{</span><span class="string" id="81650">&#34;a&#34;</span><span class="op" id="81653">,</span>&nbsp;<span class="string" id="81655">&#34;b&#34;</span><span class="op" id="81658">,</span>&nbsp;<span class="string" id="81660">&#34;c&#34;</span><span class="op" id="81663">,</span>&nbsp;<span class="string" id="81665">&#34;d&#34;</span><span class="op" id="81668">}</span><span class="op" id="81669">}</span><span class="op" id="81670">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81673">{</span><span class="ident" id="81674">faces</span><span class="op" id="81679">,</span>&nbsp;<span class="op" id="81681">-</span><span class="num" id="81682">1</span><span class="op" id="81683">,</span>&nbsp;<span class="op" id="81685">[</span><span class="op" id="81686">]</span><span class="builtintype" id="81687">string</span><span class="op" id="81693">{</span><span class="string" id="81694">&#34;☺&#34;</span><span class="op" id="81699">,</span>&nbsp;<span class="string" id="81701">&#34;☻&#34;</span><span class="op" id="81706">,</span>&nbsp;<span class="string" id="81708">&#34;☹&#34;</span><span class="op" id="81713">}</span><span class="op" id="81714">}</span><span class="op" id="81715">,</span><br>
<span class="lineno">505</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="81718">{</span><span class="ident" id="81719">abcd</span><span class="op" id="81723">,</span>&nbsp;<span class="num" id="81725">2</span><span class="op" id="81726">,</span>&nbsp;<span class="op" id="81728">[</span><span class="op" id="81729">]</span><span class="builtintype" id="81730">string</span><span class="op" id="81736">{</span><span class="string" id="81737">&#34;a&#34;</span><span class="op" id="81740">,</span>&nbsp;<span class="string" id="81742">&#34;bcd&#34;</span><span class="op" id="81747">}</span><span class="op" id="81748">}</span><span class="op" id="81749">,</span><br>
<span class="lineno"></span><span class="op" id="81751">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="81754">func</span>&nbsp;<span class="ident" id="81759">TestExplode</span><span class="op" id="81770">(</span><span class="ident" id="81771">t</span>&nbsp;<span class="op" id="81773">*</span><span class="ident" id="81774">testing</span><span class="op" id="81781">.</span><span class="ident" id="81782">T</span><span class="op" id="81783">)</span>&nbsp;<span class="op" id="81785">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="81788">for</span>&nbsp;<span class="ident" id="81792">_</span><span class="op" id="81793">,</span>&nbsp;<span class="ident" id="81795">tt</span>&nbsp;<span class="op" id="81798">:=</span>&nbsp;<span class="keyword" id="81801">range</span>&nbsp;<span class="ident" id="81807">explodetests</span>&nbsp;<span class="op" id="81820">{</span><br>
<span class="lineno">510</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81824">a</span>&nbsp;<span class="op" id="81826">:=</span>&nbsp;<span class="ident" id="81829">SplitN</span><span class="op" id="81835">(</span><span class="op" id="81836">[</span><span class="op" id="81837">]</span><span class="builtintype" id="81838">byte</span><span class="op" id="81842">(</span><span class="ident" id="81843">tt</span><span class="op" id="81845">.</span><span class="ident" id="81846">s</span><span class="op" id="81847">)</span><span class="op" id="81848">,</span>&nbsp;<span class="ident" id="81850">nil</span><span class="op" id="81853">,</span>&nbsp;<span class="ident" id="81855">tt</span><span class="op" id="81857">.</span><span class="ident" id="81858">n</span><span class="op" id="81859">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81863">result</span>&nbsp;<span class="op" id="81870">:=</span>&nbsp;<span class="ident" id="81873">sliceOfString</span><span class="op" id="81886">(</span><span class="ident" id="81887">a</span><span class="op" id="81888">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="81892">if</span>&nbsp;<span class="op" id="81895">!</span><span class="ident" id="81896">eq</span><span class="op" id="81898">(</span><span class="ident" id="81899">result</span><span class="op" id="81905">,</span>&nbsp;<span class="ident" id="81907">tt</span><span class="op" id="81909">.</span><span class="ident" id="81910">a</span><span class="op" id="81911">)</span>&nbsp;<span class="op" id="81913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="81918">t</span><span class="op" id="81919">.</span><span class="ident" id="81920">Errorf</span><span class="op" id="81926">(</span><span class="string" id="81927">`Explode(&#34;%s&#34;,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v`</span><span class="op" id="81960">,</span>&nbsp;<span class="ident" id="81962">tt</span><span class="op" id="81964">.</span><span class="ident" id="81965">s</span><span class="op" id="81966">,</span>&nbsp;<span class="ident" id="81968">tt</span><span class="op" id="81970">.</span><span class="ident" id="81971">n</span><span class="op" id="81972">,</span>&nbsp;<span class="ident" id="81974">result</span><span class="op" id="81980">,</span>&nbsp;<span class="ident" id="81982">tt</span><span class="op" id="81984">.</span><span class="ident" id="81985">a</span><span class="op" id="81986">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="81991">continue</span><br>
<span class="lineno">515</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82002">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82006">s</span>&nbsp;<span class="op" id="82008">:=</span>&nbsp;<span class="ident" id="82011">Join</span><span class="op" id="82015">(</span><span class="ident" id="82016">a</span><span class="op" id="82017">,</span>&nbsp;<span class="op" id="82019">[</span><span class="op" id="82020">]</span><span class="builtintype" id="82021">byte</span><span class="op" id="82025">{</span><span class="op" id="82026">}</span><span class="op" id="82027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="82031">if</span>&nbsp;<span class="builtintype" id="82034">string</span><span class="op" id="82040">(</span><span class="ident" id="82041">s</span><span class="op" id="82042">)</span>&nbsp;<span class="op" id="82044">!=</span>&nbsp;<span class="ident" id="82047">tt</span><span class="op" id="82049">.</span><span class="ident" id="82050">s</span>&nbsp;<span class="op" id="82052">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82057">t</span><span class="op" id="82058">.</span><span class="ident" id="82059">Errorf</span><span class="op" id="82065">(</span><span class="string" id="82066">`Join(Explode(&#34;%s&#34;,&nbsp;%d),&nbsp;&#34;&#34;)&nbsp;=&nbsp;&#34;%s&#34;`</span><span class="op" id="82102">,</span>&nbsp;<span class="ident" id="82104">tt</span><span class="op" id="82106">.</span><span class="ident" id="82107">s</span><span class="op" id="82108">,</span>&nbsp;<span class="ident" id="82110">tt</span><span class="op" id="82112">.</span><span class="ident" id="82113">n</span><span class="op" id="82114">,</span>&nbsp;<span class="ident" id="82116">s</span><span class="op" id="82117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82121">}</span><br>
<span class="lineno">520</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82124">}</span><br>
<span class="lineno"></span><span class="op" id="82126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="82129">type</span>&nbsp;<span class="ident" id="82134">SplitTest</span>&nbsp;<span class="keyword" id="82144">struct</span>&nbsp;<span class="op" id="82151">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82154">s</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="82158">string</span><br>
<span class="lineno">525</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82166">sep</span>&nbsp;<span class="builtintype" id="82170">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82178">n</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="82182">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82187">a</span>&nbsp;&nbsp;&nbsp;<span class="op" id="82191">[</span><span class="op" id="82192">]</span><span class="builtintype" id="82193">string</span><br>
<span class="lineno"></span><span class="op" id="82200">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">530</span><span class="keyword" id="82203">var</span>&nbsp;<span class="ident" id="82207">splittests</span>&nbsp;<span class="op" id="82218">=</span>&nbsp;<span class="op" id="82220">[</span><span class="op" id="82221">]</span><span class="ident" id="82222">SplitTest</span><span class="op" id="82231">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82234">{</span><span class="ident" id="82235">abcd</span><span class="op" id="82239">,</span>&nbsp;<span class="string" id="82241">&#34;a&#34;</span><span class="op" id="82244">,</span>&nbsp;<span class="num" id="82246">0</span><span class="op" id="82247">,</span>&nbsp;<span class="ident" id="82249">nil</span><span class="op" id="82252">}</span><span class="op" id="82253">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82256">{</span><span class="ident" id="82257">abcd</span><span class="op" id="82261">,</span>&nbsp;<span class="string" id="82263">&#34;a&#34;</span><span class="op" id="82266">,</span>&nbsp;<span class="op" id="82268">-</span><span class="num" id="82269">1</span><span class="op" id="82270">,</span>&nbsp;<span class="op" id="82272">[</span><span class="op" id="82273">]</span><span class="builtintype" id="82274">string</span><span class="op" id="82280">{</span><span class="string" id="82281">&#34;&#34;</span><span class="op" id="82283">,</span>&nbsp;<span class="string" id="82285">&#34;bcd&#34;</span><span class="op" id="82290">}</span><span class="op" id="82291">}</span><span class="op" id="82292">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82295">{</span><span class="ident" id="82296">abcd</span><span class="op" id="82300">,</span>&nbsp;<span class="string" id="82302">&#34;z&#34;</span><span class="op" id="82305">,</span>&nbsp;<span class="op" id="82307">-</span><span class="num" id="82308">1</span><span class="op" id="82309">,</span>&nbsp;<span class="op" id="82311">[</span><span class="op" id="82312">]</span><span class="builtintype" id="82313">string</span><span class="op" id="82319">{</span><span class="string" id="82320">&#34;abcd&#34;</span><span class="op" id="82326">}</span><span class="op" id="82327">}</span><span class="op" id="82328">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82331">{</span><span class="ident" id="82332">abcd</span><span class="op" id="82336">,</span>&nbsp;<span class="string" id="82338">&#34;&#34;</span><span class="op" id="82340">,</span>&nbsp;<span class="op" id="82342">-</span><span class="num" id="82343">1</span><span class="op" id="82344">,</span>&nbsp;<span class="op" id="82346">[</span><span class="op" id="82347">]</span><span class="builtintype" id="82348">string</span><span class="op" id="82354">{</span><span class="string" id="82355">&#34;a&#34;</span><span class="op" id="82358">,</span>&nbsp;<span class="string" id="82360">&#34;b&#34;</span><span class="op" id="82363">,</span>&nbsp;<span class="string" id="82365">&#34;c&#34;</span><span class="op" id="82368">,</span>&nbsp;<span class="string" id="82370">&#34;d&#34;</span><span class="op" id="82373">}</span><span class="op" id="82374">}</span><span class="op" id="82375">,</span><br>
<span class="lineno">535</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82378">{</span><span class="ident" id="82379">commas</span><span class="op" id="82385">,</span>&nbsp;<span class="string" id="82387">&#34;,&#34;</span><span class="op" id="82390">,</span>&nbsp;<span class="op" id="82392">-</span><span class="num" id="82393">1</span><span class="op" id="82394">,</span>&nbsp;<span class="op" id="82396">[</span><span class="op" id="82397">]</span><span class="builtintype" id="82398">string</span><span class="op" id="82404">{</span><span class="string" id="82405">&#34;1&#34;</span><span class="op" id="82408">,</span>&nbsp;<span class="string" id="82410">&#34;2&#34;</span><span class="op" id="82413">,</span>&nbsp;<span class="string" id="82415">&#34;3&#34;</span><span class="op" id="82418">,</span>&nbsp;<span class="string" id="82420">&#34;4&#34;</span><span class="op" id="82423">}</span><span class="op" id="82424">}</span><span class="op" id="82425">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82428">{</span><span class="ident" id="82429">dots</span><span class="op" id="82433">,</span>&nbsp;<span class="string" id="82435">&#34;...&#34;</span><span class="op" id="82440">,</span>&nbsp;<span class="op" id="82442">-</span><span class="num" id="82443">1</span><span class="op" id="82444">,</span>&nbsp;<span class="op" id="82446">[</span><span class="op" id="82447">]</span><span class="builtintype" id="82448">string</span><span class="op" id="82454">{</span><span class="string" id="82455">&#34;1&#34;</span><span class="op" id="82458">,</span>&nbsp;<span class="string" id="82460">&#34;.2&#34;</span><span class="op" id="82464">,</span>&nbsp;<span class="string" id="82466">&#34;.3&#34;</span><span class="op" id="82470">,</span>&nbsp;<span class="string" id="82472">&#34;.4&#34;</span><span class="op" id="82476">}</span><span class="op" id="82477">}</span><span class="op" id="82478">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82481">{</span><span class="ident" id="82482">faces</span><span class="op" id="82487">,</span>&nbsp;<span class="string" id="82489">&#34;☹&#34;</span><span class="op" id="82494">,</span>&nbsp;<span class="op" id="82496">-</span><span class="num" id="82497">1</span><span class="op" id="82498">,</span>&nbsp;<span class="op" id="82500">[</span><span class="op" id="82501">]</span><span class="builtintype" id="82502">string</span><span class="op" id="82508">{</span><span class="string" id="82509">&#34;☺☻&#34;</span><span class="op" id="82517">,</span>&nbsp;<span class="string" id="82519">&#34;&#34;</span><span class="op" id="82521">}</span><span class="op" id="82522">}</span><span class="op" id="82523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82526">{</span><span class="ident" id="82527">faces</span><span class="op" id="82532">,</span>&nbsp;<span class="string" id="82534">&#34;~&#34;</span><span class="op" id="82537">,</span>&nbsp;<span class="op" id="82539">-</span><span class="num" id="82540">1</span><span class="op" id="82541">,</span>&nbsp;<span class="op" id="82543">[</span><span class="op" id="82544">]</span><span class="builtintype" id="82545">string</span><span class="op" id="82551">{</span><span class="ident" id="82552">faces</span><span class="op" id="82557">}</span><span class="op" id="82558">}</span><span class="op" id="82559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82562">{</span><span class="ident" id="82563">faces</span><span class="op" id="82568">,</span>&nbsp;<span class="string" id="82570">&#34;&#34;</span><span class="op" id="82572">,</span>&nbsp;<span class="op" id="82574">-</span><span class="num" id="82575">1</span><span class="op" id="82576">,</span>&nbsp;<span class="op" id="82578">[</span><span class="op" id="82579">]</span><span class="builtintype" id="82580">string</span><span class="op" id="82586">{</span><span class="string" id="82587">&#34;☺&#34;</span><span class="op" id="82592">,</span>&nbsp;<span class="string" id="82594">&#34;☻&#34;</span><span class="op" id="82599">,</span>&nbsp;<span class="string" id="82601">&#34;☹&#34;</span><span class="op" id="82606">}</span><span class="op" id="82607">}</span><span class="op" id="82608">,</span><br>
<span class="lineno">540</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82611">{</span><span class="string" id="82612">&#34;1&nbsp;2&nbsp;3&nbsp;4&#34;</span><span class="op" id="82621">,</span>&nbsp;<span class="string" id="82623">&#34;&nbsp;&#34;</span><span class="op" id="82626">,</span>&nbsp;<span class="num" id="82628">3</span><span class="op" id="82629">,</span>&nbsp;<span class="op" id="82631">[</span><span class="op" id="82632">]</span><span class="builtintype" id="82633">string</span><span class="op" id="82639">{</span><span class="string" id="82640">&#34;1&#34;</span><span class="op" id="82643">,</span>&nbsp;<span class="string" id="82645">&#34;2&#34;</span><span class="op" id="82648">,</span>&nbsp;<span class="string" id="82650">&#34;3&nbsp;4&#34;</span><span class="op" id="82655">}</span><span class="op" id="82656">}</span><span class="op" id="82657">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82660">{</span><span class="string" id="82661">&#34;1&nbsp;2&#34;</span><span class="op" id="82666">,</span>&nbsp;<span class="string" id="82668">&#34;&nbsp;&#34;</span><span class="op" id="82671">,</span>&nbsp;<span class="num" id="82673">3</span><span class="op" id="82674">,</span>&nbsp;<span class="op" id="82676">[</span><span class="op" id="82677">]</span><span class="builtintype" id="82678">string</span><span class="op" id="82684">{</span><span class="string" id="82685">&#34;1&#34;</span><span class="op" id="82688">,</span>&nbsp;<span class="string" id="82690">&#34;2&#34;</span><span class="op" id="82693">}</span><span class="op" id="82694">}</span><span class="op" id="82695">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82698">{</span><span class="string" id="82699">&#34;123&#34;</span><span class="op" id="82704">,</span>&nbsp;<span class="string" id="82706">&#34;&#34;</span><span class="op" id="82708">,</span>&nbsp;<span class="num" id="82710">2</span><span class="op" id="82711">,</span>&nbsp;<span class="op" id="82713">[</span><span class="op" id="82714">]</span><span class="builtintype" id="82715">string</span><span class="op" id="82721">{</span><span class="string" id="82722">&#34;1&#34;</span><span class="op" id="82725">,</span>&nbsp;<span class="string" id="82727">&#34;23&#34;</span><span class="op" id="82731">}</span><span class="op" id="82732">}</span><span class="op" id="82733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="82736">{</span><span class="string" id="82737">&#34;123&#34;</span><span class="op" id="82742">,</span>&nbsp;<span class="string" id="82744">&#34;&#34;</span><span class="op" id="82746">,</span>&nbsp;<span class="num" id="82748">17</span><span class="op" id="82750">,</span>&nbsp;<span class="op" id="82752">[</span><span class="op" id="82753">]</span><span class="builtintype" id="82754">string</span><span class="op" id="82760">{</span><span class="string" id="82761">&#34;1&#34;</span><span class="op" id="82764">,</span>&nbsp;<span class="string" id="82766">&#34;2&#34;</span><span class="op" id="82769">,</span>&nbsp;<span class="string" id="82771">&#34;3&#34;</span><span class="op" id="82774">}</span><span class="op" id="82775">}</span><span class="op" id="82776">,</span><br>
<span class="lineno"></span><span class="op" id="82778">}</span><br>
<span class="lineno">545</span><br>
<span class="lineno"></span><span class="keyword" id="82781">func</span>&nbsp;<span class="ident" id="82786">TestSplit</span><span class="op" id="82795">(</span><span class="ident" id="82796">t</span>&nbsp;<span class="op" id="82798">*</span><span class="ident" id="82799">testing</span><span class="op" id="82806">.</span><span class="ident" id="82807">T</span><span class="op" id="82808">)</span>&nbsp;<span class="op" id="82810">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="82813">for</span>&nbsp;<span class="ident" id="82817">_</span><span class="op" id="82818">,</span>&nbsp;<span class="ident" id="82820">tt</span>&nbsp;<span class="op" id="82823">:=</span>&nbsp;<span class="keyword" id="82826">range</span>&nbsp;<span class="ident" id="82832">splittests</span>&nbsp;<span class="op" id="82843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82847">a</span>&nbsp;<span class="op" id="82849">:=</span>&nbsp;<span class="ident" id="82852">SplitN</span><span class="op" id="82858">(</span><span class="op" id="82859">[</span><span class="op" id="82860">]</span><span class="builtintype" id="82861">byte</span><span class="op" id="82865">(</span><span class="ident" id="82866">tt</span><span class="op" id="82868">.</span><span class="ident" id="82869">s</span><span class="op" id="82870">)</span><span class="op" id="82871">,</span>&nbsp;<span class="op" id="82873">[</span><span class="op" id="82874">]</span><span class="builtintype" id="82875">byte</span><span class="op" id="82879">(</span><span class="ident" id="82880">tt</span><span class="op" id="82882">.</span><span class="ident" id="82883">sep</span><span class="op" id="82886">)</span><span class="op" id="82887">,</span>&nbsp;<span class="ident" id="82889">tt</span><span class="op" id="82891">.</span><span class="ident" id="82892">n</span><span class="op" id="82893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82897">result</span>&nbsp;<span class="op" id="82904">:=</span>&nbsp;<span class="ident" id="82907">sliceOfString</span><span class="op" id="82920">(</span><span class="ident" id="82921">a</span><span class="op" id="82922">)</span><br>
<span class="lineno">550</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="82926">if</span>&nbsp;<span class="op" id="82929">!</span><span class="ident" id="82930">eq</span><span class="op" id="82932">(</span><span class="ident" id="82933">result</span><span class="op" id="82939">,</span>&nbsp;<span class="ident" id="82941">tt</span><span class="op" id="82943">.</span><span class="ident" id="82944">a</span><span class="op" id="82945">)</span>&nbsp;<span class="op" id="82947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="82952">t</span><span class="op" id="82953">.</span><span class="ident" id="82954">Errorf</span><span class="op" id="82960">(</span><span class="string" id="82961">`Split(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v`</span><span class="op" id="82994">,</span>&nbsp;<span class="ident" id="82996">tt</span><span class="op" id="82998">.</span><span class="ident" id="82999">s</span><span class="op" id="83000">,</span>&nbsp;<span class="ident" id="83002">tt</span><span class="op" id="83004">.</span><span class="ident" id="83005">sep</span><span class="op" id="83008">,</span>&nbsp;<span class="ident" id="83010">tt</span><span class="op" id="83012">.</span><span class="ident" id="83013">n</span><span class="op" id="83014">,</span>&nbsp;<span class="ident" id="83016">result</span><span class="op" id="83022">,</span>&nbsp;<span class="ident" id="83024">tt</span><span class="op" id="83026">.</span><span class="ident" id="83027">a</span><span class="op" id="83028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83033">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83044">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83048">if</span>&nbsp;<span class="ident" id="83051">tt</span><span class="op" id="83053">.</span><span class="ident" id="83054">n</span>&nbsp;<span class="op" id="83056">==</span>&nbsp;<span class="num" id="83059">0</span>&nbsp;<span class="op" id="83061">{</span><br>
<span class="lineno">555</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83066">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83077">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="83081">s</span>&nbsp;<span class="op" id="83083">:=</span>&nbsp;<span class="ident" id="83086">Join</span><span class="op" id="83090">(</span><span class="ident" id="83091">a</span><span class="op" id="83092">,</span>&nbsp;<span class="op" id="83094">[</span><span class="op" id="83095">]</span><span class="builtintype" id="83096">byte</span><span class="op" id="83100">(</span><span class="ident" id="83101">tt</span><span class="op" id="83103">.</span><span class="ident" id="83104">sep</span><span class="op" id="83107">)</span><span class="op" id="83108">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83112">if</span>&nbsp;<span class="builtintype" id="83115">string</span><span class="op" id="83121">(</span><span class="ident" id="83122">s</span><span class="op" id="83123">)</span>&nbsp;<span class="op" id="83125">!=</span>&nbsp;<span class="ident" id="83128">tt</span><span class="op" id="83130">.</span><span class="ident" id="83131">s</span>&nbsp;<span class="op" id="83133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="83138">t</span><span class="op" id="83139">.</span><span class="ident" id="83140">Errorf</span><span class="op" id="83146">(</span><span class="string" id="83147">`Join(Split(%q,&nbsp;%q,&nbsp;%d),&nbsp;%q)&nbsp;=&nbsp;%q`</span><span class="op" id="83181">,</span>&nbsp;<span class="ident" id="83183">tt</span><span class="op" id="83185">.</span><span class="ident" id="83186">s</span><span class="op" id="83187">,</span>&nbsp;<span class="ident" id="83189">tt</span><span class="op" id="83191">.</span><span class="ident" id="83192">sep</span><span class="op" id="83195">,</span>&nbsp;<span class="ident" id="83197">tt</span><span class="op" id="83199">.</span><span class="ident" id="83200">n</span><span class="op" id="83201">,</span>&nbsp;<span class="ident" id="83203">tt</span><span class="op" id="83205">.</span><span class="ident" id="83206">sep</span><span class="op" id="83209">,</span>&nbsp;<span class="ident" id="83211">s</span><span class="op" id="83212">)</span><br>
<span class="lineno">560</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83220">if</span>&nbsp;<span class="ident" id="83223">tt</span><span class="op" id="83225">.</span><span class="ident" id="83226">n</span>&nbsp;<span class="op" id="83228">&lt;</span>&nbsp;<span class="num" id="83230">0</span>&nbsp;<span class="op" id="83232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="83237">b</span>&nbsp;<span class="op" id="83239">:=</span>&nbsp;<span class="ident" id="83242">Split</span><span class="op" id="83247">(</span><span class="op" id="83248">[</span><span class="op" id="83249">]</span><span class="builtintype" id="83250">byte</span><span class="op" id="83254">(</span><span class="ident" id="83255">tt</span><span class="op" id="83257">.</span><span class="ident" id="83258">s</span><span class="op" id="83259">)</span><span class="op" id="83260">,</span>&nbsp;<span class="op" id="83262">[</span><span class="op" id="83263">]</span><span class="builtintype" id="83264">byte</span><span class="op" id="83268">(</span><span class="ident" id="83269">tt</span><span class="op" id="83271">.</span><span class="ident" id="83272">sep</span><span class="op" id="83275">)</span><span class="op" id="83276">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83281">if</span>&nbsp;<span class="op" id="83284">!</span><span class="ident" id="83285">reflect</span><span class="op" id="83292">.</span><span class="ident" id="83293">DeepEqual</span><span class="op" id="83302">(</span><span class="ident" id="83303">a</span><span class="op" id="83304">,</span>&nbsp;<span class="ident" id="83306">b</span><span class="op" id="83307">)</span>&nbsp;<span class="op" id="83309">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="83315">t</span><span class="op" id="83316">.</span><span class="ident" id="83317">Errorf</span><span class="op" id="83323">(</span><span class="string" id="83324">&#34;Split&nbsp;disagrees&nbsp;withSplitN(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="83378">,</span>&nbsp;<span class="ident" id="83380">tt</span><span class="op" id="83382">.</span><span class="ident" id="83383">s</span><span class="op" id="83384">,</span>&nbsp;<span class="ident" id="83386">tt</span><span class="op" id="83388">.</span><span class="ident" id="83389">sep</span><span class="op" id="83392">,</span>&nbsp;<span class="ident" id="83394">tt</span><span class="op" id="83396">.</span><span class="ident" id="83397">n</span><span class="op" id="83398">,</span>&nbsp;<span class="ident" id="83400">b</span><span class="op" id="83401">,</span>&nbsp;<span class="ident" id="83403">a</span><span class="op" id="83404">)</span><br>
<span class="lineno">565</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83409">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83417">if</span>&nbsp;<span class="builtinfunc" id="83420">len</span><span class="op" id="83423">(</span><span class="ident" id="83424">a</span><span class="op" id="83425">)</span>&nbsp;<span class="op" id="83427">&gt;</span>&nbsp;<span class="num" id="83429">0</span>&nbsp;<span class="op" id="83431">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="83436">in</span><span class="op" id="83438">,</span>&nbsp;<span class="ident" id="83440">out</span>&nbsp;<span class="op" id="83444">:=</span>&nbsp;<span class="ident" id="83447">a</span><span class="op" id="83448">[</span><span class="num" id="83449">0</span><span class="op" id="83450">]</span><span class="op" id="83451">,</span>&nbsp;<span class="ident" id="83453">s</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="83458">if</span>&nbsp;<span class="builtinfunc" id="83461">cap</span><span class="op" id="83464">(</span><span class="ident" id="83465">in</span><span class="op" id="83467">)</span>&nbsp;<span class="op" id="83469">==</span>&nbsp;<span class="builtinfunc" id="83472">cap</span><span class="op" id="83475">(</span><span class="ident" id="83476">out</span><span class="op" id="83479">)</span>&nbsp;<span class="op" id="83481">&amp;&amp;</span>&nbsp;<span class="op" id="83484">&amp;</span><span class="ident" id="83485">in</span><span class="op" id="83487">[</span><span class="op" id="83488">:</span><span class="num" id="83489">1</span><span class="op" id="83490">]</span><span class="op" id="83491">[</span><span class="num" id="83492">0</span><span class="op" id="83493">]</span>&nbsp;<span class="op" id="83495">==</span>&nbsp;<span class="op" id="83498">&amp;</span><span class="ident" id="83499">out</span><span class="op" id="83502">[</span><span class="op" id="83503">:</span><span class="num" id="83504">1</span><span class="op" id="83505">]</span><span class="op" id="83506">[</span><span class="num" id="83507">0</span><span class="op" id="83508">]</span>&nbsp;<span class="op" id="83510">{</span><br>
<span class="lineno">570</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="83516">t</span><span class="op" id="83517">.</span><span class="ident" id="83518">Errorf</span><span class="op" id="83524">(</span><span class="string" id="83525">&#34;Join(%#v,&nbsp;%q)&nbsp;didn&#39;t&nbsp;copy&#34;</span><span class="op" id="83552">,</span>&nbsp;<span class="ident" id="83554">a</span><span class="op" id="83555">,</span>&nbsp;<span class="ident" id="83557">tt</span><span class="op" id="83559">.</span><span class="ident" id="83560">sep</span><span class="op" id="83563">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83572">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83575">}</span><br>
<span class="lineno"></span><span class="op" id="83577">}</span><br>
<span class="lineno">575</span><br>
<span class="lineno"></span><span class="keyword" id="83580">var</span>&nbsp;<span class="ident" id="83584">splitaftertests</span>&nbsp;<span class="op" id="83600">=</span>&nbsp;<span class="op" id="83602">[</span><span class="op" id="83603">]</span><span class="ident" id="83604">SplitTest</span><span class="op" id="83613">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83616">{</span><span class="ident" id="83617">abcd</span><span class="op" id="83621">,</span>&nbsp;<span class="string" id="83623">&#34;a&#34;</span><span class="op" id="83626">,</span>&nbsp;<span class="op" id="83628">-</span><span class="num" id="83629">1</span><span class="op" id="83630">,</span>&nbsp;<span class="op" id="83632">[</span><span class="op" id="83633">]</span><span class="builtintype" id="83634">string</span><span class="op" id="83640">{</span><span class="string" id="83641">&#34;a&#34;</span><span class="op" id="83644">,</span>&nbsp;<span class="string" id="83646">&#34;bcd&#34;</span><span class="op" id="83651">}</span><span class="op" id="83652">}</span><span class="op" id="83653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83656">{</span><span class="ident" id="83657">abcd</span><span class="op" id="83661">,</span>&nbsp;<span class="string" id="83663">&#34;z&#34;</span><span class="op" id="83666">,</span>&nbsp;<span class="op" id="83668">-</span><span class="num" id="83669">1</span><span class="op" id="83670">,</span>&nbsp;<span class="op" id="83672">[</span><span class="op" id="83673">]</span><span class="builtintype" id="83674">string</span><span class="op" id="83680">{</span><span class="string" id="83681">&#34;abcd&#34;</span><span class="op" id="83687">}</span><span class="op" id="83688">}</span><span class="op" id="83689">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83692">{</span><span class="ident" id="83693">abcd</span><span class="op" id="83697">,</span>&nbsp;<span class="string" id="83699">&#34;&#34;</span><span class="op" id="83701">,</span>&nbsp;<span class="op" id="83703">-</span><span class="num" id="83704">1</span><span class="op" id="83705">,</span>&nbsp;<span class="op" id="83707">[</span><span class="op" id="83708">]</span><span class="builtintype" id="83709">string</span><span class="op" id="83715">{</span><span class="string" id="83716">&#34;a&#34;</span><span class="op" id="83719">,</span>&nbsp;<span class="string" id="83721">&#34;b&#34;</span><span class="op" id="83724">,</span>&nbsp;<span class="string" id="83726">&#34;c&#34;</span><span class="op" id="83729">,</span>&nbsp;<span class="string" id="83731">&#34;d&#34;</span><span class="op" id="83734">}</span><span class="op" id="83735">}</span><span class="op" id="83736">,</span><br>
<span class="lineno">580</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83739">{</span><span class="ident" id="83740">commas</span><span class="op" id="83746">,</span>&nbsp;<span class="string" id="83748">&#34;,&#34;</span><span class="op" id="83751">,</span>&nbsp;<span class="op" id="83753">-</span><span class="num" id="83754">1</span><span class="op" id="83755">,</span>&nbsp;<span class="op" id="83757">[</span><span class="op" id="83758">]</span><span class="builtintype" id="83759">string</span><span class="op" id="83765">{</span><span class="string" id="83766">&#34;1,&#34;</span><span class="op" id="83770">,</span>&nbsp;<span class="string" id="83772">&#34;2,&#34;</span><span class="op" id="83776">,</span>&nbsp;<span class="string" id="83778">&#34;3,&#34;</span><span class="op" id="83782">,</span>&nbsp;<span class="string" id="83784">&#34;4&#34;</span><span class="op" id="83787">}</span><span class="op" id="83788">}</span><span class="op" id="83789">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83792">{</span><span class="ident" id="83793">dots</span><span class="op" id="83797">,</span>&nbsp;<span class="string" id="83799">&#34;...&#34;</span><span class="op" id="83804">,</span>&nbsp;<span class="op" id="83806">-</span><span class="num" id="83807">1</span><span class="op" id="83808">,</span>&nbsp;<span class="op" id="83810">[</span><span class="op" id="83811">]</span><span class="builtintype" id="83812">string</span><span class="op" id="83818">{</span><span class="string" id="83819">&#34;1...&#34;</span><span class="op" id="83825">,</span>&nbsp;<span class="string" id="83827">&#34;.2...&#34;</span><span class="op" id="83834">,</span>&nbsp;<span class="string" id="83836">&#34;.3...&#34;</span><span class="op" id="83843">,</span>&nbsp;<span class="string" id="83845">&#34;.4&#34;</span><span class="op" id="83849">}</span><span class="op" id="83850">}</span><span class="op" id="83851">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83854">{</span><span class="ident" id="83855">faces</span><span class="op" id="83860">,</span>&nbsp;<span class="string" id="83862">&#34;☹&#34;</span><span class="op" id="83867">,</span>&nbsp;<span class="op" id="83869">-</span><span class="num" id="83870">1</span><span class="op" id="83871">,</span>&nbsp;<span class="op" id="83873">[</span><span class="op" id="83874">]</span><span class="builtintype" id="83875">string</span><span class="op" id="83881">{</span><span class="string" id="83882">&#34;☺☻☹&#34;</span><span class="op" id="83893">,</span>&nbsp;<span class="string" id="83895">&#34;&#34;</span><span class="op" id="83897">}</span><span class="op" id="83898">}</span><span class="op" id="83899">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83902">{</span><span class="ident" id="83903">faces</span><span class="op" id="83908">,</span>&nbsp;<span class="string" id="83910">&#34;~&#34;</span><span class="op" id="83913">,</span>&nbsp;<span class="op" id="83915">-</span><span class="num" id="83916">1</span><span class="op" id="83917">,</span>&nbsp;<span class="op" id="83919">[</span><span class="op" id="83920">]</span><span class="builtintype" id="83921">string</span><span class="op" id="83927">{</span><span class="ident" id="83928">faces</span><span class="op" id="83933">}</span><span class="op" id="83934">}</span><span class="op" id="83935">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83938">{</span><span class="ident" id="83939">faces</span><span class="op" id="83944">,</span>&nbsp;<span class="string" id="83946">&#34;&#34;</span><span class="op" id="83948">,</span>&nbsp;<span class="op" id="83950">-</span><span class="num" id="83951">1</span><span class="op" id="83952">,</span>&nbsp;<span class="op" id="83954">[</span><span class="op" id="83955">]</span><span class="builtintype" id="83956">string</span><span class="op" id="83962">{</span><span class="string" id="83963">&#34;☺&#34;</span><span class="op" id="83968">,</span>&nbsp;<span class="string" id="83970">&#34;☻&#34;</span><span class="op" id="83975">,</span>&nbsp;<span class="string" id="83977">&#34;☹&#34;</span><span class="op" id="83982">}</span><span class="op" id="83983">}</span><span class="op" id="83984">,</span><br>
<span class="lineno">585</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="83987">{</span><span class="string" id="83988">&#34;1&nbsp;2&nbsp;3&nbsp;4&#34;</span><span class="op" id="83997">,</span>&nbsp;<span class="string" id="83999">&#34;&nbsp;&#34;</span><span class="op" id="84002">,</span>&nbsp;<span class="num" id="84004">3</span><span class="op" id="84005">,</span>&nbsp;<span class="op" id="84007">[</span><span class="op" id="84008">]</span><span class="builtintype" id="84009">string</span><span class="op" id="84015">{</span><span class="string" id="84016">&#34;1&nbsp;&#34;</span><span class="op" id="84020">,</span>&nbsp;<span class="string" id="84022">&#34;2&nbsp;&#34;</span><span class="op" id="84026">,</span>&nbsp;<span class="string" id="84028">&#34;3&nbsp;4&#34;</span><span class="op" id="84033">}</span><span class="op" id="84034">}</span><span class="op" id="84035">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84038">{</span><span class="string" id="84039">&#34;1&nbsp;2&nbsp;3&#34;</span><span class="op" id="84046">,</span>&nbsp;<span class="string" id="84048">&#34;&nbsp;&#34;</span><span class="op" id="84051">,</span>&nbsp;<span class="num" id="84053">3</span><span class="op" id="84054">,</span>&nbsp;<span class="op" id="84056">[</span><span class="op" id="84057">]</span><span class="builtintype" id="84058">string</span><span class="op" id="84064">{</span><span class="string" id="84065">&#34;1&nbsp;&#34;</span><span class="op" id="84069">,</span>&nbsp;<span class="string" id="84071">&#34;2&nbsp;&#34;</span><span class="op" id="84075">,</span>&nbsp;<span class="string" id="84077">&#34;3&#34;</span><span class="op" id="84080">}</span><span class="op" id="84081">}</span><span class="op" id="84082">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84085">{</span><span class="string" id="84086">&#34;1&nbsp;2&#34;</span><span class="op" id="84091">,</span>&nbsp;<span class="string" id="84093">&#34;&nbsp;&#34;</span><span class="op" id="84096">,</span>&nbsp;<span class="num" id="84098">3</span><span class="op" id="84099">,</span>&nbsp;<span class="op" id="84101">[</span><span class="op" id="84102">]</span><span class="builtintype" id="84103">string</span><span class="op" id="84109">{</span><span class="string" id="84110">&#34;1&nbsp;&#34;</span><span class="op" id="84114">,</span>&nbsp;<span class="string" id="84116">&#34;2&#34;</span><span class="op" id="84119">}</span><span class="op" id="84120">}</span><span class="op" id="84121">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84124">{</span><span class="string" id="84125">&#34;123&#34;</span><span class="op" id="84130">,</span>&nbsp;<span class="string" id="84132">&#34;&#34;</span><span class="op" id="84134">,</span>&nbsp;<span class="num" id="84136">2</span><span class="op" id="84137">,</span>&nbsp;<span class="op" id="84139">[</span><span class="op" id="84140">]</span><span class="builtintype" id="84141">string</span><span class="op" id="84147">{</span><span class="string" id="84148">&#34;1&#34;</span><span class="op" id="84151">,</span>&nbsp;<span class="string" id="84153">&#34;23&#34;</span><span class="op" id="84157">}</span><span class="op" id="84158">}</span><span class="op" id="84159">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84162">{</span><span class="string" id="84163">&#34;123&#34;</span><span class="op" id="84168">,</span>&nbsp;<span class="string" id="84170">&#34;&#34;</span><span class="op" id="84172">,</span>&nbsp;<span class="num" id="84174">17</span><span class="op" id="84176">,</span>&nbsp;<span class="op" id="84178">[</span><span class="op" id="84179">]</span><span class="builtintype" id="84180">string</span><span class="op" id="84186">{</span><span class="string" id="84187">&#34;1&#34;</span><span class="op" id="84190">,</span>&nbsp;<span class="string" id="84192">&#34;2&#34;</span><span class="op" id="84195">,</span>&nbsp;<span class="string" id="84197">&#34;3&#34;</span><span class="op" id="84200">}</span><span class="op" id="84201">}</span><span class="op" id="84202">,</span><br>
<span class="lineno">590</span><span class="op" id="84204">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="84207">func</span>&nbsp;<span class="ident" id="84212">TestSplitAfter</span><span class="op" id="84226">(</span><span class="ident" id="84227">t</span>&nbsp;<span class="op" id="84229">*</span><span class="ident" id="84230">testing</span><span class="op" id="84237">.</span><span class="ident" id="84238">T</span><span class="op" id="84239">)</span>&nbsp;<span class="op" id="84241">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="84244">for</span>&nbsp;<span class="ident" id="84248">_</span><span class="op" id="84249">,</span>&nbsp;<span class="ident" id="84251">tt</span>&nbsp;<span class="op" id="84254">:=</span>&nbsp;<span class="keyword" id="84257">range</span>&nbsp;<span class="ident" id="84263">splitaftertests</span>&nbsp;<span class="op" id="84279">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84283">a</span>&nbsp;<span class="op" id="84285">:=</span>&nbsp;<span class="ident" id="84288">SplitAfterN</span><span class="op" id="84299">(</span><span class="op" id="84300">[</span><span class="op" id="84301">]</span><span class="builtintype" id="84302">byte</span><span class="op" id="84306">(</span><span class="ident" id="84307">tt</span><span class="op" id="84309">.</span><span class="ident" id="84310">s</span><span class="op" id="84311">)</span><span class="op" id="84312">,</span>&nbsp;<span class="op" id="84314">[</span><span class="op" id="84315">]</span><span class="builtintype" id="84316">byte</span><span class="op" id="84320">(</span><span class="ident" id="84321">tt</span><span class="op" id="84323">.</span><span class="ident" id="84324">sep</span><span class="op" id="84327">)</span><span class="op" id="84328">,</span>&nbsp;<span class="ident" id="84330">tt</span><span class="op" id="84332">.</span><span class="ident" id="84333">n</span><span class="op" id="84334">)</span><br>
<span class="lineno">595</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84338">result</span>&nbsp;<span class="op" id="84345">:=</span>&nbsp;<span class="ident" id="84348">sliceOfString</span><span class="op" id="84361">(</span><span class="ident" id="84362">a</span><span class="op" id="84363">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="84367">if</span>&nbsp;<span class="op" id="84370">!</span><span class="ident" id="84371">eq</span><span class="op" id="84373">(</span><span class="ident" id="84374">result</span><span class="op" id="84380">,</span>&nbsp;<span class="ident" id="84382">tt</span><span class="op" id="84384">.</span><span class="ident" id="84385">a</span><span class="op" id="84386">)</span>&nbsp;<span class="op" id="84388">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84393">t</span><span class="op" id="84394">.</span><span class="ident" id="84395">Errorf</span><span class="op" id="84401">(</span><span class="string" id="84402">`Split(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v`</span><span class="op" id="84435">,</span>&nbsp;<span class="ident" id="84437">tt</span><span class="op" id="84439">.</span><span class="ident" id="84440">s</span><span class="op" id="84441">,</span>&nbsp;<span class="ident" id="84443">tt</span><span class="op" id="84445">.</span><span class="ident" id="84446">sep</span><span class="op" id="84449">,</span>&nbsp;<span class="ident" id="84451">tt</span><span class="op" id="84453">.</span><span class="ident" id="84454">n</span><span class="op" id="84455">,</span>&nbsp;<span class="ident" id="84457">result</span><span class="op" id="84463">,</span>&nbsp;<span class="ident" id="84465">tt</span><span class="op" id="84467">.</span><span class="ident" id="84468">a</span><span class="op" id="84469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="84474">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84485">}</span><br>
<span class="lineno">600</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84489">s</span>&nbsp;<span class="op" id="84491">:=</span>&nbsp;<span class="ident" id="84494">Join</span><span class="op" id="84498">(</span><span class="ident" id="84499">a</span><span class="op" id="84500">,</span>&nbsp;<span class="ident" id="84502">nil</span><span class="op" id="84505">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="84509">if</span>&nbsp;<span class="builtintype" id="84512">string</span><span class="op" id="84518">(</span><span class="ident" id="84519">s</span><span class="op" id="84520">)</span>&nbsp;<span class="op" id="84522">!=</span>&nbsp;<span class="ident" id="84525">tt</span><span class="op" id="84527">.</span><span class="ident" id="84528">s</span>&nbsp;<span class="op" id="84530">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84535">t</span><span class="op" id="84536">.</span><span class="ident" id="84537">Errorf</span><span class="op" id="84543">(</span><span class="string" id="84544">`Join(Split(%q,&nbsp;%q,&nbsp;%d),&nbsp;%q)&nbsp;=&nbsp;%q`</span><span class="op" id="84578">,</span>&nbsp;<span class="ident" id="84580">tt</span><span class="op" id="84582">.</span><span class="ident" id="84583">s</span><span class="op" id="84584">,</span>&nbsp;<span class="ident" id="84586">tt</span><span class="op" id="84588">.</span><span class="ident" id="84589">sep</span><span class="op" id="84592">,</span>&nbsp;<span class="ident" id="84594">tt</span><span class="op" id="84596">.</span><span class="ident" id="84597">n</span><span class="op" id="84598">,</span>&nbsp;<span class="ident" id="84600">tt</span><span class="op" id="84602">.</span><span class="ident" id="84603">sep</span><span class="op" id="84606">,</span>&nbsp;<span class="ident" id="84608">s</span><span class="op" id="84609">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84613">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="84617">if</span>&nbsp;<span class="ident" id="84620">tt</span><span class="op" id="84622">.</span><span class="ident" id="84623">n</span>&nbsp;<span class="op" id="84625">&lt;</span>&nbsp;<span class="num" id="84627">0</span>&nbsp;<span class="op" id="84629">{</span><br>
<span class="lineno">605</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84634">b</span>&nbsp;<span class="op" id="84636">:=</span>&nbsp;<span class="ident" id="84639">SplitAfter</span><span class="op" id="84649">(</span><span class="op" id="84650">[</span><span class="op" id="84651">]</span><span class="builtintype" id="84652">byte</span><span class="op" id="84656">(</span><span class="ident" id="84657">tt</span><span class="op" id="84659">.</span><span class="ident" id="84660">s</span><span class="op" id="84661">)</span><span class="op" id="84662">,</span>&nbsp;<span class="op" id="84664">[</span><span class="op" id="84665">]</span><span class="builtintype" id="84666">byte</span><span class="op" id="84670">(</span><span class="ident" id="84671">tt</span><span class="op" id="84673">.</span><span class="ident" id="84674">sep</span><span class="op" id="84677">)</span><span class="op" id="84678">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="84683">if</span>&nbsp;<span class="op" id="84686">!</span><span class="ident" id="84687">reflect</span><span class="op" id="84694">.</span><span class="ident" id="84695">DeepEqual</span><span class="op" id="84704">(</span><span class="ident" id="84705">a</span><span class="op" id="84706">,</span>&nbsp;<span class="ident" id="84708">b</span><span class="op" id="84709">)</span>&nbsp;<span class="op" id="84711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84717">t</span><span class="op" id="84718">.</span><span class="ident" id="84719">Errorf</span><span class="op" id="84725">(</span><span class="string" id="84726">&#34;SplitAfter&nbsp;disagrees&nbsp;withSplitAfterN(%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="84790">,</span>&nbsp;<span class="ident" id="84792">tt</span><span class="op" id="84794">.</span><span class="ident" id="84795">s</span><span class="op" id="84796">,</span>&nbsp;<span class="ident" id="84798">tt</span><span class="op" id="84800">.</span><span class="ident" id="84801">sep</span><span class="op" id="84804">,</span>&nbsp;<span class="ident" id="84806">tt</span><span class="op" id="84808">.</span><span class="ident" id="84809">n</span><span class="op" id="84810">,</span>&nbsp;<span class="ident" id="84812">b</span><span class="op" id="84813">,</span>&nbsp;<span class="ident" id="84815">a</span><span class="op" id="84816">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84821">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84825">}</span><br>
<span class="lineno">610</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84828">}</span><br>
<span class="lineno"></span><span class="op" id="84830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="84833">type</span>&nbsp;<span class="ident" id="84838">FieldsTest</span>&nbsp;<span class="keyword" id="84849">struct</span>&nbsp;<span class="op" id="84856">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84859">s</span>&nbsp;<span class="builtintype" id="84861">string</span><br>
<span class="lineno">615</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="84869">a</span>&nbsp;<span class="op" id="84871">[</span><span class="op" id="84872">]</span><span class="builtintype" id="84873">string</span><br>
<span class="lineno"></span><span class="op" id="84880">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="84883">var</span>&nbsp;<span class="ident" id="84887">fieldstests</span>&nbsp;<span class="op" id="84899">=</span>&nbsp;<span class="op" id="84901">[</span><span class="op" id="84902">]</span><span class="ident" id="84903">FieldsTest</span><span class="op" id="84913">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84916">{</span><span class="string" id="84917">&#34;&#34;</span><span class="op" id="84919">,</span>&nbsp;<span class="op" id="84921">[</span><span class="op" id="84922">]</span><span class="builtintype" id="84923">string</span><span class="op" id="84929">{</span><span class="op" id="84930">}</span><span class="op" id="84931">}</span><span class="op" id="84932">,</span><br>
<span class="lineno">620</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84935">{</span><span class="string" id="84936">&#34;&nbsp;&#34;</span><span class="op" id="84939">,</span>&nbsp;<span class="op" id="84941">[</span><span class="op" id="84942">]</span><span class="builtintype" id="84943">string</span><span class="op" id="84949">{</span><span class="op" id="84950">}</span><span class="op" id="84951">}</span><span class="op" id="84952">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84955">{</span><span class="string" id="84956">&#34;&nbsp;\t&nbsp;&#34;</span><span class="op" id="84962">,</span>&nbsp;<span class="op" id="84964">[</span><span class="op" id="84965">]</span><span class="builtintype" id="84966">string</span><span class="op" id="84972">{</span><span class="op" id="84973">}</span><span class="op" id="84974">}</span><span class="op" id="84975">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="84978">{</span><span class="string" id="84979">&#34;&nbsp;&nbsp;abc&nbsp;&nbsp;&#34;</span><span class="op" id="84988">,</span>&nbsp;<span class="op" id="84990">[</span><span class="op" id="84991">]</span><span class="builtintype" id="84992">string</span><span class="op" id="84998">{</span><span class="string" id="84999">&#34;abc&#34;</span><span class="op" id="85004">}</span><span class="op" id="85005">}</span><span class="op" id="85006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85009">{</span><span class="string" id="85010">&#34;1&nbsp;2&nbsp;3&nbsp;4&#34;</span><span class="op" id="85019">,</span>&nbsp;<span class="op" id="85021">[</span><span class="op" id="85022">]</span><span class="builtintype" id="85023">string</span><span class="op" id="85029">{</span><span class="string" id="85030">&#34;1&#34;</span><span class="op" id="85033">,</span>&nbsp;<span class="string" id="85035">&#34;2&#34;</span><span class="op" id="85038">,</span>&nbsp;<span class="string" id="85040">&#34;3&#34;</span><span class="op" id="85043">,</span>&nbsp;<span class="string" id="85045">&#34;4&#34;</span><span class="op" id="85048">}</span><span class="op" id="85049">}</span><span class="op" id="85050">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85053">{</span><span class="string" id="85054">&#34;1&nbsp;&nbsp;2&nbsp;&nbsp;3&nbsp;&nbsp;4&#34;</span><span class="op" id="85066">,</span>&nbsp;<span class="op" id="85068">[</span><span class="op" id="85069">]</span><span class="builtintype" id="85070">string</span><span class="op" id="85076">{</span><span class="string" id="85077">&#34;1&#34;</span><span class="op" id="85080">,</span>&nbsp;<span class="string" id="85082">&#34;2&#34;</span><span class="op" id="85085">,</span>&nbsp;<span class="string" id="85087">&#34;3&#34;</span><span class="op" id="85090">,</span>&nbsp;<span class="string" id="85092">&#34;4&#34;</span><span class="op" id="85095">}</span><span class="op" id="85096">}</span><span class="op" id="85097">,</span><br>
<span class="lineno">625</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85100">{</span><span class="string" id="85101">&#34;1\t\t2\t\t3\t4&#34;</span><span class="op" id="85117">,</span>&nbsp;<span class="op" id="85119">[</span><span class="op" id="85120">]</span><span class="builtintype" id="85121">string</span><span class="op" id="85127">{</span><span class="string" id="85128">&#34;1&#34;</span><span class="op" id="85131">,</span>&nbsp;<span class="string" id="85133">&#34;2&#34;</span><span class="op" id="85136">,</span>&nbsp;<span class="string" id="85138">&#34;3&#34;</span><span class="op" id="85141">,</span>&nbsp;<span class="string" id="85143">&#34;4&#34;</span><span class="op" id="85146">}</span><span class="op" id="85147">}</span><span class="op" id="85148">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85151">{</span><span class="string" id="85152">&#34;1\u20002\u20013\u20024&#34;</span><span class="op" id="85176">,</span>&nbsp;<span class="op" id="85178">[</span><span class="op" id="85179">]</span><span class="builtintype" id="85180">string</span><span class="op" id="85186">{</span><span class="string" id="85187">&#34;1&#34;</span><span class="op" id="85190">,</span>&nbsp;<span class="string" id="85192">&#34;2&#34;</span><span class="op" id="85195">,</span>&nbsp;<span class="string" id="85197">&#34;3&#34;</span><span class="op" id="85200">,</span>&nbsp;<span class="string" id="85202">&#34;4&#34;</span><span class="op" id="85205">}</span><span class="op" id="85206">}</span><span class="op" id="85207">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85210">{</span><span class="string" id="85211">&#34;\u2000\u2001\u2002&#34;</span><span class="op" id="85231">,</span>&nbsp;<span class="op" id="85233">[</span><span class="op" id="85234">]</span><span class="builtintype" id="85235">string</span><span class="op" id="85241">{</span><span class="op" id="85242">}</span><span class="op" id="85243">}</span><span class="op" id="85244">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85247">{</span><span class="string" id="85248">&#34;\n™\t™\n&#34;</span><span class="op" id="85262">,</span>&nbsp;<span class="op" id="85264">[</span><span class="op" id="85265">]</span><span class="builtintype" id="85266">string</span><span class="op" id="85272">{</span><span class="string" id="85273">&#34;™&#34;</span><span class="op" id="85278">,</span>&nbsp;<span class="string" id="85280">&#34;™&#34;</span><span class="op" id="85285">}</span><span class="op" id="85286">}</span><span class="op" id="85287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85290">{</span><span class="ident" id="85291">faces</span><span class="op" id="85296">,</span>&nbsp;<span class="op" id="85298">[</span><span class="op" id="85299">]</span><span class="builtintype" id="85300">string</span><span class="op" id="85306">{</span><span class="ident" id="85307">faces</span><span class="op" id="85312">}</span><span class="op" id="85313">}</span><span class="op" id="85314">,</span><br>
<span class="lineno">630</span><span class="op" id="85316">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="85319">func</span>&nbsp;<span class="ident" id="85324">TestFields</span><span class="op" id="85334">(</span><span class="ident" id="85335">t</span>&nbsp;<span class="op" id="85337">*</span><span class="ident" id="85338">testing</span><span class="op" id="85345">.</span><span class="ident" id="85346">T</span><span class="op" id="85347">)</span>&nbsp;<span class="op" id="85349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85352">for</span>&nbsp;<span class="ident" id="85356">_</span><span class="op" id="85357">,</span>&nbsp;<span class="ident" id="85359">tt</span>&nbsp;<span class="op" id="85362">:=</span>&nbsp;<span class="keyword" id="85365">range</span>&nbsp;<span class="ident" id="85371">fieldstests</span>&nbsp;<span class="op" id="85383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85387">a</span>&nbsp;<span class="op" id="85389">:=</span>&nbsp;<span class="ident" id="85392">Fields</span><span class="op" id="85398">(</span><span class="op" id="85399">[</span><span class="op" id="85400">]</span><span class="builtintype" id="85401">byte</span><span class="op" id="85405">(</span><span class="ident" id="85406">tt</span><span class="op" id="85408">.</span><span class="ident" id="85409">s</span><span class="op" id="85410">)</span><span class="op" id="85411">)</span><br>
<span class="lineno">635</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85415">result</span>&nbsp;<span class="op" id="85422">:=</span>&nbsp;<span class="ident" id="85425">sliceOfString</span><span class="op" id="85438">(</span><span class="ident" id="85439">a</span><span class="op" id="85440">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85444">if</span>&nbsp;<span class="op" id="85447">!</span><span class="ident" id="85448">eq</span><span class="op" id="85450">(</span><span class="ident" id="85451">result</span><span class="op" id="85457">,</span>&nbsp;<span class="ident" id="85459">tt</span><span class="op" id="85461">.</span><span class="ident" id="85462">a</span><span class="op" id="85463">)</span>&nbsp;<span class="op" id="85465">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85470">t</span><span class="op" id="85471">.</span><span class="ident" id="85472">Errorf</span><span class="op" id="85478">(</span><span class="string" id="85479">&#34;Fields(%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="85505">,</span>&nbsp;<span class="ident" id="85507">tt</span><span class="op" id="85509">.</span><span class="ident" id="85510">s</span><span class="op" id="85511">,</span>&nbsp;<span class="ident" id="85513">a</span><span class="op" id="85514">,</span>&nbsp;<span class="ident" id="85516">tt</span><span class="op" id="85518">.</span><span class="ident" id="85519">a</span><span class="op" id="85520">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85525">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85536">}</span><br>
<span class="lineno">640</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85539">}</span><br>
<span class="lineno"></span><span class="op" id="85541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="85544">func</span>&nbsp;<span class="ident" id="85549">TestFieldsFunc</span><span class="op" id="85563">(</span><span class="ident" id="85564">t</span>&nbsp;<span class="op" id="85566">*</span><span class="ident" id="85567">testing</span><span class="op" id="85574">.</span><span class="ident" id="85575">T</span><span class="op" id="85576">)</span>&nbsp;<span class="op" id="85578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85581">for</span>&nbsp;<span class="ident" id="85585">_</span><span class="op" id="85586">,</span>&nbsp;<span class="ident" id="85588">tt</span>&nbsp;<span class="op" id="85591">:=</span>&nbsp;<span class="keyword" id="85594">range</span>&nbsp;<span class="ident" id="85600">fieldstests</span>&nbsp;<span class="op" id="85612">{</span><br>
<span class="lineno">645</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85616">a</span>&nbsp;<span class="op" id="85618">:=</span>&nbsp;<span class="ident" id="85621">FieldsFunc</span><span class="op" id="85631">(</span><span class="op" id="85632">[</span><span class="op" id="85633">]</span><span class="builtintype" id="85634">byte</span><span class="op" id="85638">(</span><span class="ident" id="85639">tt</span><span class="op" id="85641">.</span><span class="ident" id="85642">s</span><span class="op" id="85643">)</span><span class="op" id="85644">,</span>&nbsp;<span class="ident" id="85646">unicode</span><span class="op" id="85653">.</span><span class="ident" id="85654">IsSpace</span><span class="op" id="85661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85665">result</span>&nbsp;<span class="op" id="85672">:=</span>&nbsp;<span class="ident" id="85675">sliceOfString</span><span class="op" id="85688">(</span><span class="ident" id="85689">a</span><span class="op" id="85690">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85694">if</span>&nbsp;<span class="op" id="85697">!</span><span class="ident" id="85698">eq</span><span class="op" id="85700">(</span><span class="ident" id="85701">result</span><span class="op" id="85707">,</span>&nbsp;<span class="ident" id="85709">tt</span><span class="op" id="85711">.</span><span class="ident" id="85712">a</span><span class="op" id="85713">)</span>&nbsp;<span class="op" id="85715">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85720">t</span><span class="op" id="85721">.</span><span class="ident" id="85722">Errorf</span><span class="op" id="85728">(</span><span class="string" id="85729">&#34;FieldsFunc(%q,&nbsp;unicode.IsSpace)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="85776">,</span>&nbsp;<span class="ident" id="85778">tt</span><span class="op" id="85780">.</span><span class="ident" id="85781">s</span><span class="op" id="85782">,</span>&nbsp;<span class="ident" id="85784">a</span><span class="op" id="85785">,</span>&nbsp;<span class="ident" id="85787">tt</span><span class="op" id="85789">.</span><span class="ident" id="85790">a</span><span class="op" id="85791">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85796">continue</span><br>
<span class="lineno">650</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85807">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85810">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="85813">pred</span>&nbsp;<span class="op" id="85818">:=</span>&nbsp;<span class="keyword" id="85821">func</span><span class="op" id="85825">(</span><span class="ident" id="85826">c</span>&nbsp;<span class="builtintype" id="85828">rune</span><span class="op" id="85832">)</span>&nbsp;<span class="builtintype" id="85834">bool</span>&nbsp;<span class="op" id="85839">{</span>&nbsp;<span class="keyword" id="85841">return</span>&nbsp;<span class="ident" id="85848">c</span>&nbsp;<span class="op" id="85850">==</span>&nbsp;<span class="string" id="85853">&#39;X&#39;</span>&nbsp;<span class="op" id="85857">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="85860">var</span>&nbsp;<span class="ident" id="85864">fieldsFuncTests</span>&nbsp;<span class="op" id="85880">=</span>&nbsp;<span class="op" id="85882">[</span><span class="op" id="85883">]</span><span class="ident" id="85884">FieldsTest</span><span class="op" id="85894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85898">{</span><span class="string" id="85899">&#34;&#34;</span><span class="op" id="85901">,</span>&nbsp;<span class="op" id="85903">[</span><span class="op" id="85904">]</span><span class="builtintype" id="85905">string</span><span class="op" id="85911">{</span><span class="op" id="85912">}</span><span class="op" id="85913">}</span><span class="op" id="85914">,</span><br>
<span class="lineno">655</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85918">{</span><span class="string" id="85919">&#34;XX&#34;</span><span class="op" id="85923">,</span>&nbsp;<span class="op" id="85925">[</span><span class="op" id="85926">]</span><span class="builtintype" id="85927">string</span><span class="op" id="85933">{</span><span class="op" id="85934">}</span><span class="op" id="85935">}</span><span class="op" id="85936">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85940">{</span><span class="string" id="85941">&#34;XXhiXXX&#34;</span><span class="op" id="85950">,</span>&nbsp;<span class="op" id="85952">[</span><span class="op" id="85953">]</span><span class="builtintype" id="85954">string</span><span class="op" id="85960">{</span><span class="string" id="85961">&#34;hi&#34;</span><span class="op" id="85965">}</span><span class="op" id="85966">}</span><span class="op" id="85967">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="85971">{</span><span class="string" id="85972">&#34;aXXbXXXcX&#34;</span><span class="op" id="85983">,</span>&nbsp;<span class="op" id="85985">[</span><span class="op" id="85986">]</span><span class="builtintype" id="85987">string</span><span class="op" id="85993">{</span><span class="string" id="85994">&#34;a&#34;</span><span class="op" id="85997">,</span>&nbsp;<span class="string" id="85999">&#34;b&#34;</span><span class="op" id="86002">,</span>&nbsp;<span class="string" id="86004">&#34;c&#34;</span><span class="op" id="86007">}</span><span class="op" id="86008">}</span><span class="op" id="86009">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86012">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="86015">for</span>&nbsp;<span class="ident" id="86019">_</span><span class="op" id="86020">,</span>&nbsp;<span class="ident" id="86022">tt</span>&nbsp;<span class="op" id="86025">:=</span>&nbsp;<span class="keyword" id="86028">range</span>&nbsp;<span class="ident" id="86034">fieldsFuncTests</span>&nbsp;<span class="op" id="86050">{</span><br>
<span class="lineno">660</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="86054">a</span>&nbsp;<span class="op" id="86056">:=</span>&nbsp;<span class="ident" id="86059">FieldsFunc</span><span class="op" id="86069">(</span><span class="op" id="86070">[</span><span class="op" id="86071">]</span><span class="builtintype" id="86072">byte</span><span class="op" id="86076">(</span><span class="ident" id="86077">tt</span><span class="op" id="86079">.</span><span class="ident" id="86080">s</span><span class="op" id="86081">)</span><span class="op" id="86082">,</span>&nbsp;<span class="ident" id="86084">pred</span><span class="op" id="86088">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="86092">result</span>&nbsp;<span class="op" id="86099">:=</span>&nbsp;<span class="ident" id="86102">sliceOfString</span><span class="op" id="86115">(</span><span class="ident" id="86116">a</span><span class="op" id="86117">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="86121">if</span>&nbsp;<span class="op" id="86124">!</span><span class="ident" id="86125">eq</span><span class="op" id="86127">(</span><span class="ident" id="86128">result</span><span class="op" id="86134">,</span>&nbsp;<span class="ident" id="86136">tt</span><span class="op" id="86138">.</span><span class="ident" id="86139">a</span><span class="op" id="86140">)</span>&nbsp;<span class="op" id="86142">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="86147">t</span><span class="op" id="86148">.</span><span class="ident" id="86149">Errorf</span><span class="op" id="86155">(</span><span class="string" id="86156">&#34;FieldsFunc(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="86186">,</span>&nbsp;<span class="ident" id="86188">tt</span><span class="op" id="86190">.</span><span class="ident" id="86191">s</span><span class="op" id="86192">,</span>&nbsp;<span class="ident" id="86194">a</span><span class="op" id="86195">,</span>&nbsp;<span class="ident" id="86197">tt</span><span class="op" id="86199">.</span><span class="ident" id="86200">a</span><span class="op" id="86201">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86205">}</span><br>
<span class="lineno">665</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86208">}</span><br>
<span class="lineno"></span><span class="op" id="86210">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="86213">//&nbsp;Test&nbsp;case&nbsp;for&nbsp;any&nbsp;function&nbsp;which&nbsp;accepts&nbsp;and&nbsp;returns&nbsp;a&nbsp;byte&nbsp;slice.</span><br>
<span class="lineno"></span><span class="comment" id="86283">//&nbsp;For&nbsp;ease&nbsp;of&nbsp;creation,&nbsp;we&nbsp;write&nbsp;the&nbsp;byte&nbsp;slices&nbsp;as&nbsp;strings.</span><br>
<span class="lineno">670</span><span class="keyword" id="86345">type</span>&nbsp;<span class="ident" id="86350">StringTest</span>&nbsp;<span class="keyword" id="86361">struct</span>&nbsp;<span class="op" id="86368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="86371">in</span><span class="op" id="86373">,</span>&nbsp;<span class="ident" id="86375">out</span>&nbsp;<span class="builtintype" id="86379">string</span><br>
<span class="lineno"></span><span class="op" id="86386">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="86389">var</span>&nbsp;<span class="ident" id="86393">upperTests</span>&nbsp;<span class="op" id="86404">=</span>&nbsp;<span class="op" id="86406">[</span><span class="op" id="86407">]</span><span class="ident" id="86408">StringTest</span><span class="op" id="86418">{</span><br>
<span class="lineno">675</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86421">{</span><span class="string" id="86422">&#34;&#34;</span><span class="op" id="86424">,</span>&nbsp;<span class="string" id="86426">&#34;&#34;</span><span class="op" id="86428">}</span><span class="op" id="86429">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86432">{</span><span class="string" id="86433">&#34;abc&#34;</span><span class="op" id="86438">,</span>&nbsp;<span class="string" id="86440">&#34;ABC&#34;</span><span class="op" id="86445">}</span><span class="op" id="86446">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86449">{</span><span class="string" id="86450">&#34;AbC123&#34;</span><span class="op" id="86458">,</span>&nbsp;<span class="string" id="86460">&#34;ABC123&#34;</span><span class="op" id="86468">}</span><span class="op" id="86469">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86472">{</span><span class="string" id="86473">&#34;azAZ09_&#34;</span><span class="op" id="86482">,</span>&nbsp;<span class="string" id="86484">&#34;AZAZ09_&#34;</span><span class="op" id="86493">}</span><span class="op" id="86494">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86497">{</span><span class="string" id="86498">&#34;\u0250\u0250\u0250\u0250\u0250&#34;</span><span class="op" id="86530">,</span>&nbsp;<span class="string" id="86532">&#34;\u2C6F\u2C6F\u2C6F\u2C6F\u2C6F&#34;</span><span class="op" id="86564">}</span><span class="op" id="86565">,</span>&nbsp;<span class="comment" id="86567">//&nbsp;grows&nbsp;one&nbsp;byte&nbsp;per&nbsp;char</span><br>
<span class="lineno">680</span><span class="op" id="86594">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="86597">var</span>&nbsp;<span class="ident" id="86601">lowerTests</span>&nbsp;<span class="op" id="86612">=</span>&nbsp;<span class="op" id="86614">[</span><span class="op" id="86615">]</span><span class="ident" id="86616">StringTest</span><span class="op" id="86626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86629">{</span><span class="string" id="86630">&#34;&#34;</span><span class="op" id="86632">,</span>&nbsp;<span class="string" id="86634">&#34;&#34;</span><span class="op" id="86636">}</span><span class="op" id="86637">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86640">{</span><span class="string" id="86641">&#34;abc&#34;</span><span class="op" id="86646">,</span>&nbsp;<span class="string" id="86648">&#34;abc&#34;</span><span class="op" id="86653">}</span><span class="op" id="86654">,</span><br>
<span class="lineno">685</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86657">{</span><span class="string" id="86658">&#34;AbC123&#34;</span><span class="op" id="86666">,</span>&nbsp;<span class="string" id="86668">&#34;abc123&#34;</span><span class="op" id="86676">}</span><span class="op" id="86677">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86680">{</span><span class="string" id="86681">&#34;azAZ09_&#34;</span><span class="op" id="86690">,</span>&nbsp;<span class="string" id="86692">&#34;azaz09_&#34;</span><span class="op" id="86701">}</span><span class="op" id="86702">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86705">{</span><span class="string" id="86706">&#34;\u2C6D\u2C6D\u2C6D\u2C6D\u2C6D&#34;</span><span class="op" id="86738">,</span>&nbsp;<span class="string" id="86740">&#34;\u0251\u0251\u0251\u0251\u0251&#34;</span><span class="op" id="86772">}</span><span class="op" id="86773">,</span>&nbsp;<span class="comment" id="86775">//&nbsp;shrinks&nbsp;one&nbsp;byte&nbsp;per&nbsp;char</span><br>
<span class="lineno"></span><span class="op" id="86804">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">690</span><span class="keyword" id="86807">const</span>&nbsp;<span class="ident" id="86813">space</span>&nbsp;<span class="op" id="86819">=</span>&nbsp;<span class="string" id="86821">&#34;\t\v\r\f\n\u0085\u00a0\u2000\u3000&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="86859">var</span>&nbsp;<span class="ident" id="86863">trimSpaceTests</span>&nbsp;<span class="op" id="86878">=</span>&nbsp;<span class="op" id="86880">[</span><span class="op" id="86881">]</span><span class="ident" id="86882">StringTest</span><span class="op" id="86892">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86895">{</span><span class="string" id="86896">&#34;&#34;</span><span class="op" id="86898">,</span>&nbsp;<span class="string" id="86900">&#34;&#34;</span><span class="op" id="86902">}</span><span class="op" id="86903">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86906">{</span><span class="string" id="86907">&#34;abc&#34;</span><span class="op" id="86912">,</span>&nbsp;<span class="string" id="86914">&#34;abc&#34;</span><span class="op" id="86919">}</span><span class="op" id="86920">,</span><br>
<span class="lineno">695</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86923">{</span><span class="ident" id="86924">space</span>&nbsp;<span class="op" id="86930">+</span>&nbsp;<span class="string" id="86932">&#34;abc&#34;</span>&nbsp;<span class="op" id="86938">+</span>&nbsp;<span class="ident" id="86940">space</span><span class="op" id="86945">,</span>&nbsp;<span class="string" id="86947">&#34;abc&#34;</span><span class="op" id="86952">}</span><span class="op" id="86953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86956">{</span><span class="string" id="86957">&#34;&nbsp;&#34;</span><span class="op" id="86960">,</span>&nbsp;<span class="string" id="86962">&#34;&#34;</span><span class="op" id="86964">}</span><span class="op" id="86965">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="86968">{</span><span class="string" id="86969">&#34;&nbsp;\t\r\n&nbsp;\t\t\r\r\n\n&nbsp;&#34;</span><span class="op" id="86992">,</span>&nbsp;<span class="string" id="86994">&#34;&#34;</span><span class="op" id="86996">}</span><span class="op" id="86997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87000">{</span><span class="string" id="87001">&#34;&nbsp;\t\r\n&nbsp;x\t\t\r\r\n\n&nbsp;&#34;</span><span class="op" id="87025">,</span>&nbsp;<span class="string" id="87027">&#34;x&#34;</span><span class="op" id="87030">}</span><span class="op" id="87031">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87034">{</span><span class="string" id="87035">&#34;&nbsp;\u2000\t\r\n&nbsp;x\t\t\r\r\ny\n&nbsp;\u3000&#34;</span><span class="op" id="87072">,</span>&nbsp;<span class="string" id="87074">&#34;x\t\t\r\r\ny&#34;</span><span class="op" id="87088">}</span><span class="op" id="87089">,</span><br>
<span class="lineno">700</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87092">{</span><span class="string" id="87093">&#34;1&nbsp;\t\r\n2&#34;</span><span class="op" id="87104">,</span>&nbsp;<span class="string" id="87106">&#34;1&nbsp;\t\r\n2&#34;</span><span class="op" id="87117">}</span><span class="op" id="87118">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87121">{</span><span class="string" id="87122">&#34;&nbsp;x\x80&#34;</span><span class="op" id="87130">,</span>&nbsp;<span class="string" id="87132">&#34;x\x80&#34;</span><span class="op" id="87139">}</span><span class="op" id="87140">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87143">{</span><span class="string" id="87144">&#34;&nbsp;x\xc0&#34;</span><span class="op" id="87152">,</span>&nbsp;<span class="string" id="87154">&#34;x\xc0&#34;</span><span class="op" id="87161">}</span><span class="op" id="87162">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87165">{</span><span class="string" id="87166">&#34;x&nbsp;\xc0\xc0&nbsp;&#34;</span><span class="op" id="87179">,</span>&nbsp;<span class="string" id="87181">&#34;x&nbsp;\xc0\xc0&#34;</span><span class="op" id="87193">}</span><span class="op" id="87194">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87197">{</span><span class="string" id="87198">&#34;x&nbsp;\xc0&#34;</span><span class="op" id="87206">,</span>&nbsp;<span class="string" id="87208">&#34;x&nbsp;\xc0&#34;</span><span class="op" id="87216">}</span><span class="op" id="87217">,</span><br>
<span class="lineno">705</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87220">{</span><span class="string" id="87221">&#34;x&nbsp;\xc0&nbsp;&#34;</span><span class="op" id="87230">,</span>&nbsp;<span class="string" id="87232">&#34;x&nbsp;\xc0&#34;</span><span class="op" id="87240">}</span><span class="op" id="87241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87244">{</span><span class="string" id="87245">&#34;x&nbsp;\xc0\xc0&nbsp;&#34;</span><span class="op" id="87258">,</span>&nbsp;<span class="string" id="87260">&#34;x&nbsp;\xc0\xc0&#34;</span><span class="op" id="87272">}</span><span class="op" id="87273">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87276">{</span><span class="string" id="87277">&#34;x&nbsp;☺\xc0\xc0&nbsp;&#34;</span><span class="op" id="87293">,</span>&nbsp;<span class="string" id="87295">&#34;x&nbsp;☺\xc0\xc0&#34;</span><span class="op" id="87310">}</span><span class="op" id="87311">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87314">{</span><span class="string" id="87315">&#34;x&nbsp;☺&nbsp;&#34;</span><span class="op" id="87323">,</span>&nbsp;<span class="string" id="87325">&#34;x&nbsp;☺&#34;</span><span class="op" id="87332">}</span><span class="op" id="87333">,</span><br>
<span class="lineno"></span><span class="op" id="87335">}</span><br>
<span class="lineno">710</span><br>
<span class="lineno"></span><span class="comment" id="87338">//&nbsp;Execute&nbsp;f&nbsp;on&nbsp;each&nbsp;test&nbsp;case.&nbsp;&nbsp;funcName&nbsp;should&nbsp;be&nbsp;the&nbsp;name&nbsp;of&nbsp;f;&nbsp;it&#39;s&nbsp;used</span><br>
<span class="lineno"></span><span class="comment" id="87415">//&nbsp;in&nbsp;failure&nbsp;reports.</span><br>
<span class="lineno"></span><span class="keyword" id="87438">func</span>&nbsp;<span class="ident" id="87443">runStringTests</span><span class="op" id="87457">(</span><span class="ident" id="87458">t</span>&nbsp;<span class="op" id="87460">*</span><span class="ident" id="87461">testing</span><span class="op" id="87468">.</span><span class="ident" id="87469">T</span><span class="op" id="87470">,</span>&nbsp;<span class="ident" id="87472">f</span>&nbsp;<span class="keyword" id="87474">func</span><span class="op" id="87478">(</span><span class="op" id="87479">[</span><span class="op" id="87480">]</span><span class="builtintype" id="87481">byte</span><span class="op" id="87485">)</span>&nbsp;<span class="op" id="87487">[</span><span class="op" id="87488">]</span><span class="builtintype" id="87489">byte</span><span class="op" id="87493">,</span>&nbsp;<span class="ident" id="87495">funcName</span>&nbsp;<span class="builtintype" id="87504">string</span><span class="op" id="87510">,</span>&nbsp;<span class="ident" id="87512">testCases</span>&nbsp;<span class="op" id="87522">[</span><span class="op" id="87523">]</span><span class="ident" id="87524">StringTest</span><span class="op" id="87534">)</span>&nbsp;<span class="op" id="87536">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87539">for</span>&nbsp;<span class="ident" id="87543">_</span><span class="op" id="87544">,</span>&nbsp;<span class="ident" id="87546">tc</span>&nbsp;<span class="op" id="87549">:=</span>&nbsp;<span class="keyword" id="87552">range</span>&nbsp;<span class="ident" id="87558">testCases</span>&nbsp;<span class="op" id="87568">{</span><br>
<span class="lineno">715</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="87572">actual</span>&nbsp;<span class="op" id="87579">:=</span>&nbsp;<span class="builtintype" id="87582">string</span><span class="op" id="87588">(</span><span class="ident" id="87589">f</span><span class="op" id="87590">(</span><span class="op" id="87591">[</span><span class="op" id="87592">]</span><span class="builtintype" id="87593">byte</span><span class="op" id="87597">(</span><span class="ident" id="87598">tc</span><span class="op" id="87600">.</span><span class="ident" id="87601">in</span><span class="op" id="87603">)</span><span class="op" id="87604">)</span><span class="op" id="87605">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87609">if</span>&nbsp;<span class="ident" id="87612">actual</span>&nbsp;<span class="op" id="87619">!=</span>&nbsp;<span class="ident" id="87622">tc</span><span class="op" id="87624">.</span><span class="ident" id="87625">out</span>&nbsp;<span class="op" id="87629">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="87634">t</span><span class="op" id="87635">.</span><span class="ident" id="87636">Errorf</span><span class="op" id="87642">(</span><span class="string" id="87643">&#34;%s(%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="87665">,</span>&nbsp;<span class="ident" id="87667">funcName</span><span class="op" id="87675">,</span>&nbsp;<span class="ident" id="87677">tc</span><span class="op" id="87679">.</span><span class="ident" id="87680">in</span><span class="op" id="87682">,</span>&nbsp;<span class="ident" id="87684">actual</span><span class="op" id="87690">,</span>&nbsp;<span class="ident" id="87692">tc</span><span class="op" id="87694">.</span><span class="ident" id="87695">out</span><span class="op" id="87698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87702">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87705">}</span><br>
<span class="lineno">720</span><span class="op" id="87707">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="87710">func</span>&nbsp;<span class="ident" id="87715">tenRunes</span><span class="op" id="87723">(</span><span class="ident" id="87724">r</span>&nbsp;<span class="builtintype" id="87726">rune</span><span class="op" id="87730">)</span>&nbsp;<span class="builtintype" id="87732">string</span>&nbsp;<span class="op" id="87739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="87742">runes</span>&nbsp;<span class="op" id="87748">:=</span>&nbsp;<span class="builtinfunc" id="87751">make</span><span class="op" id="87755">(</span><span class="op" id="87756">[</span><span class="op" id="87757">]</span><span class="builtintype" id="87758">rune</span><span class="op" id="87762">,</span>&nbsp;<span class="num" id="87764">10</span><span class="op" id="87766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87769">for</span>&nbsp;<span class="ident" id="87773">i</span>&nbsp;<span class="op" id="87775">:=</span>&nbsp;<span class="keyword" id="87778">range</span>&nbsp;<span class="ident" id="87784">runes</span>&nbsp;<span class="op" id="87790">{</span><br>
<span class="lineno">725</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="87794">runes</span><span class="op" id="87799">[</span><span class="ident" id="87800">i</span><span class="op" id="87801">]</span>&nbsp;<span class="op" id="87803">=</span>&nbsp;<span class="ident" id="87805">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87808">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87811">return</span>&nbsp;<span class="builtintype" id="87818">string</span><span class="op" id="87824">(</span><span class="ident" id="87825">runes</span><span class="op" id="87830">)</span><br>
<span class="lineno"></span><span class="op" id="87832">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">730</span><span class="comment" id="87835">//&nbsp;User-defined&nbsp;self-inverse&nbsp;mapping&nbsp;function</span><br>
<span class="lineno"></span><span class="keyword" id="87881">func</span>&nbsp;<span class="ident" id="87886">rot13</span><span class="op" id="87891">(</span><span class="ident" id="87892">r</span>&nbsp;<span class="builtintype" id="87894">rune</span><span class="op" id="87898">)</span>&nbsp;<span class="builtintype" id="87900">rune</span>&nbsp;<span class="op" id="87905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87908">const</span>&nbsp;<span class="ident" id="87914">step</span>&nbsp;<span class="op" id="87919">=</span>&nbsp;<span class="num" id="87921">13</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87925">if</span>&nbsp;<span class="ident" id="87928">r</span>&nbsp;<span class="op" id="87930">&gt;=</span>&nbsp;<span class="string" id="87933">&#39;a&#39;</span>&nbsp;<span class="op" id="87937">&amp;&amp;</span>&nbsp;<span class="ident" id="87940">r</span>&nbsp;<span class="op" id="87942">&lt;=</span>&nbsp;<span class="string" id="87945">&#39;z&#39;</span>&nbsp;<span class="op" id="87949">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87953">return</span>&nbsp;<span class="op" id="87960">(</span><span class="op" id="87961">(</span><span class="ident" id="87962">r</span>&nbsp;<span class="op" id="87964">-</span>&nbsp;<span class="string" id="87966">&#39;a&#39;</span>&nbsp;<span class="op" id="87970">+</span>&nbsp;<span class="ident" id="87972">step</span><span class="op" id="87976">)</span>&nbsp;<span class="op" id="87978">%</span>&nbsp;<span class="num" id="87980">26</span><span class="op" id="87982">)</span>&nbsp;<span class="op" id="87984">+</span>&nbsp;<span class="string" id="87986">&#39;a&#39;</span><br>
<span class="lineno">735</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="87991">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="87994">if</span>&nbsp;<span class="ident" id="87997">r</span>&nbsp;<span class="op" id="87999">&gt;=</span>&nbsp;<span class="string" id="88002">&#39;A&#39;</span>&nbsp;<span class="op" id="88006">&amp;&amp;</span>&nbsp;<span class="ident" id="88009">r</span>&nbsp;<span class="op" id="88011">&lt;=</span>&nbsp;<span class="string" id="88014">&#39;Z&#39;</span>&nbsp;<span class="op" id="88018">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="88022">return</span>&nbsp;<span class="op" id="88029">(</span><span class="op" id="88030">(</span><span class="ident" id="88031">r</span>&nbsp;<span class="op" id="88033">-</span>&nbsp;<span class="string" id="88035">&#39;A&#39;</span>&nbsp;<span class="op" id="88039">+</span>&nbsp;<span class="ident" id="88041">step</span><span class="op" id="88045">)</span>&nbsp;<span class="op" id="88047">%</span>&nbsp;<span class="num" id="88049">26</span><span class="op" id="88051">)</span>&nbsp;<span class="op" id="88053">+</span>&nbsp;<span class="string" id="88055">&#39;A&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="88060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="88063">return</span>&nbsp;<span class="ident" id="88070">r</span><br>
<span class="lineno">740</span><span class="op" id="88072">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="88075">func</span>&nbsp;<span class="ident" id="88080">TestMap</span><span class="op" id="88087">(</span><span class="ident" id="88088">t</span>&nbsp;<span class="op" id="88090">*</span><span class="ident" id="88091">testing</span><span class="op" id="88098">.</span><span class="ident" id="88099">T</span><span class="op" id="88100">)</span>&nbsp;<span class="op" id="88102">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="88105">//&nbsp;Run&nbsp;a&nbsp;couple&nbsp;of&nbsp;awful&nbsp;growth/shrinkage&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88154">a</span>&nbsp;<span class="op" id="88156">:=</span>&nbsp;<span class="ident" id="88159">tenRunes</span><span class="op" id="88167">(</span><span class="string" id="88168">&#39;a&#39;</span><span class="op" id="88171">)</span><br>
<span class="lineno">745</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="88175">//&nbsp;1.&nbsp;&nbsp;Grow.&nbsp;&nbsp;This&nbsp;triggers&nbsp;two&nbsp;reallocations&nbsp;in&nbsp;Map.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88230">maxRune</span>&nbsp;<span class="op" id="88238">:=</span>&nbsp;<span class="keyword" id="88241">func</span><span class="op" id="88245">(</span><span class="ident" id="88246">r</span>&nbsp;<span class="builtintype" id="88248">rune</span><span class="op" id="88252">)</span>&nbsp;<span class="builtintype" id="88254">rune</span>&nbsp;<span class="op" id="88259">{</span>&nbsp;<span class="keyword" id="88261">return</span>&nbsp;<span class="ident" id="88268">unicode</span><span class="op" id="88275">.</span><span class="ident" id="88276">MaxRune</span>&nbsp;<span class="op" id="88284">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88287">m</span>&nbsp;<span class="op" id="88289">:=</span>&nbsp;<span class="ident" id="88292">Map</span><span class="op" id="88295">(</span><span class="ident" id="88296">maxRune</span><span class="op" id="88303">,</span>&nbsp;<span class="op" id="88305">[</span><span class="op" id="88306">]</span><span class="builtintype" id="88307">byte</span><span class="op" id="88311">(</span><span class="ident" id="88312">a</span><span class="op" id="88313">)</span><span class="op" id="88314">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88317">expect</span>&nbsp;<span class="op" id="88324">:=</span>&nbsp;<span class="ident" id="88327">tenRunes</span><span class="op" id="88335">(</span><span class="ident" id="88336">unicode</span><span class="op" id="88343">.</span><span class="ident" id="88344">MaxRune</span><span class="op" id="88351">)</span><br>
<span class="lineno">750</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="88354">if</span>&nbsp;<span class="builtintype" id="88357">string</span><span class="op" id="88363">(</span><span class="ident" id="88364">m</span><span class="op" id="88365">)</span>&nbsp;<span class="op" id="88367">!=</span>&nbsp;<span class="ident" id="88370">expect</span>&nbsp;<span class="op" id="88377">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88381">t</span><span class="op" id="88382">.</span><span class="ident" id="88383">Errorf</span><span class="op" id="88389">(</span><span class="string" id="88390">&#34;growing:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="88419">,</span>&nbsp;<span class="ident" id="88421">expect</span><span class="op" id="88427">,</span>&nbsp;<span class="ident" id="88429">m</span><span class="op" id="88430">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="88433">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="88437">//&nbsp;2.&nbsp;Shrink</span><br>
<span class="lineno">755</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88451">minRune</span>&nbsp;<span class="op" id="88459">:=</span>&nbsp;<span class="keyword" id="88462">func</span><span class="op" id="88466">(</span><span class="ident" id="88467">r</span>&nbsp;<span class="builtintype" id="88469">rune</span><span class="op" id="88473">)</span>&nbsp;<span class="builtintype" id="88475">rune</span>&nbsp;<span class="op" id="88480">{</span>&nbsp;<span class="keyword" id="88482">return</span>&nbsp;<span class="string" id="88489">&#39;a&#39;</span>&nbsp;<span class="op" id="88493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88496">m</span>&nbsp;<span class="op" id="88498">=</span>&nbsp;<span class="ident" id="88500">Map</span><span class="op" id="88503">(</span><span class="ident" id="88504">minRune</span><span class="op" id="88511">,</span>&nbsp;<span class="op" id="88513">[</span><span class="op" id="88514">]</span><span class="builtintype" id="88515">byte</span><span class="op" id="88519">(</span><span class="ident" id="88520">tenRunes</span><span class="op" id="88528">(</span><span class="ident" id="88529">unicode</span><span class="op" id="88536">.</span><span class="ident" id="88537">MaxRune</span><span class="op" id="88544">)</span><span class="op" id="88545">)</span><span class="op" id="88546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88549">expect</span>&nbsp;<span class="op" id="88556">=</span>&nbsp;<span class="ident" id="88558">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="88561">if</span>&nbsp;<span class="builtintype" id="88564">string</span><span class="op" id="88570">(</span><span class="ident" id="88571">m</span><span class="op" id="88572">)</span>&nbsp;<span class="op" id="88574">!=</span>&nbsp;<span class="ident" id="88577">expect</span>&nbsp;<span class="op" id="88584">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88588">t</span><span class="op" id="88589">.</span><span class="ident" id="88590">Errorf</span><span class="op" id="88596">(</span><span class="string" id="88597">&#34;shrinking:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="88628">,</span>&nbsp;<span class="ident" id="88630">expect</span><span class="op" id="88636">,</span>&nbsp;<span class="ident" id="88638">m</span><span class="op" id="88639">)</span><br>
<span class="lineno">760</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="88642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="88646">//&nbsp;3.&nbsp;Rot13</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88659">m</span>&nbsp;<span class="op" id="88661">=</span>&nbsp;<span class="ident" id="88663">Map</span><span class="op" id="88666">(</span><span class="ident" id="88667">rot13</span><span class="op" id="88672">,</span>&nbsp;<span class="op" id="88674">[</span><span class="op" id="88675">]</span><span class="builtintype" id="88676">byte</span><span class="op" id="88680">(</span><span class="string" id="88681">&#34;a&nbsp;to&nbsp;zed&#34;</span><span class="op" id="88691">)</span><span class="op" id="88692">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88695">expect</span>&nbsp;<span class="op" id="88702">=</span>&nbsp;<span class="string" id="88704">&#34;n&nbsp;gb&nbsp;mrq&#34;</span><br>
<span class="lineno">765</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="88716">if</span>&nbsp;<span class="builtintype" id="88719">string</span><span class="op" id="88725">(</span><span class="ident" id="88726">m</span><span class="op" id="88727">)</span>&nbsp;<span class="op" id="88729">!=</span>&nbsp;<span class="ident" id="88732">expect</span>&nbsp;<span class="op" id="88739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88743">t</span><span class="op" id="88744">.</span><span class="ident" id="88745">Errorf</span><span class="op" id="88751">(</span><span class="string" id="88752">&#34;rot13:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="88779">,</span>&nbsp;<span class="ident" id="88781">expect</span><span class="op" id="88787">,</span>&nbsp;<span class="ident" id="88789">m</span><span class="op" id="88790">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="88793">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="88797">//&nbsp;4.&nbsp;Rot13^2</span><br>
<span class="lineno">770</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88812">m</span>&nbsp;<span class="op" id="88814">=</span>&nbsp;<span class="ident" id="88816">Map</span><span class="op" id="88819">(</span><span class="ident" id="88820">rot13</span><span class="op" id="88825">,</span>&nbsp;<span class="ident" id="88827">Map</span><span class="op" id="88830">(</span><span class="ident" id="88831">rot13</span><span class="op" id="88836">,</span>&nbsp;<span class="op" id="88838">[</span><span class="op" id="88839">]</span><span class="builtintype" id="88840">byte</span><span class="op" id="88844">(</span><span class="string" id="88845">&#34;a&nbsp;to&nbsp;zed&#34;</span><span class="op" id="88855">)</span><span class="op" id="88856">)</span><span class="op" id="88857">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88860">expect</span>&nbsp;<span class="op" id="88867">=</span>&nbsp;<span class="string" id="88869">&#34;a&nbsp;to&nbsp;zed&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="88881">if</span>&nbsp;<span class="builtintype" id="88884">string</span><span class="op" id="88890">(</span><span class="ident" id="88891">m</span><span class="op" id="88892">)</span>&nbsp;<span class="op" id="88894">!=</span>&nbsp;<span class="ident" id="88897">expect</span>&nbsp;<span class="op" id="88904">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88908">t</span><span class="op" id="88909">.</span><span class="ident" id="88910">Errorf</span><span class="op" id="88916">(</span><span class="string" id="88917">&#34;rot13:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="88944">,</span>&nbsp;<span class="ident" id="88946">expect</span><span class="op" id="88952">,</span>&nbsp;<span class="ident" id="88954">m</span><span class="op" id="88955">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="88958">}</span><br>
<span class="lineno">775</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="88962">//&nbsp;5.&nbsp;Drop</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="88974">dropNotLatin</span>&nbsp;<span class="op" id="88987">:=</span>&nbsp;<span class="keyword" id="88990">func</span><span class="op" id="88994">(</span><span class="ident" id="88995">r</span>&nbsp;<span class="builtintype" id="88997">rune</span><span class="op" id="89001">)</span>&nbsp;<span class="builtintype" id="89003">rune</span>&nbsp;<span class="op" id="89008">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89012">if</span>&nbsp;<span class="ident" id="89015">unicode</span><span class="op" id="89022">.</span><span class="ident" id="89023">Is</span><span class="op" id="89025">(</span><span class="ident" id="89026">unicode</span><span class="op" id="89033">.</span><span class="ident" id="89034">Latin</span><span class="op" id="89039">,</span>&nbsp;<span class="ident" id="89041">r</span><span class="op" id="89042">)</span>&nbsp;<span class="op" id="89044">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89049">return</span>&nbsp;<span class="ident" id="89056">r</span><br>
<span class="lineno">780</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89060">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89064">return</span>&nbsp;<span class="op" id="89071">-</span><span class="num" id="89072">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89075">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89078">m</span>&nbsp;<span class="op" id="89080">=</span>&nbsp;<span class="ident" id="89082">Map</span><span class="op" id="89085">(</span><span class="ident" id="89086">dropNotLatin</span><span class="op" id="89098">,</span>&nbsp;<span class="op" id="89100">[</span><span class="op" id="89101">]</span><span class="builtintype" id="89102">byte</span><span class="op" id="89106">(</span><span class="string" id="89107">&#34;Hello,&nbsp;세계&#34;</span><span class="op" id="89122">)</span><span class="op" id="89123">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89126">expect</span>&nbsp;<span class="op" id="89133">=</span>&nbsp;<span class="string" id="89135">&#34;Hello&#34;</span><br>
<span class="lineno">785</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89144">if</span>&nbsp;<span class="builtintype" id="89147">string</span><span class="op" id="89153">(</span><span class="ident" id="89154">m</span><span class="op" id="89155">)</span>&nbsp;<span class="op" id="89157">!=</span>&nbsp;<span class="ident" id="89160">expect</span>&nbsp;<span class="op" id="89167">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89171">t</span><span class="op" id="89172">.</span><span class="ident" id="89173">Errorf</span><span class="op" id="89179">(</span><span class="string" id="89180">&#34;drop:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="89206">,</span>&nbsp;<span class="ident" id="89208">expect</span><span class="op" id="89214">,</span>&nbsp;<span class="ident" id="89216">m</span><span class="op" id="89217">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89220">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="89224">//&nbsp;6.&nbsp;Invalid&nbsp;rune</span><br>
<span class="lineno">790</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89244">invalidRune</span>&nbsp;<span class="op" id="89256">:=</span>&nbsp;<span class="keyword" id="89259">func</span><span class="op" id="89263">(</span><span class="ident" id="89264">r</span>&nbsp;<span class="builtintype" id="89266">rune</span><span class="op" id="89270">)</span>&nbsp;<span class="builtintype" id="89272">rune</span>&nbsp;<span class="op" id="89277">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89281">return</span>&nbsp;<span class="ident" id="89288">utf8</span><span class="op" id="89292">.</span><span class="ident" id="89293">MaxRune</span>&nbsp;<span class="op" id="89301">+</span>&nbsp;<span class="num" id="89303">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89306">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89309">m</span>&nbsp;<span class="op" id="89311">=</span>&nbsp;<span class="ident" id="89313">Map</span><span class="op" id="89316">(</span><span class="ident" id="89317">invalidRune</span><span class="op" id="89328">,</span>&nbsp;<span class="op" id="89330">[</span><span class="op" id="89331">]</span><span class="builtintype" id="89332">byte</span><span class="op" id="89336">(</span><span class="string" id="89337">&#34;x&#34;</span><span class="op" id="89340">)</span><span class="op" id="89341">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89344">expect</span>&nbsp;<span class="op" id="89351">=</span>&nbsp;<span class="string" id="89353">&#34;\uFFFD&#34;</span><br>
<span class="lineno">795</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89363">if</span>&nbsp;<span class="builtintype" id="89366">string</span><span class="op" id="89372">(</span><span class="ident" id="89373">m</span><span class="op" id="89374">)</span>&nbsp;<span class="op" id="89376">!=</span>&nbsp;<span class="ident" id="89379">expect</span>&nbsp;<span class="op" id="89386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89390">t</span><span class="op" id="89391">.</span><span class="ident" id="89392">Errorf</span><span class="op" id="89398">(</span><span class="string" id="89399">&#34;invalidRune:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q&#34;</span><span class="op" id="89432">,</span>&nbsp;<span class="ident" id="89434">expect</span><span class="op" id="89440">,</span>&nbsp;<span class="ident" id="89442">m</span><span class="op" id="89443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89446">}</span><br>
<span class="lineno"></span><span class="op" id="89448">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">800</span><span class="keyword" id="89451">func</span>&nbsp;<span class="ident" id="89456">TestToUpper</span><span class="op" id="89467">(</span><span class="ident" id="89468">t</span>&nbsp;<span class="op" id="89470">*</span><span class="ident" id="89471">testing</span><span class="op" id="89478">.</span><span class="ident" id="89479">T</span><span class="op" id="89480">)</span>&nbsp;<span class="op" id="89482">{</span>&nbsp;<span class="ident" id="89484">runStringTests</span><span class="op" id="89498">(</span><span class="ident" id="89499">t</span><span class="op" id="89500">,</span>&nbsp;<span class="ident" id="89502">ToUpper</span><span class="op" id="89509">,</span>&nbsp;<span class="string" id="89511">&#34;ToUpper&#34;</span><span class="op" id="89520">,</span>&nbsp;<span class="ident" id="89522">upperTests</span><span class="op" id="89532">)</span>&nbsp;<span class="op" id="89534">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="89537">func</span>&nbsp;<span class="ident" id="89542">TestToLower</span><span class="op" id="89553">(</span><span class="ident" id="89554">t</span>&nbsp;<span class="op" id="89556">*</span><span class="ident" id="89557">testing</span><span class="op" id="89564">.</span><span class="ident" id="89565">T</span><span class="op" id="89566">)</span>&nbsp;<span class="op" id="89568">{</span>&nbsp;<span class="ident" id="89570">runStringTests</span><span class="op" id="89584">(</span><span class="ident" id="89585">t</span><span class="op" id="89586">,</span>&nbsp;<span class="ident" id="89588">ToLower</span><span class="op" id="89595">,</span>&nbsp;<span class="string" id="89597">&#34;ToLower&#34;</span><span class="op" id="89606">,</span>&nbsp;<span class="ident" id="89608">lowerTests</span><span class="op" id="89618">)</span>&nbsp;<span class="op" id="89620">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="89623">func</span>&nbsp;<span class="ident" id="89628">TestTrimSpace</span><span class="op" id="89641">(</span><span class="ident" id="89642">t</span>&nbsp;<span class="op" id="89644">*</span><span class="ident" id="89645">testing</span><span class="op" id="89652">.</span><span class="ident" id="89653">T</span><span class="op" id="89654">)</span>&nbsp;<span class="op" id="89656">{</span>&nbsp;<span class="ident" id="89658">runStringTests</span><span class="op" id="89672">(</span><span class="ident" id="89673">t</span><span class="op" id="89674">,</span>&nbsp;<span class="ident" id="89676">TrimSpace</span><span class="op" id="89685">,</span>&nbsp;<span class="string" id="89687">&#34;TrimSpace&#34;</span><span class="op" id="89698">,</span>&nbsp;<span class="ident" id="89700">trimSpaceTests</span><span class="op" id="89714">)</span>&nbsp;<span class="op" id="89716">}</span><br>
<span class="lineno">805</span><br>
<span class="lineno"></span><span class="keyword" id="89719">type</span>&nbsp;<span class="ident" id="89724">RepeatTest</span>&nbsp;<span class="keyword" id="89735">struct</span>&nbsp;<span class="op" id="89742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89745">in</span><span class="op" id="89747">,</span>&nbsp;<span class="ident" id="89749">out</span>&nbsp;<span class="builtintype" id="89753">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="89761">count</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="89769">int</span><br>
<span class="lineno"></span><span class="op" id="89773">}</span><br>
<span class="lineno">810</span><br>
<span class="lineno"></span><span class="keyword" id="89776">var</span>&nbsp;<span class="ident" id="89780">RepeatTests</span>&nbsp;<span class="op" id="89792">=</span>&nbsp;<span class="op" id="89794">[</span><span class="op" id="89795">]</span><span class="ident" id="89796">RepeatTest</span><span class="op" id="89806">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89809">{</span><span class="string" id="89810">&#34;&#34;</span><span class="op" id="89812">,</span>&nbsp;<span class="string" id="89814">&#34;&#34;</span><span class="op" id="89816">,</span>&nbsp;<span class="num" id="89818">0</span><span class="op" id="89819">}</span><span class="op" id="89820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89823">{</span><span class="string" id="89824">&#34;&#34;</span><span class="op" id="89826">,</span>&nbsp;<span class="string" id="89828">&#34;&#34;</span><span class="op" id="89830">,</span>&nbsp;<span class="num" id="89832">1</span><span class="op" id="89833">}</span><span class="op" id="89834">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89837">{</span><span class="string" id="89838">&#34;&#34;</span><span class="op" id="89840">,</span>&nbsp;<span class="string" id="89842">&#34;&#34;</span><span class="op" id="89844">,</span>&nbsp;<span class="num" id="89846">2</span><span class="op" id="89847">}</span><span class="op" id="89848">,</span><br>
<span class="lineno">815</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89851">{</span><span class="string" id="89852">&#34;-&#34;</span><span class="op" id="89855">,</span>&nbsp;<span class="string" id="89857">&#34;&#34;</span><span class="op" id="89859">,</span>&nbsp;<span class="num" id="89861">0</span><span class="op" id="89862">}</span><span class="op" id="89863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89866">{</span><span class="string" id="89867">&#34;-&#34;</span><span class="op" id="89870">,</span>&nbsp;<span class="string" id="89872">&#34;-&#34;</span><span class="op" id="89875">,</span>&nbsp;<span class="num" id="89877">1</span><span class="op" id="89878">}</span><span class="op" id="89879">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89882">{</span><span class="string" id="89883">&#34;-&#34;</span><span class="op" id="89886">,</span>&nbsp;<span class="string" id="89888">&#34;----------&#34;</span><span class="op" id="89900">,</span>&nbsp;<span class="num" id="89902">10</span><span class="op" id="89904">}</span><span class="op" id="89905">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="89908">{</span><span class="string" id="89909">&#34;abc&nbsp;&#34;</span><span class="op" id="89915">,</span>&nbsp;<span class="string" id="89917">&#34;abc&nbsp;abc&nbsp;abc&nbsp;&#34;</span><span class="op" id="89931">,</span>&nbsp;<span class="num" id="89933">3</span><span class="op" id="89934">}</span><span class="op" id="89935">,</span><br>
<span class="lineno"></span><span class="op" id="89937">}</span><br>
<span class="lineno">820</span><br>
<span class="lineno"></span><span class="keyword" id="89940">func</span>&nbsp;<span class="ident" id="89945">TestRepeat</span><span class="op" id="89955">(</span><span class="ident" id="89956">t</span>&nbsp;<span class="op" id="89958">*</span><span class="ident" id="89959">testing</span><span class="op" id="89966">.</span><span class="ident" id="89967">T</span><span class="op" id="89968">)</span>&nbsp;<span class="op" id="89970">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="89973">for</span>&nbsp;<span class="ident" id="89977">_</span><span class="op" id="89978">,</span>&nbsp;<span class="ident" id="89980">tt</span>&nbsp;<span class="op" id="89983">:=</span>&nbsp;<span class="keyword" id="89986">range</span>&nbsp;<span class="ident" id="89992">RepeatTests</span>&nbsp;<span class="op" id="90004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90008">tin</span>&nbsp;<span class="op" id="90012">:=</span>&nbsp;<span class="op" id="90015">[</span><span class="op" id="90016">]</span><span class="builtintype" id="90017">byte</span><span class="op" id="90021">(</span><span class="ident" id="90022">tt</span><span class="op" id="90024">.</span><span class="ident" id="90025">in</span><span class="op" id="90027">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90031">tout</span>&nbsp;<span class="op" id="90036">:=</span>&nbsp;<span class="op" id="90039">[</span><span class="op" id="90040">]</span><span class="builtintype" id="90041">byte</span><span class="op" id="90045">(</span><span class="ident" id="90046">tt</span><span class="op" id="90048">.</span><span class="ident" id="90049">out</span><span class="op" id="90052">)</span><br>
<span class="lineno">825</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90056">a</span>&nbsp;<span class="op" id="90058">:=</span>&nbsp;<span class="ident" id="90061">Repeat</span><span class="op" id="90067">(</span><span class="ident" id="90068">tin</span><span class="op" id="90071">,</span>&nbsp;<span class="ident" id="90073">tt</span><span class="op" id="90075">.</span><span class="ident" id="90076">count</span><span class="op" id="90081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90085">if</span>&nbsp;<span class="op" id="90088">!</span><span class="ident" id="90089">Equal</span><span class="op" id="90094">(</span><span class="ident" id="90095">a</span><span class="op" id="90096">,</span>&nbsp;<span class="ident" id="90098">tout</span><span class="op" id="90102">)</span>&nbsp;<span class="op" id="90104">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90109">t</span><span class="op" id="90110">.</span><span class="ident" id="90111">Errorf</span><span class="op" id="90117">(</span><span class="string" id="90118">&#34;Repeat(%q,&nbsp;%d)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="90148">,</span>&nbsp;<span class="ident" id="90150">tin</span><span class="op" id="90153">,</span>&nbsp;<span class="ident" id="90155">tt</span><span class="op" id="90157">.</span><span class="ident" id="90158">count</span><span class="op" id="90163">,</span>&nbsp;<span class="ident" id="90165">a</span><span class="op" id="90166">,</span>&nbsp;<span class="ident" id="90168">tout</span><span class="op" id="90172">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90177">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90188">}</span><br>
<span class="lineno">830</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90191">}</span><br>
<span class="lineno"></span><span class="op" id="90193">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="90196">func</span>&nbsp;<span class="ident" id="90201">runesEqual</span><span class="op" id="90211">(</span><span class="ident" id="90212">a</span><span class="op" id="90213">,</span>&nbsp;<span class="ident" id="90215">b</span>&nbsp;<span class="op" id="90217">[</span><span class="op" id="90218">]</span><span class="builtintype" id="90219">rune</span><span class="op" id="90223">)</span>&nbsp;<span class="builtintype" id="90225">bool</span>&nbsp;<span class="op" id="90230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90233">if</span>&nbsp;<span class="builtinfunc" id="90236">len</span><span class="op" id="90239">(</span><span class="ident" id="90240">a</span><span class="op" id="90241">)</span>&nbsp;<span class="op" id="90243">!=</span>&nbsp;<span class="builtinfunc" id="90246">len</span><span class="op" id="90249">(</span><span class="ident" id="90250">b</span><span class="op" id="90251">)</span>&nbsp;<span class="op" id="90253">{</span><br>
<span class="lineno">835</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90257">return</span>&nbsp;<span class="builtintype" id="90264">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90271">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90274">for</span>&nbsp;<span class="ident" id="90278">i</span><span class="op" id="90279">,</span>&nbsp;<span class="ident" id="90281">r</span>&nbsp;<span class="op" id="90283">:=</span>&nbsp;<span class="keyword" id="90286">range</span>&nbsp;<span class="ident" id="90292">a</span>&nbsp;<span class="op" id="90294">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90298">if</span>&nbsp;<span class="ident" id="90301">r</span>&nbsp;<span class="op" id="90303">!=</span>&nbsp;<span class="ident" id="90306">b</span><span class="op" id="90307">[</span><span class="ident" id="90308">i</span><span class="op" id="90309">]</span>&nbsp;<span class="op" id="90311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90316">return</span>&nbsp;<span class="builtintype" id="90323">false</span><br>
<span class="lineno">840</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90331">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90334">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90337">return</span>&nbsp;<span class="builtintype" id="90344">true</span><br>
<span class="lineno"></span><span class="op" id="90349">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">845</span><span class="keyword" id="90352">type</span>&nbsp;<span class="ident" id="90357">RunesTest</span>&nbsp;<span class="keyword" id="90367">struct</span>&nbsp;<span class="op" id="90374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90377">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="90383">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90391">out</span>&nbsp;&nbsp;&nbsp;<span class="op" id="90397">[</span><span class="op" id="90398">]</span><span class="builtintype" id="90399">rune</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90405">lossy</span>&nbsp;<span class="builtintype" id="90411">bool</span><br>
<span class="lineno"></span><span class="op" id="90416">}</span><br>
<span class="lineno">850</span><br>
<span class="lineno"></span><span class="keyword" id="90419">var</span>&nbsp;<span class="ident" id="90423">RunesTests</span>&nbsp;<span class="op" id="90434">=</span>&nbsp;<span class="op" id="90436">[</span><span class="op" id="90437">]</span><span class="ident" id="90438">RunesTest</span><span class="op" id="90447">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90450">{</span><span class="string" id="90451">&#34;&#34;</span><span class="op" id="90453">,</span>&nbsp;<span class="op" id="90455">[</span><span class="op" id="90456">]</span><span class="builtintype" id="90457">rune</span><span class="op" id="90461">{</span><span class="op" id="90462">}</span><span class="op" id="90463">,</span>&nbsp;<span class="builtintype" id="90465">false</span><span class="op" id="90470">}</span><span class="op" id="90471">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90474">{</span><span class="string" id="90475">&#34;&nbsp;&#34;</span><span class="op" id="90478">,</span>&nbsp;<span class="op" id="90480">[</span><span class="op" id="90481">]</span><span class="builtintype" id="90482">rune</span><span class="op" id="90486">{</span><span class="num" id="90487">32</span><span class="op" id="90489">}</span><span class="op" id="90490">,</span>&nbsp;<span class="builtintype" id="90492">false</span><span class="op" id="90497">}</span><span class="op" id="90498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90501">{</span><span class="string" id="90502">&#34;ABC&#34;</span><span class="op" id="90507">,</span>&nbsp;<span class="op" id="90509">[</span><span class="op" id="90510">]</span><span class="builtintype" id="90511">rune</span><span class="op" id="90515">{</span><span class="num" id="90516">65</span><span class="op" id="90518">,</span>&nbsp;<span class="num" id="90520">66</span><span class="op" id="90522">,</span>&nbsp;<span class="num" id="90524">67</span><span class="op" id="90526">}</span><span class="op" id="90527">,</span>&nbsp;<span class="builtintype" id="90529">false</span><span class="op" id="90534">}</span><span class="op" id="90535">,</span><br>
<span class="lineno">855</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90538">{</span><span class="string" id="90539">&#34;abc&#34;</span><span class="op" id="90544">,</span>&nbsp;<span class="op" id="90546">[</span><span class="op" id="90547">]</span><span class="builtintype" id="90548">rune</span><span class="op" id="90552">{</span><span class="num" id="90553">97</span><span class="op" id="90555">,</span>&nbsp;<span class="num" id="90557">98</span><span class="op" id="90559">,</span>&nbsp;<span class="num" id="90561">99</span><span class="op" id="90563">}</span><span class="op" id="90564">,</span>&nbsp;<span class="builtintype" id="90566">false</span><span class="op" id="90571">}</span><span class="op" id="90572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90575">{</span><span class="string" id="90576">&#34;\u65e5\u672c\u8a9e&#34;</span><span class="op" id="90596">,</span>&nbsp;<span class="op" id="90598">[</span><span class="op" id="90599">]</span><span class="builtintype" id="90600">rune</span><span class="op" id="90604">{</span><span class="num" id="90605">26085</span><span class="op" id="90610">,</span>&nbsp;<span class="num" id="90612">26412</span><span class="op" id="90617">,</span>&nbsp;<span class="num" id="90619">35486</span><span class="op" id="90624">}</span><span class="op" id="90625">,</span>&nbsp;<span class="builtintype" id="90627">false</span><span class="op" id="90632">}</span><span class="op" id="90633">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90636">{</span><span class="string" id="90637">&#34;ab\x80c&#34;</span><span class="op" id="90646">,</span>&nbsp;<span class="op" id="90648">[</span><span class="op" id="90649">]</span><span class="builtintype" id="90650">rune</span><span class="op" id="90654">{</span><span class="num" id="90655">97</span><span class="op" id="90657">,</span>&nbsp;<span class="num" id="90659">98</span><span class="op" id="90661">,</span>&nbsp;<span class="num" id="90663">0xFFFD</span><span class="op" id="90669">,</span>&nbsp;<span class="num" id="90671">99</span><span class="op" id="90673">}</span><span class="op" id="90674">,</span>&nbsp;<span class="builtintype" id="90676">true</span><span class="op" id="90680">}</span><span class="op" id="90681">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90684">{</span><span class="string" id="90685">&#34;ab\xc0c&#34;</span><span class="op" id="90694">,</span>&nbsp;<span class="op" id="90696">[</span><span class="op" id="90697">]</span><span class="builtintype" id="90698">rune</span><span class="op" id="90702">{</span><span class="num" id="90703">97</span><span class="op" id="90705">,</span>&nbsp;<span class="num" id="90707">98</span><span class="op" id="90709">,</span>&nbsp;<span class="num" id="90711">0xFFFD</span><span class="op" id="90717">,</span>&nbsp;<span class="num" id="90719">99</span><span class="op" id="90721">}</span><span class="op" id="90722">,</span>&nbsp;<span class="builtintype" id="90724">true</span><span class="op" id="90728">}</span><span class="op" id="90729">,</span><br>
<span class="lineno"></span><span class="op" id="90731">}</span><br>
<span class="lineno">860</span><br>
<span class="lineno"></span><span class="keyword" id="90734">func</span>&nbsp;<span class="ident" id="90739">TestRunes</span><span class="op" id="90748">(</span><span class="ident" id="90749">t</span>&nbsp;<span class="op" id="90751">*</span><span class="ident" id="90752">testing</span><span class="op" id="90759">.</span><span class="ident" id="90760">T</span><span class="op" id="90761">)</span>&nbsp;<span class="op" id="90763">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90766">for</span>&nbsp;<span class="ident" id="90770">_</span><span class="op" id="90771">,</span>&nbsp;<span class="ident" id="90773">tt</span>&nbsp;<span class="op" id="90776">:=</span>&nbsp;<span class="keyword" id="90779">range</span>&nbsp;<span class="ident" id="90785">RunesTests</span>&nbsp;<span class="op" id="90796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90800">tin</span>&nbsp;<span class="op" id="90804">:=</span>&nbsp;<span class="op" id="90807">[</span><span class="op" id="90808">]</span><span class="builtintype" id="90809">byte</span><span class="op" id="90813">(</span><span class="ident" id="90814">tt</span><span class="op" id="90816">.</span><span class="ident" id="90817">in</span><span class="op" id="90819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90823">a</span>&nbsp;<span class="op" id="90825">:=</span>&nbsp;<span class="ident" id="90828">Runes</span><span class="op" id="90833">(</span><span class="ident" id="90834">tin</span><span class="op" id="90837">)</span><br>
<span class="lineno">865</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90841">if</span>&nbsp;<span class="op" id="90844">!</span><span class="ident" id="90845">runesEqual</span><span class="op" id="90855">(</span><span class="ident" id="90856">a</span><span class="op" id="90857">,</span>&nbsp;<span class="ident" id="90859">tt</span><span class="op" id="90861">.</span><span class="ident" id="90862">out</span><span class="op" id="90865">)</span>&nbsp;<span class="op" id="90867">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="90872">t</span><span class="op" id="90873">.</span><span class="ident" id="90874">Errorf</span><span class="op" id="90880">(</span><span class="string" id="90881">&#34;Runes(%q)&nbsp;=&nbsp;%v;&nbsp;want&nbsp;%v&#34;</span><span class="op" id="90906">,</span>&nbsp;<span class="ident" id="90908">tin</span><span class="op" id="90911">,</span>&nbsp;<span class="ident" id="90913">a</span><span class="op" id="90914">,</span>&nbsp;<span class="ident" id="90916">tt</span><span class="op" id="90918">.</span><span class="ident" id="90919">out</span><span class="op" id="90922">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90927">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="90938">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="90942">if</span>&nbsp;<span class="op" id="90945">!</span><span class="ident" id="90946">tt</span><span class="op" id="90948">.</span><span class="ident" id="90949">lossy</span>&nbsp;<span class="op" id="90955">{</span><br>
<span class="lineno">870</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="90960">//&nbsp;can&nbsp;only&nbsp;test&nbsp;reassembly&nbsp;if&nbsp;we&nbsp;didn&#39;t&nbsp;lose&nbsp;information</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="91021">s</span>&nbsp;<span class="op" id="91023">:=</span>&nbsp;<span class="builtintype" id="91026">string</span><span class="op" id="91032">(</span><span class="ident" id="91033">a</span><span class="op" id="91034">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="91039">if</span>&nbsp;<span class="ident" id="91042">s</span>&nbsp;<span class="op" id="91044">!=</span>&nbsp;<span class="ident" id="91047">tt</span><span class="op" id="91049">.</span><span class="ident" id="91050">in</span>&nbsp;<span class="op" id="91053">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="91059">t</span><span class="op" id="91060">.</span><span class="ident" id="91061">Errorf</span><span class="op" id="91067">(</span><span class="string" id="91068">&#34;string(Runes(%q))&nbsp;=&nbsp;%x;&nbsp;want&nbsp;%x&#34;</span><span class="op" id="91101">,</span>&nbsp;<span class="ident" id="91103">tin</span><span class="op" id="91106">,</span>&nbsp;<span class="ident" id="91108">s</span><span class="op" id="91109">,</span>&nbsp;<span class="ident" id="91111">tin</span><span class="op" id="91114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91119">}</span><br>
<span class="lineno">875</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91123">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91126">}</span><br>
<span class="lineno"></span><span class="op" id="91128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="91131">type</span>&nbsp;<span class="ident" id="91136">TrimTest</span>&nbsp;<span class="keyword" id="91145">struct</span>&nbsp;<span class="op" id="91152">{</span><br>
<span class="lineno">880</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="91155">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="91168">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="91176">in</span><span class="op" id="91178">,</span>&nbsp;<span class="ident" id="91180">arg</span><span class="op" id="91183">,</span>&nbsp;<span class="ident" id="91185">out</span>&nbsp;<span class="builtintype" id="91189">string</span><br>
<span class="lineno"></span><span class="op" id="91196">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="91199">var</span>&nbsp;<span class="ident" id="91203">trimTests</span>&nbsp;<span class="op" id="91213">=</span>&nbsp;<span class="op" id="91215">[</span><span class="op" id="91216">]</span><span class="ident" id="91217">TrimTest</span><span class="op" id="91225">{</span><br>
<span class="lineno">885</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91228">{</span><span class="string" id="91229">&#34;Trim&#34;</span><span class="op" id="91235">,</span>&nbsp;<span class="string" id="91237">&#34;abba&#34;</span><span class="op" id="91243">,</span>&nbsp;<span class="string" id="91245">&#34;a&#34;</span><span class="op" id="91248">,</span>&nbsp;<span class="string" id="91250">&#34;bb&#34;</span><span class="op" id="91254">}</span><span class="op" id="91255">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91258">{</span><span class="string" id="91259">&#34;Trim&#34;</span><span class="op" id="91265">,</span>&nbsp;<span class="string" id="91267">&#34;abba&#34;</span><span class="op" id="91273">,</span>&nbsp;<span class="string" id="91275">&#34;ab&#34;</span><span class="op" id="91279">,</span>&nbsp;<span class="string" id="91281">&#34;&#34;</span><span class="op" id="91283">}</span><span class="op" id="91284">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91287">{</span><span class="string" id="91288">&#34;TrimLeft&#34;</span><span class="op" id="91298">,</span>&nbsp;<span class="string" id="91300">&#34;abba&#34;</span><span class="op" id="91306">,</span>&nbsp;<span class="string" id="91308">&#34;ab&#34;</span><span class="op" id="91312">,</span>&nbsp;<span class="string" id="91314">&#34;&#34;</span><span class="op" id="91316">}</span><span class="op" id="91317">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91320">{</span><span class="string" id="91321">&#34;TrimRight&#34;</span><span class="op" id="91332">,</span>&nbsp;<span class="string" id="91334">&#34;abba&#34;</span><span class="op" id="91340">,</span>&nbsp;<span class="string" id="91342">&#34;ab&#34;</span><span class="op" id="91346">,</span>&nbsp;<span class="string" id="91348">&#34;&#34;</span><span class="op" id="91350">}</span><span class="op" id="91351">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91354">{</span><span class="string" id="91355">&#34;TrimLeft&#34;</span><span class="op" id="91365">,</span>&nbsp;<span class="string" id="91367">&#34;abba&#34;</span><span class="op" id="91373">,</span>&nbsp;<span class="string" id="91375">&#34;a&#34;</span><span class="op" id="91378">,</span>&nbsp;<span class="string" id="91380">&#34;bba&#34;</span><span class="op" id="91385">}</span><span class="op" id="91386">,</span><br>
<span class="lineno">890</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91389">{</span><span class="string" id="91390">&#34;TrimRight&#34;</span><span class="op" id="91401">,</span>&nbsp;<span class="string" id="91403">&#34;abba&#34;</span><span class="op" id="91409">,</span>&nbsp;<span class="string" id="91411">&#34;a&#34;</span><span class="op" id="91414">,</span>&nbsp;<span class="string" id="91416">&#34;abb&#34;</span><span class="op" id="91421">}</span><span class="op" id="91422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91425">{</span><span class="string" id="91426">&#34;Trim&#34;</span><span class="op" id="91432">,</span>&nbsp;<span class="string" id="91434">&#34;&lt;tag&gt;&#34;</span><span class="op" id="91441">,</span>&nbsp;<span class="string" id="91443">&#34;&lt;&gt;&#34;</span><span class="op" id="91447">,</span>&nbsp;<span class="string" id="91449">&#34;tag&#34;</span><span class="op" id="91454">}</span><span class="op" id="91455">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91458">{</span><span class="string" id="91459">&#34;Trim&#34;</span><span class="op" id="91465">,</span>&nbsp;<span class="string" id="91467">&#34;*&nbsp;listitem&#34;</span><span class="op" id="91479">,</span>&nbsp;<span class="string" id="91481">&#34;&nbsp;*&#34;</span><span class="op" id="91485">,</span>&nbsp;<span class="string" id="91487">&#34;listitem&#34;</span><span class="op" id="91497">}</span><span class="op" id="91498">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91501">{</span><span class="string" id="91502">&#34;Trim&#34;</span><span class="op" id="91508">,</span>&nbsp;<span class="string" id="91510">`&#34;quote&#34;`</span><span class="op" id="91519">,</span>&nbsp;<span class="string" id="91521">`&#34;`</span><span class="op" id="91524">,</span>&nbsp;<span class="string" id="91526">&#34;quote&#34;</span><span class="op" id="91533">}</span><span class="op" id="91534">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91537">{</span><span class="string" id="91538">&#34;Trim&#34;</span><span class="op" id="91544">,</span>&nbsp;<span class="string" id="91546">&#34;\u2C6F\u2C6F\u0250\u0250\u2C6F\u2C6F&#34;</span><span class="op" id="91584">,</span>&nbsp;<span class="string" id="91586">&#34;\u2C6F&#34;</span><span class="op" id="91594">,</span>&nbsp;<span class="string" id="91596">&#34;\u0250\u0250&#34;</span><span class="op" id="91610">}</span><span class="op" id="91611">,</span><br>
<span class="lineno">895</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="91614">//empty&nbsp;string&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91636">{</span><span class="string" id="91637">&#34;Trim&#34;</span><span class="op" id="91643">,</span>&nbsp;<span class="string" id="91645">&#34;abba&#34;</span><span class="op" id="91651">,</span>&nbsp;<span class="string" id="91653">&#34;&#34;</span><span class="op" id="91655">,</span>&nbsp;<span class="string" id="91657">&#34;abba&#34;</span><span class="op" id="91663">}</span><span class="op" id="91664">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91667">{</span><span class="string" id="91668">&#34;Trim&#34;</span><span class="op" id="91674">,</span>&nbsp;<span class="string" id="91676">&#34;&#34;</span><span class="op" id="91678">,</span>&nbsp;<span class="string" id="91680">&#34;123&#34;</span><span class="op" id="91685">,</span>&nbsp;<span class="string" id="91687">&#34;&#34;</span><span class="op" id="91689">}</span><span class="op" id="91690">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91693">{</span><span class="string" id="91694">&#34;Trim&#34;</span><span class="op" id="91700">,</span>&nbsp;<span class="string" id="91702">&#34;&#34;</span><span class="op" id="91704">,</span>&nbsp;<span class="string" id="91706">&#34;&#34;</span><span class="op" id="91708">,</span>&nbsp;<span class="string" id="91710">&#34;&#34;</span><span class="op" id="91712">}</span><span class="op" id="91713">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91716">{</span><span class="string" id="91717">&#34;TrimLeft&#34;</span><span class="op" id="91727">,</span>&nbsp;<span class="string" id="91729">&#34;abba&#34;</span><span class="op" id="91735">,</span>&nbsp;<span class="string" id="91737">&#34;&#34;</span><span class="op" id="91739">,</span>&nbsp;<span class="string" id="91741">&#34;abba&#34;</span><span class="op" id="91747">}</span><span class="op" id="91748">,</span><br>
<span class="lineno">900</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91751">{</span><span class="string" id="91752">&#34;TrimLeft&#34;</span><span class="op" id="91762">,</span>&nbsp;<span class="string" id="91764">&#34;&#34;</span><span class="op" id="91766">,</span>&nbsp;<span class="string" id="91768">&#34;123&#34;</span><span class="op" id="91773">,</span>&nbsp;<span class="string" id="91775">&#34;&#34;</span><span class="op" id="91777">}</span><span class="op" id="91778">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91781">{</span><span class="string" id="91782">&#34;TrimLeft&#34;</span><span class="op" id="91792">,</span>&nbsp;<span class="string" id="91794">&#34;&#34;</span><span class="op" id="91796">,</span>&nbsp;<span class="string" id="91798">&#34;&#34;</span><span class="op" id="91800">,</span>&nbsp;<span class="string" id="91802">&#34;&#34;</span><span class="op" id="91804">}</span><span class="op" id="91805">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91808">{</span><span class="string" id="91809">&#34;TrimRight&#34;</span><span class="op" id="91820">,</span>&nbsp;<span class="string" id="91822">&#34;abba&#34;</span><span class="op" id="91828">,</span>&nbsp;<span class="string" id="91830">&#34;&#34;</span><span class="op" id="91832">,</span>&nbsp;<span class="string" id="91834">&#34;abba&#34;</span><span class="op" id="91840">}</span><span class="op" id="91841">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91844">{</span><span class="string" id="91845">&#34;TrimRight&#34;</span><span class="op" id="91856">,</span>&nbsp;<span class="string" id="91858">&#34;&#34;</span><span class="op" id="91860">,</span>&nbsp;<span class="string" id="91862">&#34;123&#34;</span><span class="op" id="91867">,</span>&nbsp;<span class="string" id="91869">&#34;&#34;</span><span class="op" id="91871">}</span><span class="op" id="91872">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91875">{</span><span class="string" id="91876">&#34;TrimRight&#34;</span><span class="op" id="91887">,</span>&nbsp;<span class="string" id="91889">&#34;&#34;</span><span class="op" id="91891">,</span>&nbsp;<span class="string" id="91893">&#34;&#34;</span><span class="op" id="91895">,</span>&nbsp;<span class="string" id="91897">&#34;&#34;</span><span class="op" id="91899">}</span><span class="op" id="91900">,</span><br>
<span class="lineno">905</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91903">{</span><span class="string" id="91904">&#34;TrimRight&#34;</span><span class="op" id="91915">,</span>&nbsp;<span class="string" id="91917">&#34;☺\xc0&#34;</span><span class="op" id="91926">,</span>&nbsp;<span class="string" id="91928">&#34;☺&#34;</span><span class="op" id="91933">,</span>&nbsp;<span class="string" id="91935">&#34;☺\xc0&#34;</span><span class="op" id="91944">}</span><span class="op" id="91945">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91948">{</span><span class="string" id="91949">&#34;TrimPrefix&#34;</span><span class="op" id="91961">,</span>&nbsp;<span class="string" id="91963">&#34;aabb&#34;</span><span class="op" id="91969">,</span>&nbsp;<span class="string" id="91971">&#34;a&#34;</span><span class="op" id="91974">,</span>&nbsp;<span class="string" id="91976">&#34;abb&#34;</span><span class="op" id="91981">}</span><span class="op" id="91982">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="91985">{</span><span class="string" id="91986">&#34;TrimPrefix&#34;</span><span class="op" id="91998">,</span>&nbsp;<span class="string" id="92000">&#34;aabb&#34;</span><span class="op" id="92006">,</span>&nbsp;<span class="string" id="92008">&#34;b&#34;</span><span class="op" id="92011">,</span>&nbsp;<span class="string" id="92013">&#34;aabb&#34;</span><span class="op" id="92019">}</span><span class="op" id="92020">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92023">{</span><span class="string" id="92024">&#34;TrimSuffix&#34;</span><span class="op" id="92036">,</span>&nbsp;<span class="string" id="92038">&#34;aabb&#34;</span><span class="op" id="92044">,</span>&nbsp;<span class="string" id="92046">&#34;a&#34;</span><span class="op" id="92049">,</span>&nbsp;<span class="string" id="92051">&#34;aabb&#34;</span><span class="op" id="92057">}</span><span class="op" id="92058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92061">{</span><span class="string" id="92062">&#34;TrimSuffix&#34;</span><span class="op" id="92074">,</span>&nbsp;<span class="string" id="92076">&#34;aabb&#34;</span><span class="op" id="92082">,</span>&nbsp;<span class="string" id="92084">&#34;b&#34;</span><span class="op" id="92087">,</span>&nbsp;<span class="string" id="92089">&#34;aab&#34;</span><span class="op" id="92094">}</span><span class="op" id="92095">,</span><br>
<span class="lineno">910</span><span class="op" id="92097">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="92100">func</span>&nbsp;<span class="ident" id="92105">TestTrim</span><span class="op" id="92113">(</span><span class="ident" id="92114">t</span>&nbsp;<span class="op" id="92116">*</span><span class="ident" id="92117">testing</span><span class="op" id="92124">.</span><span class="ident" id="92125">T</span><span class="op" id="92126">)</span>&nbsp;<span class="op" id="92128">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92131">for</span>&nbsp;<span class="ident" id="92135">_</span><span class="op" id="92136">,</span>&nbsp;<span class="ident" id="92138">tc</span>&nbsp;<span class="op" id="92141">:=</span>&nbsp;<span class="keyword" id="92144">range</span>&nbsp;<span class="ident" id="92150">trimTests</span>&nbsp;<span class="op" id="92160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92164">name</span>&nbsp;<span class="op" id="92169">:=</span>&nbsp;<span class="ident" id="92172">tc</span><span class="op" id="92174">.</span><span class="ident" id="92175">f</span><br>
<span class="lineno">915</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92179">var</span>&nbsp;<span class="ident" id="92183">f</span>&nbsp;<span class="keyword" id="92185">func</span><span class="op" id="92189">(</span><span class="op" id="92190">[</span><span class="op" id="92191">]</span><span class="builtintype" id="92192">byte</span><span class="op" id="92196">,</span>&nbsp;<span class="builtintype" id="92198">string</span><span class="op" id="92204">)</span>&nbsp;<span class="op" id="92206">[</span><span class="op" id="92207">]</span><span class="builtintype" id="92208">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92215">var</span>&nbsp;<span class="ident" id="92219">fb</span>&nbsp;<span class="keyword" id="92222">func</span><span class="op" id="92226">(</span><span class="op" id="92227">[</span><span class="op" id="92228">]</span><span class="builtintype" id="92229">byte</span><span class="op" id="92233">,</span>&nbsp;<span class="op" id="92235">[</span><span class="op" id="92236">]</span><span class="builtintype" id="92237">byte</span><span class="op" id="92241">)</span>&nbsp;<span class="op" id="92243">[</span><span class="op" id="92244">]</span><span class="builtintype" id="92245">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92252">switch</span>&nbsp;<span class="ident" id="92259">name</span>&nbsp;<span class="op" id="92264">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92268">case</span>&nbsp;<span class="string" id="92273">&#34;Trim&#34;</span><span class="op" id="92279">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92284">f</span>&nbsp;<span class="op" id="92286">=</span>&nbsp;<span class="ident" id="92288">Trim</span><br>
<span class="lineno">920</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92295">case</span>&nbsp;<span class="string" id="92300">&#34;TrimLeft&#34;</span><span class="op" id="92310">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92315">f</span>&nbsp;<span class="op" id="92317">=</span>&nbsp;<span class="ident" id="92319">TrimLeft</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92330">case</span>&nbsp;<span class="string" id="92335">&#34;TrimRight&#34;</span><span class="op" id="92346">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92351">f</span>&nbsp;<span class="op" id="92353">=</span>&nbsp;<span class="ident" id="92355">TrimRight</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92367">case</span>&nbsp;<span class="string" id="92372">&#34;TrimPrefix&#34;</span><span class="op" id="92384">:</span><br>
<span class="lineno">925</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92389">fb</span>&nbsp;<span class="op" id="92392">=</span>&nbsp;<span class="ident" id="92394">TrimPrefix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92407">case</span>&nbsp;<span class="string" id="92412">&#34;TrimSuffix&#34;</span><span class="op" id="92424">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92429">fb</span>&nbsp;<span class="op" id="92432">=</span>&nbsp;<span class="ident" id="92434">TrimSuffix</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92447">default</span><span class="op" id="92454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92459">t</span><span class="op" id="92460">.</span><span class="ident" id="92461">Errorf</span><span class="op" id="92467">(</span><span class="string" id="92468">&#34;Undefined&nbsp;trim&nbsp;function&nbsp;%s&#34;</span><span class="op" id="92496">,</span>&nbsp;<span class="ident" id="92498">name</span><span class="op" id="92502">)</span><br>
<span class="lineno">930</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92506">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92510">var</span>&nbsp;<span class="ident" id="92514">actual</span>&nbsp;<span class="builtintype" id="92521">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92530">if</span>&nbsp;<span class="ident" id="92533">f</span>&nbsp;<span class="op" id="92535">!=</span>&nbsp;<span class="ident" id="92538">nil</span>&nbsp;<span class="op" id="92542">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92547">actual</span>&nbsp;<span class="op" id="92554">=</span>&nbsp;<span class="builtintype" id="92556">string</span><span class="op" id="92562">(</span><span class="ident" id="92563">f</span><span class="op" id="92564">(</span><span class="op" id="92565">[</span><span class="op" id="92566">]</span><span class="builtintype" id="92567">byte</span><span class="op" id="92571">(</span><span class="ident" id="92572">tc</span><span class="op" id="92574">.</span><span class="ident" id="92575">in</span><span class="op" id="92577">)</span><span class="op" id="92578">,</span>&nbsp;<span class="ident" id="92580">tc</span><span class="op" id="92582">.</span><span class="ident" id="92583">arg</span><span class="op" id="92586">)</span><span class="op" id="92587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92591">}</span>&nbsp;<span class="keyword" id="92593">else</span>&nbsp;<span class="op" id="92598">{</span><br>
<span class="lineno">935</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92603">actual</span>&nbsp;<span class="op" id="92610">=</span>&nbsp;<span class="builtintype" id="92612">string</span><span class="op" id="92618">(</span><span class="ident" id="92619">fb</span><span class="op" id="92621">(</span><span class="op" id="92622">[</span><span class="op" id="92623">]</span><span class="builtintype" id="92624">byte</span><span class="op" id="92628">(</span><span class="ident" id="92629">tc</span><span class="op" id="92631">.</span><span class="ident" id="92632">in</span><span class="op" id="92634">)</span><span class="op" id="92635">,</span>&nbsp;<span class="op" id="92637">[</span><span class="op" id="92638">]</span><span class="builtintype" id="92639">byte</span><span class="op" id="92643">(</span><span class="ident" id="92644">tc</span><span class="op" id="92646">.</span><span class="ident" id="92647">arg</span><span class="op" id="92650">)</span><span class="op" id="92651">)</span><span class="op" id="92652">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92656">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="92660">if</span>&nbsp;<span class="ident" id="92663">actual</span>&nbsp;<span class="op" id="92670">!=</span>&nbsp;<span class="ident" id="92673">tc</span><span class="op" id="92675">.</span><span class="ident" id="92676">out</span>&nbsp;<span class="op" id="92680">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92685">t</span><span class="op" id="92686">.</span><span class="ident" id="92687">Errorf</span><span class="op" id="92693">(</span><span class="string" id="92694">&#34;%s(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="92720">,</span>&nbsp;<span class="ident" id="92722">name</span><span class="op" id="92726">,</span>&nbsp;<span class="ident" id="92728">tc</span><span class="op" id="92730">.</span><span class="ident" id="92731">in</span><span class="op" id="92733">,</span>&nbsp;<span class="ident" id="92735">tc</span><span class="op" id="92737">.</span><span class="ident" id="92738">arg</span><span class="op" id="92741">,</span>&nbsp;<span class="ident" id="92743">actual</span><span class="op" id="92749">,</span>&nbsp;<span class="ident" id="92751">tc</span><span class="op" id="92753">.</span><span class="ident" id="92754">out</span><span class="op" id="92757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92761">}</span><br>
<span class="lineno">940</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="92764">}</span><br>
<span class="lineno"></span><span class="op" id="92766">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="92769">type</span>&nbsp;<span class="ident" id="92774">predicate</span>&nbsp;<span class="keyword" id="92784">struct</span>&nbsp;<span class="op" id="92791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92794">f</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="92799">func</span><span class="op" id="92803">(</span><span class="ident" id="92804">r</span>&nbsp;<span class="builtintype" id="92806">rune</span><span class="op" id="92810">)</span>&nbsp;<span class="builtintype" id="92812">bool</span><br>
<span class="lineno">945</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="92818">name</span>&nbsp;<span class="builtintype" id="92823">string</span><br>
<span class="lineno"></span><span class="op" id="92830">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="92833">var</span>&nbsp;<span class="ident" id="92837">isSpace</span>&nbsp;<span class="op" id="92845">=</span>&nbsp;<span class="ident" id="92847">predicate</span><span class="op" id="92856">{</span><span class="ident" id="92857">unicode</span><span class="op" id="92864">.</span><span class="ident" id="92865">IsSpace</span><span class="op" id="92872">,</span>&nbsp;<span class="string" id="92874">&#34;IsSpace&#34;</span><span class="op" id="92883">}</span><br>
<span class="lineno"></span><span class="keyword" id="92885">var</span>&nbsp;<span class="ident" id="92889">isDigit</span>&nbsp;<span class="op" id="92897">=</span>&nbsp;<span class="ident" id="92899">predicate</span><span class="op" id="92908">{</span><span class="ident" id="92909">unicode</span><span class="op" id="92916">.</span><span class="ident" id="92917">IsDigit</span><span class="op" id="92924">,</span>&nbsp;<span class="string" id="92926">&#34;IsDigit&#34;</span><span class="op" id="92935">}</span><br>
<span class="lineno">950</span><span class="keyword" id="92937">var</span>&nbsp;<span class="ident" id="92941">isUpper</span>&nbsp;<span class="op" id="92949">=</span>&nbsp;<span class="ident" id="92951">predicate</span><span class="op" id="92960">{</span><span class="ident" id="92961">unicode</span><span class="op" id="92968">.</span><span class="ident" id="92969">IsUpper</span><span class="op" id="92976">,</span>&nbsp;<span class="string" id="92978">&#34;IsUpper&#34;</span><span class="op" id="92987">}</span><br>
<span class="lineno"></span><span class="keyword" id="92989">var</span>&nbsp;<span class="ident" id="92993">isValidRune</span>&nbsp;<span class="op" id="93005">=</span>&nbsp;<span class="ident" id="93007">predicate</span><span class="op" id="93016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93019">func</span><span class="op" id="93023">(</span><span class="ident" id="93024">r</span>&nbsp;<span class="builtintype" id="93026">rune</span><span class="op" id="93030">)</span>&nbsp;<span class="builtintype" id="93032">bool</span>&nbsp;<span class="op" id="93037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93041">return</span>&nbsp;<span class="ident" id="93048">r</span>&nbsp;<span class="op" id="93050">!=</span>&nbsp;<span class="ident" id="93053">utf8</span><span class="op" id="93057">.</span><span class="ident" id="93058">RuneError</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93069">}</span><span class="op" id="93070">,</span><br>
<span class="lineno">955</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="93073">&#34;IsValidRune&#34;</span><span class="op" id="93086">,</span><br>
<span class="lineno"></span><span class="op" id="93088">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="93091">type</span>&nbsp;<span class="ident" id="93096">TrimFuncTest</span>&nbsp;<span class="keyword" id="93109">struct</span>&nbsp;<span class="op" id="93116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="93119">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="93127">predicate</span><br>
<span class="lineno">960</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="93138">in</span><span class="op" id="93140">,</span>&nbsp;<span class="ident" id="93142">out</span>&nbsp;<span class="builtintype" id="93146">string</span><br>
<span class="lineno"></span><span class="op" id="93153">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="93156">func</span>&nbsp;<span class="ident" id="93161">not</span><span class="op" id="93164">(</span><span class="ident" id="93165">p</span>&nbsp;<span class="ident" id="93167">predicate</span><span class="op" id="93176">)</span>&nbsp;<span class="ident" id="93178">predicate</span>&nbsp;<span class="op" id="93188">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93191">return</span>&nbsp;<span class="ident" id="93198">predicate</span><span class="op" id="93207">{</span><br>
<span class="lineno">965</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93211">func</span><span class="op" id="93215">(</span><span class="ident" id="93216">r</span>&nbsp;<span class="builtintype" id="93218">rune</span><span class="op" id="93222">)</span>&nbsp;<span class="builtintype" id="93224">bool</span>&nbsp;<span class="op" id="93229">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93234">return</span>&nbsp;<span class="op" id="93241">!</span><span class="ident" id="93242">p</span><span class="op" id="93243">.</span><span class="ident" id="93244">f</span><span class="op" id="93245">(</span><span class="ident" id="93246">r</span><span class="op" id="93247">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93251">}</span><span class="op" id="93252">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="93256">&#34;not&nbsp;&#34;</span>&nbsp;<span class="op" id="93263">+</span>&nbsp;<span class="ident" id="93265">p</span><span class="op" id="93266">.</span><span class="ident" id="93267">name</span><span class="op" id="93271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93274">}</span><br>
<span class="lineno">970</span><span class="op" id="93276">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="93279">var</span>&nbsp;<span class="ident" id="93283">trimFuncTests</span>&nbsp;<span class="op" id="93297">=</span>&nbsp;<span class="op" id="93299">[</span><span class="op" id="93300">]</span><span class="ident" id="93301">TrimFuncTest</span><span class="op" id="93313">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93316">{</span><span class="ident" id="93317">isSpace</span><span class="op" id="93324">,</span>&nbsp;<span class="ident" id="93326">space</span>&nbsp;<span class="op" id="93332">+</span>&nbsp;<span class="string" id="93334">&#34;&nbsp;hello&nbsp;&#34;</span>&nbsp;<span class="op" id="93344">+</span>&nbsp;<span class="ident" id="93346">space</span><span class="op" id="93351">,</span>&nbsp;<span class="string" id="93353">&#34;hello&#34;</span><span class="op" id="93360">}</span><span class="op" id="93361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93364">{</span><span class="ident" id="93365">isDigit</span><span class="op" id="93372">,</span>&nbsp;<span class="string" id="93374">&#34;\u0e50\u0e5212hello34\u0e50\u0e51&#34;</span><span class="op" id="93409">,</span>&nbsp;<span class="string" id="93411">&#34;hello&#34;</span><span class="op" id="93418">}</span><span class="op" id="93419">,</span><br>
<span class="lineno">975</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93422">{</span><span class="ident" id="93423">isUpper</span><span class="op" id="93430">,</span>&nbsp;<span class="string" id="93432">&#34;\u2C6F\u2C6F\u2C6F\u2C6FABCDhelloEF\u2C6F\u2C6FGH\u2C6F\u2C6F&#34;</span><span class="op" id="93495">,</span>&nbsp;<span class="string" id="93497">&#34;hello&#34;</span><span class="op" id="93504">}</span><span class="op" id="93505">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93508">{</span><span class="ident" id="93509">not</span><span class="op" id="93512">(</span><span class="ident" id="93513">isSpace</span><span class="op" id="93520">)</span><span class="op" id="93521">,</span>&nbsp;<span class="string" id="93523">&#34;hello&#34;</span>&nbsp;<span class="op" id="93531">+</span>&nbsp;<span class="ident" id="93533">space</span>&nbsp;<span class="op" id="93539">+</span>&nbsp;<span class="string" id="93541">&#34;hello&#34;</span><span class="op" id="93548">,</span>&nbsp;<span class="ident" id="93550">space</span><span class="op" id="93555">}</span><span class="op" id="93556">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93559">{</span><span class="ident" id="93560">not</span><span class="op" id="93563">(</span><span class="ident" id="93564">isDigit</span><span class="op" id="93571">)</span><span class="op" id="93572">,</span>&nbsp;<span class="string" id="93574">&#34;hello\u0e50\u0e521234\u0e50\u0e51helo&#34;</span><span class="op" id="93613">,</span>&nbsp;<span class="string" id="93615">&#34;\u0e50\u0e521234\u0e50\u0e51&#34;</span><span class="op" id="93645">}</span><span class="op" id="93646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93649">{</span><span class="ident" id="93650">isValidRune</span><span class="op" id="93661">,</span>&nbsp;<span class="string" id="93663">&#34;ab\xc0a\xc0cd&#34;</span><span class="op" id="93678">,</span>&nbsp;<span class="string" id="93680">&#34;\xc0a\xc0&#34;</span><span class="op" id="93691">}</span><span class="op" id="93692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93695">{</span><span class="ident" id="93696">not</span><span class="op" id="93699">(</span><span class="ident" id="93700">isValidRune</span><span class="op" id="93711">)</span><span class="op" id="93712">,</span>&nbsp;<span class="string" id="93714">&#34;\xc0a\xc0&#34;</span><span class="op" id="93725">,</span>&nbsp;<span class="string" id="93727">&#34;a&#34;</span><span class="op" id="93730">}</span><span class="op" id="93731">,</span><br>
<span class="lineno">980</span><span class="op" id="93733">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="93736">func</span>&nbsp;<span class="ident" id="93741">TestTrimFunc</span><span class="op" id="93753">(</span><span class="ident" id="93754">t</span>&nbsp;<span class="op" id="93756">*</span><span class="ident" id="93757">testing</span><span class="op" id="93764">.</span><span class="ident" id="93765">T</span><span class="op" id="93766">)</span>&nbsp;<span class="op" id="93768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93771">for</span>&nbsp;<span class="ident" id="93775">_</span><span class="op" id="93776">,</span>&nbsp;<span class="ident" id="93778">tc</span>&nbsp;<span class="op" id="93781">:=</span>&nbsp;<span class="keyword" id="93784">range</span>&nbsp;<span class="ident" id="93790">trimFuncTests</span>&nbsp;<span class="op" id="93804">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="93808">actual</span>&nbsp;<span class="op" id="93815">:=</span>&nbsp;<span class="builtintype" id="93818">string</span><span class="op" id="93824">(</span><span class="ident" id="93825">TrimFunc</span><span class="op" id="93833">(</span><span class="op" id="93834">[</span><span class="op" id="93835">]</span><span class="builtintype" id="93836">byte</span><span class="op" id="93840">(</span><span class="ident" id="93841">tc</span><span class="op" id="93843">.</span><span class="ident" id="93844">in</span><span class="op" id="93846">)</span><span class="op" id="93847">,</span>&nbsp;<span class="ident" id="93849">tc</span><span class="op" id="93851">.</span><span class="ident" id="93852">f</span><span class="op" id="93853">.</span><span class="ident" id="93854">f</span><span class="op" id="93855">)</span><span class="op" id="93856">)</span><br>
<span class="lineno">985</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="93860">if</span>&nbsp;<span class="ident" id="93863">actual</span>&nbsp;<span class="op" id="93870">!=</span>&nbsp;<span class="ident" id="93873">tc</span><span class="op" id="93875">.</span><span class="ident" id="93876">out</span>&nbsp;<span class="op" id="93880">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="93885">t</span><span class="op" id="93886">.</span><span class="ident" id="93887">Errorf</span><span class="op" id="93893">(</span><span class="string" id="93894">&#34;TrimFunc(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="93926">,</span>&nbsp;<span class="ident" id="93928">tc</span><span class="op" id="93930">.</span><span class="ident" id="93931">in</span><span class="op" id="93933">,</span>&nbsp;<span class="ident" id="93935">tc</span><span class="op" id="93937">.</span><span class="ident" id="93938">f</span><span class="op" id="93939">.</span><span class="ident" id="93940">name</span><span class="op" id="93944">,</span>&nbsp;<span class="ident" id="93946">actual</span><span class="op" id="93952">,</span>&nbsp;<span class="ident" id="93954">tc</span><span class="op" id="93956">.</span><span class="ident" id="93957">out</span><span class="op" id="93960">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93964">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="93967">}</span><br>
<span class="lineno"></span><span class="op" id="93969">}</span><br>
<span class="lineno">990</span><br>
<span class="lineno"></span><span class="keyword" id="93972">type</span>&nbsp;<span class="ident" id="93977">IndexFuncTest</span>&nbsp;<span class="keyword" id="93991">struct</span>&nbsp;<span class="op" id="93998">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="94001">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="94013">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="94021">f</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="94033">predicate</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="94044">first</span><span class="op" id="94049">,</span>&nbsp;<span class="ident" id="94051">last</span>&nbsp;<span class="builtintype" id="94056">int</span><br>
<span class="lineno">995</span><span class="op" id="94060">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="94063">var</span>&nbsp;<span class="ident" id="94067">indexFuncTests</span>&nbsp;<span class="op" id="94082">=</span>&nbsp;<span class="op" id="94084">[</span><span class="op" id="94085">]</span><span class="ident" id="94086">IndexFuncTest</span><span class="op" id="94099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94102">{</span><span class="string" id="94103">&#34;&#34;</span><span class="op" id="94105">,</span>&nbsp;<span class="ident" id="94107">isValidRune</span><span class="op" id="94118">,</span>&nbsp;<span class="op" id="94120">-</span><span class="num" id="94121">1</span><span class="op" id="94122">,</span>&nbsp;<span class="op" id="94124">-</span><span class="num" id="94125">1</span><span class="op" id="94126">}</span><span class="op" id="94127">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94130">{</span><span class="string" id="94131">&#34;abc&#34;</span><span class="op" id="94136">,</span>&nbsp;<span class="ident" id="94138">isDigit</span><span class="op" id="94145">,</span>&nbsp;<span class="op" id="94147">-</span><span class="num" id="94148">1</span><span class="op" id="94149">,</span>&nbsp;<span class="op" id="94151">-</span><span class="num" id="94152">1</span><span class="op" id="94153">}</span><span class="op" id="94154">,</span><br>
<span class="lineno">1000</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94157">{</span><span class="string" id="94158">&#34;0123&#34;</span><span class="op" id="94164">,</span>&nbsp;<span class="ident" id="94166">isDigit</span><span class="op" id="94173">,</span>&nbsp;<span class="num" id="94175">0</span><span class="op" id="94176">,</span>&nbsp;<span class="num" id="94178">3</span><span class="op" id="94179">}</span><span class="op" id="94180">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94183">{</span><span class="string" id="94184">&#34;a1b&#34;</span><span class="op" id="94189">,</span>&nbsp;<span class="ident" id="94191">isDigit</span><span class="op" id="94198">,</span>&nbsp;<span class="num" id="94200">1</span><span class="op" id="94201">,</span>&nbsp;<span class="num" id="94203">1</span><span class="op" id="94204">}</span><span class="op" id="94205">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94208">{</span><span class="ident" id="94209">space</span><span class="op" id="94214">,</span>&nbsp;<span class="ident" id="94216">isSpace</span><span class="op" id="94223">,</span>&nbsp;<span class="num" id="94225">0</span><span class="op" id="94226">,</span>&nbsp;<span class="builtinfunc" id="94228">len</span><span class="op" id="94231">(</span><span class="ident" id="94232">space</span><span class="op" id="94237">)</span>&nbsp;<span class="op" id="94239">-</span>&nbsp;<span class="num" id="94241">3</span><span class="op" id="94242">}</span><span class="op" id="94243">,</span>&nbsp;<span class="comment" id="94245">//&nbsp;last&nbsp;rune&nbsp;in&nbsp;space&nbsp;is&nbsp;3&nbsp;bytes</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94279">{</span><span class="string" id="94280">&#34;\u0e50\u0e5212hello34\u0e50\u0e51&#34;</span><span class="op" id="94315">,</span>&nbsp;<span class="ident" id="94317">isDigit</span><span class="op" id="94324">,</span>&nbsp;<span class="num" id="94326">0</span><span class="op" id="94327">,</span>&nbsp;<span class="num" id="94329">18</span><span class="op" id="94331">}</span><span class="op" id="94332">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94335">{</span><span class="string" id="94336">&#34;\u2C6F\u2C6F\u2C6F\u2C6FABCDhelloEF\u2C6F\u2C6FGH\u2C6F\u2C6F&#34;</span><span class="op" id="94399">,</span>&nbsp;<span class="ident" id="94401">isUpper</span><span class="op" id="94408">,</span>&nbsp;<span class="num" id="94410">0</span><span class="op" id="94411">,</span>&nbsp;<span class="num" id="94413">34</span><span class="op" id="94415">}</span><span class="op" id="94416">,</span><br>
<span class="lineno">1005</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94419">{</span><span class="string" id="94420">&#34;12\u0e50\u0e52hello34\u0e50\u0e51&#34;</span><span class="op" id="94455">,</span>&nbsp;<span class="ident" id="94457">not</span><span class="op" id="94460">(</span><span class="ident" id="94461">isDigit</span><span class="op" id="94468">)</span><span class="op" id="94469">,</span>&nbsp;<span class="num" id="94471">8</span><span class="op" id="94472">,</span>&nbsp;<span class="num" id="94474">12</span><span class="op" id="94476">}</span><span class="op" id="94477">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="94481">//&nbsp;tests&nbsp;of&nbsp;invalid&nbsp;UTF-8</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94508">{</span><span class="string" id="94509">&#34;\x801&#34;</span><span class="op" id="94516">,</span>&nbsp;<span class="ident" id="94518">isDigit</span><span class="op" id="94525">,</span>&nbsp;<span class="num" id="94527">1</span><span class="op" id="94528">,</span>&nbsp;<span class="num" id="94530">1</span><span class="op" id="94531">}</span><span class="op" id="94532">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94535">{</span><span class="string" id="94536">&#34;\x80abc&#34;</span><span class="op" id="94545">,</span>&nbsp;<span class="ident" id="94547">isDigit</span><span class="op" id="94554">,</span>&nbsp;<span class="op" id="94556">-</span><span class="num" id="94557">1</span><span class="op" id="94558">,</span>&nbsp;<span class="op" id="94560">-</span><span class="num" id="94561">1</span><span class="op" id="94562">}</span><span class="op" id="94563">,</span><br>
<span class="lineno">1010</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94566">{</span><span class="string" id="94567">&#34;\xc0a\xc0&#34;</span><span class="op" id="94578">,</span>&nbsp;<span class="ident" id="94580">isValidRune</span><span class="op" id="94591">,</span>&nbsp;<span class="num" id="94593">1</span><span class="op" id="94594">,</span>&nbsp;<span class="num" id="94596">1</span><span class="op" id="94597">}</span><span class="op" id="94598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94601">{</span><span class="string" id="94602">&#34;\xc0a\xc0&#34;</span><span class="op" id="94613">,</span>&nbsp;<span class="ident" id="94615">not</span><span class="op" id="94618">(</span><span class="ident" id="94619">isValidRune</span><span class="op" id="94630">)</span><span class="op" id="94631">,</span>&nbsp;<span class="num" id="94633">0</span><span class="op" id="94634">,</span>&nbsp;<span class="num" id="94636">2</span><span class="op" id="94637">}</span><span class="op" id="94638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94641">{</span><span class="string" id="94642">&#34;\xc0☺\xc0&#34;</span><span class="op" id="94655">,</span>&nbsp;<span class="ident" id="94657">not</span><span class="op" id="94660">(</span><span class="ident" id="94661">isValidRune</span><span class="op" id="94672">)</span><span class="op" id="94673">,</span>&nbsp;<span class="num" id="94675">0</span><span class="op" id="94676">,</span>&nbsp;<span class="num" id="94678">4</span><span class="op" id="94679">}</span><span class="op" id="94680">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94683">{</span><span class="string" id="94684">&#34;\xc0☺\xc0\xc0&#34;</span><span class="op" id="94701">,</span>&nbsp;<span class="ident" id="94703">not</span><span class="op" id="94706">(</span><span class="ident" id="94707">isValidRune</span><span class="op" id="94718">)</span><span class="op" id="94719">,</span>&nbsp;<span class="num" id="94721">0</span><span class="op" id="94722">,</span>&nbsp;<span class="num" id="94724">5</span><span class="op" id="94725">}</span><span class="op" id="94726">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94729">{</span><span class="string" id="94730">&#34;ab\xc0a\xc0cd&#34;</span><span class="op" id="94745">,</span>&nbsp;<span class="ident" id="94747">not</span><span class="op" id="94750">(</span><span class="ident" id="94751">isValidRune</span><span class="op" id="94762">)</span><span class="op" id="94763">,</span>&nbsp;<span class="num" id="94765">2</span><span class="op" id="94766">,</span>&nbsp;<span class="num" id="94768">4</span><span class="op" id="94769">}</span><span class="op" id="94770">,</span><br>
<span class="lineno">1015</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="94773">{</span><span class="string" id="94774">&#34;a\xe0\x80cd&#34;</span><span class="op" id="94787">,</span>&nbsp;<span class="ident" id="94789">not</span><span class="op" id="94792">(</span><span class="ident" id="94793">isValidRune</span><span class="op" id="94804">)</span><span class="op" id="94805">,</span>&nbsp;<span class="num" id="94807">1</span><span class="op" id="94808">,</span>&nbsp;<span class="num" id="94810">2</span><span class="op" id="94811">}</span><span class="op" id="94812">,</span><br>
<span class="lineno"></span><span class="op" id="94814">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="94817">func</span>&nbsp;<span class="ident" id="94822">TestIndexFunc</span><span class="op" id="94835">(</span><span class="ident" id="94836">t</span>&nbsp;<span class="op" id="94838">*</span><span class="ident" id="94839">testing</span><span class="op" id="94846">.</span><span class="ident" id="94847">T</span><span class="op" id="94848">)</span>&nbsp;<span class="op" id="94850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="94853">for</span>&nbsp;<span class="ident" id="94857">_</span><span class="op" id="94858">,</span>&nbsp;<span class="ident" id="94860">tc</span>&nbsp;<span class="op" id="94863">:=</span>&nbsp;<span class="keyword" id="94866">range</span>&nbsp;<span class="ident" id="94872">indexFuncTests</span>&nbsp;<span class="op" id="94887">{</span><br>
<span class="lineno">1020</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="94891">first</span>&nbsp;<span class="op" id="94897">:=</span>&nbsp;<span class="ident" id="94900">IndexFunc</span><span class="op" id="94909">(</span><span class="op" id="94910">[</span><span class="op" id="94911">]</span><span class="builtintype" id="94912">byte</span><span class="op" id="94916">(</span><span class="ident" id="94917">tc</span><span class="op" id="94919">.</span><span class="ident" id="94920">in</span><span class="op" id="94922">)</span><span class="op" id="94923">,</span>&nbsp;<span class="ident" id="94925">tc</span><span class="op" id="94927">.</span><span class="ident" id="94928">f</span><span class="op" id="94929">.</span><span class="ident" id="94930">f</span><span class="op" id="94931">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="94935">if</span>&nbsp;<span class="ident" id="94938">first</span>&nbsp;<span class="op" id="94944">!=</span>&nbsp;<span class="ident" id="94947">tc</span><span class="op" id="94949">.</span><span class="ident" id="94950">first</span>&nbsp;<span class="op" id="94956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="94961">t</span><span class="op" id="94962">.</span><span class="ident" id="94963">Errorf</span><span class="op" id="94969">(</span><span class="string" id="94970">&#34;IndexFunc(%q,&nbsp;%s)&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="95003">,</span>&nbsp;<span class="ident" id="95005">tc</span><span class="op" id="95007">.</span><span class="ident" id="95008">in</span><span class="op" id="95010">,</span>&nbsp;<span class="ident" id="95012">tc</span><span class="op" id="95014">.</span><span class="ident" id="95015">f</span><span class="op" id="95016">.</span><span class="ident" id="95017">name</span><span class="op" id="95021">,</span>&nbsp;<span class="ident" id="95023">first</span><span class="op" id="95028">,</span>&nbsp;<span class="ident" id="95030">tc</span><span class="op" id="95032">.</span><span class="ident" id="95033">first</span><span class="op" id="95038">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95042">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="95046">last</span>&nbsp;<span class="op" id="95051">:=</span>&nbsp;<span class="ident" id="95054">LastIndexFunc</span><span class="op" id="95067">(</span><span class="op" id="95068">[</span><span class="op" id="95069">]</span><span class="builtintype" id="95070">byte</span><span class="op" id="95074">(</span><span class="ident" id="95075">tc</span><span class="op" id="95077">.</span><span class="ident" id="95078">in</span><span class="op" id="95080">)</span><span class="op" id="95081">,</span>&nbsp;<span class="ident" id="95083">tc</span><span class="op" id="95085">.</span><span class="ident" id="95086">f</span><span class="op" id="95087">.</span><span class="ident" id="95088">f</span><span class="op" id="95089">)</span><br>
<span class="lineno">1025</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="95093">if</span>&nbsp;<span class="ident" id="95096">last</span>&nbsp;<span class="op" id="95101">!=</span>&nbsp;<span class="ident" id="95104">tc</span><span class="op" id="95106">.</span><span class="ident" id="95107">last</span>&nbsp;<span class="op" id="95112">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="95117">t</span><span class="op" id="95118">.</span><span class="ident" id="95119">Errorf</span><span class="op" id="95125">(</span><span class="string" id="95126">&#34;LastIndexFunc(%q,&nbsp;%s)&nbsp;=&nbsp;%d;&nbsp;want&nbsp;%d&#34;</span><span class="op" id="95163">,</span>&nbsp;<span class="ident" id="95165">tc</span><span class="op" id="95167">.</span><span class="ident" id="95168">in</span><span class="op" id="95170">,</span>&nbsp;<span class="ident" id="95172">tc</span><span class="op" id="95174">.</span><span class="ident" id="95175">f</span><span class="op" id="95176">.</span><span class="ident" id="95177">name</span><span class="op" id="95181">,</span>&nbsp;<span class="ident" id="95183">last</span><span class="op" id="95187">,</span>&nbsp;<span class="ident" id="95189">tc</span><span class="op" id="95191">.</span><span class="ident" id="95192">last</span><span class="op" id="95196">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95200">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95203">}</span><br>
<span class="lineno"></span><span class="op" id="95205">}</span><br>
<span class="lineno">1030</span><br>
<span class="lineno"></span><span class="keyword" id="95208">type</span>&nbsp;<span class="ident" id="95213">ReplaceTest</span>&nbsp;<span class="keyword" id="95225">struct</span>&nbsp;<span class="op" id="95232">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="95235">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="95244">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="95252">old</span><span class="op" id="95255">,</span>&nbsp;<span class="builtinfunc" id="95257">new</span>&nbsp;<span class="builtintype" id="95261">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="95269">n</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="95278">int</span><br>
<span class="lineno">1035</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="95283">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="95292">string</span><br>
<span class="lineno"></span><span class="op" id="95299">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="95302">var</span>&nbsp;<span class="ident" id="95306">ReplaceTests</span>&nbsp;<span class="op" id="95319">=</span>&nbsp;<span class="op" id="95321">[</span><span class="op" id="95322">]</span><span class="ident" id="95323">ReplaceTest</span><span class="op" id="95334">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95337">{</span><span class="string" id="95338">&#34;hello&#34;</span><span class="op" id="95345">,</span>&nbsp;<span class="string" id="95347">&#34;l&#34;</span><span class="op" id="95350">,</span>&nbsp;<span class="string" id="95352">&#34;L&#34;</span><span class="op" id="95355">,</span>&nbsp;<span class="num" id="95357">0</span><span class="op" id="95358">,</span>&nbsp;<span class="string" id="95360">&#34;hello&#34;</span><span class="op" id="95367">}</span><span class="op" id="95368">,</span><br>
<span class="lineno">1040</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95371">{</span><span class="string" id="95372">&#34;hello&#34;</span><span class="op" id="95379">,</span>&nbsp;<span class="string" id="95381">&#34;l&#34;</span><span class="op" id="95384">,</span>&nbsp;<span class="string" id="95386">&#34;L&#34;</span><span class="op" id="95389">,</span>&nbsp;<span class="op" id="95391">-</span><span class="num" id="95392">1</span><span class="op" id="95393">,</span>&nbsp;<span class="string" id="95395">&#34;heLLo&#34;</span><span class="op" id="95402">}</span><span class="op" id="95403">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95406">{</span><span class="string" id="95407">&#34;hello&#34;</span><span class="op" id="95414">,</span>&nbsp;<span class="string" id="95416">&#34;x&#34;</span><span class="op" id="95419">,</span>&nbsp;<span class="string" id="95421">&#34;X&#34;</span><span class="op" id="95424">,</span>&nbsp;<span class="op" id="95426">-</span><span class="num" id="95427">1</span><span class="op" id="95428">,</span>&nbsp;<span class="string" id="95430">&#34;hello&#34;</span><span class="op" id="95437">}</span><span class="op" id="95438">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95441">{</span><span class="string" id="95442">&#34;&#34;</span><span class="op" id="95444">,</span>&nbsp;<span class="string" id="95446">&#34;x&#34;</span><span class="op" id="95449">,</span>&nbsp;<span class="string" id="95451">&#34;X&#34;</span><span class="op" id="95454">,</span>&nbsp;<span class="op" id="95456">-</span><span class="num" id="95457">1</span><span class="op" id="95458">,</span>&nbsp;<span class="string" id="95460">&#34;&#34;</span><span class="op" id="95462">}</span><span class="op" id="95463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95466">{</span><span class="string" id="95467">&#34;radar&#34;</span><span class="op" id="95474">,</span>&nbsp;<span class="string" id="95476">&#34;r&#34;</span><span class="op" id="95479">,</span>&nbsp;<span class="string" id="95481">&#34;&lt;r&gt;&#34;</span><span class="op" id="95486">,</span>&nbsp;<span class="op" id="95488">-</span><span class="num" id="95489">1</span><span class="op" id="95490">,</span>&nbsp;<span class="string" id="95492">&#34;&lt;r&gt;ada&lt;r&gt;&#34;</span><span class="op" id="95503">}</span><span class="op" id="95504">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95507">{</span><span class="string" id="95508">&#34;&#34;</span><span class="op" id="95510">,</span>&nbsp;<span class="string" id="95512">&#34;&#34;</span><span class="op" id="95514">,</span>&nbsp;<span class="string" id="95516">&#34;&lt;&gt;&#34;</span><span class="op" id="95520">,</span>&nbsp;<span class="op" id="95522">-</span><span class="num" id="95523">1</span><span class="op" id="95524">,</span>&nbsp;<span class="string" id="95526">&#34;&lt;&gt;&#34;</span><span class="op" id="95530">}</span><span class="op" id="95531">,</span><br>
<span class="lineno">1045</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95534">{</span><span class="string" id="95535">&#34;banana&#34;</span><span class="op" id="95543">,</span>&nbsp;<span class="string" id="95545">&#34;a&#34;</span><span class="op" id="95548">,</span>&nbsp;<span class="string" id="95550">&#34;&lt;&gt;&#34;</span><span class="op" id="95554">,</span>&nbsp;<span class="op" id="95556">-</span><span class="num" id="95557">1</span><span class="op" id="95558">,</span>&nbsp;<span class="string" id="95560">&#34;b&lt;&gt;n&lt;&gt;n&lt;&gt;&#34;</span><span class="op" id="95571">}</span><span class="op" id="95572">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95575">{</span><span class="string" id="95576">&#34;banana&#34;</span><span class="op" id="95584">,</span>&nbsp;<span class="string" id="95586">&#34;a&#34;</span><span class="op" id="95589">,</span>&nbsp;<span class="string" id="95591">&#34;&lt;&gt;&#34;</span><span class="op" id="95595">,</span>&nbsp;<span class="num" id="95597">1</span><span class="op" id="95598">,</span>&nbsp;<span class="string" id="95600">&#34;b&lt;&gt;nana&#34;</span><span class="op" id="95609">}</span><span class="op" id="95610">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95613">{</span><span class="string" id="95614">&#34;banana&#34;</span><span class="op" id="95622">,</span>&nbsp;<span class="string" id="95624">&#34;a&#34;</span><span class="op" id="95627">,</span>&nbsp;<span class="string" id="95629">&#34;&lt;&gt;&#34;</span><span class="op" id="95633">,</span>&nbsp;<span class="num" id="95635">1000</span><span class="op" id="95639">,</span>&nbsp;<span class="string" id="95641">&#34;b&lt;&gt;n&lt;&gt;n&lt;&gt;&#34;</span><span class="op" id="95652">}</span><span class="op" id="95653">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95656">{</span><span class="string" id="95657">&#34;banana&#34;</span><span class="op" id="95665">,</span>&nbsp;<span class="string" id="95667">&#34;an&#34;</span><span class="op" id="95671">,</span>&nbsp;<span class="string" id="95673">&#34;&lt;&gt;&#34;</span><span class="op" id="95677">,</span>&nbsp;<span class="op" id="95679">-</span><span class="num" id="95680">1</span><span class="op" id="95681">,</span>&nbsp;<span class="string" id="95683">&#34;b&lt;&gt;&lt;&gt;a&#34;</span><span class="op" id="95691">}</span><span class="op" id="95692">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95695">{</span><span class="string" id="95696">&#34;banana&#34;</span><span class="op" id="95704">,</span>&nbsp;<span class="string" id="95706">&#34;ana&#34;</span><span class="op" id="95711">,</span>&nbsp;<span class="string" id="95713">&#34;&lt;&gt;&#34;</span><span class="op" id="95717">,</span>&nbsp;<span class="op" id="95719">-</span><span class="num" id="95720">1</span><span class="op" id="95721">,</span>&nbsp;<span class="string" id="95723">&#34;b&lt;&gt;na&#34;</span><span class="op" id="95730">}</span><span class="op" id="95731">,</span><br>
<span class="lineno">1050</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95734">{</span><span class="string" id="95735">&#34;banana&#34;</span><span class="op" id="95743">,</span>&nbsp;<span class="string" id="95745">&#34;&#34;</span><span class="op" id="95747">,</span>&nbsp;<span class="string" id="95749">&#34;&lt;&gt;&#34;</span><span class="op" id="95753">,</span>&nbsp;<span class="op" id="95755">-</span><span class="num" id="95756">1</span><span class="op" id="95757">,</span>&nbsp;<span class="string" id="95759">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;&#34;</span><span class="op" id="95781">}</span><span class="op" id="95782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95785">{</span><span class="string" id="95786">&#34;banana&#34;</span><span class="op" id="95794">,</span>&nbsp;<span class="string" id="95796">&#34;&#34;</span><span class="op" id="95798">,</span>&nbsp;<span class="string" id="95800">&#34;&lt;&gt;&#34;</span><span class="op" id="95804">,</span>&nbsp;<span class="num" id="95806">10</span><span class="op" id="95808">,</span>&nbsp;<span class="string" id="95810">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;&#34;</span><span class="op" id="95832">}</span><span class="op" id="95833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95836">{</span><span class="string" id="95837">&#34;banana&#34;</span><span class="op" id="95845">,</span>&nbsp;<span class="string" id="95847">&#34;&#34;</span><span class="op" id="95849">,</span>&nbsp;<span class="string" id="95851">&#34;&lt;&gt;&#34;</span><span class="op" id="95855">,</span>&nbsp;<span class="num" id="95857">6</span><span class="op" id="95858">,</span>&nbsp;<span class="string" id="95860">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;n&lt;&gt;a&#34;</span><span class="op" id="95880">}</span><span class="op" id="95881">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95884">{</span><span class="string" id="95885">&#34;banana&#34;</span><span class="op" id="95893">,</span>&nbsp;<span class="string" id="95895">&#34;&#34;</span><span class="op" id="95897">,</span>&nbsp;<span class="string" id="95899">&#34;&lt;&gt;&#34;</span><span class="op" id="95903">,</span>&nbsp;<span class="num" id="95905">5</span><span class="op" id="95906">,</span>&nbsp;<span class="string" id="95908">&#34;&lt;&gt;b&lt;&gt;a&lt;&gt;n&lt;&gt;a&lt;&gt;na&#34;</span><span class="op" id="95926">}</span><span class="op" id="95927">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95930">{</span><span class="string" id="95931">&#34;banana&#34;</span><span class="op" id="95939">,</span>&nbsp;<span class="string" id="95941">&#34;&#34;</span><span class="op" id="95943">,</span>&nbsp;<span class="string" id="95945">&#34;&lt;&gt;&#34;</span><span class="op" id="95949">,</span>&nbsp;<span class="num" id="95951">1</span><span class="op" id="95952">,</span>&nbsp;<span class="string" id="95954">&#34;&lt;&gt;banana&#34;</span><span class="op" id="95964">}</span><span class="op" id="95965">,</span><br>
<span class="lineno">1055</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="95968">{</span><span class="string" id="95969">&#34;banana&#34;</span><span class="op" id="95977">,</span>&nbsp;<span class="string" id="95979">&#34;a&#34;</span><span class="op" id="95982">,</span>&nbsp;<span class="string" id="95984">&#34;a&#34;</span><span class="op" id="95987">,</span>&nbsp;<span class="op" id="95989">-</span><span class="num" id="95990">1</span><span class="op" id="95991">,</span>&nbsp;<span class="string" id="95993">&#34;banana&#34;</span><span class="op" id="96001">}</span><span class="op" id="96002">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96005">{</span><span class="string" id="96006">&#34;banana&#34;</span><span class="op" id="96014">,</span>&nbsp;<span class="string" id="96016">&#34;a&#34;</span><span class="op" id="96019">,</span>&nbsp;<span class="string" id="96021">&#34;a&#34;</span><span class="op" id="96024">,</span>&nbsp;<span class="num" id="96026">1</span><span class="op" id="96027">,</span>&nbsp;<span class="string" id="96029">&#34;banana&#34;</span><span class="op" id="96037">}</span><span class="op" id="96038">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96041">{</span><span class="string" id="96042">&#34;☺☻☹&#34;</span><span class="op" id="96053">,</span>&nbsp;<span class="string" id="96055">&#34;&#34;</span><span class="op" id="96057">,</span>&nbsp;<span class="string" id="96059">&#34;&lt;&gt;&#34;</span><span class="op" id="96063">,</span>&nbsp;<span class="op" id="96065">-</span><span class="num" id="96066">1</span><span class="op" id="96067">,</span>&nbsp;<span class="string" id="96069">&#34;&lt;&gt;☺&lt;&gt;☻&lt;&gt;☹&lt;&gt;&#34;</span><span class="op" id="96088">}</span><span class="op" id="96089">,</span><br>
<span class="lineno"></span><span class="op" id="96091">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1060</span><span class="keyword" id="96094">func</span>&nbsp;<span class="ident" id="96099">TestReplace</span><span class="op" id="96110">(</span><span class="ident" id="96111">t</span>&nbsp;<span class="op" id="96113">*</span><span class="ident" id="96114">testing</span><span class="op" id="96121">.</span><span class="ident" id="96122">T</span><span class="op" id="96123">)</span>&nbsp;<span class="op" id="96125">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="96128">for</span>&nbsp;<span class="ident" id="96132">_</span><span class="op" id="96133">,</span>&nbsp;<span class="ident" id="96135">tt</span>&nbsp;<span class="op" id="96138">:=</span>&nbsp;<span class="keyword" id="96141">range</span>&nbsp;<span class="ident" id="96147">ReplaceTests</span>&nbsp;<span class="op" id="96160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="96164">in</span>&nbsp;<span class="op" id="96167">:=</span>&nbsp;<span class="builtinfunc" id="96170">append</span><span class="op" id="96176">(</span><span class="op" id="96177">[</span><span class="op" id="96178">]</span><span class="builtintype" id="96179">byte</span><span class="op" id="96183">(</span><span class="ident" id="96184">tt</span><span class="op" id="96186">.</span><span class="ident" id="96187">in</span><span class="op" id="96189">)</span><span class="op" id="96190">,</span>&nbsp;<span class="string" id="96192">&#34;&lt;spare&gt;&#34;</span><span class="op" id="96201">...</span><span class="op" id="96204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="96208">in</span>&nbsp;<span class="op" id="96211">=</span>&nbsp;<span class="ident" id="96213">in</span><span class="op" id="96215">[</span><span class="op" id="96216">:</span><span class="builtinfunc" id="96217">len</span><span class="op" id="96220">(</span><span class="ident" id="96221">tt</span><span class="op" id="96223">.</span><span class="ident" id="96224">in</span><span class="op" id="96226">)</span><span class="op" id="96227">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="96231">out</span>&nbsp;<span class="op" id="96235">:=</span>&nbsp;<span class="ident" id="96238">Replace</span><span class="op" id="96245">(</span><span class="ident" id="96246">in</span><span class="op" id="96248">,</span>&nbsp;<span class="op" id="96250">[</span><span class="op" id="96251">]</span><span class="builtintype" id="96252">byte</span><span class="op" id="96256">(</span><span class="ident" id="96257">tt</span><span class="op" id="96259">.</span><span class="ident" id="96260">old</span><span class="op" id="96263">)</span><span class="op" id="96264">,</span>&nbsp;<span class="op" id="96266">[</span><span class="op" id="96267">]</span><span class="builtintype" id="96268">byte</span><span class="op" id="96272">(</span><span class="ident" id="96273">tt</span><span class="op" id="96275">.</span><span class="builtinfunc" id="96276">new</span><span class="op" id="96279">)</span><span class="op" id="96280">,</span>&nbsp;<span class="ident" id="96282">tt</span><span class="op" id="96284">.</span><span class="ident" id="96285">n</span><span class="op" id="96286">)</span><br>
<span class="lineno">1065</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="96290">if</span>&nbsp;<span class="ident" id="96293">s</span>&nbsp;<span class="op" id="96295">:=</span>&nbsp;<span class="builtintype" id="96298">string</span><span class="op" id="96304">(</span><span class="ident" id="96305">out</span><span class="op" id="96308">)</span><span class="op" id="96309">;</span>&nbsp;<span class="ident" id="96311">s</span>&nbsp;<span class="op" id="96313">!=</span>&nbsp;<span class="ident" id="96316">tt</span><span class="op" id="96318">.</span><span class="ident" id="96319">out</span>&nbsp;<span class="op" id="96323">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="96328">t</span><span class="op" id="96329">.</span><span class="ident" id="96330">Errorf</span><span class="op" id="96336">(</span><span class="string" id="96337">&#34;Replace(%q,&nbsp;%q,&nbsp;%q,&nbsp;%d)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="96376">,</span>&nbsp;<span class="ident" id="96378">tt</span><span class="op" id="96380">.</span><span class="ident" id="96381">in</span><span class="op" id="96383">,</span>&nbsp;<span class="ident" id="96385">tt</span><span class="op" id="96387">.</span><span class="ident" id="96388">old</span><span class="op" id="96391">,</span>&nbsp;<span class="ident" id="96393">tt</span><span class="op" id="96395">.</span><span class="builtinfunc" id="96396">new</span><span class="op" id="96399">,</span>&nbsp;<span class="ident" id="96401">tt</span><span class="op" id="96403">.</span><span class="ident" id="96404">n</span><span class="op" id="96405">,</span>&nbsp;<span class="ident" id="96407">s</span><span class="op" id="96408">,</span>&nbsp;<span class="ident" id="96410">tt</span><span class="op" id="96412">.</span><span class="ident" id="96413">out</span><span class="op" id="96416">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96420">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="96424">if</span>&nbsp;<span class="builtinfunc" id="96427">cap</span><span class="op" id="96430">(</span><span class="ident" id="96431">in</span><span class="op" id="96433">)</span>&nbsp;<span class="op" id="96435">==</span>&nbsp;<span class="builtinfunc" id="96438">cap</span><span class="op" id="96441">(</span><span class="ident" id="96442">out</span><span class="op" id="96445">)</span>&nbsp;<span class="op" id="96447">&amp;&amp;</span>&nbsp;<span class="op" id="96450">&amp;</span><span class="ident" id="96451">in</span><span class="op" id="96453">[</span><span class="op" id="96454">:</span><span class="num" id="96455">1</span><span class="op" id="96456">]</span><span class="op" id="96457">[</span><span class="num" id="96458">0</span><span class="op" id="96459">]</span>&nbsp;<span class="op" id="96461">==</span>&nbsp;<span class="op" id="96464">&amp;</span><span class="ident" id="96465">out</span><span class="op" id="96468">[</span><span class="op" id="96469">:</span><span class="num" id="96470">1</span><span class="op" id="96471">]</span><span class="op" id="96472">[</span><span class="num" id="96473">0</span><span class="op" id="96474">]</span>&nbsp;<span class="op" id="96476">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="96481">t</span><span class="op" id="96482">.</span><span class="ident" id="96483">Errorf</span><span class="op" id="96489">(</span><span class="string" id="96490">&#34;Replace(%q,&nbsp;%q,&nbsp;%q,&nbsp;%d)&nbsp;didn&#39;t&nbsp;copy&#34;</span><span class="op" id="96527">,</span>&nbsp;<span class="ident" id="96529">tt</span><span class="op" id="96531">.</span><span class="ident" id="96532">in</span><span class="op" id="96534">,</span>&nbsp;<span class="ident" id="96536">tt</span><span class="op" id="96538">.</span><span class="ident" id="96539">old</span><span class="op" id="96542">,</span>&nbsp;<span class="ident" id="96544">tt</span><span class="op" id="96546">.</span><span class="builtinfunc" id="96547">new</span><span class="op" id="96550">,</span>&nbsp;<span class="ident" id="96552">tt</span><span class="op" id="96554">.</span><span class="ident" id="96555">n</span><span class="op" id="96556">)</span><br>
<span class="lineno">1070</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96560">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96563">}</span><br>
<span class="lineno"></span><span class="op" id="96565">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="96568">type</span>&nbsp;<span class="ident" id="96573">TitleTest</span>&nbsp;<span class="keyword" id="96583">struct</span>&nbsp;<span class="op" id="96590">{</span><br>
<span class="lineno">1075</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="96593">in</span><span class="op" id="96595">,</span>&nbsp;<span class="ident" id="96597">out</span>&nbsp;<span class="builtintype" id="96601">string</span><br>
<span class="lineno"></span><span class="op" id="96608">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="96611">var</span>&nbsp;<span class="ident" id="96615">TitleTests</span>&nbsp;<span class="op" id="96626">=</span>&nbsp;<span class="op" id="96628">[</span><span class="op" id="96629">]</span><span class="ident" id="96630">TitleTest</span><span class="op" id="96639">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96642">{</span><span class="string" id="96643">&#34;&#34;</span><span class="op" id="96645">,</span>&nbsp;<span class="string" id="96647">&#34;&#34;</span><span class="op" id="96649">}</span><span class="op" id="96650">,</span><br>
<span class="lineno">1080</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96653">{</span><span class="string" id="96654">&#34;a&#34;</span><span class="op" id="96657">,</span>&nbsp;<span class="string" id="96659">&#34;A&#34;</span><span class="op" id="96662">}</span><span class="op" id="96663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96666">{</span><span class="string" id="96667">&#34;&nbsp;aaa&nbsp;aaa&nbsp;aaa&nbsp;&#34;</span><span class="op" id="96682">,</span>&nbsp;<span class="string" id="96684">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="96699">}</span><span class="op" id="96700">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96703">{</span><span class="string" id="96704">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="96719">,</span>&nbsp;<span class="string" id="96721">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="96736">}</span><span class="op" id="96737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96740">{</span><span class="string" id="96741">&#34;123a456&#34;</span><span class="op" id="96750">,</span>&nbsp;<span class="string" id="96752">&#34;123a456&#34;</span><span class="op" id="96761">}</span><span class="op" id="96762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96765">{</span><span class="string" id="96766">&#34;double-blind&#34;</span><span class="op" id="96780">,</span>&nbsp;<span class="string" id="96782">&#34;Double-Blind&#34;</span><span class="op" id="96796">}</span><span class="op" id="96797">,</span><br>
<span class="lineno">1085</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96800">{</span><span class="string" id="96801">&#34;ÿøû&#34;</span><span class="op" id="96809">,</span>&nbsp;<span class="string" id="96811">&#34;Ÿøû&#34;</span><span class="op" id="96819">}</span><span class="op" id="96820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96823">{</span><span class="string" id="96824">&#34;with_underscore&#34;</span><span class="op" id="96841">,</span>&nbsp;<span class="string" id="96843">&#34;With_underscore&#34;</span><span class="op" id="96860">}</span><span class="op" id="96861">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="96864">{</span><span class="string" id="96865">&#34;unicode&nbsp;\xe2\x80\xa8&nbsp;line&nbsp;separator&#34;</span><span class="op" id="96902">,</span>&nbsp;<span class="string" id="96904">&#34;Unicode&nbsp;\xe2\x80\xa8&nbsp;Line&nbsp;Separator&#34;</span><span class="op" id="96941">}</span><span class="op" id="96942">,</span><br>
<span class="lineno"></span><span class="op" id="96944">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1090</span><span class="keyword" id="96947">func</span>&nbsp;<span class="ident" id="96952">TestTitle</span><span class="op" id="96961">(</span><span class="ident" id="96962">t</span>&nbsp;<span class="op" id="96964">*</span><span class="ident" id="96965">testing</span><span class="op" id="96972">.</span><span class="ident" id="96973">T</span><span class="op" id="96974">)</span>&nbsp;<span class="op" id="96976">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="96979">for</span>&nbsp;<span class="ident" id="96983">_</span><span class="op" id="96984">,</span>&nbsp;<span class="ident" id="96986">tt</span>&nbsp;<span class="op" id="96989">:=</span>&nbsp;<span class="keyword" id="96992">range</span>&nbsp;<span class="ident" id="96998">TitleTests</span>&nbsp;<span class="op" id="97009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="97013">if</span>&nbsp;<span class="ident" id="97016">s</span>&nbsp;<span class="op" id="97018">:=</span>&nbsp;<span class="builtintype" id="97021">string</span><span class="op" id="97027">(</span><span class="ident" id="97028">Title</span><span class="op" id="97033">(</span><span class="op" id="97034">[</span><span class="op" id="97035">]</span><span class="builtintype" id="97036">byte</span><span class="op" id="97040">(</span><span class="ident" id="97041">tt</span><span class="op" id="97043">.</span><span class="ident" id="97044">in</span><span class="op" id="97046">)</span><span class="op" id="97047">)</span><span class="op" id="97048">)</span><span class="op" id="97049">;</span>&nbsp;<span class="ident" id="97051">s</span>&nbsp;<span class="op" id="97053">!=</span>&nbsp;<span class="ident" id="97056">tt</span><span class="op" id="97058">.</span><span class="ident" id="97059">out</span>&nbsp;<span class="op" id="97063">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="97068">t</span><span class="op" id="97069">.</span><span class="ident" id="97070">Errorf</span><span class="op" id="97076">(</span><span class="string" id="97077">&#34;Title(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="97102">,</span>&nbsp;<span class="ident" id="97104">tt</span><span class="op" id="97106">.</span><span class="ident" id="97107">in</span><span class="op" id="97109">,</span>&nbsp;<span class="ident" id="97111">s</span><span class="op" id="97112">,</span>&nbsp;<span class="ident" id="97114">tt</span><span class="op" id="97116">.</span><span class="ident" id="97117">out</span><span class="op" id="97120">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97124">}</span><br>
<span class="lineno">1095</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97127">}</span><br>
<span class="lineno"></span><span class="op" id="97129">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="97132">var</span>&nbsp;<span class="ident" id="97136">ToTitleTests</span>&nbsp;<span class="op" id="97149">=</span>&nbsp;<span class="op" id="97151">[</span><span class="op" id="97152">]</span><span class="ident" id="97153">TitleTest</span><span class="op" id="97162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97165">{</span><span class="string" id="97166">&#34;&#34;</span><span class="op" id="97168">,</span>&nbsp;<span class="string" id="97170">&#34;&#34;</span><span class="op" id="97172">}</span><span class="op" id="97173">,</span><br>
<span class="lineno">1100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97176">{</span><span class="string" id="97177">&#34;a&#34;</span><span class="op" id="97180">,</span>&nbsp;<span class="string" id="97182">&#34;A&#34;</span><span class="op" id="97185">}</span><span class="op" id="97186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97189">{</span><span class="string" id="97190">&#34;&nbsp;aaa&nbsp;aaa&nbsp;aaa&nbsp;&#34;</span><span class="op" id="97205">,</span>&nbsp;<span class="string" id="97207">&#34;&nbsp;AAA&nbsp;AAA&nbsp;AAA&nbsp;&#34;</span><span class="op" id="97222">}</span><span class="op" id="97223">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97226">{</span><span class="string" id="97227">&#34;&nbsp;Aaa&nbsp;Aaa&nbsp;Aaa&nbsp;&#34;</span><span class="op" id="97242">,</span>&nbsp;<span class="string" id="97244">&#34;&nbsp;AAA&nbsp;AAA&nbsp;AAA&nbsp;&#34;</span><span class="op" id="97259">}</span><span class="op" id="97260">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97263">{</span><span class="string" id="97264">&#34;123a456&#34;</span><span class="op" id="97273">,</span>&nbsp;<span class="string" id="97275">&#34;123A456&#34;</span><span class="op" id="97284">}</span><span class="op" id="97285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97288">{</span><span class="string" id="97289">&#34;double-blind&#34;</span><span class="op" id="97303">,</span>&nbsp;<span class="string" id="97305">&#34;DOUBLE-BLIND&#34;</span><span class="op" id="97319">}</span><span class="op" id="97320">,</span><br>
<span class="lineno">1105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97323">{</span><span class="string" id="97324">&#34;ÿøû&#34;</span><span class="op" id="97332">,</span>&nbsp;<span class="string" id="97334">&#34;ŸØÛ&#34;</span><span class="op" id="97342">}</span><span class="op" id="97343">,</span><br>
<span class="lineno"></span><span class="op" id="97345">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="97348">func</span>&nbsp;<span class="ident" id="97353">TestToTitle</span><span class="op" id="97364">(</span><span class="ident" id="97365">t</span>&nbsp;<span class="op" id="97367">*</span><span class="ident" id="97368">testing</span><span class="op" id="97375">.</span><span class="ident" id="97376">T</span><span class="op" id="97377">)</span>&nbsp;<span class="op" id="97379">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="97382">for</span>&nbsp;<span class="ident" id="97386">_</span><span class="op" id="97387">,</span>&nbsp;<span class="ident" id="97389">tt</span>&nbsp;<span class="op" id="97392">:=</span>&nbsp;<span class="keyword" id="97395">range</span>&nbsp;<span class="ident" id="97401">ToTitleTests</span>&nbsp;<span class="op" id="97414">{</span><br>
<span class="lineno">1110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="97418">if</span>&nbsp;<span class="ident" id="97421">s</span>&nbsp;<span class="op" id="97423">:=</span>&nbsp;<span class="builtintype" id="97426">string</span><span class="op" id="97432">(</span><span class="ident" id="97433">ToTitle</span><span class="op" id="97440">(</span><span class="op" id="97441">[</span><span class="op" id="97442">]</span><span class="builtintype" id="97443">byte</span><span class="op" id="97447">(</span><span class="ident" id="97448">tt</span><span class="op" id="97450">.</span><span class="ident" id="97451">in</span><span class="op" id="97453">)</span><span class="op" id="97454">)</span><span class="op" id="97455">)</span><span class="op" id="97456">;</span>&nbsp;<span class="ident" id="97458">s</span>&nbsp;<span class="op" id="97460">!=</span>&nbsp;<span class="ident" id="97463">tt</span><span class="op" id="97465">.</span><span class="ident" id="97466">out</span>&nbsp;<span class="op" id="97470">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="97475">t</span><span class="op" id="97476">.</span><span class="ident" id="97477">Errorf</span><span class="op" id="97483">(</span><span class="string" id="97484">&#34;ToTitle(%q)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="97511">,</span>&nbsp;<span class="ident" id="97513">tt</span><span class="op" id="97515">.</span><span class="ident" id="97516">in</span><span class="op" id="97518">,</span>&nbsp;<span class="ident" id="97520">s</span><span class="op" id="97521">,</span>&nbsp;<span class="ident" id="97523">tt</span><span class="op" id="97525">.</span><span class="ident" id="97526">out</span><span class="op" id="97529">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97533">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97536">}</span><br>
<span class="lineno"></span><span class="op" id="97538">}</span><br>
<span class="lineno">1115</span><br>
<span class="lineno"></span><span class="keyword" id="97541">var</span>&nbsp;<span class="ident" id="97545">EqualFoldTests</span>&nbsp;<span class="op" id="97560">=</span>&nbsp;<span class="op" id="97562">[</span><span class="op" id="97563">]</span><span class="keyword" id="97564">struct</span>&nbsp;<span class="op" id="97571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="97574">s</span><span class="op" id="97575">,</span>&nbsp;<span class="ident" id="97577">t</span>&nbsp;<span class="builtintype" id="97579">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="97587">out</span>&nbsp;&nbsp;<span class="builtintype" id="97592">bool</span><br>
<span class="lineno"></span><span class="op" id="97597">}</span><span class="op" id="97598">{</span><br>
<span class="lineno">1120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97601">{</span><span class="string" id="97602">&#34;abc&#34;</span><span class="op" id="97607">,</span>&nbsp;<span class="string" id="97609">&#34;abc&#34;</span><span class="op" id="97614">,</span>&nbsp;<span class="builtintype" id="97616">true</span><span class="op" id="97620">}</span><span class="op" id="97621">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97624">{</span><span class="string" id="97625">&#34;ABcd&#34;</span><span class="op" id="97631">,</span>&nbsp;<span class="string" id="97633">&#34;ABcd&#34;</span><span class="op" id="97639">,</span>&nbsp;<span class="builtintype" id="97641">true</span><span class="op" id="97645">}</span><span class="op" id="97646">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97649">{</span><span class="string" id="97650">&#34;123abc&#34;</span><span class="op" id="97658">,</span>&nbsp;<span class="string" id="97660">&#34;123ABC&#34;</span><span class="op" id="97668">,</span>&nbsp;<span class="builtintype" id="97670">true</span><span class="op" id="97674">}</span><span class="op" id="97675">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97678">{</span><span class="string" id="97679">&#34;αβδ&#34;</span><span class="op" id="97687">,</span>&nbsp;<span class="string" id="97689">&#34;ΑΒΔ&#34;</span><span class="op" id="97697">,</span>&nbsp;<span class="builtintype" id="97699">true</span><span class="op" id="97703">}</span><span class="op" id="97704">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97707">{</span><span class="string" id="97708">&#34;abc&#34;</span><span class="op" id="97713">,</span>&nbsp;<span class="string" id="97715">&#34;xyz&#34;</span><span class="op" id="97720">,</span>&nbsp;<span class="builtintype" id="97722">false</span><span class="op" id="97727">}</span><span class="op" id="97728">,</span><br>
<span class="lineno">1125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97731">{</span><span class="string" id="97732">&#34;abc&#34;</span><span class="op" id="97737">,</span>&nbsp;<span class="string" id="97739">&#34;XYZ&#34;</span><span class="op" id="97744">,</span>&nbsp;<span class="builtintype" id="97746">false</span><span class="op" id="97751">}</span><span class="op" id="97752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97755">{</span><span class="string" id="97756">&#34;abcdefghijk&#34;</span><span class="op" id="97769">,</span>&nbsp;<span class="string" id="97771">&#34;abcdefghijX&#34;</span><span class="op" id="97784">,</span>&nbsp;<span class="builtintype" id="97786">false</span><span class="op" id="97791">}</span><span class="op" id="97792">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97795">{</span><span class="string" id="97796">&#34;abcdefghijk&#34;</span><span class="op" id="97809">,</span>&nbsp;<span class="string" id="97811">&#34;abcdefghij\u212A&#34;</span><span class="op" id="97829">,</span>&nbsp;<span class="builtintype" id="97831">true</span><span class="op" id="97835">}</span><span class="op" id="97836">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97839">{</span><span class="string" id="97840">&#34;abcdefghijK&#34;</span><span class="op" id="97853">,</span>&nbsp;<span class="string" id="97855">&#34;abcdefghij\u212A&#34;</span><span class="op" id="97873">,</span>&nbsp;<span class="builtintype" id="97875">true</span><span class="op" id="97879">}</span><span class="op" id="97880">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97883">{</span><span class="string" id="97884">&#34;abcdefghijkz&#34;</span><span class="op" id="97898">,</span>&nbsp;<span class="string" id="97900">&#34;abcdefghij\u212Ay&#34;</span><span class="op" id="97919">,</span>&nbsp;<span class="builtintype" id="97921">false</span><span class="op" id="97926">}</span><span class="op" id="97927">,</span><br>
<span class="lineno">1130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="97930">{</span><span class="string" id="97931">&#34;abcdefghijKz&#34;</span><span class="op" id="97945">,</span>&nbsp;<span class="string" id="97947">&#34;abcdefghij\u212Ay&#34;</span><span class="op" id="97966">,</span>&nbsp;<span class="builtintype" id="97968">false</span><span class="op" id="97973">}</span><span class="op" id="97974">,</span><br>
<span class="lineno"></span><span class="op" id="97976">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="97979">func</span>&nbsp;<span class="ident" id="97984">TestEqualFold</span><span class="op" id="97997">(</span><span class="ident" id="97998">t</span>&nbsp;<span class="op" id="98000">*</span><span class="ident" id="98001">testing</span><span class="op" id="98008">.</span><span class="ident" id="98009">T</span><span class="op" id="98010">)</span>&nbsp;<span class="op" id="98012">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98015">for</span>&nbsp;<span class="ident" id="98019">_</span><span class="op" id="98020">,</span>&nbsp;<span class="ident" id="98022">tt</span>&nbsp;<span class="op" id="98025">:=</span>&nbsp;<span class="keyword" id="98028">range</span>&nbsp;<span class="ident" id="98034">EqualFoldTests</span>&nbsp;<span class="op" id="98049">{</span><br>
<span class="lineno">1135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98053">if</span>&nbsp;<span class="ident" id="98056">out</span>&nbsp;<span class="op" id="98060">:=</span>&nbsp;<span class="ident" id="98063">EqualFold</span><span class="op" id="98072">(</span><span class="op" id="98073">[</span><span class="op" id="98074">]</span><span class="builtintype" id="98075">byte</span><span class="op" id="98079">(</span><span class="ident" id="98080">tt</span><span class="op" id="98082">.</span><span class="ident" id="98083">s</span><span class="op" id="98084">)</span><span class="op" id="98085">,</span>&nbsp;<span class="op" id="98087">[</span><span class="op" id="98088">]</span><span class="builtintype" id="98089">byte</span><span class="op" id="98093">(</span><span class="ident" id="98094">tt</span><span class="op" id="98096">.</span><span class="ident" id="98097">t</span><span class="op" id="98098">)</span><span class="op" id="98099">)</span><span class="op" id="98100">;</span>&nbsp;<span class="ident" id="98102">out</span>&nbsp;<span class="op" id="98106">!=</span>&nbsp;<span class="ident" id="98109">tt</span><span class="op" id="98111">.</span><span class="ident" id="98112">out</span>&nbsp;<span class="op" id="98116">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98121">t</span><span class="op" id="98122">.</span><span class="ident" id="98123">Errorf</span><span class="op" id="98129">(</span><span class="string" id="98130">&#34;EqualFold(%#q,&nbsp;%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="98165">,</span>&nbsp;<span class="ident" id="98167">tt</span><span class="op" id="98169">.</span><span class="ident" id="98170">s</span><span class="op" id="98171">,</span>&nbsp;<span class="ident" id="98173">tt</span><span class="op" id="98175">.</span><span class="ident" id="98176">t</span><span class="op" id="98177">,</span>&nbsp;<span class="ident" id="98179">out</span><span class="op" id="98182">,</span>&nbsp;<span class="ident" id="98184">tt</span><span class="op" id="98186">.</span><span class="ident" id="98187">out</span><span class="op" id="98190">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98194">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98198">if</span>&nbsp;<span class="ident" id="98201">out</span>&nbsp;<span class="op" id="98205">:=</span>&nbsp;<span class="ident" id="98208">EqualFold</span><span class="op" id="98217">(</span><span class="op" id="98218">[</span><span class="op" id="98219">]</span><span class="builtintype" id="98220">byte</span><span class="op" id="98224">(</span><span class="ident" id="98225">tt</span><span class="op" id="98227">.</span><span class="ident" id="98228">t</span><span class="op" id="98229">)</span><span class="op" id="98230">,</span>&nbsp;<span class="op" id="98232">[</span><span class="op" id="98233">]</span><span class="builtintype" id="98234">byte</span><span class="op" id="98238">(</span><span class="ident" id="98239">tt</span><span class="op" id="98241">.</span><span class="ident" id="98242">s</span><span class="op" id="98243">)</span><span class="op" id="98244">)</span><span class="op" id="98245">;</span>&nbsp;<span class="ident" id="98247">out</span>&nbsp;<span class="op" id="98251">!=</span>&nbsp;<span class="ident" id="98254">tt</span><span class="op" id="98256">.</span><span class="ident" id="98257">out</span>&nbsp;<span class="op" id="98261">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98266">t</span><span class="op" id="98267">.</span><span class="ident" id="98268">Errorf</span><span class="op" id="98274">(</span><span class="string" id="98275">&#34;EqualFold(%#q,&nbsp;%#q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="98310">,</span>&nbsp;<span class="ident" id="98312">tt</span><span class="op" id="98314">.</span><span class="ident" id="98315">t</span><span class="op" id="98316">,</span>&nbsp;<span class="ident" id="98318">tt</span><span class="op" id="98320">.</span><span class="ident" id="98321">s</span><span class="op" id="98322">,</span>&nbsp;<span class="ident" id="98324">out</span><span class="op" id="98327">,</span>&nbsp;<span class="ident" id="98329">tt</span><span class="op" id="98331">.</span><span class="ident" id="98332">out</span><span class="op" id="98335">)</span><br>
<span class="lineno">1140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98339">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98342">}</span><br>
<span class="lineno"></span><span class="op" id="98344">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="98347">func</span>&nbsp;<span class="ident" id="98352">TestBufferGrowNegative</span><span class="op" id="98374">(</span><span class="ident" id="98375">t</span>&nbsp;<span class="op" id="98377">*</span><span class="ident" id="98378">testing</span><span class="op" id="98385">.</span><span class="ident" id="98386">T</span><span class="op" id="98387">)</span>&nbsp;<span class="op" id="98389">{</span><br>
<span class="lineno">1145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98392">defer</span>&nbsp;<span class="keyword" id="98398">func</span><span class="op" id="98402">(</span><span class="op" id="98403">)</span>&nbsp;<span class="op" id="98405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98409">if</span>&nbsp;<span class="ident" id="98412">err</span>&nbsp;<span class="op" id="98416">:=</span>&nbsp;<span class="builtinfunc" id="98419">recover</span><span class="op" id="98426">(</span><span class="op" id="98427">)</span><span class="op" id="98428">;</span>&nbsp;<span class="ident" id="98430">err</span>&nbsp;<span class="op" id="98434">==</span>&nbsp;<span class="ident" id="98437">nil</span>&nbsp;<span class="op" id="98441">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98446">t</span><span class="op" id="98447">.</span><span class="ident" id="98448">Fatal</span><span class="op" id="98453">(</span><span class="string" id="98454">&#34;Grow(-1)&nbsp;should&nbsp;have&nbsp;panicked&#34;</span><span class="op" id="98485">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98489">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98492">}</span><span class="op" id="98493">(</span><span class="op" id="98494">)</span><br>
<span class="lineno">1150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98497">var</span>&nbsp;<span class="ident" id="98501">b</span>&nbsp;<span class="ident" id="98503">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98511">b</span><span class="op" id="98512">.</span><span class="ident" id="98513">Grow</span><span class="op" id="98517">(</span><span class="op" id="98518">-</span><span class="num" id="98519">1</span><span class="op" id="98520">)</span><br>
<span class="lineno"></span><span class="op" id="98522">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="98525">func</span>&nbsp;<span class="ident" id="98530">TestBufferTruncateNegative</span><span class="op" id="98556">(</span><span class="ident" id="98557">t</span>&nbsp;<span class="op" id="98559">*</span><span class="ident" id="98560">testing</span><span class="op" id="98567">.</span><span class="ident" id="98568">T</span><span class="op" id="98569">)</span>&nbsp;<span class="op" id="98571">{</span><br>
<span class="lineno">1155</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98574">defer</span>&nbsp;<span class="keyword" id="98580">func</span><span class="op" id="98584">(</span><span class="op" id="98585">)</span>&nbsp;<span class="op" id="98587">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98591">if</span>&nbsp;<span class="ident" id="98594">err</span>&nbsp;<span class="op" id="98598">:=</span>&nbsp;<span class="builtinfunc" id="98601">recover</span><span class="op" id="98608">(</span><span class="op" id="98609">)</span><span class="op" id="98610">;</span>&nbsp;<span class="ident" id="98612">err</span>&nbsp;<span class="op" id="98616">==</span>&nbsp;<span class="ident" id="98619">nil</span>&nbsp;<span class="op" id="98623">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98628">t</span><span class="op" id="98629">.</span><span class="ident" id="98630">Fatal</span><span class="op" id="98635">(</span><span class="string" id="98636">&#34;Truncate(-1)&nbsp;should&nbsp;have&nbsp;panicked&#34;</span><span class="op" id="98671">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98675">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98678">}</span><span class="op" id="98679">(</span><span class="op" id="98680">)</span><br>
<span class="lineno">1160</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98683">var</span>&nbsp;<span class="ident" id="98687">b</span>&nbsp;<span class="ident" id="98689">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98697">b</span><span class="op" id="98698">.</span><span class="ident" id="98699">Truncate</span><span class="op" id="98707">(</span><span class="op" id="98708">-</span><span class="num" id="98709">1</span><span class="op" id="98710">)</span><br>
<span class="lineno"></span><span class="op" id="98712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="98715">func</span>&nbsp;<span class="ident" id="98720">TestBufferTruncateOutOfRange</span><span class="op" id="98748">(</span><span class="ident" id="98749">t</span>&nbsp;<span class="op" id="98751">*</span><span class="ident" id="98752">testing</span><span class="op" id="98759">.</span><span class="ident" id="98760">T</span><span class="op" id="98761">)</span>&nbsp;<span class="op" id="98763">{</span><br>
<span class="lineno">1165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98766">defer</span>&nbsp;<span class="keyword" id="98772">func</span><span class="op" id="98776">(</span><span class="op" id="98777">)</span>&nbsp;<span class="op" id="98779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98783">if</span>&nbsp;<span class="ident" id="98786">err</span>&nbsp;<span class="op" id="98790">:=</span>&nbsp;<span class="builtinfunc" id="98793">recover</span><span class="op" id="98800">(</span><span class="op" id="98801">)</span><span class="op" id="98802">;</span>&nbsp;<span class="ident" id="98804">err</span>&nbsp;<span class="op" id="98808">==</span>&nbsp;<span class="ident" id="98811">nil</span>&nbsp;<span class="op" id="98815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98820">t</span><span class="op" id="98821">.</span><span class="ident" id="98822">Fatal</span><span class="op" id="98827">(</span><span class="string" id="98828">&#34;Truncate(20)&nbsp;should&nbsp;have&nbsp;panicked&#34;</span><span class="op" id="98863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98867">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="98870">}</span><span class="op" id="98871">(</span><span class="op" id="98872">)</span><br>
<span class="lineno">1170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="98875">var</span>&nbsp;<span class="ident" id="98879">b</span>&nbsp;<span class="ident" id="98881">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98889">b</span><span class="op" id="98890">.</span><span class="ident" id="98891">Write</span><span class="op" id="98896">(</span><span class="builtinfunc" id="98897">make</span><span class="op" id="98901">(</span><span class="op" id="98902">[</span><span class="op" id="98903">]</span><span class="builtintype" id="98904">byte</span><span class="op" id="98908">,</span>&nbsp;<span class="num" id="98910">10</span><span class="op" id="98912">)</span><span class="op" id="98913">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98916">b</span><span class="op" id="98917">.</span><span class="ident" id="98918">Truncate</span><span class="op" id="98926">(</span><span class="num" id="98927">20</span><span class="op" id="98929">)</span><br>
<span class="lineno"></span><span class="op" id="98931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1175</span><span class="keyword" id="98934">var</span>&nbsp;<span class="ident" id="98938">containsTests</span>&nbsp;<span class="op" id="98952">=</span>&nbsp;<span class="op" id="98954">[</span><span class="op" id="98955">]</span><span class="keyword" id="98956">struct</span>&nbsp;<span class="op" id="98963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98966">b</span><span class="op" id="98967">,</span>&nbsp;<span class="ident" id="98969">subslice</span>&nbsp;<span class="op" id="98978">[</span><span class="op" id="98979">]</span><span class="builtintype" id="98980">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="98986">want</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="98998">bool</span><br>
<span class="lineno"></span><span class="op" id="99003">}</span><span class="op" id="99004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99007">{</span><span class="op" id="99008">[</span><span class="op" id="99009">]</span><span class="builtintype" id="99010">byte</span><span class="op" id="99014">(</span><span class="string" id="99015">&#34;hello&#34;</span><span class="op" id="99022">)</span><span class="op" id="99023">,</span>&nbsp;<span class="op" id="99025">[</span><span class="op" id="99026">]</span><span class="builtintype" id="99027">byte</span><span class="op" id="99031">(</span><span class="string" id="99032">&#34;hel&#34;</span><span class="op" id="99037">)</span><span class="op" id="99038">,</span>&nbsp;<span class="builtintype" id="99040">true</span><span class="op" id="99044">}</span><span class="op" id="99045">,</span><br>
<span class="lineno">1180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99048">{</span><span class="op" id="99049">[</span><span class="op" id="99050">]</span><span class="builtintype" id="99051">byte</span><span class="op" id="99055">(</span><span class="string" id="99056">&#34;日本語&#34;</span><span class="op" id="99067">)</span><span class="op" id="99068">,</span>&nbsp;<span class="op" id="99070">[</span><span class="op" id="99071">]</span><span class="builtintype" id="99072">byte</span><span class="op" id="99076">(</span><span class="string" id="99077">&#34;日本&#34;</span><span class="op" id="99085">)</span><span class="op" id="99086">,</span>&nbsp;<span class="builtintype" id="99088">true</span><span class="op" id="99092">}</span><span class="op" id="99093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99096">{</span><span class="op" id="99097">[</span><span class="op" id="99098">]</span><span class="builtintype" id="99099">byte</span><span class="op" id="99103">(</span><span class="string" id="99104">&#34;hello&#34;</span><span class="op" id="99111">)</span><span class="op" id="99112">,</span>&nbsp;<span class="op" id="99114">[</span><span class="op" id="99115">]</span><span class="builtintype" id="99116">byte</span><span class="op" id="99120">(</span><span class="string" id="99121">&#34;Hello,&nbsp;world&#34;</span><span class="op" id="99135">)</span><span class="op" id="99136">,</span>&nbsp;<span class="builtintype" id="99138">false</span><span class="op" id="99143">}</span><span class="op" id="99144">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99147">{</span><span class="op" id="99148">[</span><span class="op" id="99149">]</span><span class="builtintype" id="99150">byte</span><span class="op" id="99154">(</span><span class="string" id="99155">&#34;東京&#34;</span><span class="op" id="99163">)</span><span class="op" id="99164">,</span>&nbsp;<span class="op" id="99166">[</span><span class="op" id="99167">]</span><span class="builtintype" id="99168">byte</span><span class="op" id="99172">(</span><span class="string" id="99173">&#34;京東&#34;</span><span class="op" id="99181">)</span><span class="op" id="99182">,</span>&nbsp;<span class="builtintype" id="99184">false</span><span class="op" id="99189">}</span><span class="op" id="99190">,</span><br>
<span class="lineno"></span><span class="op" id="99192">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">1185</span><span class="keyword" id="99195">func</span>&nbsp;<span class="ident" id="99200">TestContains</span><span class="op" id="99212">(</span><span class="ident" id="99213">t</span>&nbsp;<span class="op" id="99215">*</span><span class="ident" id="99216">testing</span><span class="op" id="99223">.</span><span class="ident" id="99224">T</span><span class="op" id="99225">)</span>&nbsp;<span class="op" id="99227">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99230">for</span>&nbsp;<span class="ident" id="99234">_</span><span class="op" id="99235">,</span>&nbsp;<span class="ident" id="99237">tt</span>&nbsp;<span class="op" id="99240">:=</span>&nbsp;<span class="keyword" id="99243">range</span>&nbsp;<span class="ident" id="99249">containsTests</span>&nbsp;<span class="op" id="99263">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99267">if</span>&nbsp;<span class="ident" id="99270">got</span>&nbsp;<span class="op" id="99274">:=</span>&nbsp;<span class="ident" id="99277">Contains</span><span class="op" id="99285">(</span><span class="ident" id="99286">tt</span><span class="op" id="99288">.</span><span class="ident" id="99289">b</span><span class="op" id="99290">,</span>&nbsp;<span class="ident" id="99292">tt</span><span class="op" id="99294">.</span><span class="ident" id="99295">subslice</span><span class="op" id="99303">)</span><span class="op" id="99304">;</span>&nbsp;<span class="ident" id="99306">got</span>&nbsp;<span class="op" id="99310">!=</span>&nbsp;<span class="ident" id="99313">tt</span><span class="op" id="99315">.</span><span class="ident" id="99316">want</span>&nbsp;<span class="op" id="99321">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99326">t</span><span class="op" id="99327">.</span><span class="ident" id="99328">Errorf</span><span class="op" id="99334">(</span><span class="string" id="99335">&#34;Contains(%q,&nbsp;%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="99367">,</span>&nbsp;<span class="ident" id="99369">tt</span><span class="op" id="99371">.</span><span class="ident" id="99372">b</span><span class="op" id="99373">,</span>&nbsp;<span class="ident" id="99375">tt</span><span class="op" id="99377">.</span><span class="ident" id="99378">subslice</span><span class="op" id="99386">,</span>&nbsp;<span class="ident" id="99388">got</span><span class="op" id="99391">,</span>&nbsp;<span class="ident" id="99393">tt</span><span class="op" id="99395">.</span><span class="ident" id="99396">want</span><span class="op" id="99400">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99404">}</span><br>
<span class="lineno">1190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99407">}</span><br>
<span class="lineno"></span><span class="op" id="99409">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="99412">var</span>&nbsp;<span class="ident" id="99416">makeFieldsInput</span>&nbsp;<span class="op" id="99432">=</span>&nbsp;<span class="keyword" id="99434">func</span><span class="op" id="99438">(</span><span class="op" id="99439">)</span>&nbsp;<span class="op" id="99441">[</span><span class="op" id="99442">]</span><span class="builtintype" id="99443">byte</span>&nbsp;<span class="op" id="99448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99451">x</span>&nbsp;<span class="op" id="99453">:=</span>&nbsp;<span class="builtinfunc" id="99456">make</span><span class="op" id="99460">(</span><span class="op" id="99461">[</span><span class="op" id="99462">]</span><span class="builtintype" id="99463">byte</span><span class="op" id="99467">,</span>&nbsp;<span class="num" id="99469">1</span><span class="op" id="99470">&lt;&lt;</span><span class="num" id="99472">20</span><span class="op" id="99474">)</span><br>
<span class="lineno">1195</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="99477">//&nbsp;Input&nbsp;is&nbsp;~10%&nbsp;space,&nbsp;~10%&nbsp;2-byte&nbsp;UTF-8,&nbsp;rest&nbsp;ASCII&nbsp;non-space.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99543">for</span>&nbsp;<span class="ident" id="99547">i</span>&nbsp;<span class="op" id="99549">:=</span>&nbsp;<span class="keyword" id="99552">range</span>&nbsp;<span class="ident" id="99558">x</span>&nbsp;<span class="op" id="99560">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99564">switch</span>&nbsp;<span class="ident" id="99571">rand</span><span class="op" id="99575">.</span><span class="ident" id="99576">Intn</span><span class="op" id="99580">(</span><span class="num" id="99581">10</span><span class="op" id="99583">)</span>&nbsp;<span class="op" id="99585">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99589">case</span>&nbsp;<span class="num" id="99594">0</span><span class="op" id="99595">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99600">x</span><span class="op" id="99601">[</span><span class="ident" id="99602">i</span><span class="op" id="99603">]</span>&nbsp;<span class="op" id="99605">=</span>&nbsp;<span class="string" id="99607">&#39;&nbsp;&#39;</span><br>
<span class="lineno">1200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99613">case</span>&nbsp;<span class="num" id="99618">1</span><span class="op" id="99619">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99624">if</span>&nbsp;<span class="ident" id="99627">i</span>&nbsp;<span class="op" id="99629">&gt;</span>&nbsp;<span class="num" id="99631">0</span>&nbsp;<span class="op" id="99633">&amp;&amp;</span>&nbsp;<span class="ident" id="99636">x</span><span class="op" id="99637">[</span><span class="ident" id="99638">i</span><span class="op" id="99639">-</span><span class="num" id="99640">1</span><span class="op" id="99641">]</span>&nbsp;<span class="op" id="99643">==</span>&nbsp;<span class="string" id="99646">&#39;x&#39;</span>&nbsp;<span class="op" id="99650">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="99656">copy</span><span class="op" id="99660">(</span><span class="ident" id="99661">x</span><span class="op" id="99662">[</span><span class="ident" id="99663">i</span><span class="op" id="99664">-</span><span class="num" id="99665">1</span><span class="op" id="99666">:</span><span class="op" id="99667">]</span><span class="op" id="99668">,</span>&nbsp;<span class="string" id="99670">&#34;χ&#34;</span><span class="op" id="99674">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99680">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99689">}</span><br>
<span class="lineno">1205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99694">fallthrough</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99708">default</span><span class="op" id="99715">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99720">x</span><span class="op" id="99721">[</span><span class="ident" id="99722">i</span><span class="op" id="99723">]</span>&nbsp;<span class="op" id="99725">=</span>&nbsp;<span class="string" id="99727">&#39;x&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99733">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99736">}</span><br>
<span class="lineno">1210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99739">return</span>&nbsp;<span class="ident" id="99746">x</span><br>
<span class="lineno"></span><span class="op" id="99748">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="99751">var</span>&nbsp;<span class="ident" id="99755">fieldsInput</span>&nbsp;<span class="op" id="99767">=</span>&nbsp;<span class="ident" id="99769">makeFieldsInput</span><span class="op" id="99784">(</span><span class="op" id="99785">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">1215</span><span class="keyword" id="99788">func</span>&nbsp;<span class="ident" id="99793">BenchmarkFields</span><span class="op" id="99808">(</span><span class="ident" id="99809">b</span>&nbsp;<span class="op" id="99811">*</span><span class="ident" id="99812">testing</span><span class="op" id="99819">.</span><span class="ident" id="99820">B</span><span class="op" id="99821">)</span>&nbsp;<span class="op" id="99823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99826">b</span><span class="op" id="99827">.</span><span class="ident" id="99828">SetBytes</span><span class="op" id="99836">(</span><span class="ident" id="99837">int64</span><span class="op" id="99842">(</span><span class="builtinfunc" id="99843">len</span><span class="op" id="99846">(</span><span class="ident" id="99847">fieldsInput</span><span class="op" id="99858">)</span><span class="op" id="99859">)</span><span class="op" id="99860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99863">for</span>&nbsp;<span class="ident" id="99867">i</span>&nbsp;<span class="op" id="99869">:=</span>&nbsp;<span class="num" id="99872">0</span><span class="op" id="99873">;</span>&nbsp;<span class="ident" id="99875">i</span>&nbsp;<span class="op" id="99877">&lt;</span>&nbsp;<span class="ident" id="99879">b</span><span class="op" id="99880">.</span><span class="ident" id="99881">N</span><span class="op" id="99882">;</span>&nbsp;<span class="ident" id="99884">i</span><span class="op" id="99885">++</span>&nbsp;<span class="op" id="99888">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99892">Fields</span><span class="op" id="99898">(</span><span class="ident" id="99899">fieldsInput</span><span class="op" id="99910">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="99913">}</span><br>
<span class="lineno">1220</span><span class="op" id="99915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="99918">func</span>&nbsp;<span class="ident" id="99923">BenchmarkFieldsFunc</span><span class="op" id="99942">(</span><span class="ident" id="99943">b</span>&nbsp;<span class="op" id="99945">*</span><span class="ident" id="99946">testing</span><span class="op" id="99953">.</span><span class="ident" id="99954">B</span><span class="op" id="99955">)</span>&nbsp;<span class="op" id="99957">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="99960">b</span><span class="op" id="99961">.</span><span class="ident" id="99962">SetBytes</span><span class="op" id="99970">(</span><span class="ident" id="99971">int64</span><span class="op" id="99976">(</span><span class="builtinfunc" id="99977">len</span><span class="op" id="99980">(</span><span class="ident" id="99981">fieldsInput</span><span class="op" id="99992">)</span><span class="op" id="99993">)</span><span class="op" id="99994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="99997">for</span>&nbsp;<span class="ident" id="100001">i</span>&nbsp;<span class="op" id="100003">:=</span>&nbsp;<span class="num" id="100006">0</span><span class="op" id="100007">;</span>&nbsp;<span class="ident" id="100009">i</span>&nbsp;<span class="op" id="100011">&lt;</span>&nbsp;<span class="ident" id="100013">b</span><span class="op" id="100014">.</span><span class="ident" id="100015">N</span><span class="op" id="100016">;</span>&nbsp;<span class="ident" id="100018">i</span><span class="op" id="100019">++</span>&nbsp;<span class="op" id="100022">{</span><br>
<span class="lineno">1225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="100026">FieldsFunc</span><span class="op" id="100036">(</span><span class="ident" id="100037">fieldsInput</span><span class="op" id="100048">,</span>&nbsp;<span class="ident" id="100050">unicode</span><span class="op" id="100057">.</span><span class="ident" id="100058">IsSpace</span><span class="op" id="100065">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100068">}</span><br>
<span class="lineno"></span><span class="op" id="100070">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="100073">func</span>&nbsp;<span class="ident" id="100078">BenchmarkTrimSpace</span><span class="op" id="100096">(</span><span class="ident" id="100097">b</span>&nbsp;<span class="op" id="100099">*</span><span class="ident" id="100100">testing</span><span class="op" id="100107">.</span><span class="ident" id="100108">B</span><span class="op" id="100109">)</span>&nbsp;<span class="op" id="100111">{</span><br>
<span class="lineno">1230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="100114">s</span>&nbsp;<span class="op" id="100116">:=</span>&nbsp;<span class="op" id="100119">[</span><span class="op" id="100120">]</span><span class="builtintype" id="100121">byte</span><span class="op" id="100125">(</span><span class="string" id="100126">&#34;&nbsp;&nbsp;Some&nbsp;text.&nbsp;&nbsp;\n&#34;</span><span class="op" id="100144">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="100147">for</span>&nbsp;<span class="ident" id="100151">i</span>&nbsp;<span class="op" id="100153">:=</span>&nbsp;<span class="num" id="100156">0</span><span class="op" id="100157">;</span>&nbsp;<span class="ident" id="100159">i</span>&nbsp;<span class="op" id="100161">&lt;</span>&nbsp;<span class="ident" id="100163">b</span><span class="op" id="100164">.</span><span class="ident" id="100165">N</span><span class="op" id="100166">;</span>&nbsp;<span class="ident" id="100168">i</span><span class="op" id="100169">++</span>&nbsp;<span class="op" id="100172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="100176">TrimSpace</span><span class="op" id="100185">(</span><span class="ident" id="100186">s</span><span class="op" id="100187">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100190">}</span><br>
<span class="lineno"></span><span class="op" id="100192">}</span><br>
<span class="lineno">1235</span><br>
<span class="lineno"></span><span class="keyword" id="100195">func</span>&nbsp;<span class="ident" id="100200">BenchmarkRepeat</span><span class="op" id="100215">(</span><span class="ident" id="100216">b</span>&nbsp;<span class="op" id="100218">*</span><span class="ident" id="100219">testing</span><span class="op" id="100226">.</span><span class="ident" id="100227">B</span><span class="op" id="100228">)</span>&nbsp;<span class="op" id="100230">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="100233">for</span>&nbsp;<span class="ident" id="100237">i</span>&nbsp;<span class="op" id="100239">:=</span>&nbsp;<span class="num" id="100242">0</span><span class="op" id="100243">;</span>&nbsp;<span class="ident" id="100245">i</span>&nbsp;<span class="op" id="100247">&lt;</span>&nbsp;<span class="ident" id="100249">b</span><span class="op" id="100250">.</span><span class="ident" id="100251">N</span><span class="op" id="100252">;</span>&nbsp;<span class="ident" id="100254">i</span><span class="op" id="100255">++</span>&nbsp;<span class="op" id="100258">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="100262">Repeat</span><span class="op" id="100268">(</span><span class="op" id="100269">[</span><span class="op" id="100270">]</span><span class="builtintype" id="100271">byte</span><span class="op" id="100275">(</span><span class="string" id="100276">&#34;-&#34;</span><span class="op" id="100279">)</span><span class="op" id="100280">,</span>&nbsp;<span class="num" id="100282">80</span><span class="op" id="100284">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="100287">}</span><br>
<span class="lineno">1240</span><span class="op" id="100289">}</span>
</div>
</body>
</html>
