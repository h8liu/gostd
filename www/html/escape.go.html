<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="4648549">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="4648604">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="4648658">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="4648709">//&nbsp;Package&nbsp;html&nbsp;provides&nbsp;functions&nbsp;for&nbsp;escaping&nbsp;and&nbsp;unescaping&nbsp;HTML&nbsp;text.</span><br>
<span class="lineno"></span><span class="keyword" id="4648783">package</span>&nbsp;<span class="ident" id="4648791">html</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4648797">import</span>&nbsp;<span class="op" id="4648804">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4648807">&#34;bytes&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4648816">&#34;strings&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4648827">&#34;unicode/utf8&#34;</span><br>
<span class="lineno"></span><span class="op" id="4648842">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4648845">type</span>&nbsp;<span class="ident" id="4648850">writer</span>&nbsp;<span class="keyword" id="4648857">interface</span>&nbsp;<span class="op" id="4648867">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4648870">WriteString</span><span class="op" id="4648881">(</span><span class="builtintype" id="4648882">string</span><span class="op" id="4648888">)</span>&nbsp;<span class="op" id="4648890">(</span><span class="builtintype" id="4648891">int</span><span class="op" id="4648894">,</span>&nbsp;<span class="builtintype" id="4648896">error</span><span class="op" id="4648901">)</span><br>
<span class="lineno"></span><span class="op" id="4648903">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4648906">//&nbsp;These&nbsp;replacements&nbsp;permit&nbsp;compatibility&nbsp;with&nbsp;old&nbsp;numeric&nbsp;entities&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="4648980">//&nbsp;assumed&nbsp;Windows-1252&nbsp;encoding.</span><br>
<span class="lineno">20</span><span class="comment" id="4649014">//&nbsp;http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#consume-a-character-reference</span><br>
<span class="lineno"></span><span class="keyword" id="4649125">var</span>&nbsp;<span class="ident" id="4649129">replacementTable</span>&nbsp;<span class="op" id="4649146">=</span>&nbsp;<span class="op" id="4649148">[</span><span class="op" id="4649149">...</span><span class="op" id="4649152">]</span><span class="builtintype" id="4649153">rune</span><span class="op" id="4649157">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649160">&#39;\u20AC&#39;</span><span class="op" id="4649168">,</span>&nbsp;<span class="comment" id="4649170">//&nbsp;First&nbsp;entry&nbsp;is&nbsp;what&nbsp;0x80&nbsp;should&nbsp;be&nbsp;replaced&nbsp;with.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649224">&#39;\u0081&#39;</span><span class="op" id="4649232">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649235">&#39;\u201A&#39;</span><span class="op" id="4649243">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649246">&#39;\u0192&#39;</span><span class="op" id="4649254">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649257">&#39;\u201E&#39;</span><span class="op" id="4649265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649268">&#39;\u2026&#39;</span><span class="op" id="4649276">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649279">&#39;\u2020&#39;</span><span class="op" id="4649287">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649290">&#39;\u2021&#39;</span><span class="op" id="4649298">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649301">&#39;\u02C6&#39;</span><span class="op" id="4649309">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649312">&#39;\u2030&#39;</span><span class="op" id="4649320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649323">&#39;\u0160&#39;</span><span class="op" id="4649331">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649334">&#39;\u2039&#39;</span><span class="op" id="4649342">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649345">&#39;\u0152&#39;</span><span class="op" id="4649353">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649356">&#39;\u008D&#39;</span><span class="op" id="4649364">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649367">&#39;\u017D&#39;</span><span class="op" id="4649375">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649378">&#39;\u008F&#39;</span><span class="op" id="4649386">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649389">&#39;\u0090&#39;</span><span class="op" id="4649397">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649400">&#39;\u2018&#39;</span><span class="op" id="4649408">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649411">&#39;\u2019&#39;</span><span class="op" id="4649419">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649422">&#39;\u201C&#39;</span><span class="op" id="4649430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649433">&#39;\u201D&#39;</span><span class="op" id="4649441">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649444">&#39;\u2022&#39;</span><span class="op" id="4649452">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649455">&#39;\u2013&#39;</span><span class="op" id="4649463">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649466">&#39;\u2014&#39;</span><span class="op" id="4649474">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649477">&#39;\u02DC&#39;</span><span class="op" id="4649485">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649488">&#39;\u2122&#39;</span><span class="op" id="4649496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649499">&#39;\u0161&#39;</span><span class="op" id="4649507">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649510">&#39;\u203A&#39;</span><span class="op" id="4649518">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649521">&#39;\u0153&#39;</span><span class="op" id="4649529">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649532">&#39;\u009D&#39;</span><span class="op" id="4649540">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649543">&#39;\u017E&#39;</span><span class="op" id="4649551">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="4649554">&#39;\u0178&#39;</span><span class="op" id="4649562">,</span>&nbsp;<span class="comment" id="4649564">//&nbsp;Last&nbsp;entry&nbsp;is&nbsp;0x9F.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4649588">//&nbsp;0x00-&gt;&#39;\uFFFD&#39;&nbsp;is&nbsp;handled&nbsp;programmatically.</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4649636">//&nbsp;0x0D-&gt;&#39;\u000D&#39;&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="op" id="4649666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4649669">//&nbsp;unescapeEntity&nbsp;reads&nbsp;an&nbsp;entity&nbsp;like&nbsp;&#34;&amp;lt;&#34;&nbsp;from&nbsp;b[src:]&nbsp;and&nbsp;writes&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="4649743">//&nbsp;corresponding&nbsp;&#34;&lt;&#34;&nbsp;to&nbsp;b[dst:],&nbsp;returning&nbsp;the&nbsp;incremented&nbsp;dst&nbsp;and&nbsp;src&nbsp;cursors.</span><br>
<span class="lineno">60</span><span class="comment" id="4649823">//&nbsp;Precondition:&nbsp;b[src]&nbsp;==&nbsp;&#39;&amp;&#39;&nbsp;&amp;&amp;&nbsp;dst&nbsp;&lt;=&nbsp;src.</span><br>
<span class="lineno"></span><span class="comment" id="4649869">//&nbsp;attribute&nbsp;should&nbsp;be&nbsp;true&nbsp;if&nbsp;parsing&nbsp;an&nbsp;attribute&nbsp;value.</span><br>
<span class="lineno"></span><span class="keyword" id="4649928">func</span>&nbsp;<span class="ident" id="4649933">unescapeEntity</span><span class="op" id="4649947">(</span><span class="ident" id="4649948">b</span>&nbsp;<span class="op" id="4649950">[</span><span class="op" id="4649951">]</span><span class="builtintype" id="4649952">byte</span><span class="op" id="4649956">,</span>&nbsp;<span class="ident" id="4649958">dst</span><span class="op" id="4649961">,</span>&nbsp;<span class="ident" id="4649963">src</span>&nbsp;<span class="builtintype" id="4649967">int</span><span class="op" id="4649970">,</span>&nbsp;<span class="ident" id="4649972">attribute</span>&nbsp;<span class="builtintype" id="4649982">bool</span><span class="op" id="4649986">)</span>&nbsp;<span class="op" id="4649988">(</span><span class="ident" id="4649989">dst1</span><span class="op" id="4649993">,</span>&nbsp;<span class="ident" id="4649995">src1</span>&nbsp;<span class="builtintype" id="4650000">int</span><span class="op" id="4650003">)</span>&nbsp;<span class="op" id="4650005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4650008">//&nbsp;http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#consume-a-character-reference</span><br>
<span class="lineno"></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4650121">//&nbsp;i&nbsp;starts&nbsp;at&nbsp;1&nbsp;because&nbsp;we&nbsp;already&nbsp;know&nbsp;that&nbsp;s[0]&nbsp;==&nbsp;&#39;&amp;&#39;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650181">i</span><span class="op" id="4650182">,</span>&nbsp;<span class="ident" id="4650184">s</span>&nbsp;<span class="op" id="4650186">:=</span>&nbsp;<span class="num" id="4650189">1</span><span class="op" id="4650190">,</span>&nbsp;<span class="ident" id="4650192"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650193">[</span><span class="ident" id="4650194"><a href="/html/escape.go.html#4649963">src</a></span><span class="op" id="4650197">:</span><span class="op" id="4650198">]</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650202">if</span>&nbsp;<span class="builtinfunc" id="4650205">len</span><span class="op" id="4650208">(</span><span class="ident" id="4650209"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4650210">)</span>&nbsp;<span class="op" id="4650212">&lt;=</span>&nbsp;<span class="num" id="4650215">1</span>&nbsp;<span class="op" id="4650217">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650221"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650222">[</span><span class="ident" id="4650223"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4650226">]</span>&nbsp;<span class="op" id="4650228">=</span>&nbsp;<span class="ident" id="4650230"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650231">[</span><span class="ident" id="4650232"><a href="/html/escape.go.html#4649963">src</a></span><span class="op" id="4650235">]</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650239">return</span>&nbsp;<span class="ident" id="4650246"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4650250">+</span>&nbsp;<span class="num" id="4650252">1</span><span class="op" id="4650253">,</span>&nbsp;<span class="ident" id="4650255"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4650259">+</span>&nbsp;<span class="num" id="4650261">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650268">if</span>&nbsp;<span class="ident" id="4650271"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4650272">[</span><span class="ident" id="4650273"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650274">]</span>&nbsp;<span class="op" id="4650276">==</span>&nbsp;<span class="string" id="4650279">&#39;#&#39;</span>&nbsp;<span class="op" id="4650283">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650287">if</span>&nbsp;<span class="builtinfunc" id="4650290">len</span><span class="op" id="4650293">(</span><span class="ident" id="4650294"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4650295">)</span>&nbsp;<span class="op" id="4650297">&lt;=</span>&nbsp;<span class="num" id="4650300">3</span>&nbsp;<span class="op" id="4650302">{</span>&nbsp;<span class="comment" id="4650304">//&nbsp;We&nbsp;need&nbsp;to&nbsp;have&nbsp;at&nbsp;least&nbsp;&#34;&amp;#.&#34;.</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650342"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650343">[</span><span class="ident" id="4650344"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4650347">]</span>&nbsp;<span class="op" id="4650349">=</span>&nbsp;<span class="ident" id="4650351"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650352">[</span><span class="ident" id="4650353"><a href="/html/escape.go.html#4649963">src</a></span><span class="op" id="4650356">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650361">return</span>&nbsp;<span class="ident" id="4650368"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4650372">+</span>&nbsp;<span class="num" id="4650374">1</span><span class="op" id="4650375">,</span>&nbsp;<span class="ident" id="4650377"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4650381">+</span>&nbsp;<span class="num" id="4650383">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650387">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650391"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650392">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650397">c</span>&nbsp;<span class="op" id="4650399">:=</span>&nbsp;<span class="ident" id="4650402"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4650403">[</span><span class="ident" id="4650404"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650405">]</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650409">hex</span>&nbsp;<span class="op" id="4650413">:=</span>&nbsp;<span class="builtintype" id="4650416">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650424">if</span>&nbsp;<span class="ident" id="4650427"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650429">==</span>&nbsp;<span class="string" id="4650432">&#39;x&#39;</span>&nbsp;<span class="op" id="4650436">||</span>&nbsp;<span class="ident" id="4650439"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650441">==</span>&nbsp;<span class="string" id="4650444">&#39;X&#39;</span>&nbsp;<span class="op" id="4650448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650453"><a href="/html/escape.go.html#4650409">hex</a></span>&nbsp;<span class="op" id="4650457">=</span>&nbsp;<span class="builtintype" id="4650459">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650467"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650468">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650473">}</span><br>
<span class="lineno">85</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650478">x</span>&nbsp;<span class="op" id="4650480">:=</span>&nbsp;<span class="string" id="4650483">&#39;\x00&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650492">for</span>&nbsp;<span class="ident" id="4650496"><a href="/html/escape.go.html#4650181">i</a></span>&nbsp;<span class="op" id="4650498">&lt;</span>&nbsp;<span class="builtinfunc" id="4650500">len</span><span class="op" id="4650503">(</span><span class="ident" id="4650504"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4650505">)</span>&nbsp;<span class="op" id="4650507">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650512"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650514">=</span>&nbsp;<span class="ident" id="4650516"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4650517">[</span><span class="ident" id="4650518"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650519">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650524"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650525">++</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650531">if</span>&nbsp;<span class="ident" id="4650534"><a href="/html/escape.go.html#4650409">hex</a></span>&nbsp;<span class="op" id="4650538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650544">if</span>&nbsp;<span class="string" id="4650547">&#39;0&#39;</span>&nbsp;<span class="op" id="4650551">&lt;=</span>&nbsp;<span class="ident" id="4650554"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650556">&amp;&amp;</span>&nbsp;<span class="ident" id="4650559"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650561">&lt;=</span>&nbsp;<span class="string" id="4650564">&#39;9&#39;</span>&nbsp;<span class="op" id="4650568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650575"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650577">=</span>&nbsp;<span class="num" id="4650579">16</span><span class="op" id="4650581">*</span><span class="ident" id="4650582"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650584">+</span>&nbsp;<span class="builtintype" id="4650586">rune</span><span class="op" id="4650590">(</span><span class="ident" id="4650591"><a href="/html/escape.go.html#4650397">c</a></span><span class="op" id="4650592">)</span>&nbsp;<span class="op" id="4650594">-</span>&nbsp;<span class="string" id="4650596">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650605">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650618">}</span>&nbsp;<span class="keyword" id="4650620">else</span>&nbsp;<span class="keyword" id="4650625">if</span>&nbsp;<span class="string" id="4650628">&#39;a&#39;</span>&nbsp;<span class="op" id="4650632">&lt;=</span>&nbsp;<span class="ident" id="4650635"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650637">&amp;&amp;</span>&nbsp;<span class="ident" id="4650640"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650642">&lt;=</span>&nbsp;<span class="string" id="4650645">&#39;f&#39;</span>&nbsp;<span class="op" id="4650649">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650656"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650658">=</span>&nbsp;<span class="num" id="4650660">16</span><span class="op" id="4650662">*</span><span class="ident" id="4650663"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650665">+</span>&nbsp;<span class="builtintype" id="4650667">rune</span><span class="op" id="4650671">(</span><span class="ident" id="4650672"><a href="/html/escape.go.html#4650397">c</a></span><span class="op" id="4650673">)</span>&nbsp;<span class="op" id="4650675">-</span>&nbsp;<span class="string" id="4650677">&#39;a&#39;</span>&nbsp;<span class="op" id="4650681">+</span>&nbsp;<span class="num" id="4650683">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650691">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650704">}</span>&nbsp;<span class="keyword" id="4650706">else</span>&nbsp;<span class="keyword" id="4650711">if</span>&nbsp;<span class="string" id="4650714">&#39;A&#39;</span>&nbsp;<span class="op" id="4650718">&lt;=</span>&nbsp;<span class="ident" id="4650721"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650723">&amp;&amp;</span>&nbsp;<span class="ident" id="4650726"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650728">&lt;=</span>&nbsp;<span class="string" id="4650731">&#39;F&#39;</span>&nbsp;<span class="op" id="4650735">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650742"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650744">=</span>&nbsp;<span class="num" id="4650746">16</span><span class="op" id="4650748">*</span><span class="ident" id="4650749"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650751">+</span>&nbsp;<span class="builtintype" id="4650753">rune</span><span class="op" id="4650757">(</span><span class="ident" id="4650758"><a href="/html/escape.go.html#4650397">c</a></span><span class="op" id="4650759">)</span>&nbsp;<span class="op" id="4650761">-</span>&nbsp;<span class="string" id="4650763">&#39;A&#39;</span>&nbsp;<span class="op" id="4650767">+</span>&nbsp;<span class="num" id="4650769">10</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650777">continue</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650795">}</span>&nbsp;<span class="keyword" id="4650797">else</span>&nbsp;<span class="keyword" id="4650802">if</span>&nbsp;<span class="string" id="4650805">&#39;0&#39;</span>&nbsp;<span class="op" id="4650809">&lt;=</span>&nbsp;<span class="ident" id="4650812"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650814">&amp;&amp;</span>&nbsp;<span class="ident" id="4650817"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650819">&lt;=</span>&nbsp;<span class="string" id="4650822">&#39;9&#39;</span>&nbsp;<span class="op" id="4650826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650832"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650834">=</span>&nbsp;<span class="num" id="4650836">10</span><span class="op" id="4650838">*</span><span class="ident" id="4650839"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4650841">+</span>&nbsp;<span class="builtintype" id="4650843">rune</span><span class="op" id="4650847">(</span><span class="ident" id="4650848"><a href="/html/escape.go.html#4650397">c</a></span><span class="op" id="4650849">)</span>&nbsp;<span class="op" id="4650851">-</span>&nbsp;<span class="string" id="4650853">&#39;0&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650861">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650873">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650878">if</span>&nbsp;<span class="ident" id="4650881"><a href="/html/escape.go.html#4650397">c</a></span>&nbsp;<span class="op" id="4650883">!=</span>&nbsp;<span class="string" id="4650886">&#39;;&#39;</span>&nbsp;<span class="op" id="4650890">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650896"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4650897">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650903">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650908">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4650916">}</span><br>
<span class="lineno">110</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650921">if</span>&nbsp;<span class="ident" id="4650924"><a href="/html/escape.go.html#4650181">i</a></span>&nbsp;<span class="op" id="4650926">&lt;=</span>&nbsp;<span class="num" id="4650929">3</span>&nbsp;<span class="op" id="4650931">{</span>&nbsp;<span class="comment" id="4650933">//&nbsp;No&nbsp;characters&nbsp;matched.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4650962"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650963">[</span><span class="ident" id="4650964"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4650967">]</span>&nbsp;<span class="op" id="4650969">=</span>&nbsp;<span class="ident" id="4650971"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4650972">[</span><span class="ident" id="4650973"><a href="/html/escape.go.html#4649963">src</a></span><span class="op" id="4650976">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4650981">return</span>&nbsp;<span class="ident" id="4650988"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4650992">+</span>&nbsp;<span class="num" id="4650994">1</span><span class="op" id="4650995">,</span>&nbsp;<span class="ident" id="4650997"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4651001">+</span>&nbsp;<span class="num" id="4651003">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651007">}</span><br>
<span class="lineno">115</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651012">if</span>&nbsp;<span class="num" id="4651015">0x80</span>&nbsp;<span class="op" id="4651020">&lt;=</span>&nbsp;<span class="ident" id="4651023"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651025">&amp;&amp;</span>&nbsp;<span class="ident" id="4651028"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651030">&lt;=</span>&nbsp;<span class="num" id="4651033">0x9F</span>&nbsp;<span class="op" id="4651038">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651043">//&nbsp;Replace&nbsp;characters&nbsp;from&nbsp;Windows-1252&nbsp;with&nbsp;UTF-8&nbsp;equivalents.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4651110"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651112">=</span>&nbsp;<span class="ident" id="4651114"><a href="/html/escape.go.html#4649129">replacementTable</a></span><span class="op" id="4651130">[</span><span class="ident" id="4651131"><a href="/html/escape.go.html#4650478">x</a></span><span class="op" id="4651132">-</span><span class="num" id="4651133">0x80</span><span class="op" id="4651137">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651141">}</span>&nbsp;<span class="keyword" id="4651143">else</span>&nbsp;<span class="keyword" id="4651148">if</span>&nbsp;<span class="ident" id="4651151"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651153">==</span>&nbsp;<span class="num" id="4651156">0</span>&nbsp;<span class="op" id="4651158">||</span>&nbsp;<span class="op" id="4651161">(</span><span class="num" id="4651162">0xD800</span>&nbsp;<span class="op" id="4651169">&lt;=</span>&nbsp;<span class="ident" id="4651172"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651174">&amp;&amp;</span>&nbsp;<span class="ident" id="4651177"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651179">&lt;=</span>&nbsp;<span class="num" id="4651182">0xDFFF</span><span class="op" id="4651188">)</span>&nbsp;<span class="op" id="4651190">||</span>&nbsp;<span class="ident" id="4651193"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651195">&gt;</span>&nbsp;<span class="num" id="4651197">0x10FFFF</span>&nbsp;<span class="op" id="4651206">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651211">//&nbsp;Replace&nbsp;invalid&nbsp;characters&nbsp;with&nbsp;the&nbsp;replacement&nbsp;character.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4651276"><a href="/html/escape.go.html#4650478">x</a></span>&nbsp;<span class="op" id="4651278">=</span>&nbsp;<span class="string" id="4651280">&#39;\uFFFD&#39;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651291">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651296">return</span>&nbsp;<span class="ident" id="4651303"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4651307">+</span>&nbsp;<span class="ident" id="4651309"><a href="/html/escape.go.html#4648827">utf8</a></span><span class="op" id="4651313">.</span><span class="ident" id="4651314">EncodeRune</span><span class="op" id="4651324">(</span><span class="ident" id="4651325"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4651326">[</span><span class="ident" id="4651327"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4651330">:</span><span class="op" id="4651331">]</span><span class="op" id="4651332">,</span>&nbsp;<span class="ident" id="4651334"><a href="/html/escape.go.html#4650478">x</a></span><span class="op" id="4651335">)</span><span class="op" id="4651336">,</span>&nbsp;<span class="ident" id="4651338"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4651342">+</span>&nbsp;<span class="ident" id="4651344"><a href="/html/escape.go.html#4650181">i</a></span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651347">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651351">//&nbsp;Consume&nbsp;the&nbsp;maximum&nbsp;number&nbsp;of&nbsp;characters&nbsp;possible,&nbsp;with&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651415">//&nbsp;consumed&nbsp;characters&nbsp;matching&nbsp;one&nbsp;of&nbsp;the&nbsp;named&nbsp;references.</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651478">for</span>&nbsp;<span class="ident" id="4651482"><a href="/html/escape.go.html#4650181">i</a></span>&nbsp;<span class="op" id="4651484">&lt;</span>&nbsp;<span class="builtinfunc" id="4651486">len</span><span class="op" id="4651489">(</span><span class="ident" id="4651490"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4651491">)</span>&nbsp;<span class="op" id="4651493">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4651497">c</span>&nbsp;<span class="op" id="4651499">:=</span>&nbsp;<span class="ident" id="4651502"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4651503">[</span><span class="ident" id="4651504"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4651505">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4651509"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4651510">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651515">//&nbsp;Lower-cased&nbsp;characters&nbsp;are&nbsp;more&nbsp;common&nbsp;in&nbsp;entities,&nbsp;so&nbsp;we&nbsp;check&nbsp;for&nbsp;them&nbsp;first.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651600">if</span>&nbsp;<span class="string" id="4651603">&#39;a&#39;</span>&nbsp;<span class="op" id="4651607">&lt;=</span>&nbsp;<span class="ident" id="4651610"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651612">&amp;&amp;</span>&nbsp;<span class="ident" id="4651615"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651617">&lt;=</span>&nbsp;<span class="string" id="4651620">&#39;z&#39;</span>&nbsp;<span class="op" id="4651624">||</span>&nbsp;<span class="string" id="4651627">&#39;A&#39;</span>&nbsp;<span class="op" id="4651631">&lt;=</span>&nbsp;<span class="ident" id="4651634"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651636">&amp;&amp;</span>&nbsp;<span class="ident" id="4651639"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651641">&lt;=</span>&nbsp;<span class="string" id="4651644">&#39;Z&#39;</span>&nbsp;<span class="op" id="4651648">||</span>&nbsp;<span class="string" id="4651651">&#39;0&#39;</span>&nbsp;<span class="op" id="4651655">&lt;=</span>&nbsp;<span class="ident" id="4651658"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651660">&amp;&amp;</span>&nbsp;<span class="ident" id="4651663"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651665">&lt;=</span>&nbsp;<span class="string" id="4651668">&#39;9&#39;</span>&nbsp;<span class="op" id="4651672">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651677">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651688">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651692">if</span>&nbsp;<span class="ident" id="4651695"><a href="/html/escape.go.html#4651497">c</a></span>&nbsp;<span class="op" id="4651697">!=</span>&nbsp;<span class="string" id="4651700">&#39;;&#39;</span>&nbsp;<span class="op" id="4651704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4651709"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4651710">--</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651715">}</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651719">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4651730">entityName</span>&nbsp;<span class="op" id="4651741">:=</span>&nbsp;<span class="builtintype" id="4651744">string</span><span class="op" id="4651750">(</span><span class="ident" id="4651751"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4651752">[</span><span class="num" id="4651753">1</span><span class="op" id="4651754">:</span><span class="ident" id="4651755"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4651756">]</span><span class="op" id="4651757">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651760">if</span>&nbsp;<span class="ident" id="4651763"><a href="/html/escape.go.html#4651730">entityName</a></span>&nbsp;<span class="op" id="4651774">==</span>&nbsp;<span class="string" id="4651777">&#34;&#34;</span>&nbsp;<span class="op" id="4651780">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651784">//&nbsp;No-op.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651795">}</span>&nbsp;<span class="keyword" id="4651797">else</span>&nbsp;<span class="keyword" id="4651802">if</span>&nbsp;<span class="ident" id="4651805"><a href="/html/escape.go.html#4649972">attribute</a></span>&nbsp;<span class="op" id="4651815">&amp;&amp;</span>&nbsp;<span class="ident" id="4651818"><a href="/html/escape.go.html#4651730">entityName</a></span><span class="op" id="4651828">[</span><span class="builtinfunc" id="4651829">len</span><span class="op" id="4651832">(</span><span class="ident" id="4651833"><a href="/html/escape.go.html#4651730">entityName</a></span><span class="op" id="4651843">)</span><span class="op" id="4651844">-</span><span class="num" id="4651845">1</span><span class="op" id="4651846">]</span>&nbsp;<span class="op" id="4651848">!=</span>&nbsp;<span class="string" id="4651851">&#39;;&#39;</span>&nbsp;<span class="op" id="4651855">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="4651858">len</span><span class="op" id="4651861">(</span><span class="ident" id="4651862"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4651863">)</span>&nbsp;<span class="op" id="4651865">&gt;</span>&nbsp;<span class="ident" id="4651867"><a href="/html/escape.go.html#4650181">i</a></span>&nbsp;<span class="op" id="4651869">&amp;&amp;</span>&nbsp;<span class="ident" id="4651872"><a href="/html/escape.go.html#4650184">s</a></span><span class="op" id="4651873">[</span><span class="ident" id="4651874"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4651875">]</span>&nbsp;<span class="op" id="4651877">==</span>&nbsp;<span class="string" id="4651880">&#39;=&#39;</span>&nbsp;<span class="op" id="4651884">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4651888">//&nbsp;No-op.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651899">}</span>&nbsp;<span class="keyword" id="4651901">else</span>&nbsp;<span class="keyword" id="4651906">if</span>&nbsp;<span class="ident" id="4651909">x</span>&nbsp;<span class="op" id="4651911">:=</span>&nbsp;<span class="ident" id="4651914"><a href="/html/entity.go.html#4549112">entity</a></span><span class="op" id="4651920">[</span><span class="ident" id="4651921"><a href="/html/escape.go.html#4651730">entityName</a></span><span class="op" id="4651931">]</span><span class="op" id="4651932">;</span>&nbsp;<span class="ident" id="4651934"><a href="/html/escape.go.html#4651909">x</a></span>&nbsp;<span class="op" id="4651936">!=</span>&nbsp;<span class="num" id="4651939">0</span>&nbsp;<span class="op" id="4651941">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4651945">return</span>&nbsp;<span class="ident" id="4651952"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4651956">+</span>&nbsp;<span class="ident" id="4651958"><a href="/html/escape.go.html#4648827">utf8</a></span><span class="op" id="4651962">.</span><span class="ident" id="4651963">EncodeRune</span><span class="op" id="4651973">(</span><span class="ident" id="4651974"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4651975">[</span><span class="ident" id="4651976"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4651979">:</span><span class="op" id="4651980">]</span><span class="op" id="4651981">,</span>&nbsp;<span class="ident" id="4651983"><a href="/html/escape.go.html#4651909">x</a></span><span class="op" id="4651984">)</span><span class="op" id="4651985">,</span>&nbsp;<span class="ident" id="4651987"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4651991">+</span>&nbsp;<span class="ident" id="4651993"><a href="/html/escape.go.html#4650181">i</a></span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4651996">}</span>&nbsp;<span class="keyword" id="4651998">else</span>&nbsp;<span class="keyword" id="4652003">if</span>&nbsp;<span class="ident" id="4652006">x</span>&nbsp;<span class="op" id="4652008">:=</span>&nbsp;<span class="ident" id="4652011"><a href="/html/entity.go.html#4643694">entity2</a></span><span class="op" id="4652018">[</span><span class="ident" id="4652019"><a href="/html/escape.go.html#4651730">entityName</a></span><span class="op" id="4652029">]</span><span class="op" id="4652030">;</span>&nbsp;<span class="ident" id="4652032"><a href="/html/escape.go.html#4652006">x</a></span><span class="op" id="4652033">[</span><span class="num" id="4652034">0</span><span class="op" id="4652035">]</span>&nbsp;<span class="op" id="4652037">!=</span>&nbsp;<span class="num" id="4652040">0</span>&nbsp;<span class="op" id="4652042">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652046">dst1</span>&nbsp;<span class="op" id="4652051">:=</span>&nbsp;<span class="ident" id="4652054"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4652058">+</span>&nbsp;<span class="ident" id="4652060"><a href="/html/escape.go.html#4648827">utf8</a></span><span class="op" id="4652064">.</span><span class="ident" id="4652065">EncodeRune</span><span class="op" id="4652075">(</span><span class="ident" id="4652076"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4652077">[</span><span class="ident" id="4652078"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4652081">:</span><span class="op" id="4652082">]</span><span class="op" id="4652083">,</span>&nbsp;<span class="ident" id="4652085"><a href="/html/escape.go.html#4652006">x</a></span><span class="op" id="4652086">[</span><span class="num" id="4652087">0</span><span class="op" id="4652088">]</span><span class="op" id="4652089">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652093">return</span>&nbsp;<span class="ident" id="4652100"><a href="/html/escape.go.html#4652046">dst1</a></span>&nbsp;<span class="op" id="4652105">+</span>&nbsp;<span class="ident" id="4652107"><a href="/html/escape.go.html#4648827">utf8</a></span><span class="op" id="4652111">.</span><span class="ident" id="4652112">EncodeRune</span><span class="op" id="4652122">(</span><span class="ident" id="4652123"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4652124">[</span><span class="ident" id="4652125"><a href="/html/escape.go.html#4652046">dst1</a></span><span class="op" id="4652129">:</span><span class="op" id="4652130">]</span><span class="op" id="4652131">,</span>&nbsp;<span class="ident" id="4652133"><a href="/html/escape.go.html#4652006">x</a></span><span class="op" id="4652134">[</span><span class="num" id="4652135">1</span><span class="op" id="4652136">]</span><span class="op" id="4652137">)</span><span class="op" id="4652138">,</span>&nbsp;<span class="ident" id="4652140"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4652144">+</span>&nbsp;<span class="ident" id="4652146"><a href="/html/escape.go.html#4650181">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652149">}</span>&nbsp;<span class="keyword" id="4652151">else</span>&nbsp;<span class="keyword" id="4652156">if</span>&nbsp;<span class="op" id="4652159">!</span><span class="ident" id="4652160"><a href="/html/escape.go.html#4649972">attribute</a></span>&nbsp;<span class="op" id="4652170">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652174">maxLen</span>&nbsp;<span class="op" id="4652181">:=</span>&nbsp;<span class="builtinfunc" id="4652184">len</span><span class="op" id="4652187">(</span><span class="ident" id="4652188"><a href="/html/escape.go.html#4651730">entityName</a></span><span class="op" id="4652198">)</span>&nbsp;<span class="op" id="4652200">-</span>&nbsp;<span class="num" id="4652202">1</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652206">if</span>&nbsp;<span class="ident" id="4652209"><a href="/html/escape.go.html#4652174">maxLen</a></span>&nbsp;<span class="op" id="4652216">&gt;</span>&nbsp;<span class="ident" id="4652218"><a href="/html/entity.go.html#4548727">longestEntityWithoutSemicolon</a></span>&nbsp;<span class="op" id="4652248">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652253"><a href="/html/escape.go.html#4652174">maxLen</a></span>&nbsp;<span class="op" id="4652260">=</span>&nbsp;<span class="ident" id="4652262"><a href="/html/entity.go.html#4548727">longestEntityWithoutSemicolon</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652294">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652298">for</span>&nbsp;<span class="ident" id="4652302">j</span>&nbsp;<span class="op" id="4652304">:=</span>&nbsp;<span class="ident" id="4652307"><a href="/html/escape.go.html#4652174">maxLen</a></span><span class="op" id="4652313">;</span>&nbsp;<span class="ident" id="4652315"><a href="/html/escape.go.html#4652302">j</a></span>&nbsp;<span class="op" id="4652317">&gt;</span>&nbsp;<span class="num" id="4652319">1</span><span class="op" id="4652320">;</span>&nbsp;<span class="ident" id="4652322"><a href="/html/escape.go.html#4652302">j</a></span><span class="op" id="4652323">--</span>&nbsp;<span class="op" id="4652326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652331">if</span>&nbsp;<span class="ident" id="4652334">x</span>&nbsp;<span class="op" id="4652336">:=</span>&nbsp;<span class="ident" id="4652339"><a href="/html/entity.go.html#4549112">entity</a></span><span class="op" id="4652345">[</span><span class="ident" id="4652346"><a href="/html/escape.go.html#4651730">entityName</a></span><span class="op" id="4652356">[</span><span class="op" id="4652357">:</span><span class="ident" id="4652358"><a href="/html/escape.go.html#4652302">j</a></span><span class="op" id="4652359">]</span><span class="op" id="4652360">]</span><span class="op" id="4652361">;</span>&nbsp;<span class="ident" id="4652363"><a href="/html/escape.go.html#4652334">x</a></span>&nbsp;<span class="op" id="4652365">!=</span>&nbsp;<span class="num" id="4652368">0</span>&nbsp;<span class="op" id="4652370">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652376">return</span>&nbsp;<span class="ident" id="4652383"><a href="/html/escape.go.html#4649958">dst</a></span>&nbsp;<span class="op" id="4652387">+</span>&nbsp;<span class="ident" id="4652389"><a href="/html/escape.go.html#4648827">utf8</a></span><span class="op" id="4652393">.</span><span class="ident" id="4652394">EncodeRune</span><span class="op" id="4652404">(</span><span class="ident" id="4652405"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4652406">[</span><span class="ident" id="4652407"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4652410">:</span><span class="op" id="4652411">]</span><span class="op" id="4652412">,</span>&nbsp;<span class="ident" id="4652414"><a href="/html/escape.go.html#4652334">x</a></span><span class="op" id="4652415">)</span><span class="op" id="4652416">,</span>&nbsp;<span class="ident" id="4652418"><a href="/html/escape.go.html#4649963">src</a></span>&nbsp;<span class="op" id="4652422">+</span>&nbsp;<span class="ident" id="4652424"><a href="/html/escape.go.html#4652302">j</a></span>&nbsp;<span class="op" id="4652426">+</span>&nbsp;<span class="num" id="4652428">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652433">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652437">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652440">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652444"><a href="/html/escape.go.html#4649989">dst1</a></span><span class="op" id="4652448">,</span>&nbsp;<span class="ident" id="4652450"><a href="/html/escape.go.html#4649995">src1</a></span>&nbsp;<span class="op" id="4652455">=</span>&nbsp;<span class="ident" id="4652457"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4652460">+</span><span class="ident" id="4652461"><a href="/html/escape.go.html#4650181">i</a></span><span class="op" id="4652462">,</span>&nbsp;<span class="ident" id="4652464"><a href="/html/escape.go.html#4649963">src</a></span><span class="op" id="4652467">+</span><span class="ident" id="4652468"><a href="/html/escape.go.html#4650181">i</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4652471">copy</span><span class="op" id="4652475">(</span><span class="ident" id="4652476"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4652477">[</span><span class="ident" id="4652478"><a href="/html/escape.go.html#4649958">dst</a></span><span class="op" id="4652481">:</span><span class="ident" id="4652482"><a href="/html/escape.go.html#4649989">dst1</a></span><span class="op" id="4652486">]</span><span class="op" id="4652487">,</span>&nbsp;<span class="ident" id="4652489"><a href="/html/escape.go.html#4649948">b</a></span><span class="op" id="4652490">[</span><span class="ident" id="4652491"><a href="/html/escape.go.html#4649963">src</a></span><span class="op" id="4652494">:</span><span class="ident" id="4652495"><a href="/html/escape.go.html#4649995">src1</a></span><span class="op" id="4652499">]</span><span class="op" id="4652500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652503">return</span>&nbsp;<span class="ident" id="4652510"><a href="/html/escape.go.html#4649989">dst1</a></span><span class="op" id="4652514">,</span>&nbsp;<span class="ident" id="4652516"><a href="/html/escape.go.html#4649995">src1</a></span><br>
<span class="lineno"></span><span class="op" id="4652521">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">170</span><span class="comment" id="4652524">//&nbsp;unescape&nbsp;unescapes&nbsp;b&#39;s&nbsp;entities&nbsp;in-place,&nbsp;so&nbsp;that&nbsp;&#34;a&amp;lt;b&#34;&nbsp;becomes&nbsp;&#34;a&lt;b&#34;.</span><br>
<span class="lineno"></span><span class="keyword" id="4652601">func</span>&nbsp;<span class="ident" id="4652606">unescape</span><span class="op" id="4652614">(</span><span class="ident" id="4652615">b</span>&nbsp;<span class="op" id="4652617">[</span><span class="op" id="4652618">]</span><span class="builtintype" id="4652619">byte</span><span class="op" id="4652623">)</span>&nbsp;<span class="op" id="4652625">[</span><span class="op" id="4652626">]</span><span class="builtintype" id="4652627">byte</span>&nbsp;<span class="op" id="4652632">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652635">for</span>&nbsp;<span class="ident" id="4652639">i</span><span class="op" id="4652640">,</span>&nbsp;<span class="ident" id="4652642">c</span>&nbsp;<span class="op" id="4652644">:=</span>&nbsp;<span class="keyword" id="4652647">range</span>&nbsp;<span class="ident" id="4652653"><a href="/html/escape.go.html#4652615">b</a></span>&nbsp;<span class="op" id="4652655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652659">if</span>&nbsp;<span class="ident" id="4652662"><a href="/html/escape.go.html#4652642">c</a></span>&nbsp;<span class="op" id="4652664">==</span>&nbsp;<span class="string" id="4652667">&#39;&amp;&#39;</span>&nbsp;<span class="op" id="4652671">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652676">dst</span><span class="op" id="4652679">,</span>&nbsp;<span class="ident" id="4652681">src</span>&nbsp;<span class="op" id="4652685">:=</span>&nbsp;<span class="ident" id="4652688"><a href="/html/escape.go.html#4649933">unescapeEntity</a></span><span class="op" id="4652702">(</span><span class="ident" id="4652703"><a href="/html/escape.go.html#4652615">b</a></span><span class="op" id="4652704">,</span>&nbsp;<span class="ident" id="4652706"><a href="/html/escape.go.html#4652639">i</a></span><span class="op" id="4652707">,</span>&nbsp;<span class="ident" id="4652709"><a href="/html/escape.go.html#4652639">i</a></span><span class="op" id="4652710">,</span>&nbsp;<span class="builtintype" id="4652712">false</span><span class="op" id="4652717">)</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652722">for</span>&nbsp;<span class="ident" id="4652726"><a href="/html/escape.go.html#4652681">src</a></span>&nbsp;<span class="op" id="4652730">&lt;</span>&nbsp;<span class="builtinfunc" id="4652732">len</span><span class="op" id="4652735">(</span><span class="ident" id="4652736"><a href="/html/escape.go.html#4652615">b</a></span><span class="op" id="4652737">)</span>&nbsp;<span class="op" id="4652739">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652745">c</span>&nbsp;<span class="op" id="4652747">:=</span>&nbsp;<span class="ident" id="4652750"><a href="/html/escape.go.html#4652615">b</a></span><span class="op" id="4652751">[</span><span class="ident" id="4652752"><a href="/html/escape.go.html#4652681">src</a></span><span class="op" id="4652755">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652761">if</span>&nbsp;<span class="ident" id="4652764"><a href="/html/escape.go.html#4652745">c</a></span>&nbsp;<span class="op" id="4652766">==</span>&nbsp;<span class="string" id="4652769">&#39;&amp;&#39;</span>&nbsp;<span class="op" id="4652773">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652780"><a href="/html/escape.go.html#4652676">dst</a></span><span class="op" id="4652783">,</span>&nbsp;<span class="ident" id="4652785"><a href="/html/escape.go.html#4652681">src</a></span>&nbsp;<span class="op" id="4652789">=</span>&nbsp;<span class="ident" id="4652791"><a href="/html/escape.go.html#4649933">unescapeEntity</a></span><span class="op" id="4652805">(</span><span class="ident" id="4652806"><a href="/html/escape.go.html#4652615">b</a></span><span class="op" id="4652807">,</span>&nbsp;<span class="ident" id="4652809"><a href="/html/escape.go.html#4652676">dst</a></span><span class="op" id="4652812">,</span>&nbsp;<span class="ident" id="4652814"><a href="/html/escape.go.html#4652681">src</a></span><span class="op" id="4652817">,</span>&nbsp;<span class="builtintype" id="4652819">false</span><span class="op" id="4652824">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652830">}</span>&nbsp;<span class="keyword" id="4652832">else</span>&nbsp;<span class="op" id="4652837">{</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652844"><a href="/html/escape.go.html#4652615">b</a></span><span class="op" id="4652845">[</span><span class="ident" id="4652846"><a href="/html/escape.go.html#4652676">dst</a></span><span class="op" id="4652849">]</span>&nbsp;<span class="op" id="4652851">=</span>&nbsp;<span class="ident" id="4652853"><a href="/html/escape.go.html#4652745">c</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4652860"><a href="/html/escape.go.html#4652676">dst</a></span><span class="op" id="4652863">,</span>&nbsp;<span class="ident" id="4652865"><a href="/html/escape.go.html#4652681">src</a></span>&nbsp;<span class="op" id="4652869">=</span>&nbsp;<span class="ident" id="4652871"><a href="/html/escape.go.html#4652676">dst</a></span><span class="op" id="4652874">+</span><span class="num" id="4652875">1</span><span class="op" id="4652876">,</span>&nbsp;<span class="ident" id="4652878"><a href="/html/escape.go.html#4652681">src</a></span><span class="op" id="4652881">+</span><span class="num" id="4652882">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652888">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652898">return</span>&nbsp;<span class="ident" id="4652905"><a href="/html/escape.go.html#4652615">b</a></span><span class="op" id="4652906">[</span><span class="num" id="4652907">0</span><span class="op" id="4652908">:</span><span class="ident" id="4652909"><a href="/html/escape.go.html#4652676">dst</a></span><span class="op" id="4652912">]</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652916">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4652919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4652922">return</span>&nbsp;<span class="ident" id="4652929"><a href="/html/escape.go.html#4652615">b</a></span><br>
<span class="lineno"></span><span class="op" id="4652931">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">190</span><span class="keyword" id="4652934">const</span>&nbsp;<span class="ident" id="4652940">escapedChars</span>&nbsp;<span class="op" id="4652953">=</span>&nbsp;<span class="string" id="4652955">`&amp;&#39;&lt;&gt;&#34;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="4652964">func</span>&nbsp;<span class="ident" id="4652969">escape</span><span class="op" id="4652975">(</span><span class="ident" id="4652976">w</span>&nbsp;<span class="ident" id="4652978"><a href="/html/escape.go.html#4648850">writer</a></span><span class="op" id="4652984">,</span>&nbsp;<span class="ident" id="4652986">s</span>&nbsp;<span class="builtintype" id="4652988">string</span><span class="op" id="4652994">)</span>&nbsp;<span class="builtintype" id="4652996">error</span>&nbsp;<span class="op" id="4653002">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653005">i</span>&nbsp;<span class="op" id="4653007">:=</span>&nbsp;<span class="ident" id="4653010"><a href="/html/escape.go.html#4648816">strings</a></span><span class="op" id="4653017">.</span><span class="ident" id="4653018">IndexAny</span><span class="op" id="4653026">(</span><span class="ident" id="4653027"><a href="/html/escape.go.html#4652986">s</a></span><span class="op" id="4653028">,</span>&nbsp;<span class="ident" id="4653030"><a href="/html/escape.go.html#4652940">escapedChars</a></span><span class="op" id="4653042">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653045">for</span>&nbsp;<span class="ident" id="4653049"><a href="/html/escape.go.html#4653005">i</a></span>&nbsp;<span class="op" id="4653051">!=</span>&nbsp;<span class="op" id="4653054">-</span><span class="num" id="4653055">1</span>&nbsp;<span class="op" id="4653057">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653061">if</span>&nbsp;<span class="ident" id="4653064">_</span><span class="op" id="4653065">,</span>&nbsp;<span class="ident" id="4653067">err</span>&nbsp;<span class="op" id="4653071">:=</span>&nbsp;<span class="ident" id="4653074"><a href="/html/escape.go.html#4652976">w</a></span><span class="op" id="4653075">.</span><span class="ident" id="4653076">WriteString</span><span class="op" id="4653087">(</span><span class="ident" id="4653088"><a href="/html/escape.go.html#4652986">s</a></span><span class="op" id="4653089">[</span><span class="op" id="4653090">:</span><span class="ident" id="4653091"><a href="/html/escape.go.html#4653005">i</a></span><span class="op" id="4653092">]</span><span class="op" id="4653093">)</span><span class="op" id="4653094">;</span>&nbsp;<span class="ident" id="4653096"><a href="/html/escape.go.html#4653067">err</a></span>&nbsp;<span class="op" id="4653100">!=</span>&nbsp;<span class="ident" id="4653103">nil</span>&nbsp;<span class="op" id="4653107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653112">return</span>&nbsp;<span class="ident" id="4653119"><a href="/html/escape.go.html#4653067">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4653125">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653129">var</span>&nbsp;<span class="ident" id="4653133">esc</span>&nbsp;<span class="builtintype" id="4653137">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653146">switch</span>&nbsp;<span class="ident" id="4653153"><a href="/html/escape.go.html#4652986">s</a></span><span class="op" id="4653154">[</span><span class="ident" id="4653155"><a href="/html/escape.go.html#4653005">i</a></span><span class="op" id="4653156">]</span>&nbsp;<span class="op" id="4653158">{</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653162">case</span>&nbsp;<span class="string" id="4653167">&#39;&amp;&#39;</span><span class="op" id="4653170">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653175"><a href="/html/escape.go.html#4653133">esc</a></span>&nbsp;<span class="op" id="4653179">=</span>&nbsp;<span class="string" id="4653181">&#34;&amp;amp;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653191">case</span>&nbsp;<span class="string" id="4653196">&#39;\&#39;&#39;</span><span class="op" id="4653200">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4653205">//&nbsp;&#34;&amp;#39;&#34;&nbsp;is&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;apos;&#34;&nbsp;and&nbsp;apos&nbsp;was&nbsp;not&nbsp;in&nbsp;HTML&nbsp;until&nbsp;HTML5.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653282"><a href="/html/escape.go.html#4653133">esc</a></span>&nbsp;<span class="op" id="4653286">=</span>&nbsp;<span class="string" id="4653288">&#34;&amp;#39;&#34;</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653298">case</span>&nbsp;<span class="string" id="4653303">&#39;&lt;&#39;</span><span class="op" id="4653306">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653311"><a href="/html/escape.go.html#4653133">esc</a></span>&nbsp;<span class="op" id="4653315">=</span>&nbsp;<span class="string" id="4653317">&#34;&amp;lt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653326">case</span>&nbsp;<span class="string" id="4653331">&#39;&gt;&#39;</span><span class="op" id="4653334">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653339"><a href="/html/escape.go.html#4653133">esc</a></span>&nbsp;<span class="op" id="4653343">=</span>&nbsp;<span class="string" id="4653345">&#34;&amp;gt;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653354">case</span>&nbsp;<span class="string" id="4653359">&#39;&#34;&#39;</span><span class="op" id="4653362">:</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="4653367">//&nbsp;&#34;&amp;#34;&#34;&nbsp;is&nbsp;shorter&nbsp;than&nbsp;&#34;&amp;quot;&#34;.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653407"><a href="/html/escape.go.html#4653133">esc</a></span>&nbsp;<span class="op" id="4653411">=</span>&nbsp;<span class="string" id="4653413">&#34;&amp;#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653423">default</span><span class="op" id="4653430">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="4653435">panic</span><span class="op" id="4653440">(</span><span class="string" id="4653441">&#34;unrecognized&nbsp;escape&nbsp;character&#34;</span><span class="op" id="4653472">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4653476">}</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653480"><a href="/html/escape.go.html#4652986">s</a></span>&nbsp;<span class="op" id="4653482">=</span>&nbsp;<span class="ident" id="4653484"><a href="/html/escape.go.html#4652986">s</a></span><span class="op" id="4653485">[</span><span class="ident" id="4653486"><a href="/html/escape.go.html#4653005">i</a></span><span class="op" id="4653487">+</span><span class="num" id="4653488">1</span><span class="op" id="4653489">:</span><span class="op" id="4653490">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653494">if</span>&nbsp;<span class="ident" id="4653497">_</span><span class="op" id="4653498">,</span>&nbsp;<span class="ident" id="4653500">err</span>&nbsp;<span class="op" id="4653504">:=</span>&nbsp;<span class="ident" id="4653507"><a href="/html/escape.go.html#4652976">w</a></span><span class="op" id="4653508">.</span><span class="ident" id="4653509">WriteString</span><span class="op" id="4653520">(</span><span class="ident" id="4653521"><a href="/html/escape.go.html#4653133">esc</a></span><span class="op" id="4653524">)</span><span class="op" id="4653525">;</span>&nbsp;<span class="ident" id="4653527"><a href="/html/escape.go.html#4653500">err</a></span>&nbsp;<span class="op" id="4653531">!=</span>&nbsp;<span class="ident" id="4653534">nil</span>&nbsp;<span class="op" id="4653538">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653543">return</span>&nbsp;<span class="ident" id="4653550"><a href="/html/escape.go.html#4653500">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4653556">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653560"><a href="/html/escape.go.html#4653005">i</a></span>&nbsp;<span class="op" id="4653562">=</span>&nbsp;<span class="ident" id="4653564"><a href="/html/escape.go.html#4648816">strings</a></span><span class="op" id="4653571">.</span><span class="ident" id="4653572">IndexAny</span><span class="op" id="4653580">(</span><span class="ident" id="4653581"><a href="/html/escape.go.html#4652986">s</a></span><span class="op" id="4653582">,</span>&nbsp;<span class="ident" id="4653584"><a href="/html/escape.go.html#4652940">escapedChars</a></span><span class="op" id="4653596">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4653599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653602">_</span><span class="op" id="4653603">,</span>&nbsp;<span class="ident" id="4653605">err</span>&nbsp;<span class="op" id="4653609">:=</span>&nbsp;<span class="ident" id="4653612"><a href="/html/escape.go.html#4652976">w</a></span><span class="op" id="4653613">.</span><span class="ident" id="4653614">WriteString</span><span class="op" id="4653625">(</span><span class="ident" id="4653626"><a href="/html/escape.go.html#4652986">s</a></span><span class="op" id="4653627">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653630">return</span>&nbsp;<span class="ident" id="4653637"><a href="/html/escape.go.html#4653605">err</a></span><br>
<span class="lineno"></span><span class="op" id="4653641">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span><span class="comment" id="4653644">//&nbsp;EscapeString&nbsp;escapes&nbsp;special&nbsp;characters&nbsp;like&nbsp;&#34;&lt;&#34;&nbsp;to&nbsp;become&nbsp;&#34;&amp;lt;&#34;.&nbsp;It</span><br>
<span class="lineno"></span><span class="comment" id="4653717">//&nbsp;escapes&nbsp;only&nbsp;five&nbsp;such&nbsp;characters:&nbsp;&lt;,&nbsp;&gt;,&nbsp;&amp;,&nbsp;&#39;&nbsp;and&nbsp;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4653773">//&nbsp;UnescapeString(EscapeString(s))&nbsp;==&nbsp;s&nbsp;always&nbsp;holds,&nbsp;but&nbsp;the&nbsp;converse&nbsp;isn&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="4653850">//&nbsp;always&nbsp;true.</span><br>
<span class="lineno"></span><span class="keyword" id="4653866">func</span>&nbsp;<span class="ident" id="4653871">EscapeString</span><span class="op" id="4653883">(</span><span class="ident" id="4653884">s</span>&nbsp;<span class="builtintype" id="4653886">string</span><span class="op" id="4653892">)</span>&nbsp;<span class="builtintype" id="4653894">string</span>&nbsp;<span class="op" id="4653901">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653904">if</span>&nbsp;<span class="ident" id="4653907"><a href="/html/escape.go.html#4648816">strings</a></span><span class="op" id="4653914">.</span><span class="ident" id="4653915">IndexAny</span><span class="op" id="4653923">(</span><span class="ident" id="4653924"><a href="/html/escape.go.html#4653884">s</a></span><span class="op" id="4653925">,</span>&nbsp;<span class="ident" id="4653927"><a href="/html/escape.go.html#4652940">escapedChars</a></span><span class="op" id="4653939">)</span>&nbsp;<span class="op" id="4653941">==</span>&nbsp;<span class="op" id="4653944">-</span><span class="num" id="4653945">1</span>&nbsp;<span class="op" id="4653947">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653951">return</span>&nbsp;<span class="ident" id="4653958"><a href="/html/escape.go.html#4653884">s</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4653961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4653964">var</span>&nbsp;<span class="ident" id="4653968">buf</span>&nbsp;<span class="ident" id="4653972"><a href="/html/escape.go.html#4648807">bytes</a></span><span class="op" id="4653977">.</span><span class="ident" id="4653978">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="4653986"><a href="/html/escape.go.html#4652969">escape</a></span><span class="op" id="4653992">(</span><span class="op" id="4653993">&amp;</span><span class="ident" id="4653994"><a href="/html/escape.go.html#4653968">buf</a></span><span class="op" id="4653997">,</span>&nbsp;<span class="ident" id="4653999"><a href="/html/escape.go.html#4653884">s</a></span><span class="op" id="4654000">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4654003">return</span>&nbsp;<span class="ident" id="4654010"><a href="/html/escape.go.html#4653968">buf</a></span><span class="op" id="4654013">.</span><span class="ident" id="4654014">String</span><span class="op" id="4654020">(</span><span class="op" id="4654021">)</span><br>
<span class="lineno"></span><span class="op" id="4654023">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="4654026">//&nbsp;UnescapeString&nbsp;unescapes&nbsp;entities&nbsp;like&nbsp;&#34;&amp;lt;&#34;&nbsp;to&nbsp;become&nbsp;&#34;&lt;&#34;.&nbsp;It&nbsp;unescapes&nbsp;a</span><br>
<span class="lineno"></span><span class="comment" id="4654105">//&nbsp;larger&nbsp;range&nbsp;of&nbsp;entities&nbsp;than&nbsp;EscapeString&nbsp;escapes.&nbsp;For&nbsp;example,&nbsp;&#34;&amp;aacute;&#34;</span><br>
<span class="lineno">240</span><span class="comment" id="4654184">//&nbsp;unescapes&nbsp;to&nbsp;&#34;á&#34;,&nbsp;as&nbsp;does&nbsp;&#34;&amp;#225;&#34;&nbsp;and&nbsp;&#34;&amp;xE1;&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="4654236">//&nbsp;UnescapeString(EscapeString(s))&nbsp;==&nbsp;s&nbsp;always&nbsp;holds,&nbsp;but&nbsp;the&nbsp;converse&nbsp;isn&#39;t</span><br>
<span class="lineno"></span><span class="comment" id="4654313">//&nbsp;always&nbsp;true.</span><br>
<span class="lineno"></span><span class="keyword" id="4654329">func</span>&nbsp;<span class="ident" id="4654334">UnescapeString</span><span class="op" id="4654348">(</span><span class="ident" id="4654349">s</span>&nbsp;<span class="builtintype" id="4654351">string</span><span class="op" id="4654357">)</span>&nbsp;<span class="builtintype" id="4654359">string</span>&nbsp;<span class="op" id="4654366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4654369">for</span>&nbsp;<span class="ident" id="4654373">_</span><span class="op" id="4654374">,</span>&nbsp;<span class="ident" id="4654376">c</span>&nbsp;<span class="op" id="4654378">:=</span>&nbsp;<span class="keyword" id="4654381">range</span>&nbsp;<span class="ident" id="4654387"><a href="/html/escape.go.html#4654349">s</a></span>&nbsp;<span class="op" id="4654389">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4654393">if</span>&nbsp;<span class="ident" id="4654396"><a href="/html/escape.go.html#4654376">c</a></span>&nbsp;<span class="op" id="4654398">==</span>&nbsp;<span class="string" id="4654401">&#39;&amp;&#39;</span>&nbsp;<span class="op" id="4654405">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4654410">return</span>&nbsp;<span class="builtintype" id="4654417">string</span><span class="op" id="4654423">(</span><span class="ident" id="4654424"><a href="/html/escape.go.html#4652606">unescape</a></span><span class="op" id="4654432">(</span><span class="op" id="4654433">[</span><span class="op" id="4654434">]</span><span class="builtintype" id="4654435">byte</span><span class="op" id="4654439">(</span><span class="ident" id="4654440"><a href="/html/escape.go.html#4654349">s</a></span><span class="op" id="4654441">)</span><span class="op" id="4654442">)</span><span class="op" id="4654443">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4654447">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="4654450">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="4654453">return</span>&nbsp;<span class="ident" id="4654460"><a href="/html/escape.go.html#4654349">s</a></span><br>
<span class="lineno">250</span><span class="op" id="4654462">}</span>
</div>
</body>
</html>
