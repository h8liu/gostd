<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>regexp</h2>
<ul>
<li><a href="/gostd/regexp/all_test.go.html">all_test.go</a></li>
<li><a href="/gostd/regexp/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/regexp/exec.go.html">exec.go</a></li>
<li><a href="/gostd/regexp/exec2_test.go.html">exec2_test.go</a></li>
<li><a href="/gostd/regexp/exec_test.go.html">exec_test.go</a></li>
<li><a href="/gostd/regexp/find_test.go.html" class="current">find_test.go</a></li>
<li><a href="/gostd/regexp/onepass.go.html">onepass.go</a></li>
<li><a href="/gostd/regexp/onepass_test.go.html">onepass_test.go</a></li>
<li><a href="/gostd/regexp/regexp.go.html">regexp.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8374723">//&nbsp;Copyright&nbsp;2010&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8374778">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8374832">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8374883">package</span>&nbsp;<span class="ident" id="8374891">regexp</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8374899">import</span>&nbsp;<span class="op" id="8374906">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8374909">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8374916">&#34;strings&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8374927">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8374937">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8374940">//&nbsp;For&nbsp;each&nbsp;pattern/text&nbsp;pair,&nbsp;what&nbsp;is&nbsp;the&nbsp;expected&nbsp;output&nbsp;of&nbsp;each&nbsp;function?</span><br>
<span class="lineno"></span><span class="comment" id="8375017">//&nbsp;We&nbsp;can&nbsp;derive&nbsp;the&nbsp;textual&nbsp;results&nbsp;from&nbsp;the&nbsp;indexed&nbsp;results,&nbsp;the&nbsp;non-submatch</span><br>
<span class="lineno">15</span><span class="comment" id="8375097">//&nbsp;results&nbsp;from&nbsp;the&nbsp;submatched&nbsp;results,&nbsp;the&nbsp;single&nbsp;results&nbsp;from&nbsp;the&nbsp;&#39;all&#39;&nbsp;results,</span><br>
<span class="lineno"></span><span class="comment" id="8375180">//&nbsp;and&nbsp;the&nbsp;byte&nbsp;results&nbsp;from&nbsp;the&nbsp;string&nbsp;results.&nbsp;Therefore&nbsp;the&nbsp;table&nbsp;includes</span><br>
<span class="lineno"></span><span class="comment" id="8375258">//&nbsp;only&nbsp;the&nbsp;FindAllStringSubmatchIndex&nbsp;result.</span><br>
<span class="lineno"></span><span class="keyword" id="8375305">type</span>&nbsp;<span class="ident" id="8375310">FindTest</span>&nbsp;<span class="keyword" id="8375319">struct</span>&nbsp;<span class="op" id="8375326">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8375329">pat</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8375337">string</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8375345">text</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8375353">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8375361">matches</span>&nbsp;<span class="op" id="8375369">[</span><span class="op" id="8375370">]</span><span class="op" id="8375371">[</span><span class="op" id="8375372">]</span><span class="builtintype" id="8375373">int</span><br>
<span class="lineno"></span><span class="op" id="8375377">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8375380">func</span>&nbsp;<span class="op" id="8375385">(</span><span class="ident" id="8375386">t</span>&nbsp;<span class="ident" id="8375388">FindTest</span><span class="op" id="8375396">)</span>&nbsp;<span class="ident" id="8375398">String</span><span class="op" id="8375404">(</span><span class="op" id="8375405">)</span>&nbsp;<span class="builtintype" id="8375407">string</span>&nbsp;<span class="op" id="8375414">{</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8375417">return</span>&nbsp;<span class="ident" id="8375424">fmt</span><span class="op" id="8375427">.</span><span class="ident" id="8375428">Sprintf</span><span class="op" id="8375435">(</span><span class="string" id="8375436">&#34;pat:&nbsp;%#q&nbsp;text:&nbsp;%#q&#34;</span><span class="op" id="8375456">,</span>&nbsp;<span class="ident" id="8375458">t</span><span class="op" id="8375459">.</span><span class="ident" id="8375460">pat</span><span class="op" id="8375463">,</span>&nbsp;<span class="ident" id="8375465">t</span><span class="op" id="8375466">.</span><span class="ident" id="8375467">text</span><span class="op" id="8375471">)</span><br>
<span class="lineno"></span><span class="op" id="8375473">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8375476">var</span>&nbsp;<span class="ident" id="8375480">findTests</span>&nbsp;<span class="op" id="8375490">=</span>&nbsp;<span class="op" id="8375492">[</span><span class="op" id="8375493">]</span><span class="ident" id="8375494">FindTest</span><span class="op" id="8375502">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375505">{</span><span class="string" id="8375506">``</span><span class="op" id="8375508">,</span>&nbsp;<span class="string" id="8375510">``</span><span class="op" id="8375512">,</span>&nbsp;<span class="ident" id="8375514">build</span><span class="op" id="8375519">(</span><span class="num" id="8375520">1</span><span class="op" id="8375521">,</span>&nbsp;<span class="num" id="8375523">0</span><span class="op" id="8375524">,</span>&nbsp;<span class="num" id="8375526">0</span><span class="op" id="8375527">)</span><span class="op" id="8375528">}</span><span class="op" id="8375529">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375532">{</span><span class="string" id="8375533">`^abcdefg`</span><span class="op" id="8375543">,</span>&nbsp;<span class="string" id="8375545">&#34;abcdefg&#34;</span><span class="op" id="8375554">,</span>&nbsp;<span class="ident" id="8375556">build</span><span class="op" id="8375561">(</span><span class="num" id="8375562">1</span><span class="op" id="8375563">,</span>&nbsp;<span class="num" id="8375565">0</span><span class="op" id="8375566">,</span>&nbsp;<span class="num" id="8375568">7</span><span class="op" id="8375569">)</span><span class="op" id="8375570">}</span><span class="op" id="8375571">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375574">{</span><span class="string" id="8375575">`a+`</span><span class="op" id="8375579">,</span>&nbsp;<span class="string" id="8375581">&#34;baaab&#34;</span><span class="op" id="8375588">,</span>&nbsp;<span class="ident" id="8375590">build</span><span class="op" id="8375595">(</span><span class="num" id="8375596">1</span><span class="op" id="8375597">,</span>&nbsp;<span class="num" id="8375599">1</span><span class="op" id="8375600">,</span>&nbsp;<span class="num" id="8375602">4</span><span class="op" id="8375603">)</span><span class="op" id="8375604">}</span><span class="op" id="8375605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375608">{</span><span class="string" id="8375609">&#34;abcd..&#34;</span><span class="op" id="8375617">,</span>&nbsp;<span class="string" id="8375619">&#34;abcdef&#34;</span><span class="op" id="8375627">,</span>&nbsp;<span class="ident" id="8375629">build</span><span class="op" id="8375634">(</span><span class="num" id="8375635">1</span><span class="op" id="8375636">,</span>&nbsp;<span class="num" id="8375638">0</span><span class="op" id="8375639">,</span>&nbsp;<span class="num" id="8375641">6</span><span class="op" id="8375642">)</span><span class="op" id="8375643">}</span><span class="op" id="8375644">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375647">{</span><span class="string" id="8375648">`a`</span><span class="op" id="8375651">,</span>&nbsp;<span class="string" id="8375653">&#34;a&#34;</span><span class="op" id="8375656">,</span>&nbsp;<span class="ident" id="8375658">build</span><span class="op" id="8375663">(</span><span class="num" id="8375664">1</span><span class="op" id="8375665">,</span>&nbsp;<span class="num" id="8375667">0</span><span class="op" id="8375668">,</span>&nbsp;<span class="num" id="8375670">1</span><span class="op" id="8375671">)</span><span class="op" id="8375672">}</span><span class="op" id="8375673">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375676">{</span><span class="string" id="8375677">`x`</span><span class="op" id="8375680">,</span>&nbsp;<span class="string" id="8375682">&#34;y&#34;</span><span class="op" id="8375685">,</span>&nbsp;<span class="builtintype" id="8375687">nil</span><span class="op" id="8375690">}</span><span class="op" id="8375691">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375694">{</span><span class="string" id="8375695">`b`</span><span class="op" id="8375698">,</span>&nbsp;<span class="string" id="8375700">&#34;abc&#34;</span><span class="op" id="8375705">,</span>&nbsp;<span class="ident" id="8375707">build</span><span class="op" id="8375712">(</span><span class="num" id="8375713">1</span><span class="op" id="8375714">,</span>&nbsp;<span class="num" id="8375716">1</span><span class="op" id="8375717">,</span>&nbsp;<span class="num" id="8375719">2</span><span class="op" id="8375720">)</span><span class="op" id="8375721">}</span><span class="op" id="8375722">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375725">{</span><span class="string" id="8375726">`.`</span><span class="op" id="8375729">,</span>&nbsp;<span class="string" id="8375731">&#34;a&#34;</span><span class="op" id="8375734">,</span>&nbsp;<span class="ident" id="8375736">build</span><span class="op" id="8375741">(</span><span class="num" id="8375742">1</span><span class="op" id="8375743">,</span>&nbsp;<span class="num" id="8375745">0</span><span class="op" id="8375746">,</span>&nbsp;<span class="num" id="8375748">1</span><span class="op" id="8375749">)</span><span class="op" id="8375750">}</span><span class="op" id="8375751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375754">{</span><span class="string" id="8375755">`.*`</span><span class="op" id="8375759">,</span>&nbsp;<span class="string" id="8375761">&#34;abcdef&#34;</span><span class="op" id="8375769">,</span>&nbsp;<span class="ident" id="8375771">build</span><span class="op" id="8375776">(</span><span class="num" id="8375777">1</span><span class="op" id="8375778">,</span>&nbsp;<span class="num" id="8375780">0</span><span class="op" id="8375781">,</span>&nbsp;<span class="num" id="8375783">6</span><span class="op" id="8375784">)</span><span class="op" id="8375785">}</span><span class="op" id="8375786">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375789">{</span><span class="string" id="8375790">`^`</span><span class="op" id="8375793">,</span>&nbsp;<span class="string" id="8375795">&#34;abcde&#34;</span><span class="op" id="8375802">,</span>&nbsp;<span class="ident" id="8375804">build</span><span class="op" id="8375809">(</span><span class="num" id="8375810">1</span><span class="op" id="8375811">,</span>&nbsp;<span class="num" id="8375813">0</span><span class="op" id="8375814">,</span>&nbsp;<span class="num" id="8375816">0</span><span class="op" id="8375817">)</span><span class="op" id="8375818">}</span><span class="op" id="8375819">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375822">{</span><span class="string" id="8375823">`$`</span><span class="op" id="8375826">,</span>&nbsp;<span class="string" id="8375828">&#34;abcde&#34;</span><span class="op" id="8375835">,</span>&nbsp;<span class="ident" id="8375837">build</span><span class="op" id="8375842">(</span><span class="num" id="8375843">1</span><span class="op" id="8375844">,</span>&nbsp;<span class="num" id="8375846">5</span><span class="op" id="8375847">,</span>&nbsp;<span class="num" id="8375849">5</span><span class="op" id="8375850">)</span><span class="op" id="8375851">}</span><span class="op" id="8375852">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375855">{</span><span class="string" id="8375856">`^abcd$`</span><span class="op" id="8375864">,</span>&nbsp;<span class="string" id="8375866">&#34;abcd&#34;</span><span class="op" id="8375872">,</span>&nbsp;<span class="ident" id="8375874">build</span><span class="op" id="8375879">(</span><span class="num" id="8375880">1</span><span class="op" id="8375881">,</span>&nbsp;<span class="num" id="8375883">0</span><span class="op" id="8375884">,</span>&nbsp;<span class="num" id="8375886">4</span><span class="op" id="8375887">)</span><span class="op" id="8375888">}</span><span class="op" id="8375889">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375892">{</span><span class="string" id="8375893">`^bcd&#39;`</span><span class="op" id="8375900">,</span>&nbsp;<span class="string" id="8375902">&#34;abcdef&#34;</span><span class="op" id="8375910">,</span>&nbsp;<span class="builtintype" id="8375912">nil</span><span class="op" id="8375915">}</span><span class="op" id="8375916">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375919">{</span><span class="string" id="8375920">`^abcd$`</span><span class="op" id="8375928">,</span>&nbsp;<span class="string" id="8375930">&#34;abcde&#34;</span><span class="op" id="8375937">,</span>&nbsp;<span class="builtintype" id="8375939">nil</span><span class="op" id="8375942">}</span><span class="op" id="8375943">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375946">{</span><span class="string" id="8375947">`a+`</span><span class="op" id="8375951">,</span>&nbsp;<span class="string" id="8375953">&#34;baaab&#34;</span><span class="op" id="8375960">,</span>&nbsp;<span class="ident" id="8375962">build</span><span class="op" id="8375967">(</span><span class="num" id="8375968">1</span><span class="op" id="8375969">,</span>&nbsp;<span class="num" id="8375971">1</span><span class="op" id="8375972">,</span>&nbsp;<span class="num" id="8375974">4</span><span class="op" id="8375975">)</span><span class="op" id="8375976">}</span><span class="op" id="8375977">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8375980">{</span><span class="string" id="8375981">`a*`</span><span class="op" id="8375985">,</span>&nbsp;<span class="string" id="8375987">&#34;baaab&#34;</span><span class="op" id="8375994">,</span>&nbsp;<span class="ident" id="8375996">build</span><span class="op" id="8376001">(</span><span class="num" id="8376002">3</span><span class="op" id="8376003">,</span>&nbsp;<span class="num" id="8376005">0</span><span class="op" id="8376006">,</span>&nbsp;<span class="num" id="8376008">0</span><span class="op" id="8376009">,</span>&nbsp;<span class="num" id="8376011">1</span><span class="op" id="8376012">,</span>&nbsp;<span class="num" id="8376014">4</span><span class="op" id="8376015">,</span>&nbsp;<span class="num" id="8376017">5</span><span class="op" id="8376018">,</span>&nbsp;<span class="num" id="8376020">5</span><span class="op" id="8376021">)</span><span class="op" id="8376022">}</span><span class="op" id="8376023">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376026">{</span><span class="string" id="8376027">`[a-z]+`</span><span class="op" id="8376035">,</span>&nbsp;<span class="string" id="8376037">&#34;abcd&#34;</span><span class="op" id="8376043">,</span>&nbsp;<span class="ident" id="8376045">build</span><span class="op" id="8376050">(</span><span class="num" id="8376051">1</span><span class="op" id="8376052">,</span>&nbsp;<span class="num" id="8376054">0</span><span class="op" id="8376055">,</span>&nbsp;<span class="num" id="8376057">4</span><span class="op" id="8376058">)</span><span class="op" id="8376059">}</span><span class="op" id="8376060">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376063">{</span><span class="string" id="8376064">`[^a-z]+`</span><span class="op" id="8376073">,</span>&nbsp;<span class="string" id="8376075">&#34;ab1234cd&#34;</span><span class="op" id="8376085">,</span>&nbsp;<span class="ident" id="8376087">build</span><span class="op" id="8376092">(</span><span class="num" id="8376093">1</span><span class="op" id="8376094">,</span>&nbsp;<span class="num" id="8376096">2</span><span class="op" id="8376097">,</span>&nbsp;<span class="num" id="8376099">6</span><span class="op" id="8376100">)</span><span class="op" id="8376101">}</span><span class="op" id="8376102">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376105">{</span><span class="string" id="8376106">`[a\-\]z]+`</span><span class="op" id="8376117">,</span>&nbsp;<span class="string" id="8376119">&#34;az]-bcz&#34;</span><span class="op" id="8376128">,</span>&nbsp;<span class="ident" id="8376130">build</span><span class="op" id="8376135">(</span><span class="num" id="8376136">2</span><span class="op" id="8376137">,</span>&nbsp;<span class="num" id="8376139">0</span><span class="op" id="8376140">,</span>&nbsp;<span class="num" id="8376142">4</span><span class="op" id="8376143">,</span>&nbsp;<span class="num" id="8376145">6</span><span class="op" id="8376146">,</span>&nbsp;<span class="num" id="8376148">7</span><span class="op" id="8376149">)</span><span class="op" id="8376150">}</span><span class="op" id="8376151">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376154">{</span><span class="string" id="8376155">`[^\n]+`</span><span class="op" id="8376163">,</span>&nbsp;<span class="string" id="8376165">&#34;abcd\n&#34;</span><span class="op" id="8376173">,</span>&nbsp;<span class="ident" id="8376175">build</span><span class="op" id="8376180">(</span><span class="num" id="8376181">1</span><span class="op" id="8376182">,</span>&nbsp;<span class="num" id="8376184">0</span><span class="op" id="8376185">,</span>&nbsp;<span class="num" id="8376187">4</span><span class="op" id="8376188">)</span><span class="op" id="8376189">}</span><span class="op" id="8376190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376193">{</span><span class="string" id="8376194">`[日本語]+`</span><span class="op" id="8376208">,</span>&nbsp;<span class="string" id="8376210">&#34;日本語日本語&#34;</span><span class="op" id="8376230">,</span>&nbsp;<span class="ident" id="8376232">build</span><span class="op" id="8376237">(</span><span class="num" id="8376238">1</span><span class="op" id="8376239">,</span>&nbsp;<span class="num" id="8376241">0</span><span class="op" id="8376242">,</span>&nbsp;<span class="num" id="8376244">18</span><span class="op" id="8376246">)</span><span class="op" id="8376247">}</span><span class="op" id="8376248">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376251">{</span><span class="string" id="8376252">`日本語+`</span><span class="op" id="8376264">,</span>&nbsp;<span class="string" id="8376266">&#34;日本語&#34;</span><span class="op" id="8376277">,</span>&nbsp;<span class="ident" id="8376279">build</span><span class="op" id="8376284">(</span><span class="num" id="8376285">1</span><span class="op" id="8376286">,</span>&nbsp;<span class="num" id="8376288">0</span><span class="op" id="8376289">,</span>&nbsp;<span class="num" id="8376291">9</span><span class="op" id="8376292">)</span><span class="op" id="8376293">}</span><span class="op" id="8376294">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376297">{</span><span class="string" id="8376298">`日本語+`</span><span class="op" id="8376310">,</span>&nbsp;<span class="string" id="8376312">&#34;日本語語語語&#34;</span><span class="op" id="8376332">,</span>&nbsp;<span class="ident" id="8376334">build</span><span class="op" id="8376339">(</span><span class="num" id="8376340">1</span><span class="op" id="8376341">,</span>&nbsp;<span class="num" id="8376343">0</span><span class="op" id="8376344">,</span>&nbsp;<span class="num" id="8376346">18</span><span class="op" id="8376348">)</span><span class="op" id="8376349">}</span><span class="op" id="8376350">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376353">{</span><span class="string" id="8376354">`()`</span><span class="op" id="8376358">,</span>&nbsp;<span class="string" id="8376360">&#34;&#34;</span><span class="op" id="8376362">,</span>&nbsp;<span class="ident" id="8376364">build</span><span class="op" id="8376369">(</span><span class="num" id="8376370">1</span><span class="op" id="8376371">,</span>&nbsp;<span class="num" id="8376373">0</span><span class="op" id="8376374">,</span>&nbsp;<span class="num" id="8376376">0</span><span class="op" id="8376377">,</span>&nbsp;<span class="num" id="8376379">0</span><span class="op" id="8376380">,</span>&nbsp;<span class="num" id="8376382">0</span><span class="op" id="8376383">)</span><span class="op" id="8376384">}</span><span class="op" id="8376385">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376388">{</span><span class="string" id="8376389">`(a)`</span><span class="op" id="8376394">,</span>&nbsp;<span class="string" id="8376396">&#34;a&#34;</span><span class="op" id="8376399">,</span>&nbsp;<span class="ident" id="8376401">build</span><span class="op" id="8376406">(</span><span class="num" id="8376407">1</span><span class="op" id="8376408">,</span>&nbsp;<span class="num" id="8376410">0</span><span class="op" id="8376411">,</span>&nbsp;<span class="num" id="8376413">1</span><span class="op" id="8376414">,</span>&nbsp;<span class="num" id="8376416">0</span><span class="op" id="8376417">,</span>&nbsp;<span class="num" id="8376419">1</span><span class="op" id="8376420">)</span><span class="op" id="8376421">}</span><span class="op" id="8376422">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376425">{</span><span class="string" id="8376426">`(.)(.)`</span><span class="op" id="8376434">,</span>&nbsp;<span class="string" id="8376436">&#34;日a&#34;</span><span class="op" id="8376442">,</span>&nbsp;<span class="ident" id="8376444">build</span><span class="op" id="8376449">(</span><span class="num" id="8376450">1</span><span class="op" id="8376451">,</span>&nbsp;<span class="num" id="8376453">0</span><span class="op" id="8376454">,</span>&nbsp;<span class="num" id="8376456">4</span><span class="op" id="8376457">,</span>&nbsp;<span class="num" id="8376459">0</span><span class="op" id="8376460">,</span>&nbsp;<span class="num" id="8376462">3</span><span class="op" id="8376463">,</span>&nbsp;<span class="num" id="8376465">3</span><span class="op" id="8376466">,</span>&nbsp;<span class="num" id="8376468">4</span><span class="op" id="8376469">)</span><span class="op" id="8376470">}</span><span class="op" id="8376471">,</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376474">{</span><span class="string" id="8376475">`(.*)`</span><span class="op" id="8376481">,</span>&nbsp;<span class="string" id="8376483">&#34;&#34;</span><span class="op" id="8376485">,</span>&nbsp;<span class="ident" id="8376487">build</span><span class="op" id="8376492">(</span><span class="num" id="8376493">1</span><span class="op" id="8376494">,</span>&nbsp;<span class="num" id="8376496">0</span><span class="op" id="8376497">,</span>&nbsp;<span class="num" id="8376499">0</span><span class="op" id="8376500">,</span>&nbsp;<span class="num" id="8376502">0</span><span class="op" id="8376503">,</span>&nbsp;<span class="num" id="8376505">0</span><span class="op" id="8376506">)</span><span class="op" id="8376507">}</span><span class="op" id="8376508">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376511">{</span><span class="string" id="8376512">`(.*)`</span><span class="op" id="8376518">,</span>&nbsp;<span class="string" id="8376520">&#34;abcd&#34;</span><span class="op" id="8376526">,</span>&nbsp;<span class="ident" id="8376528">build</span><span class="op" id="8376533">(</span><span class="num" id="8376534">1</span><span class="op" id="8376535">,</span>&nbsp;<span class="num" id="8376537">0</span><span class="op" id="8376538">,</span>&nbsp;<span class="num" id="8376540">4</span><span class="op" id="8376541">,</span>&nbsp;<span class="num" id="8376543">0</span><span class="op" id="8376544">,</span>&nbsp;<span class="num" id="8376546">4</span><span class="op" id="8376547">)</span><span class="op" id="8376548">}</span><span class="op" id="8376549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376552">{</span><span class="string" id="8376553">`(..)(..)`</span><span class="op" id="8376563">,</span>&nbsp;<span class="string" id="8376565">&#34;abcd&#34;</span><span class="op" id="8376571">,</span>&nbsp;<span class="ident" id="8376573">build</span><span class="op" id="8376578">(</span><span class="num" id="8376579">1</span><span class="op" id="8376580">,</span>&nbsp;<span class="num" id="8376582">0</span><span class="op" id="8376583">,</span>&nbsp;<span class="num" id="8376585">4</span><span class="op" id="8376586">,</span>&nbsp;<span class="num" id="8376588">0</span><span class="op" id="8376589">,</span>&nbsp;<span class="num" id="8376591">2</span><span class="op" id="8376592">,</span>&nbsp;<span class="num" id="8376594">2</span><span class="op" id="8376595">,</span>&nbsp;<span class="num" id="8376597">4</span><span class="op" id="8376598">)</span><span class="op" id="8376599">}</span><span class="op" id="8376600">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376603">{</span><span class="string" id="8376604">`(([^xyz]*)(d))`</span><span class="op" id="8376620">,</span>&nbsp;<span class="string" id="8376622">&#34;abcd&#34;</span><span class="op" id="8376628">,</span>&nbsp;<span class="ident" id="8376630">build</span><span class="op" id="8376635">(</span><span class="num" id="8376636">1</span><span class="op" id="8376637">,</span>&nbsp;<span class="num" id="8376639">0</span><span class="op" id="8376640">,</span>&nbsp;<span class="num" id="8376642">4</span><span class="op" id="8376643">,</span>&nbsp;<span class="num" id="8376645">0</span><span class="op" id="8376646">,</span>&nbsp;<span class="num" id="8376648">4</span><span class="op" id="8376649">,</span>&nbsp;<span class="num" id="8376651">0</span><span class="op" id="8376652">,</span>&nbsp;<span class="num" id="8376654">3</span><span class="op" id="8376655">,</span>&nbsp;<span class="num" id="8376657">3</span><span class="op" id="8376658">,</span>&nbsp;<span class="num" id="8376660">4</span><span class="op" id="8376661">)</span><span class="op" id="8376662">}</span><span class="op" id="8376663">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376666">{</span><span class="string" id="8376667">`((a|b|c)*(d))`</span><span class="op" id="8376682">,</span>&nbsp;<span class="string" id="8376684">&#34;abcd&#34;</span><span class="op" id="8376690">,</span>&nbsp;<span class="ident" id="8376692">build</span><span class="op" id="8376697">(</span><span class="num" id="8376698">1</span><span class="op" id="8376699">,</span>&nbsp;<span class="num" id="8376701">0</span><span class="op" id="8376702">,</span>&nbsp;<span class="num" id="8376704">4</span><span class="op" id="8376705">,</span>&nbsp;<span class="num" id="8376707">0</span><span class="op" id="8376708">,</span>&nbsp;<span class="num" id="8376710">4</span><span class="op" id="8376711">,</span>&nbsp;<span class="num" id="8376713">2</span><span class="op" id="8376714">,</span>&nbsp;<span class="num" id="8376716">3</span><span class="op" id="8376717">,</span>&nbsp;<span class="num" id="8376719">3</span><span class="op" id="8376720">,</span>&nbsp;<span class="num" id="8376722">4</span><span class="op" id="8376723">)</span><span class="op" id="8376724">}</span><span class="op" id="8376725">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376728">{</span><span class="string" id="8376729">`(((a|b|c)*)(d))`</span><span class="op" id="8376746">,</span>&nbsp;<span class="string" id="8376748">&#34;abcd&#34;</span><span class="op" id="8376754">,</span>&nbsp;<span class="ident" id="8376756">build</span><span class="op" id="8376761">(</span><span class="num" id="8376762">1</span><span class="op" id="8376763">,</span>&nbsp;<span class="num" id="8376765">0</span><span class="op" id="8376766">,</span>&nbsp;<span class="num" id="8376768">4</span><span class="op" id="8376769">,</span>&nbsp;<span class="num" id="8376771">0</span><span class="op" id="8376772">,</span>&nbsp;<span class="num" id="8376774">4</span><span class="op" id="8376775">,</span>&nbsp;<span class="num" id="8376777">0</span><span class="op" id="8376778">,</span>&nbsp;<span class="num" id="8376780">3</span><span class="op" id="8376781">,</span>&nbsp;<span class="num" id="8376783">2</span><span class="op" id="8376784">,</span>&nbsp;<span class="num" id="8376786">3</span><span class="op" id="8376787">,</span>&nbsp;<span class="num" id="8376789">3</span><span class="op" id="8376790">,</span>&nbsp;<span class="num" id="8376792">4</span><span class="op" id="8376793">)</span><span class="op" id="8376794">}</span><span class="op" id="8376795">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376798">{</span><span class="string" id="8376799">`\a\f\n\r\t\v`</span><span class="op" id="8376813">,</span>&nbsp;<span class="string" id="8376815">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="8376829">,</span>&nbsp;<span class="ident" id="8376831">build</span><span class="op" id="8376836">(</span><span class="num" id="8376837">1</span><span class="op" id="8376838">,</span>&nbsp;<span class="num" id="8376840">0</span><span class="op" id="8376841">,</span>&nbsp;<span class="num" id="8376843">6</span><span class="op" id="8376844">)</span><span class="op" id="8376845">}</span><span class="op" id="8376846">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376849">{</span><span class="string" id="8376850">`[\a\f\n\r\t\v]+`</span><span class="op" id="8376867">,</span>&nbsp;<span class="string" id="8376869">&#34;\a\f\n\r\t\v&#34;</span><span class="op" id="8376883">,</span>&nbsp;<span class="ident" id="8376885">build</span><span class="op" id="8376890">(</span><span class="num" id="8376891">1</span><span class="op" id="8376892">,</span>&nbsp;<span class="num" id="8376894">0</span><span class="op" id="8376895">,</span>&nbsp;<span class="num" id="8376897">6</span><span class="op" id="8376898">)</span><span class="op" id="8376899">}</span><span class="op" id="8376900">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376904">{</span><span class="string" id="8376905">`a*(|(b))c*`</span><span class="op" id="8376917">,</span>&nbsp;<span class="string" id="8376919">&#34;aacc&#34;</span><span class="op" id="8376925">,</span>&nbsp;<span class="ident" id="8376927">build</span><span class="op" id="8376932">(</span><span class="num" id="8376933">1</span><span class="op" id="8376934">,</span>&nbsp;<span class="num" id="8376936">0</span><span class="op" id="8376937">,</span>&nbsp;<span class="num" id="8376939">4</span><span class="op" id="8376940">,</span>&nbsp;<span class="num" id="8376942">2</span><span class="op" id="8376943">,</span>&nbsp;<span class="num" id="8376945">2</span><span class="op" id="8376946">,</span>&nbsp;<span class="op" id="8376948">-</span><span class="num" id="8376949">1</span><span class="op" id="8376950">,</span>&nbsp;<span class="op" id="8376952">-</span><span class="num" id="8376953">1</span><span class="op" id="8376954">)</span><span class="op" id="8376955">}</span><span class="op" id="8376956">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8376959">{</span><span class="string" id="8376960">`(.*).*`</span><span class="op" id="8376968">,</span>&nbsp;<span class="string" id="8376970">&#34;ab&#34;</span><span class="op" id="8376974">,</span>&nbsp;<span class="ident" id="8376976">build</span><span class="op" id="8376981">(</span><span class="num" id="8376982">1</span><span class="op" id="8376983">,</span>&nbsp;<span class="num" id="8376985">0</span><span class="op" id="8376986">,</span>&nbsp;<span class="num" id="8376988">2</span><span class="op" id="8376989">,</span>&nbsp;<span class="num" id="8376991">0</span><span class="op" id="8376992">,</span>&nbsp;<span class="num" id="8376994">2</span><span class="op" id="8376995">)</span><span class="op" id="8376996">}</span><span class="op" id="8376997">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377000">{</span><span class="string" id="8377001">`[.]`</span><span class="op" id="8377006">,</span>&nbsp;<span class="string" id="8377008">&#34;.&#34;</span><span class="op" id="8377011">,</span>&nbsp;<span class="ident" id="8377013">build</span><span class="op" id="8377018">(</span><span class="num" id="8377019">1</span><span class="op" id="8377020">,</span>&nbsp;<span class="num" id="8377022">0</span><span class="op" id="8377023">,</span>&nbsp;<span class="num" id="8377025">1</span><span class="op" id="8377026">)</span><span class="op" id="8377027">}</span><span class="op" id="8377028">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377031">{</span><span class="string" id="8377032">`/$`</span><span class="op" id="8377036">,</span>&nbsp;<span class="string" id="8377038">&#34;/abc/&#34;</span><span class="op" id="8377045">,</span>&nbsp;<span class="ident" id="8377047">build</span><span class="op" id="8377052">(</span><span class="num" id="8377053">1</span><span class="op" id="8377054">,</span>&nbsp;<span class="num" id="8377056">4</span><span class="op" id="8377057">,</span>&nbsp;<span class="num" id="8377059">5</span><span class="op" id="8377060">)</span><span class="op" id="8377061">}</span><span class="op" id="8377062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377065">{</span><span class="string" id="8377066">`/$`</span><span class="op" id="8377070">,</span>&nbsp;<span class="string" id="8377072">&#34;/abc&#34;</span><span class="op" id="8377078">,</span>&nbsp;<span class="builtintype" id="8377080">nil</span><span class="op" id="8377083">}</span><span class="op" id="8377084">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8377088">//&nbsp;multiple&nbsp;matches</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377109">{</span><span class="string" id="8377110">`.`</span><span class="op" id="8377113">,</span>&nbsp;<span class="string" id="8377115">&#34;abc&#34;</span><span class="op" id="8377120">,</span>&nbsp;<span class="ident" id="8377122">build</span><span class="op" id="8377127">(</span><span class="num" id="8377128">3</span><span class="op" id="8377129">,</span>&nbsp;<span class="num" id="8377131">0</span><span class="op" id="8377132">,</span>&nbsp;<span class="num" id="8377134">1</span><span class="op" id="8377135">,</span>&nbsp;<span class="num" id="8377137">1</span><span class="op" id="8377138">,</span>&nbsp;<span class="num" id="8377140">2</span><span class="op" id="8377141">,</span>&nbsp;<span class="num" id="8377143">2</span><span class="op" id="8377144">,</span>&nbsp;<span class="num" id="8377146">3</span><span class="op" id="8377147">)</span><span class="op" id="8377148">}</span><span class="op" id="8377149">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377152">{</span><span class="string" id="8377153">`(.)`</span><span class="op" id="8377158">,</span>&nbsp;<span class="string" id="8377160">&#34;abc&#34;</span><span class="op" id="8377165">,</span>&nbsp;<span class="ident" id="8377167">build</span><span class="op" id="8377172">(</span><span class="num" id="8377173">3</span><span class="op" id="8377174">,</span>&nbsp;<span class="num" id="8377176">0</span><span class="op" id="8377177">,</span>&nbsp;<span class="num" id="8377179">1</span><span class="op" id="8377180">,</span>&nbsp;<span class="num" id="8377182">0</span><span class="op" id="8377183">,</span>&nbsp;<span class="num" id="8377185">1</span><span class="op" id="8377186">,</span>&nbsp;<span class="num" id="8377188">1</span><span class="op" id="8377189">,</span>&nbsp;<span class="num" id="8377191">2</span><span class="op" id="8377192">,</span>&nbsp;<span class="num" id="8377194">1</span><span class="op" id="8377195">,</span>&nbsp;<span class="num" id="8377197">2</span><span class="op" id="8377198">,</span>&nbsp;<span class="num" id="8377200">2</span><span class="op" id="8377201">,</span>&nbsp;<span class="num" id="8377203">3</span><span class="op" id="8377204">,</span>&nbsp;<span class="num" id="8377206">2</span><span class="op" id="8377207">,</span>&nbsp;<span class="num" id="8377209">3</span><span class="op" id="8377210">)</span><span class="op" id="8377211">}</span><span class="op" id="8377212">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377215">{</span><span class="string" id="8377216">`.(.)`</span><span class="op" id="8377222">,</span>&nbsp;<span class="string" id="8377224">&#34;abcd&#34;</span><span class="op" id="8377230">,</span>&nbsp;<span class="ident" id="8377232">build</span><span class="op" id="8377237">(</span><span class="num" id="8377238">2</span><span class="op" id="8377239">,</span>&nbsp;<span class="num" id="8377241">0</span><span class="op" id="8377242">,</span>&nbsp;<span class="num" id="8377244">2</span><span class="op" id="8377245">,</span>&nbsp;<span class="num" id="8377247">1</span><span class="op" id="8377248">,</span>&nbsp;<span class="num" id="8377250">2</span><span class="op" id="8377251">,</span>&nbsp;<span class="num" id="8377253">2</span><span class="op" id="8377254">,</span>&nbsp;<span class="num" id="8377256">4</span><span class="op" id="8377257">,</span>&nbsp;<span class="num" id="8377259">3</span><span class="op" id="8377260">,</span>&nbsp;<span class="num" id="8377262">4</span><span class="op" id="8377263">)</span><span class="op" id="8377264">}</span><span class="op" id="8377265">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377268">{</span><span class="string" id="8377269">`ab*`</span><span class="op" id="8377274">,</span>&nbsp;<span class="string" id="8377276">&#34;abbaab&#34;</span><span class="op" id="8377284">,</span>&nbsp;<span class="ident" id="8377286">build</span><span class="op" id="8377291">(</span><span class="num" id="8377292">3</span><span class="op" id="8377293">,</span>&nbsp;<span class="num" id="8377295">0</span><span class="op" id="8377296">,</span>&nbsp;<span class="num" id="8377298">3</span><span class="op" id="8377299">,</span>&nbsp;<span class="num" id="8377301">3</span><span class="op" id="8377302">,</span>&nbsp;<span class="num" id="8377304">4</span><span class="op" id="8377305">,</span>&nbsp;<span class="num" id="8377307">4</span><span class="op" id="8377308">,</span>&nbsp;<span class="num" id="8377310">6</span><span class="op" id="8377311">)</span><span class="op" id="8377312">}</span><span class="op" id="8377313">,</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377316">{</span><span class="string" id="8377317">`a(b*)`</span><span class="op" id="8377324">,</span>&nbsp;<span class="string" id="8377326">&#34;abbaab&#34;</span><span class="op" id="8377334">,</span>&nbsp;<span class="ident" id="8377336">build</span><span class="op" id="8377341">(</span><span class="num" id="8377342">3</span><span class="op" id="8377343">,</span>&nbsp;<span class="num" id="8377345">0</span><span class="op" id="8377346">,</span>&nbsp;<span class="num" id="8377348">3</span><span class="op" id="8377349">,</span>&nbsp;<span class="num" id="8377351">1</span><span class="op" id="8377352">,</span>&nbsp;<span class="num" id="8377354">3</span><span class="op" id="8377355">,</span>&nbsp;<span class="num" id="8377357">3</span><span class="op" id="8377358">,</span>&nbsp;<span class="num" id="8377360">4</span><span class="op" id="8377361">,</span>&nbsp;<span class="num" id="8377363">4</span><span class="op" id="8377364">,</span>&nbsp;<span class="num" id="8377366">4</span><span class="op" id="8377367">,</span>&nbsp;<span class="num" id="8377369">4</span><span class="op" id="8377370">,</span>&nbsp;<span class="num" id="8377372">6</span><span class="op" id="8377373">,</span>&nbsp;<span class="num" id="8377375">5</span><span class="op" id="8377376">,</span>&nbsp;<span class="num" id="8377378">6</span><span class="op" id="8377379">)</span><span class="op" id="8377380">}</span><span class="op" id="8377381">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8377385">//&nbsp;fixed&nbsp;bugs</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377400">{</span><span class="string" id="8377401">`ab$`</span><span class="op" id="8377406">,</span>&nbsp;<span class="string" id="8377408">&#34;cab&#34;</span><span class="op" id="8377413">,</span>&nbsp;<span class="ident" id="8377415">build</span><span class="op" id="8377420">(</span><span class="num" id="8377421">1</span><span class="op" id="8377422">,</span>&nbsp;<span class="num" id="8377424">1</span><span class="op" id="8377425">,</span>&nbsp;<span class="num" id="8377427">3</span><span class="op" id="8377428">)</span><span class="op" id="8377429">}</span><span class="op" id="8377430">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377433">{</span><span class="string" id="8377434">`axxb$`</span><span class="op" id="8377441">,</span>&nbsp;<span class="string" id="8377443">&#34;axxcb&#34;</span><span class="op" id="8377450">,</span>&nbsp;<span class="builtintype" id="8377452">nil</span><span class="op" id="8377455">}</span><span class="op" id="8377456">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377459">{</span><span class="string" id="8377460">`data`</span><span class="op" id="8377466">,</span>&nbsp;<span class="string" id="8377468">&#34;daXY&nbsp;data&#34;</span><span class="op" id="8377479">,</span>&nbsp;<span class="ident" id="8377481">build</span><span class="op" id="8377486">(</span><span class="num" id="8377487">1</span><span class="op" id="8377488">,</span>&nbsp;<span class="num" id="8377490">5</span><span class="op" id="8377491">,</span>&nbsp;<span class="num" id="8377493">9</span><span class="op" id="8377494">)</span><span class="op" id="8377495">}</span><span class="op" id="8377496">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377499">{</span><span class="string" id="8377500">`da(.)a$`</span><span class="op" id="8377509">,</span>&nbsp;<span class="string" id="8377511">&#34;daXY&nbsp;data&#34;</span><span class="op" id="8377522">,</span>&nbsp;<span class="ident" id="8377524">build</span><span class="op" id="8377529">(</span><span class="num" id="8377530">1</span><span class="op" id="8377531">,</span>&nbsp;<span class="num" id="8377533">5</span><span class="op" id="8377534">,</span>&nbsp;<span class="num" id="8377536">9</span><span class="op" id="8377537">,</span>&nbsp;<span class="num" id="8377539">7</span><span class="op" id="8377540">,</span>&nbsp;<span class="num" id="8377542">8</span><span class="op" id="8377543">)</span><span class="op" id="8377544">}</span><span class="op" id="8377545">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377548">{</span><span class="string" id="8377549">`zx+`</span><span class="op" id="8377554">,</span>&nbsp;<span class="string" id="8377556">&#34;zzx&#34;</span><span class="op" id="8377561">,</span>&nbsp;<span class="ident" id="8377563">build</span><span class="op" id="8377568">(</span><span class="num" id="8377569">1</span><span class="op" id="8377570">,</span>&nbsp;<span class="num" id="8377572">1</span><span class="op" id="8377573">,</span>&nbsp;<span class="num" id="8377575">3</span><span class="op" id="8377576">)</span><span class="op" id="8377577">}</span><span class="op" id="8377578">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377581">{</span><span class="string" id="8377582">`ab$`</span><span class="op" id="8377587">,</span>&nbsp;<span class="string" id="8377589">&#34;abcab&#34;</span><span class="op" id="8377596">,</span>&nbsp;<span class="ident" id="8377598">build</span><span class="op" id="8377603">(</span><span class="num" id="8377604">1</span><span class="op" id="8377605">,</span>&nbsp;<span class="num" id="8377607">3</span><span class="op" id="8377608">,</span>&nbsp;<span class="num" id="8377610">5</span><span class="op" id="8377611">)</span><span class="op" id="8377612">}</span><span class="op" id="8377613">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377616">{</span><span class="string" id="8377617">`(aa)*$`</span><span class="op" id="8377625">,</span>&nbsp;<span class="string" id="8377627">&#34;a&#34;</span><span class="op" id="8377630">,</span>&nbsp;<span class="ident" id="8377632">build</span><span class="op" id="8377637">(</span><span class="num" id="8377638">1</span><span class="op" id="8377639">,</span>&nbsp;<span class="num" id="8377641">1</span><span class="op" id="8377642">,</span>&nbsp;<span class="num" id="8377644">1</span><span class="op" id="8377645">,</span>&nbsp;<span class="op" id="8377647">-</span><span class="num" id="8377648">1</span><span class="op" id="8377649">,</span>&nbsp;<span class="op" id="8377651">-</span><span class="num" id="8377652">1</span><span class="op" id="8377653">)</span><span class="op" id="8377654">}</span><span class="op" id="8377655">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377658">{</span><span class="string" id="8377659">`(?:.|(?:.a))`</span><span class="op" id="8377673">,</span>&nbsp;<span class="string" id="8377675">&#34;&#34;</span><span class="op" id="8377677">,</span>&nbsp;<span class="builtintype" id="8377679">nil</span><span class="op" id="8377682">}</span><span class="op" id="8377683">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377686">{</span><span class="string" id="8377687">`(?:A(?:A|a))`</span><span class="op" id="8377701">,</span>&nbsp;<span class="string" id="8377703">&#34;Aa&#34;</span><span class="op" id="8377707">,</span>&nbsp;<span class="ident" id="8377709">build</span><span class="op" id="8377714">(</span><span class="num" id="8377715">1</span><span class="op" id="8377716">,</span>&nbsp;<span class="num" id="8377718">0</span><span class="op" id="8377719">,</span>&nbsp;<span class="num" id="8377721">2</span><span class="op" id="8377722">)</span><span class="op" id="8377723">}</span><span class="op" id="8377724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377727">{</span><span class="string" id="8377728">`(?:A|(?:A|a))`</span><span class="op" id="8377743">,</span>&nbsp;<span class="string" id="8377745">&#34;a&#34;</span><span class="op" id="8377748">,</span>&nbsp;<span class="ident" id="8377750">build</span><span class="op" id="8377755">(</span><span class="num" id="8377756">1</span><span class="op" id="8377757">,</span>&nbsp;<span class="num" id="8377759">0</span><span class="op" id="8377760">,</span>&nbsp;<span class="num" id="8377762">1</span><span class="op" id="8377763">)</span><span class="op" id="8377764">}</span><span class="op" id="8377765">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377768">{</span><span class="string" id="8377769">`(a){0}`</span><span class="op" id="8377777">,</span>&nbsp;<span class="string" id="8377779">&#34;&#34;</span><span class="op" id="8377781">,</span>&nbsp;<span class="ident" id="8377783">build</span><span class="op" id="8377788">(</span><span class="num" id="8377789">1</span><span class="op" id="8377790">,</span>&nbsp;<span class="num" id="8377792">0</span><span class="op" id="8377793">,</span>&nbsp;<span class="num" id="8377795">0</span><span class="op" id="8377796">,</span>&nbsp;<span class="op" id="8377798">-</span><span class="num" id="8377799">1</span><span class="op" id="8377800">,</span>&nbsp;<span class="op" id="8377802">-</span><span class="num" id="8377803">1</span><span class="op" id="8377804">)</span><span class="op" id="8377805">}</span><span class="op" id="8377806">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377809">{</span><span class="string" id="8377810">`(?-s)(?:(?:^).)`</span><span class="op" id="8377827">,</span>&nbsp;<span class="string" id="8377829">&#34;\n&#34;</span><span class="op" id="8377833">,</span>&nbsp;<span class="builtintype" id="8377835">nil</span><span class="op" id="8377838">}</span><span class="op" id="8377839">,</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377842">{</span><span class="string" id="8377843">`(?s)(?:(?:^).)`</span><span class="op" id="8377859">,</span>&nbsp;<span class="string" id="8377861">&#34;\n&#34;</span><span class="op" id="8377865">,</span>&nbsp;<span class="ident" id="8377867">build</span><span class="op" id="8377872">(</span><span class="num" id="8377873">1</span><span class="op" id="8377874">,</span>&nbsp;<span class="num" id="8377876">0</span><span class="op" id="8377877">,</span>&nbsp;<span class="num" id="8377879">1</span><span class="op" id="8377880">)</span><span class="op" id="8377881">}</span><span class="op" id="8377882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377885">{</span><span class="string" id="8377886">`(?:(?:^).)`</span><span class="op" id="8377898">,</span>&nbsp;<span class="string" id="8377900">&#34;\n&#34;</span><span class="op" id="8377904">,</span>&nbsp;<span class="builtintype" id="8377906">nil</span><span class="op" id="8377909">}</span><span class="op" id="8377910">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377913">{</span><span class="string" id="8377914">`\b`</span><span class="op" id="8377918">,</span>&nbsp;<span class="string" id="8377920">&#34;x&#34;</span><span class="op" id="8377923">,</span>&nbsp;<span class="ident" id="8377925">build</span><span class="op" id="8377930">(</span><span class="num" id="8377931">2</span><span class="op" id="8377932">,</span>&nbsp;<span class="num" id="8377934">0</span><span class="op" id="8377935">,</span>&nbsp;<span class="num" id="8377937">0</span><span class="op" id="8377938">,</span>&nbsp;<span class="num" id="8377940">1</span><span class="op" id="8377941">,</span>&nbsp;<span class="num" id="8377943">1</span><span class="op" id="8377944">)</span><span class="op" id="8377945">}</span><span class="op" id="8377946">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377949">{</span><span class="string" id="8377950">`\b`</span><span class="op" id="8377954">,</span>&nbsp;<span class="string" id="8377956">&#34;xx&#34;</span><span class="op" id="8377960">,</span>&nbsp;<span class="ident" id="8377962">build</span><span class="op" id="8377967">(</span><span class="num" id="8377968">2</span><span class="op" id="8377969">,</span>&nbsp;<span class="num" id="8377971">0</span><span class="op" id="8377972">,</span>&nbsp;<span class="num" id="8377974">0</span><span class="op" id="8377975">,</span>&nbsp;<span class="num" id="8377977">2</span><span class="op" id="8377978">,</span>&nbsp;<span class="num" id="8377980">2</span><span class="op" id="8377981">)</span><span class="op" id="8377982">}</span><span class="op" id="8377983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8377986">{</span><span class="string" id="8377987">`\b`</span><span class="op" id="8377991">,</span>&nbsp;<span class="string" id="8377993">&#34;x&nbsp;y&#34;</span><span class="op" id="8377998">,</span>&nbsp;<span class="ident" id="8378000">build</span><span class="op" id="8378005">(</span><span class="num" id="8378006">4</span><span class="op" id="8378007">,</span>&nbsp;<span class="num" id="8378009">0</span><span class="op" id="8378010">,</span>&nbsp;<span class="num" id="8378012">0</span><span class="op" id="8378013">,</span>&nbsp;<span class="num" id="8378015">1</span><span class="op" id="8378016">,</span>&nbsp;<span class="num" id="8378018">1</span><span class="op" id="8378019">,</span>&nbsp;<span class="num" id="8378021">2</span><span class="op" id="8378022">,</span>&nbsp;<span class="num" id="8378024">2</span><span class="op" id="8378025">,</span>&nbsp;<span class="num" id="8378027">3</span><span class="op" id="8378028">,</span>&nbsp;<span class="num" id="8378030">3</span><span class="op" id="8378031">)</span><span class="op" id="8378032">}</span><span class="op" id="8378033">,</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378036">{</span><span class="string" id="8378037">`\b`</span><span class="op" id="8378041">,</span>&nbsp;<span class="string" id="8378043">&#34;xx&nbsp;yy&#34;</span><span class="op" id="8378050">,</span>&nbsp;<span class="ident" id="8378052">build</span><span class="op" id="8378057">(</span><span class="num" id="8378058">4</span><span class="op" id="8378059">,</span>&nbsp;<span class="num" id="8378061">0</span><span class="op" id="8378062">,</span>&nbsp;<span class="num" id="8378064">0</span><span class="op" id="8378065">,</span>&nbsp;<span class="num" id="8378067">2</span><span class="op" id="8378068">,</span>&nbsp;<span class="num" id="8378070">2</span><span class="op" id="8378071">,</span>&nbsp;<span class="num" id="8378073">3</span><span class="op" id="8378074">,</span>&nbsp;<span class="num" id="8378076">3</span><span class="op" id="8378077">,</span>&nbsp;<span class="num" id="8378079">5</span><span class="op" id="8378080">,</span>&nbsp;<span class="num" id="8378082">5</span><span class="op" id="8378083">)</span><span class="op" id="8378084">}</span><span class="op" id="8378085">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378088">{</span><span class="string" id="8378089">`\B`</span><span class="op" id="8378093">,</span>&nbsp;<span class="string" id="8378095">&#34;x&#34;</span><span class="op" id="8378098">,</span>&nbsp;<span class="builtintype" id="8378100">nil</span><span class="op" id="8378103">}</span><span class="op" id="8378104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378107">{</span><span class="string" id="8378108">`\B`</span><span class="op" id="8378112">,</span>&nbsp;<span class="string" id="8378114">&#34;xx&#34;</span><span class="op" id="8378118">,</span>&nbsp;<span class="ident" id="8378120">build</span><span class="op" id="8378125">(</span><span class="num" id="8378126">1</span><span class="op" id="8378127">,</span>&nbsp;<span class="num" id="8378129">1</span><span class="op" id="8378130">,</span>&nbsp;<span class="num" id="8378132">1</span><span class="op" id="8378133">)</span><span class="op" id="8378134">}</span><span class="op" id="8378135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378138">{</span><span class="string" id="8378139">`\B`</span><span class="op" id="8378143">,</span>&nbsp;<span class="string" id="8378145">&#34;x&nbsp;y&#34;</span><span class="op" id="8378150">,</span>&nbsp;<span class="builtintype" id="8378152">nil</span><span class="op" id="8378155">}</span><span class="op" id="8378156">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378159">{</span><span class="string" id="8378160">`\B`</span><span class="op" id="8378164">,</span>&nbsp;<span class="string" id="8378166">&#34;xx&nbsp;yy&#34;</span><span class="op" id="8378173">,</span>&nbsp;<span class="ident" id="8378175">build</span><span class="op" id="8378180">(</span><span class="num" id="8378181">2</span><span class="op" id="8378182">,</span>&nbsp;<span class="num" id="8378184">1</span><span class="op" id="8378185">,</span>&nbsp;<span class="num" id="8378187">1</span><span class="op" id="8378188">,</span>&nbsp;<span class="num" id="8378190">4</span><span class="op" id="8378191">,</span>&nbsp;<span class="num" id="8378193">4</span><span class="op" id="8378194">)</span><span class="op" id="8378195">}</span><span class="op" id="8378196">,</span><br>
<span class="lineno">100</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8378200">//&nbsp;RE2&nbsp;tests</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378214">{</span><span class="string" id="8378215">`[^\S\s]`</span><span class="op" id="8378224">,</span>&nbsp;<span class="string" id="8378226">&#34;abcd&#34;</span><span class="op" id="8378232">,</span>&nbsp;<span class="builtintype" id="8378234">nil</span><span class="op" id="8378237">}</span><span class="op" id="8378238">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378241">{</span><span class="string" id="8378242">`[^\S[:space:]]`</span><span class="op" id="8378258">,</span>&nbsp;<span class="string" id="8378260">&#34;abcd&#34;</span><span class="op" id="8378266">,</span>&nbsp;<span class="builtintype" id="8378268">nil</span><span class="op" id="8378271">}</span><span class="op" id="8378272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378275">{</span><span class="string" id="8378276">`[^\D\d]`</span><span class="op" id="8378285">,</span>&nbsp;<span class="string" id="8378287">&#34;abcd&#34;</span><span class="op" id="8378293">,</span>&nbsp;<span class="builtintype" id="8378295">nil</span><span class="op" id="8378298">}</span><span class="op" id="8378299">,</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378302">{</span><span class="string" id="8378303">`[^\D[:digit:]]`</span><span class="op" id="8378319">,</span>&nbsp;<span class="string" id="8378321">&#34;abcd&#34;</span><span class="op" id="8378327">,</span>&nbsp;<span class="builtintype" id="8378329">nil</span><span class="op" id="8378332">}</span><span class="op" id="8378333">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378336">{</span><span class="string" id="8378337">`(?i)\W`</span><span class="op" id="8378345">,</span>&nbsp;<span class="string" id="8378347">&#34;x&#34;</span><span class="op" id="8378350">,</span>&nbsp;<span class="builtintype" id="8378352">nil</span><span class="op" id="8378355">}</span><span class="op" id="8378356">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378359">{</span><span class="string" id="8378360">`(?i)\W`</span><span class="op" id="8378368">,</span>&nbsp;<span class="string" id="8378370">&#34;k&#34;</span><span class="op" id="8378373">,</span>&nbsp;<span class="builtintype" id="8378375">nil</span><span class="op" id="8378378">}</span><span class="op" id="8378379">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378382">{</span><span class="string" id="8378383">`(?i)\W`</span><span class="op" id="8378391">,</span>&nbsp;<span class="string" id="8378393">&#34;s&#34;</span><span class="op" id="8378396">,</span>&nbsp;<span class="builtintype" id="8378398">nil</span><span class="op" id="8378401">}</span><span class="op" id="8378402">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8378406">//&nbsp;can&nbsp;backslash-escape&nbsp;any&nbsp;punctuation</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378447">{</span><span class="string" id="8378448">`\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~`</span><span class="op" id="8378512">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378516">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="8378549">,</span>&nbsp;<span class="ident" id="8378551">build</span><span class="op" id="8378556">(</span><span class="num" id="8378557">1</span><span class="op" id="8378558">,</span>&nbsp;<span class="num" id="8378560">0</span><span class="op" id="8378561">,</span>&nbsp;<span class="num" id="8378563">31</span><span class="op" id="8378565">)</span><span class="op" id="8378566">}</span><span class="op" id="8378567">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378570">{</span><span class="string" id="8378571">`[\!\&#34;\#\$\%\&amp;\&#39;\(\)\*\+\,\-\.\/\:\;\&lt;\=\&gt;\?\@\[\\\]\^\_\{\|\}\~]+`</span><span class="op" id="8378638">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378642">`!&#34;#$%&amp;&#39;()*+,-./:;&lt;=&gt;?@[\]^_{|}~`</span><span class="op" id="8378675">,</span>&nbsp;<span class="ident" id="8378677">build</span><span class="op" id="8378682">(</span><span class="num" id="8378683">1</span><span class="op" id="8378684">,</span>&nbsp;<span class="num" id="8378686">0</span><span class="op" id="8378687">,</span>&nbsp;<span class="num" id="8378689">31</span><span class="op" id="8378691">)</span><span class="op" id="8378692">}</span><span class="op" id="8378693">,</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378696">{</span><span class="string" id="8378697">&#34;\\`&#34;</span><span class="op" id="8378702">,</span>&nbsp;<span class="string" id="8378704">&#34;`&#34;</span><span class="op" id="8378707">,</span>&nbsp;<span class="ident" id="8378709">build</span><span class="op" id="8378714">(</span><span class="num" id="8378715">1</span><span class="op" id="8378716">,</span>&nbsp;<span class="num" id="8378718">0</span><span class="op" id="8378719">,</span>&nbsp;<span class="num" id="8378721">1</span><span class="op" id="8378722">)</span><span class="op" id="8378723">}</span><span class="op" id="8378724">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378727">{</span><span class="string" id="8378728">&#34;[\\`]+&#34;</span><span class="op" id="8378736">,</span>&nbsp;<span class="string" id="8378738">&#34;`&#34;</span><span class="op" id="8378741">,</span>&nbsp;<span class="ident" id="8378743">build</span><span class="op" id="8378748">(</span><span class="num" id="8378749">1</span><span class="op" id="8378750">,</span>&nbsp;<span class="num" id="8378752">0</span><span class="op" id="8378753">,</span>&nbsp;<span class="num" id="8378755">1</span><span class="op" id="8378756">)</span><span class="op" id="8378757">}</span><span class="op" id="8378758">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8378762">//&nbsp;long&nbsp;set&nbsp;of&nbsp;matches&nbsp;(longer&nbsp;than&nbsp;startSize)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8378810">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378814">&#34;.&#34;</span><span class="op" id="8378817">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="8378821">&#34;qwertyuiopasdfghjklzxcvbnm1234567890&#34;</span><span class="op" id="8378859">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8378863">build</span><span class="op" id="8378868">(</span><span class="num" id="8378869">36</span><span class="op" id="8378871">,</span>&nbsp;<span class="num" id="8378873">0</span><span class="op" id="8378874">,</span>&nbsp;<span class="num" id="8378876">1</span><span class="op" id="8378877">,</span>&nbsp;<span class="num" id="8378879">1</span><span class="op" id="8378880">,</span>&nbsp;<span class="num" id="8378882">2</span><span class="op" id="8378883">,</span>&nbsp;<span class="num" id="8378885">2</span><span class="op" id="8378886">,</span>&nbsp;<span class="num" id="8378888">3</span><span class="op" id="8378889">,</span>&nbsp;<span class="num" id="8378891">3</span><span class="op" id="8378892">,</span>&nbsp;<span class="num" id="8378894">4</span><span class="op" id="8378895">,</span>&nbsp;<span class="num" id="8378897">4</span><span class="op" id="8378898">,</span>&nbsp;<span class="num" id="8378900">5</span><span class="op" id="8378901">,</span>&nbsp;<span class="num" id="8378903">5</span><span class="op" id="8378904">,</span>&nbsp;<span class="num" id="8378906">6</span><span class="op" id="8378907">,</span>&nbsp;<span class="num" id="8378909">6</span><span class="op" id="8378910">,</span>&nbsp;<span class="num" id="8378912">7</span><span class="op" id="8378913">,</span>&nbsp;<span class="num" id="8378915">7</span><span class="op" id="8378916">,</span>&nbsp;<span class="num" id="8378918">8</span><span class="op" id="8378919">,</span>&nbsp;<span class="num" id="8378921">8</span><span class="op" id="8378922">,</span>&nbsp;<span class="num" id="8378924">9</span><span class="op" id="8378925">,</span>&nbsp;<span class="num" id="8378927">9</span><span class="op" id="8378928">,</span>&nbsp;<span class="num" id="8378930">10</span><span class="op" id="8378932">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8378937">10</span><span class="op" id="8378939">,</span>&nbsp;<span class="num" id="8378941">11</span><span class="op" id="8378943">,</span>&nbsp;<span class="num" id="8378945">11</span><span class="op" id="8378947">,</span>&nbsp;<span class="num" id="8378949">12</span><span class="op" id="8378951">,</span>&nbsp;<span class="num" id="8378953">12</span><span class="op" id="8378955">,</span>&nbsp;<span class="num" id="8378957">13</span><span class="op" id="8378959">,</span>&nbsp;<span class="num" id="8378961">13</span><span class="op" id="8378963">,</span>&nbsp;<span class="num" id="8378965">14</span><span class="op" id="8378967">,</span>&nbsp;<span class="num" id="8378969">14</span><span class="op" id="8378971">,</span>&nbsp;<span class="num" id="8378973">15</span><span class="op" id="8378975">,</span>&nbsp;<span class="num" id="8378977">15</span><span class="op" id="8378979">,</span>&nbsp;<span class="num" id="8378981">16</span><span class="op" id="8378983">,</span>&nbsp;<span class="num" id="8378985">16</span><span class="op" id="8378987">,</span>&nbsp;<span class="num" id="8378989">17</span><span class="op" id="8378991">,</span>&nbsp;<span class="num" id="8378993">17</span><span class="op" id="8378995">,</span>&nbsp;<span class="num" id="8378997">18</span><span class="op" id="8378999">,</span>&nbsp;<span class="num" id="8379001">18</span><span class="op" id="8379003">,</span>&nbsp;<span class="num" id="8379005">19</span><span class="op" id="8379007">,</span>&nbsp;<span class="num" id="8379009">19</span><span class="op" id="8379011">,</span>&nbsp;<span class="num" id="8379013">20</span><span class="op" id="8379015">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8379020">20</span><span class="op" id="8379022">,</span>&nbsp;<span class="num" id="8379024">21</span><span class="op" id="8379026">,</span>&nbsp;<span class="num" id="8379028">21</span><span class="op" id="8379030">,</span>&nbsp;<span class="num" id="8379032">22</span><span class="op" id="8379034">,</span>&nbsp;<span class="num" id="8379036">22</span><span class="op" id="8379038">,</span>&nbsp;<span class="num" id="8379040">23</span><span class="op" id="8379042">,</span>&nbsp;<span class="num" id="8379044">23</span><span class="op" id="8379046">,</span>&nbsp;<span class="num" id="8379048">24</span><span class="op" id="8379050">,</span>&nbsp;<span class="num" id="8379052">24</span><span class="op" id="8379054">,</span>&nbsp;<span class="num" id="8379056">25</span><span class="op" id="8379058">,</span>&nbsp;<span class="num" id="8379060">25</span><span class="op" id="8379062">,</span>&nbsp;<span class="num" id="8379064">26</span><span class="op" id="8379066">,</span>&nbsp;<span class="num" id="8379068">26</span><span class="op" id="8379070">,</span>&nbsp;<span class="num" id="8379072">27</span><span class="op" id="8379074">,</span>&nbsp;<span class="num" id="8379076">27</span><span class="op" id="8379078">,</span>&nbsp;<span class="num" id="8379080">28</span><span class="op" id="8379082">,</span>&nbsp;<span class="num" id="8379084">28</span><span class="op" id="8379086">,</span>&nbsp;<span class="num" id="8379088">29</span><span class="op" id="8379090">,</span>&nbsp;<span class="num" id="8379092">29</span><span class="op" id="8379094">,</span>&nbsp;<span class="num" id="8379096">30</span><span class="op" id="8379098">,</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="num" id="8379103">30</span><span class="op" id="8379105">,</span>&nbsp;<span class="num" id="8379107">31</span><span class="op" id="8379109">,</span>&nbsp;<span class="num" id="8379111">31</span><span class="op" id="8379113">,</span>&nbsp;<span class="num" id="8379115">32</span><span class="op" id="8379117">,</span>&nbsp;<span class="num" id="8379119">32</span><span class="op" id="8379121">,</span>&nbsp;<span class="num" id="8379123">33</span><span class="op" id="8379125">,</span>&nbsp;<span class="num" id="8379127">33</span><span class="op" id="8379129">,</span>&nbsp;<span class="num" id="8379131">34</span><span class="op" id="8379133">,</span>&nbsp;<span class="num" id="8379135">34</span><span class="op" id="8379137">,</span>&nbsp;<span class="num" id="8379139">35</span><span class="op" id="8379141">,</span>&nbsp;<span class="num" id="8379143">35</span><span class="op" id="8379145">,</span>&nbsp;<span class="num" id="8379147">36</span><span class="op" id="8379149">)</span><span class="op" id="8379150">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379153">}</span><span class="op" id="8379154">,</span><br>
<span class="lineno"></span><span class="op" id="8379156">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8379159">//&nbsp;build&nbsp;is&nbsp;a&nbsp;helper&nbsp;to&nbsp;construct&nbsp;a&nbsp;[][]int&nbsp;by&nbsp;extracting&nbsp;n&nbsp;sequences&nbsp;from&nbsp;x.</span><br>
<span class="lineno">130</span><span class="comment" id="8379237">//&nbsp;This&nbsp;represents&nbsp;n&nbsp;matches&nbsp;with&nbsp;len(x)/n&nbsp;submatches&nbsp;each.</span><br>
<span class="lineno"></span><span class="keyword" id="8379297">func</span>&nbsp;<span class="ident" id="8379302">build</span><span class="op" id="8379307">(</span><span class="ident" id="8379308">n</span>&nbsp;<span class="builtintype" id="8379310">int</span><span class="op" id="8379313">,</span>&nbsp;<span class="ident" id="8379315">x</span>&nbsp;<span class="op" id="8379317">...</span><span class="builtintype" id="8379320">int</span><span class="op" id="8379323">)</span>&nbsp;<span class="op" id="8379325">[</span><span class="op" id="8379326">]</span><span class="op" id="8379327">[</span><span class="op" id="8379328">]</span><span class="builtintype" id="8379329">int</span>&nbsp;<span class="op" id="8379333">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379336">ret</span>&nbsp;<span class="op" id="8379340">:=</span>&nbsp;<span class="builtinfunc" id="8379343">make</span><span class="op" id="8379347">(</span><span class="op" id="8379348">[</span><span class="op" id="8379349">]</span><span class="op" id="8379350">[</span><span class="op" id="8379351">]</span><span class="builtintype" id="8379352">int</span><span class="op" id="8379355">,</span>&nbsp;<span class="ident" id="8379357">n</span><span class="op" id="8379358">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379361">runLength</span>&nbsp;<span class="op" id="8379371">:=</span>&nbsp;<span class="builtinfunc" id="8379374">len</span><span class="op" id="8379377">(</span><span class="ident" id="8379378">x</span><span class="op" id="8379379">)</span>&nbsp;<span class="op" id="8379381">/</span>&nbsp;<span class="ident" id="8379383">n</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379386">j</span>&nbsp;<span class="op" id="8379388">:=</span>&nbsp;<span class="num" id="8379391">0</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379394">for</span>&nbsp;<span class="ident" id="8379398">i</span>&nbsp;<span class="op" id="8379400">:=</span>&nbsp;<span class="keyword" id="8379403">range</span>&nbsp;<span class="ident" id="8379409">ret</span>&nbsp;<span class="op" id="8379413">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379417">ret</span><span class="op" id="8379420">[</span><span class="ident" id="8379421">i</span><span class="op" id="8379422">]</span>&nbsp;<span class="op" id="8379424">=</span>&nbsp;<span class="builtinfunc" id="8379426">make</span><span class="op" id="8379430">(</span><span class="op" id="8379431">[</span><span class="op" id="8379432">]</span><span class="builtintype" id="8379433">int</span><span class="op" id="8379436">,</span>&nbsp;<span class="ident" id="8379438">runLength</span><span class="op" id="8379447">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8379451">copy</span><span class="op" id="8379455">(</span><span class="ident" id="8379456">ret</span><span class="op" id="8379459">[</span><span class="ident" id="8379460">i</span><span class="op" id="8379461">]</span><span class="op" id="8379462">,</span>&nbsp;<span class="ident" id="8379464">x</span><span class="op" id="8379465">[</span><span class="ident" id="8379466">j</span><span class="op" id="8379467">:</span><span class="op" id="8379468">]</span><span class="op" id="8379469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379473">j</span>&nbsp;<span class="op" id="8379475">+=</span>&nbsp;<span class="ident" id="8379478">runLength</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379490">if</span>&nbsp;<span class="ident" id="8379493">j</span>&nbsp;<span class="op" id="8379495">&gt;</span>&nbsp;<span class="builtinfunc" id="8379497">len</span><span class="op" id="8379500">(</span><span class="ident" id="8379501">x</span><span class="op" id="8379502">)</span>&nbsp;<span class="op" id="8379504">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="8379509">panic</span><span class="op" id="8379514">(</span><span class="string" id="8379515">&#34;invalid&nbsp;build&nbsp;entry&#34;</span><span class="op" id="8379536">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379540">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379546">return</span>&nbsp;<span class="ident" id="8379553">ret</span><br>
<span class="lineno"></span><span class="op" id="8379557">}</span><br>
<span class="lineno">145</span><br>
<span class="lineno"></span><span class="comment" id="8379560">//&nbsp;First&nbsp;the&nbsp;simple&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8379588">func</span>&nbsp;<span class="ident" id="8379593">TestFind</span><span class="op" id="8379601">(</span><span class="ident" id="8379602">t</span>&nbsp;<span class="op" id="8379604">*</span><span class="ident" id="8379605">testing</span><span class="op" id="8379612">.</span><span class="ident" id="8379613">T</span><span class="op" id="8379614">)</span>&nbsp;<span class="op" id="8379616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379619">for</span>&nbsp;<span class="ident" id="8379623">_</span><span class="op" id="8379624">,</span>&nbsp;<span class="ident" id="8379626">test</span>&nbsp;<span class="op" id="8379631">:=</span>&nbsp;<span class="keyword" id="8379634">range</span>&nbsp;<span class="ident" id="8379640">findTests</span>&nbsp;<span class="op" id="8379650">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379654">re</span>&nbsp;<span class="op" id="8379657">:=</span>&nbsp;<span class="ident" id="8379660">MustCompile</span><span class="op" id="8379671">(</span><span class="ident" id="8379672">test</span><span class="op" id="8379676">.</span><span class="ident" id="8379677">pat</span><span class="op" id="8379680">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379684">if</span>&nbsp;<span class="ident" id="8379687">re</span><span class="op" id="8379689">.</span><span class="ident" id="8379690">String</span><span class="op" id="8379696">(</span><span class="op" id="8379697">)</span>&nbsp;<span class="op" id="8379699">!=</span>&nbsp;<span class="ident" id="8379702">test</span><span class="op" id="8379706">.</span><span class="ident" id="8379707">pat</span>&nbsp;<span class="op" id="8379711">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379716">t</span><span class="op" id="8379717">.</span><span class="ident" id="8379718">Errorf</span><span class="op" id="8379724">(</span><span class="string" id="8379725">&#34;String()&nbsp;=&nbsp;`%s`;&nbsp;should&nbsp;be&nbsp;`%s`&#34;</span><span class="op" id="8379758">,</span>&nbsp;<span class="ident" id="8379760">re</span><span class="op" id="8379762">.</span><span class="ident" id="8379763">String</span><span class="op" id="8379769">(</span><span class="op" id="8379770">)</span><span class="op" id="8379771">,</span>&nbsp;<span class="ident" id="8379773">test</span><span class="op" id="8379777">.</span><span class="ident" id="8379778">pat</span><span class="op" id="8379781">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8379785">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379789">result</span>&nbsp;<span class="op" id="8379796">:=</span>&nbsp;<span class="ident" id="8379799">re</span><span class="op" id="8379801">.</span><span class="ident" id="8379802">Find</span><span class="op" id="8379806">(</span><span class="op" id="8379807">[</span><span class="op" id="8379808">]</span><span class="builtintype" id="8379809">byte</span><span class="op" id="8379813">(</span><span class="ident" id="8379814">test</span><span class="op" id="8379818">.</span><span class="ident" id="8379819">text</span><span class="op" id="8379823">)</span><span class="op" id="8379824">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379828">switch</span>&nbsp;<span class="op" id="8379835">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379839">case</span>&nbsp;<span class="builtinfunc" id="8379844">len</span><span class="op" id="8379847">(</span><span class="ident" id="8379848">test</span><span class="op" id="8379852">.</span><span class="ident" id="8379853">matches</span><span class="op" id="8379860">)</span>&nbsp;<span class="op" id="8379862">==</span>&nbsp;<span class="num" id="8379865">0</span>&nbsp;<span class="op" id="8379867">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8379870">len</span><span class="op" id="8379873">(</span><span class="ident" id="8379874">result</span><span class="op" id="8379880">)</span>&nbsp;<span class="op" id="8379882">==</span>&nbsp;<span class="num" id="8379885">0</span><span class="op" id="8379886">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8379891">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379899">case</span>&nbsp;<span class="ident" id="8379904">test</span><span class="op" id="8379908">.</span><span class="ident" id="8379909">matches</span>&nbsp;<span class="op" id="8379917">==</span>&nbsp;<span class="builtintype" id="8379920">nil</span>&nbsp;<span class="op" id="8379924">&amp;&amp;</span>&nbsp;<span class="ident" id="8379927">result</span>&nbsp;<span class="op" id="8379934">!=</span>&nbsp;<span class="builtintype" id="8379937">nil</span><span class="op" id="8379940">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8379945">t</span><span class="op" id="8379946">.</span><span class="ident" id="8379947">Errorf</span><span class="op" id="8379953">(</span><span class="string" id="8379954">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8379986">,</span>&nbsp;<span class="ident" id="8379988">test</span><span class="op" id="8379992">)</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8379996">case</span>&nbsp;<span class="ident" id="8380001">test</span><span class="op" id="8380005">.</span><span class="ident" id="8380006">matches</span>&nbsp;<span class="op" id="8380014">!=</span>&nbsp;<span class="builtintype" id="8380017">nil</span>&nbsp;<span class="op" id="8380021">&amp;&amp;</span>&nbsp;<span class="ident" id="8380024">result</span>&nbsp;<span class="op" id="8380031">==</span>&nbsp;<span class="builtintype" id="8380034">nil</span><span class="op" id="8380037">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380042">t</span><span class="op" id="8380043">.</span><span class="ident" id="8380044">Errorf</span><span class="op" id="8380050">(</span><span class="string" id="8380051">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8380081">,</span>&nbsp;<span class="ident" id="8380083">test</span><span class="op" id="8380087">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380091">case</span>&nbsp;<span class="ident" id="8380096">test</span><span class="op" id="8380100">.</span><span class="ident" id="8380101">matches</span>&nbsp;<span class="op" id="8380109">!=</span>&nbsp;<span class="builtintype" id="8380112">nil</span>&nbsp;<span class="op" id="8380116">&amp;&amp;</span>&nbsp;<span class="ident" id="8380119">result</span>&nbsp;<span class="op" id="8380126">!=</span>&nbsp;<span class="builtintype" id="8380129">nil</span><span class="op" id="8380132">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380137">expect</span>&nbsp;<span class="op" id="8380144">:=</span>&nbsp;<span class="ident" id="8380147">test</span><span class="op" id="8380151">.</span><span class="ident" id="8380152">text</span><span class="op" id="8380156">[</span><span class="ident" id="8380157">test</span><span class="op" id="8380161">.</span><span class="ident" id="8380162">matches</span><span class="op" id="8380169">[</span><span class="num" id="8380170">0</span><span class="op" id="8380171">]</span><span class="op" id="8380172">[</span><span class="num" id="8380173">0</span><span class="op" id="8380174">]</span><span class="op" id="8380175">:</span><span class="ident" id="8380176">test</span><span class="op" id="8380180">.</span><span class="ident" id="8380181">matches</span><span class="op" id="8380188">[</span><span class="num" id="8380189">0</span><span class="op" id="8380190">]</span><span class="op" id="8380191">[</span><span class="num" id="8380192">1</span><span class="op" id="8380193">]</span><span class="op" id="8380194">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380199">if</span>&nbsp;<span class="ident" id="8380202">expect</span>&nbsp;<span class="op" id="8380209">!=</span>&nbsp;<span class="builtintype" id="8380212">string</span><span class="op" id="8380218">(</span><span class="ident" id="8380219">result</span><span class="op" id="8380225">)</span>&nbsp;<span class="op" id="8380227">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380233">t</span><span class="op" id="8380234">.</span><span class="ident" id="8380235">Errorf</span><span class="op" id="8380241">(</span><span class="string" id="8380242">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8380266">,</span>&nbsp;<span class="ident" id="8380268">expect</span><span class="op" id="8380274">,</span>&nbsp;<span class="ident" id="8380276">result</span><span class="op" id="8380282">,</span>&nbsp;<span class="ident" id="8380284">test</span><span class="op" id="8380288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380293">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380300">}</span><br>
<span class="lineno"></span><span class="op" id="8380302">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="8380305">func</span>&nbsp;<span class="ident" id="8380310">TestFindString</span><span class="op" id="8380324">(</span><span class="ident" id="8380325">t</span>&nbsp;<span class="op" id="8380327">*</span><span class="ident" id="8380328">testing</span><span class="op" id="8380335">.</span><span class="ident" id="8380336">T</span><span class="op" id="8380337">)</span>&nbsp;<span class="op" id="8380339">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380342">for</span>&nbsp;<span class="ident" id="8380346">_</span><span class="op" id="8380347">,</span>&nbsp;<span class="ident" id="8380349">test</span>&nbsp;<span class="op" id="8380354">:=</span>&nbsp;<span class="keyword" id="8380357">range</span>&nbsp;<span class="ident" id="8380363">findTests</span>&nbsp;<span class="op" id="8380373">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380377">result</span>&nbsp;<span class="op" id="8380384">:=</span>&nbsp;<span class="ident" id="8380387">MustCompile</span><span class="op" id="8380398">(</span><span class="ident" id="8380399">test</span><span class="op" id="8380403">.</span><span class="ident" id="8380404">pat</span><span class="op" id="8380407">)</span><span class="op" id="8380408">.</span><span class="ident" id="8380409">FindString</span><span class="op" id="8380419">(</span><span class="ident" id="8380420">test</span><span class="op" id="8380424">.</span><span class="ident" id="8380425">text</span><span class="op" id="8380429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380433">switch</span>&nbsp;<span class="op" id="8380440">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380444">case</span>&nbsp;<span class="builtinfunc" id="8380449">len</span><span class="op" id="8380452">(</span><span class="ident" id="8380453">test</span><span class="op" id="8380457">.</span><span class="ident" id="8380458">matches</span><span class="op" id="8380465">)</span>&nbsp;<span class="op" id="8380467">==</span>&nbsp;<span class="num" id="8380470">0</span>&nbsp;<span class="op" id="8380472">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8380475">len</span><span class="op" id="8380478">(</span><span class="ident" id="8380479">result</span><span class="op" id="8380485">)</span>&nbsp;<span class="op" id="8380487">==</span>&nbsp;<span class="num" id="8380490">0</span><span class="op" id="8380491">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8380496">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380504">case</span>&nbsp;<span class="ident" id="8380509">test</span><span class="op" id="8380513">.</span><span class="ident" id="8380514">matches</span>&nbsp;<span class="op" id="8380522">==</span>&nbsp;<span class="builtintype" id="8380525">nil</span>&nbsp;<span class="op" id="8380529">&amp;&amp;</span>&nbsp;<span class="ident" id="8380532">result</span>&nbsp;<span class="op" id="8380539">!=</span>&nbsp;<span class="string" id="8380542">&#34;&#34;</span><span class="op" id="8380544">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380549">t</span><span class="op" id="8380550">.</span><span class="ident" id="8380551">Errorf</span><span class="op" id="8380557">(</span><span class="string" id="8380558">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8380590">,</span>&nbsp;<span class="ident" id="8380592">test</span><span class="op" id="8380596">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380600">case</span>&nbsp;<span class="ident" id="8380605">test</span><span class="op" id="8380609">.</span><span class="ident" id="8380610">matches</span>&nbsp;<span class="op" id="8380618">!=</span>&nbsp;<span class="builtintype" id="8380621">nil</span>&nbsp;<span class="op" id="8380625">&amp;&amp;</span>&nbsp;<span class="ident" id="8380628">result</span>&nbsp;<span class="op" id="8380635">==</span>&nbsp;<span class="string" id="8380638">&#34;&#34;</span><span class="op" id="8380640">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8380645">//&nbsp;Tricky&nbsp;because&nbsp;an&nbsp;empty&nbsp;result&nbsp;has&nbsp;two&nbsp;meanings:&nbsp;no&nbsp;match&nbsp;or&nbsp;empty&nbsp;match.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380725">if</span>&nbsp;<span class="ident" id="8380728">test</span><span class="op" id="8380732">.</span><span class="ident" id="8380733">matches</span><span class="op" id="8380740">[</span><span class="num" id="8380741">0</span><span class="op" id="8380742">]</span><span class="op" id="8380743">[</span><span class="num" id="8380744">0</span><span class="op" id="8380745">]</span>&nbsp;<span class="op" id="8380747">!=</span>&nbsp;<span class="ident" id="8380750">test</span><span class="op" id="8380754">.</span><span class="ident" id="8380755">matches</span><span class="op" id="8380762">[</span><span class="num" id="8380763">0</span><span class="op" id="8380764">]</span><span class="op" id="8380765">[</span><span class="num" id="8380766">1</span><span class="op" id="8380767">]</span>&nbsp;<span class="op" id="8380769">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380775">t</span><span class="op" id="8380776">.</span><span class="ident" id="8380777">Errorf</span><span class="op" id="8380783">(</span><span class="string" id="8380784">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8380814">,</span>&nbsp;<span class="ident" id="8380816">test</span><span class="op" id="8380820">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8380825">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380829">case</span>&nbsp;<span class="ident" id="8380834">test</span><span class="op" id="8380838">.</span><span class="ident" id="8380839">matches</span>&nbsp;<span class="op" id="8380847">!=</span>&nbsp;<span class="builtintype" id="8380850">nil</span>&nbsp;<span class="op" id="8380854">&amp;&amp;</span>&nbsp;<span class="ident" id="8380857">result</span>&nbsp;<span class="op" id="8380864">!=</span>&nbsp;<span class="string" id="8380867">&#34;&#34;</span><span class="op" id="8380869">:</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380874">expect</span>&nbsp;<span class="op" id="8380881">:=</span>&nbsp;<span class="ident" id="8380884">test</span><span class="op" id="8380888">.</span><span class="ident" id="8380889">text</span><span class="op" id="8380893">[</span><span class="ident" id="8380894">test</span><span class="op" id="8380898">.</span><span class="ident" id="8380899">matches</span><span class="op" id="8380906">[</span><span class="num" id="8380907">0</span><span class="op" id="8380908">]</span><span class="op" id="8380909">[</span><span class="num" id="8380910">0</span><span class="op" id="8380911">]</span><span class="op" id="8380912">:</span><span class="ident" id="8380913">test</span><span class="op" id="8380917">.</span><span class="ident" id="8380918">matches</span><span class="op" id="8380925">[</span><span class="num" id="8380926">0</span><span class="op" id="8380927">]</span><span class="op" id="8380928">[</span><span class="num" id="8380929">1</span><span class="op" id="8380930">]</span><span class="op" id="8380931">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8380936">if</span>&nbsp;<span class="ident" id="8380939">expect</span>&nbsp;<span class="op" id="8380946">!=</span>&nbsp;<span class="ident" id="8380949">result</span>&nbsp;<span class="op" id="8380956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8380962">t</span><span class="op" id="8380963">.</span><span class="ident" id="8380964">Errorf</span><span class="op" id="8380970">(</span><span class="string" id="8380971">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8380995">,</span>&nbsp;<span class="ident" id="8380997">expect</span><span class="op" id="8381003">,</span>&nbsp;<span class="ident" id="8381005">result</span><span class="op" id="8381011">,</span>&nbsp;<span class="ident" id="8381013">test</span><span class="op" id="8381017">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381022">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381026">}</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381029">}</span><br>
<span class="lineno"></span><span class="op" id="8381031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381034">func</span>&nbsp;<span class="ident" id="8381039">testFindIndex</span><span class="op" id="8381052">(</span><span class="ident" id="8381053">test</span>&nbsp;<span class="op" id="8381058">*</span><span class="ident" id="8381059">FindTest</span><span class="op" id="8381067">,</span>&nbsp;<span class="ident" id="8381069">result</span>&nbsp;<span class="op" id="8381076">[</span><span class="op" id="8381077">]</span><span class="builtintype" id="8381078">int</span><span class="op" id="8381081">,</span>&nbsp;<span class="ident" id="8381083">t</span>&nbsp;<span class="op" id="8381085">*</span><span class="ident" id="8381086">testing</span><span class="op" id="8381093">.</span><span class="ident" id="8381094">T</span><span class="op" id="8381095">)</span>&nbsp;<span class="op" id="8381097">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381100">switch</span>&nbsp;<span class="op" id="8381107">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381110">case</span>&nbsp;<span class="builtinfunc" id="8381115">len</span><span class="op" id="8381118">(</span><span class="ident" id="8381119">test</span><span class="op" id="8381123">.</span><span class="ident" id="8381124">matches</span><span class="op" id="8381131">)</span>&nbsp;<span class="op" id="8381133">==</span>&nbsp;<span class="num" id="8381136">0</span>&nbsp;<span class="op" id="8381138">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="8381141">len</span><span class="op" id="8381144">(</span><span class="ident" id="8381145">result</span><span class="op" id="8381151">)</span>&nbsp;<span class="op" id="8381153">==</span>&nbsp;<span class="num" id="8381156">0</span><span class="op" id="8381157">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8381161">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381168">case</span>&nbsp;<span class="ident" id="8381173">test</span><span class="op" id="8381177">.</span><span class="ident" id="8381178">matches</span>&nbsp;<span class="op" id="8381186">==</span>&nbsp;<span class="builtintype" id="8381189">nil</span>&nbsp;<span class="op" id="8381193">&amp;&amp;</span>&nbsp;<span class="ident" id="8381196">result</span>&nbsp;<span class="op" id="8381203">!=</span>&nbsp;<span class="builtintype" id="8381206">nil</span><span class="op" id="8381209">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381213">t</span><span class="op" id="8381214">.</span><span class="ident" id="8381215">Errorf</span><span class="op" id="8381221">(</span><span class="string" id="8381222">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8381254">,</span>&nbsp;<span class="ident" id="8381256">test</span><span class="op" id="8381260">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381263">case</span>&nbsp;<span class="ident" id="8381268">test</span><span class="op" id="8381272">.</span><span class="ident" id="8381273">matches</span>&nbsp;<span class="op" id="8381281">!=</span>&nbsp;<span class="builtintype" id="8381284">nil</span>&nbsp;<span class="op" id="8381288">&amp;&amp;</span>&nbsp;<span class="ident" id="8381291">result</span>&nbsp;<span class="op" id="8381298">==</span>&nbsp;<span class="builtintype" id="8381301">nil</span><span class="op" id="8381304">:</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381308">t</span><span class="op" id="8381309">.</span><span class="ident" id="8381310">Errorf</span><span class="op" id="8381316">(</span><span class="string" id="8381317">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8381347">,</span>&nbsp;<span class="ident" id="8381349">test</span><span class="op" id="8381353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381356">case</span>&nbsp;<span class="ident" id="8381361">test</span><span class="op" id="8381365">.</span><span class="ident" id="8381366">matches</span>&nbsp;<span class="op" id="8381374">!=</span>&nbsp;<span class="builtintype" id="8381377">nil</span>&nbsp;<span class="op" id="8381381">&amp;&amp;</span>&nbsp;<span class="ident" id="8381384">result</span>&nbsp;<span class="op" id="8381391">!=</span>&nbsp;<span class="builtintype" id="8381394">nil</span><span class="op" id="8381397">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381401">expect</span>&nbsp;<span class="op" id="8381408">:=</span>&nbsp;<span class="ident" id="8381411">test</span><span class="op" id="8381415">.</span><span class="ident" id="8381416">matches</span><span class="op" id="8381423">[</span><span class="num" id="8381424">0</span><span class="op" id="8381425">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381429">if</span>&nbsp;<span class="ident" id="8381432">expect</span><span class="op" id="8381438">[</span><span class="num" id="8381439">0</span><span class="op" id="8381440">]</span>&nbsp;<span class="op" id="8381442">!=</span>&nbsp;<span class="ident" id="8381445">result</span><span class="op" id="8381451">[</span><span class="num" id="8381452">0</span><span class="op" id="8381453">]</span>&nbsp;<span class="op" id="8381455">||</span>&nbsp;<span class="ident" id="8381458">expect</span><span class="op" id="8381464">[</span><span class="num" id="8381465">1</span><span class="op" id="8381466">]</span>&nbsp;<span class="op" id="8381468">!=</span>&nbsp;<span class="ident" id="8381471">result</span><span class="op" id="8381477">[</span><span class="num" id="8381478">1</span><span class="op" id="8381479">]</span>&nbsp;<span class="op" id="8381481">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381486">t</span><span class="op" id="8381487">.</span><span class="ident" id="8381488">Errorf</span><span class="op" id="8381494">(</span><span class="string" id="8381495">&#34;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8381519">,</span>&nbsp;<span class="ident" id="8381521">expect</span><span class="op" id="8381527">,</span>&nbsp;<span class="ident" id="8381529">result</span><span class="op" id="8381535">,</span>&nbsp;<span class="ident" id="8381537">test</span><span class="op" id="8381541">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381545">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381548">}</span><br>
<span class="lineno"></span><span class="op" id="8381550">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8381553">func</span>&nbsp;<span class="ident" id="8381558">TestFindIndex</span><span class="op" id="8381571">(</span><span class="ident" id="8381572">t</span>&nbsp;<span class="op" id="8381574">*</span><span class="ident" id="8381575">testing</span><span class="op" id="8381582">.</span><span class="ident" id="8381583">T</span><span class="op" id="8381584">)</span>&nbsp;<span class="op" id="8381586">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381589">for</span>&nbsp;<span class="ident" id="8381593">_</span><span class="op" id="8381594">,</span>&nbsp;<span class="ident" id="8381596">test</span>&nbsp;<span class="op" id="8381601">:=</span>&nbsp;<span class="keyword" id="8381604">range</span>&nbsp;<span class="ident" id="8381610">findTests</span>&nbsp;<span class="op" id="8381620">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381624">testFindIndex</span><span class="op" id="8381637">(</span><span class="op" id="8381638">&amp;</span><span class="ident" id="8381639">test</span><span class="op" id="8381643">,</span>&nbsp;<span class="ident" id="8381645">MustCompile</span><span class="op" id="8381656">(</span><span class="ident" id="8381657">test</span><span class="op" id="8381661">.</span><span class="ident" id="8381662">pat</span><span class="op" id="8381665">)</span><span class="op" id="8381666">.</span><span class="ident" id="8381667">FindIndex</span><span class="op" id="8381676">(</span><span class="op" id="8381677">[</span><span class="op" id="8381678">]</span><span class="builtintype" id="8381679">byte</span><span class="op" id="8381683">(</span><span class="ident" id="8381684">test</span><span class="op" id="8381688">.</span><span class="ident" id="8381689">text</span><span class="op" id="8381693">)</span><span class="op" id="8381694">)</span><span class="op" id="8381695">,</span>&nbsp;<span class="ident" id="8381697">t</span><span class="op" id="8381698">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381701">}</span><br>
<span class="lineno"></span><span class="op" id="8381703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="keyword" id="8381706">func</span>&nbsp;<span class="ident" id="8381711">TestFindStringIndex</span><span class="op" id="8381730">(</span><span class="ident" id="8381731">t</span>&nbsp;<span class="op" id="8381733">*</span><span class="ident" id="8381734">testing</span><span class="op" id="8381741">.</span><span class="ident" id="8381742">T</span><span class="op" id="8381743">)</span>&nbsp;<span class="op" id="8381745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381748">for</span>&nbsp;<span class="ident" id="8381752">_</span><span class="op" id="8381753">,</span>&nbsp;<span class="ident" id="8381755">test</span>&nbsp;<span class="op" id="8381760">:=</span>&nbsp;<span class="keyword" id="8381763">range</span>&nbsp;<span class="ident" id="8381769">findTests</span>&nbsp;<span class="op" id="8381779">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381783">testFindIndex</span><span class="op" id="8381796">(</span><span class="op" id="8381797">&amp;</span><span class="ident" id="8381798">test</span><span class="op" id="8381802">,</span>&nbsp;<span class="ident" id="8381804">MustCompile</span><span class="op" id="8381815">(</span><span class="ident" id="8381816">test</span><span class="op" id="8381820">.</span><span class="ident" id="8381821">pat</span><span class="op" id="8381824">)</span><span class="op" id="8381825">.</span><span class="ident" id="8381826">FindStringIndex</span><span class="op" id="8381841">(</span><span class="ident" id="8381842">test</span><span class="op" id="8381846">.</span><span class="ident" id="8381847">text</span><span class="op" id="8381851">)</span><span class="op" id="8381852">,</span>&nbsp;<span class="ident" id="8381854">t</span><span class="op" id="8381855">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8381858">}</span><br>
<span class="lineno"></span><span class="op" id="8381860">}</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="keyword" id="8381863">func</span>&nbsp;<span class="ident" id="8381868">TestFindReaderIndex</span><span class="op" id="8381887">(</span><span class="ident" id="8381888">t</span>&nbsp;<span class="op" id="8381890">*</span><span class="ident" id="8381891">testing</span><span class="op" id="8381898">.</span><span class="ident" id="8381899">T</span><span class="op" id="8381900">)</span>&nbsp;<span class="op" id="8381902">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8381905">for</span>&nbsp;<span class="ident" id="8381909">_</span><span class="op" id="8381910">,</span>&nbsp;<span class="ident" id="8381912">test</span>&nbsp;<span class="op" id="8381917">:=</span>&nbsp;<span class="keyword" id="8381920">range</span>&nbsp;<span class="ident" id="8381926">findTests</span>&nbsp;<span class="op" id="8381936">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8381940">testFindIndex</span><span class="op" id="8381953">(</span><span class="op" id="8381954">&amp;</span><span class="ident" id="8381955">test</span><span class="op" id="8381959">,</span>&nbsp;<span class="ident" id="8381961">MustCompile</span><span class="op" id="8381972">(</span><span class="ident" id="8381973">test</span><span class="op" id="8381977">.</span><span class="ident" id="8381978">pat</span><span class="op" id="8381981">)</span><span class="op" id="8381982">.</span><span class="ident" id="8381983">FindReaderIndex</span><span class="op" id="8381998">(</span><span class="ident" id="8381999">strings</span><span class="op" id="8382006">.</span><span class="ident" id="8382007">NewReader</span><span class="op" id="8382016">(</span><span class="ident" id="8382017">test</span><span class="op" id="8382021">.</span><span class="ident" id="8382022">text</span><span class="op" id="8382026">)</span><span class="op" id="8382027">)</span><span class="op" id="8382028">,</span>&nbsp;<span class="ident" id="8382030">t</span><span class="op" id="8382031">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382034">}</span><br>
<span class="lineno">225</span><span class="op" id="8382036">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8382039">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;simple&nbsp;All&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8382074">func</span>&nbsp;<span class="ident" id="8382079">TestFindAll</span><span class="op" id="8382090">(</span><span class="ident" id="8382091">t</span>&nbsp;<span class="op" id="8382093">*</span><span class="ident" id="8382094">testing</span><span class="op" id="8382101">.</span><span class="ident" id="8382102">T</span><span class="op" id="8382103">)</span>&nbsp;<span class="op" id="8382105">{</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382108">for</span>&nbsp;<span class="ident" id="8382112">_</span><span class="op" id="8382113">,</span>&nbsp;<span class="ident" id="8382115">test</span>&nbsp;<span class="op" id="8382120">:=</span>&nbsp;<span class="keyword" id="8382123">range</span>&nbsp;<span class="ident" id="8382129">findTests</span>&nbsp;<span class="op" id="8382139">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382143">result</span>&nbsp;<span class="op" id="8382150">:=</span>&nbsp;<span class="ident" id="8382153">MustCompile</span><span class="op" id="8382164">(</span><span class="ident" id="8382165">test</span><span class="op" id="8382169">.</span><span class="ident" id="8382170">pat</span><span class="op" id="8382173">)</span><span class="op" id="8382174">.</span><span class="ident" id="8382175">FindAll</span><span class="op" id="8382182">(</span><span class="op" id="8382183">[</span><span class="op" id="8382184">]</span><span class="builtintype" id="8382185">byte</span><span class="op" id="8382189">(</span><span class="ident" id="8382190">test</span><span class="op" id="8382194">.</span><span class="ident" id="8382195">text</span><span class="op" id="8382199">)</span><span class="op" id="8382200">,</span>&nbsp;<span class="op" id="8382202">-</span><span class="num" id="8382203">1</span><span class="op" id="8382204">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382208">switch</span>&nbsp;<span class="op" id="8382215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382219">case</span>&nbsp;<span class="ident" id="8382224">test</span><span class="op" id="8382228">.</span><span class="ident" id="8382229">matches</span>&nbsp;<span class="op" id="8382237">==</span>&nbsp;<span class="builtintype" id="8382240">nil</span>&nbsp;<span class="op" id="8382244">&amp;&amp;</span>&nbsp;<span class="ident" id="8382247">result</span>&nbsp;<span class="op" id="8382254">==</span>&nbsp;<span class="builtintype" id="8382257">nil</span><span class="op" id="8382260">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8382265">//&nbsp;ok</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382273">case</span>&nbsp;<span class="ident" id="8382278">test</span><span class="op" id="8382282">.</span><span class="ident" id="8382283">matches</span>&nbsp;<span class="op" id="8382291">==</span>&nbsp;<span class="builtintype" id="8382294">nil</span>&nbsp;<span class="op" id="8382298">&amp;&amp;</span>&nbsp;<span class="ident" id="8382301">result</span>&nbsp;<span class="op" id="8382308">!=</span>&nbsp;<span class="builtintype" id="8382311">nil</span><span class="op" id="8382314">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382319">t</span><span class="op" id="8382320">.</span><span class="ident" id="8382321">Errorf</span><span class="op" id="8382327">(</span><span class="string" id="8382328">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8382360">,</span>&nbsp;<span class="ident" id="8382362">test</span><span class="op" id="8382366">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382370">case</span>&nbsp;<span class="ident" id="8382375">test</span><span class="op" id="8382379">.</span><span class="ident" id="8382380">matches</span>&nbsp;<span class="op" id="8382388">!=</span>&nbsp;<span class="builtintype" id="8382391">nil</span>&nbsp;<span class="op" id="8382395">&amp;&amp;</span>&nbsp;<span class="ident" id="8382398">result</span>&nbsp;<span class="op" id="8382405">==</span>&nbsp;<span class="builtintype" id="8382408">nil</span><span class="op" id="8382411">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382416">t</span><span class="op" id="8382417">.</span><span class="ident" id="8382418">Fatalf</span><span class="op" id="8382424">(</span><span class="string" id="8382425">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8382455">,</span>&nbsp;<span class="ident" id="8382457">test</span><span class="op" id="8382461">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382465">case</span>&nbsp;<span class="ident" id="8382470">test</span><span class="op" id="8382474">.</span><span class="ident" id="8382475">matches</span>&nbsp;<span class="op" id="8382483">!=</span>&nbsp;<span class="builtintype" id="8382486">nil</span>&nbsp;<span class="op" id="8382490">&amp;&amp;</span>&nbsp;<span class="ident" id="8382493">result</span>&nbsp;<span class="op" id="8382500">!=</span>&nbsp;<span class="builtintype" id="8382503">nil</span><span class="op" id="8382506">:</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382511">if</span>&nbsp;<span class="builtinfunc" id="8382514">len</span><span class="op" id="8382517">(</span><span class="ident" id="8382518">test</span><span class="op" id="8382522">.</span><span class="ident" id="8382523">matches</span><span class="op" id="8382530">)</span>&nbsp;<span class="op" id="8382532">!=</span>&nbsp;<span class="builtinfunc" id="8382535">len</span><span class="op" id="8382538">(</span><span class="ident" id="8382539">result</span><span class="op" id="8382545">)</span>&nbsp;<span class="op" id="8382547">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382553">t</span><span class="op" id="8382554">.</span><span class="ident" id="8382555">Errorf</span><span class="op" id="8382561">(</span><span class="string" id="8382562">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8382595">,</span>&nbsp;<span class="builtinfunc" id="8382597">len</span><span class="op" id="8382600">(</span><span class="ident" id="8382601">test</span><span class="op" id="8382605">.</span><span class="ident" id="8382606">matches</span><span class="op" id="8382613">)</span><span class="op" id="8382614">,</span>&nbsp;<span class="builtinfunc" id="8382616">len</span><span class="op" id="8382619">(</span><span class="ident" id="8382620">result</span><span class="op" id="8382626">)</span><span class="op" id="8382627">,</span>&nbsp;<span class="ident" id="8382629">test</span><span class="op" id="8382633">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382639">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382651">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382656">for</span>&nbsp;<span class="ident" id="8382660">k</span><span class="op" id="8382661">,</span>&nbsp;<span class="ident" id="8382663">e</span>&nbsp;<span class="op" id="8382665">:=</span>&nbsp;<span class="keyword" id="8382668">range</span>&nbsp;<span class="ident" id="8382674">test</span><span class="op" id="8382678">.</span><span class="ident" id="8382679">matches</span>&nbsp;<span class="op" id="8382687">{</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382693">expect</span>&nbsp;<span class="op" id="8382700">:=</span>&nbsp;<span class="ident" id="8382703">test</span><span class="op" id="8382707">.</span><span class="ident" id="8382708">text</span><span class="op" id="8382712">[</span><span class="ident" id="8382713">e</span><span class="op" id="8382714">[</span><span class="num" id="8382715">0</span><span class="op" id="8382716">]</span><span class="op" id="8382717">:</span><span class="ident" id="8382718">e</span><span class="op" id="8382719">[</span><span class="num" id="8382720">1</span><span class="op" id="8382721">]</span><span class="op" id="8382722">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382728">if</span>&nbsp;<span class="ident" id="8382731">expect</span>&nbsp;<span class="op" id="8382738">!=</span>&nbsp;<span class="builtintype" id="8382741">string</span><span class="op" id="8382747">(</span><span class="ident" id="8382748">result</span><span class="op" id="8382754">[</span><span class="ident" id="8382755">k</span><span class="op" id="8382756">]</span><span class="op" id="8382757">)</span>&nbsp;<span class="op" id="8382759">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382766">t</span><span class="op" id="8382767">.</span><span class="ident" id="8382768">Errorf</span><span class="op" id="8382774">(</span><span class="string" id="8382775">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8382809">,</span>&nbsp;<span class="ident" id="8382811">k</span><span class="op" id="8382812">,</span>&nbsp;<span class="ident" id="8382814">expect</span><span class="op" id="8382820">,</span>&nbsp;<span class="ident" id="8382822">result</span><span class="op" id="8382828">[</span><span class="ident" id="8382829">k</span><span class="op" id="8382830">]</span><span class="op" id="8382831">,</span>&nbsp;<span class="ident" id="8382833">test</span><span class="op" id="8382837">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382843">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382848">}</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382852">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8382855">}</span><br>
<span class="lineno"></span><span class="op" id="8382857">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8382860">func</span>&nbsp;<span class="ident" id="8382865">TestFindAllString</span><span class="op" id="8382882">(</span><span class="ident" id="8382883">t</span>&nbsp;<span class="op" id="8382885">*</span><span class="ident" id="8382886">testing</span><span class="op" id="8382893">.</span><span class="ident" id="8382894">T</span><span class="op" id="8382895">)</span>&nbsp;<span class="op" id="8382897">{</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382900">for</span>&nbsp;<span class="ident" id="8382904">_</span><span class="op" id="8382905">,</span>&nbsp;<span class="ident" id="8382907">test</span>&nbsp;<span class="op" id="8382912">:=</span>&nbsp;<span class="keyword" id="8382915">range</span>&nbsp;<span class="ident" id="8382921">findTests</span>&nbsp;<span class="op" id="8382931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8382935">result</span>&nbsp;<span class="op" id="8382942">:=</span>&nbsp;<span class="ident" id="8382945">MustCompile</span><span class="op" id="8382956">(</span><span class="ident" id="8382957">test</span><span class="op" id="8382961">.</span><span class="ident" id="8382962">pat</span><span class="op" id="8382965">)</span><span class="op" id="8382966">.</span><span class="ident" id="8382967">FindAllString</span><span class="op" id="8382980">(</span><span class="ident" id="8382981">test</span><span class="op" id="8382985">.</span><span class="ident" id="8382986">text</span><span class="op" id="8382990">,</span>&nbsp;<span class="op" id="8382992">-</span><span class="num" id="8382993">1</span><span class="op" id="8382994">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8382998">switch</span>&nbsp;<span class="op" id="8383005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383009">case</span>&nbsp;<span class="ident" id="8383014">test</span><span class="op" id="8383018">.</span><span class="ident" id="8383019">matches</span>&nbsp;<span class="op" id="8383027">==</span>&nbsp;<span class="builtintype" id="8383030">nil</span>&nbsp;<span class="op" id="8383034">&amp;&amp;</span>&nbsp;<span class="ident" id="8383037">result</span>&nbsp;<span class="op" id="8383044">==</span>&nbsp;<span class="builtintype" id="8383047">nil</span><span class="op" id="8383050">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8383055">//&nbsp;ok</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383063">case</span>&nbsp;<span class="ident" id="8383068">test</span><span class="op" id="8383072">.</span><span class="ident" id="8383073">matches</span>&nbsp;<span class="op" id="8383081">==</span>&nbsp;<span class="builtintype" id="8383084">nil</span>&nbsp;<span class="op" id="8383088">&amp;&amp;</span>&nbsp;<span class="ident" id="8383091">result</span>&nbsp;<span class="op" id="8383098">!=</span>&nbsp;<span class="builtintype" id="8383101">nil</span><span class="op" id="8383104">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383109">t</span><span class="op" id="8383110">.</span><span class="ident" id="8383111">Errorf</span><span class="op" id="8383117">(</span><span class="string" id="8383118">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8383150">,</span>&nbsp;<span class="ident" id="8383152">test</span><span class="op" id="8383156">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383160">case</span>&nbsp;<span class="ident" id="8383165">test</span><span class="op" id="8383169">.</span><span class="ident" id="8383170">matches</span>&nbsp;<span class="op" id="8383178">!=</span>&nbsp;<span class="builtintype" id="8383181">nil</span>&nbsp;<span class="op" id="8383185">&amp;&amp;</span>&nbsp;<span class="ident" id="8383188">result</span>&nbsp;<span class="op" id="8383195">==</span>&nbsp;<span class="builtintype" id="8383198">nil</span><span class="op" id="8383201">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383206">t</span><span class="op" id="8383207">.</span><span class="ident" id="8383208">Errorf</span><span class="op" id="8383214">(</span><span class="string" id="8383215">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8383245">,</span>&nbsp;<span class="ident" id="8383247">test</span><span class="op" id="8383251">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383255">case</span>&nbsp;<span class="ident" id="8383260">test</span><span class="op" id="8383264">.</span><span class="ident" id="8383265">matches</span>&nbsp;<span class="op" id="8383273">!=</span>&nbsp;<span class="builtintype" id="8383276">nil</span>&nbsp;<span class="op" id="8383280">&amp;&amp;</span>&nbsp;<span class="ident" id="8383283">result</span>&nbsp;<span class="op" id="8383290">!=</span>&nbsp;<span class="builtintype" id="8383293">nil</span><span class="op" id="8383296">:</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383301">if</span>&nbsp;<span class="builtinfunc" id="8383304">len</span><span class="op" id="8383307">(</span><span class="ident" id="8383308">test</span><span class="op" id="8383312">.</span><span class="ident" id="8383313">matches</span><span class="op" id="8383320">)</span>&nbsp;<span class="op" id="8383322">!=</span>&nbsp;<span class="builtinfunc" id="8383325">len</span><span class="op" id="8383328">(</span><span class="ident" id="8383329">result</span><span class="op" id="8383335">)</span>&nbsp;<span class="op" id="8383337">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383343">t</span><span class="op" id="8383344">.</span><span class="ident" id="8383345">Errorf</span><span class="op" id="8383351">(</span><span class="string" id="8383352">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8383385">,</span>&nbsp;<span class="builtinfunc" id="8383387">len</span><span class="op" id="8383390">(</span><span class="ident" id="8383391">test</span><span class="op" id="8383395">.</span><span class="ident" id="8383396">matches</span><span class="op" id="8383403">)</span><span class="op" id="8383404">,</span>&nbsp;<span class="builtinfunc" id="8383406">len</span><span class="op" id="8383409">(</span><span class="ident" id="8383410">result</span><span class="op" id="8383416">)</span><span class="op" id="8383417">,</span>&nbsp;<span class="ident" id="8383419">test</span><span class="op" id="8383423">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383429">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383441">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383446">for</span>&nbsp;<span class="ident" id="8383450">k</span><span class="op" id="8383451">,</span>&nbsp;<span class="ident" id="8383453">e</span>&nbsp;<span class="op" id="8383455">:=</span>&nbsp;<span class="keyword" id="8383458">range</span>&nbsp;<span class="ident" id="8383464">test</span><span class="op" id="8383468">.</span><span class="ident" id="8383469">matches</span>&nbsp;<span class="op" id="8383477">{</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383483">expect</span>&nbsp;<span class="op" id="8383490">:=</span>&nbsp;<span class="ident" id="8383493">test</span><span class="op" id="8383497">.</span><span class="ident" id="8383498">text</span><span class="op" id="8383502">[</span><span class="ident" id="8383503">e</span><span class="op" id="8383504">[</span><span class="num" id="8383505">0</span><span class="op" id="8383506">]</span><span class="op" id="8383507">:</span><span class="ident" id="8383508">e</span><span class="op" id="8383509">[</span><span class="num" id="8383510">1</span><span class="op" id="8383511">]</span><span class="op" id="8383512">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383518">if</span>&nbsp;<span class="ident" id="8383521">expect</span>&nbsp;<span class="op" id="8383528">!=</span>&nbsp;<span class="ident" id="8383531">result</span><span class="op" id="8383537">[</span><span class="ident" id="8383538">k</span><span class="op" id="8383539">]</span>&nbsp;<span class="op" id="8383541">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383548">t</span><span class="op" id="8383549">.</span><span class="ident" id="8383550">Errorf</span><span class="op" id="8383556">(</span><span class="string" id="8383557">&#34;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8383581">,</span>&nbsp;<span class="ident" id="8383583">expect</span><span class="op" id="8383589">,</span>&nbsp;<span class="ident" id="8383591">result</span><span class="op" id="8383597">,</span>&nbsp;<span class="ident" id="8383599">test</span><span class="op" id="8383603">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383614">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383618">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8383621">}</span><br>
<span class="lineno"></span><span class="op" id="8383623">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8383626">func</span>&nbsp;<span class="ident" id="8383631">testFindAllIndex</span><span class="op" id="8383647">(</span><span class="ident" id="8383648">test</span>&nbsp;<span class="op" id="8383653">*</span><span class="ident" id="8383654">FindTest</span><span class="op" id="8383662">,</span>&nbsp;<span class="ident" id="8383664">result</span>&nbsp;<span class="op" id="8383671">[</span><span class="op" id="8383672">]</span><span class="op" id="8383673">[</span><span class="op" id="8383674">]</span><span class="builtintype" id="8383675">int</span><span class="op" id="8383678">,</span>&nbsp;<span class="ident" id="8383680">t</span>&nbsp;<span class="op" id="8383682">*</span><span class="ident" id="8383683">testing</span><span class="op" id="8383690">.</span><span class="ident" id="8383691">T</span><span class="op" id="8383692">)</span>&nbsp;<span class="op" id="8383694">{</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383697">switch</span>&nbsp;<span class="op" id="8383704">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383707">case</span>&nbsp;<span class="ident" id="8383712">test</span><span class="op" id="8383716">.</span><span class="ident" id="8383717">matches</span>&nbsp;<span class="op" id="8383725">==</span>&nbsp;<span class="builtintype" id="8383728">nil</span>&nbsp;<span class="op" id="8383732">&amp;&amp;</span>&nbsp;<span class="ident" id="8383735">result</span>&nbsp;<span class="op" id="8383742">==</span>&nbsp;<span class="builtintype" id="8383745">nil</span><span class="op" id="8383748">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8383752">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383759">case</span>&nbsp;<span class="ident" id="8383764">test</span><span class="op" id="8383768">.</span><span class="ident" id="8383769">matches</span>&nbsp;<span class="op" id="8383777">==</span>&nbsp;<span class="builtintype" id="8383780">nil</span>&nbsp;<span class="op" id="8383784">&amp;&amp;</span>&nbsp;<span class="ident" id="8383787">result</span>&nbsp;<span class="op" id="8383794">!=</span>&nbsp;<span class="builtintype" id="8383797">nil</span><span class="op" id="8383800">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383804">t</span><span class="op" id="8383805">.</span><span class="ident" id="8383806">Errorf</span><span class="op" id="8383812">(</span><span class="string" id="8383813">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8383845">,</span>&nbsp;<span class="ident" id="8383847">test</span><span class="op" id="8383851">)</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383854">case</span>&nbsp;<span class="ident" id="8383859">test</span><span class="op" id="8383863">.</span><span class="ident" id="8383864">matches</span>&nbsp;<span class="op" id="8383872">!=</span>&nbsp;<span class="builtintype" id="8383875">nil</span>&nbsp;<span class="op" id="8383879">&amp;&amp;</span>&nbsp;<span class="ident" id="8383882">result</span>&nbsp;<span class="op" id="8383889">==</span>&nbsp;<span class="builtintype" id="8383892">nil</span><span class="op" id="8383895">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8383899">t</span><span class="op" id="8383900">.</span><span class="ident" id="8383901">Errorf</span><span class="op" id="8383907">(</span><span class="string" id="8383908">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8383938">,</span>&nbsp;<span class="ident" id="8383940">test</span><span class="op" id="8383944">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383947">case</span>&nbsp;<span class="ident" id="8383952">test</span><span class="op" id="8383956">.</span><span class="ident" id="8383957">matches</span>&nbsp;<span class="op" id="8383965">!=</span>&nbsp;<span class="builtintype" id="8383968">nil</span>&nbsp;<span class="op" id="8383972">&amp;&amp;</span>&nbsp;<span class="ident" id="8383975">result</span>&nbsp;<span class="op" id="8383982">!=</span>&nbsp;<span class="builtintype" id="8383985">nil</span><span class="op" id="8383988">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8383992">if</span>&nbsp;<span class="builtinfunc" id="8383995">len</span><span class="op" id="8383998">(</span><span class="ident" id="8383999">test</span><span class="op" id="8384003">.</span><span class="ident" id="8384004">matches</span><span class="op" id="8384011">)</span>&nbsp;<span class="op" id="8384013">!=</span>&nbsp;<span class="builtinfunc" id="8384016">len</span><span class="op" id="8384019">(</span><span class="ident" id="8384020">result</span><span class="op" id="8384026">)</span>&nbsp;<span class="op" id="8384028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384033">t</span><span class="op" id="8384034">.</span><span class="ident" id="8384035">Errorf</span><span class="op" id="8384041">(</span><span class="string" id="8384042">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8384075">,</span>&nbsp;<span class="builtinfunc" id="8384077">len</span><span class="op" id="8384080">(</span><span class="ident" id="8384081">test</span><span class="op" id="8384085">.</span><span class="ident" id="8384086">matches</span><span class="op" id="8384093">)</span><span class="op" id="8384094">,</span>&nbsp;<span class="builtinfunc" id="8384096">len</span><span class="op" id="8384099">(</span><span class="ident" id="8384100">result</span><span class="op" id="8384106">)</span><span class="op" id="8384107">,</span>&nbsp;<span class="ident" id="8384109">test</span><span class="op" id="8384113">)</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384118">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384131">for</span>&nbsp;<span class="ident" id="8384135">k</span><span class="op" id="8384136">,</span>&nbsp;<span class="ident" id="8384138">e</span>&nbsp;<span class="op" id="8384140">:=</span>&nbsp;<span class="keyword" id="8384143">range</span>&nbsp;<span class="ident" id="8384149">test</span><span class="op" id="8384153">.</span><span class="ident" id="8384154">matches</span>&nbsp;<span class="op" id="8384162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384167">if</span>&nbsp;<span class="ident" id="8384170">e</span><span class="op" id="8384171">[</span><span class="num" id="8384172">0</span><span class="op" id="8384173">]</span>&nbsp;<span class="op" id="8384175">!=</span>&nbsp;<span class="ident" id="8384178">result</span><span class="op" id="8384184">[</span><span class="ident" id="8384185">k</span><span class="op" id="8384186">]</span><span class="op" id="8384187">[</span><span class="num" id="8384188">0</span><span class="op" id="8384189">]</span>&nbsp;<span class="op" id="8384191">||</span>&nbsp;<span class="ident" id="8384194">e</span><span class="op" id="8384195">[</span><span class="num" id="8384196">1</span><span class="op" id="8384197">]</span>&nbsp;<span class="op" id="8384199">!=</span>&nbsp;<span class="ident" id="8384202">result</span><span class="op" id="8384208">[</span><span class="ident" id="8384209">k</span><span class="op" id="8384210">]</span><span class="op" id="8384211">[</span><span class="num" id="8384212">1</span><span class="op" id="8384213">]</span>&nbsp;<span class="op" id="8384215">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384221">t</span><span class="op" id="8384222">.</span><span class="ident" id="8384223">Errorf</span><span class="op" id="8384229">(</span><span class="string" id="8384230">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8384264">,</span>&nbsp;<span class="ident" id="8384266">k</span><span class="op" id="8384267">,</span>&nbsp;<span class="ident" id="8384269">e</span><span class="op" id="8384270">,</span>&nbsp;<span class="ident" id="8384272">result</span><span class="op" id="8384278">[</span><span class="ident" id="8384279">k</span><span class="op" id="8384280">]</span><span class="op" id="8384281">,</span>&nbsp;<span class="ident" id="8384283">test</span><span class="op" id="8384287">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384292">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384296">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384299">}</span><br>
<span class="lineno"></span><span class="op" id="8384301">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">300</span><span class="keyword" id="8384304">func</span>&nbsp;<span class="ident" id="8384309">TestFindAllIndex</span><span class="op" id="8384325">(</span><span class="ident" id="8384326">t</span>&nbsp;<span class="op" id="8384328">*</span><span class="ident" id="8384329">testing</span><span class="op" id="8384336">.</span><span class="ident" id="8384337">T</span><span class="op" id="8384338">)</span>&nbsp;<span class="op" id="8384340">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384343">for</span>&nbsp;<span class="ident" id="8384347">_</span><span class="op" id="8384348">,</span>&nbsp;<span class="ident" id="8384350">test</span>&nbsp;<span class="op" id="8384355">:=</span>&nbsp;<span class="keyword" id="8384358">range</span>&nbsp;<span class="ident" id="8384364">findTests</span>&nbsp;<span class="op" id="8384374">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384378">testFindAllIndex</span><span class="op" id="8384394">(</span><span class="op" id="8384395">&amp;</span><span class="ident" id="8384396">test</span><span class="op" id="8384400">,</span>&nbsp;<span class="ident" id="8384402">MustCompile</span><span class="op" id="8384413">(</span><span class="ident" id="8384414">test</span><span class="op" id="8384418">.</span><span class="ident" id="8384419">pat</span><span class="op" id="8384422">)</span><span class="op" id="8384423">.</span><span class="ident" id="8384424">FindAllIndex</span><span class="op" id="8384436">(</span><span class="op" id="8384437">[</span><span class="op" id="8384438">]</span><span class="builtintype" id="8384439">byte</span><span class="op" id="8384443">(</span><span class="ident" id="8384444">test</span><span class="op" id="8384448">.</span><span class="ident" id="8384449">text</span><span class="op" id="8384453">)</span><span class="op" id="8384454">,</span>&nbsp;<span class="op" id="8384456">-</span><span class="num" id="8384457">1</span><span class="op" id="8384458">)</span><span class="op" id="8384459">,</span>&nbsp;<span class="ident" id="8384461">t</span><span class="op" id="8384462">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384465">}</span><br>
<span class="lineno"></span><span class="op" id="8384467">}</span><br>
<span class="lineno">305</span><br>
<span class="lineno"></span><span class="keyword" id="8384470">func</span>&nbsp;<span class="ident" id="8384475">TestFindAllStringIndex</span><span class="op" id="8384497">(</span><span class="ident" id="8384498">t</span>&nbsp;<span class="op" id="8384500">*</span><span class="ident" id="8384501">testing</span><span class="op" id="8384508">.</span><span class="ident" id="8384509">T</span><span class="op" id="8384510">)</span>&nbsp;<span class="op" id="8384512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384515">for</span>&nbsp;<span class="ident" id="8384519">_</span><span class="op" id="8384520">,</span>&nbsp;<span class="ident" id="8384522">test</span>&nbsp;<span class="op" id="8384527">:=</span>&nbsp;<span class="keyword" id="8384530">range</span>&nbsp;<span class="ident" id="8384536">findTests</span>&nbsp;<span class="op" id="8384546">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384550">testFindAllIndex</span><span class="op" id="8384566">(</span><span class="op" id="8384567">&amp;</span><span class="ident" id="8384568">test</span><span class="op" id="8384572">,</span>&nbsp;<span class="ident" id="8384574">MustCompile</span><span class="op" id="8384585">(</span><span class="ident" id="8384586">test</span><span class="op" id="8384590">.</span><span class="ident" id="8384591">pat</span><span class="op" id="8384594">)</span><span class="op" id="8384595">.</span><span class="ident" id="8384596">FindAllStringIndex</span><span class="op" id="8384614">(</span><span class="ident" id="8384615">test</span><span class="op" id="8384619">.</span><span class="ident" id="8384620">text</span><span class="op" id="8384624">,</span>&nbsp;<span class="op" id="8384626">-</span><span class="num" id="8384627">1</span><span class="op" id="8384628">)</span><span class="op" id="8384629">,</span>&nbsp;<span class="ident" id="8384631">t</span><span class="op" id="8384632">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384635">}</span><br>
<span class="lineno">310</span><span class="op" id="8384637">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8384640">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;Submatch&nbsp;cases.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8384673">func</span>&nbsp;<span class="ident" id="8384678">testSubmatchBytes</span><span class="op" id="8384695">(</span><span class="ident" id="8384696">test</span>&nbsp;<span class="op" id="8384701">*</span><span class="ident" id="8384702">FindTest</span><span class="op" id="8384710">,</span>&nbsp;<span class="ident" id="8384712">n</span>&nbsp;<span class="builtintype" id="8384714">int</span><span class="op" id="8384717">,</span>&nbsp;<span class="ident" id="8384719">submatches</span>&nbsp;<span class="op" id="8384730">[</span><span class="op" id="8384731">]</span><span class="builtintype" id="8384732">int</span><span class="op" id="8384735">,</span>&nbsp;<span class="ident" id="8384737">result</span>&nbsp;<span class="op" id="8384744">[</span><span class="op" id="8384745">]</span><span class="op" id="8384746">[</span><span class="op" id="8384747">]</span><span class="builtintype" id="8384748">byte</span><span class="op" id="8384752">,</span>&nbsp;<span class="ident" id="8384754">t</span>&nbsp;<span class="op" id="8384756">*</span><span class="ident" id="8384757">testing</span><span class="op" id="8384764">.</span><span class="ident" id="8384765">T</span><span class="op" id="8384766">)</span>&nbsp;<span class="op" id="8384768">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384771">if</span>&nbsp;<span class="builtinfunc" id="8384774">len</span><span class="op" id="8384777">(</span><span class="ident" id="8384778">submatches</span><span class="op" id="8384788">)</span>&nbsp;<span class="op" id="8384790">!=</span>&nbsp;<span class="builtinfunc" id="8384793">len</span><span class="op" id="8384796">(</span><span class="ident" id="8384797">result</span><span class="op" id="8384803">)</span><span class="op" id="8384804">*</span><span class="num" id="8384805">2</span>&nbsp;<span class="op" id="8384807">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8384811">t</span><span class="op" id="8384812">.</span><span class="ident" id="8384813">Errorf</span><span class="op" id="8384819">(</span><span class="string" id="8384820">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8384866">,</span>&nbsp;<span class="ident" id="8384868">n</span><span class="op" id="8384869">,</span>&nbsp;<span class="builtinfunc" id="8384871">len</span><span class="op" id="8384874">(</span><span class="ident" id="8384875">submatches</span><span class="op" id="8384885">)</span><span class="op" id="8384886">/</span><span class="num" id="8384887">2</span><span class="op" id="8384888">,</span>&nbsp;<span class="builtinfunc" id="8384890">len</span><span class="op" id="8384893">(</span><span class="ident" id="8384894">result</span><span class="op" id="8384900">)</span><span class="op" id="8384901">,</span>&nbsp;<span class="ident" id="8384903">test</span><span class="op" id="8384907">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384911">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8384919">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384922">for</span>&nbsp;<span class="ident" id="8384926">k</span>&nbsp;<span class="op" id="8384928">:=</span>&nbsp;<span class="num" id="8384931">0</span><span class="op" id="8384932">;</span>&nbsp;<span class="ident" id="8384934">k</span>&nbsp;<span class="op" id="8384936">&lt;</span>&nbsp;<span class="builtinfunc" id="8384938">len</span><span class="op" id="8384941">(</span><span class="ident" id="8384942">submatches</span><span class="op" id="8384952">)</span><span class="op" id="8384953">;</span>&nbsp;<span class="ident" id="8384955">k</span>&nbsp;<span class="op" id="8384957">+=</span>&nbsp;<span class="num" id="8384960">2</span>&nbsp;<span class="op" id="8384962">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384966">if</span>&nbsp;<span class="ident" id="8384969">submatches</span><span class="op" id="8384979">[</span><span class="ident" id="8384980">k</span><span class="op" id="8384981">]</span>&nbsp;<span class="op" id="8384983">==</span>&nbsp;<span class="op" id="8384986">-</span><span class="num" id="8384987">1</span>&nbsp;<span class="op" id="8384989">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8384994">if</span>&nbsp;<span class="ident" id="8384997">result</span><span class="op" id="8385003">[</span><span class="ident" id="8385004">k</span><span class="op" id="8385005">/</span><span class="num" id="8385006">2</span><span class="op" id="8385007">]</span>&nbsp;<span class="op" id="8385009">!=</span>&nbsp;<span class="builtintype" id="8385012">nil</span>&nbsp;<span class="op" id="8385016">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385022">t</span><span class="op" id="8385023">.</span><span class="ident" id="8385024">Errorf</span><span class="op" id="8385030">(</span><span class="string" id="8385031">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8385066">,</span>&nbsp;<span class="ident" id="8385068">n</span><span class="op" id="8385069">,</span>&nbsp;<span class="ident" id="8385071">result</span><span class="op" id="8385077">,</span>&nbsp;<span class="ident" id="8385079">test</span><span class="op" id="8385083">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385088">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385093">continue</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385104">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385108">expect</span>&nbsp;<span class="op" id="8385115">:=</span>&nbsp;<span class="ident" id="8385118">test</span><span class="op" id="8385122">.</span><span class="ident" id="8385123">text</span><span class="op" id="8385127">[</span><span class="ident" id="8385128">submatches</span><span class="op" id="8385138">[</span><span class="ident" id="8385139">k</span><span class="op" id="8385140">]</span><span class="op" id="8385141">:</span><span class="ident" id="8385142">submatches</span><span class="op" id="8385152">[</span><span class="ident" id="8385153">k</span><span class="op" id="8385154">+</span><span class="num" id="8385155">1</span><span class="op" id="8385156">]</span><span class="op" id="8385157">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385161">if</span>&nbsp;<span class="ident" id="8385164">expect</span>&nbsp;<span class="op" id="8385171">!=</span>&nbsp;<span class="builtintype" id="8385174">string</span><span class="op" id="8385180">(</span><span class="ident" id="8385181">result</span><span class="op" id="8385187">[</span><span class="ident" id="8385188">k</span><span class="op" id="8385189">/</span><span class="num" id="8385190">2</span><span class="op" id="8385191">]</span><span class="op" id="8385192">)</span>&nbsp;<span class="op" id="8385194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385199">t</span><span class="op" id="8385200">.</span><span class="ident" id="8385201">Errorf</span><span class="op" id="8385207">(</span><span class="string" id="8385208">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8385242">,</span>&nbsp;<span class="ident" id="8385244">n</span><span class="op" id="8385245">,</span>&nbsp;<span class="ident" id="8385247">expect</span><span class="op" id="8385253">,</span>&nbsp;<span class="ident" id="8385255">result</span><span class="op" id="8385261">,</span>&nbsp;<span class="ident" id="8385263">test</span><span class="op" id="8385267">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385272">return</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385281">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385284">}</span><br>
<span class="lineno"></span><span class="op" id="8385286">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8385289">func</span>&nbsp;<span class="ident" id="8385294">TestFindSubmatch</span><span class="op" id="8385310">(</span><span class="ident" id="8385311">t</span>&nbsp;<span class="op" id="8385313">*</span><span class="ident" id="8385314">testing</span><span class="op" id="8385321">.</span><span class="ident" id="8385322">T</span><span class="op" id="8385323">)</span>&nbsp;<span class="op" id="8385325">{</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385328">for</span>&nbsp;<span class="ident" id="8385332">_</span><span class="op" id="8385333">,</span>&nbsp;<span class="ident" id="8385335">test</span>&nbsp;<span class="op" id="8385340">:=</span>&nbsp;<span class="keyword" id="8385343">range</span>&nbsp;<span class="ident" id="8385349">findTests</span>&nbsp;<span class="op" id="8385359">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385363">result</span>&nbsp;<span class="op" id="8385370">:=</span>&nbsp;<span class="ident" id="8385373">MustCompile</span><span class="op" id="8385384">(</span><span class="ident" id="8385385">test</span><span class="op" id="8385389">.</span><span class="ident" id="8385390">pat</span><span class="op" id="8385393">)</span><span class="op" id="8385394">.</span><span class="ident" id="8385395">FindSubmatch</span><span class="op" id="8385407">(</span><span class="op" id="8385408">[</span><span class="op" id="8385409">]</span><span class="builtintype" id="8385410">byte</span><span class="op" id="8385414">(</span><span class="ident" id="8385415">test</span><span class="op" id="8385419">.</span><span class="ident" id="8385420">text</span><span class="op" id="8385424">)</span><span class="op" id="8385425">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385429">switch</span>&nbsp;<span class="op" id="8385436">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385440">case</span>&nbsp;<span class="ident" id="8385445">test</span><span class="op" id="8385449">.</span><span class="ident" id="8385450">matches</span>&nbsp;<span class="op" id="8385458">==</span>&nbsp;<span class="builtintype" id="8385461">nil</span>&nbsp;<span class="op" id="8385465">&amp;&amp;</span>&nbsp;<span class="ident" id="8385468">result</span>&nbsp;<span class="op" id="8385475">==</span>&nbsp;<span class="builtintype" id="8385478">nil</span><span class="op" id="8385481">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8385486">//&nbsp;ok</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385494">case</span>&nbsp;<span class="ident" id="8385499">test</span><span class="op" id="8385503">.</span><span class="ident" id="8385504">matches</span>&nbsp;<span class="op" id="8385512">==</span>&nbsp;<span class="builtintype" id="8385515">nil</span>&nbsp;<span class="op" id="8385519">&amp;&amp;</span>&nbsp;<span class="ident" id="8385522">result</span>&nbsp;<span class="op" id="8385529">!=</span>&nbsp;<span class="builtintype" id="8385532">nil</span><span class="op" id="8385535">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385540">t</span><span class="op" id="8385541">.</span><span class="ident" id="8385542">Errorf</span><span class="op" id="8385548">(</span><span class="string" id="8385549">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8385581">,</span>&nbsp;<span class="ident" id="8385583">test</span><span class="op" id="8385587">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385591">case</span>&nbsp;<span class="ident" id="8385596">test</span><span class="op" id="8385600">.</span><span class="ident" id="8385601">matches</span>&nbsp;<span class="op" id="8385609">!=</span>&nbsp;<span class="builtintype" id="8385612">nil</span>&nbsp;<span class="op" id="8385616">&amp;&amp;</span>&nbsp;<span class="ident" id="8385619">result</span>&nbsp;<span class="op" id="8385626">==</span>&nbsp;<span class="builtintype" id="8385629">nil</span><span class="op" id="8385632">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385637">t</span><span class="op" id="8385638">.</span><span class="ident" id="8385639">Errorf</span><span class="op" id="8385645">(</span><span class="string" id="8385646">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8385676">,</span>&nbsp;<span class="ident" id="8385678">test</span><span class="op" id="8385682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385686">case</span>&nbsp;<span class="ident" id="8385691">test</span><span class="op" id="8385695">.</span><span class="ident" id="8385696">matches</span>&nbsp;<span class="op" id="8385704">!=</span>&nbsp;<span class="builtintype" id="8385707">nil</span>&nbsp;<span class="op" id="8385711">&amp;&amp;</span>&nbsp;<span class="ident" id="8385714">result</span>&nbsp;<span class="op" id="8385721">!=</span>&nbsp;<span class="builtintype" id="8385724">nil</span><span class="op" id="8385727">:</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385732">testSubmatchBytes</span><span class="op" id="8385749">(</span><span class="op" id="8385750">&amp;</span><span class="ident" id="8385751">test</span><span class="op" id="8385755">,</span>&nbsp;<span class="num" id="8385757">0</span><span class="op" id="8385758">,</span>&nbsp;<span class="ident" id="8385760">test</span><span class="op" id="8385764">.</span><span class="ident" id="8385765">matches</span><span class="op" id="8385772">[</span><span class="num" id="8385773">0</span><span class="op" id="8385774">]</span><span class="op" id="8385775">,</span>&nbsp;<span class="ident" id="8385777">result</span><span class="op" id="8385783">,</span>&nbsp;<span class="ident" id="8385785">t</span><span class="op" id="8385786">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385790">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8385793">}</span><br>
<span class="lineno"></span><span class="op" id="8385795">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">350</span><span class="keyword" id="8385798">func</span>&nbsp;<span class="ident" id="8385803">testSubmatchString</span><span class="op" id="8385821">(</span><span class="ident" id="8385822">test</span>&nbsp;<span class="op" id="8385827">*</span><span class="ident" id="8385828">FindTest</span><span class="op" id="8385836">,</span>&nbsp;<span class="ident" id="8385838">n</span>&nbsp;<span class="builtintype" id="8385840">int</span><span class="op" id="8385843">,</span>&nbsp;<span class="ident" id="8385845">submatches</span>&nbsp;<span class="op" id="8385856">[</span><span class="op" id="8385857">]</span><span class="builtintype" id="8385858">int</span><span class="op" id="8385861">,</span>&nbsp;<span class="ident" id="8385863">result</span>&nbsp;<span class="op" id="8385870">[</span><span class="op" id="8385871">]</span><span class="builtintype" id="8385872">string</span><span class="op" id="8385878">,</span>&nbsp;<span class="ident" id="8385880">t</span>&nbsp;<span class="op" id="8385882">*</span><span class="ident" id="8385883">testing</span><span class="op" id="8385890">.</span><span class="ident" id="8385891">T</span><span class="op" id="8385892">)</span>&nbsp;<span class="op" id="8385894">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8385897">if</span>&nbsp;<span class="builtinfunc" id="8385900">len</span><span class="op" id="8385903">(</span><span class="ident" id="8385904">submatches</span><span class="op" id="8385914">)</span>&nbsp;<span class="op" id="8385916">!=</span>&nbsp;<span class="builtinfunc" id="8385919">len</span><span class="op" id="8385922">(</span><span class="ident" id="8385923">result</span><span class="op" id="8385929">)</span><span class="op" id="8385930">*</span><span class="num" id="8385931">2</span>&nbsp;<span class="op" id="8385933">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8385937">t</span><span class="op" id="8385938">.</span><span class="ident" id="8385939">Errorf</span><span class="op" id="8385945">(</span><span class="string" id="8385946">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;submatches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8385992">,</span>&nbsp;<span class="ident" id="8385994">n</span><span class="op" id="8385995">,</span>&nbsp;<span class="builtinfunc" id="8385997">len</span><span class="op" id="8386000">(</span><span class="ident" id="8386001">submatches</span><span class="op" id="8386011">)</span><span class="op" id="8386012">/</span><span class="num" id="8386013">2</span><span class="op" id="8386014">,</span>&nbsp;<span class="builtinfunc" id="8386016">len</span><span class="op" id="8386019">(</span><span class="ident" id="8386020">result</span><span class="op" id="8386026">)</span><span class="op" id="8386027">,</span>&nbsp;<span class="ident" id="8386029">test</span><span class="op" id="8386033">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386037">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386045">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386048">for</span>&nbsp;<span class="ident" id="8386052">k</span>&nbsp;<span class="op" id="8386054">:=</span>&nbsp;<span class="num" id="8386057">0</span><span class="op" id="8386058">;</span>&nbsp;<span class="ident" id="8386060">k</span>&nbsp;<span class="op" id="8386062">&lt;</span>&nbsp;<span class="builtinfunc" id="8386064">len</span><span class="op" id="8386067">(</span><span class="ident" id="8386068">submatches</span><span class="op" id="8386078">)</span><span class="op" id="8386079">;</span>&nbsp;<span class="ident" id="8386081">k</span>&nbsp;<span class="op" id="8386083">+=</span>&nbsp;<span class="num" id="8386086">2</span>&nbsp;<span class="op" id="8386088">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386092">if</span>&nbsp;<span class="ident" id="8386095">submatches</span><span class="op" id="8386105">[</span><span class="ident" id="8386106">k</span><span class="op" id="8386107">]</span>&nbsp;<span class="op" id="8386109">==</span>&nbsp;<span class="op" id="8386112">-</span><span class="num" id="8386113">1</span>&nbsp;<span class="op" id="8386115">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386120">if</span>&nbsp;<span class="ident" id="8386123">result</span><span class="op" id="8386129">[</span><span class="ident" id="8386130">k</span><span class="op" id="8386131">/</span><span class="num" id="8386132">2</span><span class="op" id="8386133">]</span>&nbsp;<span class="op" id="8386135">!=</span>&nbsp;<span class="string" id="8386138">&#34;&#34;</span>&nbsp;<span class="op" id="8386141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386147">t</span><span class="op" id="8386148">.</span><span class="ident" id="8386149">Errorf</span><span class="op" id="8386155">(</span><span class="string" id="8386156">&#34;match&nbsp;%d:&nbsp;expected&nbsp;nil&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8386191">,</span>&nbsp;<span class="ident" id="8386193">n</span><span class="op" id="8386194">,</span>&nbsp;<span class="ident" id="8386196">result</span><span class="op" id="8386202">,</span>&nbsp;<span class="ident" id="8386204">test</span><span class="op" id="8386208">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386213">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386218">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386229">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386233">expect</span>&nbsp;<span class="op" id="8386240">:=</span>&nbsp;<span class="ident" id="8386243">test</span><span class="op" id="8386247">.</span><span class="ident" id="8386248">text</span><span class="op" id="8386252">[</span><span class="ident" id="8386253">submatches</span><span class="op" id="8386263">[</span><span class="ident" id="8386264">k</span><span class="op" id="8386265">]</span><span class="op" id="8386266">:</span><span class="ident" id="8386267">submatches</span><span class="op" id="8386277">[</span><span class="ident" id="8386278">k</span><span class="op" id="8386279">+</span><span class="num" id="8386280">1</span><span class="op" id="8386281">]</span><span class="op" id="8386282">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386286">if</span>&nbsp;<span class="ident" id="8386289">expect</span>&nbsp;<span class="op" id="8386296">!=</span>&nbsp;<span class="ident" id="8386299">result</span><span class="op" id="8386305">[</span><span class="ident" id="8386306">k</span><span class="op" id="8386307">/</span><span class="num" id="8386308">2</span><span class="op" id="8386309">]</span>&nbsp;<span class="op" id="8386311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386316">t</span><span class="op" id="8386317">.</span><span class="ident" id="8386318">Errorf</span><span class="op" id="8386324">(</span><span class="string" id="8386325">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%q&nbsp;got&nbsp;%q:&nbsp;%s&#34;</span><span class="op" id="8386359">,</span>&nbsp;<span class="ident" id="8386361">n</span><span class="op" id="8386362">,</span>&nbsp;<span class="ident" id="8386364">expect</span><span class="op" id="8386370">,</span>&nbsp;<span class="ident" id="8386372">result</span><span class="op" id="8386378">,</span>&nbsp;<span class="ident" id="8386380">test</span><span class="op" id="8386384">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386389">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386398">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386401">}</span><br>
<span class="lineno"></span><span class="op" id="8386403">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">370</span><span class="keyword" id="8386406">func</span>&nbsp;<span class="ident" id="8386411">TestFindStringSubmatch</span><span class="op" id="8386433">(</span><span class="ident" id="8386434">t</span>&nbsp;<span class="op" id="8386436">*</span><span class="ident" id="8386437">testing</span><span class="op" id="8386444">.</span><span class="ident" id="8386445">T</span><span class="op" id="8386446">)</span>&nbsp;<span class="op" id="8386448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386451">for</span>&nbsp;<span class="ident" id="8386455">_</span><span class="op" id="8386456">,</span>&nbsp;<span class="ident" id="8386458">test</span>&nbsp;<span class="op" id="8386463">:=</span>&nbsp;<span class="keyword" id="8386466">range</span>&nbsp;<span class="ident" id="8386472">findTests</span>&nbsp;<span class="op" id="8386482">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386486">result</span>&nbsp;<span class="op" id="8386493">:=</span>&nbsp;<span class="ident" id="8386496">MustCompile</span><span class="op" id="8386507">(</span><span class="ident" id="8386508">test</span><span class="op" id="8386512">.</span><span class="ident" id="8386513">pat</span><span class="op" id="8386516">)</span><span class="op" id="8386517">.</span><span class="ident" id="8386518">FindStringSubmatch</span><span class="op" id="8386536">(</span><span class="ident" id="8386537">test</span><span class="op" id="8386541">.</span><span class="ident" id="8386542">text</span><span class="op" id="8386546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386550">switch</span>&nbsp;<span class="op" id="8386557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386561">case</span>&nbsp;<span class="ident" id="8386566">test</span><span class="op" id="8386570">.</span><span class="ident" id="8386571">matches</span>&nbsp;<span class="op" id="8386579">==</span>&nbsp;<span class="builtintype" id="8386582">nil</span>&nbsp;<span class="op" id="8386586">&amp;&amp;</span>&nbsp;<span class="ident" id="8386589">result</span>&nbsp;<span class="op" id="8386596">==</span>&nbsp;<span class="builtintype" id="8386599">nil</span><span class="op" id="8386602">:</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8386607">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386615">case</span>&nbsp;<span class="ident" id="8386620">test</span><span class="op" id="8386624">.</span><span class="ident" id="8386625">matches</span>&nbsp;<span class="op" id="8386633">==</span>&nbsp;<span class="builtintype" id="8386636">nil</span>&nbsp;<span class="op" id="8386640">&amp;&amp;</span>&nbsp;<span class="ident" id="8386643">result</span>&nbsp;<span class="op" id="8386650">!=</span>&nbsp;<span class="builtintype" id="8386653">nil</span><span class="op" id="8386656">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386661">t</span><span class="op" id="8386662">.</span><span class="ident" id="8386663">Errorf</span><span class="op" id="8386669">(</span><span class="string" id="8386670">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8386702">,</span>&nbsp;<span class="ident" id="8386704">test</span><span class="op" id="8386708">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386712">case</span>&nbsp;<span class="ident" id="8386717">test</span><span class="op" id="8386721">.</span><span class="ident" id="8386722">matches</span>&nbsp;<span class="op" id="8386730">!=</span>&nbsp;<span class="builtintype" id="8386733">nil</span>&nbsp;<span class="op" id="8386737">&amp;&amp;</span>&nbsp;<span class="ident" id="8386740">result</span>&nbsp;<span class="op" id="8386747">==</span>&nbsp;<span class="builtintype" id="8386750">nil</span><span class="op" id="8386753">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386758">t</span><span class="op" id="8386759">.</span><span class="ident" id="8386760">Errorf</span><span class="op" id="8386766">(</span><span class="string" id="8386767">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8386797">,</span>&nbsp;<span class="ident" id="8386799">test</span><span class="op" id="8386803">)</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8386807">case</span>&nbsp;<span class="ident" id="8386812">test</span><span class="op" id="8386816">.</span><span class="ident" id="8386817">matches</span>&nbsp;<span class="op" id="8386825">!=</span>&nbsp;<span class="builtintype" id="8386828">nil</span>&nbsp;<span class="op" id="8386832">&amp;&amp;</span>&nbsp;<span class="ident" id="8386835">result</span>&nbsp;<span class="op" id="8386842">!=</span>&nbsp;<span class="builtintype" id="8386845">nil</span><span class="op" id="8386848">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8386853">testSubmatchString</span><span class="op" id="8386871">(</span><span class="op" id="8386872">&amp;</span><span class="ident" id="8386873">test</span><span class="op" id="8386877">,</span>&nbsp;<span class="num" id="8386879">0</span><span class="op" id="8386880">,</span>&nbsp;<span class="ident" id="8386882">test</span><span class="op" id="8386886">.</span><span class="ident" id="8386887">matches</span><span class="op" id="8386894">[</span><span class="num" id="8386895">0</span><span class="op" id="8386896">]</span><span class="op" id="8386897">,</span>&nbsp;<span class="ident" id="8386899">result</span><span class="op" id="8386905">,</span>&nbsp;<span class="ident" id="8386907">t</span><span class="op" id="8386908">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386912">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8386915">}</span><br>
<span class="lineno"></span><span class="op" id="8386917">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="8386920">func</span>&nbsp;<span class="ident" id="8386925">testSubmatchIndices</span><span class="op" id="8386944">(</span><span class="ident" id="8386945">test</span>&nbsp;<span class="op" id="8386950">*</span><span class="ident" id="8386951">FindTest</span><span class="op" id="8386959">,</span>&nbsp;<span class="ident" id="8386961">n</span>&nbsp;<span class="builtintype" id="8386963">int</span><span class="op" id="8386966">,</span>&nbsp;<span class="ident" id="8386968">expect</span><span class="op" id="8386974">,</span>&nbsp;<span class="ident" id="8386976">result</span>&nbsp;<span class="op" id="8386983">[</span><span class="op" id="8386984">]</span><span class="builtintype" id="8386985">int</span><span class="op" id="8386988">,</span>&nbsp;<span class="ident" id="8386990">t</span>&nbsp;<span class="op" id="8386992">*</span><span class="ident" id="8386993">testing</span><span class="op" id="8387000">.</span><span class="ident" id="8387001">T</span><span class="op" id="8387002">)</span>&nbsp;<span class="op" id="8387004">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387007">if</span>&nbsp;<span class="builtinfunc" id="8387010">len</span><span class="op" id="8387013">(</span><span class="ident" id="8387014">expect</span><span class="op" id="8387020">)</span>&nbsp;<span class="op" id="8387022">!=</span>&nbsp;<span class="builtinfunc" id="8387025">len</span><span class="op" id="8387028">(</span><span class="ident" id="8387029">result</span><span class="op" id="8387035">)</span>&nbsp;<span class="op" id="8387037">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387041">t</span><span class="op" id="8387042">.</span><span class="ident" id="8387043">Errorf</span><span class="op" id="8387049">(</span><span class="string" id="8387050">&#34;match&nbsp;%d:&nbsp;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8387093">,</span>&nbsp;<span class="ident" id="8387095">n</span><span class="op" id="8387096">,</span>&nbsp;<span class="builtinfunc" id="8387098">len</span><span class="op" id="8387101">(</span><span class="ident" id="8387102">expect</span><span class="op" id="8387108">)</span><span class="op" id="8387109">/</span><span class="num" id="8387110">2</span><span class="op" id="8387111">,</span>&nbsp;<span class="builtinfunc" id="8387113">len</span><span class="op" id="8387116">(</span><span class="ident" id="8387117">result</span><span class="op" id="8387123">)</span><span class="op" id="8387124">/</span><span class="num" id="8387125">2</span><span class="op" id="8387126">,</span>&nbsp;<span class="ident" id="8387128">test</span><span class="op" id="8387132">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387136">return</span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8387144">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387147">for</span>&nbsp;<span class="ident" id="8387151">k</span><span class="op" id="8387152">,</span>&nbsp;<span class="ident" id="8387154">e</span>&nbsp;<span class="op" id="8387156">:=</span>&nbsp;<span class="keyword" id="8387159">range</span>&nbsp;<span class="ident" id="8387165">expect</span>&nbsp;<span class="op" id="8387172">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387176">if</span>&nbsp;<span class="ident" id="8387179">e</span>&nbsp;<span class="op" id="8387181">!=</span>&nbsp;<span class="ident" id="8387184">result</span><span class="op" id="8387190">[</span><span class="ident" id="8387191">k</span><span class="op" id="8387192">]</span>&nbsp;<span class="op" id="8387194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387199">t</span><span class="op" id="8387200">.</span><span class="ident" id="8387201">Errorf</span><span class="op" id="8387207">(</span><span class="string" id="8387208">&#34;match&nbsp;%d:&nbsp;submatch&nbsp;error:&nbsp;expected&nbsp;%v&nbsp;got&nbsp;%v:&nbsp;%s&#34;</span><span class="op" id="8387258">,</span>&nbsp;<span class="ident" id="8387260">n</span><span class="op" id="8387261">,</span>&nbsp;<span class="ident" id="8387263">expect</span><span class="op" id="8387269">,</span>&nbsp;<span class="ident" id="8387271">result</span><span class="op" id="8387277">,</span>&nbsp;<span class="ident" id="8387279">test</span><span class="op" id="8387283">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8387287">}</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8387290">}</span><br>
<span class="lineno"></span><span class="op" id="8387292">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8387295">func</span>&nbsp;<span class="ident" id="8387300">testFindSubmatchIndex</span><span class="op" id="8387321">(</span><span class="ident" id="8387322">test</span>&nbsp;<span class="op" id="8387327">*</span><span class="ident" id="8387328">FindTest</span><span class="op" id="8387336">,</span>&nbsp;<span class="ident" id="8387338">result</span>&nbsp;<span class="op" id="8387345">[</span><span class="op" id="8387346">]</span><span class="builtintype" id="8387347">int</span><span class="op" id="8387350">,</span>&nbsp;<span class="ident" id="8387352">t</span>&nbsp;<span class="op" id="8387354">*</span><span class="ident" id="8387355">testing</span><span class="op" id="8387362">.</span><span class="ident" id="8387363">T</span><span class="op" id="8387364">)</span>&nbsp;<span class="op" id="8387366">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387369">switch</span>&nbsp;<span class="op" id="8387376">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387379">case</span>&nbsp;<span class="ident" id="8387384">test</span><span class="op" id="8387388">.</span><span class="ident" id="8387389">matches</span>&nbsp;<span class="op" id="8387397">==</span>&nbsp;<span class="builtintype" id="8387400">nil</span>&nbsp;<span class="op" id="8387404">&amp;&amp;</span>&nbsp;<span class="ident" id="8387407">result</span>&nbsp;<span class="op" id="8387414">==</span>&nbsp;<span class="builtintype" id="8387417">nil</span><span class="op" id="8387420">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8387424">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387431">case</span>&nbsp;<span class="ident" id="8387436">test</span><span class="op" id="8387440">.</span><span class="ident" id="8387441">matches</span>&nbsp;<span class="op" id="8387449">==</span>&nbsp;<span class="builtintype" id="8387452">nil</span>&nbsp;<span class="op" id="8387456">&amp;&amp;</span>&nbsp;<span class="ident" id="8387459">result</span>&nbsp;<span class="op" id="8387466">!=</span>&nbsp;<span class="builtintype" id="8387469">nil</span><span class="op" id="8387472">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387476">t</span><span class="op" id="8387477">.</span><span class="ident" id="8387478">Errorf</span><span class="op" id="8387484">(</span><span class="string" id="8387485">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8387517">,</span>&nbsp;<span class="ident" id="8387519">test</span><span class="op" id="8387523">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387526">case</span>&nbsp;<span class="ident" id="8387531">test</span><span class="op" id="8387535">.</span><span class="ident" id="8387536">matches</span>&nbsp;<span class="op" id="8387544">!=</span>&nbsp;<span class="builtintype" id="8387547">nil</span>&nbsp;<span class="op" id="8387551">&amp;&amp;</span>&nbsp;<span class="ident" id="8387554">result</span>&nbsp;<span class="op" id="8387561">==</span>&nbsp;<span class="builtintype" id="8387564">nil</span><span class="op" id="8387567">:</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387571">t</span><span class="op" id="8387572">.</span><span class="ident" id="8387573">Errorf</span><span class="op" id="8387579">(</span><span class="string" id="8387580">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8387610">,</span>&nbsp;<span class="ident" id="8387612">test</span><span class="op" id="8387616">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387619">case</span>&nbsp;<span class="ident" id="8387624">test</span><span class="op" id="8387628">.</span><span class="ident" id="8387629">matches</span>&nbsp;<span class="op" id="8387637">!=</span>&nbsp;<span class="builtintype" id="8387640">nil</span>&nbsp;<span class="op" id="8387644">&amp;&amp;</span>&nbsp;<span class="ident" id="8387647">result</span>&nbsp;<span class="op" id="8387654">!=</span>&nbsp;<span class="builtintype" id="8387657">nil</span><span class="op" id="8387660">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387664">testSubmatchIndices</span><span class="op" id="8387683">(</span><span class="ident" id="8387684">test</span><span class="op" id="8387688">,</span>&nbsp;<span class="num" id="8387690">0</span><span class="op" id="8387691">,</span>&nbsp;<span class="ident" id="8387693">test</span><span class="op" id="8387697">.</span><span class="ident" id="8387698">matches</span><span class="op" id="8387705">[</span><span class="num" id="8387706">0</span><span class="op" id="8387707">]</span><span class="op" id="8387708">,</span>&nbsp;<span class="ident" id="8387710">result</span><span class="op" id="8387716">,</span>&nbsp;<span class="ident" id="8387718">t</span><span class="op" id="8387719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8387722">}</span><br>
<span class="lineno"></span><span class="op" id="8387724">}</span><br>
<span class="lineno">410</span><br>
<span class="lineno"></span><span class="keyword" id="8387727">func</span>&nbsp;<span class="ident" id="8387732">TestFindSubmatchIndex</span><span class="op" id="8387753">(</span><span class="ident" id="8387754">t</span>&nbsp;<span class="op" id="8387756">*</span><span class="ident" id="8387757">testing</span><span class="op" id="8387764">.</span><span class="ident" id="8387765">T</span><span class="op" id="8387766">)</span>&nbsp;<span class="op" id="8387768">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387771">for</span>&nbsp;<span class="ident" id="8387775">_</span><span class="op" id="8387776">,</span>&nbsp;<span class="ident" id="8387778">test</span>&nbsp;<span class="op" id="8387783">:=</span>&nbsp;<span class="keyword" id="8387786">range</span>&nbsp;<span class="ident" id="8387792">findTests</span>&nbsp;<span class="op" id="8387802">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387806">testFindSubmatchIndex</span><span class="op" id="8387827">(</span><span class="op" id="8387828">&amp;</span><span class="ident" id="8387829">test</span><span class="op" id="8387833">,</span>&nbsp;<span class="ident" id="8387835">MustCompile</span><span class="op" id="8387846">(</span><span class="ident" id="8387847">test</span><span class="op" id="8387851">.</span><span class="ident" id="8387852">pat</span><span class="op" id="8387855">)</span><span class="op" id="8387856">.</span><span class="ident" id="8387857">FindSubmatchIndex</span><span class="op" id="8387874">(</span><span class="op" id="8387875">[</span><span class="op" id="8387876">]</span><span class="builtintype" id="8387877">byte</span><span class="op" id="8387881">(</span><span class="ident" id="8387882">test</span><span class="op" id="8387886">.</span><span class="ident" id="8387887">text</span><span class="op" id="8387891">)</span><span class="op" id="8387892">)</span><span class="op" id="8387893">,</span>&nbsp;<span class="ident" id="8387895">t</span><span class="op" id="8387896">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8387899">}</span><br>
<span class="lineno">415</span><span class="op" id="8387901">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8387904">func</span>&nbsp;<span class="ident" id="8387909">TestFindStringSubmatchIndex</span><span class="op" id="8387936">(</span><span class="ident" id="8387937">t</span>&nbsp;<span class="op" id="8387939">*</span><span class="ident" id="8387940">testing</span><span class="op" id="8387947">.</span><span class="ident" id="8387948">T</span><span class="op" id="8387949">)</span>&nbsp;<span class="op" id="8387951">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8387954">for</span>&nbsp;<span class="ident" id="8387958">_</span><span class="op" id="8387959">,</span>&nbsp;<span class="ident" id="8387961">test</span>&nbsp;<span class="op" id="8387966">:=</span>&nbsp;<span class="keyword" id="8387969">range</span>&nbsp;<span class="ident" id="8387975">findTests</span>&nbsp;<span class="op" id="8387985">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8387989">testFindSubmatchIndex</span><span class="op" id="8388010">(</span><span class="op" id="8388011">&amp;</span><span class="ident" id="8388012">test</span><span class="op" id="8388016">,</span>&nbsp;<span class="ident" id="8388018">MustCompile</span><span class="op" id="8388029">(</span><span class="ident" id="8388030">test</span><span class="op" id="8388034">.</span><span class="ident" id="8388035">pat</span><span class="op" id="8388038">)</span><span class="op" id="8388039">.</span><span class="ident" id="8388040">FindStringSubmatchIndex</span><span class="op" id="8388063">(</span><span class="ident" id="8388064">test</span><span class="op" id="8388068">.</span><span class="ident" id="8388069">text</span><span class="op" id="8388073">)</span><span class="op" id="8388074">,</span>&nbsp;<span class="ident" id="8388076">t</span><span class="op" id="8388077">)</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8388080">}</span><br>
<span class="lineno"></span><span class="op" id="8388082">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8388085">func</span>&nbsp;<span class="ident" id="8388090">TestFindReaderSubmatchIndex</span><span class="op" id="8388117">(</span><span class="ident" id="8388118">t</span>&nbsp;<span class="op" id="8388120">*</span><span class="ident" id="8388121">testing</span><span class="op" id="8388128">.</span><span class="ident" id="8388129">T</span><span class="op" id="8388130">)</span>&nbsp;<span class="op" id="8388132">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388135">for</span>&nbsp;<span class="ident" id="8388139">_</span><span class="op" id="8388140">,</span>&nbsp;<span class="ident" id="8388142">test</span>&nbsp;<span class="op" id="8388147">:=</span>&nbsp;<span class="keyword" id="8388150">range</span>&nbsp;<span class="ident" id="8388156">findTests</span>&nbsp;<span class="op" id="8388166">{</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8388170">testFindSubmatchIndex</span><span class="op" id="8388191">(</span><span class="op" id="8388192">&amp;</span><span class="ident" id="8388193">test</span><span class="op" id="8388197">,</span>&nbsp;<span class="ident" id="8388199">MustCompile</span><span class="op" id="8388210">(</span><span class="ident" id="8388211">test</span><span class="op" id="8388215">.</span><span class="ident" id="8388216">pat</span><span class="op" id="8388219">)</span><span class="op" id="8388220">.</span><span class="ident" id="8388221">FindReaderSubmatchIndex</span><span class="op" id="8388244">(</span><span class="ident" id="8388245">strings</span><span class="op" id="8388252">.</span><span class="ident" id="8388253">NewReader</span><span class="op" id="8388262">(</span><span class="ident" id="8388263">test</span><span class="op" id="8388267">.</span><span class="ident" id="8388268">text</span><span class="op" id="8388272">)</span><span class="op" id="8388273">)</span><span class="op" id="8388274">,</span>&nbsp;<span class="ident" id="8388276">t</span><span class="op" id="8388277">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8388280">}</span><br>
<span class="lineno"></span><span class="op" id="8388282">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8388285">//&nbsp;Now&nbsp;come&nbsp;the&nbsp;monster&nbsp;AllSubmatch&nbsp;cases.</span><br>
<span class="lineno">430</span><br>
<span class="lineno"></span><span class="keyword" id="8388329">func</span>&nbsp;<span class="ident" id="8388334">TestFindAllSubmatch</span><span class="op" id="8388353">(</span><span class="ident" id="8388354">t</span>&nbsp;<span class="op" id="8388356">*</span><span class="ident" id="8388357">testing</span><span class="op" id="8388364">.</span><span class="ident" id="8388365">T</span><span class="op" id="8388366">)</span>&nbsp;<span class="op" id="8388368">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388371">for</span>&nbsp;<span class="ident" id="8388375">_</span><span class="op" id="8388376">,</span>&nbsp;<span class="ident" id="8388378">test</span>&nbsp;<span class="op" id="8388383">:=</span>&nbsp;<span class="keyword" id="8388386">range</span>&nbsp;<span class="ident" id="8388392">findTests</span>&nbsp;<span class="op" id="8388402">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8388406">result</span>&nbsp;<span class="op" id="8388413">:=</span>&nbsp;<span class="ident" id="8388416">MustCompile</span><span class="op" id="8388427">(</span><span class="ident" id="8388428">test</span><span class="op" id="8388432">.</span><span class="ident" id="8388433">pat</span><span class="op" id="8388436">)</span><span class="op" id="8388437">.</span><span class="ident" id="8388438">FindAllSubmatch</span><span class="op" id="8388453">(</span><span class="op" id="8388454">[</span><span class="op" id="8388455">]</span><span class="builtintype" id="8388456">byte</span><span class="op" id="8388460">(</span><span class="ident" id="8388461">test</span><span class="op" id="8388465">.</span><span class="ident" id="8388466">text</span><span class="op" id="8388470">)</span><span class="op" id="8388471">,</span>&nbsp;<span class="op" id="8388473">-</span><span class="num" id="8388474">1</span><span class="op" id="8388475">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388479">switch</span>&nbsp;<span class="op" id="8388486">{</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388490">case</span>&nbsp;<span class="ident" id="8388495">test</span><span class="op" id="8388499">.</span><span class="ident" id="8388500">matches</span>&nbsp;<span class="op" id="8388508">==</span>&nbsp;<span class="builtintype" id="8388511">nil</span>&nbsp;<span class="op" id="8388515">&amp;&amp;</span>&nbsp;<span class="ident" id="8388518">result</span>&nbsp;<span class="op" id="8388525">==</span>&nbsp;<span class="builtintype" id="8388528">nil</span><span class="op" id="8388531">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8388536">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388544">case</span>&nbsp;<span class="ident" id="8388549">test</span><span class="op" id="8388553">.</span><span class="ident" id="8388554">matches</span>&nbsp;<span class="op" id="8388562">==</span>&nbsp;<span class="builtintype" id="8388565">nil</span>&nbsp;<span class="op" id="8388569">&amp;&amp;</span>&nbsp;<span class="ident" id="8388572">result</span>&nbsp;<span class="op" id="8388579">!=</span>&nbsp;<span class="builtintype" id="8388582">nil</span><span class="op" id="8388585">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8388590">t</span><span class="op" id="8388591">.</span><span class="ident" id="8388592">Errorf</span><span class="op" id="8388598">(</span><span class="string" id="8388599">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8388631">,</span>&nbsp;<span class="ident" id="8388633">test</span><span class="op" id="8388637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388641">case</span>&nbsp;<span class="ident" id="8388646">test</span><span class="op" id="8388650">.</span><span class="ident" id="8388651">matches</span>&nbsp;<span class="op" id="8388659">!=</span>&nbsp;<span class="builtintype" id="8388662">nil</span>&nbsp;<span class="op" id="8388666">&amp;&amp;</span>&nbsp;<span class="ident" id="8388669">result</span>&nbsp;<span class="op" id="8388676">==</span>&nbsp;<span class="builtintype" id="8388679">nil</span><span class="op" id="8388682">:</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8388687">t</span><span class="op" id="8388688">.</span><span class="ident" id="8388689">Errorf</span><span class="op" id="8388695">(</span><span class="string" id="8388696">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8388726">,</span>&nbsp;<span class="ident" id="8388728">test</span><span class="op" id="8388732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388736">case</span>&nbsp;<span class="builtinfunc" id="8388741">len</span><span class="op" id="8388744">(</span><span class="ident" id="8388745">test</span><span class="op" id="8388749">.</span><span class="ident" id="8388750">matches</span><span class="op" id="8388757">)</span>&nbsp;<span class="op" id="8388759">!=</span>&nbsp;<span class="builtinfunc" id="8388762">len</span><span class="op" id="8388765">(</span><span class="ident" id="8388766">result</span><span class="op" id="8388772">)</span><span class="op" id="8388773">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8388778">t</span><span class="op" id="8388779">.</span><span class="ident" id="8388780">Errorf</span><span class="op" id="8388786">(</span><span class="string" id="8388787">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8388820">,</span>&nbsp;<span class="builtinfunc" id="8388822">len</span><span class="op" id="8388825">(</span><span class="ident" id="8388826">test</span><span class="op" id="8388830">.</span><span class="ident" id="8388831">matches</span><span class="op" id="8388838">)</span><span class="op" id="8388839">,</span>&nbsp;<span class="builtinfunc" id="8388841">len</span><span class="op" id="8388844">(</span><span class="ident" id="8388845">result</span><span class="op" id="8388851">)</span><span class="op" id="8388852">,</span>&nbsp;<span class="ident" id="8388854">test</span><span class="op" id="8388858">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388862">case</span>&nbsp;<span class="ident" id="8388867">test</span><span class="op" id="8388871">.</span><span class="ident" id="8388872">matches</span>&nbsp;<span class="op" id="8388880">!=</span>&nbsp;<span class="builtintype" id="8388883">nil</span>&nbsp;<span class="op" id="8388887">&amp;&amp;</span>&nbsp;<span class="ident" id="8388890">result</span>&nbsp;<span class="op" id="8388897">!=</span>&nbsp;<span class="builtintype" id="8388900">nil</span><span class="op" id="8388903">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8388908">for</span>&nbsp;<span class="ident" id="8388912">k</span><span class="op" id="8388913">,</span>&nbsp;<span class="ident" id="8388915">match</span>&nbsp;<span class="op" id="8388921">:=</span>&nbsp;<span class="keyword" id="8388924">range</span>&nbsp;<span class="ident" id="8388930">test</span><span class="op" id="8388934">.</span><span class="ident" id="8388935">matches</span>&nbsp;<span class="op" id="8388943">{</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8388949">testSubmatchBytes</span><span class="op" id="8388966">(</span><span class="op" id="8388967">&amp;</span><span class="ident" id="8388968">test</span><span class="op" id="8388972">,</span>&nbsp;<span class="ident" id="8388974">k</span><span class="op" id="8388975">,</span>&nbsp;<span class="ident" id="8388977">match</span><span class="op" id="8388982">,</span>&nbsp;<span class="ident" id="8388984">result</span><span class="op" id="8388990">[</span><span class="ident" id="8388991">k</span><span class="op" id="8388992">]</span><span class="op" id="8388993">,</span>&nbsp;<span class="ident" id="8388995">t</span><span class="op" id="8388996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8389001">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8389005">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8389008">}</span><br>
<span class="lineno"></span><span class="op" id="8389010">}</span><br>
<span class="lineno">450</span><br>
<span class="lineno"></span><span class="keyword" id="8389013">func</span>&nbsp;<span class="ident" id="8389018">TestFindAllStringSubmatch</span><span class="op" id="8389043">(</span><span class="ident" id="8389044">t</span>&nbsp;<span class="op" id="8389046">*</span><span class="ident" id="8389047">testing</span><span class="op" id="8389054">.</span><span class="ident" id="8389055">T</span><span class="op" id="8389056">)</span>&nbsp;<span class="op" id="8389058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389061">for</span>&nbsp;<span class="ident" id="8389065">_</span><span class="op" id="8389066">,</span>&nbsp;<span class="ident" id="8389068">test</span>&nbsp;<span class="op" id="8389073">:=</span>&nbsp;<span class="keyword" id="8389076">range</span>&nbsp;<span class="ident" id="8389082">findTests</span>&nbsp;<span class="op" id="8389092">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389096">result</span>&nbsp;<span class="op" id="8389103">:=</span>&nbsp;<span class="ident" id="8389106">MustCompile</span><span class="op" id="8389117">(</span><span class="ident" id="8389118">test</span><span class="op" id="8389122">.</span><span class="ident" id="8389123">pat</span><span class="op" id="8389126">)</span><span class="op" id="8389127">.</span><span class="ident" id="8389128">FindAllStringSubmatch</span><span class="op" id="8389149">(</span><span class="ident" id="8389150">test</span><span class="op" id="8389154">.</span><span class="ident" id="8389155">text</span><span class="op" id="8389159">,</span>&nbsp;<span class="op" id="8389161">-</span><span class="num" id="8389162">1</span><span class="op" id="8389163">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389167">switch</span>&nbsp;<span class="op" id="8389174">{</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389178">case</span>&nbsp;<span class="ident" id="8389183">test</span><span class="op" id="8389187">.</span><span class="ident" id="8389188">matches</span>&nbsp;<span class="op" id="8389196">==</span>&nbsp;<span class="builtintype" id="8389199">nil</span>&nbsp;<span class="op" id="8389203">&amp;&amp;</span>&nbsp;<span class="ident" id="8389206">result</span>&nbsp;<span class="op" id="8389213">==</span>&nbsp;<span class="builtintype" id="8389216">nil</span><span class="op" id="8389219">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8389224">//&nbsp;ok</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389232">case</span>&nbsp;<span class="ident" id="8389237">test</span><span class="op" id="8389241">.</span><span class="ident" id="8389242">matches</span>&nbsp;<span class="op" id="8389250">==</span>&nbsp;<span class="builtintype" id="8389253">nil</span>&nbsp;<span class="op" id="8389257">&amp;&amp;</span>&nbsp;<span class="ident" id="8389260">result</span>&nbsp;<span class="op" id="8389267">!=</span>&nbsp;<span class="builtintype" id="8389270">nil</span><span class="op" id="8389273">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389278">t</span><span class="op" id="8389279">.</span><span class="ident" id="8389280">Errorf</span><span class="op" id="8389286">(</span><span class="string" id="8389287">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8389319">,</span>&nbsp;<span class="ident" id="8389321">test</span><span class="op" id="8389325">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389329">case</span>&nbsp;<span class="ident" id="8389334">test</span><span class="op" id="8389338">.</span><span class="ident" id="8389339">matches</span>&nbsp;<span class="op" id="8389347">!=</span>&nbsp;<span class="builtintype" id="8389350">nil</span>&nbsp;<span class="op" id="8389354">&amp;&amp;</span>&nbsp;<span class="ident" id="8389357">result</span>&nbsp;<span class="op" id="8389364">==</span>&nbsp;<span class="builtintype" id="8389367">nil</span><span class="op" id="8389370">:</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389375">t</span><span class="op" id="8389376">.</span><span class="ident" id="8389377">Errorf</span><span class="op" id="8389383">(</span><span class="string" id="8389384">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8389414">,</span>&nbsp;<span class="ident" id="8389416">test</span><span class="op" id="8389420">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389424">case</span>&nbsp;<span class="builtinfunc" id="8389429">len</span><span class="op" id="8389432">(</span><span class="ident" id="8389433">test</span><span class="op" id="8389437">.</span><span class="ident" id="8389438">matches</span><span class="op" id="8389445">)</span>&nbsp;<span class="op" id="8389447">!=</span>&nbsp;<span class="builtinfunc" id="8389450">len</span><span class="op" id="8389453">(</span><span class="ident" id="8389454">result</span><span class="op" id="8389460">)</span><span class="op" id="8389461">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389466">t</span><span class="op" id="8389467">.</span><span class="ident" id="8389468">Errorf</span><span class="op" id="8389474">(</span><span class="string" id="8389475">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8389508">,</span>&nbsp;<span class="builtinfunc" id="8389510">len</span><span class="op" id="8389513">(</span><span class="ident" id="8389514">test</span><span class="op" id="8389518">.</span><span class="ident" id="8389519">matches</span><span class="op" id="8389526">)</span><span class="op" id="8389527">,</span>&nbsp;<span class="builtinfunc" id="8389529">len</span><span class="op" id="8389532">(</span><span class="ident" id="8389533">result</span><span class="op" id="8389539">)</span><span class="op" id="8389540">,</span>&nbsp;<span class="ident" id="8389542">test</span><span class="op" id="8389546">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389550">case</span>&nbsp;<span class="ident" id="8389555">test</span><span class="op" id="8389559">.</span><span class="ident" id="8389560">matches</span>&nbsp;<span class="op" id="8389568">!=</span>&nbsp;<span class="builtintype" id="8389571">nil</span>&nbsp;<span class="op" id="8389575">&amp;&amp;</span>&nbsp;<span class="ident" id="8389578">result</span>&nbsp;<span class="op" id="8389585">!=</span>&nbsp;<span class="builtintype" id="8389588">nil</span><span class="op" id="8389591">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389596">for</span>&nbsp;<span class="ident" id="8389600">k</span><span class="op" id="8389601">,</span>&nbsp;<span class="ident" id="8389603">match</span>&nbsp;<span class="op" id="8389609">:=</span>&nbsp;<span class="keyword" id="8389612">range</span>&nbsp;<span class="ident" id="8389618">test</span><span class="op" id="8389622">.</span><span class="ident" id="8389623">matches</span>&nbsp;<span class="op" id="8389631">{</span><br>
<span class="lineno">465</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389637">testSubmatchString</span><span class="op" id="8389655">(</span><span class="op" id="8389656">&amp;</span><span class="ident" id="8389657">test</span><span class="op" id="8389661">,</span>&nbsp;<span class="ident" id="8389663">k</span><span class="op" id="8389664">,</span>&nbsp;<span class="ident" id="8389666">match</span><span class="op" id="8389671">,</span>&nbsp;<span class="ident" id="8389673">result</span><span class="op" id="8389679">[</span><span class="ident" id="8389680">k</span><span class="op" id="8389681">]</span><span class="op" id="8389682">,</span>&nbsp;<span class="ident" id="8389684">t</span><span class="op" id="8389685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8389690">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8389694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8389697">}</span><br>
<span class="lineno"></span><span class="op" id="8389699">}</span><br>
<span class="lineno">470</span><br>
<span class="lineno"></span><span class="keyword" id="8389702">func</span>&nbsp;<span class="ident" id="8389707">testFindAllSubmatchIndex</span><span class="op" id="8389731">(</span><span class="ident" id="8389732">test</span>&nbsp;<span class="op" id="8389737">*</span><span class="ident" id="8389738">FindTest</span><span class="op" id="8389746">,</span>&nbsp;<span class="ident" id="8389748">result</span>&nbsp;<span class="op" id="8389755">[</span><span class="op" id="8389756">]</span><span class="op" id="8389757">[</span><span class="op" id="8389758">]</span><span class="builtintype" id="8389759">int</span><span class="op" id="8389762">,</span>&nbsp;<span class="ident" id="8389764">t</span>&nbsp;<span class="op" id="8389766">*</span><span class="ident" id="8389767">testing</span><span class="op" id="8389774">.</span><span class="ident" id="8389775">T</span><span class="op" id="8389776">)</span>&nbsp;<span class="op" id="8389778">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389781">switch</span>&nbsp;<span class="op" id="8389788">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389791">case</span>&nbsp;<span class="ident" id="8389796">test</span><span class="op" id="8389800">.</span><span class="ident" id="8389801">matches</span>&nbsp;<span class="op" id="8389809">==</span>&nbsp;<span class="builtintype" id="8389812">nil</span>&nbsp;<span class="op" id="8389816">&amp;&amp;</span>&nbsp;<span class="ident" id="8389819">result</span>&nbsp;<span class="op" id="8389826">==</span>&nbsp;<span class="builtintype" id="8389829">nil</span><span class="op" id="8389832">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8389836">//&nbsp;ok</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389843">case</span>&nbsp;<span class="ident" id="8389848">test</span><span class="op" id="8389852">.</span><span class="ident" id="8389853">matches</span>&nbsp;<span class="op" id="8389861">==</span>&nbsp;<span class="builtintype" id="8389864">nil</span>&nbsp;<span class="op" id="8389868">&amp;&amp;</span>&nbsp;<span class="ident" id="8389871">result</span>&nbsp;<span class="op" id="8389878">!=</span>&nbsp;<span class="builtintype" id="8389881">nil</span><span class="op" id="8389884">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389888">t</span><span class="op" id="8389889">.</span><span class="ident" id="8389890">Errorf</span><span class="op" id="8389896">(</span><span class="string" id="8389897">&#34;expected&nbsp;no&nbsp;match;&nbsp;got&nbsp;one:&nbsp;%s&#34;</span><span class="op" id="8389929">,</span>&nbsp;<span class="ident" id="8389931">test</span><span class="op" id="8389935">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8389938">case</span>&nbsp;<span class="ident" id="8389943">test</span><span class="op" id="8389947">.</span><span class="ident" id="8389948">matches</span>&nbsp;<span class="op" id="8389956">!=</span>&nbsp;<span class="builtintype" id="8389959">nil</span>&nbsp;<span class="op" id="8389963">&amp;&amp;</span>&nbsp;<span class="ident" id="8389966">result</span>&nbsp;<span class="op" id="8389973">==</span>&nbsp;<span class="builtintype" id="8389976">nil</span><span class="op" id="8389979">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8389983">t</span><span class="op" id="8389984">.</span><span class="ident" id="8389985">Errorf</span><span class="op" id="8389991">(</span><span class="string" id="8389992">&#34;expected&nbsp;match;&nbsp;got&nbsp;none:&nbsp;%s&#34;</span><span class="op" id="8390022">,</span>&nbsp;<span class="ident" id="8390024">test</span><span class="op" id="8390028">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8390031">case</span>&nbsp;<span class="builtinfunc" id="8390036">len</span><span class="op" id="8390039">(</span><span class="ident" id="8390040">test</span><span class="op" id="8390044">.</span><span class="ident" id="8390045">matches</span><span class="op" id="8390052">)</span>&nbsp;<span class="op" id="8390054">!=</span>&nbsp;<span class="builtinfunc" id="8390057">len</span><span class="op" id="8390060">(</span><span class="ident" id="8390061">result</span><span class="op" id="8390067">)</span><span class="op" id="8390068">:</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8390072">t</span><span class="op" id="8390073">.</span><span class="ident" id="8390074">Errorf</span><span class="op" id="8390080">(</span><span class="string" id="8390081">&#34;expected&nbsp;%d&nbsp;matches;&nbsp;got&nbsp;%d:&nbsp;%s&#34;</span><span class="op" id="8390114">,</span>&nbsp;<span class="builtinfunc" id="8390116">len</span><span class="op" id="8390119">(</span><span class="ident" id="8390120">test</span><span class="op" id="8390124">.</span><span class="ident" id="8390125">matches</span><span class="op" id="8390132">)</span><span class="op" id="8390133">,</span>&nbsp;<span class="builtinfunc" id="8390135">len</span><span class="op" id="8390138">(</span><span class="ident" id="8390139">result</span><span class="op" id="8390145">)</span><span class="op" id="8390146">,</span>&nbsp;<span class="ident" id="8390148">test</span><span class="op" id="8390152">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8390155">case</span>&nbsp;<span class="ident" id="8390160">test</span><span class="op" id="8390164">.</span><span class="ident" id="8390165">matches</span>&nbsp;<span class="op" id="8390173">!=</span>&nbsp;<span class="builtintype" id="8390176">nil</span>&nbsp;<span class="op" id="8390180">&amp;&amp;</span>&nbsp;<span class="ident" id="8390183">result</span>&nbsp;<span class="op" id="8390190">!=</span>&nbsp;<span class="builtintype" id="8390193">nil</span><span class="op" id="8390196">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8390200">for</span>&nbsp;<span class="ident" id="8390204">k</span><span class="op" id="8390205">,</span>&nbsp;<span class="ident" id="8390207">match</span>&nbsp;<span class="op" id="8390213">:=</span>&nbsp;<span class="keyword" id="8390216">range</span>&nbsp;<span class="ident" id="8390222">test</span><span class="op" id="8390226">.</span><span class="ident" id="8390227">matches</span>&nbsp;<span class="op" id="8390235">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8390240">testSubmatchIndices</span><span class="op" id="8390259">(</span><span class="ident" id="8390260">test</span><span class="op" id="8390264">,</span>&nbsp;<span class="ident" id="8390266">k</span><span class="op" id="8390267">,</span>&nbsp;<span class="ident" id="8390269">match</span><span class="op" id="8390274">,</span>&nbsp;<span class="ident" id="8390276">result</span><span class="op" id="8390282">[</span><span class="ident" id="8390283">k</span><span class="op" id="8390284">]</span><span class="op" id="8390285">,</span>&nbsp;<span class="ident" id="8390287">t</span><span class="op" id="8390288">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8390292">}</span><br>
<span class="lineno">485</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8390295">}</span><br>
<span class="lineno"></span><span class="op" id="8390297">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8390300">func</span>&nbsp;<span class="ident" id="8390305">TestFindAllSubmatchIndex</span><span class="op" id="8390329">(</span><span class="ident" id="8390330">t</span>&nbsp;<span class="op" id="8390332">*</span><span class="ident" id="8390333">testing</span><span class="op" id="8390340">.</span><span class="ident" id="8390341">T</span><span class="op" id="8390342">)</span>&nbsp;<span class="op" id="8390344">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8390347">for</span>&nbsp;<span class="ident" id="8390351">_</span><span class="op" id="8390352">,</span>&nbsp;<span class="ident" id="8390354">test</span>&nbsp;<span class="op" id="8390359">:=</span>&nbsp;<span class="keyword" id="8390362">range</span>&nbsp;<span class="ident" id="8390368">findTests</span>&nbsp;<span class="op" id="8390378">{</span><br>
<span class="lineno">490</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8390382">testFindAllSubmatchIndex</span><span class="op" id="8390406">(</span><span class="op" id="8390407">&amp;</span><span class="ident" id="8390408">test</span><span class="op" id="8390412">,</span>&nbsp;<span class="ident" id="8390414">MustCompile</span><span class="op" id="8390425">(</span><span class="ident" id="8390426">test</span><span class="op" id="8390430">.</span><span class="ident" id="8390431">pat</span><span class="op" id="8390434">)</span><span class="op" id="8390435">.</span><span class="ident" id="8390436">FindAllSubmatchIndex</span><span class="op" id="8390456">(</span><span class="op" id="8390457">[</span><span class="op" id="8390458">]</span><span class="builtintype" id="8390459">byte</span><span class="op" id="8390463">(</span><span class="ident" id="8390464">test</span><span class="op" id="8390468">.</span><span class="ident" id="8390469">text</span><span class="op" id="8390473">)</span><span class="op" id="8390474">,</span>&nbsp;<span class="op" id="8390476">-</span><span class="num" id="8390477">1</span><span class="op" id="8390478">)</span><span class="op" id="8390479">,</span>&nbsp;<span class="ident" id="8390481">t</span><span class="op" id="8390482">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8390485">}</span><br>
<span class="lineno"></span><span class="op" id="8390487">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8390490">func</span>&nbsp;<span class="ident" id="8390495">TestFindAllStringSubmatchIndex</span><span class="op" id="8390525">(</span><span class="ident" id="8390526">t</span>&nbsp;<span class="op" id="8390528">*</span><span class="ident" id="8390529">testing</span><span class="op" id="8390536">.</span><span class="ident" id="8390537">T</span><span class="op" id="8390538">)</span>&nbsp;<span class="op" id="8390540">{</span><br>
<span class="lineno">495</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="8390543">for</span>&nbsp;<span class="ident" id="8390547">_</span><span class="op" id="8390548">,</span>&nbsp;<span class="ident" id="8390550">test</span>&nbsp;<span class="op" id="8390555">:=</span>&nbsp;<span class="keyword" id="8390558">range</span>&nbsp;<span class="ident" id="8390564">findTests</span>&nbsp;<span class="op" id="8390574">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8390578">testFindAllSubmatchIndex</span><span class="op" id="8390602">(</span><span class="op" id="8390603">&amp;</span><span class="ident" id="8390604">test</span><span class="op" id="8390608">,</span>&nbsp;<span class="ident" id="8390610">MustCompile</span><span class="op" id="8390621">(</span><span class="ident" id="8390622">test</span><span class="op" id="8390626">.</span><span class="ident" id="8390627">pat</span><span class="op" id="8390630">)</span><span class="op" id="8390631">.</span><span class="ident" id="8390632">FindAllStringSubmatchIndex</span><span class="op" id="8390658">(</span><span class="ident" id="8390659">test</span><span class="op" id="8390663">.</span><span class="ident" id="8390664">text</span><span class="op" id="8390668">,</span>&nbsp;<span class="op" id="8390670">-</span><span class="num" id="8390671">1</span><span class="op" id="8390672">)</span><span class="op" id="8390673">,</span>&nbsp;<span class="ident" id="8390675">t</span><span class="op" id="8390676">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8390679">}</span><br>
<span class="lineno"></span><span class="op" id="8390681">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
