<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/rpc</h2>
<ul>
<li><a href="/gostd/net/rpc/client.go.html">client.go</a></li>
<li><a href="/gostd/net/rpc/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/rpc/debug.go.html" class="current">debug.go</a></li>
<li><a href="/gostd/net/rpc/server.go.html">server.go</a></li>
<li><a href="/gostd/net/rpc/server_test.go.html">server_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5795630">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5795685">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5795739">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="5795790">package</span>&nbsp;<span class="ident" id="5795798">rpc</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5795803">/*<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;Some&nbsp;HTML&nbsp;presented&nbsp;at&nbsp;http://machine:port/debug/rpc<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;Lists&nbsp;services,&nbsp;their&nbsp;methods,&nbsp;and&nbsp;some&nbsp;statistics,&nbsp;still&nbsp;rudimentary.<br>
<span class="lineno">10</span>*/</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5795936">import</span>&nbsp;<span class="op" id="5795943">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5795946">&#34;fmt&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5795953">&#34;html/template&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5795970">&#34;net/http&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="5795982">&#34;sort&#34;</span><br>
<span class="lineno"></span><span class="op" id="5795989">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5795992">const</span>&nbsp;<span class="ident" id="5795998">debugText</span>&nbsp;<span class="op" id="5796008">=</span>&nbsp;<span class="string" id="5796010">`&lt;html&gt;<br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;Services&lt;/title&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;{{range&nbsp;.}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;Service&nbsp;{{.Name}}<br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;hr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&nbsp;align=center&gt;Method&lt;/th&gt;&lt;th&nbsp;align=center&gt;Calls&lt;/th&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{range&nbsp;.Method}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;align=left&nbsp;font=fixed&gt;{{.Name}}({{.Type.ArgType}},&nbsp;{{.Type.ReplyType}})&nbsp;error&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&nbsp;align=center&gt;{{.Type.NumCalls}}&lt;/td&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;{{end}}<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;`</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5796384">var</span>&nbsp;<span class="ident" id="5796388">debug</span>&nbsp;<span class="op" id="5796394">=</span>&nbsp;<span class="ident" id="5796396">template</span><span class="op" id="5796404">.</span><span class="ident" id="5796405">Must</span><span class="op" id="5796409">(</span><span class="ident" id="5796410">template</span><span class="op" id="5796418">.</span><span class="ident" id="5796419">New</span><span class="op" id="5796422">(</span><span class="string" id="5796423">&#34;RPC&nbsp;debug&#34;</span><span class="op" id="5796434">)</span><span class="op" id="5796435">.</span><span class="ident" id="5796436">Parse</span><span class="op" id="5796441">(</span><span class="ident" id="5796442">debugText</span><span class="op" id="5796451">)</span><span class="op" id="5796452">)</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span><span class="comment" id="5796455">//&nbsp;If&nbsp;set,&nbsp;print&nbsp;log&nbsp;statements&nbsp;for&nbsp;internal&nbsp;and&nbsp;I/O&nbsp;errors.</span><br>
<span class="lineno"></span><span class="keyword" id="5796516">var</span>&nbsp;<span class="ident" id="5796520">debugLog</span>&nbsp;<span class="op" id="5796529">=</span>&nbsp;<span class="builtintype" id="5796531">false</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5796538">type</span>&nbsp;<span class="ident" id="5796543">debugMethod</span>&nbsp;<span class="keyword" id="5796555">struct</span>&nbsp;<span class="op" id="5796562">{</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5796565">Type</span>&nbsp;<span class="op" id="5796570">*</span><span class="ident" id="5796571">methodType</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5796583">Name</span>&nbsp;<span class="builtintype" id="5796588">string</span><br>
<span class="lineno"></span><span class="op" id="5796595">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5796598">type</span>&nbsp;<span class="ident" id="5796603">methodArray</span>&nbsp;<span class="op" id="5796615">[</span><span class="op" id="5796616">]</span><span class="ident" id="5796617">debugMethod</span><br>
<span class="lineno">50</span><br>
<span class="lineno"></span><span class="keyword" id="5796630">type</span>&nbsp;<span class="ident" id="5796635">debugService</span>&nbsp;<span class="keyword" id="5796648">struct</span>&nbsp;<span class="op" id="5796655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5796658">Service</span>&nbsp;<span class="op" id="5796666">*</span><span class="ident" id="5796667">service</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5796676">Name</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5796684">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5796692">Method</span>&nbsp;&nbsp;<span class="ident" id="5796700">methodArray</span><br>
<span class="lineno">55</span><span class="op" id="5796712">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5796715">type</span>&nbsp;<span class="ident" id="5796720">serviceArray</span>&nbsp;<span class="op" id="5796733">[</span><span class="op" id="5796734">]</span><span class="ident" id="5796735">debugService</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5796749">func</span>&nbsp;<span class="op" id="5796754">(</span><span class="ident" id="5796755">s</span>&nbsp;<span class="ident" id="5796757">serviceArray</span><span class="op" id="5796769">)</span>&nbsp;<span class="ident" id="5796771">Len</span><span class="op" id="5796774">(</span><span class="op" id="5796775">)</span>&nbsp;<span class="builtintype" id="5796777">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5796791">{</span>&nbsp;<span class="keyword" id="5796793">return</span>&nbsp;<span class="builtinfunc" id="5796800">len</span><span class="op" id="5796803">(</span><span class="ident" id="5796804">s</span><span class="op" id="5796805">)</span>&nbsp;<span class="op" id="5796807">}</span><br>
<span class="lineno">60</span><span class="keyword" id="5796809">func</span>&nbsp;<span class="op" id="5796814">(</span><span class="ident" id="5796815">s</span>&nbsp;<span class="ident" id="5796817">serviceArray</span><span class="op" id="5796829">)</span>&nbsp;<span class="ident" id="5796831">Less</span><span class="op" id="5796835">(</span><span class="ident" id="5796836">i</span><span class="op" id="5796837">,</span>&nbsp;<span class="ident" id="5796839">j</span>&nbsp;<span class="builtintype" id="5796841">int</span><span class="op" id="5796844">)</span>&nbsp;<span class="builtintype" id="5796846">bool</span>&nbsp;<span class="op" id="5796851">{</span>&nbsp;<span class="keyword" id="5796853">return</span>&nbsp;<span class="ident" id="5796860">s</span><span class="op" id="5796861">[</span><span class="ident" id="5796862">i</span><span class="op" id="5796863">]</span><span class="op" id="5796864">.</span><span class="ident" id="5796865">Name</span>&nbsp;<span class="op" id="5796870">&lt;</span>&nbsp;<span class="ident" id="5796872">s</span><span class="op" id="5796873">[</span><span class="ident" id="5796874">j</span><span class="op" id="5796875">]</span><span class="op" id="5796876">.</span><span class="ident" id="5796877">Name</span>&nbsp;<span class="op" id="5796882">}</span><br>
<span class="lineno"></span><span class="keyword" id="5796884">func</span>&nbsp;<span class="op" id="5796889">(</span><span class="ident" id="5796890">s</span>&nbsp;<span class="ident" id="5796892">serviceArray</span><span class="op" id="5796904">)</span>&nbsp;<span class="ident" id="5796906">Swap</span><span class="op" id="5796910">(</span><span class="ident" id="5796911">i</span><span class="op" id="5796912">,</span>&nbsp;<span class="ident" id="5796914">j</span>&nbsp;<span class="builtintype" id="5796916">int</span><span class="op" id="5796919">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5796926">{</span>&nbsp;<span class="ident" id="5796928">s</span><span class="op" id="5796929">[</span><span class="ident" id="5796930">i</span><span class="op" id="5796931">]</span><span class="op" id="5796932">,</span>&nbsp;<span class="ident" id="5796934">s</span><span class="op" id="5796935">[</span><span class="ident" id="5796936">j</span><span class="op" id="5796937">]</span>&nbsp;<span class="op" id="5796939">=</span>&nbsp;<span class="ident" id="5796941">s</span><span class="op" id="5796942">[</span><span class="ident" id="5796943">j</span><span class="op" id="5796944">]</span><span class="op" id="5796945">,</span>&nbsp;<span class="ident" id="5796947">s</span><span class="op" id="5796948">[</span><span class="ident" id="5796949">i</span><span class="op" id="5796950">]</span>&nbsp;<span class="op" id="5796952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5796955">func</span>&nbsp;<span class="op" id="5796960">(</span><span class="ident" id="5796961">m</span>&nbsp;<span class="ident" id="5796963">methodArray</span><span class="op" id="5796974">)</span>&nbsp;<span class="ident" id="5796976">Len</span><span class="op" id="5796979">(</span><span class="op" id="5796980">)</span>&nbsp;<span class="builtintype" id="5796982">int</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5796996">{</span>&nbsp;<span class="keyword" id="5796998">return</span>&nbsp;<span class="builtinfunc" id="5797005">len</span><span class="op" id="5797008">(</span><span class="ident" id="5797009">m</span><span class="op" id="5797010">)</span>&nbsp;<span class="op" id="5797012">}</span><br>
<span class="lineno"></span><span class="keyword" id="5797014">func</span>&nbsp;<span class="op" id="5797019">(</span><span class="ident" id="5797020">m</span>&nbsp;<span class="ident" id="5797022">methodArray</span><span class="op" id="5797033">)</span>&nbsp;<span class="ident" id="5797035">Less</span><span class="op" id="5797039">(</span><span class="ident" id="5797040">i</span><span class="op" id="5797041">,</span>&nbsp;<span class="ident" id="5797043">j</span>&nbsp;<span class="builtintype" id="5797045">int</span><span class="op" id="5797048">)</span>&nbsp;<span class="builtintype" id="5797050">bool</span>&nbsp;<span class="op" id="5797055">{</span>&nbsp;<span class="keyword" id="5797057">return</span>&nbsp;<span class="ident" id="5797064">m</span><span class="op" id="5797065">[</span><span class="ident" id="5797066">i</span><span class="op" id="5797067">]</span><span class="op" id="5797068">.</span><span class="ident" id="5797069">Name</span>&nbsp;<span class="op" id="5797074">&lt;</span>&nbsp;<span class="ident" id="5797076">m</span><span class="op" id="5797077">[</span><span class="ident" id="5797078">j</span><span class="op" id="5797079">]</span><span class="op" id="5797080">.</span><span class="ident" id="5797081">Name</span>&nbsp;<span class="op" id="5797086">}</span><br>
<span class="lineno">65</span><span class="keyword" id="5797088">func</span>&nbsp;<span class="op" id="5797093">(</span><span class="ident" id="5797094">m</span>&nbsp;<span class="ident" id="5797096">methodArray</span><span class="op" id="5797107">)</span>&nbsp;<span class="ident" id="5797109">Swap</span><span class="op" id="5797113">(</span><span class="ident" id="5797114">i</span><span class="op" id="5797115">,</span>&nbsp;<span class="ident" id="5797117">j</span>&nbsp;<span class="builtintype" id="5797119">int</span><span class="op" id="5797122">)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5797129">{</span>&nbsp;<span class="ident" id="5797131">m</span><span class="op" id="5797132">[</span><span class="ident" id="5797133">i</span><span class="op" id="5797134">]</span><span class="op" id="5797135">,</span>&nbsp;<span class="ident" id="5797137">m</span><span class="op" id="5797138">[</span><span class="ident" id="5797139">j</span><span class="op" id="5797140">]</span>&nbsp;<span class="op" id="5797142">=</span>&nbsp;<span class="ident" id="5797144">m</span><span class="op" id="5797145">[</span><span class="ident" id="5797146">j</span><span class="op" id="5797147">]</span><span class="op" id="5797148">,</span>&nbsp;<span class="ident" id="5797150">m</span><span class="op" id="5797151">[</span><span class="ident" id="5797152">i</span><span class="op" id="5797153">]</span>&nbsp;<span class="op" id="5797155">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5797158">type</span>&nbsp;<span class="ident" id="5797163">debugHTTP</span>&nbsp;<span class="keyword" id="5797173">struct</span>&nbsp;<span class="op" id="5797180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5797183">*</span><span class="ident" id="5797184">Server</span><br>
<span class="lineno"></span><span class="op" id="5797191">}</span><br>
<span class="lineno">70</span><br>
<span class="lineno"></span><span class="comment" id="5797194">//&nbsp;Runs&nbsp;at&nbsp;/debug/rpc</span><br>
<span class="lineno"></span><span class="keyword" id="5797216">func</span>&nbsp;<span class="op" id="5797221">(</span><span class="ident" id="5797222">server</span>&nbsp;<span class="ident" id="5797229">debugHTTP</span><span class="op" id="5797238">)</span>&nbsp;<span class="ident" id="5797240">ServeHTTP</span><span class="op" id="5797249">(</span><span class="ident" id="5797250">w</span>&nbsp;<span class="ident" id="5797252">http</span><span class="op" id="5797256">.</span><span class="ident" id="5797257">ResponseWriter</span><span class="op" id="5797271">,</span>&nbsp;<span class="ident" id="5797273">req</span>&nbsp;<span class="op" id="5797277">*</span><span class="ident" id="5797278">http</span><span class="op" id="5797282">.</span><span class="ident" id="5797283">Request</span><span class="op" id="5797290">)</span>&nbsp;<span class="op" id="5797292">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5797295">//&nbsp;Build&nbsp;a&nbsp;sorted&nbsp;version&nbsp;of&nbsp;the&nbsp;data.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5797335">var</span>&nbsp;<span class="ident" id="5797339">services</span>&nbsp;<span class="op" id="5797348">=</span>&nbsp;<span class="builtinfunc" id="5797350">make</span><span class="op" id="5797354">(</span><span class="ident" id="5797355">serviceArray</span><span class="op" id="5797367">,</span>&nbsp;<span class="builtinfunc" id="5797369">len</span><span class="op" id="5797372">(</span><span class="ident" id="5797373">server</span><span class="op" id="5797379">.</span><span class="ident" id="5797380">serviceMap</span><span class="op" id="5797390">)</span><span class="op" id="5797391">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797394">i</span>&nbsp;<span class="op" id="5797396">:=</span>&nbsp;<span class="num" id="5797399">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797402">server</span><span class="op" id="5797408">.</span><span class="ident" id="5797409">mu</span><span class="op" id="5797411">.</span><span class="ident" id="5797412">Lock</span><span class="op" id="5797416">(</span><span class="op" id="5797417">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5797420">for</span>&nbsp;<span class="ident" id="5797424">sname</span><span class="op" id="5797429">,</span>&nbsp;<span class="ident" id="5797431">service</span>&nbsp;<span class="op" id="5797439">:=</span>&nbsp;<span class="keyword" id="5797442">range</span>&nbsp;<span class="ident" id="5797448">server</span><span class="op" id="5797454">.</span><span class="ident" id="5797455">serviceMap</span>&nbsp;<span class="op" id="5797466">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797470">services</span><span class="op" id="5797478">[</span><span class="ident" id="5797479">i</span><span class="op" id="5797480">]</span>&nbsp;<span class="op" id="5797482">=</span>&nbsp;<span class="ident" id="5797484">debugService</span><span class="op" id="5797496">{</span><span class="ident" id="5797497">service</span><span class="op" id="5797504">,</span>&nbsp;<span class="ident" id="5797506">sname</span><span class="op" id="5797511">,</span>&nbsp;<span class="builtinfunc" id="5797513">make</span><span class="op" id="5797517">(</span><span class="ident" id="5797518">methodArray</span><span class="op" id="5797529">,</span>&nbsp;<span class="builtinfunc" id="5797531">len</span><span class="op" id="5797534">(</span><span class="ident" id="5797535">service</span><span class="op" id="5797542">.</span><span class="ident" id="5797543">method</span><span class="op" id="5797549">)</span><span class="op" id="5797550">)</span><span class="op" id="5797551">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797555">j</span>&nbsp;<span class="op" id="5797557">:=</span>&nbsp;<span class="num" id="5797560">0</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5797564">for</span>&nbsp;<span class="ident" id="5797568">mname</span><span class="op" id="5797573">,</span>&nbsp;<span class="ident" id="5797575">method</span>&nbsp;<span class="op" id="5797582">:=</span>&nbsp;<span class="keyword" id="5797585">range</span>&nbsp;<span class="ident" id="5797591">service</span><span class="op" id="5797598">.</span><span class="ident" id="5797599">method</span>&nbsp;<span class="op" id="5797606">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797611">services</span><span class="op" id="5797619">[</span><span class="ident" id="5797620">i</span><span class="op" id="5797621">]</span><span class="op" id="5797622">.</span><span class="ident" id="5797623">Method</span><span class="op" id="5797629">[</span><span class="ident" id="5797630">j</span><span class="op" id="5797631">]</span>&nbsp;<span class="op" id="5797633">=</span>&nbsp;<span class="ident" id="5797635">debugMethod</span><span class="op" id="5797646">{</span><span class="ident" id="5797647">method</span><span class="op" id="5797653">,</span>&nbsp;<span class="ident" id="5797655">mname</span><span class="op" id="5797660">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797665">j</span><span class="op" id="5797666">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5797671">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797675">sort</span><span class="op" id="5797679">.</span><span class="ident" id="5797680">Sort</span><span class="op" id="5797684">(</span><span class="ident" id="5797685">services</span><span class="op" id="5797693">[</span><span class="ident" id="5797694">i</span><span class="op" id="5797695">]</span><span class="op" id="5797696">.</span><span class="ident" id="5797697">Method</span><span class="op" id="5797703">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797707">i</span><span class="op" id="5797708">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5797712">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797715">server</span><span class="op" id="5797721">.</span><span class="ident" id="5797722">mu</span><span class="op" id="5797724">.</span><span class="ident" id="5797725">Unlock</span><span class="op" id="5797731">(</span><span class="op" id="5797732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797735">sort</span><span class="op" id="5797739">.</span><span class="ident" id="5797740">Sort</span><span class="op" id="5797744">(</span><span class="ident" id="5797745">services</span><span class="op" id="5797753">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797756">err</span>&nbsp;<span class="op" id="5797760">:=</span>&nbsp;<span class="ident" id="5797763">debug</span><span class="op" id="5797768">.</span><span class="ident" id="5797769">Execute</span><span class="op" id="5797776">(</span><span class="ident" id="5797777">w</span><span class="op" id="5797778">,</span>&nbsp;<span class="ident" id="5797780">services</span><span class="op" id="5797788">)</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="5797791">if</span>&nbsp;<span class="ident" id="5797794">err</span>&nbsp;<span class="op" id="5797798">!=</span>&nbsp;<span class="builtintype" id="5797801">nil</span>&nbsp;<span class="op" id="5797805">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5797809">fmt</span><span class="op" id="5797812">.</span><span class="ident" id="5797813">Fprintln</span><span class="op" id="5797821">(</span><span class="ident" id="5797822">w</span><span class="op" id="5797823">,</span>&nbsp;<span class="string" id="5797825">&#34;rpc:&nbsp;error&nbsp;executing&nbsp;template:&#34;</span><span class="op" id="5797857">,</span>&nbsp;<span class="ident" id="5797859">err</span><span class="op" id="5797862">.</span><span class="ident" id="5797863">Error</span><span class="op" id="5797868">(</span><span class="op" id="5797869">)</span><span class="op" id="5797870">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5797873">}</span><br>
<span class="lineno"></span><span class="op" id="5797875">}</span>
</div>
</body>
</html>
