<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>compress/flate</h2>
<ul>
<li><a href="/gostd/compress/flate/copy.go.html">copy.go</a></li>
<li><a href="/gostd/compress/flate/copy_test.go.html">copy_test.go</a></li>
<li><a href="/gostd/compress/flate/deflate.go.html">deflate.go</a></li>
<li><a href="/gostd/compress/flate/deflate_test.go.html" class="current">deflate_test.go</a></li>
<li><a href="/gostd/compress/flate/fixedhuff.go.html">fixedhuff.go</a></li>
<li><a href="/gostd/compress/flate/flate_test.go.html">flate_test.go</a></li>
<li><a href="/gostd/compress/flate/huffman_bit_writer.go.html">huffman_bit_writer.go</a></li>
<li><a href="/gostd/compress/flate/huffman_code.go.html">huffman_code.go</a></li>
<li><a href="/gostd/compress/flate/inflate.go.html">inflate.go</a></li>
<li><a href="/gostd/compress/flate/inflate_test.go.html">inflate_test.go</a></li>
<li><a href="/gostd/compress/flate/reader_test.go.html">reader_test.go</a></li>
<li><a href="/gostd/compress/flate/reverse_bits.go.html">reverse_bits.go</a></li>
<li><a href="/gostd/compress/flate/token.go.html">token.go</a></li>
<li><a href="/gostd/compress/flate/writer_test.go.html">writer_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6419035">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6419090">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6419144">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6419195">package</span>&nbsp;<span class="ident" id="6419203">flate</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6419210">import</span>&nbsp;<span class="op" id="6419217">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419220">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419229">&#34;fmt&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419236">&#34;io&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419242">&#34;io/ioutil&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419255">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419266">&#34;sync&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6419274">&#34;testing&#34;</span><br>
<span class="lineno">15</span><span class="op" id="6419284">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6419287">type</span>&nbsp;<span class="ident" id="6419292">deflateTest</span>&nbsp;<span class="keyword" id="6419304">struct</span>&nbsp;<span class="op" id="6419311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419314">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419320">[</span><span class="op" id="6419321">]</span><span class="builtintype" id="6419322">byte</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419328">level</span>&nbsp;<span class="builtintype" id="6419334">int</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419339">out</span>&nbsp;&nbsp;&nbsp;<span class="op" id="6419345">[</span><span class="op" id="6419346">]</span><span class="builtintype" id="6419347">byte</span><br>
<span class="lineno"></span><span class="op" id="6419352">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6419355">type</span>&nbsp;<span class="ident" id="6419360">deflateInflateTest</span>&nbsp;<span class="keyword" id="6419379">struct</span>&nbsp;<span class="op" id="6419386">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419389">in</span>&nbsp;<span class="op" id="6419392">[</span><span class="op" id="6419393">]</span><span class="builtintype" id="6419394">byte</span><br>
<span class="lineno">25</span><span class="op" id="6419399">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6419402">type</span>&nbsp;<span class="ident" id="6419407">reverseBitsTest</span>&nbsp;<span class="keyword" id="6419423">struct</span>&nbsp;<span class="op" id="6419430">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419433">in</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6419442">uint16</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419450">bitCount</span>&nbsp;<span class="builtintype" id="6419459">uint8</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6419466">out</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6419475">uint16</span><br>
<span class="lineno"></span><span class="op" id="6419482">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6419485">var</span>&nbsp;<span class="ident" id="6419489">deflateTests</span>&nbsp;<span class="op" id="6419502">=</span>&nbsp;<span class="op" id="6419504">[</span><span class="op" id="6419505">]</span><span class="op" id="6419506">*</span><span class="ident" id="6419507"><a href="/gostd/compress/flate/deflate_test.go.html#6419292">deflateTest</a></span><span class="op" id="6419518">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419521">{</span><span class="op" id="6419522">[</span><span class="op" id="6419523">]</span><span class="builtintype" id="6419524">byte</span><span class="op" id="6419528">{</span><span class="op" id="6419529">}</span><span class="op" id="6419530">,</span>&nbsp;<span class="num" id="6419532">0</span><span class="op" id="6419533">,</span>&nbsp;<span class="op" id="6419535">[</span><span class="op" id="6419536">]</span><span class="builtintype" id="6419537">byte</span><span class="op" id="6419541">{</span><span class="num" id="6419542">1</span><span class="op" id="6419543">,</span>&nbsp;<span class="num" id="6419545">0</span><span class="op" id="6419546">,</span>&nbsp;<span class="num" id="6419548">0</span><span class="op" id="6419549">,</span>&nbsp;<span class="num" id="6419551">255</span><span class="op" id="6419554">,</span>&nbsp;<span class="num" id="6419556">255</span><span class="op" id="6419559">}</span><span class="op" id="6419560">}</span><span class="op" id="6419561">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419564">{</span><span class="op" id="6419565">[</span><span class="op" id="6419566">]</span><span class="builtintype" id="6419567">byte</span><span class="op" id="6419571">{</span><span class="num" id="6419572">0x11</span><span class="op" id="6419576">}</span><span class="op" id="6419577">,</span>&nbsp;<span class="op" id="6419579">-</span><span class="num" id="6419580">1</span><span class="op" id="6419581">,</span>&nbsp;<span class="op" id="6419583">[</span><span class="op" id="6419584">]</span><span class="builtintype" id="6419585">byte</span><span class="op" id="6419589">{</span><span class="num" id="6419590">18</span><span class="op" id="6419592">,</span>&nbsp;<span class="num" id="6419594">4</span><span class="op" id="6419595">,</span>&nbsp;<span class="num" id="6419597">4</span><span class="op" id="6419598">,</span>&nbsp;<span class="num" id="6419600">0</span><span class="op" id="6419601">,</span>&nbsp;<span class="num" id="6419603">0</span><span class="op" id="6419604">,</span>&nbsp;<span class="num" id="6419606">255</span><span class="op" id="6419609">,</span>&nbsp;<span class="num" id="6419611">255</span><span class="op" id="6419614">}</span><span class="op" id="6419615">}</span><span class="op" id="6419616">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419619">{</span><span class="op" id="6419620">[</span><span class="op" id="6419621">]</span><span class="builtintype" id="6419622">byte</span><span class="op" id="6419626">{</span><span class="num" id="6419627">0x11</span><span class="op" id="6419631">}</span><span class="op" id="6419632">,</span>&nbsp;<span class="ident" id="6419634"><a href="/gostd/compress/flate/deflate.go.html#4792381">DefaultCompression</a></span><span class="op" id="6419652">,</span>&nbsp;<span class="op" id="6419654">[</span><span class="op" id="6419655">]</span><span class="builtintype" id="6419656">byte</span><span class="op" id="6419660">{</span><span class="num" id="6419661">18</span><span class="op" id="6419663">,</span>&nbsp;<span class="num" id="6419665">4</span><span class="op" id="6419666">,</span>&nbsp;<span class="num" id="6419668">4</span><span class="op" id="6419669">,</span>&nbsp;<span class="num" id="6419671">0</span><span class="op" id="6419672">,</span>&nbsp;<span class="num" id="6419674">0</span><span class="op" id="6419675">,</span>&nbsp;<span class="num" id="6419677">255</span><span class="op" id="6419680">,</span>&nbsp;<span class="num" id="6419682">255</span><span class="op" id="6419685">}</span><span class="op" id="6419686">}</span><span class="op" id="6419687">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419690">{</span><span class="op" id="6419691">[</span><span class="op" id="6419692">]</span><span class="builtintype" id="6419693">byte</span><span class="op" id="6419697">{</span><span class="num" id="6419698">0x11</span><span class="op" id="6419702">}</span><span class="op" id="6419703">,</span>&nbsp;<span class="num" id="6419705">4</span><span class="op" id="6419706">,</span>&nbsp;<span class="op" id="6419708">[</span><span class="op" id="6419709">]</span><span class="builtintype" id="6419710">byte</span><span class="op" id="6419714">{</span><span class="num" id="6419715">18</span><span class="op" id="6419717">,</span>&nbsp;<span class="num" id="6419719">4</span><span class="op" id="6419720">,</span>&nbsp;<span class="num" id="6419722">4</span><span class="op" id="6419723">,</span>&nbsp;<span class="num" id="6419725">0</span><span class="op" id="6419726">,</span>&nbsp;<span class="num" id="6419728">0</span><span class="op" id="6419729">,</span>&nbsp;<span class="num" id="6419731">255</span><span class="op" id="6419734">,</span>&nbsp;<span class="num" id="6419736">255</span><span class="op" id="6419739">}</span><span class="op" id="6419740">}</span><span class="op" id="6419741">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419745">{</span><span class="op" id="6419746">[</span><span class="op" id="6419747">]</span><span class="builtintype" id="6419748">byte</span><span class="op" id="6419752">{</span><span class="num" id="6419753">0x11</span><span class="op" id="6419757">}</span><span class="op" id="6419758">,</span>&nbsp;<span class="num" id="6419760">0</span><span class="op" id="6419761">,</span>&nbsp;<span class="op" id="6419763">[</span><span class="op" id="6419764">]</span><span class="builtintype" id="6419765">byte</span><span class="op" id="6419769">{</span><span class="num" id="6419770">0</span><span class="op" id="6419771">,</span>&nbsp;<span class="num" id="6419773">1</span><span class="op" id="6419774">,</span>&nbsp;<span class="num" id="6419776">0</span><span class="op" id="6419777">,</span>&nbsp;<span class="num" id="6419779">254</span><span class="op" id="6419782">,</span>&nbsp;<span class="num" id="6419784">255</span><span class="op" id="6419787">,</span>&nbsp;<span class="num" id="6419789">17</span><span class="op" id="6419791">,</span>&nbsp;<span class="num" id="6419793">1</span><span class="op" id="6419794">,</span>&nbsp;<span class="num" id="6419796">0</span><span class="op" id="6419797">,</span>&nbsp;<span class="num" id="6419799">0</span><span class="op" id="6419800">,</span>&nbsp;<span class="num" id="6419802">255</span><span class="op" id="6419805">,</span>&nbsp;<span class="num" id="6419807">255</span><span class="op" id="6419810">}</span><span class="op" id="6419811">}</span><span class="op" id="6419812">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419815">{</span><span class="op" id="6419816">[</span><span class="op" id="6419817">]</span><span class="builtintype" id="6419818">byte</span><span class="op" id="6419822">{</span><span class="num" id="6419823">0x11</span><span class="op" id="6419827">,</span>&nbsp;<span class="num" id="6419829">0x12</span><span class="op" id="6419833">}</span><span class="op" id="6419834">,</span>&nbsp;<span class="num" id="6419836">0</span><span class="op" id="6419837">,</span>&nbsp;<span class="op" id="6419839">[</span><span class="op" id="6419840">]</span><span class="builtintype" id="6419841">byte</span><span class="op" id="6419845">{</span><span class="num" id="6419846">0</span><span class="op" id="6419847">,</span>&nbsp;<span class="num" id="6419849">2</span><span class="op" id="6419850">,</span>&nbsp;<span class="num" id="6419852">0</span><span class="op" id="6419853">,</span>&nbsp;<span class="num" id="6419855">253</span><span class="op" id="6419858">,</span>&nbsp;<span class="num" id="6419860">255</span><span class="op" id="6419863">,</span>&nbsp;<span class="num" id="6419865">17</span><span class="op" id="6419867">,</span>&nbsp;<span class="num" id="6419869">18</span><span class="op" id="6419871">,</span>&nbsp;<span class="num" id="6419873">1</span><span class="op" id="6419874">,</span>&nbsp;<span class="num" id="6419876">0</span><span class="op" id="6419877">,</span>&nbsp;<span class="num" id="6419879">0</span><span class="op" id="6419880">,</span>&nbsp;<span class="num" id="6419882">255</span><span class="op" id="6419885">,</span>&nbsp;<span class="num" id="6419887">255</span><span class="op" id="6419890">}</span><span class="op" id="6419891">}</span><span class="op" id="6419892">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419895">{</span><span class="op" id="6419896">[</span><span class="op" id="6419897">]</span><span class="builtintype" id="6419898">byte</span><span class="op" id="6419902">{</span><span class="num" id="6419903">0x11</span><span class="op" id="6419907">,</span>&nbsp;<span class="num" id="6419909">0x11</span><span class="op" id="6419913">,</span>&nbsp;<span class="num" id="6419915">0x11</span><span class="op" id="6419919">,</span>&nbsp;<span class="num" id="6419921">0x11</span><span class="op" id="6419925">,</span>&nbsp;<span class="num" id="6419927">0x11</span><span class="op" id="6419931">,</span>&nbsp;<span class="num" id="6419933">0x11</span><span class="op" id="6419937">,</span>&nbsp;<span class="num" id="6419939">0x11</span><span class="op" id="6419943">,</span>&nbsp;<span class="num" id="6419945">0x11</span><span class="op" id="6419949">}</span><span class="op" id="6419950">,</span>&nbsp;<span class="num" id="6419952">0</span><span class="op" id="6419953">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6419957">[</span><span class="op" id="6419958">]</span><span class="builtintype" id="6419959">byte</span><span class="op" id="6419963">{</span><span class="num" id="6419964">0</span><span class="op" id="6419965">,</span>&nbsp;<span class="num" id="6419967">8</span><span class="op" id="6419968">,</span>&nbsp;<span class="num" id="6419970">0</span><span class="op" id="6419971">,</span>&nbsp;<span class="num" id="6419973">247</span><span class="op" id="6419976">,</span>&nbsp;<span class="num" id="6419978">255</span><span class="op" id="6419981">,</span>&nbsp;<span class="num" id="6419983">17</span><span class="op" id="6419985">,</span>&nbsp;<span class="num" id="6419987">17</span><span class="op" id="6419989">,</span>&nbsp;<span class="num" id="6419991">17</span><span class="op" id="6419993">,</span>&nbsp;<span class="num" id="6419995">17</span><span class="op" id="6419997">,</span>&nbsp;<span class="num" id="6419999">17</span><span class="op" id="6420001">,</span>&nbsp;<span class="num" id="6420003">17</span><span class="op" id="6420005">,</span>&nbsp;<span class="num" id="6420007">17</span><span class="op" id="6420009">,</span>&nbsp;<span class="num" id="6420011">17</span><span class="op" id="6420013">,</span>&nbsp;<span class="num" id="6420015">1</span><span class="op" id="6420016">,</span>&nbsp;<span class="num" id="6420018">0</span><span class="op" id="6420019">,</span>&nbsp;<span class="num" id="6420021">0</span><span class="op" id="6420022">,</span>&nbsp;<span class="num" id="6420024">255</span><span class="op" id="6420027">,</span>&nbsp;<span class="num" id="6420029">255</span><span class="op" id="6420032">}</span><span class="op" id="6420033">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420036">}</span><span class="op" id="6420037">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420040">{</span><span class="op" id="6420041">[</span><span class="op" id="6420042">]</span><span class="builtintype" id="6420043">byte</span><span class="op" id="6420047">{</span><span class="op" id="6420048">}</span><span class="op" id="6420049">,</span>&nbsp;<span class="num" id="6420051">1</span><span class="op" id="6420052">,</span>&nbsp;<span class="op" id="6420054">[</span><span class="op" id="6420055">]</span><span class="builtintype" id="6420056">byte</span><span class="op" id="6420060">{</span><span class="num" id="6420061">1</span><span class="op" id="6420062">,</span>&nbsp;<span class="num" id="6420064">0</span><span class="op" id="6420065">,</span>&nbsp;<span class="num" id="6420067">0</span><span class="op" id="6420068">,</span>&nbsp;<span class="num" id="6420070">255</span><span class="op" id="6420073">,</span>&nbsp;<span class="num" id="6420075">255</span><span class="op" id="6420078">}</span><span class="op" id="6420079">}</span><span class="op" id="6420080">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420083">{</span><span class="op" id="6420084">[</span><span class="op" id="6420085">]</span><span class="builtintype" id="6420086">byte</span><span class="op" id="6420090">{</span><span class="num" id="6420091">0x11</span><span class="op" id="6420095">}</span><span class="op" id="6420096">,</span>&nbsp;<span class="num" id="6420098">1</span><span class="op" id="6420099">,</span>&nbsp;<span class="op" id="6420101">[</span><span class="op" id="6420102">]</span><span class="builtintype" id="6420103">byte</span><span class="op" id="6420107">{</span><span class="num" id="6420108">18</span><span class="op" id="6420110">,</span>&nbsp;<span class="num" id="6420112">4</span><span class="op" id="6420113">,</span>&nbsp;<span class="num" id="6420115">4</span><span class="op" id="6420116">,</span>&nbsp;<span class="num" id="6420118">0</span><span class="op" id="6420119">,</span>&nbsp;<span class="num" id="6420121">0</span><span class="op" id="6420122">,</span>&nbsp;<span class="num" id="6420124">255</span><span class="op" id="6420127">,</span>&nbsp;<span class="num" id="6420129">255</span><span class="op" id="6420132">}</span><span class="op" id="6420133">}</span><span class="op" id="6420134">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420137">{</span><span class="op" id="6420138">[</span><span class="op" id="6420139">]</span><span class="builtintype" id="6420140">byte</span><span class="op" id="6420144">{</span><span class="num" id="6420145">0x11</span><span class="op" id="6420149">,</span>&nbsp;<span class="num" id="6420151">0x12</span><span class="op" id="6420155">}</span><span class="op" id="6420156">,</span>&nbsp;<span class="num" id="6420158">1</span><span class="op" id="6420159">,</span>&nbsp;<span class="op" id="6420161">[</span><span class="op" id="6420162">]</span><span class="builtintype" id="6420163">byte</span><span class="op" id="6420167">{</span><span class="num" id="6420168">18</span><span class="op" id="6420170">,</span>&nbsp;<span class="num" id="6420172">20</span><span class="op" id="6420174">,</span>&nbsp;<span class="num" id="6420176">2</span><span class="op" id="6420177">,</span>&nbsp;<span class="num" id="6420179">4</span><span class="op" id="6420180">,</span>&nbsp;<span class="num" id="6420182">0</span><span class="op" id="6420183">,</span>&nbsp;<span class="num" id="6420185">0</span><span class="op" id="6420186">,</span>&nbsp;<span class="num" id="6420188">255</span><span class="op" id="6420191">,</span>&nbsp;<span class="num" id="6420193">255</span><span class="op" id="6420196">}</span><span class="op" id="6420197">}</span><span class="op" id="6420198">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420201">{</span><span class="op" id="6420202">[</span><span class="op" id="6420203">]</span><span class="builtintype" id="6420204">byte</span><span class="op" id="6420208">{</span><span class="num" id="6420209">0x11</span><span class="op" id="6420213">,</span>&nbsp;<span class="num" id="6420215">0x11</span><span class="op" id="6420219">,</span>&nbsp;<span class="num" id="6420221">0x11</span><span class="op" id="6420225">,</span>&nbsp;<span class="num" id="6420227">0x11</span><span class="op" id="6420231">,</span>&nbsp;<span class="num" id="6420233">0x11</span><span class="op" id="6420237">,</span>&nbsp;<span class="num" id="6420239">0x11</span><span class="op" id="6420243">,</span>&nbsp;<span class="num" id="6420245">0x11</span><span class="op" id="6420249">,</span>&nbsp;<span class="num" id="6420251">0x11</span><span class="op" id="6420255">}</span><span class="op" id="6420256">,</span>&nbsp;<span class="num" id="6420258">1</span><span class="op" id="6420259">,</span>&nbsp;<span class="op" id="6420261">[</span><span class="op" id="6420262">]</span><span class="builtintype" id="6420263">byte</span><span class="op" id="6420267">{</span><span class="num" id="6420268">18</span><span class="op" id="6420270">,</span>&nbsp;<span class="num" id="6420272">132</span><span class="op" id="6420275">,</span>&nbsp;<span class="num" id="6420277">2</span><span class="op" id="6420278">,</span>&nbsp;<span class="num" id="6420280">64</span><span class="op" id="6420282">,</span>&nbsp;<span class="num" id="6420284">0</span><span class="op" id="6420285">,</span>&nbsp;<span class="num" id="6420287">0</span><span class="op" id="6420288">,</span>&nbsp;<span class="num" id="6420290">0</span><span class="op" id="6420291">,</span>&nbsp;<span class="num" id="6420293">255</span><span class="op" id="6420296">,</span>&nbsp;<span class="num" id="6420298">255</span><span class="op" id="6420301">}</span><span class="op" id="6420302">}</span><span class="op" id="6420303">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420306">{</span><span class="op" id="6420307">[</span><span class="op" id="6420308">]</span><span class="builtintype" id="6420309">byte</span><span class="op" id="6420313">{</span><span class="op" id="6420314">}</span><span class="op" id="6420315">,</span>&nbsp;<span class="num" id="6420317">9</span><span class="op" id="6420318">,</span>&nbsp;<span class="op" id="6420320">[</span><span class="op" id="6420321">]</span><span class="builtintype" id="6420322">byte</span><span class="op" id="6420326">{</span><span class="num" id="6420327">1</span><span class="op" id="6420328">,</span>&nbsp;<span class="num" id="6420330">0</span><span class="op" id="6420331">,</span>&nbsp;<span class="num" id="6420333">0</span><span class="op" id="6420334">,</span>&nbsp;<span class="num" id="6420336">255</span><span class="op" id="6420339">,</span>&nbsp;<span class="num" id="6420341">255</span><span class="op" id="6420344">}</span><span class="op" id="6420345">}</span><span class="op" id="6420346">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420349">{</span><span class="op" id="6420350">[</span><span class="op" id="6420351">]</span><span class="builtintype" id="6420352">byte</span><span class="op" id="6420356">{</span><span class="num" id="6420357">0x11</span><span class="op" id="6420361">}</span><span class="op" id="6420362">,</span>&nbsp;<span class="num" id="6420364">9</span><span class="op" id="6420365">,</span>&nbsp;<span class="op" id="6420367">[</span><span class="op" id="6420368">]</span><span class="builtintype" id="6420369">byte</span><span class="op" id="6420373">{</span><span class="num" id="6420374">18</span><span class="op" id="6420376">,</span>&nbsp;<span class="num" id="6420378">4</span><span class="op" id="6420379">,</span>&nbsp;<span class="num" id="6420381">4</span><span class="op" id="6420382">,</span>&nbsp;<span class="num" id="6420384">0</span><span class="op" id="6420385">,</span>&nbsp;<span class="num" id="6420387">0</span><span class="op" id="6420388">,</span>&nbsp;<span class="num" id="6420390">255</span><span class="op" id="6420393">,</span>&nbsp;<span class="num" id="6420395">255</span><span class="op" id="6420398">}</span><span class="op" id="6420399">}</span><span class="op" id="6420400">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420403">{</span><span class="op" id="6420404">[</span><span class="op" id="6420405">]</span><span class="builtintype" id="6420406">byte</span><span class="op" id="6420410">{</span><span class="num" id="6420411">0x11</span><span class="op" id="6420415">,</span>&nbsp;<span class="num" id="6420417">0x12</span><span class="op" id="6420421">}</span><span class="op" id="6420422">,</span>&nbsp;<span class="num" id="6420424">9</span><span class="op" id="6420425">,</span>&nbsp;<span class="op" id="6420427">[</span><span class="op" id="6420428">]</span><span class="builtintype" id="6420429">byte</span><span class="op" id="6420433">{</span><span class="num" id="6420434">18</span><span class="op" id="6420436">,</span>&nbsp;<span class="num" id="6420438">20</span><span class="op" id="6420440">,</span>&nbsp;<span class="num" id="6420442">2</span><span class="op" id="6420443">,</span>&nbsp;<span class="num" id="6420445">4</span><span class="op" id="6420446">,</span>&nbsp;<span class="num" id="6420448">0</span><span class="op" id="6420449">,</span>&nbsp;<span class="num" id="6420451">0</span><span class="op" id="6420452">,</span>&nbsp;<span class="num" id="6420454">255</span><span class="op" id="6420457">,</span>&nbsp;<span class="num" id="6420459">255</span><span class="op" id="6420462">}</span><span class="op" id="6420463">}</span><span class="op" id="6420464">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420467">{</span><span class="op" id="6420468">[</span><span class="op" id="6420469">]</span><span class="builtintype" id="6420470">byte</span><span class="op" id="6420474">{</span><span class="num" id="6420475">0x11</span><span class="op" id="6420479">,</span>&nbsp;<span class="num" id="6420481">0x11</span><span class="op" id="6420485">,</span>&nbsp;<span class="num" id="6420487">0x11</span><span class="op" id="6420491">,</span>&nbsp;<span class="num" id="6420493">0x11</span><span class="op" id="6420497">,</span>&nbsp;<span class="num" id="6420499">0x11</span><span class="op" id="6420503">,</span>&nbsp;<span class="num" id="6420505">0x11</span><span class="op" id="6420509">,</span>&nbsp;<span class="num" id="6420511">0x11</span><span class="op" id="6420515">,</span>&nbsp;<span class="num" id="6420517">0x11</span><span class="op" id="6420521">}</span><span class="op" id="6420522">,</span>&nbsp;<span class="num" id="6420524">9</span><span class="op" id="6420525">,</span>&nbsp;<span class="op" id="6420527">[</span><span class="op" id="6420528">]</span><span class="builtintype" id="6420529">byte</span><span class="op" id="6420533">{</span><span class="num" id="6420534">18</span><span class="op" id="6420536">,</span>&nbsp;<span class="num" id="6420538">132</span><span class="op" id="6420541">,</span>&nbsp;<span class="num" id="6420543">2</span><span class="op" id="6420544">,</span>&nbsp;<span class="num" id="6420546">64</span><span class="op" id="6420548">,</span>&nbsp;<span class="num" id="6420550">0</span><span class="op" id="6420551">,</span>&nbsp;<span class="num" id="6420553">0</span><span class="op" id="6420554">,</span>&nbsp;<span class="num" id="6420556">0</span><span class="op" id="6420557">,</span>&nbsp;<span class="num" id="6420559">255</span><span class="op" id="6420562">,</span>&nbsp;<span class="num" id="6420564">255</span><span class="op" id="6420567">}</span><span class="op" id="6420568">}</span><span class="op" id="6420569">,</span><br>
<span class="lineno"></span><span class="op" id="6420571">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6420574">var</span>&nbsp;<span class="ident" id="6420578">deflateInflateTests</span>&nbsp;<span class="op" id="6420598">=</span>&nbsp;<span class="op" id="6420600">[</span><span class="op" id="6420601">]</span><span class="op" id="6420602">*</span><span class="ident" id="6420603"><a href="/gostd/compress/flate/deflate_test.go.html#6419360">deflateInflateTest</a></span><span class="op" id="6420621">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420624">{</span><span class="op" id="6420625">[</span><span class="op" id="6420626">]</span><span class="builtintype" id="6420627">byte</span><span class="op" id="6420631">{</span><span class="op" id="6420632">}</span><span class="op" id="6420633">}</span><span class="op" id="6420634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420637">{</span><span class="op" id="6420638">[</span><span class="op" id="6420639">]</span><span class="builtintype" id="6420640">byte</span><span class="op" id="6420644">{</span><span class="num" id="6420645">0x11</span><span class="op" id="6420649">}</span><span class="op" id="6420650">}</span><span class="op" id="6420651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420654">{</span><span class="op" id="6420655">[</span><span class="op" id="6420656">]</span><span class="builtintype" id="6420657">byte</span><span class="op" id="6420661">{</span><span class="num" id="6420662">0x11</span><span class="op" id="6420666">,</span>&nbsp;<span class="num" id="6420668">0x12</span><span class="op" id="6420672">}</span><span class="op" id="6420673">}</span><span class="op" id="6420674">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420677">{</span><span class="op" id="6420678">[</span><span class="op" id="6420679">]</span><span class="builtintype" id="6420680">byte</span><span class="op" id="6420684">{</span><span class="num" id="6420685">0x11</span><span class="op" id="6420689">,</span>&nbsp;<span class="num" id="6420691">0x11</span><span class="op" id="6420695">,</span>&nbsp;<span class="num" id="6420697">0x11</span><span class="op" id="6420701">,</span>&nbsp;<span class="num" id="6420703">0x11</span><span class="op" id="6420707">,</span>&nbsp;<span class="num" id="6420709">0x11</span><span class="op" id="6420713">,</span>&nbsp;<span class="num" id="6420715">0x11</span><span class="op" id="6420719">,</span>&nbsp;<span class="num" id="6420721">0x11</span><span class="op" id="6420725">,</span>&nbsp;<span class="num" id="6420727">0x11</span><span class="op" id="6420731">}</span><span class="op" id="6420732">}</span><span class="op" id="6420733">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420736">{</span><span class="op" id="6420737">[</span><span class="op" id="6420738">]</span><span class="builtintype" id="6420739">byte</span><span class="op" id="6420743">{</span><span class="num" id="6420744">0x11</span><span class="op" id="6420748">,</span>&nbsp;<span class="num" id="6420750">0x10</span><span class="op" id="6420754">,</span>&nbsp;<span class="num" id="6420756">0x13</span><span class="op" id="6420760">,</span>&nbsp;<span class="num" id="6420762">0x41</span><span class="op" id="6420766">,</span>&nbsp;<span class="num" id="6420768">0x21</span><span class="op" id="6420772">,</span>&nbsp;<span class="num" id="6420774">0x21</span><span class="op" id="6420778">,</span>&nbsp;<span class="num" id="6420780">0x41</span><span class="op" id="6420784">,</span>&nbsp;<span class="num" id="6420786">0x13</span><span class="op" id="6420790">,</span>&nbsp;<span class="num" id="6420792">0x87</span><span class="op" id="6420796">,</span>&nbsp;<span class="num" id="6420798">0x78</span><span class="op" id="6420802">,</span>&nbsp;<span class="num" id="6420804">0x13</span><span class="op" id="6420808">}</span><span class="op" id="6420809">}</span><span class="op" id="6420810">,</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420813">{</span><span class="ident" id="6420814"><a href="/gostd/compress/flate/deflate_test.go.html#6420992">largeDataChunk</a></span><span class="op" id="6420828">(</span><span class="op" id="6420829">)</span><span class="op" id="6420830">}</span><span class="op" id="6420831">,</span><br>
<span class="lineno"></span><span class="op" id="6420833">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6420836">var</span>&nbsp;<span class="ident" id="6420840">reverseBitsTests</span>&nbsp;<span class="op" id="6420857">=</span>&nbsp;<span class="op" id="6420859">[</span><span class="op" id="6420860">]</span><span class="op" id="6420861">*</span><span class="ident" id="6420862"><a href="/gostd/compress/flate/deflate_test.go.html#6419407">reverseBitsTest</a></span><span class="op" id="6420877">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420880">{</span><span class="num" id="6420881">1</span><span class="op" id="6420882">,</span>&nbsp;<span class="num" id="6420884">1</span><span class="op" id="6420885">,</span>&nbsp;<span class="num" id="6420887">1</span><span class="op" id="6420888">}</span><span class="op" id="6420889">,</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420892">{</span><span class="num" id="6420893">1</span><span class="op" id="6420894">,</span>&nbsp;<span class="num" id="6420896">2</span><span class="op" id="6420897">,</span>&nbsp;<span class="num" id="6420899">2</span><span class="op" id="6420900">}</span><span class="op" id="6420901">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420904">{</span><span class="num" id="6420905">1</span><span class="op" id="6420906">,</span>&nbsp;<span class="num" id="6420908">3</span><span class="op" id="6420909">,</span>&nbsp;<span class="num" id="6420911">4</span><span class="op" id="6420912">}</span><span class="op" id="6420913">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420916">{</span><span class="num" id="6420917">1</span><span class="op" id="6420918">,</span>&nbsp;<span class="num" id="6420920">4</span><span class="op" id="6420921">,</span>&nbsp;<span class="num" id="6420923">8</span><span class="op" id="6420924">}</span><span class="op" id="6420925">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420928">{</span><span class="num" id="6420929">1</span><span class="op" id="6420930">,</span>&nbsp;<span class="num" id="6420932">5</span><span class="op" id="6420933">,</span>&nbsp;<span class="num" id="6420935">16</span><span class="op" id="6420937">}</span><span class="op" id="6420938">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420941">{</span><span class="num" id="6420942">17</span><span class="op" id="6420944">,</span>&nbsp;<span class="num" id="6420946">5</span><span class="op" id="6420947">,</span>&nbsp;<span class="num" id="6420949">17</span><span class="op" id="6420951">}</span><span class="op" id="6420952">,</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420955">{</span><span class="num" id="6420956">257</span><span class="op" id="6420959">,</span>&nbsp;<span class="num" id="6420961">9</span><span class="op" id="6420962">,</span>&nbsp;<span class="num" id="6420964">257</span><span class="op" id="6420967">}</span><span class="op" id="6420968">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6420971">{</span><span class="num" id="6420972">29</span><span class="op" id="6420974">,</span>&nbsp;<span class="num" id="6420976">5</span><span class="op" id="6420977">,</span>&nbsp;<span class="num" id="6420979">23</span><span class="op" id="6420981">}</span><span class="op" id="6420982">,</span><br>
<span class="lineno"></span><span class="op" id="6420984">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6420987">func</span>&nbsp;<span class="ident" id="6420992">largeDataChunk</span><span class="op" id="6421006">(</span><span class="op" id="6421007">)</span>&nbsp;<span class="op" id="6421009">[</span><span class="op" id="6421010">]</span><span class="builtintype" id="6421011">byte</span>&nbsp;<span class="op" id="6421016">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421019">result</span>&nbsp;<span class="op" id="6421026">:=</span>&nbsp;<span class="builtinfunc" id="6421029">make</span><span class="op" id="6421033">(</span><span class="op" id="6421034">[</span><span class="op" id="6421035">]</span><span class="builtintype" id="6421036">byte</span><span class="op" id="6421040">,</span>&nbsp;<span class="num" id="6421042">100000</span><span class="op" id="6421048">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421051">for</span>&nbsp;<span class="ident" id="6421055">i</span>&nbsp;<span class="op" id="6421057">:=</span>&nbsp;<span class="keyword" id="6421060">range</span>&nbsp;<span class="ident" id="6421066"><a href="/gostd/compress/flate/deflate_test.go.html#6421019">result</a></span>&nbsp;<span class="op" id="6421073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421077"><a href="/gostd/compress/flate/deflate_test.go.html#6421019">result</a></span><span class="op" id="6421083">[</span><span class="ident" id="6421084"><a href="/gostd/compress/flate/deflate_test.go.html#6421055">i</a></span><span class="op" id="6421085">]</span>&nbsp;<span class="op" id="6421087">=</span>&nbsp;<span class="builtintype" id="6421089">byte</span><span class="op" id="6421093">(</span><span class="ident" id="6421094"><a href="/gostd/compress/flate/deflate_test.go.html#6421055">i</a></span>&nbsp;<span class="op" id="6421096">*</span>&nbsp;<span class="ident" id="6421098"><a href="/gostd/compress/flate/deflate_test.go.html#6421055">i</a></span>&nbsp;<span class="op" id="6421100">&amp;</span>&nbsp;<span class="num" id="6421102">0xFF</span><span class="op" id="6421106">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421112">return</span>&nbsp;<span class="ident" id="6421119"><a href="/gostd/compress/flate/deflate_test.go.html#6421019">result</a></span><br>
<span class="lineno">80</span><span class="op" id="6421126">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6421129">func</span>&nbsp;<span class="ident" id="6421134">TestDeflate</span><span class="op" id="6421145">(</span><span class="ident" id="6421146">t</span>&nbsp;<span class="op" id="6421148">*</span><span class="ident" id="6421149"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6421156">.</span><span class="ident" id="6421157"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6421158">)</span>&nbsp;<span class="op" id="6421160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421163">for</span>&nbsp;<span class="ident" id="6421167">_</span><span class="op" id="6421168">,</span>&nbsp;<span class="ident" id="6421170">h</span>&nbsp;<span class="op" id="6421172">:=</span>&nbsp;<span class="keyword" id="6421175">range</span>&nbsp;<span class="ident" id="6421181"><a href="/gostd/compress/flate/deflate_test.go.html#6419489">deflateTests</a></span>&nbsp;<span class="op" id="6421194">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421198">var</span>&nbsp;<span class="ident" id="6421202">buf</span>&nbsp;<span class="ident" id="6421206"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6421211">.</span><span class="ident" id="6421212"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421221">w</span><span class="op" id="6421222">,</span>&nbsp;<span class="ident" id="6421224">err</span>&nbsp;<span class="op" id="6421228">:=</span>&nbsp;<span class="ident" id="6421231"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6421240">(</span><span class="op" id="6421241">&amp;</span><span class="ident" id="6421242"><a href="/gostd/compress/flate/deflate_test.go.html#6421202">buf</a></span><span class="op" id="6421245">,</span>&nbsp;<span class="ident" id="6421247"><a href="/gostd/compress/flate/deflate_test.go.html#6421170">h</a></span><span class="op" id="6421248">.</span><span class="ident" id="6421249"><a href="/gostd/compress/flate/deflate_test.go.html#6419328">level</a></span><span class="op" id="6421254">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421258">if</span>&nbsp;<span class="ident" id="6421261"><a href="/gostd/compress/flate/deflate_test.go.html#6421224">err</a></span>&nbsp;<span class="op" id="6421265">!=</span>&nbsp;<span class="builtintype" id="6421268">nil</span>&nbsp;<span class="op" id="6421272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421277"><a href="/gostd/compress/flate/deflate_test.go.html#6421146">t</a></span><span class="op" id="6421278">.</span><span class="ident" id="6421279"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6421285">(</span><span class="string" id="6421286">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6421301">,</span>&nbsp;<span class="ident" id="6421303"><a href="/gostd/compress/flate/deflate_test.go.html#6421224">err</a></span><span class="op" id="6421306">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421311">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421322">}</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421326"><a href="/gostd/compress/flate/deflate_test.go.html#6421221">w</a></span><span class="op" id="6421327">.</span><span class="ident" id="6421328"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6421333">(</span><span class="ident" id="6421334"><a href="/gostd/compress/flate/deflate_test.go.html#6421170">h</a></span><span class="op" id="6421335">.</span><span class="ident" id="6421336"><a href="/gostd/compress/flate/deflate_test.go.html#6419314">in</a></span><span class="op" id="6421338">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421342"><a href="/gostd/compress/flate/deflate_test.go.html#6421221">w</a></span><span class="op" id="6421343">.</span><span class="ident" id="6421344"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6421349">(</span><span class="op" id="6421350">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421354">if</span>&nbsp;<span class="op" id="6421357">!</span><span class="ident" id="6421358"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6421363">.</span><span class="ident" id="6421364"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6421369">(</span><span class="ident" id="6421370"><a href="/gostd/compress/flate/deflate_test.go.html#6421202">buf</a></span><span class="op" id="6421373">.</span><span class="ident" id="6421374"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6421379">(</span><span class="op" id="6421380">)</span><span class="op" id="6421381">,</span>&nbsp;<span class="ident" id="6421383"><a href="/gostd/compress/flate/deflate_test.go.html#6421170">h</a></span><span class="op" id="6421384">.</span><span class="ident" id="6421385"><a href="/gostd/compress/flate/deflate_test.go.html#6419339">out</a></span><span class="op" id="6421388">)</span>&nbsp;<span class="op" id="6421390">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421395"><a href="/gostd/compress/flate/deflate_test.go.html#6421146">t</a></span><span class="op" id="6421396">.</span><span class="ident" id="6421397"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6421403">(</span><span class="string" id="6421404">&#34;Deflate(%d,&nbsp;%x)&nbsp;=&nbsp;%x,&nbsp;want&nbsp;%x&#34;</span><span class="op" id="6421435">,</span>&nbsp;<span class="ident" id="6421437"><a href="/gostd/compress/flate/deflate_test.go.html#6421170">h</a></span><span class="op" id="6421438">.</span><span class="ident" id="6421439"><a href="/gostd/compress/flate/deflate_test.go.html#6419328">level</a></span><span class="op" id="6421444">,</span>&nbsp;<span class="ident" id="6421446"><a href="/gostd/compress/flate/deflate_test.go.html#6421170">h</a></span><span class="op" id="6421447">.</span><span class="ident" id="6421448"><a href="/gostd/compress/flate/deflate_test.go.html#6419314">in</a></span><span class="op" id="6421450">,</span>&nbsp;<span class="ident" id="6421452"><a href="/gostd/compress/flate/deflate_test.go.html#6421202">buf</a></span><span class="op" id="6421455">.</span><span class="ident" id="6421456"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6421461">(</span><span class="op" id="6421462">)</span><span class="op" id="6421463">,</span>&nbsp;<span class="ident" id="6421465"><a href="/gostd/compress/flate/deflate_test.go.html#6421170">h</a></span><span class="op" id="6421466">.</span><span class="ident" id="6421467"><a href="/gostd/compress/flate/deflate_test.go.html#6419339">out</a></span><span class="op" id="6421470">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421474">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421477">}</span><br>
<span class="lineno"></span><span class="op" id="6421479">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="6421482">//&nbsp;A&nbsp;sparseReader&nbsp;returns&nbsp;a&nbsp;stream&nbsp;consisting&nbsp;of&nbsp;0s&nbsp;followed&nbsp;by&nbsp;1&lt;&lt;16&nbsp;1s.</span><br>
<span class="lineno"></span><span class="comment" id="6421556">//&nbsp;This&nbsp;tests&nbsp;missing&nbsp;hash&nbsp;references&nbsp;in&nbsp;a&nbsp;very&nbsp;large&nbsp;input.</span><br>
<span class="lineno">100</span><span class="keyword" id="6421617">type</span>&nbsp;<span class="ident" id="6421622">sparseReader</span>&nbsp;<span class="keyword" id="6421635">struct</span>&nbsp;<span class="op" id="6421642">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421645">l</span>&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6421649">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421656">cur</span>&nbsp;<span class="builtintype" id="6421660">int64</span><br>
<span class="lineno"></span><span class="op" id="6421666">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">105</span><span class="keyword" id="6421669">func</span>&nbsp;<span class="op" id="6421674">(</span><span class="ident" id="6421675">r</span>&nbsp;<span class="op" id="6421677">*</span><span class="ident" id="6421678"><a href="/gostd/compress/flate/deflate_test.go.html#6421622">sparseReader</a></span><span class="op" id="6421690">)</span>&nbsp;<span class="ident" id="6421692">Read</span><span class="op" id="6421696">(</span><span class="ident" id="6421697">b</span>&nbsp;<span class="op" id="6421699">[</span><span class="op" id="6421700">]</span><span class="builtintype" id="6421701">byte</span><span class="op" id="6421705">)</span>&nbsp;<span class="op" id="6421707">(</span><span class="ident" id="6421708">n</span>&nbsp;<span class="builtintype" id="6421710">int</span><span class="op" id="6421713">,</span>&nbsp;<span class="ident" id="6421715">err</span>&nbsp;<span class="builtintype" id="6421719">error</span><span class="op" id="6421724">)</span>&nbsp;<span class="op" id="6421726">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421729">if</span>&nbsp;<span class="ident" id="6421732"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421733">.</span><span class="ident" id="6421734"><a href="/gostd/compress/flate/deflate_test.go.html#6421656">cur</a></span>&nbsp;<span class="op" id="6421738">&gt;=</span>&nbsp;<span class="ident" id="6421741"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421742">.</span><span class="ident" id="6421743"><a href="/gostd/compress/flate/deflate_test.go.html#6421645">l</a></span>&nbsp;<span class="op" id="6421745">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421749">return</span>&nbsp;<span class="num" id="6421756">0</span><span class="op" id="6421757">,</span>&nbsp;<span class="ident" id="6421759"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6421761">.</span><span class="ident" id="6421762"><a href="/gostd/io/io.go.html#1419950">EOF</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421767">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421770"><a href="/gostd/compress/flate/deflate_test.go.html#6421708">n</a></span>&nbsp;<span class="op" id="6421772">=</span>&nbsp;<span class="builtinfunc" id="6421774">len</span><span class="op" id="6421777">(</span><span class="ident" id="6421778"><a href="/gostd/compress/flate/deflate_test.go.html#6421697">b</a></span><span class="op" id="6421779">)</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421782">cur</span>&nbsp;<span class="op" id="6421786">:=</span>&nbsp;<span class="ident" id="6421789"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421790">.</span><span class="ident" id="6421791"><a href="/gostd/compress/flate/deflate_test.go.html#6421656">cur</a></span>&nbsp;<span class="op" id="6421795">+</span>&nbsp;<span class="builtintype" id="6421797">int64</span><span class="op" id="6421802">(</span><span class="ident" id="6421803"><a href="/gostd/compress/flate/deflate_test.go.html#6421708">n</a></span><span class="op" id="6421804">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421807">if</span>&nbsp;<span class="ident" id="6421810"><a href="/gostd/compress/flate/deflate_test.go.html#6421782">cur</a></span>&nbsp;<span class="op" id="6421814">&gt;</span>&nbsp;<span class="ident" id="6421816"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421817">.</span><span class="ident" id="6421818"><a href="/gostd/compress/flate/deflate_test.go.html#6421645">l</a></span>&nbsp;<span class="op" id="6421820">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421824"><a href="/gostd/compress/flate/deflate_test.go.html#6421708">n</a></span>&nbsp;<span class="op" id="6421826">-=</span>&nbsp;<span class="builtintype" id="6421829">int</span><span class="op" id="6421832">(</span><span class="ident" id="6421833"><a href="/gostd/compress/flate/deflate_test.go.html#6421782">cur</a></span>&nbsp;<span class="op" id="6421837">-</span>&nbsp;<span class="ident" id="6421839"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421840">.</span><span class="ident" id="6421841"><a href="/gostd/compress/flate/deflate_test.go.html#6421645">l</a></span><span class="op" id="6421842">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421846"><a href="/gostd/compress/flate/deflate_test.go.html#6421782">cur</a></span>&nbsp;<span class="op" id="6421850">=</span>&nbsp;<span class="ident" id="6421852"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421853">.</span><span class="ident" id="6421854"><a href="/gostd/compress/flate/deflate_test.go.html#6421645">l</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421857">}</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421860">for</span>&nbsp;<span class="ident" id="6421864">i</span>&nbsp;<span class="op" id="6421866">:=</span>&nbsp;<span class="keyword" id="6421869">range</span>&nbsp;<span class="ident" id="6421875"><a href="/gostd/compress/flate/deflate_test.go.html#6421697">b</a></span><span class="op" id="6421876">[</span><span class="num" id="6421877">0</span><span class="op" id="6421878">:</span><span class="ident" id="6421879"><a href="/gostd/compress/flate/deflate_test.go.html#6421708">n</a></span><span class="op" id="6421880">]</span>&nbsp;<span class="op" id="6421882">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421886">if</span>&nbsp;<span class="ident" id="6421889"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421890">.</span><span class="ident" id="6421891"><a href="/gostd/compress/flate/deflate_test.go.html#6421656">cur</a></span><span class="op" id="6421894">+</span><span class="builtintype" id="6421895">int64</span><span class="op" id="6421900">(</span><span class="ident" id="6421901"><a href="/gostd/compress/flate/deflate_test.go.html#6421864">i</a></span><span class="op" id="6421902">)</span>&nbsp;<span class="op" id="6421904">&gt;=</span>&nbsp;<span class="ident" id="6421907"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421908">.</span><span class="ident" id="6421909"><a href="/gostd/compress/flate/deflate_test.go.html#6421645">l</a></span><span class="op" id="6421910">-</span><span class="num" id="6421911">1</span><span class="op" id="6421912">&lt;&lt;</span><span class="num" id="6421914">16</span>&nbsp;<span class="op" id="6421917">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421922"><a href="/gostd/compress/flate/deflate_test.go.html#6421697">b</a></span><span class="op" id="6421923">[</span><span class="ident" id="6421924"><a href="/gostd/compress/flate/deflate_test.go.html#6421864">i</a></span><span class="op" id="6421925">]</span>&nbsp;<span class="op" id="6421927">=</span>&nbsp;<span class="num" id="6421929">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421933">}</span>&nbsp;<span class="keyword" id="6421935">else</span>&nbsp;<span class="op" id="6421940">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421945"><a href="/gostd/compress/flate/deflate_test.go.html#6421697">b</a></span><span class="op" id="6421946">[</span><span class="ident" id="6421947"><a href="/gostd/compress/flate/deflate_test.go.html#6421864">i</a></span><span class="op" id="6421948">]</span>&nbsp;<span class="op" id="6421950">=</span>&nbsp;<span class="num" id="6421952">0</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421956">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6421959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6421962"><a href="/gostd/compress/flate/deflate_test.go.html#6421675">r</a></span><span class="op" id="6421963">.</span><span class="ident" id="6421964"><a href="/gostd/compress/flate/deflate_test.go.html#6421656">cur</a></span>&nbsp;<span class="op" id="6421968">=</span>&nbsp;<span class="ident" id="6421970"><a href="/gostd/compress/flate/deflate_test.go.html#6421782">cur</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6421975">return</span><br>
<span class="lineno"></span><span class="op" id="6421982">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="keyword" id="6421985">func</span>&nbsp;<span class="ident" id="6421990">TestVeryLongSparseChunk</span><span class="op" id="6422013">(</span><span class="ident" id="6422014">t</span>&nbsp;<span class="op" id="6422016">*</span><span class="ident" id="6422017"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6422024">.</span><span class="ident" id="6422025"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6422026">)</span>&nbsp;<span class="op" id="6422028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422031">if</span>&nbsp;<span class="ident" id="6422034"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6422041">.</span><span class="ident" id="6422042"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6422047">(</span><span class="op" id="6422048">)</span>&nbsp;<span class="op" id="6422050">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422054"><a href="/gostd/compress/flate/deflate_test.go.html#6422014">t</a></span><span class="op" id="6422055">.</span><span class="ident" id="6422056"><a href="/gostd/testing/testing.go.html#5480575">Skip</a></span><span class="op" id="6422060">(</span><span class="string" id="6422061">&#34;skipping&nbsp;sparse&nbsp;chunk&nbsp;during&nbsp;short&nbsp;test&#34;</span><span class="op" id="6422102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422105">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422108">w</span><span class="op" id="6422109">,</span>&nbsp;<span class="ident" id="6422111">err</span>&nbsp;<span class="op" id="6422115">:=</span>&nbsp;<span class="ident" id="6422118"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6422127">(</span><span class="ident" id="6422128"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6422134">.</span><span class="ident" id="6422135"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="6422142">,</span>&nbsp;<span class="num" id="6422144">1</span><span class="op" id="6422145">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422148">if</span>&nbsp;<span class="ident" id="6422151"><a href="/gostd/compress/flate/deflate_test.go.html#6422111">err</a></span>&nbsp;<span class="op" id="6422155">!=</span>&nbsp;<span class="builtintype" id="6422158">nil</span>&nbsp;<span class="op" id="6422162">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422166"><a href="/gostd/compress/flate/deflate_test.go.html#6422014">t</a></span><span class="op" id="6422167">.</span><span class="ident" id="6422168"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6422174">(</span><span class="string" id="6422175">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6422190">,</span>&nbsp;<span class="ident" id="6422192"><a href="/gostd/compress/flate/deflate_test.go.html#6422111">err</a></span><span class="op" id="6422195">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422199">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422207">}</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422210">if</span>&nbsp;<span class="ident" id="6422213">_</span><span class="op" id="6422214">,</span>&nbsp;<span class="ident" id="6422216"><a href="/gostd/compress/flate/deflate_test.go.html#6422111">err</a></span>&nbsp;<span class="op" id="6422220">=</span>&nbsp;<span class="ident" id="6422222"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6422224">.</span><span class="ident" id="6422225"><a href="/gostd/io/io.go.html#1430946">Copy</a></span><span class="op" id="6422229">(</span><span class="ident" id="6422230"><a href="/gostd/compress/flate/deflate_test.go.html#6422108">w</a></span><span class="op" id="6422231">,</span>&nbsp;<span class="op" id="6422233">&amp;</span><span class="ident" id="6422234"><a href="/gostd/compress/flate/deflate_test.go.html#6421622">sparseReader</a></span><span class="op" id="6422246">{</span><span class="ident" id="6422247"><a href="/gostd/compress/flate/deflate_test.go.html#6421645">l</a></span><span class="op" id="6422248">:</span>&nbsp;<span class="num" id="6422250">23E8</span><span class="op" id="6422254">}</span><span class="op" id="6422255">)</span><span class="op" id="6422256">;</span>&nbsp;<span class="ident" id="6422258"><a href="/gostd/compress/flate/deflate_test.go.html#6422111">err</a></span>&nbsp;<span class="op" id="6422262">!=</span>&nbsp;<span class="builtintype" id="6422265">nil</span>&nbsp;<span class="op" id="6422269">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422273"><a href="/gostd/compress/flate/deflate_test.go.html#6422014">t</a></span><span class="op" id="6422274">.</span><span class="ident" id="6422275"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6422281">(</span><span class="string" id="6422282">&#34;Compress&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6422303">,</span>&nbsp;<span class="ident" id="6422305"><a href="/gostd/compress/flate/deflate_test.go.html#6422111">err</a></span><span class="op" id="6422308">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422312">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422320">}</span><br>
<span class="lineno"></span><span class="op" id="6422322">}</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="keyword" id="6422325">type</span>&nbsp;<span class="ident" id="6422330">syncBuffer</span>&nbsp;<span class="keyword" id="6422341">struct</span>&nbsp;<span class="op" id="6422348">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422351">buf</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422358"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6422363">.</span><span class="ident" id="6422364"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422372">mu</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422379"><a href="/gostd/compress/flate/deflate_test.go.html#6419266">sync</a></span><span class="op" id="6422383">.</span><span class="ident" id="6422384"><a href="/gostd/sync/rwmutex.go.html#1456076">RWMutex</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422393">closed</span>&nbsp;<span class="builtintype" id="6422400">bool</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422406">ready</span>&nbsp;&nbsp;<span class="keyword" id="6422413">chan</span>&nbsp;<span class="builtintype" id="6422418">bool</span><br>
<span class="lineno"></span><span class="op" id="6422423">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6422426">func</span>&nbsp;<span class="ident" id="6422431">newSyncBuffer</span><span class="op" id="6422444">(</span><span class="op" id="6422445">)</span>&nbsp;<span class="op" id="6422447">*</span><span class="ident" id="6422448"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span>&nbsp;<span class="op" id="6422459">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422462">return</span>&nbsp;<span class="op" id="6422469">&amp;</span><span class="ident" id="6422470"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6422480">{</span><span class="ident" id="6422481"><a href="/gostd/compress/flate/deflate_test.go.html#6422406">ready</a></span><span class="op" id="6422486">:</span>&nbsp;<span class="builtinfunc" id="6422488">make</span><span class="op" id="6422492">(</span><span class="keyword" id="6422493">chan</span>&nbsp;<span class="builtintype" id="6422498">bool</span><span class="op" id="6422502">,</span>&nbsp;<span class="num" id="6422504">1</span><span class="op" id="6422505">)</span><span class="op" id="6422506">}</span><br>
<span class="lineno">150</span><span class="op" id="6422508">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6422511">func</span>&nbsp;<span class="op" id="6422516">(</span><span class="ident" id="6422517">b</span>&nbsp;<span class="op" id="6422519">*</span><span class="ident" id="6422520"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6422530">)</span>&nbsp;<span class="ident" id="6422532">Read</span><span class="op" id="6422536">(</span><span class="ident" id="6422537">p</span>&nbsp;<span class="op" id="6422539">[</span><span class="op" id="6422540">]</span><span class="builtintype" id="6422541">byte</span><span class="op" id="6422545">)</span>&nbsp;<span class="op" id="6422547">(</span><span class="ident" id="6422548">n</span>&nbsp;<span class="builtintype" id="6422550">int</span><span class="op" id="6422553">,</span>&nbsp;<span class="ident" id="6422555">err</span>&nbsp;<span class="builtintype" id="6422559">error</span><span class="op" id="6422564">)</span>&nbsp;<span class="op" id="6422566">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422569">for</span>&nbsp;<span class="op" id="6422573">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422577"><a href="/gostd/compress/flate/deflate_test.go.html#6422517">b</a></span><span class="op" id="6422578">.</span><span class="ident" id="6422579"><a href="/gostd/compress/flate/deflate_test.go.html#6422372">mu</a></span><span class="op" id="6422581">.</span><span class="ident" id="6422582"><a href="/gostd/sync/rwmutex.go.html#1456490">RLock</a></span><span class="op" id="6422587">(</span><span class="op" id="6422588">)</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422592"><a href="/gostd/compress/flate/deflate_test.go.html#6422548">n</a></span><span class="op" id="6422593">,</span>&nbsp;<span class="ident" id="6422595"><a href="/gostd/compress/flate/deflate_test.go.html#6422555">err</a></span>&nbsp;<span class="op" id="6422599">=</span>&nbsp;<span class="ident" id="6422601"><a href="/gostd/compress/flate/deflate_test.go.html#6422517">b</a></span><span class="op" id="6422602">.</span><span class="ident" id="6422603"><a href="/gostd/compress/flate/deflate_test.go.html#6422351">buf</a></span><span class="op" id="6422606">.</span><span class="ident" id="6422607"><a href="/gostd/bytes/buffer.go.html#1390970">Read</a></span><span class="op" id="6422611">(</span><span class="ident" id="6422612"><a href="/gostd/compress/flate/deflate_test.go.html#6422537">p</a></span><span class="op" id="6422613">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422617"><a href="/gostd/compress/flate/deflate_test.go.html#6422517">b</a></span><span class="op" id="6422618">.</span><span class="ident" id="6422619"><a href="/gostd/compress/flate/deflate_test.go.html#6422372">mu</a></span><span class="op" id="6422621">.</span><span class="ident" id="6422622"><a href="/gostd/sync/rwmutex.go.html#1456952">RUnlock</a></span><span class="op" id="6422629">(</span><span class="op" id="6422630">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422634">if</span>&nbsp;<span class="ident" id="6422637"><a href="/gostd/compress/flate/deflate_test.go.html#6422548">n</a></span>&nbsp;<span class="op" id="6422639">&gt;</span>&nbsp;<span class="num" id="6422641">0</span>&nbsp;<span class="op" id="6422643">||</span>&nbsp;<span class="ident" id="6422646"><a href="/gostd/compress/flate/deflate_test.go.html#6422517">b</a></span><span class="op" id="6422647">.</span><span class="ident" id="6422648"><a href="/gostd/compress/flate/deflate_test.go.html#6422393">closed</a></span>&nbsp;<span class="op" id="6422655">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422660">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422669">}</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422673">&lt;-</span><span class="ident" id="6422675"><a href="/gostd/compress/flate/deflate_test.go.html#6422517">b</a></span><span class="op" id="6422676">.</span><span class="ident" id="6422677"><a href="/gostd/compress/flate/deflate_test.go.html#6422406">ready</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422684">}</span><br>
<span class="lineno"></span><span class="op" id="6422686">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6422689">func</span>&nbsp;<span class="op" id="6422694">(</span><span class="ident" id="6422695">b</span>&nbsp;<span class="op" id="6422697">*</span><span class="ident" id="6422698"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6422708">)</span>&nbsp;<span class="ident" id="6422710">signal</span><span class="op" id="6422716">(</span><span class="op" id="6422717">)</span>&nbsp;<span class="op" id="6422719">{</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422722">select</span>&nbsp;<span class="op" id="6422729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422732">case</span>&nbsp;<span class="ident" id="6422737"><a href="/gostd/compress/flate/deflate_test.go.html#6422695">b</a></span><span class="op" id="6422738">.</span><span class="ident" id="6422739"><a href="/gostd/compress/flate/deflate_test.go.html#6422406">ready</a></span>&nbsp;<span class="op" id="6422745">&lt;-</span>&nbsp;<span class="builtintype" id="6422748">true</span><span class="op" id="6422752">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422755">default</span><span class="op" id="6422762">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6422765">}</span><br>
<span class="lineno"></span><span class="op" id="6422767">}</span><br>
<span class="lineno">170</span><br>
<span class="lineno"></span><span class="keyword" id="6422770">func</span>&nbsp;<span class="op" id="6422775">(</span><span class="ident" id="6422776">b</span>&nbsp;<span class="op" id="6422778">*</span><span class="ident" id="6422779"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6422789">)</span>&nbsp;<span class="ident" id="6422791">Write</span><span class="op" id="6422796">(</span><span class="ident" id="6422797">p</span>&nbsp;<span class="op" id="6422799">[</span><span class="op" id="6422800">]</span><span class="builtintype" id="6422801">byte</span><span class="op" id="6422805">)</span>&nbsp;<span class="op" id="6422807">(</span><span class="ident" id="6422808">n</span>&nbsp;<span class="builtintype" id="6422810">int</span><span class="op" id="6422813">,</span>&nbsp;<span class="ident" id="6422815">err</span>&nbsp;<span class="builtintype" id="6422819">error</span><span class="op" id="6422824">)</span>&nbsp;<span class="op" id="6422826">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422829"><a href="/gostd/compress/flate/deflate_test.go.html#6422808">n</a></span><span class="op" id="6422830">,</span>&nbsp;<span class="ident" id="6422832"><a href="/gostd/compress/flate/deflate_test.go.html#6422815">err</a></span>&nbsp;<span class="op" id="6422836">=</span>&nbsp;<span class="ident" id="6422838"><a href="/gostd/compress/flate/deflate_test.go.html#6422776">b</a></span><span class="op" id="6422839">.</span><span class="ident" id="6422840"><a href="/gostd/compress/flate/deflate_test.go.html#6422351">buf</a></span><span class="op" id="6422843">.</span><span class="ident" id="6422844"><a href="/gostd/bytes/buffer.go.html#1387016">Write</a></span><span class="op" id="6422849">(</span><span class="ident" id="6422850"><a href="/gostd/compress/flate/deflate_test.go.html#6422797">p</a></span><span class="op" id="6422851">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422854"><a href="/gostd/compress/flate/deflate_test.go.html#6422776">b</a></span><span class="op" id="6422855">.</span><span class="ident" id="6422856"><a href="/gostd/compress/flate/deflate_test.go.html#6422710">signal</a></span><span class="op" id="6422862">(</span><span class="op" id="6422863">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6422866">return</span><br>
<span class="lineno">175</span><span class="op" id="6422873">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6422876">func</span>&nbsp;<span class="op" id="6422881">(</span><span class="ident" id="6422882">b</span>&nbsp;<span class="op" id="6422884">*</span><span class="ident" id="6422885"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6422895">)</span>&nbsp;<span class="ident" id="6422897">WriteMode</span><span class="op" id="6422906">(</span><span class="op" id="6422907">)</span>&nbsp;<span class="op" id="6422909">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422912"><a href="/gostd/compress/flate/deflate_test.go.html#6422882">b</a></span><span class="op" id="6422913">.</span><span class="ident" id="6422914"><a href="/gostd/compress/flate/deflate_test.go.html#6422372">mu</a></span><span class="op" id="6422916">.</span><span class="ident" id="6422917"><a href="/gostd/sync/rwmutex.go.html#1457713">Lock</a></span><span class="op" id="6422921">(</span><span class="op" id="6422922">)</span><br>
<span class="lineno"></span><span class="op" id="6422924">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="6422927">func</span>&nbsp;<span class="op" id="6422932">(</span><span class="ident" id="6422933">b</span>&nbsp;<span class="op" id="6422935">*</span><span class="ident" id="6422936"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6422946">)</span>&nbsp;<span class="ident" id="6422948">ReadMode</span><span class="op" id="6422956">(</span><span class="op" id="6422957">)</span>&nbsp;<span class="op" id="6422959">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422962"><a href="/gostd/compress/flate/deflate_test.go.html#6422933">b</a></span><span class="op" id="6422963">.</span><span class="ident" id="6422964"><a href="/gostd/compress/flate/deflate_test.go.html#6422372">mu</a></span><span class="op" id="6422966">.</span><span class="ident" id="6422967"><a href="/gostd/sync/rwmutex.go.html#1458554">Unlock</a></span><span class="op" id="6422973">(</span><span class="op" id="6422974">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6422977"><a href="/gostd/compress/flate/deflate_test.go.html#6422933">b</a></span><span class="op" id="6422978">.</span><span class="ident" id="6422979"><a href="/gostd/compress/flate/deflate_test.go.html#6422710">signal</a></span><span class="op" id="6422985">(</span><span class="op" id="6422986">)</span><br>
<span class="lineno"></span><span class="op" id="6422988">}</span><br>
<span class="lineno">185</span><br>
<span class="lineno"></span><span class="keyword" id="6422991">func</span>&nbsp;<span class="op" id="6422996">(</span><span class="ident" id="6422997">b</span>&nbsp;<span class="op" id="6422999">*</span><span class="ident" id="6423000"><a href="/gostd/compress/flate/deflate_test.go.html#6422330">syncBuffer</a></span><span class="op" id="6423010">)</span>&nbsp;<span class="ident" id="6423012">Close</span><span class="op" id="6423017">(</span><span class="op" id="6423018">)</span>&nbsp;<span class="builtintype" id="6423020">error</span>&nbsp;<span class="op" id="6423026">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423029"><a href="/gostd/compress/flate/deflate_test.go.html#6422997">b</a></span><span class="op" id="6423030">.</span><span class="ident" id="6423031"><a href="/gostd/compress/flate/deflate_test.go.html#6422393">closed</a></span>&nbsp;<span class="op" id="6423038">=</span>&nbsp;<span class="builtintype" id="6423040">true</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423046"><a href="/gostd/compress/flate/deflate_test.go.html#6422997">b</a></span><span class="op" id="6423047">.</span><span class="ident" id="6423048"><a href="/gostd/compress/flate/deflate_test.go.html#6422710">signal</a></span><span class="op" id="6423054">(</span><span class="op" id="6423055">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423058">return</span>&nbsp;<span class="builtintype" id="6423065">nil</span><br>
<span class="lineno">190</span><span class="op" id="6423069">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6423072">func</span>&nbsp;<span class="ident" id="6423077">testSync</span><span class="op" id="6423085">(</span><span class="ident" id="6423086">t</span>&nbsp;<span class="op" id="6423088">*</span><span class="ident" id="6423089"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6423096">.</span><span class="ident" id="6423097"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6423098">,</span>&nbsp;<span class="ident" id="6423100">level</span>&nbsp;<span class="builtintype" id="6423106">int</span><span class="op" id="6423109">,</span>&nbsp;<span class="ident" id="6423111">input</span>&nbsp;<span class="op" id="6423117">[</span><span class="op" id="6423118">]</span><span class="builtintype" id="6423119">byte</span><span class="op" id="6423123">,</span>&nbsp;<span class="ident" id="6423125">name</span>&nbsp;<span class="builtintype" id="6423130">string</span><span class="op" id="6423136">)</span>&nbsp;<span class="op" id="6423138">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423141">if</span>&nbsp;<span class="builtinfunc" id="6423144">len</span><span class="op" id="6423147">(</span><span class="ident" id="6423148"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6423153">)</span>&nbsp;<span class="op" id="6423155">==</span>&nbsp;<span class="num" id="6423158">0</span>&nbsp;<span class="op" id="6423160">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423164">return</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423176"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6423177">.</span><span class="ident" id="6423178"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6423182">(</span><span class="string" id="6423183">&#34;--testSync&nbsp;%d,&nbsp;%d,&nbsp;%s&#34;</span><span class="op" id="6423206">,</span>&nbsp;<span class="ident" id="6423208"><a href="/gostd/compress/flate/deflate_test.go.html#6423100">level</a></span><span class="op" id="6423213">,</span>&nbsp;<span class="builtinfunc" id="6423215">len</span><span class="op" id="6423218">(</span><span class="ident" id="6423219"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6423224">)</span><span class="op" id="6423225">,</span>&nbsp;<span class="ident" id="6423227"><a href="/gostd/compress/flate/deflate_test.go.html#6423125">name</a></span><span class="op" id="6423231">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423234">buf</span>&nbsp;<span class="op" id="6423238">:=</span>&nbsp;<span class="ident" id="6423241"><a href="/gostd/compress/flate/deflate_test.go.html#6422431">newSyncBuffer</a></span><span class="op" id="6423254">(</span><span class="op" id="6423255">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423258">buf1</span>&nbsp;<span class="op" id="6423263">:=</span>&nbsp;<span class="builtinfunc" id="6423266">new</span><span class="op" id="6423269">(</span><span class="ident" id="6423270"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6423275">.</span><span class="ident" id="6423276"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="6423282">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423285"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6423288">.</span><span class="ident" id="6423289"><a href="/gostd/compress/flate/deflate_test.go.html#6422897">WriteMode</a></span><span class="op" id="6423298">(</span><span class="op" id="6423299">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423302">w</span><span class="op" id="6423303">,</span>&nbsp;<span class="ident" id="6423305">err</span>&nbsp;<span class="op" id="6423309">:=</span>&nbsp;<span class="ident" id="6423312"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6423321">(</span><span class="ident" id="6423322"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6423324">.</span><span class="ident" id="6423325"><a href="/gostd/io/multi.go.html#1435788">MultiWriter</a></span><span class="op" id="6423336">(</span><span class="ident" id="6423337"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6423340">,</span>&nbsp;<span class="ident" id="6423342"><a href="/gostd/compress/flate/deflate_test.go.html#6423258">buf1</a></span><span class="op" id="6423346">)</span><span class="op" id="6423347">,</span>&nbsp;<span class="ident" id="6423349"><a href="/gostd/compress/flate/deflate_test.go.html#6423100">level</a></span><span class="op" id="6423354">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423357">if</span>&nbsp;<span class="ident" id="6423360"><a href="/gostd/compress/flate/deflate_test.go.html#6423305">err</a></span>&nbsp;<span class="op" id="6423364">!=</span>&nbsp;<span class="builtintype" id="6423367">nil</span>&nbsp;<span class="op" id="6423371">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423375"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6423376">.</span><span class="ident" id="6423377"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6423383">(</span><span class="string" id="6423384">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6423399">,</span>&nbsp;<span class="ident" id="6423401"><a href="/gostd/compress/flate/deflate_test.go.html#6423305">err</a></span><span class="op" id="6423404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423408">return</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423419">r</span>&nbsp;<span class="op" id="6423421">:=</span>&nbsp;<span class="ident" id="6423424"><a href="/gostd/compress/flate/inflate.go.html#4850562">NewReader</a></span><span class="op" id="6423433">(</span><span class="ident" id="6423434"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6423437">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6423441">//&nbsp;Write&nbsp;half&nbsp;the&nbsp;input&nbsp;and&nbsp;read&nbsp;back.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423481">for</span>&nbsp;<span class="ident" id="6423485">i</span>&nbsp;<span class="op" id="6423487">:=</span>&nbsp;<span class="num" id="6423490">0</span><span class="op" id="6423491">;</span>&nbsp;<span class="ident" id="6423493"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span>&nbsp;<span class="op" id="6423495">&lt;</span>&nbsp;<span class="num" id="6423497">2</span><span class="op" id="6423498">;</span>&nbsp;<span class="ident" id="6423500"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span><span class="op" id="6423501">++</span>&nbsp;<span class="op" id="6423504">{</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423508">var</span>&nbsp;<span class="ident" id="6423512">lo</span><span class="op" id="6423514">,</span>&nbsp;<span class="ident" id="6423516">hi</span>&nbsp;<span class="builtintype" id="6423519">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423525">if</span>&nbsp;<span class="ident" id="6423528"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span>&nbsp;<span class="op" id="6423530">==</span>&nbsp;<span class="num" id="6423533">0</span>&nbsp;<span class="op" id="6423535">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423540"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6423542">,</span>&nbsp;<span class="ident" id="6423544"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span>&nbsp;<span class="op" id="6423547">=</span>&nbsp;<span class="num" id="6423549">0</span><span class="op" id="6423550">,</span>&nbsp;<span class="op" id="6423552">(</span><span class="builtinfunc" id="6423553">len</span><span class="op" id="6423556">(</span><span class="ident" id="6423557"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6423562">)</span><span class="op" id="6423563">+</span><span class="num" id="6423564">1</span><span class="op" id="6423565">)</span><span class="op" id="6423566">/</span><span class="num" id="6423567">2</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423571">}</span>&nbsp;<span class="keyword" id="6423573">else</span>&nbsp;<span class="op" id="6423578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423583"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6423585">,</span>&nbsp;<span class="ident" id="6423587"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span>&nbsp;<span class="op" id="6423590">=</span>&nbsp;<span class="op" id="6423592">(</span><span class="builtinfunc" id="6423593">len</span><span class="op" id="6423596">(</span><span class="ident" id="6423597"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6423602">)</span><span class="op" id="6423603">+</span><span class="num" id="6423604">1</span><span class="op" id="6423605">)</span><span class="op" id="6423606">/</span><span class="num" id="6423607">2</span><span class="op" id="6423608">,</span>&nbsp;<span class="builtinfunc" id="6423610">len</span><span class="op" id="6423613">(</span><span class="ident" id="6423614"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6423619">)</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423623">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423627"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6423628">.</span><span class="ident" id="6423629"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6423633">(</span><span class="string" id="6423634">&#34;#%d:&nbsp;write&nbsp;%d-%d&#34;</span><span class="op" id="6423652">,</span>&nbsp;<span class="ident" id="6423654"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span><span class="op" id="6423655">,</span>&nbsp;<span class="ident" id="6423657"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6423659">,</span>&nbsp;<span class="ident" id="6423661"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6423663">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423667">if</span>&nbsp;<span class="ident" id="6423670">_</span><span class="op" id="6423671">,</span>&nbsp;<span class="ident" id="6423673">err</span>&nbsp;<span class="op" id="6423677">:=</span>&nbsp;<span class="ident" id="6423680"><a href="/gostd/compress/flate/deflate_test.go.html#6423302">w</a></span><span class="op" id="6423681">.</span><span class="ident" id="6423682"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6423687">(</span><span class="ident" id="6423688"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6423693">[</span><span class="ident" id="6423694"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6423696">:</span><span class="ident" id="6423697"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6423699">]</span><span class="op" id="6423700">)</span><span class="op" id="6423701">;</span>&nbsp;<span class="ident" id="6423703"><a href="/gostd/compress/flate/deflate_test.go.html#6423673">err</a></span>&nbsp;<span class="op" id="6423707">!=</span>&nbsp;<span class="builtintype" id="6423710">nil</span>&nbsp;<span class="op" id="6423714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423719"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6423720">.</span><span class="ident" id="6423721"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6423727">(</span><span class="string" id="6423728">&#34;testSync:&nbsp;write:&nbsp;%v&#34;</span><span class="op" id="6423749">,</span>&nbsp;<span class="ident" id="6423751"><a href="/gostd/compress/flate/deflate_test.go.html#6423673">err</a></span><span class="op" id="6423754">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423759">return</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423768">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423772">if</span>&nbsp;<span class="ident" id="6423775"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span>&nbsp;<span class="op" id="6423777">==</span>&nbsp;<span class="num" id="6423780">0</span>&nbsp;<span class="op" id="6423782">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423787">if</span>&nbsp;<span class="ident" id="6423790">err</span>&nbsp;<span class="op" id="6423794">:=</span>&nbsp;<span class="ident" id="6423797"><a href="/gostd/compress/flate/deflate_test.go.html#6423302">w</a></span><span class="op" id="6423798">.</span><span class="ident" id="6423799"><a href="/gostd/compress/flate/deflate.go.html#4806701">Flush</a></span><span class="op" id="6423804">(</span><span class="op" id="6423805">)</span><span class="op" id="6423806">;</span>&nbsp;<span class="ident" id="6423808"><a href="/gostd/compress/flate/deflate_test.go.html#6423790">err</a></span>&nbsp;<span class="op" id="6423812">!=</span>&nbsp;<span class="builtintype" id="6423815">nil</span>&nbsp;<span class="op" id="6423819">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423825"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6423826">.</span><span class="ident" id="6423827"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6423833">(</span><span class="string" id="6423834">&#34;testSync:&nbsp;flush:&nbsp;%v&#34;</span><span class="op" id="6423855">,</span>&nbsp;<span class="ident" id="6423857"><a href="/gostd/compress/flate/deflate_test.go.html#6423790">err</a></span><span class="op" id="6423860">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423866">return</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423876">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423880">}</span>&nbsp;<span class="keyword" id="6423882">else</span>&nbsp;<span class="op" id="6423887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6423892">if</span>&nbsp;<span class="ident" id="6423895">err</span>&nbsp;<span class="op" id="6423899">:=</span>&nbsp;<span class="ident" id="6423902"><a href="/gostd/compress/flate/deflate_test.go.html#6423302">w</a></span><span class="op" id="6423903">.</span><span class="ident" id="6423904"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6423909">(</span><span class="op" id="6423910">)</span><span class="op" id="6423911">;</span>&nbsp;<span class="ident" id="6423913"><a href="/gostd/compress/flate/deflate_test.go.html#6423895">err</a></span>&nbsp;<span class="op" id="6423917">!=</span>&nbsp;<span class="builtintype" id="6423920">nil</span>&nbsp;<span class="op" id="6423924">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423930"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6423931">.</span><span class="ident" id="6423932"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6423938">(</span><span class="string" id="6423939">&#34;testSync:&nbsp;close:&nbsp;%v&#34;</span><span class="op" id="6423960">,</span>&nbsp;<span class="ident" id="6423962"><a href="/gostd/compress/flate/deflate_test.go.html#6423895">err</a></span><span class="op" id="6423965">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423970">}</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6423974">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423978"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6423981">.</span><span class="ident" id="6423982"><a href="/gostd/compress/flate/deflate_test.go.html#6422948">ReadMode</a></span><span class="op" id="6423990">(</span><span class="op" id="6423991">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6423995">out</span>&nbsp;<span class="op" id="6423999">:=</span>&nbsp;<span class="builtinfunc" id="6424002">make</span><span class="op" id="6424006">(</span><span class="op" id="6424007">[</span><span class="op" id="6424008">]</span><span class="builtintype" id="6424009">byte</span><span class="op" id="6424013">,</span>&nbsp;<span class="ident" id="6424015"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424017">-</span><span class="ident" id="6424018"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424020">+</span><span class="num" id="6424021">1</span><span class="op" id="6424022">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424026">m</span><span class="op" id="6424027">,</span>&nbsp;<span class="ident" id="6424029">err</span>&nbsp;<span class="op" id="6424033">:=</span>&nbsp;<span class="ident" id="6424036"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6424038">.</span><span class="ident" id="6424039"><a href="/gostd/io/io.go.html#1429062">ReadAtLeast</a></span><span class="op" id="6424050">(</span><span class="ident" id="6424051"><a href="/gostd/compress/flate/deflate_test.go.html#6423419">r</a></span><span class="op" id="6424052">,</span>&nbsp;<span class="ident" id="6424054"><a href="/gostd/compress/flate/deflate_test.go.html#6423995">out</a></span><span class="op" id="6424057">,</span>&nbsp;<span class="ident" id="6424059"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424061">-</span><span class="ident" id="6424062"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424064">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424068"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6424069">.</span><span class="ident" id="6424070"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6424074">(</span><span class="string" id="6424075">&#34;#%d:&nbsp;read&nbsp;%d&#34;</span><span class="op" id="6424089">,</span>&nbsp;<span class="ident" id="6424091"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span><span class="op" id="6424092">,</span>&nbsp;<span class="ident" id="6424094"><a href="/gostd/compress/flate/deflate_test.go.html#6424026">m</a></span><span class="op" id="6424095">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6424099">if</span>&nbsp;<span class="ident" id="6424102"><a href="/gostd/compress/flate/deflate_test.go.html#6424026">m</a></span>&nbsp;<span class="op" id="6424104">!=</span>&nbsp;<span class="ident" id="6424107"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424109">-</span><span class="ident" id="6424110"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span>&nbsp;<span class="op" id="6424113">||</span>&nbsp;<span class="ident" id="6424116"><a href="/gostd/compress/flate/deflate_test.go.html#6424029">err</a></span>&nbsp;<span class="op" id="6424120">!=</span>&nbsp;<span class="builtintype" id="6424123">nil</span>&nbsp;<span class="op" id="6424127">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424132"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6424133">.</span><span class="ident" id="6424134"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6424140">(</span><span class="string" id="6424141">&#34;testSync/%d&nbsp;(%d,&nbsp;%d,&nbsp;%s):&nbsp;read&nbsp;%d:&nbsp;%d,&nbsp;%v&nbsp;(%d&nbsp;left)&#34;</span><span class="op" id="6424194">,</span>&nbsp;<span class="ident" id="6424196"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span><span class="op" id="6424197">,</span>&nbsp;<span class="ident" id="6424199"><a href="/gostd/compress/flate/deflate_test.go.html#6423100">level</a></span><span class="op" id="6424204">,</span>&nbsp;<span class="builtinfunc" id="6424206">len</span><span class="op" id="6424209">(</span><span class="ident" id="6424210"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6424215">)</span><span class="op" id="6424216">,</span>&nbsp;<span class="ident" id="6424218"><a href="/gostd/compress/flate/deflate_test.go.html#6423125">name</a></span><span class="op" id="6424222">,</span>&nbsp;<span class="ident" id="6424224"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424226">-</span><span class="ident" id="6424227"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424229">,</span>&nbsp;<span class="ident" id="6424231"><a href="/gostd/compress/flate/deflate_test.go.html#6424026">m</a></span><span class="op" id="6424232">,</span>&nbsp;<span class="ident" id="6424234"><a href="/gostd/compress/flate/deflate_test.go.html#6424029">err</a></span><span class="op" id="6424237">,</span>&nbsp;<span class="ident" id="6424239"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6424242">.</span><span class="ident" id="6424243"><a href="/gostd/compress/flate/deflate_test.go.html#6422351">buf</a></span><span class="op" id="6424246">.</span><span class="ident" id="6424247"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="6424250">(</span><span class="op" id="6424251">)</span><span class="op" id="6424252">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6424257">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6424266">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6424270">if</span>&nbsp;<span class="op" id="6424273">!</span><span class="ident" id="6424274"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6424279">.</span><span class="ident" id="6424280"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6424285">(</span><span class="ident" id="6424286"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6424291">[</span><span class="ident" id="6424292"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424294">:</span><span class="ident" id="6424295"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424297">]</span><span class="op" id="6424298">,</span>&nbsp;<span class="ident" id="6424300"><a href="/gostd/compress/flate/deflate_test.go.html#6423995">out</a></span><span class="op" id="6424303">[</span><span class="op" id="6424304">:</span><span class="ident" id="6424305"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424307">-</span><span class="ident" id="6424308"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424310">]</span><span class="op" id="6424311">)</span>&nbsp;<span class="op" id="6424313">{</span><br>
<span class="lineno">240</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424318"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6424319">.</span><span class="ident" id="6424320"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6424326">(</span><span class="string" id="6424327">&#34;testSync/%d:&nbsp;read&nbsp;wrong&nbsp;bytes:&nbsp;%x&nbsp;vs&nbsp;%x&#34;</span><span class="op" id="6424368">,</span>&nbsp;<span class="ident" id="6424370"><a href="/gostd/compress/flate/deflate_test.go.html#6423485">i</a></span><span class="op" id="6424371">,</span>&nbsp;<span class="ident" id="6424373"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6424378">[</span><span class="ident" id="6424379"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424381">:</span><span class="ident" id="6424382"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424384">]</span><span class="op" id="6424385">,</span>&nbsp;<span class="ident" id="6424387"><a href="/gostd/compress/flate/deflate_test.go.html#6423995">out</a></span><span class="op" id="6424390">[</span><span class="op" id="6424391">:</span><span class="ident" id="6424392"><a href="/gostd/compress/flate/deflate_test.go.html#6423516">hi</a></span><span class="op" id="6424394">-</span><span class="ident" id="6424395"><a href="/gostd/compress/flate/deflate_test.go.html#6423512">lo</a></span><span class="op" id="6424397">]</span><span class="op" id="6424398">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6424403">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6424412">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424416">//&nbsp;This&nbsp;test&nbsp;originally&nbsp;checked&nbsp;that&nbsp;after&nbsp;reading</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424469">//&nbsp;the&nbsp;first&nbsp;half&nbsp;of&nbsp;the&nbsp;input,&nbsp;there&nbsp;was&nbsp;nothing&nbsp;left</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424526">//&nbsp;in&nbsp;the&nbsp;read&nbsp;buffer&nbsp;(buf.buf.Len()&nbsp;!=&nbsp;0)&nbsp;but&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424583">//&nbsp;not&nbsp;necessarily&nbsp;the&nbsp;case:&nbsp;the&nbsp;write&nbsp;Flush&nbsp;may&nbsp;emit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424639">//&nbsp;some&nbsp;extra&nbsp;framing&nbsp;bits&nbsp;that&nbsp;are&nbsp;not&nbsp;necessary</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424691">//&nbsp;to&nbsp;process&nbsp;to&nbsp;obtain&nbsp;the&nbsp;first&nbsp;half&nbsp;of&nbsp;the&nbsp;uncompressed</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424752">//&nbsp;data.&nbsp;&nbsp;The&nbsp;test&nbsp;ran&nbsp;correctly&nbsp;most&nbsp;of&nbsp;the&nbsp;time,&nbsp;because</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424813">//&nbsp;the&nbsp;background&nbsp;goroutine&nbsp;had&nbsp;usually&nbsp;read&nbsp;even</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424865">//&nbsp;those&nbsp;extra&nbsp;bits&nbsp;by&nbsp;now,&nbsp;but&nbsp;it&#39;s&nbsp;not&nbsp;a&nbsp;useful&nbsp;thing&nbsp;to</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6424926">//&nbsp;check.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424938"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6424941">.</span><span class="ident" id="6424942"><a href="/gostd/compress/flate/deflate_test.go.html#6422897">WriteMode</a></span><span class="op" id="6424951">(</span><span class="op" id="6424952">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6424955">}</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424958"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6424961">.</span><span class="ident" id="6424962"><a href="/gostd/compress/flate/deflate_test.go.html#6422948">ReadMode</a></span><span class="op" id="6424970">(</span><span class="op" id="6424971">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6424974">out</span>&nbsp;<span class="op" id="6424978">:=</span>&nbsp;<span class="builtinfunc" id="6424981">make</span><span class="op" id="6424985">(</span><span class="op" id="6424986">[</span><span class="op" id="6424987">]</span><span class="builtintype" id="6424988">byte</span><span class="op" id="6424992">,</span>&nbsp;<span class="num" id="6424994">10</span><span class="op" id="6424996">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6424999">if</span>&nbsp;<span class="ident" id="6425002">n</span><span class="op" id="6425003">,</span>&nbsp;<span class="ident" id="6425005">err</span>&nbsp;<span class="op" id="6425009">:=</span>&nbsp;<span class="ident" id="6425012"><a href="/gostd/compress/flate/deflate_test.go.html#6423419">r</a></span><span class="op" id="6425013">.</span><span class="ident" id="6425014"><a href="/gostd/io/io.go.html#1421843">Read</a></span><span class="op" id="6425018">(</span><span class="ident" id="6425019"><a href="/gostd/compress/flate/deflate_test.go.html#6424974">out</a></span><span class="op" id="6425022">)</span><span class="op" id="6425023">;</span>&nbsp;<span class="ident" id="6425025"><a href="/gostd/compress/flate/deflate_test.go.html#6425002">n</a></span>&nbsp;<span class="op" id="6425027">&gt;</span>&nbsp;<span class="num" id="6425029">0</span>&nbsp;<span class="op" id="6425031">||</span>&nbsp;<span class="ident" id="6425034"><a href="/gostd/compress/flate/deflate_test.go.html#6425005">err</a></span>&nbsp;<span class="op" id="6425038">!=</span>&nbsp;<span class="ident" id="6425041"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6425043">.</span><span class="ident" id="6425044"><a href="/gostd/io/io.go.html#1419950">EOF</a></span>&nbsp;<span class="op" id="6425048">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425052"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6425053">.</span><span class="ident" id="6425054"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6425060">(</span><span class="string" id="6425061">&#34;testSync&nbsp;(%d,&nbsp;%d,&nbsp;%s):&nbsp;final&nbsp;Read:&nbsp;%d,&nbsp;%v&nbsp;(hex:&nbsp;%x)&#34;</span><span class="op" id="6425114">,</span>&nbsp;<span class="ident" id="6425116"><a href="/gostd/compress/flate/deflate_test.go.html#6423100">level</a></span><span class="op" id="6425121">,</span>&nbsp;<span class="builtinfunc" id="6425123">len</span><span class="op" id="6425126">(</span><span class="ident" id="6425127"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6425132">)</span><span class="op" id="6425133">,</span>&nbsp;<span class="ident" id="6425135"><a href="/gostd/compress/flate/deflate_test.go.html#6423125">name</a></span><span class="op" id="6425139">,</span>&nbsp;<span class="ident" id="6425141"><a href="/gostd/compress/flate/deflate_test.go.html#6425002">n</a></span><span class="op" id="6425142">,</span>&nbsp;<span class="ident" id="6425144"><a href="/gostd/compress/flate/deflate_test.go.html#6425005">err</a></span><span class="op" id="6425147">,</span>&nbsp;<span class="ident" id="6425149"><a href="/gostd/compress/flate/deflate_test.go.html#6424974">out</a></span><span class="op" id="6425152">[</span><span class="num" id="6425153">0</span><span class="op" id="6425154">:</span><span class="ident" id="6425155"><a href="/gostd/compress/flate/deflate_test.go.html#6425002">n</a></span><span class="op" id="6425156">]</span><span class="op" id="6425157">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6425160">}</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425163">if</span>&nbsp;<span class="ident" id="6425166"><a href="/gostd/compress/flate/deflate_test.go.html#6423234">buf</a></span><span class="op" id="6425169">.</span><span class="ident" id="6425170"><a href="/gostd/compress/flate/deflate_test.go.html#6422351">buf</a></span><span class="op" id="6425173">.</span><span class="ident" id="6425174"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="6425177">(</span><span class="op" id="6425178">)</span>&nbsp;<span class="op" id="6425180">!=</span>&nbsp;<span class="num" id="6425183">0</span>&nbsp;<span class="op" id="6425185">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425189"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6425190">.</span><span class="ident" id="6425191"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6425197">(</span><span class="string" id="6425198">&#34;testSync&nbsp;(%d,&nbsp;%d,&nbsp;%s):&nbsp;extra&nbsp;data&nbsp;at&nbsp;end&#34;</span><span class="op" id="6425240">,</span>&nbsp;<span class="ident" id="6425242"><a href="/gostd/compress/flate/deflate_test.go.html#6423100">level</a></span><span class="op" id="6425247">,</span>&nbsp;<span class="builtinfunc" id="6425249">len</span><span class="op" id="6425252">(</span><span class="ident" id="6425253"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6425258">)</span><span class="op" id="6425259">,</span>&nbsp;<span class="ident" id="6425261"><a href="/gostd/compress/flate/deflate_test.go.html#6423125">name</a></span><span class="op" id="6425265">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6425268">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425271"><a href="/gostd/compress/flate/deflate_test.go.html#6423419">r</a></span><span class="op" id="6425272">.</span><span class="ident" id="6425273"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="6425278">(</span><span class="op" id="6425279">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6425283">//&nbsp;stream&nbsp;should&nbsp;work&nbsp;for&nbsp;ordinary&nbsp;reader&nbsp;too</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425330"><a href="/gostd/compress/flate/deflate_test.go.html#6423419">r</a></span>&nbsp;<span class="op" id="6425332">=</span>&nbsp;<span class="ident" id="6425334"><a href="/gostd/compress/flate/inflate.go.html#4850562">NewReader</a></span><span class="op" id="6425343">(</span><span class="ident" id="6425344"><a href="/gostd/compress/flate/deflate_test.go.html#6423258">buf1</a></span><span class="op" id="6425348">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425351"><a href="/gostd/compress/flate/deflate_test.go.html#6424974">out</a></span><span class="op" id="6425354">,</span>&nbsp;<span class="ident" id="6425356"><a href="/gostd/compress/flate/deflate_test.go.html#6423305">err</a></span>&nbsp;<span class="op" id="6425360">=</span>&nbsp;<span class="ident" id="6425362"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6425368">.</span><span class="ident" id="6425369"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="6425376">(</span><span class="ident" id="6425377"><a href="/gostd/compress/flate/deflate_test.go.html#6423419">r</a></span><span class="op" id="6425378">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425381">if</span>&nbsp;<span class="ident" id="6425384"><a href="/gostd/compress/flate/deflate_test.go.html#6423305">err</a></span>&nbsp;<span class="op" id="6425388">!=</span>&nbsp;<span class="builtintype" id="6425391">nil</span>&nbsp;<span class="op" id="6425395">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425399"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6425400">.</span><span class="ident" id="6425401"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6425407">(</span><span class="string" id="6425408">&#34;testSync:&nbsp;read:&nbsp;%s&#34;</span><span class="op" id="6425428">,</span>&nbsp;<span class="ident" id="6425430"><a href="/gostd/compress/flate/deflate_test.go.html#6423305">err</a></span><span class="op" id="6425433">)</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425437">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6425445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425448"><a href="/gostd/compress/flate/deflate_test.go.html#6423419">r</a></span><span class="op" id="6425449">.</span><span class="ident" id="6425450"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="6425455">(</span><span class="op" id="6425456">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425459">if</span>&nbsp;<span class="op" id="6425462">!</span><span class="ident" id="6425463"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6425468">.</span><span class="ident" id="6425469"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6425474">(</span><span class="ident" id="6425475"><a href="/gostd/compress/flate/deflate_test.go.html#6423111">input</a></span><span class="op" id="6425480">,</span>&nbsp;<span class="ident" id="6425482"><a href="/gostd/compress/flate/deflate_test.go.html#6424974">out</a></span><span class="op" id="6425485">)</span>&nbsp;<span class="op" id="6425487">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425491"><a href="/gostd/compress/flate/deflate_test.go.html#6423086">t</a></span><span class="op" id="6425492">.</span><span class="ident" id="6425493"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6425499">(</span><span class="string" id="6425500">&#34;testSync:&nbsp;decompress(compress(data))&nbsp;!=&nbsp;data:&nbsp;level=%d&nbsp;input=%s&#34;</span><span class="op" id="6425565">,</span>&nbsp;<span class="ident" id="6425567"><a href="/gostd/compress/flate/deflate_test.go.html#6423100">level</a></span><span class="op" id="6425572">,</span>&nbsp;<span class="ident" id="6425574"><a href="/gostd/compress/flate/deflate_test.go.html#6423125">name</a></span><span class="op" id="6425578">)</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6425581">}</span><br>
<span class="lineno"></span><span class="op" id="6425583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6425586">func</span>&nbsp;<span class="ident" id="6425591">testToFromWithLevelAndLimit</span><span class="op" id="6425618">(</span><span class="ident" id="6425619">t</span>&nbsp;<span class="op" id="6425621">*</span><span class="ident" id="6425622"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6425629">.</span><span class="ident" id="6425630"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6425631">,</span>&nbsp;<span class="ident" id="6425633">level</span>&nbsp;<span class="builtintype" id="6425639">int</span><span class="op" id="6425642">,</span>&nbsp;<span class="ident" id="6425644">input</span>&nbsp;<span class="op" id="6425650">[</span><span class="op" id="6425651">]</span><span class="builtintype" id="6425652">byte</span><span class="op" id="6425656">,</span>&nbsp;<span class="ident" id="6425658">name</span>&nbsp;<span class="builtintype" id="6425663">string</span><span class="op" id="6425669">,</span>&nbsp;<span class="ident" id="6425671">limit</span>&nbsp;<span class="builtintype" id="6425677">int</span><span class="op" id="6425680">)</span>&nbsp;<span class="op" id="6425682">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425685">var</span>&nbsp;<span class="ident" id="6425689">buffer</span>&nbsp;<span class="ident" id="6425696"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6425701">.</span><span class="ident" id="6425702"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425710">w</span><span class="op" id="6425711">,</span>&nbsp;<span class="ident" id="6425713">err</span>&nbsp;<span class="op" id="6425717">:=</span>&nbsp;<span class="ident" id="6425720"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6425729">(</span><span class="op" id="6425730">&amp;</span><span class="ident" id="6425731"><a href="/gostd/compress/flate/deflate_test.go.html#6425689">buffer</a></span><span class="op" id="6425737">,</span>&nbsp;<span class="ident" id="6425739"><a href="/gostd/compress/flate/deflate_test.go.html#6425633">level</a></span><span class="op" id="6425744">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425747">if</span>&nbsp;<span class="ident" id="6425750"><a href="/gostd/compress/flate/deflate_test.go.html#6425713">err</a></span>&nbsp;<span class="op" id="6425754">!=</span>&nbsp;<span class="builtintype" id="6425757">nil</span>&nbsp;<span class="op" id="6425761">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425765"><a href="/gostd/compress/flate/deflate_test.go.html#6425619">t</a></span><span class="op" id="6425766">.</span><span class="ident" id="6425767"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6425773">(</span><span class="string" id="6425774">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6425789">,</span>&nbsp;<span class="ident" id="6425791"><a href="/gostd/compress/flate/deflate_test.go.html#6425713">err</a></span><span class="op" id="6425794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425798">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6425806">}</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425809"><a href="/gostd/compress/flate/deflate_test.go.html#6425710">w</a></span><span class="op" id="6425810">.</span><span class="ident" id="6425811"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6425816">(</span><span class="ident" id="6425817"><a href="/gostd/compress/flate/deflate_test.go.html#6425644">input</a></span><span class="op" id="6425822">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425825"><a href="/gostd/compress/flate/deflate_test.go.html#6425710">w</a></span><span class="op" id="6425826">.</span><span class="ident" id="6425827"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6425832">(</span><span class="op" id="6425833">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425836">if</span>&nbsp;<span class="ident" id="6425839"><a href="/gostd/compress/flate/deflate_test.go.html#6425671">limit</a></span>&nbsp;<span class="op" id="6425845">&gt;</span>&nbsp;<span class="num" id="6425847">0</span>&nbsp;<span class="op" id="6425849">&amp;&amp;</span>&nbsp;<span class="ident" id="6425852"><a href="/gostd/compress/flate/deflate_test.go.html#6425689">buffer</a></span><span class="op" id="6425858">.</span><span class="ident" id="6425859"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="6425862">(</span><span class="op" id="6425863">)</span>&nbsp;<span class="op" id="6425865">&gt;</span>&nbsp;<span class="ident" id="6425867"><a href="/gostd/compress/flate/deflate_test.go.html#6425671">limit</a></span>&nbsp;<span class="op" id="6425873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425877"><a href="/gostd/compress/flate/deflate_test.go.html#6425619">t</a></span><span class="op" id="6425878">.</span><span class="ident" id="6425879"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6425885">(</span><span class="string" id="6425886">&#34;level:&nbsp;%d,&nbsp;len(compress(data))&nbsp;=&nbsp;%d&nbsp;&gt;&nbsp;limit&nbsp;=&nbsp;%d&#34;</span><span class="op" id="6425936">,</span>&nbsp;<span class="ident" id="6425938"><a href="/gostd/compress/flate/deflate_test.go.html#6425633">level</a></span><span class="op" id="6425943">,</span>&nbsp;<span class="ident" id="6425945"><a href="/gostd/compress/flate/deflate_test.go.html#6425689">buffer</a></span><span class="op" id="6425951">.</span><span class="ident" id="6425952"><a href="/gostd/bytes/buffer.go.html#1384893">Len</a></span><span class="op" id="6425955">(</span><span class="op" id="6425956">)</span><span class="op" id="6425957">,</span>&nbsp;<span class="ident" id="6425959"><a href="/gostd/compress/flate/deflate_test.go.html#6425671">limit</a></span><span class="op" id="6425964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6425968">return</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6425976">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6425979">r</span>&nbsp;<span class="op" id="6425981">:=</span>&nbsp;<span class="ident" id="6425984"><a href="/gostd/compress/flate/inflate.go.html#4850562">NewReader</a></span><span class="op" id="6425993">(</span><span class="op" id="6425994">&amp;</span><span class="ident" id="6425995"><a href="/gostd/compress/flate/deflate_test.go.html#6425689">buffer</a></span><span class="op" id="6426001">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426004">out</span><span class="op" id="6426007">,</span>&nbsp;<span class="ident" id="6426009"><a href="/gostd/compress/flate/deflate_test.go.html#6425713">err</a></span>&nbsp;<span class="op" id="6426013">:=</span>&nbsp;<span class="ident" id="6426016"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6426022">.</span><span class="ident" id="6426023"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="6426030">(</span><span class="ident" id="6426031"><a href="/gostd/compress/flate/deflate_test.go.html#6425979">r</a></span><span class="op" id="6426032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426035">if</span>&nbsp;<span class="ident" id="6426038"><a href="/gostd/compress/flate/deflate_test.go.html#6425713">err</a></span>&nbsp;<span class="op" id="6426042">!=</span>&nbsp;<span class="builtintype" id="6426045">nil</span>&nbsp;<span class="op" id="6426049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426053"><a href="/gostd/compress/flate/deflate_test.go.html#6425619">t</a></span><span class="op" id="6426054">.</span><span class="ident" id="6426055"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6426061">(</span><span class="string" id="6426062">&#34;read:&nbsp;%s&#34;</span><span class="op" id="6426072">,</span>&nbsp;<span class="ident" id="6426074"><a href="/gostd/compress/flate/deflate_test.go.html#6425713">err</a></span><span class="op" id="6426077">)</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426081">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426089">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426092"><a href="/gostd/compress/flate/deflate_test.go.html#6425979">r</a></span><span class="op" id="6426093">.</span><span class="ident" id="6426094"><a href="/gostd/io/io.go.html#1422583">Close</a></span><span class="op" id="6426099">(</span><span class="op" id="6426100">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426103">if</span>&nbsp;<span class="op" id="6426106">!</span><span class="ident" id="6426107"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6426112">.</span><span class="ident" id="6426113"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6426118">(</span><span class="ident" id="6426119"><a href="/gostd/compress/flate/deflate_test.go.html#6425644">input</a></span><span class="op" id="6426124">,</span>&nbsp;<span class="ident" id="6426126"><a href="/gostd/compress/flate/deflate_test.go.html#6426004">out</a></span><span class="op" id="6426129">)</span>&nbsp;<span class="op" id="6426131">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426135"><a href="/gostd/compress/flate/deflate_test.go.html#6425619">t</a></span><span class="op" id="6426136">.</span><span class="ident" id="6426137"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6426143">(</span><span class="string" id="6426144">&#34;decompress(compress(data))&nbsp;!=&nbsp;data:&nbsp;level=%d&nbsp;input=%s&#34;</span><span class="op" id="6426199">,</span>&nbsp;<span class="ident" id="6426201"><a href="/gostd/compress/flate/deflate_test.go.html#6425633">level</a></span><span class="op" id="6426206">,</span>&nbsp;<span class="ident" id="6426208"><a href="/gostd/compress/flate/deflate_test.go.html#6425658">name</a></span><span class="op" id="6426212">)</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426216">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426224">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426227"><a href="/gostd/compress/flate/deflate_test.go.html#6423077">testSync</a></span><span class="op" id="6426235">(</span><span class="ident" id="6426236"><a href="/gostd/compress/flate/deflate_test.go.html#6425619">t</a></span><span class="op" id="6426237">,</span>&nbsp;<span class="ident" id="6426239"><a href="/gostd/compress/flate/deflate_test.go.html#6425633">level</a></span><span class="op" id="6426244">,</span>&nbsp;<span class="ident" id="6426246"><a href="/gostd/compress/flate/deflate_test.go.html#6425644">input</a></span><span class="op" id="6426251">,</span>&nbsp;<span class="ident" id="6426253"><a href="/gostd/compress/flate/deflate_test.go.html#6425658">name</a></span><span class="op" id="6426257">)</span><br>
<span class="lineno"></span><span class="op" id="6426259">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">305</span><span class="keyword" id="6426262">func</span>&nbsp;<span class="ident" id="6426267">testToFromWithLimit</span><span class="op" id="6426286">(</span><span class="ident" id="6426287">t</span>&nbsp;<span class="op" id="6426289">*</span><span class="ident" id="6426290"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6426297">.</span><span class="ident" id="6426298"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6426299">,</span>&nbsp;<span class="ident" id="6426301">input</span>&nbsp;<span class="op" id="6426307">[</span><span class="op" id="6426308">]</span><span class="builtintype" id="6426309">byte</span><span class="op" id="6426313">,</span>&nbsp;<span class="ident" id="6426315">name</span>&nbsp;<span class="builtintype" id="6426320">string</span><span class="op" id="6426326">,</span>&nbsp;<span class="ident" id="6426328">limit</span>&nbsp;<span class="op" id="6426334">[</span><span class="num" id="6426335">10</span><span class="op" id="6426337">]</span><span class="builtintype" id="6426338">int</span><span class="op" id="6426341">)</span>&nbsp;<span class="op" id="6426343">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426346">for</span>&nbsp;<span class="ident" id="6426350">i</span>&nbsp;<span class="op" id="6426352">:=</span>&nbsp;<span class="num" id="6426355">0</span><span class="op" id="6426356">;</span>&nbsp;<span class="ident" id="6426358"><a href="/gostd/compress/flate/deflate_test.go.html#6426350">i</a></span>&nbsp;<span class="op" id="6426360">&lt;</span>&nbsp;<span class="num" id="6426362">10</span><span class="op" id="6426364">;</span>&nbsp;<span class="ident" id="6426366"><a href="/gostd/compress/flate/deflate_test.go.html#6426350">i</a></span><span class="op" id="6426367">++</span>&nbsp;<span class="op" id="6426370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426374"><a href="/gostd/compress/flate/deflate_test.go.html#6425591">testToFromWithLevelAndLimit</a></span><span class="op" id="6426401">(</span><span class="ident" id="6426402"><a href="/gostd/compress/flate/deflate_test.go.html#6426287">t</a></span><span class="op" id="6426403">,</span>&nbsp;<span class="ident" id="6426405"><a href="/gostd/compress/flate/deflate_test.go.html#6426350">i</a></span><span class="op" id="6426406">,</span>&nbsp;<span class="ident" id="6426408"><a href="/gostd/compress/flate/deflate_test.go.html#6426301">input</a></span><span class="op" id="6426413">,</span>&nbsp;<span class="ident" id="6426415"><a href="/gostd/compress/flate/deflate_test.go.html#6426315">name</a></span><span class="op" id="6426419">,</span>&nbsp;<span class="ident" id="6426421"><a href="/gostd/compress/flate/deflate_test.go.html#6426328">limit</a></span><span class="op" id="6426426">[</span><span class="ident" id="6426427"><a href="/gostd/compress/flate/deflate_test.go.html#6426350">i</a></span><span class="op" id="6426428">]</span><span class="op" id="6426429">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426432">}</span><br>
<span class="lineno"></span><span class="op" id="6426434">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span><span class="keyword" id="6426437">func</span>&nbsp;<span class="ident" id="6426442">TestDeflateInflate</span><span class="op" id="6426460">(</span><span class="ident" id="6426461">t</span>&nbsp;<span class="op" id="6426463">*</span><span class="ident" id="6426464"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6426471">.</span><span class="ident" id="6426472"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6426473">)</span>&nbsp;<span class="op" id="6426475">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426478">for</span>&nbsp;<span class="ident" id="6426482">i</span><span class="op" id="6426483">,</span>&nbsp;<span class="ident" id="6426485">h</span>&nbsp;<span class="op" id="6426487">:=</span>&nbsp;<span class="keyword" id="6426490">range</span>&nbsp;<span class="ident" id="6426496"><a href="/gostd/compress/flate/deflate_test.go.html#6420578">deflateInflateTests</a></span>&nbsp;<span class="op" id="6426516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426520"><a href="/gostd/compress/flate/deflate_test.go.html#6426267">testToFromWithLimit</a></span><span class="op" id="6426539">(</span><span class="ident" id="6426540"><a href="/gostd/compress/flate/deflate_test.go.html#6426461">t</a></span><span class="op" id="6426541">,</span>&nbsp;<span class="ident" id="6426543"><a href="/gostd/compress/flate/deflate_test.go.html#6426485">h</a></span><span class="op" id="6426544">.</span><span class="ident" id="6426545"><a href="/gostd/compress/flate/deflate_test.go.html#6419389">in</a></span><span class="op" id="6426547">,</span>&nbsp;<span class="ident" id="6426549"><a href="/gostd/compress/flate/deflate_test.go.html#6419229">fmt</a></span><span class="op" id="6426552">.</span><span class="ident" id="6426553"><a href="/gostd/fmt/print.go.html#2143637">Sprintf</a></span><span class="op" id="6426560">(</span><span class="string" id="6426561">&#34;#%d&#34;</span><span class="op" id="6426566">,</span>&nbsp;<span class="ident" id="6426568"><a href="/gostd/compress/flate/deflate_test.go.html#6426482">i</a></span><span class="op" id="6426569">)</span><span class="op" id="6426570">,</span>&nbsp;<span class="op" id="6426572">[</span><span class="num" id="6426573">10</span><span class="op" id="6426575">]</span><span class="builtintype" id="6426576">int</span><span class="op" id="6426579">{</span><span class="op" id="6426580">}</span><span class="op" id="6426581">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426584">}</span><br>
<span class="lineno">315</span><span class="op" id="6426586">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6426589">func</span>&nbsp;<span class="ident" id="6426594">TestReverseBits</span><span class="op" id="6426609">(</span><span class="ident" id="6426610">t</span>&nbsp;<span class="op" id="6426612">*</span><span class="ident" id="6426613"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6426620">.</span><span class="ident" id="6426621"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6426622">)</span>&nbsp;<span class="op" id="6426624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426627">for</span>&nbsp;<span class="ident" id="6426631">_</span><span class="op" id="6426632">,</span>&nbsp;<span class="ident" id="6426634">h</span>&nbsp;<span class="op" id="6426636">:=</span>&nbsp;<span class="keyword" id="6426639">range</span>&nbsp;<span class="ident" id="6426645"><a href="/gostd/compress/flate/deflate_test.go.html#6420840">reverseBitsTests</a></span>&nbsp;<span class="op" id="6426662">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6426666">if</span>&nbsp;<span class="ident" id="6426669">v</span>&nbsp;<span class="op" id="6426671">:=</span>&nbsp;<span class="ident" id="6426674"><a href="/gostd/compress/flate/reverse_bits.go.html#4853319">reverseBits</a></span><span class="op" id="6426685">(</span><span class="ident" id="6426686"><a href="/gostd/compress/flate/deflate_test.go.html#6426634">h</a></span><span class="op" id="6426687">.</span><span class="ident" id="6426688"><a href="/gostd/compress/flate/deflate_test.go.html#6419433">in</a></span><span class="op" id="6426690">,</span>&nbsp;<span class="ident" id="6426692"><a href="/gostd/compress/flate/deflate_test.go.html#6426634">h</a></span><span class="op" id="6426693">.</span><span class="ident" id="6426694"><a href="/gostd/compress/flate/deflate_test.go.html#6419450">bitCount</a></span><span class="op" id="6426702">)</span><span class="op" id="6426703">;</span>&nbsp;<span class="ident" id="6426705"><a href="/gostd/compress/flate/deflate_test.go.html#6426669">v</a></span>&nbsp;<span class="op" id="6426707">!=</span>&nbsp;<span class="ident" id="6426710"><a href="/gostd/compress/flate/deflate_test.go.html#6426634">h</a></span><span class="op" id="6426711">.</span><span class="ident" id="6426712"><a href="/gostd/compress/flate/deflate_test.go.html#6419466">out</a></span>&nbsp;<span class="op" id="6426716">{</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426721"><a href="/gostd/compress/flate/deflate_test.go.html#6426610">t</a></span><span class="op" id="6426722">.</span><span class="ident" id="6426723"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6426729">(</span><span class="string" id="6426730">&#34;reverseBits(%v,%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="6426764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426770"><a href="/gostd/compress/flate/deflate_test.go.html#6426634">h</a></span><span class="op" id="6426771">.</span><span class="ident" id="6426772"><a href="/gostd/compress/flate/deflate_test.go.html#6419433">in</a></span><span class="op" id="6426774">,</span>&nbsp;<span class="ident" id="6426776"><a href="/gostd/compress/flate/deflate_test.go.html#6426634">h</a></span><span class="op" id="6426777">.</span><span class="ident" id="6426778"><a href="/gostd/compress/flate/deflate_test.go.html#6419450">bitCount</a></span><span class="op" id="6426786">,</span>&nbsp;<span class="ident" id="6426788"><a href="/gostd/compress/flate/deflate_test.go.html#6426669">v</a></span><span class="op" id="6426789">,</span>&nbsp;<span class="ident" id="6426791"><a href="/gostd/compress/flate/deflate_test.go.html#6426634">h</a></span><span class="op" id="6426792">.</span><span class="ident" id="6426793"><a href="/gostd/compress/flate/deflate_test.go.html#6419466">out</a></span><span class="op" id="6426796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426803">}</span><br>
<span class="lineno"></span><span class="op" id="6426805">}</span><br>
<span class="lineno">325</span><br>
<span class="lineno"></span><span class="keyword" id="6426808">type</span>&nbsp;<span class="ident" id="6426813">deflateInflateStringTest</span>&nbsp;<span class="keyword" id="6426838">struct</span>&nbsp;<span class="op" id="6426845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426848">filename</span>&nbsp;<span class="builtintype" id="6426857">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426865">label</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6426874">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6426882">limit</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426891">[</span><span class="num" id="6426892">10</span><span class="op" id="6426894">]</span><span class="builtintype" id="6426895">int</span><br>
<span class="lineno">330</span><span class="op" id="6426899">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6426902">var</span>&nbsp;<span class="ident" id="6426906">deflateInflateStringTests</span>&nbsp;<span class="op" id="6426932">=</span>&nbsp;<span class="op" id="6426934">[</span><span class="op" id="6426935">]</span><span class="ident" id="6426936"><a href="/gostd/compress/flate/deflate_test.go.html#6426813">deflateInflateStringTest</a></span><span class="op" id="6426960">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6426963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6426967">&#34;../testdata/e.txt&#34;</span><span class="op" id="6426986">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6426990">&#34;2.718281828...&#34;</span><span class="op" id="6427006">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427010">[</span><span class="op" id="6427011">...</span><span class="op" id="6427014">]</span><span class="builtintype" id="6427015">int</span><span class="op" id="6427018">{</span><span class="num" id="6427019">100018</span><span class="op" id="6427025">,</span>&nbsp;<span class="num" id="6427027">50650</span><span class="op" id="6427032">,</span>&nbsp;<span class="num" id="6427034">50960</span><span class="op" id="6427039">,</span>&nbsp;<span class="num" id="6427041">51150</span><span class="op" id="6427046">,</span>&nbsp;<span class="num" id="6427048">50930</span><span class="op" id="6427053">,</span>&nbsp;<span class="num" id="6427055">50790</span><span class="op" id="6427060">,</span>&nbsp;<span class="num" id="6427062">50790</span><span class="op" id="6427067">,</span>&nbsp;<span class="num" id="6427069">50790</span><span class="op" id="6427074">,</span>&nbsp;<span class="num" id="6427076">50790</span><span class="op" id="6427081">,</span>&nbsp;<span class="num" id="6427083">50790</span><span class="op" id="6427088">}</span><span class="op" id="6427089">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427092">}</span><span class="op" id="6427093">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427096">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6427100">&#34;../testdata/Mark.Twain-Tom.Sawyer.txt&#34;</span><span class="op" id="6427139">,</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="string" id="6427143">&#34;Mark.Twain-Tom.Sawyer&#34;</span><span class="op" id="6427166">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427170">[</span><span class="op" id="6427171">...</span><span class="op" id="6427174">]</span><span class="builtintype" id="6427175">int</span><span class="op" id="6427178">{</span><span class="num" id="6427179">407330</span><span class="op" id="6427185">,</span>&nbsp;<span class="num" id="6427187">187598</span><span class="op" id="6427193">,</span>&nbsp;<span class="num" id="6427195">180361</span><span class="op" id="6427201">,</span>&nbsp;<span class="num" id="6427203">172974</span><span class="op" id="6427209">,</span>&nbsp;<span class="num" id="6427211">169160</span><span class="op" id="6427217">,</span>&nbsp;<span class="num" id="6427219">163476</span><span class="op" id="6427225">,</span>&nbsp;<span class="num" id="6427227">160936</span><span class="op" id="6427233">,</span>&nbsp;<span class="num" id="6427235">160506</span><span class="op" id="6427241">,</span>&nbsp;<span class="num" id="6427243">160295</span><span class="op" id="6427249">,</span>&nbsp;<span class="num" id="6427251">160295</span><span class="op" id="6427257">}</span><span class="op" id="6427258">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427261">}</span><span class="op" id="6427262">,</span><br>
<span class="lineno"></span><span class="op" id="6427264">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">345</span><span class="keyword" id="6427267">func</span>&nbsp;<span class="ident" id="6427272">TestDeflateInflateString</span><span class="op" id="6427296">(</span><span class="ident" id="6427297">t</span>&nbsp;<span class="op" id="6427299">*</span><span class="ident" id="6427300"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6427307">.</span><span class="ident" id="6427308"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6427309">)</span>&nbsp;<span class="op" id="6427311">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427314">for</span>&nbsp;<span class="ident" id="6427318">_</span><span class="op" id="6427319">,</span>&nbsp;<span class="ident" id="6427321">test</span>&nbsp;<span class="op" id="6427326">:=</span>&nbsp;<span class="keyword" id="6427329">range</span>&nbsp;<span class="ident" id="6427335"><a href="/gostd/compress/flate/deflate_test.go.html#6426906">deflateInflateStringTests</a></span>&nbsp;<span class="op" id="6427361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427365">gold</span><span class="op" id="6427369">,</span>&nbsp;<span class="ident" id="6427371">err</span>&nbsp;<span class="op" id="6427375">:=</span>&nbsp;<span class="ident" id="6427378"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6427384">.</span><span class="ident" id="6427385"><a href="/gostd/io/ioutil/ioutil.go.html#3765434">ReadFile</a></span><span class="op" id="6427393">(</span><span class="ident" id="6427394"><a href="/gostd/compress/flate/deflate_test.go.html#6427321">test</a></span><span class="op" id="6427398">.</span><span class="ident" id="6427399"><a href="/gostd/compress/flate/deflate_test.go.html#6426848">filename</a></span><span class="op" id="6427407">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427411">if</span>&nbsp;<span class="ident" id="6427414"><a href="/gostd/compress/flate/deflate_test.go.html#6427371">err</a></span>&nbsp;<span class="op" id="6427418">!=</span>&nbsp;<span class="builtintype" id="6427421">nil</span>&nbsp;<span class="op" id="6427425">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427430"><a href="/gostd/compress/flate/deflate_test.go.html#6427297">t</a></span><span class="op" id="6427431">.</span><span class="ident" id="6427432"><a href="/gostd/testing/testing.go.html#5479963">Error</a></span><span class="op" id="6427437">(</span><span class="ident" id="6427438"><a href="/gostd/compress/flate/deflate_test.go.html#6427371">err</a></span><span class="op" id="6427441">)</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427445">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427449"><a href="/gostd/compress/flate/deflate_test.go.html#6426267">testToFromWithLimit</a></span><span class="op" id="6427468">(</span><span class="ident" id="6427469"><a href="/gostd/compress/flate/deflate_test.go.html#6427297">t</a></span><span class="op" id="6427470">,</span>&nbsp;<span class="ident" id="6427472"><a href="/gostd/compress/flate/deflate_test.go.html#6427365">gold</a></span><span class="op" id="6427476">,</span>&nbsp;<span class="ident" id="6427478"><a href="/gostd/compress/flate/deflate_test.go.html#6427321">test</a></span><span class="op" id="6427482">.</span><span class="ident" id="6427483"><a href="/gostd/compress/flate/deflate_test.go.html#6426865">label</a></span><span class="op" id="6427488">,</span>&nbsp;<span class="ident" id="6427490"><a href="/gostd/compress/flate/deflate_test.go.html#6427321">test</a></span><span class="op" id="6427494">.</span><span class="ident" id="6427495"><a href="/gostd/compress/flate/deflate_test.go.html#6426882">limit</a></span><span class="op" id="6427500">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427504">if</span>&nbsp;<span class="ident" id="6427507"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6427514">.</span><span class="ident" id="6427515"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6427520">(</span><span class="op" id="6427521">)</span>&nbsp;<span class="op" id="6427523">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427528">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427536">}</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427539">}</span><br>
<span class="lineno"></span><span class="op" id="6427541">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6427544">func</span>&nbsp;<span class="ident" id="6427549">TestReaderDict</span><span class="op" id="6427563">(</span><span class="ident" id="6427564">t</span>&nbsp;<span class="op" id="6427566">*</span><span class="ident" id="6427567"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6427574">.</span><span class="ident" id="6427575"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6427576">)</span>&nbsp;<span class="op" id="6427578">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427581">const</span>&nbsp;<span class="op" id="6427587">(</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427591">dict</span>&nbsp;<span class="op" id="6427596">=</span>&nbsp;<span class="string" id="6427598">&#34;hello&nbsp;world&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427614">text</span>&nbsp;<span class="op" id="6427619">=</span>&nbsp;<span class="string" id="6427621">&#34;hello&nbsp;again&nbsp;world&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427642">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427645">var</span>&nbsp;<span class="ident" id="6427649">b</span>&nbsp;<span class="ident" id="6427651"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6427656">.</span><span class="ident" id="6427657"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427665">w</span><span class="op" id="6427666">,</span>&nbsp;<span class="ident" id="6427668">err</span>&nbsp;<span class="op" id="6427672">:=</span>&nbsp;<span class="ident" id="6427675"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6427684">(</span><span class="op" id="6427685">&amp;</span><span class="ident" id="6427686"><a href="/gostd/compress/flate/deflate_test.go.html#6427649">b</a></span><span class="op" id="6427687">,</span>&nbsp;<span class="num" id="6427689">5</span><span class="op" id="6427690">)</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427693">if</span>&nbsp;<span class="ident" id="6427696"><a href="/gostd/compress/flate/deflate_test.go.html#6427668">err</a></span>&nbsp;<span class="op" id="6427700">!=</span>&nbsp;<span class="builtintype" id="6427703">nil</span>&nbsp;<span class="op" id="6427707">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427711"><a href="/gostd/compress/flate/deflate_test.go.html#6427564">t</a></span><span class="op" id="6427712">.</span><span class="ident" id="6427713"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6427719">(</span><span class="string" id="6427720">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6427735">,</span>&nbsp;<span class="ident" id="6427737"><a href="/gostd/compress/flate/deflate_test.go.html#6427668">err</a></span><span class="op" id="6427740">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427743">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427746"><a href="/gostd/compress/flate/deflate_test.go.html#6427665">w</a></span><span class="op" id="6427747">.</span><span class="ident" id="6427748"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6427753">(</span><span class="op" id="6427754">[</span><span class="op" id="6427755">]</span><span class="builtintype" id="6427756">byte</span><span class="op" id="6427760">(</span><span class="ident" id="6427761"><a href="/gostd/compress/flate/deflate_test.go.html#6427591">dict</a></span><span class="op" id="6427765">)</span><span class="op" id="6427766">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427769"><a href="/gostd/compress/flate/deflate_test.go.html#6427665">w</a></span><span class="op" id="6427770">.</span><span class="ident" id="6427771"><a href="/gostd/compress/flate/deflate.go.html#4806701">Flush</a></span><span class="op" id="6427776">(</span><span class="op" id="6427777">)</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427780"><a href="/gostd/compress/flate/deflate_test.go.html#6427649">b</a></span><span class="op" id="6427781">.</span><span class="ident" id="6427782"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6427787">(</span><span class="op" id="6427788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427791"><a href="/gostd/compress/flate/deflate_test.go.html#6427665">w</a></span><span class="op" id="6427792">.</span><span class="ident" id="6427793"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6427798">(</span><span class="op" id="6427799">[</span><span class="op" id="6427800">]</span><span class="builtintype" id="6427801">byte</span><span class="op" id="6427805">(</span><span class="ident" id="6427806"><a href="/gostd/compress/flate/deflate_test.go.html#6427614">text</a></span><span class="op" id="6427810">)</span><span class="op" id="6427811">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427814"><a href="/gostd/compress/flate/deflate_test.go.html#6427665">w</a></span><span class="op" id="6427815">.</span><span class="ident" id="6427816"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6427821">(</span><span class="op" id="6427822">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427826">r</span>&nbsp;<span class="op" id="6427828">:=</span>&nbsp;<span class="ident" id="6427831"><a href="/gostd/compress/flate/inflate.go.html#4851168">NewReaderDict</a></span><span class="op" id="6427844">(</span><span class="op" id="6427845">&amp;</span><span class="ident" id="6427846"><a href="/gostd/compress/flate/deflate_test.go.html#6427649">b</a></span><span class="op" id="6427847">,</span>&nbsp;<span class="op" id="6427849">[</span><span class="op" id="6427850">]</span><span class="builtintype" id="6427851">byte</span><span class="op" id="6427855">(</span><span class="ident" id="6427856"><a href="/gostd/compress/flate/deflate_test.go.html#6427591">dict</a></span><span class="op" id="6427860">)</span><span class="op" id="6427861">)</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427864">data</span><span class="op" id="6427868">,</span>&nbsp;<span class="ident" id="6427870"><a href="/gostd/compress/flate/deflate_test.go.html#6427668">err</a></span>&nbsp;<span class="op" id="6427874">:=</span>&nbsp;<span class="ident" id="6427877"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6427883">.</span><span class="ident" id="6427884"><a href="/gostd/io/ioutil/ioutil.go.html#3765117">ReadAll</a></span><span class="op" id="6427891">(</span><span class="ident" id="6427892"><a href="/gostd/compress/flate/deflate_test.go.html#6427826">r</a></span><span class="op" id="6427893">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427896">if</span>&nbsp;<span class="ident" id="6427899"><a href="/gostd/compress/flate/deflate_test.go.html#6427668">err</a></span>&nbsp;<span class="op" id="6427903">!=</span>&nbsp;<span class="builtintype" id="6427906">nil</span>&nbsp;<span class="op" id="6427910">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427914"><a href="/gostd/compress/flate/deflate_test.go.html#6427564">t</a></span><span class="op" id="6427915">.</span><span class="ident" id="6427916"><a href="/gostd/testing/testing.go.html#5480265">Fatal</a></span><span class="op" id="6427921">(</span><span class="ident" id="6427922"><a href="/gostd/compress/flate/deflate_test.go.html#6427668">err</a></span><span class="op" id="6427925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6427928">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6427931">if</span>&nbsp;<span class="builtintype" id="6427934">string</span><span class="op" id="6427940">(</span><span class="ident" id="6427941"><a href="/gostd/compress/flate/deflate_test.go.html#6427864">data</a></span><span class="op" id="6427945">)</span>&nbsp;<span class="op" id="6427947">!=</span>&nbsp;<span class="string" id="6427950">&#34;hello&nbsp;again&nbsp;world&#34;</span>&nbsp;<span class="op" id="6427970">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6427974"><a href="/gostd/compress/flate/deflate_test.go.html#6427564">t</a></span><span class="op" id="6427975">.</span><span class="ident" id="6427976"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6427982">(</span><span class="string" id="6427983">&#34;read&nbsp;returned&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6428009">,</span>&nbsp;<span class="builtintype" id="6428011">string</span><span class="op" id="6428017">(</span><span class="ident" id="6428018"><a href="/gostd/compress/flate/deflate_test.go.html#6427864">data</a></span><span class="op" id="6428022">)</span><span class="op" id="6428023">,</span>&nbsp;<span class="ident" id="6428025"><a href="/gostd/compress/flate/deflate_test.go.html#6427614">text</a></span><span class="op" id="6428029">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428032">}</span><br>
<span class="lineno"></span><span class="op" id="6428034">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6428037">func</span>&nbsp;<span class="ident" id="6428042">TestWriterDict</span><span class="op" id="6428056">(</span><span class="ident" id="6428057">t</span>&nbsp;<span class="op" id="6428059">*</span><span class="ident" id="6428060"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6428067">.</span><span class="ident" id="6428068"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6428069">)</span>&nbsp;<span class="op" id="6428071">{</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428074">const</span>&nbsp;<span class="op" id="6428080">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428084">dict</span>&nbsp;<span class="op" id="6428089">=</span>&nbsp;<span class="string" id="6428091">&#34;hello&nbsp;world&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428107">text</span>&nbsp;<span class="op" id="6428112">=</span>&nbsp;<span class="string" id="6428114">&#34;hello&nbsp;again&nbsp;world&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428135">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428138">var</span>&nbsp;<span class="ident" id="6428142">b</span>&nbsp;<span class="ident" id="6428144"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6428149">.</span><span class="ident" id="6428150"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno">390</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428158">w</span><span class="op" id="6428159">,</span>&nbsp;<span class="ident" id="6428161">err</span>&nbsp;<span class="op" id="6428165">:=</span>&nbsp;<span class="ident" id="6428168"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6428177">(</span><span class="op" id="6428178">&amp;</span><span class="ident" id="6428179"><a href="/gostd/compress/flate/deflate_test.go.html#6428142">b</a></span><span class="op" id="6428180">,</span>&nbsp;<span class="num" id="6428182">5</span><span class="op" id="6428183">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428186">if</span>&nbsp;<span class="ident" id="6428189"><a href="/gostd/compress/flate/deflate_test.go.html#6428161">err</a></span>&nbsp;<span class="op" id="6428193">!=</span>&nbsp;<span class="builtintype" id="6428196">nil</span>&nbsp;<span class="op" id="6428200">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428204"><a href="/gostd/compress/flate/deflate_test.go.html#6428057">t</a></span><span class="op" id="6428205">.</span><span class="ident" id="6428206"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6428212">(</span><span class="string" id="6428213">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6428228">,</span>&nbsp;<span class="ident" id="6428230"><a href="/gostd/compress/flate/deflate_test.go.html#6428161">err</a></span><span class="op" id="6428233">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428236">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428239"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428240">.</span><span class="ident" id="6428241"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6428246">(</span><span class="op" id="6428247">[</span><span class="op" id="6428248">]</span><span class="builtintype" id="6428249">byte</span><span class="op" id="6428253">(</span><span class="ident" id="6428254"><a href="/gostd/compress/flate/deflate_test.go.html#6428084">dict</a></span><span class="op" id="6428258">)</span><span class="op" id="6428259">)</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428262"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428263">.</span><span class="ident" id="6428264"><a href="/gostd/compress/flate/deflate.go.html#4806701">Flush</a></span><span class="op" id="6428269">(</span><span class="op" id="6428270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428273"><a href="/gostd/compress/flate/deflate_test.go.html#6428142">b</a></span><span class="op" id="6428274">.</span><span class="ident" id="6428275"><a href="/gostd/bytes/buffer.go.html#1385417">Reset</a></span><span class="op" id="6428280">(</span><span class="op" id="6428281">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428284"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428285">.</span><span class="ident" id="6428286"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6428291">(</span><span class="op" id="6428292">[</span><span class="op" id="6428293">]</span><span class="builtintype" id="6428294">byte</span><span class="op" id="6428298">(</span><span class="ident" id="6428299"><a href="/gostd/compress/flate/deflate_test.go.html#6428107">text</a></span><span class="op" id="6428303">)</span><span class="op" id="6428304">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428307"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428308">.</span><span class="ident" id="6428309"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6428314">(</span><span class="op" id="6428315">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428319">var</span>&nbsp;<span class="ident" id="6428323">b1</span>&nbsp;<span class="ident" id="6428326"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6428331">.</span><span class="ident" id="6428332"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428340"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428341">,</span>&nbsp;<span class="ident" id="6428343">_</span>&nbsp;<span class="op" id="6428345">=</span>&nbsp;<span class="ident" id="6428347"><a href="/gostd/compress/flate/deflate.go.html#4805397">NewWriterDict</a></span><span class="op" id="6428360">(</span><span class="op" id="6428361">&amp;</span><span class="ident" id="6428362"><a href="/gostd/compress/flate/deflate_test.go.html#6428323">b1</a></span><span class="op" id="6428364">,</span>&nbsp;<span class="num" id="6428366">5</span><span class="op" id="6428367">,</span>&nbsp;<span class="op" id="6428369">[</span><span class="op" id="6428370">]</span><span class="builtintype" id="6428371">byte</span><span class="op" id="6428375">(</span><span class="ident" id="6428376"><a href="/gostd/compress/flate/deflate_test.go.html#6428084">dict</a></span><span class="op" id="6428380">)</span><span class="op" id="6428381">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428384"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428385">.</span><span class="ident" id="6428386"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6428391">(</span><span class="op" id="6428392">[</span><span class="op" id="6428393">]</span><span class="builtintype" id="6428394">byte</span><span class="op" id="6428398">(</span><span class="ident" id="6428399"><a href="/gostd/compress/flate/deflate_test.go.html#6428107">text</a></span><span class="op" id="6428403">)</span><span class="op" id="6428404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428407"><a href="/gostd/compress/flate/deflate_test.go.html#6428158">w</a></span><span class="op" id="6428408">.</span><span class="ident" id="6428409"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6428414">(</span><span class="op" id="6428415">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428419">if</span>&nbsp;<span class="op" id="6428422">!</span><span class="ident" id="6428423"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6428428">.</span><span class="ident" id="6428429"><a href="/gostd/bytes/bytes_decl.go.html#1414806">Equal</a></span><span class="op" id="6428434">(</span><span class="ident" id="6428435"><a href="/gostd/compress/flate/deflate_test.go.html#6428323">b1</a></span><span class="op" id="6428437">.</span><span class="ident" id="6428438"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6428443">(</span><span class="op" id="6428444">)</span><span class="op" id="6428445">,</span>&nbsp;<span class="ident" id="6428447"><a href="/gostd/compress/flate/deflate_test.go.html#6428142">b</a></span><span class="op" id="6428448">.</span><span class="ident" id="6428449"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6428454">(</span><span class="op" id="6428455">)</span><span class="op" id="6428456">)</span>&nbsp;<span class="op" id="6428458">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428462"><a href="/gostd/compress/flate/deflate_test.go.html#6428057">t</a></span><span class="op" id="6428463">.</span><span class="ident" id="6428464"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6428470">(</span><span class="string" id="6428471">&#34;writer&nbsp;wrote&nbsp;%q&nbsp;want&nbsp;%q&#34;</span><span class="op" id="6428496">,</span>&nbsp;<span class="ident" id="6428498"><a href="/gostd/compress/flate/deflate_test.go.html#6428323">b1</a></span><span class="op" id="6428500">.</span><span class="ident" id="6428501"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6428506">(</span><span class="op" id="6428507">)</span><span class="op" id="6428508">,</span>&nbsp;<span class="ident" id="6428510"><a href="/gostd/compress/flate/deflate_test.go.html#6428142">b</a></span><span class="op" id="6428511">.</span><span class="ident" id="6428512"><a href="/gostd/bytes/buffer.go.html#1384454">Bytes</a></span><span class="op" id="6428517">(</span><span class="op" id="6428518">)</span><span class="op" id="6428519">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428522">}</span><br>
<span class="lineno"></span><span class="op" id="6428524">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">410</span><span class="comment" id="6428527">//&nbsp;See&nbsp;http://code.google.com/p/go/issues/detail?id=2508</span><br>
<span class="lineno"></span><span class="keyword" id="6428584">func</span>&nbsp;<span class="ident" id="6428589">TestRegression2508</span><span class="op" id="6428607">(</span><span class="ident" id="6428608">t</span>&nbsp;<span class="op" id="6428610">*</span><span class="ident" id="6428611"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6428618">.</span><span class="ident" id="6428619"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6428620">)</span>&nbsp;<span class="op" id="6428622">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428625">if</span>&nbsp;<span class="ident" id="6428628"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6428635">.</span><span class="ident" id="6428636"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6428641">(</span><span class="op" id="6428642">)</span>&nbsp;<span class="op" id="6428644">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428648"><a href="/gostd/compress/flate/deflate_test.go.html#6428608">t</a></span><span class="op" id="6428649">.</span><span class="ident" id="6428650"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6428654">(</span><span class="string" id="6428655">&#34;test&nbsp;disabled&nbsp;with&nbsp;-short&#34;</span><span class="op" id="6428682">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428686">return</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428694">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428697">w</span><span class="op" id="6428698">,</span>&nbsp;<span class="ident" id="6428700">err</span>&nbsp;<span class="op" id="6428704">:=</span>&nbsp;<span class="ident" id="6428707"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6428716">(</span><span class="ident" id="6428717"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6428723">.</span><span class="ident" id="6428724"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="6428731">,</span>&nbsp;<span class="num" id="6428733">1</span><span class="op" id="6428734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428737">if</span>&nbsp;<span class="ident" id="6428740"><a href="/gostd/compress/flate/deflate_test.go.html#6428700">err</a></span>&nbsp;<span class="op" id="6428744">!=</span>&nbsp;<span class="builtintype" id="6428747">nil</span>&nbsp;<span class="op" id="6428751">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428755"><a href="/gostd/compress/flate/deflate_test.go.html#6428608">t</a></span><span class="op" id="6428756">.</span><span class="ident" id="6428757"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6428763">(</span><span class="string" id="6428764">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6428779">,</span>&nbsp;<span class="ident" id="6428781"><a href="/gostd/compress/flate/deflate_test.go.html#6428700">err</a></span><span class="op" id="6428784">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428787">}</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428790">buf</span>&nbsp;<span class="op" id="6428794">:=</span>&nbsp;<span class="builtinfunc" id="6428797">make</span><span class="op" id="6428801">(</span><span class="op" id="6428802">[</span><span class="op" id="6428803">]</span><span class="builtintype" id="6428804">byte</span><span class="op" id="6428808">,</span>&nbsp;<span class="num" id="6428810">1024</span><span class="op" id="6428814">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428817">for</span>&nbsp;<span class="ident" id="6428821">i</span>&nbsp;<span class="op" id="6428823">:=</span>&nbsp;<span class="num" id="6428826">0</span><span class="op" id="6428827">;</span>&nbsp;<span class="ident" id="6428829"><a href="/gostd/compress/flate/deflate_test.go.html#6428821">i</a></span>&nbsp;<span class="op" id="6428831">&lt;</span>&nbsp;<span class="num" id="6428833">131072</span><span class="op" id="6428839">;</span>&nbsp;<span class="ident" id="6428841"><a href="/gostd/compress/flate/deflate_test.go.html#6428821">i</a></span><span class="op" id="6428842">++</span>&nbsp;<span class="op" id="6428845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428849">if</span>&nbsp;<span class="ident" id="6428852">_</span><span class="op" id="6428853">,</span>&nbsp;<span class="ident" id="6428855">err</span>&nbsp;<span class="op" id="6428859">:=</span>&nbsp;<span class="ident" id="6428862"><a href="/gostd/compress/flate/deflate_test.go.html#6428697">w</a></span><span class="op" id="6428863">.</span><span class="ident" id="6428864"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6428869">(</span><span class="ident" id="6428870"><a href="/gostd/compress/flate/deflate_test.go.html#6428790">buf</a></span><span class="op" id="6428873">)</span><span class="op" id="6428874">;</span>&nbsp;<span class="ident" id="6428876"><a href="/gostd/compress/flate/deflate_test.go.html#6428855">err</a></span>&nbsp;<span class="op" id="6428880">!=</span>&nbsp;<span class="builtintype" id="6428883">nil</span>&nbsp;<span class="op" id="6428887">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428892"><a href="/gostd/compress/flate/deflate_test.go.html#6428608">t</a></span><span class="op" id="6428893">.</span><span class="ident" id="6428894"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6428900">(</span><span class="string" id="6428901">&#34;writer&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="6428920">,</span>&nbsp;<span class="ident" id="6428922"><a href="/gostd/compress/flate/deflate_test.go.html#6428855">err</a></span><span class="op" id="6428925">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428929">}</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6428932">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6428935"><a href="/gostd/compress/flate/deflate_test.go.html#6428697">w</a></span><span class="op" id="6428936">.</span><span class="ident" id="6428937"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6428942">(</span><span class="op" id="6428943">)</span><br>
<span class="lineno"></span><span class="op" id="6428945">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6428948">func</span>&nbsp;<span class="ident" id="6428953">TestWriterReset</span><span class="op" id="6428968">(</span><span class="ident" id="6428969">t</span>&nbsp;<span class="op" id="6428971">*</span><span class="ident" id="6428972"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6428979">.</span><span class="ident" id="6428980"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6428981">)</span>&nbsp;<span class="op" id="6428983">{</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6428986">for</span>&nbsp;<span class="ident" id="6428990">level</span>&nbsp;<span class="op" id="6428996">:=</span>&nbsp;<span class="num" id="6428999">0</span><span class="op" id="6429000">;</span>&nbsp;<span class="ident" id="6429002"><a href="/gostd/compress/flate/deflate_test.go.html#6428990">level</a></span>&nbsp;<span class="op" id="6429008">&lt;=</span>&nbsp;<span class="num" id="6429011">9</span><span class="op" id="6429012">;</span>&nbsp;<span class="ident" id="6429014"><a href="/gostd/compress/flate/deflate_test.go.html#6428990">level</a></span><span class="op" id="6429019">++</span>&nbsp;<span class="op" id="6429022">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6429026">if</span>&nbsp;<span class="ident" id="6429029"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6429036">.</span><span class="ident" id="6429037"><a href="/gostd/testing/testing.go.html#5475359">Short</a></span><span class="op" id="6429042">(</span><span class="op" id="6429043">)</span>&nbsp;<span class="op" id="6429045">&amp;&amp;</span>&nbsp;<span class="ident" id="6429048"><a href="/gostd/compress/flate/deflate_test.go.html#6428990">level</a></span>&nbsp;<span class="op" id="6429054">&gt;</span>&nbsp;<span class="num" id="6429056">1</span>&nbsp;<span class="op" id="6429058">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6429063">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6429071">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429075">w</span><span class="op" id="6429076">,</span>&nbsp;<span class="ident" id="6429078">err</span>&nbsp;<span class="op" id="6429082">:=</span>&nbsp;<span class="ident" id="6429085"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6429094">(</span><span class="ident" id="6429095"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6429101">.</span><span class="ident" id="6429102"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="6429109">,</span>&nbsp;<span class="ident" id="6429111"><a href="/gostd/compress/flate/deflate_test.go.html#6428990">level</a></span><span class="op" id="6429116">)</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6429120">if</span>&nbsp;<span class="ident" id="6429123"><a href="/gostd/compress/flate/deflate_test.go.html#6429078">err</a></span>&nbsp;<span class="op" id="6429127">!=</span>&nbsp;<span class="builtintype" id="6429130">nil</span>&nbsp;<span class="op" id="6429134">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429139"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429140">.</span><span class="ident" id="6429141"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6429147">(</span><span class="string" id="6429148">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6429163">,</span>&nbsp;<span class="ident" id="6429165"><a href="/gostd/compress/flate/deflate_test.go.html#6429078">err</a></span><span class="op" id="6429168">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6429172">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429176">buf</span>&nbsp;<span class="op" id="6429180">:=</span>&nbsp;<span class="op" id="6429183">[</span><span class="op" id="6429184">]</span><span class="builtintype" id="6429185">byte</span><span class="op" id="6429189">(</span><span class="string" id="6429190">&#34;hello&nbsp;world&#34;</span><span class="op" id="6429203">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6429207">for</span>&nbsp;<span class="ident" id="6429211">i</span>&nbsp;<span class="op" id="6429213">:=</span>&nbsp;<span class="num" id="6429216">0</span><span class="op" id="6429217">;</span>&nbsp;<span class="ident" id="6429219"><a href="/gostd/compress/flate/deflate_test.go.html#6429211">i</a></span>&nbsp;<span class="op" id="6429221">&lt;</span>&nbsp;<span class="num" id="6429223">1024</span><span class="op" id="6429227">;</span>&nbsp;<span class="ident" id="6429229"><a href="/gostd/compress/flate/deflate_test.go.html#6429211">i</a></span><span class="op" id="6429230">++</span>&nbsp;<span class="op" id="6429233">{</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429238"><a href="/gostd/compress/flate/deflate_test.go.html#6429075">w</a></span><span class="op" id="6429239">.</span><span class="ident" id="6429240"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6429245">(</span><span class="ident" id="6429246"><a href="/gostd/compress/flate/deflate_test.go.html#6429176">buf</a></span><span class="op" id="6429249">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6429253">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429257"><a href="/gostd/compress/flate/deflate_test.go.html#6429075">w</a></span><span class="op" id="6429258">.</span><span class="ident" id="6429259"><a href="/gostd/compress/flate/deflate.go.html#4807095">Reset</a></span><span class="op" id="6429264">(</span><span class="ident" id="6429265"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6429271">.</span><span class="ident" id="6429272"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="6429279">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429284">wref</span><span class="op" id="6429288">,</span>&nbsp;<span class="ident" id="6429290"><a href="/gostd/compress/flate/deflate_test.go.html#6429078">err</a></span>&nbsp;<span class="op" id="6429294">:=</span>&nbsp;<span class="ident" id="6429297"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6429306">(</span><span class="ident" id="6429307"><a href="/gostd/compress/flate/deflate_test.go.html#6419242">ioutil</a></span><span class="op" id="6429313">.</span><span class="ident" id="6429314"><a href="/gostd/io/ioutil/ioutil.go.html#3768458">Discard</a></span><span class="op" id="6429321">,</span>&nbsp;<span class="ident" id="6429323"><a href="/gostd/compress/flate/deflate_test.go.html#6428990">level</a></span><span class="op" id="6429328">)</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6429332">if</span>&nbsp;<span class="ident" id="6429335"><a href="/gostd/compress/flate/deflate_test.go.html#6429078">err</a></span>&nbsp;<span class="op" id="6429339">!=</span>&nbsp;<span class="builtintype" id="6429342">nil</span>&nbsp;<span class="op" id="6429346">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429351"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429352">.</span><span class="ident" id="6429353"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6429359">(</span><span class="string" id="6429360">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6429375">,</span>&nbsp;<span class="ident" id="6429377"><a href="/gostd/compress/flate/deflate_test.go.html#6429078">err</a></span><span class="op" id="6429380">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6429384">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="6429389">//&nbsp;DeepEqual&nbsp;doesn&#39;t&nbsp;compare&nbsp;functions.</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429431"><a href="/gostd/compress/flate/deflate_test.go.html#6429075">w</a></span><span class="op" id="6429432">.</span><span class="ident" id="6429433"><a href="/gostd/compress/flate/deflate.go.html#4806041">d</a></span><span class="op" id="6429434">.</span><span class="ident" id="6429435"><a href="/gostd/compress/flate/deflate.go.html#4793819">fill</a></span><span class="op" id="6429439">,</span>&nbsp;<span class="ident" id="6429441"><a href="/gostd/compress/flate/deflate_test.go.html#6429284">wref</a></span><span class="op" id="6429445">.</span><span class="ident" id="6429446"><a href="/gostd/compress/flate/deflate.go.html#4806041">d</a></span><span class="op" id="6429447">.</span><span class="ident" id="6429448"><a href="/gostd/compress/flate/deflate.go.html#4793819">fill</a></span>&nbsp;<span class="op" id="6429453">=</span>&nbsp;<span class="builtintype" id="6429455">nil</span><span class="op" id="6429458">,</span>&nbsp;<span class="builtintype" id="6429460">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429466"><a href="/gostd/compress/flate/deflate_test.go.html#6429075">w</a></span><span class="op" id="6429467">.</span><span class="ident" id="6429468"><a href="/gostd/compress/flate/deflate.go.html#4806041">d</a></span><span class="op" id="6429469">.</span><span class="ident" id="6429470"><a href="/gostd/compress/flate/deflate.go.html#4793878">step</a></span><span class="op" id="6429474">,</span>&nbsp;<span class="ident" id="6429476"><a href="/gostd/compress/flate/deflate_test.go.html#6429284">wref</a></span><span class="op" id="6429480">.</span><span class="ident" id="6429481"><a href="/gostd/compress/flate/deflate.go.html#4806041">d</a></span><span class="op" id="6429482">.</span><span class="ident" id="6429483"><a href="/gostd/compress/flate/deflate.go.html#4793878">step</a></span>&nbsp;<span class="op" id="6429488">=</span>&nbsp;<span class="builtintype" id="6429490">nil</span><span class="op" id="6429493">,</span>&nbsp;<span class="builtintype" id="6429495">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6429501">if</span>&nbsp;<span class="op" id="6429504">!</span><span class="ident" id="6429505"><a href="/gostd/compress/flate/deflate_test.go.html#6419255">reflect</a></span><span class="op" id="6429512">.</span><span class="ident" id="6429513"><a href="/gostd/reflect/deepequal.go.html#2775472">DeepEqual</a></span><span class="op" id="6429522">(</span><span class="ident" id="6429523"><a href="/gostd/compress/flate/deflate_test.go.html#6429075">w</a></span><span class="op" id="6429524">,</span>&nbsp;<span class="ident" id="6429526"><a href="/gostd/compress/flate/deflate_test.go.html#6429284">wref</a></span><span class="op" id="6429530">)</span>&nbsp;<span class="op" id="6429532">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429537"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429538">.</span><span class="ident" id="6429539"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6429545">(</span><span class="string" id="6429546">&#34;level&nbsp;%d&nbsp;Writer&nbsp;not&nbsp;reset&nbsp;after&nbsp;Reset&#34;</span><span class="op" id="6429585">,</span>&nbsp;<span class="ident" id="6429587"><a href="/gostd/compress/flate/deflate_test.go.html#6428990">level</a></span><span class="op" id="6429592">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6429596">}</span><br>
<span class="lineno">455</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6429599">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429602"><a href="/gostd/compress/flate/deflate_test.go.html#6430259">testResetOutput</a></span><span class="op" id="6429617">(</span><span class="ident" id="6429618"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429619">,</span>&nbsp;<span class="keyword" id="6429621">func</span><span class="op" id="6429625">(</span><span class="ident" id="6429626">w</span>&nbsp;<span class="ident" id="6429628"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6429630">.</span><span class="ident" id="6429631"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6429637">)</span>&nbsp;<span class="op" id="6429639">(</span><span class="op" id="6429640">*</span><span class="ident" id="6429641"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6429647">,</span>&nbsp;<span class="builtintype" id="6429649">error</span><span class="op" id="6429654">)</span>&nbsp;<span class="op" id="6429656">{</span>&nbsp;<span class="keyword" id="6429658">return</span>&nbsp;<span class="ident" id="6429665"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6429674">(</span><span class="ident" id="6429675"><a href="/gostd/compress/flate/deflate_test.go.html#6429626">w</a></span><span class="op" id="6429676">,</span>&nbsp;<span class="ident" id="6429678"><a href="/gostd/compress/flate/deflate.go.html#4792285">NoCompression</a></span><span class="op" id="6429691">)</span>&nbsp;<span class="op" id="6429693">}</span><span class="op" id="6429694">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429697"><a href="/gostd/compress/flate/deflate_test.go.html#6430259">testResetOutput</a></span><span class="op" id="6429712">(</span><span class="ident" id="6429713"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429714">,</span>&nbsp;<span class="keyword" id="6429716">func</span><span class="op" id="6429720">(</span><span class="ident" id="6429721">w</span>&nbsp;<span class="ident" id="6429723"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6429725">.</span><span class="ident" id="6429726"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6429732">)</span>&nbsp;<span class="op" id="6429734">(</span><span class="op" id="6429735">*</span><span class="ident" id="6429736"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6429742">,</span>&nbsp;<span class="builtintype" id="6429744">error</span><span class="op" id="6429749">)</span>&nbsp;<span class="op" id="6429751">{</span>&nbsp;<span class="keyword" id="6429753">return</span>&nbsp;<span class="ident" id="6429760"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6429769">(</span><span class="ident" id="6429770"><a href="/gostd/compress/flate/deflate_test.go.html#6429721">w</a></span><span class="op" id="6429771">,</span>&nbsp;<span class="ident" id="6429773"><a href="/gostd/compress/flate/deflate.go.html#4792381">DefaultCompression</a></span><span class="op" id="6429791">)</span>&nbsp;<span class="op" id="6429793">}</span><span class="op" id="6429794">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429797"><a href="/gostd/compress/flate/deflate_test.go.html#6430259">testResetOutput</a></span><span class="op" id="6429812">(</span><span class="ident" id="6429813"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429814">,</span>&nbsp;<span class="keyword" id="6429816">func</span><span class="op" id="6429820">(</span><span class="ident" id="6429821">w</span>&nbsp;<span class="ident" id="6429823"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6429825">.</span><span class="ident" id="6429826"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6429832">)</span>&nbsp;<span class="op" id="6429834">(</span><span class="op" id="6429835">*</span><span class="ident" id="6429836"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6429842">,</span>&nbsp;<span class="builtintype" id="6429844">error</span><span class="op" id="6429849">)</span>&nbsp;<span class="op" id="6429851">{</span>&nbsp;<span class="keyword" id="6429853">return</span>&nbsp;<span class="ident" id="6429860"><a href="/gostd/compress/flate/deflate.go.html#4804908">NewWriter</a></span><span class="op" id="6429869">(</span><span class="ident" id="6429870"><a href="/gostd/compress/flate/deflate_test.go.html#6429821">w</a></span><span class="op" id="6429871">,</span>&nbsp;<span class="ident" id="6429873"><a href="/gostd/compress/flate/deflate.go.html#4792357">BestCompression</a></span><span class="op" id="6429888">)</span>&nbsp;<span class="op" id="6429890">}</span><span class="op" id="6429891">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429894">dict</span>&nbsp;<span class="op" id="6429899">:=</span>&nbsp;<span class="op" id="6429902">[</span><span class="op" id="6429903">]</span><span class="builtintype" id="6429904">byte</span><span class="op" id="6429908">(</span><span class="string" id="6429909">&#34;we&nbsp;are&nbsp;the&nbsp;world&#34;</span><span class="op" id="6429927">)</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6429930"><a href="/gostd/compress/flate/deflate_test.go.html#6430259">testResetOutput</a></span><span class="op" id="6429945">(</span><span class="ident" id="6429946"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6429947">,</span>&nbsp;<span class="keyword" id="6429949">func</span><span class="op" id="6429953">(</span><span class="ident" id="6429954">w</span>&nbsp;<span class="ident" id="6429956"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6429958">.</span><span class="ident" id="6429959"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6429965">)</span>&nbsp;<span class="op" id="6429967">(</span><span class="op" id="6429968">*</span><span class="ident" id="6429969"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6429975">,</span>&nbsp;<span class="builtintype" id="6429977">error</span><span class="op" id="6429982">)</span>&nbsp;<span class="op" id="6429984">{</span>&nbsp;<span class="keyword" id="6429986">return</span>&nbsp;<span class="ident" id="6429993"><a href="/gostd/compress/flate/deflate.go.html#4805397">NewWriterDict</a></span><span class="op" id="6430006">(</span><span class="ident" id="6430007"><a href="/gostd/compress/flate/deflate_test.go.html#6429954">w</a></span><span class="op" id="6430008">,</span>&nbsp;<span class="ident" id="6430010"><a href="/gostd/compress/flate/deflate.go.html#4792285">NoCompression</a></span><span class="op" id="6430023">,</span>&nbsp;<span class="ident" id="6430025"><a href="/gostd/compress/flate/deflate_test.go.html#6429894">dict</a></span><span class="op" id="6430029">)</span>&nbsp;<span class="op" id="6430031">}</span><span class="op" id="6430032">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430035"><a href="/gostd/compress/flate/deflate_test.go.html#6430259">testResetOutput</a></span><span class="op" id="6430050">(</span><span class="ident" id="6430051"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6430052">,</span>&nbsp;<span class="keyword" id="6430054">func</span><span class="op" id="6430058">(</span><span class="ident" id="6430059">w</span>&nbsp;<span class="ident" id="6430061"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6430063">.</span><span class="ident" id="6430064"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6430070">)</span>&nbsp;<span class="op" id="6430072">(</span><span class="op" id="6430073">*</span><span class="ident" id="6430074"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6430080">,</span>&nbsp;<span class="builtintype" id="6430082">error</span><span class="op" id="6430087">)</span>&nbsp;<span class="op" id="6430089">{</span>&nbsp;<span class="keyword" id="6430091">return</span>&nbsp;<span class="ident" id="6430098"><a href="/gostd/compress/flate/deflate.go.html#4805397">NewWriterDict</a></span><span class="op" id="6430111">(</span><span class="ident" id="6430112"><a href="/gostd/compress/flate/deflate_test.go.html#6430059">w</a></span><span class="op" id="6430113">,</span>&nbsp;<span class="ident" id="6430115"><a href="/gostd/compress/flate/deflate.go.html#4792381">DefaultCompression</a></span><span class="op" id="6430133">,</span>&nbsp;<span class="ident" id="6430135"><a href="/gostd/compress/flate/deflate_test.go.html#6429894">dict</a></span><span class="op" id="6430139">)</span>&nbsp;<span class="op" id="6430141">}</span><span class="op" id="6430142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430145"><a href="/gostd/compress/flate/deflate_test.go.html#6430259">testResetOutput</a></span><span class="op" id="6430160">(</span><span class="ident" id="6430161"><a href="/gostd/compress/flate/deflate_test.go.html#6428969">t</a></span><span class="op" id="6430162">,</span>&nbsp;<span class="keyword" id="6430164">func</span><span class="op" id="6430168">(</span><span class="ident" id="6430169">w</span>&nbsp;<span class="ident" id="6430171"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6430173">.</span><span class="ident" id="6430174"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6430180">)</span>&nbsp;<span class="op" id="6430182">(</span><span class="op" id="6430183">*</span><span class="ident" id="6430184"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6430190">,</span>&nbsp;<span class="builtintype" id="6430192">error</span><span class="op" id="6430197">)</span>&nbsp;<span class="op" id="6430199">{</span>&nbsp;<span class="keyword" id="6430201">return</span>&nbsp;<span class="ident" id="6430208"><a href="/gostd/compress/flate/deflate.go.html#4805397">NewWriterDict</a></span><span class="op" id="6430221">(</span><span class="ident" id="6430222"><a href="/gostd/compress/flate/deflate_test.go.html#6430169">w</a></span><span class="op" id="6430223">,</span>&nbsp;<span class="ident" id="6430225"><a href="/gostd/compress/flate/deflate.go.html#4792357">BestCompression</a></span><span class="op" id="6430240">,</span>&nbsp;<span class="ident" id="6430242"><a href="/gostd/compress/flate/deflate_test.go.html#6429894">dict</a></span><span class="op" id="6430246">)</span>&nbsp;<span class="op" id="6430248">}</span><span class="op" id="6430249">)</span><br>
<span class="lineno"></span><span class="op" id="6430251">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">465</span><span class="keyword" id="6430254">func</span>&nbsp;<span class="ident" id="6430259">testResetOutput</span><span class="op" id="6430274">(</span><span class="ident" id="6430275">t</span>&nbsp;<span class="op" id="6430277">*</span><span class="ident" id="6430278"><a href="/gostd/compress/flate/deflate_test.go.html#6419274">testing</a></span><span class="op" id="6430285">.</span><span class="ident" id="6430286"><a href="/gostd/testing/testing.go.html#5477412">T</a></span><span class="op" id="6430287">,</span>&nbsp;<span class="ident" id="6430289">newWriter</span>&nbsp;<span class="keyword" id="6430299">func</span><span class="op" id="6430303">(</span><span class="ident" id="6430304">w</span>&nbsp;<span class="ident" id="6430306"><a href="/gostd/compress/flate/deflate_test.go.html#6419236">io</a></span><span class="op" id="6430308">.</span><span class="ident" id="6430309"><a href="/gostd/io/io.go.html#1422314">Writer</a></span><span class="op" id="6430315">)</span>&nbsp;<span class="op" id="6430317">(</span><span class="op" id="6430318">*</span><span class="ident" id="6430319"><a href="/gostd/compress/flate/deflate.go.html#4806024">Writer</a></span><span class="op" id="6430325">,</span>&nbsp;<span class="builtintype" id="6430327">error</span><span class="op" id="6430332">)</span><span class="op" id="6430333">)</span>&nbsp;<span class="op" id="6430335">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430338">buf</span>&nbsp;<span class="op" id="6430342">:=</span>&nbsp;<span class="builtinfunc" id="6430345">new</span><span class="op" id="6430348">(</span><span class="ident" id="6430349"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6430354">.</span><span class="ident" id="6430355"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="6430361">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430364">w</span><span class="op" id="6430365">,</span>&nbsp;<span class="ident" id="6430367">err</span>&nbsp;<span class="op" id="6430371">:=</span>&nbsp;<span class="ident" id="6430374"><a href="/gostd/compress/flate/deflate_test.go.html#6430289">newWriter</a></span><span class="op" id="6430383">(</span><span class="ident" id="6430384"><a href="/gostd/compress/flate/deflate_test.go.html#6430338">buf</a></span><span class="op" id="6430387">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6430390">if</span>&nbsp;<span class="ident" id="6430393"><a href="/gostd/compress/flate/deflate_test.go.html#6430367">err</a></span>&nbsp;<span class="op" id="6430397">!=</span>&nbsp;<span class="builtintype" id="6430400">nil</span>&nbsp;<span class="op" id="6430404">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430408"><a href="/gostd/compress/flate/deflate_test.go.html#6430275">t</a></span><span class="op" id="6430409">.</span><span class="ident" id="6430410"><a href="/gostd/testing/testing.go.html#5480410">Fatalf</a></span><span class="op" id="6430416">(</span><span class="string" id="6430417">&#34;NewWriter:&nbsp;%v&#34;</span><span class="op" id="6430432">,</span>&nbsp;<span class="ident" id="6430434"><a href="/gostd/compress/flate/deflate_test.go.html#6430367">err</a></span><span class="op" id="6430437">)</span><br>
<span class="lineno">470</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6430440">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430443">b</span>&nbsp;<span class="op" id="6430445">:=</span>&nbsp;<span class="op" id="6430448">[</span><span class="op" id="6430449">]</span><span class="builtintype" id="6430450">byte</span><span class="op" id="6430454">(</span><span class="string" id="6430455">&#34;hello&nbsp;world&#34;</span><span class="op" id="6430468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6430471">for</span>&nbsp;<span class="ident" id="6430475">i</span>&nbsp;<span class="op" id="6430477">:=</span>&nbsp;<span class="num" id="6430480">0</span><span class="op" id="6430481">;</span>&nbsp;<span class="ident" id="6430483"><a href="/gostd/compress/flate/deflate_test.go.html#6430475">i</a></span>&nbsp;<span class="op" id="6430485">&lt;</span>&nbsp;<span class="num" id="6430487">1024</span><span class="op" id="6430491">;</span>&nbsp;<span class="ident" id="6430493"><a href="/gostd/compress/flate/deflate_test.go.html#6430475">i</a></span><span class="op" id="6430494">++</span>&nbsp;<span class="op" id="6430497">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430501"><a href="/gostd/compress/flate/deflate_test.go.html#6430364">w</a></span><span class="op" id="6430502">.</span><span class="ident" id="6430503"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6430508">(</span><span class="ident" id="6430509"><a href="/gostd/compress/flate/deflate_test.go.html#6430443">b</a></span><span class="op" id="6430510">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6430513">}</span><br>
<span class="lineno">475</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430516"><a href="/gostd/compress/flate/deflate_test.go.html#6430364">w</a></span><span class="op" id="6430517">.</span><span class="ident" id="6430518"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6430523">(</span><span class="op" id="6430524">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430527">out1</span>&nbsp;<span class="op" id="6430532">:=</span>&nbsp;<span class="ident" id="6430535"><a href="/gostd/compress/flate/deflate_test.go.html#6430338">buf</a></span><span class="op" id="6430538">.</span><span class="ident" id="6430539"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6430545">(</span><span class="op" id="6430546">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430550">buf2</span>&nbsp;<span class="op" id="6430555">:=</span>&nbsp;<span class="builtinfunc" id="6430558">new</span><span class="op" id="6430561">(</span><span class="ident" id="6430562"><a href="/gostd/compress/flate/deflate_test.go.html#6419220">bytes</a></span><span class="op" id="6430567">.</span><span class="ident" id="6430568"><a href="/gostd/bytes/buffer.go.html#1383251">Buffer</a></span><span class="op" id="6430574">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430577"><a href="/gostd/compress/flate/deflate_test.go.html#6430364">w</a></span><span class="op" id="6430578">.</span><span class="ident" id="6430579"><a href="/gostd/compress/flate/deflate.go.html#4807095">Reset</a></span><span class="op" id="6430584">(</span><span class="ident" id="6430585"><a href="/gostd/compress/flate/deflate_test.go.html#6430550">buf2</a></span><span class="op" id="6430589">)</span><br>
<span class="lineno">480</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6430592">for</span>&nbsp;<span class="ident" id="6430596">i</span>&nbsp;<span class="op" id="6430598">:=</span>&nbsp;<span class="num" id="6430601">0</span><span class="op" id="6430602">;</span>&nbsp;<span class="ident" id="6430604"><a href="/gostd/compress/flate/deflate_test.go.html#6430596">i</a></span>&nbsp;<span class="op" id="6430606">&lt;</span>&nbsp;<span class="num" id="6430608">1024</span><span class="op" id="6430612">;</span>&nbsp;<span class="ident" id="6430614"><a href="/gostd/compress/flate/deflate_test.go.html#6430596">i</a></span><span class="op" id="6430615">++</span>&nbsp;<span class="op" id="6430618">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430622"><a href="/gostd/compress/flate/deflate_test.go.html#6430364">w</a></span><span class="op" id="6430623">.</span><span class="ident" id="6430624"><a href="/gostd/compress/flate/deflate.go.html#4806202">Write</a></span><span class="op" id="6430629">(</span><span class="ident" id="6430630"><a href="/gostd/compress/flate/deflate_test.go.html#6430443">b</a></span><span class="op" id="6430631">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6430634">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430637"><a href="/gostd/compress/flate/deflate_test.go.html#6430364">w</a></span><span class="op" id="6430638">.</span><span class="ident" id="6430639"><a href="/gostd/compress/flate/deflate.go.html#4806882">Close</a></span><span class="op" id="6430644">(</span><span class="op" id="6430645">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430648">out2</span>&nbsp;<span class="op" id="6430653">:=</span>&nbsp;<span class="ident" id="6430656"><a href="/gostd/compress/flate/deflate_test.go.html#6430550">buf2</a></span><span class="op" id="6430660">.</span><span class="ident" id="6430661"><a href="/gostd/bytes/buffer.go.html#1384648">String</a></span><span class="op" id="6430667">(</span><span class="op" id="6430668">)</span><br>
<span class="lineno">485</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="keyword" id="6430672">if</span>&nbsp;<span class="ident" id="6430675"><a href="/gostd/compress/flate/deflate_test.go.html#6430527">out1</a></span>&nbsp;<span class="op" id="6430680">!=</span>&nbsp;<span class="ident" id="6430683"><a href="/gostd/compress/flate/deflate_test.go.html#6430648">out2</a></span>&nbsp;<span class="op" id="6430688">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430692"><a href="/gostd/compress/flate/deflate_test.go.html#6430275">t</a></span><span class="op" id="6430693">.</span><span class="ident" id="6430694"><a href="/gostd/testing/testing.go.html#5480102">Errorf</a></span><span class="op" id="6430700">(</span><span class="string" id="6430701">&#34;got&nbsp;%q,&nbsp;expected&nbsp;%q&#34;</span><span class="op" id="6430722">,</span>&nbsp;<span class="ident" id="6430724"><a href="/gostd/compress/flate/deflate_test.go.html#6430648">out2</a></span><span class="op" id="6430728">,</span>&nbsp;<span class="ident" id="6430730"><a href="/gostd/compress/flate/deflate_test.go.html#6430527">out1</a></span><span class="op" id="6430734">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6430737">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="6430740"><a href="/gostd/compress/flate/deflate_test.go.html#6430275">t</a></span><span class="op" id="6430741">.</span><span class="ident" id="6430742"><a href="/gostd/testing/testing.go.html#5479816">Logf</a></span><span class="op" id="6430746">(</span><span class="string" id="6430747">&#34;got&nbsp;%d&nbsp;bytes&#34;</span><span class="op" id="6430761">,</span>&nbsp;<span class="builtinfunc" id="6430763">len</span><span class="op" id="6430766">(</span><span class="ident" id="6430767"><a href="/gostd/compress/flate/deflate_test.go.html#6430527">out1</a></span><span class="op" id="6430771">)</span><span class="op" id="6430772">)</span><br>
<span class="lineno">490</span><span class="op" id="6430774">}</span>
</div>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-19116218-3', 'auto');
  ga('send', 'pageview');
</script>
</body>
</html>
