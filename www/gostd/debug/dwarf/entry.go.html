<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>debug/dwarf</h2>
<ul>
<li><a href="/gostd/debug/dwarf/buf.go.html">buf.go</a></li>
<li><a href="/gostd/debug/dwarf/const.go.html">const.go</a></li>
<li><a href="/gostd/debug/dwarf/entry.go.html" class="current">entry.go</a></li>
<li><a href="/gostd/debug/dwarf/open.go.html">open.go</a></li>
<li><a href="/gostd/debug/dwarf/type.go.html">type.go</a></li>
<li><a href="/gostd/debug/dwarf/type_test.go.html">type_test.go</a></li>
<li><a href="/gostd/debug/dwarf/typeunit.go.html">typeunit.go</a></li>
<li><a href="/gostd/debug/dwarf/unit.go.html">unit.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="5391408">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="5391464">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="5391518">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="comment" id="5391569">//&nbsp;DWARF&nbsp;debug&nbsp;information&nbsp;entry&nbsp;parser.</span><br>
<span class="lineno"></span><span class="comment" id="5391610">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;data&nbsp;items&nbsp;of&nbsp;a&nbsp;given&nbsp;format.</span><br>
<span class="lineno"></span><span class="comment" id="5391669">//&nbsp;The&nbsp;first&nbsp;word&nbsp;in&nbsp;the&nbsp;entry&nbsp;is&nbsp;an&nbsp;index&nbsp;into&nbsp;what&nbsp;DWARF</span><br>
<span class="lineno"></span><span class="comment" id="5391728">//&nbsp;calls&nbsp;the&nbsp;``abbreviation&nbsp;table.&#39;&#39;&nbsp;&nbsp;An&nbsp;abbreviation&nbsp;is&nbsp;really</span><br>
<span class="lineno"></span><span class="comment" id="5391792">//&nbsp;just&nbsp;a&nbsp;type&nbsp;descriptor:&nbsp;it&#39;s&nbsp;an&nbsp;array&nbsp;of&nbsp;attribute&nbsp;tag/value&nbsp;format&nbsp;pairs.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="5391871">package</span>&nbsp;<span class="ident" id="5391879">dwarf</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="5391886">import</span>&nbsp;<span class="op" id="5391893">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5391896">&#34;errors&#34;</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="5391906">&#34;strconv&#34;</span><br>
<span class="lineno"></span><span class="op" id="5391916">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5391919">//&nbsp;a&nbsp;single&nbsp;entry&#39;s&nbsp;description:&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attributes</span><br>
<span class="lineno"></span><span class="keyword" id="5391977">type</span>&nbsp;<span class="ident" id="5391982">abbrev</span>&nbsp;<span class="keyword" id="5391989">struct</span>&nbsp;<span class="op" id="5391996">{</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5391999">tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5392008">Tag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392013">children</span>&nbsp;<span class="builtintype" id="5392022">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392028">field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5392037">[</span><span class="op" id="5392038">]</span><span class="ident" id="5392039">afield</span><br>
<span class="lineno"></span><span class="op" id="5392046">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">25</span><span class="keyword" id="5392049">type</span>&nbsp;<span class="ident" id="5392054">afield</span>&nbsp;<span class="keyword" id="5392061">struct</span>&nbsp;<span class="op" id="5392068">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392071">attr</span>&nbsp;<span class="ident" id="5392076">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392082">fmt</span>&nbsp;&nbsp;<span class="ident" id="5392087">format</span><br>
<span class="lineno"></span><span class="op" id="5392094">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span><span class="comment" id="5392097">//&nbsp;a&nbsp;map&nbsp;from&nbsp;entry&nbsp;format&nbsp;ids&nbsp;to&nbsp;their&nbsp;descriptions</span><br>
<span class="lineno"></span><span class="keyword" id="5392150">type</span>&nbsp;<span class="ident" id="5392155">abbrevTable</span>&nbsp;<span class="keyword" id="5392167">map</span><span class="op" id="5392170">[</span><span class="builtintype" id="5392171">uint32</span><span class="op" id="5392177">]</span><span class="ident" id="5392178">abbrev</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5392186">//&nbsp;ParseAbbrev&nbsp;returns&nbsp;the&nbsp;abbreviation&nbsp;table&nbsp;that&nbsp;starts&nbsp;at&nbsp;byte&nbsp;off</span><br>
<span class="lineno"></span><span class="comment" id="5392256">//&nbsp;in&nbsp;the&nbsp;.debug_abbrev&nbsp;section.</span><br>
<span class="lineno">35</span><span class="keyword" id="5392289">func</span>&nbsp;<span class="op" id="5392294">(</span><span class="ident" id="5392295">d</span>&nbsp;<span class="op" id="5392297">*</span><span class="ident" id="5392298">Data</span><span class="op" id="5392302">)</span>&nbsp;<span class="ident" id="5392304">parseAbbrev</span><span class="op" id="5392315">(</span><span class="ident" id="5392316">off</span>&nbsp;<span class="builtintype" id="5392320">uint32</span><span class="op" id="5392326">)</span>&nbsp;<span class="op" id="5392328">(</span><span class="ident" id="5392329">abbrevTable</span><span class="op" id="5392340">,</span>&nbsp;<span class="builtintype" id="5392342">error</span><span class="op" id="5392347">)</span>&nbsp;<span class="op" id="5392349">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392352">if</span>&nbsp;<span class="ident" id="5392355">m</span><span class="op" id="5392356">,</span>&nbsp;<span class="ident" id="5392358">ok</span>&nbsp;<span class="op" id="5392361">:=</span>&nbsp;<span class="ident" id="5392364">d</span><span class="op" id="5392365">.</span><span class="ident" id="5392366">abbrevCache</span><span class="op" id="5392377">[</span><span class="ident" id="5392378">off</span><span class="op" id="5392381">]</span><span class="op" id="5392382">;</span>&nbsp;<span class="ident" id="5392384">ok</span>&nbsp;<span class="op" id="5392387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392391">return</span>&nbsp;<span class="ident" id="5392398">m</span><span class="op" id="5392399">,</span>&nbsp;<span class="ident" id="5392401">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5392406">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392410">data</span>&nbsp;<span class="op" id="5392415">:=</span>&nbsp;<span class="ident" id="5392418">d</span><span class="op" id="5392419">.</span><span class="ident" id="5392420">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392428">if</span>&nbsp;<span class="ident" id="5392431">off</span>&nbsp;<span class="op" id="5392435">&gt;</span>&nbsp;<span class="builtintype" id="5392437">uint32</span><span class="op" id="5392443">(</span><span class="builtinfunc" id="5392444">len</span><span class="op" id="5392447">(</span><span class="ident" id="5392448">data</span><span class="op" id="5392452">)</span><span class="op" id="5392453">)</span>&nbsp;<span class="op" id="5392455">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392459">data</span>&nbsp;<span class="op" id="5392464">=</span>&nbsp;<span class="ident" id="5392466">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5392471">}</span>&nbsp;<span class="keyword" id="5392473">else</span>&nbsp;<span class="op" id="5392478">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392482">data</span>&nbsp;<span class="op" id="5392487">=</span>&nbsp;<span class="ident" id="5392489">data</span><span class="op" id="5392493">[</span><span class="ident" id="5392494">off</span><span class="op" id="5392497">:</span><span class="op" id="5392498">]</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5392501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392504">b</span>&nbsp;<span class="op" id="5392506">:=</span>&nbsp;<span class="ident" id="5392509">makeBuf</span><span class="op" id="5392516">(</span><span class="ident" id="5392517">d</span><span class="op" id="5392518">,</span>&nbsp;<span class="ident" id="5392520">unknownFormat</span><span class="op" id="5392533">{</span><span class="op" id="5392534">}</span><span class="op" id="5392535">,</span>&nbsp;<span class="string" id="5392537">&#34;abbrev&#34;</span><span class="op" id="5392545">,</span>&nbsp;<span class="num" id="5392547">0</span><span class="op" id="5392548">,</span>&nbsp;<span class="ident" id="5392550">data</span><span class="op" id="5392554">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5392558">//&nbsp;Error&nbsp;handling&nbsp;is&nbsp;simplified&nbsp;by&nbsp;the&nbsp;buf&nbsp;getters</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5392610">//&nbsp;returning&nbsp;an&nbsp;endless&nbsp;stream&nbsp;of&nbsp;0s&nbsp;after&nbsp;an&nbsp;error.</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392664">m</span>&nbsp;<span class="op" id="5392666">:=</span>&nbsp;<span class="builtinfunc" id="5392669">make</span><span class="op" id="5392673">(</span><span class="ident" id="5392674">abbrevTable</span><span class="op" id="5392685">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392688">for</span>&nbsp;<span class="op" id="5392692">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5392696">//&nbsp;Table&nbsp;ends&nbsp;with&nbsp;id&nbsp;==&nbsp;0.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392726">id</span>&nbsp;<span class="op" id="5392729">:=</span>&nbsp;<span class="builtintype" id="5392732">uint32</span><span class="op" id="5392738">(</span><span class="ident" id="5392739">b</span><span class="op" id="5392740">.</span><span class="builtintype" id="5392741">uint</span><span class="op" id="5392745">(</span><span class="op" id="5392746">)</span><span class="op" id="5392747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392751">if</span>&nbsp;<span class="ident" id="5392754">id</span>&nbsp;<span class="op" id="5392757">==</span>&nbsp;<span class="num" id="5392760">0</span>&nbsp;<span class="op" id="5392762">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392767">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5392775">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5392780">//&nbsp;Walk&nbsp;over&nbsp;attributes,&nbsp;counting.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392817">n</span>&nbsp;<span class="op" id="5392819">:=</span>&nbsp;<span class="num" id="5392822">0</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392826">b1</span>&nbsp;<span class="op" id="5392829">:=</span>&nbsp;<span class="ident" id="5392832">b</span>&nbsp;<span class="comment" id="5392834">//&nbsp;Read&nbsp;from&nbsp;copy&nbsp;of&nbsp;b.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392860">b1</span><span class="op" id="5392862">.</span><span class="builtintype" id="5392863">uint</span><span class="op" id="5392867">(</span><span class="op" id="5392868">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392872">b1</span><span class="op" id="5392874">.</span><span class="builtintype" id="5392875">uint8</span><span class="op" id="5392880">(</span><span class="op" id="5392881">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392885">for</span>&nbsp;<span class="op" id="5392889">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392894">tag</span>&nbsp;<span class="op" id="5392898">:=</span>&nbsp;<span class="ident" id="5392901">b1</span><span class="op" id="5392903">.</span><span class="builtintype" id="5392904">uint</span><span class="op" id="5392908">(</span><span class="op" id="5392909">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392914">fmt</span>&nbsp;<span class="op" id="5392918">:=</span>&nbsp;<span class="ident" id="5392921">b1</span><span class="op" id="5392923">.</span><span class="builtintype" id="5392924">uint</span><span class="op" id="5392928">(</span><span class="op" id="5392929">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392934">if</span>&nbsp;<span class="ident" id="5392937">tag</span>&nbsp;<span class="op" id="5392941">==</span>&nbsp;<span class="num" id="5392944">0</span>&nbsp;<span class="op" id="5392946">&amp;&amp;</span>&nbsp;<span class="ident" id="5392949">fmt</span>&nbsp;<span class="op" id="5392953">==</span>&nbsp;<span class="num" id="5392956">0</span>&nbsp;<span class="op" id="5392958">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392964">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5392973">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5392978">n</span><span class="op" id="5392979">++</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5392984">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5392988">if</span>&nbsp;<span class="ident" id="5392991">b1</span><span class="op" id="5392993">.</span><span class="ident" id="5392994">err</span>&nbsp;<span class="op" id="5392998">!=</span>&nbsp;<span class="ident" id="5393001">nil</span>&nbsp;<span class="op" id="5393005">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5393010">return</span>&nbsp;<span class="ident" id="5393017">nil</span><span class="op" id="5393020">,</span>&nbsp;<span class="ident" id="5393022">b1</span><span class="op" id="5393024">.</span><span class="ident" id="5393025">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5393031">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5393036">//&nbsp;Walk&nbsp;over&nbsp;attributes&nbsp;again,&nbsp;this&nbsp;time&nbsp;writing&nbsp;them&nbsp;down.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5393098">var</span>&nbsp;<span class="ident" id="5393102">a</span>&nbsp;<span class="ident" id="5393104">abbrev</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393113">a</span><span class="op" id="5393114">.</span><span class="ident" id="5393115">tag</span>&nbsp;<span class="op" id="5393119">=</span>&nbsp;<span class="ident" id="5393121">Tag</span><span class="op" id="5393124">(</span><span class="ident" id="5393125">b</span><span class="op" id="5393126">.</span><span class="builtintype" id="5393127">uint</span><span class="op" id="5393131">(</span><span class="op" id="5393132">)</span><span class="op" id="5393133">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393137">a</span><span class="op" id="5393138">.</span><span class="ident" id="5393139">children</span>&nbsp;<span class="op" id="5393148">=</span>&nbsp;<span class="ident" id="5393150">b</span><span class="op" id="5393151">.</span><span class="builtintype" id="5393152">uint8</span><span class="op" id="5393157">(</span><span class="op" id="5393158">)</span>&nbsp;<span class="op" id="5393160">!=</span>&nbsp;<span class="num" id="5393163">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393167">a</span><span class="op" id="5393168">.</span><span class="ident" id="5393169">field</span>&nbsp;<span class="op" id="5393175">=</span>&nbsp;<span class="builtinfunc" id="5393177">make</span><span class="op" id="5393181">(</span><span class="op" id="5393182">[</span><span class="op" id="5393183">]</span><span class="ident" id="5393184">afield</span><span class="op" id="5393190">,</span>&nbsp;<span class="ident" id="5393192">n</span><span class="op" id="5393193">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5393197">for</span>&nbsp;<span class="ident" id="5393201">i</span>&nbsp;<span class="op" id="5393203">:=</span>&nbsp;<span class="keyword" id="5393206">range</span>&nbsp;<span class="ident" id="5393212">a</span><span class="op" id="5393213">.</span><span class="ident" id="5393214">field</span>&nbsp;<span class="op" id="5393220">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393225">a</span><span class="op" id="5393226">.</span><span class="ident" id="5393227">field</span><span class="op" id="5393232">[</span><span class="ident" id="5393233">i</span><span class="op" id="5393234">]</span><span class="op" id="5393235">.</span><span class="ident" id="5393236">attr</span>&nbsp;<span class="op" id="5393241">=</span>&nbsp;<span class="ident" id="5393243">Attr</span><span class="op" id="5393247">(</span><span class="ident" id="5393248">b</span><span class="op" id="5393249">.</span><span class="builtintype" id="5393250">uint</span><span class="op" id="5393254">(</span><span class="op" id="5393255">)</span><span class="op" id="5393256">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393261">a</span><span class="op" id="5393262">.</span><span class="ident" id="5393263">field</span><span class="op" id="5393268">[</span><span class="ident" id="5393269">i</span><span class="op" id="5393270">]</span><span class="op" id="5393271">.</span><span class="ident" id="5393272">fmt</span>&nbsp;<span class="op" id="5393276">=</span>&nbsp;<span class="ident" id="5393278">format</span><span class="op" id="5393284">(</span><span class="ident" id="5393285">b</span><span class="op" id="5393286">.</span><span class="builtintype" id="5393287">uint</span><span class="op" id="5393291">(</span><span class="op" id="5393292">)</span><span class="op" id="5393293">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5393297">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393301">b</span><span class="op" id="5393302">.</span><span class="builtintype" id="5393303">uint</span><span class="op" id="5393307">(</span><span class="op" id="5393308">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393312">b</span><span class="op" id="5393313">.</span><span class="builtintype" id="5393314">uint</span><span class="op" id="5393318">(</span><span class="op" id="5393319">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393324">m</span><span class="op" id="5393325">[</span><span class="ident" id="5393326">id</span><span class="op" id="5393328">]</span>&nbsp;<span class="op" id="5393330">=</span>&nbsp;<span class="ident" id="5393332">a</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5393335">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5393338">if</span>&nbsp;<span class="ident" id="5393341">b</span><span class="op" id="5393342">.</span><span class="ident" id="5393343">err</span>&nbsp;<span class="op" id="5393347">!=</span>&nbsp;<span class="ident" id="5393350">nil</span>&nbsp;<span class="op" id="5393354">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5393358">return</span>&nbsp;<span class="ident" id="5393365">nil</span><span class="op" id="5393368">,</span>&nbsp;<span class="ident" id="5393370">b</span><span class="op" id="5393371">.</span><span class="ident" id="5393372">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5393377">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393380">d</span><span class="op" id="5393381">.</span><span class="ident" id="5393382">abbrevCache</span><span class="op" id="5393393">[</span><span class="ident" id="5393394">off</span><span class="op" id="5393397">]</span>&nbsp;<span class="op" id="5393399">=</span>&nbsp;<span class="ident" id="5393401">m</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5393404">return</span>&nbsp;<span class="ident" id="5393411">m</span><span class="op" id="5393412">,</span>&nbsp;<span class="ident" id="5393414">nil</span><br>
<span class="lineno"></span><span class="op" id="5393418">}</span><br>
<span class="lineno">95</span><br>
<span class="lineno"></span><span class="comment" id="5393421">//&nbsp;An&nbsp;entry&nbsp;is&nbsp;a&nbsp;sequence&nbsp;of&nbsp;attribute/value&nbsp;pairs.</span><br>
<span class="lineno"></span><span class="keyword" id="5393473">type</span>&nbsp;<span class="ident" id="5393478">Entry</span>&nbsp;<span class="keyword" id="5393484">struct</span>&nbsp;<span class="op" id="5393491">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393494">Offset</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5393503">Offset</span>&nbsp;<span class="comment" id="5393510">//&nbsp;offset&nbsp;of&nbsp;Entry&nbsp;in&nbsp;DWARF&nbsp;info</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393544">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5393553">Tag</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="5393560">//&nbsp;tag&nbsp;(kind&nbsp;of&nbsp;Entry)</span><br>
<span class="lineno">100</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393584">Children</span>&nbsp;<span class="builtintype" id="5393593">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5393600">//&nbsp;whether&nbsp;Entry&nbsp;is&nbsp;followed&nbsp;by&nbsp;children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393642">Field</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5393651">[</span><span class="op" id="5393652">]</span><span class="ident" id="5393653">Field</span><br>
<span class="lineno"></span><span class="op" id="5393659">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5393662">//&nbsp;A&nbsp;Field&nbsp;is&nbsp;a&nbsp;single&nbsp;attribute/value&nbsp;pair&nbsp;in&nbsp;an&nbsp;Entry.</span><br>
<span class="lineno">105</span><span class="keyword" id="5393719">type</span>&nbsp;<span class="ident" id="5393724">Field</span>&nbsp;<span class="keyword" id="5393730">struct</span>&nbsp;<span class="op" id="5393737">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393740">Attr</span>&nbsp;<span class="ident" id="5393745">Attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5393751">Val</span>&nbsp;&nbsp;<span class="keyword" id="5393756">interface</span><span class="op" id="5393765">{</span><span class="op" id="5393766">}</span><br>
<span class="lineno"></span><span class="op" id="5393768">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">110</span><span class="comment" id="5393771">//&nbsp;Val&nbsp;returns&nbsp;the&nbsp;value&nbsp;associated&nbsp;with&nbsp;attribute&nbsp;Attr&nbsp;in&nbsp;Entry,</span><br>
<span class="lineno"></span><span class="comment" id="5393837">//&nbsp;or&nbsp;nil&nbsp;if&nbsp;there&nbsp;is&nbsp;no&nbsp;such&nbsp;attribute.</span><br>
<span class="lineno"></span><span class="comment" id="5393878">//</span><br>
<span class="lineno"></span><span class="comment" id="5393881">//&nbsp;A&nbsp;common&nbsp;idiom&nbsp;is&nbsp;to&nbsp;merge&nbsp;the&nbsp;check&nbsp;for&nbsp;nil&nbsp;return&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5393941">//&nbsp;the&nbsp;check&nbsp;that&nbsp;the&nbsp;value&nbsp;has&nbsp;the&nbsp;expected&nbsp;dynamic&nbsp;type,&nbsp;as&nbsp;in:</span><br>
<span class="lineno">115</span><span class="comment" id="5394007">//&nbsp;&nbsp;&nbsp;&nbspv,&nbsp;ok&nbsp;:=&nbsp;e.Val(AttrSibling).(int64);</span><br>
<span class="lineno"></span><span class="comment" id="5394047">//</span><br>
<span class="lineno"></span><span class="keyword" id="5394050">func</span>&nbsp;<span class="op" id="5394055">(</span><span class="ident" id="5394056">e</span>&nbsp;<span class="op" id="5394058">*</span><span class="ident" id="5394059">Entry</span><span class="op" id="5394064">)</span>&nbsp;<span class="ident" id="5394066">Val</span><span class="op" id="5394069">(</span><span class="ident" id="5394070">a</span>&nbsp;<span class="ident" id="5394072">Attr</span><span class="op" id="5394076">)</span>&nbsp;<span class="keyword" id="5394078">interface</span><span class="op" id="5394087">{</span><span class="op" id="5394088">}</span>&nbsp;<span class="op" id="5394090">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394093">for</span>&nbsp;<span class="ident" id="5394097">_</span><span class="op" id="5394098">,</span>&nbsp;<span class="ident" id="5394100">f</span>&nbsp;<span class="op" id="5394102">:=</span>&nbsp;<span class="keyword" id="5394105">range</span>&nbsp;<span class="ident" id="5394111">e</span><span class="op" id="5394112">.</span><span class="ident" id="5394113">Field</span>&nbsp;<span class="op" id="5394119">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394123">if</span>&nbsp;<span class="ident" id="5394126">f</span><span class="op" id="5394127">.</span><span class="ident" id="5394128">Attr</span>&nbsp;<span class="op" id="5394133">==</span>&nbsp;<span class="ident" id="5394136">a</span>&nbsp;<span class="op" id="5394138">{</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394143">return</span>&nbsp;<span class="ident" id="5394150">f</span><span class="op" id="5394151">.</span><span class="ident" id="5394152">Val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5394158">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5394161">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394164">return</span>&nbsp;<span class="ident" id="5394171">nil</span><br>
<span class="lineno"></span><span class="op" id="5394175">}</span><br>
<span class="lineno">125</span><br>
<span class="lineno"></span><span class="comment" id="5394178">//&nbsp;An&nbsp;Offset&nbsp;represents&nbsp;the&nbsp;location&nbsp;of&nbsp;an&nbsp;Entry&nbsp;within&nbsp;the&nbsp;DWARF&nbsp;info.</span><br>
<span class="lineno"></span><span class="comment" id="5394250">//&nbsp;(See&nbsp;Reader.Seek.)</span><br>
<span class="lineno"></span><span class="keyword" id="5394272">type</span>&nbsp;<span class="ident" id="5394277">Offset</span>&nbsp;<span class="builtintype" id="5394284">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="5394292">//&nbsp;Entry&nbsp;reads&nbsp;a&nbsp;single&nbsp;entry&nbsp;from&nbsp;buf,&nbsp;decoding</span><br>
<span class="lineno"></span><span class="comment" id="5394341">//&nbsp;according&nbsp;to&nbsp;the&nbsp;given&nbsp;abbreviation&nbsp;table.</span><br>
<span class="lineno"></span><span class="keyword" id="5394387">func</span>&nbsp;<span class="op" id="5394392">(</span><span class="ident" id="5394393">b</span>&nbsp;<span class="op" id="5394395">*</span><span class="ident" id="5394396">buf</span><span class="op" id="5394399">)</span>&nbsp;<span class="ident" id="5394401">entry</span><span class="op" id="5394406">(</span><span class="ident" id="5394407">atab</span>&nbsp;<span class="ident" id="5394412">abbrevTable</span><span class="op" id="5394423">,</span>&nbsp;<span class="ident" id="5394425">ubase</span>&nbsp;<span class="ident" id="5394431">Offset</span><span class="op" id="5394437">)</span>&nbsp;<span class="op" id="5394439">*</span><span class="ident" id="5394440">Entry</span>&nbsp;<span class="op" id="5394446">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394449">off</span>&nbsp;<span class="op" id="5394453">:=</span>&nbsp;<span class="ident" id="5394456">b</span><span class="op" id="5394457">.</span><span class="ident" id="5394458">off</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394463">id</span>&nbsp;<span class="op" id="5394466">:=</span>&nbsp;<span class="builtintype" id="5394469">uint32</span><span class="op" id="5394475">(</span><span class="ident" id="5394476">b</span><span class="op" id="5394477">.</span><span class="builtintype" id="5394478">uint</span><span class="op" id="5394482">(</span><span class="op" id="5394483">)</span><span class="op" id="5394484">)</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394487">if</span>&nbsp;<span class="ident" id="5394490">id</span>&nbsp;<span class="op" id="5394493">==</span>&nbsp;<span class="num" id="5394496">0</span>&nbsp;<span class="op" id="5394498">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394502">return</span>&nbsp;<span class="op" id="5394509">&amp;</span><span class="ident" id="5394510">Entry</span><span class="op" id="5394515">{</span><span class="op" id="5394516">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5394519">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394522">a</span><span class="op" id="5394523">,</span>&nbsp;<span class="ident" id="5394525">ok</span>&nbsp;<span class="op" id="5394528">:=</span>&nbsp;<span class="ident" id="5394531">atab</span><span class="op" id="5394535">[</span><span class="ident" id="5394536">id</span><span class="op" id="5394538">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394541">if</span>&nbsp;<span class="op" id="5394544">!</span><span class="ident" id="5394545">ok</span>&nbsp;<span class="op" id="5394548">{</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394552">b</span><span class="op" id="5394553">.</span><span class="builtintype" id="5394554">error</span><span class="op" id="5394559">(</span><span class="string" id="5394560">&#34;unknown&nbsp;abbreviation&nbsp;table&nbsp;index&#34;</span><span class="op" id="5394594">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394598">return</span>&nbsp;<span class="ident" id="5394605">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5394610">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394613">e</span>&nbsp;<span class="op" id="5394615">:=</span>&nbsp;<span class="op" id="5394618">&amp;</span><span class="ident" id="5394619">Entry</span><span class="op" id="5394624">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394628">Offset</span><span class="op" id="5394634">:</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="5394638">off</span><span class="op" id="5394641">,</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394645">Tag</span><span class="op" id="5394648">:</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5394655">a</span><span class="op" id="5394656">.</span><span class="ident" id="5394657">tag</span><span class="op" id="5394660">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394664">Children</span><span class="op" id="5394672">:</span>&nbsp;<span class="ident" id="5394674">a</span><span class="op" id="5394675">.</span><span class="ident" id="5394676">children</span><span class="op" id="5394684">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394688">Field</span><span class="op" id="5394693">:</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtinfunc" id="5394698">make</span><span class="op" id="5394702">(</span><span class="op" id="5394703">[</span><span class="op" id="5394704">]</span><span class="ident" id="5394705">Field</span><span class="op" id="5394710">,</span>&nbsp;<span class="builtinfunc" id="5394712">len</span><span class="op" id="5394715">(</span><span class="ident" id="5394716">a</span><span class="op" id="5394717">.</span><span class="ident" id="5394718">field</span><span class="op" id="5394723">)</span><span class="op" id="5394724">)</span><span class="op" id="5394725">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5394728">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394731">for</span>&nbsp;<span class="ident" id="5394735">i</span>&nbsp;<span class="op" id="5394737">:=</span>&nbsp;<span class="keyword" id="5394740">range</span>&nbsp;<span class="ident" id="5394746">e</span><span class="op" id="5394747">.</span><span class="ident" id="5394748">Field</span>&nbsp;<span class="op" id="5394754">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394758">e</span><span class="op" id="5394759">.</span><span class="ident" id="5394760">Field</span><span class="op" id="5394765">[</span><span class="ident" id="5394766">i</span><span class="op" id="5394767">]</span><span class="op" id="5394768">.</span><span class="ident" id="5394769">Attr</span>&nbsp;<span class="op" id="5394774">=</span>&nbsp;<span class="ident" id="5394776">a</span><span class="op" id="5394777">.</span><span class="ident" id="5394778">field</span><span class="op" id="5394783">[</span><span class="ident" id="5394784">i</span><span class="op" id="5394785">]</span><span class="op" id="5394786">.</span><span class="ident" id="5394787">attr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394794">fmt</span>&nbsp;<span class="op" id="5394798">:=</span>&nbsp;<span class="ident" id="5394801">a</span><span class="op" id="5394802">.</span><span class="ident" id="5394803">field</span><span class="op" id="5394808">[</span><span class="ident" id="5394809">i</span><span class="op" id="5394810">]</span><span class="op" id="5394811">.</span><span class="ident" id="5394812">fmt</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394818">if</span>&nbsp;<span class="ident" id="5394821">fmt</span>&nbsp;<span class="op" id="5394825">==</span>&nbsp;<span class="ident" id="5394828">formIndirect</span>&nbsp;<span class="op" id="5394841">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394846">fmt</span>&nbsp;<span class="op" id="5394850">=</span>&nbsp;<span class="ident" id="5394852">format</span><span class="op" id="5394858">(</span><span class="ident" id="5394859">b</span><span class="op" id="5394860">.</span><span class="builtintype" id="5394861">uint</span><span class="op" id="5394865">(</span><span class="op" id="5394866">)</span><span class="op" id="5394867">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5394871">}</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394875">var</span>&nbsp;<span class="ident" id="5394879">val</span>&nbsp;<span class="keyword" id="5394883">interface</span><span class="op" id="5394892">{</span><span class="op" id="5394893">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394897">switch</span>&nbsp;<span class="ident" id="5394904">fmt</span>&nbsp;<span class="op" id="5394908">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5394912">default</span><span class="op" id="5394919">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5394924">b</span><span class="op" id="5394925">.</span><span class="builtintype" id="5394926">error</span><span class="op" id="5394931">(</span><span class="string" id="5394932">&#34;unknown&nbsp;entry&nbsp;attr&nbsp;format&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5394963">+</span>&nbsp;<span class="ident" id="5394965">strconv</span><span class="op" id="5394972">.</span><span class="ident" id="5394973">FormatInt</span><span class="op" id="5394982">(</span><span class="ident" id="5394983">int64</span><span class="op" id="5394988">(</span><span class="ident" id="5394989">fmt</span><span class="op" id="5394992">)</span><span class="op" id="5394993">,</span>&nbsp;<span class="num" id="5394995">16</span><span class="op" id="5394997">)</span><span class="op" id="5394998">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395003">//&nbsp;address</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395016">case</span>&nbsp;<span class="ident" id="5395021">formAddr</span><span class="op" id="5395029">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395034">val</span>&nbsp;<span class="op" id="5395038">=</span>&nbsp;<span class="ident" id="5395040">b</span><span class="op" id="5395041">.</span><span class="ident" id="5395042">addr</span><span class="op" id="5395046">(</span><span class="op" id="5395047">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395052">//&nbsp;block</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395063">case</span>&nbsp;<span class="ident" id="5395068">formDwarfBlock1</span><span class="op" id="5395083">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395088">val</span>&nbsp;<span class="op" id="5395092">=</span>&nbsp;<span class="ident" id="5395094">b</span><span class="op" id="5395095">.</span><span class="ident" id="5395096">bytes</span><span class="op" id="5395101">(</span><span class="builtintype" id="5395102">int</span><span class="op" id="5395105">(</span><span class="ident" id="5395106">b</span><span class="op" id="5395107">.</span><span class="builtintype" id="5395108">uint8</span><span class="op" id="5395113">(</span><span class="op" id="5395114">)</span><span class="op" id="5395115">)</span><span class="op" id="5395116">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395120">case</span>&nbsp;<span class="ident" id="5395125">formDwarfBlock2</span><span class="op" id="5395140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395145">val</span>&nbsp;<span class="op" id="5395149">=</span>&nbsp;<span class="ident" id="5395151">b</span><span class="op" id="5395152">.</span><span class="ident" id="5395153">bytes</span><span class="op" id="5395158">(</span><span class="builtintype" id="5395159">int</span><span class="op" id="5395162">(</span><span class="ident" id="5395163">b</span><span class="op" id="5395164">.</span><span class="builtintype" id="5395165">uint16</span><span class="op" id="5395171">(</span><span class="op" id="5395172">)</span><span class="op" id="5395173">)</span><span class="op" id="5395174">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395178">case</span>&nbsp;<span class="ident" id="5395183">formDwarfBlock4</span><span class="op" id="5395198">:</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395203">val</span>&nbsp;<span class="op" id="5395207">=</span>&nbsp;<span class="ident" id="5395209">b</span><span class="op" id="5395210">.</span><span class="ident" id="5395211">bytes</span><span class="op" id="5395216">(</span><span class="builtintype" id="5395217">int</span><span class="op" id="5395220">(</span><span class="ident" id="5395221">b</span><span class="op" id="5395222">.</span><span class="builtintype" id="5395223">uint32</span><span class="op" id="5395229">(</span><span class="op" id="5395230">)</span><span class="op" id="5395231">)</span><span class="op" id="5395232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395236">case</span>&nbsp;<span class="ident" id="5395241">formDwarfBlock</span><span class="op" id="5395255">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395260">val</span>&nbsp;<span class="op" id="5395264">=</span>&nbsp;<span class="ident" id="5395266">b</span><span class="op" id="5395267">.</span><span class="ident" id="5395268">bytes</span><span class="op" id="5395273">(</span><span class="builtintype" id="5395274">int</span><span class="op" id="5395277">(</span><span class="ident" id="5395278">b</span><span class="op" id="5395279">.</span><span class="builtintype" id="5395280">uint</span><span class="op" id="5395284">(</span><span class="op" id="5395285">)</span><span class="op" id="5395286">)</span><span class="op" id="5395287">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395292">//&nbsp;constant</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395306">case</span>&nbsp;<span class="ident" id="5395311">formData1</span><span class="op" id="5395320">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395325">val</span>&nbsp;<span class="op" id="5395329">=</span>&nbsp;<span class="ident" id="5395331">int64</span><span class="op" id="5395336">(</span><span class="ident" id="5395337">b</span><span class="op" id="5395338">.</span><span class="builtintype" id="5395339">uint8</span><span class="op" id="5395344">(</span><span class="op" id="5395345">)</span><span class="op" id="5395346">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395350">case</span>&nbsp;<span class="ident" id="5395355">formData2</span><span class="op" id="5395364">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395369">val</span>&nbsp;<span class="op" id="5395373">=</span>&nbsp;<span class="ident" id="5395375">int64</span><span class="op" id="5395380">(</span><span class="ident" id="5395381">b</span><span class="op" id="5395382">.</span><span class="builtintype" id="5395383">uint16</span><span class="op" id="5395389">(</span><span class="op" id="5395390">)</span><span class="op" id="5395391">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395395">case</span>&nbsp;<span class="ident" id="5395400">formData4</span><span class="op" id="5395409">:</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395414">val</span>&nbsp;<span class="op" id="5395418">=</span>&nbsp;<span class="ident" id="5395420">int64</span><span class="op" id="5395425">(</span><span class="ident" id="5395426">b</span><span class="op" id="5395427">.</span><span class="builtintype" id="5395428">uint32</span><span class="op" id="5395434">(</span><span class="op" id="5395435">)</span><span class="op" id="5395436">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395440">case</span>&nbsp;<span class="ident" id="5395445">formData8</span><span class="op" id="5395454">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395459">val</span>&nbsp;<span class="op" id="5395463">=</span>&nbsp;<span class="ident" id="5395465">int64</span><span class="op" id="5395470">(</span><span class="ident" id="5395471">b</span><span class="op" id="5395472">.</span><span class="ident" id="5395473">uint64</span><span class="op" id="5395479">(</span><span class="op" id="5395480">)</span><span class="op" id="5395481">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395485">case</span>&nbsp;<span class="ident" id="5395490">formSdata</span><span class="op" id="5395499">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395504">val</span>&nbsp;<span class="op" id="5395508">=</span>&nbsp;<span class="ident" id="5395510">int64</span><span class="op" id="5395515">(</span><span class="ident" id="5395516">b</span><span class="op" id="5395517">.</span><span class="builtintype" id="5395518">int</span><span class="op" id="5395521">(</span><span class="op" id="5395522">)</span><span class="op" id="5395523">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395527">case</span>&nbsp;<span class="ident" id="5395532">formUdata</span><span class="op" id="5395541">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395546">val</span>&nbsp;<span class="op" id="5395550">=</span>&nbsp;<span class="ident" id="5395552">int64</span><span class="op" id="5395557">(</span><span class="ident" id="5395558">b</span><span class="op" id="5395559">.</span><span class="builtintype" id="5395560">uint</span><span class="op" id="5395564">(</span><span class="op" id="5395565">)</span><span class="op" id="5395566">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395571">//&nbsp;flag</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395581">case</span>&nbsp;<span class="ident" id="5395586">formFlag</span><span class="op" id="5395594">:</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395599">val</span>&nbsp;<span class="op" id="5395603">=</span>&nbsp;<span class="ident" id="5395605">b</span><span class="op" id="5395606">.</span><span class="builtintype" id="5395607">uint8</span><span class="op" id="5395612">(</span><span class="op" id="5395613">)</span>&nbsp;<span class="op" id="5395615">==</span>&nbsp;<span class="num" id="5395618">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395622">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395643">case</span>&nbsp;<span class="ident" id="5395648">formFlagPresent</span><span class="op" id="5395663">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395668">//&nbsp;The&nbsp;attribute&nbsp;is&nbsp;implicitly&nbsp;indicated&nbsp;as&nbsp;present,&nbsp;and&nbsp;no&nbsp;value&nbsp;is</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395740">//&nbsp;encoded&nbsp;in&nbsp;the&nbsp;debugging&nbsp;information&nbsp;entry&nbsp;itself.</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395797">val</span>&nbsp;<span class="op" id="5395801">=</span>&nbsp;<span class="builtintype" id="5395803">true</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5395811">//&nbsp;reference&nbsp;to&nbsp;other&nbsp;entry</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395841">case</span>&nbsp;<span class="ident" id="5395846">formRefAddr</span><span class="op" id="5395857">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395862">vers</span>&nbsp;<span class="op" id="5395867">:=</span>&nbsp;<span class="ident" id="5395870">b</span><span class="op" id="5395871">.</span><span class="ident" id="5395872">format</span><span class="op" id="5395878">.</span><span class="ident" id="5395879">version</span><span class="op" id="5395886">(</span><span class="op" id="5395887">)</span><br>
<span class="lineno">200</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5395892">if</span>&nbsp;<span class="ident" id="5395895">vers</span>&nbsp;<span class="op" id="5395900">==</span>&nbsp;<span class="num" id="5395903">0</span>&nbsp;<span class="op" id="5395905">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395911">b</span><span class="op" id="5395912">.</span><span class="builtintype" id="5395913">error</span><span class="op" id="5395918">(</span><span class="string" id="5395919">&#34;unknown&nbsp;version&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5395957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5395962">}</span>&nbsp;<span class="keyword" id="5395964">else</span>&nbsp;<span class="keyword" id="5395969">if</span>&nbsp;<span class="ident" id="5395972">vers</span>&nbsp;<span class="op" id="5395977">==</span>&nbsp;<span class="num" id="5395980">2</span>&nbsp;<span class="op" id="5395982">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5395988">val</span>&nbsp;<span class="op" id="5395992">=</span>&nbsp;<span class="ident" id="5395994">Offset</span><span class="op" id="5396000">(</span><span class="ident" id="5396001">b</span><span class="op" id="5396002">.</span><span class="ident" id="5396003">addr</span><span class="op" id="5396007">(</span><span class="op" id="5396008">)</span><span class="op" id="5396009">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396014">}</span>&nbsp;<span class="keyword" id="5396016">else</span>&nbsp;<span class="op" id="5396021">{</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396027">is64</span><span class="op" id="5396031">,</span>&nbsp;<span class="ident" id="5396033">known</span>&nbsp;<span class="op" id="5396039">:=</span>&nbsp;<span class="ident" id="5396042">b</span><span class="op" id="5396043">.</span><span class="ident" id="5396044">format</span><span class="op" id="5396050">.</span><span class="ident" id="5396051">dwarf64</span><span class="op" id="5396058">(</span><span class="op" id="5396059">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396065">if</span>&nbsp;<span class="op" id="5396068">!</span><span class="ident" id="5396069">known</span>&nbsp;<span class="op" id="5396075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396082">b</span><span class="op" id="5396083">.</span><span class="builtintype" id="5396084">error</span><span class="op" id="5396089">(</span><span class="string" id="5396090">&#34;unknown&nbsp;size&nbsp;for&nbsp;DW_FORM_ref_addr&#34;</span><span class="op" id="5396125">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396131">}</span>&nbsp;<span class="keyword" id="5396133">else</span>&nbsp;<span class="keyword" id="5396138">if</span>&nbsp;<span class="ident" id="5396141">is64</span>&nbsp;<span class="op" id="5396146">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396153">val</span>&nbsp;<span class="op" id="5396157">=</span>&nbsp;<span class="ident" id="5396159">Offset</span><span class="op" id="5396165">(</span><span class="ident" id="5396166">b</span><span class="op" id="5396167">.</span><span class="ident" id="5396168">uint64</span><span class="op" id="5396174">(</span><span class="op" id="5396175">)</span><span class="op" id="5396176">)</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396182">}</span>&nbsp;<span class="keyword" id="5396184">else</span>&nbsp;<span class="op" id="5396189">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396196">val</span>&nbsp;<span class="op" id="5396200">=</span>&nbsp;<span class="ident" id="5396202">Offset</span><span class="op" id="5396208">(</span><span class="ident" id="5396209">b</span><span class="op" id="5396210">.</span><span class="builtintype" id="5396211">uint32</span><span class="op" id="5396217">(</span><span class="op" id="5396218">)</span><span class="op" id="5396219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396225">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396230">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396234">case</span>&nbsp;<span class="ident" id="5396239">formRef1</span><span class="op" id="5396247">:</span><br>
<span class="lineno">215</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396252">val</span>&nbsp;<span class="op" id="5396256">=</span>&nbsp;<span class="ident" id="5396258">Offset</span><span class="op" id="5396264">(</span><span class="ident" id="5396265">b</span><span class="op" id="5396266">.</span><span class="builtintype" id="5396267">uint8</span><span class="op" id="5396272">(</span><span class="op" id="5396273">)</span><span class="op" id="5396274">)</span>&nbsp;<span class="op" id="5396276">+</span>&nbsp;<span class="ident" id="5396278">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396286">case</span>&nbsp;<span class="ident" id="5396291">formRef2</span><span class="op" id="5396299">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396304">val</span>&nbsp;<span class="op" id="5396308">=</span>&nbsp;<span class="ident" id="5396310">Offset</span><span class="op" id="5396316">(</span><span class="ident" id="5396317">b</span><span class="op" id="5396318">.</span><span class="builtintype" id="5396319">uint16</span><span class="op" id="5396325">(</span><span class="op" id="5396326">)</span><span class="op" id="5396327">)</span>&nbsp;<span class="op" id="5396329">+</span>&nbsp;<span class="ident" id="5396331">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396339">case</span>&nbsp;<span class="ident" id="5396344">formRef4</span><span class="op" id="5396352">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396357">val</span>&nbsp;<span class="op" id="5396361">=</span>&nbsp;<span class="ident" id="5396363">Offset</span><span class="op" id="5396369">(</span><span class="ident" id="5396370">b</span><span class="op" id="5396371">.</span><span class="builtintype" id="5396372">uint32</span><span class="op" id="5396378">(</span><span class="op" id="5396379">)</span><span class="op" id="5396380">)</span>&nbsp;<span class="op" id="5396382">+</span>&nbsp;<span class="ident" id="5396384">ubase</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396392">case</span>&nbsp;<span class="ident" id="5396397">formRef8</span><span class="op" id="5396405">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396410">val</span>&nbsp;<span class="op" id="5396414">=</span>&nbsp;<span class="ident" id="5396416">Offset</span><span class="op" id="5396422">(</span><span class="ident" id="5396423">b</span><span class="op" id="5396424">.</span><span class="ident" id="5396425">uint64</span><span class="op" id="5396431">(</span><span class="op" id="5396432">)</span><span class="op" id="5396433">)</span>&nbsp;<span class="op" id="5396435">+</span>&nbsp;<span class="ident" id="5396437">ubase</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396445">case</span>&nbsp;<span class="ident" id="5396450">formRefUdata</span><span class="op" id="5396462">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396467">val</span>&nbsp;<span class="op" id="5396471">=</span>&nbsp;<span class="ident" id="5396473">Offset</span><span class="op" id="5396479">(</span><span class="ident" id="5396480">b</span><span class="op" id="5396481">.</span><span class="builtintype" id="5396482">uint</span><span class="op" id="5396486">(</span><span class="op" id="5396487">)</span><span class="op" id="5396488">)</span>&nbsp;<span class="op" id="5396490">+</span>&nbsp;<span class="ident" id="5396492">ubase</span><br>
<span class="lineno"></span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5396501">//&nbsp;string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396513">case</span>&nbsp;<span class="ident" id="5396518">formString</span><span class="op" id="5396528">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396533">val</span>&nbsp;<span class="op" id="5396537">=</span>&nbsp;<span class="ident" id="5396539">b</span><span class="op" id="5396540">.</span><span class="builtintype" id="5396541">string</span><span class="op" id="5396547">(</span><span class="op" id="5396548">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396552">case</span>&nbsp;<span class="ident" id="5396557">formStrp</span><span class="op" id="5396565">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396570">off</span>&nbsp;<span class="op" id="5396574">:=</span>&nbsp;<span class="ident" id="5396577">b</span><span class="op" id="5396578">.</span><span class="builtintype" id="5396579">uint32</span><span class="op" id="5396585">(</span><span class="op" id="5396586">)</span>&nbsp;<span class="comment" id="5396588">//&nbsp;offset&nbsp;into&nbsp;.debug_str</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396617">if</span>&nbsp;<span class="ident" id="5396620">b</span><span class="op" id="5396621">.</span><span class="ident" id="5396622">err</span>&nbsp;<span class="op" id="5396626">!=</span>&nbsp;<span class="ident" id="5396629">nil</span>&nbsp;<span class="op" id="5396633">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396639">return</span>&nbsp;<span class="ident" id="5396646">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396658">b1</span>&nbsp;<span class="op" id="5396661">:=</span>&nbsp;<span class="ident" id="5396664">makeBuf</span><span class="op" id="5396671">(</span><span class="ident" id="5396672">b</span><span class="op" id="5396673">.</span><span class="ident" id="5396674">dwarf</span><span class="op" id="5396679">,</span>&nbsp;<span class="ident" id="5396681">unknownFormat</span><span class="op" id="5396694">{</span><span class="op" id="5396695">}</span><span class="op" id="5396696">,</span>&nbsp;<span class="string" id="5396698">&#34;str&#34;</span><span class="op" id="5396703">,</span>&nbsp;<span class="num" id="5396705">0</span><span class="op" id="5396706">,</span>&nbsp;<span class="ident" id="5396708">b</span><span class="op" id="5396709">.</span><span class="ident" id="5396710">dwarf</span><span class="op" id="5396715">.</span><span class="ident" id="5396716">str</span><span class="op" id="5396719">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396724">b1</span><span class="op" id="5396726">.</span><span class="ident" id="5396727">skip</span><span class="op" id="5396731">(</span><span class="builtintype" id="5396732">int</span><span class="op" id="5396735">(</span><span class="ident" id="5396736">off</span><span class="op" id="5396739">)</span><span class="op" id="5396740">)</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396745">val</span>&nbsp;<span class="op" id="5396749">=</span>&nbsp;<span class="ident" id="5396751">b1</span><span class="op" id="5396753">.</span><span class="builtintype" id="5396754">string</span><span class="op" id="5396760">(</span><span class="op" id="5396761">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396766">if</span>&nbsp;<span class="ident" id="5396769">b1</span><span class="op" id="5396771">.</span><span class="ident" id="5396772">err</span>&nbsp;<span class="op" id="5396776">!=</span>&nbsp;<span class="ident" id="5396779">nil</span>&nbsp;<span class="op" id="5396783">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5396789">b</span><span class="op" id="5396790">.</span><span class="ident" id="5396791">err</span>&nbsp;<span class="op" id="5396795">=</span>&nbsp;<span class="ident" id="5396797">b1</span><span class="op" id="5396799">.</span><span class="ident" id="5396800">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5396808">return</span>&nbsp;<span class="ident" id="5396815">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5396822">}</span><br>
<span class="lineno">240</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5396827">//&nbsp;lineptr,&nbsp;loclistptr,&nbsp;macptr,&nbsp;rangelistptr</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5396874">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4,&nbsp;but&nbsp;clang&nbsp;can&nbsp;generate&nbsp;them&nbsp;with&nbsp;-gdwarf-2.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5396939">//&nbsp;Section&nbsp;reference,&nbsp;replacing&nbsp;use&nbsp;of&nbsp;formData4&nbsp;and&nbsp;formData8.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397005">case</span>&nbsp;<span class="ident" id="5397010">formSecOffset</span><span class="op" id="5397023">,</span>&nbsp;<span class="ident" id="5397025">formGnuRefAlt</span><span class="op" id="5397038">,</span>&nbsp;<span class="ident" id="5397040">formGnuStrpAlt</span><span class="op" id="5397054">:</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397059">is64</span><span class="op" id="5397063">,</span>&nbsp;<span class="ident" id="5397065">known</span>&nbsp;<span class="op" id="5397071">:=</span>&nbsp;<span class="ident" id="5397074">b</span><span class="op" id="5397075">.</span><span class="ident" id="5397076">format</span><span class="op" id="5397082">.</span><span class="ident" id="5397083">dwarf64</span><span class="op" id="5397090">(</span><span class="op" id="5397091">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397096">if</span>&nbsp;<span class="op" id="5397099">!</span><span class="ident" id="5397100">known</span>&nbsp;<span class="op" id="5397106">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397112">b</span><span class="op" id="5397113">.</span><span class="builtintype" id="5397114">error</span><span class="op" id="5397119">(</span><span class="string" id="5397120">&#34;unknown&nbsp;size&nbsp;for&nbsp;form&nbsp;0x&#34;</span>&nbsp;<span class="op" id="5397147">+</span>&nbsp;<span class="ident" id="5397149">strconv</span><span class="op" id="5397156">.</span><span class="ident" id="5397157">FormatInt</span><span class="op" id="5397166">(</span><span class="ident" id="5397167">int64</span><span class="op" id="5397172">(</span><span class="ident" id="5397173">fmt</span><span class="op" id="5397176">)</span><span class="op" id="5397177">,</span>&nbsp;<span class="num" id="5397179">16</span><span class="op" id="5397181">)</span><span class="op" id="5397182">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5397187">}</span>&nbsp;<span class="keyword" id="5397189">else</span>&nbsp;<span class="keyword" id="5397194">if</span>&nbsp;<span class="ident" id="5397197">is64</span>&nbsp;<span class="op" id="5397202">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397208">val</span>&nbsp;<span class="op" id="5397212">=</span>&nbsp;<span class="ident" id="5397214">int64</span><span class="op" id="5397219">(</span><span class="ident" id="5397220">b</span><span class="op" id="5397221">.</span><span class="ident" id="5397222">uint64</span><span class="op" id="5397228">(</span><span class="op" id="5397229">)</span><span class="op" id="5397230">)</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5397235">}</span>&nbsp;<span class="keyword" id="5397237">else</span>&nbsp;<span class="op" id="5397242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397248">val</span>&nbsp;<span class="op" id="5397252">=</span>&nbsp;<span class="ident" id="5397254">int64</span><span class="op" id="5397259">(</span><span class="ident" id="5397260">b</span><span class="op" id="5397261">.</span><span class="builtintype" id="5397262">uint32</span><span class="op" id="5397268">(</span><span class="op" id="5397269">)</span><span class="op" id="5397270">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5397275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5397280">//&nbsp;exprloc</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5397293">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397314">case</span>&nbsp;<span class="ident" id="5397319">formExprloc</span><span class="op" id="5397330">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397335">val</span>&nbsp;<span class="op" id="5397339">=</span>&nbsp;<span class="ident" id="5397341">b</span><span class="op" id="5397342">.</span><span class="ident" id="5397343">bytes</span><span class="op" id="5397348">(</span><span class="builtintype" id="5397349">int</span><span class="op" id="5397352">(</span><span class="ident" id="5397353">b</span><span class="op" id="5397354">.</span><span class="builtintype" id="5397355">uint</span><span class="op" id="5397359">(</span><span class="op" id="5397360">)</span><span class="op" id="5397361">)</span><span class="op" id="5397362">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5397367">//&nbsp;reference</span><br>
<span class="lineno">260</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5397382">//&nbsp;New&nbsp;in&nbsp;DWARF&nbsp;4.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397403">case</span>&nbsp;<span class="ident" id="5397408">formRefSig8</span><span class="op" id="5397419">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5397424">//&nbsp;64-bit&nbsp;type&nbsp;signature.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397453">val</span>&nbsp;<span class="op" id="5397457">=</span>&nbsp;<span class="ident" id="5397459">b</span><span class="op" id="5397460">.</span><span class="ident" id="5397461">uint64</span><span class="op" id="5397467">(</span><span class="op" id="5397468">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5397472">}</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397476">e</span><span class="op" id="5397477">.</span><span class="ident" id="5397478">Field</span><span class="op" id="5397483">[</span><span class="ident" id="5397484">i</span><span class="op" id="5397485">]</span><span class="op" id="5397486">.</span><span class="ident" id="5397487">Val</span>&nbsp;<span class="op" id="5397491">=</span>&nbsp;<span class="ident" id="5397493">val</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5397498">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397501">if</span>&nbsp;<span class="ident" id="5397504">b</span><span class="op" id="5397505">.</span><span class="ident" id="5397506">err</span>&nbsp;<span class="op" id="5397510">!=</span>&nbsp;<span class="ident" id="5397513">nil</span>&nbsp;<span class="op" id="5397517">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397521">return</span>&nbsp;<span class="ident" id="5397528">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5397533">}</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5397536">return</span>&nbsp;<span class="ident" id="5397543">e</span><br>
<span class="lineno"></span><span class="op" id="5397545">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5397548">//&nbsp;A&nbsp;Reader&nbsp;allows&nbsp;reading&nbsp;Entry&nbsp;structures&nbsp;from&nbsp;a&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5397623">//&nbsp;The&nbsp;Entry&nbsp;structures&nbsp;are&nbsp;arranged&nbsp;in&nbsp;a&nbsp;tree.&nbsp;&nbsp;The&nbsp;Reader&#39;s&nbsp;Next&nbsp;function</span><br>
<span class="lineno">275</span><span class="comment" id="5397699">//&nbsp;return&nbsp;successive&nbsp;entries&nbsp;from&nbsp;a&nbsp;pre-order&nbsp;traversal&nbsp;of&nbsp;the&nbsp;tree.</span><br>
<span class="lineno"></span><span class="comment" id="5397768">//&nbsp;If&nbsp;an&nbsp;entry&nbsp;has&nbsp;children,&nbsp;its&nbsp;Children&nbsp;field&nbsp;will&nbsp;be&nbsp;true,&nbsp;and&nbsp;the&nbsp;children</span><br>
<span class="lineno"></span><span class="comment" id="5397847">//&nbsp;follow,&nbsp;terminated&nbsp;by&nbsp;an&nbsp;Entry&nbsp;with&nbsp;Tag&nbsp;0.</span><br>
<span class="lineno"></span><span class="keyword" id="5397893">type</span>&nbsp;<span class="ident" id="5397898">Reader</span>&nbsp;<span class="keyword" id="5397905">struct</span>&nbsp;<span class="op" id="5397912">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397915">b</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="5397928">buf</span><br>
<span class="lineno">280</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397933">d</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="5397946">*</span><span class="ident" id="5397947">Data</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397953">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5397966">error</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397973">unit</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="5397986">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5397991">lastChildren</span>&nbsp;<span class="builtintype" id="5398004">bool</span>&nbsp;&nbsp;&nbsp;<span class="comment" id="5398011">//&nbsp;.Children&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398056">lastSibling</span>&nbsp;&nbsp;<span class="ident" id="5398069">Offset</span>&nbsp;<span class="comment" id="5398076">//&nbsp;.Val(AttrSibling)&nbsp;of&nbsp;last&nbsp;entry&nbsp;returned&nbsp;by&nbsp;Next</span><br>
<span class="lineno">285</span><span class="op" id="5398128">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5398131">//&nbsp;Reader&nbsp;returns&nbsp;a&nbsp;new&nbsp;Reader&nbsp;for&nbsp;Data.</span><br>
<span class="lineno"></span><span class="comment" id="5398172">//&nbsp;The&nbsp;reader&nbsp;is&nbsp;positioned&nbsp;at&nbsp;byte&nbsp;offset&nbsp;0&nbsp;in&nbsp;the&nbsp;DWARF&nbsp;``info&#39;&#39;&nbsp;section.</span><br>
<span class="lineno"></span><span class="keyword" id="5398248">func</span>&nbsp;<span class="op" id="5398253">(</span><span class="ident" id="5398254">d</span>&nbsp;<span class="op" id="5398256">*</span><span class="ident" id="5398257">Data</span><span class="op" id="5398261">)</span>&nbsp;<span class="ident" id="5398263">Reader</span><span class="op" id="5398269">(</span><span class="op" id="5398270">)</span>&nbsp;<span class="op" id="5398272">*</span><span class="ident" id="5398273">Reader</span>&nbsp;<span class="op" id="5398280">{</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398283">r</span>&nbsp;<span class="op" id="5398285">:=</span>&nbsp;<span class="op" id="5398288">&amp;</span><span class="ident" id="5398289">Reader</span><span class="op" id="5398295">{</span><span class="ident" id="5398296">d</span><span class="op" id="5398297">:</span>&nbsp;<span class="ident" id="5398299">d</span><span class="op" id="5398300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398303">r</span><span class="op" id="5398304">.</span><span class="ident" id="5398305">Seek</span><span class="op" id="5398309">(</span><span class="num" id="5398310">0</span><span class="op" id="5398311">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398314">return</span>&nbsp;<span class="ident" id="5398321">r</span><br>
<span class="lineno"></span><span class="op" id="5398323">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">295</span><span class="comment" id="5398326">//&nbsp;Seek&nbsp;positions&nbsp;the&nbsp;Reader&nbsp;at&nbsp;offset&nbsp;off&nbsp;in&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno"></span><span class="comment" id="5398398">//&nbsp;Offset&nbsp;0&nbsp;can&nbsp;be&nbsp;used&nbsp;to&nbsp;denote&nbsp;the&nbsp;first&nbsp;entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5398449">func</span>&nbsp;<span class="op" id="5398454">(</span><span class="ident" id="5398455">r</span>&nbsp;<span class="op" id="5398457">*</span><span class="ident" id="5398458">Reader</span><span class="op" id="5398464">)</span>&nbsp;<span class="ident" id="5398466">Seek</span><span class="op" id="5398470">(</span><span class="ident" id="5398471">off</span>&nbsp;<span class="ident" id="5398475">Offset</span><span class="op" id="5398481">)</span>&nbsp;<span class="op" id="5398483">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398486">d</span>&nbsp;<span class="op" id="5398488">:=</span>&nbsp;<span class="ident" id="5398491">r</span><span class="op" id="5398492">.</span><span class="ident" id="5398493">d</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398496">r</span><span class="op" id="5398497">.</span><span class="ident" id="5398498">err</span>&nbsp;<span class="op" id="5398502">=</span>&nbsp;<span class="ident" id="5398504">nil</span><br>
<span class="lineno">300</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398509">r</span><span class="op" id="5398510">.</span><span class="ident" id="5398511">lastChildren</span>&nbsp;<span class="op" id="5398524">=</span>&nbsp;<span class="builtintype" id="5398526">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398533">if</span>&nbsp;<span class="ident" id="5398536">off</span>&nbsp;<span class="op" id="5398540">==</span>&nbsp;<span class="num" id="5398543">0</span>&nbsp;<span class="op" id="5398545">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398549">if</span>&nbsp;<span class="builtinfunc" id="5398552">len</span><span class="op" id="5398555">(</span><span class="ident" id="5398556">d</span><span class="op" id="5398557">.</span><span class="ident" id="5398558">unit</span><span class="op" id="5398562">)</span>&nbsp;<span class="op" id="5398564">==</span>&nbsp;<span class="num" id="5398567">0</span>&nbsp;<span class="op" id="5398569">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398574">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5398583">}</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398587">u</span>&nbsp;<span class="op" id="5398589">:=</span>&nbsp;<span class="op" id="5398592">&amp;</span><span class="ident" id="5398593">d</span><span class="op" id="5398594">.</span><span class="ident" id="5398595">unit</span><span class="op" id="5398599">[</span><span class="num" id="5398600">0</span><span class="op" id="5398601">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398605">r</span><span class="op" id="5398606">.</span><span class="ident" id="5398607">unit</span>&nbsp;<span class="op" id="5398612">=</span>&nbsp;<span class="num" id="5398614">0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398618">r</span><span class="op" id="5398619">.</span><span class="ident" id="5398620">b</span>&nbsp;<span class="op" id="5398622">=</span>&nbsp;<span class="ident" id="5398624">makeBuf</span><span class="op" id="5398631">(</span><span class="ident" id="5398632">r</span><span class="op" id="5398633">.</span><span class="ident" id="5398634">d</span><span class="op" id="5398635">,</span>&nbsp;<span class="ident" id="5398637">u</span><span class="op" id="5398638">,</span>&nbsp;<span class="string" id="5398640">&#34;info&#34;</span><span class="op" id="5398646">,</span>&nbsp;<span class="ident" id="5398648">u</span><span class="op" id="5398649">.</span><span class="ident" id="5398650">off</span><span class="op" id="5398653">,</span>&nbsp;<span class="ident" id="5398655">u</span><span class="op" id="5398656">.</span><span class="ident" id="5398657">data</span><span class="op" id="5398661">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398665">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5398673">}</span><br>
<span class="lineno">310</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5398677">//&nbsp;TODO(rsc):&nbsp;binary&nbsp;search&nbsp;(maybe&nbsp;a&nbsp;new&nbsp;package)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398728">var</span>&nbsp;<span class="ident" id="5398732">i</span>&nbsp;<span class="builtintype" id="5398734">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398739">var</span>&nbsp;<span class="ident" id="5398743">u</span>&nbsp;<span class="op" id="5398745">*</span><span class="ident" id="5398746">unit</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398752">for</span>&nbsp;<span class="ident" id="5398756">i</span>&nbsp;<span class="op" id="5398758">=</span>&nbsp;<span class="keyword" id="5398760">range</span>&nbsp;<span class="ident" id="5398766">d</span><span class="op" id="5398767">.</span><span class="ident" id="5398768">unit</span>&nbsp;<span class="op" id="5398773">{</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398777">u</span>&nbsp;<span class="op" id="5398779">=</span>&nbsp;<span class="op" id="5398781">&amp;</span><span class="ident" id="5398782">d</span><span class="op" id="5398783">.</span><span class="ident" id="5398784">unit</span><span class="op" id="5398788">[</span><span class="ident" id="5398789">i</span><span class="op" id="5398790">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398794">if</span>&nbsp;<span class="ident" id="5398797">u</span><span class="op" id="5398798">.</span><span class="ident" id="5398799">off</span>&nbsp;<span class="op" id="5398803">&lt;=</span>&nbsp;<span class="ident" id="5398806">off</span>&nbsp;<span class="op" id="5398810">&amp;&amp;</span>&nbsp;<span class="ident" id="5398813">off</span>&nbsp;<span class="op" id="5398817">&lt;</span>&nbsp;<span class="ident" id="5398819">u</span><span class="op" id="5398820">.</span><span class="ident" id="5398821">off</span><span class="op" id="5398824">+</span><span class="ident" id="5398825">Offset</span><span class="op" id="5398831">(</span><span class="builtinfunc" id="5398832">len</span><span class="op" id="5398835">(</span><span class="ident" id="5398836">u</span><span class="op" id="5398837">.</span><span class="ident" id="5398838">data</span><span class="op" id="5398842">)</span><span class="op" id="5398843">)</span>&nbsp;<span class="op" id="5398845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398850">r</span><span class="op" id="5398851">.</span><span class="ident" id="5398852">unit</span>&nbsp;<span class="op" id="5398857">=</span>&nbsp;<span class="ident" id="5398859">i</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398864">r</span><span class="op" id="5398865">.</span><span class="ident" id="5398866">b</span>&nbsp;<span class="op" id="5398868">=</span>&nbsp;<span class="ident" id="5398870">makeBuf</span><span class="op" id="5398877">(</span><span class="ident" id="5398878">r</span><span class="op" id="5398879">.</span><span class="ident" id="5398880">d</span><span class="op" id="5398881">,</span>&nbsp;<span class="ident" id="5398883">u</span><span class="op" id="5398884">,</span>&nbsp;<span class="string" id="5398886">&#34;info&#34;</span><span class="op" id="5398892">,</span>&nbsp;<span class="ident" id="5398894">off</span><span class="op" id="5398897">,</span>&nbsp;<span class="ident" id="5398899">u</span><span class="op" id="5398900">.</span><span class="ident" id="5398901">data</span><span class="op" id="5398905">[</span><span class="ident" id="5398906">off</span><span class="op" id="5398909">-</span><span class="ident" id="5398910">u</span><span class="op" id="5398911">.</span><span class="ident" id="5398912">off</span><span class="op" id="5398915">:</span><span class="op" id="5398916">]</span><span class="op" id="5398917">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5398922">return</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5398931">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5398934">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5398937">r</span><span class="op" id="5398938">.</span><span class="ident" id="5398939">err</span>&nbsp;<span class="op" id="5398943">=</span>&nbsp;<span class="ident" id="5398945">errors</span><span class="op" id="5398951">.</span><span class="ident" id="5398952">New</span><span class="op" id="5398955">(</span><span class="string" id="5398956">&#34;offset&nbsp;out&nbsp;of&nbsp;range&#34;</span><span class="op" id="5398977">)</span><br>
<span class="lineno"></span><span class="op" id="5398979">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">325</span><span class="comment" id="5398982">//&nbsp;maybeNextUnit&nbsp;advances&nbsp;to&nbsp;the&nbsp;next&nbsp;unit&nbsp;if&nbsp;this&nbsp;one&nbsp;is&nbsp;finished.</span><br>
<span class="lineno"></span><span class="keyword" id="5399050">func</span>&nbsp;<span class="op" id="5399055">(</span><span class="ident" id="5399056">r</span>&nbsp;<span class="op" id="5399058">*</span><span class="ident" id="5399059">Reader</span><span class="op" id="5399065">)</span>&nbsp;<span class="ident" id="5399067">maybeNextUnit</span><span class="op" id="5399080">(</span><span class="op" id="5399081">)</span>&nbsp;<span class="op" id="5399083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399086">for</span>&nbsp;<span class="builtinfunc" id="5399090">len</span><span class="op" id="5399093">(</span><span class="ident" id="5399094">r</span><span class="op" id="5399095">.</span><span class="ident" id="5399096">b</span><span class="op" id="5399097">.</span><span class="ident" id="5399098">data</span><span class="op" id="5399102">)</span>&nbsp;<span class="op" id="5399104">==</span>&nbsp;<span class="num" id="5399107">0</span>&nbsp;<span class="op" id="5399109">&amp;&amp;</span>&nbsp;<span class="ident" id="5399112">r</span><span class="op" id="5399113">.</span><span class="ident" id="5399114">unit</span><span class="op" id="5399118">+</span><span class="num" id="5399119">1</span>&nbsp;<span class="op" id="5399121">&lt;</span>&nbsp;<span class="builtinfunc" id="5399123">len</span><span class="op" id="5399126">(</span><span class="ident" id="5399127">r</span><span class="op" id="5399128">.</span><span class="ident" id="5399129">d</span><span class="op" id="5399130">.</span><span class="ident" id="5399131">unit</span><span class="op" id="5399135">)</span>&nbsp;<span class="op" id="5399137">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399141">r</span><span class="op" id="5399142">.</span><span class="ident" id="5399143">unit</span><span class="op" id="5399147">++</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399152">u</span>&nbsp;<span class="op" id="5399154">:=</span>&nbsp;<span class="op" id="5399157">&amp;</span><span class="ident" id="5399158">r</span><span class="op" id="5399159">.</span><span class="ident" id="5399160">d</span><span class="op" id="5399161">.</span><span class="ident" id="5399162">unit</span><span class="op" id="5399166">[</span><span class="ident" id="5399167">r</span><span class="op" id="5399168">.</span><span class="ident" id="5399169">unit</span><span class="op" id="5399173">]</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399177">r</span><span class="op" id="5399178">.</span><span class="ident" id="5399179">b</span>&nbsp;<span class="op" id="5399181">=</span>&nbsp;<span class="ident" id="5399183">makeBuf</span><span class="op" id="5399190">(</span><span class="ident" id="5399191">r</span><span class="op" id="5399192">.</span><span class="ident" id="5399193">d</span><span class="op" id="5399194">,</span>&nbsp;<span class="ident" id="5399196">u</span><span class="op" id="5399197">,</span>&nbsp;<span class="string" id="5399199">&#34;info&#34;</span><span class="op" id="5399205">,</span>&nbsp;<span class="ident" id="5399207">u</span><span class="op" id="5399208">.</span><span class="ident" id="5399209">off</span><span class="op" id="5399212">,</span>&nbsp;<span class="ident" id="5399214">u</span><span class="op" id="5399215">.</span><span class="ident" id="5399216">data</span><span class="op" id="5399220">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399223">}</span><br>
<span class="lineno"></span><span class="op" id="5399225">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5399228">//&nbsp;Next&nbsp;reads&nbsp;the&nbsp;next&nbsp;entry&nbsp;from&nbsp;the&nbsp;encoded&nbsp;entry&nbsp;stream.</span><br>
<span class="lineno">335</span><span class="comment" id="5399288">//&nbsp;It&nbsp;returns&nbsp;nil,&nbsp;nil&nbsp;when&nbsp;it&nbsp;reaches&nbsp;the&nbsp;end&nbsp;of&nbsp;the&nbsp;section.</span><br>
<span class="lineno"></span><span class="comment" id="5399351">//&nbsp;It&nbsp;returns&nbsp;an&nbsp;error&nbsp;if&nbsp;the&nbsp;current&nbsp;offset&nbsp;is&nbsp;invalid&nbsp;or&nbsp;the&nbsp;data&nbsp;at&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5399426">//&nbsp;offset&nbsp;cannot&nbsp;be&nbsp;decoded&nbsp;as&nbsp;a&nbsp;valid&nbsp;Entry.</span><br>
<span class="lineno"></span><span class="keyword" id="5399472">func</span>&nbsp;<span class="op" id="5399477">(</span><span class="ident" id="5399478">r</span>&nbsp;<span class="op" id="5399480">*</span><span class="ident" id="5399481">Reader</span><span class="op" id="5399487">)</span>&nbsp;<span class="ident" id="5399489">Next</span><span class="op" id="5399493">(</span><span class="op" id="5399494">)</span>&nbsp;<span class="op" id="5399496">(</span><span class="op" id="5399497">*</span><span class="ident" id="5399498">Entry</span><span class="op" id="5399503">,</span>&nbsp;<span class="builtintype" id="5399505">error</span><span class="op" id="5399510">)</span>&nbsp;<span class="op" id="5399512">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399515">if</span>&nbsp;<span class="ident" id="5399518">r</span><span class="op" id="5399519">.</span><span class="ident" id="5399520">err</span>&nbsp;<span class="op" id="5399524">!=</span>&nbsp;<span class="ident" id="5399527">nil</span>&nbsp;<span class="op" id="5399531">{</span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399535">return</span>&nbsp;<span class="ident" id="5399542">nil</span><span class="op" id="5399545">,</span>&nbsp;<span class="ident" id="5399547">r</span><span class="op" id="5399548">.</span><span class="ident" id="5399549">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399554">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399557">r</span><span class="op" id="5399558">.</span><span class="ident" id="5399559">maybeNextUnit</span><span class="op" id="5399572">(</span><span class="op" id="5399573">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399576">if</span>&nbsp;<span class="builtinfunc" id="5399579">len</span><span class="op" id="5399582">(</span><span class="ident" id="5399583">r</span><span class="op" id="5399584">.</span><span class="ident" id="5399585">b</span><span class="op" id="5399586">.</span><span class="ident" id="5399587">data</span><span class="op" id="5399591">)</span>&nbsp;<span class="op" id="5399593">==</span>&nbsp;<span class="num" id="5399596">0</span>&nbsp;<span class="op" id="5399598">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399602">return</span>&nbsp;<span class="ident" id="5399609">nil</span><span class="op" id="5399612">,</span>&nbsp;<span class="ident" id="5399614">nil</span><br>
<span class="lineno">345</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399619">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399622">u</span>&nbsp;<span class="op" id="5399624">:=</span>&nbsp;<span class="op" id="5399627">&amp;</span><span class="ident" id="5399628">r</span><span class="op" id="5399629">.</span><span class="ident" id="5399630">d</span><span class="op" id="5399631">.</span><span class="ident" id="5399632">unit</span><span class="op" id="5399636">[</span><span class="ident" id="5399637">r</span><span class="op" id="5399638">.</span><span class="ident" id="5399639">unit</span><span class="op" id="5399643">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399646">e</span>&nbsp;<span class="op" id="5399648">:=</span>&nbsp;<span class="ident" id="5399651">r</span><span class="op" id="5399652">.</span><span class="ident" id="5399653">b</span><span class="op" id="5399654">.</span><span class="ident" id="5399655">entry</span><span class="op" id="5399660">(</span><span class="ident" id="5399661">u</span><span class="op" id="5399662">.</span><span class="ident" id="5399663">atable</span><span class="op" id="5399669">,</span>&nbsp;<span class="ident" id="5399671">u</span><span class="op" id="5399672">.</span><span class="ident" id="5399673">base</span><span class="op" id="5399677">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399680">if</span>&nbsp;<span class="ident" id="5399683">r</span><span class="op" id="5399684">.</span><span class="ident" id="5399685">b</span><span class="op" id="5399686">.</span><span class="ident" id="5399687">err</span>&nbsp;<span class="op" id="5399691">!=</span>&nbsp;<span class="ident" id="5399694">nil</span>&nbsp;<span class="op" id="5399698">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399702">r</span><span class="op" id="5399703">.</span><span class="ident" id="5399704">err</span>&nbsp;<span class="op" id="5399708">=</span>&nbsp;<span class="ident" id="5399710">r</span><span class="op" id="5399711">.</span><span class="ident" id="5399712">b</span><span class="op" id="5399713">.</span><span class="ident" id="5399714">err</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399720">return</span>&nbsp;<span class="ident" id="5399727">nil</span><span class="op" id="5399730">,</span>&nbsp;<span class="ident" id="5399732">r</span><span class="op" id="5399733">.</span><span class="ident" id="5399734">err</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399739">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399742">if</span>&nbsp;<span class="ident" id="5399745">e</span>&nbsp;<span class="op" id="5399747">!=</span>&nbsp;<span class="ident" id="5399750">nil</span>&nbsp;<span class="op" id="5399754">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399758">r</span><span class="op" id="5399759">.</span><span class="ident" id="5399760">lastChildren</span>&nbsp;<span class="op" id="5399773">=</span>&nbsp;<span class="ident" id="5399775">e</span><span class="op" id="5399776">.</span><span class="ident" id="5399777">Children</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399788">if</span>&nbsp;<span class="ident" id="5399791">r</span><span class="op" id="5399792">.</span><span class="ident" id="5399793">lastChildren</span>&nbsp;<span class="op" id="5399806">{</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399811">r</span><span class="op" id="5399812">.</span><span class="ident" id="5399813">lastSibling</span><span class="op" id="5399824">,</span>&nbsp;<span class="ident" id="5399826">_</span>&nbsp;<span class="op" id="5399828">=</span>&nbsp;<span class="ident" id="5399830">e</span><span class="op" id="5399831">.</span><span class="ident" id="5399832">Val</span><span class="op" id="5399835">(</span><span class="ident" id="5399836">AttrSibling</span><span class="op" id="5399847">)</span><span class="op" id="5399848">.</span><span class="op" id="5399849">(</span><span class="ident" id="5399850">Offset</span><span class="op" id="5399856">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399860">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399863">}</span>&nbsp;<span class="keyword" id="5399865">else</span>&nbsp;<span class="op" id="5399870">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5399874">r</span><span class="op" id="5399875">.</span><span class="ident" id="5399876">lastChildren</span>&nbsp;<span class="op" id="5399889">=</span>&nbsp;<span class="builtintype" id="5399891">false</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5399898">}</span><br>
<span class="lineno">360</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5399901">return</span>&nbsp;<span class="ident" id="5399908">e</span><span class="op" id="5399909">,</span>&nbsp;<span class="ident" id="5399911">nil</span><br>
<span class="lineno"></span><span class="op" id="5399915">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5399918">//&nbsp;SkipChildren&nbsp;skips&nbsp;over&nbsp;the&nbsp;child&nbsp;entries&nbsp;associated&nbsp;with</span><br>
<span class="lineno"></span><span class="comment" id="5399979">//&nbsp;the&nbsp;last&nbsp;Entry&nbsp;returned&nbsp;by&nbsp;Next.&nbsp;&nbsp;If&nbsp;that&nbsp;Entry&nbsp;did&nbsp;not&nbsp;have</span><br>
<span class="lineno">365</span><span class="comment" id="5400043">//&nbsp;children&nbsp;or&nbsp;Next&nbsp;has&nbsp;not&nbsp;been&nbsp;called,&nbsp;SkipChildren&nbsp;is&nbsp;a&nbsp;no-op.</span><br>
<span class="lineno"></span><span class="keyword" id="5400109">func</span>&nbsp;<span class="op" id="5400114">(</span><span class="ident" id="5400115">r</span>&nbsp;<span class="op" id="5400117">*</span><span class="ident" id="5400118">Reader</span><span class="op" id="5400124">)</span>&nbsp;<span class="ident" id="5400126">SkipChildren</span><span class="op" id="5400138">(</span><span class="op" id="5400139">)</span>&nbsp;<span class="op" id="5400141">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400144">if</span>&nbsp;<span class="ident" id="5400147">r</span><span class="op" id="5400148">.</span><span class="ident" id="5400149">err</span>&nbsp;<span class="op" id="5400153">!=</span>&nbsp;<span class="ident" id="5400156">nil</span>&nbsp;<span class="op" id="5400160">||</span>&nbsp;<span class="op" id="5400163">!</span><span class="ident" id="5400164">r</span><span class="op" id="5400165">.</span><span class="ident" id="5400166">lastChildren</span>&nbsp;<span class="op" id="5400179">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400183">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5400191">}</span><br>
<span class="lineno">370</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5400195">//&nbsp;If&nbsp;the&nbsp;last&nbsp;entry&nbsp;had&nbsp;a&nbsp;sibling&nbsp;attribute,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5400242">//&nbsp;that&nbsp;attribute&nbsp;gives&nbsp;the&nbsp;offset&nbsp;of&nbsp;the&nbsp;next</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5400290">//&nbsp;sibling,&nbsp;so&nbsp;we&nbsp;can&nbsp;avoid&nbsp;decoding&nbsp;the</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="5400332">//&nbsp;child&nbsp;subtrees.</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400352">if</span>&nbsp;<span class="ident" id="5400355">r</span><span class="op" id="5400356">.</span><span class="ident" id="5400357">lastSibling</span>&nbsp;<span class="op" id="5400369">&gt;=</span>&nbsp;<span class="ident" id="5400372">r</span><span class="op" id="5400373">.</span><span class="ident" id="5400374">b</span><span class="op" id="5400375">.</span><span class="ident" id="5400376">off</span>&nbsp;<span class="op" id="5400380">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5400384">r</span><span class="op" id="5400385">.</span><span class="ident" id="5400386">Seek</span><span class="op" id="5400390">(</span><span class="ident" id="5400391">r</span><span class="op" id="5400392">.</span><span class="ident" id="5400393">lastSibling</span><span class="op" id="5400404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400408">return</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5400416">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400420">for</span>&nbsp;<span class="op" id="5400424">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5400428">e</span><span class="op" id="5400429">,</span>&nbsp;<span class="ident" id="5400431">err</span>&nbsp;<span class="op" id="5400435">:=</span>&nbsp;<span class="ident" id="5400438">r</span><span class="op" id="5400439">.</span><span class="ident" id="5400440">Next</span><span class="op" id="5400444">(</span><span class="op" id="5400445">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400449">if</span>&nbsp;<span class="ident" id="5400452">err</span>&nbsp;<span class="op" id="5400456">!=</span>&nbsp;<span class="ident" id="5400459">nil</span>&nbsp;<span class="op" id="5400463">||</span>&nbsp;<span class="ident" id="5400466">e</span>&nbsp;<span class="op" id="5400468">==</span>&nbsp;<span class="ident" id="5400471">nil</span>&nbsp;<span class="op" id="5400475">||</span>&nbsp;<span class="ident" id="5400478">e</span><span class="op" id="5400479">.</span><span class="ident" id="5400480">Tag</span>&nbsp;<span class="op" id="5400484">==</span>&nbsp;<span class="num" id="5400487">0</span>&nbsp;<span class="op" id="5400489">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400494">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5400502">}</span><br>
<span class="lineno">385</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400506">if</span>&nbsp;<span class="ident" id="5400509">e</span><span class="op" id="5400510">.</span><span class="ident" id="5400511">Children</span>&nbsp;<span class="op" id="5400520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5400525">r</span><span class="op" id="5400526">.</span><span class="ident" id="5400527">SkipChildren</span><span class="op" id="5400539">(</span><span class="op" id="5400540">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5400544">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5400547">}</span><br>
<span class="lineno"></span><span class="op" id="5400549">}</span><br>
<span class="lineno">390</span><br>
<span class="lineno"></span><span class="comment" id="5400552">//&nbsp;clone&nbsp;returns&nbsp;a&nbsp;copy&nbsp;of&nbsp;the&nbsp;reader.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the&nbsp;typeReader</span><br>
<span class="lineno"></span><span class="comment" id="5400623">//&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5400637">func</span>&nbsp;<span class="op" id="5400642">(</span><span class="ident" id="5400643">r</span>&nbsp;<span class="op" id="5400645">*</span><span class="ident" id="5400646">Reader</span><span class="op" id="5400652">)</span>&nbsp;<span class="ident" id="5400654">clone</span><span class="op" id="5400659">(</span><span class="op" id="5400660">)</span>&nbsp;<span class="ident" id="5400662">typeReader</span>&nbsp;<span class="op" id="5400673">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400676">return</span>&nbsp;<span class="ident" id="5400683">r</span><span class="op" id="5400684">.</span><span class="ident" id="5400685">d</span><span class="op" id="5400686">.</span><span class="ident" id="5400687">Reader</span><span class="op" id="5400693">(</span><span class="op" id="5400694">)</span><br>
<span class="lineno">395</span><span class="op" id="5400696">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5400699">//&nbsp;offset&nbsp;returns&nbsp;the&nbsp;current&nbsp;buffer&nbsp;offset.&nbsp;&nbsp;This&nbsp;is&nbsp;used&nbsp;by&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="5400765">//&nbsp;typeReader&nbsp;interface.</span><br>
<span class="lineno"></span><span class="keyword" id="5400790">func</span>&nbsp;<span class="op" id="5400795">(</span><span class="ident" id="5400796">r</span>&nbsp;<span class="op" id="5400798">*</span><span class="ident" id="5400799">Reader</span><span class="op" id="5400805">)</span>&nbsp;<span class="ident" id="5400807">offset</span><span class="op" id="5400813">(</span><span class="op" id="5400814">)</span>&nbsp;<span class="ident" id="5400816">Offset</span>&nbsp;<span class="op" id="5400823">{</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5400826">return</span>&nbsp;<span class="ident" id="5400833">r</span><span class="op" id="5400834">.</span><span class="ident" id="5400835">b</span><span class="op" id="5400836">.</span><span class="ident" id="5400837">off</span><br>
<span class="lineno"></span><span class="op" id="5400841">}</span>
</div>
</body>
</html>
