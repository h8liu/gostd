<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="comment" id="3561901">//&nbsp;Copyright&nbsp;2012&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="3561956">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="3562010">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="3562061">package</span>&nbsp;<span class="ident" id="3562069">filepath</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3562079">import</span>&nbsp;<span class="op" id="3562086">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562089">&#34;bytes&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562098">&#34;errors&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="3562108">&#34;os&#34;</span><br>
<span class="lineno"></span><span class="op" id="3562113">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="3562116">const</span>&nbsp;<span class="ident" id="3562122">utf8RuneSelf</span>&nbsp;<span class="op" id="3562135">=</span>&nbsp;<span class="num" id="3562137">0x80</span><br>
<span class="lineno"></span><br>
<span class="lineno">15</span><span class="keyword" id="3562143">func</span>&nbsp;<span class="ident" id="3562148">walkSymlinks</span><span class="op" id="3562160">(</span><span class="ident" id="3562161">path</span>&nbsp;<span class="builtintype" id="3562166">string</span><span class="op" id="3562172">)</span>&nbsp;<span class="op" id="3562174">(</span><span class="builtintype" id="3562175">string</span><span class="op" id="3562181">,</span>&nbsp;<span class="builtintype" id="3562183">error</span><span class="op" id="3562188">)</span>&nbsp;<span class="op" id="3562190">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562193">const</span>&nbsp;<span class="ident" id="3562199">maxIter</span>&nbsp;<span class="op" id="3562207">=</span>&nbsp;<span class="num" id="3562209">255</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562214">originalPath</span>&nbsp;<span class="op" id="3562227">:=</span>&nbsp;<span class="ident" id="3562230"><a href="/path/filepath/symlink.go.html#3562161">path</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3562236">//&nbsp;consume&nbsp;path&nbsp;by&nbsp;taking&nbsp;each&nbsp;frontmost&nbsp;path&nbsp;element,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3562292">//&nbsp;expanding&nbsp;it&nbsp;if&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;and&nbsp;appending&nbsp;it&nbsp;to&nbsp;b</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562350">var</span>&nbsp;<span class="ident" id="3562354">b</span>&nbsp;<span class="ident" id="3562356"><a href="/path/filepath/symlink.go.html#3562089">bytes</a></span><span class="op" id="3562361">.</span><span class="ident" id="3562362">Buffer</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562370">for</span>&nbsp;<span class="ident" id="3562374">n</span>&nbsp;<span class="op" id="3562376">:=</span>&nbsp;<span class="num" id="3562379">0</span><span class="op" id="3562380">;</span>&nbsp;<span class="ident" id="3562382"><a href="/path/filepath/symlink.go.html#3562161">path</a></span>&nbsp;<span class="op" id="3562387">!=</span>&nbsp;<span class="string" id="3562390">&#34;&#34;</span><span class="op" id="3562392">;</span>&nbsp;<span class="ident" id="3562394"><a href="/path/filepath/symlink.go.html#3562374">n</a></span><span class="op" id="3562395">++</span>&nbsp;<span class="op" id="3562398">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562402">if</span>&nbsp;<span class="ident" id="3562405"><a href="/path/filepath/symlink.go.html#3562374">n</a></span>&nbsp;<span class="op" id="3562407">&gt;</span>&nbsp;<span class="ident" id="3562409"><a href="/path/filepath/symlink.go.html#3562199">maxIter</a></span>&nbsp;<span class="op" id="3562417">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562422">return</span>&nbsp;<span class="string" id="3562429">&#34;&#34;</span><span class="op" id="3562431">,</span>&nbsp;<span class="ident" id="3562433"><a href="/path/filepath/symlink.go.html#3562098">errors</a></span><span class="op" id="3562439">.</span><span class="ident" id="3562440">New</span><span class="op" id="3562443">(</span><span class="string" id="3562444">&#34;EvalSymlinks:&nbsp;too&nbsp;many&nbsp;links&nbsp;in&nbsp;&#34;</span>&nbsp;<span class="op" id="3562479">+</span>&nbsp;<span class="ident" id="3562481"><a href="/path/filepath/symlink.go.html#3562214">originalPath</a></span><span class="op" id="3562493">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562497">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3562502">//&nbsp;find&nbsp;next&nbsp;path&nbsp;component,&nbsp;p</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562535">var</span>&nbsp;<span class="ident" id="3562539">i</span>&nbsp;<span class="op" id="3562541">=</span>&nbsp;<span class="op" id="3562543">-</span><span class="num" id="3562544">1</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562548">for</span>&nbsp;<span class="ident" id="3562552">j</span><span class="op" id="3562553">,</span>&nbsp;<span class="ident" id="3562555">c</span>&nbsp;<span class="op" id="3562557">:=</span>&nbsp;<span class="keyword" id="3562560">range</span>&nbsp;<span class="ident" id="3562566"><a href="/path/filepath/symlink.go.html#3562161">path</a></span>&nbsp;<span class="op" id="3562571">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562576">if</span>&nbsp;<span class="ident" id="3562579"><a href="/path/filepath/symlink.go.html#3562555">c</a></span>&nbsp;<span class="op" id="3562581">&lt;</span>&nbsp;<span class="ident" id="3562583"><a href="/path/filepath/symlink.go.html#3562122">utf8RuneSelf</a></span>&nbsp;<span class="op" id="3562596">&amp;&amp;</span>&nbsp;<span class="ident" id="3562599"><a href="/path/filepath/symlink.go.html#3562108">os</a></span><span class="op" id="3562601">.</span><span class="ident" id="3562602">IsPathSeparator</span><span class="op" id="3562617">(</span><span class="builtintype" id="3562618">uint8</span><span class="op" id="3562623">(</span><span class="ident" id="3562624"><a href="/path/filepath/symlink.go.html#3562555">c</a></span><span class="op" id="3562625">)</span><span class="op" id="3562626">)</span>&nbsp;<span class="op" id="3562628">{</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562634"><a href="/path/filepath/symlink.go.html#3562539">i</a></span>&nbsp;<span class="op" id="3562636">=</span>&nbsp;<span class="ident" id="3562638"><a href="/path/filepath/symlink.go.html#3562552">j</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562644">break</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562653">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562657">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562661">var</span>&nbsp;<span class="ident" id="3562665">p</span>&nbsp;<span class="builtintype" id="3562667">string</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562676">if</span>&nbsp;<span class="ident" id="3562679"><a href="/path/filepath/symlink.go.html#3562539">i</a></span>&nbsp;<span class="op" id="3562681">==</span>&nbsp;<span class="op" id="3562684">-</span><span class="num" id="3562685">1</span>&nbsp;<span class="op" id="3562687">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562692"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3562693">,</span>&nbsp;<span class="ident" id="3562695"><a href="/path/filepath/symlink.go.html#3562161">path</a></span>&nbsp;<span class="op" id="3562700">=</span>&nbsp;<span class="ident" id="3562702"><a href="/path/filepath/symlink.go.html#3562161">path</a></span><span class="op" id="3562706">,</span>&nbsp;<span class="string" id="3562708">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562713">}</span>&nbsp;<span class="keyword" id="3562715">else</span>&nbsp;<span class="op" id="3562720">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562725"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3562726">,</span>&nbsp;<span class="ident" id="3562728"><a href="/path/filepath/symlink.go.html#3562161">path</a></span>&nbsp;<span class="op" id="3562733">=</span>&nbsp;<span class="ident" id="3562735"><a href="/path/filepath/symlink.go.html#3562161">path</a></span><span class="op" id="3562739">[</span><span class="op" id="3562740">:</span><span class="ident" id="3562741"><a href="/path/filepath/symlink.go.html#3562539">i</a></span><span class="op" id="3562742">]</span><span class="op" id="3562743">,</span>&nbsp;<span class="ident" id="3562745"><a href="/path/filepath/symlink.go.html#3562161">path</a></span><span class="op" id="3562749">[</span><span class="ident" id="3562750"><a href="/path/filepath/symlink.go.html#3562539">i</a></span><span class="op" id="3562751">+</span><span class="num" id="3562752">1</span><span class="op" id="3562753">:</span><span class="op" id="3562754">]</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562758">}</span><br>
<span class="lineno">40</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562763">if</span>&nbsp;<span class="ident" id="3562766"><a href="/path/filepath/symlink.go.html#3562665">p</a></span>&nbsp;<span class="op" id="3562768">==</span>&nbsp;<span class="string" id="3562771">&#34;&#34;</span>&nbsp;<span class="op" id="3562774">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562779">if</span>&nbsp;<span class="ident" id="3562782"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3562783">.</span><span class="ident" id="3562784">Len</span><span class="op" id="3562787">(</span><span class="op" id="3562788">)</span>&nbsp;<span class="op" id="3562790">==</span>&nbsp;<span class="num" id="3562793">0</span>&nbsp;<span class="op" id="3562795">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3562801">//&nbsp;must&nbsp;be&nbsp;absolute&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562830"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3562831">.</span><span class="ident" id="3562832">WriteRune</span><span class="op" id="3562841">(</span><span class="ident" id="3562842"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3562851">)</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562856">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562861">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562872">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562877">fi</span><span class="op" id="3562879">,</span>&nbsp;<span class="ident" id="3562881">err</span>&nbsp;<span class="op" id="3562885">:=</span>&nbsp;<span class="ident" id="3562888"><a href="/path/filepath/symlink.go.html#3562108">os</a></span><span class="op" id="3562890">.</span><span class="ident" id="3562891">Lstat</span><span class="op" id="3562896">(</span><span class="ident" id="3562897"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3562898">.</span><span class="ident" id="3562899">String</span><span class="op" id="3562905">(</span><span class="op" id="3562906">)</span>&nbsp;<span class="op" id="3562908">+</span>&nbsp;<span class="ident" id="3562910"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3562911">)</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562915">if</span>&nbsp;<span class="ident" id="3562918"><a href="/path/filepath/symlink.go.html#3562881">err</a></span>&nbsp;<span class="op" id="3562922">!=</span>&nbsp;<span class="ident" id="3562925">nil</span>&nbsp;<span class="op" id="3562929">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562934">return</span>&nbsp;<span class="string" id="3562941">&#34;&#34;</span><span class="op" id="3562943">,</span>&nbsp;<span class="ident" id="3562945"><a href="/path/filepath/symlink.go.html#3562881">err</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3562951">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3562955">if</span>&nbsp;<span class="ident" id="3562958"><a href="/path/filepath/symlink.go.html#3562877">fi</a></span><span class="op" id="3562960">.</span><span class="ident" id="3562961">Mode</span><span class="op" id="3562965">(</span><span class="op" id="3562966">)</span><span class="op" id="3562967">&amp;</span><span class="ident" id="3562968"><a href="/path/filepath/symlink.go.html#3562108">os</a></span><span class="op" id="3562970">.</span><span class="ident" id="3562971">ModeSymlink</span>&nbsp;<span class="op" id="3562983">==</span>&nbsp;<span class="num" id="3562986">0</span>&nbsp;<span class="op" id="3562988">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3562993"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3562994">.</span><span class="ident" id="3562995">WriteString</span><span class="op" id="3563006">(</span><span class="ident" id="3563007"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3563008">)</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563013">if</span>&nbsp;<span class="ident" id="3563016"><a href="/path/filepath/symlink.go.html#3562161">path</a></span>&nbsp;<span class="op" id="3563021">!=</span>&nbsp;<span class="string" id="3563024">&#34;&#34;</span>&nbsp;<span class="op" id="3563027">||</span>&nbsp;<span class="op" id="3563030">(</span><span class="ident" id="3563031"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3563032">.</span><span class="ident" id="3563033">Len</span><span class="op" id="3563036">(</span><span class="op" id="3563037">)</span>&nbsp;<span class="op" id="3563039">==</span>&nbsp;<span class="num" id="3563042">2</span>&nbsp;<span class="op" id="3563044">&amp;&amp;</span>&nbsp;<span class="builtinfunc" id="3563047">len</span><span class="op" id="3563050">(</span><span class="ident" id="3563051"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3563052">)</span>&nbsp;<span class="op" id="3563054">==</span>&nbsp;<span class="num" id="3563057">2</span>&nbsp;<span class="op" id="3563059">&amp;&amp;</span>&nbsp;<span class="ident" id="3563062"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3563063">[</span><span class="num" id="3563064">1</span><span class="op" id="3563065">]</span>&nbsp;<span class="op" id="3563067">==</span>&nbsp;<span class="string" id="3563070">&#39;:&#39;</span><span class="op" id="3563073">)</span>&nbsp;<span class="op" id="3563075">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3563081"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3563082">.</span><span class="ident" id="3563083">WriteRune</span><span class="op" id="3563092">(</span><span class="ident" id="3563093"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3563102">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563107">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563112">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563123">}</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="3563128">//&nbsp;it&#39;s&nbsp;a&nbsp;symlink,&nbsp;put&nbsp;it&nbsp;at&nbsp;the&nbsp;front&nbsp;of&nbsp;path</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3563177">dest</span><span class="op" id="3563181">,</span>&nbsp;<span class="ident" id="3563183"><a href="/path/filepath/symlink.go.html#3562881">err</a></span>&nbsp;<span class="op" id="3563187">:=</span>&nbsp;<span class="ident" id="3563190"><a href="/path/filepath/symlink.go.html#3562108">os</a></span><span class="op" id="3563192">.</span><span class="ident" id="3563193">Readlink</span><span class="op" id="3563201">(</span><span class="ident" id="3563202"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3563203">.</span><span class="ident" id="3563204">String</span><span class="op" id="3563210">(</span><span class="op" id="3563211">)</span>&nbsp;<span class="op" id="3563213">+</span>&nbsp;<span class="ident" id="3563215"><a href="/path/filepath/symlink.go.html#3562665">p</a></span><span class="op" id="3563216">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563220">if</span>&nbsp;<span class="ident" id="3563223"><a href="/path/filepath/symlink.go.html#3562881">err</a></span>&nbsp;<span class="op" id="3563227">!=</span>&nbsp;<span class="ident" id="3563230">nil</span>&nbsp;<span class="op" id="3563234">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563239">return</span>&nbsp;<span class="string" id="3563246">&#34;&#34;</span><span class="op" id="3563248">,</span>&nbsp;<span class="ident" id="3563250"><a href="/path/filepath/symlink.go.html#3562881">err</a></span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563256">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563260">if</span>&nbsp;<span class="ident" id="3563263"><a href="/path/filepath/path_unix.go.html#3561335">IsAbs</a></span><span class="op" id="3563268">(</span><span class="ident" id="3563269"><a href="/path/filepath/symlink.go.html#3563177">dest</a></span><span class="op" id="3563273">)</span>&nbsp;<span class="op" id="3563275">||</span>&nbsp;<span class="ident" id="3563278"><a href="/path/filepath/symlink.go.html#3562108">os</a></span><span class="op" id="3563280">.</span><span class="ident" id="3563281">IsPathSeparator</span><span class="op" id="3563296">(</span><span class="ident" id="3563297"><a href="/path/filepath/symlink.go.html#3563177">dest</a></span><span class="op" id="3563301">[</span><span class="num" id="3563302">0</span><span class="op" id="3563303">]</span><span class="op" id="3563304">)</span>&nbsp;<span class="op" id="3563306">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3563311"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3563312">.</span><span class="ident" id="3563313">Reset</span><span class="op" id="3563318">(</span><span class="op" id="3563319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="3563327"><a href="/path/filepath/symlink.go.html#3562161">path</a></span>&nbsp;<span class="op" id="3563332">=</span>&nbsp;<span class="ident" id="3563334"><a href="/path/filepath/symlink.go.html#3563177">dest</a></span>&nbsp;<span class="op" id="3563339">+</span>&nbsp;<span class="builtintype" id="3563341">string</span><span class="op" id="3563347">(</span><span class="ident" id="3563348"><a href="/path/filepath/path.go.html#3549014">Separator</a></span><span class="op" id="3563357">)</span>&nbsp;<span class="op" id="3563359">+</span>&nbsp;<span class="ident" id="3563361"><a href="/path/filepath/symlink.go.html#3562161">path</a></span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="3563367">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="3563370">return</span>&nbsp;<span class="ident" id="3563377"><a href="/path/filepath/path.go.html#3550031">Clean</a></span><span class="op" id="3563382">(</span><span class="ident" id="3563383"><a href="/path/filepath/symlink.go.html#3562354">b</a></span><span class="op" id="3563384">.</span><span class="ident" id="3563385">String</span><span class="op" id="3563391">(</span><span class="op" id="3563392">)</span><span class="op" id="3563393">)</span><span class="op" id="3563394">,</span>&nbsp;<span class="ident" id="3563396">nil</span><br>
<span class="lineno"></span><span class="op" id="3563400">}</span>
</div>
</body>
</html>
