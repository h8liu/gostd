<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="code">
<span class="lineno">1</span><span class="keyword" id="5966541">package</span>&nbsp;<span class="ident" id="5966549">arch8</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5966556">//&nbsp;InstArch8&nbsp;dispatches&nbsp;and&nbsp;executes&nbsp;an&nbsp;arch8&nbsp;instruction.</span><br>
<span class="lineno"></span><span class="keyword" id="5966615">type</span>&nbsp;<span class="ident" id="5966620">instArch8</span>&nbsp;<span class="keyword" id="5966630">struct</span>&nbsp;<span class="op" id="5966637">{</span><br>
<span class="lineno">5</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966640">reg</span>&nbsp;<span class="ident" id="5966644"><a href="/lonnie.io/e8vm/arch8/inst_reg.go.html#5969485">instReg</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966653">imm</span>&nbsp;<span class="ident" id="5966657"><a href="/lonnie.io/e8vm/arch8/inst_imm.go.html#5967849">instImm</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966666">br</span>&nbsp;&nbsp;<span class="ident" id="5966670"><a href="/lonnie.io/e8vm/arch8/inst_br.go.html#5967210">instBr</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966678">sys</span>&nbsp;<span class="ident" id="5966682"><a href="/lonnie.io/e8vm/arch8/inst_sys.go.html#5971604">instSys</a></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966691">jmp</span>&nbsp;<span class="ident" id="5966695"><a href="/lonnie.io/e8vm/arch8/inst_jmp.go.html#5968987">instJmp</a></span><br>
<span class="lineno">10</span><span class="op" id="5966703">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="5966706">//&nbsp;I&nbsp;executes&nbsp;an&nbsp;arch8&nbsp;instructino</span><br>
<span class="lineno"></span><span class="keyword" id="5966741">func</span>&nbsp;<span class="op" id="5966746">(</span><span class="ident" id="5966747">i</span>&nbsp;<span class="op" id="5966749">*</span><span class="ident" id="5966750"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966620">instArch8</a></span><span class="op" id="5966759">)</span>&nbsp;<span class="ident" id="5966761">I</span><span class="op" id="5966762">(</span><span class="ident" id="5966763">cpu</span>&nbsp;<span class="op" id="5966767">*</span><span class="ident" id="5966768"><a href="/lonnie.io/e8vm/arch8/cpu.go.html#5961070">cpu</a></span><span class="op" id="5966771">,</span>&nbsp;<span class="ident" id="5966773">in</span>&nbsp;<span class="builtintype" id="5966776">uint32</span><span class="op" id="5966782">)</span>&nbsp;<span class="op" id="5966784">*</span><span class="ident" id="5966785"><a href="/lonnie.io/e8vm/arch8/exception.go.html#5965541">Excep</a></span>&nbsp;<span class="op" id="5966791">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966794">if</span>&nbsp;<span class="op" id="5966797">(</span><span class="ident" id="5966798"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span>&nbsp;<span class="op" id="5966801">&gt;&gt;</span>&nbsp;<span class="num" id="5966804">31</span><span class="op" id="5966806">)</span>&nbsp;<span class="op" id="5966808">==</span>&nbsp;<span class="num" id="5966811">0</span>&nbsp;<span class="op" id="5966813">{</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="5966817">op</span>&nbsp;<span class="op" id="5966820">:=</span>&nbsp;<span class="op" id="5966823">(</span><span class="ident" id="5966824"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span>&nbsp;<span class="op" id="5966827">&gt;&gt;</span>&nbsp;<span class="num" id="5966830">24</span><span class="op" id="5966832">)</span>&nbsp;<span class="op" id="5966834">&amp;</span>&nbsp;<span class="num" id="5966836">0xff</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966843">switch</span>&nbsp;<span class="op" id="5966850">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966854">case</span>&nbsp;<span class="ident" id="5966859"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966817">op</a></span>&nbsp;<span class="op" id="5966862">==</span>&nbsp;<span class="num" id="5966865">0</span><span class="op" id="5966866">:</span>&nbsp;<span class="comment" id="5966868">//&nbsp;op&nbsp;==&nbsp;0</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966882">return</span>&nbsp;<span class="ident" id="5966889"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966747">i</a></span><span class="op" id="5966890">.</span><span class="ident" id="5966891">reg</span><span class="op" id="5966894">.</span><span class="ident" id="5966895">I</span><span class="op" id="5966896">(</span><span class="ident" id="5966897"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966763">cpu</a></span><span class="op" id="5966900">,</span>&nbsp;<span class="ident" id="5966902"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span><span class="op" id="5966904">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966908">case</span>&nbsp;<span class="ident" id="5966913"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966817">op</a></span>&nbsp;<span class="op" id="5966916">&lt;</span>&nbsp;<span class="num" id="5966918">32</span><span class="op" id="5966920">:</span>&nbsp;<span class="comment" id="5966922">//&nbsp;op&nbsp;in&nbsp;(0,&nbsp;32)</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966942">return</span>&nbsp;<span class="ident" id="5966949"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966747">i</a></span><span class="op" id="5966950">.</span><span class="ident" id="5966951">imm</span><span class="op" id="5966954">.</span><span class="ident" id="5966955">I</span><span class="op" id="5966956">(</span><span class="ident" id="5966957"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966763">cpu</a></span><span class="op" id="5966960">,</span>&nbsp;<span class="ident" id="5966962"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span><span class="op" id="5966964">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5966968">case</span>&nbsp;<span class="ident" id="5966973"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966817">op</a></span>&nbsp;<span class="op" id="5966976">&lt;</span>&nbsp;<span class="num" id="5966978">64</span><span class="op" id="5966980">:</span>&nbsp;<span class="comment" id="5966982">//&nbsp;op&nbsp;in&nbsp;[32,&nbsp;64)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967003">return</span>&nbsp;<span class="ident" id="5967010"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966747">i</a></span><span class="op" id="5967011">.</span><span class="ident" id="5967012">br</span><span class="op" id="5967014">.</span><span class="ident" id="5967015">I</span><span class="op" id="5967016">(</span><span class="ident" id="5967017"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966763">cpu</a></span><span class="op" id="5967020">,</span>&nbsp;<span class="ident" id="5967022"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span><span class="op" id="5967024">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967028">case</span>&nbsp;<span class="ident" id="5967033"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966817">op</a></span>&nbsp;<span class="op" id="5967036">&lt;</span>&nbsp;<span class="num" id="5967038">128</span><span class="op" id="5967041">:</span>&nbsp;<span class="comment" id="5967043">//&nbsp;op&nbsp;in&nbsp;[64,&nbsp;128)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967065">return</span>&nbsp;<span class="ident" id="5967072"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966747">i</a></span><span class="op" id="5967073">.</span><span class="ident" id="5967074">sys</span><span class="op" id="5967077">.</span><span class="ident" id="5967078">I</span><span class="op" id="5967079">(</span><span class="ident" id="5967080"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966763">cpu</a></span><span class="op" id="5967083">,</span>&nbsp;<span class="ident" id="5967085"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span><span class="op" id="5967087">)</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967091">default</span><span class="op" id="5967098">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="builtinfunc" id="5967103">panic</span><span class="op" id="5967108">(</span><span class="string" id="5967109">&#34;bug&#34;</span><span class="op" id="5967114">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967118">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="5967121">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="5967125">return</span>&nbsp;<span class="ident" id="5967132"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966747">i</a></span><span class="op" id="5967133">.</span><span class="ident" id="5967134">jmp</span><span class="op" id="5967137">.</span><span class="ident" id="5967138">I</span><span class="op" id="5967139">(</span><span class="ident" id="5967140"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966763">cpu</a></span><span class="op" id="5967143">,</span>&nbsp;<span class="ident" id="5967145"><a href="/lonnie.io/e8vm/arch8/inst_all.go.html#5966773">in</a></span><span class="op" id="5967147">)</span><br>
<span class="lineno"></span><span class="op" id="5967149">}</span>
</div>
</body>
</html>
