<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net/http</h2>
<ul>
<li><a href="/gostd/net/http/client.go.html">client.go</a></li>
<li><a href="/gostd/net/http/client_test.go.html">client_test.go</a></li>
<li><a href="/gostd/net/http/cookie.go.html">cookie.go</a></li>
<li><a href="/gostd/net/http/cookie_test.go.html">cookie_test.go</a></li>
<li><a href="/gostd/net/http/doc.go.html">doc.go</a></li>
<li><a href="/gostd/net/http/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/http/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/net/http/filetransport.go.html">filetransport.go</a></li>
<li><a href="/gostd/net/http/filetransport_test.go.html">filetransport_test.go</a></li>
<li><a href="/gostd/net/http/fs.go.html">fs.go</a></li>
<li><a href="/gostd/net/http/fs_test.go.html">fs_test.go</a></li>
<li><a href="/gostd/net/http/header.go.html">header.go</a></li>
<li><a href="/gostd/net/http/header_test.go.html">header_test.go</a></li>
<li><a href="/gostd/net/http/jar.go.html">jar.go</a></li>
<li><a href="/gostd/net/http/lex.go.html">lex.go</a></li>
<li><a href="/gostd/net/http/lex_test.go.html">lex_test.go</a></li>
<li><a href="/gostd/net/http/main_test.go.html">main_test.go</a></li>
<li><a href="/gostd/net/http/npn_test.go.html">npn_test.go</a></li>
<li><a href="/gostd/net/http/proxy_test.go.html">proxy_test.go</a></li>
<li><a href="/gostd/net/http/range_test.go.html">range_test.go</a></li>
<li><a href="/gostd/net/http/readrequest_test.go.html">readrequest_test.go</a></li>
<li><a href="/gostd/net/http/request.go.html">request.go</a></li>
<li><a href="/gostd/net/http/request_test.go.html">request_test.go</a></li>
<li><a href="/gostd/net/http/requestwrite_test.go.html">requestwrite_test.go</a></li>
<li><a href="/gostd/net/http/response.go.html">response.go</a></li>
<li><a href="/gostd/net/http/response_test.go.html">response_test.go</a></li>
<li><a href="/gostd/net/http/responsewrite_test.go.html">responsewrite_test.go</a></li>
<li><a href="/gostd/net/http/serve_test.go.html">serve_test.go</a></li>
<li><a href="/gostd/net/http/server.go.html">server.go</a></li>
<li><a href="/gostd/net/http/sniff.go.html">sniff.go</a></li>
<li><a href="/gostd/net/http/sniff_test.go.html">sniff_test.go</a></li>
<li><a href="/gostd/net/http/status.go.html">status.go</a></li>
<li><a href="/gostd/net/http/transfer.go.html">transfer.go</a></li>
<li><a href="/gostd/net/http/transfer_test.go.html">transfer_test.go</a></li>
<li><a href="/gostd/net/http/transport.go.html">transport.go</a></li>
<li><a href="/gostd/net/http/transport_test.go.html">transport_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="6565228">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="6565283">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="6565337">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="6565388">package</span>&nbsp;<span class="ident" id="6565396">http</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6565402">import</span>&nbsp;<span class="op" id="6565409">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="6565412">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="6565422">)</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="6565425">var</span>&nbsp;<span class="ident" id="6565429">ParseRangeTests</span>&nbsp;<span class="op" id="6565445">=</span>&nbsp;<span class="op" id="6565447">[</span><span class="op" id="6565448">]</span><span class="keyword" id="6565449">struct</span>&nbsp;<span class="op" id="6565456">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6565459">s</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="6565466">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6565474">length</span>&nbsp;<span class="ident" id="6565481">int64</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6565488">r</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="6565495">[</span><span class="op" id="6565496">]</span><span class="ident" id="6565497">httpRange</span><br>
<span class="lineno">15</span><span class="op" id="6565507">}</span><span class="op" id="6565508">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565511">{</span><span class="string" id="6565512">&#34;&#34;</span><span class="op" id="6565514">,</span>&nbsp;<span class="num" id="6565516">0</span><span class="op" id="6565517">,</span>&nbsp;<span class="ident" id="6565519">nil</span><span class="op" id="6565522">}</span><span class="op" id="6565523">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565526">{</span><span class="string" id="6565527">&#34;&#34;</span><span class="op" id="6565529">,</span>&nbsp;<span class="num" id="6565531">1000</span><span class="op" id="6565535">,</span>&nbsp;<span class="ident" id="6565537">nil</span><span class="op" id="6565540">}</span><span class="op" id="6565541">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565544">{</span><span class="string" id="6565545">&#34;foo&#34;</span><span class="op" id="6565550">,</span>&nbsp;<span class="num" id="6565552">0</span><span class="op" id="6565553">,</span>&nbsp;<span class="ident" id="6565555">nil</span><span class="op" id="6565558">}</span><span class="op" id="6565559">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565562">{</span><span class="string" id="6565563">&#34;bytes=&#34;</span><span class="op" id="6565571">,</span>&nbsp;<span class="num" id="6565573">0</span><span class="op" id="6565574">,</span>&nbsp;<span class="ident" id="6565576">nil</span><span class="op" id="6565579">}</span><span class="op" id="6565580">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565583">{</span><span class="string" id="6565584">&#34;bytes=7&#34;</span><span class="op" id="6565593">,</span>&nbsp;<span class="num" id="6565595">10</span><span class="op" id="6565597">,</span>&nbsp;<span class="ident" id="6565599">nil</span><span class="op" id="6565602">}</span><span class="op" id="6565603">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565606">{</span><span class="string" id="6565607">&#34;bytes=&nbsp;7&nbsp;&#34;</span><span class="op" id="6565618">,</span>&nbsp;<span class="num" id="6565620">10</span><span class="op" id="6565622">,</span>&nbsp;<span class="ident" id="6565624">nil</span><span class="op" id="6565627">}</span><span class="op" id="6565628">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565631">{</span><span class="string" id="6565632">&#34;bytes=1-&#34;</span><span class="op" id="6565642">,</span>&nbsp;<span class="num" id="6565644">0</span><span class="op" id="6565645">,</span>&nbsp;<span class="ident" id="6565647">nil</span><span class="op" id="6565650">}</span><span class="op" id="6565651">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565654">{</span><span class="string" id="6565655">&#34;bytes=5-4&#34;</span><span class="op" id="6565666">,</span>&nbsp;<span class="num" id="6565668">10</span><span class="op" id="6565670">,</span>&nbsp;<span class="ident" id="6565672">nil</span><span class="op" id="6565675">}</span><span class="op" id="6565676">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565679">{</span><span class="string" id="6565680">&#34;bytes=0-2,5-4&#34;</span><span class="op" id="6565695">,</span>&nbsp;<span class="num" id="6565697">10</span><span class="op" id="6565699">,</span>&nbsp;<span class="ident" id="6565701">nil</span><span class="op" id="6565704">}</span><span class="op" id="6565705">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565708">{</span><span class="string" id="6565709">&#34;bytes=2-5,4-3&#34;</span><span class="op" id="6565724">,</span>&nbsp;<span class="num" id="6565726">10</span><span class="op" id="6565728">,</span>&nbsp;<span class="ident" id="6565730">nil</span><span class="op" id="6565733">}</span><span class="op" id="6565734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565737">{</span><span class="string" id="6565738">&#34;bytes=--5,4--3&#34;</span><span class="op" id="6565754">,</span>&nbsp;<span class="num" id="6565756">10</span><span class="op" id="6565758">,</span>&nbsp;<span class="ident" id="6565760">nil</span><span class="op" id="6565763">}</span><span class="op" id="6565764">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565767">{</span><span class="string" id="6565768">&#34;bytes=A-&#34;</span><span class="op" id="6565778">,</span>&nbsp;<span class="num" id="6565780">10</span><span class="op" id="6565782">,</span>&nbsp;<span class="ident" id="6565784">nil</span><span class="op" id="6565787">}</span><span class="op" id="6565788">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565791">{</span><span class="string" id="6565792">&#34;bytes=A-&nbsp;&#34;</span><span class="op" id="6565803">,</span>&nbsp;<span class="num" id="6565805">10</span><span class="op" id="6565807">,</span>&nbsp;<span class="ident" id="6565809">nil</span><span class="op" id="6565812">}</span><span class="op" id="6565813">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565816">{</span><span class="string" id="6565817">&#34;bytes=A-Z&#34;</span><span class="op" id="6565828">,</span>&nbsp;<span class="num" id="6565830">10</span><span class="op" id="6565832">,</span>&nbsp;<span class="ident" id="6565834">nil</span><span class="op" id="6565837">}</span><span class="op" id="6565838">,</span><br>
<span class="lineno">30</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565841">{</span><span class="string" id="6565842">&#34;bytes=&nbsp;-Z&#34;</span><span class="op" id="6565853">,</span>&nbsp;<span class="num" id="6565855">10</span><span class="op" id="6565857">,</span>&nbsp;<span class="ident" id="6565859">nil</span><span class="op" id="6565862">}</span><span class="op" id="6565863">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565866">{</span><span class="string" id="6565867">&#34;bytes=5-Z&#34;</span><span class="op" id="6565878">,</span>&nbsp;<span class="num" id="6565880">10</span><span class="op" id="6565882">,</span>&nbsp;<span class="ident" id="6565884">nil</span><span class="op" id="6565887">}</span><span class="op" id="6565888">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565891">{</span><span class="string" id="6565892">&#34;bytes=Ran-dom,&nbsp;garbage&#34;</span><span class="op" id="6565916">,</span>&nbsp;<span class="num" id="6565918">10</span><span class="op" id="6565920">,</span>&nbsp;<span class="ident" id="6565922">nil</span><span class="op" id="6565925">}</span><span class="op" id="6565926">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565929">{</span><span class="string" id="6565930">&#34;bytes=0x01-0x02&#34;</span><span class="op" id="6565947">,</span>&nbsp;<span class="num" id="6565949">10</span><span class="op" id="6565951">,</span>&nbsp;<span class="ident" id="6565953">nil</span><span class="op" id="6565956">}</span><span class="op" id="6565957">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565960">{</span><span class="string" id="6565961">&#34;bytes=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6565978">,</span>&nbsp;<span class="num" id="6565980">10</span><span class="op" id="6565982">,</span>&nbsp;<span class="ident" id="6565984">nil</span><span class="op" id="6565987">}</span><span class="op" id="6565988">,</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6565991">{</span><span class="string" id="6565992">&#34;bytes=&nbsp;,&nbsp;,&nbsp;,&nbsp;&nbsp;&nbsp;&#34;</span><span class="op" id="6566009">,</span>&nbsp;<span class="num" id="6566011">10</span><span class="op" id="6566013">,</span>&nbsp;<span class="ident" id="6566015">nil</span><span class="op" id="6566018">}</span><span class="op" id="6566019">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566023">{</span><span class="string" id="6566024">&#34;bytes=0-9&#34;</span><span class="op" id="6566035">,</span>&nbsp;<span class="num" id="6566037">10</span><span class="op" id="6566039">,</span>&nbsp;<span class="op" id="6566041">[</span><span class="op" id="6566042">]</span><span class="ident" id="6566043">httpRange</span><span class="op" id="6566052">{</span><span class="op" id="6566053">{</span><span class="num" id="6566054">0</span><span class="op" id="6566055">,</span>&nbsp;<span class="num" id="6566057">10</span><span class="op" id="6566059">}</span><span class="op" id="6566060">}</span><span class="op" id="6566061">}</span><span class="op" id="6566062">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566065">{</span><span class="string" id="6566066">&#34;bytes=0-&#34;</span><span class="op" id="6566076">,</span>&nbsp;<span class="num" id="6566078">10</span><span class="op" id="6566080">,</span>&nbsp;<span class="op" id="6566082">[</span><span class="op" id="6566083">]</span><span class="ident" id="6566084">httpRange</span><span class="op" id="6566093">{</span><span class="op" id="6566094">{</span><span class="num" id="6566095">0</span><span class="op" id="6566096">,</span>&nbsp;<span class="num" id="6566098">10</span><span class="op" id="6566100">}</span><span class="op" id="6566101">}</span><span class="op" id="6566102">}</span><span class="op" id="6566103">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566106">{</span><span class="string" id="6566107">&#34;bytes=5-&#34;</span><span class="op" id="6566117">,</span>&nbsp;<span class="num" id="6566119">10</span><span class="op" id="6566121">,</span>&nbsp;<span class="op" id="6566123">[</span><span class="op" id="6566124">]</span><span class="ident" id="6566125">httpRange</span><span class="op" id="6566134">{</span><span class="op" id="6566135">{</span><span class="num" id="6566136">5</span><span class="op" id="6566137">,</span>&nbsp;<span class="num" id="6566139">5</span><span class="op" id="6566140">}</span><span class="op" id="6566141">}</span><span class="op" id="6566142">}</span><span class="op" id="6566143">,</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566146">{</span><span class="string" id="6566147">&#34;bytes=0-20&#34;</span><span class="op" id="6566159">,</span>&nbsp;<span class="num" id="6566161">10</span><span class="op" id="6566163">,</span>&nbsp;<span class="op" id="6566165">[</span><span class="op" id="6566166">]</span><span class="ident" id="6566167">httpRange</span><span class="op" id="6566176">{</span><span class="op" id="6566177">{</span><span class="num" id="6566178">0</span><span class="op" id="6566179">,</span>&nbsp;<span class="num" id="6566181">10</span><span class="op" id="6566183">}</span><span class="op" id="6566184">}</span><span class="op" id="6566185">}</span><span class="op" id="6566186">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566189">{</span><span class="string" id="6566190">&#34;bytes=15-,0-5&#34;</span><span class="op" id="6566205">,</span>&nbsp;<span class="num" id="6566207">10</span><span class="op" id="6566209">,</span>&nbsp;<span class="ident" id="6566211">nil</span><span class="op" id="6566214">}</span><span class="op" id="6566215">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566218">{</span><span class="string" id="6566219">&#34;bytes=1-2,5-&#34;</span><span class="op" id="6566233">,</span>&nbsp;<span class="num" id="6566235">10</span><span class="op" id="6566237">,</span>&nbsp;<span class="op" id="6566239">[</span><span class="op" id="6566240">]</span><span class="ident" id="6566241">httpRange</span><span class="op" id="6566250">{</span><span class="op" id="6566251">{</span><span class="num" id="6566252">1</span><span class="op" id="6566253">,</span>&nbsp;<span class="num" id="6566255">2</span><span class="op" id="6566256">}</span><span class="op" id="6566257">,</span>&nbsp;<span class="op" id="6566259">{</span><span class="num" id="6566260">5</span><span class="op" id="6566261">,</span>&nbsp;<span class="num" id="6566263">5</span><span class="op" id="6566264">}</span><span class="op" id="6566265">}</span><span class="op" id="6566266">}</span><span class="op" id="6566267">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566270">{</span><span class="string" id="6566271">&#34;bytes=-2&nbsp;,&nbsp;7-&#34;</span><span class="op" id="6566286">,</span>&nbsp;<span class="num" id="6566288">11</span><span class="op" id="6566290">,</span>&nbsp;<span class="op" id="6566292">[</span><span class="op" id="6566293">]</span><span class="ident" id="6566294">httpRange</span><span class="op" id="6566303">{</span><span class="op" id="6566304">{</span><span class="num" id="6566305">9</span><span class="op" id="6566306">,</span>&nbsp;<span class="num" id="6566308">2</span><span class="op" id="6566309">}</span><span class="op" id="6566310">,</span>&nbsp;<span class="op" id="6566312">{</span><span class="num" id="6566313">7</span><span class="op" id="6566314">,</span>&nbsp;<span class="num" id="6566316">4</span><span class="op" id="6566317">}</span><span class="op" id="6566318">}</span><span class="op" id="6566319">}</span><span class="op" id="6566320">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566323">{</span><span class="string" id="6566324">&#34;bytes=0-0&nbsp;,2-2,&nbsp;7-&#34;</span><span class="op" id="6566344">,</span>&nbsp;<span class="num" id="6566346">11</span><span class="op" id="6566348">,</span>&nbsp;<span class="op" id="6566350">[</span><span class="op" id="6566351">]</span><span class="ident" id="6566352">httpRange</span><span class="op" id="6566361">{</span><span class="op" id="6566362">{</span><span class="num" id="6566363">0</span><span class="op" id="6566364">,</span>&nbsp;<span class="num" id="6566366">1</span><span class="op" id="6566367">}</span><span class="op" id="6566368">,</span>&nbsp;<span class="op" id="6566370">{</span><span class="num" id="6566371">2</span><span class="op" id="6566372">,</span>&nbsp;<span class="num" id="6566374">1</span><span class="op" id="6566375">}</span><span class="op" id="6566376">,</span>&nbsp;<span class="op" id="6566378">{</span><span class="num" id="6566379">7</span><span class="op" id="6566380">,</span>&nbsp;<span class="num" id="6566382">4</span><span class="op" id="6566383">}</span><span class="op" id="6566384">}</span><span class="op" id="6566385">}</span><span class="op" id="6566386">,</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566389">{</span><span class="string" id="6566390">&#34;bytes=-5&#34;</span><span class="op" id="6566400">,</span>&nbsp;<span class="num" id="6566402">10</span><span class="op" id="6566404">,</span>&nbsp;<span class="op" id="6566406">[</span><span class="op" id="6566407">]</span><span class="ident" id="6566408">httpRange</span><span class="op" id="6566417">{</span><span class="op" id="6566418">{</span><span class="num" id="6566419">5</span><span class="op" id="6566420">,</span>&nbsp;<span class="num" id="6566422">5</span><span class="op" id="6566423">}</span><span class="op" id="6566424">}</span><span class="op" id="6566425">}</span><span class="op" id="6566426">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566429">{</span><span class="string" id="6566430">&#34;bytes=-15&#34;</span><span class="op" id="6566441">,</span>&nbsp;<span class="num" id="6566443">10</span><span class="op" id="6566445">,</span>&nbsp;<span class="op" id="6566447">[</span><span class="op" id="6566448">]</span><span class="ident" id="6566449">httpRange</span><span class="op" id="6566458">{</span><span class="op" id="6566459">{</span><span class="num" id="6566460">0</span><span class="op" id="6566461">,</span>&nbsp;<span class="num" id="6566463">10</span><span class="op" id="6566465">}</span><span class="op" id="6566466">}</span><span class="op" id="6566467">}</span><span class="op" id="6566468">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566471">{</span><span class="string" id="6566472">&#34;bytes=0-499&#34;</span><span class="op" id="6566485">,</span>&nbsp;<span class="num" id="6566487">10000</span><span class="op" id="6566492">,</span>&nbsp;<span class="op" id="6566494">[</span><span class="op" id="6566495">]</span><span class="ident" id="6566496">httpRange</span><span class="op" id="6566505">{</span><span class="op" id="6566506">{</span><span class="num" id="6566507">0</span><span class="op" id="6566508">,</span>&nbsp;<span class="num" id="6566510">500</span><span class="op" id="6566513">}</span><span class="op" id="6566514">}</span><span class="op" id="6566515">}</span><span class="op" id="6566516">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566519">{</span><span class="string" id="6566520">&#34;bytes=500-999&#34;</span><span class="op" id="6566535">,</span>&nbsp;<span class="num" id="6566537">10000</span><span class="op" id="6566542">,</span>&nbsp;<span class="op" id="6566544">[</span><span class="op" id="6566545">]</span><span class="ident" id="6566546">httpRange</span><span class="op" id="6566555">{</span><span class="op" id="6566556">{</span><span class="num" id="6566557">500</span><span class="op" id="6566560">,</span>&nbsp;<span class="num" id="6566562">500</span><span class="op" id="6566565">}</span><span class="op" id="6566566">}</span><span class="op" id="6566567">}</span><span class="op" id="6566568">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566571">{</span><span class="string" id="6566572">&#34;bytes=-500&#34;</span><span class="op" id="6566584">,</span>&nbsp;<span class="num" id="6566586">10000</span><span class="op" id="6566591">,</span>&nbsp;<span class="op" id="6566593">[</span><span class="op" id="6566594">]</span><span class="ident" id="6566595">httpRange</span><span class="op" id="6566604">{</span><span class="op" id="6566605">{</span><span class="num" id="6566606">9500</span><span class="op" id="6566610">,</span>&nbsp;<span class="num" id="6566612">500</span><span class="op" id="6566615">}</span><span class="op" id="6566616">}</span><span class="op" id="6566617">}</span><span class="op" id="6566618">,</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566621">{</span><span class="string" id="6566622">&#34;bytes=9500-&#34;</span><span class="op" id="6566635">,</span>&nbsp;<span class="num" id="6566637">10000</span><span class="op" id="6566642">,</span>&nbsp;<span class="op" id="6566644">[</span><span class="op" id="6566645">]</span><span class="ident" id="6566646">httpRange</span><span class="op" id="6566655">{</span><span class="op" id="6566656">{</span><span class="num" id="6566657">9500</span><span class="op" id="6566661">,</span>&nbsp;<span class="num" id="6566663">500</span><span class="op" id="6566666">}</span><span class="op" id="6566667">}</span><span class="op" id="6566668">}</span><span class="op" id="6566669">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566672">{</span><span class="string" id="6566673">&#34;bytes=0-0,-1&#34;</span><span class="op" id="6566687">,</span>&nbsp;<span class="num" id="6566689">10000</span><span class="op" id="6566694">,</span>&nbsp;<span class="op" id="6566696">[</span><span class="op" id="6566697">]</span><span class="ident" id="6566698">httpRange</span><span class="op" id="6566707">{</span><span class="op" id="6566708">{</span><span class="num" id="6566709">0</span><span class="op" id="6566710">,</span>&nbsp;<span class="num" id="6566712">1</span><span class="op" id="6566713">}</span><span class="op" id="6566714">,</span>&nbsp;<span class="op" id="6566716">{</span><span class="num" id="6566717">9999</span><span class="op" id="6566721">,</span>&nbsp;<span class="num" id="6566723">1</span><span class="op" id="6566724">}</span><span class="op" id="6566725">}</span><span class="op" id="6566726">}</span><span class="op" id="6566727">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566730">{</span><span class="string" id="6566731">&#34;bytes=500-600,601-999&#34;</span><span class="op" id="6566754">,</span>&nbsp;<span class="num" id="6566756">10000</span><span class="op" id="6566761">,</span>&nbsp;<span class="op" id="6566763">[</span><span class="op" id="6566764">]</span><span class="ident" id="6566765">httpRange</span><span class="op" id="6566774">{</span><span class="op" id="6566775">{</span><span class="num" id="6566776">500</span><span class="op" id="6566779">,</span>&nbsp;<span class="num" id="6566781">101</span><span class="op" id="6566784">}</span><span class="op" id="6566785">,</span>&nbsp;<span class="op" id="6566787">{</span><span class="num" id="6566788">601</span><span class="op" id="6566791">,</span>&nbsp;<span class="num" id="6566793">399</span><span class="op" id="6566796">}</span><span class="op" id="6566797">}</span><span class="op" id="6566798">}</span><span class="op" id="6566799">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566802">{</span><span class="string" id="6566803">&#34;bytes=500-700,601-999&#34;</span><span class="op" id="6566826">,</span>&nbsp;<span class="num" id="6566828">10000</span><span class="op" id="6566833">,</span>&nbsp;<span class="op" id="6566835">[</span><span class="op" id="6566836">]</span><span class="ident" id="6566837">httpRange</span><span class="op" id="6566846">{</span><span class="op" id="6566847">{</span><span class="num" id="6566848">500</span><span class="op" id="6566851">,</span>&nbsp;<span class="num" id="6566853">201</span><span class="op" id="6566856">}</span><span class="op" id="6566857">,</span>&nbsp;<span class="op" id="6566859">{</span><span class="num" id="6566860">601</span><span class="op" id="6566863">,</span>&nbsp;<span class="num" id="6566865">399</span><span class="op" id="6566868">}</span><span class="op" id="6566869">}</span><span class="op" id="6566870">}</span><span class="op" id="6566871">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="6566875">//&nbsp;Match&nbsp;Apache&nbsp;laxity:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6566900">{</span><span class="string" id="6566901">&#34;bytes=&nbsp;&nbsp;&nbsp;1&nbsp;-2&nbsp;&nbsp;&nbsp;,&nbsp;&nbsp;4-&nbsp;5,&nbsp;7&nbsp;-&nbsp;8&nbsp;,&nbsp;,,&#34;</span><span class="op" id="6566938">,</span>&nbsp;<span class="num" id="6566940">11</span><span class="op" id="6566942">,</span>&nbsp;<span class="op" id="6566944">[</span><span class="op" id="6566945">]</span><span class="ident" id="6566946">httpRange</span><span class="op" id="6566955">{</span><span class="op" id="6566956">{</span><span class="num" id="6566957">1</span><span class="op" id="6566958">,</span>&nbsp;<span class="num" id="6566960">2</span><span class="op" id="6566961">}</span><span class="op" id="6566962">,</span>&nbsp;<span class="op" id="6566964">{</span><span class="num" id="6566965">4</span><span class="op" id="6566966">,</span>&nbsp;<span class="num" id="6566968">2</span><span class="op" id="6566969">}</span><span class="op" id="6566970">,</span>&nbsp;<span class="op" id="6566972">{</span><span class="num" id="6566973">7</span><span class="op" id="6566974">,</span>&nbsp;<span class="num" id="6566976">2</span><span class="op" id="6566977">}</span><span class="op" id="6566978">}</span><span class="op" id="6566979">}</span><span class="op" id="6566980">,</span><br>
<span class="lineno"></span><span class="op" id="6566982">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="6566985">func</span>&nbsp;<span class="ident" id="6566990">TestParseRange</span><span class="op" id="6567004">(</span><span class="ident" id="6567005">t</span>&nbsp;<span class="op" id="6567007">*</span><span class="ident" id="6567008">testing</span><span class="op" id="6567015">.</span><span class="ident" id="6567016">T</span><span class="op" id="6567017">)</span>&nbsp;<span class="op" id="6567019">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567022">for</span>&nbsp;<span class="ident" id="6567026">_</span><span class="op" id="6567027">,</span>&nbsp;<span class="ident" id="6567029">test</span>&nbsp;<span class="op" id="6567034">:=</span>&nbsp;<span class="keyword" id="6567037">range</span>&nbsp;<span class="ident" id="6567043">ParseRangeTests</span>&nbsp;<span class="op" id="6567059">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6567063">r</span>&nbsp;<span class="op" id="6567065">:=</span>&nbsp;<span class="ident" id="6567068">test</span><span class="op" id="6567072">.</span><span class="ident" id="6567073">r</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6567077">ranges</span><span class="op" id="6567083">,</span>&nbsp;<span class="ident" id="6567085">err</span>&nbsp;<span class="op" id="6567089">:=</span>&nbsp;<span class="ident" id="6567092">parseRange</span><span class="op" id="6567102">(</span><span class="ident" id="6567103">test</span><span class="op" id="6567107">.</span><span class="ident" id="6567108">s</span><span class="op" id="6567109">,</span>&nbsp;<span class="ident" id="6567111">test</span><span class="op" id="6567115">.</span><span class="ident" id="6567116">length</span><span class="op" id="6567122">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567126">if</span>&nbsp;<span class="ident" id="6567129">err</span>&nbsp;<span class="op" id="6567133">!=</span>&nbsp;<span class="ident" id="6567136">nil</span>&nbsp;<span class="op" id="6567140">&amp;&amp;</span>&nbsp;<span class="ident" id="6567143">r</span>&nbsp;<span class="op" id="6567145">!=</span>&nbsp;<span class="ident" id="6567148">nil</span>&nbsp;<span class="op" id="6567152">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6567157">t</span><span class="op" id="6567158">.</span><span class="ident" id="6567159">Errorf</span><span class="op" id="6567165">(</span><span class="string" id="6567166">&#34;parseRange(%q)&nbsp;returned&nbsp;error&nbsp;%q&#34;</span><span class="op" id="6567200">,</span>&nbsp;<span class="ident" id="6567202">test</span><span class="op" id="6567206">.</span><span class="ident" id="6567207">s</span><span class="op" id="6567208">,</span>&nbsp;<span class="ident" id="6567210">err</span><span class="op" id="6567213">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6567217">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567221">if</span>&nbsp;<span class="builtinfunc" id="6567224">len</span><span class="op" id="6567227">(</span><span class="ident" id="6567228">ranges</span><span class="op" id="6567234">)</span>&nbsp;<span class="op" id="6567236">!=</span>&nbsp;<span class="builtinfunc" id="6567239">len</span><span class="op" id="6567242">(</span><span class="ident" id="6567243">r</span><span class="op" id="6567244">)</span>&nbsp;<span class="op" id="6567246">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6567251">t</span><span class="op" id="6567252">.</span><span class="ident" id="6567253">Errorf</span><span class="op" id="6567259">(</span><span class="string" id="6567260">&#34;len(parseRange(%q))&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6567295">,</span>&nbsp;<span class="ident" id="6567297">test</span><span class="op" id="6567301">.</span><span class="ident" id="6567302">s</span><span class="op" id="6567303">,</span>&nbsp;<span class="builtinfunc" id="6567305">len</span><span class="op" id="6567308">(</span><span class="ident" id="6567309">ranges</span><span class="op" id="6567315">)</span><span class="op" id="6567316">,</span>&nbsp;<span class="builtinfunc" id="6567318">len</span><span class="op" id="6567321">(</span><span class="ident" id="6567322">r</span><span class="op" id="6567323">)</span><span class="op" id="6567324">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567329">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6567340">}</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567344">for</span>&nbsp;<span class="ident" id="6567348">i</span>&nbsp;<span class="op" id="6567350">:=</span>&nbsp;<span class="keyword" id="6567353">range</span>&nbsp;<span class="ident" id="6567359">r</span>&nbsp;<span class="op" id="6567361">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567366">if</span>&nbsp;<span class="ident" id="6567369">ranges</span><span class="op" id="6567375">[</span><span class="ident" id="6567376">i</span><span class="op" id="6567377">]</span><span class="op" id="6567378">.</span><span class="ident" id="6567379">start</span>&nbsp;<span class="op" id="6567385">!=</span>&nbsp;<span class="ident" id="6567388">r</span><span class="op" id="6567389">[</span><span class="ident" id="6567390">i</span><span class="op" id="6567391">]</span><span class="op" id="6567392">.</span><span class="ident" id="6567393">start</span>&nbsp;<span class="op" id="6567399">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6567405">t</span><span class="op" id="6567406">.</span><span class="ident" id="6567407">Errorf</span><span class="op" id="6567413">(</span><span class="string" id="6567414">&#34;parseRange(%q)[%d].start&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6567454">,</span>&nbsp;<span class="ident" id="6567456">test</span><span class="op" id="6567460">.</span><span class="ident" id="6567461">s</span><span class="op" id="6567462">,</span>&nbsp;<span class="ident" id="6567464">i</span><span class="op" id="6567465">,</span>&nbsp;<span class="ident" id="6567467">ranges</span><span class="op" id="6567473">[</span><span class="ident" id="6567474">i</span><span class="op" id="6567475">]</span><span class="op" id="6567476">.</span><span class="ident" id="6567477">start</span><span class="op" id="6567482">,</span>&nbsp;<span class="ident" id="6567484">r</span><span class="op" id="6567485">[</span><span class="ident" id="6567486">i</span><span class="op" id="6567487">]</span><span class="op" id="6567488">.</span><span class="ident" id="6567489">start</span><span class="op" id="6567494">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6567499">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="6567504">if</span>&nbsp;<span class="ident" id="6567507">ranges</span><span class="op" id="6567513">[</span><span class="ident" id="6567514">i</span><span class="op" id="6567515">]</span><span class="op" id="6567516">.</span><span class="ident" id="6567517">length</span>&nbsp;<span class="op" id="6567524">!=</span>&nbsp;<span class="ident" id="6567527">r</span><span class="op" id="6567528">[</span><span class="ident" id="6567529">i</span><span class="op" id="6567530">]</span><span class="op" id="6567531">.</span><span class="ident" id="6567532">length</span>&nbsp;<span class="op" id="6567539">{</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="6567545">t</span><span class="op" id="6567546">.</span><span class="ident" id="6567547">Errorf</span><span class="op" id="6567553">(</span><span class="string" id="6567554">&#34;parseRange(%q)[%d].length&nbsp;=&nbsp;%d,&nbsp;want&nbsp;%d&#34;</span><span class="op" id="6567595">,</span>&nbsp;<span class="ident" id="6567597">test</span><span class="op" id="6567601">.</span><span class="ident" id="6567602">s</span><span class="op" id="6567603">,</span>&nbsp;<span class="ident" id="6567605">i</span><span class="op" id="6567606">,</span>&nbsp;<span class="ident" id="6567608">ranges</span><span class="op" id="6567614">[</span><span class="ident" id="6567615">i</span><span class="op" id="6567616">]</span><span class="op" id="6567617">.</span><span class="ident" id="6567618">length</span><span class="op" id="6567624">,</span>&nbsp;<span class="ident" id="6567626">r</span><span class="op" id="6567627">[</span><span class="ident" id="6567628">i</span><span class="op" id="6567629">]</span><span class="op" id="6567630">.</span><span class="ident" id="6567631">length</span><span class="op" id="6567637">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6567642">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6567646">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="6567649">}</span><br>
<span class="lineno"></span><span class="op" id="6567651">}</span>
</div>
</body>
</html>
