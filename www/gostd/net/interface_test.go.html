<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8236340">//&nbsp;Copyright&nbsp;2011&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8236396">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8236450">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8236501">package</span>&nbsp;<span class="ident" id="8236509">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8236514">import</span>&nbsp;<span class="op" id="8236521">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8236524">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8236535">&#34;testing&#34;</span><br>
<span class="lineno">10</span><span class="op" id="8236545">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8236548">//&nbsp;loopbackInterface&nbsp;returns&nbsp;an&nbsp;available&nbsp;logical&nbsp;network&nbsp;interface</span><br>
<span class="lineno"></span><span class="comment" id="8236616">//&nbsp;for&nbsp;loopback&nbsp;tests.&nbsp;&nbsp;It&nbsp;returns&nbsp;nil&nbsp;if&nbsp;no&nbsp;suitable&nbsp;interface&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="8236683">//&nbsp;found.</span><br>
<span class="lineno">15</span><span class="keyword" id="8236693">func</span>&nbsp;<span class="ident" id="8236698">loopbackInterface</span><span class="op" id="8236715">(</span><span class="op" id="8236716">)</span>&nbsp;<span class="op" id="8236718">*</span><span class="ident" id="8236719">Interface</span>&nbsp;<span class="op" id="8236729">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8236732">ift</span><span class="op" id="8236735">,</span>&nbsp;<span class="ident" id="8236737">err</span>&nbsp;<span class="op" id="8236741">:=</span>&nbsp;<span class="ident" id="8236744">Interfaces</span><span class="op" id="8236754">(</span><span class="op" id="8236755">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236758">if</span>&nbsp;<span class="ident" id="8236761">err</span>&nbsp;<span class="op" id="8236765">!=</span>&nbsp;<span class="ident" id="8236768">nil</span>&nbsp;<span class="op" id="8236772">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236776">return</span>&nbsp;<span class="ident" id="8236783">nil</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236788">}</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236791">for</span>&nbsp;<span class="ident" id="8236795">_</span><span class="op" id="8236796">,</span>&nbsp;<span class="ident" id="8236798">ifi</span>&nbsp;<span class="op" id="8236802">:=</span>&nbsp;<span class="keyword" id="8236805">range</span>&nbsp;<span class="ident" id="8236811">ift</span>&nbsp;<span class="op" id="8236815">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236819">if</span>&nbsp;<span class="ident" id="8236822">ifi</span><span class="op" id="8236825">.</span><span class="ident" id="8236826">Flags</span><span class="op" id="8236831">&amp;</span><span class="ident" id="8236832">FlagLoopback</span>&nbsp;<span class="op" id="8236845">!=</span>&nbsp;<span class="num" id="8236848">0</span>&nbsp;<span class="op" id="8236850">&amp;&amp;</span>&nbsp;<span class="ident" id="8236853">ifi</span><span class="op" id="8236856">.</span><span class="ident" id="8236857">Flags</span><span class="op" id="8236862">&amp;</span><span class="ident" id="8236863">FlagUp</span>&nbsp;<span class="op" id="8236870">!=</span>&nbsp;<span class="num" id="8236873">0</span>&nbsp;<span class="op" id="8236875">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236880">return</span>&nbsp;<span class="op" id="8236887">&amp;</span><span class="ident" id="8236888">ifi</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236894">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8236897">}</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8236900">return</span>&nbsp;<span class="ident" id="8236907">nil</span><br>
<span class="lineno"></span><span class="op" id="8236911">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="8236914">//&nbsp;ipv6LinkLocalUnicastAddr&nbsp;returns&nbsp;an&nbsp;IPv6&nbsp;link-local&nbsp;unicast&nbsp;address</span><br>
<span class="lineno"></span><span class="comment" id="8236985">//&nbsp;on&nbsp;the&nbsp;given&nbsp;network&nbsp;interface&nbsp;for&nbsp;tests.&nbsp;It&nbsp;returns&nbsp;&#34;&#34;&nbsp;if&nbsp;no</span><br>
<span class="lineno">30</span><span class="comment" id="8237050">//&nbsp;suitable&nbsp;address&nbsp;is&nbsp;found.</span><br>
<span class="lineno"></span><span class="keyword" id="8237080">func</span>&nbsp;<span class="ident" id="8237085">ipv6LinkLocalUnicastAddr</span><span class="op" id="8237109">(</span><span class="ident" id="8237110">ifi</span>&nbsp;<span class="op" id="8237114">*</span><span class="ident" id="8237115">Interface</span><span class="op" id="8237124">)</span>&nbsp;<span class="builtintype" id="8237126">string</span>&nbsp;<span class="op" id="8237133">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237136">if</span>&nbsp;<span class="ident" id="8237139">ifi</span>&nbsp;<span class="op" id="8237143">==</span>&nbsp;<span class="ident" id="8237146">nil</span>&nbsp;<span class="op" id="8237150">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237154">return</span>&nbsp;<span class="string" id="8237161">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237165">}</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237168">ifat</span><span class="op" id="8237172">,</span>&nbsp;<span class="ident" id="8237174">err</span>&nbsp;<span class="op" id="8237178">:=</span>&nbsp;<span class="ident" id="8237181">ifi</span><span class="op" id="8237184">.</span><span class="ident" id="8237185">Addrs</span><span class="op" id="8237190">(</span><span class="op" id="8237191">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237194">if</span>&nbsp;<span class="ident" id="8237197">err</span>&nbsp;<span class="op" id="8237201">!=</span>&nbsp;<span class="ident" id="8237204">nil</span>&nbsp;<span class="op" id="8237208">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237212">return</span>&nbsp;<span class="string" id="8237219">&#34;&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237226">for</span>&nbsp;<span class="ident" id="8237230">_</span><span class="op" id="8237231">,</span>&nbsp;<span class="ident" id="8237233">ifa</span>&nbsp;<span class="op" id="8237237">:=</span>&nbsp;<span class="keyword" id="8237240">range</span>&nbsp;<span class="ident" id="8237246">ifat</span>&nbsp;<span class="op" id="8237251">{</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237255">switch</span>&nbsp;<span class="ident" id="8237262">ifa</span>&nbsp;<span class="op" id="8237266">:=</span>&nbsp;<span class="ident" id="8237269">ifa</span><span class="op" id="8237272">.</span><span class="op" id="8237273">(</span><span class="keyword" id="8237274">type</span><span class="op" id="8237278">)</span>&nbsp;<span class="op" id="8237280">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237284">case</span>&nbsp;<span class="op" id="8237289">*</span><span class="ident" id="8237290">IPAddr</span><span class="op" id="8237296">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237301">if</span>&nbsp;<span class="ident" id="8237304">ifa</span><span class="op" id="8237307">.</span><span class="ident" id="8237308">IP</span><span class="op" id="8237310">.</span><span class="ident" id="8237311">To4</span><span class="op" id="8237314">(</span><span class="op" id="8237315">)</span>&nbsp;<span class="op" id="8237317">==</span>&nbsp;<span class="ident" id="8237320">nil</span>&nbsp;<span class="op" id="8237324">&amp;&amp;</span>&nbsp;<span class="ident" id="8237327">ifa</span><span class="op" id="8237330">.</span><span class="ident" id="8237331">IP</span><span class="op" id="8237333">.</span><span class="ident" id="8237334">IsLinkLocalUnicast</span><span class="op" id="8237352">(</span><span class="op" id="8237353">)</span>&nbsp;<span class="op" id="8237355">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237361">return</span>&nbsp;<span class="ident" id="8237368">ifa</span><span class="op" id="8237371">.</span><span class="ident" id="8237372">IP</span><span class="op" id="8237374">.</span><span class="ident" id="8237375">String</span><span class="op" id="8237381">(</span><span class="op" id="8237382">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237387">}</span><br>
<span class="lineno">45</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237391">case</span>&nbsp;<span class="op" id="8237396">*</span><span class="ident" id="8237397">IPNet</span><span class="op" id="8237402">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237407">if</span>&nbsp;<span class="ident" id="8237410">ifa</span><span class="op" id="8237413">.</span><span class="ident" id="8237414">IP</span><span class="op" id="8237416">.</span><span class="ident" id="8237417">To4</span><span class="op" id="8237420">(</span><span class="op" id="8237421">)</span>&nbsp;<span class="op" id="8237423">==</span>&nbsp;<span class="ident" id="8237426">nil</span>&nbsp;<span class="op" id="8237430">&amp;&amp;</span>&nbsp;<span class="ident" id="8237433">ifa</span><span class="op" id="8237436">.</span><span class="ident" id="8237437">IP</span><span class="op" id="8237439">.</span><span class="ident" id="8237440">IsLinkLocalUnicast</span><span class="op" id="8237458">(</span><span class="op" id="8237459">)</span>&nbsp;<span class="op" id="8237461">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237467">return</span>&nbsp;<span class="ident" id="8237474">ifa</span><span class="op" id="8237477">.</span><span class="ident" id="8237478">IP</span><span class="op" id="8237480">.</span><span class="ident" id="8237481">String</span><span class="op" id="8237487">(</span><span class="op" id="8237488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237493">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237497">}</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237500">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237503">return</span>&nbsp;<span class="string" id="8237510">&#34;&#34;</span><br>
<span class="lineno"></span><span class="op" id="8237513">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8237516">func</span>&nbsp;<span class="ident" id="8237521">TestInterfaces</span><span class="op" id="8237535">(</span><span class="ident" id="8237536">t</span>&nbsp;<span class="op" id="8237538">*</span><span class="ident" id="8237539">testing</span><span class="op" id="8237546">.</span><span class="ident" id="8237547">T</span><span class="op" id="8237548">)</span>&nbsp;<span class="op" id="8237550">{</span><br>
<span class="lineno">55</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237553">ift</span><span class="op" id="8237556">,</span>&nbsp;<span class="ident" id="8237558">err</span>&nbsp;<span class="op" id="8237562">:=</span>&nbsp;<span class="ident" id="8237565">Interfaces</span><span class="op" id="8237575">(</span><span class="op" id="8237576">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237579">if</span>&nbsp;<span class="ident" id="8237582">err</span>&nbsp;<span class="op" id="8237586">!=</span>&nbsp;<span class="ident" id="8237589">nil</span>&nbsp;<span class="op" id="8237593">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237597">t</span><span class="op" id="8237598">.</span><span class="ident" id="8237599">Fatalf</span><span class="op" id="8237605">(</span><span class="string" id="8237606">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8237629">,</span>&nbsp;<span class="ident" id="8237631">err</span><span class="op" id="8237634">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237637">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237640">t</span><span class="op" id="8237641">.</span><span class="ident" id="8237642">Logf</span><span class="op" id="8237646">(</span><span class="string" id="8237647">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8237671">,</span>&nbsp;<span class="builtinfunc" id="8237673">len</span><span class="op" id="8237676">(</span><span class="ident" id="8237677">ift</span><span class="op" id="8237680">)</span><span class="op" id="8237681">,</span>&nbsp;<span class="builtinfunc" id="8237683">cap</span><span class="op" id="8237686">(</span><span class="ident" id="8237687">ift</span><span class="op" id="8237690">)</span><span class="op" id="8237691">)</span><br>
<span class="lineno">60</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237695">for</span>&nbsp;<span class="ident" id="8237699">_</span><span class="op" id="8237700">,</span>&nbsp;<span class="ident" id="8237702">ifi</span>&nbsp;<span class="op" id="8237706">:=</span>&nbsp;<span class="keyword" id="8237709">range</span>&nbsp;<span class="ident" id="8237715">ift</span>&nbsp;<span class="op" id="8237719">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237723">ifxi</span><span class="op" id="8237727">,</span>&nbsp;<span class="ident" id="8237729">err</span>&nbsp;<span class="op" id="8237733">:=</span>&nbsp;<span class="ident" id="8237736">InterfaceByIndex</span><span class="op" id="8237752">(</span><span class="ident" id="8237753">ifi</span><span class="op" id="8237756">.</span><span class="ident" id="8237757">Index</span><span class="op" id="8237762">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237766">if</span>&nbsp;<span class="ident" id="8237769">err</span>&nbsp;<span class="op" id="8237773">!=</span>&nbsp;<span class="ident" id="8237776">nil</span>&nbsp;<span class="op" id="8237780">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237785">t</span><span class="op" id="8237786">.</span><span class="ident" id="8237787">Fatalf</span><span class="op" id="8237793">(</span><span class="string" id="8237794">&#34;InterfaceByIndex(%v)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8237827">,</span>&nbsp;<span class="ident" id="8237829">ifi</span><span class="op" id="8237832">.</span><span class="ident" id="8237833">Index</span><span class="op" id="8237838">,</span>&nbsp;<span class="ident" id="8237840">err</span><span class="op" id="8237843">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237847">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8237851">if</span>&nbsp;<span class="op" id="8237854">!</span><span class="ident" id="8237855">reflect</span><span class="op" id="8237862">.</span><span class="ident" id="8237863">DeepEqual</span><span class="op" id="8237872">(</span><span class="ident" id="8237873">ifxi</span><span class="op" id="8237877">,</span>&nbsp;<span class="op" id="8237879">&amp;</span><span class="ident" id="8237880">ifi</span><span class="op" id="8237883">)</span>&nbsp;<span class="op" id="8237885">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237890">t</span><span class="op" id="8237891">.</span><span class="ident" id="8237892">Fatalf</span><span class="op" id="8237898">(</span><span class="string" id="8237899">&#34;InterfaceByIndex(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8237935">,</span>&nbsp;<span class="ident" id="8237937">ifi</span><span class="op" id="8237940">.</span><span class="ident" id="8237941">Index</span><span class="op" id="8237946">,</span>&nbsp;<span class="ident" id="8237948">ifxi</span><span class="op" id="8237952">,</span>&nbsp;<span class="ident" id="8237954">ifi</span><span class="op" id="8237957">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8237961">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8237965">ifxn</span><span class="op" id="8237969">,</span>&nbsp;<span class="ident" id="8237971">err</span>&nbsp;<span class="op" id="8237975">:=</span>&nbsp;<span class="ident" id="8237978">InterfaceByName</span><span class="op" id="8237993">(</span><span class="ident" id="8237994">ifi</span><span class="op" id="8237997">.</span><span class="ident" id="8237998">Name</span><span class="op" id="8238002">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238006">if</span>&nbsp;<span class="ident" id="8238009">err</span>&nbsp;<span class="op" id="8238013">!=</span>&nbsp;<span class="ident" id="8238016">nil</span>&nbsp;<span class="op" id="8238020">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238025">t</span><span class="op" id="8238026">.</span><span class="ident" id="8238027">Fatalf</span><span class="op" id="8238033">(</span><span class="string" id="8238034">&#34;InterfaceByName(%q)&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8238066">,</span>&nbsp;<span class="ident" id="8238068">ifi</span><span class="op" id="8238071">.</span><span class="ident" id="8238072">Name</span><span class="op" id="8238076">,</span>&nbsp;<span class="ident" id="8238078">err</span><span class="op" id="8238081">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238085">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238089">if</span>&nbsp;<span class="op" id="8238092">!</span><span class="ident" id="8238093">reflect</span><span class="op" id="8238100">.</span><span class="ident" id="8238101">DeepEqual</span><span class="op" id="8238110">(</span><span class="ident" id="8238111">ifxn</span><span class="op" id="8238115">,</span>&nbsp;<span class="op" id="8238117">&amp;</span><span class="ident" id="8238118">ifi</span><span class="op" id="8238121">)</span>&nbsp;<span class="op" id="8238123">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238128">t</span><span class="op" id="8238129">.</span><span class="ident" id="8238130">Fatalf</span><span class="op" id="8238136">(</span><span class="string" id="8238137">&#34;InterfaceByName(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8238172">,</span>&nbsp;<span class="ident" id="8238174">ifi</span><span class="op" id="8238177">.</span><span class="ident" id="8238178">Name</span><span class="op" id="8238182">,</span>&nbsp;<span class="ident" id="8238184">ifxn</span><span class="op" id="8238188">,</span>&nbsp;<span class="ident" id="8238190">ifi</span><span class="op" id="8238193">)</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238197">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238201">t</span><span class="op" id="8238202">.</span><span class="ident" id="8238203">Logf</span><span class="op" id="8238207">(</span><span class="string" id="8238208">&#34;%q:&nbsp;flags&nbsp;%q,&nbsp;ifindex&nbsp;%v,&nbsp;mtu&nbsp;%v&#34;</span><span class="op" id="8238242">,</span>&nbsp;<span class="ident" id="8238244">ifi</span><span class="op" id="8238247">.</span><span class="ident" id="8238248">Name</span><span class="op" id="8238252">,</span>&nbsp;<span class="ident" id="8238254">ifi</span><span class="op" id="8238257">.</span><span class="ident" id="8238258">Flags</span><span class="op" id="8238263">.</span><span class="ident" id="8238264">String</span><span class="op" id="8238270">(</span><span class="op" id="8238271">)</span><span class="op" id="8238272">,</span>&nbsp;<span class="ident" id="8238274">ifi</span><span class="op" id="8238277">.</span><span class="ident" id="8238278">Index</span><span class="op" id="8238283">,</span>&nbsp;<span class="ident" id="8238285">ifi</span><span class="op" id="8238288">.</span><span class="ident" id="8238289">MTU</span><span class="op" id="8238292">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238296">t</span><span class="op" id="8238297">.</span><span class="ident" id="8238298">Logf</span><span class="op" id="8238302">(</span><span class="string" id="8238303">&#34;\thardware&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8238326">,</span>&nbsp;<span class="ident" id="8238328">ifi</span><span class="op" id="8238331">.</span><span class="ident" id="8238332">HardwareAddr</span><span class="op" id="8238344">.</span><span class="ident" id="8238345">String</span><span class="op" id="8238351">(</span><span class="op" id="8238352">)</span><span class="op" id="8238353">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238357">testInterfaceAddrs</span><span class="op" id="8238375">(</span><span class="ident" id="8238376">t</span><span class="op" id="8238377">,</span>&nbsp;<span class="op" id="8238379">&amp;</span><span class="ident" id="8238380">ifi</span><span class="op" id="8238383">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238387">testInterfaceMulticastAddrs</span><span class="op" id="8238414">(</span><span class="ident" id="8238415">t</span><span class="op" id="8238416">,</span>&nbsp;<span class="op" id="8238418">&amp;</span><span class="ident" id="8238419">ifi</span><span class="op" id="8238422">)</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238425">}</span><br>
<span class="lineno"></span><span class="op" id="8238427">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8238430">func</span>&nbsp;<span class="ident" id="8238435">TestInterfaceAddrs</span><span class="op" id="8238453">(</span><span class="ident" id="8238454">t</span>&nbsp;<span class="op" id="8238456">*</span><span class="ident" id="8238457">testing</span><span class="op" id="8238464">.</span><span class="ident" id="8238465">T</span><span class="op" id="8238466">)</span>&nbsp;<span class="op" id="8238468">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238471">ifat</span><span class="op" id="8238475">,</span>&nbsp;<span class="ident" id="8238477">err</span>&nbsp;<span class="op" id="8238481">:=</span>&nbsp;<span class="ident" id="8238484">InterfaceAddrs</span><span class="op" id="8238498">(</span><span class="op" id="8238499">)</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238502">if</span>&nbsp;<span class="ident" id="8238505">err</span>&nbsp;<span class="op" id="8238509">!=</span>&nbsp;<span class="ident" id="8238512">nil</span>&nbsp;<span class="op" id="8238516">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238520">t</span><span class="op" id="8238521">.</span><span class="ident" id="8238522">Fatalf</span><span class="op" id="8238528">(</span><span class="string" id="8238529">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8238556">,</span>&nbsp;<span class="ident" id="8238558">err</span><span class="op" id="8238561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238564">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238567">t</span><span class="op" id="8238568">.</span><span class="ident" id="8238569">Logf</span><span class="op" id="8238573">(</span><span class="string" id="8238574">&#34;table:&nbsp;len/cap&nbsp;=&nbsp;%v/%v&#34;</span><span class="op" id="8238598">,</span>&nbsp;<span class="builtinfunc" id="8238600">len</span><span class="op" id="8238603">(</span><span class="ident" id="8238604">ifat</span><span class="op" id="8238608">)</span><span class="op" id="8238609">,</span>&nbsp;<span class="builtinfunc" id="8238611">cap</span><span class="op" id="8238614">(</span><span class="ident" id="8238615">ifat</span><span class="op" id="8238619">)</span><span class="op" id="8238620">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238623">testAddrs</span><span class="op" id="8238632">(</span><span class="ident" id="8238633">t</span><span class="op" id="8238634">,</span>&nbsp;<span class="ident" id="8238636">ifat</span><span class="op" id="8238640">)</span><br>
<span class="lineno">90</span><span class="op" id="8238642">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8238645">func</span>&nbsp;<span class="ident" id="8238650">testInterfaceAddrs</span><span class="op" id="8238668">(</span><span class="ident" id="8238669">t</span>&nbsp;<span class="op" id="8238671">*</span><span class="ident" id="8238672">testing</span><span class="op" id="8238679">.</span><span class="ident" id="8238680">T</span><span class="op" id="8238681">,</span>&nbsp;<span class="ident" id="8238683">ifi</span>&nbsp;<span class="op" id="8238687">*</span><span class="ident" id="8238688">Interface</span><span class="op" id="8238697">)</span>&nbsp;<span class="op" id="8238699">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238702">ifat</span><span class="op" id="8238706">,</span>&nbsp;<span class="ident" id="8238708">err</span>&nbsp;<span class="op" id="8238712">:=</span>&nbsp;<span class="ident" id="8238715">ifi</span><span class="op" id="8238718">.</span><span class="ident" id="8238719">Addrs</span><span class="op" id="8238724">(</span><span class="op" id="8238725">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238728">if</span>&nbsp;<span class="ident" id="8238731">err</span>&nbsp;<span class="op" id="8238735">!=</span>&nbsp;<span class="ident" id="8238738">nil</span>&nbsp;<span class="op" id="8238742">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238746">t</span><span class="op" id="8238747">.</span><span class="ident" id="8238748">Fatalf</span><span class="op" id="8238754">(</span><span class="string" id="8238755">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8238783">,</span>&nbsp;<span class="ident" id="8238785">err</span><span class="op" id="8238788">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238791">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238794">testAddrs</span><span class="op" id="8238803">(</span><span class="ident" id="8238804">t</span><span class="op" id="8238805">,</span>&nbsp;<span class="ident" id="8238807">ifat</span><span class="op" id="8238811">)</span><br>
<span class="lineno"></span><span class="op" id="8238813">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">100</span><span class="keyword" id="8238816">func</span>&nbsp;<span class="ident" id="8238821">testInterfaceMulticastAddrs</span><span class="op" id="8238848">(</span><span class="ident" id="8238849">t</span>&nbsp;<span class="op" id="8238851">*</span><span class="ident" id="8238852">testing</span><span class="op" id="8238859">.</span><span class="ident" id="8238860">T</span><span class="op" id="8238861">,</span>&nbsp;<span class="ident" id="8238863">ifi</span>&nbsp;<span class="op" id="8238867">*</span><span class="ident" id="8238868">Interface</span><span class="op" id="8238877">)</span>&nbsp;<span class="op" id="8238879">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238882">ifmat</span><span class="op" id="8238887">,</span>&nbsp;<span class="ident" id="8238889">err</span>&nbsp;<span class="op" id="8238893">:=</span>&nbsp;<span class="ident" id="8238896">ifi</span><span class="op" id="8238899">.</span><span class="ident" id="8238900">MulticastAddrs</span><span class="op" id="8238914">(</span><span class="op" id="8238915">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8238918">if</span>&nbsp;<span class="ident" id="8238921">err</span>&nbsp;<span class="op" id="8238925">!=</span>&nbsp;<span class="ident" id="8238928">nil</span>&nbsp;<span class="op" id="8238932">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238936">t</span><span class="op" id="8238937">.</span><span class="ident" id="8238938">Fatalf</span><span class="op" id="8238944">(</span><span class="string" id="8238945">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8238982">,</span>&nbsp;<span class="ident" id="8238984">err</span><span class="op" id="8238987">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8238990">}</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8238993">testMulticastAddrs</span><span class="op" id="8239011">(</span><span class="ident" id="8239012">t</span><span class="op" id="8239013">,</span>&nbsp;<span class="ident" id="8239015">ifmat</span><span class="op" id="8239020">)</span><br>
<span class="lineno"></span><span class="op" id="8239022">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8239025">func</span>&nbsp;<span class="ident" id="8239030">testAddrs</span><span class="op" id="8239039">(</span><span class="ident" id="8239040">t</span>&nbsp;<span class="op" id="8239042">*</span><span class="ident" id="8239043">testing</span><span class="op" id="8239050">.</span><span class="ident" id="8239051">T</span><span class="op" id="8239052">,</span>&nbsp;<span class="ident" id="8239054">ifat</span>&nbsp;<span class="op" id="8239059">[</span><span class="op" id="8239060">]</span><span class="ident" id="8239061">Addr</span><span class="op" id="8239065">)</span>&nbsp;<span class="op" id="8239067">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239070">for</span>&nbsp;<span class="ident" id="8239074">_</span><span class="op" id="8239075">,</span>&nbsp;<span class="ident" id="8239077">ifa</span>&nbsp;<span class="op" id="8239081">:=</span>&nbsp;<span class="keyword" id="8239084">range</span>&nbsp;<span class="ident" id="8239090">ifat</span>&nbsp;<span class="op" id="8239095">{</span><br>
<span class="lineno">110</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239099">switch</span>&nbsp;<span class="ident" id="8239106">ifa</span>&nbsp;<span class="op" id="8239110">:=</span>&nbsp;<span class="ident" id="8239113">ifa</span><span class="op" id="8239116">.</span><span class="op" id="8239117">(</span><span class="keyword" id="8239118">type</span><span class="op" id="8239122">)</span>&nbsp;<span class="op" id="8239124">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239128">case</span>&nbsp;<span class="op" id="8239133">*</span><span class="ident" id="8239134">IPAddr</span><span class="op" id="8239140">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239145">if</span>&nbsp;<span class="ident" id="8239148">ifa</span>&nbsp;<span class="op" id="8239152">==</span>&nbsp;<span class="ident" id="8239155">nil</span>&nbsp;<span class="op" id="8239159">||</span>&nbsp;<span class="ident" id="8239162">ifa</span><span class="op" id="8239165">.</span><span class="ident" id="8239166">IP</span>&nbsp;<span class="op" id="8239169">==</span>&nbsp;<span class="ident" id="8239172">nil</span>&nbsp;<span class="op" id="8239176">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239182">t</span><span class="op" id="8239183">.</span><span class="ident" id="8239184">Errorf</span><span class="op" id="8239190">(</span><span class="string" id="8239191">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8239219">,</span>&nbsp;<span class="ident" id="8239221">ifa</span><span class="op" id="8239224">,</span>&nbsp;<span class="ident" id="8239226">ifa</span><span class="op" id="8239229">.</span><span class="ident" id="8239230">IP</span><span class="op" id="8239232">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239237">}</span>&nbsp;<span class="keyword" id="8239239">else</span>&nbsp;<span class="op" id="8239244">{</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239250">t</span><span class="op" id="8239251">.</span><span class="ident" id="8239252">Logf</span><span class="op" id="8239256">(</span><span class="string" id="8239257">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8239281">,</span>&nbsp;<span class="ident" id="8239283">ifa</span><span class="op" id="8239286">.</span><span class="ident" id="8239287">String</span><span class="op" id="8239293">(</span><span class="op" id="8239294">)</span><span class="op" id="8239295">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239300">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239304">case</span>&nbsp;<span class="op" id="8239309">*</span><span class="ident" id="8239310">IPNet</span><span class="op" id="8239315">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239320">if</span>&nbsp;<span class="ident" id="8239323">ifa</span>&nbsp;<span class="op" id="8239327">==</span>&nbsp;<span class="ident" id="8239330">nil</span>&nbsp;<span class="op" id="8239334">||</span>&nbsp;<span class="ident" id="8239337">ifa</span><span class="op" id="8239340">.</span><span class="ident" id="8239341">IP</span>&nbsp;<span class="op" id="8239344">==</span>&nbsp;<span class="ident" id="8239347">nil</span>&nbsp;<span class="op" id="8239351">||</span>&nbsp;<span class="ident" id="8239354">ifa</span><span class="op" id="8239357">.</span><span class="ident" id="8239358">Mask</span>&nbsp;<span class="op" id="8239363">==</span>&nbsp;<span class="ident" id="8239366">nil</span>&nbsp;<span class="op" id="8239370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239376">t</span><span class="op" id="8239377">.</span><span class="ident" id="8239378">Errorf</span><span class="op" id="8239384">(</span><span class="string" id="8239385">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8239417">,</span>&nbsp;<span class="ident" id="8239419">ifa</span><span class="op" id="8239422">,</span>&nbsp;<span class="ident" id="8239424">ifa</span><span class="op" id="8239427">.</span><span class="ident" id="8239428">IP</span><span class="op" id="8239430">,</span>&nbsp;<span class="ident" id="8239432">ifa</span><span class="op" id="8239435">.</span><span class="ident" id="8239436">Mask</span><span class="op" id="8239440">)</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239445">}</span>&nbsp;<span class="keyword" id="8239447">else</span>&nbsp;<span class="op" id="8239452">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239458">_</span><span class="op" id="8239459">,</span>&nbsp;<span class="ident" id="8239461">prefixLen</span>&nbsp;<span class="op" id="8239471">:=</span>&nbsp;<span class="ident" id="8239474">ifa</span><span class="op" id="8239477">.</span><span class="ident" id="8239478">Mask</span><span class="op" id="8239482">.</span><span class="ident" id="8239483">Size</span><span class="op" id="8239487">(</span><span class="op" id="8239488">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239494">if</span>&nbsp;<span class="ident" id="8239497">ifa</span><span class="op" id="8239500">.</span><span class="ident" id="8239501">IP</span><span class="op" id="8239503">.</span><span class="ident" id="8239504">To4</span><span class="op" id="8239507">(</span><span class="op" id="8239508">)</span>&nbsp;<span class="op" id="8239510">!=</span>&nbsp;<span class="ident" id="8239513">nil</span>&nbsp;<span class="op" id="8239517">&amp;&amp;</span>&nbsp;<span class="ident" id="8239520">prefixLen</span>&nbsp;<span class="op" id="8239530">!=</span>&nbsp;<span class="num" id="8239533">8</span><span class="op" id="8239534">*</span><span class="ident" id="8239535">IPv4len</span>&nbsp;<span class="op" id="8239543">||</span>&nbsp;<span class="ident" id="8239546">ifa</span><span class="op" id="8239549">.</span><span class="ident" id="8239550">IP</span><span class="op" id="8239552">.</span><span class="ident" id="8239553">To16</span><span class="op" id="8239557">(</span><span class="op" id="8239558">)</span>&nbsp;<span class="op" id="8239560">!=</span>&nbsp;<span class="ident" id="8239563">nil</span>&nbsp;<span class="op" id="8239567">&amp;&amp;</span>&nbsp;<span class="ident" id="8239570">ifa</span><span class="op" id="8239573">.</span><span class="ident" id="8239574">IP</span><span class="op" id="8239576">.</span><span class="ident" id="8239577">To4</span><span class="op" id="8239580">(</span><span class="op" id="8239581">)</span>&nbsp;<span class="op" id="8239583">==</span>&nbsp;<span class="ident" id="8239586">nil</span>&nbsp;<span class="op" id="8239590">&amp;&amp;</span>&nbsp;<span class="ident" id="8239593">prefixLen</span>&nbsp;<span class="op" id="8239603">!=</span>&nbsp;<span class="num" id="8239606">8</span><span class="op" id="8239607">*</span><span class="ident" id="8239608">IPv6len</span>&nbsp;<span class="op" id="8239616">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239623">t</span><span class="op" id="8239624">.</span><span class="ident" id="8239625">Errorf</span><span class="op" id="8239631">(</span><span class="string" id="8239632">&#34;\tunexpected&nbsp;value:&nbsp;%v,&nbsp;%v,&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8239668">,</span>&nbsp;<span class="ident" id="8239670">ifa</span><span class="op" id="8239673">,</span>&nbsp;<span class="ident" id="8239675">ifa</span><span class="op" id="8239678">.</span><span class="ident" id="8239679">IP</span><span class="op" id="8239681">,</span>&nbsp;<span class="ident" id="8239683">ifa</span><span class="op" id="8239686">.</span><span class="ident" id="8239687">Mask</span><span class="op" id="8239691">,</span>&nbsp;<span class="ident" id="8239693">prefixLen</span><span class="op" id="8239702">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239708">}</span>&nbsp;<span class="keyword" id="8239710">else</span>&nbsp;<span class="op" id="8239715">{</span><br>
<span class="lineno">125</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239722">t</span><span class="op" id="8239723">.</span><span class="ident" id="8239724">Logf</span><span class="op" id="8239728">(</span><span class="string" id="8239729">&#34;\tinterface&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8239753">,</span>&nbsp;<span class="ident" id="8239755">ifa</span><span class="op" id="8239758">.</span><span class="ident" id="8239759">String</span><span class="op" id="8239765">(</span><span class="op" id="8239766">)</span><span class="op" id="8239767">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239773">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239778">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239782">default</span><span class="op" id="8239789">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239794">t</span><span class="op" id="8239795">.</span><span class="ident" id="8239796">Errorf</span><span class="op" id="8239802">(</span><span class="string" id="8239803">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8239826">,</span>&nbsp;<span class="ident" id="8239828">ifa</span><span class="op" id="8239831">)</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239835">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8239838">}</span><br>
<span class="lineno"></span><span class="op" id="8239840">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8239843">func</span>&nbsp;<span class="ident" id="8239848">testMulticastAddrs</span><span class="op" id="8239866">(</span><span class="ident" id="8239867">t</span>&nbsp;<span class="op" id="8239869">*</span><span class="ident" id="8239870">testing</span><span class="op" id="8239877">.</span><span class="ident" id="8239878">T</span><span class="op" id="8239879">,</span>&nbsp;<span class="ident" id="8239881">ifmat</span>&nbsp;<span class="op" id="8239887">[</span><span class="op" id="8239888">]</span><span class="ident" id="8239889">Addr</span><span class="op" id="8239893">)</span>&nbsp;<span class="op" id="8239895">{</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239898">for</span>&nbsp;<span class="ident" id="8239902">_</span><span class="op" id="8239903">,</span>&nbsp;<span class="ident" id="8239905">ifma</span>&nbsp;<span class="op" id="8239910">:=</span>&nbsp;<span class="keyword" id="8239913">range</span>&nbsp;<span class="ident" id="8239919">ifmat</span>&nbsp;<span class="op" id="8239925">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239929">switch</span>&nbsp;<span class="ident" id="8239936">ifma</span>&nbsp;<span class="op" id="8239941">:=</span>&nbsp;<span class="ident" id="8239944">ifma</span><span class="op" id="8239948">.</span><span class="op" id="8239949">(</span><span class="keyword" id="8239950">type</span><span class="op" id="8239954">)</span>&nbsp;<span class="op" id="8239956">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239960">case</span>&nbsp;<span class="op" id="8239965">*</span><span class="ident" id="8239966">IPAddr</span><span class="op" id="8239972">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8239977">if</span>&nbsp;<span class="ident" id="8239980">ifma</span>&nbsp;<span class="op" id="8239985">==</span>&nbsp;<span class="ident" id="8239988">nil</span>&nbsp;<span class="op" id="8239992">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8239998">t</span><span class="op" id="8239999">.</span><span class="ident" id="8240000">Errorf</span><span class="op" id="8240006">(</span><span class="string" id="8240007">&#34;\tunexpected&nbsp;value:&nbsp;%v&#34;</span><span class="op" id="8240031">,</span>&nbsp;<span class="ident" id="8240033">ifma</span><span class="op" id="8240037">)</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240042">}</span>&nbsp;<span class="keyword" id="8240044">else</span>&nbsp;<span class="op" id="8240049">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240055">t</span><span class="op" id="8240056">.</span><span class="ident" id="8240057">Logf</span><span class="op" id="8240061">(</span><span class="string" id="8240062">&#34;\tjoined&nbsp;group&nbsp;address&nbsp;%q&#34;</span><span class="op" id="8240089">,</span>&nbsp;<span class="ident" id="8240091">ifma</span><span class="op" id="8240095">.</span><span class="ident" id="8240096">String</span><span class="op" id="8240102">(</span><span class="op" id="8240103">)</span><span class="op" id="8240104">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240109">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240113">default</span><span class="op" id="8240120">:</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240125">t</span><span class="op" id="8240126">.</span><span class="ident" id="8240127">Errorf</span><span class="op" id="8240133">(</span><span class="string" id="8240134">&#34;\tunexpected&nbsp;type:&nbsp;%T&#34;</span><span class="op" id="8240157">,</span>&nbsp;<span class="ident" id="8240159">ifma</span><span class="op" id="8240163">)</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240167">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240170">}</span><br>
<span class="lineno"></span><span class="op" id="8240172">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240175">func</span>&nbsp;<span class="ident" id="8240180">BenchmarkInterfaces</span><span class="op" id="8240199">(</span><span class="ident" id="8240200">b</span>&nbsp;<span class="op" id="8240202">*</span><span class="ident" id="8240203">testing</span><span class="op" id="8240210">.</span><span class="ident" id="8240211">B</span><span class="op" id="8240212">)</span>&nbsp;<span class="op" id="8240214">{</span><br>
<span class="lineno">150</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240217">for</span>&nbsp;<span class="ident" id="8240221">i</span>&nbsp;<span class="op" id="8240223">:=</span>&nbsp;<span class="num" id="8240226">0</span><span class="op" id="8240227">;</span>&nbsp;<span class="ident" id="8240229">i</span>&nbsp;<span class="op" id="8240231">&lt;</span>&nbsp;<span class="ident" id="8240233">b</span><span class="op" id="8240234">.</span><span class="ident" id="8240235">N</span><span class="op" id="8240236">;</span>&nbsp;<span class="ident" id="8240238">i</span><span class="op" id="8240239">++</span>&nbsp;<span class="op" id="8240242">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240246">if</span>&nbsp;<span class="ident" id="8240249">_</span><span class="op" id="8240250">,</span>&nbsp;<span class="ident" id="8240252">err</span>&nbsp;<span class="op" id="8240256">:=</span>&nbsp;<span class="ident" id="8240259">Interfaces</span><span class="op" id="8240269">(</span><span class="op" id="8240270">)</span><span class="op" id="8240271">;</span>&nbsp;<span class="ident" id="8240273">err</span>&nbsp;<span class="op" id="8240277">!=</span>&nbsp;<span class="ident" id="8240280">nil</span>&nbsp;<span class="op" id="8240284">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240289">b</span><span class="op" id="8240290">.</span><span class="ident" id="8240291">Fatalf</span><span class="op" id="8240297">(</span><span class="string" id="8240298">&#34;Interfaces&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8240321">,</span>&nbsp;<span class="ident" id="8240323">err</span><span class="op" id="8240326">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240330">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240333">}</span><br>
<span class="lineno">155</span><span class="op" id="8240335">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240338">func</span>&nbsp;<span class="ident" id="8240343">BenchmarkInterfaceByIndex</span><span class="op" id="8240368">(</span><span class="ident" id="8240369">b</span>&nbsp;<span class="op" id="8240371">*</span><span class="ident" id="8240372">testing</span><span class="op" id="8240379">.</span><span class="ident" id="8240380">B</span><span class="op" id="8240381">)</span>&nbsp;<span class="op" id="8240383">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240386">ifi</span>&nbsp;<span class="op" id="8240390">:=</span>&nbsp;<span class="ident" id="8240393">loopbackInterface</span><span class="op" id="8240410">(</span><span class="op" id="8240411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240414">if</span>&nbsp;<span class="ident" id="8240417">ifi</span>&nbsp;<span class="op" id="8240421">==</span>&nbsp;<span class="ident" id="8240424">nil</span>&nbsp;<span class="op" id="8240428">{</span><br>
<span class="lineno">160</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240432">b</span><span class="op" id="8240433">.</span><span class="ident" id="8240434">Skip</span><span class="op" id="8240438">(</span><span class="string" id="8240439">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8240469">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240472">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240475">for</span>&nbsp;<span class="ident" id="8240479">i</span>&nbsp;<span class="op" id="8240481">:=</span>&nbsp;<span class="num" id="8240484">0</span><span class="op" id="8240485">;</span>&nbsp;<span class="ident" id="8240487">i</span>&nbsp;<span class="op" id="8240489">&lt;</span>&nbsp;<span class="ident" id="8240491">b</span><span class="op" id="8240492">.</span><span class="ident" id="8240493">N</span><span class="op" id="8240494">;</span>&nbsp;<span class="ident" id="8240496">i</span><span class="op" id="8240497">++</span>&nbsp;<span class="op" id="8240500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240504">if</span>&nbsp;<span class="ident" id="8240507">_</span><span class="op" id="8240508">,</span>&nbsp;<span class="ident" id="8240510">err</span>&nbsp;<span class="op" id="8240514">:=</span>&nbsp;<span class="ident" id="8240517">InterfaceByIndex</span><span class="op" id="8240533">(</span><span class="ident" id="8240534">ifi</span><span class="op" id="8240537">.</span><span class="ident" id="8240538">Index</span><span class="op" id="8240543">)</span><span class="op" id="8240544">;</span>&nbsp;<span class="ident" id="8240546">err</span>&nbsp;<span class="op" id="8240550">!=</span>&nbsp;<span class="ident" id="8240553">nil</span>&nbsp;<span class="op" id="8240557">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240562">b</span><span class="op" id="8240563">.</span><span class="ident" id="8240564">Fatalf</span><span class="op" id="8240570">(</span><span class="string" id="8240571">&#34;InterfaceByIndex&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8240600">,</span>&nbsp;<span class="ident" id="8240602">err</span><span class="op" id="8240605">)</span><br>
<span class="lineno">165</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240609">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240612">}</span><br>
<span class="lineno"></span><span class="op" id="8240614">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8240617">func</span>&nbsp;<span class="ident" id="8240622">BenchmarkInterfaceByName</span><span class="op" id="8240646">(</span><span class="ident" id="8240647">b</span>&nbsp;<span class="op" id="8240649">*</span><span class="ident" id="8240650">testing</span><span class="op" id="8240657">.</span><span class="ident" id="8240658">B</span><span class="op" id="8240659">)</span>&nbsp;<span class="op" id="8240661">{</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240664">ifi</span>&nbsp;<span class="op" id="8240668">:=</span>&nbsp;<span class="ident" id="8240671">loopbackInterface</span><span class="op" id="8240688">(</span><span class="op" id="8240689">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240692">if</span>&nbsp;<span class="ident" id="8240695">ifi</span>&nbsp;<span class="op" id="8240699">==</span>&nbsp;<span class="ident" id="8240702">nil</span>&nbsp;<span class="op" id="8240706">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240710">b</span><span class="op" id="8240711">.</span><span class="ident" id="8240712">Skip</span><span class="op" id="8240716">(</span><span class="string" id="8240717">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8240747">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240750">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240753">for</span>&nbsp;<span class="ident" id="8240757">i</span>&nbsp;<span class="op" id="8240759">:=</span>&nbsp;<span class="num" id="8240762">0</span><span class="op" id="8240763">;</span>&nbsp;<span class="ident" id="8240765">i</span>&nbsp;<span class="op" id="8240767">&lt;</span>&nbsp;<span class="ident" id="8240769">b</span><span class="op" id="8240770">.</span><span class="ident" id="8240771">N</span><span class="op" id="8240772">;</span>&nbsp;<span class="ident" id="8240774">i</span><span class="op" id="8240775">++</span>&nbsp;<span class="op" id="8240778">{</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240782">if</span>&nbsp;<span class="ident" id="8240785">_</span><span class="op" id="8240786">,</span>&nbsp;<span class="ident" id="8240788">err</span>&nbsp;<span class="op" id="8240792">:=</span>&nbsp;<span class="ident" id="8240795">InterfaceByName</span><span class="op" id="8240810">(</span><span class="ident" id="8240811">ifi</span><span class="op" id="8240814">.</span><span class="ident" id="8240815">Name</span><span class="op" id="8240819">)</span><span class="op" id="8240820">;</span>&nbsp;<span class="ident" id="8240822">err</span>&nbsp;<span class="op" id="8240826">!=</span>&nbsp;<span class="ident" id="8240829">nil</span>&nbsp;<span class="op" id="8240833">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8240838">b</span><span class="op" id="8240839">.</span><span class="ident" id="8240840">Fatalf</span><span class="op" id="8240846">(</span><span class="string" id="8240847">&#34;InterfaceByName&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8240875">,</span>&nbsp;<span class="ident" id="8240877">err</span><span class="op" id="8240880">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240884">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8240887">}</span><br>
<span class="lineno"></span><span class="op" id="8240889">}</span><br>
<span class="lineno">180</span><br>
<span class="lineno"></span><span class="keyword" id="8240892">func</span>&nbsp;<span class="ident" id="8240897">BenchmarkInterfaceAddrs</span><span class="op" id="8240920">(</span><span class="ident" id="8240921">b</span>&nbsp;<span class="op" id="8240923">*</span><span class="ident" id="8240924">testing</span><span class="op" id="8240931">.</span><span class="ident" id="8240932">B</span><span class="op" id="8240933">)</span>&nbsp;<span class="op" id="8240935">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240938">for</span>&nbsp;<span class="ident" id="8240942">i</span>&nbsp;<span class="op" id="8240944">:=</span>&nbsp;<span class="num" id="8240947">0</span><span class="op" id="8240948">;</span>&nbsp;<span class="ident" id="8240950">i</span>&nbsp;<span class="op" id="8240952">&lt;</span>&nbsp;<span class="ident" id="8240954">b</span><span class="op" id="8240955">.</span><span class="ident" id="8240956">N</span><span class="op" id="8240957">;</span>&nbsp;<span class="ident" id="8240959">i</span><span class="op" id="8240960">++</span>&nbsp;<span class="op" id="8240963">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8240967">if</span>&nbsp;<span class="ident" id="8240970">_</span><span class="op" id="8240971">,</span>&nbsp;<span class="ident" id="8240973">err</span>&nbsp;<span class="op" id="8240977">:=</span>&nbsp;<span class="ident" id="8240980">InterfaceAddrs</span><span class="op" id="8240994">(</span><span class="op" id="8240995">)</span><span class="op" id="8240996">;</span>&nbsp;<span class="ident" id="8240998">err</span>&nbsp;<span class="op" id="8241002">!=</span>&nbsp;<span class="ident" id="8241005">nil</span>&nbsp;<span class="op" id="8241009">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241014">b</span><span class="op" id="8241015">.</span><span class="ident" id="8241016">Fatalf</span><span class="op" id="8241022">(</span><span class="string" id="8241023">&#34;InterfaceAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8241050">,</span>&nbsp;<span class="ident" id="8241052">err</span><span class="op" id="8241055">)</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241059">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241062">}</span><br>
<span class="lineno"></span><span class="op" id="8241064">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8241067">func</span>&nbsp;<span class="ident" id="8241072">BenchmarkInterfacesAndAddrs</span><span class="op" id="8241099">(</span><span class="ident" id="8241100">b</span>&nbsp;<span class="op" id="8241102">*</span><span class="ident" id="8241103">testing</span><span class="op" id="8241110">.</span><span class="ident" id="8241111">B</span><span class="op" id="8241112">)</span>&nbsp;<span class="op" id="8241114">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241117">ifi</span>&nbsp;<span class="op" id="8241121">:=</span>&nbsp;<span class="ident" id="8241124">loopbackInterface</span><span class="op" id="8241141">(</span><span class="op" id="8241142">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241145">if</span>&nbsp;<span class="ident" id="8241148">ifi</span>&nbsp;<span class="op" id="8241152">==</span>&nbsp;<span class="ident" id="8241155">nil</span>&nbsp;<span class="op" id="8241159">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241163">b</span><span class="op" id="8241164">.</span><span class="ident" id="8241165">Skip</span><span class="op" id="8241169">(</span><span class="string" id="8241170">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8241200">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241203">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241206">for</span>&nbsp;<span class="ident" id="8241210">i</span>&nbsp;<span class="op" id="8241212">:=</span>&nbsp;<span class="num" id="8241215">0</span><span class="op" id="8241216">;</span>&nbsp;<span class="ident" id="8241218">i</span>&nbsp;<span class="op" id="8241220">&lt;</span>&nbsp;<span class="ident" id="8241222">b</span><span class="op" id="8241223">.</span><span class="ident" id="8241224">N</span><span class="op" id="8241225">;</span>&nbsp;<span class="ident" id="8241227">i</span><span class="op" id="8241228">++</span>&nbsp;<span class="op" id="8241231">{</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241235">if</span>&nbsp;<span class="ident" id="8241238">_</span><span class="op" id="8241239">,</span>&nbsp;<span class="ident" id="8241241">err</span>&nbsp;<span class="op" id="8241245">:=</span>&nbsp;<span class="ident" id="8241248">ifi</span><span class="op" id="8241251">.</span><span class="ident" id="8241252">Addrs</span><span class="op" id="8241257">(</span><span class="op" id="8241258">)</span><span class="op" id="8241259">;</span>&nbsp;<span class="ident" id="8241261">err</span>&nbsp;<span class="op" id="8241265">!=</span>&nbsp;<span class="ident" id="8241268">nil</span>&nbsp;<span class="op" id="8241272">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241277">b</span><span class="op" id="8241278">.</span><span class="ident" id="8241279">Fatalf</span><span class="op" id="8241285">(</span><span class="string" id="8241286">&#34;Interface.Addrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8241314">,</span>&nbsp;<span class="ident" id="8241316">err</span><span class="op" id="8241319">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241323">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241326">}</span><br>
<span class="lineno"></span><span class="op" id="8241328">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8241331">func</span>&nbsp;<span class="ident" id="8241336">BenchmarkInterfacesAndMulticastAddrs</span><span class="op" id="8241372">(</span><span class="ident" id="8241373">b</span>&nbsp;<span class="op" id="8241375">*</span><span class="ident" id="8241376">testing</span><span class="op" id="8241383">.</span><span class="ident" id="8241384">B</span><span class="op" id="8241385">)</span>&nbsp;<span class="op" id="8241387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241390">ifi</span>&nbsp;<span class="op" id="8241394">:=</span>&nbsp;<span class="ident" id="8241397">loopbackInterface</span><span class="op" id="8241414">(</span><span class="op" id="8241415">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241418">if</span>&nbsp;<span class="ident" id="8241421">ifi</span>&nbsp;<span class="op" id="8241425">==</span>&nbsp;<span class="ident" id="8241428">nil</span>&nbsp;<span class="op" id="8241432">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241436">b</span><span class="op" id="8241437">.</span><span class="ident" id="8241438">Skip</span><span class="op" id="8241442">(</span><span class="string" id="8241443">&#34;loopback&nbsp;interface&nbsp;not&nbsp;found&#34;</span><span class="op" id="8241473">)</span><br>
<span class="lineno">205</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241476">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241479">for</span>&nbsp;<span class="ident" id="8241483">i</span>&nbsp;<span class="op" id="8241485">:=</span>&nbsp;<span class="num" id="8241488">0</span><span class="op" id="8241489">;</span>&nbsp;<span class="ident" id="8241491">i</span>&nbsp;<span class="op" id="8241493">&lt;</span>&nbsp;<span class="ident" id="8241495">b</span><span class="op" id="8241496">.</span><span class="ident" id="8241497">N</span><span class="op" id="8241498">;</span>&nbsp;<span class="ident" id="8241500">i</span><span class="op" id="8241501">++</span>&nbsp;<span class="op" id="8241504">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8241508">if</span>&nbsp;<span class="ident" id="8241511">_</span><span class="op" id="8241512">,</span>&nbsp;<span class="ident" id="8241514">err</span>&nbsp;<span class="op" id="8241518">:=</span>&nbsp;<span class="ident" id="8241521">ifi</span><span class="op" id="8241524">.</span><span class="ident" id="8241525">MulticastAddrs</span><span class="op" id="8241539">(</span><span class="op" id="8241540">)</span><span class="op" id="8241541">;</span>&nbsp;<span class="ident" id="8241543">err</span>&nbsp;<span class="op" id="8241547">!=</span>&nbsp;<span class="ident" id="8241550">nil</span>&nbsp;<span class="op" id="8241554">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8241559">b</span><span class="op" id="8241560">.</span><span class="ident" id="8241561">Fatalf</span><span class="op" id="8241567">(</span><span class="string" id="8241568">&#34;Interface.MulticastAddrs&nbsp;failed:&nbsp;%v&#34;</span><span class="op" id="8241605">,</span>&nbsp;<span class="ident" id="8241607">err</span><span class="op" id="8241610">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241614">}</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8241617">}</span><br>
<span class="lineno"></span><span class="op" id="8241619">}</span>
</div>
</body>
</html>
