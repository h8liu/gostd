<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/style.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>net</h2>
<ul>
<li><a href="/gostd/net/cgo_stub.go.html">cgo_stub.go</a></li>
<li><a href="/gostd/net/conn_test.go.html">conn_test.go</a></li>
<li><a href="/gostd/net/dial.go.html">dial.go</a></li>
<li><a href="/gostd/net/dial_test.go.html">dial_test.go</a></li>
<li><a href="/gostd/net/dialgoogle_test.go.html">dialgoogle_test.go</a></li>
<li><a href="/gostd/net/dnsclient.go.html">dnsclient.go</a></li>
<li><a href="/gostd/net/dnsclient_test.go.html">dnsclient_test.go</a></li>
<li><a href="/gostd/net/dnsclient_unix.go.html">dnsclient_unix.go</a></li>
<li><a href="/gostd/net/dnsclient_unix_test.go.html">dnsclient_unix_test.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix.go.html">dnsconfig_unix.go</a></li>
<li><a href="/gostd/net/dnsconfig_unix_test.go.html">dnsconfig_unix_test.go</a></li>
<li><a href="/gostd/net/dnsmsg.go.html">dnsmsg.go</a></li>
<li><a href="/gostd/net/dnsmsg_test.go.html">dnsmsg_test.go</a></li>
<li><a href="/gostd/net/dnsname_test.go.html">dnsname_test.go</a></li>
<li><a href="/gostd/net/example_test.go.html">example_test.go</a></li>
<li><a href="/gostd/net/fd_mutex.go.html">fd_mutex.go</a></li>
<li><a href="/gostd/net/fd_mutex_test.go.html">fd_mutex_test.go</a></li>
<li><a href="/gostd/net/fd_poll_runtime.go.html">fd_poll_runtime.go</a></li>
<li><a href="/gostd/net/fd_unix.go.html">fd_unix.go</a></li>
<li><a href="/gostd/net/fd_unix_test.go.html">fd_unix_test.go</a></li>
<li><a href="/gostd/net/file_test.go.html">file_test.go</a></li>
<li><a href="/gostd/net/file_unix.go.html">file_unix.go</a></li>
<li><a href="/gostd/net/hosts.go.html">hosts.go</a></li>
<li><a href="/gostd/net/hosts_test.go.html">hosts_test.go</a></li>
<li><a href="/gostd/net/interface.go.html">interface.go</a></li>
<li><a href="/gostd/net/interface_linux.go.html">interface_linux.go</a></li>
<li><a href="/gostd/net/interface_linux_test.go.html">interface_linux_test.go</a></li>
<li><a href="/gostd/net/interface_test.go.html">interface_test.go</a></li>
<li><a href="/gostd/net/interface_unix_test.go.html">interface_unix_test.go</a></li>
<li><a href="/gostd/net/ip.go.html">ip.go</a></li>
<li><a href="/gostd/net/ip_test.go.html">ip_test.go</a></li>
<li><a href="/gostd/net/ipraw_test.go.html">ipraw_test.go</a></li>
<li><a href="/gostd/net/iprawsock.go.html">iprawsock.go</a></li>
<li><a href="/gostd/net/iprawsock_posix.go.html">iprawsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock.go.html">ipsock.go</a></li>
<li><a href="/gostd/net/ipsock_posix.go.html">ipsock_posix.go</a></li>
<li><a href="/gostd/net/ipsock_test.go.html">ipsock_test.go</a></li>
<li><a href="/gostd/net/lookup.go.html">lookup.go</a></li>
<li><a href="/gostd/net/lookup_test.go.html">lookup_test.go</a></li>
<li><a href="/gostd/net/lookup_unix.go.html">lookup_unix.go</a></li>
<li><a href="/gostd/net/mac.go.html">mac.go</a></li>
<li><a href="/gostd/net/mac_test.go.html">mac_test.go</a></li>
<li><a href="/gostd/net/mockicmp_test.go.html">mockicmp_test.go</a></li>
<li><a href="/gostd/net/mockserver_test.go.html">mockserver_test.go</a></li>
<li><a href="/gostd/net/multicast_test.go.html">multicast_test.go</a></li>
<li><a href="/gostd/net/net.go.html">net.go</a></li>
<li><a href="/gostd/net/net_test.go.html">net_test.go</a></li>
<li><a href="/gostd/net/netgo_unix_test.go.html">netgo_unix_test.go</a></li>
<li><a href="/gostd/net/packetconn_test.go.html">packetconn_test.go</a></li>
<li><a href="/gostd/net/parse.go.html">parse.go</a></li>
<li><a href="/gostd/net/parse_test.go.html">parse_test.go</a></li>
<li><a href="/gostd/net/pipe.go.html">pipe.go</a></li>
<li><a href="/gostd/net/pipe_test.go.html">pipe_test.go</a></li>
<li><a href="/gostd/net/port.go.html">port.go</a></li>
<li><a href="/gostd/net/port_test.go.html">port_test.go</a></li>
<li><a href="/gostd/net/port_unix.go.html">port_unix.go</a></li>
<li><a href="/gostd/net/protoconn_test.go.html">protoconn_test.go</a></li>
<li><a href="/gostd/net/sendfile_linux.go.html">sendfile_linux.go</a></li>
<li><a href="/gostd/net/server_test.go.html">server_test.go</a></li>
<li><a href="/gostd/net/singleflight.go.html">singleflight.go</a></li>
<li><a href="/gostd/net/sock_cloexec.go.html">sock_cloexec.go</a></li>
<li><a href="/gostd/net/sock_linux.go.html">sock_linux.go</a></li>
<li><a href="/gostd/net/sock_posix.go.html">sock_posix.go</a></li>
<li><a href="/gostd/net/sockopt_linux.go.html">sockopt_linux.go</a></li>
<li><a href="/gostd/net/sockopt_posix.go.html">sockopt_posix.go</a></li>
<li><a href="/gostd/net/sockoptip_linux.go.html">sockoptip_linux.go</a></li>
<li><a href="/gostd/net/sockoptip_posix.go.html">sockoptip_posix.go</a></li>
<li><a href="/gostd/net/tcp_test.go.html">tcp_test.go</a></li>
<li><a href="/gostd/net/tcpsock.go.html">tcpsock.go</a></li>
<li><a href="/gostd/net/tcpsock_posix.go.html">tcpsock_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_posix.go.html">tcpsockopt_posix.go</a></li>
<li><a href="/gostd/net/tcpsockopt_unix.go.html">tcpsockopt_unix.go</a></li>
<li><a href="/gostd/net/timeout_test.go.html">timeout_test.go</a></li>
<li><a href="/gostd/net/udp_test.go.html">udp_test.go</a></li>
<li><a href="/gostd/net/udpsock.go.html">udpsock.go</a></li>
<li><a href="/gostd/net/udpsock_posix.go.html">udpsock_posix.go</a></li>
<li><a href="/gostd/net/unicast_posix_test.go.html">unicast_posix_test.go</a></li>
<li><a href="/gostd/net/unix_test.go.html">unix_test.go</a></li>
<li><a href="/gostd/net/unixsock.go.html">unixsock.go</a></li>
<li><a href="/gostd/net/unixsock_posix.go.html">unixsock_posix.go</a></li>
<li><a href="/gostd/net/z_last_test.go.html">z_last_test.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="8398830">//&nbsp;Copyright&nbsp;2009&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="8398885">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="8398939">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="8398990">package</span>&nbsp;<span class="ident" id="8398998">net</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8399003">import</span>&nbsp;<span class="op" id="8399010">(</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8399013">&#34;reflect&#34;</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8399024">&#34;runtime&#34;</span><br>
<span class="lineno">10</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="string" id="8399035">&#34;testing&#34;</span><br>
<span class="lineno"></span><span class="op" id="8399045">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8399048">var</span>&nbsp;<span class="ident" id="8399052">parseIPTests</span>&nbsp;<span class="op" id="8399065">=</span>&nbsp;<span class="op" id="8399067">[</span><span class="op" id="8399068">]</span><span class="keyword" id="8399069">struct</span>&nbsp;<span class="op" id="8399076">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8399079">in</span>&nbsp;&nbsp;<span class="builtintype" id="8399083">string</span><br>
<span class="lineno">15</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8399091">out</span>&nbsp;<span class="ident" id="8399095">IP</span><br>
<span class="lineno"></span><span class="op" id="8399098">}</span><span class="op" id="8399099">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399102">{</span><span class="string" id="8399103">&#34;127.0.1.2&#34;</span><span class="op" id="8399114">,</span>&nbsp;<span class="ident" id="8399116">IPv4</span><span class="op" id="8399120">(</span><span class="num" id="8399121">127</span><span class="op" id="8399124">,</span>&nbsp;<span class="num" id="8399126">0</span><span class="op" id="8399127">,</span>&nbsp;<span class="num" id="8399129">1</span><span class="op" id="8399130">,</span>&nbsp;<span class="num" id="8399132">2</span><span class="op" id="8399133">)</span><span class="op" id="8399134">}</span><span class="op" id="8399135">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399138">{</span><span class="string" id="8399139">&#34;127.0.0.1&#34;</span><span class="op" id="8399150">,</span>&nbsp;<span class="ident" id="8399152">IPv4</span><span class="op" id="8399156">(</span><span class="num" id="8399157">127</span><span class="op" id="8399160">,</span>&nbsp;<span class="num" id="8399162">0</span><span class="op" id="8399163">,</span>&nbsp;<span class="num" id="8399165">0</span><span class="op" id="8399166">,</span>&nbsp;<span class="num" id="8399168">1</span><span class="op" id="8399169">)</span><span class="op" id="8399170">}</span><span class="op" id="8399171">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399174">{</span><span class="string" id="8399175">&#34;127.0.0.256&#34;</span><span class="op" id="8399188">,</span>&nbsp;<span class="ident" id="8399190">nil</span><span class="op" id="8399193">}</span><span class="op" id="8399194">,</span><br>
<span class="lineno">20</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399197">{</span><span class="string" id="8399198">&#34;abc&#34;</span><span class="op" id="8399203">,</span>&nbsp;<span class="ident" id="8399205">nil</span><span class="op" id="8399208">}</span><span class="op" id="8399209">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399212">{</span><span class="string" id="8399213">&#34;123:&#34;</span><span class="op" id="8399219">,</span>&nbsp;<span class="ident" id="8399221">nil</span><span class="op" id="8399224">}</span><span class="op" id="8399225">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399228">{</span><span class="string" id="8399229">&#34;::ffff:127.0.0.1&#34;</span><span class="op" id="8399247">,</span>&nbsp;<span class="ident" id="8399249">IPv4</span><span class="op" id="8399253">(</span><span class="num" id="8399254">127</span><span class="op" id="8399257">,</span>&nbsp;<span class="num" id="8399259">0</span><span class="op" id="8399260">,</span>&nbsp;<span class="num" id="8399262">0</span><span class="op" id="8399263">,</span>&nbsp;<span class="num" id="8399265">1</span><span class="op" id="8399266">)</span><span class="op" id="8399267">}</span><span class="op" id="8399268">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399271">{</span><span class="string" id="8399272">&#34;2001:4860:0:2001::68&#34;</span><span class="op" id="8399294">,</span>&nbsp;<span class="ident" id="8399296">IP</span><span class="op" id="8399298">{</span><span class="num" id="8399299">0x20</span><span class="op" id="8399303">,</span>&nbsp;<span class="num" id="8399305">0x01</span><span class="op" id="8399309">,</span>&nbsp;<span class="num" id="8399311">0x48</span><span class="op" id="8399315">,</span>&nbsp;<span class="num" id="8399317">0x60</span><span class="op" id="8399321">,</span>&nbsp;<span class="num" id="8399323">0</span><span class="op" id="8399324">,</span>&nbsp;<span class="num" id="8399326">0</span><span class="op" id="8399327">,</span>&nbsp;<span class="num" id="8399329">0x20</span><span class="op" id="8399333">,</span>&nbsp;<span class="num" id="8399335">0x01</span><span class="op" id="8399339">,</span>&nbsp;<span class="num" id="8399341">0</span><span class="op" id="8399342">,</span>&nbsp;<span class="num" id="8399344">0</span><span class="op" id="8399345">,</span>&nbsp;<span class="num" id="8399347">0</span><span class="op" id="8399348">,</span>&nbsp;<span class="num" id="8399350">0</span><span class="op" id="8399351">,</span>&nbsp;<span class="num" id="8399353">0</span><span class="op" id="8399354">,</span>&nbsp;<span class="num" id="8399356">0</span><span class="op" id="8399357">,</span>&nbsp;<span class="num" id="8399359">0x00</span><span class="op" id="8399363">,</span>&nbsp;<span class="num" id="8399365">0x68</span><span class="op" id="8399369">}</span><span class="op" id="8399370">}</span><span class="op" id="8399371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399374">{</span><span class="string" id="8399375">&#34;::ffff:4a7d:1363&#34;</span><span class="op" id="8399393">,</span>&nbsp;<span class="ident" id="8399395">IPv4</span><span class="op" id="8399399">(</span><span class="num" id="8399400">74</span><span class="op" id="8399402">,</span>&nbsp;<span class="num" id="8399404">125</span><span class="op" id="8399407">,</span>&nbsp;<span class="num" id="8399409">19</span><span class="op" id="8399411">,</span>&nbsp;<span class="num" id="8399413">99</span><span class="op" id="8399415">)</span><span class="op" id="8399416">}</span><span class="op" id="8399417">,</span><br>
<span class="lineno">25</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399420">{</span><span class="string" id="8399421">&#34;fe80::1%lo0&#34;</span><span class="op" id="8399434">,</span>&nbsp;<span class="ident" id="8399436">nil</span><span class="op" id="8399439">}</span><span class="op" id="8399440">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399443">{</span><span class="string" id="8399444">&#34;fe80::1%911&#34;</span><span class="op" id="8399457">,</span>&nbsp;<span class="ident" id="8399459">nil</span><span class="op" id="8399462">}</span><span class="op" id="8399463">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399466">{</span><span class="string" id="8399467">&#34;&#34;</span><span class="op" id="8399469">,</span>&nbsp;<span class="ident" id="8399471">nil</span><span class="op" id="8399474">}</span><span class="op" id="8399475">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399478">{</span><span class="string" id="8399479">&#34;a1:a2:a3:a4::b1:b2:b3:b4&#34;</span><span class="op" id="8399505">,</span>&nbsp;<span class="ident" id="8399507">nil</span><span class="op" id="8399510">}</span><span class="op" id="8399511">,</span>&nbsp;<span class="comment" id="8399513">//&nbsp;Issue&nbsp;6628</span><br>
<span class="lineno"></span><span class="op" id="8399527">}</span><br>
<span class="lineno">30</span><br>
<span class="lineno"></span><span class="keyword" id="8399530">func</span>&nbsp;<span class="ident" id="8399535">TestParseIP</span><span class="op" id="8399546">(</span><span class="ident" id="8399547">t</span>&nbsp;<span class="op" id="8399549">*</span><span class="ident" id="8399550">testing</span><span class="op" id="8399557">.</span><span class="ident" id="8399558">T</span><span class="op" id="8399559">)</span>&nbsp;<span class="op" id="8399561">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8399564">for</span>&nbsp;<span class="ident" id="8399568">_</span><span class="op" id="8399569">,</span>&nbsp;<span class="ident" id="8399571">tt</span>&nbsp;<span class="op" id="8399574">:=</span>&nbsp;<span class="keyword" id="8399577">range</span>&nbsp;<span class="ident" id="8399583">parseIPTests</span>&nbsp;<span class="op" id="8399596">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8399600">if</span>&nbsp;<span class="ident" id="8399603">out</span>&nbsp;<span class="op" id="8399607">:=</span>&nbsp;<span class="ident" id="8399610">ParseIP</span><span class="op" id="8399617">(</span><span class="ident" id="8399618">tt</span><span class="op" id="8399620">.</span><span class="ident" id="8399621">in</span><span class="op" id="8399623">)</span><span class="op" id="8399624">;</span>&nbsp;<span class="op" id="8399626">!</span><span class="ident" id="8399627">reflect</span><span class="op" id="8399634">.</span><span class="ident" id="8399635">DeepEqual</span><span class="op" id="8399644">(</span><span class="ident" id="8399645">out</span><span class="op" id="8399648">,</span>&nbsp;<span class="ident" id="8399650">tt</span><span class="op" id="8399652">.</span><span class="ident" id="8399653">out</span><span class="op" id="8399656">)</span>&nbsp;<span class="op" id="8399658">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8399663">t</span><span class="op" id="8399664">.</span><span class="ident" id="8399665">Errorf</span><span class="op" id="8399671">(</span><span class="string" id="8399672">&#34;ParseIP(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8399699">,</span>&nbsp;<span class="ident" id="8399701">tt</span><span class="op" id="8399703">.</span><span class="ident" id="8399704">in</span><span class="op" id="8399706">,</span>&nbsp;<span class="ident" id="8399708">out</span><span class="op" id="8399711">,</span>&nbsp;<span class="ident" id="8399713">tt</span><span class="op" id="8399715">.</span><span class="ident" id="8399716">out</span><span class="op" id="8399719">)</span><br>
<span class="lineno">35</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399723">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8399727">if</span>&nbsp;<span class="ident" id="8399730">tt</span><span class="op" id="8399732">.</span><span class="ident" id="8399733">in</span>&nbsp;<span class="op" id="8399736">==</span>&nbsp;<span class="string" id="8399739">&#34;&#34;</span>&nbsp;<span class="op" id="8399742">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8399747">//&nbsp;Tested&nbsp;in&nbsp;TestMarshalEmptyIP&nbsp;below.</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8399789">continue</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8399800">}</span><br>
<span class="lineno">40</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8399804">var</span>&nbsp;<span class="ident" id="8399808">out</span>&nbsp;<span class="ident" id="8399812">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8399817">if</span>&nbsp;<span class="ident" id="8399820">err</span>&nbsp;<span class="op" id="8399824">:=</span>&nbsp;<span class="ident" id="8399827">out</span><span class="op" id="8399830">.</span><span class="ident" id="8399831">UnmarshalText</span><span class="op" id="8399844">(</span><span class="op" id="8399845">[</span><span class="op" id="8399846">]</span><span class="builtintype" id="8399847">byte</span><span class="op" id="8399851">(</span><span class="ident" id="8399852">tt</span><span class="op" id="8399854">.</span><span class="ident" id="8399855">in</span><span class="op" id="8399857">)</span><span class="op" id="8399858">)</span><span class="op" id="8399859">;</span>&nbsp;<span class="op" id="8399861">!</span><span class="ident" id="8399862">reflect</span><span class="op" id="8399869">.</span><span class="ident" id="8399870">DeepEqual</span><span class="op" id="8399879">(</span><span class="ident" id="8399880">out</span><span class="op" id="8399883">,</span>&nbsp;<span class="ident" id="8399885">tt</span><span class="op" id="8399887">.</span><span class="ident" id="8399888">out</span><span class="op" id="8399891">)</span>&nbsp;<span class="op" id="8399893">||</span>&nbsp;<span class="op" id="8399896">(</span><span class="ident" id="8399897">tt</span><span class="op" id="8399899">.</span><span class="ident" id="8399900">out</span>&nbsp;<span class="op" id="8399904">==</span>&nbsp;<span class="ident" id="8399907">nil</span><span class="op" id="8399910">)</span>&nbsp;<span class="op" id="8399912">!=</span>&nbsp;<span class="op" id="8399915">(</span><span class="ident" id="8399916">err</span>&nbsp;<span class="op" id="8399920">!=</span>&nbsp;<span class="ident" id="8399923">nil</span><span class="op" id="8399926">)</span>&nbsp;<span class="op" id="8399928">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8399933">t</span><span class="op" id="8399934">.</span><span class="ident" id="8399935">Errorf</span><span class="op" id="8399941">(</span><span class="string" id="8399942">&#34;IP.UnmarshalText(%q)&nbsp;=&nbsp;%v,&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8399982">,</span>&nbsp;<span class="ident" id="8399984">tt</span><span class="op" id="8399986">.</span><span class="ident" id="8399987">in</span><span class="op" id="8399989">,</span>&nbsp;<span class="ident" id="8399991">out</span><span class="op" id="8399994">,</span>&nbsp;<span class="ident" id="8399996">err</span><span class="op" id="8399999">,</span>&nbsp;<span class="ident" id="8400001">tt</span><span class="op" id="8400003">.</span><span class="ident" id="8400004">out</span><span class="op" id="8400007">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400011">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400014">}</span><br>
<span class="lineno">45</span><span class="op" id="8400016">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8400019">func</span>&nbsp;<span class="ident" id="8400024">BenchmarkParseIP</span><span class="op" id="8400040">(</span><span class="ident" id="8400041">b</span>&nbsp;<span class="op" id="8400043">*</span><span class="ident" id="8400044">testing</span><span class="op" id="8400051">.</span><span class="ident" id="8400052">B</span><span class="op" id="8400053">)</span>&nbsp;<span class="op" id="8400055">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400058">for</span>&nbsp;<span class="ident" id="8400062">i</span>&nbsp;<span class="op" id="8400064">:=</span>&nbsp;<span class="num" id="8400067">0</span><span class="op" id="8400068">;</span>&nbsp;<span class="ident" id="8400070">i</span>&nbsp;<span class="op" id="8400072">&lt;</span>&nbsp;<span class="ident" id="8400074">b</span><span class="op" id="8400075">.</span><span class="ident" id="8400076">N</span><span class="op" id="8400077">;</span>&nbsp;<span class="ident" id="8400079">i</span><span class="op" id="8400080">++</span>&nbsp;<span class="op" id="8400083">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400087">for</span>&nbsp;<span class="ident" id="8400091">_</span><span class="op" id="8400092">,</span>&nbsp;<span class="ident" id="8400094">tt</span>&nbsp;<span class="op" id="8400097">:=</span>&nbsp;<span class="keyword" id="8400100">range</span>&nbsp;<span class="ident" id="8400106">parseIPTests</span>&nbsp;<span class="op" id="8400119">{</span><br>
<span class="lineno">50</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400124">ParseIP</span><span class="op" id="8400131">(</span><span class="ident" id="8400132">tt</span><span class="op" id="8400134">.</span><span class="ident" id="8400135">in</span><span class="op" id="8400137">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400141">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400144">}</span><br>
<span class="lineno"></span><span class="op" id="8400146">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">55</span><span class="comment" id="8400149">//&nbsp;Issue&nbsp;6339</span><br>
<span class="lineno"></span><span class="keyword" id="8400163">func</span>&nbsp;<span class="ident" id="8400168">TestMarshalEmptyIP</span><span class="op" id="8400186">(</span><span class="ident" id="8400187">t</span>&nbsp;<span class="op" id="8400189">*</span><span class="ident" id="8400190">testing</span><span class="op" id="8400197">.</span><span class="ident" id="8400198">T</span><span class="op" id="8400199">)</span>&nbsp;<span class="op" id="8400201">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400204">for</span>&nbsp;<span class="ident" id="8400208">_</span><span class="op" id="8400209">,</span>&nbsp;<span class="ident" id="8400211">in</span>&nbsp;<span class="op" id="8400214">:=</span>&nbsp;<span class="keyword" id="8400217">range</span>&nbsp;<span class="op" id="8400223">[</span><span class="op" id="8400224">]</span><span class="op" id="8400225">[</span><span class="op" id="8400226">]</span><span class="builtintype" id="8400227">byte</span><span class="op" id="8400231">{</span><span class="ident" id="8400232">nil</span><span class="op" id="8400235">,</span>&nbsp;<span class="op" id="8400237">[</span><span class="op" id="8400238">]</span><span class="builtintype" id="8400239">byte</span><span class="op" id="8400243">(</span><span class="string" id="8400244">&#34;&#34;</span><span class="op" id="8400246">)</span><span class="op" id="8400247">}</span>&nbsp;<span class="op" id="8400249">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400253">var</span>&nbsp;<span class="ident" id="8400257">out</span>&nbsp;<span class="op" id="8400261">=</span>&nbsp;<span class="ident" id="8400263">IP</span><span class="op" id="8400265">{</span><span class="num" id="8400266">1</span><span class="op" id="8400267">,</span>&nbsp;<span class="num" id="8400269">2</span><span class="op" id="8400270">,</span>&nbsp;<span class="num" id="8400272">3</span><span class="op" id="8400273">,</span>&nbsp;<span class="num" id="8400275">4</span><span class="op" id="8400276">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400280">if</span>&nbsp;<span class="ident" id="8400283">err</span>&nbsp;<span class="op" id="8400287">:=</span>&nbsp;<span class="ident" id="8400290">out</span><span class="op" id="8400293">.</span><span class="ident" id="8400294">UnmarshalText</span><span class="op" id="8400307">(</span><span class="ident" id="8400308">in</span><span class="op" id="8400310">)</span><span class="op" id="8400311">;</span>&nbsp;<span class="ident" id="8400313">err</span>&nbsp;<span class="op" id="8400317">!=</span>&nbsp;<span class="ident" id="8400320">nil</span>&nbsp;<span class="op" id="8400324">||</span>&nbsp;<span class="ident" id="8400327">out</span>&nbsp;<span class="op" id="8400331">!=</span>&nbsp;<span class="ident" id="8400334">nil</span>&nbsp;<span class="op" id="8400338">{</span><br>
<span class="lineno">60</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400343">t</span><span class="op" id="8400344">.</span><span class="ident" id="8400345">Errorf</span><span class="op" id="8400351">(</span><span class="string" id="8400352">&#34;UnmarshalText(%v)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;nil,&nbsp;nil&#34;</span><span class="op" id="8400395">,</span>&nbsp;<span class="ident" id="8400397">in</span><span class="op" id="8400399">,</span>&nbsp;<span class="ident" id="8400401">out</span><span class="op" id="8400404">,</span>&nbsp;<span class="ident" id="8400406">err</span><span class="op" id="8400409">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400413">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400416">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400419">var</span>&nbsp;<span class="ident" id="8400423">ip</span>&nbsp;<span class="ident" id="8400426">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400430">got</span><span class="op" id="8400433">,</span>&nbsp;<span class="ident" id="8400435">err</span>&nbsp;<span class="op" id="8400439">:=</span>&nbsp;<span class="ident" id="8400442">ip</span><span class="op" id="8400444">.</span><span class="ident" id="8400445">MarshalText</span><span class="op" id="8400456">(</span><span class="op" id="8400457">)</span><br>
<span class="lineno">65</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400460">if</span>&nbsp;<span class="ident" id="8400463">err</span>&nbsp;<span class="op" id="8400467">!=</span>&nbsp;<span class="ident" id="8400470">nil</span>&nbsp;<span class="op" id="8400474">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400478">t</span><span class="op" id="8400479">.</span><span class="ident" id="8400480">Fatal</span><span class="op" id="8400485">(</span><span class="ident" id="8400486">err</span><span class="op" id="8400489">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400492">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8400495">if</span>&nbsp;<span class="op" id="8400498">!</span><span class="ident" id="8400499">reflect</span><span class="op" id="8400506">.</span><span class="ident" id="8400507">DeepEqual</span><span class="op" id="8400516">(</span><span class="ident" id="8400517">got</span><span class="op" id="8400520">,</span>&nbsp;<span class="op" id="8400522">[</span><span class="op" id="8400523">]</span><span class="builtintype" id="8400524">byte</span><span class="op" id="8400528">(</span><span class="string" id="8400529">&#34;&#34;</span><span class="op" id="8400531">)</span><span class="op" id="8400532">)</span>&nbsp;<span class="op" id="8400534">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400538">t</span><span class="op" id="8400539">.</span><span class="ident" id="8400540">Errorf</span><span class="op" id="8400546">(</span><span class="string" id="8400547">`got&nbsp;%#v,&nbsp;want&nbsp;[]byte(&#34;&#34;)`</span><span class="op" id="8400573">,</span>&nbsp;<span class="ident" id="8400575">got</span><span class="op" id="8400578">)</span><br>
<span class="lineno">70</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400581">}</span><br>
<span class="lineno"></span><span class="op" id="8400583">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8400586">var</span>&nbsp;<span class="ident" id="8400590">ipStringTests</span>&nbsp;<span class="op" id="8400604">=</span>&nbsp;<span class="op" id="8400606">[</span><span class="op" id="8400607">]</span><span class="keyword" id="8400608">struct</span>&nbsp;<span class="op" id="8400615">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400618">in</span>&nbsp;&nbsp;<span class="ident" id="8400622">IP</span><br>
<span class="lineno">75</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8400626">out</span>&nbsp;<span class="builtintype" id="8400630">string</span>&nbsp;<span class="comment" id="8400637">//&nbsp;see&nbsp;RFC&nbsp;5952</span><br>
<span class="lineno"></span><span class="op" id="8400653">}</span><span class="op" id="8400654">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400657">{</span><span class="ident" id="8400658">IP</span><span class="op" id="8400660">{</span><span class="num" id="8400661">0x20</span><span class="op" id="8400665">,</span>&nbsp;<span class="num" id="8400667">0x1</span><span class="op" id="8400670">,</span>&nbsp;<span class="num" id="8400672">0xd</span><span class="op" id="8400675">,</span>&nbsp;<span class="num" id="8400677">0xb8</span><span class="op" id="8400681">,</span>&nbsp;<span class="num" id="8400683">0</span><span class="op" id="8400684">,</span>&nbsp;<span class="num" id="8400686">0</span><span class="op" id="8400687">,</span>&nbsp;<span class="num" id="8400689">0</span><span class="op" id="8400690">,</span>&nbsp;<span class="num" id="8400692">0</span><span class="op" id="8400693">,</span>&nbsp;<span class="num" id="8400695">0</span><span class="op" id="8400696">,</span>&nbsp;<span class="num" id="8400698">0</span><span class="op" id="8400699">,</span>&nbsp;<span class="num" id="8400701">0x1</span><span class="op" id="8400704">,</span>&nbsp;<span class="num" id="8400706">0x23</span><span class="op" id="8400710">,</span>&nbsp;<span class="num" id="8400712">0</span><span class="op" id="8400713">,</span>&nbsp;<span class="num" id="8400715">0x12</span><span class="op" id="8400719">,</span>&nbsp;<span class="num" id="8400721">0</span><span class="op" id="8400722">,</span>&nbsp;<span class="num" id="8400724">0x1</span><span class="op" id="8400727">}</span><span class="op" id="8400728">,</span>&nbsp;<span class="string" id="8400730">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="8400750">}</span><span class="op" id="8400751">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400754">{</span><span class="ident" id="8400755">IP</span><span class="op" id="8400757">{</span><span class="num" id="8400758">0x20</span><span class="op" id="8400762">,</span>&nbsp;<span class="num" id="8400764">0x1</span><span class="op" id="8400767">,</span>&nbsp;<span class="num" id="8400769">0xd</span><span class="op" id="8400772">,</span>&nbsp;<span class="num" id="8400774">0xb8</span><span class="op" id="8400778">,</span>&nbsp;<span class="num" id="8400780">0</span><span class="op" id="8400781">,</span>&nbsp;<span class="num" id="8400783">0</span><span class="op" id="8400784">,</span>&nbsp;<span class="num" id="8400786">0</span><span class="op" id="8400787">,</span>&nbsp;<span class="num" id="8400789">0</span><span class="op" id="8400790">,</span>&nbsp;<span class="num" id="8400792">0</span><span class="op" id="8400793">,</span>&nbsp;<span class="num" id="8400795">0</span><span class="op" id="8400796">,</span>&nbsp;<span class="num" id="8400798">0</span><span class="op" id="8400799">,</span>&nbsp;<span class="num" id="8400801">0</span><span class="op" id="8400802">,</span>&nbsp;<span class="num" id="8400804">0</span><span class="op" id="8400805">,</span>&nbsp;<span class="num" id="8400807">0</span><span class="op" id="8400808">,</span>&nbsp;<span class="num" id="8400810">0</span><span class="op" id="8400811">,</span>&nbsp;<span class="num" id="8400813">0x1</span><span class="op" id="8400816">}</span><span class="op" id="8400817">,</span>&nbsp;<span class="string" id="8400819">&#34;2001:db8::1&#34;</span><span class="op" id="8400832">}</span><span class="op" id="8400833">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400836">{</span><span class="ident" id="8400837">IP</span><span class="op" id="8400839">{</span><span class="num" id="8400840">0x20</span><span class="op" id="8400844">,</span>&nbsp;<span class="num" id="8400846">0x1</span><span class="op" id="8400849">,</span>&nbsp;<span class="num" id="8400851">0xd</span><span class="op" id="8400854">,</span>&nbsp;<span class="num" id="8400856">0xb8</span><span class="op" id="8400860">,</span>&nbsp;<span class="num" id="8400862">0</span><span class="op" id="8400863">,</span>&nbsp;<span class="num" id="8400865">0</span><span class="op" id="8400866">,</span>&nbsp;<span class="num" id="8400868">0</span><span class="op" id="8400869">,</span>&nbsp;<span class="num" id="8400871">0x1</span><span class="op" id="8400874">,</span>&nbsp;<span class="num" id="8400876">0</span><span class="op" id="8400877">,</span>&nbsp;<span class="num" id="8400879">0</span><span class="op" id="8400880">,</span>&nbsp;<span class="num" id="8400882">0</span><span class="op" id="8400883">,</span>&nbsp;<span class="num" id="8400885">0x1</span><span class="op" id="8400888">,</span>&nbsp;<span class="num" id="8400890">0</span><span class="op" id="8400891">,</span>&nbsp;<span class="num" id="8400893">0</span><span class="op" id="8400894">,</span>&nbsp;<span class="num" id="8400896">0</span><span class="op" id="8400897">,</span>&nbsp;<span class="num" id="8400899">0x1</span><span class="op" id="8400902">}</span><span class="op" id="8400903">,</span>&nbsp;<span class="string" id="8400905">&#34;2001:db8:0:1:0:1:0:1&#34;</span><span class="op" id="8400927">}</span><span class="op" id="8400928">,</span><br>
<span class="lineno">80</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8400931">{</span><span class="ident" id="8400932">IP</span><span class="op" id="8400934">{</span><span class="num" id="8400935">0x20</span><span class="op" id="8400939">,</span>&nbsp;<span class="num" id="8400941">0x1</span><span class="op" id="8400944">,</span>&nbsp;<span class="num" id="8400946">0xd</span><span class="op" id="8400949">,</span>&nbsp;<span class="num" id="8400951">0xb8</span><span class="op" id="8400955">,</span>&nbsp;<span class="num" id="8400957">0</span><span class="op" id="8400958">,</span>&nbsp;<span class="num" id="8400960">0x1</span><span class="op" id="8400963">,</span>&nbsp;<span class="num" id="8400965">0</span><span class="op" id="8400966">,</span>&nbsp;<span class="num" id="8400968">0</span><span class="op" id="8400969">,</span>&nbsp;<span class="num" id="8400971">0</span><span class="op" id="8400972">,</span>&nbsp;<span class="num" id="8400974">0x1</span><span class="op" id="8400977">,</span>&nbsp;<span class="num" id="8400979">0</span><span class="op" id="8400980">,</span>&nbsp;<span class="num" id="8400982">0</span><span class="op" id="8400983">,</span>&nbsp;<span class="num" id="8400985">0</span><span class="op" id="8400986">,</span>&nbsp;<span class="num" id="8400988">0x1</span><span class="op" id="8400991">,</span>&nbsp;<span class="num" id="8400993">0</span><span class="op" id="8400994">,</span>&nbsp;<span class="num" id="8400996">0</span><span class="op" id="8400997">}</span><span class="op" id="8400998">,</span>&nbsp;<span class="string" id="8401000">&#34;2001:db8:1:0:1:0:1:0&#34;</span><span class="op" id="8401022">}</span><span class="op" id="8401023">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401026">{</span><span class="ident" id="8401027">IP</span><span class="op" id="8401029">{</span><span class="num" id="8401030">0x20</span><span class="op" id="8401034">,</span>&nbsp;<span class="num" id="8401036">0x1</span><span class="op" id="8401039">,</span>&nbsp;<span class="num" id="8401041">0</span><span class="op" id="8401042">,</span>&nbsp;<span class="num" id="8401044">0</span><span class="op" id="8401045">,</span>&nbsp;<span class="num" id="8401047">0</span><span class="op" id="8401048">,</span>&nbsp;<span class="num" id="8401050">0</span><span class="op" id="8401051">,</span>&nbsp;<span class="num" id="8401053">0</span><span class="op" id="8401054">,</span>&nbsp;<span class="num" id="8401056">0</span><span class="op" id="8401057">,</span>&nbsp;<span class="num" id="8401059">0</span><span class="op" id="8401060">,</span>&nbsp;<span class="num" id="8401062">0x1</span><span class="op" id="8401065">,</span>&nbsp;<span class="num" id="8401067">0</span><span class="op" id="8401068">,</span>&nbsp;<span class="num" id="8401070">0</span><span class="op" id="8401071">,</span>&nbsp;<span class="num" id="8401073">0</span><span class="op" id="8401074">,</span>&nbsp;<span class="num" id="8401076">0</span><span class="op" id="8401077">,</span>&nbsp;<span class="num" id="8401079">0</span><span class="op" id="8401080">,</span>&nbsp;<span class="num" id="8401082">0x1</span><span class="op" id="8401085">}</span><span class="op" id="8401086">,</span>&nbsp;<span class="string" id="8401088">&#34;2001::1:0:0:1&#34;</span><span class="op" id="8401103">}</span><span class="op" id="8401104">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401107">{</span><span class="ident" id="8401108">IP</span><span class="op" id="8401110">{</span><span class="num" id="8401111">0x20</span><span class="op" id="8401115">,</span>&nbsp;<span class="num" id="8401117">0x1</span><span class="op" id="8401120">,</span>&nbsp;<span class="num" id="8401122">0xd</span><span class="op" id="8401125">,</span>&nbsp;<span class="num" id="8401127">0xb8</span><span class="op" id="8401131">,</span>&nbsp;<span class="num" id="8401133">0</span><span class="op" id="8401134">,</span>&nbsp;<span class="num" id="8401136">0</span><span class="op" id="8401137">,</span>&nbsp;<span class="num" id="8401139">0</span><span class="op" id="8401140">,</span>&nbsp;<span class="num" id="8401142">0</span><span class="op" id="8401143">,</span>&nbsp;<span class="num" id="8401145">0</span><span class="op" id="8401146">,</span>&nbsp;<span class="num" id="8401148">0x1</span><span class="op" id="8401151">,</span>&nbsp;<span class="num" id="8401153">0</span><span class="op" id="8401154">,</span>&nbsp;<span class="num" id="8401156">0</span><span class="op" id="8401157">,</span>&nbsp;<span class="num" id="8401159">0</span><span class="op" id="8401160">,</span>&nbsp;<span class="num" id="8401162">0</span><span class="op" id="8401163">,</span>&nbsp;<span class="num" id="8401165">0</span><span class="op" id="8401166">,</span>&nbsp;<span class="num" id="8401168">0</span><span class="op" id="8401169">}</span><span class="op" id="8401170">,</span>&nbsp;<span class="string" id="8401172">&#34;2001:db8:0:0:1::&#34;</span><span class="op" id="8401190">}</span><span class="op" id="8401191">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401194">{</span><span class="ident" id="8401195">IP</span><span class="op" id="8401197">{</span><span class="num" id="8401198">0x20</span><span class="op" id="8401202">,</span>&nbsp;<span class="num" id="8401204">0x1</span><span class="op" id="8401207">,</span>&nbsp;<span class="num" id="8401209">0xd</span><span class="op" id="8401212">,</span>&nbsp;<span class="num" id="8401214">0xb8</span><span class="op" id="8401218">,</span>&nbsp;<span class="num" id="8401220">0</span><span class="op" id="8401221">,</span>&nbsp;<span class="num" id="8401223">0</span><span class="op" id="8401224">,</span>&nbsp;<span class="num" id="8401226">0</span><span class="op" id="8401227">,</span>&nbsp;<span class="num" id="8401229">0</span><span class="op" id="8401230">,</span>&nbsp;<span class="num" id="8401232">0</span><span class="op" id="8401233">,</span>&nbsp;<span class="num" id="8401235">0x1</span><span class="op" id="8401238">,</span>&nbsp;<span class="num" id="8401240">0</span><span class="op" id="8401241">,</span>&nbsp;<span class="num" id="8401243">0</span><span class="op" id="8401244">,</span>&nbsp;<span class="num" id="8401246">0</span><span class="op" id="8401247">,</span>&nbsp;<span class="num" id="8401249">0</span><span class="op" id="8401250">,</span>&nbsp;<span class="num" id="8401252">0</span><span class="op" id="8401253">,</span>&nbsp;<span class="num" id="8401255">0x1</span><span class="op" id="8401258">}</span><span class="op" id="8401259">,</span>&nbsp;<span class="string" id="8401261">&#34;2001:db8::1:0:0:1&#34;</span><span class="op" id="8401280">}</span><span class="op" id="8401281">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401284">{</span><span class="ident" id="8401285">IP</span><span class="op" id="8401287">{</span><span class="num" id="8401288">0x20</span><span class="op" id="8401292">,</span>&nbsp;<span class="num" id="8401294">0x1</span><span class="op" id="8401297">,</span>&nbsp;<span class="num" id="8401299">0xD</span><span class="op" id="8401302">,</span>&nbsp;<span class="num" id="8401304">0xB8</span><span class="op" id="8401308">,</span>&nbsp;<span class="num" id="8401310">0</span><span class="op" id="8401311">,</span>&nbsp;<span class="num" id="8401313">0</span><span class="op" id="8401314">,</span>&nbsp;<span class="num" id="8401316">0</span><span class="op" id="8401317">,</span>&nbsp;<span class="num" id="8401319">0</span><span class="op" id="8401320">,</span>&nbsp;<span class="num" id="8401322">0</span><span class="op" id="8401323">,</span>&nbsp;<span class="num" id="8401325">0xA</span><span class="op" id="8401328">,</span>&nbsp;<span class="num" id="8401330">0</span><span class="op" id="8401331">,</span>&nbsp;<span class="num" id="8401333">0xB</span><span class="op" id="8401336">,</span>&nbsp;<span class="num" id="8401338">0</span><span class="op" id="8401339">,</span>&nbsp;<span class="num" id="8401341">0xC</span><span class="op" id="8401344">,</span>&nbsp;<span class="num" id="8401346">0</span><span class="op" id="8401347">,</span>&nbsp;<span class="num" id="8401349">0xD</span><span class="op" id="8401352">}</span><span class="op" id="8401353">,</span>&nbsp;<span class="string" id="8401355">&#34;2001:db8::a:b:c:d&#34;</span><span class="op" id="8401374">}</span><span class="op" id="8401375">,</span><br>
<span class="lineno">85</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401378">{</span><span class="ident" id="8401379">IPv4</span><span class="op" id="8401383">(</span><span class="num" id="8401384">192</span><span class="op" id="8401387">,</span>&nbsp;<span class="num" id="8401389">168</span><span class="op" id="8401392">,</span>&nbsp;<span class="num" id="8401394">0</span><span class="op" id="8401395">,</span>&nbsp;<span class="num" id="8401397">1</span><span class="op" id="8401398">)</span><span class="op" id="8401399">,</span>&nbsp;<span class="string" id="8401401">&#34;192.168.0.1&#34;</span><span class="op" id="8401414">}</span><span class="op" id="8401415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401418">{</span><span class="ident" id="8401419">nil</span><span class="op" id="8401422">,</span>&nbsp;<span class="string" id="8401424">&#34;&#34;</span><span class="op" id="8401426">}</span><span class="op" id="8401427">,</span><br>
<span class="lineno"></span><span class="op" id="8401429">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8401432">func</span>&nbsp;<span class="ident" id="8401437">TestIPString</span><span class="op" id="8401449">(</span><span class="ident" id="8401450">t</span>&nbsp;<span class="op" id="8401452">*</span><span class="ident" id="8401453">testing</span><span class="op" id="8401460">.</span><span class="ident" id="8401461">T</span><span class="op" id="8401462">)</span>&nbsp;<span class="op" id="8401464">{</span><br>
<span class="lineno">90</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401467">for</span>&nbsp;<span class="ident" id="8401471">_</span><span class="op" id="8401472">,</span>&nbsp;<span class="ident" id="8401474">tt</span>&nbsp;<span class="op" id="8401477">:=</span>&nbsp;<span class="keyword" id="8401480">range</span>&nbsp;<span class="ident" id="8401486">ipStringTests</span>&nbsp;<span class="op" id="8401500">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401504">if</span>&nbsp;<span class="ident" id="8401507">tt</span><span class="op" id="8401509">.</span><span class="ident" id="8401510">in</span>&nbsp;<span class="op" id="8401513">!=</span>&nbsp;<span class="ident" id="8401516">nil</span>&nbsp;<span class="op" id="8401520">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401525">if</span>&nbsp;<span class="ident" id="8401528">out</span>&nbsp;<span class="op" id="8401532">:=</span>&nbsp;<span class="ident" id="8401535">tt</span><span class="op" id="8401537">.</span><span class="ident" id="8401538">in</span><span class="op" id="8401540">.</span><span class="ident" id="8401541">String</span><span class="op" id="8401547">(</span><span class="op" id="8401548">)</span><span class="op" id="8401549">;</span>&nbsp;<span class="ident" id="8401551">out</span>&nbsp;<span class="op" id="8401555">!=</span>&nbsp;<span class="ident" id="8401558">tt</span><span class="op" id="8401560">.</span><span class="ident" id="8401561">out</span>&nbsp;<span class="op" id="8401565">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8401571">t</span><span class="op" id="8401572">.</span><span class="ident" id="8401573">Errorf</span><span class="op" id="8401579">(</span><span class="string" id="8401580">&#34;IP.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8401609">,</span>&nbsp;<span class="ident" id="8401611">tt</span><span class="op" id="8401613">.</span><span class="ident" id="8401614">in</span><span class="op" id="8401616">,</span>&nbsp;<span class="ident" id="8401618">out</span><span class="op" id="8401621">,</span>&nbsp;<span class="ident" id="8401623">tt</span><span class="op" id="8401625">.</span><span class="ident" id="8401626">out</span><span class="op" id="8401629">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401634">}</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401638">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401642">if</span>&nbsp;<span class="ident" id="8401645">out</span><span class="op" id="8401648">,</span>&nbsp;<span class="ident" id="8401650">err</span>&nbsp;<span class="op" id="8401654">:=</span>&nbsp;<span class="ident" id="8401657">tt</span><span class="op" id="8401659">.</span><span class="ident" id="8401660">in</span><span class="op" id="8401662">.</span><span class="ident" id="8401663">MarshalText</span><span class="op" id="8401674">(</span><span class="op" id="8401675">)</span><span class="op" id="8401676">;</span>&nbsp;<span class="builtintype" id="8401678">string</span><span class="op" id="8401684">(</span><span class="ident" id="8401685">out</span><span class="op" id="8401688">)</span>&nbsp;<span class="op" id="8401690">!=</span>&nbsp;<span class="ident" id="8401693">tt</span><span class="op" id="8401695">.</span><span class="ident" id="8401696">out</span>&nbsp;<span class="op" id="8401700">||</span>&nbsp;<span class="ident" id="8401703">err</span>&nbsp;<span class="op" id="8401707">!=</span>&nbsp;<span class="ident" id="8401710">nil</span>&nbsp;<span class="op" id="8401714">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8401719">t</span><span class="op" id="8401720">.</span><span class="ident" id="8401721">Errorf</span><span class="op" id="8401727">(</span><span class="string" id="8401728">&#34;IP.MarshalText(%v)&nbsp;=&nbsp;%q,&nbsp;%v,&nbsp;want&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="8401771">,</span>&nbsp;<span class="ident" id="8401773">tt</span><span class="op" id="8401775">.</span><span class="ident" id="8401776">in</span><span class="op" id="8401778">,</span>&nbsp;<span class="ident" id="8401780">out</span><span class="op" id="8401783">,</span>&nbsp;<span class="ident" id="8401785">err</span><span class="op" id="8401788">,</span>&nbsp;<span class="ident" id="8401790">tt</span><span class="op" id="8401792">.</span><span class="ident" id="8401793">out</span><span class="op" id="8401796">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401800">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401803">}</span><br>
<span class="lineno">100</span><span class="op" id="8401805">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8401808">func</span>&nbsp;<span class="ident" id="8401813">BenchmarkIPString</span><span class="op" id="8401830">(</span><span class="ident" id="8401831">b</span>&nbsp;<span class="op" id="8401833">*</span><span class="ident" id="8401834">testing</span><span class="op" id="8401841">.</span><span class="ident" id="8401842">B</span><span class="op" id="8401843">)</span>&nbsp;<span class="op" id="8401845">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401848">for</span>&nbsp;<span class="ident" id="8401852">i</span>&nbsp;<span class="op" id="8401854">:=</span>&nbsp;<span class="num" id="8401857">0</span><span class="op" id="8401858">;</span>&nbsp;<span class="ident" id="8401860">i</span>&nbsp;<span class="op" id="8401862">&lt;</span>&nbsp;<span class="ident" id="8401864">b</span><span class="op" id="8401865">.</span><span class="ident" id="8401866">N</span><span class="op" id="8401867">;</span>&nbsp;<span class="ident" id="8401869">i</span><span class="op" id="8401870">++</span>&nbsp;<span class="op" id="8401873">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401877">for</span>&nbsp;<span class="ident" id="8401881">_</span><span class="op" id="8401882">,</span>&nbsp;<span class="ident" id="8401884">tt</span>&nbsp;<span class="op" id="8401887">:=</span>&nbsp;<span class="keyword" id="8401890">range</span>&nbsp;<span class="ident" id="8401896">ipStringTests</span>&nbsp;<span class="op" id="8401910">{</span><br>
<span class="lineno">105</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8401915">if</span>&nbsp;<span class="ident" id="8401918">tt</span><span class="op" id="8401920">.</span><span class="ident" id="8401921">in</span>&nbsp;<span class="op" id="8401924">!=</span>&nbsp;<span class="ident" id="8401927">nil</span>&nbsp;<span class="op" id="8401931">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8401937">tt</span><span class="op" id="8401939">.</span><span class="ident" id="8401940">in</span><span class="op" id="8401942">.</span><span class="ident" id="8401943">String</span><span class="op" id="8401949">(</span><span class="op" id="8401950">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401955">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401959">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8401962">}</span><br>
<span class="lineno">110</span><span class="op" id="8401964">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8401967">var</span>&nbsp;<span class="ident" id="8401971">ipMaskTests</span>&nbsp;<span class="op" id="8401983">=</span>&nbsp;<span class="op" id="8401985">[</span><span class="op" id="8401986">]</span><span class="keyword" id="8401987">struct</span>&nbsp;<span class="op" id="8401994">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8401997">in</span>&nbsp;&nbsp;&nbsp;<span class="ident" id="8402002">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8402006">mask</span>&nbsp;<span class="ident" id="8402011">IPMask</span><br>
<span class="lineno">115</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8402019">out</span>&nbsp;&nbsp;<span class="ident" id="8402024">IP</span><br>
<span class="lineno"></span><span class="op" id="8402027">}</span><span class="op" id="8402028">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402031">{</span><span class="ident" id="8402032">IPv4</span><span class="op" id="8402036">(</span><span class="num" id="8402037">192</span><span class="op" id="8402040">,</span>&nbsp;<span class="num" id="8402042">168</span><span class="op" id="8402045">,</span>&nbsp;<span class="num" id="8402047">1</span><span class="op" id="8402048">,</span>&nbsp;<span class="num" id="8402050">127</span><span class="op" id="8402053">)</span><span class="op" id="8402054">,</span>&nbsp;<span class="ident" id="8402056">IPv4Mask</span><span class="op" id="8402064">(</span><span class="num" id="8402065">255</span><span class="op" id="8402068">,</span>&nbsp;<span class="num" id="8402070">255</span><span class="op" id="8402073">,</span>&nbsp;<span class="num" id="8402075">255</span><span class="op" id="8402078">,</span>&nbsp;<span class="num" id="8402080">128</span><span class="op" id="8402083">)</span><span class="op" id="8402084">,</span>&nbsp;<span class="ident" id="8402086">IPv4</span><span class="op" id="8402090">(</span><span class="num" id="8402091">192</span><span class="op" id="8402094">,</span>&nbsp;<span class="num" id="8402096">168</span><span class="op" id="8402099">,</span>&nbsp;<span class="num" id="8402101">1</span><span class="op" id="8402102">,</span>&nbsp;<span class="num" id="8402104">0</span><span class="op" id="8402105">)</span><span class="op" id="8402106">}</span><span class="op" id="8402107">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402110">{</span><span class="ident" id="8402111">IPv4</span><span class="op" id="8402115">(</span><span class="num" id="8402116">192</span><span class="op" id="8402119">,</span>&nbsp;<span class="num" id="8402121">168</span><span class="op" id="8402124">,</span>&nbsp;<span class="num" id="8402126">1</span><span class="op" id="8402127">,</span>&nbsp;<span class="num" id="8402129">127</span><span class="op" id="8402132">)</span><span class="op" id="8402133">,</span>&nbsp;<span class="ident" id="8402135">IPMask</span><span class="op" id="8402141">(</span><span class="ident" id="8402142">ParseIP</span><span class="op" id="8402149">(</span><span class="string" id="8402150">&#34;255.255.255.192&#34;</span><span class="op" id="8402167">)</span><span class="op" id="8402168">)</span><span class="op" id="8402169">,</span>&nbsp;<span class="ident" id="8402171">IPv4</span><span class="op" id="8402175">(</span><span class="num" id="8402176">192</span><span class="op" id="8402179">,</span>&nbsp;<span class="num" id="8402181">168</span><span class="op" id="8402184">,</span>&nbsp;<span class="num" id="8402186">1</span><span class="op" id="8402187">,</span>&nbsp;<span class="num" id="8402189">64</span><span class="op" id="8402191">)</span><span class="op" id="8402192">}</span><span class="op" id="8402193">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402196">{</span><span class="ident" id="8402197">IPv4</span><span class="op" id="8402201">(</span><span class="num" id="8402202">192</span><span class="op" id="8402205">,</span>&nbsp;<span class="num" id="8402207">168</span><span class="op" id="8402210">,</span>&nbsp;<span class="num" id="8402212">1</span><span class="op" id="8402213">,</span>&nbsp;<span class="num" id="8402215">127</span><span class="op" id="8402218">)</span><span class="op" id="8402219">,</span>&nbsp;<span class="ident" id="8402221">IPMask</span><span class="op" id="8402227">(</span><span class="ident" id="8402228">ParseIP</span><span class="op" id="8402235">(</span><span class="string" id="8402236">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffe0&#34;</span><span class="op" id="8402277">)</span><span class="op" id="8402278">)</span><span class="op" id="8402279">,</span>&nbsp;<span class="ident" id="8402281">IPv4</span><span class="op" id="8402285">(</span><span class="num" id="8402286">192</span><span class="op" id="8402289">,</span>&nbsp;<span class="num" id="8402291">168</span><span class="op" id="8402294">,</span>&nbsp;<span class="num" id="8402296">1</span><span class="op" id="8402297">,</span>&nbsp;<span class="num" id="8402299">96</span><span class="op" id="8402301">)</span><span class="op" id="8402302">}</span><span class="op" id="8402303">,</span><br>
<span class="lineno">120</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402306">{</span><span class="ident" id="8402307">IPv4</span><span class="op" id="8402311">(</span><span class="num" id="8402312">192</span><span class="op" id="8402315">,</span>&nbsp;<span class="num" id="8402317">168</span><span class="op" id="8402320">,</span>&nbsp;<span class="num" id="8402322">1</span><span class="op" id="8402323">,</span>&nbsp;<span class="num" id="8402325">127</span><span class="op" id="8402328">)</span><span class="op" id="8402329">,</span>&nbsp;<span class="ident" id="8402331">IPv4Mask</span><span class="op" id="8402339">(</span><span class="num" id="8402340">255</span><span class="op" id="8402343">,</span>&nbsp;<span class="num" id="8402345">0</span><span class="op" id="8402346">,</span>&nbsp;<span class="num" id="8402348">255</span><span class="op" id="8402351">,</span>&nbsp;<span class="num" id="8402353">0</span><span class="op" id="8402354">)</span><span class="op" id="8402355">,</span>&nbsp;<span class="ident" id="8402357">IPv4</span><span class="op" id="8402361">(</span><span class="num" id="8402362">192</span><span class="op" id="8402365">,</span>&nbsp;<span class="num" id="8402367">0</span><span class="op" id="8402368">,</span>&nbsp;<span class="num" id="8402370">1</span><span class="op" id="8402371">,</span>&nbsp;<span class="num" id="8402373">0</span><span class="op" id="8402374">)</span><span class="op" id="8402375">}</span><span class="op" id="8402376">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402379">{</span><span class="ident" id="8402380">ParseIP</span><span class="op" id="8402387">(</span><span class="string" id="8402388">&#34;2001:db8::1&#34;</span><span class="op" id="8402401">)</span><span class="op" id="8402402">,</span>&nbsp;<span class="ident" id="8402404">IPMask</span><span class="op" id="8402410">(</span><span class="ident" id="8402411">ParseIP</span><span class="op" id="8402418">(</span><span class="string" id="8402419">&#34;ffff:ff80::&#34;</span><span class="op" id="8402432">)</span><span class="op" id="8402433">)</span><span class="op" id="8402434">,</span>&nbsp;<span class="ident" id="8402436">ParseIP</span><span class="op" id="8402443">(</span><span class="string" id="8402444">&#34;2001:d80::&#34;</span><span class="op" id="8402456">)</span><span class="op" id="8402457">}</span><span class="op" id="8402458">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402461">{</span><span class="ident" id="8402462">ParseIP</span><span class="op" id="8402469">(</span><span class="string" id="8402470">&#34;2001:db8::1&#34;</span><span class="op" id="8402483">)</span><span class="op" id="8402484">,</span>&nbsp;<span class="ident" id="8402486">IPMask</span><span class="op" id="8402492">(</span><span class="ident" id="8402493">ParseIP</span><span class="op" id="8402500">(</span><span class="string" id="8402501">&#34;f0f0:0f0f::&#34;</span><span class="op" id="8402514">)</span><span class="op" id="8402515">)</span><span class="op" id="8402516">,</span>&nbsp;<span class="ident" id="8402518">ParseIP</span><span class="op" id="8402525">(</span><span class="string" id="8402526">&#34;2000:d08::&#34;</span><span class="op" id="8402538">)</span><span class="op" id="8402539">}</span><span class="op" id="8402540">,</span><br>
<span class="lineno"></span><span class="op" id="8402542">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="keyword" id="8402545">func</span>&nbsp;<span class="ident" id="8402550">TestIPMask</span><span class="op" id="8402560">(</span><span class="ident" id="8402561">t</span>&nbsp;<span class="op" id="8402563">*</span><span class="ident" id="8402564">testing</span><span class="op" id="8402571">.</span><span class="ident" id="8402572">T</span><span class="op" id="8402573">)</span>&nbsp;<span class="op" id="8402575">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8402578">for</span>&nbsp;<span class="ident" id="8402582">_</span><span class="op" id="8402583">,</span>&nbsp;<span class="ident" id="8402585">tt</span>&nbsp;<span class="op" id="8402588">:=</span>&nbsp;<span class="keyword" id="8402591">range</span>&nbsp;<span class="ident" id="8402597">ipMaskTests</span>&nbsp;<span class="op" id="8402609">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8402613">if</span>&nbsp;<span class="ident" id="8402616">out</span>&nbsp;<span class="op" id="8402620">:=</span>&nbsp;<span class="ident" id="8402623">tt</span><span class="op" id="8402625">.</span><span class="ident" id="8402626">in</span><span class="op" id="8402628">.</span><span class="ident" id="8402629">Mask</span><span class="op" id="8402633">(</span><span class="ident" id="8402634">tt</span><span class="op" id="8402636">.</span><span class="ident" id="8402637">mask</span><span class="op" id="8402641">)</span><span class="op" id="8402642">;</span>&nbsp;<span class="ident" id="8402644">out</span>&nbsp;<span class="op" id="8402648">==</span>&nbsp;<span class="ident" id="8402651">nil</span>&nbsp;<span class="op" id="8402655">||</span>&nbsp;<span class="op" id="8402658">!</span><span class="ident" id="8402659">tt</span><span class="op" id="8402661">.</span><span class="ident" id="8402662">out</span><span class="op" id="8402665">.</span><span class="ident" id="8402666">Equal</span><span class="op" id="8402671">(</span><span class="ident" id="8402672">out</span><span class="op" id="8402675">)</span>&nbsp;<span class="op" id="8402677">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8402682">t</span><span class="op" id="8402683">.</span><span class="ident" id="8402684">Errorf</span><span class="op" id="8402690">(</span><span class="string" id="8402691">&#34;IP(%v).Mask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8402722">,</span>&nbsp;<span class="ident" id="8402724">tt</span><span class="op" id="8402726">.</span><span class="ident" id="8402727">in</span><span class="op" id="8402729">,</span>&nbsp;<span class="ident" id="8402731">tt</span><span class="op" id="8402733">.</span><span class="ident" id="8402734">mask</span><span class="op" id="8402738">,</span>&nbsp;<span class="ident" id="8402740">out</span><span class="op" id="8402743">,</span>&nbsp;<span class="ident" id="8402745">tt</span><span class="op" id="8402747">.</span><span class="ident" id="8402748">out</span><span class="op" id="8402751">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402755">}</span><br>
<span class="lineno">130</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402758">}</span><br>
<span class="lineno"></span><span class="op" id="8402760">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8402763">var</span>&nbsp;<span class="ident" id="8402767">ipMaskStringTests</span>&nbsp;<span class="op" id="8402785">=</span>&nbsp;<span class="op" id="8402787">[</span><span class="op" id="8402788">]</span><span class="keyword" id="8402789">struct</span>&nbsp;<span class="op" id="8402796">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8402799">in</span>&nbsp;&nbsp;<span class="ident" id="8402803">IPMask</span><br>
<span class="lineno">135</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8402811">out</span>&nbsp;<span class="builtintype" id="8402815">string</span><br>
<span class="lineno"></span><span class="op" id="8402822">}</span><span class="op" id="8402823">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402826">{</span><span class="ident" id="8402827">IPv4Mask</span><span class="op" id="8402835">(</span><span class="num" id="8402836">255</span><span class="op" id="8402839">,</span>&nbsp;<span class="num" id="8402841">255</span><span class="op" id="8402844">,</span>&nbsp;<span class="num" id="8402846">255</span><span class="op" id="8402849">,</span>&nbsp;<span class="num" id="8402851">240</span><span class="op" id="8402854">)</span><span class="op" id="8402855">,</span>&nbsp;<span class="string" id="8402857">&#34;fffffff0&#34;</span><span class="op" id="8402867">}</span><span class="op" id="8402868">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402871">{</span><span class="ident" id="8402872">IPv4Mask</span><span class="op" id="8402880">(</span><span class="num" id="8402881">255</span><span class="op" id="8402884">,</span>&nbsp;<span class="num" id="8402886">0</span><span class="op" id="8402887">,</span>&nbsp;<span class="num" id="8402889">128</span><span class="op" id="8402892">,</span>&nbsp;<span class="num" id="8402894">0</span><span class="op" id="8402895">)</span><span class="op" id="8402896">,</span>&nbsp;<span class="string" id="8402898">&#34;ff008000&#34;</span><span class="op" id="8402908">}</span><span class="op" id="8402909">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402912">{</span><span class="ident" id="8402913">IPMask</span><span class="op" id="8402919">(</span><span class="ident" id="8402920">ParseIP</span><span class="op" id="8402927">(</span><span class="string" id="8402928">&#34;ffff:ff80::&#34;</span><span class="op" id="8402941">)</span><span class="op" id="8402942">)</span><span class="op" id="8402943">,</span>&nbsp;<span class="string" id="8402945">&#34;ffffff80000000000000000000000000&#34;</span><span class="op" id="8402979">}</span><span class="op" id="8402980">,</span><br>
<span class="lineno">140</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8402983">{</span><span class="ident" id="8402984">IPMask</span><span class="op" id="8402990">(</span><span class="ident" id="8402991">ParseIP</span><span class="op" id="8402998">(</span><span class="string" id="8402999">&#34;ef00:ff80::cafe:0&#34;</span><span class="op" id="8403018">)</span><span class="op" id="8403019">)</span><span class="op" id="8403020">,</span>&nbsp;<span class="string" id="8403022">&#34;ef00ff800000000000000000cafe0000&#34;</span><span class="op" id="8403056">}</span><span class="op" id="8403057">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403060">{</span><span class="ident" id="8403061">nil</span><span class="op" id="8403064">,</span>&nbsp;<span class="string" id="8403066">&#34;&lt;nil&gt;&#34;</span><span class="op" id="8403073">}</span><span class="op" id="8403074">,</span><br>
<span class="lineno"></span><span class="op" id="8403076">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8403079">func</span>&nbsp;<span class="ident" id="8403084">TestIPMaskString</span><span class="op" id="8403100">(</span><span class="ident" id="8403101">t</span>&nbsp;<span class="op" id="8403103">*</span><span class="ident" id="8403104">testing</span><span class="op" id="8403111">.</span><span class="ident" id="8403112">T</span><span class="op" id="8403113">)</span>&nbsp;<span class="op" id="8403115">{</span><br>
<span class="lineno">145</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8403118">for</span>&nbsp;<span class="ident" id="8403122">_</span><span class="op" id="8403123">,</span>&nbsp;<span class="ident" id="8403125">tt</span>&nbsp;<span class="op" id="8403128">:=</span>&nbsp;<span class="keyword" id="8403131">range</span>&nbsp;<span class="ident" id="8403137">ipMaskStringTests</span>&nbsp;<span class="op" id="8403155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8403159">if</span>&nbsp;<span class="ident" id="8403162">out</span>&nbsp;<span class="op" id="8403166">:=</span>&nbsp;<span class="ident" id="8403169">tt</span><span class="op" id="8403171">.</span><span class="ident" id="8403172">in</span><span class="op" id="8403174">.</span><span class="ident" id="8403175">String</span><span class="op" id="8403181">(</span><span class="op" id="8403182">)</span><span class="op" id="8403183">;</span>&nbsp;<span class="ident" id="8403185">out</span>&nbsp;<span class="op" id="8403189">!=</span>&nbsp;<span class="ident" id="8403192">tt</span><span class="op" id="8403194">.</span><span class="ident" id="8403195">out</span>&nbsp;<span class="op" id="8403199">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8403204">t</span><span class="op" id="8403205">.</span><span class="ident" id="8403206">Errorf</span><span class="op" id="8403212">(</span><span class="string" id="8403213">&#34;IPMask.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8403246">,</span>&nbsp;<span class="ident" id="8403248">tt</span><span class="op" id="8403250">.</span><span class="ident" id="8403251">in</span><span class="op" id="8403253">,</span>&nbsp;<span class="ident" id="8403255">out</span><span class="op" id="8403258">,</span>&nbsp;<span class="ident" id="8403260">tt</span><span class="op" id="8403262">.</span><span class="ident" id="8403263">out</span><span class="op" id="8403266">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403270">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403273">}</span><br>
<span class="lineno">150</span><span class="op" id="8403275">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8403278">func</span>&nbsp;<span class="ident" id="8403283">BenchmarkIPMaskString</span><span class="op" id="8403304">(</span><span class="ident" id="8403305">b</span>&nbsp;<span class="op" id="8403307">*</span><span class="ident" id="8403308">testing</span><span class="op" id="8403315">.</span><span class="ident" id="8403316">B</span><span class="op" id="8403317">)</span>&nbsp;<span class="op" id="8403319">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8403322">for</span>&nbsp;<span class="ident" id="8403326">i</span>&nbsp;<span class="op" id="8403328">:=</span>&nbsp;<span class="num" id="8403331">0</span><span class="op" id="8403332">;</span>&nbsp;<span class="ident" id="8403334">i</span>&nbsp;<span class="op" id="8403336">&lt;</span>&nbsp;<span class="ident" id="8403338">b</span><span class="op" id="8403339">.</span><span class="ident" id="8403340">N</span><span class="op" id="8403341">;</span>&nbsp;<span class="ident" id="8403343">i</span><span class="op" id="8403344">++</span>&nbsp;<span class="op" id="8403347">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8403351">for</span>&nbsp;<span class="ident" id="8403355">_</span><span class="op" id="8403356">,</span>&nbsp;<span class="ident" id="8403358">tt</span>&nbsp;<span class="op" id="8403361">:=</span>&nbsp;<span class="keyword" id="8403364">range</span>&nbsp;<span class="ident" id="8403370">ipMaskStringTests</span>&nbsp;<span class="op" id="8403388">{</span><br>
<span class="lineno">155</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8403393">tt</span><span class="op" id="8403395">.</span><span class="ident" id="8403396">in</span><span class="op" id="8403398">.</span><span class="ident" id="8403399">String</span><span class="op" id="8403405">(</span><span class="op" id="8403406">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403410">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403413">}</span><br>
<span class="lineno"></span><span class="op" id="8403415">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">160</span><span class="keyword" id="8403418">var</span>&nbsp;<span class="ident" id="8403422">parseCIDRTests</span>&nbsp;<span class="op" id="8403437">=</span>&nbsp;<span class="op" id="8403439">[</span><span class="op" id="8403440">]</span><span class="keyword" id="8403441">struct</span>&nbsp;<span class="op" id="8403448">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8403451">in</span>&nbsp;&nbsp;<span class="builtintype" id="8403455">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8403463">ip</span>&nbsp;&nbsp;<span class="ident" id="8403467">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8403471">net</span>&nbsp;<span class="op" id="8403475">*</span><span class="ident" id="8403476">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8403483">err</span>&nbsp;<span class="builtintype" id="8403487">error</span><br>
<span class="lineno">165</span><span class="op" id="8403493">}</span><span class="op" id="8403494">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403497">{</span><span class="string" id="8403498">&#34;135.104.0.0/32&#34;</span><span class="op" id="8403514">,</span>&nbsp;<span class="ident" id="8403516">IPv4</span><span class="op" id="8403520">(</span><span class="num" id="8403521">135</span><span class="op" id="8403524">,</span>&nbsp;<span class="num" id="8403526">104</span><span class="op" id="8403529">,</span>&nbsp;<span class="num" id="8403531">0</span><span class="op" id="8403532">,</span>&nbsp;<span class="num" id="8403534">0</span><span class="op" id="8403535">)</span><span class="op" id="8403536">,</span>&nbsp;<span class="op" id="8403538">&amp;</span><span class="ident" id="8403539">IPNet</span><span class="op" id="8403544">{</span><span class="ident" id="8403545">IP</span><span class="op" id="8403547">:</span>&nbsp;<span class="ident" id="8403549">IPv4</span><span class="op" id="8403553">(</span><span class="num" id="8403554">135</span><span class="op" id="8403557">,</span>&nbsp;<span class="num" id="8403559">104</span><span class="op" id="8403562">,</span>&nbsp;<span class="num" id="8403564">0</span><span class="op" id="8403565">,</span>&nbsp;<span class="num" id="8403567">0</span><span class="op" id="8403568">)</span><span class="op" id="8403569">,</span>&nbsp;<span class="ident" id="8403571">Mask</span><span class="op" id="8403575">:</span>&nbsp;<span class="ident" id="8403577">IPv4Mask</span><span class="op" id="8403585">(</span><span class="num" id="8403586">255</span><span class="op" id="8403589">,</span>&nbsp;<span class="num" id="8403591">255</span><span class="op" id="8403594">,</span>&nbsp;<span class="num" id="8403596">255</span><span class="op" id="8403599">,</span>&nbsp;<span class="num" id="8403601">255</span><span class="op" id="8403604">)</span><span class="op" id="8403605">}</span><span class="op" id="8403606">,</span>&nbsp;<span class="ident" id="8403608">nil</span><span class="op" id="8403611">}</span><span class="op" id="8403612">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403615">{</span><span class="string" id="8403616">&#34;0.0.0.0/24&#34;</span><span class="op" id="8403628">,</span>&nbsp;<span class="ident" id="8403630">IPv4</span><span class="op" id="8403634">(</span><span class="num" id="8403635">0</span><span class="op" id="8403636">,</span>&nbsp;<span class="num" id="8403638">0</span><span class="op" id="8403639">,</span>&nbsp;<span class="num" id="8403641">0</span><span class="op" id="8403642">,</span>&nbsp;<span class="num" id="8403644">0</span><span class="op" id="8403645">)</span><span class="op" id="8403646">,</span>&nbsp;<span class="op" id="8403648">&amp;</span><span class="ident" id="8403649">IPNet</span><span class="op" id="8403654">{</span><span class="ident" id="8403655">IP</span><span class="op" id="8403657">:</span>&nbsp;<span class="ident" id="8403659">IPv4</span><span class="op" id="8403663">(</span><span class="num" id="8403664">0</span><span class="op" id="8403665">,</span>&nbsp;<span class="num" id="8403667">0</span><span class="op" id="8403668">,</span>&nbsp;<span class="num" id="8403670">0</span><span class="op" id="8403671">,</span>&nbsp;<span class="num" id="8403673">0</span><span class="op" id="8403674">)</span><span class="op" id="8403675">,</span>&nbsp;<span class="ident" id="8403677">Mask</span><span class="op" id="8403681">:</span>&nbsp;<span class="ident" id="8403683">IPv4Mask</span><span class="op" id="8403691">(</span><span class="num" id="8403692">255</span><span class="op" id="8403695">,</span>&nbsp;<span class="num" id="8403697">255</span><span class="op" id="8403700">,</span>&nbsp;<span class="num" id="8403702">255</span><span class="op" id="8403705">,</span>&nbsp;<span class="num" id="8403707">0</span><span class="op" id="8403708">)</span><span class="op" id="8403709">}</span><span class="op" id="8403710">,</span>&nbsp;<span class="ident" id="8403712">nil</span><span class="op" id="8403715">}</span><span class="op" id="8403716">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403719">{</span><span class="string" id="8403720">&#34;135.104.0.0/24&#34;</span><span class="op" id="8403736">,</span>&nbsp;<span class="ident" id="8403738">IPv4</span><span class="op" id="8403742">(</span><span class="num" id="8403743">135</span><span class="op" id="8403746">,</span>&nbsp;<span class="num" id="8403748">104</span><span class="op" id="8403751">,</span>&nbsp;<span class="num" id="8403753">0</span><span class="op" id="8403754">,</span>&nbsp;<span class="num" id="8403756">0</span><span class="op" id="8403757">)</span><span class="op" id="8403758">,</span>&nbsp;<span class="op" id="8403760">&amp;</span><span class="ident" id="8403761">IPNet</span><span class="op" id="8403766">{</span><span class="ident" id="8403767">IP</span><span class="op" id="8403769">:</span>&nbsp;<span class="ident" id="8403771">IPv4</span><span class="op" id="8403775">(</span><span class="num" id="8403776">135</span><span class="op" id="8403779">,</span>&nbsp;<span class="num" id="8403781">104</span><span class="op" id="8403784">,</span>&nbsp;<span class="num" id="8403786">0</span><span class="op" id="8403787">,</span>&nbsp;<span class="num" id="8403789">0</span><span class="op" id="8403790">)</span><span class="op" id="8403791">,</span>&nbsp;<span class="ident" id="8403793">Mask</span><span class="op" id="8403797">:</span>&nbsp;<span class="ident" id="8403799">IPv4Mask</span><span class="op" id="8403807">(</span><span class="num" id="8403808">255</span><span class="op" id="8403811">,</span>&nbsp;<span class="num" id="8403813">255</span><span class="op" id="8403816">,</span>&nbsp;<span class="num" id="8403818">255</span><span class="op" id="8403821">,</span>&nbsp;<span class="num" id="8403823">0</span><span class="op" id="8403824">)</span><span class="op" id="8403825">}</span><span class="op" id="8403826">,</span>&nbsp;<span class="ident" id="8403828">nil</span><span class="op" id="8403831">}</span><span class="op" id="8403832">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403835">{</span><span class="string" id="8403836">&#34;135.104.0.1/32&#34;</span><span class="op" id="8403852">,</span>&nbsp;<span class="ident" id="8403854">IPv4</span><span class="op" id="8403858">(</span><span class="num" id="8403859">135</span><span class="op" id="8403862">,</span>&nbsp;<span class="num" id="8403864">104</span><span class="op" id="8403867">,</span>&nbsp;<span class="num" id="8403869">0</span><span class="op" id="8403870">,</span>&nbsp;<span class="num" id="8403872">1</span><span class="op" id="8403873">)</span><span class="op" id="8403874">,</span>&nbsp;<span class="op" id="8403876">&amp;</span><span class="ident" id="8403877">IPNet</span><span class="op" id="8403882">{</span><span class="ident" id="8403883">IP</span><span class="op" id="8403885">:</span>&nbsp;<span class="ident" id="8403887">IPv4</span><span class="op" id="8403891">(</span><span class="num" id="8403892">135</span><span class="op" id="8403895">,</span>&nbsp;<span class="num" id="8403897">104</span><span class="op" id="8403900">,</span>&nbsp;<span class="num" id="8403902">0</span><span class="op" id="8403903">,</span>&nbsp;<span class="num" id="8403905">1</span><span class="op" id="8403906">)</span><span class="op" id="8403907">,</span>&nbsp;<span class="ident" id="8403909">Mask</span><span class="op" id="8403913">:</span>&nbsp;<span class="ident" id="8403915">IPv4Mask</span><span class="op" id="8403923">(</span><span class="num" id="8403924">255</span><span class="op" id="8403927">,</span>&nbsp;<span class="num" id="8403929">255</span><span class="op" id="8403932">,</span>&nbsp;<span class="num" id="8403934">255</span><span class="op" id="8403937">,</span>&nbsp;<span class="num" id="8403939">255</span><span class="op" id="8403942">)</span><span class="op" id="8403943">}</span><span class="op" id="8403944">,</span>&nbsp;<span class="ident" id="8403946">nil</span><span class="op" id="8403949">}</span><span class="op" id="8403950">,</span><br>
<span class="lineno">170</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8403953">{</span><span class="string" id="8403954">&#34;135.104.0.1/24&#34;</span><span class="op" id="8403970">,</span>&nbsp;<span class="ident" id="8403972">IPv4</span><span class="op" id="8403976">(</span><span class="num" id="8403977">135</span><span class="op" id="8403980">,</span>&nbsp;<span class="num" id="8403982">104</span><span class="op" id="8403985">,</span>&nbsp;<span class="num" id="8403987">0</span><span class="op" id="8403988">,</span>&nbsp;<span class="num" id="8403990">1</span><span class="op" id="8403991">)</span><span class="op" id="8403992">,</span>&nbsp;<span class="op" id="8403994">&amp;</span><span class="ident" id="8403995">IPNet</span><span class="op" id="8404000">{</span><span class="ident" id="8404001">IP</span><span class="op" id="8404003">:</span>&nbsp;<span class="ident" id="8404005">IPv4</span><span class="op" id="8404009">(</span><span class="num" id="8404010">135</span><span class="op" id="8404013">,</span>&nbsp;<span class="num" id="8404015">104</span><span class="op" id="8404018">,</span>&nbsp;<span class="num" id="8404020">0</span><span class="op" id="8404021">,</span>&nbsp;<span class="num" id="8404023">0</span><span class="op" id="8404024">)</span><span class="op" id="8404025">,</span>&nbsp;<span class="ident" id="8404027">Mask</span><span class="op" id="8404031">:</span>&nbsp;<span class="ident" id="8404033">IPv4Mask</span><span class="op" id="8404041">(</span><span class="num" id="8404042">255</span><span class="op" id="8404045">,</span>&nbsp;<span class="num" id="8404047">255</span><span class="op" id="8404050">,</span>&nbsp;<span class="num" id="8404052">255</span><span class="op" id="8404055">,</span>&nbsp;<span class="num" id="8404057">0</span><span class="op" id="8404058">)</span><span class="op" id="8404059">}</span><span class="op" id="8404060">,</span>&nbsp;<span class="ident" id="8404062">nil</span><span class="op" id="8404065">}</span><span class="op" id="8404066">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404069">{</span><span class="string" id="8404070">&#34;::1/128&#34;</span><span class="op" id="8404079">,</span>&nbsp;<span class="ident" id="8404081">ParseIP</span><span class="op" id="8404088">(</span><span class="string" id="8404089">&#34;::1&#34;</span><span class="op" id="8404094">)</span><span class="op" id="8404095">,</span>&nbsp;<span class="op" id="8404097">&amp;</span><span class="ident" id="8404098">IPNet</span><span class="op" id="8404103">{</span><span class="ident" id="8404104">IP</span><span class="op" id="8404106">:</span>&nbsp;<span class="ident" id="8404108">ParseIP</span><span class="op" id="8404115">(</span><span class="string" id="8404116">&#34;::1&#34;</span><span class="op" id="8404121">)</span><span class="op" id="8404122">,</span>&nbsp;<span class="ident" id="8404124">Mask</span><span class="op" id="8404128">:</span>&nbsp;<span class="ident" id="8404130">IPMask</span><span class="op" id="8404136">(</span><span class="ident" id="8404137">ParseIP</span><span class="op" id="8404144">(</span><span class="string" id="8404145">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:ffff&#34;</span><span class="op" id="8404186">)</span><span class="op" id="8404187">)</span><span class="op" id="8404188">}</span><span class="op" id="8404189">,</span>&nbsp;<span class="ident" id="8404191">nil</span><span class="op" id="8404194">}</span><span class="op" id="8404195">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404198">{</span><span class="string" id="8404199">&#34;abcd:2345::/127&#34;</span><span class="op" id="8404216">,</span>&nbsp;<span class="ident" id="8404218">ParseIP</span><span class="op" id="8404225">(</span><span class="string" id="8404226">&#34;abcd:2345::&#34;</span><span class="op" id="8404239">)</span><span class="op" id="8404240">,</span>&nbsp;<span class="op" id="8404242">&amp;</span><span class="ident" id="8404243">IPNet</span><span class="op" id="8404248">{</span><span class="ident" id="8404249">IP</span><span class="op" id="8404251">:</span>&nbsp;<span class="ident" id="8404253">ParseIP</span><span class="op" id="8404260">(</span><span class="string" id="8404261">&#34;abcd:2345::&#34;</span><span class="op" id="8404274">)</span><span class="op" id="8404275">,</span>&nbsp;<span class="ident" id="8404277">Mask</span><span class="op" id="8404281">:</span>&nbsp;<span class="ident" id="8404283">IPMask</span><span class="op" id="8404289">(</span><span class="ident" id="8404290">ParseIP</span><span class="op" id="8404297">(</span><span class="string" id="8404298">&#34;ffff:ffff:ffff:ffff:ffff:ffff:ffff:fffe&#34;</span><span class="op" id="8404339">)</span><span class="op" id="8404340">)</span><span class="op" id="8404341">}</span><span class="op" id="8404342">,</span>&nbsp;<span class="ident" id="8404344">nil</span><span class="op" id="8404347">}</span><span class="op" id="8404348">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404351">{</span><span class="string" id="8404352">&#34;abcd:2345::/65&#34;</span><span class="op" id="8404368">,</span>&nbsp;<span class="ident" id="8404370">ParseIP</span><span class="op" id="8404377">(</span><span class="string" id="8404378">&#34;abcd:2345::&#34;</span><span class="op" id="8404391">)</span><span class="op" id="8404392">,</span>&nbsp;<span class="op" id="8404394">&amp;</span><span class="ident" id="8404395">IPNet</span><span class="op" id="8404400">{</span><span class="ident" id="8404401">IP</span><span class="op" id="8404403">:</span>&nbsp;<span class="ident" id="8404405">ParseIP</span><span class="op" id="8404412">(</span><span class="string" id="8404413">&#34;abcd:2345::&#34;</span><span class="op" id="8404426">)</span><span class="op" id="8404427">,</span>&nbsp;<span class="ident" id="8404429">Mask</span><span class="op" id="8404433">:</span>&nbsp;<span class="ident" id="8404435">IPMask</span><span class="op" id="8404441">(</span><span class="ident" id="8404442">ParseIP</span><span class="op" id="8404449">(</span><span class="string" id="8404450">&#34;ffff:ffff:ffff:ffff:8000::&#34;</span><span class="op" id="8404478">)</span><span class="op" id="8404479">)</span><span class="op" id="8404480">}</span><span class="op" id="8404481">,</span>&nbsp;<span class="ident" id="8404483">nil</span><span class="op" id="8404486">}</span><span class="op" id="8404487">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404490">{</span><span class="string" id="8404491">&#34;abcd:2345::/64&#34;</span><span class="op" id="8404507">,</span>&nbsp;<span class="ident" id="8404509">ParseIP</span><span class="op" id="8404516">(</span><span class="string" id="8404517">&#34;abcd:2345::&#34;</span><span class="op" id="8404530">)</span><span class="op" id="8404531">,</span>&nbsp;<span class="op" id="8404533">&amp;</span><span class="ident" id="8404534">IPNet</span><span class="op" id="8404539">{</span><span class="ident" id="8404540">IP</span><span class="op" id="8404542">:</span>&nbsp;<span class="ident" id="8404544">ParseIP</span><span class="op" id="8404551">(</span><span class="string" id="8404552">&#34;abcd:2345::&#34;</span><span class="op" id="8404565">)</span><span class="op" id="8404566">,</span>&nbsp;<span class="ident" id="8404568">Mask</span><span class="op" id="8404572">:</span>&nbsp;<span class="ident" id="8404574">IPMask</span><span class="op" id="8404580">(</span><span class="ident" id="8404581">ParseIP</span><span class="op" id="8404588">(</span><span class="string" id="8404589">&#34;ffff:ffff:ffff:ffff::&#34;</span><span class="op" id="8404612">)</span><span class="op" id="8404613">)</span><span class="op" id="8404614">}</span><span class="op" id="8404615">,</span>&nbsp;<span class="ident" id="8404617">nil</span><span class="op" id="8404620">}</span><span class="op" id="8404621">,</span><br>
<span class="lineno">175</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404624">{</span><span class="string" id="8404625">&#34;abcd:2345::/63&#34;</span><span class="op" id="8404641">,</span>&nbsp;<span class="ident" id="8404643">ParseIP</span><span class="op" id="8404650">(</span><span class="string" id="8404651">&#34;abcd:2345::&#34;</span><span class="op" id="8404664">)</span><span class="op" id="8404665">,</span>&nbsp;<span class="op" id="8404667">&amp;</span><span class="ident" id="8404668">IPNet</span><span class="op" id="8404673">{</span><span class="ident" id="8404674">IP</span><span class="op" id="8404676">:</span>&nbsp;<span class="ident" id="8404678">ParseIP</span><span class="op" id="8404685">(</span><span class="string" id="8404686">&#34;abcd:2345::&#34;</span><span class="op" id="8404699">)</span><span class="op" id="8404700">,</span>&nbsp;<span class="ident" id="8404702">Mask</span><span class="op" id="8404706">:</span>&nbsp;<span class="ident" id="8404708">IPMask</span><span class="op" id="8404714">(</span><span class="ident" id="8404715">ParseIP</span><span class="op" id="8404722">(</span><span class="string" id="8404723">&#34;ffff:ffff:ffff:fffe::&#34;</span><span class="op" id="8404746">)</span><span class="op" id="8404747">)</span><span class="op" id="8404748">}</span><span class="op" id="8404749">,</span>&nbsp;<span class="ident" id="8404751">nil</span><span class="op" id="8404754">}</span><span class="op" id="8404755">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404758">{</span><span class="string" id="8404759">&#34;abcd:2345::/33&#34;</span><span class="op" id="8404775">,</span>&nbsp;<span class="ident" id="8404777">ParseIP</span><span class="op" id="8404784">(</span><span class="string" id="8404785">&#34;abcd:2345::&#34;</span><span class="op" id="8404798">)</span><span class="op" id="8404799">,</span>&nbsp;<span class="op" id="8404801">&amp;</span><span class="ident" id="8404802">IPNet</span><span class="op" id="8404807">{</span><span class="ident" id="8404808">IP</span><span class="op" id="8404810">:</span>&nbsp;<span class="ident" id="8404812">ParseIP</span><span class="op" id="8404819">(</span><span class="string" id="8404820">&#34;abcd:2345::&#34;</span><span class="op" id="8404833">)</span><span class="op" id="8404834">,</span>&nbsp;<span class="ident" id="8404836">Mask</span><span class="op" id="8404840">:</span>&nbsp;<span class="ident" id="8404842">IPMask</span><span class="op" id="8404848">(</span><span class="ident" id="8404849">ParseIP</span><span class="op" id="8404856">(</span><span class="string" id="8404857">&#34;ffff:ffff:8000::&#34;</span><span class="op" id="8404875">)</span><span class="op" id="8404876">)</span><span class="op" id="8404877">}</span><span class="op" id="8404878">,</span>&nbsp;<span class="ident" id="8404880">nil</span><span class="op" id="8404883">}</span><span class="op" id="8404884">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8404887">{</span><span class="string" id="8404888">&#34;abcd:2345::/32&#34;</span><span class="op" id="8404904">,</span>&nbsp;<span class="ident" id="8404906">ParseIP</span><span class="op" id="8404913">(</span><span class="string" id="8404914">&#34;abcd:2345::&#34;</span><span class="op" id="8404927">)</span><span class="op" id="8404928">,</span>&nbsp;<span class="op" id="8404930">&amp;</span><span class="ident" id="8404931">IPNet</span><span class="op" id="8404936">{</span><span class="ident" id="8404937">IP</span><span class="op" id="8404939">:</span>&nbsp;<span class="ident" id="8404941">ParseIP</span><span class="op" id="8404948">(</span><span class="string" id="8404949">&#34;abcd:2345::&#34;</span><span class="op" id="8404962">)</span><span class="op" id="8404963">,</span>&nbsp;<span class="ident" id="8404965">Mask</span><span class="op" id="8404969">:</span>&nbsp;<span class="ident" id="8404971">IPMask</span><span class="op" id="8404977">(</span><span class="ident" id="8404978">ParseIP</span><span class="op" id="8404985">(</span><span class="string" id="8404986">&#34;ffff:ffff::&#34;</span><span class="op" id="8404999">)</span><span class="op" id="8405000">)</span><span class="op" id="8405001">}</span><span class="op" id="8405002">,</span>&nbsp;<span class="ident" id="8405004">nil</span><span class="op" id="8405007">}</span><span class="op" id="8405008">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405011">{</span><span class="string" id="8405012">&#34;abcd:2344::/31&#34;</span><span class="op" id="8405028">,</span>&nbsp;<span class="ident" id="8405030">ParseIP</span><span class="op" id="8405037">(</span><span class="string" id="8405038">&#34;abcd:2344::&#34;</span><span class="op" id="8405051">)</span><span class="op" id="8405052">,</span>&nbsp;<span class="op" id="8405054">&amp;</span><span class="ident" id="8405055">IPNet</span><span class="op" id="8405060">{</span><span class="ident" id="8405061">IP</span><span class="op" id="8405063">:</span>&nbsp;<span class="ident" id="8405065">ParseIP</span><span class="op" id="8405072">(</span><span class="string" id="8405073">&#34;abcd:2344::&#34;</span><span class="op" id="8405086">)</span><span class="op" id="8405087">,</span>&nbsp;<span class="ident" id="8405089">Mask</span><span class="op" id="8405093">:</span>&nbsp;<span class="ident" id="8405095">IPMask</span><span class="op" id="8405101">(</span><span class="ident" id="8405102">ParseIP</span><span class="op" id="8405109">(</span><span class="string" id="8405110">&#34;ffff:fffe::&#34;</span><span class="op" id="8405123">)</span><span class="op" id="8405124">)</span><span class="op" id="8405125">}</span><span class="op" id="8405126">,</span>&nbsp;<span class="ident" id="8405128">nil</span><span class="op" id="8405131">}</span><span class="op" id="8405132">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405135">{</span><span class="string" id="8405136">&#34;abcd:2300::/24&#34;</span><span class="op" id="8405152">,</span>&nbsp;<span class="ident" id="8405154">ParseIP</span><span class="op" id="8405161">(</span><span class="string" id="8405162">&#34;abcd:2300::&#34;</span><span class="op" id="8405175">)</span><span class="op" id="8405176">,</span>&nbsp;<span class="op" id="8405178">&amp;</span><span class="ident" id="8405179">IPNet</span><span class="op" id="8405184">{</span><span class="ident" id="8405185">IP</span><span class="op" id="8405187">:</span>&nbsp;<span class="ident" id="8405189">ParseIP</span><span class="op" id="8405196">(</span><span class="string" id="8405197">&#34;abcd:2300::&#34;</span><span class="op" id="8405210">)</span><span class="op" id="8405211">,</span>&nbsp;<span class="ident" id="8405213">Mask</span><span class="op" id="8405217">:</span>&nbsp;<span class="ident" id="8405219">IPMask</span><span class="op" id="8405225">(</span><span class="ident" id="8405226">ParseIP</span><span class="op" id="8405233">(</span><span class="string" id="8405234">&#34;ffff:ff00::&#34;</span><span class="op" id="8405247">)</span><span class="op" id="8405248">)</span><span class="op" id="8405249">}</span><span class="op" id="8405250">,</span>&nbsp;<span class="ident" id="8405252">nil</span><span class="op" id="8405255">}</span><span class="op" id="8405256">,</span><br>
<span class="lineno">180</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405259">{</span><span class="string" id="8405260">&#34;abcd:2345::/24&#34;</span><span class="op" id="8405276">,</span>&nbsp;<span class="ident" id="8405278">ParseIP</span><span class="op" id="8405285">(</span><span class="string" id="8405286">&#34;abcd:2345::&#34;</span><span class="op" id="8405299">)</span><span class="op" id="8405300">,</span>&nbsp;<span class="op" id="8405302">&amp;</span><span class="ident" id="8405303">IPNet</span><span class="op" id="8405308">{</span><span class="ident" id="8405309">IP</span><span class="op" id="8405311">:</span>&nbsp;<span class="ident" id="8405313">ParseIP</span><span class="op" id="8405320">(</span><span class="string" id="8405321">&#34;abcd:2300::&#34;</span><span class="op" id="8405334">)</span><span class="op" id="8405335">,</span>&nbsp;<span class="ident" id="8405337">Mask</span><span class="op" id="8405341">:</span>&nbsp;<span class="ident" id="8405343">IPMask</span><span class="op" id="8405349">(</span><span class="ident" id="8405350">ParseIP</span><span class="op" id="8405357">(</span><span class="string" id="8405358">&#34;ffff:ff00::&#34;</span><span class="op" id="8405371">)</span><span class="op" id="8405372">)</span><span class="op" id="8405373">}</span><span class="op" id="8405374">,</span>&nbsp;<span class="ident" id="8405376">nil</span><span class="op" id="8405379">}</span><span class="op" id="8405380">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405383">{</span><span class="string" id="8405384">&#34;2001:DB8::/48&#34;</span><span class="op" id="8405399">,</span>&nbsp;<span class="ident" id="8405401">ParseIP</span><span class="op" id="8405408">(</span><span class="string" id="8405409">&#34;2001:DB8::&#34;</span><span class="op" id="8405421">)</span><span class="op" id="8405422">,</span>&nbsp;<span class="op" id="8405424">&amp;</span><span class="ident" id="8405425">IPNet</span><span class="op" id="8405430">{</span><span class="ident" id="8405431">IP</span><span class="op" id="8405433">:</span>&nbsp;<span class="ident" id="8405435">ParseIP</span><span class="op" id="8405442">(</span><span class="string" id="8405443">&#34;2001:DB8::&#34;</span><span class="op" id="8405455">)</span><span class="op" id="8405456">,</span>&nbsp;<span class="ident" id="8405458">Mask</span><span class="op" id="8405462">:</span>&nbsp;<span class="ident" id="8405464">IPMask</span><span class="op" id="8405470">(</span><span class="ident" id="8405471">ParseIP</span><span class="op" id="8405478">(</span><span class="string" id="8405479">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="8405497">)</span><span class="op" id="8405498">)</span><span class="op" id="8405499">}</span><span class="op" id="8405500">,</span>&nbsp;<span class="ident" id="8405502">nil</span><span class="op" id="8405505">}</span><span class="op" id="8405506">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405509">{</span><span class="string" id="8405510">&#34;2001:DB8::1/48&#34;</span><span class="op" id="8405526">,</span>&nbsp;<span class="ident" id="8405528">ParseIP</span><span class="op" id="8405535">(</span><span class="string" id="8405536">&#34;2001:DB8::1&#34;</span><span class="op" id="8405549">)</span><span class="op" id="8405550">,</span>&nbsp;<span class="op" id="8405552">&amp;</span><span class="ident" id="8405553">IPNet</span><span class="op" id="8405558">{</span><span class="ident" id="8405559">IP</span><span class="op" id="8405561">:</span>&nbsp;<span class="ident" id="8405563">ParseIP</span><span class="op" id="8405570">(</span><span class="string" id="8405571">&#34;2001:DB8::&#34;</span><span class="op" id="8405583">)</span><span class="op" id="8405584">,</span>&nbsp;<span class="ident" id="8405586">Mask</span><span class="op" id="8405590">:</span>&nbsp;<span class="ident" id="8405592">IPMask</span><span class="op" id="8405598">(</span><span class="ident" id="8405599">ParseIP</span><span class="op" id="8405606">(</span><span class="string" id="8405607">&#34;ffff:ffff:ffff::&#34;</span><span class="op" id="8405625">)</span><span class="op" id="8405626">)</span><span class="op" id="8405627">}</span><span class="op" id="8405628">,</span>&nbsp;<span class="ident" id="8405630">nil</span><span class="op" id="8405633">}</span><span class="op" id="8405634">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405637">{</span><span class="string" id="8405638">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="8405665">,</span>&nbsp;<span class="ident" id="8405667">nil</span><span class="op" id="8405670">,</span>&nbsp;<span class="ident" id="8405672">nil</span><span class="op" id="8405675">,</span>&nbsp;<span class="op" id="8405677">&amp;</span><span class="ident" id="8405678">ParseError</span><span class="op" id="8405688">{</span><span class="string" id="8405689">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8405703">,</span>&nbsp;<span class="string" id="8405705">&#34;192.168.1.1/255.255.255.0&#34;</span><span class="op" id="8405732">}</span><span class="op" id="8405733">}</span><span class="op" id="8405734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405737">{</span><span class="string" id="8405738">&#34;192.168.1.1/35&#34;</span><span class="op" id="8405754">,</span>&nbsp;<span class="ident" id="8405756">nil</span><span class="op" id="8405759">,</span>&nbsp;<span class="ident" id="8405761">nil</span><span class="op" id="8405764">,</span>&nbsp;<span class="op" id="8405766">&amp;</span><span class="ident" id="8405767">ParseError</span><span class="op" id="8405777">{</span><span class="string" id="8405778">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8405792">,</span>&nbsp;<span class="string" id="8405794">&#34;192.168.1.1/35&#34;</span><span class="op" id="8405810">}</span><span class="op" id="8405811">}</span><span class="op" id="8405812">,</span><br>
<span class="lineno">185</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405815">{</span><span class="string" id="8405816">&#34;2001:db8::1/-1&#34;</span><span class="op" id="8405832">,</span>&nbsp;<span class="ident" id="8405834">nil</span><span class="op" id="8405837">,</span>&nbsp;<span class="ident" id="8405839">nil</span><span class="op" id="8405842">,</span>&nbsp;<span class="op" id="8405844">&amp;</span><span class="ident" id="8405845">ParseError</span><span class="op" id="8405855">{</span><span class="string" id="8405856">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8405870">,</span>&nbsp;<span class="string" id="8405872">&#34;2001:db8::1/-1&#34;</span><span class="op" id="8405888">}</span><span class="op" id="8405889">}</span><span class="op" id="8405890">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8405893">{</span><span class="string" id="8405894">&#34;&#34;</span><span class="op" id="8405896">,</span>&nbsp;<span class="ident" id="8405898">nil</span><span class="op" id="8405901">,</span>&nbsp;<span class="ident" id="8405903">nil</span><span class="op" id="8405906">,</span>&nbsp;<span class="op" id="8405908">&amp;</span><span class="ident" id="8405909">ParseError</span><span class="op" id="8405919">{</span><span class="string" id="8405920">&#34;CIDR&nbsp;address&#34;</span><span class="op" id="8405934">,</span>&nbsp;<span class="string" id="8405936">&#34;&#34;</span><span class="op" id="8405938">}</span><span class="op" id="8405939">}</span><span class="op" id="8405940">,</span><br>
<span class="lineno"></span><span class="op" id="8405942">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8405945">func</span>&nbsp;<span class="ident" id="8405950">TestParseCIDR</span><span class="op" id="8405963">(</span><span class="ident" id="8405964">t</span>&nbsp;<span class="op" id="8405966">*</span><span class="ident" id="8405967">testing</span><span class="op" id="8405974">.</span><span class="ident" id="8405975">T</span><span class="op" id="8405976">)</span>&nbsp;<span class="op" id="8405978">{</span><br>
<span class="lineno">190</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8405981">for</span>&nbsp;<span class="ident" id="8405985">_</span><span class="op" id="8405986">,</span>&nbsp;<span class="ident" id="8405988">tt</span>&nbsp;<span class="op" id="8405991">:=</span>&nbsp;<span class="keyword" id="8405994">range</span>&nbsp;<span class="ident" id="8406000">parseCIDRTests</span>&nbsp;<span class="op" id="8406015">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8406019">ip</span><span class="op" id="8406021">,</span>&nbsp;<span class="ident" id="8406023">net</span><span class="op" id="8406026">,</span>&nbsp;<span class="ident" id="8406028">err</span>&nbsp;<span class="op" id="8406032">:=</span>&nbsp;<span class="ident" id="8406035">ParseCIDR</span><span class="op" id="8406044">(</span><span class="ident" id="8406045">tt</span><span class="op" id="8406047">.</span><span class="ident" id="8406048">in</span><span class="op" id="8406050">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8406054">if</span>&nbsp;<span class="op" id="8406057">!</span><span class="ident" id="8406058">reflect</span><span class="op" id="8406065">.</span><span class="ident" id="8406066">DeepEqual</span><span class="op" id="8406075">(</span><span class="ident" id="8406076">err</span><span class="op" id="8406079">,</span>&nbsp;<span class="ident" id="8406081">tt</span><span class="op" id="8406083">.</span><span class="ident" id="8406084">err</span><span class="op" id="8406087">)</span>&nbsp;<span class="op" id="8406089">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8406094">t</span><span class="op" id="8406095">.</span><span class="ident" id="8406096">Errorf</span><span class="op" id="8406102">(</span><span class="string" id="8406103">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;%v;&nbsp;want&nbsp;%v,&nbsp;%v&#34;</span><span class="op" id="8406140">,</span>&nbsp;<span class="ident" id="8406142">tt</span><span class="op" id="8406144">.</span><span class="ident" id="8406145">in</span><span class="op" id="8406147">,</span>&nbsp;<span class="ident" id="8406149">ip</span><span class="op" id="8406151">,</span>&nbsp;<span class="ident" id="8406153">net</span><span class="op" id="8406156">,</span>&nbsp;<span class="ident" id="8406158">tt</span><span class="op" id="8406160">.</span><span class="ident" id="8406161">ip</span><span class="op" id="8406163">,</span>&nbsp;<span class="ident" id="8406165">tt</span><span class="op" id="8406167">.</span><span class="ident" id="8406168">net</span><span class="op" id="8406171">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406175">}</span><br>
<span class="lineno">195</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8406179">if</span>&nbsp;<span class="ident" id="8406182">err</span>&nbsp;<span class="op" id="8406186">==</span>&nbsp;<span class="ident" id="8406189">nil</span>&nbsp;<span class="op" id="8406193">&amp;&amp;</span>&nbsp;<span class="op" id="8406196">(</span><span class="op" id="8406197">!</span><span class="ident" id="8406198">tt</span><span class="op" id="8406200">.</span><span class="ident" id="8406201">ip</span><span class="op" id="8406203">.</span><span class="ident" id="8406204">Equal</span><span class="op" id="8406209">(</span><span class="ident" id="8406210">ip</span><span class="op" id="8406212">)</span>&nbsp;<span class="op" id="8406214">||</span>&nbsp;<span class="op" id="8406217">!</span><span class="ident" id="8406218">tt</span><span class="op" id="8406220">.</span><span class="ident" id="8406221">net</span><span class="op" id="8406224">.</span><span class="ident" id="8406225">IP</span><span class="op" id="8406227">.</span><span class="ident" id="8406228">Equal</span><span class="op" id="8406233">(</span><span class="ident" id="8406234">net</span><span class="op" id="8406237">.</span><span class="ident" id="8406238">IP</span><span class="op" id="8406240">)</span>&nbsp;<span class="op" id="8406242">||</span>&nbsp;<span class="op" id="8406245">!</span><span class="ident" id="8406246">reflect</span><span class="op" id="8406253">.</span><span class="ident" id="8406254">DeepEqual</span><span class="op" id="8406263">(</span><span class="ident" id="8406264">net</span><span class="op" id="8406267">.</span><span class="ident" id="8406268">Mask</span><span class="op" id="8406272">,</span>&nbsp;<span class="ident" id="8406274">tt</span><span class="op" id="8406276">.</span><span class="ident" id="8406277">net</span><span class="op" id="8406280">.</span><span class="ident" id="8406281">Mask</span><span class="op" id="8406285">)</span><span class="op" id="8406286">)</span>&nbsp;<span class="op" id="8406288">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8406293">t</span><span class="op" id="8406294">.</span><span class="ident" id="8406295">Errorf</span><span class="op" id="8406301">(</span><span class="string" id="8406302">&#34;ParseCIDR(%q)&nbsp;=&nbsp;%v,&nbsp;{%v,&nbsp;%v};&nbsp;want&nbsp;%v,&nbsp;{%v,&nbsp;%v}&#34;</span><span class="op" id="8406351">,</span>&nbsp;<span class="ident" id="8406353">tt</span><span class="op" id="8406355">.</span><span class="ident" id="8406356">in</span><span class="op" id="8406358">,</span>&nbsp;<span class="ident" id="8406360">ip</span><span class="op" id="8406362">,</span>&nbsp;<span class="ident" id="8406364">net</span><span class="op" id="8406367">.</span><span class="ident" id="8406368">IP</span><span class="op" id="8406370">,</span>&nbsp;<span class="ident" id="8406372">net</span><span class="op" id="8406375">.</span><span class="ident" id="8406376">Mask</span><span class="op" id="8406380">,</span>&nbsp;<span class="ident" id="8406382">tt</span><span class="op" id="8406384">.</span><span class="ident" id="8406385">ip</span><span class="op" id="8406387">,</span>&nbsp;<span class="ident" id="8406389">tt</span><span class="op" id="8406391">.</span><span class="ident" id="8406392">net</span><span class="op" id="8406395">.</span><span class="ident" id="8406396">IP</span><span class="op" id="8406398">,</span>&nbsp;<span class="ident" id="8406400">tt</span><span class="op" id="8406402">.</span><span class="ident" id="8406403">net</span><span class="op" id="8406406">.</span><span class="ident" id="8406407">Mask</span><span class="op" id="8406411">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406415">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406418">}</span><br>
<span class="lineno"></span><span class="op" id="8406420">}</span><br>
<span class="lineno">200</span><br>
<span class="lineno"></span><span class="keyword" id="8406423">var</span>&nbsp;<span class="ident" id="8406427">ipNetContainsTests</span>&nbsp;<span class="op" id="8406446">=</span>&nbsp;<span class="op" id="8406448">[</span><span class="op" id="8406449">]</span><span class="keyword" id="8406450">struct</span>&nbsp;<span class="op" id="8406457">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8406460">ip</span>&nbsp;&nbsp;<span class="ident" id="8406464">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8406468">net</span>&nbsp;<span class="op" id="8406472">*</span><span class="ident" id="8406473">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8406480">ok</span>&nbsp;&nbsp;<span class="builtintype" id="8406484">bool</span><br>
<span class="lineno">205</span><span class="op" id="8406489">}</span><span class="op" id="8406490">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406493">{</span><span class="ident" id="8406494">IPv4</span><span class="op" id="8406498">(</span><span class="num" id="8406499">172</span><span class="op" id="8406502">,</span>&nbsp;<span class="num" id="8406504">16</span><span class="op" id="8406506">,</span>&nbsp;<span class="num" id="8406508">1</span><span class="op" id="8406509">,</span>&nbsp;<span class="num" id="8406511">1</span><span class="op" id="8406512">)</span><span class="op" id="8406513">,</span>&nbsp;<span class="op" id="8406515">&amp;</span><span class="ident" id="8406516">IPNet</span><span class="op" id="8406521">{</span><span class="ident" id="8406522">IP</span><span class="op" id="8406524">:</span>&nbsp;<span class="ident" id="8406526">IPv4</span><span class="op" id="8406530">(</span><span class="num" id="8406531">172</span><span class="op" id="8406534">,</span>&nbsp;<span class="num" id="8406536">16</span><span class="op" id="8406538">,</span>&nbsp;<span class="num" id="8406540">0</span><span class="op" id="8406541">,</span>&nbsp;<span class="num" id="8406543">0</span><span class="op" id="8406544">)</span><span class="op" id="8406545">,</span>&nbsp;<span class="ident" id="8406547">Mask</span><span class="op" id="8406551">:</span>&nbsp;<span class="ident" id="8406553">CIDRMask</span><span class="op" id="8406561">(</span><span class="num" id="8406562">12</span><span class="op" id="8406564">,</span>&nbsp;<span class="num" id="8406566">32</span><span class="op" id="8406568">)</span><span class="op" id="8406569">}</span><span class="op" id="8406570">,</span>&nbsp;<span class="builtintype" id="8406572">true</span><span class="op" id="8406576">}</span><span class="op" id="8406577">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406580">{</span><span class="ident" id="8406581">IPv4</span><span class="op" id="8406585">(</span><span class="num" id="8406586">172</span><span class="op" id="8406589">,</span>&nbsp;<span class="num" id="8406591">24</span><span class="op" id="8406593">,</span>&nbsp;<span class="num" id="8406595">0</span><span class="op" id="8406596">,</span>&nbsp;<span class="num" id="8406598">1</span><span class="op" id="8406599">)</span><span class="op" id="8406600">,</span>&nbsp;<span class="op" id="8406602">&amp;</span><span class="ident" id="8406603">IPNet</span><span class="op" id="8406608">{</span><span class="ident" id="8406609">IP</span><span class="op" id="8406611">:</span>&nbsp;<span class="ident" id="8406613">IPv4</span><span class="op" id="8406617">(</span><span class="num" id="8406618">172</span><span class="op" id="8406621">,</span>&nbsp;<span class="num" id="8406623">16</span><span class="op" id="8406625">,</span>&nbsp;<span class="num" id="8406627">0</span><span class="op" id="8406628">,</span>&nbsp;<span class="num" id="8406630">0</span><span class="op" id="8406631">)</span><span class="op" id="8406632">,</span>&nbsp;<span class="ident" id="8406634">Mask</span><span class="op" id="8406638">:</span>&nbsp;<span class="ident" id="8406640">CIDRMask</span><span class="op" id="8406648">(</span><span class="num" id="8406649">13</span><span class="op" id="8406651">,</span>&nbsp;<span class="num" id="8406653">32</span><span class="op" id="8406655">)</span><span class="op" id="8406656">}</span><span class="op" id="8406657">,</span>&nbsp;<span class="builtintype" id="8406659">false</span><span class="op" id="8406664">}</span><span class="op" id="8406665">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406668">{</span><span class="ident" id="8406669">IPv4</span><span class="op" id="8406673">(</span><span class="num" id="8406674">192</span><span class="op" id="8406677">,</span>&nbsp;<span class="num" id="8406679">168</span><span class="op" id="8406682">,</span>&nbsp;<span class="num" id="8406684">0</span><span class="op" id="8406685">,</span>&nbsp;<span class="num" id="8406687">3</span><span class="op" id="8406688">)</span><span class="op" id="8406689">,</span>&nbsp;<span class="op" id="8406691">&amp;</span><span class="ident" id="8406692">IPNet</span><span class="op" id="8406697">{</span><span class="ident" id="8406698">IP</span><span class="op" id="8406700">:</span>&nbsp;<span class="ident" id="8406702">IPv4</span><span class="op" id="8406706">(</span><span class="num" id="8406707">192</span><span class="op" id="8406710">,</span>&nbsp;<span class="num" id="8406712">168</span><span class="op" id="8406715">,</span>&nbsp;<span class="num" id="8406717">0</span><span class="op" id="8406718">,</span>&nbsp;<span class="num" id="8406720">0</span><span class="op" id="8406721">)</span><span class="op" id="8406722">,</span>&nbsp;<span class="ident" id="8406724">Mask</span><span class="op" id="8406728">:</span>&nbsp;<span class="ident" id="8406730">IPv4Mask</span><span class="op" id="8406738">(</span><span class="num" id="8406739">0</span><span class="op" id="8406740">,</span>&nbsp;<span class="num" id="8406742">0</span><span class="op" id="8406743">,</span>&nbsp;<span class="num" id="8406745">255</span><span class="op" id="8406748">,</span>&nbsp;<span class="num" id="8406750">252</span><span class="op" id="8406753">)</span><span class="op" id="8406754">}</span><span class="op" id="8406755">,</span>&nbsp;<span class="builtintype" id="8406757">true</span><span class="op" id="8406761">}</span><span class="op" id="8406762">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406765">{</span><span class="ident" id="8406766">IPv4</span><span class="op" id="8406770">(</span><span class="num" id="8406771">192</span><span class="op" id="8406774">,</span>&nbsp;<span class="num" id="8406776">168</span><span class="op" id="8406779">,</span>&nbsp;<span class="num" id="8406781">0</span><span class="op" id="8406782">,</span>&nbsp;<span class="num" id="8406784">4</span><span class="op" id="8406785">)</span><span class="op" id="8406786">,</span>&nbsp;<span class="op" id="8406788">&amp;</span><span class="ident" id="8406789">IPNet</span><span class="op" id="8406794">{</span><span class="ident" id="8406795">IP</span><span class="op" id="8406797">:</span>&nbsp;<span class="ident" id="8406799">IPv4</span><span class="op" id="8406803">(</span><span class="num" id="8406804">192</span><span class="op" id="8406807">,</span>&nbsp;<span class="num" id="8406809">168</span><span class="op" id="8406812">,</span>&nbsp;<span class="num" id="8406814">0</span><span class="op" id="8406815">,</span>&nbsp;<span class="num" id="8406817">0</span><span class="op" id="8406818">)</span><span class="op" id="8406819">,</span>&nbsp;<span class="ident" id="8406821">Mask</span><span class="op" id="8406825">:</span>&nbsp;<span class="ident" id="8406827">IPv4Mask</span><span class="op" id="8406835">(</span><span class="num" id="8406836">0</span><span class="op" id="8406837">,</span>&nbsp;<span class="num" id="8406839">255</span><span class="op" id="8406842">,</span>&nbsp;<span class="num" id="8406844">0</span><span class="op" id="8406845">,</span>&nbsp;<span class="num" id="8406847">252</span><span class="op" id="8406850">)</span><span class="op" id="8406851">}</span><span class="op" id="8406852">,</span>&nbsp;<span class="builtintype" id="8406854">false</span><span class="op" id="8406859">}</span><span class="op" id="8406860">,</span><br>
<span class="lineno">210</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406863">{</span><span class="ident" id="8406864">ParseIP</span><span class="op" id="8406871">(</span><span class="string" id="8406872">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8406889">)</span><span class="op" id="8406890">,</span>&nbsp;<span class="op" id="8406892">&amp;</span><span class="ident" id="8406893">IPNet</span><span class="op" id="8406898">{</span><span class="ident" id="8406899">IP</span><span class="op" id="8406901">:</span>&nbsp;<span class="ident" id="8406903">ParseIP</span><span class="op" id="8406910">(</span><span class="string" id="8406911">&#34;2001:db8:1::&#34;</span><span class="op" id="8406925">)</span><span class="op" id="8406926">,</span>&nbsp;<span class="ident" id="8406928">Mask</span><span class="op" id="8406932">:</span>&nbsp;<span class="ident" id="8406934">CIDRMask</span><span class="op" id="8406942">(</span><span class="num" id="8406943">47</span><span class="op" id="8406945">,</span>&nbsp;<span class="num" id="8406947">128</span><span class="op" id="8406950">)</span><span class="op" id="8406951">}</span><span class="op" id="8406952">,</span>&nbsp;<span class="builtintype" id="8406954">true</span><span class="op" id="8406958">}</span><span class="op" id="8406959">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8406962">{</span><span class="ident" id="8406963">ParseIP</span><span class="op" id="8406970">(</span><span class="string" id="8406971">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8406988">)</span><span class="op" id="8406989">,</span>&nbsp;<span class="op" id="8406991">&amp;</span><span class="ident" id="8406992">IPNet</span><span class="op" id="8406997">{</span><span class="ident" id="8406998">IP</span><span class="op" id="8407000">:</span>&nbsp;<span class="ident" id="8407002">ParseIP</span><span class="op" id="8407009">(</span><span class="string" id="8407010">&#34;2001:db8:2::&#34;</span><span class="op" id="8407024">)</span><span class="op" id="8407025">,</span>&nbsp;<span class="ident" id="8407027">Mask</span><span class="op" id="8407031">:</span>&nbsp;<span class="ident" id="8407033">CIDRMask</span><span class="op" id="8407041">(</span><span class="num" id="8407042">47</span><span class="op" id="8407044">,</span>&nbsp;<span class="num" id="8407046">128</span><span class="op" id="8407049">)</span><span class="op" id="8407050">}</span><span class="op" id="8407051">,</span>&nbsp;<span class="builtintype" id="8407053">false</span><span class="op" id="8407058">}</span><span class="op" id="8407059">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407062">{</span><span class="ident" id="8407063">ParseIP</span><span class="op" id="8407070">(</span><span class="string" id="8407071">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8407088">)</span><span class="op" id="8407089">,</span>&nbsp;<span class="op" id="8407091">&amp;</span><span class="ident" id="8407092">IPNet</span><span class="op" id="8407097">{</span><span class="ident" id="8407098">IP</span><span class="op" id="8407100">:</span>&nbsp;<span class="ident" id="8407102">ParseIP</span><span class="op" id="8407109">(</span><span class="string" id="8407110">&#34;2001:db8:1::&#34;</span><span class="op" id="8407124">)</span><span class="op" id="8407125">,</span>&nbsp;<span class="ident" id="8407127">Mask</span><span class="op" id="8407131">:</span>&nbsp;<span class="ident" id="8407133">IPMask</span><span class="op" id="8407139">(</span><span class="ident" id="8407140">ParseIP</span><span class="op" id="8407147">(</span><span class="string" id="8407148">&#34;ffff:0:ffff::&#34;</span><span class="op" id="8407163">)</span><span class="op" id="8407164">)</span><span class="op" id="8407165">}</span><span class="op" id="8407166">,</span>&nbsp;<span class="builtintype" id="8407168">true</span><span class="op" id="8407172">}</span><span class="op" id="8407173">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407176">{</span><span class="ident" id="8407177">ParseIP</span><span class="op" id="8407184">(</span><span class="string" id="8407185">&#34;2001:db8:1:2::1&#34;</span><span class="op" id="8407202">)</span><span class="op" id="8407203">,</span>&nbsp;<span class="op" id="8407205">&amp;</span><span class="ident" id="8407206">IPNet</span><span class="op" id="8407211">{</span><span class="ident" id="8407212">IP</span><span class="op" id="8407214">:</span>&nbsp;<span class="ident" id="8407216">ParseIP</span><span class="op" id="8407223">(</span><span class="string" id="8407224">&#34;2001:db8:1::&#34;</span><span class="op" id="8407238">)</span><span class="op" id="8407239">,</span>&nbsp;<span class="ident" id="8407241">Mask</span><span class="op" id="8407245">:</span>&nbsp;<span class="ident" id="8407247">IPMask</span><span class="op" id="8407253">(</span><span class="ident" id="8407254">ParseIP</span><span class="op" id="8407261">(</span><span class="string" id="8407262">&#34;0:0:0:ffff::&#34;</span><span class="op" id="8407276">)</span><span class="op" id="8407277">)</span><span class="op" id="8407278">}</span><span class="op" id="8407279">,</span>&nbsp;<span class="builtintype" id="8407281">false</span><span class="op" id="8407286">}</span><span class="op" id="8407287">,</span><br>
<span class="lineno"></span><span class="op" id="8407289">}</span><br>
<span class="lineno">215</span><br>
<span class="lineno"></span><span class="keyword" id="8407292">func</span>&nbsp;<span class="ident" id="8407297">TestIPNetContains</span><span class="op" id="8407314">(</span><span class="ident" id="8407315">t</span>&nbsp;<span class="op" id="8407317">*</span><span class="ident" id="8407318">testing</span><span class="op" id="8407325">.</span><span class="ident" id="8407326">T</span><span class="op" id="8407327">)</span>&nbsp;<span class="op" id="8407329">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8407332">for</span>&nbsp;<span class="ident" id="8407336">_</span><span class="op" id="8407337">,</span>&nbsp;<span class="ident" id="8407339">tt</span>&nbsp;<span class="op" id="8407342">:=</span>&nbsp;<span class="keyword" id="8407345">range</span>&nbsp;<span class="ident" id="8407351">ipNetContainsTests</span>&nbsp;<span class="op" id="8407370">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8407374">if</span>&nbsp;<span class="ident" id="8407377">ok</span>&nbsp;<span class="op" id="8407380">:=</span>&nbsp;<span class="ident" id="8407383">tt</span><span class="op" id="8407385">.</span><span class="ident" id="8407386">net</span><span class="op" id="8407389">.</span><span class="ident" id="8407390">Contains</span><span class="op" id="8407398">(</span><span class="ident" id="8407399">tt</span><span class="op" id="8407401">.</span><span class="ident" id="8407402">ip</span><span class="op" id="8407404">)</span><span class="op" id="8407405">;</span>&nbsp;<span class="ident" id="8407407">ok</span>&nbsp;<span class="op" id="8407410">!=</span>&nbsp;<span class="ident" id="8407413">tt</span><span class="op" id="8407415">.</span><span class="ident" id="8407416">ok</span>&nbsp;<span class="op" id="8407419">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8407424">t</span><span class="op" id="8407425">.</span><span class="ident" id="8407426">Errorf</span><span class="op" id="8407432">(</span><span class="string" id="8407433">&#34;IPNet(%v).Contains(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8407471">,</span>&nbsp;<span class="ident" id="8407473">tt</span><span class="op" id="8407475">.</span><span class="ident" id="8407476">net</span><span class="op" id="8407479">,</span>&nbsp;<span class="ident" id="8407481">tt</span><span class="op" id="8407483">.</span><span class="ident" id="8407484">ip</span><span class="op" id="8407486">,</span>&nbsp;<span class="ident" id="8407488">ok</span><span class="op" id="8407490">,</span>&nbsp;<span class="ident" id="8407492">tt</span><span class="op" id="8407494">.</span><span class="ident" id="8407495">ok</span><span class="op" id="8407497">)</span><br>
<span class="lineno">220</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407501">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407504">}</span><br>
<span class="lineno"></span><span class="op" id="8407506">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8407509">var</span>&nbsp;<span class="ident" id="8407513">ipNetStringTests</span>&nbsp;<span class="op" id="8407530">=</span>&nbsp;<span class="op" id="8407532">[</span><span class="op" id="8407533">]</span><span class="keyword" id="8407534">struct</span>&nbsp;<span class="op" id="8407541">{</span><br>
<span class="lineno">225</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8407544">in</span>&nbsp;&nbsp;<span class="op" id="8407548">*</span><span class="ident" id="8407549">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8407556">out</span>&nbsp;<span class="builtintype" id="8407560">string</span><br>
<span class="lineno"></span><span class="op" id="8407567">}</span><span class="op" id="8407568">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407571">{</span><span class="op" id="8407572">&amp;</span><span class="ident" id="8407573">IPNet</span><span class="op" id="8407578">{</span><span class="ident" id="8407579">IP</span><span class="op" id="8407581">:</span>&nbsp;<span class="ident" id="8407583">IPv4</span><span class="op" id="8407587">(</span><span class="num" id="8407588">192</span><span class="op" id="8407591">,</span>&nbsp;<span class="num" id="8407593">168</span><span class="op" id="8407596">,</span>&nbsp;<span class="num" id="8407598">1</span><span class="op" id="8407599">,</span>&nbsp;<span class="num" id="8407601">0</span><span class="op" id="8407602">)</span><span class="op" id="8407603">,</span>&nbsp;<span class="ident" id="8407605">Mask</span><span class="op" id="8407609">:</span>&nbsp;<span class="ident" id="8407611">CIDRMask</span><span class="op" id="8407619">(</span><span class="num" id="8407620">26</span><span class="op" id="8407622">,</span>&nbsp;<span class="num" id="8407624">32</span><span class="op" id="8407626">)</span><span class="op" id="8407627">}</span><span class="op" id="8407628">,</span>&nbsp;<span class="string" id="8407630">&#34;192.168.1.0/26&#34;</span><span class="op" id="8407646">}</span><span class="op" id="8407647">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407650">{</span><span class="op" id="8407651">&amp;</span><span class="ident" id="8407652">IPNet</span><span class="op" id="8407657">{</span><span class="ident" id="8407658">IP</span><span class="op" id="8407660">:</span>&nbsp;<span class="ident" id="8407662">IPv4</span><span class="op" id="8407666">(</span><span class="num" id="8407667">192</span><span class="op" id="8407670">,</span>&nbsp;<span class="num" id="8407672">168</span><span class="op" id="8407675">,</span>&nbsp;<span class="num" id="8407677">1</span><span class="op" id="8407678">,</span>&nbsp;<span class="num" id="8407680">0</span><span class="op" id="8407681">)</span><span class="op" id="8407682">,</span>&nbsp;<span class="ident" id="8407684">Mask</span><span class="op" id="8407688">:</span>&nbsp;<span class="ident" id="8407690">IPv4Mask</span><span class="op" id="8407698">(</span><span class="num" id="8407699">255</span><span class="op" id="8407702">,</span>&nbsp;<span class="num" id="8407704">0</span><span class="op" id="8407705">,</span>&nbsp;<span class="num" id="8407707">255</span><span class="op" id="8407710">,</span>&nbsp;<span class="num" id="8407712">0</span><span class="op" id="8407713">)</span><span class="op" id="8407714">}</span><span class="op" id="8407715">,</span>&nbsp;<span class="string" id="8407717">&#34;192.168.1.0/ff00ff00&#34;</span><span class="op" id="8407739">}</span><span class="op" id="8407740">,</span><br>
<span class="lineno">230</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407743">{</span><span class="op" id="8407744">&amp;</span><span class="ident" id="8407745">IPNet</span><span class="op" id="8407750">{</span><span class="ident" id="8407751">IP</span><span class="op" id="8407753">:</span>&nbsp;<span class="ident" id="8407755">ParseIP</span><span class="op" id="8407762">(</span><span class="string" id="8407763">&#34;2001:db8::&#34;</span><span class="op" id="8407775">)</span><span class="op" id="8407776">,</span>&nbsp;<span class="ident" id="8407778">Mask</span><span class="op" id="8407782">:</span>&nbsp;<span class="ident" id="8407784">CIDRMask</span><span class="op" id="8407792">(</span><span class="num" id="8407793">55</span><span class="op" id="8407795">,</span>&nbsp;<span class="num" id="8407797">128</span><span class="op" id="8407800">)</span><span class="op" id="8407801">}</span><span class="op" id="8407802">,</span>&nbsp;<span class="string" id="8407804">&#34;2001:db8::/55&#34;</span><span class="op" id="8407819">}</span><span class="op" id="8407820">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8407823">{</span><span class="op" id="8407824">&amp;</span><span class="ident" id="8407825">IPNet</span><span class="op" id="8407830">{</span><span class="ident" id="8407831">IP</span><span class="op" id="8407833">:</span>&nbsp;<span class="ident" id="8407835">ParseIP</span><span class="op" id="8407842">(</span><span class="string" id="8407843">&#34;2001:db8::&#34;</span><span class="op" id="8407855">)</span><span class="op" id="8407856">,</span>&nbsp;<span class="ident" id="8407858">Mask</span><span class="op" id="8407862">:</span>&nbsp;<span class="ident" id="8407864">IPMask</span><span class="op" id="8407870">(</span><span class="ident" id="8407871">ParseIP</span><span class="op" id="8407878">(</span><span class="string" id="8407879">&#34;8000:f123:0:cafe::&#34;</span><span class="op" id="8407899">)</span><span class="op" id="8407900">)</span><span class="op" id="8407901">}</span><span class="op" id="8407902">,</span>&nbsp;<span class="string" id="8407904">&#34;2001:db8::/8000f1230000cafe0000000000000000&#34;</span><span class="op" id="8407949">}</span><span class="op" id="8407950">,</span><br>
<span class="lineno"></span><span class="op" id="8407952">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8407955">func</span>&nbsp;<span class="ident" id="8407960">TestIPNetString</span><span class="op" id="8407975">(</span><span class="ident" id="8407976">t</span>&nbsp;<span class="op" id="8407978">*</span><span class="ident" id="8407979">testing</span><span class="op" id="8407986">.</span><span class="ident" id="8407987">T</span><span class="op" id="8407988">)</span>&nbsp;<span class="op" id="8407990">{</span><br>
<span class="lineno">235</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8407993">for</span>&nbsp;<span class="ident" id="8407997">_</span><span class="op" id="8407998">,</span>&nbsp;<span class="ident" id="8408000">tt</span>&nbsp;<span class="op" id="8408003">:=</span>&nbsp;<span class="keyword" id="8408006">range</span>&nbsp;<span class="ident" id="8408012">ipNetStringTests</span>&nbsp;<span class="op" id="8408029">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408033">if</span>&nbsp;<span class="ident" id="8408036">out</span>&nbsp;<span class="op" id="8408040">:=</span>&nbsp;<span class="ident" id="8408043">tt</span><span class="op" id="8408045">.</span><span class="ident" id="8408046">in</span><span class="op" id="8408048">.</span><span class="ident" id="8408049">String</span><span class="op" id="8408055">(</span><span class="op" id="8408056">)</span><span class="op" id="8408057">;</span>&nbsp;<span class="ident" id="8408059">out</span>&nbsp;<span class="op" id="8408063">!=</span>&nbsp;<span class="ident" id="8408066">tt</span><span class="op" id="8408068">.</span><span class="ident" id="8408069">out</span>&nbsp;<span class="op" id="8408073">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408078">t</span><span class="op" id="8408079">.</span><span class="ident" id="8408080">Errorf</span><span class="op" id="8408086">(</span><span class="string" id="8408087">&#34;IPNet.String(%v)&nbsp;=&nbsp;%q,&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8408119">,</span>&nbsp;<span class="ident" id="8408121">tt</span><span class="op" id="8408123">.</span><span class="ident" id="8408124">in</span><span class="op" id="8408126">,</span>&nbsp;<span class="ident" id="8408128">out</span><span class="op" id="8408131">,</span>&nbsp;<span class="ident" id="8408133">tt</span><span class="op" id="8408135">.</span><span class="ident" id="8408136">out</span><span class="op" id="8408139">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408143">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408146">}</span><br>
<span class="lineno">240</span><span class="op" id="8408148">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8408151">var</span>&nbsp;<span class="ident" id="8408155">cidrMaskTests</span>&nbsp;<span class="op" id="8408169">=</span>&nbsp;<span class="op" id="8408171">[</span><span class="op" id="8408172">]</span><span class="keyword" id="8408173">struct</span>&nbsp;<span class="op" id="8408180">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408183">ones</span>&nbsp;<span class="builtintype" id="8408188">int</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408193">bits</span>&nbsp;<span class="builtintype" id="8408198">int</span><br>
<span class="lineno">245</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408203">out</span>&nbsp;&nbsp;<span class="ident" id="8408208">IPMask</span><br>
<span class="lineno"></span><span class="op" id="8408215">}</span><span class="op" id="8408216">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408219">{</span><span class="num" id="8408220">0</span><span class="op" id="8408221">,</span>&nbsp;<span class="num" id="8408223">32</span><span class="op" id="8408225">,</span>&nbsp;<span class="ident" id="8408227">IPv4Mask</span><span class="op" id="8408235">(</span><span class="num" id="8408236">0</span><span class="op" id="8408237">,</span>&nbsp;<span class="num" id="8408239">0</span><span class="op" id="8408240">,</span>&nbsp;<span class="num" id="8408242">0</span><span class="op" id="8408243">,</span>&nbsp;<span class="num" id="8408245">0</span><span class="op" id="8408246">)</span><span class="op" id="8408247">}</span><span class="op" id="8408248">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408251">{</span><span class="num" id="8408252">12</span><span class="op" id="8408254">,</span>&nbsp;<span class="num" id="8408256">32</span><span class="op" id="8408258">,</span>&nbsp;<span class="ident" id="8408260">IPv4Mask</span><span class="op" id="8408268">(</span><span class="num" id="8408269">255</span><span class="op" id="8408272">,</span>&nbsp;<span class="num" id="8408274">240</span><span class="op" id="8408277">,</span>&nbsp;<span class="num" id="8408279">0</span><span class="op" id="8408280">,</span>&nbsp;<span class="num" id="8408282">0</span><span class="op" id="8408283">)</span><span class="op" id="8408284">}</span><span class="op" id="8408285">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408288">{</span><span class="num" id="8408289">24</span><span class="op" id="8408291">,</span>&nbsp;<span class="num" id="8408293">32</span><span class="op" id="8408295">,</span>&nbsp;<span class="ident" id="8408297">IPv4Mask</span><span class="op" id="8408305">(</span><span class="num" id="8408306">255</span><span class="op" id="8408309">,</span>&nbsp;<span class="num" id="8408311">255</span><span class="op" id="8408314">,</span>&nbsp;<span class="num" id="8408316">255</span><span class="op" id="8408319">,</span>&nbsp;<span class="num" id="8408321">0</span><span class="op" id="8408322">)</span><span class="op" id="8408323">}</span><span class="op" id="8408324">,</span><br>
<span class="lineno">250</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408327">{</span><span class="num" id="8408328">32</span><span class="op" id="8408330">,</span>&nbsp;<span class="num" id="8408332">32</span><span class="op" id="8408334">,</span>&nbsp;<span class="ident" id="8408336">IPv4Mask</span><span class="op" id="8408344">(</span><span class="num" id="8408345">255</span><span class="op" id="8408348">,</span>&nbsp;<span class="num" id="8408350">255</span><span class="op" id="8408353">,</span>&nbsp;<span class="num" id="8408355">255</span><span class="op" id="8408358">,</span>&nbsp;<span class="num" id="8408360">255</span><span class="op" id="8408363">)</span><span class="op" id="8408364">}</span><span class="op" id="8408365">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408368">{</span><span class="num" id="8408369">0</span><span class="op" id="8408370">,</span>&nbsp;<span class="num" id="8408372">128</span><span class="op" id="8408375">,</span>&nbsp;<span class="ident" id="8408377">IPMask</span><span class="op" id="8408383">{</span><span class="num" id="8408384">0</span><span class="op" id="8408385">,</span>&nbsp;<span class="num" id="8408387">0</span><span class="op" id="8408388">,</span>&nbsp;<span class="num" id="8408390">0</span><span class="op" id="8408391">,</span>&nbsp;<span class="num" id="8408393">0</span><span class="op" id="8408394">,</span>&nbsp;<span class="num" id="8408396">0</span><span class="op" id="8408397">,</span>&nbsp;<span class="num" id="8408399">0</span><span class="op" id="8408400">,</span>&nbsp;<span class="num" id="8408402">0</span><span class="op" id="8408403">,</span>&nbsp;<span class="num" id="8408405">0</span><span class="op" id="8408406">,</span>&nbsp;<span class="num" id="8408408">0</span><span class="op" id="8408409">,</span>&nbsp;<span class="num" id="8408411">0</span><span class="op" id="8408412">,</span>&nbsp;<span class="num" id="8408414">0</span><span class="op" id="8408415">,</span>&nbsp;<span class="num" id="8408417">0</span><span class="op" id="8408418">,</span>&nbsp;<span class="num" id="8408420">0</span><span class="op" id="8408421">,</span>&nbsp;<span class="num" id="8408423">0</span><span class="op" id="8408424">,</span>&nbsp;<span class="num" id="8408426">0</span><span class="op" id="8408427">,</span>&nbsp;<span class="num" id="8408429">0</span><span class="op" id="8408430">}</span><span class="op" id="8408431">}</span><span class="op" id="8408432">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408435">{</span><span class="num" id="8408436">4</span><span class="op" id="8408437">,</span>&nbsp;<span class="num" id="8408439">128</span><span class="op" id="8408442">,</span>&nbsp;<span class="ident" id="8408444">IPMask</span><span class="op" id="8408450">{</span><span class="num" id="8408451">0xf0</span><span class="op" id="8408455">,</span>&nbsp;<span class="num" id="8408457">0</span><span class="op" id="8408458">,</span>&nbsp;<span class="num" id="8408460">0</span><span class="op" id="8408461">,</span>&nbsp;<span class="num" id="8408463">0</span><span class="op" id="8408464">,</span>&nbsp;<span class="num" id="8408466">0</span><span class="op" id="8408467">,</span>&nbsp;<span class="num" id="8408469">0</span><span class="op" id="8408470">,</span>&nbsp;<span class="num" id="8408472">0</span><span class="op" id="8408473">,</span>&nbsp;<span class="num" id="8408475">0</span><span class="op" id="8408476">,</span>&nbsp;<span class="num" id="8408478">0</span><span class="op" id="8408479">,</span>&nbsp;<span class="num" id="8408481">0</span><span class="op" id="8408482">,</span>&nbsp;<span class="num" id="8408484">0</span><span class="op" id="8408485">,</span>&nbsp;<span class="num" id="8408487">0</span><span class="op" id="8408488">,</span>&nbsp;<span class="num" id="8408490">0</span><span class="op" id="8408491">,</span>&nbsp;<span class="num" id="8408493">0</span><span class="op" id="8408494">,</span>&nbsp;<span class="num" id="8408496">0</span><span class="op" id="8408497">,</span>&nbsp;<span class="num" id="8408499">0</span><span class="op" id="8408500">}</span><span class="op" id="8408501">}</span><span class="op" id="8408502">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408505">{</span><span class="num" id="8408506">48</span><span class="op" id="8408508">,</span>&nbsp;<span class="num" id="8408510">128</span><span class="op" id="8408513">,</span>&nbsp;<span class="ident" id="8408515">IPMask</span><span class="op" id="8408521">{</span><span class="num" id="8408522">0xff</span><span class="op" id="8408526">,</span>&nbsp;<span class="num" id="8408528">0xff</span><span class="op" id="8408532">,</span>&nbsp;<span class="num" id="8408534">0xff</span><span class="op" id="8408538">,</span>&nbsp;<span class="num" id="8408540">0xff</span><span class="op" id="8408544">,</span>&nbsp;<span class="num" id="8408546">0xff</span><span class="op" id="8408550">,</span>&nbsp;<span class="num" id="8408552">0xff</span><span class="op" id="8408556">,</span>&nbsp;<span class="num" id="8408558">0</span><span class="op" id="8408559">,</span>&nbsp;<span class="num" id="8408561">0</span><span class="op" id="8408562">,</span>&nbsp;<span class="num" id="8408564">0</span><span class="op" id="8408565">,</span>&nbsp;<span class="num" id="8408567">0</span><span class="op" id="8408568">,</span>&nbsp;<span class="num" id="8408570">0</span><span class="op" id="8408571">,</span>&nbsp;<span class="num" id="8408573">0</span><span class="op" id="8408574">,</span>&nbsp;<span class="num" id="8408576">0</span><span class="op" id="8408577">,</span>&nbsp;<span class="num" id="8408579">0</span><span class="op" id="8408580">,</span>&nbsp;<span class="num" id="8408582">0</span><span class="op" id="8408583">,</span>&nbsp;<span class="num" id="8408585">0</span><span class="op" id="8408586">}</span><span class="op" id="8408587">}</span><span class="op" id="8408588">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408591">{</span><span class="num" id="8408592">128</span><span class="op" id="8408595">,</span>&nbsp;<span class="num" id="8408597">128</span><span class="op" id="8408600">,</span>&nbsp;<span class="ident" id="8408602">IPMask</span><span class="op" id="8408608">{</span><span class="num" id="8408609">0xff</span><span class="op" id="8408613">,</span>&nbsp;<span class="num" id="8408615">0xff</span><span class="op" id="8408619">,</span>&nbsp;<span class="num" id="8408621">0xff</span><span class="op" id="8408625">,</span>&nbsp;<span class="num" id="8408627">0xff</span><span class="op" id="8408631">,</span>&nbsp;<span class="num" id="8408633">0xff</span><span class="op" id="8408637">,</span>&nbsp;<span class="num" id="8408639">0xff</span><span class="op" id="8408643">,</span>&nbsp;<span class="num" id="8408645">0xff</span><span class="op" id="8408649">,</span>&nbsp;<span class="num" id="8408651">0xff</span><span class="op" id="8408655">,</span>&nbsp;<span class="num" id="8408657">0xff</span><span class="op" id="8408661">,</span>&nbsp;<span class="num" id="8408663">0xff</span><span class="op" id="8408667">,</span>&nbsp;<span class="num" id="8408669">0xff</span><span class="op" id="8408673">,</span>&nbsp;<span class="num" id="8408675">0xff</span><span class="op" id="8408679">,</span>&nbsp;<span class="num" id="8408681">0xff</span><span class="op" id="8408685">,</span>&nbsp;<span class="num" id="8408687">0xff</span><span class="op" id="8408691">,</span>&nbsp;<span class="num" id="8408693">0xff</span><span class="op" id="8408697">,</span>&nbsp;<span class="num" id="8408699">0xff</span><span class="op" id="8408703">}</span><span class="op" id="8408704">}</span><span class="op" id="8408705">,</span><br>
<span class="lineno">255</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408708">{</span><span class="num" id="8408709">33</span><span class="op" id="8408711">,</span>&nbsp;<span class="num" id="8408713">32</span><span class="op" id="8408715">,</span>&nbsp;<span class="ident" id="8408717">nil</span><span class="op" id="8408720">}</span><span class="op" id="8408721">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408724">{</span><span class="num" id="8408725">32</span><span class="op" id="8408727">,</span>&nbsp;<span class="num" id="8408729">33</span><span class="op" id="8408731">,</span>&nbsp;<span class="ident" id="8408733">nil</span><span class="op" id="8408736">}</span><span class="op" id="8408737">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408740">{</span><span class="op" id="8408741">-</span><span class="num" id="8408742">1</span><span class="op" id="8408743">,</span>&nbsp;<span class="num" id="8408745">128</span><span class="op" id="8408748">,</span>&nbsp;<span class="ident" id="8408750">nil</span><span class="op" id="8408753">}</span><span class="op" id="8408754">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408757">{</span><span class="num" id="8408758">128</span><span class="op" id="8408761">,</span>&nbsp;<span class="op" id="8408763">-</span><span class="num" id="8408764">1</span><span class="op" id="8408765">,</span>&nbsp;<span class="ident" id="8408767">nil</span><span class="op" id="8408770">}</span><span class="op" id="8408771">,</span><br>
<span class="lineno"></span><span class="op" id="8408773">}</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="keyword" id="8408776">func</span>&nbsp;<span class="ident" id="8408781">TestCIDRMask</span><span class="op" id="8408793">(</span><span class="ident" id="8408794">t</span>&nbsp;<span class="op" id="8408796">*</span><span class="ident" id="8408797">testing</span><span class="op" id="8408804">.</span><span class="ident" id="8408805">T</span><span class="op" id="8408806">)</span>&nbsp;<span class="op" id="8408808">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408811">for</span>&nbsp;<span class="ident" id="8408815">_</span><span class="op" id="8408816">,</span>&nbsp;<span class="ident" id="8408818">tt</span>&nbsp;<span class="op" id="8408821">:=</span>&nbsp;<span class="keyword" id="8408824">range</span>&nbsp;<span class="ident" id="8408830">cidrMaskTests</span>&nbsp;<span class="op" id="8408844">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8408848">if</span>&nbsp;<span class="ident" id="8408851">out</span>&nbsp;<span class="op" id="8408855">:=</span>&nbsp;<span class="ident" id="8408858">CIDRMask</span><span class="op" id="8408866">(</span><span class="ident" id="8408867">tt</span><span class="op" id="8408869">.</span><span class="ident" id="8408870">ones</span><span class="op" id="8408874">,</span>&nbsp;<span class="ident" id="8408876">tt</span><span class="op" id="8408878">.</span><span class="ident" id="8408879">bits</span><span class="op" id="8408883">)</span><span class="op" id="8408884">;</span>&nbsp;<span class="op" id="8408886">!</span><span class="ident" id="8408887">reflect</span><span class="op" id="8408894">.</span><span class="ident" id="8408895">DeepEqual</span><span class="op" id="8408904">(</span><span class="ident" id="8408905">out</span><span class="op" id="8408908">,</span>&nbsp;<span class="ident" id="8408910">tt</span><span class="op" id="8408912">.</span><span class="ident" id="8408913">out</span><span class="op" id="8408916">)</span>&nbsp;<span class="op" id="8408918">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8408923">t</span><span class="op" id="8408924">.</span><span class="ident" id="8408925">Errorf</span><span class="op" id="8408931">(</span><span class="string" id="8408932">&#34;CIDRMask(%v,&nbsp;%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8408964">,</span>&nbsp;<span class="ident" id="8408966">tt</span><span class="op" id="8408968">.</span><span class="ident" id="8408969">ones</span><span class="op" id="8408973">,</span>&nbsp;<span class="ident" id="8408975">tt</span><span class="op" id="8408977">.</span><span class="ident" id="8408978">bits</span><span class="op" id="8408982">,</span>&nbsp;<span class="ident" id="8408984">out</span><span class="op" id="8408987">,</span>&nbsp;<span class="ident" id="8408989">tt</span><span class="op" id="8408991">.</span><span class="ident" id="8408992">out</span><span class="op" id="8408995">)</span><br>
<span class="lineno">265</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8408999">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409002">}</span><br>
<span class="lineno"></span><span class="op" id="8409004">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8409007">var</span>&nbsp;<span class="op" id="8409011">(</span><br>
<span class="lineno">270</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409014">v4addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409029">=</span>&nbsp;<span class="ident" id="8409031">IP</span><span class="op" id="8409033">{</span><span class="num" id="8409034">192</span><span class="op" id="8409037">,</span>&nbsp;<span class="num" id="8409039">168</span><span class="op" id="8409042">,</span>&nbsp;<span class="num" id="8409044">0</span><span class="op" id="8409045">,</span>&nbsp;<span class="num" id="8409047">1</span><span class="op" id="8409048">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409051">v4mappedv6addr</span>&nbsp;<span class="op" id="8409066">=</span>&nbsp;<span class="ident" id="8409068">IP</span><span class="op" id="8409070">{</span><span class="num" id="8409071">0</span><span class="op" id="8409072">,</span>&nbsp;<span class="num" id="8409074">0</span><span class="op" id="8409075">,</span>&nbsp;<span class="num" id="8409077">0</span><span class="op" id="8409078">,</span>&nbsp;<span class="num" id="8409080">0</span><span class="op" id="8409081">,</span>&nbsp;<span class="num" id="8409083">0</span><span class="op" id="8409084">,</span>&nbsp;<span class="num" id="8409086">0</span><span class="op" id="8409087">,</span>&nbsp;<span class="num" id="8409089">0</span><span class="op" id="8409090">,</span>&nbsp;<span class="num" id="8409092">0</span><span class="op" id="8409093">,</span>&nbsp;<span class="num" id="8409095">0</span><span class="op" id="8409096">,</span>&nbsp;<span class="num" id="8409098">0</span><span class="op" id="8409099">,</span>&nbsp;<span class="num" id="8409101">0xff</span><span class="op" id="8409105">,</span>&nbsp;<span class="num" id="8409107">0xff</span><span class="op" id="8409111">,</span>&nbsp;<span class="num" id="8409113">192</span><span class="op" id="8409116">,</span>&nbsp;<span class="num" id="8409118">168</span><span class="op" id="8409121">,</span>&nbsp;<span class="num" id="8409123">0</span><span class="op" id="8409124">,</span>&nbsp;<span class="num" id="8409126">1</span><span class="op" id="8409127">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409130">v6addr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409145">=</span>&nbsp;<span class="ident" id="8409147">IP</span><span class="op" id="8409149">{</span><span class="num" id="8409150">0x20</span><span class="op" id="8409154">,</span>&nbsp;<span class="num" id="8409156">0x1</span><span class="op" id="8409159">,</span>&nbsp;<span class="num" id="8409161">0xd</span><span class="op" id="8409164">,</span>&nbsp;<span class="num" id="8409166">0xb8</span><span class="op" id="8409170">,</span>&nbsp;<span class="num" id="8409172">0</span><span class="op" id="8409173">,</span>&nbsp;<span class="num" id="8409175">0</span><span class="op" id="8409176">,</span>&nbsp;<span class="num" id="8409178">0</span><span class="op" id="8409179">,</span>&nbsp;<span class="num" id="8409181">0</span><span class="op" id="8409182">,</span>&nbsp;<span class="num" id="8409184">0</span><span class="op" id="8409185">,</span>&nbsp;<span class="num" id="8409187">0</span><span class="op" id="8409188">,</span>&nbsp;<span class="num" id="8409190">0x1</span><span class="op" id="8409193">,</span>&nbsp;<span class="num" id="8409195">0x23</span><span class="op" id="8409199">,</span>&nbsp;<span class="num" id="8409201">0</span><span class="op" id="8409202">,</span>&nbsp;<span class="num" id="8409204">0x12</span><span class="op" id="8409208">,</span>&nbsp;<span class="num" id="8409210">0</span><span class="op" id="8409211">,</span>&nbsp;<span class="num" id="8409213">0x1</span><span class="op" id="8409216">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409219">v4mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409234">=</span>&nbsp;<span class="ident" id="8409236">IPMask</span><span class="op" id="8409242">{</span><span class="num" id="8409243">255</span><span class="op" id="8409246">,</span>&nbsp;<span class="num" id="8409248">255</span><span class="op" id="8409251">,</span>&nbsp;<span class="num" id="8409253">255</span><span class="op" id="8409256">,</span>&nbsp;<span class="num" id="8409258">0</span><span class="op" id="8409259">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409262">v4mappedv6mask</span>&nbsp;<span class="op" id="8409277">=</span>&nbsp;<span class="ident" id="8409279">IPMask</span><span class="op" id="8409285">{</span><span class="num" id="8409286">0xff</span><span class="op" id="8409290">,</span>&nbsp;<span class="num" id="8409292">0xff</span><span class="op" id="8409296">,</span>&nbsp;<span class="num" id="8409298">0xff</span><span class="op" id="8409302">,</span>&nbsp;<span class="num" id="8409304">0xff</span><span class="op" id="8409308">,</span>&nbsp;<span class="num" id="8409310">0xff</span><span class="op" id="8409314">,</span>&nbsp;<span class="num" id="8409316">0xff</span><span class="op" id="8409320">,</span>&nbsp;<span class="num" id="8409322">0xff</span><span class="op" id="8409326">,</span>&nbsp;<span class="num" id="8409328">0xff</span><span class="op" id="8409332">,</span>&nbsp;<span class="num" id="8409334">0xff</span><span class="op" id="8409338">,</span>&nbsp;<span class="num" id="8409340">0xff</span><span class="op" id="8409344">,</span>&nbsp;<span class="num" id="8409346">0xff</span><span class="op" id="8409350">,</span>&nbsp;<span class="num" id="8409352">0xff</span><span class="op" id="8409356">,</span>&nbsp;<span class="num" id="8409358">255</span><span class="op" id="8409361">,</span>&nbsp;<span class="num" id="8409363">255</span><span class="op" id="8409366">,</span>&nbsp;<span class="num" id="8409368">255</span><span class="op" id="8409371">,</span>&nbsp;<span class="num" id="8409373">0</span><span class="op" id="8409374">}</span><br>
<span class="lineno">275</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409377">v6mask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409392">=</span>&nbsp;<span class="ident" id="8409394">IPMask</span><span class="op" id="8409400">{</span><span class="num" id="8409401">0xff</span><span class="op" id="8409405">,</span>&nbsp;<span class="num" id="8409407">0xff</span><span class="op" id="8409411">,</span>&nbsp;<span class="num" id="8409413">0xff</span><span class="op" id="8409417">,</span>&nbsp;<span class="num" id="8409419">0xff</span><span class="op" id="8409423">,</span>&nbsp;<span class="num" id="8409425">0xff</span><span class="op" id="8409429">,</span>&nbsp;<span class="num" id="8409431">0xff</span><span class="op" id="8409435">,</span>&nbsp;<span class="num" id="8409437">0xff</span><span class="op" id="8409441">,</span>&nbsp;<span class="num" id="8409443">0xff</span><span class="op" id="8409447">,</span>&nbsp;<span class="num" id="8409449">0</span><span class="op" id="8409450">,</span>&nbsp;<span class="num" id="8409452">0</span><span class="op" id="8409453">,</span>&nbsp;<span class="num" id="8409455">0</span><span class="op" id="8409456">,</span>&nbsp;<span class="num" id="8409458">0</span><span class="op" id="8409459">,</span>&nbsp;<span class="num" id="8409461">0</span><span class="op" id="8409462">,</span>&nbsp;<span class="num" id="8409464">0</span><span class="op" id="8409465">,</span>&nbsp;<span class="num" id="8409467">0</span><span class="op" id="8409468">,</span>&nbsp;<span class="num" id="8409470">0</span><span class="op" id="8409471">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409474">badaddr</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409489">=</span>&nbsp;<span class="ident" id="8409491">IP</span><span class="op" id="8409493">{</span><span class="num" id="8409494">192</span><span class="op" id="8409497">,</span>&nbsp;<span class="num" id="8409499">168</span><span class="op" id="8409502">,</span>&nbsp;<span class="num" id="8409504">0</span><span class="op" id="8409505">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409508">badmask</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409523">=</span>&nbsp;<span class="ident" id="8409525">IPMask</span><span class="op" id="8409531">{</span><span class="num" id="8409532">255</span><span class="op" id="8409535">,</span>&nbsp;<span class="num" id="8409537">255</span><span class="op" id="8409540">,</span>&nbsp;<span class="num" id="8409542">0</span><span class="op" id="8409543">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409546">v4maskzero</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="op" id="8409561">=</span>&nbsp;<span class="ident" id="8409563">IPMask</span><span class="op" id="8409569">{</span><span class="num" id="8409570">0</span><span class="op" id="8409571">,</span>&nbsp;<span class="num" id="8409573">0</span><span class="op" id="8409574">,</span>&nbsp;<span class="num" id="8409576">0</span><span class="op" id="8409577">,</span>&nbsp;<span class="num" id="8409579">0</span><span class="op" id="8409580">}</span><br>
<span class="lineno"></span><span class="op" id="8409582">)</span><br>
<span class="lineno">280</span><br>
<span class="lineno"></span><span class="keyword" id="8409585">var</span>&nbsp;<span class="ident" id="8409589">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="8409615">=</span>&nbsp;<span class="op" id="8409617">[</span><span class="op" id="8409618">]</span><span class="keyword" id="8409619">struct</span>&nbsp;<span class="op" id="8409626">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409629">in</span>&nbsp;&nbsp;<span class="ident" id="8409633">IPNet</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8409640">out</span>&nbsp;<span class="ident" id="8409644">IPNet</span><br>
<span class="lineno"></span><span class="op" id="8409650">}</span><span class="op" id="8409651">{</span><br>
<span class="lineno">285</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409654">{</span><span class="ident" id="8409655">IPNet</span><span class="op" id="8409660">{</span><span class="ident" id="8409661">IP</span><span class="op" id="8409663">:</span>&nbsp;<span class="ident" id="8409665">v4addr</span><span class="op" id="8409671">,</span>&nbsp;<span class="ident" id="8409673">Mask</span><span class="op" id="8409677">:</span>&nbsp;<span class="ident" id="8409679">v4mask</span><span class="op" id="8409685">}</span><span class="op" id="8409686">,</span>&nbsp;<span class="ident" id="8409688">IPNet</span><span class="op" id="8409693">{</span><span class="ident" id="8409694">IP</span><span class="op" id="8409696">:</span>&nbsp;<span class="ident" id="8409698">v4addr</span><span class="op" id="8409704">,</span>&nbsp;<span class="ident" id="8409706">Mask</span><span class="op" id="8409710">:</span>&nbsp;<span class="ident" id="8409712">v4mask</span><span class="op" id="8409718">}</span><span class="op" id="8409719">}</span><span class="op" id="8409720">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409723">{</span><span class="ident" id="8409724">IPNet</span><span class="op" id="8409729">{</span><span class="ident" id="8409730">IP</span><span class="op" id="8409732">:</span>&nbsp;<span class="ident" id="8409734">v4addr</span><span class="op" id="8409740">,</span>&nbsp;<span class="ident" id="8409742">Mask</span><span class="op" id="8409746">:</span>&nbsp;<span class="ident" id="8409748">v4mappedv6mask</span><span class="op" id="8409762">}</span><span class="op" id="8409763">,</span>&nbsp;<span class="ident" id="8409765">IPNet</span><span class="op" id="8409770">{</span><span class="ident" id="8409771">IP</span><span class="op" id="8409773">:</span>&nbsp;<span class="ident" id="8409775">v4addr</span><span class="op" id="8409781">,</span>&nbsp;<span class="ident" id="8409783">Mask</span><span class="op" id="8409787">:</span>&nbsp;<span class="ident" id="8409789">v4mask</span><span class="op" id="8409795">}</span><span class="op" id="8409796">}</span><span class="op" id="8409797">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409800">{</span><span class="ident" id="8409801">IPNet</span><span class="op" id="8409806">{</span><span class="ident" id="8409807">IP</span><span class="op" id="8409809">:</span>&nbsp;<span class="ident" id="8409811">v4mappedv6addr</span><span class="op" id="8409825">,</span>&nbsp;<span class="ident" id="8409827">Mask</span><span class="op" id="8409831">:</span>&nbsp;<span class="ident" id="8409833">v4mappedv6mask</span><span class="op" id="8409847">}</span><span class="op" id="8409848">,</span>&nbsp;<span class="ident" id="8409850">IPNet</span><span class="op" id="8409855">{</span><span class="ident" id="8409856">IP</span><span class="op" id="8409858">:</span>&nbsp;<span class="ident" id="8409860">v4addr</span><span class="op" id="8409866">,</span>&nbsp;<span class="ident" id="8409868">Mask</span><span class="op" id="8409872">:</span>&nbsp;<span class="ident" id="8409874">v4mask</span><span class="op" id="8409880">}</span><span class="op" id="8409881">}</span><span class="op" id="8409882">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409885">{</span><span class="ident" id="8409886">IPNet</span><span class="op" id="8409891">{</span><span class="ident" id="8409892">IP</span><span class="op" id="8409894">:</span>&nbsp;<span class="ident" id="8409896">v4mappedv6addr</span><span class="op" id="8409910">,</span>&nbsp;<span class="ident" id="8409912">Mask</span><span class="op" id="8409916">:</span>&nbsp;<span class="ident" id="8409918">v6mask</span><span class="op" id="8409924">}</span><span class="op" id="8409925">,</span>&nbsp;<span class="ident" id="8409927">IPNet</span><span class="op" id="8409932">{</span><span class="ident" id="8409933">IP</span><span class="op" id="8409935">:</span>&nbsp;<span class="ident" id="8409937">v4addr</span><span class="op" id="8409943">,</span>&nbsp;<span class="ident" id="8409945">Mask</span><span class="op" id="8409949">:</span>&nbsp;<span class="ident" id="8409951">v4maskzero</span><span class="op" id="8409961">}</span><span class="op" id="8409962">}</span><span class="op" id="8409963">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8409966">{</span><span class="ident" id="8409967">IPNet</span><span class="op" id="8409972">{</span><span class="ident" id="8409973">IP</span><span class="op" id="8409975">:</span>&nbsp;<span class="ident" id="8409977">v4addr</span><span class="op" id="8409983">,</span>&nbsp;<span class="ident" id="8409985">Mask</span><span class="op" id="8409989">:</span>&nbsp;<span class="ident" id="8409991">v6mask</span><span class="op" id="8409997">}</span><span class="op" id="8409998">,</span>&nbsp;<span class="ident" id="8410000">IPNet</span><span class="op" id="8410005">{</span><span class="ident" id="8410006">IP</span><span class="op" id="8410008">:</span>&nbsp;<span class="ident" id="8410010">v4addr</span><span class="op" id="8410016">,</span>&nbsp;<span class="ident" id="8410018">Mask</span><span class="op" id="8410022">:</span>&nbsp;<span class="ident" id="8410024">v4maskzero</span><span class="op" id="8410034">}</span><span class="op" id="8410035">}</span><span class="op" id="8410036">,</span><br>
<span class="lineno">290</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410039">{</span><span class="ident" id="8410040">IPNet</span><span class="op" id="8410045">{</span><span class="ident" id="8410046">IP</span><span class="op" id="8410048">:</span>&nbsp;<span class="ident" id="8410050">v6addr</span><span class="op" id="8410056">,</span>&nbsp;<span class="ident" id="8410058">Mask</span><span class="op" id="8410062">:</span>&nbsp;<span class="ident" id="8410064">v6mask</span><span class="op" id="8410070">}</span><span class="op" id="8410071">,</span>&nbsp;<span class="ident" id="8410073">IPNet</span><span class="op" id="8410078">{</span><span class="ident" id="8410079">IP</span><span class="op" id="8410081">:</span>&nbsp;<span class="ident" id="8410083">v6addr</span><span class="op" id="8410089">,</span>&nbsp;<span class="ident" id="8410091">Mask</span><span class="op" id="8410095">:</span>&nbsp;<span class="ident" id="8410097">v6mask</span><span class="op" id="8410103">}</span><span class="op" id="8410104">}</span><span class="op" id="8410105">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410108">{</span><span class="ident" id="8410109">IPNet</span><span class="op" id="8410114">{</span><span class="ident" id="8410115">IP</span><span class="op" id="8410117">:</span>&nbsp;<span class="ident" id="8410119">v6addr</span><span class="op" id="8410125">,</span>&nbsp;<span class="ident" id="8410127">Mask</span><span class="op" id="8410131">:</span>&nbsp;<span class="ident" id="8410133">v4mappedv6mask</span><span class="op" id="8410147">}</span><span class="op" id="8410148">,</span>&nbsp;<span class="ident" id="8410150">IPNet</span><span class="op" id="8410155">{</span><span class="ident" id="8410156">IP</span><span class="op" id="8410158">:</span>&nbsp;<span class="ident" id="8410160">v6addr</span><span class="op" id="8410166">,</span>&nbsp;<span class="ident" id="8410168">Mask</span><span class="op" id="8410172">:</span>&nbsp;<span class="ident" id="8410174">v4mappedv6mask</span><span class="op" id="8410188">}</span><span class="op" id="8410189">}</span><span class="op" id="8410190">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410193">{</span><span class="ident" id="8410194">in</span><span class="op" id="8410196">:</span>&nbsp;<span class="ident" id="8410198">IPNet</span><span class="op" id="8410203">{</span><span class="ident" id="8410204">IP</span><span class="op" id="8410206">:</span>&nbsp;<span class="ident" id="8410208">v6addr</span><span class="op" id="8410214">,</span>&nbsp;<span class="ident" id="8410216">Mask</span><span class="op" id="8410220">:</span>&nbsp;<span class="ident" id="8410222">v4mask</span><span class="op" id="8410228">}</span><span class="op" id="8410229">}</span><span class="op" id="8410230">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410233">{</span><span class="ident" id="8410234">in</span><span class="op" id="8410236">:</span>&nbsp;<span class="ident" id="8410238">IPNet</span><span class="op" id="8410243">{</span><span class="ident" id="8410244">IP</span><span class="op" id="8410246">:</span>&nbsp;<span class="ident" id="8410248">v4addr</span><span class="op" id="8410254">,</span>&nbsp;<span class="ident" id="8410256">Mask</span><span class="op" id="8410260">:</span>&nbsp;<span class="ident" id="8410262">badmask</span><span class="op" id="8410269">}</span><span class="op" id="8410270">}</span><span class="op" id="8410271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410274">{</span><span class="ident" id="8410275">in</span><span class="op" id="8410277">:</span>&nbsp;<span class="ident" id="8410279">IPNet</span><span class="op" id="8410284">{</span><span class="ident" id="8410285">IP</span><span class="op" id="8410287">:</span>&nbsp;<span class="ident" id="8410289">v4mappedv6addr</span><span class="op" id="8410303">,</span>&nbsp;<span class="ident" id="8410305">Mask</span><span class="op" id="8410309">:</span>&nbsp;<span class="ident" id="8410311">badmask</span><span class="op" id="8410318">}</span><span class="op" id="8410319">}</span><span class="op" id="8410320">,</span><br>
<span class="lineno">295</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410323">{</span><span class="ident" id="8410324">in</span><span class="op" id="8410326">:</span>&nbsp;<span class="ident" id="8410328">IPNet</span><span class="op" id="8410333">{</span><span class="ident" id="8410334">IP</span><span class="op" id="8410336">:</span>&nbsp;<span class="ident" id="8410338">v6addr</span><span class="op" id="8410344">,</span>&nbsp;<span class="ident" id="8410346">Mask</span><span class="op" id="8410350">:</span>&nbsp;<span class="ident" id="8410352">badmask</span><span class="op" id="8410359">}</span><span class="op" id="8410360">}</span><span class="op" id="8410361">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410364">{</span><span class="ident" id="8410365">in</span><span class="op" id="8410367">:</span>&nbsp;<span class="ident" id="8410369">IPNet</span><span class="op" id="8410374">{</span><span class="ident" id="8410375">IP</span><span class="op" id="8410377">:</span>&nbsp;<span class="ident" id="8410379">badaddr</span><span class="op" id="8410386">,</span>&nbsp;<span class="ident" id="8410388">Mask</span><span class="op" id="8410392">:</span>&nbsp;<span class="ident" id="8410394">v4mask</span><span class="op" id="8410400">}</span><span class="op" id="8410401">}</span><span class="op" id="8410402">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410405">{</span><span class="ident" id="8410406">in</span><span class="op" id="8410408">:</span>&nbsp;<span class="ident" id="8410410">IPNet</span><span class="op" id="8410415">{</span><span class="ident" id="8410416">IP</span><span class="op" id="8410418">:</span>&nbsp;<span class="ident" id="8410420">badaddr</span><span class="op" id="8410427">,</span>&nbsp;<span class="ident" id="8410429">Mask</span><span class="op" id="8410433">:</span>&nbsp;<span class="ident" id="8410435">v4mappedv6mask</span><span class="op" id="8410449">}</span><span class="op" id="8410450">}</span><span class="op" id="8410451">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410454">{</span><span class="ident" id="8410455">in</span><span class="op" id="8410457">:</span>&nbsp;<span class="ident" id="8410459">IPNet</span><span class="op" id="8410464">{</span><span class="ident" id="8410465">IP</span><span class="op" id="8410467">:</span>&nbsp;<span class="ident" id="8410469">badaddr</span><span class="op" id="8410476">,</span>&nbsp;<span class="ident" id="8410478">Mask</span><span class="op" id="8410482">:</span>&nbsp;<span class="ident" id="8410484">v6mask</span><span class="op" id="8410490">}</span><span class="op" id="8410491">}</span><span class="op" id="8410492">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410495">{</span><span class="ident" id="8410496">in</span><span class="op" id="8410498">:</span>&nbsp;<span class="ident" id="8410500">IPNet</span><span class="op" id="8410505">{</span><span class="ident" id="8410506">IP</span><span class="op" id="8410508">:</span>&nbsp;<span class="ident" id="8410510">badaddr</span><span class="op" id="8410517">,</span>&nbsp;<span class="ident" id="8410519">Mask</span><span class="op" id="8410523">:</span>&nbsp;<span class="ident" id="8410525">badmask</span><span class="op" id="8410532">}</span><span class="op" id="8410533">}</span><span class="op" id="8410534">,</span><br>
<span class="lineno">300</span><span class="op" id="8410536">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8410539">func</span>&nbsp;<span class="ident" id="8410544">TestNetworkNumberAndMask</span><span class="op" id="8410568">(</span><span class="ident" id="8410569">t</span>&nbsp;<span class="op" id="8410571">*</span><span class="ident" id="8410572">testing</span><span class="op" id="8410579">.</span><span class="ident" id="8410580">T</span><span class="op" id="8410581">)</span>&nbsp;<span class="op" id="8410583">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410586">for</span>&nbsp;<span class="ident" id="8410590">_</span><span class="op" id="8410591">,</span>&nbsp;<span class="ident" id="8410593">tt</span>&nbsp;<span class="op" id="8410596">:=</span>&nbsp;<span class="keyword" id="8410599">range</span>&nbsp;<span class="ident" id="8410605">networkNumberAndMaskTests</span>&nbsp;<span class="op" id="8410631">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410635">ip</span><span class="op" id="8410637">,</span>&nbsp;<span class="ident" id="8410639">m</span>&nbsp;<span class="op" id="8410641">:=</span>&nbsp;<span class="ident" id="8410644">networkNumberAndMask</span><span class="op" id="8410664">(</span><span class="op" id="8410665">&amp;</span><span class="ident" id="8410666">tt</span><span class="op" id="8410668">.</span><span class="ident" id="8410669">in</span><span class="op" id="8410671">)</span><br>
<span class="lineno">305</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410675">out</span>&nbsp;<span class="op" id="8410679">:=</span>&nbsp;<span class="op" id="8410682">&amp;</span><span class="ident" id="8410683">IPNet</span><span class="op" id="8410688">{</span><span class="ident" id="8410689">IP</span><span class="op" id="8410691">:</span>&nbsp;<span class="ident" id="8410693">ip</span><span class="op" id="8410695">,</span>&nbsp;<span class="ident" id="8410697">Mask</span><span class="op" id="8410701">:</span>&nbsp;<span class="ident" id="8410703">m</span><span class="op" id="8410704">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8410708">if</span>&nbsp;<span class="op" id="8410711">!</span><span class="ident" id="8410712">reflect</span><span class="op" id="8410719">.</span><span class="ident" id="8410720">DeepEqual</span><span class="op" id="8410729">(</span><span class="op" id="8410730">&amp;</span><span class="ident" id="8410731">tt</span><span class="op" id="8410733">.</span><span class="ident" id="8410734">out</span><span class="op" id="8410737">,</span>&nbsp;<span class="ident" id="8410739">out</span><span class="op" id="8410742">)</span>&nbsp;<span class="op" id="8410744">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410749">t</span><span class="op" id="8410750">.</span><span class="ident" id="8410751">Errorf</span><span class="op" id="8410757">(</span><span class="string" id="8410758">&#34;networkNumberAndMask(%v)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8410798">,</span>&nbsp;<span class="ident" id="8410800">tt</span><span class="op" id="8410802">.</span><span class="ident" id="8410803">in</span><span class="op" id="8410805">,</span>&nbsp;<span class="ident" id="8410807">out</span><span class="op" id="8410810">,</span>&nbsp;<span class="op" id="8410812">&amp;</span><span class="ident" id="8410813">tt</span><span class="op" id="8410815">.</span><span class="ident" id="8410816">out</span><span class="op" id="8410819">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410823">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410826">}</span><br>
<span class="lineno">310</span><span class="op" id="8410828">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8410831">var</span>&nbsp;<span class="ident" id="8410835">splitJoinTests</span>&nbsp;<span class="op" id="8410850">=</span>&nbsp;<span class="op" id="8410852">[</span><span class="op" id="8410853">]</span><span class="keyword" id="8410854">struct</span>&nbsp;<span class="op" id="8410861">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410864">host</span>&nbsp;<span class="builtintype" id="8410869">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410877">port</span>&nbsp;<span class="builtintype" id="8410882">string</span><br>
<span class="lineno">315</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8410890">join</span>&nbsp;<span class="builtintype" id="8410895">string</span><br>
<span class="lineno"></span><span class="op" id="8410902">}</span><span class="op" id="8410903">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410906">{</span><span class="string" id="8410907">&#34;www.google.com&#34;</span><span class="op" id="8410923">,</span>&nbsp;<span class="string" id="8410925">&#34;80&#34;</span><span class="op" id="8410929">,</span>&nbsp;<span class="string" id="8410931">&#34;www.google.com:80&#34;</span><span class="op" id="8410950">}</span><span class="op" id="8410951">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410954">{</span><span class="string" id="8410955">&#34;127.0.0.1&#34;</span><span class="op" id="8410966">,</span>&nbsp;<span class="string" id="8410968">&#34;1234&#34;</span><span class="op" id="8410974">,</span>&nbsp;<span class="string" id="8410976">&#34;127.0.0.1:1234&#34;</span><span class="op" id="8410992">}</span><span class="op" id="8410993">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8410996">{</span><span class="string" id="8410997">&#34;::1&#34;</span><span class="op" id="8411002">,</span>&nbsp;<span class="string" id="8411004">&#34;80&#34;</span><span class="op" id="8411008">,</span>&nbsp;<span class="string" id="8411010">&#34;[::1]:80&#34;</span><span class="op" id="8411020">}</span><span class="op" id="8411021">,</span><br>
<span class="lineno">320</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411024">{</span><span class="string" id="8411025">&#34;fe80::1%lo0&#34;</span><span class="op" id="8411038">,</span>&nbsp;<span class="string" id="8411040">&#34;80&#34;</span><span class="op" id="8411044">,</span>&nbsp;<span class="string" id="8411046">&#34;[fe80::1%lo0]:80&#34;</span><span class="op" id="8411064">}</span><span class="op" id="8411065">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411068">{</span><span class="string" id="8411069">&#34;localhost%lo0&#34;</span><span class="op" id="8411084">,</span>&nbsp;<span class="string" id="8411086">&#34;80&#34;</span><span class="op" id="8411090">,</span>&nbsp;<span class="string" id="8411092">&#34;[localhost%lo0]:80&#34;</span><span class="op" id="8411112">}</span><span class="op" id="8411113">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411116">{</span><span class="string" id="8411117">&#34;&#34;</span><span class="op" id="8411119">,</span>&nbsp;<span class="string" id="8411121">&#34;0&#34;</span><span class="op" id="8411124">,</span>&nbsp;<span class="string" id="8411126">&#34;:0&#34;</span><span class="op" id="8411130">}</span><span class="op" id="8411131">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411135">{</span><span class="string" id="8411136">&#34;google.com&#34;</span><span class="op" id="8411148">,</span>&nbsp;<span class="string" id="8411150">&#34;https%foo&#34;</span><span class="op" id="8411161">,</span>&nbsp;<span class="string" id="8411163">&#34;google.com:https%foo&#34;</span><span class="op" id="8411185">}</span><span class="op" id="8411186">,</span>&nbsp;<span class="comment" id="8411188">//&nbsp;Go&nbsp;1.0&nbsp;behavior</span><br>
<span class="lineno">325</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411208">{</span><span class="string" id="8411209">&#34;127.0.0.1&#34;</span><span class="op" id="8411220">,</span>&nbsp;<span class="string" id="8411222">&#34;&#34;</span><span class="op" id="8411224">,</span>&nbsp;<span class="string" id="8411226">&#34;127.0.0.1:&#34;</span><span class="op" id="8411238">}</span><span class="op" id="8411239">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8411261">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411282">{</span><span class="string" id="8411283">&#34;www.google.com&#34;</span><span class="op" id="8411299">,</span>&nbsp;<span class="string" id="8411301">&#34;&#34;</span><span class="op" id="8411303">,</span>&nbsp;<span class="string" id="8411305">&#34;www.google.com:&#34;</span><span class="op" id="8411322">}</span><span class="op" id="8411323">,</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="comment" id="8411335">//&nbsp;Go&nbsp;1.0&nbsp;behaviour</span><br>
<span class="lineno"></span><span class="op" id="8411355">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8411358">var</span>&nbsp;<span class="ident" id="8411362">splitFailureTests</span>&nbsp;<span class="op" id="8411380">=</span>&nbsp;<span class="op" id="8411382">[</span><span class="op" id="8411383">]</span><span class="keyword" id="8411384">struct</span>&nbsp;<span class="op" id="8411391">{</span><br>
<span class="lineno">330</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8411394">hostPort</span>&nbsp;<span class="builtintype" id="8411403">string</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8411411">err</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8411420">string</span><br>
<span class="lineno"></span><span class="op" id="8411427">}</span><span class="op" id="8411428">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411431">{</span><span class="string" id="8411432">&#34;www.google.com&#34;</span><span class="op" id="8411448">,</span>&nbsp;<span class="string" id="8411450">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411475">}</span><span class="op" id="8411476">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411479">{</span><span class="string" id="8411480">&#34;127.0.0.1&#34;</span><span class="op" id="8411491">,</span>&nbsp;<span class="string" id="8411493">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411518">}</span><span class="op" id="8411519">,</span><br>
<span class="lineno">335</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411522">{</span><span class="string" id="8411523">&#34;[::1]&#34;</span><span class="op" id="8411530">,</span>&nbsp;<span class="string" id="8411532">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411557">}</span><span class="op" id="8411558">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411561">{</span><span class="string" id="8411562">&#34;[fe80::1%lo0]&#34;</span><span class="op" id="8411577">,</span>&nbsp;<span class="string" id="8411579">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411604">}</span><span class="op" id="8411605">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411608">{</span><span class="string" id="8411609">&#34;[localhost%lo0]&#34;</span><span class="op" id="8411626">,</span>&nbsp;<span class="string" id="8411628">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411653">}</span><span class="op" id="8411654">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411657">{</span><span class="string" id="8411658">&#34;localhost%lo0&#34;</span><span class="op" id="8411673">,</span>&nbsp;<span class="string" id="8411675">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411700">}</span><span class="op" id="8411701">,</span><br>
<span class="lineno"></span><br>
<span class="lineno">340</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411705">{</span><span class="string" id="8411706">&#34;::1&#34;</span><span class="op" id="8411711">,</span>&nbsp;<span class="string" id="8411713">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411741">}</span><span class="op" id="8411742">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411745">{</span><span class="string" id="8411746">&#34;fe80::1%lo0&#34;</span><span class="op" id="8411759">,</span>&nbsp;<span class="string" id="8411761">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411789">}</span><span class="op" id="8411790">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411793">{</span><span class="string" id="8411794">&#34;fe80::1%lo0:80&#34;</span><span class="op" id="8411810">,</span>&nbsp;<span class="string" id="8411812">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411840">}</span><span class="op" id="8411841">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411845">{</span><span class="string" id="8411846">&#34;localhost%lo0:80&#34;</span><span class="op" id="8411864">,</span>&nbsp;<span class="string" id="8411866">&#34;missing&nbsp;brackets&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411895">}</span><span class="op" id="8411896">,</span><br>
<span class="lineno">345</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="comment" id="8411900">//&nbsp;Test&nbsp;cases&nbsp;that&nbsp;didn&#39;t&nbsp;fail&nbsp;in&nbsp;Go&nbsp;1.0</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411943">{</span><span class="string" id="8411944">&#34;[foo:bar]&#34;</span><span class="op" id="8411955">,</span>&nbsp;<span class="string" id="8411957">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8411982">}</span><span class="op" id="8411983">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8411986">{</span><span class="string" id="8411987">&#34;[foo:bar]baz&#34;</span><span class="op" id="8412001">,</span>&nbsp;<span class="string" id="8412003">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8412028">}</span><span class="op" id="8412029">,</span><br>
<span class="lineno">350</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412032">{</span><span class="string" id="8412033">&#34;[foo]bar:baz&#34;</span><span class="op" id="8412047">,</span>&nbsp;<span class="string" id="8412049">&#34;missing&nbsp;port&nbsp;in&nbsp;address&#34;</span><span class="op" id="8412074">}</span><span class="op" id="8412075">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412079">{</span><span class="string" id="8412080">&#34;[foo]:[bar]:baz&#34;</span><span class="op" id="8412097">,</span>&nbsp;<span class="string" id="8412099">&#34;too&nbsp;many&nbsp;colons&nbsp;in&nbsp;address&#34;</span><span class="op" id="8412127">}</span><span class="op" id="8412128">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412132">{</span><span class="string" id="8412133">&#34;[foo]:[bar]baz&#34;</span><span class="op" id="8412149">,</span>&nbsp;<span class="string" id="8412151">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8412178">}</span><span class="op" id="8412179">,</span><br>
<span class="lineno">355</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412182">{</span><span class="string" id="8412183">&#34;foo[bar]:baz&#34;</span><span class="op" id="8412197">,</span>&nbsp;<span class="string" id="8412199">&#34;unexpected&nbsp;&#39;[&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8412226">}</span><span class="op" id="8412227">,</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412231">{</span><span class="string" id="8412232">&#34;foo]bar:baz&#34;</span><span class="op" id="8412245">,</span>&nbsp;<span class="string" id="8412247">&#34;unexpected&nbsp;&#39;]&#39;&nbsp;in&nbsp;address&#34;</span><span class="op" id="8412274">}</span><span class="op" id="8412275">,</span><br>
<span class="lineno"></span><span class="op" id="8412277">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">360</span><span class="keyword" id="8412280">func</span>&nbsp;<span class="ident" id="8412285">TestSplitHostPort</span><span class="op" id="8412302">(</span><span class="ident" id="8412303">t</span>&nbsp;<span class="op" id="8412305">*</span><span class="ident" id="8412306">testing</span><span class="op" id="8412313">.</span><span class="ident" id="8412314">T</span><span class="op" id="8412315">)</span>&nbsp;<span class="op" id="8412317">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412320">for</span>&nbsp;<span class="ident" id="8412324">_</span><span class="op" id="8412325">,</span>&nbsp;<span class="ident" id="8412327">tt</span>&nbsp;<span class="op" id="8412330">:=</span>&nbsp;<span class="keyword" id="8412333">range</span>&nbsp;<span class="ident" id="8412339">splitJoinTests</span>&nbsp;<span class="op" id="8412354">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412358">if</span>&nbsp;<span class="ident" id="8412361">host</span><span class="op" id="8412365">,</span>&nbsp;<span class="ident" id="8412367">port</span><span class="op" id="8412371">,</span>&nbsp;<span class="ident" id="8412373">err</span>&nbsp;<span class="op" id="8412377">:=</span>&nbsp;<span class="ident" id="8412380">SplitHostPort</span><span class="op" id="8412393">(</span><span class="ident" id="8412394">tt</span><span class="op" id="8412396">.</span><span class="ident" id="8412397">join</span><span class="op" id="8412401">)</span><span class="op" id="8412402">;</span>&nbsp;<span class="ident" id="8412404">host</span>&nbsp;<span class="op" id="8412409">!=</span>&nbsp;<span class="ident" id="8412412">tt</span><span class="op" id="8412414">.</span><span class="ident" id="8412415">host</span>&nbsp;<span class="op" id="8412420">||</span>&nbsp;<span class="ident" id="8412423">port</span>&nbsp;<span class="op" id="8412428">!=</span>&nbsp;<span class="ident" id="8412431">tt</span><span class="op" id="8412433">.</span><span class="ident" id="8412434">port</span>&nbsp;<span class="op" id="8412439">||</span>&nbsp;<span class="ident" id="8412442">err</span>&nbsp;<span class="op" id="8412446">!=</span>&nbsp;<span class="ident" id="8412449">nil</span>&nbsp;<span class="op" id="8412453">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8412458">t</span><span class="op" id="8412459">.</span><span class="ident" id="8412460">Errorf</span><span class="op" id="8412466">(</span><span class="string" id="8412467">&#34;SplitHostPort(%q)&nbsp;=&nbsp;%q,&nbsp;%q,&nbsp;%v;&nbsp;want&nbsp;%q,&nbsp;%q,&nbsp;nil&#34;</span><span class="op" id="8412517">,</span>&nbsp;<span class="ident" id="8412519">tt</span><span class="op" id="8412521">.</span><span class="ident" id="8412522">join</span><span class="op" id="8412526">,</span>&nbsp;<span class="ident" id="8412528">host</span><span class="op" id="8412532">,</span>&nbsp;<span class="ident" id="8412534">port</span><span class="op" id="8412538">,</span>&nbsp;<span class="ident" id="8412540">err</span><span class="op" id="8412543">,</span>&nbsp;<span class="ident" id="8412545">tt</span><span class="op" id="8412547">.</span><span class="ident" id="8412548">host</span><span class="op" id="8412552">,</span>&nbsp;<span class="ident" id="8412554">tt</span><span class="op" id="8412556">.</span><span class="ident" id="8412557">port</span><span class="op" id="8412561">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412565">}</span><br>
<span class="lineno">365</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412568">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412571">for</span>&nbsp;<span class="ident" id="8412575">_</span><span class="op" id="8412576">,</span>&nbsp;<span class="ident" id="8412578">tt</span>&nbsp;<span class="op" id="8412581">:=</span>&nbsp;<span class="keyword" id="8412584">range</span>&nbsp;<span class="ident" id="8412590">splitFailureTests</span>&nbsp;<span class="op" id="8412608">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412612">if</span>&nbsp;<span class="ident" id="8412615">_</span><span class="op" id="8412616">,</span>&nbsp;<span class="ident" id="8412618">_</span><span class="op" id="8412619">,</span>&nbsp;<span class="ident" id="8412621">err</span>&nbsp;<span class="op" id="8412625">:=</span>&nbsp;<span class="ident" id="8412628">SplitHostPort</span><span class="op" id="8412641">(</span><span class="ident" id="8412642">tt</span><span class="op" id="8412644">.</span><span class="ident" id="8412645">hostPort</span><span class="op" id="8412653">)</span><span class="op" id="8412654">;</span>&nbsp;<span class="ident" id="8412656">err</span>&nbsp;<span class="op" id="8412660">==</span>&nbsp;<span class="ident" id="8412663">nil</span>&nbsp;<span class="op" id="8412667">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8412672">t</span><span class="op" id="8412673">.</span><span class="ident" id="8412674">Errorf</span><span class="op" id="8412680">(</span><span class="string" id="8412681">&#34;SplitHostPort(%q)&nbsp;should&nbsp;have&nbsp;failed&#34;</span><span class="op" id="8412719">,</span>&nbsp;<span class="ident" id="8412721">tt</span><span class="op" id="8412723">.</span><span class="ident" id="8412724">hostPort</span><span class="op" id="8412732">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412736">}</span>&nbsp;<span class="keyword" id="8412738">else</span>&nbsp;<span class="op" id="8412743">{</span><br>
<span class="lineno">370</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8412748">e</span>&nbsp;<span class="op" id="8412750">:=</span>&nbsp;<span class="ident" id="8412753">err</span><span class="op" id="8412756">.</span><span class="op" id="8412757">(</span><span class="op" id="8412758">*</span><span class="ident" id="8412759">AddrError</span><span class="op" id="8412768">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412773">if</span>&nbsp;<span class="ident" id="8412776">e</span><span class="op" id="8412777">.</span><span class="ident" id="8412778">Err</span>&nbsp;<span class="op" id="8412782">!=</span>&nbsp;<span class="ident" id="8412785">tt</span><span class="op" id="8412787">.</span><span class="ident" id="8412788">err</span>&nbsp;<span class="op" id="8412792">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8412798">t</span><span class="op" id="8412799">.</span><span class="ident" id="8412800">Errorf</span><span class="op" id="8412806">(</span><span class="string" id="8412807">&#34;SplitHostPort(%q)&nbsp;=&nbsp;_,&nbsp;_,&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8412846">,</span>&nbsp;<span class="ident" id="8412848">tt</span><span class="op" id="8412850">.</span><span class="ident" id="8412851">hostPort</span><span class="op" id="8412859">,</span>&nbsp;<span class="ident" id="8412861">e</span><span class="op" id="8412862">.</span><span class="ident" id="8412863">Err</span><span class="op" id="8412866">,</span>&nbsp;<span class="ident" id="8412868">tt</span><span class="op" id="8412870">.</span><span class="ident" id="8412871">err</span><span class="op" id="8412874">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412879">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412883">}</span><br>
<span class="lineno">375</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8412886">}</span><br>
<span class="lineno"></span><span class="op" id="8412888">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8412891">func</span>&nbsp;<span class="ident" id="8412896">TestJoinHostPort</span><span class="op" id="8412912">(</span><span class="ident" id="8412913">t</span>&nbsp;<span class="op" id="8412915">*</span><span class="ident" id="8412916">testing</span><span class="op" id="8412923">.</span><span class="ident" id="8412924">T</span><span class="op" id="8412925">)</span>&nbsp;<span class="op" id="8412927">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412930">for</span>&nbsp;<span class="ident" id="8412934">_</span><span class="op" id="8412935">,</span>&nbsp;<span class="ident" id="8412937">tt</span>&nbsp;<span class="op" id="8412940">:=</span>&nbsp;<span class="keyword" id="8412943">range</span>&nbsp;<span class="ident" id="8412949">splitJoinTests</span>&nbsp;<span class="op" id="8412964">{</span><br>
<span class="lineno">380</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8412968">if</span>&nbsp;<span class="ident" id="8412971">join</span>&nbsp;<span class="op" id="8412976">:=</span>&nbsp;<span class="ident" id="8412979">JoinHostPort</span><span class="op" id="8412991">(</span><span class="ident" id="8412992">tt</span><span class="op" id="8412994">.</span><span class="ident" id="8412995">host</span><span class="op" id="8412999">,</span>&nbsp;<span class="ident" id="8413001">tt</span><span class="op" id="8413003">.</span><span class="ident" id="8413004">port</span><span class="op" id="8413008">)</span><span class="op" id="8413009">;</span>&nbsp;<span class="ident" id="8413011">join</span>&nbsp;<span class="op" id="8413016">!=</span>&nbsp;<span class="ident" id="8413019">tt</span><span class="op" id="8413021">.</span><span class="ident" id="8413022">join</span>&nbsp;<span class="op" id="8413027">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8413032">t</span><span class="op" id="8413033">.</span><span class="ident" id="8413034">Errorf</span><span class="op" id="8413040">(</span><span class="string" id="8413041">&#34;JoinHostPort(%q,&nbsp;%q)&nbsp;=&nbsp;%q;&nbsp;want&nbsp;%q&#34;</span><span class="op" id="8413077">,</span>&nbsp;<span class="ident" id="8413079">tt</span><span class="op" id="8413081">.</span><span class="ident" id="8413082">host</span><span class="op" id="8413086">,</span>&nbsp;<span class="ident" id="8413088">tt</span><span class="op" id="8413090">.</span><span class="ident" id="8413091">port</span><span class="op" id="8413095">,</span>&nbsp;<span class="ident" id="8413097">join</span><span class="op" id="8413101">,</span>&nbsp;<span class="ident" id="8413103">tt</span><span class="op" id="8413105">.</span><span class="ident" id="8413106">join</span><span class="op" id="8413110">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413114">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413117">}</span><br>
<span class="lineno"></span><span class="op" id="8413119">}</span><br>
<span class="lineno">385</span><br>
<span class="lineno"></span><span class="keyword" id="8413122">var</span>&nbsp;<span class="ident" id="8413126">ipAddrFamilyTests</span>&nbsp;<span class="op" id="8413144">=</span>&nbsp;<span class="op" id="8413146">[</span><span class="op" id="8413147">]</span><span class="keyword" id="8413148">struct</span>&nbsp;<span class="op" id="8413155">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8413158">in</span>&nbsp;&nbsp;<span class="ident" id="8413162">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8413166">af4</span>&nbsp;<span class="builtintype" id="8413170">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8413176">af6</span>&nbsp;<span class="builtintype" id="8413180">bool</span><br>
<span class="lineno">390</span><span class="op" id="8413185">}</span><span class="op" id="8413186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413189">{</span><span class="ident" id="8413190">IPv4bcast</span><span class="op" id="8413199">,</span>&nbsp;<span class="builtintype" id="8413201">true</span><span class="op" id="8413205">,</span>&nbsp;<span class="builtintype" id="8413207">false</span><span class="op" id="8413212">}</span><span class="op" id="8413213">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413216">{</span><span class="ident" id="8413217">IPv4allsys</span><span class="op" id="8413227">,</span>&nbsp;<span class="builtintype" id="8413229">true</span><span class="op" id="8413233">,</span>&nbsp;<span class="builtintype" id="8413235">false</span><span class="op" id="8413240">}</span><span class="op" id="8413241">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413244">{</span><span class="ident" id="8413245">IPv4allrouter</span><span class="op" id="8413258">,</span>&nbsp;<span class="builtintype" id="8413260">true</span><span class="op" id="8413264">,</span>&nbsp;<span class="builtintype" id="8413266">false</span><span class="op" id="8413271">}</span><span class="op" id="8413272">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413275">{</span><span class="ident" id="8413276">IPv4zero</span><span class="op" id="8413284">,</span>&nbsp;<span class="builtintype" id="8413286">true</span><span class="op" id="8413290">,</span>&nbsp;<span class="builtintype" id="8413292">false</span><span class="op" id="8413297">}</span><span class="op" id="8413298">,</span><br>
<span class="lineno">395</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413301">{</span><span class="ident" id="8413302">IPv4</span><span class="op" id="8413306">(</span><span class="num" id="8413307">224</span><span class="op" id="8413310">,</span>&nbsp;<span class="num" id="8413312">0</span><span class="op" id="8413313">,</span>&nbsp;<span class="num" id="8413315">0</span><span class="op" id="8413316">,</span>&nbsp;<span class="num" id="8413318">1</span><span class="op" id="8413319">)</span><span class="op" id="8413320">,</span>&nbsp;<span class="builtintype" id="8413322">true</span><span class="op" id="8413326">,</span>&nbsp;<span class="builtintype" id="8413328">false</span><span class="op" id="8413333">}</span><span class="op" id="8413334">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413337">{</span><span class="ident" id="8413338">IPv4</span><span class="op" id="8413342">(</span><span class="num" id="8413343">127</span><span class="op" id="8413346">,</span>&nbsp;<span class="num" id="8413348">0</span><span class="op" id="8413349">,</span>&nbsp;<span class="num" id="8413351">0</span><span class="op" id="8413352">,</span>&nbsp;<span class="num" id="8413354">1</span><span class="op" id="8413355">)</span><span class="op" id="8413356">,</span>&nbsp;<span class="builtintype" id="8413358">true</span><span class="op" id="8413362">,</span>&nbsp;<span class="builtintype" id="8413364">false</span><span class="op" id="8413369">}</span><span class="op" id="8413370">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413373">{</span><span class="ident" id="8413374">IPv4</span><span class="op" id="8413378">(</span><span class="num" id="8413379">240</span><span class="op" id="8413382">,</span>&nbsp;<span class="num" id="8413384">0</span><span class="op" id="8413385">,</span>&nbsp;<span class="num" id="8413387">0</span><span class="op" id="8413388">,</span>&nbsp;<span class="num" id="8413390">1</span><span class="op" id="8413391">)</span><span class="op" id="8413392">,</span>&nbsp;<span class="builtintype" id="8413394">true</span><span class="op" id="8413398">,</span>&nbsp;<span class="builtintype" id="8413400">false</span><span class="op" id="8413405">}</span><span class="op" id="8413406">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413409">{</span><span class="ident" id="8413410">IPv6unspecified</span><span class="op" id="8413425">,</span>&nbsp;<span class="builtintype" id="8413427">false</span><span class="op" id="8413432">,</span>&nbsp;<span class="builtintype" id="8413434">true</span><span class="op" id="8413438">}</span><span class="op" id="8413439">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413442">{</span><span class="ident" id="8413443">IPv6loopback</span><span class="op" id="8413455">,</span>&nbsp;<span class="builtintype" id="8413457">false</span><span class="op" id="8413462">,</span>&nbsp;<span class="builtintype" id="8413464">true</span><span class="op" id="8413468">}</span><span class="op" id="8413469">,</span><br>
<span class="lineno">400</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413472">{</span><span class="ident" id="8413473">IPv6interfacelocalallnodes</span><span class="op" id="8413499">,</span>&nbsp;<span class="builtintype" id="8413501">false</span><span class="op" id="8413506">,</span>&nbsp;<span class="builtintype" id="8413508">true</span><span class="op" id="8413512">}</span><span class="op" id="8413513">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413516">{</span><span class="ident" id="8413517">IPv6linklocalallnodes</span><span class="op" id="8413538">,</span>&nbsp;<span class="builtintype" id="8413540">false</span><span class="op" id="8413545">,</span>&nbsp;<span class="builtintype" id="8413547">true</span><span class="op" id="8413551">}</span><span class="op" id="8413552">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413555">{</span><span class="ident" id="8413556">IPv6linklocalallrouters</span><span class="op" id="8413579">,</span>&nbsp;<span class="builtintype" id="8413581">false</span><span class="op" id="8413586">,</span>&nbsp;<span class="builtintype" id="8413588">true</span><span class="op" id="8413592">}</span><span class="op" id="8413593">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413596">{</span><span class="ident" id="8413597">ParseIP</span><span class="op" id="8413604">(</span><span class="string" id="8413605">&#34;ff05::a:b:c:d&#34;</span><span class="op" id="8413620">)</span><span class="op" id="8413621">,</span>&nbsp;<span class="builtintype" id="8413623">false</span><span class="op" id="8413628">,</span>&nbsp;<span class="builtintype" id="8413630">true</span><span class="op" id="8413634">}</span><span class="op" id="8413635">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413638">{</span><span class="ident" id="8413639">ParseIP</span><span class="op" id="8413646">(</span><span class="string" id="8413647">&#34;fe80::1:2:3:4&#34;</span><span class="op" id="8413662">)</span><span class="op" id="8413663">,</span>&nbsp;<span class="builtintype" id="8413665">false</span><span class="op" id="8413670">,</span>&nbsp;<span class="builtintype" id="8413672">true</span><span class="op" id="8413676">}</span><span class="op" id="8413677">,</span><br>
<span class="lineno">405</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413680">{</span><span class="ident" id="8413681">ParseIP</span><span class="op" id="8413688">(</span><span class="string" id="8413689">&#34;2001:db8::123:12:1&#34;</span><span class="op" id="8413709">)</span><span class="op" id="8413710">,</span>&nbsp;<span class="builtintype" id="8413712">false</span><span class="op" id="8413717">,</span>&nbsp;<span class="builtintype" id="8413719">true</span><span class="op" id="8413723">}</span><span class="op" id="8413724">,</span><br>
<span class="lineno"></span><span class="op" id="8413726">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8413729">func</span>&nbsp;<span class="ident" id="8413734">TestIPAddrFamily</span><span class="op" id="8413750">(</span><span class="ident" id="8413751">t</span>&nbsp;<span class="op" id="8413753">*</span><span class="ident" id="8413754">testing</span><span class="op" id="8413761">.</span><span class="ident" id="8413762">T</span><span class="op" id="8413763">)</span>&nbsp;<span class="op" id="8413765">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8413768">for</span>&nbsp;<span class="ident" id="8413772">_</span><span class="op" id="8413773">,</span>&nbsp;<span class="ident" id="8413775">tt</span>&nbsp;<span class="op" id="8413778">:=</span>&nbsp;<span class="keyword" id="8413781">range</span>&nbsp;<span class="ident" id="8413787">ipAddrFamilyTests</span>&nbsp;<span class="op" id="8413805">{</span><br>
<span class="lineno">410</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8413809">if</span>&nbsp;<span class="ident" id="8413812">af</span>&nbsp;<span class="op" id="8413815">:=</span>&nbsp;<span class="ident" id="8413818">tt</span><span class="op" id="8413820">.</span><span class="ident" id="8413821">in</span><span class="op" id="8413823">.</span><span class="ident" id="8413824">To4</span><span class="op" id="8413827">(</span><span class="op" id="8413828">)</span>&nbsp;<span class="op" id="8413830">!=</span>&nbsp;<span class="ident" id="8413833">nil</span><span class="op" id="8413836">;</span>&nbsp;<span class="ident" id="8413838">af</span>&nbsp;<span class="op" id="8413841">!=</span>&nbsp;<span class="ident" id="8413844">tt</span><span class="op" id="8413846">.</span><span class="ident" id="8413847">af4</span>&nbsp;<span class="op" id="8413851">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8413856">t</span><span class="op" id="8413857">.</span><span class="ident" id="8413858">Errorf</span><span class="op" id="8413864">(</span><span class="string" id="8413865">&#34;verifying&nbsp;IPv4&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8413917">,</span>&nbsp;<span class="ident" id="8413919">tt</span><span class="op" id="8413921">.</span><span class="ident" id="8413922">in</span><span class="op" id="8413924">,</span>&nbsp;<span class="ident" id="8413926">af</span><span class="op" id="8413928">,</span>&nbsp;<span class="ident" id="8413930">tt</span><span class="op" id="8413932">.</span><span class="ident" id="8413933">af4</span><span class="op" id="8413936">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8413940">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8413944">if</span>&nbsp;<span class="ident" id="8413947">af</span>&nbsp;<span class="op" id="8413950">:=</span>&nbsp;<span class="builtinfunc" id="8413953">len</span><span class="op" id="8413956">(</span><span class="ident" id="8413957">tt</span><span class="op" id="8413959">.</span><span class="ident" id="8413960">in</span><span class="op" id="8413962">)</span>&nbsp;<span class="op" id="8413964">==</span>&nbsp;<span class="ident" id="8413967">IPv6len</span>&nbsp;<span class="op" id="8413975">&amp;&amp;</span>&nbsp;<span class="ident" id="8413978">tt</span><span class="op" id="8413980">.</span><span class="ident" id="8413981">in</span><span class="op" id="8413983">.</span><span class="ident" id="8413984">To4</span><span class="op" id="8413987">(</span><span class="op" id="8413988">)</span>&nbsp;<span class="op" id="8413990">==</span>&nbsp;<span class="ident" id="8413993">nil</span><span class="op" id="8413996">;</span>&nbsp;<span class="ident" id="8413998">af</span>&nbsp;<span class="op" id="8414001">!=</span>&nbsp;<span class="ident" id="8414004">tt</span><span class="op" id="8414006">.</span><span class="ident" id="8414007">af6</span>&nbsp;<span class="op" id="8414011">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8414016">t</span><span class="op" id="8414017">.</span><span class="ident" id="8414018">Errorf</span><span class="op" id="8414024">(</span><span class="string" id="8414025">&#34;verifying&nbsp;IPv6&nbsp;address&nbsp;family&nbsp;for&nbsp;%q&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8414077">,</span>&nbsp;<span class="ident" id="8414079">tt</span><span class="op" id="8414081">.</span><span class="ident" id="8414082">in</span><span class="op" id="8414084">,</span>&nbsp;<span class="ident" id="8414086">af</span><span class="op" id="8414088">,</span>&nbsp;<span class="ident" id="8414090">tt</span><span class="op" id="8414092">.</span><span class="ident" id="8414093">af6</span><span class="op" id="8414096">)</span><br>
<span class="lineno">415</span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414100">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414103">}</span><br>
<span class="lineno"></span><span class="op" id="8414105">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8414108">var</span>&nbsp;<span class="ident" id="8414112">ipAddrScopeTests</span>&nbsp;<span class="op" id="8414129">=</span>&nbsp;<span class="op" id="8414131">[</span><span class="op" id="8414132">]</span><span class="keyword" id="8414133">struct</span>&nbsp;<span class="op" id="8414140">{</span><br>
<span class="lineno">420</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8414143">scope</span>&nbsp;<span class="keyword" id="8414149">func</span><span class="op" id="8414153">(</span><span class="ident" id="8414154">IP</span><span class="op" id="8414156">)</span>&nbsp;<span class="builtintype" id="8414158">bool</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8414164">in</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="ident" id="8414170">IP</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8414174">ok</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="builtintype" id="8414180">bool</span><br>
<span class="lineno"></span><span class="op" id="8414185">}</span><span class="op" id="8414186">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414189">{</span><span class="ident" id="8414190">IP</span><span class="op" id="8414192">.</span><span class="ident" id="8414193">IsUnspecified</span><span class="op" id="8414206">,</span>&nbsp;<span class="ident" id="8414208">IPv4zero</span><span class="op" id="8414216">,</span>&nbsp;<span class="builtintype" id="8414218">true</span><span class="op" id="8414222">}</span><span class="op" id="8414223">,</span><br>
<span class="lineno">425</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414226">{</span><span class="ident" id="8414227">IP</span><span class="op" id="8414229">.</span><span class="ident" id="8414230">IsUnspecified</span><span class="op" id="8414243">,</span>&nbsp;<span class="ident" id="8414245">IPv4</span><span class="op" id="8414249">(</span><span class="num" id="8414250">127</span><span class="op" id="8414253">,</span>&nbsp;<span class="num" id="8414255">0</span><span class="op" id="8414256">,</span>&nbsp;<span class="num" id="8414258">0</span><span class="op" id="8414259">,</span>&nbsp;<span class="num" id="8414261">1</span><span class="op" id="8414262">)</span><span class="op" id="8414263">,</span>&nbsp;<span class="builtintype" id="8414265">false</span><span class="op" id="8414270">}</span><span class="op" id="8414271">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414274">{</span><span class="ident" id="8414275">IP</span><span class="op" id="8414277">.</span><span class="ident" id="8414278">IsUnspecified</span><span class="op" id="8414291">,</span>&nbsp;<span class="ident" id="8414293">IPv6unspecified</span><span class="op" id="8414308">,</span>&nbsp;<span class="builtintype" id="8414310">true</span><span class="op" id="8414314">}</span><span class="op" id="8414315">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414318">{</span><span class="ident" id="8414319">IP</span><span class="op" id="8414321">.</span><span class="ident" id="8414322">IsUnspecified</span><span class="op" id="8414335">,</span>&nbsp;<span class="ident" id="8414337">IPv6interfacelocalallnodes</span><span class="op" id="8414363">,</span>&nbsp;<span class="builtintype" id="8414365">false</span><span class="op" id="8414370">}</span><span class="op" id="8414371">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414374">{</span><span class="ident" id="8414375">IP</span><span class="op" id="8414377">.</span><span class="ident" id="8414378">IsLoopback</span><span class="op" id="8414388">,</span>&nbsp;<span class="ident" id="8414390">IPv4</span><span class="op" id="8414394">(</span><span class="num" id="8414395">127</span><span class="op" id="8414398">,</span>&nbsp;<span class="num" id="8414400">0</span><span class="op" id="8414401">,</span>&nbsp;<span class="num" id="8414403">0</span><span class="op" id="8414404">,</span>&nbsp;<span class="num" id="8414406">1</span><span class="op" id="8414407">)</span><span class="op" id="8414408">,</span>&nbsp;<span class="builtintype" id="8414410">true</span><span class="op" id="8414414">}</span><span class="op" id="8414415">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414418">{</span><span class="ident" id="8414419">IP</span><span class="op" id="8414421">.</span><span class="ident" id="8414422">IsLoopback</span><span class="op" id="8414432">,</span>&nbsp;<span class="ident" id="8414434">IPv4</span><span class="op" id="8414438">(</span><span class="num" id="8414439">127</span><span class="op" id="8414442">,</span>&nbsp;<span class="num" id="8414444">255</span><span class="op" id="8414447">,</span>&nbsp;<span class="num" id="8414449">255</span><span class="op" id="8414452">,</span>&nbsp;<span class="num" id="8414454">254</span><span class="op" id="8414457">)</span><span class="op" id="8414458">,</span>&nbsp;<span class="builtintype" id="8414460">true</span><span class="op" id="8414464">}</span><span class="op" id="8414465">,</span><br>
<span class="lineno">430</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414468">{</span><span class="ident" id="8414469">IP</span><span class="op" id="8414471">.</span><span class="ident" id="8414472">IsLoopback</span><span class="op" id="8414482">,</span>&nbsp;<span class="ident" id="8414484">IPv4</span><span class="op" id="8414488">(</span><span class="num" id="8414489">128</span><span class="op" id="8414492">,</span>&nbsp;<span class="num" id="8414494">1</span><span class="op" id="8414495">,</span>&nbsp;<span class="num" id="8414497">2</span><span class="op" id="8414498">,</span>&nbsp;<span class="num" id="8414500">3</span><span class="op" id="8414501">)</span><span class="op" id="8414502">,</span>&nbsp;<span class="builtintype" id="8414504">false</span><span class="op" id="8414509">}</span><span class="op" id="8414510">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414513">{</span><span class="ident" id="8414514">IP</span><span class="op" id="8414516">.</span><span class="ident" id="8414517">IsLoopback</span><span class="op" id="8414527">,</span>&nbsp;<span class="ident" id="8414529">IPv6loopback</span><span class="op" id="8414541">,</span>&nbsp;<span class="builtintype" id="8414543">true</span><span class="op" id="8414547">}</span><span class="op" id="8414548">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414551">{</span><span class="ident" id="8414552">IP</span><span class="op" id="8414554">.</span><span class="ident" id="8414555">IsLoopback</span><span class="op" id="8414565">,</span>&nbsp;<span class="ident" id="8414567">IPv6linklocalallrouters</span><span class="op" id="8414590">,</span>&nbsp;<span class="builtintype" id="8414592">false</span><span class="op" id="8414597">}</span><span class="op" id="8414598">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414601">{</span><span class="ident" id="8414602">IP</span><span class="op" id="8414604">.</span><span class="ident" id="8414605">IsMulticast</span><span class="op" id="8414616">,</span>&nbsp;<span class="ident" id="8414618">IPv4</span><span class="op" id="8414622">(</span><span class="num" id="8414623">224</span><span class="op" id="8414626">,</span>&nbsp;<span class="num" id="8414628">0</span><span class="op" id="8414629">,</span>&nbsp;<span class="num" id="8414631">0</span><span class="op" id="8414632">,</span>&nbsp;<span class="num" id="8414634">0</span><span class="op" id="8414635">)</span><span class="op" id="8414636">,</span>&nbsp;<span class="builtintype" id="8414638">true</span><span class="op" id="8414642">}</span><span class="op" id="8414643">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414646">{</span><span class="ident" id="8414647">IP</span><span class="op" id="8414649">.</span><span class="ident" id="8414650">IsMulticast</span><span class="op" id="8414661">,</span>&nbsp;<span class="ident" id="8414663">IPv4</span><span class="op" id="8414667">(</span><span class="num" id="8414668">239</span><span class="op" id="8414671">,</span>&nbsp;<span class="num" id="8414673">0</span><span class="op" id="8414674">,</span>&nbsp;<span class="num" id="8414676">0</span><span class="op" id="8414677">,</span>&nbsp;<span class="num" id="8414679">0</span><span class="op" id="8414680">)</span><span class="op" id="8414681">,</span>&nbsp;<span class="builtintype" id="8414683">true</span><span class="op" id="8414687">}</span><span class="op" id="8414688">,</span><br>
<span class="lineno">435</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414691">{</span><span class="ident" id="8414692">IP</span><span class="op" id="8414694">.</span><span class="ident" id="8414695">IsMulticast</span><span class="op" id="8414706">,</span>&nbsp;<span class="ident" id="8414708">IPv4</span><span class="op" id="8414712">(</span><span class="num" id="8414713">240</span><span class="op" id="8414716">,</span>&nbsp;<span class="num" id="8414718">0</span><span class="op" id="8414719">,</span>&nbsp;<span class="num" id="8414721">0</span><span class="op" id="8414722">,</span>&nbsp;<span class="num" id="8414724">0</span><span class="op" id="8414725">)</span><span class="op" id="8414726">,</span>&nbsp;<span class="builtintype" id="8414728">false</span><span class="op" id="8414733">}</span><span class="op" id="8414734">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414737">{</span><span class="ident" id="8414738">IP</span><span class="op" id="8414740">.</span><span class="ident" id="8414741">IsMulticast</span><span class="op" id="8414752">,</span>&nbsp;<span class="ident" id="8414754">IPv6linklocalallnodes</span><span class="op" id="8414775">,</span>&nbsp;<span class="builtintype" id="8414777">true</span><span class="op" id="8414781">}</span><span class="op" id="8414782">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414785">{</span><span class="ident" id="8414786">IP</span><span class="op" id="8414788">.</span><span class="ident" id="8414789">IsMulticast</span><span class="op" id="8414800">,</span>&nbsp;<span class="ident" id="8414802">IP</span><span class="op" id="8414804">{</span><span class="num" id="8414805">0xff</span><span class="op" id="8414809">,</span>&nbsp;<span class="num" id="8414811">0x05</span><span class="op" id="8414815">,</span>&nbsp;<span class="num" id="8414817">0</span><span class="op" id="8414818">,</span>&nbsp;<span class="num" id="8414820">0</span><span class="op" id="8414821">,</span>&nbsp;<span class="num" id="8414823">0</span><span class="op" id="8414824">,</span>&nbsp;<span class="num" id="8414826">0</span><span class="op" id="8414827">,</span>&nbsp;<span class="num" id="8414829">0</span><span class="op" id="8414830">,</span>&nbsp;<span class="num" id="8414832">0</span><span class="op" id="8414833">,</span>&nbsp;<span class="num" id="8414835">0</span><span class="op" id="8414836">,</span>&nbsp;<span class="num" id="8414838">0</span><span class="op" id="8414839">,</span>&nbsp;<span class="num" id="8414841">0</span><span class="op" id="8414842">,</span>&nbsp;<span class="num" id="8414844">0</span><span class="op" id="8414845">,</span>&nbsp;<span class="num" id="8414847">0</span><span class="op" id="8414848">,</span>&nbsp;<span class="num" id="8414850">0</span><span class="op" id="8414851">,</span>&nbsp;<span class="num" id="8414853">0</span><span class="op" id="8414854">,</span>&nbsp;<span class="num" id="8414856">0</span><span class="op" id="8414857">}</span><span class="op" id="8414858">,</span>&nbsp;<span class="builtintype" id="8414860">true</span><span class="op" id="8414864">}</span><span class="op" id="8414865">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414868">{</span><span class="ident" id="8414869">IP</span><span class="op" id="8414871">.</span><span class="ident" id="8414872">IsMulticast</span><span class="op" id="8414883">,</span>&nbsp;<span class="ident" id="8414885">IP</span><span class="op" id="8414887">{</span><span class="num" id="8414888">0xfe</span><span class="op" id="8414892">,</span>&nbsp;<span class="num" id="8414894">0x80</span><span class="op" id="8414898">,</span>&nbsp;<span class="num" id="8414900">0</span><span class="op" id="8414901">,</span>&nbsp;<span class="num" id="8414903">0</span><span class="op" id="8414904">,</span>&nbsp;<span class="num" id="8414906">0</span><span class="op" id="8414907">,</span>&nbsp;<span class="num" id="8414909">0</span><span class="op" id="8414910">,</span>&nbsp;<span class="num" id="8414912">0</span><span class="op" id="8414913">,</span>&nbsp;<span class="num" id="8414915">0</span><span class="op" id="8414916">,</span>&nbsp;<span class="num" id="8414918">0</span><span class="op" id="8414919">,</span>&nbsp;<span class="num" id="8414921">0</span><span class="op" id="8414922">,</span>&nbsp;<span class="num" id="8414924">0</span><span class="op" id="8414925">,</span>&nbsp;<span class="num" id="8414927">0</span><span class="op" id="8414928">,</span>&nbsp;<span class="num" id="8414930">0</span><span class="op" id="8414931">,</span>&nbsp;<span class="num" id="8414933">0</span><span class="op" id="8414934">,</span>&nbsp;<span class="num" id="8414936">0</span><span class="op" id="8414937">,</span>&nbsp;<span class="num" id="8414939">0</span><span class="op" id="8414940">}</span><span class="op" id="8414941">,</span>&nbsp;<span class="builtintype" id="8414943">false</span><span class="op" id="8414948">}</span><span class="op" id="8414949">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8414952">{</span><span class="ident" id="8414953">IP</span><span class="op" id="8414955">.</span><span class="ident" id="8414956">IsLinkLocalMulticast</span><span class="op" id="8414976">,</span>&nbsp;<span class="ident" id="8414978">IPv4</span><span class="op" id="8414982">(</span><span class="num" id="8414983">224</span><span class="op" id="8414986">,</span>&nbsp;<span class="num" id="8414988">0</span><span class="op" id="8414989">,</span>&nbsp;<span class="num" id="8414991">0</span><span class="op" id="8414992">,</span>&nbsp;<span class="num" id="8414994">0</span><span class="op" id="8414995">)</span><span class="op" id="8414996">,</span>&nbsp;<span class="builtintype" id="8414998">true</span><span class="op" id="8415002">}</span><span class="op" id="8415003">,</span><br>
<span class="lineno">440</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415006">{</span><span class="ident" id="8415007">IP</span><span class="op" id="8415009">.</span><span class="ident" id="8415010">IsLinkLocalMulticast</span><span class="op" id="8415030">,</span>&nbsp;<span class="ident" id="8415032">IPv4</span><span class="op" id="8415036">(</span><span class="num" id="8415037">239</span><span class="op" id="8415040">,</span>&nbsp;<span class="num" id="8415042">0</span><span class="op" id="8415043">,</span>&nbsp;<span class="num" id="8415045">0</span><span class="op" id="8415046">,</span>&nbsp;<span class="num" id="8415048">0</span><span class="op" id="8415049">)</span><span class="op" id="8415050">,</span>&nbsp;<span class="builtintype" id="8415052">false</span><span class="op" id="8415057">}</span><span class="op" id="8415058">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415061">{</span><span class="ident" id="8415062">IP</span><span class="op" id="8415064">.</span><span class="ident" id="8415065">IsLinkLocalMulticast</span><span class="op" id="8415085">,</span>&nbsp;<span class="ident" id="8415087">IPv6linklocalallrouters</span><span class="op" id="8415110">,</span>&nbsp;<span class="builtintype" id="8415112">true</span><span class="op" id="8415116">}</span><span class="op" id="8415117">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415120">{</span><span class="ident" id="8415121">IP</span><span class="op" id="8415123">.</span><span class="ident" id="8415124">IsLinkLocalMulticast</span><span class="op" id="8415144">,</span>&nbsp;<span class="ident" id="8415146">IP</span><span class="op" id="8415148">{</span><span class="num" id="8415149">0xff</span><span class="op" id="8415153">,</span>&nbsp;<span class="num" id="8415155">0x05</span><span class="op" id="8415159">,</span>&nbsp;<span class="num" id="8415161">0</span><span class="op" id="8415162">,</span>&nbsp;<span class="num" id="8415164">0</span><span class="op" id="8415165">,</span>&nbsp;<span class="num" id="8415167">0</span><span class="op" id="8415168">,</span>&nbsp;<span class="num" id="8415170">0</span><span class="op" id="8415171">,</span>&nbsp;<span class="num" id="8415173">0</span><span class="op" id="8415174">,</span>&nbsp;<span class="num" id="8415176">0</span><span class="op" id="8415177">,</span>&nbsp;<span class="num" id="8415179">0</span><span class="op" id="8415180">,</span>&nbsp;<span class="num" id="8415182">0</span><span class="op" id="8415183">,</span>&nbsp;<span class="num" id="8415185">0</span><span class="op" id="8415186">,</span>&nbsp;<span class="num" id="8415188">0</span><span class="op" id="8415189">,</span>&nbsp;<span class="num" id="8415191">0</span><span class="op" id="8415192">,</span>&nbsp;<span class="num" id="8415194">0</span><span class="op" id="8415195">,</span>&nbsp;<span class="num" id="8415197">0</span><span class="op" id="8415198">,</span>&nbsp;<span class="num" id="8415200">0</span><span class="op" id="8415201">}</span><span class="op" id="8415202">,</span>&nbsp;<span class="builtintype" id="8415204">false</span><span class="op" id="8415209">}</span><span class="op" id="8415210">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415213">{</span><span class="ident" id="8415214">IP</span><span class="op" id="8415216">.</span><span class="ident" id="8415217">IsLinkLocalUnicast</span><span class="op" id="8415235">,</span>&nbsp;<span class="ident" id="8415237">IPv4</span><span class="op" id="8415241">(</span><span class="num" id="8415242">169</span><span class="op" id="8415245">,</span>&nbsp;<span class="num" id="8415247">254</span><span class="op" id="8415250">,</span>&nbsp;<span class="num" id="8415252">0</span><span class="op" id="8415253">,</span>&nbsp;<span class="num" id="8415255">0</span><span class="op" id="8415256">)</span><span class="op" id="8415257">,</span>&nbsp;<span class="builtintype" id="8415259">true</span><span class="op" id="8415263">}</span><span class="op" id="8415264">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415267">{</span><span class="ident" id="8415268">IP</span><span class="op" id="8415270">.</span><span class="ident" id="8415271">IsLinkLocalUnicast</span><span class="op" id="8415289">,</span>&nbsp;<span class="ident" id="8415291">IPv4</span><span class="op" id="8415295">(</span><span class="num" id="8415296">169</span><span class="op" id="8415299">,</span>&nbsp;<span class="num" id="8415301">255</span><span class="op" id="8415304">,</span>&nbsp;<span class="num" id="8415306">0</span><span class="op" id="8415307">,</span>&nbsp;<span class="num" id="8415309">0</span><span class="op" id="8415310">)</span><span class="op" id="8415311">,</span>&nbsp;<span class="builtintype" id="8415313">false</span><span class="op" id="8415318">}</span><span class="op" id="8415319">,</span><br>
<span class="lineno">445</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415322">{</span><span class="ident" id="8415323">IP</span><span class="op" id="8415325">.</span><span class="ident" id="8415326">IsLinkLocalUnicast</span><span class="op" id="8415344">,</span>&nbsp;<span class="ident" id="8415346">IP</span><span class="op" id="8415348">{</span><span class="num" id="8415349">0xfe</span><span class="op" id="8415353">,</span>&nbsp;<span class="num" id="8415355">0x80</span><span class="op" id="8415359">,</span>&nbsp;<span class="num" id="8415361">0</span><span class="op" id="8415362">,</span>&nbsp;<span class="num" id="8415364">0</span><span class="op" id="8415365">,</span>&nbsp;<span class="num" id="8415367">0</span><span class="op" id="8415368">,</span>&nbsp;<span class="num" id="8415370">0</span><span class="op" id="8415371">,</span>&nbsp;<span class="num" id="8415373">0</span><span class="op" id="8415374">,</span>&nbsp;<span class="num" id="8415376">0</span><span class="op" id="8415377">,</span>&nbsp;<span class="num" id="8415379">0</span><span class="op" id="8415380">,</span>&nbsp;<span class="num" id="8415382">0</span><span class="op" id="8415383">,</span>&nbsp;<span class="num" id="8415385">0</span><span class="op" id="8415386">,</span>&nbsp;<span class="num" id="8415388">0</span><span class="op" id="8415389">,</span>&nbsp;<span class="num" id="8415391">0</span><span class="op" id="8415392">,</span>&nbsp;<span class="num" id="8415394">0</span><span class="op" id="8415395">,</span>&nbsp;<span class="num" id="8415397">0</span><span class="op" id="8415398">,</span>&nbsp;<span class="num" id="8415400">0</span><span class="op" id="8415401">}</span><span class="op" id="8415402">,</span>&nbsp;<span class="builtintype" id="8415404">true</span><span class="op" id="8415408">}</span><span class="op" id="8415409">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415412">{</span><span class="ident" id="8415413">IP</span><span class="op" id="8415415">.</span><span class="ident" id="8415416">IsLinkLocalUnicast</span><span class="op" id="8415434">,</span>&nbsp;<span class="ident" id="8415436">IP</span><span class="op" id="8415438">{</span><span class="num" id="8415439">0xfe</span><span class="op" id="8415443">,</span>&nbsp;<span class="num" id="8415445">0xc0</span><span class="op" id="8415449">,</span>&nbsp;<span class="num" id="8415451">0</span><span class="op" id="8415452">,</span>&nbsp;<span class="num" id="8415454">0</span><span class="op" id="8415455">,</span>&nbsp;<span class="num" id="8415457">0</span><span class="op" id="8415458">,</span>&nbsp;<span class="num" id="8415460">0</span><span class="op" id="8415461">,</span>&nbsp;<span class="num" id="8415463">0</span><span class="op" id="8415464">,</span>&nbsp;<span class="num" id="8415466">0</span><span class="op" id="8415467">,</span>&nbsp;<span class="num" id="8415469">0</span><span class="op" id="8415470">,</span>&nbsp;<span class="num" id="8415472">0</span><span class="op" id="8415473">,</span>&nbsp;<span class="num" id="8415475">0</span><span class="op" id="8415476">,</span>&nbsp;<span class="num" id="8415478">0</span><span class="op" id="8415479">,</span>&nbsp;<span class="num" id="8415481">0</span><span class="op" id="8415482">,</span>&nbsp;<span class="num" id="8415484">0</span><span class="op" id="8415485">,</span>&nbsp;<span class="num" id="8415487">0</span><span class="op" id="8415488">,</span>&nbsp;<span class="num" id="8415490">0</span><span class="op" id="8415491">}</span><span class="op" id="8415492">,</span>&nbsp;<span class="builtintype" id="8415494">false</span><span class="op" id="8415499">}</span><span class="op" id="8415500">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415503">{</span><span class="ident" id="8415504">IP</span><span class="op" id="8415506">.</span><span class="ident" id="8415507">IsGlobalUnicast</span><span class="op" id="8415522">,</span>&nbsp;<span class="ident" id="8415524">IPv4</span><span class="op" id="8415528">(</span><span class="num" id="8415529">240</span><span class="op" id="8415532">,</span>&nbsp;<span class="num" id="8415534">0</span><span class="op" id="8415535">,</span>&nbsp;<span class="num" id="8415537">0</span><span class="op" id="8415538">,</span>&nbsp;<span class="num" id="8415540">0</span><span class="op" id="8415541">)</span><span class="op" id="8415542">,</span>&nbsp;<span class="builtintype" id="8415544">true</span><span class="op" id="8415548">}</span><span class="op" id="8415549">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415552">{</span><span class="ident" id="8415553">IP</span><span class="op" id="8415555">.</span><span class="ident" id="8415556">IsGlobalUnicast</span><span class="op" id="8415571">,</span>&nbsp;<span class="ident" id="8415573">IPv4</span><span class="op" id="8415577">(</span><span class="num" id="8415578">232</span><span class="op" id="8415581">,</span>&nbsp;<span class="num" id="8415583">0</span><span class="op" id="8415584">,</span>&nbsp;<span class="num" id="8415586">0</span><span class="op" id="8415587">,</span>&nbsp;<span class="num" id="8415589">0</span><span class="op" id="8415590">)</span><span class="op" id="8415591">,</span>&nbsp;<span class="builtintype" id="8415593">false</span><span class="op" id="8415598">}</span><span class="op" id="8415599">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415602">{</span><span class="ident" id="8415603">IP</span><span class="op" id="8415605">.</span><span class="ident" id="8415606">IsGlobalUnicast</span><span class="op" id="8415621">,</span>&nbsp;<span class="ident" id="8415623">IPv4</span><span class="op" id="8415627">(</span><span class="num" id="8415628">169</span><span class="op" id="8415631">,</span>&nbsp;<span class="num" id="8415633">254</span><span class="op" id="8415636">,</span>&nbsp;<span class="num" id="8415638">0</span><span class="op" id="8415639">,</span>&nbsp;<span class="num" id="8415641">0</span><span class="op" id="8415642">)</span><span class="op" id="8415643">,</span>&nbsp;<span class="builtintype" id="8415645">false</span><span class="op" id="8415650">}</span><span class="op" id="8415651">,</span><br>
<span class="lineno">450</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415654">{</span><span class="ident" id="8415655">IP</span><span class="op" id="8415657">.</span><span class="ident" id="8415658">IsGlobalUnicast</span><span class="op" id="8415673">,</span>&nbsp;<span class="ident" id="8415675">IP</span><span class="op" id="8415677">{</span><span class="num" id="8415678">0x20</span><span class="op" id="8415682">,</span>&nbsp;<span class="num" id="8415684">0x1</span><span class="op" id="8415687">,</span>&nbsp;<span class="num" id="8415689">0xd</span><span class="op" id="8415692">,</span>&nbsp;<span class="num" id="8415694">0xb8</span><span class="op" id="8415698">,</span>&nbsp;<span class="num" id="8415700">0</span><span class="op" id="8415701">,</span>&nbsp;<span class="num" id="8415703">0</span><span class="op" id="8415704">,</span>&nbsp;<span class="num" id="8415706">0</span><span class="op" id="8415707">,</span>&nbsp;<span class="num" id="8415709">0</span><span class="op" id="8415710">,</span>&nbsp;<span class="num" id="8415712">0</span><span class="op" id="8415713">,</span>&nbsp;<span class="num" id="8415715">0</span><span class="op" id="8415716">,</span>&nbsp;<span class="num" id="8415718">0x1</span><span class="op" id="8415721">,</span>&nbsp;<span class="num" id="8415723">0x23</span><span class="op" id="8415727">,</span>&nbsp;<span class="num" id="8415729">0</span><span class="op" id="8415730">,</span>&nbsp;<span class="num" id="8415732">0x12</span><span class="op" id="8415736">,</span>&nbsp;<span class="num" id="8415738">0</span><span class="op" id="8415739">,</span>&nbsp;<span class="num" id="8415741">0x1</span><span class="op" id="8415744">}</span><span class="op" id="8415745">,</span>&nbsp;<span class="builtintype" id="8415747">true</span><span class="op" id="8415751">}</span><span class="op" id="8415752">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415755">{</span><span class="ident" id="8415756">IP</span><span class="op" id="8415758">.</span><span class="ident" id="8415759">IsGlobalUnicast</span><span class="op" id="8415774">,</span>&nbsp;<span class="ident" id="8415776">IP</span><span class="op" id="8415778">{</span><span class="num" id="8415779">0xfe</span><span class="op" id="8415783">,</span>&nbsp;<span class="num" id="8415785">0x80</span><span class="op" id="8415789">,</span>&nbsp;<span class="num" id="8415791">0</span><span class="op" id="8415792">,</span>&nbsp;<span class="num" id="8415794">0</span><span class="op" id="8415795">,</span>&nbsp;<span class="num" id="8415797">0</span><span class="op" id="8415798">,</span>&nbsp;<span class="num" id="8415800">0</span><span class="op" id="8415801">,</span>&nbsp;<span class="num" id="8415803">0</span><span class="op" id="8415804">,</span>&nbsp;<span class="num" id="8415806">0</span><span class="op" id="8415807">,</span>&nbsp;<span class="num" id="8415809">0</span><span class="op" id="8415810">,</span>&nbsp;<span class="num" id="8415812">0</span><span class="op" id="8415813">,</span>&nbsp;<span class="num" id="8415815">0</span><span class="op" id="8415816">,</span>&nbsp;<span class="num" id="8415818">0</span><span class="op" id="8415819">,</span>&nbsp;<span class="num" id="8415821">0</span><span class="op" id="8415822">,</span>&nbsp;<span class="num" id="8415824">0</span><span class="op" id="8415825">,</span>&nbsp;<span class="num" id="8415827">0</span><span class="op" id="8415828">,</span>&nbsp;<span class="num" id="8415830">0</span><span class="op" id="8415831">}</span><span class="op" id="8415832">,</span>&nbsp;<span class="builtintype" id="8415834">false</span><span class="op" id="8415839">}</span><span class="op" id="8415840">,</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8415843">{</span><span class="ident" id="8415844">IP</span><span class="op" id="8415846">.</span><span class="ident" id="8415847">IsGlobalUnicast</span><span class="op" id="8415862">,</span>&nbsp;<span class="ident" id="8415864">IP</span><span class="op" id="8415866">{</span><span class="num" id="8415867">0xff</span><span class="op" id="8415871">,</span>&nbsp;<span class="num" id="8415873">0x05</span><span class="op" id="8415877">,</span>&nbsp;<span class="num" id="8415879">0</span><span class="op" id="8415880">,</span>&nbsp;<span class="num" id="8415882">0</span><span class="op" id="8415883">,</span>&nbsp;<span class="num" id="8415885">0</span><span class="op" id="8415886">,</span>&nbsp;<span class="num" id="8415888">0</span><span class="op" id="8415889">,</span>&nbsp;<span class="num" id="8415891">0</span><span class="op" id="8415892">,</span>&nbsp;<span class="num" id="8415894">0</span><span class="op" id="8415895">,</span>&nbsp;<span class="num" id="8415897">0</span><span class="op" id="8415898">,</span>&nbsp;<span class="num" id="8415900">0</span><span class="op" id="8415901">,</span>&nbsp;<span class="num" id="8415903">0</span><span class="op" id="8415904">,</span>&nbsp;<span class="num" id="8415906">0</span><span class="op" id="8415907">,</span>&nbsp;<span class="num" id="8415909">0</span><span class="op" id="8415910">,</span>&nbsp;<span class="num" id="8415912">0</span><span class="op" id="8415913">,</span>&nbsp;<span class="num" id="8415915">0</span><span class="op" id="8415916">,</span>&nbsp;<span class="num" id="8415918">0</span><span class="op" id="8415919">}</span><span class="op" id="8415920">,</span>&nbsp;<span class="builtintype" id="8415922">false</span><span class="op" id="8415927">}</span><span class="op" id="8415928">,</span><br>
<span class="lineno"></span><span class="op" id="8415930">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">455</span><span class="keyword" id="8415933">func</span>&nbsp;<span class="ident" id="8415938">name</span><span class="op" id="8415942">(</span><span class="ident" id="8415943">f</span>&nbsp;<span class="keyword" id="8415945">interface</span><span class="op" id="8415954">{</span><span class="op" id="8415955">}</span><span class="op" id="8415956">)</span>&nbsp;<span class="builtintype" id="8415958">string</span>&nbsp;<span class="op" id="8415965">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8415968">return</span>&nbsp;<span class="ident" id="8415975">runtime</span><span class="op" id="8415982">.</span><span class="ident" id="8415983">FuncForPC</span><span class="op" id="8415992">(</span><span class="ident" id="8415993">reflect</span><span class="op" id="8416000">.</span><span class="ident" id="8416001">ValueOf</span><span class="op" id="8416008">(</span><span class="ident" id="8416009">f</span><span class="op" id="8416010">)</span><span class="op" id="8416011">.</span><span class="ident" id="8416012">Pointer</span><span class="op" id="8416019">(</span><span class="op" id="8416020">)</span><span class="op" id="8416021">)</span><span class="op" id="8416022">.</span><span class="ident" id="8416023">Name</span><span class="op" id="8416027">(</span><span class="op" id="8416028">)</span><br>
<span class="lineno"></span><span class="op" id="8416030">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="8416033">func</span>&nbsp;<span class="ident" id="8416038">TestIPAddrScope</span><span class="op" id="8416053">(</span><span class="ident" id="8416054">t</span>&nbsp;<span class="op" id="8416056">*</span><span class="ident" id="8416057">testing</span><span class="op" id="8416064">.</span><span class="ident" id="8416065">T</span><span class="op" id="8416066">)</span>&nbsp;<span class="op" id="8416068">{</span><br>
<span class="lineno">460</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416071">for</span>&nbsp;<span class="ident" id="8416075">_</span><span class="op" id="8416076">,</span>&nbsp;<span class="ident" id="8416078">tt</span>&nbsp;<span class="op" id="8416081">:=</span>&nbsp;<span class="keyword" id="8416084">range</span>&nbsp;<span class="ident" id="8416090">ipAddrScopeTests</span>&nbsp;<span class="op" id="8416107">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="8416111">if</span>&nbsp;<span class="ident" id="8416114">ok</span>&nbsp;<span class="op" id="8416117">:=</span>&nbsp;<span class="ident" id="8416120">tt</span><span class="op" id="8416122">.</span><span class="ident" id="8416123">scope</span><span class="op" id="8416128">(</span><span class="ident" id="8416129">tt</span><span class="op" id="8416131">.</span><span class="ident" id="8416132">in</span><span class="op" id="8416134">)</span><span class="op" id="8416135">;</span>&nbsp;<span class="ident" id="8416137">ok</span>&nbsp;<span class="op" id="8416140">!=</span>&nbsp;<span class="ident" id="8416143">tt</span><span class="op" id="8416145">.</span><span class="ident" id="8416146">ok</span>&nbsp;<span class="op" id="8416149">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="8416154">t</span><span class="op" id="8416155">.</span><span class="ident" id="8416156">Errorf</span><span class="op" id="8416162">(</span><span class="string" id="8416163">&#34;%s(%q)&nbsp;=&nbsp;%v,&nbsp;want&nbsp;%v&#34;</span><span class="op" id="8416185">,</span>&nbsp;<span class="ident" id="8416187">name</span><span class="op" id="8416191">(</span><span class="ident" id="8416192">tt</span><span class="op" id="8416194">.</span><span class="ident" id="8416195">scope</span><span class="op" id="8416200">)</span><span class="op" id="8416201">,</span>&nbsp;<span class="ident" id="8416203">tt</span><span class="op" id="8416205">.</span><span class="ident" id="8416206">in</span><span class="op" id="8416208">,</span>&nbsp;<span class="ident" id="8416210">ok</span><span class="op" id="8416212">,</span>&nbsp;<span class="ident" id="8416214">tt</span><span class="op" id="8416216">.</span><span class="ident" id="8416217">ok</span><span class="op" id="8416219">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416223">}</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="op" id="8416226">}</span><br>
<span class="lineno">465</span><span class="op" id="8416228">}</span>
</div>
</body>
</html>
