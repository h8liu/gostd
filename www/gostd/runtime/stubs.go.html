<!doctype html>
<html>

<head>
	<meta charset="utf-8" />
	<title>Go standard library</title>
	<link rel="stylesheet" type="text/css" href="/gostd.css">
</head>

<body>

<div class="pkgnavi">
<h1><a href="/gostd/index.html">Go Standard Library</a></h1>
<h2>runtime</h2>
<ul>
<li><a href="/gostd/runtime/alg.go.html">alg.go</a></li>
<li><a href="/gostd/runtime/append_test.go.html">append_test.go</a></li>
<li><a href="/gostd/runtime/arch_amd64.go.html">arch_amd64.go</a></li>
<li><a href="/gostd/runtime/atomic.go.html">atomic.go</a></li>
<li><a href="/gostd/runtime/cgocall.go.html">cgocall.go</a></li>
<li><a href="/gostd/runtime/cgocallback.go.html">cgocallback.go</a></li>
<li><a href="/gostd/runtime/chan.go.html">chan.go</a></li>
<li><a href="/gostd/runtime/chan_test.go.html">chan_test.go</a></li>
<li><a href="/gostd/runtime/closure_test.go.html">closure_test.go</a></li>
<li><a href="/gostd/runtime/compiler.go.html">compiler.go</a></li>
<li><a href="/gostd/runtime/complex.go.html">complex.go</a></li>
<li><a href="/gostd/runtime/complex_test.go.html">complex_test.go</a></li>
<li><a href="/gostd/runtime/cpuprof.go.html">cpuprof.go</a></li>
<li><a href="/gostd/runtime/crash_test.go.html">crash_test.go</a></li>
<li><a href="/gostd/runtime/debug.go.html">debug.go</a></li>
<li><a href="/gostd/runtime/env_posix.go.html">env_posix.go</a></li>
<li><a href="/gostd/runtime/error.go.html">error.go</a></li>
<li><a href="/gostd/runtime/export_futex_test.go.html">export_futex_test.go</a></li>
<li><a href="/gostd/runtime/export_test.go.html">export_test.go</a></li>
<li><a href="/gostd/runtime/extern.go.html">extern.go</a></li>
<li><a href="/gostd/runtime/futex_test.go.html">futex_test.go</a></li>
<li><a href="/gostd/runtime/gc_test.go.html">gc_test.go</a></li>
<li><a href="/gostd/runtime/gcinfo_test.go.html">gcinfo_test.go</a></li>
<li><a href="/gostd/runtime/hash_test.go.html">hash_test.go</a></li>
<li><a href="/gostd/runtime/hashmap.go.html">hashmap.go</a></li>
<li><a href="/gostd/runtime/hashmap_fast.go.html">hashmap_fast.go</a></li>
<li><a href="/gostd/runtime/iface.go.html">iface.go</a></li>
<li><a href="/gostd/runtime/iface_test.go.html">iface_test.go</a></li>
<li><a href="/gostd/runtime/lfstack_test.go.html">lfstack_test.go</a></li>
<li><a href="/gostd/runtime/lock_futex.go.html">lock_futex.go</a></li>
<li><a href="/gostd/runtime/malloc.go.html">malloc.go</a></li>
<li><a href="/gostd/runtime/malloc_test.go.html">malloc_test.go</a></li>
<li><a href="/gostd/runtime/map_test.go.html">map_test.go</a></li>
<li><a href="/gostd/runtime/mapspeed_test.go.html">mapspeed_test.go</a></li>
<li><a href="/gostd/runtime/mem.go.html">mem.go</a></li>
<li><a href="/gostd/runtime/memmove_linux_amd64_test.go.html">memmove_linux_amd64_test.go</a></li>
<li><a href="/gostd/runtime/memmove_test.go.html">memmove_test.go</a></li>
<li><a href="/gostd/runtime/mfinal_test.go.html">mfinal_test.go</a></li>
<li><a href="/gostd/runtime/mgc0.go.html">mgc0.go</a></li>
<li><a href="/gostd/runtime/mprof.go.html">mprof.go</a></li>
<li><a href="/gostd/runtime/netpoll.go.html">netpoll.go</a></li>
<li><a href="/gostd/runtime/netpoll_epoll.go.html">netpoll_epoll.go</a></li>
<li><a href="/gostd/runtime/norace_test.go.html">norace_test.go</a></li>
<li><a href="/gostd/runtime/os_linux.go.html">os_linux.go</a></li>
<li><a href="/gostd/runtime/panic.go.html">panic.go</a></li>
<li><a href="/gostd/runtime/parfor_test.go.html">parfor_test.go</a></li>
<li><a href="/gostd/runtime/print1.go.html">print1.go</a></li>
<li><a href="/gostd/runtime/proc.go.html">proc.go</a></li>
<li><a href="/gostd/runtime/proc_test.go.html">proc_test.go</a></li>
<li><a href="/gostd/runtime/race0.go.html">race0.go</a></li>
<li><a href="/gostd/runtime/rdebug.go.html">rdebug.go</a></li>
<li><a href="/gostd/runtime/rune.go.html">rune.go</a></li>
<li><a href="/gostd/runtime/runtime.go.html">runtime.go</a></li>
<li><a href="/gostd/runtime/runtime_linux_test.go.html">runtime_linux_test.go</a></li>
<li><a href="/gostd/runtime/runtime_test.go.html">runtime_test.go</a></li>
<li><a href="/gostd/runtime/runtime_unix_test.go.html">runtime_unix_test.go</a></li>
<li><a href="/gostd/runtime/select.go.html">select.go</a></li>
<li><a href="/gostd/runtime/sema.go.html">sema.go</a></li>
<li><a href="/gostd/runtime/signal_unix.go.html">signal_unix.go</a></li>
<li><a href="/gostd/runtime/sigpanic_unix.go.html">sigpanic_unix.go</a></li>
<li><a href="/gostd/runtime/sigqueue.go.html">sigqueue.go</a></li>
<li><a href="/gostd/runtime/slice.go.html">slice.go</a></li>
<li><a href="/gostd/runtime/softfloat64.go.html">softfloat64.go</a></li>
<li><a href="/gostd/runtime/softfloat64_test.go.html">softfloat64_test.go</a></li>
<li><a href="/gostd/runtime/sqrt.go.html">sqrt.go</a></li>
<li><a href="/gostd/runtime/stack.go.html">stack.go</a></li>
<li><a href="/gostd/runtime/stack_test.go.html">stack_test.go</a></li>
<li><a href="/gostd/runtime/string.go.html">string.go</a></li>
<li><a href="/gostd/runtime/string_test.go.html">string_test.go</a></li>
<li><a href="/gostd/runtime/stubs.go.html">stubs.go</a></li>
<li><a href="/gostd/runtime/symtab.go.html">symtab.go</a></li>
<li><a href="/gostd/runtime/symtab_test.go.html">symtab_test.go</a></li>
<li><a href="/gostd/runtime/time.go.html">time.go</a></li>
<li><a href="/gostd/runtime/traceback.go.html">traceback.go</a></li>
<li><a href="/gostd/runtime/typekind.go.html">typekind.go</a></li>
<li><a href="/gostd/runtime/zgoarch_amd64.go.html">zgoarch_amd64.go</a></li>
<li><a href="/gostd/runtime/zgoos_linux.go.html">zgoos_linux.go</a></li>
<li><a href="/gostd/runtime/zruntime_defs_linux_amd64.go.html">zruntime_defs_linux_amd64.go</a></li>
<li><a href="/gostd/runtime/zversion.go.html">zversion.go</a></li>
</ul>
</div>
<div class="code">
<span class="lineno">1</span><span class="comment" id="1694165">//&nbsp;Copyright&nbsp;2014&nbsp;The&nbsp;Go&nbsp;Authors.&nbsp;All&nbsp;rights&nbsp;reserved.</span><br>
<span class="lineno"></span><span class="comment" id="1694220">//&nbsp;Use&nbsp;of&nbsp;this&nbsp;source&nbsp;code&nbsp;is&nbsp;governed&nbsp;by&nbsp;a&nbsp;BSD-style</span><br>
<span class="lineno"></span><span class="comment" id="1694274">//&nbsp;license&nbsp;that&nbsp;can&nbsp;be&nbsp;found&nbsp;in&nbsp;the&nbsp;LICENSE&nbsp;file.</span><br>
<span class="lineno"></span><br>
<span class="lineno">5</span><span class="keyword" id="1694325">package</span>&nbsp;<span class="ident" id="1694333">runtime</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1694342">import</span>&nbsp;<span class="string" id="1694349">&#34;unsafe&#34;</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1694359">//&nbsp;Declarations&nbsp;for&nbsp;runtime&nbsp;services&nbsp;implemented&nbsp;in&nbsp;C&nbsp;or&nbsp;assembly.</span><br>
<span class="lineno">10</span><br>
<span class="lineno"></span><span class="keyword" id="1694427">const</span>&nbsp;<span class="ident" id="1694433">ptrSize</span>&nbsp;<span class="op" id="1694441">=</span>&nbsp;<span class="num" id="1694443">4</span>&nbsp;<span class="op" id="1694445">&lt;&lt;</span>&nbsp;<span class="op" id="1694448">(</span><span class="op" id="1694449">^</span><span class="builtintype" id="1694450">uintptr</span><span class="op" id="1694457">(</span><span class="num" id="1694458">0</span><span class="op" id="1694459">)</span>&nbsp;<span class="op" id="1694461">&gt;&gt;</span>&nbsp;<span class="num" id="1694464">63</span><span class="op" id="1694466">)</span>&nbsp;<span class="comment" id="1694468">//&nbsp;unsafe.Sizeof(uintptr(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><span class="keyword" id="1694516">const</span>&nbsp;<span class="ident" id="1694522">regSize</span>&nbsp;<span class="op" id="1694530">=</span>&nbsp;<span class="num" id="1694532">4</span>&nbsp;<span class="op" id="1694534">&lt;&lt;</span>&nbsp;<span class="op" id="1694537">(</span><span class="op" id="1694538">^</span><span class="ident" id="1694539">uintreg</span><span class="op" id="1694546">(</span><span class="num" id="1694547">0</span><span class="op" id="1694548">)</span>&nbsp;<span class="op" id="1694550">&gt;&gt;</span>&nbsp;<span class="num" id="1694553">63</span><span class="op" id="1694555">)</span>&nbsp;<span class="comment" id="1694557">//&nbsp;unsafe.Sizeof(uintreg(0))&nbsp;but&nbsp;an&nbsp;ideal&nbsp;const</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1694606">//&nbsp;Should&nbsp;be&nbsp;a&nbsp;built-in&nbsp;for&nbsp;unsafe.Pointer?</span><br>
<span class="lineno">15</span><span class="comment" id="1694650">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1694663">func</span>&nbsp;<span class="ident" id="1694668">add</span><span class="op" id="1694671">(</span><span class="ident" id="1694672">p</span>&nbsp;<span class="ident" id="1694674">unsafe</span><span class="op" id="1694680">.</span><span class="ident" id="1694681">Pointer</span><span class="op" id="1694688">,</span>&nbsp;<span class="ident" id="1694690">x</span>&nbsp;<span class="builtintype" id="1694692">uintptr</span><span class="op" id="1694699">)</span>&nbsp;<span class="ident" id="1694701">unsafe</span><span class="op" id="1694707">.</span><span class="ident" id="1694708">Pointer</span>&nbsp;<span class="op" id="1694716">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694719">return</span>&nbsp;<span class="ident" id="1694726">unsafe</span><span class="op" id="1694732">.</span><span class="ident" id="1694733">Pointer</span><span class="op" id="1694740">(</span><span class="builtintype" id="1694741">uintptr</span><span class="op" id="1694748">(</span><span class="ident" id="1694749">p</span><span class="op" id="1694750">)</span>&nbsp;<span class="op" id="1694752">+</span>&nbsp;<span class="ident" id="1694754">x</span><span class="op" id="1694755">)</span><br>
<span class="lineno"></span><span class="op" id="1694757">}</span><br>
<span class="lineno"></span><br>
<span class="lineno">20</span><span class="comment" id="1694760">//&nbsp;n&nbsp;must&nbsp;be&nbsp;a&nbsp;power&nbsp;of&nbsp;2</span><br>
<span class="lineno"></span><span class="keyword" id="1694786">func</span>&nbsp;<span class="ident" id="1694791">roundup</span><span class="op" id="1694798">(</span><span class="ident" id="1694799">p</span>&nbsp;<span class="ident" id="1694801">unsafe</span><span class="op" id="1694807">.</span><span class="ident" id="1694808">Pointer</span><span class="op" id="1694815">,</span>&nbsp;<span class="ident" id="1694817">n</span>&nbsp;<span class="builtintype" id="1694819">uintptr</span><span class="op" id="1694826">)</span>&nbsp;<span class="ident" id="1694828">unsafe</span><span class="op" id="1694834">.</span><span class="ident" id="1694835">Pointer</span>&nbsp;<span class="op" id="1694843">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1694846">delta</span>&nbsp;<span class="op" id="1694852">:=</span>&nbsp;<span class="op" id="1694855">-</span><span class="builtintype" id="1694856">uintptr</span><span class="op" id="1694863">(</span><span class="ident" id="1694864">p</span><span class="op" id="1694865">)</span>&nbsp;<span class="op" id="1694867">&amp;</span>&nbsp;<span class="op" id="1694869">(</span><span class="ident" id="1694870">n</span>&nbsp;<span class="op" id="1694872">-</span>&nbsp;<span class="num" id="1694874">1</span><span class="op" id="1694875">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1694878">return</span>&nbsp;<span class="ident" id="1694885">unsafe</span><span class="op" id="1694891">.</span><span class="ident" id="1694892">Pointer</span><span class="op" id="1694899">(</span><span class="builtintype" id="1694900">uintptr</span><span class="op" id="1694907">(</span><span class="ident" id="1694908">p</span><span class="op" id="1694909">)</span>&nbsp;<span class="op" id="1694911">+</span>&nbsp;<span class="ident" id="1694913">delta</span><span class="op" id="1694918">)</span><br>
<span class="lineno"></span><span class="op" id="1694920">}</span><br>
<span class="lineno">25</span><br>
<span class="lineno"></span><span class="comment" id="1694923">//&nbsp;in&nbsp;runtime.c</span><br>
<span class="lineno"></span><span class="keyword" id="1694939">func</span>&nbsp;<span class="ident" id="1694944">getg</span><span class="op" id="1694948">(</span><span class="op" id="1694949">)</span>&nbsp;<span class="op" id="1694951">*</span><span class="ident" id="1694952">g</span><br>
<span class="lineno"></span><span class="keyword" id="1694954">func</span>&nbsp;<span class="ident" id="1694959">acquirem</span><span class="op" id="1694967">(</span><span class="op" id="1694968">)</span>&nbsp;<span class="op" id="1694970">*</span><span class="ident" id="1694971">m</span><br>
<span class="lineno"></span><span class="keyword" id="1694973">func</span>&nbsp;<span class="ident" id="1694978">releasem</span><span class="op" id="1694986">(</span><span class="ident" id="1694987">mp</span>&nbsp;<span class="op" id="1694990">*</span><span class="ident" id="1694991">m</span><span class="op" id="1694992">)</span><br>
<span class="lineno">30</span><span class="keyword" id="1694994">func</span>&nbsp;<span class="ident" id="1694999">gomcache</span><span class="op" id="1695007">(</span><span class="op" id="1695008">)</span>&nbsp;<span class="op" id="1695010">*</span><span class="ident" id="1695011">mcache</span><br>
<span class="lineno"></span><span class="keyword" id="1695018">func</span>&nbsp;<span class="ident" id="1695023">readgstatus</span><span class="op" id="1695034">(</span><span class="op" id="1695035">*</span><span class="ident" id="1695036">g</span><span class="op" id="1695037">)</span>&nbsp;<span class="builtintype" id="1695039">uint32</span>&nbsp;<span class="comment" id="1695046">//&nbsp;proc.c</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1695057">//&nbsp;mcall&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn(g),</span><br>
<span class="lineno"></span><span class="comment" id="1695121">//&nbsp;where&nbsp;g&nbsp;is&nbsp;the&nbsp;goroutine&nbsp;that&nbsp;made&nbsp;the&nbsp;call.</span><br>
<span class="lineno">35</span><span class="comment" id="1695169">//&nbsp;mcall&nbsp;saves&nbsp;g&#39;s&nbsp;current&nbsp;PC/SP&nbsp;in&nbsp;g-&gt;sched&nbsp;so&nbsp;that&nbsp;it&nbsp;can&nbsp;be&nbsp;restored&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1695248">//&nbsp;It&nbsp;is&nbsp;up&nbsp;to&nbsp;fn&nbsp;to&nbsp;arrange&nbsp;for&nbsp;that&nbsp;later&nbsp;execution,&nbsp;typically&nbsp;by&nbsp;recording</span><br>
<span class="lineno"></span><span class="comment" id="1695326">//&nbsp;g&nbsp;in&nbsp;a&nbsp;data&nbsp;structure,&nbsp;causing&nbsp;something&nbsp;to&nbsp;call&nbsp;ready(g)&nbsp;later.</span><br>
<span class="lineno"></span><span class="comment" id="1695394">//&nbsp;mcall&nbsp;returns&nbsp;to&nbsp;the&nbsp;original&nbsp;goroutine&nbsp;g&nbsp;later,&nbsp;when&nbsp;g&nbsp;has&nbsp;been&nbsp;rescheduled.</span><br>
<span class="lineno"></span><span class="comment" id="1695475">//&nbsp;fn&nbsp;must&nbsp;not&nbsp;return&nbsp;at&nbsp;all;&nbsp;typically&nbsp;it&nbsp;ends&nbsp;by&nbsp;calling&nbsp;schedule,&nbsp;to&nbsp;let&nbsp;the&nbsp;m</span><br>
<span class="lineno">40</span><span class="comment" id="1695557">//&nbsp;run&nbsp;other&nbsp;goroutines.</span><br>
<span class="lineno"></span><span class="comment" id="1695582">//</span><br>
<span class="lineno"></span><span class="comment" id="1695585">//&nbsp;mcall&nbsp;can&nbsp;only&nbsp;be&nbsp;called&nbsp;from&nbsp;g&nbsp;stacks&nbsp;(not&nbsp;g0,&nbsp;not&nbsp;gsignal).</span><br>
<span class="lineno"></span><span class="comment" id="1695650">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1695664">func</span>&nbsp;<span class="ident" id="1695669">mcall</span><span class="op" id="1695674">(</span><span class="ident" id="1695675">fn</span>&nbsp;<span class="keyword" id="1695678">func</span><span class="op" id="1695682">(</span><span class="op" id="1695683">*</span><span class="ident" id="1695684">g</span><span class="op" id="1695685">)</span><span class="op" id="1695686">)</span><br>
<span class="lineno">45</span><br>
<span class="lineno"></span><span class="comment" id="1695689">//&nbsp;onM&nbsp;switches&nbsp;from&nbsp;the&nbsp;g&nbsp;to&nbsp;the&nbsp;g0&nbsp;stack&nbsp;and&nbsp;invokes&nbsp;fn().</span><br>
<span class="lineno"></span><span class="comment" id="1695750">//&nbsp;When&nbsp;fn&nbsp;returns,&nbsp;onM&nbsp;switches&nbsp;back&nbsp;to&nbsp;the&nbsp;g&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1695810">//&nbsp;continuing&nbsp;execution&nbsp;on&nbsp;the&nbsp;g&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1695850">//&nbsp;If&nbsp;arguments&nbsp;must&nbsp;be&nbsp;passed&nbsp;to&nbsp;fn,&nbsp;they&nbsp;can&nbsp;be&nbsp;written&nbsp;to</span><br>
<span class="lineno">50</span><span class="comment" id="1695911">//&nbsp;g-&gt;m-&gt;ptrarg&nbsp;(pointers)&nbsp;and&nbsp;g-&gt;m-&gt;scalararg&nbsp;(non-pointers)</span><br>
<span class="lineno"></span><span class="comment" id="1695973">//&nbsp;before&nbsp;the&nbsp;call&nbsp;and&nbsp;then&nbsp;consulted&nbsp;during&nbsp;fn.</span><br>
<span class="lineno"></span><span class="comment" id="1696022">//&nbsp;Similarly,&nbsp;fn&nbsp;can&nbsp;pass&nbsp;return&nbsp;values&nbsp;back&nbsp;in&nbsp;those&nbsp;locations.</span><br>
<span class="lineno"></span><span class="comment" id="1696087">//&nbsp;If&nbsp;fn&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;it&nbsp;can&nbsp;be&nbsp;a&nbsp;closure,&nbsp;which&nbsp;avoids&nbsp;the&nbsp;need&nbsp;for</span><br>
<span class="lineno"></span><span class="comment" id="1696161">//&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;entirely.</span><br>
<span class="lineno">55</span><span class="comment" id="1696195">//&nbsp;After&nbsp;reading&nbsp;values&nbsp;out&nbsp;of&nbsp;ptrarg&nbsp;and&nbsp;scalararg&nbsp;it&nbsp;is&nbsp;conventional</span><br>
<span class="lineno"></span><span class="comment" id="1696266">//&nbsp;to&nbsp;zero&nbsp;them&nbsp;to&nbsp;avoid&nbsp;(memory&nbsp;or&nbsp;information)&nbsp;leaks.</span><br>
<span class="lineno"></span><span class="comment" id="1696322">//</span><br>
<span class="lineno"></span><span class="comment" id="1696325">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;g0&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;and&nbsp;returns,</span><br>
<span class="lineno"></span><span class="comment" id="1696389">//&nbsp;without&nbsp;any&nbsp;stack&nbsp;switches.</span><br>
<span class="lineno">60</span><span class="comment" id="1696420">//</span><br>
<span class="lineno"></span><span class="comment" id="1696423">//&nbsp;If&nbsp;onM&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;crashes&nbsp;the&nbsp;program.</span><br>
<span class="lineno"></span><span class="comment" id="1696489">//&nbsp;The&nbsp;implication&nbsp;is&nbsp;that&nbsp;functions&nbsp;used&nbsp;in&nbsp;signal&nbsp;handlers&nbsp;must</span><br>
<span class="lineno"></span><span class="comment" id="1696555">//&nbsp;not&nbsp;use&nbsp;onM.</span><br>
<span class="lineno"></span><span class="comment" id="1696571">//</span><br>
<span class="lineno">65</span><span class="comment" id="1696574">//&nbsp;NOTE(rsc):&nbsp;We&nbsp;could&nbsp;introduce&nbsp;a&nbsp;separate&nbsp;onMsignal&nbsp;that&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1696636">//&nbsp;like&nbsp;onM&nbsp;but&nbsp;if&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack&nbsp;would&nbsp;just&nbsp;run&nbsp;fn&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1696704">//&nbsp;that&nbsp;stack.&nbsp;The&nbsp;caller&nbsp;of&nbsp;onMsignal&nbsp;would&nbsp;be&nbsp;required&nbsp;to&nbsp;save&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1696773">//&nbsp;old&nbsp;values&nbsp;of&nbsp;ptrarg/scalararg&nbsp;and&nbsp;restore&nbsp;them&nbsp;when&nbsp;the&nbsp;call</span><br>
<span class="lineno"></span><span class="comment" id="1696838">//&nbsp;was&nbsp;finished,&nbsp;in&nbsp;case&nbsp;the&nbsp;signal&nbsp;interrupted&nbsp;an&nbsp;onM&nbsp;sequence</span><br>
<span class="lineno">70</span><span class="comment" id="1696902">//&nbsp;in&nbsp;progress&nbsp;on&nbsp;the&nbsp;g&nbsp;or&nbsp;g0&nbsp;stacks.&nbsp;Until&nbsp;there&nbsp;is&nbsp;a&nbsp;clear&nbsp;need&nbsp;for&nbsp;this,</span><br>
<span class="lineno"></span><span class="comment" id="1696978">//&nbsp;we&nbsp;just&nbsp;reject&nbsp;onM&nbsp;in&nbsp;signal&nbsp;handling&nbsp;contexts&nbsp;entirely.</span><br>
<span class="lineno"></span><span class="comment" id="1697038">//</span><br>
<span class="lineno"></span><span class="comment" id="1697041">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1697055">func</span>&nbsp;<span class="ident" id="1697060">onM</span><span class="op" id="1697063">(</span><span class="ident" id="1697064">fn</span>&nbsp;<span class="keyword" id="1697067">func</span><span class="op" id="1697071">(</span><span class="op" id="1697072">)</span><span class="op" id="1697073">)</span><br>
<span class="lineno">75</span><br>
<span class="lineno"></span><span class="comment" id="1697076">//&nbsp;onMsignal&nbsp;is&nbsp;like&nbsp;onM&nbsp;but&nbsp;is&nbsp;allowed&nbsp;to&nbsp;be&nbsp;used&nbsp;in&nbsp;code&nbsp;that</span><br>
<span class="lineno"></span><span class="comment" id="1697140">//&nbsp;might&nbsp;run&nbsp;on&nbsp;the&nbsp;gsignal&nbsp;stack.&nbsp;Code&nbsp;running&nbsp;on&nbsp;a&nbsp;signal&nbsp;stack</span><br>
<span class="lineno"></span><span class="comment" id="1697206">//&nbsp;may&nbsp;be&nbsp;interrupting&nbsp;an&nbsp;onM&nbsp;sequence&nbsp;on&nbsp;the&nbsp;main&nbsp;stack,&nbsp;so</span><br>
<span class="lineno"></span><span class="comment" id="1697267">//&nbsp;if&nbsp;the&nbsp;onMsignal&nbsp;calling&nbsp;sequence&nbsp;writes&nbsp;to&nbsp;ptrarg/scalararg,</span><br>
<span class="lineno">80</span><span class="comment" id="1697332">//&nbsp;it&nbsp;must&nbsp;first&nbsp;save&nbsp;the&nbsp;old&nbsp;values&nbsp;and&nbsp;then&nbsp;restore&nbsp;them&nbsp;when</span><br>
<span class="lineno"></span><span class="comment" id="1697396">//&nbsp;finished.&nbsp;As&nbsp;an&nbsp;exception&nbsp;to&nbsp;the&nbsp;rule,&nbsp;it&nbsp;is&nbsp;fine&nbsp;not&nbsp;to&nbsp;save&nbsp;and</span><br>
<span class="lineno"></span><span class="comment" id="1697465">//&nbsp;restore&nbsp;the&nbsp;values&nbsp;if&nbsp;the&nbsp;program&nbsp;is&nbsp;trying&nbsp;to&nbsp;crash&nbsp;rather&nbsp;than</span><br>
<span class="lineno"></span><span class="comment" id="1697533">//&nbsp;return&nbsp;from&nbsp;the&nbsp;signal&nbsp;handler.</span><br>
<span class="lineno"></span><span class="comment" id="1697568">//&nbsp;Once&nbsp;all&nbsp;the&nbsp;runtime&nbsp;is&nbsp;written&nbsp;in&nbsp;Go,&nbsp;there&nbsp;will&nbsp;be&nbsp;no&nbsp;ptrarg/scalararg</span><br>
<span class="lineno">85</span><span class="comment" id="1697644">//&nbsp;and&nbsp;the&nbsp;distinction&nbsp;between&nbsp;onM&nbsp;and&nbsp;onMsignal&nbsp;(and&nbsp;perhaps&nbsp;mcall)</span><br>
<span class="lineno"></span><span class="comment" id="1697713">//&nbsp;can&nbsp;go&nbsp;away.</span><br>
<span class="lineno"></span><span class="comment" id="1697729">//</span><br>
<span class="lineno"></span><span class="comment" id="1697732">//&nbsp;If&nbsp;onMsignal&nbsp;is&nbsp;called&nbsp;from&nbsp;a&nbsp;gsignal&nbsp;stack,&nbsp;it&nbsp;invokes&nbsp;fn&nbsp;directly,</span><br>
<span class="lineno"></span><span class="comment" id="1697804">//&nbsp;without&nbsp;a&nbsp;stack&nbsp;switch.&nbsp;Otherwise&nbsp;onMsignal&nbsp;behaves&nbsp;like&nbsp;onM.</span><br>
<span class="lineno">90</span><span class="comment" id="1697869">//</span><br>
<span class="lineno"></span><span class="comment" id="1697872">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1697886">func</span>&nbsp;<span class="ident" id="1697891">onM_signalok</span><span class="op" id="1697903">(</span><span class="ident" id="1697904">fn</span>&nbsp;<span class="keyword" id="1697907">func</span><span class="op" id="1697911">(</span><span class="op" id="1697912">)</span><span class="op" id="1697913">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1697916">func</span>&nbsp;<span class="ident" id="1697921">badonm</span><span class="op" id="1697927">(</span><span class="op" id="1697928">)</span>&nbsp;<span class="op" id="1697930">{</span><br>
<span class="lineno">95</span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1697933">gothrow</span><span class="op" id="1697940">(</span><span class="string" id="1697941">&#34;onM&nbsp;called&nbsp;from&nbsp;signal&nbsp;goroutine&#34;</span><span class="op" id="1697975">)</span><br>
<span class="lineno"></span><span class="op" id="1697977">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1697980">//&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno"></span><span class="comment" id="1698020">//&nbsp;Call&nbsp;using&nbsp;mcall.</span><br>
<span class="lineno">100</span><span class="keyword" id="1698041">func</span>&nbsp;<span class="ident" id="1698046">gosched_m</span><span class="op" id="1698055">(</span><span class="op" id="1698056">*</span><span class="ident" id="1698057">g</span><span class="op" id="1698058">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698060">func</span>&nbsp;<span class="ident" id="1698065">park_m</span><span class="op" id="1698071">(</span><span class="op" id="1698072">*</span><span class="ident" id="1698073">g</span><span class="op" id="1698074">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698076">func</span>&nbsp;<span class="ident" id="1698081">recovery_m</span><span class="op" id="1698091">(</span><span class="op" id="1698092">*</span><span class="ident" id="1698093">g</span><span class="op" id="1698094">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1698097">//&nbsp;More&nbsp;C&nbsp;functions&nbsp;that&nbsp;run&nbsp;on&nbsp;the&nbsp;M&nbsp;stack.</span><br>
<span class="lineno">105</span><span class="comment" id="1698142">//&nbsp;Call&nbsp;using&nbsp;onM.</span><br>
<span class="lineno"></span><span class="keyword" id="1698161">func</span>&nbsp;<span class="ident" id="1698166">mcacheRefill_m</span><span class="op" id="1698180">(</span><span class="op" id="1698181">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698183">func</span>&nbsp;<span class="ident" id="1698188">largeAlloc_m</span><span class="op" id="1698200">(</span><span class="op" id="1698201">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698203">func</span>&nbsp;<span class="ident" id="1698208">gc_m</span><span class="op" id="1698212">(</span><span class="op" id="1698213">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698215">func</span>&nbsp;<span class="ident" id="1698220">scavenge_m</span><span class="op" id="1698230">(</span><span class="op" id="1698231">)</span><br>
<span class="lineno">110</span><span class="keyword" id="1698233">func</span>&nbsp;<span class="ident" id="1698238">setFinalizer_m</span><span class="op" id="1698252">(</span><span class="op" id="1698253">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698255">func</span>&nbsp;<span class="ident" id="1698260">removeFinalizer_m</span><span class="op" id="1698277">(</span><span class="op" id="1698278">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698280">func</span>&nbsp;<span class="ident" id="1698285">markallocated_m</span><span class="op" id="1698300">(</span><span class="op" id="1698301">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698303">func</span>&nbsp;<span class="ident" id="1698308">unrollgcprog_m</span><span class="op" id="1698322">(</span><span class="op" id="1698323">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698325">func</span>&nbsp;<span class="ident" id="1698330">unrollgcproginplace_m</span><span class="op" id="1698351">(</span><span class="op" id="1698352">)</span><br>
<span class="lineno">115</span><span class="keyword" id="1698354">func</span>&nbsp;<span class="ident" id="1698359">setgcpercent_m</span><span class="op" id="1698373">(</span><span class="op" id="1698374">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698376">func</span>&nbsp;<span class="ident" id="1698381">setmaxthreads_m</span><span class="op" id="1698396">(</span><span class="op" id="1698397">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698399">func</span>&nbsp;<span class="ident" id="1698404">ready_m</span><span class="op" id="1698411">(</span><span class="op" id="1698412">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698414">func</span>&nbsp;<span class="ident" id="1698419">deferproc_m</span><span class="op" id="1698430">(</span><span class="op" id="1698431">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698433">func</span>&nbsp;<span class="ident" id="1698438">goexit_m</span><span class="op" id="1698446">(</span><span class="op" id="1698447">)</span><br>
<span class="lineno">120</span><span class="keyword" id="1698449">func</span>&nbsp;<span class="ident" id="1698454">startpanic_m</span><span class="op" id="1698466">(</span><span class="op" id="1698467">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698469">func</span>&nbsp;<span class="ident" id="1698474">dopanic_m</span><span class="op" id="1698483">(</span><span class="op" id="1698484">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698486">func</span>&nbsp;<span class="ident" id="1698491">readmemstats_m</span><span class="op" id="1698505">(</span><span class="op" id="1698506">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698508">func</span>&nbsp;<span class="ident" id="1698513">writeheapdump_m</span><span class="op" id="1698528">(</span><span class="op" id="1698529">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">125</span><span class="comment" id="1698532">//&nbsp;memclr&nbsp;clears&nbsp;n&nbsp;bytes&nbsp;starting&nbsp;at&nbsp;ptr.</span><br>
<span class="lineno"></span><span class="comment" id="1698574">//&nbsp;in&nbsp;memclr_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1698591">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1698605">func</span>&nbsp;<span class="ident" id="1698610">memclr</span><span class="op" id="1698616">(</span><span class="ident" id="1698617">ptr</span>&nbsp;<span class="ident" id="1698621">unsafe</span><span class="op" id="1698627">.</span><span class="ident" id="1698628">Pointer</span><span class="op" id="1698635">,</span>&nbsp;<span class="ident" id="1698637">n</span>&nbsp;<span class="builtintype" id="1698639">uintptr</span><span class="op" id="1698646">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">130</span><span class="comment" id="1698649">//&nbsp;memmove&nbsp;copies&nbsp;n&nbsp;bytes&nbsp;from&nbsp;&#34;from&#34;&nbsp;to&nbsp;&#34;to&#34;.</span><br>
<span class="lineno"></span><span class="comment" id="1698696">//&nbsp;in&nbsp;memmove_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1698714">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1698728">func</span>&nbsp;<span class="ident" id="1698733">memmove</span><span class="op" id="1698740">(</span><span class="ident" id="1698741">to</span>&nbsp;<span class="ident" id="1698744">unsafe</span><span class="op" id="1698750">.</span><span class="ident" id="1698751">Pointer</span><span class="op" id="1698758">,</span>&nbsp;<span class="ident" id="1698760">from</span>&nbsp;<span class="ident" id="1698765">unsafe</span><span class="op" id="1698771">.</span><span class="ident" id="1698772">Pointer</span><span class="op" id="1698779">,</span>&nbsp;<span class="ident" id="1698781">n</span>&nbsp;<span class="builtintype" id="1698783">uintptr</span><span class="op" id="1698790">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">135</span><span class="keyword" id="1698793">func</span>&nbsp;<span class="ident" id="1698798">starttheworld</span><span class="op" id="1698811">(</span><span class="op" id="1698812">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698814">func</span>&nbsp;<span class="ident" id="1698819">stoptheworld</span><span class="op" id="1698831">(</span><span class="op" id="1698832">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698834">func</span>&nbsp;<span class="ident" id="1698839">newextram</span><span class="op" id="1698848">(</span><span class="op" id="1698849">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698851">func</span>&nbsp;<span class="ident" id="1698856">lockOSThread</span><span class="op" id="1698868">(</span><span class="op" id="1698869">)</span><br>
<span class="lineno"></span><span class="keyword" id="1698871">func</span>&nbsp;<span class="ident" id="1698876">unlockOSThread</span><span class="op" id="1698890">(</span><span class="op" id="1698891">)</span><br>
<span class="lineno">140</span><br>
<span class="lineno"></span><span class="comment" id="1698894">//&nbsp;exported&nbsp;value&nbsp;for&nbsp;testing</span><br>
<span class="lineno"></span><span class="keyword" id="1698924">var</span>&nbsp;<span class="ident" id="1698928">hashLoad</span>&nbsp;<span class="op" id="1698937">=</span>&nbsp;<span class="ident" id="1698939">loadFactor</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1698951">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno">145</span><span class="keyword" id="1698965">func</span>&nbsp;<span class="ident" id="1698970">fastrand1</span><span class="op" id="1698979">(</span><span class="op" id="1698980">)</span>&nbsp;<span class="builtintype" id="1698982">uint32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1698990">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1699004">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1699018">func</span>&nbsp;<span class="ident" id="1699023">memeq</span><span class="op" id="1699028">(</span><span class="ident" id="1699029">a</span><span class="op" id="1699030">,</span>&nbsp;<span class="ident" id="1699032">b</span>&nbsp;<span class="ident" id="1699034">unsafe</span><span class="op" id="1699040">.</span><span class="ident" id="1699041">Pointer</span><span class="op" id="1699048">,</span>&nbsp;<span class="ident" id="1699050">size</span>&nbsp;<span class="builtintype" id="1699055">uintptr</span><span class="op" id="1699062">)</span>&nbsp;<span class="builtintype" id="1699064">bool</span><br>
<span class="lineno">150</span><br>
<span class="lineno"></span><span class="comment" id="1699070">//&nbsp;noescape&nbsp;hides&nbsp;a&nbsp;pointer&nbsp;from&nbsp;escape&nbsp;analysis.&nbsp;&nbsp;noescape&nbsp;is</span><br>
<span class="lineno"></span><span class="comment" id="1699133">//&nbsp;the&nbsp;identity&nbsp;function&nbsp;but&nbsp;escape&nbsp;analysis&nbsp;doesn&#39;t&nbsp;think&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1699196">//&nbsp;output&nbsp;depends&nbsp;on&nbsp;the&nbsp;input.&nbsp;&nbsp;noescape&nbsp;is&nbsp;inlined&nbsp;and&nbsp;currently</span><br>
<span class="lineno"></span><span class="comment" id="1699263">//&nbsp;compiles&nbsp;down&nbsp;to&nbsp;a&nbsp;single&nbsp;xor&nbsp;instruction.</span><br>
<span class="lineno">155</span><span class="comment" id="1699309">//&nbsp;USE&nbsp;CAREFULLY!</span><br>
<span class="lineno"></span><span class="comment" id="1699327">//go:nosplit</span><br>
<span class="lineno"></span><span class="keyword" id="1699340">func</span>&nbsp;<span class="ident" id="1699345">noescape</span><span class="op" id="1699353">(</span><span class="ident" id="1699354">p</span>&nbsp;<span class="ident" id="1699356">unsafe</span><span class="op" id="1699362">.</span><span class="ident" id="1699363">Pointer</span><span class="op" id="1699370">)</span>&nbsp;<span class="ident" id="1699372">unsafe</span><span class="op" id="1699378">.</span><span class="ident" id="1699379">Pointer</span>&nbsp;<span class="op" id="1699387">{</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="ident" id="1699390">x</span>&nbsp;<span class="op" id="1699392">:=</span>&nbsp;<span class="builtintype" id="1699395">uintptr</span><span class="op" id="1699402">(</span><span class="ident" id="1699403">p</span><span class="op" id="1699404">)</span><br>
<span class="lineno"></span>&nbsp;&nbsp;&nbsp;&nbsp<span class="keyword" id="1699407">return</span>&nbsp;<span class="ident" id="1699414">unsafe</span><span class="op" id="1699420">.</span><span class="ident" id="1699421">Pointer</span><span class="op" id="1699428">(</span><span class="ident" id="1699429">x</span>&nbsp;<span class="op" id="1699431">^</span>&nbsp;<span class="num" id="1699433">0</span><span class="op" id="1699434">)</span><br>
<span class="lineno">160</span><span class="op" id="1699436">}</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699439">func</span>&nbsp;<span class="ident" id="1699444">entersyscall</span><span class="op" id="1699456">(</span><span class="op" id="1699457">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699459">func</span>&nbsp;<span class="ident" id="1699464">reentersyscall</span><span class="op" id="1699478">(</span><span class="ident" id="1699479">pc</span>&nbsp;<span class="builtintype" id="1699482">uintptr</span><span class="op" id="1699489">,</span>&nbsp;<span class="ident" id="1699491">sp</span>&nbsp;<span class="ident" id="1699494">unsafe</span><span class="op" id="1699500">.</span><span class="ident" id="1699501">Pointer</span><span class="op" id="1699508">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699510">func</span>&nbsp;<span class="ident" id="1699515">entersyscallblock</span><span class="op" id="1699532">(</span><span class="op" id="1699533">)</span><br>
<span class="lineno">165</span><span class="keyword" id="1699535">func</span>&nbsp;<span class="ident" id="1699540">exitsyscall</span><span class="op" id="1699551">(</span><span class="op" id="1699552">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1699555">func</span>&nbsp;<span class="ident" id="1699560">cgocallback</span><span class="op" id="1699571">(</span><span class="ident" id="1699572">fn</span><span class="op" id="1699574">,</span>&nbsp;<span class="ident" id="1699576">frame</span>&nbsp;<span class="ident" id="1699582">unsafe</span><span class="op" id="1699588">.</span><span class="ident" id="1699589">Pointer</span><span class="op" id="1699596">,</span>&nbsp;<span class="ident" id="1699598">framesize</span>&nbsp;<span class="builtintype" id="1699608">uintptr</span><span class="op" id="1699615">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699617">func</span>&nbsp;<span class="ident" id="1699622">gogo</span><span class="op" id="1699626">(</span><span class="ident" id="1699627">buf</span>&nbsp;<span class="op" id="1699631">*</span><span class="ident" id="1699632">gobuf</span><span class="op" id="1699637">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699639">func</span>&nbsp;<span class="ident" id="1699644">gosave</span><span class="op" id="1699650">(</span><span class="ident" id="1699651">buf</span>&nbsp;<span class="op" id="1699655">*</span><span class="ident" id="1699656">gobuf</span><span class="op" id="1699661">)</span><br>
<span class="lineno">170</span><span class="keyword" id="1699663">func</span>&nbsp;<span class="ident" id="1699668">read</span><span class="op" id="1699672">(</span><span class="ident" id="1699673">fd</span>&nbsp;<span class="builtintype" id="1699676">int32</span><span class="op" id="1699681">,</span>&nbsp;<span class="ident" id="1699683">p</span>&nbsp;<span class="ident" id="1699685">unsafe</span><span class="op" id="1699691">.</span><span class="ident" id="1699692">Pointer</span><span class="op" id="1699699">,</span>&nbsp;<span class="ident" id="1699701">n</span>&nbsp;<span class="builtintype" id="1699703">int32</span><span class="op" id="1699708">)</span>&nbsp;<span class="builtintype" id="1699710">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1699716">func</span>&nbsp;<span class="builtinfunc" id="1699721">close</span><span class="op" id="1699726">(</span><span class="ident" id="1699727">fd</span>&nbsp;<span class="builtintype" id="1699730">int32</span><span class="op" id="1699735">)</span>&nbsp;<span class="builtintype" id="1699737">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1699743">func</span>&nbsp;<span class="ident" id="1699748">mincore</span><span class="op" id="1699755">(</span><span class="ident" id="1699756">addr</span>&nbsp;<span class="ident" id="1699761">unsafe</span><span class="op" id="1699767">.</span><span class="ident" id="1699768">Pointer</span><span class="op" id="1699775">,</span>&nbsp;<span class="ident" id="1699777">n</span>&nbsp;<span class="builtintype" id="1699779">uintptr</span><span class="op" id="1699786">,</span>&nbsp;<span class="ident" id="1699788">dst</span>&nbsp;<span class="op" id="1699792">*</span><span class="builtintype" id="1699793">byte</span><span class="op" id="1699797">)</span>&nbsp;<span class="builtintype" id="1699799">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1699806">//go:noescape</span><br>
<span class="lineno">175</span><span class="keyword" id="1699820">func</span>&nbsp;<span class="ident" id="1699825">jmpdefer</span><span class="op" id="1699833">(</span><span class="ident" id="1699834">fv</span>&nbsp;<span class="op" id="1699837">*</span><span class="ident" id="1699838">funcval</span><span class="op" id="1699845">,</span>&nbsp;<span class="ident" id="1699847">argp</span>&nbsp;<span class="builtintype" id="1699852">uintptr</span><span class="op" id="1699859">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699861">func</span>&nbsp;<span class="ident" id="1699866">exit1</span><span class="op" id="1699871">(</span><span class="ident" id="1699872">code</span>&nbsp;<span class="builtintype" id="1699877">int32</span><span class="op" id="1699882">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699884">func</span>&nbsp;<span class="ident" id="1699889">asminit</span><span class="op" id="1699896">(</span><span class="op" id="1699897">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699899">func</span>&nbsp;<span class="ident" id="1699904">setg</span><span class="op" id="1699908">(</span><span class="ident" id="1699909">gg</span>&nbsp;<span class="op" id="1699912">*</span><span class="ident" id="1699913">g</span><span class="op" id="1699914">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699916">func</span>&nbsp;<span class="ident" id="1699921">exit</span><span class="op" id="1699925">(</span><span class="ident" id="1699926">code</span>&nbsp;<span class="builtintype" id="1699931">int32</span><span class="op" id="1699936">)</span><br>
<span class="lineno">180</span><span class="keyword" id="1699938">func</span>&nbsp;<span class="ident" id="1699943">breakpoint</span><span class="op" id="1699953">(</span><span class="op" id="1699954">)</span><br>
<span class="lineno"></span><span class="keyword" id="1699956">func</span>&nbsp;<span class="ident" id="1699961">nanotime</span><span class="op" id="1699969">(</span><span class="op" id="1699970">)</span>&nbsp;<span class="ident" id="1699972">int64</span><br>
<span class="lineno"></span><span class="keyword" id="1699978">func</span>&nbsp;<span class="ident" id="1699983">usleep</span><span class="op" id="1699989">(</span><span class="ident" id="1699990">usec</span>&nbsp;<span class="builtintype" id="1699995">uint32</span><span class="op" id="1700001">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700004">//&nbsp;careful:&nbsp;cputicks&nbsp;is&nbsp;not&nbsp;guaranteed&nbsp;to&nbsp;be&nbsp;monotonic!&nbsp;&nbsp;In&nbsp;particular,&nbsp;we&nbsp;have</span><br>
<span class="lineno">185</span><span class="comment" id="1700084">//&nbsp;noticed&nbsp;drift&nbsp;between&nbsp;cpus&nbsp;on&nbsp;certain&nbsp;os/arch&nbsp;combinations.&nbsp;&nbsp;See&nbsp;issue&nbsp;8976.</span><br>
<span class="lineno"></span><span class="keyword" id="1700164">func</span>&nbsp;<span class="ident" id="1700169">cputicks</span><span class="op" id="1700177">(</span><span class="op" id="1700178">)</span>&nbsp;<span class="ident" id="1700180">int64</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1700187">func</span>&nbsp;<span class="ident" id="1700192">mmap</span><span class="op" id="1700196">(</span><span class="ident" id="1700197">addr</span>&nbsp;<span class="ident" id="1700202">unsafe</span><span class="op" id="1700208">.</span><span class="ident" id="1700209">Pointer</span><span class="op" id="1700216">,</span>&nbsp;<span class="ident" id="1700218">n</span>&nbsp;<span class="builtintype" id="1700220">uintptr</span><span class="op" id="1700227">,</span>&nbsp;<span class="ident" id="1700229">prot</span><span class="op" id="1700233">,</span>&nbsp;<span class="ident" id="1700235">flags</span><span class="op" id="1700240">,</span>&nbsp;<span class="ident" id="1700242">fd</span>&nbsp;<span class="builtintype" id="1700245">int32</span><span class="op" id="1700250">,</span>&nbsp;<span class="ident" id="1700252">off</span>&nbsp;<span class="builtintype" id="1700256">uint32</span><span class="op" id="1700262">)</span>&nbsp;<span class="ident" id="1700264">unsafe</span><span class="op" id="1700270">.</span><span class="ident" id="1700271">Pointer</span><br>
<span class="lineno"></span><span class="keyword" id="1700279">func</span>&nbsp;<span class="ident" id="1700284">munmap</span><span class="op" id="1700290">(</span><span class="ident" id="1700291">addr</span>&nbsp;<span class="ident" id="1700296">unsafe</span><span class="op" id="1700302">.</span><span class="ident" id="1700303">Pointer</span><span class="op" id="1700310">,</span>&nbsp;<span class="ident" id="1700312">n</span>&nbsp;<span class="builtintype" id="1700314">uintptr</span><span class="op" id="1700321">)</span><br>
<span class="lineno">190</span><span class="keyword" id="1700323">func</span>&nbsp;<span class="ident" id="1700328">madvise</span><span class="op" id="1700335">(</span><span class="ident" id="1700336">addr</span>&nbsp;<span class="ident" id="1700341">unsafe</span><span class="op" id="1700347">.</span><span class="ident" id="1700348">Pointer</span><span class="op" id="1700355">,</span>&nbsp;<span class="ident" id="1700357">n</span>&nbsp;<span class="builtintype" id="1700359">uintptr</span><span class="op" id="1700366">,</span>&nbsp;<span class="ident" id="1700368">flags</span>&nbsp;<span class="builtintype" id="1700374">int32</span><span class="op" id="1700379">)</span><br>
<span class="lineno"></span><span class="keyword" id="1700381">func</span>&nbsp;<span class="ident" id="1700386">reflectcall</span><span class="op" id="1700397">(</span><span class="ident" id="1700398">fn</span><span class="op" id="1700400">,</span>&nbsp;<span class="ident" id="1700402">arg</span>&nbsp;<span class="ident" id="1700406">unsafe</span><span class="op" id="1700412">.</span><span class="ident" id="1700413">Pointer</span><span class="op" id="1700420">,</span>&nbsp;<span class="ident" id="1700422">n</span>&nbsp;<span class="builtintype" id="1700424">uint32</span><span class="op" id="1700430">,</span>&nbsp;<span class="ident" id="1700432">retoffset</span>&nbsp;<span class="builtintype" id="1700442">uint32</span><span class="op" id="1700448">)</span><br>
<span class="lineno"></span><span class="keyword" id="1700450">func</span>&nbsp;<span class="ident" id="1700455">osyield</span><span class="op" id="1700462">(</span><span class="op" id="1700463">)</span><br>
<span class="lineno"></span><span class="keyword" id="1700465">func</span>&nbsp;<span class="ident" id="1700470">procyield</span><span class="op" id="1700479">(</span><span class="ident" id="1700480">cycles</span>&nbsp;<span class="builtintype" id="1700487">uint32</span><span class="op" id="1700493">)</span><br>
<span class="lineno"></span><span class="keyword" id="1700495">func</span>&nbsp;<span class="ident" id="1700500">cgocallback_gofunc</span><span class="op" id="1700518">(</span><span class="ident" id="1700519">fv</span>&nbsp;<span class="op" id="1700522">*</span><span class="ident" id="1700523">funcval</span><span class="op" id="1700530">,</span>&nbsp;<span class="ident" id="1700532">frame</span>&nbsp;<span class="ident" id="1700538">unsafe</span><span class="op" id="1700544">.</span><span class="ident" id="1700545">Pointer</span><span class="op" id="1700552">,</span>&nbsp;<span class="ident" id="1700554">framesize</span>&nbsp;<span class="builtintype" id="1700564">uintptr</span><span class="op" id="1700571">)</span><br>
<span class="lineno">195</span><span class="keyword" id="1700573">func</span>&nbsp;<span class="ident" id="1700578">readgogc</span><span class="op" id="1700586">(</span><span class="op" id="1700587">)</span>&nbsp;<span class="builtintype" id="1700589">int32</span><br>
<span class="lineno"></span><span class="keyword" id="1700595">func</span>&nbsp;<span class="ident" id="1700600">purgecachedstats</span><span class="op" id="1700616">(</span><span class="ident" id="1700617">c</span>&nbsp;<span class="op" id="1700619">*</span><span class="ident" id="1700620">mcache</span><span class="op" id="1700626">)</span><br>
<span class="lineno"></span><span class="keyword" id="1700628">func</span>&nbsp;<span class="ident" id="1700633">gostringnocopy</span><span class="op" id="1700647">(</span><span class="ident" id="1700648">b</span>&nbsp;<span class="op" id="1700650">*</span><span class="builtintype" id="1700651">byte</span><span class="op" id="1700655">)</span>&nbsp;<span class="builtintype" id="1700657">string</span><br>
<span class="lineno"></span><span class="keyword" id="1700664">func</span>&nbsp;<span class="ident" id="1700669">goexit</span><span class="op" id="1700675">(</span><span class="op" id="1700676">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">200</span><span class="comment" id="1700679">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1700693">func</span>&nbsp;<span class="ident" id="1700698">write</span><span class="op" id="1700703">(</span><span class="ident" id="1700704">fd</span>&nbsp;<span class="builtintype" id="1700707">uintptr</span><span class="op" id="1700714">,</span>&nbsp;<span class="ident" id="1700716">p</span>&nbsp;<span class="ident" id="1700718">unsafe</span><span class="op" id="1700724">.</span><span class="ident" id="1700725">Pointer</span><span class="op" id="1700732">,</span>&nbsp;<span class="ident" id="1700734">n</span>&nbsp;<span class="builtintype" id="1700736">int32</span><span class="op" id="1700741">)</span>&nbsp;<span class="builtintype" id="1700743">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700750">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1700764">func</span>&nbsp;<span class="ident" id="1700769">cas</span><span class="op" id="1700772">(</span><span class="ident" id="1700773">ptr</span>&nbsp;<span class="op" id="1700777">*</span><span class="builtintype" id="1700778">uint32</span><span class="op" id="1700784">,</span>&nbsp;<span class="ident" id="1700786">old</span><span class="op" id="1700789">,</span>&nbsp;<span class="builtinfunc" id="1700791">new</span>&nbsp;<span class="builtintype" id="1700795">uint32</span><span class="op" id="1700801">)</span>&nbsp;<span class="builtintype" id="1700803">bool</span><br>
<span class="lineno">205</span><br>
<span class="lineno"></span><span class="comment" id="1700809">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1700823">func</span>&nbsp;<span class="ident" id="1700828">casp</span><span class="op" id="1700832">(</span><span class="ident" id="1700833">ptr</span>&nbsp;<span class="op" id="1700837">*</span><span class="ident" id="1700838">unsafe</span><span class="op" id="1700844">.</span><span class="ident" id="1700845">Pointer</span><span class="op" id="1700852">,</span>&nbsp;<span class="ident" id="1700854">old</span><span class="op" id="1700857">,</span>&nbsp;<span class="builtinfunc" id="1700859">new</span>&nbsp;<span class="ident" id="1700863">unsafe</span><span class="op" id="1700869">.</span><span class="ident" id="1700870">Pointer</span><span class="op" id="1700877">)</span>&nbsp;<span class="builtintype" id="1700879">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700885">//go:noescape</span><br>
<span class="lineno">210</span><span class="keyword" id="1700899">func</span>&nbsp;<span class="ident" id="1700904">casuintptr</span><span class="op" id="1700914">(</span><span class="ident" id="1700915">ptr</span>&nbsp;<span class="op" id="1700919">*</span><span class="builtintype" id="1700920">uintptr</span><span class="op" id="1700927">,</span>&nbsp;<span class="ident" id="1700929">old</span><span class="op" id="1700932">,</span>&nbsp;<span class="builtinfunc" id="1700934">new</span>&nbsp;<span class="builtintype" id="1700938">uintptr</span><span class="op" id="1700945">)</span>&nbsp;<span class="builtintype" id="1700947">bool</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1700953">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1700967">func</span>&nbsp;<span class="ident" id="1700972">atomicstoreuintptr</span><span class="op" id="1700990">(</span><span class="ident" id="1700991">ptr</span>&nbsp;<span class="op" id="1700995">*</span><span class="builtintype" id="1700996">uintptr</span><span class="op" id="1701003">,</span>&nbsp;<span class="builtinfunc" id="1701005">new</span>&nbsp;<span class="builtintype" id="1701009">uintptr</span><span class="op" id="1701016">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">215</span><span class="comment" id="1701019">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1701033">func</span>&nbsp;<span class="ident" id="1701038">atomicloaduintptr</span><span class="op" id="1701055">(</span><span class="ident" id="1701056">ptr</span>&nbsp;<span class="op" id="1701060">*</span><span class="builtintype" id="1701061">uintptr</span><span class="op" id="1701068">)</span>&nbsp;<span class="builtintype" id="1701070">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1701079">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1701093">func</span>&nbsp;<span class="ident" id="1701098">atomicloaduint</span><span class="op" id="1701112">(</span><span class="ident" id="1701113">ptr</span>&nbsp;<span class="op" id="1701117">*</span><span class="builtintype" id="1701118">uint</span><span class="op" id="1701122">)</span>&nbsp;<span class="builtintype" id="1701124">uint</span><br>
<span class="lineno">220</span><br>
<span class="lineno"></span><span class="comment" id="1701130">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1701144">func</span>&nbsp;<span class="ident" id="1701149">setcallerpc</span><span class="op" id="1701160">(</span><span class="ident" id="1701161">argp</span>&nbsp;<span class="ident" id="1701166">unsafe</span><span class="op" id="1701172">.</span><span class="ident" id="1701173">Pointer</span><span class="op" id="1701180">,</span>&nbsp;<span class="ident" id="1701182">pc</span>&nbsp;<span class="builtintype" id="1701185">uintptr</span><span class="op" id="1701192">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1701195">//&nbsp;getcallerpc&nbsp;returns&nbsp;the&nbsp;program&nbsp;counter&nbsp;(PC)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno">225</span><span class="comment" id="1701267">//&nbsp;getcallersp&nbsp;returns&nbsp;the&nbsp;stack&nbsp;pointer&nbsp;(SP)&nbsp;of&nbsp;its&nbsp;caller&#39;s&nbsp;caller.</span><br>
<span class="lineno"></span><span class="comment" id="1701337">//&nbsp;For&nbsp;both,&nbsp;the&nbsp;argp&nbsp;must&nbsp;be&nbsp;a&nbsp;pointer&nbsp;to&nbsp;the&nbsp;caller&#39;s&nbsp;first&nbsp;function&nbsp;argument.</span><br>
<span class="lineno"></span><span class="comment" id="1701418">//&nbsp;The&nbsp;implementation&nbsp;may&nbsp;or&nbsp;may&nbsp;not&nbsp;use&nbsp;argp,&nbsp;depending&nbsp;on</span><br>
<span class="lineno"></span><span class="comment" id="1701478">//&nbsp;the&nbsp;architecture.</span><br>
<span class="lineno"></span><span class="comment" id="1701499">//</span><br>
<span class="lineno">230</span><span class="comment" id="1701502">//&nbsp;For&nbsp;example:</span><br>
<span class="lineno"></span><span class="comment" id="1701518">//</span><br>
<span class="lineno"></span><span class="comment" id="1701521">//&nbsp;&nbsp;&nbsp;&nbspfunc&nbsp;f(arg1,&nbsp;arg2,&nbsp;arg3&nbsp;int)&nbsp;{</span><br>
<span class="lineno"></span><span class="comment" id="1701555">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbsppc&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg1))</span><br>
<span class="lineno"></span><span class="comment" id="1701600">//&nbsp;&nbsp;&nbsp;&nbsp&nbsp;&nbsp;&nbsp;&nbspsp&nbsp;:=&nbsp;getcallerpc(unsafe.Pointer(&amp;arg2))</span><br>
<span class="lineno">235</span><span class="comment" id="1701645">//&nbsp;&nbsp;&nbsp;&nbsp}</span><br>
<span class="lineno"></span><span class="comment" id="1701650">//</span><br>
<span class="lineno"></span><span class="comment" id="1701653">//&nbsp;These&nbsp;two&nbsp;lines&nbsp;find&nbsp;the&nbsp;PC&nbsp;and&nbsp;SP&nbsp;immediately&nbsp;following</span><br>
<span class="lineno"></span><span class="comment" id="1701713">//&nbsp;the&nbsp;call&nbsp;to&nbsp;f&nbsp;(where&nbsp;f&nbsp;will&nbsp;return).</span><br>
<span class="lineno"></span><span class="comment" id="1701753">//</span><br>
<span class="lineno">240</span><span class="comment" id="1701756">//&nbsp;The&nbsp;call&nbsp;to&nbsp;getcallerpc&nbsp;and&nbsp;getcallersp&nbsp;must&nbsp;be&nbsp;done&nbsp;in&nbsp;the</span><br>
<span class="lineno"></span><span class="comment" id="1701819">//&nbsp;frame&nbsp;being&nbsp;asked&nbsp;about.&nbsp;It&nbsp;would&nbsp;not&nbsp;be&nbsp;correct&nbsp;for&nbsp;f&nbsp;to&nbsp;pass&nbsp;&amp;arg1</span><br>
<span class="lineno"></span><span class="comment" id="1701891">//&nbsp;to&nbsp;another&nbsp;function&nbsp;g&nbsp;and&nbsp;let&nbsp;g&nbsp;call&nbsp;getcallerpc/getcallersp.</span><br>
<span class="lineno"></span><span class="comment" id="1701956">//&nbsp;The&nbsp;call&nbsp;inside&nbsp;g&nbsp;might&nbsp;return&nbsp;information&nbsp;about&nbsp;g&#39;s&nbsp;caller&nbsp;or</span><br>
<span class="lineno"></span><span class="comment" id="1702022">//&nbsp;information&nbsp;about&nbsp;f&#39;s&nbsp;caller&nbsp;or&nbsp;complete&nbsp;garbage.</span><br>
<span class="lineno">245</span><span class="comment" id="1702075">//</span><br>
<span class="lineno"></span><span class="comment" id="1702078">//&nbsp;The&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;is&nbsp;correct&nbsp;at&nbsp;the&nbsp;time&nbsp;of&nbsp;the&nbsp;return,</span><br>
<span class="lineno"></span><span class="comment" id="1702145">//&nbsp;but&nbsp;it&nbsp;may&nbsp;be&nbsp;invalidated&nbsp;by&nbsp;any&nbsp;subsequent&nbsp;call&nbsp;to&nbsp;a&nbsp;function</span><br>
<span class="lineno"></span><span class="comment" id="1702211">//&nbsp;that&nbsp;might&nbsp;relocate&nbsp;the&nbsp;stack&nbsp;in&nbsp;order&nbsp;to&nbsp;grow&nbsp;or&nbsp;shrink&nbsp;it.</span><br>
<span class="lineno"></span><span class="comment" id="1702275">//&nbsp;A&nbsp;general&nbsp;rule&nbsp;is&nbsp;that&nbsp;the&nbsp;result&nbsp;of&nbsp;getcallersp&nbsp;should&nbsp;be&nbsp;used</span><br>
<span class="lineno">250</span><span class="comment" id="1702342">//&nbsp;immediately&nbsp;and&nbsp;can&nbsp;only&nbsp;be&nbsp;passed&nbsp;to&nbsp;nosplit&nbsp;functions.</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702403">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1702417">func</span>&nbsp;<span class="ident" id="1702422">getcallerpc</span><span class="op" id="1702433">(</span><span class="ident" id="1702434">argp</span>&nbsp;<span class="ident" id="1702439">unsafe</span><span class="op" id="1702445">.</span><span class="ident" id="1702446">Pointer</span><span class="op" id="1702453">)</span>&nbsp;<span class="builtintype" id="1702455">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno">255</span><span class="comment" id="1702464">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1702478">func</span>&nbsp;<span class="ident" id="1702483">getcallersp</span><span class="op" id="1702494">(</span><span class="ident" id="1702495">argp</span>&nbsp;<span class="ident" id="1702500">unsafe</span><span class="op" id="1702506">.</span><span class="ident" id="1702507">Pointer</span><span class="op" id="1702514">)</span>&nbsp;<span class="builtintype" id="1702516">uintptr</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702525">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1702539">func</span>&nbsp;<span class="ident" id="1702544">asmcgocall</span><span class="op" id="1702554">(</span><span class="ident" id="1702555">fn</span><span class="op" id="1702557">,</span>&nbsp;<span class="ident" id="1702559">arg</span>&nbsp;<span class="ident" id="1702563">unsafe</span><span class="op" id="1702569">.</span><span class="ident" id="1702570">Pointer</span><span class="op" id="1702577">)</span><br>
<span class="lineno">260</span><br>
<span class="lineno"></span><span class="comment" id="1702580">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1702594">func</span>&nbsp;<span class="ident" id="1702599">asmcgocall_errno</span><span class="op" id="1702615">(</span><span class="ident" id="1702616">fn</span><span class="op" id="1702618">,</span>&nbsp;<span class="ident" id="1702620">arg</span>&nbsp;<span class="ident" id="1702624">unsafe</span><span class="op" id="1702630">.</span><span class="ident" id="1702631">Pointer</span><span class="op" id="1702638">)</span>&nbsp;<span class="builtintype" id="1702640">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702647">//go:noescape</span><br>
<span class="lineno">265</span><span class="keyword" id="1702661">func</span>&nbsp;<span class="ident" id="1702666">open</span><span class="op" id="1702670">(</span><span class="ident" id="1702671">name</span>&nbsp;<span class="op" id="1702676">*</span><span class="builtintype" id="1702677">byte</span><span class="op" id="1702681">,</span>&nbsp;<span class="ident" id="1702683">mode</span><span class="op" id="1702687">,</span>&nbsp;<span class="ident" id="1702689">perm</span>&nbsp;<span class="builtintype" id="1702694">int32</span><span class="op" id="1702699">)</span>&nbsp;<span class="builtintype" id="1702701">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702708">//go:noescape</span><br>
<span class="lineno"></span><span class="keyword" id="1702722">func</span>&nbsp;<span class="ident" id="1702727">gotraceback</span><span class="op" id="1702738">(</span><span class="op" id="1702739">*</span><span class="builtintype" id="1702740">bool</span><span class="op" id="1702744">)</span>&nbsp;<span class="builtintype" id="1702746">int32</span><br>
<span class="lineno"></span><br>
<span class="lineno">270</span><span class="keyword" id="1702753">const</span>&nbsp;<span class="ident" id="1702759">_NoArgs</span>&nbsp;<span class="op" id="1702767">=</span>&nbsp;<span class="op" id="1702769">^</span><span class="builtintype" id="1702770">uintptr</span><span class="op" id="1702777">(</span><span class="num" id="1702778">0</span><span class="op" id="1702779">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="keyword" id="1702782">func</span>&nbsp;<span class="ident" id="1702787">newstack</span><span class="op" id="1702795">(</span><span class="op" id="1702796">)</span><br>
<span class="lineno"></span><span class="keyword" id="1702798">func</span>&nbsp;<span class="ident" id="1702803">newproc</span><span class="op" id="1702810">(</span><span class="op" id="1702811">)</span><br>
<span class="lineno"></span><span class="keyword" id="1702813">func</span>&nbsp;<span class="ident" id="1702818">morestack</span><span class="op" id="1702827">(</span><span class="op" id="1702828">)</span><br>
<span class="lineno">275</span><span class="keyword" id="1702830">func</span>&nbsp;<span class="ident" id="1702835">mstart</span><span class="op" id="1702841">(</span><span class="op" id="1702842">)</span><br>
<span class="lineno"></span><span class="keyword" id="1702844">func</span>&nbsp;<span class="ident" id="1702849">rt0_go</span><span class="op" id="1702855">(</span><span class="op" id="1702856">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1702859">//&nbsp;return0&nbsp;is&nbsp;a&nbsp;stub&nbsp;used&nbsp;to&nbsp;return&nbsp;0&nbsp;from&nbsp;deferproc.</span><br>
<span class="lineno"></span><span class="comment" id="1702913">//&nbsp;It&nbsp;is&nbsp;called&nbsp;at&nbsp;the&nbsp;very&nbsp;end&nbsp;of&nbsp;deferproc&nbsp;to&nbsp;signal</span><br>
<span class="lineno">280</span><span class="comment" id="1702968">//&nbsp;the&nbsp;calling&nbsp;Go&nbsp;function&nbsp;that&nbsp;it&nbsp;should&nbsp;not&nbsp;jump</span><br>
<span class="lineno"></span><span class="comment" id="1703019">//&nbsp;to&nbsp;deferreturn.</span><br>
<span class="lineno"></span><span class="comment" id="1703038">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="keyword" id="1703052">func</span>&nbsp;<span class="ident" id="1703057">return0</span><span class="op" id="1703064">(</span><span class="op" id="1703065">)</span><br>
<span class="lineno"></span><br>
<span class="lineno">285</span><span class="comment" id="1703068">//&nbsp;thunk&nbsp;to&nbsp;call&nbsp;time.now.</span><br>
<span class="lineno"></span><span class="keyword" id="1703095">func</span>&nbsp;<span class="ident" id="1703100">timenow</span><span class="op" id="1703107">(</span><span class="op" id="1703108">)</span>&nbsp;<span class="op" id="1703110">(</span><span class="ident" id="1703111">sec</span>&nbsp;<span class="ident" id="1703115">int64</span><span class="op" id="1703120">,</span>&nbsp;<span class="ident" id="1703122">nsec</span>&nbsp;<span class="builtintype" id="1703127">int32</span><span class="op" id="1703132">)</span><br>
<span class="lineno"></span><br>
<span class="lineno"></span><span class="comment" id="1703135">//&nbsp;in&nbsp;asm_*.s</span><br>
<span class="lineno"></span><span class="comment" id="1703149">//&nbsp;not&nbsp;called&nbsp;directly;&nbsp;definitions&nbsp;here&nbsp;supply&nbsp;type&nbsp;information&nbsp;for&nbsp;traceback.</span><br>
<span class="lineno">290</span><span class="keyword" id="1703229">func</span>&nbsp;<span class="ident" id="1703234">call16</span><span class="op" id="1703240">(</span><span class="ident" id="1703241">fn</span><span class="op" id="1703243">,</span>&nbsp;<span class="ident" id="1703245">arg</span>&nbsp;<span class="ident" id="1703249">unsafe</span><span class="op" id="1703255">.</span><span class="ident" id="1703256">Pointer</span><span class="op" id="1703263">,</span>&nbsp;<span class="ident" id="1703265">n</span><span class="op" id="1703266">,</span>&nbsp;<span class="ident" id="1703268">retoffset</span>&nbsp;<span class="builtintype" id="1703278">uint32</span><span class="op" id="1703284">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703286">func</span>&nbsp;<span class="ident" id="1703291">call32</span><span class="op" id="1703297">(</span><span class="ident" id="1703298">fn</span><span class="op" id="1703300">,</span>&nbsp;<span class="ident" id="1703302">arg</span>&nbsp;<span class="ident" id="1703306">unsafe</span><span class="op" id="1703312">.</span><span class="ident" id="1703313">Pointer</span><span class="op" id="1703320">,</span>&nbsp;<span class="ident" id="1703322">n</span><span class="op" id="1703323">,</span>&nbsp;<span class="ident" id="1703325">retoffset</span>&nbsp;<span class="builtintype" id="1703335">uint32</span><span class="op" id="1703341">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703343">func</span>&nbsp;<span class="ident" id="1703348">call64</span><span class="op" id="1703354">(</span><span class="ident" id="1703355">fn</span><span class="op" id="1703357">,</span>&nbsp;<span class="ident" id="1703359">arg</span>&nbsp;<span class="ident" id="1703363">unsafe</span><span class="op" id="1703369">.</span><span class="ident" id="1703370">Pointer</span><span class="op" id="1703377">,</span>&nbsp;<span class="ident" id="1703379">n</span><span class="op" id="1703380">,</span>&nbsp;<span class="ident" id="1703382">retoffset</span>&nbsp;<span class="builtintype" id="1703392">uint32</span><span class="op" id="1703398">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703400">func</span>&nbsp;<span class="ident" id="1703405">call128</span><span class="op" id="1703412">(</span><span class="ident" id="1703413">fn</span><span class="op" id="1703415">,</span>&nbsp;<span class="ident" id="1703417">arg</span>&nbsp;<span class="ident" id="1703421">unsafe</span><span class="op" id="1703427">.</span><span class="ident" id="1703428">Pointer</span><span class="op" id="1703435">,</span>&nbsp;<span class="ident" id="1703437">n</span><span class="op" id="1703438">,</span>&nbsp;<span class="ident" id="1703440">retoffset</span>&nbsp;<span class="builtintype" id="1703450">uint32</span><span class="op" id="1703456">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703458">func</span>&nbsp;<span class="ident" id="1703463">call256</span><span class="op" id="1703470">(</span><span class="ident" id="1703471">fn</span><span class="op" id="1703473">,</span>&nbsp;<span class="ident" id="1703475">arg</span>&nbsp;<span class="ident" id="1703479">unsafe</span><span class="op" id="1703485">.</span><span class="ident" id="1703486">Pointer</span><span class="op" id="1703493">,</span>&nbsp;<span class="ident" id="1703495">n</span><span class="op" id="1703496">,</span>&nbsp;<span class="ident" id="1703498">retoffset</span>&nbsp;<span class="builtintype" id="1703508">uint32</span><span class="op" id="1703514">)</span><br>
<span class="lineno">295</span><span class="keyword" id="1703516">func</span>&nbsp;<span class="ident" id="1703521">call512</span><span class="op" id="1703528">(</span><span class="ident" id="1703529">fn</span><span class="op" id="1703531">,</span>&nbsp;<span class="ident" id="1703533">arg</span>&nbsp;<span class="ident" id="1703537">unsafe</span><span class="op" id="1703543">.</span><span class="ident" id="1703544">Pointer</span><span class="op" id="1703551">,</span>&nbsp;<span class="ident" id="1703553">n</span><span class="op" id="1703554">,</span>&nbsp;<span class="ident" id="1703556">retoffset</span>&nbsp;<span class="builtintype" id="1703566">uint32</span><span class="op" id="1703572">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703574">func</span>&nbsp;<span class="ident" id="1703579">call1024</span><span class="op" id="1703587">(</span><span class="ident" id="1703588">fn</span><span class="op" id="1703590">,</span>&nbsp;<span class="ident" id="1703592">arg</span>&nbsp;<span class="ident" id="1703596">unsafe</span><span class="op" id="1703602">.</span><span class="ident" id="1703603">Pointer</span><span class="op" id="1703610">,</span>&nbsp;<span class="ident" id="1703612">n</span><span class="op" id="1703613">,</span>&nbsp;<span class="ident" id="1703615">retoffset</span>&nbsp;<span class="builtintype" id="1703625">uint32</span><span class="op" id="1703631">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703633">func</span>&nbsp;<span class="ident" id="1703638">call2048</span><span class="op" id="1703646">(</span><span class="ident" id="1703647">fn</span><span class="op" id="1703649">,</span>&nbsp;<span class="ident" id="1703651">arg</span>&nbsp;<span class="ident" id="1703655">unsafe</span><span class="op" id="1703661">.</span><span class="ident" id="1703662">Pointer</span><span class="op" id="1703669">,</span>&nbsp;<span class="ident" id="1703671">n</span><span class="op" id="1703672">,</span>&nbsp;<span class="ident" id="1703674">retoffset</span>&nbsp;<span class="builtintype" id="1703684">uint32</span><span class="op" id="1703690">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703692">func</span>&nbsp;<span class="ident" id="1703697">call4096</span><span class="op" id="1703705">(</span><span class="ident" id="1703706">fn</span><span class="op" id="1703708">,</span>&nbsp;<span class="ident" id="1703710">arg</span>&nbsp;<span class="ident" id="1703714">unsafe</span><span class="op" id="1703720">.</span><span class="ident" id="1703721">Pointer</span><span class="op" id="1703728">,</span>&nbsp;<span class="ident" id="1703730">n</span><span class="op" id="1703731">,</span>&nbsp;<span class="ident" id="1703733">retoffset</span>&nbsp;<span class="builtintype" id="1703743">uint32</span><span class="op" id="1703749">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703751">func</span>&nbsp;<span class="ident" id="1703756">call8192</span><span class="op" id="1703764">(</span><span class="ident" id="1703765">fn</span><span class="op" id="1703767">,</span>&nbsp;<span class="ident" id="1703769">arg</span>&nbsp;<span class="ident" id="1703773">unsafe</span><span class="op" id="1703779">.</span><span class="ident" id="1703780">Pointer</span><span class="op" id="1703787">,</span>&nbsp;<span class="ident" id="1703789">n</span><span class="op" id="1703790">,</span>&nbsp;<span class="ident" id="1703792">retoffset</span>&nbsp;<span class="builtintype" id="1703802">uint32</span><span class="op" id="1703808">)</span><br>
<span class="lineno">300</span><span class="keyword" id="1703810">func</span>&nbsp;<span class="ident" id="1703815">call16384</span><span class="op" id="1703824">(</span><span class="ident" id="1703825">fn</span><span class="op" id="1703827">,</span>&nbsp;<span class="ident" id="1703829">arg</span>&nbsp;<span class="ident" id="1703833">unsafe</span><span class="op" id="1703839">.</span><span class="ident" id="1703840">Pointer</span><span class="op" id="1703847">,</span>&nbsp;<span class="ident" id="1703849">n</span><span class="op" id="1703850">,</span>&nbsp;<span class="ident" id="1703852">retoffset</span>&nbsp;<span class="builtintype" id="1703862">uint32</span><span class="op" id="1703868">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703870">func</span>&nbsp;<span class="ident" id="1703875">call32768</span><span class="op" id="1703884">(</span><span class="ident" id="1703885">fn</span><span class="op" id="1703887">,</span>&nbsp;<span class="ident" id="1703889">arg</span>&nbsp;<span class="ident" id="1703893">unsafe</span><span class="op" id="1703899">.</span><span class="ident" id="1703900">Pointer</span><span class="op" id="1703907">,</span>&nbsp;<span class="ident" id="1703909">n</span><span class="op" id="1703910">,</span>&nbsp;<span class="ident" id="1703912">retoffset</span>&nbsp;<span class="builtintype" id="1703922">uint32</span><span class="op" id="1703928">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703930">func</span>&nbsp;<span class="ident" id="1703935">call65536</span><span class="op" id="1703944">(</span><span class="ident" id="1703945">fn</span><span class="op" id="1703947">,</span>&nbsp;<span class="ident" id="1703949">arg</span>&nbsp;<span class="ident" id="1703953">unsafe</span><span class="op" id="1703959">.</span><span class="ident" id="1703960">Pointer</span><span class="op" id="1703967">,</span>&nbsp;<span class="ident" id="1703969">n</span><span class="op" id="1703970">,</span>&nbsp;<span class="ident" id="1703972">retoffset</span>&nbsp;<span class="builtintype" id="1703982">uint32</span><span class="op" id="1703988">)</span><br>
<span class="lineno"></span><span class="keyword" id="1703990">func</span>&nbsp;<span class="ident" id="1703995">call131072</span><span class="op" id="1704005">(</span><span class="ident" id="1704006">fn</span><span class="op" id="1704008">,</span>&nbsp;<span class="ident" id="1704010">arg</span>&nbsp;<span class="ident" id="1704014">unsafe</span><span class="op" id="1704020">.</span><span class="ident" id="1704021">Pointer</span><span class="op" id="1704028">,</span>&nbsp;<span class="ident" id="1704030">n</span><span class="op" id="1704031">,</span>&nbsp;<span class="ident" id="1704033">retoffset</span>&nbsp;<span class="builtintype" id="1704043">uint32</span><span class="op" id="1704049">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704051">func</span>&nbsp;<span class="ident" id="1704056">call262144</span><span class="op" id="1704066">(</span><span class="ident" id="1704067">fn</span><span class="op" id="1704069">,</span>&nbsp;<span class="ident" id="1704071">arg</span>&nbsp;<span class="ident" id="1704075">unsafe</span><span class="op" id="1704081">.</span><span class="ident" id="1704082">Pointer</span><span class="op" id="1704089">,</span>&nbsp;<span class="ident" id="1704091">n</span><span class="op" id="1704092">,</span>&nbsp;<span class="ident" id="1704094">retoffset</span>&nbsp;<span class="builtintype" id="1704104">uint32</span><span class="op" id="1704110">)</span><br>
<span class="lineno">305</span><span class="keyword" id="1704112">func</span>&nbsp;<span class="ident" id="1704117">call524288</span><span class="op" id="1704127">(</span><span class="ident" id="1704128">fn</span><span class="op" id="1704130">,</span>&nbsp;<span class="ident" id="1704132">arg</span>&nbsp;<span class="ident" id="1704136">unsafe</span><span class="op" id="1704142">.</span><span class="ident" id="1704143">Pointer</span><span class="op" id="1704150">,</span>&nbsp;<span class="ident" id="1704152">n</span><span class="op" id="1704153">,</span>&nbsp;<span class="ident" id="1704155">retoffset</span>&nbsp;<span class="builtintype" id="1704165">uint32</span><span class="op" id="1704171">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704173">func</span>&nbsp;<span class="ident" id="1704178">call1048576</span><span class="op" id="1704189">(</span><span class="ident" id="1704190">fn</span><span class="op" id="1704192">,</span>&nbsp;<span class="ident" id="1704194">arg</span>&nbsp;<span class="ident" id="1704198">unsafe</span><span class="op" id="1704204">.</span><span class="ident" id="1704205">Pointer</span><span class="op" id="1704212">,</span>&nbsp;<span class="ident" id="1704214">n</span><span class="op" id="1704215">,</span>&nbsp;<span class="ident" id="1704217">retoffset</span>&nbsp;<span class="builtintype" id="1704227">uint32</span><span class="op" id="1704233">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704235">func</span>&nbsp;<span class="ident" id="1704240">call2097152</span><span class="op" id="1704251">(</span><span class="ident" id="1704252">fn</span><span class="op" id="1704254">,</span>&nbsp;<span class="ident" id="1704256">arg</span>&nbsp;<span class="ident" id="1704260">unsafe</span><span class="op" id="1704266">.</span><span class="ident" id="1704267">Pointer</span><span class="op" id="1704274">,</span>&nbsp;<span class="ident" id="1704276">n</span><span class="op" id="1704277">,</span>&nbsp;<span class="ident" id="1704279">retoffset</span>&nbsp;<span class="builtintype" id="1704289">uint32</span><span class="op" id="1704295">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704297">func</span>&nbsp;<span class="ident" id="1704302">call4194304</span><span class="op" id="1704313">(</span><span class="ident" id="1704314">fn</span><span class="op" id="1704316">,</span>&nbsp;<span class="ident" id="1704318">arg</span>&nbsp;<span class="ident" id="1704322">unsafe</span><span class="op" id="1704328">.</span><span class="ident" id="1704329">Pointer</span><span class="op" id="1704336">,</span>&nbsp;<span class="ident" id="1704338">n</span><span class="op" id="1704339">,</span>&nbsp;<span class="ident" id="1704341">retoffset</span>&nbsp;<span class="builtintype" id="1704351">uint32</span><span class="op" id="1704357">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704359">func</span>&nbsp;<span class="ident" id="1704364">call8388608</span><span class="op" id="1704375">(</span><span class="ident" id="1704376">fn</span><span class="op" id="1704378">,</span>&nbsp;<span class="ident" id="1704380">arg</span>&nbsp;<span class="ident" id="1704384">unsafe</span><span class="op" id="1704390">.</span><span class="ident" id="1704391">Pointer</span><span class="op" id="1704398">,</span>&nbsp;<span class="ident" id="1704400">n</span><span class="op" id="1704401">,</span>&nbsp;<span class="ident" id="1704403">retoffset</span>&nbsp;<span class="builtintype" id="1704413">uint32</span><span class="op" id="1704419">)</span><br>
<span class="lineno">310</span><span class="keyword" id="1704421">func</span>&nbsp;<span class="ident" id="1704426">call16777216</span><span class="op" id="1704438">(</span><span class="ident" id="1704439">fn</span><span class="op" id="1704441">,</span>&nbsp;<span class="ident" id="1704443">arg</span>&nbsp;<span class="ident" id="1704447">unsafe</span><span class="op" id="1704453">.</span><span class="ident" id="1704454">Pointer</span><span class="op" id="1704461">,</span>&nbsp;<span class="ident" id="1704463">n</span><span class="op" id="1704464">,</span>&nbsp;<span class="ident" id="1704466">retoffset</span>&nbsp;<span class="builtintype" id="1704476">uint32</span><span class="op" id="1704482">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704484">func</span>&nbsp;<span class="ident" id="1704489">call33554432</span><span class="op" id="1704501">(</span><span class="ident" id="1704502">fn</span><span class="op" id="1704504">,</span>&nbsp;<span class="ident" id="1704506">arg</span>&nbsp;<span class="ident" id="1704510">unsafe</span><span class="op" id="1704516">.</span><span class="ident" id="1704517">Pointer</span><span class="op" id="1704524">,</span>&nbsp;<span class="ident" id="1704526">n</span><span class="op" id="1704527">,</span>&nbsp;<span class="ident" id="1704529">retoffset</span>&nbsp;<span class="builtintype" id="1704539">uint32</span><span class="op" id="1704545">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704547">func</span>&nbsp;<span class="ident" id="1704552">call67108864</span><span class="op" id="1704564">(</span><span class="ident" id="1704565">fn</span><span class="op" id="1704567">,</span>&nbsp;<span class="ident" id="1704569">arg</span>&nbsp;<span class="ident" id="1704573">unsafe</span><span class="op" id="1704579">.</span><span class="ident" id="1704580">Pointer</span><span class="op" id="1704587">,</span>&nbsp;<span class="ident" id="1704589">n</span><span class="op" id="1704590">,</span>&nbsp;<span class="ident" id="1704592">retoffset</span>&nbsp;<span class="builtintype" id="1704602">uint32</span><span class="op" id="1704608">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704610">func</span>&nbsp;<span class="ident" id="1704615">call134217728</span><span class="op" id="1704628">(</span><span class="ident" id="1704629">fn</span><span class="op" id="1704631">,</span>&nbsp;<span class="ident" id="1704633">arg</span>&nbsp;<span class="ident" id="1704637">unsafe</span><span class="op" id="1704643">.</span><span class="ident" id="1704644">Pointer</span><span class="op" id="1704651">,</span>&nbsp;<span class="ident" id="1704653">n</span><span class="op" id="1704654">,</span>&nbsp;<span class="ident" id="1704656">retoffset</span>&nbsp;<span class="builtintype" id="1704666">uint32</span><span class="op" id="1704672">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704674">func</span>&nbsp;<span class="ident" id="1704679">call268435456</span><span class="op" id="1704692">(</span><span class="ident" id="1704693">fn</span><span class="op" id="1704695">,</span>&nbsp;<span class="ident" id="1704697">arg</span>&nbsp;<span class="ident" id="1704701">unsafe</span><span class="op" id="1704707">.</span><span class="ident" id="1704708">Pointer</span><span class="op" id="1704715">,</span>&nbsp;<span class="ident" id="1704717">n</span><span class="op" id="1704718">,</span>&nbsp;<span class="ident" id="1704720">retoffset</span>&nbsp;<span class="builtintype" id="1704730">uint32</span><span class="op" id="1704736">)</span><br>
<span class="lineno">315</span><span class="keyword" id="1704738">func</span>&nbsp;<span class="ident" id="1704743">call536870912</span><span class="op" id="1704756">(</span><span class="ident" id="1704757">fn</span><span class="op" id="1704759">,</span>&nbsp;<span class="ident" id="1704761">arg</span>&nbsp;<span class="ident" id="1704765">unsafe</span><span class="op" id="1704771">.</span><span class="ident" id="1704772">Pointer</span><span class="op" id="1704779">,</span>&nbsp;<span class="ident" id="1704781">n</span><span class="op" id="1704782">,</span>&nbsp;<span class="ident" id="1704784">retoffset</span>&nbsp;<span class="builtintype" id="1704794">uint32</span><span class="op" id="1704800">)</span><br>
<span class="lineno"></span><span class="keyword" id="1704802">func</span>&nbsp;<span class="ident" id="1704807">call1073741824</span><span class="op" id="1704821">(</span><span class="ident" id="1704822">fn</span><span class="op" id="1704824">,</span>&nbsp;<span class="ident" id="1704826">arg</span>&nbsp;<span class="ident" id="1704830">unsafe</span><span class="op" id="1704836">.</span><span class="ident" id="1704837">Pointer</span><span class="op" id="1704844">,</span>&nbsp;<span class="ident" id="1704846">n</span><span class="op" id="1704847">,</span>&nbsp;<span class="ident" id="1704849">retoffset</span>&nbsp;<span class="builtintype" id="1704859">uint32</span><span class="op" id="1704865">)</span>
</div>
</body>
</html>
